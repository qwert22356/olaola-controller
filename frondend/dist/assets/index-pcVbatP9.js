var Nve=Object.defineProperty;var Ave=(e,t,r)=>t in e?Nve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Tn=(e,t,r)=>Ave(e,typeof t!="symbol"?t+"":t,r);function jve(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var ya=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function t0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Rve(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var eJ={exports:{}},RN={},tJ={exports:{}},Lr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw=Symbol.for("react.element"),Ive=Symbol.for("react.portal"),Mve=Symbol.for("react.fragment"),Pve=Symbol.for("react.strict_mode"),Lve=Symbol.for("react.profiler"),Dve=Symbol.for("react.provider"),Ove=Symbol.for("react.context"),$ve=Symbol.for("react.forward_ref"),Bve=Symbol.for("react.suspense"),Fve=Symbol.for("react.memo"),zve=Symbol.for("react.lazy"),vz=Symbol.iterator;function Uve(e){return e===null||typeof e!="object"?null:(e=vz&&e[vz]||e["@@iterator"],typeof e=="function"?e:null)}var rJ={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nJ=Object.assign,iJ={};function r0(e,t,r){this.props=e,this.context=t,this.refs=iJ,this.updater=r||rJ}r0.prototype.isReactComponent={};r0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};r0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function aJ(){}aJ.prototype=r0.prototype;function z3(e,t,r){this.props=e,this.context=t,this.refs=iJ,this.updater=r||rJ}var U3=z3.prototype=new aJ;U3.constructor=z3;nJ(U3,r0.prototype);U3.isPureReactComponent=!0;var yz=Array.isArray,sJ=Object.prototype.hasOwnProperty,H3={current:null},oJ={key:!0,ref:!0,__self:!0,__source:!0};function lJ(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)sJ.call(t,n)&&!oJ.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Nw,type:e,key:a,ref:s,props:i,_owner:H3.current}}function Hve(e,t){return{$$typeof:Nw,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function V3(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nw}function Vve(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var xz=/\/+/g;function UA(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Vve(""+e.key):t.toString(36)}function fk(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Nw:case Ive:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+UA(s,0):n,yz(i)?(r="",e!=null&&(r=e.replace(xz,"$&/")+"/"),fk(i,t,r,"",function(c){return c})):i!=null&&(V3(i)&&(i=Hve(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(xz,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",yz(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+UA(a,o);s+=fk(a,t,r,l,i)}else if(l=Uve(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+UA(a,o++),s+=fk(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function nS(e,t,r){if(e==null)return e;var n=[],i=0;return fk(e,n,"","",function(a){return t.call(r,a,i++)}),n}function Wve(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xa={current:null},pk={transition:null},Gve={ReactCurrentDispatcher:Xa,ReactCurrentBatchConfig:pk,ReactCurrentOwner:H3};function cJ(){throw Error("act(...) is not supported in production builds of React.")}Lr.Children={map:nS,forEach:function(e,t,r){nS(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return nS(e,function(){t++}),t},toArray:function(e){return nS(e,function(t){return t})||[]},only:function(e){if(!V3(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Lr.Component=r0;Lr.Fragment=Mve;Lr.Profiler=Lve;Lr.PureComponent=z3;Lr.StrictMode=Pve;Lr.Suspense=Bve;Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gve;Lr.act=cJ;Lr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=nJ({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=H3.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)sJ.call(t,l)&&!oJ.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Nw,type:e.type,key:i,ref:a,props:n,_owner:s}};Lr.createContext=function(e){return e={$$typeof:Ove,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Dve,_context:e},e.Consumer=e};Lr.createElement=lJ;Lr.createFactory=function(e){var t=lJ.bind(null,e);return t.type=e,t};Lr.createRef=function(){return{current:null}};Lr.forwardRef=function(e){return{$$typeof:$ve,render:e}};Lr.isValidElement=V3;Lr.lazy=function(e){return{$$typeof:zve,_payload:{_status:-1,_result:e},_init:Wve}};Lr.memo=function(e,t){return{$$typeof:Fve,type:e,compare:t===void 0?null:t}};Lr.startTransition=function(e){var t=pk.transition;pk.transition={};try{e()}finally{pk.transition=t}};Lr.unstable_act=cJ;Lr.useCallback=function(e,t){return Xa.current.useCallback(e,t)};Lr.useContext=function(e){return Xa.current.useContext(e)};Lr.useDebugValue=function(){};Lr.useDeferredValue=function(e){return Xa.current.useDeferredValue(e)};Lr.useEffect=function(e,t){return Xa.current.useEffect(e,t)};Lr.useId=function(){return Xa.current.useId()};Lr.useImperativeHandle=function(e,t,r){return Xa.current.useImperativeHandle(e,t,r)};Lr.useInsertionEffect=function(e,t){return Xa.current.useInsertionEffect(e,t)};Lr.useLayoutEffect=function(e,t){return Xa.current.useLayoutEffect(e,t)};Lr.useMemo=function(e,t){return Xa.current.useMemo(e,t)};Lr.useReducer=function(e,t,r){return Xa.current.useReducer(e,t,r)};Lr.useRef=function(e){return Xa.current.useRef(e)};Lr.useState=function(e){return Xa.current.useState(e)};Lr.useSyncExternalStore=function(e,t,r){return Xa.current.useSyncExternalStore(e,t,r)};Lr.useTransition=function(){return Xa.current.useTransition()};Lr.version="18.3.1";tJ.exports=Lr;var A=tJ.exports;const en=t0(A),IN=jve({__proto__:null,default:en},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qve=A,Yve=Symbol.for("react.element"),Kve=Symbol.for("react.fragment"),Xve=Object.prototype.hasOwnProperty,Zve=qve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jve={key:!0,ref:!0,__self:!0,__source:!0};function uJ(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)Xve.call(t,n)&&!Jve.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Yve,type:e,key:a,ref:s,props:i,_owner:Zve.current}}RN.Fragment=Kve;RN.jsx=uJ;RN.jsxs=uJ;eJ.exports=RN;var d=eJ.exports,cE={},dJ={exports:{}},Gs={},hJ={exports:{}},fJ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,M){var R=j.length;j.push(M);e:for(;0<R;){var z=R-1>>>1,U=j[z];if(0<i(U,M))j[z]=M,j[R]=U,R=z;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var M=j[0],R=j.pop();if(R!==M){j[0]=R;e:for(var z=0,U=j.length,F=U>>>1;z<F;){var G=2*(z+1)-1,q=j[G],K=G+1,B=j[K];if(0>i(q,R))K<U&&0>i(B,q)?(j[z]=B,j[K]=R,z=K):(j[z]=q,j[G]=R,z=G);else if(K<U&&0>i(B,R))j[z]=B,j[K]=R,z=K;else break e}}return M}function i(j,M){var R=j.sortIndex-M.sortIndex;return R!==0?R:j.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,h=null,f=3,p=!1,g=!1,v=!1,m=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(j){for(var M=r(c);M!==null;){if(M.callback===null)n(c);else if(M.startTime<=j)n(c),M.sortIndex=M.expirationTime,t(l,M);else break;M=r(c)}}function b(j){if(v=!1,_(j),!g)if(r(l)!==null)g=!0,L(w);else{var M=r(c);M!==null&&O(b,M.startTime-j)}}function w(j,M){g=!1,v&&(v=!1,y(C),C=-1),p=!0;var R=f;try{for(_(M),h=r(l);h!==null&&(!(h.expirationTime>M)||j&&!N());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var U=z(h.expirationTime<=M);M=e.unstable_now(),typeof U=="function"?h.callback=U:h===r(l)&&n(l),_(M)}else n(l);h=r(l)}if(h!==null)var F=!0;else{var G=r(c);G!==null&&O(b,G.startTime-M),F=!1}return F}finally{h=null,f=R,p=!1}}var S=!1,k=null,C=-1,E=5,T=-1;function N(){return!(e.unstable_now()-T<E)}function I(){if(k!==null){var j=e.unstable_now();T=j;var M=!0;try{M=k(!0,j)}finally{M?P():(S=!1,k=null)}}else S=!1}var P;if(typeof x=="function")P=function(){x(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,$=D.port2;D.port1.onmessage=I,P=function(){$.postMessage(null)}}else P=function(){m(I,0)};function L(j){k=j,S||(S=!0,P())}function O(j,M){C=m(function(){j(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,L(w))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(j){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var R=f;f=M;try{return j()}finally{f=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,M){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var R=f;f=j;try{return M()}finally{f=R}},e.unstable_scheduleCallback=function(j,M,R){var z=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?z+R:z):R=z,j){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=R+U,j={id:u++,callback:M,priorityLevel:j,startTime:R,expirationTime:U,sortIndex:-1},R>z?(j.sortIndex=R,t(c,j),r(l)===null&&j===r(c)&&(v?(y(C),C=-1):v=!0,O(b,R-z))):(j.sortIndex=U,t(l,j),g||p||(g=!0,L(w))),j},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(j){var M=f;return function(){var R=f;f=M;try{return j.apply(this,arguments)}finally{f=R}}}})(fJ);hJ.exports=fJ;var Qve=hJ.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0e=A,Ws=Qve;function Ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pJ=new Set,W_={};function Yp(e,t){pv(e,t),pv(e+"Capture",t)}function pv(e,t){for(W_[e]=t,e=0;e<t.length;e++)pJ.add(t[e])}var yu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cP=Object.prototype.hasOwnProperty,t0e=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_z={},bz={};function r0e(e){return cP.call(bz,e)?!0:cP.call(_z,e)?!1:t0e.test(e)?bz[e]=!0:(_z[e]=!0,!1)}function n0e(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function i0e(e,t,r,n){if(t===null||typeof t>"u"||n0e(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Za(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var ea={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ea[e]=new Za(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ea[t]=new Za(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ea[e]=new Za(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ea[e]=new Za(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ea[e]=new Za(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ea[e]=new Za(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ea[e]=new Za(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ea[e]=new Za(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ea[e]=new Za(e,5,!1,e.toLowerCase(),null,!1,!1)});var W3=/[\-:]([a-z])/g;function G3(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(W3,G3);ea[t]=new Za(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(W3,G3);ea[t]=new Za(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(W3,G3);ea[t]=new Za(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ea[e]=new Za(e,1,!1,e.toLowerCase(),null,!1,!1)});ea.xlinkHref=new Za("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ea[e]=new Za(e,1,!1,e.toLowerCase(),null,!0,!0)});function q3(e,t,r,n){var i=ea.hasOwnProperty(t)?ea[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(i0e(t,r,i,n)&&(r=null),n||i===null?r0e(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Bu=e0e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,iS=Symbol.for("react.element"),xm=Symbol.for("react.portal"),_m=Symbol.for("react.fragment"),Y3=Symbol.for("react.strict_mode"),uP=Symbol.for("react.profiler"),gJ=Symbol.for("react.provider"),mJ=Symbol.for("react.context"),K3=Symbol.for("react.forward_ref"),dP=Symbol.for("react.suspense"),hP=Symbol.for("react.suspense_list"),X3=Symbol.for("react.memo"),vd=Symbol.for("react.lazy"),vJ=Symbol.for("react.offscreen"),wz=Symbol.iterator;function by(e){return e===null||typeof e!="object"?null:(e=wz&&e[wz]||e["@@iterator"],typeof e=="function"?e:null)}var ri=Object.assign,HA;function Nx(e){if(HA===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);HA=t&&t[1]||""}return`
`+HA+e}var VA=!1;function WA(e,t){if(!e||VA)return"";VA=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{VA=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Nx(e):""}function a0e(e){switch(e.tag){case 5:return Nx(e.type);case 16:return Nx("Lazy");case 13:return Nx("Suspense");case 19:return Nx("SuspenseList");case 0:case 2:case 15:return e=WA(e.type,!1),e;case 11:return e=WA(e.type.render,!1),e;case 1:return e=WA(e.type,!0),e;default:return""}}function fP(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _m:return"Fragment";case xm:return"Portal";case uP:return"Profiler";case Y3:return"StrictMode";case dP:return"Suspense";case hP:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mJ:return(e.displayName||"Context")+".Consumer";case gJ:return(e._context.displayName||"Context")+".Provider";case K3:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X3:return t=e.displayName||null,t!==null?t:fP(e.type)||"Memo";case vd:t=e._payload,e=e._init;try{return fP(e(t))}catch{}}return null}function s0e(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fP(t);case 8:return t===Y3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function lh(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yJ(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function o0e(e){var t=yJ(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function aS(e){e._valueTracker||(e._valueTracker=o0e(e))}function xJ(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=yJ(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function uE(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pP(e,t){var r=t.checked;return ri({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Sz(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=lh(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _J(e,t){t=t.checked,t!=null&&q3(e,"checked",t,!1)}function gP(e,t){_J(e,t);var r=lh(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?mP(e,t.type,r):t.hasOwnProperty("defaultValue")&&mP(e,t.type,lh(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cz(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function mP(e,t,r){(t!=="number"||uE(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ax=Array.isArray;function Vm(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+lh(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function vP(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ve(91));return ri({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kz(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ve(92));if(Ax(r)){if(1<r.length)throw Error(Ve(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:lh(r)}}function bJ(e,t){var r=lh(t.value),n=lh(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ez(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wJ(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yP(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wJ(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var sS,SJ=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(sS=sS||document.createElement("div"),sS.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=sS.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function G_(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var s_={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},l0e=["Webkit","ms","Moz","O"];Object.keys(s_).forEach(function(e){l0e.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),s_[t]=s_[e]})});function CJ(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||s_.hasOwnProperty(e)&&s_[e]?(""+t).trim():t+"px"}function kJ(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=CJ(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var c0e=ri({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xP(e,t){if(t){if(c0e[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ve(62))}}function _P(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bP=null;function Z3(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wP=null,Wm=null,Gm=null;function Tz(e){if(e=Rw(e)){if(typeof wP!="function")throw Error(Ve(280));var t=e.stateNode;t&&(t=ON(t),wP(e.stateNode,e.type,t))}}function EJ(e){Wm?Gm?Gm.push(e):Gm=[e]:Wm=e}function TJ(){if(Wm){var e=Wm,t=Gm;if(Gm=Wm=null,Tz(e),t)for(e=0;e<t.length;e++)Tz(t[e])}}function NJ(e,t){return e(t)}function AJ(){}var GA=!1;function jJ(e,t,r){if(GA)return e(t,r);GA=!0;try{return NJ(e,t,r)}finally{GA=!1,(Wm!==null||Gm!==null)&&(AJ(),TJ())}}function q_(e,t){var r=e.stateNode;if(r===null)return null;var n=ON(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ve(231,t,typeof r));return r}var SP=!1;if(yu)try{var wy={};Object.defineProperty(wy,"passive",{get:function(){SP=!0}}),window.addEventListener("test",wy,wy),window.removeEventListener("test",wy,wy)}catch{SP=!1}function u0e(e,t,r,n,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var o_=!1,dE=null,hE=!1,CP=null,d0e={onError:function(e){o_=!0,dE=e}};function h0e(e,t,r,n,i,a,s,o,l){o_=!1,dE=null,u0e.apply(d0e,arguments)}function f0e(e,t,r,n,i,a,s,o,l){if(h0e.apply(this,arguments),o_){if(o_){var c=dE;o_=!1,dE=null}else throw Error(Ve(198));hE||(hE=!0,CP=c)}}function Kp(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function RJ(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nz(e){if(Kp(e)!==e)throw Error(Ve(188))}function p0e(e){var t=e.alternate;if(!t){if(t=Kp(e),t===null)throw Error(Ve(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Nz(i),e;if(a===n)return Nz(i),t;a=a.sibling}throw Error(Ve(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(Ve(189))}}if(r.alternate!==n)throw Error(Ve(190))}if(r.tag!==3)throw Error(Ve(188));return r.stateNode.current===r?e:t}function IJ(e){return e=p0e(e),e!==null?MJ(e):null}function MJ(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=MJ(e);if(t!==null)return t;e=e.sibling}return null}var PJ=Ws.unstable_scheduleCallback,Az=Ws.unstable_cancelCallback,g0e=Ws.unstable_shouldYield,m0e=Ws.unstable_requestPaint,ui=Ws.unstable_now,v0e=Ws.unstable_getCurrentPriorityLevel,J3=Ws.unstable_ImmediatePriority,LJ=Ws.unstable_UserBlockingPriority,fE=Ws.unstable_NormalPriority,y0e=Ws.unstable_LowPriority,DJ=Ws.unstable_IdlePriority,MN=null,oc=null;function x0e(e){if(oc&&typeof oc.onCommitFiberRoot=="function")try{oc.onCommitFiberRoot(MN,e,void 0,(e.current.flags&128)===128)}catch{}}var sl=Math.clz32?Math.clz32:w0e,_0e=Math.log,b0e=Math.LN2;function w0e(e){return e>>>=0,e===0?32:31-(_0e(e)/b0e|0)|0}var oS=64,lS=4194304;function jx(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pE(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=jx(o):(a&=s,a!==0&&(n=jx(a)))}else s=r&~i,s!==0?n=jx(s):a!==0&&(n=jx(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-sl(t),i=1<<r,n|=e[r],t&=~i;return n}function S0e(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C0e(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-sl(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=S0e(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function kP(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function OJ(){var e=oS;return oS<<=1,!(oS&4194240)&&(oS=64),e}function qA(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Aw(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sl(t),e[t]=r}function k0e(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-sl(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Q3(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-sl(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var xn=0;function $J(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var BJ,e5,FJ,zJ,UJ,EP=!1,cS=[],Vd=null,Wd=null,Gd=null,Y_=new Map,K_=new Map,Sd=[],E0e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jz(e,t){switch(e){case"focusin":case"focusout":Vd=null;break;case"dragenter":case"dragleave":Wd=null;break;case"mouseover":case"mouseout":Gd=null;break;case"pointerover":case"pointerout":Y_.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":K_.delete(t.pointerId)}}function Sy(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Rw(t),t!==null&&e5(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function T0e(e,t,r,n,i){switch(t){case"focusin":return Vd=Sy(Vd,e,t,r,n,i),!0;case"dragenter":return Wd=Sy(Wd,e,t,r,n,i),!0;case"mouseover":return Gd=Sy(Gd,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Y_.set(a,Sy(Y_.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,K_.set(a,Sy(K_.get(a)||null,e,t,r,n,i)),!0}return!1}function HJ(e){var t=Ff(e.target);if(t!==null){var r=Kp(t);if(r!==null){if(t=r.tag,t===13){if(t=RJ(r),t!==null){e.blockedOn=t,UJ(e.priority,function(){FJ(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gk(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=TP(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);bP=n,r.target.dispatchEvent(n),bP=null}else return t=Rw(r),t!==null&&e5(t),e.blockedOn=r,!1;t.shift()}return!0}function Rz(e,t,r){gk(e)&&r.delete(t)}function N0e(){EP=!1,Vd!==null&&gk(Vd)&&(Vd=null),Wd!==null&&gk(Wd)&&(Wd=null),Gd!==null&&gk(Gd)&&(Gd=null),Y_.forEach(Rz),K_.forEach(Rz)}function Cy(e,t){e.blockedOn===t&&(e.blockedOn=null,EP||(EP=!0,Ws.unstable_scheduleCallback(Ws.unstable_NormalPriority,N0e)))}function X_(e){function t(i){return Cy(i,e)}if(0<cS.length){Cy(cS[0],e);for(var r=1;r<cS.length;r++){var n=cS[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Vd!==null&&Cy(Vd,e),Wd!==null&&Cy(Wd,e),Gd!==null&&Cy(Gd,e),Y_.forEach(t),K_.forEach(t),r=0;r<Sd.length;r++)n=Sd[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Sd.length&&(r=Sd[0],r.blockedOn===null);)HJ(r),r.blockedOn===null&&Sd.shift()}var qm=Bu.ReactCurrentBatchConfig,gE=!0;function A0e(e,t,r,n){var i=xn,a=qm.transition;qm.transition=null;try{xn=1,t5(e,t,r,n)}finally{xn=i,qm.transition=a}}function j0e(e,t,r,n){var i=xn,a=qm.transition;qm.transition=null;try{xn=4,t5(e,t,r,n)}finally{xn=i,qm.transition=a}}function t5(e,t,r,n){if(gE){var i=TP(e,t,r,n);if(i===null)nj(e,t,n,mE,r),jz(e,n);else if(T0e(i,e,t,r,n))n.stopPropagation();else if(jz(e,n),t&4&&-1<E0e.indexOf(e)){for(;i!==null;){var a=Rw(i);if(a!==null&&BJ(a),a=TP(e,t,r,n),a===null&&nj(e,t,n,mE,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else nj(e,t,n,null,r)}}var mE=null;function TP(e,t,r,n){if(mE=null,e=Z3(n),e=Ff(e),e!==null)if(t=Kp(e),t===null)e=null;else if(r=t.tag,r===13){if(e=RJ(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mE=e,null}function VJ(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v0e()){case J3:return 1;case LJ:return 4;case fE:case y0e:return 16;case DJ:return 536870912;default:return 16}default:return 16}}var Ad=null,r5=null,mk=null;function WJ(){if(mk)return mk;var e,t=r5,r=t.length,n,i="value"in Ad?Ad.value:Ad.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return mk=i.slice(e,1<n?1-n:void 0)}function vk(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function uS(){return!0}function Iz(){return!1}function qs(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?uS:Iz,this.isPropagationStopped=Iz,this}return ri(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=uS)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=uS)},persist:function(){},isPersistent:uS}),t}var n0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n5=qs(n0),jw=ri({},n0,{view:0,detail:0}),R0e=qs(jw),YA,KA,ky,PN=ri({},jw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i5,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ky&&(ky&&e.type==="mousemove"?(YA=e.screenX-ky.screenX,KA=e.screenY-ky.screenY):KA=YA=0,ky=e),YA)},movementY:function(e){return"movementY"in e?e.movementY:KA}}),Mz=qs(PN),I0e=ri({},PN,{dataTransfer:0}),M0e=qs(I0e),P0e=ri({},jw,{relatedTarget:0}),XA=qs(P0e),L0e=ri({},n0,{animationName:0,elapsedTime:0,pseudoElement:0}),D0e=qs(L0e),O0e=ri({},n0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$0e=qs(O0e),B0e=ri({},n0,{data:0}),Pz=qs(B0e),F0e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z0e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U0e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H0e(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=U0e[e])?!!t[e]:!1}function i5(){return H0e}var V0e=ri({},jw,{key:function(e){if(e.key){var t=F0e[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vk(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?z0e[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i5,charCode:function(e){return e.type==="keypress"?vk(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vk(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),W0e=qs(V0e),G0e=ri({},PN,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lz=qs(G0e),q0e=ri({},jw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i5}),Y0e=qs(q0e),K0e=ri({},n0,{propertyName:0,elapsedTime:0,pseudoElement:0}),X0e=qs(K0e),Z0e=ri({},PN,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),J0e=qs(Z0e),Q0e=[9,13,27,32],a5=yu&&"CompositionEvent"in window,l_=null;yu&&"documentMode"in document&&(l_=document.documentMode);var eye=yu&&"TextEvent"in window&&!l_,GJ=yu&&(!a5||l_&&8<l_&&11>=l_),Dz=" ",Oz=!1;function qJ(e,t){switch(e){case"keyup":return Q0e.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YJ(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bm=!1;function tye(e,t){switch(e){case"compositionend":return YJ(t);case"keypress":return t.which!==32?null:(Oz=!0,Dz);case"textInput":return e=t.data,e===Dz&&Oz?null:e;default:return null}}function rye(e,t){if(bm)return e==="compositionend"||!a5&&qJ(e,t)?(e=WJ(),mk=r5=Ad=null,bm=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return GJ&&t.locale!=="ko"?null:t.data;default:return null}}var nye={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $z(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nye[e.type]:t==="textarea"}function KJ(e,t,r,n){EJ(n),t=vE(t,"onChange"),0<t.length&&(r=new n5("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var c_=null,Z_=null;function iye(e){sQ(e,0)}function LN(e){var t=Cm(e);if(xJ(t))return e}function aye(e,t){if(e==="change")return t}var XJ=!1;if(yu){var ZA;if(yu){var JA="oninput"in document;if(!JA){var Bz=document.createElement("div");Bz.setAttribute("oninput","return;"),JA=typeof Bz.oninput=="function"}ZA=JA}else ZA=!1;XJ=ZA&&(!document.documentMode||9<document.documentMode)}function Fz(){c_&&(c_.detachEvent("onpropertychange",ZJ),Z_=c_=null)}function ZJ(e){if(e.propertyName==="value"&&LN(Z_)){var t=[];KJ(t,Z_,e,Z3(e)),jJ(iye,t)}}function sye(e,t,r){e==="focusin"?(Fz(),c_=t,Z_=r,c_.attachEvent("onpropertychange",ZJ)):e==="focusout"&&Fz()}function oye(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return LN(Z_)}function lye(e,t){if(e==="click")return LN(t)}function cye(e,t){if(e==="input"||e==="change")return LN(t)}function uye(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fl=typeof Object.is=="function"?Object.is:uye;function J_(e,t){if(fl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!cP.call(t,i)||!fl(e[i],t[i]))return!1}return!0}function zz(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uz(e,t){var r=zz(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=zz(r)}}function JJ(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?JJ(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function QJ(){for(var e=window,t=uE();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=uE(e.document)}return t}function s5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dye(e){var t=QJ(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&JJ(r.ownerDocument.documentElement,r)){if(n!==null&&s5(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=Uz(r,a);var s=Uz(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hye=yu&&"documentMode"in document&&11>=document.documentMode,wm=null,NP=null,u_=null,AP=!1;function Hz(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;AP||wm==null||wm!==uE(n)||(n=wm,"selectionStart"in n&&s5(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),u_&&J_(u_,n)||(u_=n,n=vE(NP,"onSelect"),0<n.length&&(t=new n5("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=wm)))}function dS(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Sm={animationend:dS("Animation","AnimationEnd"),animationiteration:dS("Animation","AnimationIteration"),animationstart:dS("Animation","AnimationStart"),transitionend:dS("Transition","TransitionEnd")},QA={},eQ={};yu&&(eQ=document.createElement("div").style,"AnimationEvent"in window||(delete Sm.animationend.animation,delete Sm.animationiteration.animation,delete Sm.animationstart.animation),"TransitionEvent"in window||delete Sm.transitionend.transition);function DN(e){if(QA[e])return QA[e];if(!Sm[e])return e;var t=Sm[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in eQ)return QA[e]=t[r];return e}var tQ=DN("animationend"),rQ=DN("animationiteration"),nQ=DN("animationstart"),iQ=DN("transitionend"),aQ=new Map,Vz="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ah(e,t){aQ.set(e,t),Yp(t,[e])}for(var ej=0;ej<Vz.length;ej++){var tj=Vz[ej],fye=tj.toLowerCase(),pye=tj[0].toUpperCase()+tj.slice(1);Ah(fye,"on"+pye)}Ah(tQ,"onAnimationEnd");Ah(rQ,"onAnimationIteration");Ah(nQ,"onAnimationStart");Ah("dblclick","onDoubleClick");Ah("focusin","onFocus");Ah("focusout","onBlur");Ah(iQ,"onTransitionEnd");pv("onMouseEnter",["mouseout","mouseover"]);pv("onMouseLeave",["mouseout","mouseover"]);pv("onPointerEnter",["pointerout","pointerover"]);pv("onPointerLeave",["pointerout","pointerover"]);Yp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yp("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gye=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rx));function Wz(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,f0e(n,t,void 0,e),e.currentTarget=null}function sQ(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Wz(i,o,c),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Wz(i,o,c),a=l}}}if(hE)throw e=CP,hE=!1,CP=null,e}function Hn(e,t){var r=t[PP];r===void 0&&(r=t[PP]=new Set);var n=e+"__bubble";r.has(n)||(oQ(t,e,2,!1),r.add(n))}function rj(e,t,r){var n=0;t&&(n|=4),oQ(r,e,n,t)}var hS="_reactListening"+Math.random().toString(36).slice(2);function Q_(e){if(!e[hS]){e[hS]=!0,pJ.forEach(function(r){r!=="selectionchange"&&(gye.has(r)||rj(r,!1,e),rj(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hS]||(t[hS]=!0,rj("selectionchange",!1,t))}}function oQ(e,t,r,n){switch(VJ(t)){case 1:var i=A0e;break;case 4:i=j0e;break;default:i=t5}r=i.bind(null,t,r,e),i=void 0,!SP||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function nj(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Ff(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}jJ(function(){var c=a,u=Z3(r),h=[];e:{var f=aQ.get(e);if(f!==void 0){var p=n5,g=e;switch(e){case"keypress":if(vk(r)===0)break e;case"keydown":case"keyup":p=W0e;break;case"focusin":g="focus",p=XA;break;case"focusout":g="blur",p=XA;break;case"beforeblur":case"afterblur":p=XA;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Mz;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=M0e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Y0e;break;case tQ:case rQ:case nQ:p=D0e;break;case iQ:p=X0e;break;case"scroll":p=R0e;break;case"wheel":p=J0e;break;case"copy":case"cut":case"paste":p=$0e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Lz}var v=(t&4)!==0,m=!v&&e==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var x=c,_;x!==null;){_=x;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,y!==null&&(b=q_(x,y),b!=null&&v.push(eb(x,b,_)))),m)break;x=x.return}0<v.length&&(f=new p(f,g,null,r,u),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==bP&&(g=r.relatedTarget||r.fromElement)&&(Ff(g)||g[xu]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?Ff(g):null,g!==null&&(m=Kp(g),g!==m||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(v=Mz,b="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=Lz,b="onPointerLeave",y="onPointerEnter",x="pointer"),m=p==null?f:Cm(p),_=g==null?f:Cm(g),f=new v(b,x+"leave",p,r,u),f.target=m,f.relatedTarget=_,b=null,Ff(u)===c&&(v=new v(y,x+"enter",g,r,u),v.target=_,v.relatedTarget=m,b=v),m=b,p&&g)t:{for(v=p,y=g,x=0,_=v;_;_=Sg(_))x++;for(_=0,b=y;b;b=Sg(b))_++;for(;0<x-_;)v=Sg(v),x--;for(;0<_-x;)y=Sg(y),_--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=Sg(v),y=Sg(y)}v=null}else v=null;p!==null&&Gz(h,f,p,v,!1),g!==null&&m!==null&&Gz(h,m,g,v,!0)}}e:{if(f=c?Cm(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var w=aye;else if($z(f))if(XJ)w=cye;else{w=oye;var S=sye}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=lye);if(w&&(w=w(e,c))){KJ(h,w,r,u);break e}S&&S(e,f,c),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&mP(f,"number",f.value)}switch(S=c?Cm(c):window,e){case"focusin":($z(S)||S.contentEditable==="true")&&(wm=S,NP=c,u_=null);break;case"focusout":u_=NP=wm=null;break;case"mousedown":AP=!0;break;case"contextmenu":case"mouseup":case"dragend":AP=!1,Hz(h,r,u);break;case"selectionchange":if(hye)break;case"keydown":case"keyup":Hz(h,r,u)}var k;if(a5)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else bm?qJ(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(GJ&&r.locale!=="ko"&&(bm||C!=="onCompositionStart"?C==="onCompositionEnd"&&bm&&(k=WJ()):(Ad=u,r5="value"in Ad?Ad.value:Ad.textContent,bm=!0)),S=vE(c,C),0<S.length&&(C=new Pz(C,e,null,r,u),h.push({event:C,listeners:S}),k?C.data=k:(k=YJ(r),k!==null&&(C.data=k)))),(k=eye?tye(e,r):rye(e,r))&&(c=vE(c,"onBeforeInput"),0<c.length&&(u=new Pz("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=k))}sQ(h,t)})}function eb(e,t,r){return{instance:e,listener:t,currentTarget:r}}function vE(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=q_(e,r),a!=null&&n.unshift(eb(e,a,i)),a=q_(e,t),a!=null&&n.push(eb(e,a,i))),e=e.return}return n}function Sg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gz(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=q_(r,a),l!=null&&s.unshift(eb(r,l,o))):i||(l=q_(r,a),l!=null&&s.push(eb(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var mye=/\r\n?/g,vye=/\u0000|\uFFFD/g;function qz(e){return(typeof e=="string"?e:""+e).replace(mye,`
`).replace(vye,"")}function fS(e,t,r){if(t=qz(t),qz(e)!==t&&r)throw Error(Ve(425))}function yE(){}var jP=null,RP=null;function IP(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var MP=typeof setTimeout=="function"?setTimeout:void 0,yye=typeof clearTimeout=="function"?clearTimeout:void 0,Yz=typeof Promise=="function"?Promise:void 0,xye=typeof queueMicrotask=="function"?queueMicrotask:typeof Yz<"u"?function(e){return Yz.resolve(null).then(e).catch(_ye)}:MP;function _ye(e){setTimeout(function(){throw e})}function ij(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),X_(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);X_(t)}function qd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Kz(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var i0=Math.random().toString(36).slice(2),Kl="__reactFiber$"+i0,tb="__reactProps$"+i0,xu="__reactContainer$"+i0,PP="__reactEvents$"+i0,bye="__reactListeners$"+i0,wye="__reactHandles$"+i0;function Ff(e){var t=e[Kl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[xu]||r[Kl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Kz(e);e!==null;){if(r=e[Kl])return r;e=Kz(e)}return t}e=r,r=e.parentNode}return null}function Rw(e){return e=e[Kl]||e[xu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cm(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ve(33))}function ON(e){return e[tb]||null}var LP=[],km=-1;function jh(e){return{current:e}}function Vn(e){0>km||(e.current=LP[km],LP[km]=null,km--)}function $n(e,t){km++,LP[km]=e.current,e.current=t}var ch={},xa=jh(ch),ms=jh(!1),_p=ch;function gv(e,t){var r=e.type.contextTypes;if(!r)return ch;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function vs(e){return e=e.childContextTypes,e!=null}function xE(){Vn(ms),Vn(xa)}function Xz(e,t,r){if(xa.current!==ch)throw Error(Ve(168));$n(xa,t),$n(ms,r)}function lQ(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Ve(108,s0e(e)||"Unknown",i));return ri({},r,n)}function _E(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ch,_p=xa.current,$n(xa,e),$n(ms,ms.current),!0}function Zz(e,t,r){var n=e.stateNode;if(!n)throw Error(Ve(169));r?(e=lQ(e,t,_p),n.__reactInternalMemoizedMergedChildContext=e,Vn(ms),Vn(xa),$n(xa,e)):Vn(ms),$n(ms,r)}var Jc=null,$N=!1,aj=!1;function cQ(e){Jc===null?Jc=[e]:Jc.push(e)}function Sye(e){$N=!0,cQ(e)}function Rh(){if(!aj&&Jc!==null){aj=!0;var e=0,t=xn;try{var r=Jc;for(xn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Jc=null,$N=!1}catch(i){throw Jc!==null&&(Jc=Jc.slice(e+1)),PJ(J3,Rh),i}finally{xn=t,aj=!1}}return null}var Em=[],Tm=0,bE=null,wE=0,po=[],go=0,bp=null,ru=1,nu="";function wf(e,t){Em[Tm++]=wE,Em[Tm++]=bE,bE=e,wE=t}function uQ(e,t,r){po[go++]=ru,po[go++]=nu,po[go++]=bp,bp=e;var n=ru;e=nu;var i=32-sl(n)-1;n&=~(1<<i),r+=1;var a=32-sl(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,ru=1<<32-sl(t)+i|r<<i|n,nu=a+e}else ru=1<<a|r<<i|n,nu=e}function o5(e){e.return!==null&&(wf(e,1),uQ(e,1,0))}function l5(e){for(;e===bE;)bE=Em[--Tm],Em[Tm]=null,wE=Em[--Tm],Em[Tm]=null;for(;e===bp;)bp=po[--go],po[go]=null,nu=po[--go],po[go]=null,ru=po[--go],po[go]=null}var Ds=null,Ps=null,Yn=!1,Jo=null;function dQ(e,t){var r=Co(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Jz(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ds=e,Ps=qd(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ds=e,Ps=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=bp!==null?{id:ru,overflow:nu}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Co(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ds=e,Ps=null,!0):!1;default:return!1}}function DP(e){return(e.mode&1)!==0&&(e.flags&128)===0}function OP(e){if(Yn){var t=Ps;if(t){var r=t;if(!Jz(e,t)){if(DP(e))throw Error(Ve(418));t=qd(r.nextSibling);var n=Ds;t&&Jz(e,t)?dQ(n,r):(e.flags=e.flags&-4097|2,Yn=!1,Ds=e)}}else{if(DP(e))throw Error(Ve(418));e.flags=e.flags&-4097|2,Yn=!1,Ds=e}}}function Qz(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ds=e}function pS(e){if(e!==Ds)return!1;if(!Yn)return Qz(e),Yn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!IP(e.type,e.memoizedProps)),t&&(t=Ps)){if(DP(e))throw hQ(),Error(Ve(418));for(;t;)dQ(e,t),t=qd(t.nextSibling)}if(Qz(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ps=qd(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ps=null}}else Ps=Ds?qd(e.stateNode.nextSibling):null;return!0}function hQ(){for(var e=Ps;e;)e=qd(e.nextSibling)}function mv(){Ps=Ds=null,Yn=!1}function c5(e){Jo===null?Jo=[e]:Jo.push(e)}var Cye=Bu.ReactCurrentBatchConfig;function Ey(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ve(309));var n=r.stateNode}if(!n)throw Error(Ve(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ve(284));if(!r._owner)throw Error(Ve(290,e))}return e}function gS(e,t){throw e=Object.prototype.toString.call(t),Error(Ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function e8(e){var t=e._init;return t(e._payload)}function fQ(e){function t(y,x){if(e){var _=y.deletions;_===null?(y.deletions=[x],y.flags|=16):_.push(x)}}function r(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Zd(y,x),y.index=0,y.sibling=null,y}function a(y,x,_){return y.index=_,e?(_=y.alternate,_!==null?(_=_.index,_<x?(y.flags|=2,x):_):(y.flags|=2,x)):(y.flags|=1048576,x)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,x,_,b){return x===null||x.tag!==6?(x=hj(_,y.mode,b),x.return=y,x):(x=i(x,_),x.return=y,x)}function l(y,x,_,b){var w=_.type;return w===_m?u(y,x,_.props.children,b,_.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===vd&&e8(w)===x.type)?(b=i(x,_.props),b.ref=Ey(y,x,_),b.return=y,b):(b=Ck(_.type,_.key,_.props,null,y.mode,b),b.ref=Ey(y,x,_),b.return=y,b)}function c(y,x,_,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=fj(_,y.mode,b),x.return=y,x):(x=i(x,_.children||[]),x.return=y,x)}function u(y,x,_,b,w){return x===null||x.tag!==7?(x=ip(_,y.mode,b,w),x.return=y,x):(x=i(x,_),x.return=y,x)}function h(y,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=hj(""+x,y.mode,_),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case iS:return _=Ck(x.type,x.key,x.props,null,y.mode,_),_.ref=Ey(y,null,x),_.return=y,_;case xm:return x=fj(x,y.mode,_),x.return=y,x;case vd:var b=x._init;return h(y,b(x._payload),_)}if(Ax(x)||by(x))return x=ip(x,y.mode,_,null),x.return=y,x;gS(y,x)}return null}function f(y,x,_,b){var w=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return w!==null?null:o(y,x,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case iS:return _.key===w?l(y,x,_,b):null;case xm:return _.key===w?c(y,x,_,b):null;case vd:return w=_._init,f(y,x,w(_._payload),b)}if(Ax(_)||by(_))return w!==null?null:u(y,x,_,b,null);gS(y,_)}return null}function p(y,x,_,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(_)||null,o(x,y,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case iS:return y=y.get(b.key===null?_:b.key)||null,l(x,y,b,w);case xm:return y=y.get(b.key===null?_:b.key)||null,c(x,y,b,w);case vd:var S=b._init;return p(y,x,_,S(b._payload),w)}if(Ax(b)||by(b))return y=y.get(_)||null,u(x,y,b,w,null);gS(x,b)}return null}function g(y,x,_,b){for(var w=null,S=null,k=x,C=x=0,E=null;k!==null&&C<_.length;C++){k.index>C?(E=k,k=null):E=k.sibling;var T=f(y,k,_[C],b);if(T===null){k===null&&(k=E);break}e&&k&&T.alternate===null&&t(y,k),x=a(T,x,C),S===null?w=T:S.sibling=T,S=T,k=E}if(C===_.length)return r(y,k),Yn&&wf(y,C),w;if(k===null){for(;C<_.length;C++)k=h(y,_[C],b),k!==null&&(x=a(k,x,C),S===null?w=k:S.sibling=k,S=k);return Yn&&wf(y,C),w}for(k=n(y,k);C<_.length;C++)E=p(k,y,C,_[C],b),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?C:E.key),x=a(E,x,C),S===null?w=E:S.sibling=E,S=E);return e&&k.forEach(function(N){return t(y,N)}),Yn&&wf(y,C),w}function v(y,x,_,b){var w=by(_);if(typeof w!="function")throw Error(Ve(150));if(_=w.call(_),_==null)throw Error(Ve(151));for(var S=w=null,k=x,C=x=0,E=null,T=_.next();k!==null&&!T.done;C++,T=_.next()){k.index>C?(E=k,k=null):E=k.sibling;var N=f(y,k,T.value,b);if(N===null){k===null&&(k=E);break}e&&k&&N.alternate===null&&t(y,k),x=a(N,x,C),S===null?w=N:S.sibling=N,S=N,k=E}if(T.done)return r(y,k),Yn&&wf(y,C),w;if(k===null){for(;!T.done;C++,T=_.next())T=h(y,T.value,b),T!==null&&(x=a(T,x,C),S===null?w=T:S.sibling=T,S=T);return Yn&&wf(y,C),w}for(k=n(y,k);!T.done;C++,T=_.next())T=p(k,y,C,T.value,b),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?C:T.key),x=a(T,x,C),S===null?w=T:S.sibling=T,S=T);return e&&k.forEach(function(I){return t(y,I)}),Yn&&wf(y,C),w}function m(y,x,_,b){if(typeof _=="object"&&_!==null&&_.type===_m&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case iS:e:{for(var w=_.key,S=x;S!==null;){if(S.key===w){if(w=_.type,w===_m){if(S.tag===7){r(y,S.sibling),x=i(S,_.props.children),x.return=y,y=x;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===vd&&e8(w)===S.type){r(y,S.sibling),x=i(S,_.props),x.ref=Ey(y,S,_),x.return=y,y=x;break e}r(y,S);break}else t(y,S);S=S.sibling}_.type===_m?(x=ip(_.props.children,y.mode,b,_.key),x.return=y,y=x):(b=Ck(_.type,_.key,_.props,null,y.mode,b),b.ref=Ey(y,x,_),b.return=y,y=b)}return s(y);case xm:e:{for(S=_.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){r(y,x.sibling),x=i(x,_.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else t(y,x);x=x.sibling}x=fj(_,y.mode,b),x.return=y,y=x}return s(y);case vd:return S=_._init,m(y,x,S(_._payload),b)}if(Ax(_))return g(y,x,_,b);if(by(_))return v(y,x,_,b);gS(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(r(y,x.sibling),x=i(x,_),x.return=y,y=x):(r(y,x),x=hj(_,y.mode,b),x.return=y,y=x),s(y)):r(y,x)}return m}var vv=fQ(!0),pQ=fQ(!1),SE=jh(null),CE=null,Nm=null,u5=null;function d5(){u5=Nm=CE=null}function h5(e){var t=SE.current;Vn(SE),e._currentValue=t}function $P(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ym(e,t){CE=e,u5=Nm=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(fs=!0),e.firstContext=null)}function Ro(e){var t=e._currentValue;if(u5!==e)if(e={context:e,memoizedValue:t,next:null},Nm===null){if(CE===null)throw Error(Ve(308));Nm=e,CE.dependencies={lanes:0,firstContext:e}}else Nm=Nm.next=e;return t}var zf=null;function f5(e){zf===null?zf=[e]:zf.push(e)}function gQ(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,f5(t)):(r.next=i.next,i.next=r),t.interleaved=r,_u(e,n)}function _u(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var yd=!1;function p5(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mQ(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function du(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yd(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,tn&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,_u(e,r)}return i=n.interleaved,i===null?(t.next=t,f5(n)):(t.next=i.next,i.next=t),n.interleaved=t,_u(e,r)}function yk(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Q3(e,r)}}function t8(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function kE(e,t,r,n){var i=e.updateQueue;yd=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var h=i.baseState;s=0,u=c=l=null,o=a;do{var f=o.lane,p=o.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,v=o;switch(f=t,p=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=ri({},h,f);break e;case 2:yd=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,s|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Sp|=s,e.lanes=s,e.memoizedState=h}}function r8(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ve(191,i));i.call(n)}}}var Iw={},lc=jh(Iw),rb=jh(Iw),nb=jh(Iw);function Uf(e){if(e===Iw)throw Error(Ve(174));return e}function g5(e,t){switch($n(nb,t),$n(rb,e),$n(lc,Iw),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yP(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yP(t,e)}Vn(lc),$n(lc,t)}function yv(){Vn(lc),Vn(rb),Vn(nb)}function vQ(e){Uf(nb.current);var t=Uf(lc.current),r=yP(t,e.type);t!==r&&($n(rb,e),$n(lc,r))}function m5(e){rb.current===e&&(Vn(lc),Vn(rb))}var Qn=jh(0);function EE(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sj=[];function v5(){for(var e=0;e<sj.length;e++)sj[e]._workInProgressVersionPrimary=null;sj.length=0}var xk=Bu.ReactCurrentDispatcher,oj=Bu.ReactCurrentBatchConfig,wp=0,ti=null,Ei=null,Fi=null,TE=!1,d_=!1,ib=0,kye=0;function oa(){throw Error(Ve(321))}function y5(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!fl(e[r],t[r]))return!1;return!0}function x5(e,t,r,n,i,a){if(wp=a,ti=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xk.current=e===null||e.memoizedState===null?Aye:jye,e=r(n,i),d_){a=0;do{if(d_=!1,ib=0,25<=a)throw Error(Ve(301));a+=1,Fi=Ei=null,t.updateQueue=null,xk.current=Rye,e=r(n,i)}while(d_)}if(xk.current=NE,t=Ei!==null&&Ei.next!==null,wp=0,Fi=Ei=ti=null,TE=!1,t)throw Error(Ve(300));return e}function _5(){var e=ib!==0;return ib=0,e}function Wl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fi===null?ti.memoizedState=Fi=e:Fi=Fi.next=e,Fi}function Io(){if(Ei===null){var e=ti.alternate;e=e!==null?e.memoizedState:null}else e=Ei.next;var t=Fi===null?ti.memoizedState:Fi.next;if(t!==null)Fi=t,Ei=e;else{if(e===null)throw Error(Ve(310));Ei=e,e={memoizedState:Ei.memoizedState,baseState:Ei.baseState,baseQueue:Ei.baseQueue,queue:Ei.queue,next:null},Fi===null?ti.memoizedState=Fi=e:Fi=Fi.next=e}return Fi}function ab(e,t){return typeof t=="function"?t(e):t}function lj(e){var t=Io(),r=t.queue;if(r===null)throw Error(Ve(311));r.lastRenderedReducer=e;var n=Ei,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((wp&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,s=n):l=l.next=h,ti.lanes|=u,Sp|=u}c=c.next}while(c!==null&&c!==a);l===null?s=n:l.next=o,fl(n,t.memoizedState)||(fs=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,ti.lanes|=a,Sp|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function cj(e){var t=Io(),r=t.queue;if(r===null)throw Error(Ve(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);fl(a,t.memoizedState)||(fs=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function yQ(){}function xQ(e,t){var r=ti,n=Io(),i=t(),a=!fl(n.memoizedState,i);if(a&&(n.memoizedState=i,fs=!0),n=n.queue,b5(wQ.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Fi!==null&&Fi.memoizedState.tag&1){if(r.flags|=2048,sb(9,bQ.bind(null,r,n,i,t),void 0,null),Hi===null)throw Error(Ve(349));wp&30||_Q(r,t,i)}return i}function _Q(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ti.updateQueue,t===null?(t={lastEffect:null,stores:null},ti.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function bQ(e,t,r,n){t.value=r,t.getSnapshot=n,SQ(t)&&CQ(e)}function wQ(e,t,r){return r(function(){SQ(t)&&CQ(e)})}function SQ(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!fl(e,r)}catch{return!0}}function CQ(e){var t=_u(e,1);t!==null&&ol(t,e,1,-1)}function n8(e){var t=Wl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ab,lastRenderedState:e},t.queue=e,e=e.dispatch=Nye.bind(null,ti,e),[t.memoizedState,e]}function sb(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ti.updateQueue,t===null?(t={lastEffect:null,stores:null},ti.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function kQ(){return Io().memoizedState}function _k(e,t,r,n){var i=Wl();ti.flags|=e,i.memoizedState=sb(1|t,r,void 0,n===void 0?null:n)}function BN(e,t,r,n){var i=Io();n=n===void 0?null:n;var a=void 0;if(Ei!==null){var s=Ei.memoizedState;if(a=s.destroy,n!==null&&y5(n,s.deps)){i.memoizedState=sb(t,r,a,n);return}}ti.flags|=e,i.memoizedState=sb(1|t,r,a,n)}function i8(e,t){return _k(8390656,8,e,t)}function b5(e,t){return BN(2048,8,e,t)}function EQ(e,t){return BN(4,2,e,t)}function TQ(e,t){return BN(4,4,e,t)}function NQ(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function AQ(e,t,r){return r=r!=null?r.concat([e]):null,BN(4,4,NQ.bind(null,t,e),r)}function w5(){}function jQ(e,t){var r=Io();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&y5(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function RQ(e,t){var r=Io();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&y5(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function IQ(e,t,r){return wp&21?(fl(r,t)||(r=OJ(),ti.lanes|=r,Sp|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,fs=!0),e.memoizedState=r)}function Eye(e,t){var r=xn;xn=r!==0&&4>r?r:4,e(!0);var n=oj.transition;oj.transition={};try{e(!1),t()}finally{xn=r,oj.transition=n}}function MQ(){return Io().memoizedState}function Tye(e,t,r){var n=Xd(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},PQ(e))LQ(t,r);else if(r=gQ(e,t,r,n),r!==null){var i=za();ol(r,e,n,i),DQ(r,t,n)}}function Nye(e,t,r){var n=Xd(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(PQ(e))LQ(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,fl(o,s)){var l=t.interleaved;l===null?(i.next=i,f5(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=gQ(e,t,i,n),r!==null&&(i=za(),ol(r,e,n,i),DQ(r,t,n))}}function PQ(e){var t=e.alternate;return e===ti||t!==null&&t===ti}function LQ(e,t){d_=TE=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function DQ(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Q3(e,r)}}var NE={readContext:Ro,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useInsertionEffect:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useSyncExternalStore:oa,useId:oa,unstable_isNewReconciler:!1},Aye={readContext:Ro,useCallback:function(e,t){return Wl().memoizedState=[e,t===void 0?null:t],e},useContext:Ro,useEffect:i8,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,_k(4194308,4,NQ.bind(null,t,e),r)},useLayoutEffect:function(e,t){return _k(4194308,4,e,t)},useInsertionEffect:function(e,t){return _k(4,2,e,t)},useMemo:function(e,t){var r=Wl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Wl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Tye.bind(null,ti,e),[n.memoizedState,e]},useRef:function(e){var t=Wl();return e={current:e},t.memoizedState=e},useState:n8,useDebugValue:w5,useDeferredValue:function(e){return Wl().memoizedState=e},useTransition:function(){var e=n8(!1),t=e[0];return e=Eye.bind(null,e[1]),Wl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ti,i=Wl();if(Yn){if(r===void 0)throw Error(Ve(407));r=r()}else{if(r=t(),Hi===null)throw Error(Ve(349));wp&30||_Q(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,i8(wQ.bind(null,n,a,e),[e]),n.flags|=2048,sb(9,bQ.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Wl(),t=Hi.identifierPrefix;if(Yn){var r=nu,n=ru;r=(n&~(1<<32-sl(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ib++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=kye++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jye={readContext:Ro,useCallback:jQ,useContext:Ro,useEffect:b5,useImperativeHandle:AQ,useInsertionEffect:EQ,useLayoutEffect:TQ,useMemo:RQ,useReducer:lj,useRef:kQ,useState:function(){return lj(ab)},useDebugValue:w5,useDeferredValue:function(e){var t=Io();return IQ(t,Ei.memoizedState,e)},useTransition:function(){var e=lj(ab)[0],t=Io().memoizedState;return[e,t]},useMutableSource:yQ,useSyncExternalStore:xQ,useId:MQ,unstable_isNewReconciler:!1},Rye={readContext:Ro,useCallback:jQ,useContext:Ro,useEffect:b5,useImperativeHandle:AQ,useInsertionEffect:EQ,useLayoutEffect:TQ,useMemo:RQ,useReducer:cj,useRef:kQ,useState:function(){return cj(ab)},useDebugValue:w5,useDeferredValue:function(e){var t=Io();return Ei===null?t.memoizedState=e:IQ(t,Ei.memoizedState,e)},useTransition:function(){var e=cj(ab)[0],t=Io().memoizedState;return[e,t]},useMutableSource:yQ,useSyncExternalStore:xQ,useId:MQ,unstable_isNewReconciler:!1};function Yo(e,t){if(e&&e.defaultProps){t=ri({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function BP(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ri({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var FN={isMounted:function(e){return(e=e._reactInternals)?Kp(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=za(),i=Xd(e),a=du(n,i);a.payload=t,r!=null&&(a.callback=r),t=Yd(e,a,i),t!==null&&(ol(t,e,i,n),yk(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=za(),i=Xd(e),a=du(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Yd(e,a,i),t!==null&&(ol(t,e,i,n),yk(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=za(),n=Xd(e),i=du(r,n);i.tag=2,t!=null&&(i.callback=t),t=Yd(e,i,n),t!==null&&(ol(t,e,n,r),yk(t,e,n))}};function a8(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!J_(r,n)||!J_(i,a):!0}function OQ(e,t,r){var n=!1,i=ch,a=t.contextType;return typeof a=="object"&&a!==null?a=Ro(a):(i=vs(t)?_p:xa.current,n=t.contextTypes,a=(n=n!=null)?gv(e,i):ch),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=FN,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function s8(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&FN.enqueueReplaceState(t,t.state,null)}function FP(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},p5(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Ro(a):(a=vs(t)?_p:xa.current,i.context=gv(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(BP(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&FN.enqueueReplaceState(i,i.state,null),kE(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function xv(e,t){try{var r="",n=t;do r+=a0e(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function uj(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function zP(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Iye=typeof WeakMap=="function"?WeakMap:Map;function $Q(e,t,r){r=du(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){jE||(jE=!0,ZP=n),zP(e,t)},r}function BQ(e,t,r){r=du(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){zP(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){zP(e,t),typeof n!="function"&&(Kd===null?Kd=new Set([this]):Kd.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function o8(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Iye;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Gye.bind(null,e,t,r),t.then(e,e))}function l8(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function c8(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=du(-1,1),t.tag=2,Yd(r,t,1))),r.lanes|=1),e)}var Mye=Bu.ReactCurrentOwner,fs=!1;function Ia(e,t,r,n){t.child=e===null?pQ(t,null,r,n):vv(t,e.child,r,n)}function u8(e,t,r,n,i){r=r.render;var a=t.ref;return Ym(t,i),n=x5(e,t,r,n,a,i),r=_5(),e!==null&&!fs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bu(e,t,i)):(Yn&&r&&o5(t),t.flags|=1,Ia(e,t,n,i),t.child)}function d8(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!j5(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,FQ(e,t,a,n,i)):(e=Ck(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:J_,r(s,n)&&e.ref===t.ref)return bu(e,t,i)}return t.flags|=1,e=Zd(a,n),e.ref=t.ref,e.return=t,t.child=e}function FQ(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(J_(a,n)&&e.ref===t.ref)if(fs=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(fs=!0);else return t.lanes=e.lanes,bu(e,t,i)}return UP(e,t,r,n,i)}function zQ(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$n(jm,Is),Is|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$n(jm,Is),Is|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,$n(jm,Is),Is|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,$n(jm,Is),Is|=n;return Ia(e,t,i,r),t.child}function UQ(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function UP(e,t,r,n,i){var a=vs(r)?_p:xa.current;return a=gv(t,a),Ym(t,i),r=x5(e,t,r,n,a,i),n=_5(),e!==null&&!fs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bu(e,t,i)):(Yn&&n&&o5(t),t.flags|=1,Ia(e,t,r,i),t.child)}function h8(e,t,r,n,i){if(vs(r)){var a=!0;_E(t)}else a=!1;if(Ym(t,i),t.stateNode===null)bk(e,t),OQ(t,r,n),FP(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ro(c):(c=vs(r)?_p:xa.current,c=gv(t,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&s8(t,s,n,c),yd=!1;var f=t.memoizedState;s.state=f,kE(t,n,s,i),l=t.memoizedState,o!==n||f!==l||ms.current||yd?(typeof u=="function"&&(BP(t,r,u,n),l=t.memoizedState),(o=yd||a8(t,r,o,n,f,l,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,mQ(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Yo(t.type,o),s.props=c,h=t.pendingProps,f=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ro(l):(l=vs(r)?_p:xa.current,l=gv(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==h||f!==l)&&s8(t,s,n,l),yd=!1,f=t.memoizedState,s.state=f,kE(t,n,s,i);var g=t.memoizedState;o!==h||f!==g||ms.current||yd?(typeof p=="function"&&(BP(t,r,p,n),g=t.memoizedState),(c=yd||a8(t,r,c,n,f,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return HP(e,t,r,n,a,i)}function HP(e,t,r,n,i,a){UQ(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&Zz(t,r,!1),bu(e,t,a);n=t.stateNode,Mye.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=vv(t,e.child,null,a),t.child=vv(t,null,o,a)):Ia(e,t,o,a),t.memoizedState=n.state,i&&Zz(t,r,!0),t.child}function HQ(e){var t=e.stateNode;t.pendingContext?Xz(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xz(e,t.context,!1),g5(e,t.containerInfo)}function f8(e,t,r,n,i){return mv(),c5(i),t.flags|=256,Ia(e,t,r,n),t.child}var VP={dehydrated:null,treeContext:null,retryLane:0};function WP(e){return{baseLanes:e,cachePool:null,transitions:null}}function VQ(e,t,r){var n=t.pendingProps,i=Qn.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),$n(Qn,i&1),e===null)return OP(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=HN(s,n,0,null),e=ip(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=WP(r),t.memoizedState=VP,e):S5(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Pye(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Zd(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Zd(o,a):(a=ip(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?WP(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=VP,n}return a=e.child,e=a.sibling,n=Zd(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function S5(e,t){return t=HN({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function mS(e,t,r,n){return n!==null&&c5(n),vv(t,e.child,null,r),e=S5(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Pye(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=uj(Error(Ve(422))),mS(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=HN({mode:"visible",children:n.children},i,0,null),a=ip(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&vv(t,e.child,null,s),t.child.memoizedState=WP(s),t.memoizedState=VP,a);if(!(t.mode&1))return mS(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(Ve(419)),n=uj(a,n,void 0),mS(e,t,s,n)}if(o=(s&e.childLanes)!==0,fs||o){if(n=Hi,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,_u(e,i),ol(n,e,i,-1))}return A5(),n=uj(Error(Ve(421))),mS(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=qye.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Ps=qd(i.nextSibling),Ds=t,Yn=!0,Jo=null,e!==null&&(po[go++]=ru,po[go++]=nu,po[go++]=bp,ru=e.id,nu=e.overflow,bp=t),t=S5(t,n.children),t.flags|=4096,t)}function p8(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),$P(e.return,t,r)}function dj(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function WQ(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Ia(e,t,n.children,r),n=Qn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&p8(e,r,t);else if(e.tag===19)p8(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if($n(Qn,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&EE(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),dj(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&EE(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}dj(t,!0,r,null,a);break;case"together":dj(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bk(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bu(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Sp|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ve(153));if(t.child!==null){for(e=t.child,r=Zd(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Zd(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Lye(e,t,r){switch(t.tag){case 3:HQ(t),mv();break;case 5:vQ(t);break;case 1:vs(t.type)&&_E(t);break;case 4:g5(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;$n(SE,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?($n(Qn,Qn.current&1),t.flags|=128,null):r&t.child.childLanes?VQ(e,t,r):($n(Qn,Qn.current&1),e=bu(e,t,r),e!==null?e.sibling:null);$n(Qn,Qn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return WQ(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$n(Qn,Qn.current),n)break;return null;case 22:case 23:return t.lanes=0,zQ(e,t,r)}return bu(e,t,r)}var GQ,GP,qQ,YQ;GQ=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};GP=function(){};qQ=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Uf(lc.current);var a=null;switch(r){case"input":i=pP(e,i),n=pP(e,n),a=[];break;case"select":i=ri({},i,{value:void 0}),n=ri({},n,{value:void 0}),a=[];break;case"textarea":i=vP(e,i),n=vP(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=yE)}xP(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(W_.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(W_.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Hn("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};YQ=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ty(e,t){if(!Yn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function la(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Dye(e,t,r){var n=t.pendingProps;switch(l5(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return la(t),null;case 1:return vs(t.type)&&xE(),la(t),null;case 3:return n=t.stateNode,yv(),Vn(ms),Vn(xa),v5(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(pS(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jo!==null&&(eL(Jo),Jo=null))),GP(e,t),la(t),null;case 5:m5(t);var i=Uf(nb.current);if(r=t.type,e!==null&&t.stateNode!=null)qQ(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ve(166));return la(t),null}if(e=Uf(lc.current),pS(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Kl]=t,n[tb]=a,e=(t.mode&1)!==0,r){case"dialog":Hn("cancel",n),Hn("close",n);break;case"iframe":case"object":case"embed":Hn("load",n);break;case"video":case"audio":for(i=0;i<Rx.length;i++)Hn(Rx[i],n);break;case"source":Hn("error",n);break;case"img":case"image":case"link":Hn("error",n),Hn("load",n);break;case"details":Hn("toggle",n);break;case"input":Sz(n,a),Hn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Hn("invalid",n);break;case"textarea":kz(n,a),Hn("invalid",n)}xP(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&fS(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&fS(n.textContent,o,e),i=["children",""+o]):W_.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Hn("scroll",n)}switch(r){case"input":aS(n),Cz(n,a,!0);break;case"textarea":aS(n),Ez(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=yE)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wJ(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Kl]=t,e[tb]=n,GQ(e,t,!1,!1),t.stateNode=e;e:{switch(s=_P(r,n),r){case"dialog":Hn("cancel",e),Hn("close",e),i=n;break;case"iframe":case"object":case"embed":Hn("load",e),i=n;break;case"video":case"audio":for(i=0;i<Rx.length;i++)Hn(Rx[i],e);i=n;break;case"source":Hn("error",e),i=n;break;case"img":case"image":case"link":Hn("error",e),Hn("load",e),i=n;break;case"details":Hn("toggle",e),i=n;break;case"input":Sz(e,n),i=pP(e,n),Hn("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ri({},n,{value:void 0}),Hn("invalid",e);break;case"textarea":kz(e,n),i=vP(e,n),Hn("invalid",e);break;default:i=n}xP(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?kJ(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&SJ(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&G_(e,l):typeof l=="number"&&G_(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(W_.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Hn("scroll",e):l!=null&&q3(e,a,l,s))}switch(r){case"input":aS(e),Cz(e,n,!1);break;case"textarea":aS(e),Ez(e);break;case"option":n.value!=null&&e.setAttribute("value",""+lh(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Vm(e,!!n.multiple,a,!1):n.defaultValue!=null&&Vm(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=yE)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return la(t),null;case 6:if(e&&t.stateNode!=null)YQ(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ve(166));if(r=Uf(nb.current),Uf(lc.current),pS(t)){if(n=t.stateNode,r=t.memoizedProps,n[Kl]=t,(a=n.nodeValue!==r)&&(e=Ds,e!==null))switch(e.tag){case 3:fS(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fS(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Kl]=t,t.stateNode=n}return la(t),null;case 13:if(Vn(Qn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Yn&&Ps!==null&&t.mode&1&&!(t.flags&128))hQ(),mv(),t.flags|=98560,a=!1;else if(a=pS(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Ve(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ve(317));a[Kl]=t}else mv(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;la(t),a=!1}else Jo!==null&&(eL(Jo),Jo=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Qn.current&1?Ai===0&&(Ai=3):A5())),t.updateQueue!==null&&(t.flags|=4),la(t),null);case 4:return yv(),GP(e,t),e===null&&Q_(t.stateNode.containerInfo),la(t),null;case 10:return h5(t.type._context),la(t),null;case 17:return vs(t.type)&&xE(),la(t),null;case 19:if(Vn(Qn),a=t.memoizedState,a===null)return la(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)Ty(a,!1);else{if(Ai!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=EE(e),s!==null){for(t.flags|=128,Ty(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return $n(Qn,Qn.current&1|2),t.child}e=e.sibling}a.tail!==null&&ui()>_v&&(t.flags|=128,n=!0,Ty(a,!1),t.lanes=4194304)}else{if(!n)if(e=EE(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ty(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Yn)return la(t),null}else 2*ui()-a.renderingStartTime>_v&&r!==1073741824&&(t.flags|=128,n=!0,Ty(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ui(),t.sibling=null,r=Qn.current,$n(Qn,n?r&1|2:r&1),t):(la(t),null);case 22:case 23:return N5(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Is&1073741824&&(la(t),t.subtreeFlags&6&&(t.flags|=8192)):la(t),null;case 24:return null;case 25:return null}throw Error(Ve(156,t.tag))}function Oye(e,t){switch(l5(t),t.tag){case 1:return vs(t.type)&&xE(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yv(),Vn(ms),Vn(xa),v5(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return m5(t),null;case 13:if(Vn(Qn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ve(340));mv()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Vn(Qn),null;case 4:return yv(),null;case 10:return h5(t.type._context),null;case 22:case 23:return N5(),null;case 24:return null;default:return null}}var vS=!1,pa=!1,$ye=typeof WeakSet=="function"?WeakSet:Set,mt=null;function Am(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ni(e,t,n)}else r.current=null}function qP(e,t,r){try{r()}catch(n){ni(e,t,n)}}var g8=!1;function Bye(e,t){if(jP=gE,e=QJ(),s5(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,h=e,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(o=s+i),h!==a||n!==0&&h.nodeType!==3||(l=s+n),h.nodeType===3&&(s+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++c===i&&(o=s),f===a&&++u===n&&(l=s),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(RP={focusedElem:e,selectionRange:r},gE=!1,mt=t;mt!==null;)if(t=mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,mt=e;else for(;mt!==null;){t=mt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,m=g.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:Yo(t.type,v),m);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ve(163))}}catch(b){ni(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,mt=e;break}mt=t.return}return g=g8,g8=!1,g}function h_(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&qP(t,r,a)}i=i.next}while(i!==n)}}function zN(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function YP(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function KQ(e){var t=e.alternate;t!==null&&(e.alternate=null,KQ(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kl],delete t[tb],delete t[PP],delete t[bye],delete t[wye])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function XQ(e){return e.tag===5||e.tag===3||e.tag===4}function m8(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||XQ(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function KP(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=yE));else if(n!==4&&(e=e.child,e!==null))for(KP(e,t,r),e=e.sibling;e!==null;)KP(e,t,r),e=e.sibling}function XP(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(XP(e,t,r),e=e.sibling;e!==null;)XP(e,t,r),e=e.sibling}var qi=null,Xo=!1;function Xu(e,t,r){for(r=r.child;r!==null;)ZQ(e,t,r),r=r.sibling}function ZQ(e,t,r){if(oc&&typeof oc.onCommitFiberUnmount=="function")try{oc.onCommitFiberUnmount(MN,r)}catch{}switch(r.tag){case 5:pa||Am(r,t);case 6:var n=qi,i=Xo;qi=null,Xu(e,t,r),qi=n,Xo=i,qi!==null&&(Xo?(e=qi,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):qi.removeChild(r.stateNode));break;case 18:qi!==null&&(Xo?(e=qi,r=r.stateNode,e.nodeType===8?ij(e.parentNode,r):e.nodeType===1&&ij(e,r),X_(e)):ij(qi,r.stateNode));break;case 4:n=qi,i=Xo,qi=r.stateNode.containerInfo,Xo=!0,Xu(e,t,r),qi=n,Xo=i;break;case 0:case 11:case 14:case 15:if(!pa&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&qP(r,t,s),i=i.next}while(i!==n)}Xu(e,t,r);break;case 1:if(!pa&&(Am(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ni(r,t,o)}Xu(e,t,r);break;case 21:Xu(e,t,r);break;case 22:r.mode&1?(pa=(n=pa)||r.memoizedState!==null,Xu(e,t,r),pa=n):Xu(e,t,r);break;default:Xu(e,t,r)}}function v8(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new $ye),t.forEach(function(n){var i=Yye.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Bo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:qi=o.stateNode,Xo=!1;break e;case 3:qi=o.stateNode.containerInfo,Xo=!0;break e;case 4:qi=o.stateNode.containerInfo,Xo=!0;break e}o=o.return}if(qi===null)throw Error(Ve(160));ZQ(a,s,i),qi=null,Xo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ni(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)JQ(t,e),t=t.sibling}function JQ(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bo(t,e),Rl(e),n&4){try{h_(3,e,e.return),zN(3,e)}catch(v){ni(e,e.return,v)}try{h_(5,e,e.return)}catch(v){ni(e,e.return,v)}}break;case 1:Bo(t,e),Rl(e),n&512&&r!==null&&Am(r,r.return);break;case 5:if(Bo(t,e),Rl(e),n&512&&r!==null&&Am(r,r.return),e.flags&32){var i=e.stateNode;try{G_(i,"")}catch(v){ni(e,e.return,v)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&_J(i,a),_P(o,s);var c=_P(o,a);for(s=0;s<l.length;s+=2){var u=l[s],h=l[s+1];u==="style"?kJ(i,h):u==="dangerouslySetInnerHTML"?SJ(i,h):u==="children"?G_(i,h):q3(i,u,h,c)}switch(o){case"input":gP(i,a);break;case"textarea":bJ(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Vm(i,!!a.multiple,p,!1):f!==!!a.multiple&&(a.defaultValue!=null?Vm(i,!!a.multiple,a.defaultValue,!0):Vm(i,!!a.multiple,a.multiple?[]:"",!1))}i[tb]=a}catch(v){ni(e,e.return,v)}}break;case 6:if(Bo(t,e),Rl(e),n&4){if(e.stateNode===null)throw Error(Ve(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){ni(e,e.return,v)}}break;case 3:if(Bo(t,e),Rl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{X_(t.containerInfo)}catch(v){ni(e,e.return,v)}break;case 4:Bo(t,e),Rl(e);break;case 13:Bo(t,e),Rl(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(E5=ui())),n&4&&v8(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(pa=(c=pa)||u,Bo(t,e),pa=c):Bo(t,e),Rl(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(mt=e,u=e.child;u!==null;){for(h=mt=u;mt!==null;){switch(f=mt,p=f.child,f.tag){case 0:case 11:case 14:case 15:h_(4,f,f.return);break;case 1:Am(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){ni(n,r,v)}}break;case 5:Am(f,f.return);break;case 22:if(f.memoizedState!==null){x8(h);continue}}p!==null?(p.return=f,mt=p):x8(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=CJ("display",s))}catch(v){ni(e,e.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){ni(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Bo(t,e),Rl(e),n&4&&v8(e);break;case 21:break;default:Bo(t,e),Rl(e)}}function Rl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(XQ(r)){var n=r;break e}r=r.return}throw Error(Ve(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(G_(i,""),n.flags&=-33);var a=m8(e);XP(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=m8(e);KP(e,o,s);break;default:throw Error(Ve(161))}}catch(l){ni(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fye(e,t,r){mt=e,QQ(e)}function QQ(e,t,r){for(var n=(e.mode&1)!==0;mt!==null;){var i=mt,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||vS;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||pa;o=vS;var c=pa;if(vS=s,(pa=l)&&!c)for(mt=i;mt!==null;)s=mt,l=s.child,s.tag===22&&s.memoizedState!==null?_8(i):l!==null?(l.return=s,mt=l):_8(i);for(;a!==null;)mt=a,QQ(a),a=a.sibling;mt=i,vS=o,pa=c}y8(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,mt=a):y8(e)}}function y8(e){for(;mt!==null;){var t=mt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pa||zN(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!pa)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Yo(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&r8(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}r8(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&X_(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ve(163))}pa||t.flags&512&&YP(t)}catch(f){ni(t,t.return,f)}}if(t===e){mt=null;break}if(r=t.sibling,r!==null){r.return=t.return,mt=r;break}mt=t.return}}function x8(e){for(;mt!==null;){var t=mt;if(t===e){mt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,mt=r;break}mt=t.return}}function _8(e){for(;mt!==null;){var t=mt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{zN(4,t)}catch(l){ni(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){ni(t,i,l)}}var a=t.return;try{YP(t)}catch(l){ni(t,a,l)}break;case 5:var s=t.return;try{YP(t)}catch(l){ni(t,s,l)}}}catch(l){ni(t,t.return,l)}if(t===e){mt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,mt=o;break}mt=t.return}}var zye=Math.ceil,AE=Bu.ReactCurrentDispatcher,C5=Bu.ReactCurrentOwner,No=Bu.ReactCurrentBatchConfig,tn=0,Hi=null,vi=null,Zi=0,Is=0,jm=jh(0),Ai=0,ob=null,Sp=0,UN=0,k5=0,f_=null,os=null,E5=0,_v=1/0,qc=null,jE=!1,ZP=null,Kd=null,yS=!1,jd=null,RE=0,p_=0,JP=null,wk=-1,Sk=0;function za(){return tn&6?ui():wk!==-1?wk:wk=ui()}function Xd(e){return e.mode&1?tn&2&&Zi!==0?Zi&-Zi:Cye.transition!==null?(Sk===0&&(Sk=OJ()),Sk):(e=xn,e!==0||(e=window.event,e=e===void 0?16:VJ(e.type)),e):1}function ol(e,t,r,n){if(50<p_)throw p_=0,JP=null,Error(Ve(185));Aw(e,r,n),(!(tn&2)||e!==Hi)&&(e===Hi&&(!(tn&2)&&(UN|=r),Ai===4&&Cd(e,Zi)),ys(e,n),r===1&&tn===0&&!(t.mode&1)&&(_v=ui()+500,$N&&Rh()))}function ys(e,t){var r=e.callbackNode;C0e(e,t);var n=pE(e,e===Hi?Zi:0);if(n===0)r!==null&&Az(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Az(r),t===1)e.tag===0?Sye(b8.bind(null,e)):cQ(b8.bind(null,e)),xye(function(){!(tn&6)&&Rh()}),r=null;else{switch($J(n)){case 1:r=J3;break;case 4:r=LJ;break;case 16:r=fE;break;case 536870912:r=DJ;break;default:r=fE}r=oee(r,eee.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function eee(e,t){if(wk=-1,Sk=0,tn&6)throw Error(Ve(327));var r=e.callbackNode;if(Km()&&e.callbackNode!==r)return null;var n=pE(e,e===Hi?Zi:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=IE(e,n);else{t=n;var i=tn;tn|=2;var a=ree();(Hi!==e||Zi!==t)&&(qc=null,_v=ui()+500,np(e,t));do try{Vye();break}catch(o){tee(e,o)}while(!0);d5(),AE.current=a,tn=i,vi!==null?t=0:(Hi=null,Zi=0,t=Ai)}if(t!==0){if(t===2&&(i=kP(e),i!==0&&(n=i,t=QP(e,i))),t===1)throw r=ob,np(e,0),Cd(e,n),ys(e,ui()),r;if(t===6)Cd(e,n);else{if(i=e.current.alternate,!(n&30)&&!Uye(i)&&(t=IE(e,n),t===2&&(a=kP(e),a!==0&&(n=a,t=QP(e,a))),t===1))throw r=ob,np(e,0),Cd(e,n),ys(e,ui()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Ve(345));case 2:Sf(e,os,qc);break;case 3:if(Cd(e,n),(n&130023424)===n&&(t=E5+500-ui(),10<t)){if(pE(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){za(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=MP(Sf.bind(null,e,os,qc),t);break}Sf(e,os,qc);break;case 4:if(Cd(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-sl(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=ui()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*zye(n/1960))-n,10<n){e.timeoutHandle=MP(Sf.bind(null,e,os,qc),n);break}Sf(e,os,qc);break;case 5:Sf(e,os,qc);break;default:throw Error(Ve(329))}}}return ys(e,ui()),e.callbackNode===r?eee.bind(null,e):null}function QP(e,t){var r=f_;return e.current.memoizedState.isDehydrated&&(np(e,t).flags|=256),e=IE(e,t),e!==2&&(t=os,os=r,t!==null&&eL(t)),e}function eL(e){os===null?os=e:os.push.apply(os,e)}function Uye(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!fl(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cd(e,t){for(t&=~k5,t&=~UN,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-sl(t),n=1<<r;e[r]=-1,t&=~n}}function b8(e){if(tn&6)throw Error(Ve(327));Km();var t=pE(e,0);if(!(t&1))return ys(e,ui()),null;var r=IE(e,t);if(e.tag!==0&&r===2){var n=kP(e);n!==0&&(t=n,r=QP(e,n))}if(r===1)throw r=ob,np(e,0),Cd(e,t),ys(e,ui()),r;if(r===6)throw Error(Ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sf(e,os,qc),ys(e,ui()),null}function T5(e,t){var r=tn;tn|=1;try{return e(t)}finally{tn=r,tn===0&&(_v=ui()+500,$N&&Rh())}}function Cp(e){jd!==null&&jd.tag===0&&!(tn&6)&&Km();var t=tn;tn|=1;var r=No.transition,n=xn;try{if(No.transition=null,xn=1,e)return e()}finally{xn=n,No.transition=r,tn=t,!(tn&6)&&Rh()}}function N5(){Is=jm.current,Vn(jm)}function np(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,yye(r)),vi!==null)for(r=vi.return;r!==null;){var n=r;switch(l5(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xE();break;case 3:yv(),Vn(ms),Vn(xa),v5();break;case 5:m5(n);break;case 4:yv();break;case 13:Vn(Qn);break;case 19:Vn(Qn);break;case 10:h5(n.type._context);break;case 22:case 23:N5()}r=r.return}if(Hi=e,vi=e=Zd(e.current,null),Zi=Is=t,Ai=0,ob=null,k5=UN=Sp=0,os=f_=null,zf!==null){for(t=0;t<zf.length;t++)if(r=zf[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}zf=null}return e}function tee(e,t){do{var r=vi;try{if(d5(),xk.current=NE,TE){for(var n=ti.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}TE=!1}if(wp=0,Fi=Ei=ti=null,d_=!1,ib=0,C5.current=null,r===null||r.return===null){Ai=1,ob=t,vi=null;break}e:{var a=e,s=r.return,o=r,l=t;if(t=Zi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=l8(s);if(p!==null){p.flags&=-257,c8(p,s,o,a,t),p.mode&1&&o8(a,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var v=new Set;v.add(l),t.updateQueue=v}else g.add(l);break e}else{if(!(t&1)){o8(a,c,t),A5();break e}l=Error(Ve(426))}}else if(Yn&&o.mode&1){var m=l8(s);if(m!==null){!(m.flags&65536)&&(m.flags|=256),c8(m,s,o,a,t),c5(xv(l,o));break e}}a=l=xv(l,o),Ai!==4&&(Ai=2),f_===null?f_=[a]:f_.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=$Q(a,l,t);t8(a,y);break e;case 1:o=l;var x=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Kd===null||!Kd.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=BQ(a,o,t);t8(a,b);break e}}a=a.return}while(a!==null)}iee(r)}catch(w){t=w,vi===r&&r!==null&&(vi=r=r.return);continue}break}while(!0)}function ree(){var e=AE.current;return AE.current=NE,e===null?NE:e}function A5(){(Ai===0||Ai===3||Ai===2)&&(Ai=4),Hi===null||!(Sp&268435455)&&!(UN&268435455)||Cd(Hi,Zi)}function IE(e,t){var r=tn;tn|=2;var n=ree();(Hi!==e||Zi!==t)&&(qc=null,np(e,t));do try{Hye();break}catch(i){tee(e,i)}while(!0);if(d5(),tn=r,AE.current=n,vi!==null)throw Error(Ve(261));return Hi=null,Zi=0,Ai}function Hye(){for(;vi!==null;)nee(vi)}function Vye(){for(;vi!==null&&!g0e();)nee(vi)}function nee(e){var t=see(e.alternate,e,Is);e.memoizedProps=e.pendingProps,t===null?iee(e):vi=t,C5.current=null}function iee(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Oye(r,t),r!==null){r.flags&=32767,vi=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ai=6,vi=null;return}}else if(r=Dye(r,t,Is),r!==null){vi=r;return}if(t=t.sibling,t!==null){vi=t;return}vi=t=e}while(t!==null);Ai===0&&(Ai=5)}function Sf(e,t,r){var n=xn,i=No.transition;try{No.transition=null,xn=1,Wye(e,t,r,n)}finally{No.transition=i,xn=n}return null}function Wye(e,t,r,n){do Km();while(jd!==null);if(tn&6)throw Error(Ve(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ve(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(k0e(e,a),e===Hi&&(vi=Hi=null,Zi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||yS||(yS=!0,oee(fE,function(){return Km(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=No.transition,No.transition=null;var s=xn;xn=1;var o=tn;tn|=4,C5.current=null,Bye(e,r),JQ(r,e),dye(RP),gE=!!jP,RP=jP=null,e.current=r,Fye(r),m0e(),tn=o,xn=s,No.transition=a}else e.current=r;if(yS&&(yS=!1,jd=e,RE=i),a=e.pendingLanes,a===0&&(Kd=null),x0e(r.stateNode),ys(e,ui()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(jE)throw jE=!1,e=ZP,ZP=null,e;return RE&1&&e.tag!==0&&Km(),a=e.pendingLanes,a&1?e===JP?p_++:(p_=0,JP=e):p_=0,Rh(),null}function Km(){if(jd!==null){var e=$J(RE),t=No.transition,r=xn;try{if(No.transition=null,xn=16>e?16:e,jd===null)var n=!1;else{if(e=jd,jd=null,RE=0,tn&6)throw Error(Ve(331));var i=tn;for(tn|=4,mt=e.current;mt!==null;){var a=mt,s=a.child;if(mt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(mt=c;mt!==null;){var u=mt;switch(u.tag){case 0:case 11:case 15:h_(8,u,a)}var h=u.child;if(h!==null)h.return=u,mt=h;else for(;mt!==null;){u=mt;var f=u.sibling,p=u.return;if(KQ(u),u===c){mt=null;break}if(f!==null){f.return=p,mt=f;break}mt=p}}}var g=a.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(v!==null)}}mt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,mt=s;else e:for(;mt!==null;){if(a=mt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:h_(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,mt=y;break e}mt=a.return}}var x=e.current;for(mt=x;mt!==null;){s=mt;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,mt=_;else e:for(s=x;mt!==null;){if(o=mt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:zN(9,o)}}catch(w){ni(o,o.return,w)}if(o===s){mt=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,mt=b;break e}mt=o.return}}if(tn=i,Rh(),oc&&typeof oc.onPostCommitFiberRoot=="function")try{oc.onPostCommitFiberRoot(MN,e)}catch{}n=!0}return n}finally{xn=r,No.transition=t}}return!1}function w8(e,t,r){t=xv(r,t),t=$Q(e,t,1),e=Yd(e,t,1),t=za(),e!==null&&(Aw(e,1,t),ys(e,t))}function ni(e,t,r){if(e.tag===3)w8(e,e,r);else for(;t!==null;){if(t.tag===3){w8(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Kd===null||!Kd.has(n))){e=xv(r,e),e=BQ(t,e,1),t=Yd(t,e,1),e=za(),t!==null&&(Aw(t,1,e),ys(t,e));break}}t=t.return}}function Gye(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=za(),e.pingedLanes|=e.suspendedLanes&r,Hi===e&&(Zi&r)===r&&(Ai===4||Ai===3&&(Zi&130023424)===Zi&&500>ui()-E5?np(e,0):k5|=r),ys(e,t)}function aee(e,t){t===0&&(e.mode&1?(t=lS,lS<<=1,!(lS&130023424)&&(lS=4194304)):t=1);var r=za();e=_u(e,t),e!==null&&(Aw(e,t,r),ys(e,r))}function qye(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),aee(e,r)}function Yye(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ve(314))}n!==null&&n.delete(t),aee(e,r)}var see;see=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ms.current)fs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return fs=!1,Lye(e,t,r);fs=!!(e.flags&131072)}else fs=!1,Yn&&t.flags&1048576&&uQ(t,wE,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;bk(e,t),e=t.pendingProps;var i=gv(t,xa.current);Ym(t,r),i=x5(null,t,n,e,i,r);var a=_5();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vs(n)?(a=!0,_E(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,p5(t),i.updater=FN,t.stateNode=i,i._reactInternals=t,FP(t,n,e,r),t=HP(null,t,n,!0,a,r)):(t.tag=0,Yn&&a&&o5(t),Ia(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(bk(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Xye(n),e=Yo(n,e),i){case 0:t=UP(null,t,n,e,r);break e;case 1:t=h8(null,t,n,e,r);break e;case 11:t=u8(null,t,n,e,r);break e;case 14:t=d8(null,t,n,Yo(n.type,e),r);break e}throw Error(Ve(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yo(n,i),UP(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yo(n,i),h8(e,t,n,i,r);case 3:e:{if(HQ(t),e===null)throw Error(Ve(387));n=t.pendingProps,a=t.memoizedState,i=a.element,mQ(e,t),kE(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=xv(Error(Ve(423)),t),t=f8(e,t,n,r,i);break e}else if(n!==i){i=xv(Error(Ve(424)),t),t=f8(e,t,n,r,i);break e}else for(Ps=qd(t.stateNode.containerInfo.firstChild),Ds=t,Yn=!0,Jo=null,r=pQ(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(mv(),n===i){t=bu(e,t,r);break e}Ia(e,t,n,r)}t=t.child}return t;case 5:return vQ(t),e===null&&OP(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,IP(n,i)?s=null:a!==null&&IP(n,a)&&(t.flags|=32),UQ(e,t),Ia(e,t,s,r),t.child;case 6:return e===null&&OP(t),null;case 13:return VQ(e,t,r);case 4:return g5(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=vv(t,null,n,r):Ia(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yo(n,i),u8(e,t,n,i,r);case 7:return Ia(e,t,t.pendingProps,r),t.child;case 8:return Ia(e,t,t.pendingProps.children,r),t.child;case 12:return Ia(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,$n(SE,n._currentValue),n._currentValue=s,a!==null)if(fl(a.value,s)){if(a.children===i.children&&!ms.current){t=bu(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=du(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),$P(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Ve(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),$P(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Ia(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ym(t,r),i=Ro(i),n=n(i),t.flags|=1,Ia(e,t,n,r),t.child;case 14:return n=t.type,i=Yo(n,t.pendingProps),i=Yo(n.type,i),d8(e,t,n,i,r);case 15:return FQ(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yo(n,i),bk(e,t),t.tag=1,vs(n)?(e=!0,_E(t)):e=!1,Ym(t,r),OQ(t,n,i),FP(t,n,i,r),HP(null,t,n,!0,e,r);case 19:return WQ(e,t,r);case 22:return zQ(e,t,r)}throw Error(Ve(156,t.tag))};function oee(e,t){return PJ(e,t)}function Kye(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Co(e,t,r,n){return new Kye(e,t,r,n)}function j5(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xye(e){if(typeof e=="function")return j5(e)?1:0;if(e!=null){if(e=e.$$typeof,e===K3)return 11;if(e===X3)return 14}return 2}function Zd(e,t){var r=e.alternate;return r===null?(r=Co(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ck(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")j5(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case _m:return ip(r.children,i,a,t);case Y3:s=8,i|=8;break;case uP:return e=Co(12,r,t,i|2),e.elementType=uP,e.lanes=a,e;case dP:return e=Co(13,r,t,i),e.elementType=dP,e.lanes=a,e;case hP:return e=Co(19,r,t,i),e.elementType=hP,e.lanes=a,e;case vJ:return HN(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gJ:s=10;break e;case mJ:s=9;break e;case K3:s=11;break e;case X3:s=14;break e;case vd:s=16,n=null;break e}throw Error(Ve(130,e==null?e:typeof e,""))}return t=Co(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function ip(e,t,r,n){return e=Co(7,e,n,t),e.lanes=r,e}function HN(e,t,r,n){return e=Co(22,e,n,t),e.elementType=vJ,e.lanes=r,e.stateNode={isHidden:!1},e}function hj(e,t,r){return e=Co(6,e,null,t),e.lanes=r,e}function fj(e,t,r){return t=Co(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zye(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qA(0),this.expirationTimes=qA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qA(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function R5(e,t,r,n,i,a,s,o,l){return e=new Zye(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Co(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},p5(a),e}function Jye(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xm,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function lee(e){if(!e)return ch;e=e._reactInternals;e:{if(Kp(e)!==e||e.tag!==1)throw Error(Ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ve(171))}if(e.tag===1){var r=e.type;if(vs(r))return lQ(e,r,t)}return t}function cee(e,t,r,n,i,a,s,o,l){return e=R5(r,n,!0,e,i,a,s,o,l),e.context=lee(null),r=e.current,n=za(),i=Xd(r),a=du(n,i),a.callback=t??null,Yd(r,a,i),e.current.lanes=i,Aw(e,i,n),ys(e,n),e}function VN(e,t,r,n){var i=t.current,a=za(),s=Xd(i);return r=lee(r),t.context===null?t.context=r:t.pendingContext=r,t=du(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Yd(i,t,s),e!==null&&(ol(e,i,s,a),yk(e,i,s)),s}function ME(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function S8(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function I5(e,t){S8(e,t),(e=e.alternate)&&S8(e,t)}function Qye(){return null}var uee=typeof reportError=="function"?reportError:function(e){console.error(e)};function M5(e){this._internalRoot=e}WN.prototype.render=M5.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ve(409));VN(e,t,null,null)};WN.prototype.unmount=M5.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cp(function(){VN(null,e,null,null)}),t[xu]=null}};function WN(e){this._internalRoot=e}WN.prototype.unstable_scheduleHydration=function(e){if(e){var t=zJ();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Sd.length&&t!==0&&t<Sd[r].priority;r++);Sd.splice(r,0,e),r===0&&HJ(e)}};function P5(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function GN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function C8(){}function exe(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=ME(s);a.call(c)}}var s=cee(t,n,e,0,null,!1,!1,"",C8);return e._reactRootContainer=s,e[xu]=s.current,Q_(e.nodeType===8?e.parentNode:e),Cp(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=ME(l);o.call(c)}}var l=R5(e,0,!1,null,null,!1,!1,"",C8);return e._reactRootContainer=l,e[xu]=l.current,Q_(e.nodeType===8?e.parentNode:e),Cp(function(){VN(t,l,r,n)}),l}function qN(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=ME(s);o.call(l)}}VN(t,s,e,i)}else s=exe(r,t,e,i,n);return ME(s)}BJ=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=jx(t.pendingLanes);r!==0&&(Q3(t,r|1),ys(t,ui()),!(tn&6)&&(_v=ui()+500,Rh()))}break;case 13:Cp(function(){var n=_u(e,1);if(n!==null){var i=za();ol(n,e,1,i)}}),I5(e,1)}};e5=function(e){if(e.tag===13){var t=_u(e,134217728);if(t!==null){var r=za();ol(t,e,134217728,r)}I5(e,134217728)}};FJ=function(e){if(e.tag===13){var t=Xd(e),r=_u(e,t);if(r!==null){var n=za();ol(r,e,t,n)}I5(e,t)}};zJ=function(){return xn};UJ=function(e,t){var r=xn;try{return xn=e,t()}finally{xn=r}};wP=function(e,t,r){switch(t){case"input":if(gP(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=ON(n);if(!i)throw Error(Ve(90));xJ(n),gP(n,i)}}}break;case"textarea":bJ(e,r);break;case"select":t=r.value,t!=null&&Vm(e,!!r.multiple,t,!1)}};NJ=T5;AJ=Cp;var txe={usingClientEntryPoint:!1,Events:[Rw,Cm,ON,EJ,TJ,T5]},Ny={findFiberByHostInstance:Ff,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rxe={bundleType:Ny.bundleType,version:Ny.version,rendererPackageName:Ny.rendererPackageName,rendererConfig:Ny.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=IJ(e),e===null?null:e.stateNode},findFiberByHostInstance:Ny.findFiberByHostInstance||Qye,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xS.isDisabled&&xS.supportsFiber)try{MN=xS.inject(rxe),oc=xS}catch{}}Gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=txe;Gs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!P5(t))throw Error(Ve(200));return Jye(e,t,null,r)};Gs.createRoot=function(e,t){if(!P5(e))throw Error(Ve(299));var r=!1,n="",i=uee;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=R5(e,1,!1,null,null,r,!1,n,i),e[xu]=t.current,Q_(e.nodeType===8?e.parentNode:e),new M5(t)};Gs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ve(188)):(e=Object.keys(e).join(","),Error(Ve(268,e)));return e=IJ(t),e=e===null?null:e.stateNode,e};Gs.flushSync=function(e){return Cp(e)};Gs.hydrate=function(e,t,r){if(!GN(t))throw Error(Ve(200));return qN(null,e,t,!0,r)};Gs.hydrateRoot=function(e,t,r){if(!P5(e))throw Error(Ve(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=uee;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=cee(t,null,e,1,r??null,i,!1,a,s),e[xu]=t.current,Q_(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new WN(t)};Gs.render=function(e,t,r){if(!GN(t))throw Error(Ve(200));return qN(null,e,t,!1,r)};Gs.unmountComponentAtNode=function(e){if(!GN(e))throw Error(Ve(40));return e._reactRootContainer?(Cp(function(){qN(null,null,e,!1,function(){e._reactRootContainer=null,e[xu]=null})}),!0):!1};Gs.unstable_batchedUpdates=T5;Gs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!GN(r))throw Error(Ve(200));if(e==null||e._reactInternals===void 0)throw Error(Ve(38));return qN(e,t,r,!1,n)};Gs.version="18.3.1-next-f1338f8080-20240426";function dee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dee)}catch(e){console.error(e)}}dee(),dJ.exports=Gs;var Xp=dJ.exports;const nxe=t0(Xp);var k8=Xp;cE.createRoot=k8.createRoot,cE.hydrateRoot=k8.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lb(){return lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lb.apply(this,arguments)}var Rd;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Rd||(Rd={}));const E8="popstate";function ixe(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:s,hash:o}=n.location;return tL("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:PE(i)}return sxe(t,r,null,e)}function hi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hee(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function axe(){return Math.random().toString(36).substr(2,8)}function T8(e,t){return{usr:e.state,key:e.key,idx:t}}function tL(e,t,r,n){return r===void 0&&(r=null),lb({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?a0(t):t,{state:r,key:t&&t.key||n||axe()})}function PE(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function a0(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function sxe(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=Rd.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(lb({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function h(){o=Rd.Pop;let m=u(),y=m==null?null:m-c;c=m,l&&l({action:o,location:v.location,delta:y})}function f(m,y){o=Rd.Push;let x=tL(v.location,m,y);c=u()+1;let _=T8(x,c),b=v.createHref(x);try{s.pushState(_,"",b)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(b)}a&&l&&l({action:o,location:v.location,delta:1})}function p(m,y){o=Rd.Replace;let x=tL(v.location,m,y);c=u();let _=T8(x,c),b=v.createHref(x);s.replaceState(_,"",b),a&&l&&l({action:o,location:v.location,delta:0})}function g(m){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof m=="string"?m:PE(m);return x=x.replace(/ $/,"%20"),hi(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let v={get action(){return o},get location(){return e(i,s)},listen(m){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(E8,h),l=m,()=>{i.removeEventListener(E8,h),l=null}},createHref(m){return t(i,m)},createURL:g,encodeLocation(m){let y=g(m);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(m){return s.go(m)}};return v}var N8;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(N8||(N8={}));function oxe(e,t,r){return r===void 0&&(r="/"),lxe(e,t,r)}function lxe(e,t,r,n){let i=typeof t=="string"?a0(t):t,a=L5(i.pathname||"/",r);if(a==null)return null;let s=fee(e);cxe(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=bxe(a);o=yxe(s[l],c)}return o}function fee(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(hi(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Jd([n,l.relativePath]),u=r.concat(l);a.children&&a.children.length>0&&(hi(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),fee(a.children,t,u,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:mxe(c,a.index),routesMeta:u})};return e.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of pee(a.path))i(a,s,l)}),t}function pee(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=pee(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function cxe(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:vxe(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const uxe=/^:[\w-]+$/,dxe=3,hxe=2,fxe=1,pxe=10,gxe=-2,A8=e=>e==="*";function mxe(e,t){let r=e.split("/"),n=r.length;return r.some(A8)&&(n+=gxe),t&&(n+=hxe),r.filter(i=>!A8(i)).reduce((i,a)=>i+(uxe.test(a)?dxe:a===""?fxe:pxe),n)}function vxe(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function yxe(e,t,r){let{routesMeta:n}=e,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",h=xxe({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:Jd([a,h.pathname]),pathnameBase:kxe(Jd([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Jd([a,h.pathnameBase]))}return s}function xxe(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=_xe(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let v=o[h]||"";s=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const g=o[h];return p&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:e}}function _xe(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),hee(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function bxe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hee(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function L5(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function wxe(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?a0(e):e;return{pathname:r?r.startsWith("/")?r:Sxe(r,t):t,search:Exe(n),hash:Txe(i)}}function Sxe(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function pj(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cxe(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function D5(e,t){let r=Cxe(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function O5(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=a0(e):(i=lb({},e),hi(!i.pathname||!i.pathname.includes("?"),pj("?","pathname","search",i)),hi(!i.pathname||!i.pathname.includes("#"),pj("#","pathname","hash",i)),hi(!i.search||!i.search.includes("#"),pj("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let h=t.length-1;if(!n&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?t[h]:"/"}let l=wxe(i,o),c=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Jd=e=>e.join("/").replace(/\/\/+/g,"/"),kxe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Exe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Txe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Nxe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const gee=["post","put","patch","delete"];new Set(gee);const Axe=["get",...gee];new Set(Axe);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cb(){return cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cb.apply(this,arguments)}const $5=A.createContext(null),jxe=A.createContext(null),Ih=A.createContext(null),YN=A.createContext(null),Mh=A.createContext({outlet:null,matches:[],isDataRoute:!1}),mee=A.createContext(null);function Rxe(e,t){let{relative:r}=t===void 0?{}:t;s0()||hi(!1);let{basename:n,navigator:i}=A.useContext(Ih),{hash:a,pathname:s,search:o}=yee(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:Jd([n,s])),i.createHref({pathname:l,search:o,hash:a})}function s0(){return A.useContext(YN)!=null}function Ph(){return s0()||hi(!1),A.useContext(YN).location}function vee(e){A.useContext(Ih).static||A.useLayoutEffect(e)}function KN(){let{isDataRoute:e}=A.useContext(Mh);return e?Vxe():Ixe()}function Ixe(){s0()||hi(!1);let e=A.useContext($5),{basename:t,future:r,navigator:n}=A.useContext(Ih),{matches:i}=A.useContext(Mh),{pathname:a}=Ph(),s=JSON.stringify(D5(i,r.v7_relativeSplatPath)),o=A.useRef(!1);return vee(()=>{o.current=!0}),A.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=O5(c,JSON.parse(s),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Jd([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,s,a,e])}function yee(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=A.useContext(Ih),{matches:i}=A.useContext(Mh),{pathname:a}=Ph(),s=JSON.stringify(D5(i,n.v7_relativeSplatPath));return A.useMemo(()=>O5(e,JSON.parse(s),a,r==="path"),[e,s,a,r])}function Mxe(e,t){return Pxe(e,t)}function Pxe(e,t,r,n){s0()||hi(!1);let{navigator:i,static:a}=A.useContext(Ih),{matches:s}=A.useContext(Mh),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ph(),h;if(t){var f;let y=typeof t=="string"?a0(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||hi(!1),h=y}else h=u;let p=h.pathname||"/",g=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=oxe(e,{pathname:g}),m=Bxe(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Jd([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Jd([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return t&&m?A.createElement(YN.Provider,{value:{location:cb({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Rd.Pop}},m):m}function Lxe(){let e=Hxe(),t=Nxe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),r?A.createElement("pre",{style:i},r):null,null)}const Dxe=A.createElement(Lxe,null);class Oxe extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?A.createElement(Mh.Provider,{value:this.props.routeContext},A.createElement(mee.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $xe(e){let{routeContext:t,match:r,children:n}=e,i=A.useContext($5);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),A.createElement(Mh.Provider,{value:t},n)}function Bxe(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(i=r)==null?void 0:i.errors;if(o!=null){let u=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);u>=0||hi(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let h=s[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:p}=r,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,h,f)=>{let p,g=!1,v=null,m=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||Dxe,l&&(c<0&&f===0?(Wxe("route-fallback"),g=!0,m=null):c===f&&(g=!0,m=h.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,f+1)),x=()=>{let _;return p?_=v:g?_=m:h.route.Component?_=A.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=u,A.createElement($xe,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:_})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?A.createElement(Oxe,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var xee=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xee||{}),_ee=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(_ee||{});function Fxe(e){let t=A.useContext($5);return t||hi(!1),t}function zxe(e){let t=A.useContext(jxe);return t||hi(!1),t}function Uxe(e){let t=A.useContext(Mh);return t||hi(!1),t}function bee(e){let t=Uxe(),r=t.matches[t.matches.length-1];return r.route.id||hi(!1),r.route.id}function Hxe(){var e;let t=A.useContext(mee),r=zxe(),n=bee();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Vxe(){let{router:e}=Fxe(xee.UseNavigateStable),t=bee(_ee.UseNavigateStable),r=A.useRef(!1);return vee(()=>{r.current=!0}),A.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,cb({fromRouteId:t},a)))},[e,t])}const j8={};function Wxe(e,t,r){j8[e]||(j8[e]=!0)}function Gxe(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function rL(e){let{to:t,replace:r,state:n,relative:i}=e;s0()||hi(!1);let{future:a,static:s}=A.useContext(Ih),{matches:o}=A.useContext(Mh),{pathname:l}=Ph(),c=KN(),u=O5(t,D5(o,a.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(u);return A.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:i}),[c,h,i,r,n]),null}function $i(e){hi(!1)}function qxe(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Rd.Pop,navigator:a,static:s=!1,future:o}=e;s0()&&hi(!1);let l=t.replace(/^\/*/,"/"),c=A.useMemo(()=>({basename:l,navigator:a,static:s,future:cb({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=a0(n));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:g="default"}=n,v=A.useMemo(()=>{let m=L5(u,l);return m==null?null:{location:{pathname:m,search:h,hash:f,state:p,key:g},navigationType:i}},[l,u,h,f,p,g,i]);return v==null?null:A.createElement(Ih.Provider,{value:c},A.createElement(YN.Provider,{children:r,value:v}))}function Yxe(e){let{children:t,location:r}=e;return Mxe(nL(t),r)}new Promise(()=>{});function nL(e,t){t===void 0&&(t=[]);let r=[];return A.Children.forEach(e,(n,i)=>{if(!A.isValidElement(n))return;let a=[...t,i];if(n.type===A.Fragment){r.push.apply(r,nL(n.props.children,a));return}n.type!==$i&&hi(!1),!n.props.index||!n.props.children||hi(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=nL(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iL(){return iL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iL.apply(this,arguments)}function Kxe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Xxe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Zxe(e,t){return e.button===0&&(!t||t==="_self")&&!Xxe(e)}const Jxe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Qxe="6";try{window.__reactRouterVersion=Qxe}catch{}const e_e="startTransition",R8=IN[e_e];function t_e(e){let{basename:t,children:r,future:n,window:i}=e,a=A.useRef();a.current==null&&(a.current=ixe({window:i,v5Compat:!0}));let s=a.current,[o,l]=A.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},u=A.useCallback(h=>{c&&R8?R8(()=>l(h)):l(h)},[l,c]);return A.useLayoutEffect(()=>s.listen(u),[s,u]),A.useEffect(()=>Gxe(n),[n]),A.createElement(qxe,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const r_e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",n_e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wee=A.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:h}=t,f=Kxe(t,Jxe),{basename:p}=A.useContext(Ih),g,v=!1;if(typeof c=="string"&&n_e.test(c)&&(g=c,r_e))try{let _=new URL(window.location.href),b=c.startsWith("//")?new URL(_.protocol+c):new URL(c),w=L5(b.pathname,p);b.origin===_.origin&&w!=null?c=w+b.search+b.hash:v=!0}catch{}let m=Rxe(c,{relative:i}),y=i_e(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:h});function x(_){n&&n(_),_.defaultPrevented||y(_)}return A.createElement("a",iL({},f,{href:g||m,onClick:v||a?n:x,ref:r,target:l}))});var I8;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(I8||(I8={}));var M8;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(M8||(M8={}));function i_e(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=t===void 0?{}:t,l=KN(),c=Ph(),u=yee(e,{relative:s});return A.useCallback(h=>{if(Zxe(h,r)){h.preventDefault();let f=n!==void 0?n:PE(c)===PE(u);l(e,{replace:f,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,n,i,r,e,a,s,o])}var a_e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const s_e=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),st=(e,t)=>{const r=A.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...l},c)=>A.createElement("svg",{ref:c,...a_e,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${s_e(e)}`,...l},[...t.map(([u,h])=>A.createElement(u,h)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${e}`,r},Qd=st("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),o_e=st("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),ji=st("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),LE=st("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]),so=st("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),See=st("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]),P8=st("ArrowUpToLine",[["path",{d:"M5 3h14",key:"7usisc"}],["path",{d:"m18 13-6-6-6 6",key:"1kf1n9"}],["path",{d:"M12 7v14",key:"1akyts"}]]),L8=st("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),lm=st("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Cee=st("BarChartBig",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["rect",{width:"4",height:"7",x:"7",y:"10",rx:"1",key:"14u6mf"}],["rect",{width:"4",height:"12",x:"15",y:"5",rx:"1",key:"b3pek6"}]]),l_e=st("BatteryFull",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}],["line",{x1:"10",x2:"10",y1:"11",y2:"13",key:"haxvl5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"13",key:"c6fn6x"}]]),$a=st("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),Ay=st("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),c_e=st("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Mw=st("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),DE=st("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),u_e=st("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),d_e=st("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),g_=st("CircuitBoard",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M11 9h4a2 2 0 0 0 2-2V3",key:"1ve2rv"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"M7 21v-4a2 2 0 0 1 2-2h4",key:"1fwkro"}],["circle",{cx:"15",cy:"15",r:"2",key:"3i40o0"}]]),XN=st("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),h_e=st("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),kee=st("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),bv=st("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),wv=st("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),cc=st("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),f_e=st("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),p_e=st("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),aL=st("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),D8=st("Fan",[["path",{d:"M10.827 16.379a6.082 6.082 0 0 1-8.618-7.002l5.412 1.45a6.082 6.082 0 0 1 7.002-8.618l-1.45 5.412a6.082 6.082 0 0 1 8.618 7.002l-5.412-1.45a6.082 6.082 0 0 1-7.002 8.618l1.45-5.412Z",key:"484a7f"}],["path",{d:"M12 12v.01",key:"u5ubse"}]]),g_e=st("FileJson",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]),fo=st("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),m_e=st("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),v_e=st("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),y_e=st("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),O8=st("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),B5=st("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),x_e=st("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),sL=st("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),__e=st("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]),ub=st("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),F5=st("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),gj=st("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),Kt=st("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),$8=st("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),b_e=st("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),w_e=st("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),S_e=st("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),ds=st("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]),B8=st("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),C_e=st("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Eee=st("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),F8=st("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]),mo=st("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),OE=st("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]),Tee=st("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),li=st("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Nee=st("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),z5=st("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),k_e=st("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),E_e=st("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),T_e=st("TerminalSquare",[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]]),N_e=st("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]),Aee=st("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),Ix=st("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]),Mx=st("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),A_e=st("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),j_e=st("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]),jee=st("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Ree=st("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),R_e=st("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Px=st("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ua=st("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),I_e=st("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),M_e=st("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function Iee(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Iee(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Mee(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Iee(e))&&(n&&(n+=" "),n+=t);return n}const z8=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,U8=Mee,U5=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return U8(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,s=Object.keys(i).map(c=>{const u=r==null?void 0:r[c],h=a==null?void 0:a[c];if(u===null)return null;const f=z8(u)||z8(h);return i[c][f]}),o=r&&Object.entries(r).reduce((c,u)=>{let[h,f]=u;return f===void 0||(c[h]=f),c},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:h,className:f,...p}=u;return Object.entries(p).every(g=>{let[v,m]=g;return Array.isArray(m)?m.includes({...a,...o}[v]):{...a,...o}[v]===m})?[...c,h,f]:c},[]);return U8(e,s,l,r==null?void 0:r.class,r==null?void 0:r.className)},H5="-",P_e=e=>{const t=D_e(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const o=s.split(H5);return o[0]===""&&o.length!==1&&o.shift(),Pee(o,t)||L_e(s)},getConflictingClassGroupIds:(s,o)=>{const l=r[s]||[];return o&&n[s]?[...l,...n[s]]:l}}},Pee=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?Pee(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(H5);return(s=t.validators.find(({validator:o})=>o(a)))==null?void 0:s.classGroupId},H8=/^\[(.+)\]$/,L_e=e=>{if(H8.test(e)){const t=H8.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},D_e=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return $_e(Object.entries(e.classGroups),r).forEach(([a,s])=>{oL(s,n,a,t)}),n},oL=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:V8(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(O_e(i)){oL(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,s])=>{oL(s,V8(t,a),r,n)})})},V8=(e,t)=>{let r=e;return t.split(H5).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},O_e=e=>e.isThemeGetter,$_e=(e,t)=>t?e.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,o])=>[t+s,o])):a);return[r,i]}):e,B_e=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,s)=>{r.set(a,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let s=r.get(a);if(s!==void 0)return s;if((s=n.get(a))!==void 0)return i(a,s),s},set(a,s){r.has(a)?r.set(a,s):i(a,s)}}},Lee="!",F_e=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],a=t.length,s=o=>{const l=[];let c=0,u=0,h;for(let m=0;m<o.length;m++){let y=o[m];if(c===0){if(y===i&&(n||o.slice(m,m+a)===t)){l.push(o.slice(u,m)),u=m+a;continue}if(y==="/"){h=m;continue}}y==="["?c++:y==="]"&&c--}const f=l.length===0?o:o.substring(u),p=f.startsWith(Lee),g=p?f.substring(1):f,v=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:v}};return r?o=>r({className:o,parseClassName:s}):s},z_e=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},U_e=e=>({cache:B_e(e.cacheSize),parseClassName:F_e(e),...P_e(e)}),H_e=/\s+/,V_e=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],s=e.trim().split(H_e);let o="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=r(c);let g=!!p,v=n(g?f.substring(0,p):f);if(!v){if(!g){o=c+(o.length>0?" "+o:o);continue}if(v=n(f),!v){o=c+(o.length>0?" "+o:o);continue}g=!1}const m=z_e(u).join(":"),y=h?m+Lee:m,x=y+v;if(a.includes(x))continue;a.push(x);const _=i(v,g);for(let b=0;b<_.length;++b){const w=_[b];a.push(y+w)}o=c+(o.length>0?" "+o:o)}return o};function W_e(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Dee(t))&&(n&&(n+=" "),n+=r);return n}const Dee=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Dee(e[n]))&&(r&&(r+=" "),r+=t);return r};function G_e(e,...t){let r,n,i,a=s;function s(l){const c=t.reduce((u,h)=>h(u),e());return r=U_e(c),n=r.cache.get,i=r.cache.set,a=o,o(l)}function o(l){const c=n(l);if(c)return c;const u=V_e(l,r);return i(l,u),u}return function(){return a(W_e.apply(null,arguments))}}const Un=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Oee=/^\[(?:([a-z-]+):)?(.+)\]$/i,q_e=/^\d+\/\d+$/,Y_e=new Set(["px","full","screen"]),K_e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,X_e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Z_e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,J_e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Q_e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$c=e=>Xm(e)||Y_e.has(e)||q_e.test(e),Zu=e=>o0(e,"length",obe),Xm=e=>!!e&&!Number.isNaN(Number(e)),mj=e=>o0(e,"number",Xm),jy=e=>!!e&&Number.isInteger(Number(e)),ebe=e=>e.endsWith("%")&&Xm(e.slice(0,-1)),wr=e=>Oee.test(e),Ju=e=>K_e.test(e),tbe=new Set(["length","size","percentage"]),rbe=e=>o0(e,tbe,$ee),nbe=e=>o0(e,"position",$ee),ibe=new Set(["image","url"]),abe=e=>o0(e,ibe,cbe),sbe=e=>o0(e,"",lbe),Ry=()=>!0,o0=(e,t,r)=>{const n=Oee.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},obe=e=>X_e.test(e)&&!Z_e.test(e),$ee=()=>!1,lbe=e=>J_e.test(e),cbe=e=>Q_e.test(e),ube=()=>{const e=Un("colors"),t=Un("spacing"),r=Un("blur"),n=Un("brightness"),i=Un("borderColor"),a=Un("borderRadius"),s=Un("borderSpacing"),o=Un("borderWidth"),l=Un("contrast"),c=Un("grayscale"),u=Un("hueRotate"),h=Un("invert"),f=Un("gap"),p=Un("gradientColorStops"),g=Un("gradientColorStopPositions"),v=Un("inset"),m=Un("margin"),y=Un("opacity"),x=Un("padding"),_=Un("saturate"),b=Un("scale"),w=Un("sepia"),S=Un("skew"),k=Un("space"),C=Un("translate"),E=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",wr,t],I=()=>[wr,t],P=()=>["",$c,Zu],D=()=>["auto",Xm,wr],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",wr],R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Xm,wr];return{cacheSize:500,separator:":",theme:{colors:[Ry],spacing:[$c,Zu],blur:["none","",Ju,wr],brightness:z(),borderColor:[e],borderRadius:["none","","full",Ju,wr],borderSpacing:I(),borderWidth:P(),contrast:z(),grayscale:M(),hueRotate:z(),invert:M(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[ebe,Zu],inset:N(),margin:N(),opacity:z(),padding:I(),saturate:z(),scale:z(),sepia:M(),skew:z(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",wr]}],container:["container"],columns:[{columns:[Ju]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),wr]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",jy,wr]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",wr]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",jy,wr]}],"grid-cols":[{"grid-cols":[Ry]}],"col-start-end":[{col:["auto",{span:["full",jy,wr]},wr]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Ry]}],"row-start-end":[{row:["auto",{span:[jy,wr]},wr]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",wr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",wr]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",wr,t]}],"min-w":[{"min-w":[wr,t,"min","max","fit"]}],"max-w":[{"max-w":[wr,t,"none","full","min","max","fit","prose",{screen:[Ju]},Ju]}],h:[{h:[wr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[wr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[wr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[wr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ju,Zu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",mj]}],"font-family":[{font:[Ry]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",wr]}],"line-clamp":[{"line-clamp":["none",Xm,mj]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$c,wr]}],"list-image":[{"list-image":["none",wr]}],"list-style-type":[{list:["none","disc","decimal",wr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$c,Zu]}],"underline-offset":[{"underline-offset":["auto",$c,wr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",wr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",wr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),nbe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rbe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},abe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:L()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[$c,wr]}],"outline-w":[{outline:[$c,Zu]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[$c,Zu]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ju,sbe]}],"shadow-color":[{shadow:[Ry]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ju,wr]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[_]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",wr]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",wr]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",wr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[jy,wr]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",wr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",wr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",wr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[$c,Zu,mj]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},dbe=G_e(ube);function nr(...e){return dbe(Mee(e))}function kp(e,t=2){if(e===0)return"0 B";const r=1024,n=t<0?0:t,i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(e)/Math.log(r));return`${parseFloat((e/Math.pow(r,a)).toFixed(n))} ${i[a]}`}function _S(e,t=1){return`${(e*100).toFixed(t)}%`}const hbe=U5("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ce({className:e,variant:t,...r}){return d.jsx("div",{className:nr(hbe({variant:t}),e),...r})}function Bee(e,t){return function(){return e.apply(t,arguments)}}const{toString:fbe}=Object.prototype,{getPrototypeOf:V5}=Object,ZN=(e=>t=>{const r=fbe.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),_l=e=>(e=e.toLowerCase(),t=>ZN(t)===e),JN=e=>t=>typeof t===e,{isArray:l0}=Array,db=JN("undefined");function pbe(e){return e!==null&&!db(e)&&e.constructor!==null&&!db(e.constructor)&&Os(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Fee=_l("ArrayBuffer");function gbe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Fee(e.buffer),t}const mbe=JN("string"),Os=JN("function"),zee=JN("number"),QN=e=>e!==null&&typeof e=="object",vbe=e=>e===!0||e===!1,kk=e=>{if(ZN(e)!=="object")return!1;const t=V5(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ybe=_l("Date"),xbe=_l("File"),_be=_l("Blob"),bbe=_l("FileList"),wbe=e=>QN(e)&&Os(e.pipe),Sbe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Os(e.append)&&((t=ZN(e))==="formdata"||t==="object"&&Os(e.toString)&&e.toString()==="[object FormData]"))},Cbe=_l("URLSearchParams"),[kbe,Ebe,Tbe,Nbe]=["ReadableStream","Request","Response","Headers"].map(_l),Abe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pw(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),l0(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const a=r?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let o;for(n=0;n<s;n++)o=a[n],t.call(null,e[o],o,e)}}function Uee(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const Hf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Hee=e=>!db(e)&&e!==Hf;function lL(){const{caseless:e}=Hee(this)&&this||{},t={},r=(n,i)=>{const a=e&&Uee(t,i)||i;kk(t[a])&&kk(n)?t[a]=lL(t[a],n):kk(n)?t[a]=lL({},n):l0(n)?t[a]=n.slice():t[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Pw(arguments[n],r);return t}const jbe=(e,t,r,{allOwnKeys:n}={})=>(Pw(t,(i,a)=>{r&&Os(i)?e[a]=Bee(i,r):e[a]=i},{allOwnKeys:n}),e),Rbe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ibe=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Mbe=(e,t,r,n)=>{let i,a,s;const o={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!n||n(s,e,t))&&!o[s]&&(t[s]=e[s],o[s]=!0);e=r!==!1&&V5(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Pbe=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Lbe=e=>{if(!e)return null;if(l0(e))return e;let t=e.length;if(!zee(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Dbe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&V5(Uint8Array)),Obe=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},$be=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Bbe=_l("HTMLFormElement"),Fbe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),W8=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),zbe=_l("RegExp"),Vee=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Pw(r,(i,a)=>{let s;(s=t(i,a,e))!==!1&&(n[a]=s||i)}),Object.defineProperties(e,n)},Ube=e=>{Vee(e,(t,r)=>{if(Os(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Os(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Hbe=(e,t)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return l0(e)?n(e):n(String(e).split(t)),r},Vbe=()=>{},Wbe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Gbe(e){return!!(e&&Os(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const qbe=e=>{const t=new Array(10),r=(n,i)=>{if(QN(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const a=l0(n)?[]:{};return Pw(n,(s,o)=>{const l=r(s,i+1);!db(l)&&(a[o]=l)}),t[i]=void 0,a}}return n};return r(e,0)},Ybe=_l("AsyncFunction"),Kbe=e=>e&&(QN(e)||Os(e))&&Os(e.then)&&Os(e.catch),Wee=((e,t)=>e?setImmediate:t?((r,n)=>(Hf.addEventListener("message",({source:i,data:a})=>{i===Hf&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Hf.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Os(Hf.postMessage)),Xbe=typeof queueMicrotask<"u"?queueMicrotask.bind(Hf):typeof process<"u"&&process.nextTick||Wee,xe={isArray:l0,isArrayBuffer:Fee,isBuffer:pbe,isFormData:Sbe,isArrayBufferView:gbe,isString:mbe,isNumber:zee,isBoolean:vbe,isObject:QN,isPlainObject:kk,isReadableStream:kbe,isRequest:Ebe,isResponse:Tbe,isHeaders:Nbe,isUndefined:db,isDate:ybe,isFile:xbe,isBlob:_be,isRegExp:zbe,isFunction:Os,isStream:wbe,isURLSearchParams:Cbe,isTypedArray:Dbe,isFileList:bbe,forEach:Pw,merge:lL,extend:jbe,trim:Abe,stripBOM:Rbe,inherits:Ibe,toFlatObject:Mbe,kindOf:ZN,kindOfTest:_l,endsWith:Pbe,toArray:Lbe,forEachEntry:Obe,matchAll:$be,isHTMLForm:Bbe,hasOwnProperty:W8,hasOwnProp:W8,reduceDescriptors:Vee,freezeMethods:Ube,toObjectSet:Hbe,toCamelCase:Fbe,noop:Vbe,toFiniteNumber:Wbe,findKey:Uee,global:Hf,isContextDefined:Hee,isSpecCompliantForm:Gbe,toJSONObject:qbe,isAsyncFn:Ybe,isThenable:Kbe,setImmediate:Wee,asap:Xbe};function vr(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}xe.inherits(vr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xe.toJSONObject(this.config),code:this.code,status:this.status}}});const Gee=vr.prototype,qee={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{qee[e]={value:e}});Object.defineProperties(vr,qee);Object.defineProperty(Gee,"isAxiosError",{value:!0});vr.from=(e,t,r,n,i,a)=>{const s=Object.create(Gee);return xe.toFlatObject(e,s,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),vr.call(s,e.message,t,r,n,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const Zbe=null;function cL(e){return xe.isPlainObject(e)||xe.isArray(e)}function Yee(e){return xe.endsWith(e,"[]")?e.slice(0,-2):e}function G8(e,t,r){return e?e.concat(t).map(function(i,a){return i=Yee(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function Jbe(e){return xe.isArray(e)&&!e.some(cL)}const Qbe=xe.toFlatObject(xe,{},null,function(t){return/^is[A-Z]/.test(t)});function e2(e,t,r){if(!xe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=xe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,m){return!xe.isUndefined(m[v])});const n=r.metaTokens,i=r.visitor||u,a=r.dots,s=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&xe.isSpecCompliantForm(t);if(!xe.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(xe.isDate(g))return g.toISOString();if(!l&&xe.isBlob(g))throw new vr("Blob is not supported. Use a Buffer instead.");return xe.isArrayBuffer(g)||xe.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,v,m){let y=g;if(g&&!m&&typeof g=="object"){if(xe.endsWith(v,"{}"))v=n?v:v.slice(0,-2),g=JSON.stringify(g);else if(xe.isArray(g)&&Jbe(g)||(xe.isFileList(g)||xe.endsWith(v,"[]"))&&(y=xe.toArray(g)))return v=Yee(v),y.forEach(function(_,b){!(xe.isUndefined(_)||_===null)&&t.append(s===!0?G8([v],b,a):s===null?v:v+"[]",c(_))}),!1}return cL(g)?!0:(t.append(G8(m,v,a),c(g)),!1)}const h=[],f=Object.assign(Qbe,{defaultVisitor:u,convertValue:c,isVisitable:cL});function p(g,v){if(!xe.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(g),xe.forEach(g,function(y,x){(!(xe.isUndefined(y)||y===null)&&i.call(t,y,xe.isString(x)?x.trim():x,v,f))===!0&&p(y,v?v.concat(x):[x])}),h.pop()}}if(!xe.isObject(e))throw new TypeError("data must be an object");return p(e),t}function q8(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function W5(e,t){this._pairs=[],e&&e2(e,this,t)}const Kee=W5.prototype;Kee.append=function(t,r){this._pairs.push([t,r])};Kee.toString=function(t){const r=t?function(n){return t.call(this,n,q8)}:q8;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function ewe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Xee(e,t,r){if(!t)return e;const n=r&&r.encode||ewe;xe.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(t,r):a=xe.isURLSearchParams(t)?t.toString():new W5(t,r).toString(n),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Y8{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){xe.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Zee={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},twe=typeof URLSearchParams<"u"?URLSearchParams:W5,rwe=typeof FormData<"u"?FormData:null,nwe=typeof Blob<"u"?Blob:null,iwe={isBrowser:!0,classes:{URLSearchParams:twe,FormData:rwe,Blob:nwe},protocols:["http","https","file","blob","url","data"]},G5=typeof window<"u"&&typeof document<"u",uL=typeof navigator=="object"&&navigator||void 0,awe=G5&&(!uL||["ReactNative","NativeScript","NS"].indexOf(uL.product)<0),swe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",owe=G5&&window.location.href||"http://localhost",lwe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:G5,hasStandardBrowserEnv:awe,hasStandardBrowserWebWorkerEnv:swe,navigator:uL,origin:owe},Symbol.toStringTag,{value:"Module"})),ma={...lwe,...iwe};function cwe(e,t){return e2(e,new ma.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,a){return ma.isNode&&xe.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function uwe(e){return xe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function dwe(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}function Jee(e){function t(r,n,i,a){let s=r[a++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),l=a>=r.length;return s=!s&&xe.isArray(i)?i.length:s,l?(xe.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!o):((!i[s]||!xe.isObject(i[s]))&&(i[s]=[]),t(r,n,i[s],a)&&xe.isArray(i[s])&&(i[s]=dwe(i[s])),!o)}if(xe.isFormData(e)&&xe.isFunction(e.entries)){const r={};return xe.forEachEntry(e,(n,i)=>{t(uwe(n),i,r,0)}),r}return null}function hwe(e,t,r){if(xe.isString(e))try{return(t||JSON.parse)(e),xe.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Lw={transitional:Zee,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=xe.isObject(t);if(a&&xe.isHTMLForm(t)&&(t=new FormData(t)),xe.isFormData(t))return i?JSON.stringify(Jee(t)):t;if(xe.isArrayBuffer(t)||xe.isBuffer(t)||xe.isStream(t)||xe.isFile(t)||xe.isBlob(t)||xe.isReadableStream(t))return t;if(xe.isArrayBufferView(t))return t.buffer;if(xe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return cwe(t,this.formSerializer).toString();if((o=xe.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return e2(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),hwe(t)):t}],transformResponse:[function(t){const r=this.transitional||Lw.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(xe.isResponse(t)||xe.isReadableStream(t))return t;if(t&&xe.isString(t)&&(n&&!this.responseType||i)){const s=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(o){if(s)throw o.name==="SyntaxError"?vr.from(o,vr.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ma.classes.FormData,Blob:ma.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xe.forEach(["delete","get","head","post","put","patch"],e=>{Lw.headers[e]={}});const fwe=xe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pwe=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),r=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!r||t[r]&&fwe[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},K8=Symbol("internals");function Iy(e){return e&&String(e).trim().toLowerCase()}function Ek(e){return e===!1||e==null?e:xe.isArray(e)?e.map(Ek):String(e)}function gwe(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const mwe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function vj(e,t,r,n,i){if(xe.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!xe.isString(t)){if(xe.isString(n))return t.indexOf(n)!==-1;if(xe.isRegExp(n))return n.test(t)}}function vwe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function ywe(e,t){const r=xe.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,a,s){return this[n].call(this,t,i,a,s)},configurable:!0})})}let xs=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function a(o,l,c){const u=Iy(l);if(!u)throw new Error("header name must be a non-empty string");const h=xe.findKey(i,u);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=Ek(o))}const s=(o,l)=>xe.forEach(o,(c,u)=>a(c,u,l));if(xe.isPlainObject(t)||t instanceof this.constructor)s(t,r);else if(xe.isString(t)&&(t=t.trim())&&!mwe(t))s(pwe(t),r);else if(xe.isHeaders(t))for(const[o,l]of t.entries())a(l,o,n);else t!=null&&a(r,t,n);return this}get(t,r){if(t=Iy(t),t){const n=xe.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return gwe(i);if(xe.isFunction(r))return r.call(this,i,n);if(xe.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Iy(t),t){const n=xe.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||vj(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function a(s){if(s=Iy(s),s){const o=xe.findKey(n,s);o&&(!r||vj(n,n[o],o,r))&&(delete n[o],i=!0)}}return xe.isArray(t)?t.forEach(a):a(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!t||vj(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const r=this,n={};return xe.forEach(this,(i,a)=>{const s=xe.findKey(n,a);if(s){r[s]=Ek(i),delete r[a];return}const o=t?vwe(a):String(a).trim();o!==a&&delete r[a],r[o]=Ek(i),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return xe.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&xe.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[K8]=this[K8]={accessors:{}}).accessors,i=this.prototype;function a(s){const o=Iy(s);n[o]||(ywe(i,s),n[o]=!0)}return xe.isArray(t)?t.forEach(a):a(t),this}};xs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);xe.reduceDescriptors(xs.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});xe.freezeMethods(xs);function yj(e,t){const r=this||Lw,n=t||r,i=xs.from(n.headers);let a=n.data;return xe.forEach(e,function(o){a=o.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function Qee(e){return!!(e&&e.__CANCEL__)}function c0(e,t,r){vr.call(this,e??"canceled",vr.ERR_CANCELED,t,r),this.name="CanceledError"}xe.inherits(c0,vr,{__CANCEL__:!0});function ete(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new vr("Request failed with status code "+r.status,[vr.ERR_BAD_REQUEST,vr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function xwe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function _we(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,a=0,s;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=n[a];s||(s=c),r[i]=l,n[i]=c;let h=a,f=0;for(;h!==i;)f+=r[h++],h=h%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),c-s<t)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function bwe(e,t){let r=0,n=1e3/t,i,a;const s=(c,u=Date.now())=>{r=u,i=null,a&&(clearTimeout(a),a=null),e.apply(null,c)};return[(...c)=>{const u=Date.now(),h=u-r;h>=n?s(c,u):(i=c,a||(a=setTimeout(()=>{a=null,s(i)},n-h)))},()=>i&&s(i)]}const $E=(e,t,r=3)=>{let n=0;const i=_we(50,250);return bwe(a=>{const s=a.loaded,o=a.lengthComputable?a.total:void 0,l=s-n,c=i(l),u=s<=o;n=s;const h={loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-s)/c:void 0,event:a,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(h)},r)},X8=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Z8=e=>(...t)=>xe.asap(()=>e(...t)),wwe=ma.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,ma.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(ma.origin),ma.navigator&&/(msie|trident)/i.test(ma.navigator.userAgent)):()=>!0,Swe=ma.hasStandardBrowserEnv?{write(e,t,r,n,i,a){const s=[e+"="+encodeURIComponent(t)];xe.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),xe.isString(n)&&s.push("path="+n),xe.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Cwe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function kwe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function tte(e,t,r){let n=!Cwe(t);return e&&(n||r==!1)?kwe(e,t):t}const J8=e=>e instanceof xs?{...e}:e;function Ep(e,t){t=t||{};const r={};function n(c,u,h,f){return xe.isPlainObject(c)&&xe.isPlainObject(u)?xe.merge.call({caseless:f},c,u):xe.isPlainObject(u)?xe.merge({},u):xe.isArray(u)?u.slice():u}function i(c,u,h,f){if(xe.isUndefined(u)){if(!xe.isUndefined(c))return n(void 0,c,h,f)}else return n(c,u,h,f)}function a(c,u){if(!xe.isUndefined(u))return n(void 0,u)}function s(c,u){if(xe.isUndefined(u)){if(!xe.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function o(c,u,h){if(h in t)return n(c,u);if(h in e)return n(void 0,c)}const l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(c,u,h)=>i(J8(c),J8(u),h,!0)};return xe.forEach(Object.keys(Object.assign({},e,t)),function(u){const h=l[u]||i,f=h(e[u],t[u],u);xe.isUndefined(f)&&h!==o||(r[u]=f)}),r}const rte=e=>{const t=Ep({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:o}=t;t.headers=s=xs.from(s),t.url=Xee(tte(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(xe.isFormData(r)){if(ma.hasStandardBrowserEnv||ma.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[c,...u]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...u].join("; "))}}if(ma.hasStandardBrowserEnv&&(n&&xe.isFunction(n)&&(n=n(t)),n||n!==!1&&wwe(t.url))){const c=i&&a&&Swe.read(a);c&&s.set(i,c)}return t},Ewe=typeof XMLHttpRequest<"u",Twe=Ewe&&function(e){return new Promise(function(r,n){const i=rte(e);let a=i.data;const s=xs.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=i,u,h,f,p,g;function v(){p&&p(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let m=new XMLHttpRequest;m.open(i.method.toUpperCase(),i.url,!0),m.timeout=i.timeout;function y(){if(!m)return;const _=xs.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:_,config:e,request:m};ete(function(k){r(k),v()},function(k){n(k),v()},w),m=null}"onloadend"in m?m.onloadend=y:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(y)},m.onabort=function(){m&&(n(new vr("Request aborted",vr.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new vr("Network Error",vr.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const w=i.transitional||Zee;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),n(new vr(b,w.clarifyTimeoutError?vr.ETIMEDOUT:vr.ECONNABORTED,e,m)),m=null},a===void 0&&s.setContentType(null),"setRequestHeader"in m&&xe.forEach(s.toJSON(),function(b,w){m.setRequestHeader(w,b)}),xe.isUndefined(i.withCredentials)||(m.withCredentials=!!i.withCredentials),o&&o!=="json"&&(m.responseType=i.responseType),c&&([f,g]=$E(c,!0),m.addEventListener("progress",f)),l&&m.upload&&([h,p]=$E(l),m.upload.addEventListener("progress",h),m.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=_=>{m&&(n(!_||_.type?new c0(null,e,m):_),m.abort(),m=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const x=xwe(i.url);if(x&&ma.protocols.indexOf(x)===-1){n(new vr("Unsupported protocol "+x+":",vr.ERR_BAD_REQUEST,e));return}m.send(a||null)})},Nwe=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const a=function(c){if(!i){i=!0,o();const u=c instanceof Error?c:this.reason;n.abort(u instanceof vr?u:new c0(u instanceof Error?u.message:u))}};let s=t&&setTimeout(()=>{s=null,a(new vr(`timeout ${t} of ms exceeded`,vr.ETIMEDOUT))},t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),e=null)};e.forEach(c=>c.addEventListener("abort",a));const{signal:l}=n;return l.unsubscribe=()=>xe.asap(o),l}},Awe=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},jwe=async function*(e,t){for await(const r of Rwe(e))yield*Awe(r,t)},Rwe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Q8=(e,t,r,n)=>{const i=jwe(e,t);let a=0,s,o=l=>{s||(s=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){o(),l.close();return}let h=u.byteLength;if(r){let f=a+=h;r(f)}l.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},t2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",nte=t2&&typeof ReadableStream=="function",Iwe=t2&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),ite=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Mwe=nte&&ite(()=>{let e=!1;const t=new Request(ma.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),eU=64*1024,dL=nte&&ite(()=>xe.isReadableStream(new Response("").body)),BE={stream:dL&&(e=>e.body)};t2&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!BE[t]&&(BE[t]=xe.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new vr(`Response type '${t}' is not supported`,vr.ERR_NOT_SUPPORT,n)})})})(new Response);const Pwe=async e=>{if(e==null)return 0;if(xe.isBlob(e))return e.size;if(xe.isSpecCompliantForm(e))return(await new Request(ma.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(xe.isArrayBufferView(e)||xe.isArrayBuffer(e))return e.byteLength;if(xe.isURLSearchParams(e)&&(e=e+""),xe.isString(e))return(await Iwe(e)).byteLength},Lwe=async(e,t)=>{const r=xe.toFiniteNumber(e.getContentLength());return r??Pwe(t)},Dwe=t2&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:a,timeout:s,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:f}=rte(e);c=c?(c+"").toLowerCase():"text";let p=Nwe([i,a&&a.toAbortSignal()],s),g;const v=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let m;try{if(l&&Mwe&&r!=="get"&&r!=="head"&&(m=await Lwe(u,n))!==0){let w=new Request(t,{method:"POST",body:n,duplex:"half"}),S;if(xe.isFormData(n)&&(S=w.headers.get("content-type"))&&u.setContentType(S),w.body){const[k,C]=X8(m,$E(Z8(l)));n=Q8(w.body,eU,k,C)}}xe.isString(h)||(h=h?"include":"omit");const y="credentials"in Request.prototype;g=new Request(t,{...f,signal:p,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:y?h:void 0});let x=await fetch(g);const _=dL&&(c==="stream"||c==="response");if(dL&&(o||_&&v)){const w={};["status","statusText","headers"].forEach(E=>{w[E]=x[E]});const S=xe.toFiniteNumber(x.headers.get("content-length")),[k,C]=o&&X8(S,$E(Z8(o),!0))||[];x=new Response(Q8(x.body,eU,k,()=>{C&&C(),v&&v()}),w)}c=c||"text";let b=await BE[xe.findKey(BE,c)||"text"](x,e);return!_&&v&&v(),await new Promise((w,S)=>{ete(w,S,{data:b,headers:xs.from(x.headers),status:x.status,statusText:x.statusText,config:e,request:g})})}catch(y){throw v&&v(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new vr("Network Error",vr.ERR_NETWORK,e,g),{cause:y.cause||y}):vr.from(y,y&&y.code,e,g)}}),hL={http:Zbe,xhr:Twe,fetch:Dwe};xe.forEach(hL,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const tU=e=>`- ${e}`,Owe=e=>xe.isFunction(e)||e===null||e===!1,ate={getAdapter:e=>{e=xe.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let a=0;a<t;a++){r=e[a];let s;if(n=r,!Owe(r)&&(n=hL[(s=String(r)).toLowerCase()],n===void 0))throw new vr(`Unknown adapter '${s}'`);if(n)break;i[s||"#"+a]=n}if(!n){const a=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=t?a.length>1?`since :
`+a.map(tU).join(`
`):" "+tU(a[0]):"as no adapter specified";throw new vr("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:hL};function xj(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new c0(null,e)}function rU(e){return xj(e),e.headers=xs.from(e.headers),e.data=yj.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ate.getAdapter(e.adapter||Lw.adapter)(e).then(function(n){return xj(e),n.data=yj.call(e,e.transformResponse,n),n.headers=xs.from(n.headers),n},function(n){return Qee(n)||(xj(e),n&&n.response&&(n.response.data=yj.call(e,e.transformResponse,n.response),n.response.headers=xs.from(n.response.headers))),Promise.reject(n)})}const ste="1.8.4",r2={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{r2[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const nU={};r2.transitional=function(t,r,n){function i(a,s){return"[Axios v"+ste+"] Transitional option '"+a+"'"+s+(n?". "+n:"")}return(a,s,o)=>{if(t===!1)throw new vr(i(s," has been removed"+(r?" in "+r:"")),vr.ERR_DEPRECATED);return r&&!nU[s]&&(nU[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,s,o):!0}};r2.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function $we(e,t,r){if(typeof e!="object")throw new vr("options must be an object",vr.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],s=t[a];if(s){const o=e[a],l=o===void 0||s(o,a,e);if(l!==!0)throw new vr("option "+a+" must be "+l,vr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new vr("Unknown option "+a,vr.ERR_BAD_OPTION)}}const Tk={assertOptions:$we,validators:r2},Il=Tk.validators;let ap=class{constructor(t){this.defaults=t,this.interceptors={request:new Y8,response:new Y8}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ep(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&Tk.assertOptions(n,{silentJSONParsing:Il.transitional(Il.boolean),forcedJSONParsing:Il.transitional(Il.boolean),clarifyTimeoutError:Il.transitional(Il.boolean)},!1),i!=null&&(xe.isFunction(i)?r.paramsSerializer={serialize:i}:Tk.assertOptions(i,{encode:Il.function,serialize:Il.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Tk.assertOptions(r,{baseUrl:Il.spelling("baseURL"),withXsrfToken:Il.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=a&&xe.merge(a.common,a[r.method]);a&&xe.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),r.headers=xs.concat(s,a);const o=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(l=l&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,h=0,f;if(!l){const g=[rU.bind(this),void 0];for(g.unshift.apply(g,o),g.push.apply(g,c),f=g.length,u=Promise.resolve(r);h<f;)u=u.then(g[h++],g[h++]);return u}f=o.length;let p=r;for(h=0;h<f;){const g=o[h++],v=o[h++];try{p=g(p)}catch(m){v.call(this,m);break}}try{u=rU.call(this,p)}catch(g){return Promise.reject(g)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(t){t=Ep(this.defaults,t);const r=tte(t.baseURL,t.url,t.allowAbsoluteUrls);return Xee(r,t.params,t.paramsSerializer)}};xe.forEach(["delete","get","head","options"],function(t){ap.prototype[t]=function(r,n){return this.request(Ep(n||{},{method:t,url:r,data:(n||{}).data}))}});xe.forEach(["post","put","patch"],function(t){function r(n){return function(a,s,o){return this.request(Ep(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}ap.prototype[t]=r(),ap.prototype[t+"Form"]=r(!0)});let Bwe=class ote{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(o=>{n.subscribe(o),a=o}).then(i);return s.cancel=function(){n.unsubscribe(a)},s},t(function(a,s,o){n.reason||(n.reason=new c0(a,s,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new ote(function(i){t=i}),cancel:t}}};function Fwe(e){return function(r){return e.apply(null,r)}}function zwe(e){return xe.isObject(e)&&e.isAxiosError===!0}const fL={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(fL).forEach(([e,t])=>{fL[t]=e});function lte(e){const t=new ap(e),r=Bee(ap.prototype.request,t);return xe.extend(r,ap.prototype,t,{allOwnKeys:!0}),xe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return lte(Ep(e,i))},r}const $t=lte(Lw);$t.Axios=ap;$t.CanceledError=c0;$t.CancelToken=Bwe;$t.isCancel=Qee;$t.VERSION=ste;$t.toFormData=e2;$t.AxiosError=vr;$t.Cancel=$t.CanceledError;$t.all=function(t){return Promise.all(t)};$t.spread=Fwe;$t.isAxiosError=zwe;$t.mergeConfig=Ep;$t.AxiosHeaders=xs;$t.formToJSON=e=>Jee(xe.isHTMLForm(e)?new FormData(e):e);$t.getAdapter=ate.getAdapter;$t.HttpStatusCode=fL;$t.default=$t;const{Axios:Wmt,AxiosError:Gmt,CanceledError:qmt,isCancel:Ymt,CancelToken:Kmt,VERSION:Xmt,all:Zmt,Cancel:Jmt,isAxiosError:Qmt,spread:evt,toFormData:tvt,AxiosHeaders:rvt,HttpStatusCode:nvt,formToJSON:ivt,getAdapter:avt,mergeConfig:svt}=$t,Uwe=({userId:e,isOpen:t,onClose:r})=>{const[n,i]=A.useState(!1);if(!t)return null;const a=()=>{navigator.clipboard.writeText(e),i(!0),setTimeout(()=>i(!1),2e3)};return d.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 animate-fade-in",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md mx-4 overflow-hidden animate-zoom-in",onClick:s=>s.stopPropagation(),children:[d.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 flex items-center",children:[d.jsx("span",{className:"mr-2",children:"🔑"})," Your User ID"]}),d.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-500 focus:outline-none transition-colors",children:d.jsx(Ua,{size:18})})]}),d.jsxs("div",{className:"px-6 py-5",children:[d.jsx("div",{className:"bg-gray-50 rounded-md p-4 mb-4 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("code",{className:"text-sm font-mono text-gray-800 break-all",children:e}),d.jsx("button",{onClick:a,className:"ml-2 p-1.5 text-gray-500 hover:text-blue-600 rounded-md hover:bg-blue-50 transition-all focus:outline-none",title:"Copy to Clipboard",children:n?d.jsx(Mw,{size:16,className:"text-green-500"}):d.jsx(kee,{size:16})})]})}),d.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[d.jsx("p",{children:"Used to activate OlaOla AI package features."}),d.jsxs("p",{children:["Please visit ",d.jsx("a",{href:"https://olaola.dev",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline",children:"olaola.dev"})," to bind this ID."]})]})]}),d.jsx("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:d.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm rounded-md transition-colors",children:"Close"})})]})})},cte=A.createContext({language:"en",setLanguage:()=>{},t:e=>e}),Lx={en:{networkDeploy:"OlaOla Network Deploy",telemetry:"OlaOla Telemetry",networkCopilot:"Network Copilot",logout:"Logout",slogan:"A Network That Understands You.",systemUpdate:"System Update: O-intec Optima v3.1 released",newDevice:"New network device connected",toggleLaungage:"Switch to Chinese",refreshDevice:"Refresh Devices",role:"Role",selectRole:"Select Role",leaf:"Leaf",spine:"Spine",superspine:"SuperSpine",generationFailure:"Topology Generation Failed",getLLDPFailure:"Failed to Get LLDP",json:"JSON",cancel:"Cancel",save:"Save",saving:"Saving...",deviceConfig:"Device Configuration",downloadJSON:"Download JSON",debugInfo:"Debug Info",viewAllData:"View All Data",number:"No.",ip:"IP Address",saveFailure:"Save Failed",showAllRecords:"Showing all {0} records",currentRecords:"Showing {0} - {1} of {2} records",totalRecords:"Total records: {0}",currentPage:"Current page: {0}",recordsPerPage:"Records per page: {0}",dataType:"Data type: {0}",currentPageData:"Current page data: {0}",filteredData:"Filtered data: {0}",array:"Array",object:"Object",deviceDiscovery:"Device Discovery",deviceList:"Device List",neighborDiscovery:"Neighbor Discovery",topologyGeneration:"Topology Generation",configManagement:"Config Management",configSnapshot:"Config Snapshot",snapshotHistory:"Snapshot History",scanSubnet:"Scan",scanning:"Scanning",searchDevices:"Search devices...",noDevicesFound:"No devices found",supportSNMP:"Please scan the network and ensure devices support SNMP | SNMP community public is configured",ipAddress:"IP Address",hostname:"Hostname",vendor:"Vendor",hwModel:"Hardware Model",operatingSystem:"Operating System",unknown:"Unknown",nextPage:"Next Page",prevPage:"Previous Page",page:"Page",of:"of",refresh:"Refresh",noDatabaseDevices:"No devices in database",selectDevice:"Select Device",selectAll:"Select All",deselectAll:"Deselect All",getLLDP:"Get LLDP",getting:"Getting",lldpInfo:"LLDP Information",selectDeviceFirst:"Please select a device and click the 'Get LLDP' button",noLLDPNeighbors:"No LLDP neighbors found for this device",localPort:"Local Port",neighborDevice:"Neighbor Device",neighborPort:"Neighbor Port",neighborPortDesc:"Neighbor Port Description",selectDeviceRole:"Select devices and specify roles",generate:"Generate",generating:"Generating",roleNotSpecified:"Role not specified",pleaseSpecifyRoles:"Please specify a role for all selected devices",generatedTopology:"Generated Topology",saveTopology:"Save Topology",credentials:"Credentials",username:"Username",password:"Password",extractResults:"Extraction Results",total:"Total",success:"Success",failure:"Failure",status:"Status",message:"Message",extractionTime:"Extraction Time",actions:"Actions",noConfig:"No config",extractConfig:"Extract Config",extracting:"Extracting",noDevicesSelected:"No devices selected",createSnapshot:"Create snapshot",creating:"Creating",noSnapshots:"No available snapshots",clickToCreateSnapshot:"Click 'Create Snapshot' button to create a new snapshot",snapshotTime:"Snapshot Time",versionTag:"Version Tag",showAll:"Show All",noHistoryAvailable:"No history available",noSnapshotHistory:"No snapshot history found",deviceModel:"Device Model",portLayout:"Port Layout",chip:"Chipset",bufferSize:"Buffer Size",inlet:"Inlet",asic:"ASIC",outflow:"Outflow",newConversation:"New Conversation",savedConfigs:"Saved Configs",enterNetworkTask:"Describe the network task you want to accomplish...",pressEnterToSend:"Press Enter to send, Shift+Enter for a new line",sendingResponse:"Generating response...",bluetransfer:"Blue: Data Transfer",redDrop:"Red: Dropped Data",progressBarInfo:"(Progress bar shows transfer and drop ratio)",transmission:"Transmission",packets:"Packets",totalTransfer:"Total Transfer",deviceDiscoveryDesc:"Scan specified subnet to automatically discover network devices via Ping+SNMP",deviceListDesc:"Display all discovered devices stored in the database",deviceCountDisplay:"Currently showing {0} devices, total of {1} devices",neighborDiscoveryDesc:"Discover network neighbor relationships through LLDP protocol, select device to get neighbor information",topologyGenerationDesc:"Generate network topology based on discovered neighbor relationships",configManagementDesc:"Extract and manage device configurations",configSnapshotDesc:"Create and view device configuration snapshots, default backup time is once per day",snapshotHistoryDesc:"View history of device configuration snapshots ({0} records)",subnetRange:"Subnet Range",selectLabel:"Select",noNeighborsCap:"No Neighbors",zoomTip:"Tip: Zoom in to see more details",nodeRoles:"Node Roles",saveTopologyDesc:"Save current topology for use in other interfaces",topologyNameRequired:"Topology Name*",description:"Description",creator:"Creator",topologyNamePlaceholder:"Example: pod1, pod2",topologyDescPlaceholder:"Brief description of the topology",noValidNeighbors:"No valid neighbor connections",connectionError:"Unable to connect to device",snapshotDefaultText:"Default snapshot backup time is once per day, you can also click the button to create a snapshot immediately.",searchSnapshot:"Search snapshots...",searchSnapshotHistory:"Search snapshot history...",originalRole:"Original Setting",pageOf:"Page {0} of {1}",prevPageText:"Previous Page",nextPageText:"Next Page",totalDevices:"Currently showing {0} devices, total of {1} devices",subnetExample:"Example: 192.168.1.0/24",neighborConnectionsText:"Neighbor Connections ({0}):",noNeighborsText:"No Neighbors",connectionFailure:"Connection Failed",saveTopologyTitle:"Save Topology",noDataToDisplay:"No data to display. Please check filters or refresh the page.",roleText:"Role",networkTopology:"Network Topology",devicePanel:"Device Panel",hardwareMonitoring:"Hardware Monitoring",bandwidthAnalysis:"Bandwidth Analysis",routingTable:"Routing Table",bgpStatus:"BGP Status",qosPolicy:"QoS Policy",l2Forwarding:"L2 Forwarding",systemProcess:"System Process",searchDevice:"Search Device",networkTopologyMap:"Network Topology Map",currentDisplay:"Current Display",selectTopology:"Select Topology",refreshList:"Refresh List",topologyName:"Topology Name",creationTime:"Creation Time",loading:"Loading...",loadingFailed:"Loading Failed",selectTopologyPlaceholder:"Select topology to display",hardwareMonitoringTitle:"Hardware Monitoring",deviceInfoText:"Device: {0} Hardware Status Monitoring",temperatureMonitoring:"Temperature Monitoring",otherSensors:"Other Sensors",asicTemperature:"ASIC Chip Temperature",inletTemperature:"Inlet Temperature",outletTemperature:"Outlet Temperature",temperatureThreshold:"Threshold: {0}°C",normalStatus:"Normal",temperatureDistribution:"Device Temperature Distribution",outlet:"Outlet",timeUnknown:"Time Unknown",updatedAgo:"Updated {0}",attention:"Attention",devicePanelTitle:"Device Panel",deviceInfoLabel:"Device: {0}({1})",refreshDeviceButton:"Refresh Device",loadingDeviceInfo:"Loading device information...",deviceModelLabel:"Device Model",portLayoutLabel:"Port Layout",chipLabel:"Chipset",buffer:"Buffer",portStatus:"Port Status",physicalPort:"Physical Port",logicalPort:"Logical Port",statusColumn:"Status",speed:"Speed",inboundDiscards:"Inbound Discards (CRC/FCS)",inboundPolicyDiscards:"Inbound Policy Discards (ACL/QOS)",outboundPolicyDiscards:"Outbound Policy Discards (ACL/QOS)",outboundDiscards:"Outbound Discards (CRC/FCS)",totalReceivedPackets:"Total Received Packets",totalSentPackets:"Total Sent Packets",online:"Online",offline:"Offline",refreshing:"Refreshing",enterIpToSearch:"Please enter IP to search for device",deviceOffline:"Device Offline",deviceOfflineMessage:"The device with the IP address you searched for is offline. Please check if the IP address is correct.",noDeviceSelected:"No Device Selected",enterIpAddressToSearch:"Please enter IP address to search for device",enterIpForBandwidth:"Please enter IP address to search for device to view bandwidth analysis",enterIpForRouting:"Please enter IP address to search for device to view routing table information",enterIpForBgp:"Please enter IP address to search for device to view BGP status information",enterIpForQos:"Please enter IP address to search for device to view QoS policy information",enterIpForL2:"Please enter IP address to search for device to view L2 forwarding information",enterIpForSystem:"Please enter IP address to search for device to view system process information",noHardwareInfo:"No Hardware Information",hardwareNotSupported:"This device may not support hardware monitoring or has not returned relevant data",noBandwidthData:"Unable to get bandwidth data",bandwidthDataError:"Failed to get bandwidth analysis data from the device. Please check the device connection status",noRoutingTable:"Unable to get routing table",routingTableError:"Failed to get routing table data from the device. Please check the device connection status",noBgpStatusData:"Unable to get BGP status data",bgpStatusError:"Failed to get BGP status data from the device. Please check the device connection status or if BGP is configured on the device",noQoSPolicyData:"Unable to get QoS policy data",qosPolicyError:"Failed to get QoS policy data from the device. Please check the device connection status or if QoS is configured on the device",noL2ForwardingData:"Unable to get L2 forwarding data",l2ForwardingError:"Failed to get L2 forwarding data from the device. Please check the device connection status",noSystemData:"Unable to get system data",systemDataError:"Failed to get system data from the device. Please check the device connection status",loadingTopology:"Loading topology...",loadingHardwareInfo:"Loading hardware information...",loadingRoutingTable:"Loading routing table information...",loadingBgpStatus:"Loading BGP status information...",loadingQosPolicy:"Loading QoS policy information...",loadingL2Forwarding:"Loading L2 forwarding information...",loadingSystemProcess:"Loading system process information...",unsupportedOSType:"Unsupported operating system type: Unknown",llmAgentDeployDesc:"Deploy OlaOla LLM Agent script to multiple SONiC devices with one click",aiServerIp:"AI Copilot Server IP",deployLLMAgent:"Deploy LLM Agent",deploying:"Deploying",deploymentComplete:"Deployment Complete",deploymentSuccess:"All devices deployed successfully!",deploymentPartialFailure:"Some devices failed to deploy. Please check the results.",deploymentError:"Deployment Error",deploymentErrorDesc:"Failed to deploy LLM Agent. Please try again.",deploymentResults:"Deployment Results",timestamp:"Timestamp",deployedAgentsList:"Deployed LLM Agent List"},zh:{networkDeploy:"网络部署",telemetry:"OlaOla Telemetry",networkCopilot:"Network Copilot",logout:"退出登录",slogan:"共生网络，让网络第一次开口说话",systemUpdate:"系统升级通知：O-intec Optima v3.1已发布",newDevice:"检测到新的网络设备已接入",toggleLanguage:"切换为英文",refreshDevice:"刷新设备",role:"角色",selectRole:"选择角色",leaf:"Leaf",spine:"Spine",superspine:"SuperSpine",generationFailure:"生成拓扑失败",getLLDPFailure:"获取LLDP失败",json:"JSON",cancel:"取消",save:"保存",saving:"保存中",deviceConfig:"设备配置",downloadJSON:"下载JSON",debugInfo:"调试信息",viewAllData:"查看所有数据",number:"序号",ip:"IP地址",saveFailure:"保存失败",showAllRecords:"显示全部 {0} 条记录",currentRecords:"当前显示第 {0} - {1} 条，共 {2} 条记录",totalRecords:"数据总数: {0}",currentPage:"当前页: {0}",recordsPerPage:"每页显示: {0}",dataType:"数据类型: {0}",currentPageData:"当前页数据数量: {0}",filteredData:"过滤后数据数量: {0}",array:"数组",object:"对象",deviceDiscovery:"设备发现",deviceList:"设备列表",neighborDiscovery:"邻居发现",topologyGeneration:"拓扑生成",configManagement:"配置管理",configSnapshot:"配置快照",snapshotHistory:"快照历史",scanSubnet:"开始扫描",scanning:"扫描中",searchDevices:"搜索设备...",noDevicesFound:"未发现任何设备",supportSNMP:"请扫描网络且确保设备支持SNMP | SNMP community public已配置",ipAddress:"IP地址",hostname:"主机名",vendor:"厂商品牌",hwModel:"硬件型号",operatingSystem:"操作系统",unknown:"未知",nextPage:"下一页",prevPage:"上一页",page:"第",of:"页 / 共",refresh:"刷新",noDatabaseDevices:"数据库中没有设备",selectDevice:"选择设备",selectAll:"全选",deselectAll:"取消全选",getLLDP:"获取LLDP",getting:"获取中",lldpInfo:"LLDP信息",selectDeviceFirst:'请选择设备并点击"获取LLDP"按钮',noLLDPNeighbors:"该设备未发现任何LLDP邻居",localPort:"本地端口",neighborDevice:"邻居设备",neighborPort:"邻居端口",neighborPortDesc:"邻居端口描述",selectDeviceRole:"选择设备并指定角色",generate:"生成拓扑",generating:"生成中",roleNotSpecified:"角色未指定",pleaseSpecifyRoles:"请为所有选中设备指定角色",generatedTopology:"生成的拓扑图",saveTopology:"保存拓扑",credentials:"SSH凭证",username:"用户名",password:"密码",extractResults:"配置提取结果",total:"总计",success:"成功",failure:"失败",status:"状态",message:"消息",extractionTime:"提取时间",actions:"操作",noConfig:"无配置",extractConfig:"提取配置",extracting:"提取中",noDevicesSelected:"请选择设备",createSnapshot:"配置快照备份",creating:"创建中",noSnapshots:"没有可用的配置快照",clickToCreateSnapshot:'点击"配置快照备份"按钮创建新的配置快照',snapshotTime:"快照时间",versionTag:"版本标签",showAll:"显示全部",noHistoryAvailable:"没有可用的快照历史",noSnapshotHistory:"暂无快照历史记录",deviceModel:"设备型号",portLayout:"端口布局",chip:"芯片组",bufferSize:"缓存大小",inlet:"进风",asic:"ASIC芯片",outflow:"出风",newConversation:"新会话",savedConfigs:"已保存配置",enterNetworkTask:"描述你想要完成的网络任务...",pressEnterToSend:"按 Enter 发送，Shift+Enter 换行",sendingResponse:"正在生成回复...",bluetransfer:"蓝色: 传输数据",redDrop:"红色: 丢弃数据",progressBarInfo:"(进度条显示传输与丢包比例)",transmission:"传输",packets:"包数",totalTransfer:"总传输",deviceDiscoveryDesc:"扫描指定网段，通过Ping+SNMP自动发现网络设备",deviceListDesc:"显示所有存储在数据库中的已发现设备",deviceCountDisplay:"当前显示 {0} 台设备，共 {1} 台设备",neighborDiscoveryDesc:"通过LLDP协议发现网络邻居关系，选择设备后获取其邻居信息",topologyGenerationDesc:"基于已发现的邻居关系生成网络拓扑图",configManagementDesc:"提取设备配置，管理配置文件",configSnapshotDesc:"创建和查看设备配置快照，默认快照备份时间为每天备份一次",snapshotHistoryDesc:"查看设备配置快照的历史记录（共 {0} 条）",subnetRange:"子网范围",selectLabel:"选择",noNeighborsCap:"无邻居",zoomTip:"提示：放大查看更多详细信息",nodeRoles:"节点角色",saveTopologyDesc:"保存当前拓扑以便在其他界面中使用",topologyNameRequired:"拓扑名称*",description:"描述",creator:"创建者",topologyNamePlaceholder:"例如：pod1、pod2",topologyDescPlaceholder:"拓扑的简要描述",noValidNeighbors:"无有效邻居连接",connectionError:"无法连接设备",snapshotDefaultText:"默认快照备份时间为每天备份一次，也可以手动点击按钮立即创建配置快照。",searchSnapshot:"搜索快照...",searchSnapshotHistory:"搜索快照历史...",originalRole:"原始设置",pageOf:"第 {0} 页 / 共 {1} 页",prevPageText:"上一页",nextPageText:"下一页",totalDevices:"当前显示 {0} 台设备，共 {1} 台设备",subnetExample:"例如: 192.168.1.0/24",neighborConnectionsText:"邻居连接 ({0}个):",noNeighborsText:"无邻居",connectionFailure:"无法连接设备",saveTopologyTitle:"保存当前拓扑",noDataToDisplay:"没有数据可显示。请检查过滤条件或刷新页面。",roleText:"角色",networkTopology:"网络拓扑",devicePanel:"设备面板",hardwareMonitoring:"硬件监控",bandwidthAnalysis:"带宽分析",routingTable:"路由表",bgpStatus:"BGP状态",qosPolicy:"QoS策略",l2Forwarding:"二层转发",systemProcess:"系统进程",searchDevice:"搜索设备",networkTopologyMap:"网络拓扑图",currentDisplay:"当前显示",selectTopology:"选择拓扑",refreshList:"刷新列表",topologyName:"拓扑名称",creationTime:"创建时间",loading:"加载中...",loadingFailed:"加载失败",selectTopologyPlaceholder:"选择要显示的拓扑",hardwareMonitoringTitle:"硬件监控",deviceInfoText:"设备: {0} 硬件状态监控",temperatureMonitoring:"温度监控",otherSensors:"其他传感器",asicTemperature:"ASIC芯片温度",inletTemperature:"进风温度",outletTemperature:"出风温度",temperatureThreshold:"阈值: {0}°C",normalStatus:"正常",temperatureDistribution:"设备温度分布",outlet:"出风",timeUnknown:"时间未知",updatedAgo:"更新于 {0}",attention:"注意",devicePanelTitle:"设备面板",deviceInfoLabel:"设备: {0}({1})",refreshDeviceButton:"刷新设备",loadingDeviceInfo:"加载设备信息中...",deviceModelLabel:"设备型号",portLayoutLabel:"端口布局",chipLabel:"芯片组",buffer:"缓存",portStatus:"端口状态",physicalPort:"物理口",logicalPort:"逻辑口",statusColumn:"状态",speed:"速率",inboundDiscards:"入向丢弃(CRC/FCS)",inboundPolicyDiscards:"入向策略丢弃(ACL/QOS)",outboundPolicyDiscards:"出向策略丢弃(ACL/QOS)",outboundDiscards:"出向丢弃(CRC/FCS)",totalReceivedPackets:"总收包",totalSentPackets:"总发包",online:"在线",offline:"离线",refreshing:"刷新中",enterIpToSearch:"请输入IP搜索设备",deviceOffline:"设备不在线",deviceOfflineMessage:"您搜索的IP地址设备不在线，请检查IP地址是否正确",noDeviceSelected:"未选择设备",enterIpAddressToSearch:"请输入IP地址搜索设备",enterIpForBandwidth:"请输入IP地址搜索设备以查看带宽分析",enterIpForRouting:"请输入IP地址搜索设备以查看路由表信息",enterIpForBgp:"请输入IP地址搜索设备以查看BGP状态信息",enterIpForQos:"请输入IP地址搜索设备以查看QoS策略信息",enterIpForL2:"请输入IP地址搜索设备以查看二层转发信息",enterIpForSystem:"请输入IP地址搜索设备以查看系统进程信息",noHardwareInfo:"未获取到硬件信息",hardwareNotSupported:"该设备可能不支持硬件监控或未返回相关数据",noBandwidthData:"无法获取带宽数据",bandwidthDataError:"未能从设备获取带宽分析数据，请检查设备连接状态",noRoutingTable:"无法获取路由表",routingTableError:"未能从设备获取路由表数据，请检查设备连接状态",noBgpStatusData:"无法获取BGP状态数据",bgpStatusError:"未能从设备获取BGP状态数据，请检查设备连接状态或设备是否配置了BGP",noQoSPolicyData:"无法获取QoS策略数据",qosPolicyError:"未能从设备获取QoS策略数据，请检查设备连接状态或设备是否配置了QoS",noL2ForwardingData:"未获取到二层转发数据",l2ForwardingError:"未能从设备获取二层转发数据，请检查设备连接状态",noSystemData:"未获取到系统数据",systemDataError:"未能从设备获取系统数据，请检查设备连接状态",loadingTopology:"加载拓扑中...",loadingHardwareInfo:"加载硬件信息中...",loadingRoutingTable:"加载路由表信息中...",loadingBgpStatus:"加载BGP状态信息中...",loadingQosPolicy:"加载QoS策略信息中...",loadingL2Forwarding:"加载二层转发信息中...",loadingSystemProcess:"加载系统进程信息中...",unsupportedOSType:"不支持的操作系统类型: 未知",llmAgentDeployDesc:"一键将 OlaOla LLM Agent 脚本部署到多个 SONiC 设备",aiServerIp:"AI Copilot 服务器 IP",deployLLMAgent:"部署 LLM Agent",deploying:"部署中",deploymentComplete:"部署完成",deploymentSuccess:"所有设备部署成功！",deploymentPartialFailure:"部分设备部署失败，请查看结果详情。",deploymentError:"部署错误",deploymentErrorDesc:"LLM Agent 部署失败，请重试。",deploymentResults:"部署结果",timestamp:"时间戳",deployedAgentsList:"已部署的 LLM Agent 列表"}},Hwe=({children:e})=>{const[t,r]=A.useState("en");A.useEffect(()=>{const i=localStorage.getItem("language");i&&(i==="en"||i==="zh")&&r(i)},[]),A.useEffect(()=>{localStorage.setItem("language",t)},[t]);const n=(i,a)=>{let o=Lx[t][i]||i;return a&&a.forEach((l,c)=>{o=o.replace(`{${c}}`,String(l))}),o};return d.jsx(cte.Provider,{value:{language:t,setLanguage:r,t:n},children:e})},q5=()=>A.useContext(cte),Qa=({children:e})=>{const t=Ph(),r=KN(),[n,i]=A.useState(!1),[a,s]=A.useState(!1),[o,l]=A.useState(""),[c,u]=A.useState(!1),{language:h,setLanguage:f,t:p}=q5(),[g,v]=A.useState([{id:"1",message:Lx[h].systemUpdate,read:!1},{id:"2",message:Lx[h].newDevice,read:!1}]);en.useEffect(()=>{v([{id:"1",message:Lx[h].systemUpdate,read:!1},{id:"2",message:Lx[h].newDevice,read:!1}])},[h]);const m=t.pathname,y=()=>{localStorage.removeItem("token"),r("/login")},x=()=>{i(!n)},_=()=>{f(h==="en"?"zh":"en")},b=async()=>{try{u(!0);const w=await $t.post("http://localhost:5678/webhook/olaola/user_id");if(w.data&&Array.isArray(w.data)&&w.data.length>0){const S=w.data[0];if(S.stdout)try{const k=JSON.parse(S.stdout);if(k&&k.user_id){l(k.user_id),s(!0);return}}catch(k){console.error("Error parsing stdout JSON:",k)}}console.error("Invalid response format from user ID endpoint",w.data),l("ae12f345-67bc-890d-12ef-34567890abcd"),s(!0)}catch(w){console.error("Failed to fetch user ID:",w),l("ae12f345-67bc-890d-12ef-34567890abcd"),s(!0)}finally{u(!1)}};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex h-screen bg-gray-100 overflow-hidden",children:[d.jsx("div",{className:"hidden md:flex md:flex-shrink-0",children:d.jsxs("div",{className:"flex flex-col w-16 bg-white shadow-lg",children:[d.jsx("div",{className:"flex-1 flex flex-col justify-center overflow-y-auto",children:d.jsxs("div",{className:"flex flex-col items-center space-y-10 mb-20",children:[d.jsx(_j,{to:"/network-deployment",icon:d.jsx(B8,{size:22}),label:"",tooltip:p("networkDeploy"),active:m==="/network-deployment"}),d.jsx(_j,{to:"/hd-telemetry",icon:d.jsx(L8,{size:22}),label:"",tooltip:p("telemetry"),active:m==="/hd-telemetry"}),d.jsx(_j,{to:"/olaolacopilot-v3",icon:d.jsx($a,{size:22}),label:"",tooltip:p("networkCopilot"),active:m==="/olaolacopilot-v3"})]})}),d.jsx("div",{className:"pb-8 flex justify-center",children:d.jsx("button",{onClick:y,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md transition-colors",title:p("logout"),children:d.jsx($8,{size:22})})})]})}),d.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[d.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:d.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-3",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("button",{type:"button",className:"md:hidden text-gray-500 hover:text-gray-600 p-2 rounded-md",onClick:x,children:n?d.jsx(Ua,{size:24}):d.jsx(w_e,{size:24})}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"flex-shrink-0 w-9 h-9 flex items-center justify-center",children:d.jsx("span",{className:"text-xl",role:"img","aria-label":"brain",children:"🧠"})}),d.jsxs("div",{className:"hidden md:block",children:[d.jsx("h1",{className:"text-lg font-semibold text-gray-800 leading-tight",children:"OlaOla AI-v0.6 beta"}),d.jsx("p",{className:"text-xs text-gray-500",children:p("slogan")})]}),d.jsxs("div",{className:"md:hidden",children:[d.jsx("h1",{className:"text-base font-semibold text-gray-800",children:"OlaOla AI-v0.6 beta"}),d.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[140px]",children:h==="en"?p("slogan").split(",")[0]:p("slogan").split("，")[0]})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("button",{onClick:_,className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md transition-colors",title:p("toggleLanguage"),children:d.jsx(y_e,{size:20})}),d.jsx("div",{className:"relative",children:d.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md transition-colors",onClick:b,disabled:c,children:d.jsx("div",{className:"h-7 w-7 rounded-full bg-gray-100 flex items-center justify-center text-gray-600",children:c?d.jsx("div",{className:"h-3 w-3 rounded-full border-2 border-gray-400 border-t-transparent animate-spin"}):d.jsx(Ree,{size:16})})})})]})]})})}),n&&d.jsx("div",{className:"md:hidden bg-white w-full absolute z-10 shadow-lg border-b border-gray-200",children:d.jsxs("div",{className:"p-4 flex justify-around",children:[d.jsx(bj,{to:"/network-deployment",icon:d.jsx(B8,{size:22}),label:"",active:m==="/network-deployment",onClick:()=>i(!1),tooltip:p("networkDeploy")}),d.jsx(bj,{to:"/hd-telemetry",icon:d.jsx(L8,{size:22}),label:"",active:m==="/hd-telemetry",onClick:()=>i(!1),tooltip:p("telemetry")}),d.jsx(bj,{to:"/olaolacopilot-v3",icon:d.jsx($a,{size:22}),label:"",active:m==="/olaolacopilot-v3",onClick:()=>i(!1),tooltip:p("networkCopilot")}),d.jsx("button",{onClick:()=>{y(),i(!1)},className:"p-2 rounded-md text-gray-700 hover:bg-gray-100",title:p("logout"),children:d.jsx($8,{size:22})})]})}),d.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50 p-4 md:p-6",children:e})]})]}),d.jsx(Uwe,{userId:o,isOpen:a,onClose:()=>s(!1)})]})},_j=({to:e,icon:t,label:r,active:n,badge:i,tooltip:a})=>d.jsxs(wee,{to:e,className:`group flex items-center justify-center p-2 rounded-md ${n?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,title:a,children:[d.jsx("span",{className:`${n?"text-blue-600":"text-gray-500 group-hover:text-blue-600"}`,children:t}),r&&d.jsx("span",{className:"ml-3 flex-1",children:r}),i&&d.jsx(Ce,{variant:"default",className:"ml-auto",children:i})]}),bj=({to:e,icon:t,label:r,active:n,onClick:i,tooltip:a})=>d.jsx(wee,{to:e,className:`flex items-center justify-center p-3 rounded-md ${n?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50 hover:text-blue-600"}`,onClick:i,title:a,children:t}),Vwe="modulepreload",Wwe=function(e){return"/"+e},iU={},wu=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=Wwe(l),l in iU)return;iU[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Vwe,c||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},Y5=en.createContext({value:"",setValue:()=>{}}),u0=({defaultValue:e,value:t,onValueChange:r,className:n,children:i})=>{const[a,s]=en.useState(e||""),o=t!==void 0,l=o?t:a,c=en.useCallback(u=>{o||s(u),r&&r(u)},[o,r]);return d.jsx(Y5.Provider,{value:{value:l,setValue:c},children:d.jsx("div",{className:nr("w-full",n),children:i})})},d0=({className:e,children:t})=>d.jsx("div",{className:nr("flex space-x-1 border-b",e),children:t}),qr=({value:e,className:t,children:r,onClick:n})=>{const{value:i,setValue:a}=en.useContext(Y5),s=i===e;return d.jsx("button",{className:nr("px-4 py-2 text-sm font-medium border-b-2 transition-colors",s?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300",t),onClick:()=>{a(e),n&&n()},children:r})},Yr=({value:e,className:t,children:r})=>{const{value:n}=en.useContext(Y5);return n!==e?null:d.jsx("div",{className:nr("py-4",t),children:r})};var Gwe={value:()=>{}};function n2(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Nk(r)}function Nk(e){this._=e}function qwe(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Nk.prototype=n2.prototype={constructor:Nk,on:function(e,t){var r=this._,n=qwe(e+"",r),i,a=-1,s=n.length;if(arguments.length<2){for(;++a<s;)if((i=(e=n[a]).type)&&(i=Ywe(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(i=(e=n[a]).type)r[i]=aU(r[i],e.name,t);else if(t==null)for(i in r)r[i]=aU(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Nk(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,a;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],n=0,i=a.length;n<i;++n)a[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,a=n.length;i<a;++i)n[i].value.apply(t,r)}};function Ywe(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function aU(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=Gwe,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var pL="http://www.w3.org/1999/xhtml";const sU={svg:"http://www.w3.org/2000/svg",xhtml:pL,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function i2(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),sU.hasOwnProperty(t)?{space:sU[t],local:e}:e}function Kwe(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===pL&&t.documentElement.namespaceURI===pL?t.createElement(e):t.createElementNS(r,e)}}function Xwe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ute(e){var t=i2(e);return(t.local?Xwe:Kwe)(t)}function Zwe(){}function K5(e){return e==null?Zwe:function(){return this.querySelector(e)}}function Jwe(e){typeof e!="function"&&(e=K5(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],s=a.length,o=n[i]=new Array(s),l,c,u=0;u<s;++u)(l=a[u])&&(c=e.call(l,l.__data__,u,a))&&("__data__"in l&&(c.__data__=l.__data__),o[u]=c);return new _s(n,this._parents)}function Qwe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function e1e(){return[]}function dte(e){return e==null?e1e:function(){return this.querySelectorAll(e)}}function t1e(e){return function(){return Qwe(e.apply(this,arguments))}}function r1e(e){typeof e=="function"?e=t1e(e):e=dte(e);for(var t=this._groups,r=t.length,n=[],i=[],a=0;a<r;++a)for(var s=t[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&(n.push(e.call(l,l.__data__,c,s)),i.push(l));return new _s(n,i)}function hte(e){return function(){return this.matches(e)}}function fte(e){return function(t){return t.matches(e)}}var n1e=Array.prototype.find;function i1e(e){return function(){return n1e.call(this.children,e)}}function a1e(){return this.firstElementChild}function s1e(e){return this.select(e==null?a1e:i1e(typeof e=="function"?e:fte(e)))}var o1e=Array.prototype.filter;function l1e(){return Array.from(this.children)}function c1e(e){return function(){return o1e.call(this.children,e)}}function u1e(e){return this.selectAll(e==null?l1e:c1e(typeof e=="function"?e:fte(e)))}function d1e(e){typeof e!="function"&&(e=hte(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],s=a.length,o=n[i]=[],l,c=0;c<s;++c)(l=a[c])&&e.call(l,l.__data__,c,a)&&o.push(l);return new _s(n,this._parents)}function pte(e){return new Array(e.length)}function h1e(){return new _s(this._enter||this._groups.map(pte),this._parents)}function FE(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}FE.prototype={constructor:FE,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function f1e(e){return function(){return e}}function p1e(e,t,r,n,i,a){for(var s=0,o,l=t.length,c=a.length;s<c;++s)(o=t[s])?(o.__data__=a[s],n[s]=o):r[s]=new FE(e,a[s]);for(;s<l;++s)(o=t[s])&&(i[s]=o)}function g1e(e,t,r,n,i,a,s){var o,l,c=new Map,u=t.length,h=a.length,f=new Array(u),p;for(o=0;o<u;++o)(l=t[o])&&(f[o]=p=s.call(l,l.__data__,o,t)+"",c.has(p)?i[o]=l:c.set(p,l));for(o=0;o<h;++o)p=s.call(e,a[o],o,a)+"",(l=c.get(p))?(n[o]=l,l.__data__=a[o],c.delete(p)):r[o]=new FE(e,a[o]);for(o=0;o<u;++o)(l=t[o])&&c.get(f[o])===l&&(i[o]=l)}function m1e(e){return e.__data__}function v1e(e,t){if(!arguments.length)return Array.from(this,m1e);var r=t?g1e:p1e,n=this._parents,i=this._groups;typeof e!="function"&&(e=f1e(e));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),c=0;c<a;++c){var u=n[c],h=i[c],f=h.length,p=y1e(e.call(u,u&&u.__data__,c,n)),g=p.length,v=o[c]=new Array(g),m=s[c]=new Array(g),y=l[c]=new Array(f);r(u,h,v,m,y,p,t);for(var x=0,_=0,b,w;x<g;++x)if(b=v[x]){for(x>=_&&(_=x+1);!(w=m[_])&&++_<g;);b._next=w||null}}return s=new _s(s,n),s._enter=o,s._exit=l,s}function y1e(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function x1e(){return new _s(this._exit||this._groups.map(pte),this._parents)}function _1e(e,t,r){var n=this.enter(),i=this,a=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?a.remove():r(a),n&&i?n.merge(i).order():i}function b1e(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,a=n.length,s=Math.min(i,a),o=new Array(i),l=0;l<s;++l)for(var c=r[l],u=n[l],h=c.length,f=o[l]=new Array(h),p,g=0;g<h;++g)(p=c[g]||u[g])&&(f[g]=p);for(;l<i;++l)o[l]=r[l];return new _s(o,this._parents)}function w1e(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,a=n[i],s;--i>=0;)(s=n[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function S1e(e){e||(e=C1e);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var s=r[a],o=s.length,l=i[a]=new Array(o),c,u=0;u<o;++u)(c=s[u])&&(l[u]=c);l.sort(t)}return new _s(i,this._parents).order()}function C1e(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function k1e(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function E1e(){return Array.from(this)}function T1e(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length;i<a;++i){var s=n[i];if(s)return s}return null}function N1e(){let e=0;for(const t of this)++e;return e}function A1e(){return!this.node()}function j1e(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],a=0,s=i.length,o;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this}function R1e(e){return function(){this.removeAttribute(e)}}function I1e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function M1e(e,t){return function(){this.setAttribute(e,t)}}function P1e(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function L1e(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function D1e(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function O1e(e,t){var r=i2(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?I1e:R1e:typeof t=="function"?r.local?D1e:L1e:r.local?P1e:M1e)(r,t))}function gte(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function $1e(e){return function(){this.style.removeProperty(e)}}function B1e(e,t,r){return function(){this.style.setProperty(e,t,r)}}function F1e(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function z1e(e,t,r){return arguments.length>1?this.each((t==null?$1e:typeof t=="function"?F1e:B1e)(e,t,r??"")):Sv(this.node(),e)}function Sv(e,t){return e.style.getPropertyValue(t)||gte(e).getComputedStyle(e,null).getPropertyValue(t)}function U1e(e){return function(){delete this[e]}}function H1e(e,t){return function(){this[e]=t}}function V1e(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function W1e(e,t){return arguments.length>1?this.each((t==null?U1e:typeof t=="function"?V1e:H1e)(e,t)):this.node()[e]}function mte(e){return e.trim().split(/^|\s+/)}function X5(e){return e.classList||new vte(e)}function vte(e){this._node=e,this._names=mte(e.getAttribute("class")||"")}vte.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function yte(e,t){for(var r=X5(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function xte(e,t){for(var r=X5(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function G1e(e){return function(){yte(this,e)}}function q1e(e){return function(){xte(this,e)}}function Y1e(e,t){return function(){(t.apply(this,arguments)?yte:xte)(this,e)}}function K1e(e,t){var r=mte(e+"");if(arguments.length<2){for(var n=X5(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?Y1e:t?G1e:q1e)(r,t))}function X1e(){this.textContent=""}function Z1e(e){return function(){this.textContent=e}}function J1e(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Q1e(e){return arguments.length?this.each(e==null?X1e:(typeof e=="function"?J1e:Z1e)(e)):this.node().textContent}function eSe(){this.innerHTML=""}function tSe(e){return function(){this.innerHTML=e}}function rSe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function nSe(e){return arguments.length?this.each(e==null?eSe:(typeof e=="function"?rSe:tSe)(e)):this.node().innerHTML}function iSe(){this.nextSibling&&this.parentNode.appendChild(this)}function aSe(){return this.each(iSe)}function sSe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function oSe(){return this.each(sSe)}function lSe(e){var t=typeof e=="function"?e:ute(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function cSe(){return null}function uSe(e,t){var r=typeof e=="function"?e:ute(e),n=t==null?cSe:typeof t=="function"?t:K5(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function dSe(){var e=this.parentNode;e&&e.removeChild(this)}function hSe(){return this.each(dSe)}function fSe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function pSe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function gSe(e){return this.select(e?pSe:fSe)}function mSe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function vSe(e){return function(t){e.call(this,t,this.__data__)}}function ySe(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function xSe(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,a;r<i;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++n]=a;++n?t.length=n:delete this.__on}}}function _Se(e,t,r){return function(){var n=this.__on,i,a=vSe(t);if(n){for(var s=0,o=n.length;s<o;++s)if((i=n[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=r),i.value=t;return}}this.addEventListener(e.type,a,r),i={type:e.type,name:e.name,value:t,listener:a,options:r},n?n.push(i):this.__on=[i]}}function bSe(e,t,r){var n=ySe(e+""),i,a=n.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,u;l<c;++l)for(i=0,u=o[l];i<a;++i)if((s=n[i]).type===u.type&&s.name===u.name)return u.value}return}for(o=t?_Se:xSe,i=0;i<a;++i)this.each(o(n[i],t,r));return this}function _te(e,t,r){var n=gte(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function wSe(e,t){return function(){return _te(this,e,t)}}function SSe(e,t){return function(){return _te(this,e,t.apply(this,arguments))}}function CSe(e,t){return this.each((typeof t=="function"?SSe:wSe)(e,t))}function*kSe(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length,s;i<a;++i)(s=n[i])&&(yield s)}var bte=[null];function _s(e,t){this._groups=e,this._parents=t}function Dw(){return new _s([[document.documentElement]],bte)}function ESe(){return this}_s.prototype=Dw.prototype={constructor:_s,select:Jwe,selectAll:r1e,selectChild:s1e,selectChildren:u1e,filter:d1e,data:v1e,enter:h1e,exit:x1e,join:_1e,merge:b1e,selection:ESe,order:w1e,sort:S1e,call:k1e,nodes:E1e,node:T1e,size:N1e,empty:A1e,each:j1e,attr:O1e,style:z1e,property:W1e,classed:K1e,text:Q1e,html:nSe,raise:aSe,lower:oSe,append:lSe,insert:uSe,remove:hSe,clone:gSe,datum:mSe,on:bSe,dispatch:CSe,[Symbol.iterator]:kSe};function Gr(e){return typeof e=="string"?new _s([[document.querySelector(e)]],[document.documentElement]):new _s([[e]],bte)}function TSe(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Yc(e,t){if(e=TSe(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function wte(e){return new _s([document.querySelectorAll(e)],[document.documentElement])}const NSe={passive:!1},hb={capture:!0,passive:!1};function wj(e){e.stopImmediatePropagation()}function Zm(e){e.preventDefault(),e.stopImmediatePropagation()}function Ste(e){var t=e.document.documentElement,r=Gr(e).on("dragstart.drag",Zm,hb);"onselectstart"in t?r.on("selectstart.drag",Zm,hb):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Cte(e,t){var r=e.document.documentElement,n=Gr(e).on("dragstart.drag",null);t&&(n.on("click.drag",Zm,hb),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const bS=e=>()=>e;function gL(e,{sourceEvent:t,subject:r,target:n,identifier:i,active:a,x:s,y:o,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}gL.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function ASe(e){return!e.ctrlKey&&!e.button}function jSe(){return this.parentNode}function RSe(e,t){return t??{x:e.x,y:e.y}}function ISe(){return navigator.maxTouchPoints||"ontouchstart"in this}function MSe(){var e=ASe,t=jSe,r=RSe,n=ISe,i={},a=n2("start","drag","end"),s=0,o,l,c,u,h=0;function f(b){b.on("mousedown.drag",p).filter(n).on("touchstart.drag",m).on("touchmove.drag",y,NSe).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(b,w){if(!(u||!e.call(this,b,w))){var S=_(this,t.call(this,b,w),b,w,"mouse");S&&(Gr(b.view).on("mousemove.drag",g,hb).on("mouseup.drag",v,hb),Ste(b.view),wj(b),c=!1,o=b.clientX,l=b.clientY,S("start",b))}}function g(b){if(Zm(b),!c){var w=b.clientX-o,S=b.clientY-l;c=w*w+S*S>h}i.mouse("drag",b)}function v(b){Gr(b.view).on("mousemove.drag mouseup.drag",null),Cte(b.view,c),Zm(b),i.mouse("end",b)}function m(b,w){if(e.call(this,b,w)){var S=b.changedTouches,k=t.call(this,b,w),C=S.length,E,T;for(E=0;E<C;++E)(T=_(this,k,b,w,S[E].identifier,S[E]))&&(wj(b),T("start",b,S[E]))}}function y(b){var w=b.changedTouches,S=w.length,k,C;for(k=0;k<S;++k)(C=i[w[k].identifier])&&(Zm(b),C("drag",b,w[k]))}function x(b){var w=b.changedTouches,S=w.length,k,C;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),k=0;k<S;++k)(C=i[w[k].identifier])&&(wj(b),C("end",b,w[k]))}function _(b,w,S,k,C,E){var T=a.copy(),N=Yc(E||S,w),I,P,D;if((D=r.call(b,new gL("beforestart",{sourceEvent:S,target:f,identifier:C,active:s,x:N[0],y:N[1],dx:0,dy:0,dispatch:T}),k))!=null)return I=D.x-N[0]||0,P=D.y-N[1]||0,function $(L,O,j){var M=N,R;switch(L){case"start":i[C]=$,R=s++;break;case"end":delete i[C],--s;case"drag":N=Yc(j||O,w),R=s;break}T.call(L,b,new gL(L,{sourceEvent:O,subject:D,target:f,identifier:C,active:R,x:N[0]+I,y:N[1]+P,dx:N[0]-M[0],dy:N[1]-M[1],dispatch:T}),k)}}return f.filter=function(b){return arguments.length?(e=typeof b=="function"?b:bS(!!b),f):e},f.container=function(b){return arguments.length?(t=typeof b=="function"?b:bS(b),f):t},f.subject=function(b){return arguments.length?(r=typeof b=="function"?b:bS(b),f):r},f.touchable=function(b){return arguments.length?(n=typeof b=="function"?b:bS(!!b),f):n},f.on=function(){var b=a.on.apply(a,arguments);return b===a?f:b},f.clickDistance=function(b){return arguments.length?(h=(b=+b)*b,f):Math.sqrt(h)},f}function Z5(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function kte(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ow(){}var fb=.7,zE=1/fb,Jm="\\s*([+-]?\\d+)\\s*",pb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",uc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",PSe=/^#([0-9a-f]{3,8})$/,LSe=new RegExp(`^rgb\\(${Jm},${Jm},${Jm}\\)$`),DSe=new RegExp(`^rgb\\(${uc},${uc},${uc}\\)$`),OSe=new RegExp(`^rgba\\(${Jm},${Jm},${Jm},${pb}\\)$`),$Se=new RegExp(`^rgba\\(${uc},${uc},${uc},${pb}\\)$`),BSe=new RegExp(`^hsl\\(${pb},${uc},${uc}\\)$`),FSe=new RegExp(`^hsla\\(${pb},${uc},${uc},${pb}\\)$`),oU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Z5(Ow,gb,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lU,formatHex:lU,formatHex8:zSe,formatHsl:USe,formatRgb:cU,toString:cU});function lU(){return this.rgb().formatHex()}function zSe(){return this.rgb().formatHex8()}function USe(){return Ete(this).formatHsl()}function cU(){return this.rgb().formatRgb()}function gb(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=PSe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?uU(t):r===3?new ps(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?wS(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?wS(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=LSe.exec(e))?new ps(t[1],t[2],t[3],1):(t=DSe.exec(e))?new ps(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=OSe.exec(e))?wS(t[1],t[2],t[3],t[4]):(t=$Se.exec(e))?wS(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=BSe.exec(e))?fU(t[1],t[2]/100,t[3]/100,1):(t=FSe.exec(e))?fU(t[1],t[2]/100,t[3]/100,t[4]):oU.hasOwnProperty(e)?uU(oU[e]):e==="transparent"?new ps(NaN,NaN,NaN,0):null}function uU(e){return new ps(e>>16&255,e>>8&255,e&255,1)}function wS(e,t,r,n){return n<=0&&(e=t=r=NaN),new ps(e,t,r,n)}function HSe(e){return e instanceof Ow||(e=gb(e)),e?(e=e.rgb(),new ps(e.r,e.g,e.b,e.opacity)):new ps}function mL(e,t,r,n){return arguments.length===1?HSe(e):new ps(e,t,r,n??1)}function ps(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Z5(ps,mL,kte(Ow,{brighter(e){return e=e==null?zE:Math.pow(zE,e),new ps(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fb:Math.pow(fb,e),new ps(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ps(sp(this.r),sp(this.g),sp(this.b),UE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dU,formatHex:dU,formatHex8:VSe,formatRgb:hU,toString:hU}));function dU(){return`#${Vf(this.r)}${Vf(this.g)}${Vf(this.b)}`}function VSe(){return`#${Vf(this.r)}${Vf(this.g)}${Vf(this.b)}${Vf((isNaN(this.opacity)?1:this.opacity)*255)}`}function hU(){const e=UE(this.opacity);return`${e===1?"rgb(":"rgba("}${sp(this.r)}, ${sp(this.g)}, ${sp(this.b)}${e===1?")":`, ${e})`}`}function UE(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sp(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vf(e){return e=sp(e),(e<16?"0":"")+e.toString(16)}function fU(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new rl(e,t,r,n)}function Ete(e){if(e instanceof rl)return new rl(e.h,e.s,e.l,e.opacity);if(e instanceof Ow||(e=gb(e)),!e)return new rl;if(e instanceof rl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new rl(s,o,l,e.opacity)}function WSe(e,t,r,n){return arguments.length===1?Ete(e):new rl(e,t,r,n??1)}function rl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Z5(rl,WSe,kte(Ow,{brighter(e){return e=e==null?zE:Math.pow(zE,e),new rl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fb:Math.pow(fb,e),new rl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new ps(Sj(e>=240?e-240:e+120,i,n),Sj(e,i,n),Sj(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new rl(pU(this.h),SS(this.s),SS(this.l),UE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=UE(this.opacity);return`${e===1?"hsl(":"hsla("}${pU(this.h)}, ${SS(this.s)*100}%, ${SS(this.l)*100}%${e===1?")":`, ${e})`}`}}));function pU(e){return e=(e||0)%360,e<0?e+360:e}function SS(e){return Math.max(0,Math.min(1,e||0))}function Sj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Tte=e=>()=>e;function GSe(e,t){return function(r){return e+r*t}}function qSe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function YSe(e){return(e=+e)==1?Nte:function(t,r){return r-t?qSe(t,r,e):Tte(isNaN(t)?r:t)}}function Nte(e,t){var r=t-e;return r?GSe(e,r):Tte(isNaN(e)?t:e)}const gU=function e(t){var r=YSe(t);function n(i,a){var s=r((i=mL(i)).r,(a=mL(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),c=Nte(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=e,n}(1);function xd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var vL=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cj=new RegExp(vL.source,"g");function KSe(e){return function(){return e}}function XSe(e){return function(t){return e(t)+""}}function ZSe(e,t){var r=vL.lastIndex=Cj.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=vL.exec(e))&&(i=Cj.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:xd(n,i)})),r=Cj.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?XSe(l[0].x):KSe(t):(t=l.length,function(c){for(var u=0,h;u<t;++u)o[(h=l[u]).i]=h.x(c);return o.join("")})}var mU=180/Math.PI,yL={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ate(e,t,r,n,i,a){var s,o,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,l/=o),e*n<t*r&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*mU,skewX:Math.atan(l)*mU,scaleX:s,scaleY:o}}var CS;function JSe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?yL:Ate(t.a,t.b,t.c,t.d,t.e,t.f)}function QSe(e){return e==null||(CS||(CS=document.createElementNS("http://www.w3.org/2000/svg","g")),CS.setAttribute("transform",e),!(e=CS.transform.baseVal.consolidate()))?yL:(e=e.matrix,Ate(e.a,e.b,e.c,e.d,e.e,e.f))}function jte(e,t,r,n){function i(c){return c.length?c.pop()+" ":""}function a(c,u,h,f,p,g){if(c!==h||u!==f){var v=p.push("translate(",null,t,null,r);g.push({i:v-4,x:xd(c,h)},{i:v-2,x:xd(u,f)})}else(h||f)&&p.push("translate("+h+t+f+r)}function s(c,u,h,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:h.push(i(h)+"rotate(",null,n)-2,x:xd(c,u)})):u&&h.push(i(h)+"rotate("+u+n)}function o(c,u,h,f){c!==u?f.push({i:h.push(i(h)+"skewX(",null,n)-2,x:xd(c,u)}):u&&h.push(i(h)+"skewX("+u+n)}function l(c,u,h,f,p,g){if(c!==h||u!==f){var v=p.push(i(p)+"scale(",null,",",null,")");g.push({i:v-4,x:xd(c,h)},{i:v-2,x:xd(u,f)})}else(h!==1||f!==1)&&p.push(i(p)+"scale("+h+","+f+")")}return function(c,u){var h=[],f=[];return c=e(c),u=e(u),a(c.translateX,c.translateY,u.translateX,u.translateY,h,f),s(c.rotate,u.rotate,h,f),o(c.skewX,u.skewX,h,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,h,f),c=u=null,function(p){for(var g=-1,v=f.length,m;++g<v;)h[(m=f[g]).i]=m.x(p);return h.join("")}}}var eCe=jte(JSe,"px, ","px)","deg)"),tCe=jte(QSe,", ",")",")"),rCe=1e-12;function vU(e){return((e=Math.exp(e))+1/e)/2}function nCe(e){return((e=Math.exp(e))-1/e)/2}function iCe(e){return((e=Math.exp(2*e))-1)/(e+1)}const aCe=function e(t,r,n){function i(a,s){var o=a[0],l=a[1],c=a[2],u=s[0],h=s[1],f=s[2],p=u-o,g=h-l,v=p*p+g*g,m,y;if(v<rCe)y=Math.log(f/c)/t,m=function(k){return[o+k*p,l+k*g,c*Math.exp(t*k*y)]};else{var x=Math.sqrt(v),_=(f*f-c*c+n*v)/(2*c*r*x),b=(f*f-c*c-n*v)/(2*f*r*x),w=Math.log(Math.sqrt(_*_+1)-_),S=Math.log(Math.sqrt(b*b+1)-b);y=(S-w)/t,m=function(k){var C=k*y,E=vU(w),T=c/(r*x)*(E*iCe(t*C+w)-nCe(w));return[o+T*p,l+T*g,c*E/vU(t*C+w)]}}return m.duration=y*1e3*t/Math.SQRT2,m}return i.rho=function(a){var s=Math.max(.001,+a),o=s*s,l=o*o;return e(s,o,l)},i}(Math.SQRT2,2,4);var Cv=0,Dx=0,My=0,Rte=1e3,HE,Ox,VE=0,Tp=0,a2=0,mb=typeof performance=="object"&&performance.now?performance:Date,Ite=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function J5(){return Tp||(Ite(sCe),Tp=mb.now()+a2)}function sCe(){Tp=0}function WE(){this._call=this._time=this._next=null}WE.prototype=Mte.prototype={constructor:WE,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?J5():+r)+(t==null?0:+t),!this._next&&Ox!==this&&(Ox?Ox._next=this:HE=this,Ox=this),this._call=e,this._time=r,xL()},stop:function(){this._call&&(this._call=null,this._time=1/0,xL())}};function Mte(e,t,r){var n=new WE;return n.restart(e,t,r),n}function oCe(){J5(),++Cv;for(var e=HE,t;e;)(t=Tp-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Cv}function yU(){Tp=(VE=mb.now())+a2,Cv=Dx=0;try{oCe()}finally{Cv=0,cCe(),Tp=0}}function lCe(){var e=mb.now(),t=e-VE;t>Rte&&(a2-=t,VE=e)}function cCe(){for(var e,t=HE,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:HE=r);Ox=e,xL(n)}function xL(e){if(!Cv){Dx&&(Dx=clearTimeout(Dx));var t=e-Tp;t>24?(e<1/0&&(Dx=setTimeout(yU,e-mb.now()-a2)),My&&(My=clearInterval(My))):(My||(VE=mb.now(),My=setInterval(lCe,Rte)),Cv=1,Ite(yU))}}function xU(e,t,r){var n=new WE;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var uCe=n2("start","end","cancel","interrupt"),dCe=[],Pte=0,_U=1,_L=2,Ak=3,bU=4,bL=5,jk=6;function s2(e,t,r,n,i,a){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;hCe(e,r,{name:t,index:n,group:i,on:uCe,tween:dCe,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Pte})}function Q5(e,t){var r=bl(e,t);if(r.state>Pte)throw new Error("too late; already scheduled");return r}function Tc(e,t){var r=bl(e,t);if(r.state>Ak)throw new Error("too late; already running");return r}function bl(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function hCe(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=Mte(a,0,r.time);function a(c){r.state=_U,r.timer.restart(s,r.delay,r.time),r.delay<=c&&s(c-r.delay)}function s(c){var u,h,f,p;if(r.state!==_U)return l();for(u in n)if(p=n[u],p.name===r.name){if(p.state===Ak)return xU(s);p.state===bU?(p.state=jk,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[u]):+u<t&&(p.state=jk,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[u])}if(xU(function(){r.state===Ak&&(r.state=bU,r.timer.restart(o,r.delay,r.time),o(c))}),r.state=_L,r.on.call("start",e,e.__data__,r.index,r.group),r.state===_L){for(r.state=Ak,i=new Array(f=r.tween.length),u=0,h=-1;u<f;++u)(p=r.tween[u].value.call(e,e.__data__,r.index,r.group))&&(i[++h]=p);i.length=h+1}}function o(c){for(var u=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(l),r.state=bL,1),h=-1,f=i.length;++h<f;)i[h].call(e,u);r.state===bL&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=jk,r.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}function Rk(e,t){var r=e.__transition,n,i,a=!0,s;if(r){t=t==null?null:t+"";for(s in r){if((n=r[s]).name!==t){a=!1;continue}i=n.state>_L&&n.state<bL,n.state=jk,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[s]}a&&delete e.__transition}}function fCe(e){return this.each(function(){Rk(this,e)})}function pCe(e,t){var r,n;return function(){var i=Tc(this,e),a=i.tween;if(a!==r){n=r=a;for(var s=0,o=n.length;s<o;++s)if(n[s].name===t){n=n.slice(),n.splice(s,1);break}}i.tween=n}}function gCe(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var a=Tc(this,e),s=a.tween;if(s!==n){i=(n=s).slice();for(var o={name:t,value:r},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=o;break}l===c&&i.push(o)}a.tween=i}}function mCe(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=bl(this.node(),r).tween,i=0,a=n.length,s;i<a;++i)if((s=n[i]).name===e)return s.value;return null}return this.each((t==null?pCe:gCe)(r,e,t))}function e4(e,t,r){var n=e._id;return e.each(function(){var i=Tc(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return bl(i,n).value[t]}}function Lte(e,t){var r;return(typeof t=="number"?xd:t instanceof gb?gU:(r=gb(t))?(t=r,gU):ZSe)(e,t)}function vCe(e){return function(){this.removeAttribute(e)}}function yCe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function xCe(e,t,r){var n,i=r+"",a;return function(){var s=this.getAttribute(e);return s===i?null:s===n?a:a=t(n=s,r)}}function _Ce(e,t,r){var n,i=r+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===n?a:a=t(n=s,r)}}function bCe(e,t,r){var n,i,a;return function(){var s,o=r(this),l;return o==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=o+"",s===l?null:s===n&&l===i?a:(i=l,a=t(n=s,o)))}}function wCe(e,t,r){var n,i,a;return function(){var s,o=r(this),l;return o==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=o+"",s===l?null:s===n&&l===i?a:(i=l,a=t(n=s,o)))}}function SCe(e,t){var r=i2(e),n=r==="transform"?tCe:Lte;return this.attrTween(e,typeof t=="function"?(r.local?wCe:bCe)(r,n,e4(this,"attr."+e,t)):t==null?(r.local?yCe:vCe)(r):(r.local?_Ce:xCe)(r,n,t))}function CCe(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function kCe(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function ECe(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&kCe(e,a)),r}return i._value=t,i}function TCe(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&CCe(e,a)),r}return i._value=t,i}function NCe(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=i2(e);return this.tween(r,(n.local?ECe:TCe)(n,t))}function ACe(e,t){return function(){Q5(this,e).delay=+t.apply(this,arguments)}}function jCe(e,t){return t=+t,function(){Q5(this,e).delay=t}}function RCe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ACe:jCe)(t,e)):bl(this.node(),t).delay}function ICe(e,t){return function(){Tc(this,e).duration=+t.apply(this,arguments)}}function MCe(e,t){return t=+t,function(){Tc(this,e).duration=t}}function PCe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ICe:MCe)(t,e)):bl(this.node(),t).duration}function LCe(e,t){if(typeof t!="function")throw new Error;return function(){Tc(this,e).ease=t}}function DCe(e){var t=this._id;return arguments.length?this.each(LCe(t,e)):bl(this.node(),t).ease}function OCe(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Tc(this,e).ease=r}}function $Ce(e){if(typeof e!="function")throw new Error;return this.each(OCe(this._id,e))}function BCe(e){typeof e!="function"&&(e=hte(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],s=a.length,o=n[i]=[],l,c=0;c<s;++c)(l=a[c])&&e.call(l,l.__data__,c,a)&&o.push(l);return new Su(n,this._parents,this._name,this._id)}function FCe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,a=Math.min(n,i),s=new Array(n),o=0;o<a;++o)for(var l=t[o],c=r[o],u=l.length,h=s[o]=new Array(u),f,p=0;p<u;++p)(f=l[p]||c[p])&&(h[p]=f);for(;o<n;++o)s[o]=t[o];return new Su(s,this._parents,this._name,this._id)}function zCe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function UCe(e,t,r){var n,i,a=zCe(t)?Q5:Tc;return function(){var s=a(this,e),o=s.on;o!==n&&(i=(n=o).copy()).on(t,r),s.on=i}}function HCe(e,t){var r=this._id;return arguments.length<2?bl(this.node(),r).on.on(e):this.each(UCe(r,e,t))}function VCe(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function WCe(){return this.on("end.remove",VCe(this._id))}function GCe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=K5(e));for(var n=this._groups,i=n.length,a=new Array(i),s=0;s<i;++s)for(var o=n[s],l=o.length,c=a[s]=new Array(l),u,h,f=0;f<l;++f)(u=o[f])&&(h=e.call(u,u.__data__,f,o))&&("__data__"in u&&(h.__data__=u.__data__),c[f]=h,s2(c[f],t,r,f,c,bl(u,r)));return new Su(a,this._parents,t,r)}function qCe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=dte(e));for(var n=this._groups,i=n.length,a=[],s=[],o=0;o<i;++o)for(var l=n[o],c=l.length,u,h=0;h<c;++h)if(u=l[h]){for(var f=e.call(u,u.__data__,h,l),p,g=bl(u,r),v=0,m=f.length;v<m;++v)(p=f[v])&&s2(p,t,r,v,f,g);a.push(f),s.push(u)}return new Su(a,s,t,r)}var YCe=Dw.prototype.constructor;function KCe(){return new YCe(this._groups,this._parents)}function XCe(e,t){var r,n,i;return function(){var a=Sv(this,e),s=(this.style.removeProperty(e),Sv(this,e));return a===s?null:a===r&&s===n?i:i=t(r=a,n=s)}}function Dte(e){return function(){this.style.removeProperty(e)}}function ZCe(e,t,r){var n,i=r+"",a;return function(){var s=Sv(this,e);return s===i?null:s===n?a:a=t(n=s,r)}}function JCe(e,t,r){var n,i,a;return function(){var s=Sv(this,e),o=r(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(e),Sv(this,e))),s===l?null:s===n&&l===i?a:(i=l,a=t(n=s,o))}}function QCe(e,t){var r,n,i,a="style."+t,s="end."+a,o;return function(){var l=Tc(this,e),c=l.on,u=l.value[a]==null?o||(o=Dte(t)):void 0;(c!==r||i!==u)&&(n=(r=c).copy()).on(s,i=u),l.on=n}}function eke(e,t,r){var n=(e+="")=="transform"?eCe:Lte;return t==null?this.styleTween(e,XCe(e,n)).on("end.style."+e,Dte(e)):typeof t=="function"?this.styleTween(e,JCe(e,n,e4(this,"style."+e,t))).each(QCe(this._id,e)):this.styleTween(e,ZCe(e,n,t),r).on("end.style."+e,null)}function tke(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function rke(e,t,r){var n,i;function a(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&tke(e,s,r)),n}return a._value=t,a}function nke(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,rke(e,t,r??""))}function ike(e){return function(){this.textContent=e}}function ake(e){return function(){var t=e(this);this.textContent=t??""}}function ske(e){return this.tween("text",typeof e=="function"?ake(e4(this,"text",e)):ike(e==null?"":e+""))}function oke(e){return function(t){this.textContent=e.call(this,t)}}function lke(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&oke(i)),t}return n._value=e,n}function cke(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,lke(e))}function uke(){for(var e=this._name,t=this._id,r=Ote(),n=this._groups,i=n.length,a=0;a<i;++a)for(var s=n[a],o=s.length,l,c=0;c<o;++c)if(l=s[c]){var u=bl(l,t);s2(l,e,r,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Su(n,this._parents,e,r)}function dke(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};r.each(function(){var c=Tc(this,n),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),c.on=t}),i===0&&a()})}var hke=0;function Su(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Ote(){return++hke}var Bc=Dw.prototype;Su.prototype={constructor:Su,select:GCe,selectAll:qCe,selectChild:Bc.selectChild,selectChildren:Bc.selectChildren,filter:BCe,merge:FCe,selection:KCe,transition:uke,call:Bc.call,nodes:Bc.nodes,node:Bc.node,size:Bc.size,empty:Bc.empty,each:Bc.each,on:HCe,attr:SCe,attrTween:NCe,style:eke,styleTween:nke,text:ske,textTween:cke,remove:WCe,tween:mCe,delay:RCe,duration:PCe,ease:DCe,easeVarying:$Ce,end:dke,[Symbol.iterator]:Bc[Symbol.iterator]};function fke(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var pke={time:null,delay:0,duration:250,ease:fke};function gke(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function mke(e){var t,r;e instanceof Su?(t=e._id,e=e._name):(t=Ote(),(r=pke).time=J5(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,a=0;a<i;++a)for(var s=n[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&s2(l,e,t,c,s,r||gke(l,t));return new Su(n,this._parents,e,t)}Dw.prototype.interrupt=fCe;Dw.prototype.transition=mke;const wL=Math.PI,SL=2*wL,Cf=1e-6,vke=SL-Cf;function $te(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function yke(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $te;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}let xke=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$te:yke(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-t,c=i-r,u=s-t,h=o-r,f=u*u+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>Cf)if(!(Math.abs(h*l-c*u)>Cf)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=i-o,v=l*l+c*c,m=p*p+g*g,y=Math.sqrt(v),x=Math.sqrt(f),_=a*Math.tan((wL-Math.acos((v+f-m)/(2*y*x)))/2),b=_/x,w=_/y;Math.abs(b-1)>Cf&&this._append`L${t+b*u},${r+b*h}`,this._append`A${a},${a},0,0,${+(h*p>u*g)},${this._x1=t+w*l},${this._y1=r+w*c}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=t+o,u=r+l,h=1^s,f=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Cf||Math.abs(this._y1-u)>Cf)&&this._append`L${c},${u}`,n&&(f<0&&(f=f%SL+SL),f>vke?this._append`A${n},${n},0,1,${h},${t-o},${r-l}A${n},${n},0,1,${h},${this._x1=c},${this._y1=u}`:f>Cf&&this._append`A${n},${n},0,${+(f>=wL)},${h},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}};function Cg(e){return function(){return e}}function _ke(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new xke(t)}function bke(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Bte(e){this._context=e}Bte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function wke(e){return new Bte(e)}function Ske(e){return e[0]}function Cke(e){return e[1]}function kke(e,t){var r=Cg(!0),n=null,i=wke,a=null,s=_ke(o);e=typeof e=="function"?e:e===void 0?Ske:Cg(e),t=typeof t=="function"?t:t===void 0?Cke:Cg(t);function o(l){var c,u=(l=bke(l)).length,h,f=!1,p;for(n==null&&(a=i(p=s())),c=0;c<=u;++c)!(c<u&&r(h=l[c],c,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(h,c,l),+t(h,c,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Cg(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Cg(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Cg(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function wU(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Fte(e){this._context=e}Fte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wU(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wU(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Eke(e){return new Fte(e)}const kS=e=>()=>e;function Tke(e,{sourceEvent:t,target:r,transform:n,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:i}})}function iu(e,t,r){this.k=e,this.x=t,this.y=r}iu.prototype={constructor:iu,scale:function(e){return e===1?this:new iu(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new iu(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var eu=new iu(1,0,0);iu.prototype;function kj(e){e.stopImmediatePropagation()}function Py(e){e.preventDefault(),e.stopImmediatePropagation()}function Nke(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Ake(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function SU(){return this.__zoom||eu}function jke(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Rke(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ike(e,t,r){var n=e.invertX(t[0][0])-r[0][0],i=e.invertX(t[1][0])-r[1][0],a=e.invertY(t[0][1])-r[0][1],s=e.invertY(t[1][1])-r[1][1];return e.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function t4(){var e=Nke,t=Ake,r=Ike,n=jke,i=Rke,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,l=aCe,c=n2("start","zoom","end"),u,h,f,p=500,g=150,v=0,m=10;function y(D){D.property("__zoom",SU).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",T).filter(i).on("touchstart.zoom",N).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(D,$,L,O){var j=D.selection?D.selection():D;j.property("__zoom",SU),D!==j?w(D,$,L,O):j.interrupt().each(function(){S(this,arguments).event(O).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},y.scaleBy=function(D,$,L,O){y.scaleTo(D,function(){var j=this.__zoom.k,M=typeof $=="function"?$.apply(this,arguments):$;return j*M},L,O)},y.scaleTo=function(D,$,L,O){y.transform(D,function(){var j=t.apply(this,arguments),M=this.__zoom,R=L==null?b(j):typeof L=="function"?L.apply(this,arguments):L,z=M.invert(R),U=typeof $=="function"?$.apply(this,arguments):$;return r(_(x(M,U),R,z),j,s)},L,O)},y.translateBy=function(D,$,L,O){y.transform(D,function(){return r(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof L=="function"?L.apply(this,arguments):L),t.apply(this,arguments),s)},null,O)},y.translateTo=function(D,$,L,O,j){y.transform(D,function(){var M=t.apply(this,arguments),R=this.__zoom,z=O==null?b(M):typeof O=="function"?O.apply(this,arguments):O;return r(eu.translate(z[0],z[1]).scale(R.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof L=="function"?-L.apply(this,arguments):-L),M,s)},O,j)};function x(D,$){return $=Math.max(a[0],Math.min(a[1],$)),$===D.k?D:new iu($,D.x,D.y)}function _(D,$,L){var O=$[0]-L[0]*D.k,j=$[1]-L[1]*D.k;return O===D.x&&j===D.y?D:new iu(D.k,O,j)}function b(D){return[(+D[0][0]+ +D[1][0])/2,(+D[0][1]+ +D[1][1])/2]}function w(D,$,L,O){D.on("start.zoom",function(){S(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(O).end()}).tween("zoom",function(){var j=this,M=arguments,R=S(j,M).event(O),z=t.apply(j,M),U=L==null?b(z):typeof L=="function"?L.apply(j,M):L,F=Math.max(z[1][0]-z[0][0],z[1][1]-z[0][1]),G=j.__zoom,q=typeof $=="function"?$.apply(j,M):$,K=l(G.invert(U).concat(F/G.k),q.invert(U).concat(F/q.k));return function(B){if(B===1)B=q;else{var W=K(B),Y=F/W[2];B=new iu(Y,U[0]-W[0]*Y,U[1]-W[1]*Y)}R.zoom(null,B)}})}function S(D,$,L){return!L&&D.__zooming||new k(D,$)}function k(D,$){this.that=D,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(D,$),this.taps=0}k.prototype={event:function(D){return D&&(this.sourceEvent=D),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(D,$){return this.mouse&&D!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&D!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&D!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(D){var $=Gr(this.that).datum();c.call(D,this.that,new Tke(D,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:c}),$)}};function C(D,...$){if(!e.apply(this,arguments))return;var L=S(this,$).event(D),O=this.__zoom,j=Math.max(a[0],Math.min(a[1],O.k*Math.pow(2,n.apply(this,arguments)))),M=Yc(D);if(L.wheel)(L.mouse[0][0]!==M[0]||L.mouse[0][1]!==M[1])&&(L.mouse[1]=O.invert(L.mouse[0]=M)),clearTimeout(L.wheel);else{if(O.k===j)return;L.mouse=[M,O.invert(M)],Rk(this),L.start()}Py(D),L.wheel=setTimeout(R,g),L.zoom("mouse",r(_(x(O,j),L.mouse[0],L.mouse[1]),L.extent,s));function R(){L.wheel=null,L.end()}}function E(D,...$){if(f||!e.apply(this,arguments))return;var L=D.currentTarget,O=S(this,$,!0).event(D),j=Gr(D.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",F,!0),M=Yc(D,L),R=D.clientX,z=D.clientY;Ste(D.view),kj(D),O.mouse=[M,this.__zoom.invert(M)],Rk(this),O.start();function U(G){if(Py(G),!O.moved){var q=G.clientX-R,K=G.clientY-z;O.moved=q*q+K*K>v}O.event(G).zoom("mouse",r(_(O.that.__zoom,O.mouse[0]=Yc(G,L),O.mouse[1]),O.extent,s))}function F(G){j.on("mousemove.zoom mouseup.zoom",null),Cte(G.view,O.moved),Py(G),O.event(G).end()}}function T(D,...$){if(e.apply(this,arguments)){var L=this.__zoom,O=Yc(D.changedTouches?D.changedTouches[0]:D,this),j=L.invert(O),M=L.k*(D.shiftKey?.5:2),R=r(_(x(L,M),O,j),t.apply(this,$),s);Py(D),o>0?Gr(this).transition().duration(o).call(w,R,O,D):Gr(this).call(y.transform,R,O,D)}}function N(D,...$){if(e.apply(this,arguments)){var L=D.touches,O=L.length,j=S(this,$,D.changedTouches.length===O).event(D),M,R,z,U;for(kj(D),R=0;R<O;++R)z=L[R],U=Yc(z,this),U=[U,this.__zoom.invert(U),z.identifier],j.touch0?!j.touch1&&j.touch0[2]!==U[2]&&(j.touch1=U,j.taps=0):(j.touch0=U,M=!0,j.taps=1+!!u);u&&(u=clearTimeout(u)),M&&(j.taps<2&&(h=U[0],u=setTimeout(function(){u=null},p)),Rk(this),j.start())}}function I(D,...$){if(this.__zooming){var L=S(this,$).event(D),O=D.changedTouches,j=O.length,M,R,z,U;for(Py(D),M=0;M<j;++M)R=O[M],z=Yc(R,this),L.touch0&&L.touch0[2]===R.identifier?L.touch0[0]=z:L.touch1&&L.touch1[2]===R.identifier&&(L.touch1[0]=z);if(R=L.that.__zoom,L.touch1){var F=L.touch0[0],G=L.touch0[1],q=L.touch1[0],K=L.touch1[1],B=(B=q[0]-F[0])*B+(B=q[1]-F[1])*B,W=(W=K[0]-G[0])*W+(W=K[1]-G[1])*W;R=x(R,Math.sqrt(B/W)),z=[(F[0]+q[0])/2,(F[1]+q[1])/2],U=[(G[0]+K[0])/2,(G[1]+K[1])/2]}else if(L.touch0)z=L.touch0[0],U=L.touch0[1];else return;L.zoom("touch",r(_(R,z,U),L.extent,s))}}function P(D,...$){if(this.__zooming){var L=S(this,$).event(D),O=D.changedTouches,j=O.length,M,R;for(kj(D),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),M=0;M<j;++M)R=O[M],L.touch0&&L.touch0[2]===R.identifier?delete L.touch0:L.touch1&&L.touch1[2]===R.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(R=Yc(R,this),Math.hypot(h[0]-R[0],h[1]-R[1])<m)){var z=Gr(this).on("dblclick.zoom");z&&z.apply(this,arguments)}}}return y.wheelDelta=function(D){return arguments.length?(n=typeof D=="function"?D:kS(+D),y):n},y.filter=function(D){return arguments.length?(e=typeof D=="function"?D:kS(!!D),y):e},y.touchable=function(D){return arguments.length?(i=typeof D=="function"?D:kS(!!D),y):i},y.extent=function(D){return arguments.length?(t=typeof D=="function"?D:kS([[+D[0][0],+D[0][1]],[+D[1][0],+D[1][1]]]),y):t},y.scaleExtent=function(D){return arguments.length?(a[0]=+D[0],a[1]=+D[1],y):[a[0],a[1]]},y.translateExtent=function(D){return arguments.length?(s[0][0]=+D[0][0],s[1][0]=+D[1][0],s[0][1]=+D[0][1],s[1][1]=+D[1][1],y):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},y.constrain=function(D){return arguments.length?(r=D,y):r},y.duration=function(D){return arguments.length?(o=+D,y):o},y.interpolate=function(D){return arguments.length?(l=D,y):l},y.on=function(){var D=c.on.apply(c,arguments);return D===c?y:D},y.clickDistance=function(D){return arguments.length?(v=(D=+D)*D,y):Math.sqrt(v)},y.tapDistance=function(D){return arguments.length?(m=+D,y):m},y}const Mke=U5("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Fe=A.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>d.jsx("button",{className:nr(Mke({variant:t,size:r,className:e})),ref:a,...i}));Fe.displayName="Button";const Pke=({visible:e,x:t,y:r,node:n,onClose:i,menuItems:a=[]})=>{const s=A.useRef(null);return A.useEffect(()=>{const o=l=>{s.current&&!s.current.contains(l.target)&&i()};return e&&document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[e,i]),!e||!n?null:d.jsxs("div",{ref:s,style:{position:"fixed",top:r,left:t,width:"200px",backgroundColor:"white",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",border:"1px solid #e5e7eb",zIndex:50},children:[d.jsxs("div",{className:"p-2 border-b border-gray-100",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-700",children:n.name}),d.jsxs("p",{className:"text-xs text-gray-500",children:[n.type," - ",n.status," ",n.ip&&`- ${n.ip}`]})]}),d.jsxs("div",{className:"py-1",children:[a.map(o=>d.jsxs("button",{onClick:()=>{o.disabled||(o.onClick(n),i())},disabled:o.disabled,className:`
              w-full px-4 py-2 text-left flex items-center gap-2 
              ${o.disabled?"opacity-50 cursor-not-allowed":"hover:bg-blue-50 active:bg-blue-100 cursor-pointer"}
            `,children:[d.jsx("span",{className:"text-gray-600",children:o.icon}),d.jsx("span",{className:"text-sm",children:o.label})]},o.id)),a.length===0&&d.jsx("div",{className:"px-4 py-2 text-sm text-gray-500 italic",children:"暂无可用操作"})]})]})},Lke=(e,t)=>[{id:"terminal",label:"打开终端 CLI",icon:d.jsx(N_e,{size:16}),onClick:e},{id:"olaola",label:"OlaOla 配置助手",icon:d.jsx($a,{size:16}),onClick:t},{id:"refresh",label:"刷新设备状态",icon:d.jsx(mo,{size:16}),onClick:r=>console.log("刷新设备状态:",r.id),disabled:!1},{id:"export",label:"导出设备配置",icon:d.jsx(cc,{size:16}),onClick:r=>console.log("导出设备配置:",r.id),disabled:!1},{id:"mirror",label:"配置端口镜像",icon:d.jsx(v_e,{size:16}),onClick:r=>console.log("配置端口镜像:",r.id),disabled:!0}],Dke=({data:e,onNodeClick:t,viewMode:r,onNodeDoubleClick:n,highlightedNodeId:i=null,onOpenTerminal:a=()=>{},onOpenOlaOla:s=()=>{}})=>{const o=A.useRef(null),l=A.useRef(null),[c,u]=A.useState({width:1e3,height:600}),[h,f]=A.useState(1),[p,g]=A.useState(null),v=A.useRef(null),[m,y]=A.useState({visible:!1,x:0,y:0,node:null});A.useEffect(()=>{if(o.current){const{width:C,height:E}=o.current.getBoundingClientRect();u({width:C,height:E})}const k=()=>{if(o.current){const{width:C,height:E}=o.current.getBoundingClientRect();u({width:C,height:E})}};return window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]),A.useEffect(()=>{if(!o.current)return;const k=Gr(o.current),C=()=>{y(E=>({...E,visible:!1}))};return k.on("click",C),()=>{k.on("click",null)}},[]),A.useEffect(()=>{if(!o.current||!l.current)return;const k=Gr(o.current),C=Gr(l.current),E=t4().scaleExtent([.1,4]).on("zoom",P=>{C.attr("transform",P.transform.toString()),g(P.transform),f(P.transform.k)});k.call(E);const T=c.width,N=c.height,I=eu.translate(T/2,N/4).scale(.9);return k.call(E.transform,I),window.topologyZoom=E,()=>{k.on(".zoom",null),delete window.topologyZoom}},[c]),A.useEffect(()=>{var K;if(!o.current)return;const k=e||{nodes:[],links:[]};if(!k.nodes||!k.nodes.length)return;Gr(o.current).selectAll("*").remove();const C=document.getElementById("topology-highlight-style");C&&((K=C.parentNode)==null||K.removeChild(C)),v.current&&(v.current=null);const E=k.nodes.filter(B=>!(B.type==="spine"&&!r.showSpine||B.type==="leaf"&&!r.showLeaf||B.type==="tor"&&!r.showTor||B.type==="client"&&!r.showClient)),T=new Set(E.map(B=>B.id)),N=k.links.filter(B=>T.has(B.source)&&T.has(B.target)),P=Gr(o.current).append("g"),D={spine:E.filter(B=>B.type==="spine").length,leaf:E.filter(B=>B.type==="leaf").length,tor:E.filter(B=>B.type==="tor").length,client:E.filter(B=>B.type==="client").length},$=Object.values(D).filter(B=>B>0).length,O=c.height*.9/($+.5);let j=0;const M={spine:"#4361ee",leaf:"#3a0ca3",tor:"#7209b7",client:"#f72585"},R={};D.spine>0&&r.showSpine&&(R.spine=O*(j+.5),j++),D.leaf>0&&r.showLeaf&&(R.leaf=O*(j+.5),j++),D.tor>0&&r.showTor&&(R.tor=O*(j+.5),j++),D.client>0&&r.showClient&&(R.client=O*(j+.5)),E.forEach(B=>{R[B.type]!==void 0&&(B.y=R[B.type])});const z={spine:[],leaf:[],tor:[],client:[]};E.forEach(B=>{z[B.type].push(B)}),Object.entries(z).forEach(([B,W])=>{if(W.length>0){const Y=c.width*.85,Z=Y/W.length,Q=(c.width-Y)/2+Z/2;W.forEach((re,me)=>{re.x=Q+Z*me})}});const U=kke().curve(Eke);P.selectAll(".link").data(N).enter().append("path").attr("class","link").attr("d",B=>{const W=E.find(Ne=>Ne.id===B.source),Y=E.find(Ne=>Ne.id===B.target);if(!W||!Y||!W.x||!Y.x||!W.y||!Y.y)return"";const Z=W.y,Q=Y.y,re=W.x,me=Y.x,Ee=[[re,Z],[re,Z+(Q-Z)/3],[me,Q-(Q-Z)/3],[me,Q]];return U(Ee)}).attr("fill","none").attr("stroke",B=>B.status==="down"?"#d3d3d3":B.status==="warning"?"#ffc107":B.utilization<.2?"#c1d3fe":B.utilization<.5?"#5390d9":B.utilization<.8?"#ff9e00":"#dc2f02").attr("stroke-width",B=>2+Math.max(1,B.utilization*5)).attr("opacity",.8);const F=B=>{switch(B){case"spine":return"M -15,-15 L 15,-15 L 15,15 L -15,15 Z";case"leaf":return"M -15,-15 L 15,-15 L 15,15 L -15,15 Z";case"tor":return"M -15,-15 L 15,-15 L 15,15 L -15,15 Z";case"client":return"M -18,-10 L 18,-10 L 18,10 L -18,10 Z"}return""},G=P.selectAll(".node").data(E).enter().append("g").attr("class","node").attr("transform",B=>`translate(${B.x||0}, ${B.y||0})`).on("click",(B,W)=>{B.stopPropagation(),console.log("节点被点击:",W.id),t(W)}).on("dblclick",(B,W)=>{B.stopPropagation(),console.log("节点被双击:",W.id),n&&n(W)}).on("contextmenu",(B,W)=>{B.preventDefault(),B.stopPropagation();const Y=B.clientX,Z=B.clientY;console.log("鼠标点击位置:",Y,Z),y({visible:!0,x:Y,y:Z,node:W}),console.log("节点右键菜单:",W.id)});G.append("path").attr("d",B=>F(B.type)).attr("fill",B=>B.status==="down"?"#ef4444":B.status==="warning"?"#f59e0b":M[B.type]).attr("stroke","#000").attr("stroke-width",1.5).style("pointer-events","auto"),G.filter(B=>B.type==="client").append("rect").attr("x",-14).attr("y",-6).attr("width",28).attr("height",4).attr("fill","#111").attr("rx",1),G.append("text").attr("dy",B=>{switch(B.type){case"spine":return 35;case"leaf":return 35;case"tor":return 35;case"client":return 26;default:return 35}}).attr("text-anchor","middle").attr("fill","black").attr("font-size","12px").text(B=>B.name).each(function(B){if(B.type==="client"){Gr(this);const W=this.getBBox(),Y=this.parentNode;Y&&Gr(Y).insert("rect","text").attr("x",W.x-2).attr("y",W.y-1).attr("width",W.width+4).attr("height",W.height+2).attr("fill","white").attr("rx",2)}});const q=MSe().on("start",function(B,W){Gr(this).raise().attr("stroke","black")}).on("drag",function(B,W){W.x=B.x,W.y=B.y,Gr(this).attr("transform",`translate(${W.x}, ${W.y})`),P.selectAll(".link").filter(Y=>Y.source===W.id||Y.target===W.id).attr("d",Y=>{const Z=E.find(Ae=>Ae.id===Y.source),Q=E.find(Ae=>Ae.id===Y.target);if(!Z||!Q||!Z.x||!Q.x||!Z.y||!Q.y)return"";const re=Z.y,me=Q.y,Ee=Z.x,Ne=Q.x,Me=[[Ee,re],[Ee,re+(me-re)/3],[Ne,me-(me-re)/3],[Ne,me]];return U(Me)})}).on("end",function(B,W){Gr(this).attr("stroke",null)});G.call(q)},[e,c,r,t,n,p]),A.useEffect(()=>{if(!o.current)return;const k=e||{nodes:[]};if(!k.nodes.length||!i)return;console.log("尝试高亮节点:",i,"总节点数:",k.nodes.length);const C=Gr(o.current),E=C.select("g");v.current&&(C.select(`#${v.current}`).remove(),v.current=null);const T=k.nodes.find(N=>N.id===i);if(T&&T.x!==void 0&&T.y!==void 0){console.log("找到高亮节点:",T.id,"在位置",T.x,T.y);const N=E.insert("g",":first-child").attr("class","highlight-layer").style("pointer-events","none");v.current=N.node();const I=T.type,P={spine:50,leaf:45,tor:40,client:35}[I];N.append("circle").attr("cx",T.x).attr("cy",T.y).attr("r",P*.9).attr("fill","none").attr("stroke","#ff9800").attr("stroke-width",5).attr("stroke-dasharray","5,3").attr("class","highlight-circle-1").style("pointer-events","none"),N.append("circle").attr("cx",T.x).attr("cy",T.y).attr("r",P*1.2).attr("fill","none").attr("stroke","#ff5722").attr("stroke-width",2).attr("class","highlight-circle-2").style("pointer-events","none");const D=document.createElement("style");if(D.id="topology-highlight-style",D.textContent=`
        .highlight-layer * {
          pointer-events: none !important;
        }
        @keyframes pulse {
          0% { transform: scale(1); opacity: 0.8; }
          50% { transform: scale(1.2); opacity: 0.4; }
          100% { transform: scale(1); opacity: 0.8; }
        }
        .highlight-circle-1 {
          animation: pulse 1.5s ease-in-out infinite;
        }
        .highlight-circle-2 {
          animation: pulse 1.5s ease-in-out infinite reverse;
        }
      `,document.head.appendChild(D),p){const $=c.width/2,L=c.height/2,O=$-(T.x*p.k+p.x),j=L-(T.y*p.k+p.y),M=eu.translate(p.x+O,p.y+j).scale(p.k*1.2);C.transition().duration(750).call(window.topologyZoom.transform,M)}}else console.log("无法找到高亮节点或节点位置未定义:",i)},[i,e,c,p]),A.useEffect(()=>()=>{var C;const k=document.getElementById("topology-highlight-style");k&&((C=k.parentNode)==null||C.removeChild(k))},[]);const x=()=>{if(o.current){console.log("Zoom in clicked");try{const k=Gr(o.current),C=window.topologyZoom;if(!C){console.error("Zoom behavior not found");return}const E=Math.min(4,(p?p.k:1)*1.2);console.log("Current zoom level:",p?p.k:1),console.log("New zoom level:",E);const T=eu.translate(p?p.x:0,p?p.y:0).scale(E);k.transition().duration(300).call(C.transform,T),g(T),f(E)}catch(k){console.error("Error in zoom in:",k)}}},_=()=>{if(o.current){console.log("Zoom out clicked");try{const k=Gr(o.current),C=window.topologyZoom;if(!C){console.error("Zoom behavior not found");return}const E=Math.max(.1,(p?p.k:1)/1.2);console.log("Current zoom level:",p?p.k:1),console.log("New zoom level:",E);const T=eu.translate(p?p.x:0,p?p.y:0).scale(E);k.transition().duration(300).call(C.transform,T),g(T),f(E)}catch(k){console.error("Error in zoom out:",k)}}},b=()=>{if(!o.current)return;const k=Gr(o.current),C=window.topologyZoom;if(C){const E=c.width,T=c.height;k.transition().duration(750).call(C.transform,eu.translate(E/2,T/4).scale(.9))}},w=()=>{y(k=>({...k,visible:!1}))},S=Lke(k=>{console.log("打开终端:",k.id),a(k)},k=>{console.log("打开OlaOla配置助手:",k.id),s(k)});return d.jsxs("div",{className:"w-full h-full relative",children:[d.jsx("svg",{ref:o,className:"w-full h-full",children:d.jsx("g",{ref:l})}),d.jsx(Pke,{visible:m.visible,x:m.x,y:m.y,node:m.node,onClose:w,menuItems:S}),d.jsxs("div",{className:"absolute bottom-6 right-6 flex flex-col gap-2",children:[d.jsx(Fe,{variant:"outline",size:"icon",onClick:x,className:"bg-white",title:"放大",children:d.jsx(I_e,{size:18})}),d.jsx(Fe,{variant:"outline",size:"icon",onClick:_,className:"bg-white",title:"缩小",children:d.jsx(M_e,{size:18})}),d.jsx(Fe,{variant:"outline",size:"icon",onClick:b,className:"bg-white",title:"重置视图",children:d.jsx(j_e,{size:18})})]})]})},Oke=({portDetails:e,onClose:t})=>{if(!e)return null;const r=(h,f)=>{const p=n(f);return p?h*8/p:0},n=h=>{try{const f=h.match(/(\d+)([GMK])bps/i);if(!f)return null;const p=parseInt(f[1],10);switch(f[2].toUpperCase()){case"G":return p*1e3*1e3*1e3;case"M":return p*1e3*1e3;case"K":return p*1e3;default:return null}}catch{return null}},i=h=>{switch(h.toLowerCase()){case"up":return"bg-green-100 text-green-800 border-green-300";case"down":return"bg-gray-100 text-gray-800 border-gray-300";case"warning":return"bg-amber-100 text-amber-800 border-amber-300";case"disabled":return"bg-gray-100 text-gray-600 border-gray-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},a=h=>`${kp(h)}/s`,s=h=>h<.3?"text-green-600":h<.6?"text-amber-500":h<.8?"text-orange-500":"text-red-600",o=e.inOctets,l=e.outOctets,c=r(o,e.speed),u=r(l,e.speed);return d.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden",children:[d.jsxs("div",{className:"bg-white border-b border-gray-200 text-gray-800 px-4 py-3 flex justify-between items-center",children:[d.jsxs("h3",{className:"font-semibold text-sm",children:["端口: ",e.name]}),d.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-800 transition-colors",children:d.jsx(Ua,{size:18})})]}),d.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center",children:[d.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${i(e.status)}`,children:e.status.toUpperCase()}),d.jsx("div",{className:"ml-3 text-sm",children:e.speed}),e.inErrors>0&&d.jsxs("div",{className:"ml-auto text-xs text-red-600",children:[d.jsx("span",{className:"font-semibold",children:"CRC 错误:"})," ",e.inErrors]})]}),d.jsxs("div",{className:"p-4 text-sm divide-y divide-gray-200",children:[d.jsxs("div",{className:"pb-3",children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx(so,{size:16,className:"text-blue-500 mr-2"}),d.jsx("span",{className:"font-medium text-gray-800",children:"流量信息"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"接收速率"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("div",{children:a(o)}),d.jsxs("div",{className:`text-xs ${s(c)}`,children:[Math.round(c*100),"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:d.jsx("div",{className:`h-1.5 rounded-full ${c<.3?"bg-green-500":c<.6?"bg-amber-500":c<.8?"bg-orange-500":"bg-red-500"}`,style:{width:`${Math.min(100,Math.round(c*100))}%`}})})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"发送速率"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("div",{children:a(l)}),d.jsxs("div",{className:`text-xs ${s(u)}`,children:[Math.round(u*100),"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:d.jsx("div",{className:`h-1.5 rounded-full ${u<.3?"bg-green-500":u<.6?"bg-amber-500":u<.8?"bg-orange-500":"bg-red-500"}`,style:{width:`${Math.min(100,Math.round(u*100))}%`}})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-gray-500",children:"MTU"}),d.jsxs("div",{children:[e.mtu," bytes"]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-gray-500",children:"丢弃数量"}),d.jsxs("div",{children:["入: ",e.inDiscards,", 出: ",e.outDiscards]})]})]})]}),(e.vendor||e.serialNumber)&&d.jsxs("div",{className:"py-3",children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx(bv,{size:16,className:"text-blue-500 mr-2"}),d.jsx("span",{className:"font-medium text-gray-800",children:"光模块信息"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-gray-500",children:"厂商"}),d.jsx("div",{className:"truncate",children:e.vendor||"未知"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-gray-500",children:"序列号"}),d.jsx("div",{className:"truncate",children:e.serialNumber||"未知"})]})]})]}),(e.temperature||e.voltage||e.current||e.txPower||e.rxPower)&&d.jsxs("div",{className:"py-3",children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx(Aee,{size:16,className:"text-blue-500 mr-2"}),d.jsx("span",{className:"font-medium text-gray-800",children:"DDM参数"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[e.temperature!==void 0&&d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-gray-500",children:"温度"}),d.jsxs("div",{children:[e.temperature.toFixed(2),"°C"]})]}),e.voltage!==void 0&&d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-gray-500",children:"电压"}),d.jsxs("div",{children:[e.voltage.toFixed(2),"V"]})]}),e.current!==void 0&&d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-gray-500",children:"电流"}),d.jsxs("div",{children:[e.current.toFixed(2),"mA"]})]}),e.txPower!==void 0&&d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-gray-500",children:"发送功率"}),d.jsxs("div",{children:[e.txPower.toFixed(2),"dBm"]})]}),e.rxPower!==void 0&&d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-gray-500",children:"接收功率"}),d.jsxs("div",{children:[e.rxPower.toFixed(2),"dBm"]})]})]})]}),(e.inErrors!==void 0||e.outErrors!==void 0||e.fcsErrors!==void 0||e.flapCount!==void 0)&&d.jsxs("div",{className:"pt-3",children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx(Qd,{size:16,className:"text-blue-500 mr-2"}),d.jsx("span",{className:"font-medium text-gray-800",children:"错误统计"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[(e.inErrors!==void 0||e.outErrors!==void 0)&&d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-gray-500",children:"CRC错误"}),d.jsxs("div",{children:["入: ",e.inErrors||0,", 出: ",e.outErrors||0]})]}),e.fcsErrors!==void 0&&d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-gray-500",children:"FCS错误"}),d.jsx("div",{children:e.fcsErrors})]}),e.flapCount!==void 0&&d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-gray-500",children:"Flap次数"}),d.jsx("div",{children:e.flapCount})]})]})]})]})]})},Zr=A.forwardRef(({className:e,...t},r)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:r,className:nr("w-full caption-bottom text-sm",e),...t})}));Zr.displayName="Table";const Jr=A.forwardRef(({className:e,...t},r)=>d.jsx("thead",{ref:r,className:nr("[&_tr]:border-b",e),...t}));Jr.displayName="TableHeader";const Qr=A.forwardRef(({className:e,...t},r)=>d.jsx("tbody",{ref:r,className:nr("[&_tr:last-child]:border-0",e),...t}));Qr.displayName="TableBody";const $ke=A.forwardRef(({className:e,...t},r)=>d.jsx("tfoot",{ref:r,className:nr("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));$ke.displayName="TableFooter";const nt=A.forwardRef(({className:e,...t},r)=>d.jsx("tr",{ref:r,className:nr("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));nt.displayName="TableRow";const ie=A.forwardRef(({className:e,...t},r)=>d.jsx("th",{ref:r,className:nr("h-10 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ie.displayName="TableHead";const te=A.forwardRef(({className:e,...t},r)=>d.jsx("td",{ref:r,className:nr("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));te.displayName="TableCell";const Bke=A.forwardRef(({className:e,...t},r)=>d.jsx("caption",{ref:r,className:nr("mt-4 text-sm text-muted-foreground",e),...t}));Bke.displayName="TableCaption";const Fke=({device:e,portDetails:t,onPortClick:r})=>{const[n,i]=A.useState(null),[a,s]=A.useState({x:0,y:0}),o=A.useRef(null),[l,c]=A.useState({width:0,height:0}),[u,h]=A.useState("visual"),[f,p]=A.useState(null),[g,v]=A.useState("asc"),[m,y]=A.useState("");A.useEffect(()=>{if(o.current){const{width:T,height:N}=o.current.getBoundingClientRect();c({width:T,height:N})}const E=()=>{if(o.current){const{width:T,height:N}=o.current.getBoundingClientRect();c({width:T,height:N})}};return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const x=E=>{switch(E){case"up":return"bg-green-500 border-green-700";case"down":return"bg-gray-400 border-gray-600";case"warning":return"bg-amber-500 border-amber-700";case"disabled":return"bg-gray-300 border-gray-500";default:return"bg-gray-400 border-gray-600"}},_=(E,T)=>{if(r(E),i(E===n?null:E),o.current){const N=o.current.getBoundingClientRect(),I=T.clientX-N.left,P=T.clientY-N.top;s({x:Math.min(I,N.width-320),y:Math.min(P,N.height-300)})}},b=()=>n&&t.find(E=>E.id===n)||null,w=E=>{switch(E){case"spine":return"spine-default.png";case"leaf":return"leaf-default.png";case"tor":return"tor-default.png";case"client":return"client-default.png";default:return"switch-default.png"}},S=()=>{let E=[...t];if(m){const T=m.toLowerCase();E=E.filter(N=>N.name.toLowerCase().includes(T)||N.status.toLowerCase().includes(T)||N.speed.toLowerCase().includes(T)||N.vendor&&N.vendor.toLowerCase().includes(T)||N.serialNumber&&N.serialNumber.toLowerCase().includes(T))}return f&&E.sort((T,N)=>{const I=T[f],P=N[f];return I===void 0?g==="asc"?1:-1:P===void 0?g==="asc"?-1:1:typeof I=="string"&&typeof P=="string"?g==="asc"?I.localeCompare(P):P.localeCompare(I):typeof I=="number"&&typeof P=="number"?g==="asc"?I-P:P-I:0}),E},k=E=>{f===E?v(g==="asc"?"desc":"asc"):(p(E),v("asc"))},C=()=>{const E=S(),N=[["端口名","状态","速率","光模块厂商","序列号","温度(°C)","电压(V)","电流(mA)","TX功率(dBm)","RX功率(dBm)","CRC错误","FCS错误","Flap次数"].join(","),...E.map($=>[$.name,$.status,$.speed,$.vendor||"",$.serialNumber||"",$.temperature||"",$.voltage||"",$.current||"",$.txPower||"",$.rxPower||"",$.inErrors||0,$.fcsErrors||0,$.flapCount||0].join(","))].join(`
`),I=new Blob([N],{type:"text/csv;charset=utf-8;"}),P=URL.createObjectURL(I),D=document.createElement("a");D.href=P,D.setAttribute("download",`${e.name}_ports_${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(D),D.click(),document.body.removeChild(D)};return d.jsxs("div",{ref:o,className:"relative w-full bg-white rounded-lg shadow-md flex flex-col border border-gray-200",style:{minHeight:"300px"},children:[d.jsxs("div",{className:"bg-white text-gray-800 p-4 border-b border-gray-200 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("h3",{className:"text-xl font-semibold tracking-tight",children:e.name}),e.ipAddress&&d.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["IP: ",e.ipAddress]})]}),d.jsx("div",{className:`
          px-2 py-1 rounded-full text-xs font-medium text-white
          ${e.status==="up"?"bg-green-500":e.status==="warning"?"bg-amber-500":"bg-red-500"}
        `,children:e.status.toUpperCase()})]}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"relative bg-gray-50 p-4 border-b border-gray-200",children:[d.jsx("h3",{className:"text-base font-medium text-gray-800 mb-2",children:"设备面板视图"}),d.jsx("img",{src:e.panelImage||`/images/${w(e.type)}`,alt:`${e.name} front panel`,className:"w-full object-contain mx-auto",style:{height:"300px",maxWidth:"100%"}}),e.ports.map(E=>{const T=E.id===n;return d.jsx("div",{className:`absolute border-2 ${x(E.status)} ${T?"ring-2 ring-blue-500":""} hover:opacity-80 cursor-pointer transition-all duration-200`,style:{left:`${E.x}%`,top:`${E.y}%`,width:`${E.width}%`,height:`${E.height}%`},onClick:N=>_(E.id,N),title:E.name,children:d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("span",{className:"text-xs font-bold text-white drop-shadow-md",children:E.name})})},E.id)})]}),n&&d.jsx("div",{className:"fixed z-50 shadow-xl bg-white rounded-lg border border-gray-200",style:{width:"350px",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:d.jsx(Oke,{portDetails:b(),onClose:()=>i(null)})}),d.jsxs("div",{className:"p-4 bg-white text-gray-800 border-b border-gray-200",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("h4",{className:"text-sm font-medium",children:["设备类型: ",e.type.toUpperCase()]}),d.jsxs("div",{className:"text-sm",children:[d.jsx("span",{className:"text-gray-500 mr-2",children:"端口数量:"}),d.jsx("span",{className:"font-medium",children:e.ports.length})]})]}),d.jsxs("div",{className:"flex mt-2 gap-5",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),d.jsxs("span",{className:"text-xs",children:["UP: ",e.ports.filter(E=>E.status==="up").length]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500 mr-2"}),d.jsxs("span",{className:"text-xs",children:["WARNING: ",e.ports.filter(E=>E.status==="warning").length]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400 mr-2"}),d.jsxs("span",{className:"text-xs",children:["DOWN: ",e.ports.filter(E=>E.status==="down").length]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-300 mr-2"}),d.jsxs("span",{className:"text-xs",children:["DISABLED: ",e.ports.filter(E=>E.status==="disabled").length]})]})]})]}),d.jsxs("div",{className:"bg-white",children:[d.jsxs("div",{className:"p-4 border-b border-gray-200",children:[d.jsx("h3",{className:"text-base font-medium text-gray-800 mb-2",children:"端口详情表格"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(m_e,{className:"h-4 w-4 text-gray-400 mr-2"}),d.jsx("input",{type:"search",placeholder:"搜索端口...",className:"bg-white text-gray-800 text-sm px-3 py-1 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-blue-500",value:m,onChange:E=>y(E.target.value)})]}),d.jsxs("button",{onClick:C,className:"flex items-center px-3 py-1 text-xs text-white bg-blue-600 hover:bg-blue-700 rounded transition-colors",children:[d.jsx(cc,{className:"h-3 w-3 mr-1"}),"导出CSV"]})]})]}),d.jsx("div",{children:d.jsxs(Zr,{children:[d.jsx(Jr,{className:"bg-gray-50 sticky top-0",children:d.jsxs(nt,{children:[d.jsx(ie,{className:"text-gray-700 cursor-pointer hover:text-blue-600",onClick:()=>k("name"),children:d.jsxs("div",{className:"flex items-center",children:["端口名",f==="name"&&d.jsx(so,{className:`ml-1 h-3 w-3 ${g==="desc"?"rotate-180":""}`})]})}),d.jsx(ie,{className:"text-gray-700 cursor-pointer hover:text-blue-600",onClick:()=>k("status"),children:d.jsxs("div",{className:"flex items-center",children:["状态",f==="status"&&d.jsx(so,{className:`ml-1 h-3 w-3 ${g==="desc"?"rotate-180":""}`})]})}),d.jsx(ie,{className:"text-gray-700 cursor-pointer hover:text-blue-600",onClick:()=>k("speed"),children:d.jsxs("div",{className:"flex items-center",children:["速率",f==="speed"&&d.jsx(so,{className:`ml-1 h-3 w-3 ${g==="desc"?"rotate-180":""}`})]})}),d.jsx(ie,{className:"text-gray-700 cursor-pointer hover:text-blue-600",onClick:()=>k("vendor"),children:d.jsxs("div",{className:"flex items-center",children:["光模块厂商",f==="vendor"&&d.jsx(so,{className:`ml-1 h-3 w-3 ${g==="desc"?"rotate-180":""}`})]})}),d.jsx(ie,{className:"text-gray-700 cursor-pointer hover:text-blue-600",onClick:()=>k("serialNumber"),children:d.jsxs("div",{className:"flex items-center",children:["序列号",f==="serialNumber"&&d.jsx(so,{className:`ml-1 h-3 w-3 ${g==="desc"?"rotate-180":""}`})]})}),d.jsx(ie,{className:"text-gray-700 cursor-pointer hover:text-blue-600",onClick:()=>k("temperature"),children:d.jsxs("div",{className:"flex items-center",children:["温度(°C)",f==="temperature"&&d.jsx(so,{className:`ml-1 h-3 w-3 ${g==="desc"?"rotate-180":""}`})]})}),d.jsx(ie,{className:"text-gray-700 cursor-pointer hover:text-blue-600",onClick:()=>k("txPower"),children:d.jsxs("div",{className:"flex items-center",children:["Optical_Module_TX(dBm)",f==="txPower"&&d.jsx(so,{className:`ml-1 h-3 w-3 ${g==="desc"?"rotate-180":""}`})]})}),d.jsx(ie,{className:"text-gray-700 cursor-pointer hover:text-blue-600",onClick:()=>k("rxPower"),children:d.jsxs("div",{className:"flex items-center",children:["Optical_Module_RX(dBm)",f==="rxPower"&&d.jsx(so,{className:`ml-1 h-3 w-3 ${g==="desc"?"rotate-180":""}`})]})}),d.jsx(ie,{className:"text-gray-700 cursor-pointer hover:text-blue-600",onClick:()=>k("inErrors"),children:d.jsxs("div",{className:"flex items-center",children:["CRC错误",f==="inErrors"&&d.jsx(so,{className:`ml-1 h-3 w-3 ${g==="desc"?"rotate-180":""}`})]})}),d.jsx(ie,{className:"text-gray-700 cursor-pointer hover:text-blue-600",onClick:()=>k("fcsErrors"),children:d.jsxs("div",{className:"flex items-center",children:["FCS错误",f==="fcsErrors"&&d.jsx(so,{className:`ml-1 h-3 w-3 ${g==="desc"?"rotate-180":""}`})]})}),d.jsx(ie,{className:"text-gray-700 cursor-pointer hover:text-blue-600",onClick:()=>k("flapCount"),children:d.jsxs("div",{className:"flex items-center",children:["Flaps",f==="flapCount"&&d.jsx(so,{className:`ml-1 h-3 w-3 ${g==="desc"?"rotate-180":""}`})]})}),d.jsx(ie,{className:"text-gray-700",children:"流量"})]})}),d.jsx(Qr,{children:S().map(E=>d.jsxs(nt,{className:`
                      border-b border-gray-200 hover:bg-gray-100 cursor-pointer
                      ${E.id===n?"bg-blue-100":""}
                    `,onClick:()=>i(E.id===n?null:E.id),children:[d.jsx(te,{className:"font-medium text-gray-800",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${E.status==="up"?"bg-green-500":E.status==="warning"?"bg-amber-500":"bg-gray-500"}`}),E.name]})}),d.jsx(te,{className:"text-gray-800",children:E.status.toUpperCase()}),d.jsx(te,{className:"text-gray-800",children:E.speed}),d.jsx(te,{className:"text-gray-800",children:E.vendor||"-"}),d.jsx(te,{className:"text-gray-800",children:d.jsx("span",{className:"text-xs",children:E.serialNumber||"-"})}),d.jsx(te,{className:"text-gray-800",children:E.temperature!==void 0?`${E.temperature.toFixed(1)}`:"-"}),d.jsx(te,{className:"text-gray-800",children:E.txPower!==void 0?`${E.txPower.toFixed(2)}`:"-"}),d.jsx(te,{className:"text-gray-800",children:E.rxPower!==void 0?`${E.rxPower.toFixed(2)}`:"-"}),d.jsx(te,{className:`text-gray-800 ${E.inErrors>0?"text-red-500":""}`,children:E.inErrors||0}),d.jsx(te,{className:`text-gray-800 ${E.fcsErrors&&E.fcsErrors>0?"text-red-500":""}`,children:E.fcsErrors||0}),d.jsx(te,{className:`text-gray-800 ${E.flapCount&&E.flapCount>0?"text-yellow-500":""}`,children:E.flapCount||0}),d.jsx(te,{className:"text-gray-800",children:d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-gray-500",children:"入:"}),d.jsxs("span",{children:[kp(E.inOctets),"/s"]})]}),d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-gray-500",children:"出:"}),d.jsxs("span",{children:[kp(E.outOctets),"/s"]})]})]})})]},E.id))})]})})]})]})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var CL=function(e,t){return CL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},CL(e,t)};function ce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");CL(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var zke=function(){function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return e}(),Uke=function(){function e(){this.browser=new zke,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return e}(),tr=new Uke;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(tr.wxa=!0,tr.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?tr.worker=!0:!tr.hasGlobalWindow||"Deno"in window?(tr.node=!0,tr.svgSupported=!0):Hke(navigator.userAgent,tr);function Hke(e,t){var r=t.browser,n=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),a=e.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(e);n&&(r.firefox=!0,r.version=n[1]),i&&(r.ie=!0,r.version=i[1]),a&&(r.edge=!0,r.version=a[1],r.newEdge=+a[1].split(".")[0]>18),s&&(r.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,t.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),t.domSupported=typeof document<"u";var o=document.documentElement.style;t.transform3dSupported=(r.ie&&"transition"in o||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in o)&&!("OTransition"in o),t.transformSupported=t.transform3dSupported||r.ie&&+r.version>=9}var r4=12,zte="sans-serif",uh=r4+"px "+zte,Vke=20,Wke=100,Gke="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function qke(e){var t={};if(typeof JSON>"u")return t;for(var r=0;r<e.length;r++){var n=String.fromCharCode(r+32),i=(e.charCodeAt(r)-Vke)/Wke;t[n]=i}return t}var Yke=qke(Gke),dh={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var e,t;return function(r,n){if(!e){var i=dh.createCanvas();e=i&&i.getContext("2d")}if(e)return t!==n&&(t=e.font=n||uh),e.measureText(r);r=r||"",n=n||uh;var a=/((?:\d+)?\.?\d*)px/.exec(n),s=a&&+a[1]||r4,o=0;if(n.indexOf("mono")>=0)o=s*r.length;else for(var l=0;l<r.length;l++){var c=Yke[r[l]];o+=c==null?s:c*s}return{width:o}}}(),loadImage:function(e,t,r){var n=new Image;return n.onload=t,n.onerror=r,n.src=e,n}},Ute=yc(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(e,t){return e["[object "+t+"]"]=!0,e},{}),Hte=yc(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(e,t){return e["[object "+t+"Array]"]=!0,e},{}),h0=Object.prototype.toString,o2=Array.prototype,Kke=o2.forEach,Xke=o2.filter,n4=o2.slice,Zke=o2.map,CU=(function(){}).constructor,ES=CU?CU.prototype:null,i4="__proto__",Jke=2311;function Vte(){return Jke++}function a4(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];typeof console<"u"&&console.error.apply(console,e)}function vt(e){if(e==null||typeof e!="object")return e;var t=e,r=h0.call(e);if(r==="[object Array]"){if(!m_(e)){t=[];for(var n=0,i=e.length;n<i;n++)t[n]=vt(e[n])}}else if(Hte[r]){if(!m_(e)){var a=e.constructor;if(a.from)t=a.from(e);else{t=new a(e.length);for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}}}else if(!Ute[r]&&!m_(e)&&!kv(e)){t={};for(var s in e)e.hasOwnProperty(s)&&s!==i4&&(t[s]=vt(e[s]))}return t}function Pt(e,t,r){if(!ft(t)||!ft(e))return r?vt(t):e;for(var n in t)if(t.hasOwnProperty(n)&&n!==i4){var i=e[n],a=t[n];ft(a)&&ft(i)&&!ye(a)&&!ye(i)&&!kv(a)&&!kv(i)&&!kU(a)&&!kU(i)&&!m_(a)&&!m_(i)?Pt(i,a,r):(r||!(n in e))&&(e[n]=vt(t[n]))}return e}function s4(e,t){for(var r=e[0],n=1,i=e.length;n<i;n++)r=Pt(r,e[n],t);return r}function pe(e,t){if(Object.assign)Object.assign(e,t);else for(var r in t)t.hasOwnProperty(r)&&r!==i4&&(e[r]=t[r]);return e}function ut(e,t,r){for(var n=ar(t),i=0,a=n.length;i<a;i++){var s=n[i];(r?t[s]!=null:e[s]==null)&&(e[s]=t[s])}return e}function Wt(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r}return-1}function Qke(e,t){var r=e.prototype;function n(){}n.prototype=t.prototype,e.prototype=new n;for(var i in r)r.hasOwnProperty(i)&&(e.prototype[i]=r[i]);e.prototype.constructor=e,e.superClass=t}function pi(e,t,r){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var a=n[i];a!=="constructor"&&(r?t[a]!=null:e[a]==null)&&(e[a]=t[a])}else ut(e,t,r)}function _a(e){return!e||typeof e=="string"?!1:typeof e.length=="number"}function V(e,t,r){if(e&&t)if(e.forEach&&e.forEach===Kke)e.forEach(t,r);else if(e.length===+e.length)for(var n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e);else for(var a in e)e.hasOwnProperty(a)&&t.call(r,e[a],a,e)}function _e(e,t,r){if(!e)return[];if(!t)return o4(e);if(e.map&&e.map===Zke)return e.map(t,r);for(var n=[],i=0,a=e.length;i<a;i++)n.push(t.call(r,e[i],i,e));return n}function yc(e,t,r,n){if(e&&t){for(var i=0,a=e.length;i<a;i++)r=t.call(n,r,e[i],i,e);return r}}function Br(e,t,r){if(!e)return[];if(!t)return o4(e);if(e.filter&&e.filter===Xke)return e.filter(t,r);for(var n=[],i=0,a=e.length;i<a;i++)t.call(r,e[i],i,e)&&n.push(e[i]);return n}function eEe(e,t,r){if(e&&t){for(var n=0,i=e.length;n<i;n++)if(t.call(r,e[n],n,e))return e[n]}}function ar(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}function tEe(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return function(){return e.apply(t,r.concat(n4.call(arguments)))}}var Ke=ES&&lt(ES.bind)?ES.call.bind(ES.bind):tEe;function At(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(){return e.apply(this,t.concat(n4.call(arguments)))}}function ye(e){return Array.isArray?Array.isArray(e):h0.call(e)==="[object Array]"}function lt(e){return typeof e=="function"}function We(e){return typeof e=="string"}function kL(e){return h0.call(e)==="[object String]"}function Nr(e){return typeof e=="number"}function ft(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function kU(e){return!!Ute[h0.call(e)]}function bs(e){return!!Hte[h0.call(e)]}function kv(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function l2(e){return e.colorStops!=null}function rEe(e){return e.image!=null}function nEe(e){return h0.call(e)==="[object RegExp]"}function vb(e){return e!==e}function Ui(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,n=e.length;r<n;r++)if(e[r]!=null)return e[r]}function Et(e,t){return e??t}function dc(e,t,r){return e??t??r}function o4(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n4.apply(e,t)}function l4(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function Wa(e,t){if(!e)throw new Error(t)}function nl(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Wte="__ec_primitive__";function GE(e){e[Wte]=!0}function m_(e){return e[Wte]}var iEe=function(){function e(){this.data={}}return e.prototype.delete=function(t){var r=this.has(t);return r&&delete this.data[t],r},e.prototype.has=function(t){return this.data.hasOwnProperty(t)},e.prototype.get=function(t){return this.data[t]},e.prototype.set=function(t,r){return this.data[t]=r,this},e.prototype.keys=function(){return ar(this.data)},e.prototype.forEach=function(t){var r=this.data;for(var n in r)r.hasOwnProperty(n)&&t(r[n],n)},e}(),Gte=typeof Map=="function";function aEe(){return Gte?new Map:new iEe}var sEe=function(){function e(t){var r=ye(t);this.data=aEe();var n=this;t instanceof e?t.each(i):t&&V(t,i);function i(a,s){r?n.set(a,s):n.set(s,a)}}return e.prototype.hasKey=function(t){return this.data.has(t)},e.prototype.get=function(t){return this.data.get(t)},e.prototype.set=function(t,r){return this.data.set(t,r),r},e.prototype.each=function(t,r){this.data.forEach(function(n,i){t.call(r,n,i)})},e.prototype.keys=function(){var t=this.data.keys();return Gte?Array.from(t):t},e.prototype.removeKey=function(t){this.data.delete(t)},e}();function Qe(e){return new sEe(e)}function yb(e,t){for(var r=new e.constructor(e.length+t.length),n=0;n<e.length;n++)r[n]=e[n];for(var i=e.length,n=0;n<t.length;n++)r[n+i]=t[n];return r}function c2(e,t){var r;if(Object.create)r=Object.create(e);else{var n=function(){};n.prototype=e,r=new n}return t&&pe(r,t),r}function qte(e){var t=e.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function Ze(e,t){return e.hasOwnProperty(t)}function ai(){}var Ik=180/Math.PI;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var EL=function(e,t){return EL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},EL(e,t)};function kn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");EL(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Zp(e,t){return e==null&&(e=0),t==null&&(t=0),[e,t]}function ja(e,t){return e[0]=t[0],e[1]=t[1],e}function hu(e){return[e[0],e[1]]}function oEe(e,t,r){return e[0]=t,e[1]=r,e}function EU(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function TL(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function Wf(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function NL(e){return Math.sqrt(lEe(e))}function lEe(e){return e[0]*e[0]+e[1]*e[1]}function Mk(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function f0(e,t){var r=NL(t);return r===0?(e[0]=0,e[1]=0):(e[0]=t[0]/r,e[1]=t[1]/r),e}function AL(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var Id=AL;function cEe(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var op=cEe;function Pk(e,t,r,n){return e[0]=t[0]+n*(r[0]-t[0]),e[1]=t[1]+n*(r[1]-t[1]),e}function Ji(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function Md(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function Pd(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}var kg=function(){function e(t,r){this.target=t,this.topTarget=r&&r.topTarget}return e}(),uEe=function(){function e(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(t){for(var r=t.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new kg(r,t),"dragstart",t.event))},e.prototype._drag=function(t){var r=this._draggingTarget;if(r){var n=t.offsetX,i=t.offsetY,a=n-this._x,s=i-this._y;this._x=n,this._y=i,r.drift(a,s,t),this.handler.dispatchToElement(new kg(r,t),"drag",t.event);var o=this.handler.findHover(n,i,r).target,l=this._dropTarget;this._dropTarget=o,r!==o&&(l&&o!==l&&this.handler.dispatchToElement(new kg(l,t),"dragleave",t.event),o&&o!==l&&this.handler.dispatchToElement(new kg(o,t),"dragenter",t.event))}},e.prototype._dragEnd=function(t){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new kg(r,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new kg(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},e}(),Po=function(){function e(t){t&&(this._$eventProcessor=t)}return e.prototype.on=function(t,r,n,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof r=="function"&&(i=n,n=r,r=null),!n||!t)return this;var s=this._$eventProcessor;r!=null&&s&&s.normalizeQuery&&(r=s.normalizeQuery(r)),a[t]||(a[t]=[]);for(var o=0;o<a[t].length;o++)if(a[t][o].h===n)return this;var l={h:n,query:r,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},c=a[t].length-1,u=a[t][c];return u&&u.callAtLast?a[t].splice(c,0,l):a[t].push(l),this},e.prototype.isSilent=function(t){var r=this._$handlers;return!r||!r[t]||!r[t].length},e.prototype.off=function(t,r){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(r){if(n[t]){for(var i=[],a=0,s=n[t].length;a<s;a++)n[t][a].h!==r&&i.push(n[t][a]);n[t]=i}n[t]&&n[t].length===0&&delete n[t]}else delete n[t];return this},e.prototype.trigger=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],a=this._$eventProcessor;if(i)for(var s=r.length,o=i.length,l=0;l<o;l++){var c=i[l];if(!(a&&a.filter&&c.query!=null&&!a.filter(t,c.query)))switch(s){case 0:c.h.call(c.ctx);break;case 1:c.h.call(c.ctx,r[0]);break;case 2:c.h.call(c.ctx,r[0],r[1]);break;default:c.h.apply(c.ctx,r);break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},e.prototype.triggerWithContext=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],a=this._$eventProcessor;if(i)for(var s=r.length,o=r[s-1],l=i.length,c=0;c<l;c++){var u=i[c];if(!(a&&a.filter&&u.query!=null&&!a.filter(t,u.query)))switch(s){case 0:u.h.call(o);break;case 1:u.h.call(o,r[0]);break;case 2:u.h.call(o,r[0],r[1]);break;default:u.h.apply(o,r.slice(1,s-1));break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},e}(),dEe=Math.log(2);function jL(e,t,r,n,i,a){var s=n+"-"+i,o=e.length;if(a.hasOwnProperty(s))return a[s];if(t===1){var l=Math.round(Math.log((1<<o)-1&~i)/dEe);return e[r][l]}for(var c=n|1<<r,u=r+1;n&1<<u;)u++;for(var h=0,f=0,p=0;f<o;f++){var g=1<<f;g&i||(h+=(p%2?-1:1)*e[r][f]*jL(e,t-1,u,c,i|g,a),p++)}return a[s]=h,h}function TU(e,t){var r=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],n={},i=jL(r,8,0,0,0,n);if(i!==0){for(var a=[],s=0;s<8;s++)for(var o=0;o<8;o++)a[o]==null&&(a[o]=0),a[o]+=((s+o)%2?-1:1)*jL(r,7,s===0?1:0,1<<s,1<<o,n)/i*t[s];return function(l,c,u){var h=c*a[6]+u*a[7]+1;l[0]=(c*a[0]+u*a[1]+a[2])/h,l[1]=(c*a[3]+u*a[4]+a[5])/h}}}var NU="___zrEVENTSAVED",Ej=[];function hEe(e,t,r,n,i){return RL(Ej,t,n,i,!0)&&RL(e,r,Ej[0],Ej[1])}function RL(e,t,r,n,i){if(t.getBoundingClientRect&&tr.domSupported&&!Yte(t)){var a=t[NU]||(t[NU]={}),s=fEe(t,a),o=pEe(s,a,i);if(o)return o(e,r,n),!0}return!1}function fEe(e,t){var r=t.markers;if(r)return r;r=t.markers=[];for(var n=["left","right"],i=["top","bottom"],a=0;a<4;a++){var s=document.createElement("div"),o=s.style,l=a%2,c=(a>>1)%2;o.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",i[c]+":0",n[1-l]+":auto",i[1-c]+":auto",""].join("!important;"),e.appendChild(s),r.push(s)}return r}function pEe(e,t,r){for(var n=r?"invTrans":"trans",i=t[n],a=t.srcCoords,s=[],o=[],l=!0,c=0;c<4;c++){var u=e[c].getBoundingClientRect(),h=2*c,f=u.left,p=u.top;s.push(f,p),l=l&&a&&f===a[h]&&p===a[h+1],o.push(e[c].offsetLeft,e[c].offsetTop)}return l&&i?i:(t.srcCoords=s,t[n]=r?TU(o,s):TU(s,o))}function Yte(e){return e.nodeName.toUpperCase()==="CANVAS"}var gEe=/([&<>"'])/g,mEe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function La(e){return e==null?"":(e+"").replace(gEe,function(t,r){return mEe[r]})}var vEe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Tj=[],yEe=tr.browser.firefox&&+tr.browser.version.split(".")[0]<39;function IL(e,t,r,n){return r=r||{},n?AU(e,t,r):yEe&&t.layerX!=null&&t.layerX!==t.offsetX?(r.zrX=t.layerX,r.zrY=t.layerY):t.offsetX!=null?(r.zrX=t.offsetX,r.zrY=t.offsetY):AU(e,t,r),r}function AU(e,t,r){if(tr.domSupported&&e.getBoundingClientRect){var n=t.clientX,i=t.clientY;if(Yte(e)){var a=e.getBoundingClientRect();r.zrX=n-a.left,r.zrY=i-a.top;return}else if(RL(Tj,e,n,i)){r.zrX=Tj[0],r.zrY=Tj[1];return}}r.zrX=r.zrY=0}function c4(e){return e||window.event}function lo(e,t,r){if(t=c4(t),t.zrX!=null)return t;var n=t.type,i=n&&n.indexOf("touch")>=0;if(i){var s=n!=="touchend"?t.targetTouches[0]:t.changedTouches[0];s&&IL(e,s,t,r)}else{IL(e,t,t,r);var a=xEe(t);t.zrDelta=a?a/120:-(t.detail||0)/3}var o=t.button;return t.which==null&&o!==void 0&&vEe.test(t.type)&&(t.which=o&1?1:o&2?3:o&4?2:0),t}function xEe(e){var t=e.wheelDelta;if(t)return t;var r=e.deltaX,n=e.deltaY;if(r==null||n==null)return t;var i=Math.abs(n!==0?n:r),a=n>0?-1:n<0?1:r>0?-1:1;return 3*i*a}function ML(e,t,r,n){e.addEventListener(t,r,n)}function _Ee(e,t,r,n){e.removeEventListener(t,r,n)}var Cu=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0};function jU(e){return e.which===2||e.which===3}var bEe=function(){function e(){this._track=[]}return e.prototype.recognize=function(t,r,n){return this._doTrack(t,r,n),this._recognize(t)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(t,r,n){var i=t.touches;if(i){for(var a={points:[],touches:[],target:r,event:t},s=0,o=i.length;s<o;s++){var l=i[s],c=IL(n,l,{});a.points.push([c.zrX,c.zrY]),a.touches.push(l)}this._track.push(a)}},e.prototype._recognize=function(t){for(var r in Nj)if(Nj.hasOwnProperty(r)){var n=Nj[r](this._track,t);if(n)return n}},e}();function RU(e){var t=e[1][0]-e[0][0],r=e[1][1]-e[0][1];return Math.sqrt(t*t+r*r)}function wEe(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var Nj={pinch:function(e,t){var r=e.length;if(r){var n=(e[r-1]||{}).points,i=(e[r-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var a=RU(n)/RU(i);!isFinite(a)&&(a=1),t.pinchScale=a;var s=wEe(n);return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:e[0].target,event:t}}}}};function $s(){return[1,0,0,1,0,0]}function u2(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function u4(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function fu(e,t,r){var n=t[0]*r[0]+t[2]*r[1],i=t[1]*r[0]+t[3]*r[1],a=t[0]*r[2]+t[2]*r[3],s=t[1]*r[2]+t[3]*r[3],o=t[0]*r[4]+t[2]*r[5]+t[4],l=t[1]*r[4]+t[3]*r[5]+t[5];return e[0]=n,e[1]=i,e[2]=a,e[3]=s,e[4]=o,e[5]=l,e}function xc(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+r[0],e[5]=t[5]+r[1],e}function Jp(e,t,r,n){n===void 0&&(n=[0,0]);var i=t[0],a=t[2],s=t[4],o=t[1],l=t[3],c=t[5],u=Math.sin(r),h=Math.cos(r);return e[0]=i*h+o*u,e[1]=-i*u+o*h,e[2]=a*h+l*u,e[3]=-a*u+h*l,e[4]=h*(s-n[0])+u*(c-n[1])+n[0],e[5]=h*(c-n[1])-u*(s-n[0])+n[1],e}function d4(e,t,r){var n=r[0],i=r[1];return e[0]=t[0]*n,e[1]=t[1]*i,e[2]=t[2]*n,e[3]=t[3]*i,e[4]=t[4]*n,e[5]=t[5]*i,e}function p0(e,t){var r=t[0],n=t[2],i=t[4],a=t[1],s=t[3],o=t[5],l=r*s-a*n;return l?(l=1/l,e[0]=s*l,e[1]=-a*l,e[2]=-n*l,e[3]=r*l,e[4]=(n*o-s*i)*l,e[5]=(a*i-r*o)*l,e):null}function SEe(e){var t=$s();return u4(t,e),t}var Lt=function(){function e(t,r){this.x=t||0,this.y=r||0}return e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(t,r){return this.x=t,this.y=r,this},e.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},e.prototype.scale=function(t){this.x*=t,this.y*=t},e.prototype.scaleAndAdd=function(t,r){this.x+=t.x*r,this.y+=t.y*r},e.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},e.prototype.distance=function(t){var r=this.x-t.x,n=this.y-t.y;return Math.sqrt(r*r+n*n)},e.prototype.distanceSquare=function(t){var r=this.x-t.x,n=this.y-t.y;return r*r+n*n},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(t){if(t){var r=this.x,n=this.y;return this.x=t[0]*r+t[2]*n+t[4],this.y=t[1]*r+t[3]*n+t[5],this}},e.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},e.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},e.set=function(t,r,n){t.x=r,t.y=n},e.copy=function(t,r){t.x=r.x,t.y=r.y},e.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},e.lenSquare=function(t){return t.x*t.x+t.y*t.y},e.dot=function(t,r){return t.x*r.x+t.y*r.y},e.add=function(t,r,n){t.x=r.x+n.x,t.y=r.y+n.y},e.sub=function(t,r,n){t.x=r.x-n.x,t.y=r.y-n.y},e.scale=function(t,r,n){t.x=r.x*n,t.y=r.y*n},e.scaleAndAdd=function(t,r,n,i){t.x=r.x+n.x*i,t.y=r.y+n.y*i},e.lerp=function(t,r,n,i){var a=1-i;t.x=a*r.x+i*n.x,t.y=a*r.y+i*n.y},e}(),TS=Math.min,NS=Math.max,Gh=new Lt,qh=new Lt,Yh=new Lt,Kh=new Lt,Ly=new Lt,Dy=new Lt,Bt=function(){function e(t,r,n,i){n<0&&(t=t+n,n=-n),i<0&&(r=r+i,i=-i),this.x=t,this.y=r,this.width=n,this.height=i}return e.prototype.union=function(t){var r=TS(t.x,this.x),n=TS(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=NS(t.x+t.width,this.x+this.width)-r:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=NS(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=r,this.y=n},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(t){var r=this,n=t.width/r.width,i=t.height/r.height,a=$s();return xc(a,a,[-r.x,-r.y]),d4(a,a,[n,i]),xc(a,a,[t.x,t.y]),a},e.prototype.intersect=function(t,r){if(!t)return!1;t instanceof e||(t=e.create(t));var n=this,i=n.x,a=n.x+n.width,s=n.y,o=n.y+n.height,l=t.x,c=t.x+t.width,u=t.y,h=t.y+t.height,f=!(a<l||c<i||o<u||h<s);if(r){var p=1/0,g=0,v=Math.abs(a-l),m=Math.abs(c-i),y=Math.abs(o-u),x=Math.abs(h-s),_=Math.min(v,m),b=Math.min(y,x);a<l||c<i?_>g&&(g=_,v<m?Lt.set(Dy,-v,0):Lt.set(Dy,m,0)):_<p&&(p=_,v<m?Lt.set(Ly,v,0):Lt.set(Ly,-m,0)),o<u||h<s?b>g&&(g=b,y<x?Lt.set(Dy,0,-y):Lt.set(Dy,0,x)):_<p&&(p=_,y<x?Lt.set(Ly,0,y):Lt.set(Ly,0,-x))}return r&&Lt.copy(r,f?Ly:Dy),f},e.prototype.contain=function(t,r){var n=this;return t>=n.x&&t<=n.x+n.width&&r>=n.y&&r<=n.y+n.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return this.width===0||this.height===0},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(t,r){t.x=r.x,t.y=r.y,t.width=r.width,t.height=r.height},e.applyTransform=function(t,r,n){if(!n){t!==r&&e.copy(t,r);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],a=n[3],s=n[4],o=n[5];t.x=r.x*i+s,t.y=r.y*a+o,t.width=r.width*i,t.height=r.height*a,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}Gh.x=Yh.x=r.x,Gh.y=Kh.y=r.y,qh.x=Kh.x=r.x+r.width,qh.y=Yh.y=r.y+r.height,Gh.transform(n),Kh.transform(n),qh.transform(n),Yh.transform(n),t.x=TS(Gh.x,qh.x,Yh.x,Kh.x),t.y=TS(Gh.y,qh.y,Yh.y,Kh.y);var l=NS(Gh.x,qh.x,Yh.x,Kh.x),c=NS(Gh.y,qh.y,Yh.y,Kh.y);t.width=l-t.x,t.height=c-t.y},e}(),Kte="silent";function CEe(e,t,r){return{type:e,event:r,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:kEe}}function kEe(){Cu(this.event)}var EEe=function(e){kn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.handler=null,r}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(Po),Oy=function(){function e(t,r){this.x=t,this.y=r}return e}(),TEe=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Aj=new Bt(0,0,0,0),Xte=function(e){kn(t,e);function t(r,n,i,a,s){var o=e.call(this)||this;return o._hovered=new Oy(0,0),o.storage=r,o.painter=n,o.painterRoot=a,o._pointerSize=s,i=i||new EEe,o.proxy=null,o.setHandlerProxy(i),o._draggingMgr=new uEe(o),o}return t.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(V(TEe,function(n){r.on&&r.on(n,this[n],this)},this),r.handler=this),this.proxy=r},t.prototype.mousemove=function(r){var n=r.zrX,i=r.zrY,a=Zte(this,n,i),s=this._hovered,o=s.target;o&&!o.__zr&&(s=this.findHover(s.x,s.y),o=s.target);var l=this._hovered=a?new Oy(n,i):this.findHover(n,i),c=l.target,u=this.proxy;u.setCursor&&u.setCursor(c?c.cursor:"default"),o&&c!==o&&this.dispatchToElement(s,"mouseout",r),this.dispatchToElement(l,"mousemove",r),c&&c!==o&&this.dispatchToElement(l,"mouseover",r)},t.prototype.mouseout=function(r){var n=r.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},t.prototype.resize=function(){this._hovered=new Oy(0,0)},t.prototype.dispatch=function(r,n){var i=this[r];i&&i.call(this,n)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(r){var n=this.proxy;n.setCursor&&n.setCursor(r)},t.prototype.dispatchToElement=function(r,n,i){r=r||{};var a=r.target;if(!(a&&a.silent)){for(var s="on"+n,o=CEe(n,r,i);a&&(a[s]&&(o.cancelBubble=!!a[s].call(a,o)),a.trigger(n,o),a=a.__hostTarget?a.__hostTarget:a.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(n,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[s]=="function"&&l[s].call(l,o),l.trigger&&l.trigger(n,o)}))}},t.prototype.findHover=function(r,n,i){var a=this.storage.getDisplayList(),s=new Oy(r,n);if(IU(a,s,r,n,i),this._pointerSize&&!s.target){for(var o=[],l=this._pointerSize,c=l/2,u=new Bt(r-c,n-c,l,l),h=a.length-1;h>=0;h--){var f=a[h];f!==i&&!f.ignore&&!f.ignoreCoarsePointer&&(!f.parent||!f.parent.ignoreCoarsePointer)&&(Aj.copy(f.getBoundingRect()),f.transform&&Aj.applyTransform(f.transform),Aj.intersect(u)&&o.push(f))}if(o.length)for(var p=4,g=Math.PI/12,v=Math.PI*2,m=0;m<c;m+=p)for(var y=0;y<v;y+=g){var x=r+m*Math.cos(y),_=n+m*Math.sin(y);if(IU(o,s,x,_,i),s.target)return s}}return s},t.prototype.processGesture=function(r,n){this._gestureMgr||(this._gestureMgr=new bEe);var i=this._gestureMgr;n==="start"&&i.clear();var a=i.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(n==="end"&&i.clear(),a){var s=a.type;r.gestureEvent=s;var o=new Oy;o.target=a.target,this.dispatchToElement(o,s,a.event)}},t}(Po);V(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){Xte.prototype[e]=function(t){var r=t.zrX,n=t.zrY,i=Zte(this,r,n),a,s;if((e!=="mouseup"||!i)&&(a=this.findHover(r,n),s=a.target),e==="mousedown")this._downEl=s,this._downPoint=[t.zrX,t.zrY],this._upEl=s;else if(e==="mouseup")this._upEl=s;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||Id(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,e,t)}});function NEe(e,t,r){if(e[e.rectHover?"rectContain":"contain"](t,r)){for(var n=e,i=void 0,a=!1;n;){if(n.ignoreClip&&(a=!0),!a){var s=n.getClipPath();if(s&&!s.contain(t,r))return!1}n.silent&&(i=!0);var o=n.__hostTarget;n=o||n.parent}return i?Kte:!0}return!1}function IU(e,t,r,n,i){for(var a=e.length-1;a>=0;a--){var s=e[a],o=void 0;if(s!==i&&!s.ignore&&(o=NEe(s,r,n))&&(!t.topTarget&&(t.topTarget=s),o!==Kte)){t.target=s;break}}}function Zte(e,t,r){var n=e.painter;return t<0||t>n.getWidth()||r<0||r>n.getHeight()}var Jte=32,$y=7;function AEe(e){for(var t=0;e>=Jte;)t|=e&1,e>>=1;return e+t}function MU(e,t,r,n){var i=t+1;if(i===r)return 1;if(n(e[i++],e[t])<0){for(;i<r&&n(e[i],e[i-1])<0;)i++;jEe(e,t,i)}else for(;i<r&&n(e[i],e[i-1])>=0;)i++;return i-t}function jEe(e,t,r){for(r--;t<r;){var n=e[t];e[t++]=e[r],e[r--]=n}}function PU(e,t,r,n,i){for(n===t&&n++;n<r;n++){for(var a=e[n],s=t,o=n,l;s<o;)l=s+o>>>1,i(a,e[l])<0?o=l:s=l+1;var c=n-s;switch(c){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;c>0;)e[s+c]=e[s+c-1],c--}e[s]=a}}function jj(e,t,r,n,i,a){var s=0,o=0,l=1;if(a(e,t[r+i])>0){for(o=n-i;l<o&&a(e,t[r+i+l])>0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=i,l+=i}else{for(o=i+1;l<o&&a(e,t[r+i-l])<=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var c=s;s=i-l,l=i-c}for(s++;s<l;){var u=s+(l-s>>>1);a(e,t[r+u])>0?s=u+1:l=u}return l}function Rj(e,t,r,n,i,a){var s=0,o=0,l=1;if(a(e,t[r+i])<0){for(o=i+1;l<o&&a(e,t[r+i-l])<0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var c=s;s=i-l,l=i-c}else{for(o=n-i;l<o&&a(e,t[r+i+l])>=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=i,l+=i}for(s++;s<l;){var u=s+(l-s>>>1);a(e,t[r+u])<0?l=u:s=u+1}return l}function REe(e,t){var r=$y,n,i,a=0,s=[];n=[],i=[];function o(p,g){n[a]=p,i[a]=g,a+=1}function l(){for(;a>1;){var p=a-2;if(p>=1&&i[p-1]<=i[p]+i[p+1]||p>=2&&i[p-2]<=i[p]+i[p-1])i[p-1]<i[p+1]&&p--;else if(i[p]>i[p+1])break;u(p)}}function c(){for(;a>1;){var p=a-2;p>0&&i[p-1]<i[p+1]&&p--,u(p)}}function u(p){var g=n[p],v=i[p],m=n[p+1],y=i[p+1];i[p]=v+y,p===a-3&&(n[p+1]=n[p+2],i[p+1]=i[p+2]),a--;var x=Rj(e[m],e,g,v,0,t);g+=x,v-=x,v!==0&&(y=jj(e[g+v-1],e,m,y,y-1,t),y!==0&&(v<=y?h(g,v,m,y):f(g,v,m,y)))}function h(p,g,v,m){var y=0;for(y=0;y<g;y++)s[y]=e[p+y];var x=0,_=v,b=p;if(e[b++]=e[_++],--m===0){for(y=0;y<g;y++)e[b+y]=s[x+y];return}if(g===1){for(y=0;y<m;y++)e[b+y]=e[_+y];e[b+m]=s[x];return}for(var w=r,S,k,C;;){S=0,k=0,C=!1;do if(t(e[_],s[x])<0){if(e[b++]=e[_++],k++,S=0,--m===0){C=!0;break}}else if(e[b++]=s[x++],S++,k=0,--g===1){C=!0;break}while((S|k)<w);if(C)break;do{if(S=Rj(e[_],s,x,g,0,t),S!==0){for(y=0;y<S;y++)e[b+y]=s[x+y];if(b+=S,x+=S,g-=S,g<=1){C=!0;break}}if(e[b++]=e[_++],--m===0){C=!0;break}if(k=jj(s[x],e,_,m,0,t),k!==0){for(y=0;y<k;y++)e[b+y]=e[_+y];if(b+=k,_+=k,m-=k,m===0){C=!0;break}}if(e[b++]=s[x++],--g===1){C=!0;break}w--}while(S>=$y||k>=$y);if(C)break;w<0&&(w=0),w+=2}if(r=w,r<1&&(r=1),g===1){for(y=0;y<m;y++)e[b+y]=e[_+y];e[b+m]=s[x]}else{if(g===0)throw new Error;for(y=0;y<g;y++)e[b+y]=s[x+y]}}function f(p,g,v,m){var y=0;for(y=0;y<m;y++)s[y]=e[v+y];var x=p+g-1,_=m-1,b=v+m-1,w=0,S=0;if(e[b--]=e[x--],--g===0){for(w=b-(m-1),y=0;y<m;y++)e[w+y]=s[y];return}if(m===1){for(b-=g,x-=g,S=b+1,w=x+1,y=g-1;y>=0;y--)e[S+y]=e[w+y];e[b]=s[_];return}for(var k=r;;){var C=0,E=0,T=!1;do if(t(s[_],e[x])<0){if(e[b--]=e[x--],C++,E=0,--g===0){T=!0;break}}else if(e[b--]=s[_--],E++,C=0,--m===1){T=!0;break}while((C|E)<k);if(T)break;do{if(C=g-Rj(s[_],e,p,g,g-1,t),C!==0){for(b-=C,x-=C,g-=C,S=b+1,w=x+1,y=C-1;y>=0;y--)e[S+y]=e[w+y];if(g===0){T=!0;break}}if(e[b--]=s[_--],--m===1){T=!0;break}if(E=m-jj(e[x],s,0,m,m-1,t),E!==0){for(b-=E,_-=E,m-=E,S=b+1,w=_+1,y=0;y<E;y++)e[S+y]=s[w+y];if(m<=1){T=!0;break}}if(e[b--]=e[x--],--g===0){T=!0;break}k--}while(C>=$y||E>=$y);if(T)break;k<0&&(k=0),k+=2}if(r=k,r<1&&(r=1),m===1){for(b-=g,x-=g,S=b+1,w=x+1,y=g-1;y>=0;y--)e[S+y]=e[w+y];e[b]=s[_]}else{if(m===0)throw new Error;for(w=b-(m-1),y=0;y<m;y++)e[w+y]=s[y]}}return{mergeRuns:l,forceMergeRuns:c,pushRun:o}}function Lk(e,t,r,n){r||(r=0),n||(n=e.length);var i=n-r;if(!(i<2)){var a=0;if(i<Jte){a=MU(e,r,n,t),PU(e,r,n,r+a,t);return}var s=REe(e,t),o=AEe(i);do{if(a=MU(e,r,n,t),a<o){var l=i;l>o&&(l=o),PU(e,r,r+l,r+a,t),a=l}s.pushRun(r,a),s.mergeRuns(),i-=a,r+=a}while(i!==0);s.forceMergeRuns()}}var hc=1,Dk=2,$x=4,LU=!1;function Ij(){LU||(LU=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function DU(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var IEe=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=DU}return e.prototype.traverse=function(t,r){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,r)},e.prototype.getDisplayList=function(t,r){r=r||!1;var n=this._displayList;return(t||!n.length)&&this.updateDisplayList(r),n},e.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var r=this._roots,n=this._displayList,i=0,a=r.length;i<a;i++)this._updateAndAddDisplayable(r[i],null,t);n.length=this._displayListLen,Lk(n,DU)},e.prototype._updateAndAddDisplayable=function(t,r,n){if(!(t.ignore&&!n)){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath();if(t.ignoreClip)r=null;else if(i){r?r=r.slice():r=[];for(var a=i,s=t;a;)a.parent=s,a.updateTransform(),r.push(a),s=a,a=a.getClipPath()}if(t.childrenRef){for(var o=t.childrenRef(),l=0;l<o.length;l++){var c=o[l];t.__dirty&&(c.__dirty|=hc),this._updateAndAddDisplayable(c,r,n)}t.__dirty=0}else{var u=t;r&&r.length?u.__clipPaths=r:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(Ij(),u.z=0),isNaN(u.z2)&&(Ij(),u.z2=0),isNaN(u.zlevel)&&(Ij(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var h=t.getDecalElement&&t.getDecalElement();h&&this._updateAndAddDisplayable(h,r,n);var f=t.getTextGuideLine();f&&this._updateAndAddDisplayable(f,r,n);var p=t.getTextContent();p&&this._updateAndAddDisplayable(p,r,n)}},e.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},e.prototype.delRoot=function(t){if(t instanceof Array){for(var r=0,n=t.length;r<n;r++)this.delRoot(t[r]);return}var i=Wt(this._roots,t);i>=0&&this._roots.splice(i,1)},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}(),qE;qE=tr.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};var v_={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)))},elasticOut:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},elasticInOut:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),(e*=2)<1?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)):r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-v_.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?v_.bounceIn(e*2)*.5:v_.bounceOut(e*2-1)*.5+.5}},AS=Math.pow,eh=Math.sqrt,Qte=1e-8,ere=1e-4,OU=eh(3),jS=1/3,Xl=Zp(),vo=Zp(),Qm=Zp();function Ld(e){return e>-1e-8&&e<Qte}function tre(e){return e>Qte||e<-1e-8}function Ti(e,t,r,n,i){var a=1-i;return a*a*(a*e+3*i*t)+i*i*(i*n+3*a*r)}function $U(e,t,r,n,i){var a=1-i;return 3*(((t-e)*a+2*(r-t)*i)*a+(n-r)*i*i)}function YE(e,t,r,n,i,a){var s=n+3*(t-r)-e,o=3*(r-t*2+e),l=3*(t-e),c=e-i,u=o*o-3*s*l,h=o*l-9*s*c,f=l*l-3*o*c,p=0;if(Ld(u)&&Ld(h))if(Ld(o))a[0]=0;else{var g=-l/o;g>=0&&g<=1&&(a[p++]=g)}else{var v=h*h-4*u*f;if(Ld(v)){var m=h/u,g=-o/s+m,y=-m/2;g>=0&&g<=1&&(a[p++]=g),y>=0&&y<=1&&(a[p++]=y)}else if(v>0){var x=eh(v),_=u*o+1.5*s*(-h+x),b=u*o+1.5*s*(-h-x);_<0?_=-AS(-_,jS):_=AS(_,jS),b<0?b=-AS(-b,jS):b=AS(b,jS);var g=(-o-(_+b))/(3*s);g>=0&&g<=1&&(a[p++]=g)}else{var w=(2*u*o-3*s*h)/(2*eh(u*u*u)),S=Math.acos(w)/3,k=eh(u),C=Math.cos(S),g=(-o-2*k*C)/(3*s),y=(-o+k*(C+OU*Math.sin(S)))/(3*s),E=(-o+k*(C-OU*Math.sin(S)))/(3*s);g>=0&&g<=1&&(a[p++]=g),y>=0&&y<=1&&(a[p++]=y),E>=0&&E<=1&&(a[p++]=E)}}return p}function rre(e,t,r,n,i){var a=6*r-12*t+6*e,s=9*t+3*n-3*e-9*r,o=3*t-3*e,l=0;if(Ld(s)){if(tre(a)){var c=-o/a;c>=0&&c<=1&&(i[l++]=c)}}else{var u=a*a-4*s*o;if(Ld(u))i[0]=-a/(2*s);else if(u>0){var h=eh(u),c=(-a+h)/(2*s),f=(-a-h)/(2*s);c>=0&&c<=1&&(i[l++]=c),f>=0&&f<=1&&(i[l++]=f)}}return l}function hh(e,t,r,n,i,a){var s=(t-e)*i+e,o=(r-t)*i+t,l=(n-r)*i+r,c=(o-s)*i+s,u=(l-o)*i+o,h=(u-c)*i+c;a[0]=e,a[1]=s,a[2]=c,a[3]=h,a[4]=h,a[5]=u,a[6]=l,a[7]=n}function nre(e,t,r,n,i,a,s,o,l,c,u){var h,f=.005,p=1/0,g,v,m,y;Xl[0]=l,Xl[1]=c;for(var x=0;x<1;x+=.05)vo[0]=Ti(e,r,i,s,x),vo[1]=Ti(t,n,a,o,x),m=op(Xl,vo),m<p&&(h=x,p=m);p=1/0;for(var _=0;_<32&&!(f<ere);_++)g=h-f,v=h+f,vo[0]=Ti(e,r,i,s,g),vo[1]=Ti(t,n,a,o,g),m=op(vo,Xl),g>=0&&m<p?(h=g,p=m):(Qm[0]=Ti(e,r,i,s,v),Qm[1]=Ti(t,n,a,o,v),y=op(Qm,Xl),v<=1&&y<p?(h=v,p=y):f*=.5);return u&&(u[0]=Ti(e,r,i,s,h),u[1]=Ti(t,n,a,o,h)),eh(p)}function MEe(e,t,r,n,i,a,s,o,l){for(var c=e,u=t,h=0,f=1/l,p=1;p<=l;p++){var g=p*f,v=Ti(e,r,i,s,g),m=Ti(t,n,a,o,g),y=v-c,x=m-u;h+=Math.sqrt(y*y+x*x),c=v,u=m}return h}function zi(e,t,r,n){var i=1-n;return i*(i*e+2*n*t)+n*n*r}function PL(e,t,r,n){return 2*((1-n)*(t-e)+n*(r-t))}function PEe(e,t,r,n,i){var a=e-2*t+r,s=2*(t-e),o=e-n,l=0;if(Ld(a)){if(tre(s)){var c=-o/s;c>=0&&c<=1&&(i[l++]=c)}}else{var u=s*s-4*a*o;if(Ld(u)){var c=-s/(2*a);c>=0&&c<=1&&(i[l++]=c)}else if(u>0){var h=eh(u),c=(-s+h)/(2*a),f=(-s-h)/(2*a);c>=0&&c<=1&&(i[l++]=c),f>=0&&f<=1&&(i[l++]=f)}}return l}function ire(e,t,r){var n=e+r-2*t;return n===0?.5:(e-t)/n}function xb(e,t,r,n,i){var a=(t-e)*n+e,s=(r-t)*n+t,o=(s-a)*n+a;i[0]=e,i[1]=a,i[2]=o,i[3]=o,i[4]=s,i[5]=r}function are(e,t,r,n,i,a,s,o,l){var c,u=.005,h=1/0;Xl[0]=s,Xl[1]=o;for(var f=0;f<1;f+=.05){vo[0]=zi(e,r,i,f),vo[1]=zi(t,n,a,f);var p=op(Xl,vo);p<h&&(c=f,h=p)}h=1/0;for(var g=0;g<32&&!(u<ere);g++){var v=c-u,m=c+u;vo[0]=zi(e,r,i,v),vo[1]=zi(t,n,a,v);var p=op(vo,Xl);if(v>=0&&p<h)c=v,h=p;else{Qm[0]=zi(e,r,i,m),Qm[1]=zi(t,n,a,m);var y=op(Qm,Xl);m<=1&&y<h?(c=m,h=y):u*=.5}}return l&&(l[0]=zi(e,r,i,c),l[1]=zi(t,n,a,c)),eh(h)}function LEe(e,t,r,n,i,a,s){for(var o=e,l=t,c=0,u=1/s,h=1;h<=s;h++){var f=h*u,p=zi(e,r,i,f),g=zi(t,n,a,f),v=p-o,m=g-l;c+=Math.sqrt(v*v+m*m),o=p,l=g}return c}var DEe=/cubic-bezier\(([0-9,\.e ]+)\)/;function h4(e){var t=e&&DEe.exec(e);if(t){var r=t[1].split(","),n=+nl(r[0]),i=+nl(r[1]),a=+nl(r[2]),s=+nl(r[3]);if(isNaN(n+i+a+s))return;var o=[];return function(l){return l<=0?0:l>=1?1:YE(0,n,a,1,l,o)&&Ti(0,i,s,1,o[0])}}}var OEe=function(){function e(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||ai,this.ondestroy=t.ondestroy||ai,this.onrestart=t.onrestart||ai,t.easing&&this.setEasing(t.easing)}return e.prototype.step=function(t,r){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var n=this._life,i=t-this._startTime-this._pausedTime,a=i/n;a<0&&(a=0),a=Math.min(a,1);var s=this.easingFunc,o=s?s(a):a;if(this.onframe(o),a===1)if(this.loop){var l=i%n;this._startTime=t-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(t){this.easing=t,this.easingFunc=lt(t)?t:v_[t]||h4(t)},e}(),sre=function(){function e(t){this.value=t}return e}(),$Ee=function(){function e(){this._len=0}return e.prototype.insert=function(t){var r=new sre(t);return this.insertEntry(r),r},e.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},e.prototype.remove=function(t){var r=t.prev,n=t.next;r?r.next=n:this.head=n,n?n.prev=r:this.tail=r,t.next=t.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),$w=function(){function e(t){this._list=new $Ee,this._maxSize=10,this._map={},this._maxSize=t}return e.prototype.put=function(t,r){var n=this._list,i=this._map,a=null;if(i[t]==null){var s=n.len(),o=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var l=n.head;n.remove(l),delete i[l.key],a=l.value,this._lastRemovedEntry=l}o?o.value=r:o=new sre(r),o.key=t,n.insertEntry(o),i[t]=o}return a},e.prototype.get=function(t){var r=this._map[t],n=this._list;if(r!=null)return r!==n.tail&&(n.remove(r),n.insertEntry(r)),r.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}(),BU={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ll(e){return e=Math.round(e),e<0?0:e>255?255:e}function BEe(e){return e=Math.round(e),e<0?0:e>360?360:e}function _b(e){return e<0?0:e>1?1:e}function Mj(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?ll(parseFloat(t)/100*255):ll(parseInt(t,10))}function lp(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?_b(parseFloat(t)/100):_b(parseFloat(t))}function Pj(e,t,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?e+(t-e)*r*6:r*2<1?t:r*3<2?e+(t-e)*(2/3-r)*6:e}function Dd(e,t,r){return e+(t-e)*r}function oo(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function LL(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var ore=new $w(20),RS=null;function Eg(e,t){RS&&LL(RS,t),RS=ore.put(e,RS||t.slice())}function Bs(e,t){if(e){t=t||[];var r=ore.get(e);if(r)return LL(t,r);e=e+"";var n=e.replace(/ /g,"").toLowerCase();if(n in BU)return LL(t,BU[n]),Eg(e,t),t;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(n.slice(1,4),16);if(!(a>=0&&a<=4095)){oo(t,0,0,0,1);return}return oo(t,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),Eg(e,t),t}else if(i===7||i===9){var a=parseInt(n.slice(1,7),16);if(!(a>=0&&a<=16777215)){oo(t,0,0,0,1);return}return oo(t,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(n.slice(7),16)/255:1),Eg(e,t),t}return}var s=n.indexOf("("),o=n.indexOf(")");if(s!==-1&&o+1===i){var l=n.substr(0,s),c=n.substr(s+1,o-(s+1)).split(","),u=1;switch(l){case"rgba":if(c.length!==4)return c.length===3?oo(t,+c[0],+c[1],+c[2],1):oo(t,0,0,0,1);u=lp(c.pop());case"rgb":if(c.length>=3)return oo(t,Mj(c[0]),Mj(c[1]),Mj(c[2]),c.length===3?u:lp(c[3])),Eg(e,t),t;oo(t,0,0,0,1);return;case"hsla":if(c.length!==4){oo(t,0,0,0,1);return}return c[3]=lp(c[3]),DL(c,t),Eg(e,t),t;case"hsl":if(c.length!==3){oo(t,0,0,0,1);return}return DL(c,t),Eg(e,t),t;default:return}}oo(t,0,0,0,1)}}function DL(e,t){var r=(parseFloat(e[0])%360+360)%360/360,n=lp(e[1]),i=lp(e[2]),a=i<=.5?i*(n+1):i+n-i*n,s=i*2-a;return t=t||[],oo(t,ll(Pj(s,a,r+1/3)*255),ll(Pj(s,a,r)*255),ll(Pj(s,a,r-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function FEe(e){if(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=a-i,o=(a+i)/2,l,c;if(s===0)l=0,c=0;else{o<.5?c=s/(a+i):c=s/(2-a-i);var u=((a-t)/6+s/2)/s,h=((a-r)/6+s/2)/s,f=((a-n)/6+s/2)/s;t===a?l=f-h:r===a?l=1/3+u-f:n===a&&(l=2/3+h-u),l<0&&(l+=1),l>1&&(l-=1)}var p=[l*360,c,o];return e[3]!=null&&p.push(e[3]),p}}function OL(e,t){var r=Bs(e);if(r){for(var n=0;n<3;n++)t<0?r[n]=r[n]*(1-t)|0:r[n]=(255-r[n])*t+r[n]|0,r[n]>255?r[n]=255:r[n]<0&&(r[n]=0);return pu(r,r.length===4?"rgba":"rgb")}}function Lj(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){r=r||[];var n=e*(t.length-1),i=Math.floor(n),a=Math.ceil(n),s=t[i],o=t[a],l=n-i;return r[0]=ll(Dd(s[0],o[0],l)),r[1]=ll(Dd(s[1],o[1],l)),r[2]=ll(Dd(s[2],o[2],l)),r[3]=_b(Dd(s[3],o[3],l)),r}}function zEe(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var n=e*(t.length-1),i=Math.floor(n),a=Math.ceil(n),s=Bs(t[i]),o=Bs(t[a]),l=n-i,c=pu([ll(Dd(s[0],o[0],l)),ll(Dd(s[1],o[1],l)),ll(Dd(s[2],o[2],l)),_b(Dd(s[3],o[3],l))],"rgba");return r?{color:c,leftIndex:i,rightIndex:a,value:n}:c}}function y_(e,t,r,n){var i=Bs(e);if(e)return i=FEe(i),t!=null&&(i[0]=BEe(t)),r!=null&&(i[1]=lp(r)),n!=null&&(i[2]=lp(n)),pu(DL(i),"rgba")}function KE(e,t){var r=Bs(e);if(r&&t!=null)return r[3]=_b(t),pu(r,"rgba")}function pu(e,t){if(!(!e||!e.length)){var r=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(r+=","+e[3]),t+"("+r+")"}}function XE(e,t){var r=Bs(e);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*t:0}var FU=new $w(100);function $L(e){if(We(e)){var t=FU.get(e);return t||(t=OL(e,-.1),FU.put(e,t)),t}else if(l2(e)){var r=pe({},e);return r.colorStops=_e(e.colorStops,function(n){return{offset:n.offset,color:OL(n.color,-.1)}}),r}return e}var ZE=Math.round;function bb(e){var t;if(!e||e==="transparent")e="none";else if(typeof e=="string"&&e.indexOf("rgba")>-1){var r=Bs(e);r&&(e="rgb("+r[0]+","+r[1]+","+r[2]+")",t=r[3])}return{color:e,opacity:t??1}}var UEe=1e-4;function Od(e){return e<UEe&&e>-1e-4}function IS(e){return ZE(e*1e3)/1e3}function BL(e){return ZE(e*1e4)/1e4}function HEe(e){return"matrix("+IS(e[0])+","+IS(e[1])+","+IS(e[2])+","+IS(e[3])+","+BL(e[4])+","+BL(e[5])+")"}var VEe={left:"start",right:"end",center:"middle",middle:"middle"};function WEe(e,t,r){return r==="top"?e+=t/2:r==="bottom"&&(e-=t/2),e}function GEe(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY)}function qEe(e){var t=e.style,r=e.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),r[0],r[1]].join(",")}function lre(e){return e&&!!e.image}function YEe(e){return e&&!!e.svgElement}function f4(e){return lre(e)||YEe(e)}function cre(e){return e.type==="linear"}function ure(e){return e.type==="radial"}function dre(e){return e&&(e.type==="linear"||e.type==="radial")}function d2(e){return"url(#"+e+")"}function hre(e){var t=e.getGlobalScale(),r=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(r)/Math.log(10)),1)}function fre(e){var t=e.x||0,r=e.y||0,n=(e.rotation||0)*Ik,i=Et(e.scaleX,1),a=Et(e.scaleY,1),s=e.skewX||0,o=e.skewY||0,l=[];return(t||r)&&l.push("translate("+t+"px,"+r+"px)"),n&&l.push("rotate("+n+")"),(i!==1||a!==1)&&l.push("scale("+i+","+a+")"),(s||o)&&l.push("skew("+ZE(s*Ik)+"deg, "+ZE(o*Ik)+"deg)"),l.join(" ")}var KEe=function(){return tr.hasGlobalWindow&&lt(window.btoa)?function(e){return window.btoa(unescape(encodeURIComponent(e)))}:typeof Buffer<"u"?function(e){return Buffer.from(e).toString("base64")}:function(e){return null}}(),FL=Array.prototype.slice;function Kc(e,t,r){return(t-e)*r+e}function Dj(e,t,r,n){for(var i=t.length,a=0;a<i;a++)e[a]=Kc(t[a],r[a],n);return e}function XEe(e,t,r,n){for(var i=t.length,a=i&&t[0].length,s=0;s<i;s++){e[s]||(e[s]=[]);for(var o=0;o<a;o++)e[s][o]=Kc(t[s][o],r[s][o],n)}return e}function MS(e,t,r,n){for(var i=t.length,a=0;a<i;a++)e[a]=t[a]+r[a]*n;return e}function zU(e,t,r,n){for(var i=t.length,a=i&&t[0].length,s=0;s<i;s++){e[s]||(e[s]=[]);for(var o=0;o<a;o++)e[s][o]=t[s][o]+r[s][o]*n}return e}function ZEe(e,t){for(var r=e.length,n=t.length,i=r>n?t:e,a=Math.min(r,n),s=i[a-1]||{color:[0,0,0,0],offset:0},o=a;o<Math.max(r,n);o++)i.push({offset:s.offset,color:s.color.slice()})}function JEe(e,t,r){var n=e,i=t;if(!(!n.push||!i.push)){var a=n.length,s=i.length;if(a!==s){var o=a>s;if(o)n.length=s;else for(var l=a;l<s;l++)n.push(r===1?i[l]:FL.call(i[l]))}for(var c=n[0]&&n[0].length,l=0;l<n.length;l++)if(r===1)isNaN(n[l])&&(n[l]=i[l]);else for(var u=0;u<c;u++)isNaN(n[l][u])&&(n[l][u]=i[l][u])}}function x_(e){if(_a(e)){var t=e.length;if(_a(e[0])){for(var r=[],n=0;n<t;n++)r.push(FL.call(e[n]));return r}return FL.call(e)}return e}function Ok(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=e[3]==null?1:e[3],"rgba("+e.join(",")+")"}function QEe(e){return _a(e&&e[0])?2:1}var PS=0,$k=1,pre=2,Bx=3,zL=4,UL=5,UU=6;function HU(e){return e===zL||e===UL}function LS(e){return e===$k||e===pre}var By=[0,0,0,0],eTe=function(){function e(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(t,r,n){this._needsSort=!0;var i=this.keyframes,a=i.length,s=!1,o=UU,l=r;if(_a(r)){var c=QEe(r);o=c,(c===1&&!Nr(r[0])||c===2&&!Nr(r[0][0]))&&(s=!0)}else if(Nr(r)&&!vb(r))o=PS;else if(We(r))if(!isNaN(+r))o=PS;else{var u=Bs(r);u&&(l=u,o=Bx)}else if(l2(r)){var h=pe({},l);h.colorStops=_e(r.colorStops,function(p){return{offset:p.offset,color:Bs(p.color)}}),cre(r)?o=zL:ure(r)&&(o=UL),l=h}a===0?this.valType=o:(o!==this.valType||o===UU)&&(s=!0),this.discrete=this.discrete||s;var f={time:t,value:l,rawValue:r,percent:0};return n&&(f.easing=n,f.easingFunc=lt(n)?n:v_[n]||h4(n)),i.push(f),f},e.prototype.prepare=function(t,r){var n=this.keyframes;this._needsSort&&n.sort(function(v,m){return v.time-m.time});for(var i=this.valType,a=n.length,s=n[a-1],o=this.discrete,l=LS(i),c=HU(i),u=0;u<a;u++){var h=n[u],f=h.value,p=s.value;h.percent=h.time/t,o||(l&&u!==a-1?JEe(f,p,i):c&&ZEe(f.colorStops,p.colorStops))}if(!o&&i!==UL&&r&&this.needsAnimate()&&r.needsAnimate()&&i===r.valType&&!r._finished){this._additiveTrack=r;for(var g=n[0].value,u=0;u<a;u++)i===PS?n[u].additiveValue=n[u].value-g:i===Bx?n[u].additiveValue=MS([],n[u].value,g,-1):LS(i)&&(n[u].additiveValue=i===$k?MS([],n[u].value,g,-1):zU([],n[u].value,g,-1))}},e.prototype.step=function(t,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",a=this.valType,s=this.keyframes,o=s.length,l=this.propName,c=a===Bx,u,h=this._lastFr,f=Math.min,p,g;if(o===1)p=g=s[0];else{if(r<0)u=0;else if(r<this._lastFrP){var v=f(h+1,o-1);for(u=v;u>=0&&!(s[u].percent<=r);u--);u=f(u,o-2)}else{for(u=h;u<o&&!(s[u].percent>r);u++);u=f(u-1,o-2)}g=s[u+1],p=s[u]}if(p&&g){this._lastFr=u,this._lastFrP=r;var m=g.percent-p.percent,y=m===0?1:f((r-p.percent)/m,1);g.easingFunc&&(y=g.easingFunc(y));var x=n?this._additiveValue:c?By:t[l];if((LS(a)||c)&&!x&&(x=this._additiveValue=[]),this.discrete)t[l]=y<1?p.rawValue:g.rawValue;else if(LS(a))a===$k?Dj(x,p[i],g[i],y):XEe(x,p[i],g[i],y);else if(HU(a)){var _=p[i],b=g[i],w=a===zL;t[l]={type:w?"linear":"radial",x:Kc(_.x,b.x,y),y:Kc(_.y,b.y,y),colorStops:_e(_.colorStops,function(k,C){var E=b.colorStops[C];return{offset:Kc(k.offset,E.offset,y),color:Ok(Dj([],k.color,E.color,y))}}),global:b.global},w?(t[l].x2=Kc(_.x2,b.x2,y),t[l].y2=Kc(_.y2,b.y2,y)):t[l].r=Kc(_.r,b.r,y)}else if(c)Dj(x,p[i],g[i],y),n||(t[l]=Ok(x));else{var S=Kc(p[i],g[i],y);n?this._additiveValue=S:t[l]=S}n&&this._addToTarget(t)}}},e.prototype._addToTarget=function(t){var r=this.valType,n=this.propName,i=this._additiveValue;r===PS?t[n]=t[n]+i:r===Bx?(Bs(t[n],By),MS(By,By,i,1),t[n]=Ok(By)):r===$k?MS(t[n],t[n],i,1):r===pre&&zU(t[n],t[n],i,1)},e}(),p4=function(){function e(t,r,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=r,r&&i){a4("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(t){this._target=t},e.prototype.when=function(t,r,n){return this.whenWithKeys(t,r,ar(r),n)},e.prototype.whenWithKeys=function(t,r,n,i){for(var a=this._tracks,s=0;s<n.length;s++){var o=n[s],l=a[o];if(!l){l=a[o]=new eTe(o);var c=void 0,u=this._getAdditiveTrack(o);if(u){var h=u.keyframes,f=h[h.length-1];c=f&&f.value,u.valType===Bx&&c&&(c=Ok(c))}else c=this._target[o];if(c==null)continue;t>0&&l.addKeyframe(0,x_(c),i),this._trackKeys.push(o)}l.addKeyframe(t,x_(r[o]),i)}return this._maxTime=Math.max(this._maxTime,t),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var r=t.length,n=0;n<r;n++)t[n].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,r=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,r)for(var n=0;n<r.length;n++)r[n].call(this)},e.prototype._setTracksFinished=function(){for(var t=this._tracks,r=this._trackKeys,n=0;n<r.length;n++)t[r[n]].setFinished()},e.prototype._getAdditiveTrack=function(t){var r,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var a=n[i].getTrack(t);a&&(r=a)}return r},e.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var r=this,n=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var s=this._trackKeys[a],o=this._tracks[s],l=this._getAdditiveTrack(s),c=o.keyframes,u=c.length;if(o.prepare(i,l),o.needsAnimate())if(!this._allowDiscrete&&o.discrete){var h=c[u-1];h&&(r._target[o.propName]=h.rawValue),o.setFinished()}else n.push(o)}if(n.length||this._force){var f=new OEe({life:i,loop:this._loop,delay:this._delay||0,onframe:function(p){r._started=2;var g=r._additiveAnimators;if(g){for(var v=!1,m=0;m<g.length;m++)if(g[m]._clip){v=!0;break}v||(r._additiveAnimators=null)}for(var m=0;m<n.length;m++)n[m].step(r._target,p);var y=r._onframeCbs;if(y)for(var m=0;m<y.length;m++)y[m](r._target,p)},ondestroy:function(){r._doneCallback()}});this._clip=f,this.animation&&this.animation.addClip(f),t&&f.setEasing(t)}else this._doneCallback();return this}},e.prototype.stop=function(t){if(this._clip){var r=this._clip;t&&r.onframe(1),this._abortedCallback()}},e.prototype.delay=function(t){return this._delay=t,this},e.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},e.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},e.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(t){return this._tracks[t]},e.prototype.getTracks=function(){var t=this;return _e(this._trackKeys,function(r){return t._tracks[r]})},e.prototype.stopTracks=function(t,r){if(!t.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,a=0;a<t.length;a++){var s=n[t[a]];s&&!s.isFinished()&&(r?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var o=!0,a=0;a<i.length;a++)if(!n[i[a]].isFinished()){o=!1;break}return o&&this._abortedCallback(),o},e.prototype.saveTo=function(t,r,n){if(t){r=r||this._trackKeys;for(var i=0;i<r.length;i++){var a=r[i],s=this._tracks[a];if(!(!s||s.isFinished())){var o=s.keyframes,l=o[n?0:o.length-1];l&&(t[a]=x_(l.rawValue))}}}},e.prototype.__changeFinalValue=function(t,r){r=r||ar(t);for(var n=0;n<r.length;n++){var i=r[n],a=this._tracks[i];if(a){var s=a.keyframes;if(s.length>1){var o=s.pop();a.addKeyframe(o.time,t[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},e}();function Rm(){return new Date().getTime()}var tTe=function(e){kn(t,e);function t(r){var n=e.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,r=r||{},n.stage=r.stage||{},n}return t.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},t.prototype.addAnimator=function(r){r.animation=this;var n=r.getClip();n&&this.addClip(n)},t.prototype.removeClip=function(r){if(r.animation){var n=r.prev,i=r.next;n?n.next=i:this._head=i,i?i.prev=n:this._tail=n,r.next=r.prev=r.animation=null}},t.prototype.removeAnimator=function(r){var n=r.getClip();n&&this.removeClip(n),r.animation=null},t.prototype.update=function(r){for(var n=Rm()-this._pausedTime,i=n-this._time,a=this._head;a;){var s=a.next,o=a.step(n,i);o&&(a.ondestroy(),this.removeClip(a)),a=s}this._time=n,r||(this.trigger("frame",i),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var r=this;this._running=!0;function n(){r._running&&(qE(n),!r._paused&&r.update())}qE(n)},t.prototype.start=function(){this._running||(this._time=Rm(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=Rm(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=Rm()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var r=this._head;r;){var n=r.next;r.prev=r.next=r.animation=null,r=n}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(r,n){n=n||{},this.start();var i=new p4(r,n.loop);return this.addAnimator(i),i},t}(Po),rTe=300,Oj=tr.domSupported,$j=function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=_e(e,function(i){var a=i.replace("mouse","pointer");return r.hasOwnProperty(a)?a:i});return{mouse:e,touch:t,pointer:n}}(),VU={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},WU=!1;function HL(e){var t=e.pointerType;return t==="pen"||t==="touch"}function nTe(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function Bj(e){e&&(e.zrByTouch=!0)}function iTe(e,t){return lo(e.dom,new aTe(e,t),!0)}function gre(e,t){for(var r=t,n=!1;r&&r.nodeType!==9&&!(n=r.domBelongToZr||r!==t&&r===e.painterRoot);)r=r.parentNode;return n}var aTe=function(){function e(t,r){this.stopPropagation=ai,this.stopImmediatePropagation=ai,this.preventDefault=ai,this.type=r.type,this.target=this.currentTarget=t.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return e}(),Wo={mousedown:function(e){e=lo(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=lo(this.dom,e);var t=this.__mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=lo(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){e=lo(this.dom,e);var t=e.toElement||e.relatedTarget;gre(this,t)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){WU=!0,e=lo(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){WU||(e=lo(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){e=lo(this.dom,e),Bj(e),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),Wo.mousemove.call(this,e),Wo.mousedown.call(this,e)},touchmove:function(e){e=lo(this.dom,e),Bj(e),this.handler.processGesture(e,"change"),Wo.mousemove.call(this,e)},touchend:function(e){e=lo(this.dom,e),Bj(e),this.handler.processGesture(e,"end"),Wo.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<rTe&&Wo.click.call(this,e)},pointerdown:function(e){Wo.mousedown.call(this,e)},pointermove:function(e){HL(e)||Wo.mousemove.call(this,e)},pointerup:function(e){Wo.mouseup.call(this,e)},pointerout:function(e){HL(e)||Wo.mouseout.call(this,e)}};V(["click","dblclick","contextmenu"],function(e){Wo[e]=function(t){t=lo(this.dom,t),this.trigger(e,t)}});var VL={pointermove:function(e){HL(e)||VL.mousemove.call(this,e)},pointerup:function(e){VL.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function sTe(e,t){var r=t.domHandlers;tr.pointerEventsSupported?V($j.pointer,function(n){Bk(t,n,function(i){r[n].call(e,i)})}):(tr.touchEventsSupported&&V($j.touch,function(n){Bk(t,n,function(i){r[n].call(e,i),nTe(t)})}),V($j.mouse,function(n){Bk(t,n,function(i){i=c4(i),t.touching||r[n].call(e,i)})}))}function oTe(e,t){tr.pointerEventsSupported?V(VU.pointer,r):tr.touchEventsSupported||V(VU.mouse,r);function r(n){function i(a){a=c4(a),gre(e,a.target)||(a=iTe(e,a),t.domHandlers[n].call(e,a))}Bk(t,n,i,{capture:!0})}}function Bk(e,t,r,n){e.mounted[t]=r,e.listenerOpts[t]=n,ML(e.domTarget,t,r,n)}function Fj(e){var t=e.mounted;for(var r in t)t.hasOwnProperty(r)&&_Ee(e.domTarget,r,t[r],e.listenerOpts[r]);e.mounted={}}var GU=function(){function e(t,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=r}return e}(),lTe=function(e){kn(t,e);function t(r,n){var i=e.call(this)||this;return i.__pointerCapturing=!1,i.dom=r,i.painterRoot=n,i._localHandlerScope=new GU(r,Wo),Oj&&(i._globalHandlerScope=new GU(document,VL)),sTe(i,i._localHandlerScope),i}return t.prototype.dispose=function(){Fj(this._localHandlerScope),Oj&&Fj(this._globalHandlerScope)},t.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},t.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,Oj&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var n=this._globalHandlerScope;r?oTe(this,n):Fj(n)}},t}(Po),mre=1;tr.hasGlobalWindow&&(mre=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var JE=mre,WL=.4,GL="#333",qL="#ccc",cTe="#eee",qU=u2,uTe=5e-5;function Xh(e){return e>uTe||e<-5e-5}var Zh=[],Tg=[],zj=$s(),Uj=Math.abs,au=function(){function e(){}return e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},e.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},e.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},e.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},e.prototype.needLocalTransform=function(){return Xh(this.rotation)||Xh(this.x)||Xh(this.y)||Xh(this.scaleX-1)||Xh(this.scaleY-1)||Xh(this.skewX)||Xh(this.skewY)},e.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,r=this.needLocalTransform(),n=this.transform;if(!(r||t)){n&&(qU(n),this.invTransform=null);return}n=n||$s(),r?this.getLocalTransform(n):qU(n),t&&(r?fu(n,t,n):u4(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)},e.prototype._resolveGlobalScaleRatio=function(t){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(Zh);var n=Zh[0]<0?-1:1,i=Zh[1]<0?-1:1,a=((Zh[0]-n)*r+n)/Zh[0]||0,s=((Zh[1]-i)*r+i)/Zh[1]||0;t[0]*=a,t[1]*=a,t[2]*=s,t[3]*=s}this.invTransform=this.invTransform||$s(),p0(this.invTransform,t)},e.prototype.getComputedTransform=function(){for(var t=this,r=[];t;)r.push(t),t=t.parent;for(;t=r.pop();)t.updateTransform();return this.transform},e.prototype.setLocalTransform=function(t){if(t){var r=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],i=Math.atan2(t[1],t[0]),a=Math.PI/2+i-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(a),r=Math.sqrt(r),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+t[4],this.y=+t[5],this.scaleX=r,this.scaleY=n,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,r=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||$s(),fu(Tg,t.invTransform,r),r=Tg);var n=this.originX,i=this.originY;(n||i)&&(zj[4]=n,zj[5]=i,fu(Tg,r,zj),Tg[4]-=n,Tg[5]-=i,r=Tg),this.setLocalTransform(r)}},e.prototype.getGlobalScale=function(t){var r=this.transform;return t=t||[],r?(t[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),t[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(t[0]=-t[0]),r[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},e.prototype.transformCoordToLocal=function(t,r){var n=[t,r],i=this.invTransform;return i&&Ji(n,n,i),n},e.prototype.transformCoordToGlobal=function(t,r){var n=[t,r],i=this.transform;return i&&Ji(n,n,i),n},e.prototype.getLineScale=function(){var t=this.transform;return t&&Uj(t[0]-1)>1e-10&&Uj(t[3]-1)>1e-10?Math.sqrt(Uj(t[0]*t[3]-t[2]*t[1])):1},e.prototype.copyTransform=function(t){vre(this,t)},e.getLocalTransform=function(t,r){r=r||[];var n=t.originX||0,i=t.originY||0,a=t.scaleX,s=t.scaleY,o=t.anchorX,l=t.anchorY,c=t.rotation||0,u=t.x,h=t.y,f=t.skewX?Math.tan(t.skewX):0,p=t.skewY?Math.tan(-t.skewY):0;if(n||i||o||l){var g=n+o,v=i+l;r[4]=-g*a-f*v*s,r[5]=-v*s-p*g*a}else r[4]=r[5]=0;return r[0]=a,r[3]=s,r[1]=p*a,r[2]=f*s,c&&Jp(r,r,c),r[4]+=n+u,r[5]+=i+h,r},e.initDefaultProps=function(){var t=e.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),e}(),_c=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function vre(e,t){for(var r=0;r<_c.length;r++){var n=_c[r];e[n]=t[n]}}var YU={};function Fs(e,t){t=t||uh;var r=YU[t];r||(r=YU[t]=new $w(500));var n=r.get(e);return n==null&&(n=dh.measureText(e,t).width,r.put(e,n)),n}function KU(e,t,r,n){var i=Fs(e,t),a=h2(t),s=Fx(0,i,r),o=cm(0,a,n),l=new Bt(s,o,i,a);return l}function Bw(e,t,r,n){var i=((e||"")+"").split(`
`),a=i.length;if(a===1)return KU(i[0],t,r,n);for(var s=new Bt(0,0,0,0),o=0;o<i.length;o++){var l=KU(i[o],t,r,n);o===0?s.copy(l):s.union(l)}return s}function Fx(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function cm(e,t,r){return r==="middle"?e-=t/2:r==="bottom"&&(e-=t),e}function h2(e){return Fs("国",e)}function pl(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function QE(e,t,r){var n=t.position||"inside",i=t.distance!=null?t.distance:5,a=r.height,s=r.width,o=a/2,l=r.x,c=r.y,u="left",h="top";if(n instanceof Array)l+=pl(n[0],r.width),c+=pl(n[1],r.height),u=null,h=null;else switch(n){case"left":l-=i,c+=o,u="right",h="middle";break;case"right":l+=i+s,c+=o,h="middle";break;case"top":l+=s/2,c-=i,u="center",h="bottom";break;case"bottom":l+=s/2,c+=a+i,u="center";break;case"inside":l+=s/2,c+=o,u="center",h="middle";break;case"insideLeft":l+=i,c+=o,h="middle";break;case"insideRight":l+=s-i,c+=o,u="right",h="middle";break;case"insideTop":l+=s/2,c+=i,u="center";break;case"insideBottom":l+=s/2,c+=a-i,u="center",h="bottom";break;case"insideTopLeft":l+=i,c+=i;break;case"insideTopRight":l+=s-i,c+=i,u="right";break;case"insideBottomLeft":l+=i,c+=a-i,h="bottom";break;case"insideBottomRight":l+=s-i,c+=a-i,u="right",h="bottom";break}return e=e||{},e.x=l,e.y=c,e.align=u,e.verticalAlign=h,e}var Hj="__zr_normal__",Vj=_c.concat(["ignore"]),dTe=yc(_c,function(e,t){return e[t]=!0,e},{ignore:!1}),Ng={},hTe=new Bt(0,0,0,0),f2=function(){function e(t){this.id=Vte(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return e.prototype._init=function(t){this.attr(t)},e.prototype.drift=function(t,r,n){switch(this.draggable){case"horizontal":r=0;break;case"vertical":t=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=r,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(t){var r=this._textContent;if(r&&(!r.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,a=r.innerTransformable,s=void 0,o=void 0,l=!1;a.parent=i?this:null;var c=!1;if(a.copyTransform(r),n.position!=null){var u=hTe;n.layoutRect?u.copy(n.layoutRect):u.copy(this.getBoundingRect()),i||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Ng,n,u):QE(Ng,n,u),a.x=Ng.x,a.y=Ng.y,s=Ng.align,o=Ng.verticalAlign;var h=n.origin;if(h&&n.rotation!=null){var f=void 0,p=void 0;h==="center"?(f=u.width*.5,p=u.height*.5):(f=pl(h[0],u.width),p=pl(h[1],u.height)),c=!0,a.originX=-a.x+f+(i?0:u.x),a.originY=-a.y+p+(i?0:u.y)}}n.rotation!=null&&(a.rotation=n.rotation);var g=n.offset;g&&(a.x+=g[0],a.y+=g[1],c||(a.originX=-g[0],a.originY=-g[1]));var v=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,m=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),y=void 0,x=void 0,_=void 0;v&&this.canBeInsideText()?(y=n.insideFill,x=n.insideStroke,(y==null||y==="auto")&&(y=this.getInsideTextFill()),(x==null||x==="auto")&&(x=this.getInsideTextStroke(y),_=!0)):(y=n.outsideFill,x=n.outsideStroke,(y==null||y==="auto")&&(y=this.getOutsideFill()),(x==null||x==="auto")&&(x=this.getOutsideStroke(y),_=!0)),y=y||"#000",(y!==m.fill||x!==m.stroke||_!==m.autoStroke||s!==m.align||o!==m.verticalAlign)&&(l=!0,m.fill=y,m.stroke=x,m.autoStroke=_,m.align=s,m.verticalAlign=o,r.setDefaultTextStyle(m)),r.__dirty|=hc,l&&r.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(t){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?qL:GL},e.prototype.getOutsideStroke=function(t){var r=this.__zr&&this.__zr.getBackgroundColor(),n=typeof r=="string"&&Bs(r);n||(n=[255,255,255,1]);for(var i=n[3],a=this.__zr.isDarkMode(),s=0;s<3;s++)n[s]=n[s]*i+(a?0:255)*(1-i);return n[3]=1,pu(n,"rgba")},e.prototype.traverse=function(t,r){},e.prototype.attrKV=function(t,r){t==="textConfig"?this.setTextConfig(r):t==="textContent"?this.setTextContent(r):t==="clipPath"?this.setClipPath(r):t==="extra"?(this.extra=this.extra||{},pe(this.extra,r)):this[t]=r},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(t,r){if(typeof t=="string")this.attrKV(t,r);else if(ft(t))for(var n=t,i=ar(n),a=0;a<i.length;a++){var s=i[a];this.attrKV(s,t[s])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var r=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==Hj)){var s=i.targetName,o=s?r[s]:r;i.saveTo(o)}}},e.prototype._innerSaveToNormal=function(t){var r=this._normalState;r||(r=this._normalState={}),t.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(t,r,Vj)},e.prototype._savePrimaryToNormal=function(t,r,n){for(var i=0;i<n.length;i++){var a=n[i];t[a]!=null&&!(a in r)&&(r[a]=this[a])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(t){return this.states[t]},e.prototype.ensureState=function(t){var r=this.states;return r[t]||(r[t]={}),r[t]},e.prototype.clearStates=function(t){this.useState(Hj,!1,t)},e.prototype.useState=function(t,r,n,i){var a=t===Hj,s=this.hasState();if(!(!s&&a)){var o=this.currentStates,l=this.stateTransition;if(!(Wt(o,t)>=0&&(r||o.length===1))){var c;if(this.stateProxy&&!a&&(c=this.stateProxy(t)),c||(c=this.states&&this.states[t]),!c&&!a){a4("State "+t+" not exists.");return}a||this.saveCurrentToNormalState(c);var u=!!(c&&c.hoverLayer||i);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,c,this._normalState,r,!n&&!this.__inHover&&l&&l.duration>0,l);var h=this._textContent,f=this._textGuide;return h&&h.useState(t,r,n,u),f&&f.useState(t,r,n,u),a?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),c}}},e.prototype.useStates=function(t,r,n){if(!t.length)this.clearStates();else{var i=[],a=this.currentStates,s=t.length,o=s===a.length;if(o){for(var l=0;l<s;l++)if(t[l]!==a[l]){o=!1;break}}if(o)return;for(var l=0;l<s;l++){var c=t[l],u=void 0;this.stateProxy&&(u=this.stateProxy(c,t)),u||(u=this.states[c]),u&&i.push(u)}var h=i[s-1],f=!!(h&&h.hoverLayer||n);f&&this._toggleHoverLayerFlag(!0);var p=this._mergeStates(i),g=this.stateTransition;this.saveCurrentToNormalState(p),this._applyStateObj(t.join(","),p,this._normalState,!1,!r&&!this.__inHover&&g&&g.duration>0,g);var v=this._textContent,m=this._textGuide;v&&v.useStates(t,r,f),m&&m.useStates(t,r,f),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}},e.prototype.isSilent=function(){for(var t=this.silent,r=this.parent;!t&&r;){if(r.silent){t=!0;break}r=r.parent}return t},e.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var r=this.animators[t];r.targetName&&r.changeTarget(this[r.targetName])}},e.prototype.removeState=function(t){var r=Wt(this.currentStates,t);if(r>=0){var n=this.currentStates.slice();n.splice(r,1),this.useStates(n)}},e.prototype.replaceState=function(t,r,n){var i=this.currentStates.slice(),a=Wt(i,t),s=Wt(i,r)>=0;a>=0?s?i.splice(a,1):i[a]=r:n&&!s&&i.push(r),this.useStates(i)},e.prototype.toggleState=function(t,r){r?this.useState(t,!0):this.removeState(t)},e.prototype._mergeStates=function(t){for(var r={},n,i=0;i<t.length;i++){var a=t[i];pe(r,a),a.textConfig&&(n=n||{},pe(n,a.textConfig))}return n&&(r.textConfig=n),r},e.prototype._applyStateObj=function(t,r,n,i,a,s){var o=!(r&&i);r&&r.textConfig?(this.textConfig=pe({},i?this.textConfig:n.textConfig),pe(this.textConfig,r.textConfig)):o&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},c=!1,u=0;u<Vj.length;u++){var h=Vj[u],f=a&&dTe[h];r&&r[h]!=null?f?(c=!0,l[h]=r[h]):this[h]=r[h]:o&&n[h]!=null&&(f?(c=!0,l[h]=n[h]):this[h]=n[h])}if(!a)for(var u=0;u<this.animators.length;u++){var p=this.animators[u],g=p.targetName;p.getLoop()||p.__changeFinalValue(g?(r||n)[g]:r||n)}c&&this._transitionState(t,l,s)},e.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var r=this.__zr;r&&t.addSelfToZr(r),t.__zr=r,t.__hostTarget=this}},e.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},e.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(t){var r=this._textContent;r!==t&&(r&&r!==t&&this.removeTextContent(),t.innerTransformable=new au,this._attachComponent(t),this._textContent=t,this.markRedraw())},e.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),pe(this.textConfig,t),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=hc;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var r=this._textContent,n=this._textGuide;r&&(r.__inHover=t),n&&(n.__inHover=t)},e.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var r=this.animators;if(r)for(var n=0;n<r.length;n++)t.animation.addAnimator(r[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var n=0;n<r.length;n++)t.animation.removeAnimator(r[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},e.prototype.animate=function(t,r,n){var i=t?this[t]:this,a=new p4(i,r,n);return t&&(a.targetName=t),this.addAnimator(a,t),a},e.prototype.addAnimator=function(t,r){var n=this.__zr,i=this;t.during(function(){i.updateDuringAnimation(r)}).done(function(){var a=i.animators,s=Wt(a,t);s>=0&&a.splice(s,1)}),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},e.prototype.updateDuringAnimation=function(t){this.markRedraw()},e.prototype.stopAnimation=function(t,r){for(var n=this.animators,i=n.length,a=[],s=0;s<i;s++){var o=n[s];!t||t===o.scope?o.stop(r):a.push(o)}return this.animators=a,this},e.prototype.animateTo=function(t,r,n){Wj(this,t,r,n)},e.prototype.animateFrom=function(t,r,n){Wj(this,t,r,n,!0)},e.prototype._transitionState=function(t,r,n,i){for(var a=Wj(this,r,n,i),s=0;s<a.length;s++)a[s].__fromStateTransition=t},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=function(){var t=e.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=hc;function r(n,i,a,s){Object.defineProperty(t,n,{get:function(){if(!this[i]){var l=this[i]=[];o(this,l)}return this[i]},set:function(l){this[a]=l[0],this[s]=l[1],this[i]=l,o(this,l)}});function o(l,c){Object.defineProperty(c,0,{get:function(){return l[a]},set:function(u){l[a]=u}}),Object.defineProperty(c,1,{get:function(){return l[s]},set:function(u){l[s]=u}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),e}();pi(f2,Po);pi(f2,au);function Wj(e,t,r,n,i){r=r||{};var a=[];yre(e,"",e,t,r,n,a,i);var s=a.length,o=!1,l=r.done,c=r.aborted,u=function(){o=!0,s--,s<=0&&(o?l&&l():c&&c())},h=function(){s--,s<=0&&(o?l&&l():c&&c())};s||l&&l(),a.length>0&&r.during&&a[0].during(function(g,v){r.during(v)});for(var f=0;f<a.length;f++){var p=a[f];u&&p.done(u),h&&p.aborted(h),r.force&&p.duration(r.duration),p.start(r.easing)}return a}function Gj(e,t,r){for(var n=0;n<r;n++)e[n]=t[n]}function fTe(e){return _a(e[0])}function pTe(e,t,r){if(_a(t[r]))if(_a(e[r])||(e[r]=[]),bs(t[r])){var n=t[r].length;e[r].length!==n&&(e[r]=new t[r].constructor(n),Gj(e[r],t[r],n))}else{var i=t[r],a=e[r],s=i.length;if(fTe(i))for(var o=i[0].length,l=0;l<s;l++)a[l]?Gj(a[l],i[l],o):a[l]=Array.prototype.slice.call(i[l]);else Gj(a,i,s);a.length=i.length}else e[r]=t[r]}function gTe(e,t){return e===t||_a(e)&&_a(t)&&mTe(e,t)}function mTe(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function yre(e,t,r,n,i,a,s,o){for(var l=ar(n),c=i.duration,u=i.delay,h=i.additive,f=i.setToFinal,p=!ft(a),g=e.animators,v=[],m=0;m<l.length;m++){var y=l[m],x=n[y];if(x!=null&&r[y]!=null&&(p||a[y]))if(ft(x)&&!_a(x)&&!l2(x)){if(t){o||(r[y]=x,e.updateDuringAnimation(t));continue}yre(e,y,r[y],x,i,a&&a[y],s,o)}else v.push(y);else o||(r[y]=x,e.updateDuringAnimation(t),v.push(y))}var _=v.length;if(!h&&_)for(var b=0;b<g.length;b++){var w=g[b];if(w.targetName===t){var S=w.stopTracks(v);if(S){var k=Wt(g,w);g.splice(k,1)}}}if(i.force||(v=Br(v,function(N){return!gTe(n[N],r[N])}),_=v.length),_>0||i.force&&!s.length){var C=void 0,E=void 0,T=void 0;if(o){E={},f&&(C={});for(var b=0;b<_;b++){var y=v[b];E[y]=r[y],f?C[y]=n[y]:r[y]=n[y]}}else if(f){T={};for(var b=0;b<_;b++){var y=v[b];T[y]=x_(r[y]),pTe(r,n,y)}}var w=new p4(r,!1,!1,h?Br(g,function(I){return I.targetName===t}):null);w.targetName=t,i.scope&&(w.scope=i.scope),f&&C&&w.whenWithKeys(0,C,v),T&&w.whenWithKeys(0,T,v),w.whenWithKeys(c??500,o?E:n,v).delay(u||0),e.addAnimator(w,t),s.push(w)}}var _t=function(e){kn(t,e);function t(r){var n=e.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(r),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(r){return this._children[r]},t.prototype.childOfName=function(r){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===r)return n[i]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},t.prototype.addBefore=function(r,n){if(r&&r!==this&&r.parent!==this&&n&&n.parent===this){var i=this._children,a=i.indexOf(n);a>=0&&(i.splice(a,0,r),this._doAdd(r))}return this},t.prototype.replace=function(r,n){var i=Wt(this._children,r);return i>=0&&this.replaceAt(n,i),this},t.prototype.replaceAt=function(r,n){var i=this._children,a=i[n];if(r&&r!==this&&r.parent!==this&&r!==a){i[n]=r,a.parent=null;var s=this.__zr;s&&a.removeSelfFromZr(s),this._doAdd(r)}return this},t.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var n=this.__zr;n&&n!==r.__zr&&r.addSelfToZr(n),n&&n.refresh()},t.prototype.remove=function(r){var n=this.__zr,i=this._children,a=Wt(i,r);return a<0?this:(i.splice(a,1),r.parent=null,n&&r.removeSelfFromZr(n),n&&n.refresh(),this)},t.prototype.removeAll=function(){for(var r=this._children,n=this.__zr,i=0;i<r.length;i++){var a=r[i];n&&a.removeSelfFromZr(n),a.parent=null}return r.length=0,this},t.prototype.eachChild=function(r,n){for(var i=this._children,a=0;a<i.length;a++){var s=i[a];r.call(n,s,a)}return this},t.prototype.traverse=function(r,n){for(var i=0;i<this._children.length;i++){var a=this._children[i],s=r.call(n,a);a.isGroup&&!s&&a.traverse(r,n)}return this},t.prototype.addSelfToZr=function(r){e.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.addSelfToZr(r)}},t.prototype.removeSelfFromZr=function(r){e.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.removeSelfFromZr(r)}},t.prototype.getBoundingRect=function(r){for(var n=new Bt(0,0,0,0),i=r||this._children,a=[],s=null,o=0;o<i.length;o++){var l=i[o];if(!(l.ignore||l.invisible)){var c=l.getBoundingRect(),u=l.getLocalTransform(a);u?(Bt.applyTransform(n,c,u),s=s||n.clone(),s.union(n)):(s=s||c.clone(),s.union(c))}}return s||n},t}(f2);_t.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var Fk={},xre={};function vTe(e){delete xre[e]}function yTe(e){if(!e)return!1;if(typeof e=="string")return XE(e,1)<WL;if(e.colorStops){for(var t=e.colorStops,r=0,n=t.length,i=0;i<n;i++)r+=XE(t[i].color,1);return r/=n,r<WL}return!1}var xTe=function(){function e(t,r,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=r,this.id=t;var a=new IEe,s=n.renderer||"canvas";Fk[s]||(s=ar(Fk)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var o=new Fk[s](r,a,n,t),l=n.ssr||o.ssrOnly;this.storage=a,this.painter=o;var c=!tr.node&&!tr.worker&&!l?new lTe(o.getViewportRoot(),o.root):null,u=n.useCoarsePointer,h=u==null||u==="auto"?tr.touchEventsSupported:!!u,f=44,p;h&&(p=Et(n.pointerSize,f)),this.handler=new Xte(a,o,c,o.root,p),this.animation=new tTe({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return e.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},e.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(t,r){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,r),this.refresh())},e.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=yTe(t))},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(t){this._darkMode=t},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},e.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},e.prototype.flush=function(){this._disposed||this._flush(!1)},e.prototype._flush=function(t){var r,n=Rm();this._needsRefresh&&(r=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var i=Rm();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},e.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},e.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},e.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},e.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},e.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},e.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},e.prototype.findHover=function(t,r){if(!this._disposed)return this.handler.findHover(t,r)},e.prototype.on=function(t,r,n){return this._disposed||this.handler.on(t,r,n),this},e.prototype.off=function(t,r){this._disposed||this.handler.off(t,r)},e.prototype.trigger=function(t,r){this._disposed||this.handler.trigger(t,r)},e.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),r=0;r<t.length;r++)t[r]instanceof _t&&t[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},e.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,vTe(this.id))},e}();function XU(e,t){var r=new xTe(Vte(),e,t);return xre[r.id]=r,r}function _Te(e,t){Fk[e]=t}var YL;function bTe(e){if(typeof YL=="function")return YL(e)}function wTe(e){YL=e}var STe=1e-4,_re=20;function CTe(e){return e.replace(/^\s+|\s+$/g,"")}function Hr(e,t,r,n){var i=t[0],a=t[1],s=r[0],o=r[1],l=a-i,c=o-s;if(l===0)return c===0?s:(s+o)/2;if(n)if(l>0){if(e<=i)return s;if(e>=a)return o}else{if(e>=i)return s;if(e<=a)return o}else{if(e===i)return s;if(e===a)return o}return(e-i)/l*c+s}function Le(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}return We(e)?CTe(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):e==null?NaN:+e}function ei(e,t,r){return t==null&&(t=10),t=Math.min(Math.max(0,t),_re),e=(+e).toFixed(t),r?e:+e}function ko(e){return e.sort(function(t,r){return t-r}),e}function Ql(e){if(e=+e,isNaN(e))return 0;if(e>1e-14){for(var t=1,r=0;r<15;r++,t*=10)if(Math.round(e*t)/t===e)return r}return kTe(e)}function kTe(e){var t=e.toString().toLowerCase(),r=t.indexOf("e"),n=r>0?+t.slice(r+1):0,i=r>0?r:t.length,a=t.indexOf("."),s=a<0?0:i-1-a;return Math.max(0,s-n)}function bre(e,t){var r=Math.log,n=Math.LN10,i=Math.floor(r(e[1]-e[0])/n),a=Math.round(r(Math.abs(t[1]-t[0]))/n),s=Math.min(Math.max(-i+a,0),20);return isFinite(s)?s:20}function ETe(e,t){var r=yc(e,function(p,g){return p+(isNaN(g)?0:g)},0);if(r===0)return[];for(var n=Math.pow(10,t),i=_e(e,function(p){return(isNaN(p)?0:p)/r*n*100}),a=n*100,s=_e(i,function(p){return Math.floor(p)}),o=yc(s,function(p,g){return p+g},0),l=_e(i,function(p,g){return p-s[g]});o<a;){for(var c=Number.NEGATIVE_INFINITY,u=null,h=0,f=l.length;h<f;++h)l[h]>c&&(c=l[h],u=h);++s[u],l[u]=0,++o}return _e(s,function(p){return p/n})}function TTe(e,t){var r=Math.max(Ql(e),Ql(t)),n=e+t;return r>_re?n:ei(n,r)}var ZU=9007199254740991;function wre(e){var t=Math.PI*2;return(e%t+t)%t}function wb(e){return e>-1e-4&&e<STe}var NTe=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function bc(e){if(e instanceof Date)return e;if(We(e)){var t=NTe.exec(e);if(!t)return new Date(NaN);if(t[8]){var r=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(r-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,r,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(e==null)return new Date(NaN);return new Date(Math.round(e))}function ATe(e){return Math.pow(10,g4(e))}function g4(e){if(e===0)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function Sre(e,t){var r=g4(e),n=Math.pow(10,r),i=e/n,a;return i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10,e=a*n,r>=-20?+e.toFixed(r<0?-r:0):e}function qj(e,t){var r=(e.length-1)*t+1,n=Math.floor(r),i=+e[n-1],a=r-n;return a?i+a*(e[n]-i):i}function JU(e){e.sort(function(l,c){return o(l,c,0)?-1:1});for(var t=-1/0,r=1,n=0;n<e.length;){for(var i=e[n].interval,a=e[n].close,s=0;s<2;s++)i[s]<=t&&(i[s]=t,a[s]=s?1:1-r),t=i[s],r=a[s];i[0]===i[1]&&a[0]*a[1]!==1?e.splice(n,1):n++}return e;function o(l,c,u){return l.interval[u]<c.interval[u]||l.interval[u]===c.interval[u]&&(l.close[u]-c.close[u]===(u?-1:1)||!u&&o(l,c,1))}}function ku(e){var t=parseFloat(e);return t==e&&(t!==0||!We(e)||e.indexOf("x")<=0)?t:NaN}function Cre(e){return!isNaN(ku(e))}function kre(){return Math.round(Math.random()*9)}function Ere(e,t){return t===0?e:Ere(t,e%t)}function QU(e,t){return e==null?t:t==null?e:e*t/Ere(e,t)}function $r(e){throw new Error(e)}function eH(e,t,r){return(t-e)*r+e}var Tre="series\0",Nre="\0_ec_\0";function sn(e){return e instanceof Array?e:e==null?[]:[e]}function Np(e,t,r){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var n=0,i=r.length;n<i;n++){var a=r[n];!e.emphasis[t].hasOwnProperty(a)&&e[t].hasOwnProperty(a)&&(e.emphasis[t][a]=e[t][a])}}}var tH=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function g0(e){return ft(e)&&!ye(e)&&!(e instanceof Date)?e.value:e}function jTe(e){return ft(e)&&!(e instanceof Array)}function Are(e,t,r){var n=r==="normalMerge",i=r==="replaceMerge",a=r==="replaceAll";e=e||[],t=(t||[]).slice();var s=Qe();V(t,function(l,c){if(!ft(l)){t[c]=null;return}});var o=RTe(e,s,r);return(n||i)&&ITe(o,e,s,t),n&&MTe(o,t),n||i?PTe(o,t,i):a&&LTe(o,t),DTe(o),o}function RTe(e,t,r){var n=[];if(r==="replaceAll")return n;for(var i=0;i<e.length;i++){var a=e[i];a&&a.id!=null&&t.set(a.id,i),n.push({existing:r==="replaceMerge"||Sb(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return n}function ITe(e,t,r,n){V(n,function(i,a){if(!(!i||i.id==null)){var s=__(i.id),o=r.get(s);if(o!=null){var l=e[o];Wa(!l.newOption,'Duplicated option on id "'+s+'".'),l.newOption=i,l.existing=t[o],n[a]=null}}})}function MTe(e,t){V(t,function(r,n){if(!(!r||r.name==null))for(var i=0;i<e.length;i++){var a=e[i].existing;if(!e[i].newOption&&a&&(a.id==null||r.id==null)&&!Sb(r)&&!Sb(a)&&jre("name",a,r)){e[i].newOption=r,t[n]=null;return}}})}function PTe(e,t,r){V(t,function(n){if(n){for(var i,a=0;(i=e[a])&&(i.newOption||Sb(i.existing)||i.existing&&n.id!=null&&!jre("id",n,i.existing));)a++;i?(i.newOption=n,i.brandNew=r):e.push({newOption:n,brandNew:r,existing:null,keyInfo:null}),a++}})}function LTe(e,t){V(t,function(r){e.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function DTe(e){var t=Qe();V(e,function(r){var n=r.existing;n&&t.set(n.id,r)}),V(e,function(r){var n=r.newOption;Wa(!n||n.id==null||!t.get(n.id)||t.get(n.id)===r,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&t.set(n.id,r),!r.keyInfo&&(r.keyInfo={})}),V(e,function(r,n){var i=r.existing,a=r.newOption,s=r.keyInfo;if(ft(a)){if(s.name=a.name!=null?__(a.name):i?i.name:Tre+n,i)s.id=__(i.id);else if(a.id!=null)s.id=__(a.id);else{var o=0;do s.id="\0"+s.name+"\0"+o++;while(t.get(s.id))}t.set(s.id,r)}})}function jre(e,t,r){var n=_i(t[e],null),i=_i(r[e],null);return n!=null&&i!=null&&n===i}function __(e){return _i(e,"")}function _i(e,t){return e==null?t:We(e)?e:Nr(e)||kL(e)?e+"":t}function m4(e){var t=e.name;return!!(t&&t.indexOf(Tre))}function Sb(e){return e&&e.id!=null&&__(e.id).indexOf(Nre)===0}function OTe(e){return Nre+e}function $Te(e,t,r){V(e,function(n){var i=n.newOption;ft(i)&&(n.keyInfo.mainType=t,n.keyInfo.subType=BTe(t,i,n.existing,r))})}function BTe(e,t,r,n){var i=t.type?t.type:r?r.subType:n.determineSubType(e,t);return i}function FTe(e,t){var r={},n={};return i(e||[],r),i(t||[],n,r),[a(r),a(n)];function i(s,o,l){for(var c=0,u=s.length;c<u;c++){var h=_i(s[c].seriesId,null);if(h==null)return;for(var f=sn(s[c].dataIndex),p=l&&l[h],g=0,v=f.length;g<v;g++){var m=f[g];p&&p[m]?p[m]=null:(o[h]||(o[h]={}))[m]=1}}}function a(s,o){var l=[];for(var c in s)if(s.hasOwnProperty(c)&&s[c]!=null)if(o)l.push(+c);else{var u=a(s[c],!0);u.length&&l.push({seriesId:c,dataIndex:u})}return l}}function Ap(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return ye(t.dataIndex)?_e(t.dataIndex,function(r){return e.indexOfRawIndex(r)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return ye(t.name)?_e(t.name,function(r){return e.indexOfName(r)}):e.indexOfName(t.name)}function _r(){var e="__ec_inner_"+zTe++;return function(t){return t[e]||(t[e]={})}}var zTe=kre();function b_(e,t,r){var n=v4(t,r),i=n.mainTypeSpecified,a=n.queryOptionMap,s=n.others,o=s,l=r?r.defaultMainType:null;return!i&&l&&a.set(l,{}),a.each(function(c,u){var h=Fw(e,u,c,{useDefault:l===u,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});o[u+"Models"]=h.models,o[u+"Model"]=h.models[0]}),o}function v4(e,t){var r;if(We(e)){var n={};n[e+"Index"]=0,r=n}else r=e;var i=Qe(),a={},s=!1;return V(r,function(o,l){if(l==="dataIndex"||l==="dataIndexInside"){a[l]=o;return}var c=l.match(/^(\w+)(Index|Id|Name)$/)||[],u=c[1],h=(c[2]||"").toLowerCase();if(!(!u||!h||t&&t.includeMainTypes&&Wt(t.includeMainTypes,u)<0)){s=s||!!u;var f=i.get(u)||i.set(u,{});f[h]=o}}),{mainTypeSpecified:s,queryOptionMap:i,others:a}}var di={useDefault:!0,enableAll:!1,enableNone:!1},UTe={useDefault:!1,enableAll:!0,enableNone:!0};function Fw(e,t,r,n){n=n||di;var i=r.index,a=r.id,s=r.name,o={models:null,specified:i!=null||a!=null||s!=null};if(!o.specified){var l=void 0;return o.models=n.useDefault&&(l=e.getComponent(t))?[l]:[],o}return i==="none"||i===!1?(Wa(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),o.models=[],o):(i==="all"&&(Wa(n.enableAll,'`"all"` is not a valid value on index option.'),i=a=s=null),o.models=e.queryComponents({mainType:t,index:i,id:a,name:s}),o)}function Rre(e,t,r){e.setAttribute?e.setAttribute(t,r):e[t]=r}function HTe(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function VTe(e){return e==="auto"?tr.domSupported?"html":"richText":e||"html"}function KL(e,t){var r=Qe(),n=[];return V(e,function(i){var a=t(i);(r.get(a)||(n.push(a),r.set(a,[]))).push(i)}),{keys:n,buckets:r}}function Ire(e,t,r,n,i){var a=t==null||t==="auto";if(n==null)return n;if(Nr(n)){var s=eH(r||0,n,i);return ei(s,a?Math.max(Ql(r||0),Ql(n)):t)}else{if(We(n))return i<1?r:n;for(var o=[],l=r,c=n,u=Math.max(l?l.length:0,c.length),h=0;h<u;++h){var f=e.getDimensionInfo(h);if(f&&f.type==="ordinal")o[h]=(i<1&&l?l:c)[h];else{var p=l&&l[h]?l[h]:0,g=c[h],s=eH(p,g,i);o[h]=ei(s,a?Math.max(Ql(p),Ql(g)):t)}}return o}}var WTe=".",Jh="___EC__COMPONENT__CONTAINER___",Mre="___EC__EXTENDED_CLASS___";function ec(e){var t={main:"",sub:""};if(e){var r=e.split(WTe);t.main=r[0]||"",t.sub=r[1]||""}return t}function GTe(e){Wa(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function qTe(e){return!!(e&&e[Mre])}function y4(e,t){e.$constructor=e,e.extend=function(r){var n=this,i;return YTe(n)?i=function(a){ce(s,a);function s(){return a.apply(this,arguments)||this}return s}(n):(i=function(){(r.$constructor||n).apply(this,arguments)},Qke(i,this)),pe(i.prototype,r),i[Mre]=!0,i.extend=this.extend,i.superCall=ZTe,i.superApply=JTe,i.superClass=n,i}}function YTe(e){return lt(e)&&/^class\s/.test(Function.prototype.toString.call(e))}function Pre(e,t){e.extend=t.extend}var KTe=Math.round(Math.random()*10);function XTe(e){var t=["__\0is_clz",KTe++].join("_");e.prototype[t]=!0,e.isInstance=function(r){return!!(r&&r[t])}}function ZTe(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return this.superClass.prototype[t].apply(e,r)}function JTe(e,t,r){return this.superClass.prototype[t].apply(e,r)}function p2(e){var t={};e.registerClass=function(n){var i=n.type||n.prototype.type;if(i){GTe(i),n.prototype.type=i;var a=ec(i);if(!a.sub)t[a.main]=n;else if(a.sub!==Jh){var s=r(a);s[a.sub]=n}}return n},e.getClass=function(n,i,a){var s=t[n];if(s&&s[Jh]&&(s=i?s[i]:null),a&&!s)throw new Error(i?"Component "+n+"."+(i||"")+" is used but not imported.":n+".type should be specified.");return s},e.getClassesByMainType=function(n){var i=ec(n),a=[],s=t[i.main];return s&&s[Jh]?V(s,function(o,l){l!==Jh&&a.push(o)}):a.push(s),a},e.hasClass=function(n){var i=ec(n);return!!t[i.main]},e.getAllClassMainTypes=function(){var n=[];return V(t,function(i,a){n.push(a)}),n},e.hasSubTypes=function(n){var i=ec(n),a=t[i.main];return a&&a[Jh]};function r(n){var i=t[n.main];return(!i||!i[Jh])&&(i=t[n.main]={},i[Jh]=!0),i}}function jp(e,t){for(var r=0;r<e.length;r++)e[r][1]||(e[r][1]=e[r][0]);return t=t||!1,function(n,i,a){for(var s={},o=0;o<e.length;o++){var l=e[o][1];if(!(i&&Wt(i,l)>=0||a&&Wt(a,l)<0)){var c=n.getShallow(l,t);c!=null&&(s[e[o][0]]=c)}}return s}}var QTe=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],eNe=jp(QTe),tNe=function(){function e(){}return e.prototype.getAreaStyle=function(t,r){return eNe(this,t,r)},e}(),XL=new $w(50);function rNe(e){if(typeof e=="string"){var t=XL.get(e);return t&&t.image}else return e}function x4(e,t,r,n,i){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!r)return t;var a=XL.get(e),s={hostEl:r,cb:n,cbPayload:i};return a?(t=a.image,!g2(t)&&a.pending.push(s)):(t=dh.loadImage(e,rH,rH),t.__zrImageSrc=e,XL.put(e,t.__cachedImgObj={image:t,pending:[s]})),t}else return e;else return t}function rH(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var r=e.pending[t],n=r.cb;n&&n(this,r.cbPayload),r.hostEl.dirty()}e.pending.length=0}function g2(e){return e&&e.width&&e.height}var Yj=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function nNe(e,t,r,n,i,a){if(!r){e.text="",e.isTruncated=!1;return}var s=(t+"").split(`
`);a=Lre(r,n,i,a);for(var o=!1,l={},c=0,u=s.length;c<u;c++)Dre(l,s[c],a),s[c]=l.textLine,o=o||l.isTruncated;e.text=s.join(`
`),e.isTruncated=o}function Lre(e,t,r,n){n=n||{};var i=pe({},n);i.font=t,r=Et(r,"..."),i.maxIterations=Et(n.maxIterations,2);var a=i.minChar=Et(n.minChar,0);i.cnCharWidth=Fs("国",t);var s=i.ascCharWidth=Fs("a",t);i.placeholder=Et(n.placeholder,"");for(var o=e=Math.max(0,e-1),l=0;l<a&&o>=s;l++)o-=s;var c=Fs(r,t);return c>o&&(r="",c=0),o=e-c,i.ellipsis=r,i.ellipsisWidth=c,i.contentWidth=o,i.containerWidth=e,i}function Dre(e,t,r){var n=r.containerWidth,i=r.font,a=r.contentWidth;if(!n){e.textLine="",e.isTruncated=!1;return}var s=Fs(t,i);if(s<=n){e.textLine=t,e.isTruncated=!1;return}for(var o=0;;o++){if(s<=a||o>=r.maxIterations){t+=r.ellipsis;break}var l=o===0?iNe(t,a,r.ascCharWidth,r.cnCharWidth):s>0?Math.floor(t.length*a/s):0;t=t.substr(0,l),s=Fs(t,i)}t===""&&(t=r.placeholder),e.textLine=t,e.isTruncated=!0}function iNe(e,t,r,n){for(var i=0,a=0,s=e.length;a<s&&i<t;a++){var o=e.charCodeAt(a);i+=0<=o&&o<=127?r:n}return a}function aNe(e,t){e!=null&&(e+="");var r=t.overflow,n=t.padding,i=t.font,a=r==="truncate",s=h2(i),o=Et(t.lineHeight,s),l=!!t.backgroundColor,c=t.lineOverflow==="truncate",u=!1,h=t.width,f;h!=null&&(r==="break"||r==="breakAll")?f=e?Ore(e,t.font,h,r==="breakAll",0).lines:[]:f=e?e.split(`
`):[];var p=f.length*o,g=Et(t.height,p);if(p>g&&c){var v=Math.floor(g/o);u=u||f.length>v,f=f.slice(0,v)}if(e&&a&&h!=null)for(var m=Lre(h,i,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),y={},x=0;x<f.length;x++)Dre(y,f[x],m),f[x]=y.textLine,u=u||y.isTruncated;for(var _=g,b=0,x=0;x<f.length;x++)b=Math.max(Fs(f[x],i),b);h==null&&(h=b);var w=b;return n&&(_+=n[0]+n[2],w+=n[1]+n[3],h+=n[1]+n[3]),l&&(w=h),{lines:f,height:g,outerWidth:w,outerHeight:_,lineHeight:o,calculatedLineHeight:s,contentWidth:b,contentHeight:p,width:h,isTruncated:u}}var sNe=function(){function e(){}return e}(),nH=function(){function e(t){this.tokens=[],t&&(this.tokens=t)}return e}(),oNe=function(){function e(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return e}();function lNe(e,t){var r=new oNe;if(e!=null&&(e+=""),!e)return r;for(var n=t.width,i=t.height,a=t.overflow,s=(a==="break"||a==="breakAll")&&n!=null?{width:n,accumWidth:0,breakAll:a==="breakAll"}:null,o=Yj.lastIndex=0,l;(l=Yj.exec(e))!=null;){var c=l.index;c>o&&Kj(r,e.substring(o,c),t,s),Kj(r,l[2],t,s,l[1]),o=Yj.lastIndex}o<e.length&&Kj(r,e.substring(o,e.length),t,s);var u=[],h=0,f=0,p=t.padding,g=a==="truncate",v=t.lineOverflow==="truncate",m={};function y(R,z,U){R.width=z,R.lineHeight=U,h+=U,f=Math.max(f,z)}e:for(var x=0;x<r.lines.length;x++){for(var _=r.lines[x],b=0,w=0,S=0;S<_.tokens.length;S++){var k=_.tokens[S],C=k.styleName&&t.rich[k.styleName]||{},E=k.textPadding=C.padding,T=E?E[1]+E[3]:0,N=k.font=C.font||t.font;k.contentHeight=h2(N);var I=Et(C.height,k.contentHeight);if(k.innerHeight=I,E&&(I+=E[0]+E[2]),k.height=I,k.lineHeight=dc(C.lineHeight,t.lineHeight,I),k.align=C&&C.align||t.align,k.verticalAlign=C&&C.verticalAlign||"middle",v&&i!=null&&h+k.lineHeight>i){var P=r.lines.length;S>0?(_.tokens=_.tokens.slice(0,S),y(_,w,b),r.lines=r.lines.slice(0,x+1)):r.lines=r.lines.slice(0,x),r.isTruncated=r.isTruncated||r.lines.length<P;break e}var D=C.width,$=D==null||D==="auto";if(typeof D=="string"&&D.charAt(D.length-1)==="%")k.percentWidth=D,u.push(k),k.contentWidth=Fs(k.text,N);else{if($){var L=C.backgroundColor,O=L&&L.image;O&&(O=rNe(O),g2(O)&&(k.width=Math.max(k.width,O.width*I/O.height)))}var j=g&&n!=null?n-w:null;j!=null&&j<k.width?!$||j<T?(k.text="",k.width=k.contentWidth=0):(nNe(m,k.text,j-T,N,t.ellipsis,{minChar:t.truncateMinChar}),k.text=m.text,r.isTruncated=r.isTruncated||m.isTruncated,k.width=k.contentWidth=Fs(k.text,N)):k.contentWidth=Fs(k.text,N)}k.width+=T,w+=k.width,C&&(b=Math.max(b,k.lineHeight))}y(_,w,b)}r.outerWidth=r.width=Et(n,f),r.outerHeight=r.height=Et(i,h),r.contentHeight=h,r.contentWidth=f,p&&(r.outerWidth+=p[1]+p[3],r.outerHeight+=p[0]+p[2]);for(var x=0;x<u.length;x++){var k=u[x],M=k.percentWidth;k.width=parseInt(M,10)/100*r.width}return r}function Kj(e,t,r,n,i){var a=t==="",s=i&&r.rich[i]||{},o=e.lines,l=s.font||r.font,c=!1,u,h;if(n){var f=s.padding,p=f?f[1]+f[3]:0;if(s.width!=null&&s.width!=="auto"){var g=pl(s.width,n.width)+p;o.length>0&&g+n.accumWidth>n.width&&(u=t.split(`
`),c=!0),n.accumWidth=g}else{var v=Ore(t,l,n.width,n.breakAll,n.accumWidth);n.accumWidth=v.accumWidth+p,h=v.linesWidths,u=v.lines}}else u=t.split(`
`);for(var m=0;m<u.length;m++){var y=u[m],x=new sNe;if(x.styleName=i,x.text=y,x.isLineHolder=!y&&!a,typeof s.width=="number"?x.width=s.width:x.width=h?h[m]:Fs(y,l),!m&&!c){var _=(o[o.length-1]||(o[0]=new nH)).tokens,b=_.length;b===1&&_[0].isLineHolder?_[0]=x:(y||!b||a)&&_.push(x)}else o.push(new nH([x]))}}function cNe(e){var t=e.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var uNe=yc(",&?/;] ".split(""),function(e,t){return e[t]=!0,e},{});function dNe(e){return cNe(e)?!!uNe[e]:!0}function Ore(e,t,r,n,i){for(var a=[],s=[],o="",l="",c=0,u=0,h=0;h<e.length;h++){var f=e.charAt(h);if(f===`
`){l&&(o+=l,u+=c),a.push(o),s.push(u),o="",l="",c=0,u=0;continue}var p=Fs(f,t),g=n?!1:!dNe(f);if(a.length?u+p>r:i+u+p>r){u?(o||l)&&(g?(o||(o=l,l="",c=0,u=c),a.push(o),s.push(u-c),l+=f,c+=p,o="",u=c):(l&&(o+=l,l="",c=0),a.push(o),s.push(u),o=f,u=p)):g?(a.push(l),s.push(c),l=f,c=p):(a.push(f),s.push(p));continue}u+=p,g?(l+=f,c+=p):(l&&(o+=l,l="",c=0),o+=f)}return!a.length&&!o&&(o=e,l="",c=0),l&&(o+=l),o&&(a.push(o),s.push(u)),a.length===1&&(u+=i),{accumWidth:u,lines:a,linesWidths:s}}var ZL="__zr_style_"+Math.round(Math.random()*10),cp={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},m2={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};cp[ZL]=!0;var iH=["z","z2","invisible"],hNe=["invisible"],Mo=function(e){kn(t,e);function t(r){return e.call(this,r)||this}return t.prototype._init=function(r){for(var n=ar(r),i=0;i<n.length;i++){var a=n[i];a==="style"?this.useStyle(r[a]):e.prototype.attrKV.call(this,a,r[a])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(r,n,i,a){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&fNe(this,r,n)||s&&!s[0]&&!s[3])return!1;if(i&&this.__clipPaths){for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1}if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},t.prototype.contain=function(r,n){return this.rectContain(r,n)},t.prototype.traverse=function(r,n){r.call(n,this)},t.prototype.rectContain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect();return a.contain(i[0],i[1])},t.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,i=this.getBoundingRect(),a=this.style,s=a.shadowBlur||0,o=a.shadowOffsetX||0,l=a.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new Bt(0,0,0,0)),n?Bt.applyTransform(r,i,n):r.copy(i),(s||o||l)&&(r.width+=s*2+Math.abs(o),r.height+=s*2+Math.abs(l),r.x=Math.min(r.x,r.x+o-s),r.y=Math.min(r.y,r.y+l-s));var c=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-c),r.y=Math.floor(r.y-c),r.width=Math.ceil(r.width+1+c*2),r.height=Math.ceil(r.height+1+c*2))}return r},t.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new Bt(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(r){return this.animate("style",r)},t.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(r,n){r!=="style"?e.prototype.attrKV.call(this,r,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(r,n){return typeof r=="string"?this.style[r]=n:pe(this.style,r),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=Dk,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&Dk)},t.prototype.styleUpdated=function(){this.__dirty&=-3},t.prototype.createStyle=function(r){return c2(cp,r)},t.prototype.useStyle=function(r){r[ZL]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},t.prototype.isStyleObject=function(r){return r[ZL]},t.prototype._innerSaveToNormal=function(r){e.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,n,iH)},t.prototype._applyStateObj=function(r,n,i,a,s,o){e.prototype._applyStateObj.call(this,r,n,i,a,s,o);var l=!(n&&a),c;if(n&&n.style?s?a?c=n.style:(c=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(c,n.style)):(c=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(c,n.style)):l&&(c=i.style),c)if(s){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var h=ar(u),f=0;f<h.length;f++){var p=h[f];p in c&&(c[p]=c[p],this.style[p]=u[p])}for(var g=ar(c),f=0;f<g.length;f++){var p=g[f];this.style[p]=this.style[p]}this._transitionState(r,{style:c},o,this.getAnimationStyleProps())}else this.useStyle(c);for(var v=this.__inHover?hNe:iH,f=0;f<v.length;f++){var p=v[f];n&&n[p]!=null?this[p]=n[p]:l&&i[p]!=null&&(this[p]=i[p])}},t.prototype._mergeStates=function(r){for(var n=e.prototype._mergeStates.call(this,r),i,a=0;a<r.length;a++){var s=r[a];s.style&&(i=i||{},this._mergeStyle(i,s.style))}return i&&(n.style=i),n},t.prototype._mergeStyle=function(r,n){return pe(r,n),r},t.prototype.getAnimationStyleProps=function(){return m2},t.initDefaultProps=function(){var r=t.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=hc|Dk}(),t}(f2),Xj=new Bt(0,0,0,0),Zj=new Bt(0,0,0,0);function fNe(e,t,r){return Xj.copy(e.getBoundingRect()),e.transform&&Xj.applyTransform(e.transform),Zj.width=t,Zj.height=r,!Xj.intersect(Zj)}var ls=Math.min,cs=Math.max,Jj=Math.sin,Qj=Math.cos,Qh=Math.PI*2,DS=Zp(),OS=Zp(),$S=Zp();function v2(e,t,r){if(e.length!==0){for(var n=e[0],i=n[0],a=n[0],s=n[1],o=n[1],l=1;l<e.length;l++)n=e[l],i=ls(i,n[0]),a=cs(a,n[0]),s=ls(s,n[1]),o=cs(o,n[1]);t[0]=i,t[1]=s,r[0]=a,r[1]=o}}function aH(e,t,r,n,i,a){i[0]=ls(e,r),i[1]=ls(t,n),a[0]=cs(e,r),a[1]=cs(t,n)}var sH=[],oH=[];function pNe(e,t,r,n,i,a,s,o,l,c){var u=rre,h=Ti,f=u(e,r,i,s,sH);l[0]=1/0,l[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var p=0;p<f;p++){var g=h(e,r,i,s,sH[p]);l[0]=ls(g,l[0]),c[0]=cs(g,c[0])}f=u(t,n,a,o,oH);for(var p=0;p<f;p++){var v=h(t,n,a,o,oH[p]);l[1]=ls(v,l[1]),c[1]=cs(v,c[1])}l[0]=ls(e,l[0]),c[0]=cs(e,c[0]),l[0]=ls(s,l[0]),c[0]=cs(s,c[0]),l[1]=ls(t,l[1]),c[1]=cs(t,c[1]),l[1]=ls(o,l[1]),c[1]=cs(o,c[1])}function gNe(e,t,r,n,i,a,s,o){var l=ire,c=zi,u=cs(ls(l(e,r,i),1),0),h=cs(ls(l(t,n,a),1),0),f=c(e,r,i,u),p=c(t,n,a,h);s[0]=ls(e,i,f),s[1]=ls(t,a,p),o[0]=cs(e,i,f),o[1]=cs(t,a,p)}function mNe(e,t,r,n,i,a,s,o,l){var c=Md,u=Pd,h=Math.abs(i-a);if(h%Qh<1e-4&&h>1e-4){o[0]=e-r,o[1]=t-n,l[0]=e+r,l[1]=t+n;return}if(DS[0]=Qj(i)*r+e,DS[1]=Jj(i)*n+t,OS[0]=Qj(a)*r+e,OS[1]=Jj(a)*n+t,c(o,DS,OS),u(l,DS,OS),i=i%Qh,i<0&&(i=i+Qh),a=a%Qh,a<0&&(a=a+Qh),i>a&&!s?a+=Qh:i<a&&s&&(i+=Qh),s){var f=a;a=i,i=f}for(var p=0;p<a;p+=Math.PI/2)p>i&&($S[0]=Qj(p)*r+e,$S[1]=Jj(p)*n+t,c(o,$S,o),u(l,$S,l))}var pn={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},ef=[],tf=[],Ml=[],Qu=[],Pl=[],Ll=[],eR=Math.min,tR=Math.max,rf=Math.cos,nf=Math.sin,Fc=Math.abs,JL=Math.PI,dd=JL*2,rR=typeof Float32Array<"u",Fy=[];function nR(e){var t=Math.round(e/JL*1e8)/1e8;return t%2*JL}function _4(e,t){var r=nR(e[0]);r<0&&(r+=dd);var n=r-e[0],i=e[1];i+=n,!t&&i-r>=dd?i=r+dd:t&&r-i>=dd?i=r-dd:!t&&r>i?i=r+(dd-nR(r-i)):t&&r<i&&(i=r-(dd-nR(i-r))),e[0]=r,e[1]=i}var wc=function(){function e(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(t,r,n){n=n||0,n>0&&(this._ux=Fc(n/JE/t)||0,this._uy=Fc(n/JE/r)||0)},e.prototype.setDPR=function(t){this.dpr=t},e.prototype.setContext=function(t){this._ctx=t},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(t,r){return this._drawPendingPt(),this.addData(pn.M,t,r),this._ctx&&this._ctx.moveTo(t,r),this._x0=t,this._y0=r,this._xi=t,this._yi=r,this},e.prototype.lineTo=function(t,r){var n=Fc(t-this._xi),i=Fc(r-this._yi),a=n>this._ux||i>this._uy;if(this.addData(pn.L,t,r),this._ctx&&a&&this._ctx.lineTo(t,r),a)this._xi=t,this._yi=r,this._pendingPtDist=0;else{var s=n*n+i*i;s>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=r,this._pendingPtDist=s)}return this},e.prototype.bezierCurveTo=function(t,r,n,i,a,s){return this._drawPendingPt(),this.addData(pn.C,t,r,n,i,a,s),this._ctx&&this._ctx.bezierCurveTo(t,r,n,i,a,s),this._xi=a,this._yi=s,this},e.prototype.quadraticCurveTo=function(t,r,n,i){return this._drawPendingPt(),this.addData(pn.Q,t,r,n,i),this._ctx&&this._ctx.quadraticCurveTo(t,r,n,i),this._xi=n,this._yi=i,this},e.prototype.arc=function(t,r,n,i,a,s){this._drawPendingPt(),Fy[0]=i,Fy[1]=a,_4(Fy,s),i=Fy[0],a=Fy[1];var o=a-i;return this.addData(pn.A,t,r,n,n,i,o,0,s?0:1),this._ctx&&this._ctx.arc(t,r,n,i,a,s),this._xi=rf(a)*n+t,this._yi=nf(a)*n+r,this},e.prototype.arcTo=function(t,r,n,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,r,n,i,a),this},e.prototype.rect=function(t,r,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,r,n,i),this.addData(pn.R,t,r,n,i),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(pn.Z);var t=this._ctx,r=this._x0,n=this._y0;return t&&t.closePath(),this._xi=r,this._yi=n,this},e.prototype.fill=function(t){t&&t.fill(),this.toStatic()},e.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(t){var r=t.length;!(this.data&&this.data.length===r)&&rR&&(this.data=new Float32Array(r));for(var n=0;n<r;n++)this.data[n]=t[n];this._len=r},e.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var r=t.length,n=0,i=this._len,a=0;a<r;a++)n+=t[a].len();rR&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(var a=0;a<r;a++)for(var s=t[a].data,o=0;o<s.length;o++)this.data[i++]=s[o];this._len=i},e.prototype.addData=function(t,r,n,i,a,s,o,l,c){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var h=0;h<arguments.length;h++)u[this._len++]=arguments[h]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],r=0;r<this._len;r++)t[r]=this.data[r];this.data=t}},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,rR&&this._len>11&&(this.data=new Float32Array(t)))}},e.prototype.getBoundingRect=function(){Ml[0]=Ml[1]=Pl[0]=Pl[1]=Number.MAX_VALUE,Qu[0]=Qu[1]=Ll[0]=Ll[1]=-Number.MAX_VALUE;var t=this.data,r=0,n=0,i=0,a=0,s;for(s=0;s<this._len;){var o=t[s++],l=s===1;switch(l&&(r=t[s],n=t[s+1],i=r,a=n),o){case pn.M:r=i=t[s++],n=a=t[s++],Pl[0]=i,Pl[1]=a,Ll[0]=i,Ll[1]=a;break;case pn.L:aH(r,n,t[s],t[s+1],Pl,Ll),r=t[s++],n=t[s++];break;case pn.C:pNe(r,n,t[s++],t[s++],t[s++],t[s++],t[s],t[s+1],Pl,Ll),r=t[s++],n=t[s++];break;case pn.Q:gNe(r,n,t[s++],t[s++],t[s],t[s+1],Pl,Ll),r=t[s++],n=t[s++];break;case pn.A:var c=t[s++],u=t[s++],h=t[s++],f=t[s++],p=t[s++],g=t[s++]+p;s+=1;var v=!t[s++];l&&(i=rf(p)*h+c,a=nf(p)*f+u),mNe(c,u,h,f,p,g,v,Pl,Ll),r=rf(g)*h+c,n=nf(g)*f+u;break;case pn.R:i=r=t[s++],a=n=t[s++];var m=t[s++],y=t[s++];aH(i,a,i+m,a+y,Pl,Ll);break;case pn.Z:r=i,n=a;break}Md(Ml,Ml,Pl),Pd(Qu,Qu,Ll)}return s===0&&(Ml[0]=Ml[1]=Qu[0]=Qu[1]=0),new Bt(Ml[0],Ml[1],Qu[0]-Ml[0],Qu[1]-Ml[1])},e.prototype._calculateLength=function(){var t=this.data,r=this._len,n=this._ux,i=this._uy,a=0,s=0,o=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,u=0,h=0,f=0;f<r;){var p=t[f++],g=f===1;g&&(a=t[f],s=t[f+1],o=a,l=s);var v=-1;switch(p){case pn.M:a=o=t[f++],s=l=t[f++];break;case pn.L:{var m=t[f++],y=t[f++],x=m-a,_=y-s;(Fc(x)>n||Fc(_)>i||f===r-1)&&(v=Math.sqrt(x*x+_*_),a=m,s=y);break}case pn.C:{var b=t[f++],w=t[f++],m=t[f++],y=t[f++],S=t[f++],k=t[f++];v=MEe(a,s,b,w,m,y,S,k,10),a=S,s=k;break}case pn.Q:{var b=t[f++],w=t[f++],m=t[f++],y=t[f++];v=LEe(a,s,b,w,m,y,10),a=m,s=y;break}case pn.A:var C=t[f++],E=t[f++],T=t[f++],N=t[f++],I=t[f++],P=t[f++],D=P+I;f+=1,g&&(o=rf(I)*T+C,l=nf(I)*N+E),v=tR(T,N)*eR(dd,Math.abs(P)),a=rf(D)*T+C,s=nf(D)*N+E;break;case pn.R:{o=a=t[f++],l=s=t[f++];var $=t[f++],L=t[f++];v=$*2+L*2;break}case pn.Z:{var x=o-a,_=l-s;v=Math.sqrt(x*x+_*_),a=o,s=l;break}}v>=0&&(c[h++]=v,u+=v)}return this._pathLen=u,u},e.prototype.rebuildPath=function(t,r){var n=this.data,i=this._ux,a=this._uy,s=this._len,o,l,c,u,h,f,p=r<1,g,v,m=0,y=0,x,_=0,b,w;if(!(p&&(this._pathSegLen||this._calculateLength(),g=this._pathSegLen,v=this._pathLen,x=r*v,!x)))e:for(var S=0;S<s;){var k=n[S++],C=S===1;switch(C&&(c=n[S],u=n[S+1],o=c,l=u),k!==pn.L&&_>0&&(t.lineTo(b,w),_=0),k){case pn.M:o=c=n[S++],l=u=n[S++],t.moveTo(c,u);break;case pn.L:{h=n[S++],f=n[S++];var E=Fc(h-c),T=Fc(f-u);if(E>i||T>a){if(p){var N=g[y++];if(m+N>x){var I=(x-m)/N;t.lineTo(c*(1-I)+h*I,u*(1-I)+f*I);break e}m+=N}t.lineTo(h,f),c=h,u=f,_=0}else{var P=E*E+T*T;P>_&&(b=h,w=f,_=P)}break}case pn.C:{var D=n[S++],$=n[S++],L=n[S++],O=n[S++],j=n[S++],M=n[S++];if(p){var N=g[y++];if(m+N>x){var I=(x-m)/N;hh(c,D,L,j,I,ef),hh(u,$,O,M,I,tf),t.bezierCurveTo(ef[1],tf[1],ef[2],tf[2],ef[3],tf[3]);break e}m+=N}t.bezierCurveTo(D,$,L,O,j,M),c=j,u=M;break}case pn.Q:{var D=n[S++],$=n[S++],L=n[S++],O=n[S++];if(p){var N=g[y++];if(m+N>x){var I=(x-m)/N;xb(c,D,L,I,ef),xb(u,$,O,I,tf),t.quadraticCurveTo(ef[1],tf[1],ef[2],tf[2]);break e}m+=N}t.quadraticCurveTo(D,$,L,O),c=L,u=O;break}case pn.A:var R=n[S++],z=n[S++],U=n[S++],F=n[S++],G=n[S++],q=n[S++],K=n[S++],B=!n[S++],W=U>F?U:F,Y=Fc(U-F)>.001,Z=G+q,Q=!1;if(p){var N=g[y++];m+N>x&&(Z=G+q*(x-m)/N,Q=!0),m+=N}if(Y&&t.ellipse?t.ellipse(R,z,U,F,K,G,Z,B):t.arc(R,z,W,G,Z,B),Q)break e;C&&(o=rf(G)*U+R,l=nf(G)*F+z),c=rf(Z)*U+R,u=nf(Z)*F+z;break;case pn.R:o=c=n[S],l=u=n[S+1],h=n[S++],f=n[S++];var re=n[S++],me=n[S++];if(p){var N=g[y++];if(m+N>x){var Ee=x-m;t.moveTo(h,f),t.lineTo(h+eR(Ee,re),f),Ee-=re,Ee>0&&t.lineTo(h+re,f+eR(Ee,me)),Ee-=me,Ee>0&&t.lineTo(h+tR(re-Ee,0),f+me),Ee-=re,Ee>0&&t.lineTo(h,f+tR(me-Ee,0));break e}m+=N}t.rect(h,f,re,me);break;case pn.Z:if(p){var N=g[y++];if(m+N>x){var I=(x-m)/N;t.lineTo(c*(1-I)+o*I,u*(1-I)+l*I);break e}m+=N}t.closePath(),c=o,u=l}}},e.prototype.clone=function(){var t=new e,r=this.data;return t.data=r.slice?r.slice():Array.prototype.slice.call(r),t._len=this._len,t},e.CMD=pn,e.initDefaultProps=function(){var t=e.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),e}();function _d(e,t,r,n,i,a,s){if(i===0)return!1;var o=i,l=0,c=e;if(s>t+o&&s>n+o||s<t-o&&s<n-o||a>e+o&&a>r+o||a<e-o&&a<r-o)return!1;if(e!==r)l=(t-n)/(e-r),c=(e*n-r*t)/(e-r);else return Math.abs(a-e)<=o/2;var u=l*a-s+c,h=u*u/(l*l+1);return h<=o/2*o/2}function vNe(e,t,r,n,i,a,s,o,l,c,u){if(l===0)return!1;var h=l;if(u>t+h&&u>n+h&&u>a+h&&u>o+h||u<t-h&&u<n-h&&u<a-h&&u<o-h||c>e+h&&c>r+h&&c>i+h&&c>s+h||c<e-h&&c<r-h&&c<i-h&&c<s-h)return!1;var f=nre(e,t,r,n,i,a,s,o,c,u,null);return f<=h/2}function $re(e,t,r,n,i,a,s,o,l){if(s===0)return!1;var c=s;if(l>t+c&&l>n+c&&l>a+c||l<t-c&&l<n-c&&l<a-c||o>e+c&&o>r+c&&o>i+c||o<e-c&&o<r-c&&o<i-c)return!1;var u=are(e,t,r,n,i,a,o,l,null);return u<=c/2}var lH=Math.PI*2;function Ls(e){return e%=lH,e<0&&(e+=lH),e}var zy=Math.PI*2;function yNe(e,t,r,n,i,a,s,o,l){if(s===0)return!1;var c=s;o-=e,l-=t;var u=Math.sqrt(o*o+l*l);if(u-c>r||u+c<r)return!1;if(Math.abs(n-i)%zy<1e-4)return!0;if(a){var h=n;n=Ls(i),i=Ls(h)}else n=Ls(n),i=Ls(i);n>i&&(i+=zy);var f=Math.atan2(l,o);return f<0&&(f+=zy),f>=n&&f<=i||f+zy>=n&&f+zy<=i}function Xc(e,t,r,n,i,a){if(a>t&&a>n||a<t&&a<n||n===t)return 0;var s=(a-t)/(n-t),o=n<t?1:-1;(s===1||s===0)&&(o=n<t?.5:-.5);var l=s*(r-e)+e;return l===i?1/0:l>i?o:0}var ed=wc.CMD,af=Math.PI*2,xNe=1e-4;function _Ne(e,t){return Math.abs(e-t)<xNe}var Ma=[-1,-1,-1],uo=[-1,-1];function bNe(){var e=uo[0];uo[0]=uo[1],uo[1]=e}function wNe(e,t,r,n,i,a,s,o,l,c){if(c>t&&c>n&&c>a&&c>o||c<t&&c<n&&c<a&&c<o)return 0;var u=YE(t,n,a,o,c,Ma);if(u===0)return 0;for(var h=0,f=-1,p=void 0,g=void 0,v=0;v<u;v++){var m=Ma[v],y=m===0||m===1?.5:1,x=Ti(e,r,i,s,m);x<l||(f<0&&(f=rre(t,n,a,o,uo),uo[1]<uo[0]&&f>1&&bNe(),p=Ti(t,n,a,o,uo[0]),f>1&&(g=Ti(t,n,a,o,uo[1]))),f===2?m<uo[0]?h+=p<t?y:-y:m<uo[1]?h+=g<p?y:-y:h+=o<g?y:-y:m<uo[0]?h+=p<t?y:-y:h+=o<p?y:-y)}return h}function SNe(e,t,r,n,i,a,s,o){if(o>t&&o>n&&o>a||o<t&&o<n&&o<a)return 0;var l=PEe(t,n,a,o,Ma);if(l===0)return 0;var c=ire(t,n,a);if(c>=0&&c<=1){for(var u=0,h=zi(t,n,a,c),f=0;f<l;f++){var p=Ma[f]===0||Ma[f]===1?.5:1,g=zi(e,r,i,Ma[f]);g<s||(Ma[f]<c?u+=h<t?p:-p:u+=a<h?p:-p)}return u}else{var p=Ma[0]===0||Ma[0]===1?.5:1,g=zi(e,r,i,Ma[0]);return g<s?0:a<t?p:-p}}function CNe(e,t,r,n,i,a,s,o){if(o-=t,o>r||o<-r)return 0;var l=Math.sqrt(r*r-o*o);Ma[0]=-l,Ma[1]=l;var c=Math.abs(n-i);if(c<1e-4)return 0;if(c>=af-1e-4){n=0,i=af;var u=a?1:-1;return s>=Ma[0]+e&&s<=Ma[1]+e?u:0}if(n>i){var h=n;n=i,i=h}n<0&&(n+=af,i+=af);for(var f=0,p=0;p<2;p++){var g=Ma[p];if(g+e>s){var v=Math.atan2(o,g),u=a?1:-1;v<0&&(v=af+v),(v>=n&&v<=i||v+af>=n&&v+af<=i)&&(v>Math.PI/2&&v<Math.PI*1.5&&(u=-u),f+=u)}}return f}function Bre(e,t,r,n,i){for(var a=e.data,s=e.len(),o=0,l=0,c=0,u=0,h=0,f,p,g=0;g<s;){var v=a[g++],m=g===1;switch(v===ed.M&&g>1&&(r||(o+=Xc(l,c,u,h,n,i))),m&&(l=a[g],c=a[g+1],u=l,h=c),v){case ed.M:u=a[g++],h=a[g++],l=u,c=h;break;case ed.L:if(r){if(_d(l,c,a[g],a[g+1],t,n,i))return!0}else o+=Xc(l,c,a[g],a[g+1],n,i)||0;l=a[g++],c=a[g++];break;case ed.C:if(r){if(vNe(l,c,a[g++],a[g++],a[g++],a[g++],a[g],a[g+1],t,n,i))return!0}else o+=wNe(l,c,a[g++],a[g++],a[g++],a[g++],a[g],a[g+1],n,i)||0;l=a[g++],c=a[g++];break;case ed.Q:if(r){if($re(l,c,a[g++],a[g++],a[g],a[g+1],t,n,i))return!0}else o+=SNe(l,c,a[g++],a[g++],a[g],a[g+1],n,i)||0;l=a[g++],c=a[g++];break;case ed.A:var y=a[g++],x=a[g++],_=a[g++],b=a[g++],w=a[g++],S=a[g++];g+=1;var k=!!(1-a[g++]);f=Math.cos(w)*_+y,p=Math.sin(w)*b+x,m?(u=f,h=p):o+=Xc(l,c,f,p,n,i);var C=(n-y)*b/_+y;if(r){if(yNe(y,x,b,w,w+S,k,t,C,i))return!0}else o+=CNe(y,x,b,w,w+S,k,C,i);l=Math.cos(w+S)*_+y,c=Math.sin(w+S)*b+x;break;case ed.R:u=l=a[g++],h=c=a[g++];var E=a[g++],T=a[g++];if(f=u+E,p=h+T,r){if(_d(u,h,f,h,t,n,i)||_d(f,h,f,p,t,n,i)||_d(f,p,u,p,t,n,i)||_d(u,p,u,h,t,n,i))return!0}else o+=Xc(f,h,f,p,n,i),o+=Xc(u,p,u,h,n,i);break;case ed.Z:if(r){if(_d(l,c,u,h,t,n,i))return!0}else o+=Xc(l,c,u,h,n,i);l=u,c=h;break}}return!r&&!_Ne(c,h)&&(o+=Xc(l,c,u,h,n,i)||0),o!==0}function kNe(e,t,r){return Bre(e,0,!1,t,r)}function ENe(e,t,r,n){return Bre(e,t,!0,r,n)}var eT=ut({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},cp),TNe={style:ut({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},m2.style)},iR=_c.concat(["invisible","culling","z","z2","zlevel","parent"]),er=function(e){kn(t,e);function t(r){return e.call(this,r)||this}return t.prototype.update=function(){var r=this;e.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new t;i.buildPath===t.prototype.buildPath&&(i.buildPath=function(l){r.buildPath(l,r.shape)}),i.silent=!0;var a=i.style;for(var s in n)a[s]!==n[s]&&(a[s]=n[s]);a.fill=n.fill?n.decal:null,a.decal=null,a.shadowColor=null,n.strokeFirst&&(a.stroke=null);for(var o=0;o<iR.length;++o)i[iR[o]]=this[iR[o]];i.__dirty|=hc}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(r){var n=ar(r);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<n.length;a++){var s=n[a],o=r[s];s==="style"?this.style?pe(this.style,o):this.useStyle(o):s==="shape"?pe(this.shape,o):e.prototype.attrKV.call(this,s,o)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(We(r)){var n=XE(r,0);return n>.5?GL:n>.2?cTe:qL}else if(r)return qL}return GL},t.prototype.getInsideTextStroke=function(r){var n=this.style.fill;if(We(n)){var i=this.__zr,a=!!(i&&i.isDarkMode()),s=XE(r,0)<WL;if(a===s)return n}},t.prototype.buildPath=function(r,n,i){},t.prototype.pathUpdated=function(){this.__dirty&=-5},t.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},t.prototype.createPathProxy=function(){this.path=new wc(!1)},t.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return!(n==null||n==="none"||!(r.lineWidth>0))},t.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},t.prototype.getBoundingRect=function(){var r=this._rect,n=this.style,i=!r;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var s=this.path;(a||this.__dirty&$x)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),r=s.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||i){o.copy(r);var l=n.strokeNoScale?this.getLineScale():1,c=n.lineWidth;if(!this.hasFill()){var u=this.strokeContainThreshold;c=Math.max(c,u??4)}l>1e-10&&(o.width+=c/l,o.height+=c/l,o.x-=c/l/2,o.y-=c/l/2)}return o}return r},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect(),s=this.style;if(r=i[0],n=i[1],a.contain(r,n)){var o=this.path;if(this.hasStroke()){var l=s.lineWidth,c=s.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),ENe(o,l/c,r,n)))return!0}if(this.hasFill())return kNe(o,r,n)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=$x,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(r){return this.animate("shape",r)},t.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(r,n){r==="shape"?this.setShape(n):e.prototype.attrKV.call(this,r,n)},t.prototype.setShape=function(r,n){var i=this.shape;return i||(i=this.shape={}),typeof r=="string"?i[r]=n:pe(i,r),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&$x)},t.prototype.createStyle=function(r){return c2(eT,r)},t.prototype._innerSaveToNormal=function(r){e.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.shape&&!n.shape&&(n.shape=pe({},this.shape))},t.prototype._applyStateObj=function(r,n,i,a,s,o){e.prototype._applyStateObj.call(this,r,n,i,a,s,o);var l=!(n&&a),c;if(n&&n.shape?s?a?c=n.shape:(c=pe({},i.shape),pe(c,n.shape)):(c=pe({},a?this.shape:i.shape),pe(c,n.shape)):l&&(c=i.shape),c)if(s){this.shape=pe({},this.shape);for(var u={},h=ar(c),f=0;f<h.length;f++){var p=h[f];typeof c[p]=="object"?this.shape[p]=c[p]:u[p]=c[p]}this._transitionState(r,{shape:u},o)}else this.shape=c,this.dirtyShape()},t.prototype._mergeStates=function(r){for(var n=e.prototype._mergeStates.call(this,r),i,a=0;a<r.length;a++){var s=r[a];s.shape&&(i=i||{},this._mergeStyle(i,s.shape))}return i&&(n.shape=i),n},t.prototype.getAnimationStyleProps=function(){return TNe},t.prototype.isZeroArea=function(){return!1},t.extend=function(r){var n=function(a){kn(s,a);function s(o){var l=a.call(this,o)||this;return r.init&&r.init.call(l,o),l}return s.prototype.getDefaultStyle=function(){return vt(r.style)},s.prototype.getDefaultShape=function(){return vt(r.shape)},s}(t);for(var i in r)typeof r[i]=="function"&&(n.prototype[i]=r[i]);return n},t.initDefaultProps=function(){var r=t.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=hc|Dk|$x}(),t}(Mo),NNe=ut({strokeFirst:!0,font:uh,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},eT),Ev=function(e){kn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return n!=null&&n!=="none"&&r.lineWidth>0},t.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},t.prototype.createStyle=function(r){return c2(NNe,r)},t.prototype.setBoundingRect=function(r){this._rect=r},t.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var n=r.text;n!=null?n+="":n="";var i=Bw(n,r.font,r.textAlign,r.textBaseline);if(i.x+=r.x||0,i.y+=r.y||0,this.hasStroke()){var a=r.lineWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect},t.initDefaultProps=function(){var r=t.prototype;r.dirtyRectTolerance=10}(),t}(Mo);Ev.prototype.type="tspan";var ANe=ut({x:0,y:0},cp),jNe={style:ut({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},m2.style)};function RNe(e){return!!(e&&typeof e!="string"&&e.width&&e.height)}var Wi=function(e){kn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.createStyle=function(r){return c2(ANe,r)},t.prototype._getSize=function(r){var n=this.style,i=n[r];if(i!=null)return i;var a=RNe(n.image)?n.image:this.__image;if(!a)return 0;var s=r==="width"?"height":"width",o=n[s];return o==null?a[r]:a[r]/a[s]*o},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return jNe},t.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new Bt(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},t}(Mo);Wi.prototype.type="image";function INe(e,t){var r=t.x,n=t.y,i=t.width,a=t.height,s=t.r,o,l,c,u;i<0&&(r=r+i,i=-i),a<0&&(n=n+a,a=-a),typeof s=="number"?o=l=c=u=s:s instanceof Array?s.length===1?o=l=c=u=s[0]:s.length===2?(o=c=s[0],l=u=s[1]):s.length===3?(o=s[0],l=u=s[1],c=s[2]):(o=s[0],l=s[1],c=s[2],u=s[3]):o=l=c=u=0;var h;o+l>i&&(h=o+l,o*=i/h,l*=i/h),c+u>i&&(h=c+u,c*=i/h,u*=i/h),l+c>a&&(h=l+c,l*=a/h,c*=a/h),o+u>a&&(h=o+u,o*=a/h,u*=a/h),e.moveTo(r+o,n),e.lineTo(r+i-l,n),l!==0&&e.arc(r+i-l,n+l,l,-Math.PI/2,0),e.lineTo(r+i,n+a-c),c!==0&&e.arc(r+i-c,n+a-c,c,0,Math.PI/2),e.lineTo(r+u,n+a),u!==0&&e.arc(r+u,n+a-u,u,Math.PI/2,Math.PI),e.lineTo(r,n+o),o!==0&&e.arc(r+o,n+o,o,Math.PI,Math.PI*1.5)}var Im=Math.round;function Fre(e,t,r){if(t){var n=t.x1,i=t.x2,a=t.y1,s=t.y2;e.x1=n,e.x2=i,e.y1=a,e.y2=s;var o=r&&r.lineWidth;return o&&(Im(n*2)===Im(i*2)&&(e.x1=e.x2=Gf(n,o,!0)),Im(a*2)===Im(s*2)&&(e.y1=e.y2=Gf(a,o,!0))),e}}function zre(e,t,r){if(t){var n=t.x,i=t.y,a=t.width,s=t.height;e.x=n,e.y=i,e.width=a,e.height=s;var o=r&&r.lineWidth;return o&&(e.x=Gf(n,o,!0),e.y=Gf(i,o,!0),e.width=Math.max(Gf(n+a,o,!1)-e.x,a===0?0:1),e.height=Math.max(Gf(i+s,o,!1)-e.y,s===0?0:1)),e}}function Gf(e,t,r){if(!t)return e;var n=Im(e*2);return(n+Im(t))%2===0?n/2:(n+(r?1:-1))/2}var MNe=function(){function e(){this.x=0,this.y=0,this.width=0,this.height=0}return e}(),PNe={},xr=function(e){kn(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new MNe},t.prototype.buildPath=function(r,n){var i,a,s,o;if(this.subPixelOptimize){var l=zre(PNe,n,this.style);i=l.x,a=l.y,s=l.width,o=l.height,l.r=n.r,n=l}else i=n.x,a=n.y,s=n.width,o=n.height;n.r?INe(r,n):r.rect(i,a,s,o)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(er);xr.prototype.type="rect";var cH={fill:"#000"},uH=2,LNe={style:ut({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},m2.style)},kr=function(e){kn(t,e);function t(r){var n=e.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=cH,n.attr(r),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var n=this._children[r];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},t.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):e.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(r){var n=this.innerTransformable;return n?n.getLocalTransform(r):e.prototype.getLocalTransform.call(this,r)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,$Ne(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(r){e.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=r},t.prototype.removeSelfFromZr=function(r){e.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new Bt(0,0,0,0),n=this._children,i=[],a=null,s=0;s<n.length;s++){var o=n[s],l=o.getBoundingRect(),c=o.getLocalTransform(i);c?(r.copy(l),r.applyTransform(c),a=a||r.clone(),a.union(r)):(a=a||l.clone(),a.union(l))}this._rect=a||r}return this._rect},t.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||cH},t.prototype.setTextContent=function(r){},t.prototype._mergeStyle=function(r,n){if(!n)return r;var i=n.rich,a=r.rich||i&&{};return pe(r,n),i&&a?(this._mergeRich(a,i),r.rich=a):a&&(r.rich=a),r},t.prototype._mergeRich=function(r,n){for(var i=ar(n),a=0;a<i.length;a++){var s=i[a];r[s]=r[s]||{},pe(r[s],n[s])}},t.prototype.getAnimationStyleProps=function(){return LNe},t.prototype._getOrCreateChild=function(r){var n=this._children[this._childCursor];return(!n||!(n instanceof r))&&(n=new r),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},t.prototype._updatePlainTexts=function(){var r=this.style,n=r.font||uh,i=r.padding,a=vH(r),s=aNe(a,r),o=aR(r),l=!!r.backgroundColor,c=s.outerHeight,u=s.outerWidth,h=s.contentWidth,f=s.lines,p=s.lineHeight,g=this._defaultStyle;this.isTruncated=!!s.isTruncated;var v=r.x||0,m=r.y||0,y=r.align||g.align||"left",x=r.verticalAlign||g.verticalAlign||"top",_=v,b=cm(m,s.contentHeight,x);if(o||i){var w=Fx(v,u,y),S=cm(m,c,x);o&&this._renderBackground(r,r,w,S,u,c)}b+=p/2,i&&(_=mH(v,y,i),x==="top"?b+=i[0]:x==="bottom"&&(b-=i[2]));for(var k=0,C=!1,E=gH("fill"in r?r.fill:(C=!0,g.fill)),T=pH("stroke"in r?r.stroke:!l&&(!g.autoStroke||C)?(k=uH,g.stroke):null),N=r.textShadowBlur>0,I=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll"),P=s.calculatedLineHeight,D=0;D<f.length;D++){var $=this._getOrCreateChild(Ev),L=$.createStyle();$.useStyle(L),L.text=f[D],L.x=_,L.y=b,L.textAlign=y,L.textBaseline="middle",L.opacity=r.opacity,L.strokeFirst=!0,N&&(L.shadowBlur=r.textShadowBlur||0,L.shadowColor=r.textShadowColor||"transparent",L.shadowOffsetX=r.textShadowOffsetX||0,L.shadowOffsetY=r.textShadowOffsetY||0),L.stroke=T,L.fill=E,T&&(L.lineWidth=r.lineWidth||k,L.lineDash=r.lineDash,L.lineDashOffset=r.lineDashOffset||0),L.font=n,hH(L,r),b+=p,I&&$.setBoundingRect(new Bt(Fx(L.x,h,L.textAlign),cm(L.y,P,L.textBaseline),h,P))}},t.prototype._updateRichTexts=function(){var r=this.style,n=vH(r),i=lNe(n,r),a=i.width,s=i.outerWidth,o=i.outerHeight,l=r.padding,c=r.x||0,u=r.y||0,h=this._defaultStyle,f=r.align||h.align,p=r.verticalAlign||h.verticalAlign;this.isTruncated=!!i.isTruncated;var g=Fx(c,s,f),v=cm(u,o,p),m=g,y=v;l&&(m+=l[3],y+=l[0]);var x=m+a;aR(r)&&this._renderBackground(r,r,g,v,s,o);for(var _=!!r.backgroundColor,b=0;b<i.lines.length;b++){for(var w=i.lines[b],S=w.tokens,k=S.length,C=w.lineHeight,E=w.width,T=0,N=m,I=x,P=k-1,D=void 0;T<k&&(D=S[T],!D.align||D.align==="left");)this._placeToken(D,r,C,y,N,"left",_),E-=D.width,N+=D.width,T++;for(;P>=0&&(D=S[P],D.align==="right");)this._placeToken(D,r,C,y,I,"right",_),E-=D.width,I-=D.width,P--;for(N+=(a-(N-m)-(x-I)-E)/2;T<=P;)D=S[T],this._placeToken(D,r,C,y,N+D.width/2,"center",_),N+=D.width,T++;y+=C}},t.prototype._placeToken=function(r,n,i,a,s,o,l){var c=n.rich[r.styleName]||{};c.text=r.text;var u=r.verticalAlign,h=a+i/2;u==="top"?h=a+r.height/2:u==="bottom"&&(h=a+i-r.height/2);var f=!r.isLineHolder&&aR(c);f&&this._renderBackground(c,n,o==="right"?s-r.width:o==="center"?s-r.width/2:s,h-r.height/2,r.width,r.height);var p=!!c.backgroundColor,g=r.textPadding;g&&(s=mH(s,o,g),h-=r.height/2-g[0]-r.innerHeight/2);var v=this._getOrCreateChild(Ev),m=v.createStyle();v.useStyle(m);var y=this._defaultStyle,x=!1,_=0,b=gH("fill"in c?c.fill:"fill"in n?n.fill:(x=!0,y.fill)),w=pH("stroke"in c?c.stroke:"stroke"in n?n.stroke:!p&&!l&&(!y.autoStroke||x)?(_=uH,y.stroke):null),S=c.textShadowBlur>0||n.textShadowBlur>0;m.text=r.text,m.x=s,m.y=h,S&&(m.shadowBlur=c.textShadowBlur||n.textShadowBlur||0,m.shadowColor=c.textShadowColor||n.textShadowColor||"transparent",m.shadowOffsetX=c.textShadowOffsetX||n.textShadowOffsetX||0,m.shadowOffsetY=c.textShadowOffsetY||n.textShadowOffsetY||0),m.textAlign=o,m.textBaseline="middle",m.font=r.font||uh,m.opacity=dc(c.opacity,n.opacity,1),hH(m,c),w&&(m.lineWidth=dc(c.lineWidth,n.lineWidth,_),m.lineDash=Et(c.lineDash,n.lineDash),m.lineDashOffset=n.lineDashOffset||0,m.stroke=w),b&&(m.fill=b);var k=r.contentWidth,C=r.contentHeight;v.setBoundingRect(new Bt(Fx(m.x,k,m.textAlign),cm(m.y,C,m.textBaseline),k,C))},t.prototype._renderBackground=function(r,n,i,a,s,o){var l=r.backgroundColor,c=r.borderWidth,u=r.borderColor,h=l&&l.image,f=l&&!h,p=r.borderRadius,g=this,v,m;if(f||r.lineHeight||c&&u){v=this._getOrCreateChild(xr),v.useStyle(v.createStyle()),v.style.fill=null;var y=v.shape;y.x=i,y.y=a,y.width=s,y.height=o,y.r=p,v.dirtyShape()}if(f){var x=v.style;x.fill=l||null,x.fillOpacity=Et(r.fillOpacity,1)}else if(h){m=this._getOrCreateChild(Wi),m.onload=function(){g.dirtyStyle()};var _=m.style;_.image=l.image,_.x=i,_.y=a,_.width=s,_.height=o}if(c&&u){var x=v.style;x.lineWidth=c,x.stroke=u,x.strokeOpacity=Et(r.strokeOpacity,1),x.lineDash=r.borderDash,x.lineDashOffset=r.borderDashOffset||0,v.strokeContainThreshold=0,v.hasFill()&&v.hasStroke()&&(x.strokeFirst=!0,x.lineWidth*=2)}var b=(v||m).style;b.shadowBlur=r.shadowBlur||0,b.shadowColor=r.shadowColor||"transparent",b.shadowOffsetX=r.shadowOffsetX||0,b.shadowOffsetY=r.shadowOffsetY||0,b.opacity=dc(r.opacity,n.opacity,1)},t.makeFont=function(r){var n="";return Hre(r)&&(n=[r.fontStyle,r.fontWeight,Ure(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),n&&nl(n)||r.textFont||r.font},t}(Mo),DNe={left:!0,right:1,center:1},ONe={top:1,bottom:1,middle:1},dH=["fontStyle","fontWeight","fontSize","fontFamily"];function Ure(e){return typeof e=="string"&&(e.indexOf("px")!==-1||e.indexOf("rem")!==-1||e.indexOf("em")!==-1)?e:isNaN(+e)?r4+"px":e+"px"}function hH(e,t){for(var r=0;r<dH.length;r++){var n=dH[r],i=t[n];i!=null&&(e[n]=i)}}function Hre(e){return e.fontSize!=null||e.fontFamily||e.fontWeight}function $Ne(e){return fH(e),V(e.rich,fH),e}function fH(e){if(e){e.font=kr.makeFont(e);var t=e.align;t==="middle"&&(t="center"),e.align=t==null||DNe[t]?t:"left";var r=e.verticalAlign;r==="center"&&(r="middle"),e.verticalAlign=r==null||ONe[r]?r:"top";var n=e.padding;n&&(e.padding=l4(e.padding))}}function pH(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function gH(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function mH(e,t,r){return t==="right"?e-r[1]:t==="center"?e+r[3]/2-r[1]/2:e+r[3]}function vH(e){var t=e.text;return t!=null&&(t+=""),t}function aR(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}var wt=_r(),QL=function(e,t,r,n){if(n){var i=wt(n);i.dataIndex=r,i.dataType=t,i.seriesIndex=e,i.ssrType="chart",n.type==="group"&&n.traverse(function(a){var s=wt(a);s.seriesIndex=e,s.dataIndex=r,s.dataType=t,s.ssrType="chart"})}},yH=1,xH={},Vre=_r(),b4=_r(),w4=0,zw=1,y2=2,Ga=["emphasis","blur","select"],Cb=["normal","emphasis","blur","select"],m0=10,BNe=9,up="highlight",zk="downplay",w_="select",Uk="unselect",S_="toggleSelect";function Ag(e){return e!=null&&e!=="none"}function x2(e,t,r){e.onHoverStateChange&&(e.hoverState||0)!==r&&e.onHoverStateChange(t),e.hoverState=r}function Wre(e){x2(e,"emphasis",y2)}function Gre(e){e.hoverState===y2&&x2(e,"normal",w4)}function S4(e){x2(e,"blur",zw)}function qre(e){e.hoverState===zw&&x2(e,"normal",w4)}function FNe(e){e.selected=!0}function zNe(e){e.selected=!1}function _H(e,t,r){t(e,r)}function Fu(e,t,r){_H(e,t,r),e.isGroup&&e.traverse(function(n){_H(n,t,r)})}function tT(e,t){switch(t){case"emphasis":e.hoverState=y2;break;case"normal":e.hoverState=w4;break;case"blur":e.hoverState=zw;break;case"select":e.selected=!0}}function UNe(e,t,r,n){for(var i=e.style,a={},s=0;s<t.length;s++){var o=t[s],l=i[o];a[o]=l??(n&&n[o])}for(var s=0;s<e.animators.length;s++){var c=e.animators[s];c.__fromStateTransition&&c.__fromStateTransition.indexOf(r)<0&&c.targetName==="style"&&c.saveTo(a,t)}return a}function HNe(e,t,r,n){var i=r&&Wt(r,"select")>=0,a=!1;if(e instanceof er){var s=Vre(e),o=i&&s.selectFill||s.normalFill,l=i&&s.selectStroke||s.normalStroke;if(Ag(o)||Ag(l)){n=n||{};var c=n.style||{};c.fill==="inherit"?(a=!0,n=pe({},n),c=pe({},c),c.fill=o):!Ag(c.fill)&&Ag(o)?(a=!0,n=pe({},n),c=pe({},c),c.fill=$L(o)):!Ag(c.stroke)&&Ag(l)&&(a||(n=pe({},n),c=pe({},c)),c.stroke=$L(l)),n.style=c}}if(n&&n.z2==null){a||(n=pe({},n));var u=e.z2EmphasisLift;n.z2=e.z2+(u??m0)}return n}function VNe(e,t,r){if(r&&r.z2==null){r=pe({},r);var n=e.z2SelectLift;r.z2=e.z2+(n??BNe)}return r}function WNe(e,t,r){var n=Wt(e.currentStates,t)>=0,i=e.style.opacity,a=n?null:UNe(e,["opacity"],t,{opacity:1});r=r||{};var s=r.style||{};return s.opacity==null&&(r=pe({},r),s=pe({opacity:n?i:a.opacity*.1},s),r.style=s),r}function sR(e,t){var r=this.states[e];if(this.style){if(e==="emphasis")return HNe(this,e,t,r);if(e==="blur")return WNe(this,e,r);if(e==="select")return VNe(this,e,r)}return r}function Rp(e){e.stateProxy=sR;var t=e.getTextContent(),r=e.getTextGuideLine();t&&(t.stateProxy=sR),r&&(r.stateProxy=sR)}function bH(e,t){!Zre(e,t)&&!e.__highByOuter&&Fu(e,Wre)}function wH(e,t){!Zre(e,t)&&!e.__highByOuter&&Fu(e,Gre)}function Eu(e,t){e.__highByOuter|=1<<(t||0),Fu(e,Wre)}function Tu(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&Fu(e,Gre)}function Yre(e){Fu(e,S4)}function C4(e){Fu(e,qre)}function Kre(e){Fu(e,FNe)}function Xre(e){Fu(e,zNe)}function Zre(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function Jre(e){var t=e.getModel(),r=[],n=[];t.eachComponent(function(i,a){var s=b4(a),o=i==="series",l=o?e.getViewOfSeriesModel(a):e.getViewOfComponentModel(a);!o&&n.push(l),s.isBlured&&(l.group.traverse(function(c){qre(c)}),o&&r.push(a)),s.isBlured=!1}),V(n,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(r,!1,t)})}function eD(e,t,r,n){var i=n.getModel();r=r||"coordinateSystem";function a(c,u){for(var h=0;h<u.length;h++){var f=c.getItemGraphicEl(u[h]);f&&C4(f)}}if(e!=null&&!(!t||t==="none")){var s=i.getSeriesByIndex(e),o=s.coordinateSystem;o&&o.master&&(o=o.master);var l=[];i.eachSeries(function(c){var u=s===c,h=c.coordinateSystem;h&&h.master&&(h=h.master);var f=h&&o?h===o:u;if(!(r==="series"&&!u||r==="coordinateSystem"&&!f||t==="series"&&u)){var p=n.getViewOfSeriesModel(c);if(p.group.traverse(function(m){m.__highByOuter&&u&&t==="self"||S4(m)}),_a(t))a(c.getData(),t);else if(ft(t))for(var g=ar(t),v=0;v<g.length;v++)a(c.getData(g[v]),t[g[v]]);l.push(c),b4(c).isBlured=!0}}),i.eachComponent(function(c,u){if(c!=="series"){var h=n.getViewOfComponentModel(u);h&&h.toggleBlurSeries&&h.toggleBlurSeries(l,!0,i)}})}}function tD(e,t,r){if(!(e==null||t==null)){var n=r.getModel().getComponent(e,t);if(n){b4(n).isBlured=!0;var i=r.getViewOfComponentModel(n);!i||!i.focusBlurEnabled||i.group.traverse(function(a){S4(a)})}}}function GNe(e,t,r){var n=e.seriesIndex,i=e.getData(t.dataType);if(i){var a=Ap(i,t);a=(ye(a)?a[0]:a)||0;var s=i.getItemGraphicEl(a);if(!s)for(var o=i.count(),l=0;!s&&l<o;)s=i.getItemGraphicEl(l++);if(s){var c=wt(s);eD(n,c.focus,c.blurScope,r)}else{var u=e.get(["emphasis","focus"]),h=e.get(["emphasis","blurScope"]);u!=null&&eD(n,u,h,r)}}}function k4(e,t,r,n){var i={focusSelf:!1,dispatchers:null};if(e==null||e==="series"||t==null||r==null)return i;var a=n.getModel().getComponent(e,t);if(!a)return i;var s=n.getViewOfComponentModel(a);if(!s||!s.findHighDownDispatchers)return i;for(var o=s.findHighDownDispatchers(r),l,c=0;c<o.length;c++)if(wt(o[c]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:o}}function qNe(e,t,r){var n=wt(e),i=k4(n.componentMainType,n.componentIndex,n.componentHighDownName,r),a=i.dispatchers,s=i.focusSelf;a?(s&&tD(n.componentMainType,n.componentIndex,r),V(a,function(o){return bH(o,t)})):(eD(n.seriesIndex,n.focus,n.blurScope,r),n.focus==="self"&&tD(n.componentMainType,n.componentIndex,r),bH(e,t))}function YNe(e,t,r){Jre(r);var n=wt(e),i=k4(n.componentMainType,n.componentIndex,n.componentHighDownName,r).dispatchers;i?V(i,function(a){return wH(a,t)}):wH(e,t)}function KNe(e,t,r){if(nD(t)){var n=t.dataType,i=e.getData(n),a=Ap(i,t);ye(a)||(a=[a]),e[t.type===S_?"toggleSelect":t.type===w_?"select":"unselect"](a,n)}}function SH(e){var t=e.getAllData();V(t,function(r){var n=r.data,i=r.type;n.eachItemGraphicEl(function(a,s){e.isSelected(s,i)?Kre(a):Xre(a)})})}function XNe(e){var t=[];return e.eachSeries(function(r){var n=r.getAllData();V(n,function(i){i.data;var a=i.type,s=r.getSelectedDataIndices();if(s.length>0){var o={dataIndex:s,seriesIndex:r.seriesIndex};a!=null&&(o.dataType=a),t.push(o)}})}),t}function dp(e,t,r){qf(e,!0),Fu(e,Rp),rD(e,t,r)}function ZNe(e){qf(e,!1)}function Wn(e,t,r,n){n?ZNe(e):dp(e,t,r)}function rD(e,t,r){var n=wt(e);t!=null?(n.focus=t,n.blurScope=r):n.focus&&(n.focus=null)}var CH=["emphasis","blur","select"],JNe={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function ta(e,t,r,n){r=r||"itemStyle";for(var i=0;i<CH.length;i++){var a=CH[i],s=t.getModel([a,r]),o=e.ensureState(a);o.style=n?n(s):s[JNe[r]]()}}function qf(e,t){var r=t===!1,n=e;e.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=e.highDownSilentOnTouch),(!r||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!r)}function kb(e){return!!(e&&e.__highDownDispatcher)}function QNe(e,t,r){var n=wt(e);n.componentMainType=t.mainType,n.componentIndex=t.componentIndex,n.componentHighDownName=r}function e2e(e){var t=xH[e];return t==null&&yH<=32&&(t=xH[e]=yH++),t}function nD(e){var t=e.type;return t===w_||t===Uk||t===S_}function kH(e){var t=e.type;return t===up||t===zk}function t2e(e){var t=Vre(e);t.normalFill=e.style.fill,t.normalStroke=e.style.stroke;var r=e.states.select||{};t.selectFill=r.style&&r.style.fill||null,t.selectStroke=r.style&&r.style.stroke||null}var jg=wc.CMD,r2e=[[],[],[]],EH=Math.sqrt,n2e=Math.atan2;function Qre(e,t){if(t){var r=e.data,n=e.len(),i,a,s,o,l,c,u=jg.M,h=jg.C,f=jg.L,p=jg.R,g=jg.A,v=jg.Q;for(s=0,o=0;s<n;){switch(i=r[s++],o=s,a=0,i){case u:a=1;break;case f:a=1;break;case h:a=3;break;case v:a=2;break;case g:var m=t[4],y=t[5],x=EH(t[0]*t[0]+t[1]*t[1]),_=EH(t[2]*t[2]+t[3]*t[3]),b=n2e(-t[1]/_,t[0]/x);r[s]*=x,r[s++]+=m,r[s]*=_,r[s++]+=y,r[s++]*=x,r[s++]*=_,r[s++]+=b,r[s++]+=b,s+=2,o=s;break;case p:c[0]=r[s++],c[1]=r[s++],Ji(c,c,t),r[o++]=c[0],r[o++]=c[1],c[0]+=r[s++],c[1]+=r[s++],Ji(c,c,t),r[o++]=c[0],r[o++]=c[1]}for(l=0;l<a;l++){var w=r2e[l];w[0]=r[s++],w[1]=r[s++],Ji(w,w,t),r[o++]=w[0],r[o++]=w[1]}}e.increaseVersion()}}var oR=Math.sqrt,BS=Math.sin,FS=Math.cos,Uy=Math.PI;function TH(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function iD(e,t){return(e[0]*t[0]+e[1]*t[1])/(TH(e)*TH(t))}function NH(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(iD(e,t))}function AH(e,t,r,n,i,a,s,o,l,c,u){var h=l*(Uy/180),f=FS(h)*(e-r)/2+BS(h)*(t-n)/2,p=-1*BS(h)*(e-r)/2+FS(h)*(t-n)/2,g=f*f/(s*s)+p*p/(o*o);g>1&&(s*=oR(g),o*=oR(g));var v=(i===a?-1:1)*oR((s*s*(o*o)-s*s*(p*p)-o*o*(f*f))/(s*s*(p*p)+o*o*(f*f)))||0,m=v*s*p/o,y=v*-o*f/s,x=(e+r)/2+FS(h)*m-BS(h)*y,_=(t+n)/2+BS(h)*m+FS(h)*y,b=NH([1,0],[(f-m)/s,(p-y)/o]),w=[(f-m)/s,(p-y)/o],S=[(-1*f-m)/s,(-1*p-y)/o],k=NH(w,S);if(iD(w,S)<=-1&&(k=Uy),iD(w,S)>=1&&(k=0),k<0){var C=Math.round(k/Uy*1e6)/1e6;k=Uy*2+C%2*Uy}u.addData(c,x,_,s,o,b,k,h,a)}var i2e=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,a2e=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function s2e(e){var t=new wc;if(!e)return t;var r=0,n=0,i=r,a=n,s,o=wc.CMD,l=e.match(i2e);if(!l)return t;for(var c=0;c<l.length;c++){for(var u=l[c],h=u.charAt(0),f=void 0,p=u.match(a2e)||[],g=p.length,v=0;v<g;v++)p[v]=parseFloat(p[v]);for(var m=0;m<g;){var y=void 0,x=void 0,_=void 0,b=void 0,w=void 0,S=void 0,k=void 0,C=r,E=n,T=void 0,N=void 0;switch(h){case"l":r+=p[m++],n+=p[m++],f=o.L,t.addData(f,r,n);break;case"L":r=p[m++],n=p[m++],f=o.L,t.addData(f,r,n);break;case"m":r+=p[m++],n+=p[m++],f=o.M,t.addData(f,r,n),i=r,a=n,h="l";break;case"M":r=p[m++],n=p[m++],f=o.M,t.addData(f,r,n),i=r,a=n,h="L";break;case"h":r+=p[m++],f=o.L,t.addData(f,r,n);break;case"H":r=p[m++],f=o.L,t.addData(f,r,n);break;case"v":n+=p[m++],f=o.L,t.addData(f,r,n);break;case"V":n=p[m++],f=o.L,t.addData(f,r,n);break;case"C":f=o.C,t.addData(f,p[m++],p[m++],p[m++],p[m++],p[m++],p[m++]),r=p[m-2],n=p[m-1];break;case"c":f=o.C,t.addData(f,p[m++]+r,p[m++]+n,p[m++]+r,p[m++]+n,p[m++]+r,p[m++]+n),r+=p[m-2],n+=p[m-1];break;case"S":y=r,x=n,T=t.len(),N=t.data,s===o.C&&(y+=r-N[T-4],x+=n-N[T-3]),f=o.C,C=p[m++],E=p[m++],r=p[m++],n=p[m++],t.addData(f,y,x,C,E,r,n);break;case"s":y=r,x=n,T=t.len(),N=t.data,s===o.C&&(y+=r-N[T-4],x+=n-N[T-3]),f=o.C,C=r+p[m++],E=n+p[m++],r+=p[m++],n+=p[m++],t.addData(f,y,x,C,E,r,n);break;case"Q":C=p[m++],E=p[m++],r=p[m++],n=p[m++],f=o.Q,t.addData(f,C,E,r,n);break;case"q":C=p[m++]+r,E=p[m++]+n,r+=p[m++],n+=p[m++],f=o.Q,t.addData(f,C,E,r,n);break;case"T":y=r,x=n,T=t.len(),N=t.data,s===o.Q&&(y+=r-N[T-4],x+=n-N[T-3]),r=p[m++],n=p[m++],f=o.Q,t.addData(f,y,x,r,n);break;case"t":y=r,x=n,T=t.len(),N=t.data,s===o.Q&&(y+=r-N[T-4],x+=n-N[T-3]),r+=p[m++],n+=p[m++],f=o.Q,t.addData(f,y,x,r,n);break;case"A":_=p[m++],b=p[m++],w=p[m++],S=p[m++],k=p[m++],C=r,E=n,r=p[m++],n=p[m++],f=o.A,AH(C,E,r,n,S,k,_,b,w,f,t);break;case"a":_=p[m++],b=p[m++],w=p[m++],S=p[m++],k=p[m++],C=r,E=n,r+=p[m++],n+=p[m++],f=o.A,AH(C,E,r,n,S,k,_,b,w,f,t);break}}(h==="z"||h==="Z")&&(f=o.Z,t.addData(f),r=i,n=a),s=f}return t.toStatic(),t}var ene=function(e){kn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.applyTransform=function(r){},t}(er);function tne(e){return e.setData!=null}function rne(e,t){var r=s2e(e),n=pe({},t);return n.buildPath=function(i){if(tne(i)){i.setData(r.data);var a=i.getContext();a&&i.rebuildPath(a,1)}else{var a=i;r.rebuildPath(a,1)}},n.applyTransform=function(i){Qre(r,i),this.dirtyShape()},n}function nne(e,t){return new ene(rne(e,t))}function o2e(e,t){var r=rne(e,t),n=function(i){kn(a,i);function a(s){var o=i.call(this,s)||this;return o.applyTransform=r.applyTransform,o.buildPath=r.buildPath,o}return a}(ene);return n}function l2e(e,t){for(var r=[],n=e.length,i=0;i<n;i++){var a=e[i];r.push(a.getUpdatedPathProxy(!0))}var s=new er(t);return s.createPathProxy(),s.buildPath=function(o){if(tne(o)){o.appendPath(r);var l=o.getContext();l&&o.rebuildPath(l,1)}},s}function E4(e,t){t=t||{};var r=new er;return e.shape&&r.setShape(e.shape),r.setStyle(e.style),t.bakeTransform?Qre(r.path,e.getComputedTransform()):t.toLocal?r.setLocalTransform(e.getComputedTransform()):r.copyTransform(e),r.buildPath=e.buildPath,r.applyTransform=r.applyTransform,r.z=e.z,r.z2=e.z2,r.zlevel=e.zlevel,r}var c2e=function(){function e(){this.cx=0,this.cy=0,this.r=0}return e}(),zu=function(e){kn(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new c2e},t.prototype.buildPath=function(r,n){r.moveTo(n.cx+n.r,n.cy),r.arc(n.cx,n.cy,n.r,0,Math.PI*2)},t}(er);zu.prototype.type="circle";var u2e=function(){function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return e}(),_2=function(e){kn(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new u2e},t.prototype.buildPath=function(r,n){var i=.5522848,a=n.cx,s=n.cy,o=n.rx,l=n.ry,c=o*i,u=l*i;r.moveTo(a-o,s),r.bezierCurveTo(a-o,s-u,a-c,s-l,a,s-l),r.bezierCurveTo(a+c,s-l,a+o,s-u,a+o,s),r.bezierCurveTo(a+o,s+u,a+c,s+l,a,s+l),r.bezierCurveTo(a-c,s+l,a-o,s+u,a-o,s),r.closePath()},t}(er);_2.prototype.type="ellipse";var ine=Math.PI,lR=ine*2,sf=Math.sin,Rg=Math.cos,d2e=Math.acos,ca=Math.atan2,jH=Math.abs,C_=Math.sqrt,zx=Math.max,Dl=Math.min,Vo=1e-4;function h2e(e,t,r,n,i,a,s,o){var l=r-e,c=n-t,u=s-i,h=o-a,f=h*l-u*c;if(!(f*f<Vo))return f=(u*(t-a)-h*(e-i))/f,[e+f*l,t+f*c]}function zS(e,t,r,n,i,a,s){var o=e-r,l=t-n,c=(s?a:-a)/C_(o*o+l*l),u=c*l,h=-c*o,f=e+u,p=t+h,g=r+u,v=n+h,m=(f+g)/2,y=(p+v)/2,x=g-f,_=v-p,b=x*x+_*_,w=i-a,S=f*v-g*p,k=(_<0?-1:1)*C_(zx(0,w*w*b-S*S)),C=(S*_-x*k)/b,E=(-S*x-_*k)/b,T=(S*_+x*k)/b,N=(-S*x+_*k)/b,I=C-m,P=E-y,D=T-m,$=N-y;return I*I+P*P>D*D+$*$&&(C=T,E=N),{cx:C,cy:E,x0:-u,y0:-h,x1:C*(i/w-1),y1:E*(i/w-1)}}function f2e(e){var t;if(ye(e)){var r=e.length;if(!r)return e;r===1?t=[e[0],e[0],0,0]:r===2?t=[e[0],e[0],e[1],e[1]]:r===3?t=e.concat(e[2]):t=e}else t=[e,e,e,e];return t}function p2e(e,t){var r,n=zx(t.r,0),i=zx(t.r0||0,0),a=n>0,s=i>0;if(!(!a&&!s)){if(a||(n=i,i=0),i>n){var o=n;n=i,i=o}var l=t.startAngle,c=t.endAngle;if(!(isNaN(l)||isNaN(c))){var u=t.cx,h=t.cy,f=!!t.clockwise,p=jH(c-l),g=p>lR&&p%lR;if(g>Vo&&(p=g),!(n>Vo))e.moveTo(u,h);else if(p>lR-Vo)e.moveTo(u+n*Rg(l),h+n*sf(l)),e.arc(u,h,n,l,c,!f),i>Vo&&(e.moveTo(u+i*Rg(c),h+i*sf(c)),e.arc(u,h,i,c,l,f));else{var v=void 0,m=void 0,y=void 0,x=void 0,_=void 0,b=void 0,w=void 0,S=void 0,k=void 0,C=void 0,E=void 0,T=void 0,N=void 0,I=void 0,P=void 0,D=void 0,$=n*Rg(l),L=n*sf(l),O=i*Rg(c),j=i*sf(c),M=p>Vo;if(M){var R=t.cornerRadius;R&&(r=f2e(R),v=r[0],m=r[1],y=r[2],x=r[3]);var z=jH(n-i)/2;if(_=Dl(z,y),b=Dl(z,x),w=Dl(z,v),S=Dl(z,m),E=k=zx(_,b),T=C=zx(w,S),(k>Vo||C>Vo)&&(N=n*Rg(c),I=n*sf(c),P=i*Rg(l),D=i*sf(l),p<ine)){var U=h2e($,L,P,D,N,I,O,j);if(U){var F=$-U[0],G=L-U[1],q=N-U[0],K=I-U[1],B=1/sf(d2e((F*q+G*K)/(C_(F*F+G*G)*C_(q*q+K*K)))/2),W=C_(U[0]*U[0]+U[1]*U[1]);E=Dl(k,(n-W)/(B+1)),T=Dl(C,(i-W)/(B-1))}}}if(!M)e.moveTo(u+$,h+L);else if(E>Vo){var Y=Dl(y,E),Z=Dl(x,E),Q=zS(P,D,$,L,n,Y,f),re=zS(N,I,O,j,n,Z,f);e.moveTo(u+Q.cx+Q.x0,h+Q.cy+Q.y0),E<k&&Y===Z?e.arc(u+Q.cx,h+Q.cy,E,ca(Q.y0,Q.x0),ca(re.y0,re.x0),!f):(Y>0&&e.arc(u+Q.cx,h+Q.cy,Y,ca(Q.y0,Q.x0),ca(Q.y1,Q.x1),!f),e.arc(u,h,n,ca(Q.cy+Q.y1,Q.cx+Q.x1),ca(re.cy+re.y1,re.cx+re.x1),!f),Z>0&&e.arc(u+re.cx,h+re.cy,Z,ca(re.y1,re.x1),ca(re.y0,re.x0),!f))}else e.moveTo(u+$,h+L),e.arc(u,h,n,l,c,!f);if(!(i>Vo)||!M)e.lineTo(u+O,h+j);else if(T>Vo){var Y=Dl(v,T),Z=Dl(m,T),Q=zS(O,j,N,I,i,-Z,f),re=zS($,L,P,D,i,-Y,f);e.lineTo(u+Q.cx+Q.x0,h+Q.cy+Q.y0),T<C&&Y===Z?e.arc(u+Q.cx,h+Q.cy,T,ca(Q.y0,Q.x0),ca(re.y0,re.x0),!f):(Z>0&&e.arc(u+Q.cx,h+Q.cy,Z,ca(Q.y0,Q.x0),ca(Q.y1,Q.x1),!f),e.arc(u,h,i,ca(Q.cy+Q.y1,Q.cx+Q.x1),ca(re.cy+re.y1,re.cx+re.x1),f),Y>0&&e.arc(u+re.cx,h+re.cy,Y,ca(re.y1,re.x1),ca(re.y0,re.x0),!f))}else e.lineTo(u+O,h+j),e.arc(u,h,i,c,l,f)}e.closePath()}}}var g2e=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return e}(),qa=function(e){kn(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new g2e},t.prototype.buildPath=function(r,n){p2e(r,n)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(er);qa.prototype.type="sector";var m2e=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return e}(),Uw=function(e){kn(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new m2e},t.prototype.buildPath=function(r,n){var i=n.cx,a=n.cy,s=Math.PI*2;r.moveTo(i+n.r,a),r.arc(i,a,n.r,0,s,!1),r.moveTo(i+n.r0,a),r.arc(i,a,n.r0,0,s,!0)},t}(er);Uw.prototype.type="ring";function v2e(e,t,r,n){var i=[],a=[],s=[],o=[],l,c,u,h;if(n){u=[1/0,1/0],h=[-1/0,-1/0];for(var f=0,p=e.length;f<p;f++)Md(u,u,e[f]),Pd(h,h,e[f]);Md(u,u,n[0]),Pd(h,h,n[1])}for(var f=0,p=e.length;f<p;f++){var g=e[f];if(r)l=e[f?f-1:p-1],c=e[(f+1)%p];else if(f===0||f===p-1){i.push(hu(e[f]));continue}else l=e[f-1],c=e[f+1];Wf(a,c,l),Mk(a,a,t);var v=AL(g,l),m=AL(g,c),y=v+m;y!==0&&(v/=y,m/=y),Mk(s,a,-v),Mk(o,a,m);var x=EU([],g,s),_=EU([],g,o);n&&(Pd(x,x,u),Md(x,x,h),Pd(_,_,u),Md(_,_,h)),i.push(x),i.push(_)}return r&&i.push(i.shift()),i}function ane(e,t,r){var n=t.smooth,i=t.points;if(i&&i.length>=2){if(n){var a=v2e(i,n,r,t.smoothConstraint);e.moveTo(i[0][0],i[0][1]);for(var s=i.length,o=0;o<(r?s:s-1);o++){var l=a[o*2],c=a[o*2+1],u=i[(o+1)%s];e.bezierCurveTo(l[0],l[1],c[0],c[1],u[0],u[1])}}else{e.moveTo(i[0][0],i[0][1]);for(var o=1,h=i.length;o<h;o++)e.lineTo(i[o][0],i[o][1])}r&&e.closePath()}}var y2e=function(){function e(){this.points=null,this.smooth=0,this.smoothConstraint=null}return e}(),Ya=function(e){kn(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new y2e},t.prototype.buildPath=function(r,n){ane(r,n,!0)},t}(er);Ya.prototype.type="polygon";var x2e=function(){function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return e}(),Ja=function(e){kn(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new x2e},t.prototype.buildPath=function(r,n){ane(r,n,!1)},t}(er);Ja.prototype.type="polyline";var _2e={},b2e=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}(),Ri=function(e){kn(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new b2e},t.prototype.buildPath=function(r,n){var i,a,s,o;if(this.subPixelOptimize){var l=Fre(_2e,n,this.style);i=l.x1,a=l.y1,s=l.x2,o=l.y2}else i=n.x1,a=n.y1,s=n.x2,o=n.y2;var c=n.percent;c!==0&&(r.moveTo(i,a),c<1&&(s=i*(1-c)+s*c,o=a*(1-c)+o*c),r.lineTo(s,o))},t.prototype.pointAt=function(r){var n=this.shape;return[n.x1*(1-r)+n.x2*r,n.y1*(1-r)+n.y2*r]},t}(er);Ri.prototype.type="line";var es=[],w2e=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return e}();function RH(e,t,r){var n=e.cpx2,i=e.cpy2;return n!=null||i!=null?[(r?$U:Ti)(e.x1,e.cpx1,e.cpx2,e.x2,t),(r?$U:Ti)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(r?PL:zi)(e.x1,e.cpx1,e.x2,t),(r?PL:zi)(e.y1,e.cpy1,e.y2,t)]}var Hw=function(e){kn(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new w2e},t.prototype.buildPath=function(r,n){var i=n.x1,a=n.y1,s=n.x2,o=n.y2,l=n.cpx1,c=n.cpy1,u=n.cpx2,h=n.cpy2,f=n.percent;f!==0&&(r.moveTo(i,a),u==null||h==null?(f<1&&(xb(i,l,s,f,es),l=es[1],s=es[2],xb(a,c,o,f,es),c=es[1],o=es[2]),r.quadraticCurveTo(l,c,s,o)):(f<1&&(hh(i,l,u,s,f,es),l=es[1],u=es[2],s=es[3],hh(a,c,h,o,f,es),c=es[1],h=es[2],o=es[3]),r.bezierCurveTo(l,c,u,h,s,o)))},t.prototype.pointAt=function(r){return RH(this.shape,r,!1)},t.prototype.tangentAt=function(r){var n=RH(this.shape,r,!0);return f0(n,n)},t}(er);Hw.prototype.type="bezier-curve";var S2e=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),b2=function(e){kn(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new S2e},t.prototype.buildPath=function(r,n){var i=n.cx,a=n.cy,s=Math.max(n.r,0),o=n.startAngle,l=n.endAngle,c=n.clockwise,u=Math.cos(o),h=Math.sin(o);r.moveTo(u*s+i,h*s+a),r.arc(i,a,s,o,l,!c)},t}(er);b2.prototype.type="arc";var T4=function(e){kn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="compound",r}return t.prototype._updatePathDirty=function(){for(var r=this.shape.paths,n=this.shapeChanged(),i=0;i<r.length;i++)n=n||r[i].shapeChanged();n&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],n=this.getGlobalScale(),i=0;i<r.length;i++)r[i].path||r[i].createPathProxy(),r[i].path.setScale(n[0],n[1],r[i].segmentIgnoreThreshold)},t.prototype.buildPath=function(r,n){for(var i=n.paths||[],a=0;a<i.length;a++)i[a].buildPath(r,i[a].shape,!0)},t.prototype.afterBrush=function(){for(var r=this.shape.paths||[],n=0;n<r.length;n++)r[n].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),er.prototype.getBoundingRect.call(this)},t}(er),sne=function(){function e(t){this.colorStops=t||[]}return e.prototype.addColorStop=function(t,r){this.colorStops.push({offset:t,color:r})},e}(),Vw=function(e){kn(t,e);function t(r,n,i,a,s,o){var l=e.call(this,s)||this;return l.x=r??0,l.y=n??0,l.x2=i??1,l.y2=a??0,l.type="linear",l.global=o||!1,l}return t}(sne),one=function(e){kn(t,e);function t(r,n,i,a,s){var o=e.call(this,a)||this;return o.x=r??.5,o.y=n??.5,o.r=i??.5,o.type="radial",o.global=s||!1,o}return t}(sne),of=[0,0],lf=[0,0],US=new Lt,HS=new Lt,rT=function(){function e(t,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new Lt;for(var n=0;n<2;n++)this._axes[n]=new Lt;t&&this.fromBoundingRect(t,r)}return e.prototype.fromBoundingRect=function(t,r){var n=this._corners,i=this._axes,a=t.x,s=t.y,o=a+t.width,l=s+t.height;if(n[0].set(a,s),n[1].set(o,s),n[2].set(o,l),n[3].set(a,l),r)for(var c=0;c<4;c++)n[c].transform(r);Lt.sub(i[0],n[1],n[0]),Lt.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(var c=0;c<2;c++)this._origin[c]=i[c].dot(n[0])},e.prototype.intersect=function(t,r){var n=!0,i=!r;return US.set(1/0,1/0),HS.set(0,0),!this._intersectCheckOneSide(this,t,US,HS,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(t,this,US,HS,i,-1)&&(n=!1,i)||i||Lt.copy(r,n?US:HS),n},e.prototype._intersectCheckOneSide=function(t,r,n,i,a,s){for(var o=!0,l=0;l<2;l++){var c=this._axes[l];if(this._getProjMinMaxOnAxis(l,t._corners,of),this._getProjMinMaxOnAxis(l,r._corners,lf),of[1]<lf[0]||of[0]>lf[1]){if(o=!1,a)return o;var u=Math.abs(lf[0]-of[1]),h=Math.abs(of[0]-lf[1]);Math.min(u,h)>i.len()&&(u<h?Lt.scale(i,c,-u*s):Lt.scale(i,c,h*s))}else if(n){var u=Math.abs(lf[0]-of[1]),h=Math.abs(of[0]-lf[1]);Math.min(u,h)<n.len()&&(u<h?Lt.scale(n,c,u*s):Lt.scale(n,c,-h*s))}}return o},e.prototype._getProjMinMaxOnAxis=function(t,r,n){for(var i=this._axes[t],a=this._origin,s=r[0].dot(i)+a[t],o=s,l=s,c=1;c<r.length;c++){var u=r[c].dot(i)+a[t];o=Math.min(u,o),l=Math.max(u,l)}n[0]=o,n[1]=l},e}(),C2e=[],k2e=function(e){kn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return t.prototype.traverse=function(r,n){r.call(n,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(r,n){n?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},t.prototype.addDisplayables=function(r,n){n=n||!1;for(var i=0;i<r.length;i++)this.addDisplayable(r[i],n)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(r){for(var n=this._cursor;n<this._displayables.length;n++)r&&r(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)r&&r(this._temporaryDisplayables[n])},t.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var n=this._displayables[r];n.parent=this,n.update(),n.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var n=this._temporaryDisplayables[r];n.parent=this,n.update(),n.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new Bt(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var i=this._displayables[n],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(C2e)),r.union(a)}this._rect=r}return this._rect},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var s=0;s<this._displayables.length;s++){var o=this._displayables[s];if(o.contain(r,n))return!0}return!1},t}(Mo),lne=_r();function v0(e,t,r,n,i){var a;if(t&&t.ecModel){var s=t.ecModel.getUpdatePayload();a=s&&s.animation}var o=t&&t.isAnimationEnabled(),l=e==="update";if(o){var c=void 0,u=void 0,h=void 0;n?(c=Et(n.duration,200),u=Et(n.easing,"cubicOut"),h=0):(c=t.getShallow(l?"animationDurationUpdate":"animationDuration"),u=t.getShallow(l?"animationEasingUpdate":"animationEasing"),h=t.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(c=a.duration),a.easing!=null&&(u=a.easing),a.delay!=null&&(h=a.delay)),lt(h)&&(h=h(r,i)),lt(c)&&(c=c(r));var f={duration:c||0,delay:h,easing:u};return f}else return null}function N4(e,t,r,n,i,a,s){var o=!1,l;lt(i)?(s=a,a=i,i=null):ft(i)&&(a=i.cb,s=i.during,o=i.isFrom,l=i.removeOpt,i=i.dataIndex);var c=e==="leave";c||t.stopAnimation("leave");var u=v0(e,n,i,c?l||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(t,i):null);if(u&&u.duration>0){var h=u.duration,f=u.delay,p=u.easing,g={duration:h,delay:f||0,easing:p,done:a,force:!!a||!!s,setToFinal:!c,scope:e,during:s};o?t.animateFrom(r,g):t.animateTo(r,g)}else t.stopAnimation(),!o&&t.attr(r),s&&s(1),a&&a()}function Rr(e,t,r,n,i,a){N4("update",e,t,r,n,i,a)}function Rn(e,t,r,n,i,a){N4("enter",e,t,r,n,i,a)}function ev(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++){var r=e.animators[t];if(r.scope==="leave")return!0}return!1}function fh(e,t,r,n,i,a){ev(e)||N4("leave",e,t,r,n,i,a)}function IH(e,t,r,n){e.removeTextContent(),e.removeTextGuideLine(),fh(e,{style:{opacity:0}},t,r,n)}function Eb(e,t,r){function n(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse(function(i){i.isGroup||IH(i,t,r,n)}):IH(e,t,r,n)}function gl(e){lne(e).oldStyle=e.style}function E2e(e){return lne(e).oldStyle}var nT=Math.max,iT=Math.min,aD={};function T2e(e){return er.extend(e)}var N2e=o2e;function A2e(e,t){return N2e(e,t)}function wl(e,t){aD[e]=t}function A4(e){if(aD.hasOwnProperty(e))return aD[e]}function w2(e,t,r,n){var i=nne(e,t);return r&&(n==="center"&&(r=une(r,i.getBoundingRect())),dne(i,r)),i}function cne(e,t,r){var n=new Wi({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){if(r==="center"){var a={width:i.width,height:i.height};n.setStyle(une(t,a))}}});return n}function une(e,t){var r=t.width/t.height,n=e.height*r,i;n<=e.width?i=e.height:(n=e.width,i=n/r);var a=e.x+e.width/2,s=e.y+e.height/2;return{x:a-n/2,y:s-i/2,width:n,height:i}}var wo=l2e;function dne(e,t){if(e.applyTransform){var r=e.getBoundingRect(),n=r.calculateTransform(t);e.applyTransform(n)}}function Tv(e,t){return Fre(e,e,{lineWidth:t}),e}function j2e(e){return zre(e.shape,e.shape,e.style),e}var Hk=Gf;function hp(e,t){for(var r=u2([]);e&&e!==t;)fu(r,e.getLocalTransform(),r),e=e.parent;return r}function cl(e,t,r){return t&&!_a(t)&&(t=au.getLocalTransform(t)),r&&(t=p0([],t)),Ji([],e,t)}function S2(e,t,r){var n=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),i=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),a=[e==="left"?-n:e==="right"?n:0,e==="top"?-i:e==="bottom"?i:0];return a=cl(a,t,r),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function MH(e){return!e.isGroup}function R2e(e){return e.shape!=null}function Ww(e,t,r){if(!e||!t)return;function n(s){var o={};return s.traverse(function(l){MH(l)&&l.anid&&(o[l.anid]=l)}),o}function i(s){var o={x:s.x,y:s.y,rotation:s.rotation};return R2e(s)&&(o.shape=pe({},s.shape)),o}var a=n(e);t.traverse(function(s){if(MH(s)&&s.anid){var o=a[s.anid];if(o){var l=i(s);s.attr(i(o)),Rr(s,l,r,wt(s).dataIndex)}}})}function hne(e,t){return _e(e,function(r){var n=r[0];n=nT(n,t.x),n=iT(n,t.x+t.width);var i=r[1];return i=nT(i,t.y),i=iT(i,t.y+t.height),[n,i]})}function I2e(e,t){var r=nT(e.x,t.x),n=iT(e.x+e.width,t.x+t.width),i=nT(e.y,t.y),a=iT(e.y+e.height,t.y+t.height);if(n>=r&&a>=i)return{x:r,y:i,width:n-r,height:a-i}}function Gw(e,t,r){var n=pe({rectHover:!0},t),i=n.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(i.image=e.slice(8),ut(i,r),new Wi(n)):w2(e.replace("path://",""),n,r,"center")}function Ux(e,t,r,n,i){for(var a=0,s=i[i.length-1];a<i.length;a++){var o=i[a];if(fne(e,t,r,n,o[0],o[1],s[0],s[1]))return!0;s=o}}function fne(e,t,r,n,i,a,s,o){var l=r-e,c=n-t,u=s-i,h=o-a,f=cR(u,h,l,c);if(M2e(f))return!1;var p=e-i,g=t-a,v=cR(p,g,l,c)/f;if(v<0||v>1)return!1;var m=cR(p,g,u,h)/f;return!(m<0||m>1)}function cR(e,t,r,n){return e*n-r*t}function M2e(e){return e<=1e-6&&e>=-1e-6}function Qp(e){var t=e.itemTooltipOption,r=e.componentModel,n=e.itemName,i=We(t)?{formatter:t}:t,a=r.mainType,s=r.componentIndex,o={componentType:a,name:n,$vars:["name"]};o[a+"Index"]=s;var l=e.formatterParamsExtra;l&&V(ar(l),function(u){Ze(o,u)||(o[u]=l[u],o.$vars.push(u))});var c=wt(e.el);c.componentMainType=a,c.componentIndex=s,c.tooltipConfig={name:n,option:ut({content:n,encodeHTMLContent:!0,formatterParams:o},i)}}function PH(e,t){var r;e.isGroup&&(r=t(e)),r||e.traverse(t)}function Lh(e,t){if(e)if(ye(e))for(var r=0;r<e.length;r++)PH(e[r],t);else PH(e,t)}wl("circle",zu);wl("ellipse",_2);wl("sector",qa);wl("ring",Uw);wl("polygon",Ya);wl("polyline",Ja);wl("rect",xr);wl("line",Ri);wl("bezierCurve",Hw);wl("arc",b2);const eg=Object.freeze(Object.defineProperty({__proto__:null,Arc:b2,BezierCurve:Hw,BoundingRect:Bt,Circle:zu,CompoundPath:T4,Ellipse:_2,Group:_t,Image:Wi,IncrementalDisplayable:k2e,Line:Ri,LinearGradient:Vw,OrientedBoundingRect:rT,Path:er,Point:Lt,Polygon:Ya,Polyline:Ja,RadialGradient:one,Rect:xr,Ring:Uw,Sector:qa,Text:kr,applyTransform:cl,clipPointsByRect:hne,clipRectByRect:I2e,createIcon:Gw,extendPath:A2e,extendShape:T2e,getShapeClass:A4,getTransform:hp,groupTransition:Ww,initProps:Rn,isElementRemoved:ev,lineLineIntersect:fne,linePolygonIntersect:Ux,makeImage:cne,makePath:w2,mergePath:wo,registerShape:wl,removeElement:fh,removeElementWithFadeOut:Eb,resizePath:dne,setTooltipConfig:Qp,subPixelOptimize:Hk,subPixelOptimizeLine:Tv,subPixelOptimizeRect:j2e,transformDirection:S2,traverseElements:Lh,updateProps:Rr},Symbol.toStringTag,{value:"Module"}));var C2={};function pne(e,t){for(var r=0;r<Ga.length;r++){var n=Ga[r],i=t[n],a=e.ensureState(n);a.style=a.style||{},a.style.text=i}var s=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(s,!0)}function sD(e,t,r){var n=e.labelFetcher,i=e.labelDataIndex,a=e.labelDimIndex,s=t.normal,o;n&&(o=n.getFormattedLabel(i,"normal",null,a,s&&s.get("formatter"),r!=null?{interpolatedValue:r}:null)),o==null&&(o=lt(e.defaultText)?e.defaultText(i,e,r):e.defaultText);for(var l={normal:o},c=0;c<Ga.length;c++){var u=Ga[c],h=t[u];l[u]=Et(n?n.getFormattedLabel(i,u,null,a,h&&h.get("formatter")):null,o)}return l}function ra(e,t,r,n){r=r||C2;for(var i=e instanceof kr,a=!1,s=0;s<Cb.length;s++){var o=t[Cb[s]];if(o&&o.getShallow("show")){a=!0;break}}var l=i?e:e.getTextContent();if(a){i||(l||(l=new kr,e.setTextContent(l)),e.stateProxy&&(l.stateProxy=e.stateProxy));var c=sD(r,t),u=t.normal,h=!!u.getShallow("show"),f=yn(u,n&&n.normal,r,!1,!i);f.text=c.normal,i||e.setTextConfig(aT(u,r,!1));for(var s=0;s<Ga.length;s++){var p=Ga[s],o=t[p];if(o){var g=l.ensureState(p),v=!!Et(o.getShallow("show"),h);if(v!==h&&(g.ignore=!v),g.style=yn(o,n&&n[p],r,!0,!i),g.style.text=c[p],!i){var m=e.ensureState(p);m.textConfig=aT(o,r,!0)}}}l.silent=!!u.getShallow("silent"),l.style.x!=null&&(f.x=l.style.x),l.style.y!=null&&(f.y=l.style.y),l.ignore=!h,l.useStyle(f),l.dirty(),r.enableTextSetter&&(y0(l).setLabelText=function(y){var x=sD(r,t,y);pne(l,x)})}else l&&(l.ignore=!0);e.dirty()}function Pi(e,t){t=t||"label";for(var r={normal:e.getModel(t)},n=0;n<Ga.length;n++){var i=Ga[n];r[i]=e.getModel([i,t])}return r}function yn(e,t,r,n,i){var a={};return P2e(a,e,r,n,i),t&&pe(a,t),a}function aT(e,t,r){t=t||{};var n={},i,a=e.getShallow("rotate"),s=Et(e.getShallow("distance"),r?null:5),o=e.getShallow("offset");return i=e.getShallow("position")||(r?null:"inside"),i==="outside"&&(i=t.defaultOutsidePosition||"top"),i!=null&&(n.position=i),o!=null&&(n.offset=o),a!=null&&(a*=Math.PI/180,n.rotation=a),s!=null&&(n.distance=s),n.outsideFill=e.get("color")==="inherit"?t.inheritColor||null:"auto",n}function P2e(e,t,r,n,i){r=r||C2;var a=t.ecModel,s=a&&a.option.textStyle,o=L2e(t),l;if(o){l={};for(var c in o)if(o.hasOwnProperty(c)){var u=t.getModel(["rich",c]);$H(l[c]={},u,s,r,n,i,!1,!0)}}l&&(e.rich=l);var h=t.get("overflow");h&&(e.overflow=h);var f=t.get("minMargin");f!=null&&(e.margin=f),$H(e,t,s,r,n,i,!0,!1)}function L2e(e){for(var t;e&&e!==e.ecModel;){var r=(e.option||C2).rich;if(r){t=t||{};for(var n=ar(r),i=0;i<n.length;i++){var a=n[i];t[a]=1}}e=e.parentModel}return t}var LH=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],DH=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],OH=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function $H(e,t,r,n,i,a,s,o){r=!i&&r||C2;var l=n&&n.inheritColor,c=t.getShallow("color"),u=t.getShallow("textBorderColor"),h=Et(t.getShallow("opacity"),r.opacity);(c==="inherit"||c==="auto")&&(l?c=l:c=null),(u==="inherit"||u==="auto")&&(l?u=l:u=null),a||(c=c||r.color,u=u||r.textBorderColor),c!=null&&(e.fill=c),u!=null&&(e.stroke=u);var f=Et(t.getShallow("textBorderWidth"),r.textBorderWidth);f!=null&&(e.lineWidth=f);var p=Et(t.getShallow("textBorderType"),r.textBorderType);p!=null&&(e.lineDash=p);var g=Et(t.getShallow("textBorderDashOffset"),r.textBorderDashOffset);g!=null&&(e.lineDashOffset=g),!i&&h==null&&!o&&(h=n&&n.defaultOpacity),h!=null&&(e.opacity=h),!i&&!a&&e.fill==null&&n.inheritColor&&(e.fill=n.inheritColor);for(var v=0;v<LH.length;v++){var m=LH[v],y=Et(t.getShallow(m),r[m]);y!=null&&(e[m]=y)}for(var v=0;v<DH.length;v++){var m=DH[v],y=t.getShallow(m);y!=null&&(e[m]=y)}if(e.verticalAlign==null){var x=t.getShallow("baseline");x!=null&&(e.verticalAlign=x)}if(!s||!n.disableBox){for(var v=0;v<OH.length;v++){var m=OH[v],y=t.getShallow(m);y!=null&&(e[m]=y)}var _=t.getShallow("borderType");_!=null&&(e.borderDash=_),(e.backgroundColor==="auto"||e.backgroundColor==="inherit")&&l&&(e.backgroundColor=l),(e.borderColor==="auto"||e.borderColor==="inherit")&&l&&(e.borderColor=l)}}function j4(e,t){var r=t&&t.getModel("textStyle");return nl([e.fontStyle||r&&r.getShallow("fontStyle")||"",e.fontWeight||r&&r.getShallow("fontWeight")||"",(e.fontSize||r&&r.getShallow("fontSize")||12)+"px",e.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var y0=_r();function gne(e,t,r,n){if(e){var i=y0(e);i.prevValue=i.value,i.value=r;var a=t.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=n,i.statesModels=t)}}function mne(e,t,r,n,i){var a=y0(e);if(!a.valueAnimation||a.prevValue===a.value)return;var s=a.defaultInterpolatedText,o=Et(a.interpolatedValue,a.prevValue),l=a.value;function c(u){var h=Ire(r,a.precision,o,l,u);a.interpolatedValue=u===1?null:h;var f=sD({labelDataIndex:t,labelFetcher:i,defaultText:s?s(h):h+""},a.statesModels,h);pne(e,f)}e.percent=0,(a.prevValue==null?Rn:Rr)(e,{percent:1},n,t,null,c)}var D2e=["textStyle","color"],uR=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],dR=new kr,O2e=function(){function e(){}return e.prototype.getTextColor=function(t){var r=this.ecModel;return this.getShallow("color")||(!t&&r?r.get(D2e):null)},e.prototype.getFont=function(){return j4({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(t){for(var r={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<uR.length;n++)r[uR[n]]=this.getShallow(uR[n]);return dR.useStyle(r),dR.update(),dR.getBoundingRect()},e}(),vne=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],$2e=jp(vne),B2e=function(){function e(){}return e.prototype.getLineStyle=function(t){return $2e(this,t)},e}(),yne=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],F2e=jp(yne),z2e=function(){function e(){}return e.prototype.getItemStyle=function(t,r){return F2e(this,t,r)},e}(),Vr=function(){function e(t,r,n){this.parentModel=r,this.ecModel=n,this.option=t}return e.prototype.init=function(t,r,n){},e.prototype.mergeOption=function(t,r){Pt(this.option,t,!0)},e.prototype.get=function(t,r){return t==null?this.option:this._doGet(this.parsePath(t),!r&&this.parentModel)},e.prototype.getShallow=function(t,r){var n=this.option,i=n==null?n:n[t];if(i==null&&!r){var a=this.parentModel;a&&(i=a.getShallow(t))}return i},e.prototype.getModel=function(t,r){var n=t!=null,i=n?this.parsePath(t):null,a=n?this._doGet(i):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new e(a,r,this.ecModel)},e.prototype.isEmpty=function(){return this.option==null},e.prototype.restoreData=function(){},e.prototype.clone=function(){var t=this.constructor;return new t(vt(this.option))},e.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},e.prototype.resolveParentPath=function(t){return t},e.prototype.isAnimationEnabled=function(){if(!tr.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(t,r){var n=this.option;if(!t)return n;for(var i=0;i<t.length&&!(t[i]&&(n=n&&typeof n=="object"?n[t[i]]:null,n==null));i++);return n==null&&r&&(n=r._doGet(this.resolveParentPath(t),r.parentModel)),n},e}();y4(Vr);XTe(Vr);pi(Vr,B2e);pi(Vr,z2e);pi(Vr,tNe);pi(Vr,O2e);var U2e=Math.round(Math.random()*10);function x0(e){return[e||"",U2e++].join("_")}function H2e(e){var t={};e.registerSubTypeDefaulter=function(r,n){var i=ec(r);t[i.main]=n},e.determineSubType=function(r,n){var i=n.type;if(!i){var a=ec(r).main;e.hasSubTypes(r)&&t[a]&&(i=t[a](n))}return i}}function V2e(e,t){e.topologicalTravel=function(a,s,o,l){if(!a.length)return;var c=r(s),u=c.graph,h=c.noEntryList,f={};for(V(a,function(x){f[x]=!0});h.length;){var p=h.pop(),g=u[p],v=!!f[p];v&&(o.call(l,p,g.originalDeps.slice()),delete f[p]),V(g.successor,v?y:m)}V(f,function(){var x="";throw new Error(x)});function m(x){u[x].entryCount--,u[x].entryCount===0&&h.push(x)}function y(x){f[x]=!0,m(x)}};function r(a){var s={},o=[];return V(a,function(l){var c=n(s,l),u=c.originalDeps=t(l),h=i(u,a);c.entryCount=h.length,c.entryCount===0&&o.push(l),V(h,function(f){Wt(c.predecessor,f)<0&&c.predecessor.push(f);var p=n(s,f);Wt(p.successor,f)<0&&p.successor.push(l)})}),{graph:s,noEntryList:o}}function n(a,s){return a[s]||(a[s]={predecessor:[],successor:[]}),a[s]}function i(a,s){var o=[];return V(a,function(l){Wt(s,l)>=0&&o.push(l)}),o}}function Dh(e,t){return Pt(Pt({},e,!0),t,!0)}const W2e={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},G2e={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图",custom:"自定义图表",chart:"图表"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var sT="ZH",R4="EN",tv=R4,Vk={},I4={},xne=tr.domSupported?function(){var e=(document.documentElement.lang||navigator.language||navigator.browserLanguage||tv).toUpperCase();return e.indexOf(sT)>-1?sT:tv}():tv;function _ne(e,t){e=e.toUpperCase(),I4[e]=new Vr(t),Vk[e]=t}function q2e(e){if(We(e)){var t=Vk[e.toUpperCase()]||{};return e===sT||e===R4?vt(t):Pt(vt(t),vt(Vk[tv]),!1)}else return Pt(vt(e),vt(Vk[tv]),!1)}function oD(e){return I4[e]}function Y2e(){return I4[tv]}_ne(R4,W2e);_ne(sT,G2e);var M4=1e3,P4=M4*60,k_=P4*60,So=k_*24,BH=So*365,Hx={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},VS="{yyyy}-{MM}-{dd}",FH={year:"{yyyy}",month:"{yyyy}-{MM}",day:VS,hour:VS+" "+Hx.hour,minute:VS+" "+Hx.minute,second:VS+" "+Hx.second,millisecond:Hx.none},hR=["year","month","day","hour","minute","second","millisecond"],bne=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function td(e,t){return e+="","0000".substr(0,t-e.length)+e}function rv(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function K2e(e){return e===rv(e)}function X2e(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function k2(e,t,r,n){var i=bc(e),a=i[L4(r)](),s=i[nv(r)]()+1,o=Math.floor((s-1)/3)+1,l=i[E2(r)](),c=i["get"+(r?"UTC":"")+"Day"](),u=i[Tb(r)](),h=(u-1)%12+1,f=i[T2(r)](),p=i[N2(r)](),g=i[A2(r)](),v=u>=12?"pm":"am",m=v.toUpperCase(),y=n instanceof Vr?n:oD(n||xne)||Y2e(),x=y.getModel("time"),_=x.get("month"),b=x.get("monthAbbr"),w=x.get("dayOfWeek"),S=x.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,v+"").replace(/{A}/g,m+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,td(a%100+"",2)).replace(/{Q}/g,o+"").replace(/{MMMM}/g,_[s-1]).replace(/{MMM}/g,b[s-1]).replace(/{MM}/g,td(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,td(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,w[c]).replace(/{ee}/g,S[c]).replace(/{e}/g,c+"").replace(/{HH}/g,td(u,2)).replace(/{H}/g,u+"").replace(/{hh}/g,td(h+"",2)).replace(/{h}/g,h+"").replace(/{mm}/g,td(f,2)).replace(/{m}/g,f+"").replace(/{ss}/g,td(p,2)).replace(/{s}/g,p+"").replace(/{SSS}/g,td(g,3)).replace(/{S}/g,g+"")}function Z2e(e,t,r,n,i){var a=null;if(We(r))a=r;else if(lt(r))a=r(e.value,t,{level:e.level});else{var s=pe({},Hx);if(e.level>0)for(var o=0;o<hR.length;++o)s[hR[o]]="{primary|"+s[hR[o]]+"}";var l=r?r.inherit===!1?r:ut(r,s):s,c=wne(e.value,i);if(l[c])a=l[c];else if(l.inherit){for(var u=bne.indexOf(c),o=u-1;o>=0;--o)if(l[c]){a=l[c];break}a=a||s.none}if(ye(a)){var h=e.level==null?0:e.level>=0?e.level:a.length+e.level;h=Math.min(h,a.length-1),a=a[h]}}return k2(new Date(e.value),a,i,n)}function wne(e,t){var r=bc(e),n=r[nv(t)]()+1,i=r[E2(t)](),a=r[Tb(t)](),s=r[T2(t)](),o=r[N2(t)](),l=r[A2(t)](),c=l===0,u=c&&o===0,h=u&&s===0,f=h&&a===0,p=f&&i===1,g=p&&n===1;return g?"year":p?"month":f?"day":h?"hour":u?"minute":c?"second":"millisecond"}function zH(e,t,r){var n=Nr(e)?bc(e):e;switch(t=t||wne(e,r),t){case"year":return n[L4(r)]();case"half-year":return n[nv(r)]()>=6?1:0;case"quarter":return Math.floor((n[nv(r)]()+1)/4);case"month":return n[nv(r)]();case"day":return n[E2(r)]();case"half-day":return n[Tb(r)]()/24;case"hour":return n[Tb(r)]();case"minute":return n[T2(r)]();case"second":return n[N2(r)]();case"millisecond":return n[A2(r)]()}}function L4(e){return e?"getUTCFullYear":"getFullYear"}function nv(e){return e?"getUTCMonth":"getMonth"}function E2(e){return e?"getUTCDate":"getDate"}function Tb(e){return e?"getUTCHours":"getHours"}function T2(e){return e?"getUTCMinutes":"getMinutes"}function N2(e){return e?"getUTCSeconds":"getSeconds"}function A2(e){return e?"getUTCMilliseconds":"getMilliseconds"}function J2e(e){return e?"setUTCFullYear":"setFullYear"}function Sne(e){return e?"setUTCMonth":"setMonth"}function Cne(e){return e?"setUTCDate":"setDate"}function kne(e){return e?"setUTCHours":"setHours"}function Ene(e){return e?"setUTCMinutes":"setMinutes"}function Tne(e){return e?"setUTCSeconds":"setSeconds"}function Nne(e){return e?"setUTCMilliseconds":"setMilliseconds"}function Ane(e){if(!Cre(e))return We(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function jne(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(r,n){return n.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var _0=l4;function lD(e,t,r){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(u){return u&&nl(u)?u:"-"}function a(u){return!!(u!=null&&!isNaN(u)&&isFinite(u))}var s=t==="time",o=e instanceof Date;if(s||o){var l=s?bc(e):e;if(isNaN(+l)){if(o)return"-"}else return k2(l,n,r)}if(t==="ordinal")return kL(e)?i(e):Nr(e)&&a(e)?e+"":"-";var c=ku(e);return a(c)?Ane(c):kL(e)?i(e):typeof e=="boolean"?e+"":"-"}var UH=["a","b","c","d","e","f","g"],fR=function(e,t){return"{"+e+(t??"")+"}"};function Rne(e,t,r){ye(t)||(t=[t]);var n=t.length;if(!n)return"";for(var i=t[0].$vars||[],a=0;a<i.length;a++){var s=UH[a];e=e.replace(fR(s),fR(s,0))}for(var o=0;o<n;o++)for(var l=0;l<i.length;l++){var c=t[o][i[l]];e=e.replace(fR(UH[l],o),r?La(c):c)}return e}function Q2e(e,t,r){return V(t,function(n,i){e=e.replace("{"+i+"}",n)}),e}function eAe(e,t){var r=We(e)?{color:e,extraCssText:t}:e||{},n=r.color,i=r.type;t=r.extraCssText;var a=r.renderMode||"html";if(!n)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+La(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+La(n)+";"+(t||"")+'"></span>';var s=r.markerId||"markerX";return{renderMode:a,content:"{"+s+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function Ip(e,t){return t=t||"transparent",We(e)?e:ft(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}function oT(e,t){if(t==="_blank"||t==="blank"){var r=window.open();r.opener=null,r.location.href=e}else window.open(e,t)}var Wk=V,Ine=["left","right","top","bottom","width","height"],Yf=[["width","left","right"],["height","top","bottom"]];function D4(e,t,r,n,i){var a=0,s=0;n==null&&(n=1/0),i==null&&(i=1/0);var o=0;t.eachChild(function(l,c){var u=l.getBoundingRect(),h=t.childAt(c+1),f=h&&h.getBoundingRect(),p,g;if(e==="horizontal"){var v=u.width+(f?-f.x+u.x:0);p=a+v,p>n||l.newline?(a=0,p=v,s+=o+r,o=u.height):o=Math.max(o,u.height)}else{var m=u.height+(f?-f.y+u.y:0);g=s+m,g>i||l.newline?(a+=o+r,s=0,g=m,o=u.width):o=Math.max(o,u.width)}l.newline||(l.x=a,l.y=s,l.markRedraw(),e==="horizontal"?a=p+r:s=g+r)})}var fp=D4;At(D4,"vertical");At(D4,"horizontal");function tAe(e,t,r){var n=t.width,i=t.height,a=Le(e.left,n),s=Le(e.top,i),o=Le(e.right,n),l=Le(e.bottom,i);return(isNaN(a)||isNaN(parseFloat(e.left)))&&(a=0),(isNaN(o)||isNaN(parseFloat(e.right)))&&(o=n),(isNaN(s)||isNaN(parseFloat(e.top)))&&(s=0),(isNaN(l)||isNaN(parseFloat(e.bottom)))&&(l=i),r=_0(r||0),{width:Math.max(o-a-r[1]-r[3],0),height:Math.max(l-s-r[0]-r[2],0)}}function Si(e,t,r){r=_0(r||0);var n=t.width,i=t.height,a=Le(e.left,n),s=Le(e.top,i),o=Le(e.right,n),l=Le(e.bottom,i),c=Le(e.width,n),u=Le(e.height,i),h=r[2]+r[0],f=r[1]+r[3],p=e.aspect;switch(isNaN(c)&&(c=n-o-f-a),isNaN(u)&&(u=i-l-h-s),p!=null&&(isNaN(c)&&isNaN(u)&&(p>n/i?c=n*.8:u=i*.8),isNaN(c)&&(c=p*u),isNaN(u)&&(u=c/p)),isNaN(a)&&(a=n-o-c-f),isNaN(s)&&(s=i-l-u-h),e.left||e.right){case"center":a=n/2-c/2-r[3];break;case"right":a=n-c-f;break}switch(e.top||e.bottom){case"middle":case"center":s=i/2-u/2-r[0];break;case"bottom":s=i-u-h;break}a=a||0,s=s||0,isNaN(c)&&(c=n-f-a-(o||0)),isNaN(u)&&(u=i-h-s-(l||0));var g=new Bt(a+r[3],s+r[0],c,u);return g.margin=r,g}function j2(e,t,r,n,i,a){var s=!i||!i.hv||i.hv[0],o=!i||!i.hv||i.hv[1],l=i&&i.boundingMode||"all";if(a=a||e,a.x=e.x,a.y=e.y,!s&&!o)return!1;var c;if(l==="raw")c=e.type==="group"?new Bt(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(c=e.getBoundingRect(),e.needLocalTransform()){var u=e.getLocalTransform();c=c.clone(),c.applyTransform(u)}var h=Si(ut({width:c.width,height:c.height},t),r,n),f=s?h.x-c.x:0,p=o?h.y-c.y:0;return l==="raw"?(a.x=f,a.y=p):(a.x+=f,a.y+=p),a===e&&e.markRedraw(),!0}function rAe(e,t){return e[Yf[t][0]]!=null||e[Yf[t][1]]!=null&&e[Yf[t][2]]!=null}function Nb(e){var t=e.layoutMode||e.constructor.layoutMode;return ft(t)?t:t?{type:t}:null}function ph(e,t,r){var n=r&&r.ignoreSize;!ye(n)&&(n=[n,n]);var i=s(Yf[0],0),a=s(Yf[1],1);c(Yf[0],e,i),c(Yf[1],e,a);function s(u,h){var f={},p=0,g={},v=0,m=2;if(Wk(u,function(_){g[_]=e[_]}),Wk(u,function(_){o(t,_)&&(f[_]=g[_]=t[_]),l(f,_)&&p++,l(g,_)&&v++}),n[h])return l(t,u[1])?g[u[2]]=null:l(t,u[2])&&(g[u[1]]=null),g;if(v===m||!p)return g;if(p>=m)return f;for(var y=0;y<u.length;y++){var x=u[y];if(!o(f,x)&&o(e,x)){f[x]=e[x];break}}return f}function o(u,h){return u.hasOwnProperty(h)}function l(u,h){return u[h]!=null&&u[h]!=="auto"}function c(u,h,f){Wk(u,function(p){h[p]=f[p]})}}function b0(e){return Mne({},e)}function Mne(e,t){return t&&e&&Wk(Ine,function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e}var nAe=_r(),ir=function(e){ce(t,e);function t(r,n,i){var a=e.call(this,r,n,i)||this;return a.uid=x0("ec_cpt_model"),a}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i)},t.prototype.mergeDefaultAndTheme=function(r,n){var i=Nb(this),a=i?b0(r):{},s=n.getTheme();Pt(r,s.get(this.mainType)),Pt(r,this.getDefaultOption()),i&&ph(r,a,i)},t.prototype.mergeOption=function(r,n){Pt(this.option,r,!0);var i=Nb(this);i&&ph(this.option,r,i)},t.prototype.optionUpdated=function(r,n){},t.prototype.getDefaultOption=function(){var r=this.constructor;if(!qTe(r))return r.defaultOption;var n=nAe(this);if(!n.defaultOption){for(var i=[],a=r;a;){var s=a.prototype.defaultOption;s&&i.push(s),a=a.superClass}for(var o={},l=i.length-1;l>=0;l--)o=Pt(o,i[l],!0);n.defaultOption=o}return n.defaultOption},t.prototype.getReferringComponents=function(r,n){var i=r+"Index",a=r+"Id";return Fw(this.ecModel,r,{index:this.get(i,!0),id:this.get(a,!0)},n)},t.prototype.getBoxLayoutParams=function(){var r=this;return{left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(r){this.option.zlevel=r},t.protoInitialize=function(){var r=t.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0}(),t}(Vr);Pre(ir,Vr);p2(ir);H2e(ir);V2e(ir,iAe);function iAe(e){var t=[];return V(ir.getClassesByMainType(e),function(r){t=t.concat(r.dependencies||r.prototype.dependencies||[])}),t=_e(t,function(r){return ec(r).main}),e!=="dataset"&&Wt(t,"dataset")<=0&&t.unshift("dataset"),t}var Pne="";typeof navigator<"u"&&(Pne=navigator.platform||"");var Ig="rgba(0, 0, 0, 0.2)";const aAe={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Ig,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Ig,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Ig,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Ig,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Ig,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Ig,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Pne.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var Lne=Qe(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Lo="original",ba="arrayRows",Do="objectRows",Nc="keyedColumns",th="typedArray",Dne="unknown",fc="column",w0="row",Yi={Must:1,Might:2,Not:3},One=_r();function sAe(e){One(e).datasetMap=Qe()}function $ne(e,t,r){var n={},i=$4(t);if(!i||!e)return n;var a=[],s=[],o=t.ecModel,l=One(o).datasetMap,c=i.uid+"_"+r.seriesLayoutBy,u,h;e=e.slice(),V(e,function(v,m){var y=ft(v)?v:e[m]={name:v};y.type==="ordinal"&&u==null&&(u=m,h=g(y)),n[y.name]=[]});var f=l.get(c)||l.set(c,{categoryWayDim:h,valueWayDim:0});V(e,function(v,m){var y=v.name,x=g(v);if(u==null){var _=f.valueWayDim;p(n[y],_,x),p(s,_,x),f.valueWayDim+=x}else if(u===m)p(n[y],0,x),p(a,0,x);else{var _=f.categoryWayDim;p(n[y],_,x),p(s,_,x),f.categoryWayDim+=x}});function p(v,m,y){for(var x=0;x<y;x++)v.push(m+x)}function g(v){var m=v.dimsDef;return m?m.length:1}return a.length&&(n.itemName=a),s.length&&(n.seriesName=s),n}function O4(e,t,r){var n={},i=$4(e);if(!i)return n;var a=t.sourceFormat,s=t.dimensionsDefine,o;(a===Do||a===Nc)&&V(s,function(u,h){(ft(u)?u.name:u)==="name"&&(o=h)});var l=function(){for(var u={},h={},f=[],p=0,g=Math.min(5,r);p<g;p++){var v=Fne(t.data,a,t.seriesLayoutBy,s,t.startIndex,p);f.push(v);var m=v===Yi.Not;if(m&&u.v==null&&p!==o&&(u.v=p),(u.n==null||u.n===u.v||!m&&f[u.n]===Yi.Not)&&(u.n=p),y(u)&&f[u.n]!==Yi.Not)return u;m||(v===Yi.Might&&h.v==null&&p!==o&&(h.v=p),(h.n==null||h.n===h.v)&&(h.n=p))}function y(x){return x.v!=null&&x.n!=null}return y(u)?u:y(h)?h:null}();if(l){n.value=[l.v];var c=o??l.n;n.itemName=[c],n.seriesName=[c]}return n}function $4(e){var t=e.get("data",!0);if(!t)return Fw(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},di).models[0]}function oAe(e){return!e.get("transform",!0)&&!e.get("fromTransformResult",!0)?[]:Fw(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},di).models}function Bne(e,t){return Fne(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function Fne(e,t,r,n,i,a){var s,o=5;if(bs(e))return Yi.Not;var l,c;if(n){var u=n[a];ft(u)?(l=u.name,c=u.type):We(u)&&(l=u)}if(c!=null)return c==="ordinal"?Yi.Must:Yi.Not;if(t===ba){var h=e;if(r===w0){for(var f=h[a],p=0;p<(f||[]).length&&p<o;p++)if((s=b(f[i+p]))!=null)return s}else for(var p=0;p<h.length&&p<o;p++){var g=h[i+p];if(g&&(s=b(g[a]))!=null)return s}}else if(t===Do){var v=e;if(!l)return Yi.Not;for(var p=0;p<v.length&&p<o;p++){var m=v[p];if(m&&(s=b(m[l]))!=null)return s}}else if(t===Nc){var y=e;if(!l)return Yi.Not;var f=y[l];if(!f||bs(f))return Yi.Not;for(var p=0;p<f.length&&p<o;p++)if((s=b(f[p]))!=null)return s}else if(t===Lo)for(var x=e,p=0;p<x.length&&p<o;p++){var m=x[p],_=g0(m);if(!ye(_))return Yi.Not;if((s=b(_[a]))!=null)return s}function b(w){var S=We(w);if(w!=null&&Number.isFinite(Number(w))&&w!=="")return S?Yi.Might:Yi.Not;if(S&&w!=="-")return Yi.Must}return Yi.Not}var cD=Qe();function lAe(e,t){Wa(cD.get(e)==null&&t),cD.set(e,t)}function cAe(e,t,r){var n=cD.get(t);if(!n)return r;var i=n(e);return i?r.concat(i):r}var HH=_r(),uAe=_r(),B4=function(){function e(){}return e.prototype.getColorFromPalette=function(t,r,n){var i=sn(this.get("color",!0)),a=this.get("colorLayer",!0);return zne(this,HH,i,a,t,r,n)},e.prototype.clearColorPalette=function(){hAe(this,HH)},e}();function uD(e,t,r,n){var i=sn(e.get(["aria","decal","decals"]));return zne(e,uAe,i,null,t,r,n)}function dAe(e,t){for(var r=e.length,n=0;n<r;n++)if(e[n].length>t)return e[n];return e[r-1]}function zne(e,t,r,n,i,a,s){a=a||e;var o=t(a),l=o.paletteIdx||0,c=o.paletteNameMap=o.paletteNameMap||{};if(c.hasOwnProperty(i))return c[i];var u=s==null||!n?r:dAe(n,s);if(u=u||r,!(!u||!u.length)){var h=u[l];return i&&(c[i]=h),o.paletteIdx=(l+1)%u.length,h}}function hAe(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}var WS,Hy,VH,WH="\0_ec_inner",fAe=1,F4=function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(r,n,i,a,s,o){a=a||{},this.option=null,this._theme=new Vr(a),this._locale=new Vr(s),this._optionManager=o},t.prototype.setOption=function(r,n,i){var a=YH(n);this._optionManager.setOption(r,i,a),this._resetOption(null,a)},t.prototype.resetOption=function(r,n){return this._resetOption(r,YH(n))},t.prototype._resetOption=function(r,n){var i=!1,a=this._optionManager;if(!r||r==="recreate"){var s=a.mountOption(r==="recreate");!this.option||r==="recreate"?VH(this,s):(this.restoreData(),this._mergeOption(s,n)),i=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var o=a.getTimelineOption(this);o&&(i=!0,this._mergeOption(o,n))}if(!r||r==="recreate"||r==="media"){var l=a.getMediaOption(this);l.length&&V(l,function(c){i=!0,this._mergeOption(c,n)},this)}return i},t.prototype.mergeOption=function(r){this._mergeOption(r,null)},t.prototype._mergeOption=function(r,n){var i=this.option,a=this._componentsMap,s=this._componentsCount,o=[],l=Qe(),c=n&&n.replaceMergeMainTypeMap;sAe(this),V(r,function(h,f){h!=null&&(ir.hasClass(f)?f&&(o.push(f),l.set(f,!0)):i[f]=i[f]==null?vt(h):Pt(i[f],h,!0))}),c&&c.each(function(h,f){ir.hasClass(f)&&!l.get(f)&&(o.push(f),l.set(f,!0))}),ir.topologicalTravel(o,ir.getAllClassMainTypes(),u,this);function u(h){var f=cAe(this,h,sn(r[h])),p=a.get(h),g=p?c&&c.get(h)?"replaceMerge":"normalMerge":"replaceAll",v=Are(p,f,g);$Te(v,h,ir),i[h]=null,a.set(h,null),s.set(h,0);var m=[],y=[],x=0,_;V(v,function(b,w){var S=b.existing,k=b.newOption;if(!k)S&&(S.mergeOption({},this),S.optionUpdated({},!1));else{var C=h==="series",E=ir.getClass(h,b.keyInfo.subType,!C);if(!E)return;if(h==="tooltip"){if(_)return;_=!0}if(S&&S.constructor===E)S.name=b.keyInfo.name,S.mergeOption(k,this),S.optionUpdated(k,!1);else{var T=pe({componentIndex:w},b.keyInfo);S=new E(k,this,this,T),pe(S,T),b.brandNew&&(S.__requireNewView=!0),S.init(k,this,this),S.optionUpdated(null,!0)}}S?(m.push(S.option),y.push(S),x++):(m.push(void 0),y.push(void 0))},this),i[h]=m,a.set(h,y),s.set(h,x),h==="series"&&WS(this)}this._seriesIndices||WS(this)},t.prototype.getOption=function(){var r=vt(this.option);return V(r,function(n,i){if(ir.hasClass(i)){for(var a=sn(n),s=a.length,o=!1,l=s-1;l>=0;l--)a[l]&&!Sb(a[l])?o=!0:(a[l]=null,!o&&s--);a.length=s,r[i]=a}}),delete r[WH],r},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(r){this._payload=r},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(r,n){var i=this._componentsMap.get(r);if(i){var a=i[n||0];if(a)return a;if(n==null){for(var s=0;s<i.length;s++)if(i[s])return i[s]}}},t.prototype.queryComponents=function(r){var n=r.mainType;if(!n)return[];var i=r.index,a=r.id,s=r.name,o=this._componentsMap.get(n);if(!o||!o.length)return[];var l;return i!=null?(l=[],V(sn(i),function(c){o[c]&&l.push(o[c])})):a!=null?l=GH("id",a,o):s!=null?l=GH("name",s,o):l=Br(o,function(c){return!!c}),qH(l,r)},t.prototype.findComponents=function(r){var n=r.query,i=r.mainType,a=o(n),s=a?this.queryComponents(a):Br(this._componentsMap.get(i),function(c){return!!c});return l(qH(s,r));function o(c){var u=i+"Index",h=i+"Id",f=i+"Name";return c&&(c[u]!=null||c[h]!=null||c[f]!=null)?{mainType:i,index:c[u],id:c[h],name:c[f]}:null}function l(c){return r.filter?Br(c,r.filter):c}},t.prototype.eachComponent=function(r,n,i){var a=this._componentsMap;if(lt(r)){var s=n,o=r;a.each(function(h,f){for(var p=0;h&&p<h.length;p++){var g=h[p];g&&o.call(s,f,g,g.componentIndex)}})}else for(var l=We(r)?a.get(r):ft(r)?this.findComponents(r):null,c=0;l&&c<l.length;c++){var u=l[c];u&&n.call(i,u,u.componentIndex)}},t.prototype.getSeriesByName=function(r){var n=_i(r,null);return Br(this._componentsMap.get("series"),function(i){return!!i&&n!=null&&i.name===n})},t.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},t.prototype.getSeriesByType=function(r){return Br(this._componentsMap.get("series"),function(n){return!!n&&n.subType===r})},t.prototype.getSeries=function(){return Br(this._componentsMap.get("series"),function(r){return!!r})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(r,n){Hy(this),V(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];r.call(n,a,i)},this)},t.prototype.eachRawSeries=function(r,n){V(this._componentsMap.get("series"),function(i){i&&r.call(n,i,i.componentIndex)})},t.prototype.eachSeriesByType=function(r,n,i){Hy(this),V(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];s.subType===r&&n.call(i,s,a)},this)},t.prototype.eachRawSeriesByType=function(r,n,i){return V(this.getSeriesByType(r),n,i)},t.prototype.isSeriesFiltered=function(r){return Hy(this),this._seriesIndicesMap.get(r.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(r,n){Hy(this);var i=[];V(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];r.call(n,s,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=Qe(i)},t.prototype.restoreData=function(r){WS(this);var n=this._componentsMap,i=[];n.each(function(a,s){ir.hasClass(s)&&i.push(s)}),ir.topologicalTravel(i,ir.getAllClassMainTypes(),function(a){V(n.get(a),function(s){s&&(a!=="series"||!pAe(s,r))&&s.restoreData()})})},t.internalField=function(){WS=function(r){var n=r._seriesIndices=[];V(r._componentsMap.get("series"),function(i){i&&n.push(i.componentIndex)}),r._seriesIndicesMap=Qe(n)},Hy=function(r){},VH=function(r,n){r.option={},r.option[WH]=fAe,r._componentsMap=Qe({series:[]}),r._componentsCount=Qe();var i=n.aria;ft(i)&&i.enabled==null&&(i.enabled=!0),gAe(n,r._theme.option),Pt(n,aAe,!1),r._mergeOption(n,null)}}(),t}(Vr);function pAe(e,t){if(t){var r=t.seriesIndex,n=t.seriesId,i=t.seriesName;return r!=null&&e.componentIndex!==r||n!=null&&e.id!==n||i!=null&&e.name!==i}}function gAe(e,t){var r=e.color&&!e.colorLayer;V(t,function(n,i){i==="colorLayer"&&r||ir.hasClass(i)||(typeof n=="object"?e[i]=e[i]?Pt(e[i],n,!1):vt(n):e[i]==null&&(e[i]=n))})}function GH(e,t,r){if(ye(t)){var n=Qe();return V(t,function(a){if(a!=null){var s=_i(a,null);s!=null&&n.set(a,!0)}}),Br(r,function(a){return a&&n.get(a[e])})}else{var i=_i(t,null);return Br(r,function(a){return a&&i!=null&&a[e]===i})}}function qH(e,t){return t.hasOwnProperty("subType")?Br(e,function(r){return r&&r.subType===t.subType}):e}function YH(e){var t=Qe();return e&&V(sn(e.replaceMerge),function(r){t.set(r,!0)}),{replaceMergeMainTypeMap:t}}pi(F4,B4);var mAe=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],Une=function(){function e(t){V(mAe,function(r){this[r]=Ke(t[r],t)},this)}return e}(),pR={},qw=function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(t,r){var n=[];V(pR,function(i,a){var s=i.create(t,r);n=n.concat(s||[])}),this._coordinateSystems=n},e.prototype.update=function(t,r){V(this._coordinateSystems,function(n){n.update&&n.update(t,r)})},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(t,r){pR[t]=r},e.get=function(t){return pR[t]},e}(),vAe=/^(min|max)?(.+)$/,yAe=function(){function e(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return e.prototype.setOption=function(t,r,n){t&&(V(sn(t.series),function(s){s&&s.data&&bs(s.data)&&GE(s.data)}),V(sn(t.dataset),function(s){s&&s.source&&bs(s.source)&&GE(s.source)})),t=vt(t);var i=this._optionBackup,a=xAe(t,r,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},e.prototype.mountOption=function(t){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],vt(t?r.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(t){var r,n=this._timelineOptions;if(n.length){var i=t.getComponent("timeline");i&&(r=vt(n[i.getCurrentIndex()]))}return r},e.prototype.getMediaOption=function(t){var r=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,s=[],o=[];if(!i.length&&!a)return o;for(var l=0,c=i.length;l<c;l++)_Ae(i[l].query,r,n)&&s.push(l);return!s.length&&a&&(s=[-1]),s.length&&!wAe(s,this._currentMediaIndices)&&(o=_e(s,function(u){return vt(u===-1?a.option:i[u].option)})),this._currentMediaIndices=s,o},e}();function xAe(e,t,r){var n=[],i,a,s=e.baseOption,o=e.timeline,l=e.options,c=e.media,u=!!e.media,h=!!(l||o||s&&s.timeline);s?(a=s,a.timeline||(a.timeline=o)):((h||u)&&(e.options=e.media=null),a=e),u&&ye(c)&&V(c,function(p){p&&p.option&&(p.query?n.push(p):i||(i=p))}),f(a),V(l,function(p){return f(p)}),V(n,function(p){return f(p.option)});function f(p){V(t,function(g){g(p,r)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:i,mediaList:n}}function _Ae(e,t,r){var n={width:t,height:r,aspectratio:t/r},i=!0;return V(e,function(a,s){var o=s.match(vAe);if(!(!o||!o[1]||!o[2])){var l=o[1],c=o[2].toLowerCase();bAe(n[c],a,l)||(i=!1)}}),i}function bAe(e,t,r){return r==="min"?e>=t:r==="max"?e<=t:e===t}function wAe(e,t){return e.join(",")===t.join(",")}var Fo=V,Ab=ft,KH=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function gR(e){var t=e&&e.itemStyle;if(t)for(var r=0,n=KH.length;r<n;r++){var i=KH[r],a=t.normal,s=t.emphasis;a&&a[i]&&(e[i]=e[i]||{},e[i].normal?Pt(e[i].normal,a[i]):e[i].normal=a[i],a[i]=null),s&&s[i]&&(e[i]=e[i]||{},e[i].emphasis?Pt(e[i].emphasis,s[i]):e[i].emphasis=s[i],s[i]=null)}}function ha(e,t,r){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var n=e[t].normal,i=e[t].emphasis;n&&(r?(e[t].normal=e[t].emphasis=null,ut(e[t],n)):e[t]=n),i&&(e.emphasis=e.emphasis||{},e.emphasis[t]=i,i.focus&&(e.emphasis.focus=i.focus),i.blurScope&&(e.emphasis.blurScope=i.blurScope))}}function Vx(e){ha(e,"itemStyle"),ha(e,"lineStyle"),ha(e,"areaStyle"),ha(e,"label"),ha(e,"labelLine"),ha(e,"upperLabel"),ha(e,"edgeLabel")}function oi(e,t){var r=Ab(e)&&e[t],n=Ab(r)&&r.textStyle;if(n)for(var i=0,a=tH.length;i<a;i++){var s=tH[i];n.hasOwnProperty(s)&&(r[s]=n[s])}}function co(e){e&&(Vx(e),oi(e,"label"),e.emphasis&&oi(e.emphasis,"label"))}function SAe(e){if(Ab(e)){gR(e),Vx(e),oi(e,"label"),oi(e,"upperLabel"),oi(e,"edgeLabel"),e.emphasis&&(oi(e.emphasis,"label"),oi(e.emphasis,"upperLabel"),oi(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(gR(t),co(t));var r=e.markLine;r&&(gR(r),co(r));var n=e.markArea;n&&co(n);var i=e.data;if(e.type==="graph"){i=i||e.nodes;var a=e.links||e.edges;if(a&&!bs(a))for(var s=0;s<a.length;s++)co(a[s]);V(e.categories,function(c){Vx(c)})}if(i&&!bs(i))for(var s=0;s<i.length;s++)co(i[s]);if(t=e.markPoint,t&&t.data)for(var o=t.data,s=0;s<o.length;s++)co(o[s]);if(r=e.markLine,r&&r.data)for(var l=r.data,s=0;s<l.length;s++)ye(l[s])?(co(l[s][0]),co(l[s][1])):co(l[s]);e.type==="gauge"?(oi(e,"axisLabel"),oi(e,"title"),oi(e,"detail")):e.type==="treemap"?(ha(e.breadcrumb,"itemStyle"),V(e.levels,function(c){Vx(c)})):e.type==="tree"&&Vx(e.leaves)}}function zc(e){return ye(e)?e:e?[e]:[]}function XH(e){return(ye(e)?e[0]:e)||{}}function CAe(e,t){Fo(zc(e.series),function(n){Ab(n)&&SAe(n)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),Fo(r,function(n){Fo(zc(e[n]),function(i){i&&(oi(i,"axisLabel"),oi(i.axisPointer,"label"))})}),Fo(zc(e.parallel),function(n){var i=n&&n.parallelAxisDefault;oi(i,"axisLabel"),oi(i&&i.axisPointer,"label")}),Fo(zc(e.calendar),function(n){ha(n,"itemStyle"),oi(n,"dayLabel"),oi(n,"monthLabel"),oi(n,"yearLabel")}),Fo(zc(e.radar),function(n){oi(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),Fo(zc(e.geo),function(n){Ab(n)&&(co(n),Fo(zc(n.regions),function(i){co(i)}))}),Fo(zc(e.timeline),function(n){co(n),ha(n,"label"),ha(n,"itemStyle"),ha(n,"controlStyle",!0);var i=n.data;ye(i)&&V(i,function(a){ft(a)&&(ha(a,"label"),ha(a,"itemStyle"))})}),Fo(zc(e.toolbox),function(n){ha(n,"iconStyle"),Fo(n.feature,function(i){ha(i,"iconStyle")})}),oi(XH(e.axisPointer),"label"),oi(XH(e.tooltip).axisPointer,"label")}function kAe(e,t){for(var r=t.split(","),n=e,i=0;i<r.length&&(n=n&&n[r[i]],n!=null);i++);return n}function EAe(e,t,r,n){for(var i=t.split(","),a=e,s,o=0;o<i.length-1;o++)s=i[o],a[s]==null&&(a[s]={}),a=a[s];a[i[o]]==null&&(a[i[o]]=r)}function ZH(e){e&&V(TAe,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var TAe=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],NAe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],mR=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Vy(e){var t=e&&e.itemStyle;if(t)for(var r=0;r<mR.length;r++){var n=mR[r][1],i=mR[r][0];t[n]!=null&&(t[i]=t[n])}}function JH(e){e&&e.alignTo==="edge"&&e.margin!=null&&e.edgeDistance==null&&(e.edgeDistance=e.margin)}function QH(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function AAe(e){e&&e.focusNodeAdjacency!=null&&(e.emphasis=e.emphasis||{},e.emphasis.focus==null&&(e.emphasis.focus="adjacency"))}function Hne(e,t){if(e)for(var r=0;r<e.length;r++)t(e[r]),e[r]&&Hne(e[r].children,t)}function Vne(e,t){CAe(e,t),e.series=sn(e.series),V(e.series,function(r){if(ft(r)){var n=r.type;if(n==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(n==="pie"||n==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise),JH(r.label);var i=r.data;if(i&&!bs(i))for(var a=0;a<i.length;a++)JH(i[a]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(r.emphasis.scaleSize=r.hoverOffset))}else if(n==="gauge"){var s=kAe(r,"pointer.color");s!=null&&EAe(r,"itemStyle.color",s)}else if(n==="bar"){Vy(r),Vy(r.backgroundStyle),Vy(r.emphasis);var i=r.data;if(i&&!bs(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(Vy(i[a]),Vy(i[a]&&i[a].emphasis))}else if(n==="sunburst"){var o=r.highlightPolicy;o&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=o)),QH(r),Hne(r.data,QH)}else n==="graph"||n==="sankey"?AAe(r):n==="map"&&(r.mapType&&!r.map&&(r.map=r.mapType),r.mapLocation&&ut(r,r.mapLocation));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(r.emphasis.scale=r.hoverAnimation)),ZH(r)}}),e.dataRange&&(e.visualMap=e.dataRange),V(NAe,function(r){var n=e[r];n&&(ye(n)||(n=[n]),V(n,function(i){ZH(i)}))})}function jAe(e){var t=Qe();e.eachSeries(function(r){var n=r.get("stack");if(n){var i=t.get(n)||t.set(n,[]),a=r.getData(),s={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:r};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(s)}}),t.each(RAe)}function RAe(e){V(e,function(t,r){var n=[],i=[NaN,NaN],a=[t.stackResultDimension,t.stackedOverDimension],s=t.data,o=t.isStackedByIndex,l=t.seriesModel.get("stackStrategy")||"samesign";s.modify(a,function(c,u,h){var f=s.get(t.stackedDimension,h);if(isNaN(f))return i;var p,g;o?g=s.getRawIndex(h):p=s.get(t.stackedByDimension,h);for(var v=NaN,m=r-1;m>=0;m--){var y=e[m];if(o||(g=y.data.rawIndexOf(y.stackedByDimension,p)),g>=0){var x=y.data.getByRawIndex(y.stackResultDimension,g);if(l==="all"||l==="positive"&&x>0||l==="negative"&&x<0||l==="samesign"&&f>=0&&x>0||l==="samesign"&&f<=0&&x<0){f=TTe(f,x),v=x;break}}}return n[0]=f,n[1]=v,n})})}var R2=function(){function e(t){this.data=t.data||(t.sourceFormat===Nc?{}:[]),this.sourceFormat=t.sourceFormat||Dne,this.seriesLayoutBy=t.seriesLayoutBy||fc,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var r=this.dimensionsDefine=t.dimensionsDefine;if(r)for(var n=0;n<r.length;n++){var i=r[n];i.type==null&&Bne(this,n)===Yi.Must&&(i.type="ordinal")}}return e}();function z4(e){return e instanceof R2}function dD(e,t,r){r=r||Wne(e);var n=t.seriesLayoutBy,i=MAe(e,r,n,t.sourceHeader,t.dimensions),a=new R2({data:e,sourceFormat:r,seriesLayoutBy:n,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:vt(t)});return a}function U4(e){return new R2({data:e,sourceFormat:bs(e)?th:Lo})}function IAe(e){return new R2({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:vt(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount})}function Wne(e){var t=Dne;if(bs(e))t=th;else if(ye(e)){e.length===0&&(t=ba);for(var r=0,n=e.length;r<n;r++){var i=e[r];if(i!=null){if(ye(i)||bs(i)){t=ba;break}else if(ft(i)){t=Do;break}}}}else if(ft(e)){for(var a in e)if(Ze(e,a)&&_a(e[a])){t=Nc;break}}return t}function MAe(e,t,r,n,i){var a,s;if(!e)return{dimensionsDefine:e9(i),startIndex:s,dimensionsDetectedCount:a};if(t===ba){var o=e;n==="auto"||n==null?t9(function(c){c!=null&&c!=="-"&&(We(c)?s==null&&(s=1):s=0)},r,o,10):s=Nr(n)?n:n?1:0,!i&&s===1&&(i=[],t9(function(c,u){i[u]=c!=null?c+"":""},r,o,1/0)),a=i?i.length:r===w0?o.length:o[0]?o[0].length:null}else if(t===Do)i||(i=PAe(e));else if(t===Nc)i||(i=[],V(e,function(c,u){i.push(u)}));else if(t===Lo){var l=g0(e[0]);a=ye(l)&&l.length||1}return{startIndex:s,dimensionsDefine:e9(i),dimensionsDetectedCount:a}}function PAe(e){for(var t=0,r;t<e.length&&!(r=e[t++]););if(r)return ar(r)}function e9(e){if(e){var t=Qe();return _e(e,function(r,n){r=ft(r)?r:{name:r};var i={name:r.name,displayName:r.displayName,type:r.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=t.get(i.name);return a?i.name+="-"+a.count++:t.set(i.name,{count:1}),i})}}function t9(e,t,r,n){if(t===w0)for(var i=0;i<r.length&&i<n;i++)e(r[i]?r[i][0]:null,i);else for(var a=r[0]||[],i=0;i<a.length&&i<n;i++)e(a[i],i)}function Gne(e){var t=e.sourceFormat;return t===Do||t===Nc}var cf,uf,df,r9,n9,qne=function(){function e(t,r){var n=z4(t)?t:U4(t);this._source=n;var i=this._data=n.data;n.sourceFormat===th&&(this._offset=0,this._dimSize=r,this._data=i),n9(this,i,n)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(t,r){},e.prototype.appendData=function(t){},e.prototype.clean=function(){},e.protoInitialize=function(){var t=e.prototype;t.pure=!1,t.persistent=!0}(),e.internalField=function(){var t;n9=function(s,o,l){var c=l.sourceFormat,u=l.seriesLayoutBy,h=l.startIndex,f=l.dimensionsDefine,p=r9[H4(c,u)];if(pe(s,p),c===th)s.getItem=r,s.count=i,s.fillStorage=n;else{var g=Yne(c,u);s.getItem=Ke(g,null,o,h,f);var v=Kne(c,u);s.count=Ke(v,null,o,h,f)}};var r=function(s,o){s=s-this._offset,o=o||[];for(var l=this._data,c=this._dimSize,u=c*s,h=0;h<c;h++)o[h]=l[u+h];return o},n=function(s,o,l,c){for(var u=this._data,h=this._dimSize,f=0;f<h;f++){for(var p=c[f],g=p[0]==null?1/0:p[0],v=p[1]==null?-1/0:p[1],m=o-s,y=l[f],x=0;x<m;x++){var _=u[x*h+f];y[s+x]=_,_<g&&(g=_),_>v&&(v=_)}p[0]=g,p[1]=v}},i=function(){return this._data?this._data.length/this._dimSize:0};r9=(t={},t[ba+"_"+fc]={pure:!0,appendData:a},t[ba+"_"+w0]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[Do]={pure:!0,appendData:a},t[Nc]={pure:!0,appendData:function(s){var o=this._data;V(s,function(l,c){for(var u=o[c]||(o[c]=[]),h=0;h<(l||[]).length;h++)u.push(l[h])})}},t[Lo]={appendData:a},t[th]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},t);function a(s){for(var o=0;o<s.length;o++)this._data.push(s[o])}}(),e}(),i9=function(e,t,r,n){return e[n]},LAe=(cf={},cf[ba+"_"+fc]=function(e,t,r,n){return e[n+t]},cf[ba+"_"+w0]=function(e,t,r,n,i){n+=t;for(var a=i||[],s=e,o=0;o<s.length;o++){var l=s[o];a[o]=l?l[n]:null}return a},cf[Do]=i9,cf[Nc]=function(e,t,r,n,i){for(var a=i||[],s=0;s<r.length;s++){var o=r[s].name,l=e[o];a[s]=l?l[n]:null}return a},cf[Lo]=i9,cf);function Yne(e,t){var r=LAe[H4(e,t)];return r}var a9=function(e,t,r){return e.length},DAe=(uf={},uf[ba+"_"+fc]=function(e,t,r){return Math.max(0,e.length-t)},uf[ba+"_"+w0]=function(e,t,r){var n=e[0];return n?Math.max(0,n.length-t):0},uf[Do]=a9,uf[Nc]=function(e,t,r){var n=r[0].name,i=e[n];return i?i.length:0},uf[Lo]=a9,uf);function Kne(e,t){var r=DAe[H4(e,t)];return r}var vR=function(e,t,r){return e[t]},OAe=(df={},df[ba]=vR,df[Do]=function(e,t,r){return e[r]},df[Nc]=vR,df[Lo]=function(e,t,r){var n=g0(e);return n instanceof Array?n[t]:n},df[th]=vR,df);function Xne(e){var t=OAe[e];return t}function H4(e,t){return e===ba?e+"_"+t:e}function Nv(e,t,r){if(e){var n=e.getRawDataItem(t);if(n!=null){var i=e.getStore(),a=i.getSource().sourceFormat;if(r!=null){var s=e.getDimensionIndex(r),o=i.getDimensionProperty(s);return Xne(a)(n,s,o)}else{var l=n;return a===Lo&&(l=g0(n)),l}}}}var $Ae=/\{@(.+?)\}/g,I2=function(){function e(){}return e.prototype.getDataParams=function(t,r){var n=this.getData(r),i=this.getRawValue(t,r),a=n.getRawIndex(t),s=n.getName(t),o=n.getRawDataItem(t),l=n.getItemVisual(t,"style"),c=l&&l[n.getItemVisual(t,"drawType")||"fill"],u=l&&l.stroke,h=this.mainType,f=h==="series",p=n.userOutput&&n.userOutput.get();return{componentType:h,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:s,dataIndex:a,data:o,dataType:r,value:i,color:c,borderColor:u,dimensionNames:p?p.fullDimensions:null,encode:p?p.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(t,r,n,i,a,s){r=r||"normal";var o=this.getData(n),l=this.getDataParams(t,n);if(s&&(l.value=s.interpolatedValue),i!=null&&ye(l.value)&&(l.value=l.value[i]),!a){var c=o.getItemModel(t);a=c.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(lt(a))return l.status=r,l.dimensionIndex=i,a(l);if(We(a)){var u=Rne(a,l);return u.replace($Ae,function(h,f){var p=f.length,g=f;g.charAt(0)==="["&&g.charAt(p-1)==="]"&&(g=+g.slice(1,p-1));var v=Nv(o,t,g);if(s&&ye(s.interpolatedValue)){var m=o.getDimensionIndex(g);m>=0&&(v=s.interpolatedValue[m])}return v!=null?v+"":""})}},e.prototype.getRawValue=function(t,r){return Nv(this.getData(r),t)},e.prototype.formatTooltip=function(t,r,n){},e}();function s9(e){var t,r;return ft(e)?e.type&&(r=e):t=e,{text:t,frag:r}}function E_(e){return new BAe(e)}var BAe=function(){function e(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return e.prototype.perform=function(t){var r=this._upstream,n=t&&t.skip;if(this._dirty&&r){var i=this.context;i.data=i.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!n&&(a=this._plan(this.context));var s=u(this._modBy),o=this._modDataCount||0,l=u(t&&t.modBy),c=t&&t.modDataCount||0;(s!==l||o!==c)&&(a="reset");function u(x){return!(x>=1)&&(x=1),x}var h;(this._dirty||a==="reset")&&(this._dirty=!1,h=this._doReset(n)),this._modBy=l,this._modDataCount=c;var f=t&&t.step;if(r?this._dueEnd=r._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var p=this._dueIndex,g=Math.min(f!=null?this._dueIndex+f:1/0,this._dueEnd);if(!n&&(h||p<g)){var v=this._progress;if(ye(v))for(var m=0;m<v.length;m++)this._doProgress(v[m],p,g,l,c);else this._doProgress(v,p,g,l,c)}this._dueIndex=g;var y=this._settedOutputEnd!=null?this._settedOutputEnd:g;this._outputDueEnd=y}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(t,r,n,i,a){o9.reset(r,n,i,a),this._callingProgress=t,this._callingProgress({start:r,end:n,count:n-r,next:o9.next},this.context)},e.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,n;!t&&this._reset&&(r=this._reset(this.context),r&&r.progress&&(n=r.forceFirstProgress,r=r.progress),ye(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},e}(),o9=function(){var e,t,r,n,i,a={reset:function(l,c,u,h){t=l,e=c,r=u,n=h,i=Math.ceil(n/r),a.next=r>1&&n>0?o:s}};return a;function s(){return t<e?t++:null}function o(){var l=t%i*r+Math.ceil(t/i),c=t>=e?null:l<n?l:t;return t++,c}}();function rh(e,t){var r=t&&t.type;return r==="ordinal"?e:(r==="time"&&!Nr(e)&&e!=null&&e!=="-"&&(e=+bc(e)),e==null||e===""?NaN:Number(e))}var FAe=Qe({number:function(e){return parseFloat(e)},time:function(e){return+bc(e)},trim:function(e){return We(e)?nl(e):e}});function Zne(e){return FAe.get(e)}var Jne={lt:function(e,t){return e<t},lte:function(e,t){return e<=t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t}},zAe=function(){function e(t,r){if(!Nr(r)){var n="";$r(n)}this._opFn=Jne[t],this._rvalFloat=ku(r)}return e.prototype.evaluate=function(t){return Nr(t)?this._opFn(t,this._rvalFloat):this._opFn(ku(t),this._rvalFloat)},e}(),Qne=function(){function e(t,r){var n=t==="desc";this._resultLT=n?1:-1,r==null&&(r=n?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return e.prototype.evaluate=function(t,r){var n=Nr(t)?t:ku(t),i=Nr(r)?r:ku(r),a=isNaN(n),s=isNaN(i);if(a&&(n=this._incomparable),s&&(i=this._incomparable),a&&s){var o=We(t),l=We(r);o&&(n=l?t:0),l&&(i=o?r:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},e}(),UAe=function(){function e(t,r){this._rval=r,this._isEQ=t,this._rvalTypeof=typeof r,this._rvalFloat=ku(r)}return e.prototype.evaluate=function(t){var r=t===this._rval;if(!r){var n=typeof t;n!==this._rvalTypeof&&(n==="number"||this._rvalTypeof==="number")&&(r=ku(t)===this._rvalFloat)}return this._isEQ?r:!r},e}();function HAe(e,t){return e==="eq"||e==="ne"?new UAe(e==="eq",t):Ze(Jne,e)?new zAe(e,t):null}var VAe=function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(t){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(t){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(t,r){},e.prototype.retrieveValueFromItem=function(t,r){},e.prototype.convertValue=function(t,r){return rh(t,r)},e}();function WAe(e,t){var r=new VAe,n=e.data,i=r.sourceFormat=e.sourceFormat,a=e.startIndex,s="";e.seriesLayoutBy!==fc&&$r(s);var o=[],l={},c=e.dimensionsDefine;if(c)V(c,function(v,m){var y=v.name,x={index:m,name:y,displayName:v.displayName};if(o.push(x),y!=null){var _="";Ze(l,y)&&$r(_),l[y]=x}});else for(var u=0;u<e.dimensionsDetectedCount;u++)o.push({index:u});var h=Yne(i,fc);t.__isBuiltIn&&(r.getRawDataItem=function(v){return h(n,a,o,v)},r.getRawData=Ke(GAe,null,e)),r.cloneRawData=Ke(qAe,null,e);var f=Kne(i,fc);r.count=Ke(f,null,n,a,o);var p=Xne(i);r.retrieveValue=function(v,m){var y=h(n,a,o,v);return g(y,m)};var g=r.retrieveValueFromItem=function(v,m){if(v!=null){var y=o[m];if(y)return p(v,m,y.name)}};return r.getDimensionInfo=Ke(YAe,null,o,l),r.cloneAllDimensionInfo=Ke(KAe,null,o),r}function GAe(e){var t=e.sourceFormat;if(!V4(t)){var r="";$r(r)}return e.data}function qAe(e){var t=e.sourceFormat,r=e.data;if(!V4(t)){var n="";$r(n)}if(t===ba){for(var i=[],a=0,s=r.length;a<s;a++)i.push(r[a].slice());return i}else if(t===Do){for(var i=[],a=0,s=r.length;a<s;a++)i.push(pe({},r[a]));return i}}function YAe(e,t,r){if(r!=null){if(Nr(r)||!isNaN(r)&&!Ze(t,r))return e[r];if(Ze(t,r))return t[r]}}function KAe(e){return vt(e)}var eie=Qe();function XAe(e){e=vt(e);var t=e.type,r="";t||$r(r);var n=t.split(":");n.length!==2&&$r(r);var i=!1;n[0]==="echarts"&&(t=n[1],i=!0),e.__isBuiltIn=i,eie.set(t,e)}function ZAe(e,t,r){var n=sn(e),i=n.length,a="";i||$r(a);for(var s=0,o=i;s<o;s++){var l=n[s];t=JAe(l,t),s!==o-1&&(t.length=Math.max(t.length,1))}return t}function JAe(e,t,r,n){var i="";t.length||$r(i),ft(e)||$r(i);var a=e.type,s=eie.get(a);s||$r(i);var o=_e(t,function(c){return WAe(c,s)}),l=sn(s.transform({upstream:o[0],upstreamList:o,config:vt(e.config)}));return _e(l,function(c,u){var h="";ft(c)||$r(h),c.data||$r(h);var f=Wne(c.data);V4(f)||$r(h);var p,g=t[0];if(g&&u===0&&!c.dimensions){var v=g.startIndex;v&&(c.data=g.data.slice(0,v).concat(c.data)),p={seriesLayoutBy:fc,sourceHeader:v,dimensions:g.metaRawOption.dimensions}}else p={seriesLayoutBy:fc,sourceHeader:0,dimensions:c.dimensions};return dD(c.data,p,null)})}function V4(e){return e===ba||e===Do}var M2="undefined",QAe=typeof Uint32Array===M2?Array:Uint32Array,eje=typeof Uint16Array===M2?Array:Uint16Array,tie=typeof Int32Array===M2?Array:Int32Array,l9=typeof Float64Array===M2?Array:Float64Array,rie={float:l9,int:tie,ordinal:Array,number:Array,time:l9},yR;function Mg(e){return e>65535?QAe:eje}function Pg(){return[1/0,-1/0]}function tje(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function c9(e,t,r,n,i){var a=rie[r||"float"];if(i){var s=e[t],o=s&&s.length;if(o!==n){for(var l=new a(n),c=0;c<o;c++)l[c]=s[c];e[t]=l}}else e[t]=new a(n)}var hD=function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Qe()}return e.prototype.initData=function(t,r,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource(),a=this.defaultDimValueGetter=yR[i.sourceFormat];this._dimValueGetter=n||a,this._rawExtent=[],Gne(i),this._dimensions=_e(r,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,t.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(t,r){var n=this._calcDimNameToIdx,i=this._dimensions,a=n.get(t);if(a!=null){if(i[a].type===r)return a}else a=i.length;return i[a]={type:r},n.set(t,a),this._chunks[a]=new rie[r||"float"](this._rawCount),this._rawExtent[a]=Pg(),a},e.prototype.collectOrdinalMeta=function(t,r){var n=this._chunks[t],i=this._dimensions[t],a=this._rawExtent,s=i.ordinalOffset||0,o=n.length;s===0&&(a[t]=Pg());for(var l=a[t],c=s;c<o;c++){var u=n[c]=r.parseAndCollect(n[c]);isNaN(u)||(l[0]=Math.min(u,l[0]),l[1]=Math.max(u,l[1]))}i.ordinalMeta=r,i.ordinalOffset=o,i.type="ordinal"},e.prototype.getOrdinalMeta=function(t){var r=this._dimensions[t],n=r.ordinalMeta;return n},e.prototype.getDimensionProperty=function(t){var r=this._dimensions[t];return r&&r.property},e.prototype.appendData=function(t){var r=this._provider,n=this.count();r.appendData(t);var i=r.count();return r.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},e.prototype.appendValues=function(t,r){for(var n=this._chunks,i=this._dimensions,a=i.length,s=this._rawExtent,o=this.count(),l=o+Math.max(t.length,r||0),c=0;c<a;c++){var u=i[c];c9(n,c,u.type,l,!0)}for(var h=[],f=o;f<l;f++)for(var p=f-o,g=0;g<a;g++){var u=i[g],v=yR.arrayRows.call(this,t[p]||h,u.property,p,g);n[g][f]=v;var m=s[g];v<m[0]&&(m[0]=v),v>m[1]&&(m[1]=v)}return this._rawCount=this._count=l,{start:o,end:l}},e.prototype._initDataFromProvider=function(t,r,n){for(var i=this._provider,a=this._chunks,s=this._dimensions,o=s.length,l=this._rawExtent,c=_e(s,function(x){return x.property}),u=0;u<o;u++){var h=s[u];l[u]||(l[u]=Pg()),c9(a,u,h.type,r,n)}if(i.fillStorage)i.fillStorage(t,r,a,l);else for(var f=[],p=t;p<r;p++){f=i.getItem(p,f);for(var g=0;g<o;g++){var v=a[g],m=this._dimValueGetter(f,c[g],p,g);v[p]=m;var y=l[g];m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=r,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(t,r){if(!(r>=0&&r<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(r)]:NaN},e.prototype.getValues=function(t,r){var n=[],i=[];if(r==null){r=t,t=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=t;for(var a=0,s=i.length;a<s;a++)n.push(this.get(i[a],r));return n},e.prototype.getByRawIndex=function(t,r){if(!(r>=0&&r<this._rawCount))return NaN;var n=this._chunks[t];return n?n[r]:NaN},e.prototype.getSum=function(t){var r=this._chunks[t],n=0;if(r)for(var i=0,a=this.count();i<a;i++){var s=this.get(t,i);isNaN(s)||(n+=s)}return n},e.prototype.getMedian=function(t){var r=[];this.each([t],function(a){isNaN(a)||r.push(a)});var n=r.sort(function(a,s){return a-s}),i=this.count();return i===0?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},e.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var r=this._indices,n=r[t];if(n!=null&&n<this._count&&n===t)return t;for(var i=0,a=this._count-1;i<=a;){var s=(i+a)/2|0;if(r[s]<t)i=s+1;else if(r[s]>t)a=s-1;else return s}return-1},e.prototype.indicesOfNearest=function(t,r,n){var i=this._chunks,a=i[t],s=[];if(!a)return s;n==null&&(n=1/0);for(var o=1/0,l=-1,c=0,u=0,h=this.count();u<h;u++){var f=this.getRawIndex(u),p=r-a[f],g=Math.abs(p);g<=n&&((g<o||g===o&&p>=0&&l<0)&&(o=g,l=p,c=0),p===l&&(s[c++]=u))}return s.length=c,s},e.prototype.getIndices=function(){var t,r=this._indices;if(r){var n=r.constructor,i=this._count;if(n===Array){t=new n(i);for(var a=0;a<i;a++)t[a]=r[a]}else t=new n(r.buffer,0,i)}else{var n=Mg(this._rawCount);t=new n(this.count());for(var a=0;a<t.length;a++)t[a]=a}return t},e.prototype.filter=function(t,r){if(!this._count)return this;for(var n=this.clone(),i=n.count(),a=Mg(n._rawCount),s=new a(i),o=[],l=t.length,c=0,u=t[0],h=n._chunks,f=0;f<i;f++){var p=void 0,g=n.getRawIndex(f);if(l===0)p=r(f);else if(l===1){var v=h[u][g];p=r(v,f)}else{for(var m=0;m<l;m++)o[m]=h[t[m]][g];o[m]=f,p=r.apply(null,o)}p&&(s[c++]=g)}return c<i&&(n._indices=s),n._count=c,n._extent=[],n._updateGetRawIdx(),n},e.prototype.selectRange=function(t){var r=this.clone(),n=r._count;if(!n)return this;var i=ar(t),a=i.length;if(!a)return this;var s=r.count(),o=Mg(r._rawCount),l=new o(s),c=0,u=i[0],h=t[u][0],f=t[u][1],p=r._chunks,g=!1;if(!r._indices){var v=0;if(a===1){for(var m=p[i[0]],y=0;y<n;y++){var x=m[y];(x>=h&&x<=f||isNaN(x))&&(l[c++]=v),v++}g=!0}else if(a===2){for(var m=p[i[0]],_=p[i[1]],b=t[i[1]][0],w=t[i[1]][1],y=0;y<n;y++){var x=m[y],S=_[y];(x>=h&&x<=f||isNaN(x))&&(S>=b&&S<=w||isNaN(S))&&(l[c++]=v),v++}g=!0}}if(!g)if(a===1)for(var y=0;y<s;y++){var k=r.getRawIndex(y),x=p[i[0]][k];(x>=h&&x<=f||isNaN(x))&&(l[c++]=k)}else for(var y=0;y<s;y++){for(var C=!0,k=r.getRawIndex(y),E=0;E<a;E++){var T=i[E],x=p[T][k];(x<t[T][0]||x>t[T][1])&&(C=!1)}C&&(l[c++]=r.getRawIndex(y))}return c<s&&(r._indices=l),r._count=c,r._extent=[],r._updateGetRawIdx(),r},e.prototype.map=function(t,r){var n=this.clone(t);return this._updateDims(n,t,r),n},e.prototype.modify=function(t,r){this._updateDims(this,t,r)},e.prototype._updateDims=function(t,r,n){for(var i=t._chunks,a=[],s=r.length,o=t.count(),l=[],c=t._rawExtent,u=0;u<r.length;u++)c[r[u]]=Pg();for(var h=0;h<o;h++){for(var f=t.getRawIndex(h),p=0;p<s;p++)l[p]=i[r[p]][f];l[s]=h;var g=n&&n.apply(null,l);if(g!=null){typeof g!="object"&&(a[0]=g,g=a);for(var u=0;u<g.length;u++){var v=r[u],m=g[u],y=c[v],x=i[v];x&&(x[f]=m),m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}}}},e.prototype.lttbDownSample=function(t,r){var n=this.clone([t],!0),i=n._chunks,a=i[t],s=this.count(),o=0,l=Math.floor(1/r),c=this.getRawIndex(0),u,h,f,p=new(Mg(this._rawCount))(Math.min((Math.ceil(s/l)+2)*2,s));p[o++]=c;for(var g=1;g<s-1;g+=l){for(var v=Math.min(g+l,s-1),m=Math.min(g+l*2,s),y=(m+v)/2,x=0,_=v;_<m;_++){var b=this.getRawIndex(_),w=a[b];isNaN(w)||(x+=w)}x/=m-v;var S=g,k=Math.min(g+l,s),C=g-1,E=a[c];u=-1,f=S;for(var T=-1,N=0,_=S;_<k;_++){var b=this.getRawIndex(_),w=a[b];if(isNaN(w)){N++,T<0&&(T=b);continue}h=Math.abs((C-y)*(w-E)-(C-_)*(x-E)),h>u&&(u=h,f=b)}N>0&&N<k-S&&(p[o++]=Math.min(T,f),f=Math.max(T,f)),p[o++]=f,c=f}return p[o++]=this.getRawIndex(s-1),n._count=o,n._indices=p,n.getRawIndex=this._getRawIdx,n},e.prototype.minmaxDownSample=function(t,r){for(var n=this.clone([t],!0),i=n._chunks,a=Math.floor(1/r),s=i[t],o=this.count(),l=new(Mg(this._rawCount))(Math.ceil(o/a)*2),c=0,u=0;u<o;u+=a){var h=u,f=s[this.getRawIndex(h)],p=u,g=s[this.getRawIndex(p)],v=a;u+a>o&&(v=o-u);for(var m=0;m<v;m++){var y=this.getRawIndex(u+m),x=s[y];x<f&&(f=x,h=u+m),x>g&&(g=x,p=u+m)}var _=this.getRawIndex(h),b=this.getRawIndex(p);h<p?(l[c++]=_,l[c++]=b):(l[c++]=b,l[c++]=_)}return n._count=c,n._indices=l,n._updateGetRawIdx(),n},e.prototype.downSample=function(t,r,n,i){for(var a=this.clone([t],!0),s=a._chunks,o=[],l=Math.floor(1/r),c=s[t],u=this.count(),h=a._rawExtent[t]=Pg(),f=new(Mg(this._rawCount))(Math.ceil(u/l)),p=0,g=0;g<u;g+=l){l>u-g&&(l=u-g,o.length=l);for(var v=0;v<l;v++){var m=this.getRawIndex(g+v);o[v]=c[m]}var y=n(o),x=this.getRawIndex(Math.min(g+i(o,y)||0,u-1));c[x]=y,y<h[0]&&(h[0]=y),y>h[1]&&(h[1]=y),f[p++]=x}return a._count=p,a._indices=f,a._updateGetRawIdx(),a},e.prototype.each=function(t,r){if(this._count)for(var n=t.length,i=this._chunks,a=0,s=this.count();a<s;a++){var o=this.getRawIndex(a);switch(n){case 0:r(a);break;case 1:r(i[t[0]][o],a);break;case 2:r(i[t[0]][o],i[t[1]][o],a);break;default:for(var l=0,c=[];l<n;l++)c[l]=i[t[l]][o];c[l]=a,r.apply(null,c)}}},e.prototype.getDataExtent=function(t){var r=this._chunks[t],n=Pg();if(!r)return n;var i=this.count(),a=!this._indices,s;if(a)return this._rawExtent[t].slice();if(s=this._extent[t],s)return s.slice();s=n;for(var o=s[0],l=s[1],c=0;c<i;c++){var u=this.getRawIndex(c),h=r[u];h<o&&(o=h),h>l&&(l=h)}return s=[o,l],this._extent[t]=s,s},e.prototype.getRawDataItem=function(t){var r=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(r);for(var n=[],i=this._chunks,a=0;a<i.length;a++)n.push(i[a][r]);return n},e.prototype.clone=function(t,r){var n=new e,i=this._chunks,a=t&&yc(t,function(o,l){return o[l]=!0,o},{});if(a)for(var s=0;s<i.length;s++)n._chunks[s]=a[s]?tje(i[s]):i[s];else n._chunks=i;return this._copyCommonProps(n),r||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},e.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=vt(this._extent),t._rawExtent=vt(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,r=void 0;if(t===Array){var n=this._indices.length;r=new t(n);for(var i=0;i<n;i++)r[i]=this._indices[i]}else r=new t(this._indices);return r}return null},e.prototype._getRawIdxIdentity=function(t){return t},e.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=function(){function t(r,n,i,a){return rh(r[a],this._dimensions[a])}yR={arrayRows:t,objectRows:function(r,n,i,a){return rh(r[n],this._dimensions[a])},keyedColumns:t,original:function(r,n,i,a){var s=r&&(r.value==null?r:r.value);return rh(s instanceof Array?s[a]:s,this._dimensions[a])},typedArray:function(r,n,i,a){return r[a]}}}(),e}(),nie=function(){function e(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(t,r){this._sourceList=t,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,r=this._getUpstreamSourceManagers(),n=!!r.length,i,a;if(GS(t)){var s=t,o=void 0,l=void 0,c=void 0;if(n){var u=r[0];u.prepareSource(),c=u.getSource(),o=c.data,l=c.sourceFormat,a=[u._getVersionSign()]}else o=s.get("data",!0),l=bs(o)?th:Lo,a=[];var h=this._getSourceMetaRawOption()||{},f=c&&c.metaRawOption||{},p=Et(h.seriesLayoutBy,f.seriesLayoutBy)||null,g=Et(h.sourceHeader,f.sourceHeader),v=Et(h.dimensions,f.dimensions),m=p!==f.seriesLayoutBy||!!g!=!!f.sourceHeader||v;i=m?[dD(o,{seriesLayoutBy:p,sourceHeader:g,dimensions:v},l)]:[]}else{var y=t;if(n){var x=this._applyTransform(r);i=x.sourceList,a=x.upstreamSignList}else{var _=y.get("source",!0);i=[dD(_,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},e.prototype._applyTransform=function(t){var r=this._sourceHost,n=r.get("transform",!0),i=r.get("fromTransformResult",!0);if(i!=null){var a="";t.length!==1&&d9(a)}var s,o=[],l=[];return V(t,function(c){c.prepareSource();var u=c.getSource(i||0),h="";i!=null&&!u&&d9(h),o.push(u),l.push(c._getVersionSign())}),n?s=ZAe(n,o,{datasetIndex:r.componentIndex}):i!=null&&(s=[IAe(o[0])]),{sourceList:s,upstreamSignList:l}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),r=0;r<t.length;r++){var n=t[r];if(n._isDirty()||this._upstreamSignList[r]!==n._getVersionSign())return!0}},e.prototype.getSource=function(t){t=t||0;var r=this._sourceList[t];if(!r){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return r},e.prototype.getSharedDataStore=function(t){var r=t.makeStoreSchema();return this._innerGetDataStore(r.dimensions,t.source,r.hash)},e.prototype._innerGetDataStore=function(t,r,n){var i=0,a=this._storeList,s=a[i];s||(s=a[i]={});var o=s[n];if(!o){var l=this._getUpstreamSourceManagers()[0];GS(this._sourceHost)&&l?o=l._innerGetDataStore(t,r,n):(o=new hD,o.initData(new qne(r,t.length),t)),s[n]=o}return o},e.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(GS(t)){var r=$4(t);return r?[r.getSourceManager()]:[]}else return _e(oAe(t),function(n){return n.getSourceManager()})},e.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,r,n,i;if(GS(t))r=t.get("seriesLayoutBy",!0),n=t.get("sourceHeader",!0),i=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=t;r=a.get("seriesLayoutBy",!0),n=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:n,dimensions:i}},e}();function u9(e){var t=e.option.transform;t&&GE(e.option.transform)}function GS(e){return e.mainType==="series"}function d9(e){throw new Error(e)}var rje="line-height:1";function iie(e){var t=e.lineHeight;return t==null?rje:"line-height:"+La(t+"")+"px"}function aie(e,t){var r=e.color||"#6e7079",n=e.fontSize||12,i=e.fontWeight||"400",a=e.color||"#464646",s=e.fontSize||14,o=e.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+La(n+"")+"px;color:"+La(r)+";font-weight:"+La(i+""),valueStyle:"font-size:"+La(s+"")+"px;color:"+La(a)+";font-weight:"+La(o+"")}:{nameStyle:{fontSize:n,fill:r,fontWeight:i},valueStyle:{fontSize:s,fill:a,fontWeight:o}}}var nje=[0,10,20,30],ije=["",`
`,`

`,`


`];function Li(e,t){return t.type=e,t}function fD(e){return e.type==="section"}function sie(e){return fD(e)?aje:sje}function oie(e){if(fD(e)){var t=0,r=e.blocks.length,n=r>1||r>0&&!e.noHeader;return V(e.blocks,function(i){var a=oie(i);a>=t&&(t=a+ +(n&&(!a||fD(i)&&!i.noHeader)))}),t}return 0}function aje(e,t,r,n){var i=t.noHeader,a=oje(oie(t)),s=[],o=t.blocks||[];Wa(!o||ye(o)),o=o||[];var l=e.orderMode;if(t.sortBlocks&&l){o=o.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(Ze(c,l)){var u=new Qne(c[l],null);o.sort(function(v,m){return u.evaluate(v.sortParam,m.sortParam)})}else l==="seriesDesc"&&o.reverse()}V(o,function(v,m){var y=t.valueFormatter,x=sie(v)(y?pe(pe({},e),{valueFormatter:y}):e,v,m>0?a.html:0,n);x!=null&&s.push(x)});var h=e.renderMode==="richText"?s.join(a.richText):pD(n,s.join(""),i?r:a.html);if(i)return h;var f=lD(t.header,"ordinal",e.useUTC),p=aie(n,e.renderMode).nameStyle,g=iie(n);return e.renderMode==="richText"?lie(e,f,p)+a.richText+h:pD(n,'<div style="'+p+";"+g+';">'+La(f)+"</div>"+h,r)}function sje(e,t,r,n){var i=e.renderMode,a=t.noName,s=t.noValue,o=!t.markerType,l=t.name,c=e.useUTC,u=t.valueFormatter||e.valueFormatter||function(b){return b=ye(b)?b:[b],_e(b,function(w,S){return lD(w,ye(p)?p[S]:p,c)})};if(!(a&&s)){var h=o?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",i),f=a?"":lD(l,"ordinal",c),p=t.valueType,g=s?[]:u(t.value,t.dataIndex),v=!o||!a,m=!o&&a,y=aie(n,i),x=y.nameStyle,_=y.valueStyle;return i==="richText"?(o?"":h)+(a?"":lie(e,f,x))+(s?"":uje(e,g,v,m,_)):pD(n,(o?"":h)+(a?"":lje(f,!o,x))+(s?"":cje(g,v,m,_)),r)}}function h9(e,t,r,n,i,a){if(e){var s=sie(e),o={useUTC:i,renderMode:r,orderMode:n,markupStyleCreator:t,valueFormatter:e.valueFormatter};return s(o,e,0,a)}}function oje(e){return{html:nje[e],richText:ije[e]}}function pD(e,t,r){var n='<div style="clear:both"></div>',i="margin: "+r+"px 0 0",a=iie(e);return'<div style="'+i+";"+a+';">'+t+n+"</div>"}function lje(e,t,r){var n=t?"margin-left:2px":"";return'<span style="'+r+";"+n+'">'+La(e)+"</span>"}function cje(e,t,r,n){var i=r?"10px":"20px",a=t?"float:right;margin-left:"+i:"";return e=ye(e)?e:[e],'<span style="'+a+";"+n+'">'+_e(e,function(s){return La(s)}).join("&nbsp;&nbsp;")+"</span>"}function lie(e,t,r){return e.markupStyleCreator.wrapRichTextStyle(t,r)}function uje(e,t,r,n,i){var a=[i],s=n?10:20;return r&&a.push({padding:[0,0,0,s],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(ye(t)?t.join("  "):t,a)}function cie(e,t){var r=e.getData().getItemVisual(t,"style"),n=r[e.visualDrawType];return Ip(n)}function uie(e,t){var r=e.get("padding");return r??(t==="richText"?[8,10]:10)}var xR=function(){function e(){this.richTextStyles={},this._nextStyleNameId=kre()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(t,r,n){var i=n==="richText"?this._generateStyleName():null,a=eAe({color:r,type:t,renderMode:n,markerId:i});return We(a)?a:(this.richTextStyles[i]=a.style,a.content)},e.prototype.wrapRichTextStyle=function(t,r){var n={};ye(r)?V(r,function(a){return pe(n,a)}):pe(n,r);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+t+"}"},e}();function die(e){var t=e.series,r=e.dataIndex,n=e.multipleSeries,i=t.getData(),a=i.mapDimensionsAll("defaultedTooltip"),s=a.length,o=t.getRawValue(r),l=ye(o),c=cie(t,r),u,h,f,p;if(s>1||l&&!s){var g=dje(o,t,r,a,c);u=g.inlineValues,h=g.inlineValueTypes,f=g.blocks,p=g.inlineValues[0]}else if(s){var v=i.getDimensionInfo(a[0]);p=u=Nv(i,r,a[0]),h=v.type}else p=u=l?o[0]:o;var m=m4(t),y=m&&t.name||"",x=i.getName(r),_=n?y:x;return Li("section",{header:y,noHeader:n||!m,sortParam:p,blocks:[Li("nameValue",{markerType:"item",markerColor:c,name:_,noName:!nl(_),value:u,valueType:h,dataIndex:r})].concat(f||[])})}function dje(e,t,r,n,i){var a=t.getData(),s=yc(e,function(h,f,p){var g=a.getDimensionInfo(p);return h=h||g&&g.tooltip!==!1&&g.displayName!=null},!1),o=[],l=[],c=[];n.length?V(n,function(h){u(Nv(a,r,h),h)}):V(e,u);function u(h,f){var p=a.getDimensionInfo(f);!p||p.otherDims.tooltip===!1||(s?c.push(Li("nameValue",{markerType:"subItem",markerColor:i,name:p.displayName,value:h,valueType:p.type})):(o.push(h),l.push(p.type)))}return{inlineValues:o,inlineValueTypes:l,blocks:c}}var rd=_r();function qS(e,t){return e.getName(t)||e.getId(t)}var Gk="__universalTransitionEnabled",_n=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return t.prototype.init=function(r,n,i){this.seriesIndex=this.componentIndex,this.dataTask=E_({count:fje,reset:pje}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,i);var a=rd(this).sourceManager=new nie(this);a.prepareSource();var s=this.getInitialData(r,i);p9(s,this),this.dataTask.context.data=s,rd(this).dataBeforeProcessed=s,f9(this),this._initSelectedMapFromData(s)},t.prototype.mergeDefaultAndTheme=function(r,n){var i=Nb(this),a=i?b0(r):{},s=this.subType;ir.hasClass(s)&&(s+="Series"),Pt(r,n.getTheme().get(this.subType)),Pt(r,this.getDefaultOption()),Np(r,"label",["show"]),this.fillDataTextStyle(r.data),i&&ph(r,a,i)},t.prototype.mergeOption=function(r,n){r=Pt(this.option,r,!0),this.fillDataTextStyle(r.data);var i=Nb(this);i&&ph(this.option,r,i);var a=rd(this).sourceManager;a.dirty(),a.prepareSource();var s=this.getInitialData(r,n);p9(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,rd(this).dataBeforeProcessed=s,f9(this),this._initSelectedMapFromData(s)},t.prototype.fillDataTextStyle=function(r){if(r&&!bs(r))for(var n=["show"],i=0;i<r.length;i++)r[i]&&r[i].label&&Np(r[i],"label",n)},t.prototype.getInitialData=function(r,n){},t.prototype.appendData=function(r){var n=this.getRawData();n.appendData(r.data)},t.prototype.getData=function(r){var n=gD(this);if(n){var i=n.context.data;return r==null||!i.getLinkedData?i:i.getLinkedData(r)}else return rd(this).data},t.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},t.prototype.setData=function(r){var n=gD(this);if(n){var i=n.context;i.outputData=r,n!==this.dataTask&&(i.data=r)}rd(this).data=r},t.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return Qe(r)},t.prototype.getSourceManager=function(){return rd(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return rd(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},t.prototype.formatTooltip=function(r,n,i){return die({series:this,dataIndex:r,multipleSeries:n})},t.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(tr.node&&!(r&&r.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(r,n,i){var a=this.ecModel,s=B4.prototype.getColorFromPalette.call(this,r,n,i);return s||(s=a.getColorFromPalette(r,n,i)),s},t.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(r,n){this._innerSelect(this.getData(n),r)},t.prototype.unselect=function(r,n){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,s=this.getData(n);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var o=0;o<r.length;o++){var l=r[o],c=qS(s,l);i[c]=!1,this._selectedDataIndicesMap[c]=-1}}},t.prototype.toggleSelect=function(r,n){for(var i=[],a=0;a<r.length;a++)i[0]=r[a],this.isSelected(r[a],n)?this.unselect(i,n):this.select(i,n)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,n=ar(r),i=[],a=0;a<n.length;a++){var s=r[n[a]];s>=0&&i.push(s)}return i},t.prototype.isSelected=function(r,n){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(n);return(i==="all"||i[qS(a,r)])&&!a.getItemModel(r).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[Gk])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},t.prototype._innerSelect=function(r,n){var i,a,s=this.option,o=s.selectedMode,l=n.length;if(!(!o||!l)){if(o==="series")s.selectedMap="all";else if(o==="multiple"){ft(s.selectedMap)||(s.selectedMap={});for(var c=s.selectedMap,u=0;u<l;u++){var h=n[u],f=qS(r,h);c[f]=!0,this._selectedDataIndicesMap[f]=r.getRawIndex(h)}}else if(o==="single"||o===!0){var p=n[l-1],f=qS(r,p);s.selectedMap=(i={},i[f]=!0,i),this._selectedDataIndicesMap=(a={},a[f]=r.getRawIndex(p),a)}}},t.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var n=[];r.hasItemOption&&r.each(function(i){var a=r.getRawDataItem(i);a&&a.selected&&n.push(i)}),n.length>0&&this._innerSelect(r,n)}},t.registerClass=function(r){return ir.registerClass(r)},t.protoInitialize=function(){var r=t.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"}(),t}(ir);pi(_n,I2);pi(_n,B4);Pre(_n,ir);function f9(e){var t=e.name;m4(e)||(e.name=hje(e)||t)}function hje(e){var t=e.getRawData(),r=t.mapDimensionsAll("seriesName"),n=[];return V(r,function(i){var a=t.getDimensionInfo(i);a.displayName&&n.push(a.displayName)}),n.join(" ")}function fje(e){return e.model.getRawData().count()}function pje(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),gje}function gje(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function p9(e,t){V(yb(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),function(r){e.wrapMethod(r,At(mje,t))})}function mje(e,t){var r=gD(e);return r&&r.setOutputEnd((t||this).count()),t}function gD(e){var t=(e.ecModel||{}).scheduler,r=t&&t.getPipeline(e.uid);if(r){var n=r.currentTask;if(n){var i=n.agentStubMap;i&&(n=i.get(e.uid))}return n}}var Bn=function(){function e(){this.group=new _t,this.uid=x0("viewComponent")}return e.prototype.init=function(t,r){},e.prototype.render=function(t,r,n,i){},e.prototype.dispose=function(t,r){},e.prototype.updateView=function(t,r,n,i){},e.prototype.updateLayout=function(t,r,n,i){},e.prototype.updateVisual=function(t,r,n,i){},e.prototype.toggleBlurSeries=function(t,r,n){},e.prototype.eachRendered=function(t){var r=this.group;r&&r.traverse(t)},e}();y4(Bn);p2(Bn);function S0(){var e=_r();return function(t){var r=e(t),n=t.pipelineContext,i=!!r.large,a=!!r.progressiveRender,s=r.large=!!(n&&n.large),o=r.progressiveRender=!!(n&&n.progressiveRender);return(i!==s||a!==o)&&"reset"}}var hie=_r(),vje=S0(),dn=function(){function e(){this.group=new _t,this.uid=x0("viewChart"),this.renderTask=E_({plan:yje,reset:xje}),this.renderTask.context={view:this}}return e.prototype.init=function(t,r){},e.prototype.render=function(t,r,n,i){},e.prototype.highlight=function(t,r,n,i){var a=t.getData(i&&i.dataType);a&&m9(a,i,"emphasis")},e.prototype.downplay=function(t,r,n,i){var a=t.getData(i&&i.dataType);a&&m9(a,i,"normal")},e.prototype.remove=function(t,r){this.group.removeAll()},e.prototype.dispose=function(t,r){},e.prototype.updateView=function(t,r,n,i){this.render(t,r,n,i)},e.prototype.updateLayout=function(t,r,n,i){this.render(t,r,n,i)},e.prototype.updateVisual=function(t,r,n,i){this.render(t,r,n,i)},e.prototype.eachRendered=function(t){Lh(this.group,t)},e.markUpdateMethod=function(t,r){hie(t).updateMethod=r},e.protoInitialize=function(){var t=e.prototype;t.type="chart"}(),e}();function g9(e,t,r){e&&kb(e)&&(t==="emphasis"?Eu:Tu)(e,r)}function m9(e,t,r){var n=Ap(e,t),i=t&&t.highlightKey!=null?e2e(t.highlightKey):null;n!=null?V(sn(n),function(a){g9(e.getItemGraphicEl(a),r,i)}):e.eachItemGraphicEl(function(a){g9(a,r,i)})}y4(dn);p2(dn);function yje(e){return vje(e.model)}function xje(e){var t=e.model,r=e.ecModel,n=e.api,i=e.payload,a=t.pipelineContext.progressiveRender,s=e.view,o=i&&hie(i).updateMethod,l=a?"incrementalPrepareRender":o&&s[o]?o:"render";return l!=="render"&&s[l](t,r,n,i),_je[l]}var _je={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},lT="\0__throttleOriginMethod",v9="\0__throttleRate",y9="\0__throttleType";function W4(e,t,r){var n,i=0,a=0,s=null,o,l,c,u;t=t||0;function h(){a=new Date().getTime(),s=null,e.apply(l,c||[])}var f=function(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];n=new Date().getTime(),l=this,c=p;var v=u||t,m=u||r;u=null,o=n-(m?i:a)-v,clearTimeout(s),m?s=setTimeout(h,v):o>=0?h():s=setTimeout(h,-o),i=n};return f.clear=function(){s&&(clearTimeout(s),s=null)},f.debounceNextCall=function(p){u=p},f}function C0(e,t,r,n){var i=e[t];if(i){var a=i[lT]||i,s=i[y9],o=i[v9];if(o!==r||s!==n){if(r==null||!n)return e[t]=a;i=e[t]=W4(a,r,n==="debounce"),i[lT]=a,i[y9]=n,i[v9]=r}return i}}function jb(e,t){var r=e[t];r&&r[lT]&&(r.clear&&r.clear(),e[t]=r[lT])}var x9=_r(),_9={itemStyle:jp(yne,!0),lineStyle:jp(vne,!0)},bje={lineStyle:"stroke",itemStyle:"fill"};function fie(e,t){var r=e.visualStyleMapper||_9[t];return r||(console.warn("Unknown style type '"+t+"'."),_9.itemStyle)}function pie(e,t){var r=e.visualDrawType||bje[t];return r||(console.warn("Unknown style type '"+t+"'."),"fill")}var wje={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData(),n=e.visualStyleAccessPath||"itemStyle",i=e.getModel(n),a=fie(e,n),s=a(i),o=i.getShallow("decal");o&&(r.setVisual("decal",o),o.dirty=!0);var l=pie(e,n),c=s[l],u=lt(c)?c:null,h=s.fill==="auto"||s.stroke==="auto";if(!s[l]||u||h){var f=e.getColorFromPalette(e.name,null,t.getSeriesCount());s[l]||(s[l]=f,r.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||lt(s.fill)?f:s.fill,s.stroke=s.stroke==="auto"||lt(s.stroke)?f:s.stroke}if(r.setVisual("style",s),r.setVisual("drawType",l),!t.isSeriesFiltered(e)&&u)return r.setVisual("colorFromPalette",!1),{dataEach:function(p,g){var v=e.getDataParams(g),m=pe({},s);m[l]=u(v),p.setItemVisual(g,"style",m)}}}},Wy=new Vr,Sje={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!(e.ignoreStyleOnData||t.isSeriesFiltered(e))){var r=e.getData(),n=e.visualStyleAccessPath||"itemStyle",i=fie(e,n),a=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(s,o){var l=s.getRawDataItem(o);if(l&&l[n]){Wy.option=l[n];var c=i(Wy),u=s.ensureUniqueItemVisual(o,"style");pe(u,c),Wy.option.decal&&(s.setItemVisual(o,"decal",Wy.option.decal),Wy.option.decal.dirty=!0),a in c&&s.setItemVisual(o,"colorFromPalette",!1)}}:null}}}},Cje={performRawSeries:!0,overallReset:function(e){var t=Qe();e.eachSeries(function(r){var n=r.getColorBy();if(!r.isColorBySeries()){var i=r.type+"-"+n,a=t.get(i);a||(a={},t.set(i,a)),x9(r).scope=a}}),e.eachSeries(function(r){if(!(r.isColorBySeries()||e.isSeriesFiltered(r))){var n=r.getRawData(),i={},a=r.getData(),s=x9(r).scope,o=r.visualStyleAccessPath||"itemStyle",l=pie(r,o);a.each(function(c){var u=a.getRawIndex(c);i[u]=c}),n.each(function(c){var u=i[c],h=a.getItemVisual(u,"colorFromPalette");if(h){var f=a.ensureUniqueItemVisual(u,"style"),p=n.getName(c)||c+"",g=n.count();f[l]=r.getColorFromPalette(p,s,g)}})}})}},YS=Math.PI;function kje(e,t){t=t||{},ut(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new _t,n=new xr({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});r.add(n);var i=new kr({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),a=new xr({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});r.add(a);var s;return t.showSpinner&&(s=new b2({shape:{startAngle:-YS/2,endAngle:-YS/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:YS*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:YS*3/2}).delay(300).start("circularInOut"),r.add(s)),r.resize=function(){var o=i.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,c=(e.getWidth()-l*2-(t.showSpinner&&o?10:0)-o)/2-(t.showSpinner&&o?0:5+o/2)+(t.showSpinner?0:o/2)+(o?0:l),u=e.getHeight()/2;t.showSpinner&&s.setShape({cx:c,cy:u}),a.setShape({x:c-l,y:u-l,width:l*2,height:l*2}),n.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},r.resize(),r}var gie=function(){function e(t,r,n,i){this._stageTaskMap=Qe(),this.ecInstance=t,this.api=r,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return e.prototype.restoreData=function(t,r){t.restoreData(r),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},e.prototype.getPerformArgs=function(t,r){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,a=!r&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex,s=a?n.step:null,o=i&&i.modDataCount,l=o!=null?Math.ceil(o/s):null;return{step:s,modBy:l,modDataCount:o}}},e.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},e.prototype.updateStreamModes=function(t,r){var n=this._pipelineMap.get(t.uid),i=t.getData(),a=i.count(),s=n.progressiveEnabled&&r.incrementalPrepareRender&&a>=n.threshold,o=t.get("large")&&a>=t.get("largeThreshold"),l=t.get("progressiveChunkMode")==="mod"?a:null;t.pipelineContext=n.context={progressiveRender:s,modDataCount:l,large:o}},e.prototype.restorePipelines=function(t){var r=this,n=r._pipelineMap=Qe();t.eachSeries(function(i){var a=i.getProgressive(),s=i.uid;n.set(s,{id:s,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),r._pipe(i,i.dataTask)})},e.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,r=this.api.getModel(),n=this.api;V(this._allHandlers,function(i){var a=t.get(i.uid)||t.set(i.uid,{}),s="";Wa(!(i.reset&&i.overallReset),s),i.reset&&this._createSeriesStageTask(i,a,r,n),i.overallReset&&this._createOverallStageTask(i,a,r,n)},this)},e.prototype.prepareView=function(t,r,n,i){var a=t.renderTask,s=a.context;s.model=r,s.ecModel=n,s.api=i,a.__block=!t.incrementalPrepareRender,this._pipe(r,a)},e.prototype.performDataProcessorTasks=function(t,r){this._performStageTasks(this._dataProcessorHandlers,t,r,{block:!0})},e.prototype.performVisualTasks=function(t,r,n){this._performStageTasks(this._visualHandlers,t,r,n)},e.prototype._performStageTasks=function(t,r,n,i){i=i||{};var a=!1,s=this;V(t,function(l,c){if(!(i.visualType&&i.visualType!==l.visualType)){var u=s._stageTaskMap.get(l.uid),h=u.seriesTaskMap,f=u.overallTask;if(f){var p,g=f.agentStubMap;g.each(function(m){o(i,m)&&(m.dirty(),p=!0)}),p&&f.dirty(),s.updatePayload(f,n);var v=s.getPerformArgs(f,i.block);g.each(function(m){m.perform(v)}),f.perform(v)&&(a=!0)}else h&&h.each(function(m,y){o(i,m)&&m.dirty();var x=s.getPerformArgs(m,i.block);x.skip=!l.performRawSeries&&r.isSeriesFiltered(m.context.model),s.updatePayload(m,n),m.perform(x)&&(a=!0)})}});function o(l,c){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(c.__pipeline.id))}this.unfinished=a||this.unfinished},e.prototype.performSeriesTasks=function(t){var r;t.eachSeries(function(n){r=n.dataTask.perform()||r}),this.unfinished=r||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each(function(t){var r=t.tail;do{if(r.__block){t.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},e.prototype.updatePayload=function(t,r){r!=="remain"&&(t.context.payload=r)},e.prototype._createSeriesStageTask=function(t,r,n,i){var a=this,s=r.seriesTaskMap,o=r.seriesTaskMap=Qe(),l=t.seriesType,c=t.getTargetSeries;t.createOnAllSeries?n.eachRawSeries(u):l?n.eachRawSeriesByType(l,u):c&&c(n,i).each(u);function u(h){var f=h.uid,p=o.set(f,s&&s.get(f)||E_({plan:jje,reset:Rje,count:Mje}));p.context={model:h,ecModel:n,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:a},a._pipe(h,p)}},e.prototype._createOverallStageTask=function(t,r,n,i){var a=this,s=r.overallTask=r.overallTask||E_({reset:Eje});s.context={ecModel:n,api:i,overallReset:t.overallReset,scheduler:a};var o=s.agentStubMap,l=s.agentStubMap=Qe(),c=t.seriesType,u=t.getTargetSeries,h=!0,f=!1,p="";Wa(!t.createOnAllSeries,p),c?n.eachRawSeriesByType(c,g):u?u(n,i).each(g):(h=!1,V(n.getSeries(),g));function g(v){var m=v.uid,y=l.set(m,o&&o.get(m)||(f=!0,E_({reset:Tje,onDirty:Aje})));y.context={model:v,overallProgress:h},y.agent=s,y.__block=h,a._pipe(v,y)}f&&s.dirty()},e.prototype._pipe=function(t,r){var n=t.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=r),i.tail&&i.tail.pipe(r),i.tail=r,r.__idxInPipeline=i.count++,r.__pipeline=i},e.wrapStageHandler=function(t,r){return lt(t)&&(t={overallReset:t,seriesType:Pje(t)}),t.uid=x0("stageHandler"),r&&(t.visualType=r),t},e}();function Eje(e){e.overallReset(e.ecModel,e.api,e.payload)}function Tje(e){return e.overallProgress&&Nje}function Nje(){this.agent.dirty(),this.getDownstream().dirty()}function Aje(){this.agent&&this.agent.dirty()}function jje(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function Rje(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=sn(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?_e(t,function(r,n){return mie(n)}):Ije}var Ije=mie(0);function mie(e){return function(t,r){var n=r.data,i=r.resetDefines[e];if(i&&i.dataEach)for(var a=t.start;a<t.end;a++)i.dataEach(n,a);else i&&i.progress&&i.progress(t,n)}}function Mje(e){return e.data.count()}function Pje(e){cT=null;try{e(Rb,vie)}catch{}return cT}var Rb={},vie={},cT;yie(Rb,F4);yie(vie,Une);Rb.eachSeriesByType=Rb.eachRawSeriesByType=function(e){cT=e};Rb.eachComponent=function(e){e.mainType==="series"&&e.subType&&(cT=e.subType)};function yie(e,t){for(var r in t.prototype)e[r]=ai}var b9=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const Lje={color:b9,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],b9]};var da="#B9B8CE",w9="#100C2A",KS=function(){return{axisLine:{lineStyle:{color:da}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},S9=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],xie={darkMode:!0,color:S9,backgroundColor:w9,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:da},pageTextStyle:{color:da}},textStyle:{color:da},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:da}},dataZoom:{borderColor:"#71708A",textStyle:{color:da},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:da}},timeline:{lineStyle:{color:da},label:{color:da},controlStyle:{color:da,borderColor:da}},calendar:{itemStyle:{color:w9},dayLabel:{color:da},monthLabel:{color:da},yearLabel:{color:da}},timeAxis:KS(),logAxis:KS(),valueAxis:KS(),categoryAxis:KS(),line:{symbol:"circle"},graph:{color:S9},gauge:{title:{color:da},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:da},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};xie.categoryAxis.splitLine.show=!1;var Dje=function(){function e(){}return e.prototype.normalizeQuery=function(t){var r={},n={},i={};if(We(t)){var a=ec(t);r.mainType=a.main||null,r.subType=a.sub||null}else{var s=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};V(t,function(l,c){for(var u=!1,h=0;h<s.length;h++){var f=s[h],p=c.lastIndexOf(f);if(p>0&&p===c.length-f.length){var g=c.slice(0,p);g!=="data"&&(r.mainType=g,r[f.toLowerCase()]=l,u=!0)}}o.hasOwnProperty(c)&&(n[c]=l,u=!0),u||(i[c]=l)})}return{cptQuery:r,dataQuery:n,otherQuery:i}},e.prototype.filter=function(t,r){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,a=n.packedEvent,s=n.model,o=n.view;if(!s||!o)return!0;var l=r.cptQuery,c=r.dataQuery;return u(l,s,"mainType")&&u(l,s,"subType")&&u(l,s,"index","componentIndex")&&u(l,s,"name")&&u(l,s,"id")&&u(c,a,"name")&&u(c,a,"dataIndex")&&u(c,a,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(t,r.otherQuery,i,a));function u(h,f,p,g){return h[p]==null||f[g||p]===h[p]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),mD=["symbol","symbolSize","symbolRotate","symbolOffset"],C9=mD.concat(["symbolKeepAspect"]),Oje={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData();if(e.legendIcon&&r.setVisual("legendIcon",e.legendIcon),!e.hasSymbolVisual)return;for(var n={},i={},a=!1,s=0;s<mD.length;s++){var o=mD[s],l=e.get(o);lt(l)?(a=!0,i[o]=l):n[o]=l}if(n.symbol=n.symbol||e.defaultSymbol,r.setVisual(pe({legendIcon:e.legendIcon||n.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},n)),t.isSeriesFiltered(e))return;var c=ar(i);function u(h,f){for(var p=e.getRawValue(f),g=e.getDataParams(f),v=0;v<c.length;v++){var m=c[v];h.setItemVisual(f,m,i[m](p,g))}}return{dataEach:a?u:null}}},$je={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.hasSymbolVisual||t.isSeriesFiltered(e))return;var r=e.getData();function n(i,a){for(var s=i.getItemModel(a),o=0;o<C9.length;o++){var l=C9[o],c=s.getShallow(l,!0);c!=null&&i.setItemVisual(a,l,c)}}return{dataEach:r.hasItemOption?n:null}}};function G4(e,t,r){switch(r){case"color":var n=e.getItemVisual(t,"style");return n[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,r)}}function Yw(e,t){switch(t){case"color":var r=e.getVisual("style");return r[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t)}}function _ie(e,t,r,n){switch(r){case"color":var i=e.ensureUniqueItemVisual(t,"style");i[e.getVisual("drawType")]=n,e.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":e.ensureUniqueItemVisual(t,"style").opacity=n;break;case"symbol":case"symbolSize":case"liftZ":e.setItemVisual(t,r,n);break}}function bie(e,t){function r(n,i){var a=[];return n.eachComponent({mainType:"series",subType:e,query:i},function(s){a.push(s.seriesIndex)}),a}V([[e+"ToggleSelect","toggleSelect"],[e+"Select","select"],[e+"UnSelect","unselect"]],function(n){t(n[0],function(i,a,s){i=pe({},i),s.dispatchAction(pe(i,{type:n[1],seriesIndex:r(a,i)}))})})}function Lg(e,t,r,n,i){var a=e+t;r.isSilent(a)||n.eachComponent({mainType:"series",subType:"pie"},function(s){for(var o=s.seriesIndex,l=s.option.selectedMap,c=i.selected,u=0;u<c.length;u++)if(c[u].seriesIndex===o){var h=s.getData(),f=Ap(h,i.fromActionPayload);r.trigger(a,{type:a,seriesId:s.id,name:ye(f)?h.getName(f[0]):h.getName(f),selected:We(l)?l:pe({},l)})}})}function Bje(e,t,r){e.on("selectchanged",function(n){var i=r.getModel();n.isFromClick?(Lg("map","selectchanged",t,i,n),Lg("pie","selectchanged",t,i,n)):n.fromAction==="select"?(Lg("map","selected",t,i,n),Lg("pie","selected",t,i,n)):n.fromAction==="unselect"&&(Lg("map","unselected",t,i,n),Lg("pie","unselected",t,i,n))})}function Kf(e,t,r){for(var n;e&&!(t(e)&&(n=e,r));)e=e.__hostTarget||e.parent;return n}var Fje=Math.round(Math.random()*9),zje=typeof Object.defineProperty=="function",Uje=function(){function e(){this._id="__ec_inner_"+Fje++}return e.prototype.get=function(t){return this._guard(t)[this._id]},e.prototype.set=function(t,r){var n=this._guard(t);return zje?Object.defineProperty(n,this._id,{value:r,enumerable:!1,configurable:!0}):n[this._id]=r,this},e.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},e.prototype.has=function(t){return!!this._guard(t)[this._id]},e.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},e}(),Hje=er.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var r=t.cx,n=t.cy,i=t.width/2,a=t.height/2;e.moveTo(r,n-a),e.lineTo(r+i,n+a),e.lineTo(r-i,n+a),e.closePath()}}),Vje=er.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var r=t.cx,n=t.cy,i=t.width/2,a=t.height/2;e.moveTo(r,n-a),e.lineTo(r+i,n),e.lineTo(r,n+a),e.lineTo(r-i,n),e.closePath()}}),Wje=er.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var r=t.x,n=t.y,i=t.width/5*3,a=Math.max(i,t.height),s=i/2,o=s*s/(a-s),l=n-a+s+o,c=Math.asin(o/s),u=Math.cos(c)*s,h=Math.sin(c),f=Math.cos(c),p=s*.6,g=s*.7;e.moveTo(r-u,l+o),e.arc(r,l,s,Math.PI-c,Math.PI*2+c),e.bezierCurveTo(r+u-h*p,l+o+f*p,r,n-g,r,n),e.bezierCurveTo(r,n-g,r-u+h*p,l+o+f*p,r-u,l+o),e.closePath()}}),Gje=er.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var r=t.height,n=t.width,i=t.x,a=t.y,s=n/3*2;e.moveTo(i,a),e.lineTo(i+s,a+r),e.lineTo(i,a+r/4*3),e.lineTo(i-s,a+r),e.lineTo(i,a),e.closePath()}}),qje={line:Ri,rect:xr,roundRect:xr,square:xr,circle:zu,diamond:Vje,pin:Wje,arrow:Gje,triangle:Hje},Yje={line:function(e,t,r,n,i){i.x1=e,i.y1=t+n/2,i.x2=e+r,i.y2=t+n/2},rect:function(e,t,r,n,i){i.x=e,i.y=t,i.width=r,i.height=n},roundRect:function(e,t,r,n,i){i.x=e,i.y=t,i.width=r,i.height=n,i.r=Math.min(r,n)/4},square:function(e,t,r,n,i){var a=Math.min(r,n);i.x=e,i.y=t,i.width=a,i.height=a},circle:function(e,t,r,n,i){i.cx=e+r/2,i.cy=t+n/2,i.r=Math.min(r,n)/2},diamond:function(e,t,r,n,i){i.cx=e+r/2,i.cy=t+n/2,i.width=r,i.height=n},pin:function(e,t,r,n,i){i.x=e+r/2,i.y=t+n/2,i.width=r,i.height=n},arrow:function(e,t,r,n,i){i.x=e+r/2,i.y=t+n/2,i.width=r,i.height=n},triangle:function(e,t,r,n,i){i.cx=e+r/2,i.cy=t+n/2,i.width=r,i.height=n}},uT={};V(qje,function(e,t){uT[t]=new e});var Kje=er.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,r){var n=QE(e,t,r),i=this.shape;return i&&i.symbolType==="pin"&&t.position==="inside"&&(n.y=r.y+r.height*.4),n},buildPath:function(e,t,r){var n=t.symbolType;if(n!=="none"){var i=uT[n];i||(n="rect",i=uT[n]),Yje[n](t.x,t.y,t.width,t.height,i.shape),i.buildPath(e,i.shape,r)}}});function Xje(e,t){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=e,r.fill=t||"#fff",r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=e:r.fill=e,this.markRedraw()}}function fi(e,t,r,n,i,a,s){var o=e.indexOf("empty")===0;o&&(e=e.substr(5,1).toLowerCase()+e.substr(6));var l;return e.indexOf("image://")===0?l=cne(e.slice(8),new Bt(t,r,n,i),s?"center":"cover"):e.indexOf("path://")===0?l=w2(e.slice(7),{},new Bt(t,r,n,i),s?"center":"cover"):l=new Kje({shape:{symbolType:e,x:t,y:r,width:n,height:i}}),l.__isEmptyBrush=o,l.setColor=Xje,a&&l.setColor(a),l}function k0(e){return ye(e)||(e=[+e,+e]),[e[0]||0,e[1]||0]}function tg(e,t){if(e!=null)return ye(e)||(e=[e,e]),[Le(e[0],t[0])||0,Le(Et(e[1],e[0]),t[1])||0]}function Xf(e){return isFinite(e)}function Zje(e,t,r){var n=t.x==null?0:t.x,i=t.x2==null?1:t.x2,a=t.y==null?0:t.y,s=t.y2==null?0:t.y2;t.global||(n=n*r.width+r.x,i=i*r.width+r.x,a=a*r.height+r.y,s=s*r.height+r.y),n=Xf(n)?n:0,i=Xf(i)?i:1,a=Xf(a)?a:0,s=Xf(s)?s:0;var o=e.createLinearGradient(n,a,i,s);return o}function Jje(e,t,r){var n=r.width,i=r.height,a=Math.min(n,i),s=t.x==null?.5:t.x,o=t.y==null?.5:t.y,l=t.r==null?.5:t.r;t.global||(s=s*n+r.x,o=o*i+r.y,l=l*a),s=Xf(s)?s:.5,o=Xf(o)?o:.5,l=l>=0&&Xf(l)?l:.5;var c=e.createRadialGradient(s,o,0,s,o,l);return c}function vD(e,t,r){for(var n=t.type==="radial"?Jje(e,t,r):Zje(e,t,r),i=t.colorStops,a=0;a<i.length;a++)n.addColorStop(i[a].offset,i[a].color);return n}function Qje(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!0;return!1}function XS(e){return parseInt(e,10)}function Mm(e,t,r){var n=["width","height"][t],i=["clientWidth","clientHeight"][t],a=["paddingLeft","paddingTop"][t],s=["paddingRight","paddingBottom"][t];if(r[n]!=null&&r[n]!=="auto")return parseFloat(r[n]);var o=document.defaultView.getComputedStyle(e);return(e[i]||XS(o[n])||XS(e.style[n]))-(XS(o[a])||0)-(XS(o[s])||0)|0}function eRe(e,t){return!e||e==="solid"||!(t>0)?null:e==="dashed"?[4*t,2*t]:e==="dotted"?[t]:Nr(e)?[e]:ye(e)?e:null}function q4(e){var t=e.style,r=t.lineDash&&t.lineWidth>0&&eRe(t.lineDash,t.lineWidth),n=t.lineDashOffset;if(r){var i=t.strokeNoScale&&e.getLineScale?e.getLineScale():1;i&&i!==1&&(r=_e(r,function(a){return a/i}),n/=i)}return[r,n]}var tRe=new wc(!0);function dT(e){var t=e.stroke;return!(t==null||t==="none"||!(e.lineWidth>0))}function k9(e){return typeof e=="string"&&e!=="none"}function hT(e){var t=e.fill;return t!=null&&t!=="none"}function E9(e,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var r=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=r}else e.fill()}function T9(e,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var r=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=r}else e.stroke()}function yD(e,t,r){var n=x4(t.image,t.__image,r);if(g2(n)){var i=e.createPattern(n,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(t.x||0,t.y||0),a.rotateSelf(0,0,(t.rotation||0)*Ik),a.scaleSelf(t.scaleX||1,t.scaleY||1),i.setTransform(a)}return i}}function rRe(e,t,r,n){var i,a=dT(r),s=hT(r),o=r.strokePercent,l=o<1,c=!t.path;(!t.silent||l)&&c&&t.createPathProxy();var u=t.path||tRe,h=t.__dirty;if(!n){var f=r.fill,p=r.stroke,g=s&&!!f.colorStops,v=a&&!!p.colorStops,m=s&&!!f.image,y=a&&!!p.image,x=void 0,_=void 0,b=void 0,w=void 0,S=void 0;(g||v)&&(S=t.getBoundingRect()),g&&(x=h?vD(e,f,S):t.__canvasFillGradient,t.__canvasFillGradient=x),v&&(_=h?vD(e,p,S):t.__canvasStrokeGradient,t.__canvasStrokeGradient=_),m&&(b=h||!t.__canvasFillPattern?yD(e,f,t):t.__canvasFillPattern,t.__canvasFillPattern=b),y&&(w=h||!t.__canvasStrokePattern?yD(e,p,t):t.__canvasStrokePattern,t.__canvasStrokePattern=b),g?e.fillStyle=x:m&&(b?e.fillStyle=b:s=!1),v?e.strokeStyle=_:y&&(w?e.strokeStyle=w:a=!1)}var k=t.getGlobalScale();u.setScale(k[0],k[1],t.segmentIgnoreThreshold);var C,E;e.setLineDash&&r.lineDash&&(i=q4(t),C=i[0],E=i[1]);var T=!0;(c||h&$x)&&(u.setDPR(e.dpr),l?u.setContext(null):(u.setContext(e),T=!1),u.reset(),t.buildPath(u,t.shape,n),u.toStatic(),t.pathUpdated()),T&&u.rebuildPath(e,l?o:1),C&&(e.setLineDash(C),e.lineDashOffset=E),n||(r.strokeFirst?(a&&T9(e,r),s&&E9(e,r)):(s&&E9(e,r),a&&T9(e,r))),C&&e.setLineDash([])}function nRe(e,t,r){var n=t.__image=x4(r.image,t.__image,t,t.onload);if(!(!n||!g2(n))){var i=r.x||0,a=r.y||0,s=t.getWidth(),o=t.getHeight(),l=n.width/n.height;if(s==null&&o!=null?s=o*l:o==null&&s!=null?o=s/l:s==null&&o==null&&(s=n.width,o=n.height),r.sWidth&&r.sHeight){var c=r.sx||0,u=r.sy||0;e.drawImage(n,c,u,r.sWidth,r.sHeight,i,a,s,o)}else if(r.sx&&r.sy){var c=r.sx,u=r.sy,h=s-c,f=o-u;e.drawImage(n,c,u,h,f,i,a,s,o)}else e.drawImage(n,i,a,s,o)}}function iRe(e,t,r){var n,i=r.text;if(i!=null&&(i+=""),i){e.font=r.font||uh,e.textAlign=r.textAlign,e.textBaseline=r.textBaseline;var a=void 0,s=void 0;e.setLineDash&&r.lineDash&&(n=q4(t),a=n[0],s=n[1]),a&&(e.setLineDash(a),e.lineDashOffset=s),r.strokeFirst?(dT(r)&&e.strokeText(i,r.x,r.y),hT(r)&&e.fillText(i,r.x,r.y)):(hT(r)&&e.fillText(i,r.x,r.y),dT(r)&&e.strokeText(i,r.x,r.y)),a&&e.setLineDash([])}}var N9=["shadowBlur","shadowOffsetX","shadowOffsetY"],A9=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function wie(e,t,r,n,i){var a=!1;if(!n&&(r=r||{},t===r))return!1;if(n||t.opacity!==r.opacity){hs(e,i),a=!0;var s=Math.max(Math.min(t.opacity,1),0);e.globalAlpha=isNaN(s)?cp.opacity:s}(n||t.blend!==r.blend)&&(a||(hs(e,i),a=!0),e.globalCompositeOperation=t.blend||cp.blend);for(var o=0;o<N9.length;o++){var l=N9[o];(n||t[l]!==r[l])&&(a||(hs(e,i),a=!0),e[l]=e.dpr*(t[l]||0))}return(n||t.shadowColor!==r.shadowColor)&&(a||(hs(e,i),a=!0),e.shadowColor=t.shadowColor||cp.shadowColor),a}function j9(e,t,r,n,i){var a=Ib(t,i.inHover),s=n?null:r&&Ib(r,i.inHover)||{};if(a===s)return!1;var o=wie(e,a,s,n,i);if((n||a.fill!==s.fill)&&(o||(hs(e,i),o=!0),k9(a.fill)&&(e.fillStyle=a.fill)),(n||a.stroke!==s.stroke)&&(o||(hs(e,i),o=!0),k9(a.stroke)&&(e.strokeStyle=a.stroke)),(n||a.opacity!==s.opacity)&&(o||(hs(e,i),o=!0),e.globalAlpha=a.opacity==null?1:a.opacity),t.hasStroke()){var l=a.lineWidth,c=l/(a.strokeNoScale&&t.getLineScale?t.getLineScale():1);e.lineWidth!==c&&(o||(hs(e,i),o=!0),e.lineWidth=c)}for(var u=0;u<A9.length;u++){var h=A9[u],f=h[0];(n||a[f]!==s[f])&&(o||(hs(e,i),o=!0),e[f]=a[f]||h[1])}return o}function aRe(e,t,r,n,i){return wie(e,Ib(t,i.inHover),r&&Ib(r,i.inHover),n,i)}function Sie(e,t){var r=t.transform,n=e.dpr||1;r?e.setTransform(n*r[0],n*r[1],n*r[2],n*r[3],n*r[4],n*r[5]):e.setTransform(n,0,0,n,0,0)}function sRe(e,t,r){for(var n=!1,i=0;i<e.length;i++){var a=e[i];n=n||a.isZeroArea(),Sie(t,a),t.beginPath(),a.buildPath(t,a.shape),t.clip()}r.allClipped=n}function oRe(e,t){return e&&t?e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]:!(!e&&!t)}var R9=1,I9=2,M9=3,P9=4;function lRe(e){var t=hT(e),r=dT(e);return!(e.lineDash||!(+t^+r)||t&&typeof e.fill!="string"||r&&typeof e.stroke!="string"||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}function hs(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function Ib(e,t){return t&&e.__hoverStyle||e.style}function Cie(e,t){Zf(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Zf(e,t,r,n){var i=t.transform;if(!t.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){t.__dirty&=-2,t.__isRendered=!1;return}var a=t.__clipPaths,s=r.prevElClipPaths,o=!1,l=!1;if((!s||Qje(a,s))&&(s&&s.length&&(hs(e,r),e.restore(),l=o=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),a&&a.length&&(hs(e,r),e.save(),sRe(a,e,r),o=!0),r.prevElClipPaths=a),r.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var c=r.prevEl;c||(l=o=!0);var u=t instanceof er&&t.autoBatch&&lRe(t.style);o||oRe(i,c.transform)?(hs(e,r),Sie(e,t)):u||hs(e,r);var h=Ib(t,r.inHover);t instanceof er?(r.lastDrawType!==R9&&(l=!0,r.lastDrawType=R9),j9(e,t,c,l,r),(!u||!r.batchFill&&!r.batchStroke)&&e.beginPath(),rRe(e,t,h,u),u&&(r.batchFill=h.fill||"",r.batchStroke=h.stroke||"")):t instanceof Ev?(r.lastDrawType!==M9&&(l=!0,r.lastDrawType=M9),j9(e,t,c,l,r),iRe(e,t,h)):t instanceof Wi?(r.lastDrawType!==I9&&(l=!0,r.lastDrawType=I9),aRe(e,t,c,l,r),nRe(e,t,h)):t.getTemporalDisplayables&&(r.lastDrawType!==P9&&(l=!0,r.lastDrawType=P9),cRe(e,t,r)),u&&n&&hs(e,r),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),r.prevEl=t,t.__dirty=0,t.__isRendered=!0}function cRe(e,t,r){var n=t.getDisplayables(),i=t.getTemporalDisplayables();e.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},s,o;for(s=t.getCursor(),o=n.length;s<o;s++){var l=n[s];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Zf(e,l,a,s===o-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var c=0,u=i.length;c<u;c++){var l=i[c];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Zf(e,l,a,c===u-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}var _R=new Uje,L9=new $w(100),D9=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Av(e,t){if(e==="none")return null;var r=t.getDevicePixelRatio(),n=t.getZr(),i=n.painter.type==="svg";e.dirty&&_R.delete(e);var a=_R.get(e);if(a)return a;var s=ut(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var o={repeat:"repeat"};return l(o),o.rotation=s.rotation,o.scaleX=o.scaleY=i?1:1/r,_R.set(e,o),e.dirty=!1,o;function l(c){for(var u=[r],h=!0,f=0;f<D9.length;++f){var p=s[D9[f]];if(p!=null&&!ye(p)&&!We(p)&&!Nr(p)&&typeof p!="boolean"){h=!1;break}u.push(p)}var g;if(h){g=u.join(",")+(i?"-svg":"");var v=L9.get(g);v&&(i?c.svgElement=v:c.image=v)}var m=Eie(s.dashArrayX),y=uRe(s.dashArrayY),x=kie(s.symbol),_=dRe(m),b=Tie(y),w=!i&&dh.createCanvas(),S=i&&{tag:"g",attrs:{},key:"dcl",children:[]},k=E(),C;w&&(w.width=k.width*r,w.height=k.height*r,C=w.getContext("2d")),T(),h&&L9.put(g,w||S),c.image=w,c.svgElement=S,c.svgWidth=k.width,c.svgHeight=k.height;function E(){for(var N=1,I=0,P=_.length;I<P;++I)N=QU(N,_[I]);for(var D=1,I=0,P=x.length;I<P;++I)D=QU(D,x[I].length);N*=D;var $=b*_.length*x.length;return{width:Math.max(1,Math.min(N,s.maxTileWidth)),height:Math.max(1,Math.min($,s.maxTileHeight))}}function T(){C&&(C.clearRect(0,0,w.width,w.height),s.backgroundColor&&(C.fillStyle=s.backgroundColor,C.fillRect(0,0,w.width,w.height)));for(var N=0,I=0;I<y.length;++I)N+=y[I];if(N<=0)return;for(var P=-b,D=0,$=0,L=0;P<k.height;){if(D%2===0){for(var O=$/2%x.length,j=0,M=0,R=0;j<k.width*2;){for(var z=0,I=0;I<m[L].length;++I)z+=m[L][I];if(z<=0)break;if(M%2===0){var U=(1-s.symbolSize)*.5,F=j+m[L][M]*U,G=P+y[D]*U,q=m[L][M]*s.symbolSize,K=y[D]*s.symbolSize,B=R/2%x[O].length;W(F,G,q,K,x[O][B])}j+=m[L][M],++R,++M,M===m[L].length&&(M=0)}++L,L===m.length&&(L=0)}P+=y[D],++$,++D,D===y.length&&(D=0)}function W(Y,Z,Q,re,me){var Ee=i?1:r,Ne=fi(me,Y*Ee,Z*Ee,Q*Ee,re*Ee,s.color,s.symbolKeepAspect);if(i){var Me=n.painter.renderOneToVNode(Ne);Me&&S.children.push(Me)}else Cie(C,Ne)}}}}function kie(e){if(!e||e.length===0)return[["rect"]];if(We(e))return[[e]];for(var t=!0,r=0;r<e.length;++r)if(!We(e[r])){t=!1;break}if(t)return kie([e]);for(var n=[],r=0;r<e.length;++r)We(e[r])?n.push([e[r]]):n.push(e[r]);return n}function Eie(e){if(!e||e.length===0)return[[0,0]];if(Nr(e)){var t=Math.ceil(e);return[[t,t]]}for(var r=!0,n=0;n<e.length;++n)if(!Nr(e[n])){r=!1;break}if(r)return Eie([e]);for(var i=[],n=0;n<e.length;++n)if(Nr(e[n])){var t=Math.ceil(e[n]);i.push([t,t])}else{var t=_e(e[n],function(o){return Math.ceil(o)});t.length%2===1?i.push(t.concat(t)):i.push(t)}return i}function uRe(e){if(!e||typeof e=="object"&&e.length===0)return[0,0];if(Nr(e)){var t=Math.ceil(e);return[t,t]}var r=_e(e,function(n){return Math.ceil(n)});return e.length%2?r.concat(r):r}function dRe(e){return _e(e,function(t){return Tie(t)})}function Tie(e){for(var t=0,r=0;r<e.length;++r)t+=e[r];return e.length%2===1?t*2:t}function hRe(e,t){e.eachRawSeries(function(r){if(!e.isSeriesFiltered(r)){var n=r.getData();n.hasItemVisual()&&n.each(function(s){var o=n.getItemVisual(s,"decal");if(o){var l=n.ensureUniqueItemVisual(s,"style");l.decal=Av(o,t)}});var i=n.getVisual("decal");if(i){var a=n.getVisual("style");a.decal=Av(i,t)}}})}var Go=new Po,Nie={};function fRe(e,t){Nie[e]=t}function pRe(e){return Nie[e]}var gRe=1,mRe=800,vRe=900,yRe=1e3,xRe=2e3,_Re=5e3,Aie=1e3,bRe=1100,Y4=2e3,jie=3e3,wRe=4e3,P2=4500,SRe=4600,CRe=5e3,kRe=6e3,Rie=7e3,ERe={PROCESSOR:{FILTER:yRe,SERIES_FILTER:mRe,STATISTIC:_Re},VISUAL:{LAYOUT:Aie,PROGRESSIVE_LAYOUT:bRe,GLOBAL:Y4,CHART:jie,POST_CHART_LAYOUT:SRe,COMPONENT:wRe,BRUSH:CRe,CHART_ITEM:P2,ARIA:kRe,DECAL:Rie}},ua="__flagInMainProcess",ts="__pendingUpdate",bR="__needsUpdateStatus",O9=/^[a-zA-Z0-9_]+$/,wR="__connectUpdateStatus",$9=0,TRe=1,NRe=2;function Iie(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(this.isDisposed()){this.id;return}return Pie(this,e,t)}}function Mie(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Pie(this,e,t)}}function Pie(e,t,r){return r[0]=r[0]&&r[0].toLowerCase(),Po.prototype[t].apply(e,r)}var Lie=function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Po),Die=Lie.prototype;Die.on=Mie("on");Die.off=Mie("off");var Dg,SR,ZS,nd,CR,kR,ER,Gy,qy,B9,F9,TR,z9,JS,U9,Oie,ro,H9,$ie=function(e){ce(t,e);function t(r,n,i){var a=e.call(this,new Dje)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},We(n)&&(n=Bie[n]),a._dom=r;var s="canvas",o="auto",l=!1;i.ssr&&wTe(function(f){var p=wt(f),g=p.dataIndex;if(g!=null){var v=Qe();return v.set("series_index",p.seriesIndex),v.set("data_index",g),p.ssrType&&v.set("ssr_type",p.ssrType),v}});var c=a._zr=XU(r,{renderer:i.renderer||s,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:Et(i.useDirtyRect,l),useCoarsePointer:Et(i.useCoarsePointer,o),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=W4(Ke(c.flush,c),17),n=vt(n),n&&Vne(n,!0),a._theme=n,a._locale=q2e(i.locale||xne),a._coordSysMgr=new qw;var u=a._api=U9(a);function h(f,p){return f.__prio-p.__prio}return Lk(pT,h),Lk(xD,h),a._scheduler=new gie(a,u,xD,pT),a._messageCenter=new Lie,a._initEvents(),a.resize=Ke(a.resize,a),c.animation.on("frame",a._onframe,a),B9(c,a),F9(c,a),GE(a),a}return t.prototype._onframe=function(){if(!this._disposed){H9(this);var r=this._scheduler;if(this[ts]){var n=this[ts].silent;this[ua]=!0;try{Dg(this),nd.update.call(this,null,this[ts].updateParams)}catch(l){throw this[ua]=!1,this[ts]=null,l}this._zr.flush(),this[ua]=!1,this[ts]=null,Gy.call(this,n),qy.call(this,n)}else if(r.unfinished){var i=gRe,a=this._model,s=this._api;r.unfinished=!1;do{var o=+new Date;r.performSeriesTasks(a),r.performDataProcessorTasks(a),kR(this,a),r.performVisualTasks(a),JS(this,this._model,s,"remain",{}),i-=+new Date-o}while(i>0&&r.unfinished);r.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(r,n,i){if(!this[ua]){if(this._disposed){this.id;return}var a,s,o;if(ft(n)&&(i=n.lazyUpdate,a=n.silent,s=n.replaceMerge,o=n.transition,n=n.notMerge),this[ua]=!0,!this._model||n){var l=new yAe(this._api),c=this._theme,u=this._model=new F4;u.scheduler=this._scheduler,u.ssr=this._ssr,u.init(null,null,null,c,this._locale,l)}this._model.setOption(r,{replaceMerge:s},_D);var h={seriesTransition:o,optionChanged:!0};if(i)this[ts]={silent:a,updateParams:h},this[ua]=!1,this.getZr().wakeUp();else{try{Dg(this),nd.update.call(this,null,h)}catch(f){throw this[ts]=null,this[ua]=!1,f}this._ssr||this._zr.flush(),this[ts]=null,this[ua]=!1,Gy.call(this,a),qy.call(this,a)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||tr.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(r){return this.renderToCanvas(r)},t.prototype.renderToCanvas=function(r){r=r||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(r){r=r||{};var n=this._zr.painter;return n.renderToString({useViewBox:r.useViewBox})},t.prototype.getSvgDataURL=function(){if(tr.svgSupported){var r=this._zr,n=r.storage.getDisplayList();return V(n,function(i){i.stopAnimation(null,!0)}),r.painter.toDataURL()}},t.prototype.getDataURL=function(r){if(this._disposed){this.id;return}r=r||{};var n=r.excludeComponents,i=this._model,a=[],s=this;V(n,function(l){i.eachComponent({mainType:l},function(c){var u=s._componentsMap[c.__viewId];u.group.ignore||(a.push(u),u.group.ignore=!0)})});var o=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return V(a,function(l){l.group.ignore=!1}),o},t.prototype.getConnectedDataURL=function(r){if(this._disposed){this.id;return}var n=r.type==="svg",i=this.group,a=Math.min,s=Math.max,o=1/0;if(V9[i]){var l=o,c=o,u=-o,h=-o,f=[],p=r&&r.pixelRatio||this.getDevicePixelRatio();V(N_,function(_,b){if(_.group===i){var w=n?_.getZr().painter.getSvgDom().innerHTML:_.renderToCanvas(vt(r)),S=_.getDom().getBoundingClientRect();l=a(S.left,l),c=a(S.top,c),u=s(S.right,u),h=s(S.bottom,h),f.push({dom:w,left:S.left,top:S.top})}}),l*=p,c*=p,u*=p,h*=p;var g=u-l,v=h-c,m=dh.createCanvas(),y=XU(m,{renderer:n?"svg":"canvas"});if(y.resize({width:g,height:v}),n){var x="";return V(f,function(_){var b=_.left-l,w=_.top-c;x+='<g transform="translate('+b+","+w+')">'+_.dom+"</g>"}),y.painter.getSvgRoot().innerHTML=x,r.connectedBackgroundColor&&y.painter.setBackgroundColor(r.connectedBackgroundColor),y.refreshImmediately(),y.painter.toDataURL()}else return r.connectedBackgroundColor&&y.add(new xr({shape:{x:0,y:0,width:g,height:v},style:{fill:r.connectedBackgroundColor}})),V(f,function(_){var b=new Wi({style:{x:_.left*p-l,y:_.top*p-c,image:_.dom}});y.add(b)}),y.refreshImmediately(),m.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},t.prototype.convertToPixel=function(r,n){return CR(this,"convertToPixel",r,n)},t.prototype.convertFromPixel=function(r,n){return CR(this,"convertFromPixel",r,n)},t.prototype.containPixel=function(r,n){if(this._disposed){this.id;return}var i=this._model,a,s=b_(i,r);return V(s,function(o,l){l.indexOf("Models")>=0&&V(o,function(c){var u=c.coordinateSystem;if(u&&u.containPoint)a=a||!!u.containPoint(n);else if(l==="seriesModels"){var h=this._chartsMap[c.__viewId];h&&h.containPoint&&(a=a||h.containPoint(n,c))}},this)},this),!!a},t.prototype.getVisual=function(r,n){var i=this._model,a=b_(i,r,{defaultMainType:"series"}),s=a.seriesModel,o=s.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?o.indexOfRawIndex(a.dataIndex):null;return l!=null?G4(o,l,n):Yw(o,n)},t.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},t.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},t.prototype._initEvents=function(){var r=this;V(ARe,function(n){var i=function(a){var s=r.getModel(),o=a.target,l,c=n==="globalout";if(c?l={}:o&&Kf(o,function(g){var v=wt(g);if(v&&v.dataIndex!=null){var m=v.dataModel||s.getSeriesByIndex(v.seriesIndex);return l=m&&m.getDataParams(v.dataIndex,v.dataType,o)||{},!0}else if(v.eventData)return l=pe({},v.eventData),!0},!0),l){var u=l.componentType,h=l.componentIndex;(u==="markLine"||u==="markPoint"||u==="markArea")&&(u="series",h=l.seriesIndex);var f=u&&h!=null&&s.getComponent(u,h),p=f&&r[f.mainType==="series"?"_chartsMap":"_componentsMap"][f.__viewId];l.event=a,l.type=n,r._$eventProcessor.eventInfo={targetEl:o,packedEvent:l,model:f,view:p},r.trigger(n,l)}};i.zrEventfulCallAtLast=!0,r._zr.on(n,i,r)}),V(T_,function(n,i){r._messageCenter.on(i,function(a){this.trigger(i,a)},r)}),V(["selectchanged"],function(n){r._messageCenter.on(n,function(i){this.trigger(n,i)},r)}),Bje(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var r=this.getDom();r&&Rre(this.getDom(),X4,"");var n=this,i=n._api,a=n._model;V(n._componentsViews,function(s){s.dispose(a,i)}),V(n._chartsViews,function(s){s.dispose(a,i)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete N_[n.id]},t.prototype.resize=function(r){if(!this[ua]){if(this._disposed){this.id;return}this._zr.resize(r);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var i=n.resetOption("media"),a=r&&r.silent;this[ts]&&(a==null&&(a=this[ts].silent),i=!0,this[ts]=null),this[ua]=!0;try{i&&Dg(this),nd.update.call(this,{type:"resize",animation:pe({duration:0},r&&r.animation)})}catch(s){throw this[ua]=!1,s}this[ua]=!1,Gy.call(this,a),qy.call(this,a)}}},t.prototype.showLoading=function(r,n){if(this._disposed){this.id;return}if(ft(r)&&(n=r,r=""),r=r||"default",this.hideLoading(),!!bD[r]){var i=bD[r](this._api,n),a=this._zr;this._loadingFX=i,a.add(i)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(r){var n=pe({},r);return n.type=T_[r.type],n},t.prototype.dispatchAction=function(r,n){if(this._disposed){this.id;return}if(ft(n)||(n={silent:!!n}),!!fT[r.type]&&this._model){if(this[ua]){this._pendingActions.push(r);return}var i=n.silent;ER.call(this,r,i);var a=n.flush;a?this._zr.flush():a!==!1&&tr.browser.weChat&&this._throttledZrFlush(),Gy.call(this,i),qy.call(this,i)}},t.prototype.updateLabelLayout=function(){Go.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(r){if(this._disposed){this.id;return}var n=r.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(n);a.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=function(){Dg=function(h){var f=h._scheduler;f.restorePipelines(h._model),f.prepareStageTasks(),SR(h,!0),SR(h,!1),f.plan()},SR=function(h,f){for(var p=h._model,g=h._scheduler,v=f?h._componentsViews:h._chartsViews,m=f?h._componentsMap:h._chartsMap,y=h._zr,x=h._api,_=0;_<v.length;_++)v[_].__alive=!1;f?p.eachComponent(function(S,k){S!=="series"&&b(k)}):p.eachSeries(b);function b(S){var k=S.__requireNewView;S.__requireNewView=!1;var C="_ec_"+S.id+"_"+S.type,E=!k&&m[C];if(!E){var T=ec(S.type),N=f?Bn.getClass(T.main,T.sub):dn.getClass(T.sub);E=new N,E.init(p,x),m[C]=E,v.push(E),y.add(E.group)}S.__viewId=E.__id=C,E.__alive=!0,E.__model=S,E.group.__ecComponentInfo={mainType:S.mainType,index:S.componentIndex},!f&&g.prepareView(E,S,p,x)}for(var _=0;_<v.length;){var w=v[_];w.__alive?_++:(!f&&w.renderTask.dispose(),y.remove(w.group),w.dispose(p,x),v.splice(_,1),m[w.__id]===w&&delete m[w.__id],w.__id=w.group.__ecComponentInfo=null)}},ZS=function(h,f,p,g,v){var m=h._model;if(m.setUpdatePayload(p),!g){V([].concat(h._componentsViews).concat(h._chartsViews),w);return}var y={};y[g+"Id"]=p[g+"Id"],y[g+"Index"]=p[g+"Index"],y[g+"Name"]=p[g+"Name"];var x={mainType:g,query:y};v&&(x.subType=v);var _=p.excludeSeriesId,b;_!=null&&(b=Qe(),V(sn(_),function(S){var k=_i(S,null);k!=null&&b.set(k,!0)})),m&&m.eachComponent(x,function(S){var k=b&&b.get(S.id)!=null;if(!k)if(kH(p))if(S instanceof _n)p.type===up&&!p.notBlur&&!S.get(["emphasis","disabled"])&&GNe(S,p,h._api);else{var C=k4(S.mainType,S.componentIndex,p.name,h._api),E=C.focusSelf,T=C.dispatchers;p.type===up&&E&&!p.notBlur&&tD(S.mainType,S.componentIndex,h._api),T&&V(T,function(N){p.type===up?Eu(N):Tu(N)})}else nD(p)&&S instanceof _n&&(KNe(S,p,h._api),SH(S),ro(h))},h),m&&m.eachComponent(x,function(S){var k=b&&b.get(S.id)!=null;k||w(h[g==="series"?"_chartsMap":"_componentsMap"][S.__viewId])},h);function w(S){S&&S.__alive&&S[f]&&S[f](S.__model,m,h._api,p)}},nd={prepareAndUpdate:function(h){Dg(this),nd.update.call(this,h,{optionChanged:h.newOption!=null})},update:function(h,f){var p=this._model,g=this._api,v=this._zr,m=this._coordSysMgr,y=this._scheduler;if(p){p.setUpdatePayload(h),y.restoreData(p,h),y.performSeriesTasks(p),m.create(p,g),y.performDataProcessorTasks(p,h),kR(this,p),m.update(p,g),r(p),y.performVisualTasks(p,h),TR(this,p,g,h,f);var x=p.get("backgroundColor")||"transparent",_=p.get("darkMode");v.setBackgroundColor(x),_!=null&&_!=="auto"&&v.setDarkMode(_),Go.trigger("afterupdate",p,g)}},updateTransform:function(h){var f=this,p=this._model,g=this._api;if(p){p.setUpdatePayload(h);var v=[];p.eachComponent(function(y,x){if(y!=="series"){var _=f.getViewOfComponentModel(x);if(_&&_.__alive)if(_.updateTransform){var b=_.updateTransform(x,p,g,h);b&&b.update&&v.push(_)}else v.push(_)}});var m=Qe();p.eachSeries(function(y){var x=f._chartsMap[y.__viewId];if(x.updateTransform){var _=x.updateTransform(y,p,g,h);_&&_.update&&m.set(y.uid,1)}else m.set(y.uid,1)}),r(p),this._scheduler.performVisualTasks(p,h,{setDirty:!0,dirtyMap:m}),JS(this,p,g,h,{},m),Go.trigger("afterupdate",p,g)}},updateView:function(h){var f=this._model;f&&(f.setUpdatePayload(h),dn.markUpdateMethod(h,"updateView"),r(f),this._scheduler.performVisualTasks(f,h,{setDirty:!0}),TR(this,f,this._api,h,{}),Go.trigger("afterupdate",f,this._api))},updateVisual:function(h){var f=this,p=this._model;p&&(p.setUpdatePayload(h),p.eachSeries(function(g){g.getData().clearAllVisual()}),dn.markUpdateMethod(h,"updateVisual"),r(p),this._scheduler.performVisualTasks(p,h,{visualType:"visual",setDirty:!0}),p.eachComponent(function(g,v){if(g!=="series"){var m=f.getViewOfComponentModel(v);m&&m.__alive&&m.updateVisual(v,p,f._api,h)}}),p.eachSeries(function(g){var v=f._chartsMap[g.__viewId];v.updateVisual(g,p,f._api,h)}),Go.trigger("afterupdate",p,this._api))},updateLayout:function(h){nd.update.call(this,h)}},CR=function(h,f,p,g){if(h._disposed){h.id;return}for(var v=h._model,m=h._coordSysMgr.getCoordinateSystems(),y,x=b_(v,p),_=0;_<m.length;_++){var b=m[_];if(b[f]&&(y=b[f](v,x,g))!=null)return y}},kR=function(h,f){var p=h._chartsMap,g=h._scheduler;f.eachSeries(function(v){g.updateStreamModes(v,p[v.__viewId])})},ER=function(h,f){var p=this,g=this.getModel(),v=h.type,m=h.escapeConnect,y=fT[v],x=y.actionInfo,_=(x.update||"update").split(":"),b=_.pop(),w=_[0]!=null&&ec(_[0]);this[ua]=!0;var S=[h],k=!1;h.batch&&(k=!0,S=_e(h.batch,function(D){return D=ut(pe({},D),h),D.batch=null,D}));var C=[],E,T=nD(h),N=kH(h);if(N&&Jre(this._api),V(S,function(D){if(E=y.action(D,p._model,p._api),E=E||pe({},D),E.type=x.event||E.type,C.push(E),N){var $=v4(h),L=$.queryOptionMap,O=$.mainTypeSpecified,j=O?L.keys()[0]:"series";ZS(p,b,D,j),ro(p)}else T?(ZS(p,b,D,"series"),ro(p)):w&&ZS(p,b,D,w.main,w.sub)}),b!=="none"&&!N&&!T&&!w)try{this[ts]?(Dg(this),nd.update.call(this,h),this[ts]=null):nd[b].call(this,h)}catch(D){throw this[ua]=!1,D}if(k?E={type:x.event||v,escapeConnect:m,batch:C}:E=C[0],this[ua]=!1,!f){var I=this._messageCenter;if(I.trigger(E.type,E),T){var P={type:"selectchanged",escapeConnect:m,selected:XNe(g),isFromClick:h.isFromClick||!1,fromAction:h.type,fromActionPayload:h};I.trigger(P.type,P)}}},Gy=function(h){for(var f=this._pendingActions;f.length;){var p=f.shift();ER.call(this,p,h)}},qy=function(h){!h&&this.trigger("updated")},B9=function(h,f){h.on("rendered",function(p){f.trigger("rendered",p),h.animation.isFinished()&&!f[ts]&&!f._scheduler.unfinished&&!f._pendingActions.length&&f.trigger("finished")})},F9=function(h,f){h.on("mouseover",function(p){var g=p.target,v=Kf(g,kb);v&&(qNe(v,p,f._api),ro(f))}).on("mouseout",function(p){var g=p.target,v=Kf(g,kb);v&&(YNe(v,p,f._api),ro(f))}).on("click",function(p){var g=p.target,v=Kf(g,function(x){return wt(x).dataIndex!=null},!0);if(v){var m=v.selected?"unselect":"select",y=wt(v);f._api.dispatchAction({type:m,dataType:y.dataType,dataIndexInside:y.dataIndex,seriesIndex:y.seriesIndex,isFromClick:!0})}})};function r(h){h.clearColorPalette(),h.eachSeries(function(f){f.clearColorPalette()})}function n(h){var f=[],p=[],g=!1;if(h.eachComponent(function(x,_){var b=_.get("zlevel")||0,w=_.get("z")||0,S=_.getZLevelKey();g=g||!!S,(x==="series"?p:f).push({zlevel:b,z:w,idx:_.componentIndex,type:x,key:S})}),g){var v=f.concat(p),m,y;Lk(v,function(x,_){return x.zlevel===_.zlevel?x.z-_.z:x.zlevel-_.zlevel}),V(v,function(x){var _=h.getComponent(x.type,x.idx),b=x.zlevel,w=x.key;m!=null&&(b=Math.max(m,b)),w?(b===m&&w!==y&&b++,y=w):y&&(b===m&&b++,y=""),m=b,_.setZLevel(b)})}}TR=function(h,f,p,g,v){n(f),z9(h,f,p,g,v),V(h._chartsViews,function(m){m.__alive=!1}),JS(h,f,p,g,v),V(h._chartsViews,function(m){m.__alive||m.remove(f,p)})},z9=function(h,f,p,g,v,m){V(m||h._componentsViews,function(y){var x=y.__model;c(x,y),y.render(x,f,p,g),o(x,y),u(x,y)})},JS=function(h,f,p,g,v,m){var y=h._scheduler;v=pe(v||{},{updatedSeries:f.getSeries()}),Go.trigger("series:beforeupdate",f,p,v);var x=!1;f.eachSeries(function(_){var b=h._chartsMap[_.__viewId];b.__alive=!0;var w=b.renderTask;y.updatePayload(w,g),c(_,b),m&&m.get(_.uid)&&w.dirty(),w.perform(y.getPerformArgs(w))&&(x=!0),b.group.silent=!!_.get("silent"),s(_,b),SH(_)}),y.unfinished=x||y.unfinished,Go.trigger("series:layoutlabels",f,p,v),Go.trigger("series:transition",f,p,v),f.eachSeries(function(_){var b=h._chartsMap[_.__viewId];o(_,b),u(_,b)}),a(h,f),Go.trigger("series:afterupdate",f,p,v)},ro=function(h){h[bR]=!0,h.getZr().wakeUp()},H9=function(h){h[bR]&&(h.getZr().storage.traverse(function(f){ev(f)||i(f)}),h[bR]=!1)};function i(h){for(var f=[],p=h.currentStates,g=0;g<p.length;g++){var v=p[g];v==="emphasis"||v==="blur"||v==="select"||f.push(v)}h.selected&&h.states.select&&f.push("select"),h.hoverState===y2&&h.states.emphasis?f.push("emphasis"):h.hoverState===zw&&h.states.blur&&f.push("blur"),h.useStates(f)}function a(h,f){var p=h._zr,g=p.storage,v=0;g.traverse(function(m){m.isGroup||v++}),v>f.get("hoverLayerThreshold")&&!tr.node&&!tr.worker&&f.eachSeries(function(m){if(!m.preventUsingHoverLayer){var y=h._chartsMap[m.__viewId];y.__alive&&y.eachRendered(function(x){x.states.emphasis&&(x.states.emphasis.hoverLayer=!0)})}})}function s(h,f){var p=h.get("blendMode")||null;f.eachRendered(function(g){g.isGroup||(g.style.blend=p)})}function o(h,f){if(!h.preventAutoZ){var p=h.get("z")||0,g=h.get("zlevel")||0;f.eachRendered(function(v){return l(v,p,g,-1/0),!0})}}function l(h,f,p,g){var v=h.getTextContent(),m=h.getTextGuideLine(),y=h.isGroup;if(y)for(var x=h.childrenRef(),_=0;_<x.length;_++)g=Math.max(l(x[_],f,p,g),g);else h.z=f,h.zlevel=p,g=Math.max(h.z2,g);if(v&&(v.z=f,v.zlevel=p,isFinite(g)&&(v.z2=g+2)),m){var b=h.textGuideLineConfig;m.z=f,m.zlevel=p,isFinite(g)&&(m.z2=g+(b&&b.showAbove?1:-1))}return g}function c(h,f){f.eachRendered(function(p){if(!ev(p)){var g=p.getTextContent(),v=p.getTextGuideLine();p.stateTransition&&(p.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),p.hasState()?(p.prevStates=p.currentStates,p.clearStates()):p.prevStates&&(p.prevStates=null)}})}function u(h,f){var p=h.getModel("stateAnimation"),g=h.isAnimationEnabled(),v=p.get("duration"),m=v>0?{duration:v,delay:p.get("delay"),easing:p.get("easing")}:null;f.eachRendered(function(y){if(y.states&&y.states.emphasis){if(ev(y))return;if(y instanceof er&&t2e(y),y.__dirty){var x=y.prevStates;x&&y.useStates(x)}if(g){y.stateTransition=m;var _=y.getTextContent(),b=y.getTextGuideLine();_&&(_.stateTransition=m),b&&(b.stateTransition=m)}y.__dirty&&i(y)}})}U9=function(h){return new(function(f){ce(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.prototype.getCoordinateSystems=function(){return h._coordSysMgr.getCoordinateSystems()},p.prototype.getComponentByElement=function(g){for(;g;){var v=g.__ecComponentInfo;if(v!=null)return h._model.getComponent(v.mainType,v.index);g=g.parent}},p.prototype.enterEmphasis=function(g,v){Eu(g,v),ro(h)},p.prototype.leaveEmphasis=function(g,v){Tu(g,v),ro(h)},p.prototype.enterBlur=function(g){Yre(g),ro(h)},p.prototype.leaveBlur=function(g){C4(g),ro(h)},p.prototype.enterSelect=function(g){Kre(g),ro(h)},p.prototype.leaveSelect=function(g){Xre(g),ro(h)},p.prototype.getModel=function(){return h.getModel()},p.prototype.getViewOfComponentModel=function(g){return h.getViewOfComponentModel(g)},p.prototype.getViewOfSeriesModel=function(g){return h.getViewOfSeriesModel(g)},p}(Une))(h)},Oie=function(h){function f(p,g){for(var v=0;v<p.length;v++){var m=p[v];m[wR]=g}}V(T_,function(p,g){h._messageCenter.on(g,function(v){if(V9[h.group]&&h[wR]!==$9){if(v&&v.escapeConnect)return;var m=h.makeActionFromEvent(v),y=[];V(N_,function(x){x!==h&&x.group===h.group&&y.push(x)}),f(y,$9),V(y,function(x){x[wR]!==TRe&&x.dispatchAction(m)}),f(y,NRe)}})})}}(),t}(Po),K4=$ie.prototype;K4.on=Iie("on");K4.off=Iie("off");K4.one=function(e,t,r){var n=this;function i(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];t&&t.apply&&t.apply(this,a),n.off(e,i)}this.on.call(this,e,i,r)};var ARe=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var fT={},T_={},xD=[],_D=[],pT=[],Bie={},bD={},N_={},V9={},jRe=+new Date-0,X4="_echarts_instance_";function W9(e,t,r){{var n=RRe(e);if(n)return n}var i=new $ie(e,t,r);return i.id="ec_"+jRe++,N_[i.id]=i,Rre(e,X4,i.id),Oie(i),Go.trigger("afterinit",i),i}function RRe(e){return N_[HTe(e,X4)]}function Fie(e,t){Bie[e]=t}function zie(e){Wt(_D,e)<0&&_D.push(e)}function Uie(e,t){J4(xD,e,t,xRe)}function IRe(e){Z4("afterinit",e)}function MRe(e){Z4("afterupdate",e)}function Z4(e,t){Go.on(e,t)}function Ac(e,t,r){lt(t)&&(r=t,t="");var n=ft(e)?e.type:[e,e={event:t}][0];e.event=(e.event||n).toLowerCase(),t=e.event,!T_[t]&&(Wa(O9.test(n)&&O9.test(t)),fT[n]||(fT[n]={action:r,actionInfo:e}),T_[t]=n)}function PRe(e,t){qw.register(e,t)}function LRe(e,t){J4(pT,e,t,Aie,"layout")}function rg(e,t){J4(pT,e,t,jie,"visual")}var G9=[];function J4(e,t,r,n,i){if((lt(t)||ft(t))&&(r=t,t=n),!(Wt(G9,r)>=0)){G9.push(r);var a=gie.wrapStageHandler(r,i);a.__prio=t,a.__raw=r,e.push(a)}}function Hie(e,t){bD[e]=t}function DRe(e,t,r){var n=pRe("registerMap");n&&n(e,t,r)}var ORe=XAe;rg(Y4,wje);rg(P2,Sje);rg(P2,Cje);rg(Y4,Oje);rg(P2,$je);rg(Rie,hRe);zie(Vne);Uie(vRe,jAe);Hie("default",kje);Ac({type:up,event:up,update:up},ai);Ac({type:zk,event:zk,update:zk},ai);Ac({type:w_,event:w_,update:w_},ai);Ac({type:Uk,event:Uk,update:Uk},ai);Ac({type:S_,event:S_,update:S_},ai);Fie("light",Lje);Fie("dark",xie);var q9=[],$Re={registerPreprocessor:zie,registerProcessor:Uie,registerPostInit:IRe,registerPostUpdate:MRe,registerUpdateLifecycle:Z4,registerAction:Ac,registerCoordinateSystem:PRe,registerLayout:LRe,registerVisual:rg,registerTransform:ORe,registerLoading:Hie,registerMap:DRe,registerImpl:fRe,PRIORITY:ERe,ComponentModel:ir,ComponentView:Bn,SeriesModel:_n,ChartView:dn,registerComponentModel:function(e){ir.registerClass(e)},registerComponentView:function(e){Bn.registerClass(e)},registerSeriesModel:function(e){_n.registerClass(e)},registerChartView:function(e){dn.registerClass(e)},registerSubTypeDefaulter:function(e,t){ir.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){_Te(e,t)}};function Zt(e){if(ye(e)){V(e,function(t){Zt(t)});return}Wt(q9,e)>=0||(q9.push(e),lt(e)&&(e={install:e}),e.install($Re))}function Yy(e){return e==null?0:e.length||1}function Y9(e){return e}var Nu=function(){function e(t,r,n,i,a,s){this._old=t,this._new=r,this._oldKeyGetter=n||Y9,this._newKeyGetter=i||Y9,this.context=a,this._diffModeMultiple=s==="multiple"}return e.prototype.add=function(t){return this._add=t,this},e.prototype.update=function(t){return this._update=t,this},e.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},e.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},e.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},e.prototype.remove=function(t){return this._remove=t,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var t=this._old,r=this._new,n={},i=new Array(t.length),a=new Array(r.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(r,n,a,"_newKeyGetter");for(var s=0;s<t.length;s++){var o=i[s],l=n[o],c=Yy(l);if(c>1){var u=l.shift();l.length===1&&(n[o]=l[0]),this._update&&this._update(u,s)}else c===1?(n[o]=null,this._update&&this._update(l,s)):this._remove&&this._remove(s)}this._performRestAdd(a,n)},e.prototype._executeMultiple=function(){var t=this._old,r=this._new,n={},i={},a=[],s=[];this._initIndexMap(t,n,a,"_oldKeyGetter"),this._initIndexMap(r,i,s,"_newKeyGetter");for(var o=0;o<a.length;o++){var l=a[o],c=n[l],u=i[l],h=Yy(c),f=Yy(u);if(h>1&&f===1)this._updateManyToOne&&this._updateManyToOne(u,c),i[l]=null;else if(h===1&&f>1)this._updateOneToMany&&this._updateOneToMany(u,c),i[l]=null;else if(h===1&&f===1)this._update&&this._update(u,c),i[l]=null;else if(h>1&&f>1)this._updateManyToMany&&this._updateManyToMany(u,c),i[l]=null;else if(h>1)for(var p=0;p<h;p++)this._remove&&this._remove(c[p]);else this._remove&&this._remove(c)}this._performRestAdd(s,i)},e.prototype._performRestAdd=function(t,r){for(var n=0;n<t.length;n++){var i=t[n],a=r[i],s=Yy(a);if(s>1)for(var o=0;o<s;o++)this._add&&this._add(a[o]);else s===1&&this._add&&this._add(a);r[i]=null}},e.prototype._initIndexMap=function(t,r,n,i){for(var a=this._diffModeMultiple,s=0;s<t.length;s++){var o="_ec_"+this[i](t[s],s);if(a||(n[s]=o),!!r){var l=r[o],c=Yy(l);c===0?(r[o]=s,a&&n.push(o)):c===1?r[o]=[l,s]:l.push(s)}}},e}(),BRe=function(){function e(t,r){this._encode=t,this._schema=r}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e}();function FRe(e,t){var r={},n=r.encode={},i=Qe(),a=[],s=[],o={};V(e.dimensions,function(f){var p=e.getDimensionInfo(f),g=p.coordDim;if(g){var v=p.coordDimIndex;NR(n,g)[v]=f,p.isExtraCoord||(i.set(g,1),zRe(p.type)&&(a[0]=f),NR(o,g)[v]=e.getDimensionIndex(p.name)),p.defaultTooltip&&s.push(f)}Lne.each(function(m,y){var x=NR(n,y),_=p.otherDims[y];_!=null&&_!==!1&&(x[_]=p.name)})});var l=[],c={};i.each(function(f,p){var g=n[p];c[p]=g[0],l=l.concat(g)}),r.dataDimsOnCoord=l,r.dataDimIndicesOnCoord=_e(l,function(f){return e.getDimensionInfo(f).storeDimIndex}),r.encodeFirstDimNotExtra=c;var u=n.label;u&&u.length&&(a=u.slice());var h=n.tooltip;return h&&h.length?s=h.slice():s.length||(s=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=s,r.userOutput=new BRe(o,t),r}function NR(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function gT(e){return e==="category"?"ordinal":e==="time"?"time":"float"}function zRe(e){return!(e==="ordinal"||e==="time")}var qk=function(){function e(t){this.otherDims={},t!=null&&pe(this,t)}return e}(),URe=_r(),HRe={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Vie=function(){function e(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=qie(this.source)))},e.prototype.getSourceDimensionIndex=function(t){return Et(this._dimNameMap.get(t),-1)},e.prototype.getSourceDimension=function(t){var r=this.source.dimensionsDefine;if(r)return r[t]},e.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,r=Gne(this.source),n=!Yie(t),i="",a=[],s=0,o=0;s<t;s++){var l=void 0,c=void 0,u=void 0,h=this.dimensions[o];if(h&&h.storeDimIndex===s)l=r?h.name:null,c=h.type,u=h.ordinalMeta,o++;else{var f=this.getSourceDimension(s);f&&(l=r?f.name:null,c=f.type)}a.push({property:l,type:c,ordinalMeta:u}),r&&l!=null&&(!h||!h.isCalculationCoord)&&(i+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=HRe[c]||"f",u&&(i+=u.uid),i+="$"}var p=this.source,g=[p.seriesLayoutBy,p.startIndex,i].join("$$");return{dimensions:a,hash:g}},e.prototype.makeOutputDimensionNames=function(){for(var t=[],r=0,n=0;r<this._fullDimCount;r++){var i=void 0,a=this.dimensions[n];if(a&&a.storeDimIndex===r)a.isCalculationCoord||(i=a.name),n++;else{var s=this.getSourceDimension(r);s&&(i=s.name)}t.push(i)}return t},e.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e}();function Wie(e){return e instanceof Vie}function Gie(e){for(var t=Qe(),r=0;r<(e||[]).length;r++){var n=e[r],i=ft(n)?n.name:n;i!=null&&t.get(i)==null&&t.set(i,r)}return t}function qie(e){var t=URe(e);return t.dimNameMap||(t.dimNameMap=Gie(e.dimensionsDefine))}function Yie(e){return e>30}var Ky=ft,id=_e,VRe=typeof Int32Array>"u"?Array:Int32Array,WRe="e\0\0",K9=-1,GRe=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],qRe=["_approximateExtent"],X9,QS,Xy,Zy,AR,Jy,jR,Ha=function(){function e(t,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,i=!1;Wie(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(i=!0,n=t),n=n||["x","y"];for(var a={},s=[],o={},l=!1,c={},u=0;u<n.length;u++){var h=n[u],f=We(h)?new qk({name:h}):h instanceof qk?h:new qk(h),p=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=p,f.coordDimIndex=0);var g=f.otherDims=f.otherDims||{};s.push(p),a[p]=f,c[p]!=null&&(l=!0),f.createInvertedIndices&&(o[p]=[]),g.itemName===0&&(this._nameDimIdx=u),g.itemId===0&&(this._idDimIdx=u),i&&(f.storeDimIndex=u)}if(this.dimensions=s,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=r,this._invertedIndicesMap=o,this._dimOmitted){var v=this._dimIdxToName=Qe();V(s,function(m){v.set(a[m].storeDimIndex,m)})}}return e.prototype.getDimension=function(t){var r=this._recognizeDimIndex(t);if(r==null)return t;if(r=t,!this._dimOmitted)return this.dimensions[r];var n=this._dimIdxToName.get(r);if(n!=null)return n;var i=this._schema.getSourceDimension(r);if(i)return i.name},e.prototype.getDimensionIndex=function(t){var r=this._recognizeDimIndex(t);if(r!=null)return r;if(t==null)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},e.prototype._recognizeDimIndex=function(t){if(Nr(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},e.prototype._getStoreDimIndex=function(t){var r=this.getDimensionIndex(t);return r},e.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},e.prototype._initGetDimensionInfo=function(t){var r=this._dimInfos;this._getDimInfo=t?function(n){return r.hasOwnProperty(n)?r[n]:void 0}:function(n){return r[n]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(t,r){var n=this._dimSummary;if(r==null)return n.encodeFirstDimNotExtra[t];var i=n.encode[t];return i?i[r]:null},e.prototype.mapDimensionsAll=function(t){var r=this._dimSummary,n=r.encode[t];return(n||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(t,r,n){var i=this,a;if(t instanceof hD&&(a=t),!a){var s=this.dimensions,o=z4(t)||_a(t)?new qne(t,s.length):t;a=new hD;var l=id(s,function(c){return{type:i._dimInfos[c].type,property:c}});a.initData(o,l,n)}this._store=a,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=FRe(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(t){var r=this._store.appendData(t);this._doInit(r[0],r[1])},e.prototype.appendValues=function(t,r){var n=this._store.appendValues(t,r&&r.length),i=n.start,a=n.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var o=i;o<a;o++){var l=o-i;this._nameList[o]=r[l],s&&jR(this,o)}},e.prototype._updateOrdinalMeta=function(){for(var t=this._store,r=this.dimensions,n=0;n<r.length;n++){var i=this._dimInfos[r[n]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==th&&!t.fillStorage},e.prototype._doInit=function(t,r){if(!(t>=r)){var n=this._store,i=n.getProvider();this._updateOrdinalMeta();var a=this._nameList,s=this._idList,o=i.getSource().sourceFormat,l=o===Lo;if(l&&!i.pure)for(var c=[],u=t;u<r;u++){var h=i.getItem(u,c);if(!this.hasItemOption&&jTe(h)&&(this.hasItemOption=!0),h){var f=h.name;a[u]==null&&f!=null&&(a[u]=_i(f,null));var p=h.id;s[u]==null&&p!=null&&(s[u]=_i(p,null))}}if(this._shouldMakeIdFromName())for(var u=t;u<r;u++)jR(this,u);X9(this)}},e.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.setApproximateExtent=function(t,r){r=this.getDimension(r),this._approximateExtent[r]=t.slice()},e.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},e.prototype.setCalculationInfo=function(t,r){Ky(t)?pe(this._calculationInfo,t):this._calculationInfo[t]=r},e.prototype.getName=function(t){var r=this.getRawIndex(t),n=this._nameList[r];return n==null&&this._nameDimIdx!=null&&(n=Xy(this,this._nameDimIdx,r)),n==null&&(n=""),n},e.prototype._getCategory=function(t,r){var n=this._store.get(t,r),i=this._store.getOrdinalMeta(t);return i?i.categories[n]:n},e.prototype.getId=function(t){return QS(this,this.getRawIndex(t))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(t,r){var n=this._store,i=this._dimInfos[t];if(i)return n.get(i.storeDimIndex,r)},e.prototype.getByRawIndex=function(t,r){var n=this._store,i=this._dimInfos[t];if(i)return n.getByRawIndex(i.storeDimIndex,r)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},e.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},e.prototype.getValues=function(t,r){var n=this,i=this._store;return ye(t)?i.getValues(id(t,function(a){return n._getStoreDimIndex(a)}),r):i.getValues(t)},e.prototype.hasValue=function(t){for(var r=this._dimSummary.dataDimIndicesOnCoord,n=0,i=r.length;n<i;n++)if(isNaN(this._store.get(r[n],t)))return!1;return!0},e.prototype.indexOfName=function(t){for(var r=0,n=this._store.count();r<n;r++)if(this.getName(r)===t)return r;return-1},e.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},e.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},e.prototype.rawIndexOf=function(t,r){var n=t&&this._invertedIndicesMap[t],i=n&&n[r];return i==null||isNaN(i)?K9:i},e.prototype.indicesOfNearest=function(t,r,n){return this._store.indicesOfNearest(this._getStoreDimIndex(t),r,n)},e.prototype.each=function(t,r,n){lt(t)&&(n=r,r=t,t=[]);var i=n||this,a=id(Zy(t),this._getStoreDimIndex,this);this._store.each(a,i?Ke(r,i):r)},e.prototype.filterSelf=function(t,r,n){lt(t)&&(n=r,r=t,t=[]);var i=n||this,a=id(Zy(t),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?Ke(r,i):r),this},e.prototype.selectRange=function(t){var r=this,n={},i=ar(t);return V(i,function(a){var s=r._getStoreDimIndex(a);n[s]=t[a]}),this._store=this._store.selectRange(n),this},e.prototype.mapArray=function(t,r,n){lt(t)&&(n=r,r=t,t=[]),n=n||this;var i=[];return this.each(t,function(){i.push(r&&r.apply(this,arguments))},n),i},e.prototype.map=function(t,r,n,i){var a=n||i||this,s=id(Zy(t),this._getStoreDimIndex,this),o=Jy(this);return o._store=this._store.map(s,a?Ke(r,a):r),o},e.prototype.modify=function(t,r,n,i){var a=n||i||this,s=id(Zy(t),this._getStoreDimIndex,this);this._store.modify(s,a?Ke(r,a):r)},e.prototype.downSample=function(t,r,n,i){var a=Jy(this);return a._store=this._store.downSample(this._getStoreDimIndex(t),r,n,i),a},e.prototype.minmaxDownSample=function(t,r){var n=Jy(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),r),n},e.prototype.lttbDownSample=function(t,r){var n=Jy(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),r),n},e.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},e.prototype.getItemModel=function(t){var r=this.hostModel,n=this.getRawDataItem(t);return new Vr(n,r,r&&r.ecModel)},e.prototype.diff=function(t){var r=this;return new Nu(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(n){return QS(t,n)},function(n){return QS(r,n)})},e.prototype.getVisual=function(t){var r=this._visual;return r&&r[t]},e.prototype.setVisual=function(t,r){this._visual=this._visual||{},Ky(t)?pe(this._visual,t):this._visual[t]=r},e.prototype.getItemVisual=function(t,r){var n=this._itemVisuals[t],i=n&&n[r];return i??this.getVisual(r)},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(t,r){var n=this._itemVisuals,i=n[t];i||(i=n[t]={});var a=i[r];return a==null&&(a=this.getVisual(r),ye(a)?a=a.slice():Ky(a)&&(a=pe({},a)),i[r]=a),a},e.prototype.setItemVisual=function(t,r,n){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,Ky(r)?pe(i,r):i[r]=n},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(t,r){Ky(t)?pe(this._layout,t):this._layout[t]=r},e.prototype.getLayout=function(t){return this._layout[t]},e.prototype.getItemLayout=function(t){return this._itemLayouts[t]},e.prototype.setItemLayout=function(t,r,n){this._itemLayouts[t]=n?pe(this._itemLayouts[t]||{},r):r},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(t,r){var n=this.hostModel&&this.hostModel.seriesIndex;QL(n,this.dataType,t,r),this._graphicEls[t]=r},e.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},e.prototype.eachItemGraphicEl=function(t,r){V(this._graphicEls,function(n,i){n&&t&&t.call(r,n,i)})},e.prototype.cloneShallow=function(t){return t||(t=new e(this._schema?this._schema:id(this.dimensions,this._getDimInfo,this),this.hostModel)),AR(t,this),t._store=this._store,t},e.prototype.wrapMethod=function(t,r){var n=this[t];lt(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var i=n.apply(this,arguments);return r.apply(this,[i].concat(o4(arguments)))})},e.internalField=function(){X9=function(t){var r=t._invertedIndicesMap;V(r,function(n,i){var a=t._dimInfos[i],s=a.ordinalMeta,o=t._store;if(s){n=r[i]=new VRe(s.categories.length);for(var l=0;l<n.length;l++)n[l]=K9;for(var l=0;l<o.count();l++)n[o.get(a.storeDimIndex,l)]=l}})},Xy=function(t,r,n){return _i(t._getCategory(r,n),null)},QS=function(t,r){var n=t._idList[r];return n==null&&t._idDimIdx!=null&&(n=Xy(t,t._idDimIdx,r)),n==null&&(n=WRe+r),n},Zy=function(t){return ye(t)||(t=t!=null?[t]:[]),t},Jy=function(t){var r=new e(t._schema?t._schema:id(t.dimensions,t._getDimInfo,t),t.hostModel);return AR(r,t),r},AR=function(t,r){V(GRe.concat(r.__wrappedMethods||[]),function(n){r.hasOwnProperty(n)&&(t[n]=r[n])}),t.__wrappedMethods=r.__wrappedMethods,V(qRe,function(n){t[n]=vt(r[n])}),t._calculationInfo=pe({},r._calculationInfo)},jR=function(t,r){var n=t._nameList,i=t._idList,a=t._nameDimIdx,s=t._idDimIdx,o=n[r],l=i[r];if(o==null&&a!=null&&(n[r]=o=Xy(t,a,r)),l==null&&s!=null&&(i[r]=l=Xy(t,s,r)),l==null&&o!=null){var c=t._nameRepeatCount,u=c[o]=(c[o]||0)+1;l=o,u>1&&(l+="__ec__"+u),i[r]=l}}}(),e}();function Kw(e,t){z4(e)||(e=U4(e)),t=t||{};var r=t.coordDimensions||[],n=t.dimensionsDefine||e.dimensionsDefine||[],i=Qe(),a=[],s=KRe(e,r,n,t.dimensionsCount),o=t.canOmitUnusedDimensions&&Yie(s),l=n===e.dimensionsDefine,c=l?qie(e):Gie(n),u=t.encodeDefine;!u&&t.encodeDefaulter&&(u=t.encodeDefaulter(e,s));for(var h=Qe(u),f=new tie(s),p=0;p<f.length;p++)f[p]=-1;function g(E){var T=f[E];if(T<0){var N=n[E],I=ft(N)?N:{name:N},P=new qk,D=I.name;D!=null&&c.get(D)!=null&&(P.name=P.displayName=D),I.type!=null&&(P.type=I.type),I.displayName!=null&&(P.displayName=I.displayName);var $=a.length;return f[E]=$,P.storeDimIndex=E,a.push(P),P}return a[T]}if(!o)for(var p=0;p<s;p++)g(p);h.each(function(E,T){var N=sn(E).slice();if(N.length===1&&!We(N[0])&&N[0]<0){h.set(T,!1);return}var I=h.set(T,[]);V(N,function(P,D){var $=We(P)?c.get(P):P;$!=null&&$<s&&(I[D]=$,m(g($),T,D))})});var v=0;V(r,function(E){var T,N,I,P;if(We(E))T=E,P={};else{P=E,T=P.name;var D=P.ordinalMeta;P.ordinalMeta=null,P=pe({},P),P.ordinalMeta=D,N=P.dimsDef,I=P.otherDims,P.name=P.coordDim=P.coordDimIndex=P.dimsDef=P.otherDims=null}var $=h.get(T);if($!==!1){if($=sn($),!$.length)for(var L=0;L<(N&&N.length||1);L++){for(;v<s&&g(v).coordDim!=null;)v++;v<s&&$.push(v++)}V($,function(O,j){var M=g(O);if(l&&P.type!=null&&(M.type=P.type),m(ut(M,P),T,j),M.name==null&&N){var R=N[j];!ft(R)&&(R={name:R}),M.name=M.displayName=R.name,M.defaultTooltip=R.defaultTooltip}I&&ut(M.otherDims,I)})}});function m(E,T,N){Lne.get(T)!=null?E.otherDims[T]=N:(E.coordDim=T,E.coordDimIndex=N,i.set(T,!0))}var y=t.generateCoord,x=t.generateCoordCount,_=x!=null;x=y?x||1:0;var b=y||"value";function w(E){E.name==null&&(E.name=E.coordDim)}if(o)V(a,function(E){w(E)}),a.sort(function(E,T){return E.storeDimIndex-T.storeDimIndex});else for(var S=0;S<s;S++){var k=g(S),C=k.coordDim;C==null&&(k.coordDim=XRe(b,i,_),k.coordDimIndex=0,(!y||x<=0)&&(k.isExtraCoord=!0),x--),w(k),k.type==null&&(Bne(e,S)===Yi.Must||k.isExtraCoord&&(k.otherDims.itemName!=null||k.otherDims.seriesName!=null))&&(k.type="ordinal")}return YRe(a),new Vie({source:e,dimensions:a,fullDimensionCount:s,dimensionOmitted:o})}function YRe(e){for(var t=Qe(),r=0;r<e.length;r++){var n=e[r],i=n.name,a=t.get(i)||0;a>0&&(n.name=i+(a-1)),a++,t.set(i,a)}}function KRe(e,t,r,n){var i=Math.max(e.dimensionsDetectedCount||1,t.length,r.length,n||0);return V(t,function(a){var s;ft(a)&&(s=a.dimsDef)&&(i=Math.max(i,s.length))}),i}function XRe(e,t,r){if(r||t.hasKey(e)){for(var n=0;t.hasKey(e+n);)n++;e+=n}return t.set(e,!0),e}var ZRe=function(){function e(t){this.coordSysDims=[],this.axisMap=Qe(),this.categoryAxisMap=Qe(),this.coordSysName=t}return e}();function JRe(e){var t=e.get("coordinateSystem"),r=new ZRe(t),n=QRe[t];if(n)return n(e,r,r.axisMap,r.categoryAxisMap),r}var QRe={cartesian2d:function(e,t,r,n){var i=e.getReferringComponents("xAxis",di).models[0],a=e.getReferringComponents("yAxis",di).models[0];t.coordSysDims=["x","y"],r.set("x",i),r.set("y",a),Og(i)&&(n.set("x",i),t.firstCategoryDimIndex=0),Og(a)&&(n.set("y",a),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,r,n){var i=e.getReferringComponents("singleAxis",di).models[0];t.coordSysDims=["single"],r.set("single",i),Og(i)&&(n.set("single",i),t.firstCategoryDimIndex=0)},polar:function(e,t,r,n){var i=e.getReferringComponents("polar",di).models[0],a=i.findAxisModel("radiusAxis"),s=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],r.set("radius",a),r.set("angle",s),Og(a)&&(n.set("radius",a),t.firstCategoryDimIndex=0),Og(s)&&(n.set("angle",s),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(e,t,r,n){t.coordSysDims=["lng","lat"]},parallel:function(e,t,r,n){var i=e.ecModel,a=i.getComponent("parallel",e.get("parallelIndex")),s=t.coordSysDims=a.dimensions.slice();V(a.parallelAxisIndex,function(o,l){var c=i.getComponent("parallelAxis",o),u=s[l];r.set(u,c),Og(c)&&(n.set(u,c),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=l))})}};function Og(e){return e.get("type")==="category"}function eIe(e,t,r){r=r||{};var n=r.byIndex,i=r.stackedCoordDimension,a,s,o;tIe(t)?a=t:(s=t.schema,a=s.dimensions,o=t.store);var l=!!(e&&e.get("stack")),c,u,h,f;if(V(a,function(x,_){We(x)&&(a[_]=x={name:x}),l&&!x.isExtraCoord&&(!n&&!c&&x.ordinalMeta&&(c=x),!u&&x.type!=="ordinal"&&x.type!=="time"&&(!i||i===x.coordDim)&&(u=x))}),u&&!n&&!c&&(n=!0),u){h="__\0ecstackresult_"+e.id,f="__\0ecstackedover_"+e.id,c&&(c.createInvertedIndices=!0);var p=u.coordDim,g=u.type,v=0;V(a,function(x){x.coordDim===p&&v++});var m={name:h,coordDim:p,coordDimIndex:v,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},y={name:f,coordDim:f,coordDimIndex:v+1,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};s?(o&&(m.storeDimIndex=o.ensureCalculationDimension(f,g),y.storeDimIndex=o.ensureCalculationDimension(h,g)),s.appendCalculationDimension(m),s.appendCalculationDimension(y)):(a.push(m),a.push(y))}return{stackedDimension:u&&u.name,stackedByDimension:c&&c.name,isStackedByIndex:n,stackedOverDimension:f,stackResultDimension:h}}function tIe(e){return!Wie(e.schema)}function gh(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function Kie(e,t){return gh(e,t)?e.getCalculationInfo("stackResultDimension"):t}function rIe(e,t){var r=e.get("coordinateSystem"),n=qw.get(r),i;return t&&t.coordSysDims&&(i=_e(t.coordSysDims,function(a){var s={name:a},o=t.axisMap.get(a);if(o){var l=o.get("type");s.type=gT(l)}return s})),i||(i=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),i}function nIe(e,t,r){var n,i;return r&&V(e,function(a,s){var o=a.coordDim,l=r.categoryAxisMap.get(o);l&&(n==null&&(n=s),a.ordinalMeta=l.getOrdinalMeta(),t&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&n!=null&&(e[n].otherDims.itemName=0),n}function Uu(e,t,r){r=r||{};var n=t.getSourceManager(),i,a=!1;e?(a=!0,i=U4(e)):(i=n.getSource(),a=i.sourceFormat===Lo);var s=JRe(t),o=rIe(t,s),l=r.useEncodeDefaulter,c=lt(l)?l:l?At($ne,o,t):null,u={coordDimensions:o,generateCoord:r.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!a},h=Kw(i,u),f=nIe(h.dimensions,r.createInvertedIndices,s),p=a?null:n.getSharedDataStore(h),g=eIe(t,{schema:h,store:p}),v=new Ha(h,t);v.setCalculationInfo(g);var m=f!=null&&iIe(i)?function(y,x,_,b){return b===f?_:this.defaultDimValueGetter(y,x,_,b)}:null;return v.hasItemOption=!1,v.initData(a?i:p,null,m),v}function iIe(e){if(e.sourceFormat===Lo){var t=aIe(e.data||[]);return!ye(g0(t))}}function aIe(e){for(var t=0;t<e.length&&e[t]==null;)t++;return e[t]}var jc=function(){function e(t){this._setting=t||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(t){return this._setting[t]},e.prototype.unionExtent=function(t){var r=this._extent;t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1])},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(t,r){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(r)||(n[1]=r)},e.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(t){this._isBlank=t},e}();p2(jc);var sIe=0,wD=function(){function e(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++sIe}return e.createByAxisModel=function(t){var r=t.option,n=r.data,i=n&&_e(n,oIe);return new e({categories:i,needCollect:!i,deduplication:r.dedplication!==!1})},e.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},e.prototype.parseAndCollect=function(t){var r,n=this._needCollect;if(!We(t)&&!n)return t;if(n&&!this._deduplication)return r=this.categories.length,this.categories[r]=t,r;var i=this._getOrCreateMap();return r=i.get(t),r==null&&(n?(r=this.categories.length,this.categories[r]=t,i.set(t,r)):r=NaN),r},e.prototype._getOrCreateMap=function(){return this._map||(this._map=Qe(this.categories))},e}();function oIe(e){return ft(e)&&e.value!=null?e.value:e+""}function SD(e){return e.type==="interval"||e.type==="log"}function lIe(e,t,r,n){var i={},a=e[1]-e[0],s=i.interval=Sre(a/t);r!=null&&s<r&&(s=i.interval=r),n!=null&&s>n&&(s=i.interval=n);var o=i.intervalPrecision=Xie(s),l=i.niceTickExtent=[ei(Math.ceil(e[0]/s)*s,o),ei(Math.floor(e[1]/s)*s,o)];return cIe(l,e),i}function RR(e){var t=Math.pow(10,g4(e)),r=e/t;return r?r===2?r=3:r===3?r=5:r*=2:r=1,ei(r*t)}function Xie(e){return Ql(e)+2}function Z9(e,t,r){e[t]=Math.max(Math.min(e[t],r[1]),r[0])}function cIe(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),Z9(e,0,t),Z9(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function L2(e,t){return e>=t[0]&&e<=t[1]}function D2(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function O2(e,t){return e*(t[1]-t[0])+t[0]}var $2=function(e){ce(t,e);function t(r){var n=e.call(this,r)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new wD({})),ye(i)&&(i=new wD({categories:_e(i,function(a){return ft(a)?a.value:a})})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return t.prototype.parse=function(r){return r==null?NaN:We(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)},t.prototype.contain=function(r){return r=this.parse(r),L2(r,this._extent)&&this._ordinalMeta.categories[r]!=null},t.prototype.normalize=function(r){return r=this._getTickNumber(this.parse(r)),D2(r,this._extent)},t.prototype.scale=function(r){return r=Math.round(O2(r,this._extent)),this.getRawOrdinalNumber(r)},t.prototype.getTicks=function(){for(var r=[],n=this._extent,i=n[0];i<=n[1];)r.push({value:i}),i++;return r},t.prototype.getMinorTicks=function(r){},t.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=r.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],s=0,o=this._ordinalMeta.categories.length,l=Math.min(o,n.length);s<l;++s){var c=n[s];i[s]=c,a[c]=s}for(var u=0;s<o;++s){for(;a[u]!=null;)u++;i.push(u),a[u]=s}},t.prototype._getTickNumber=function(r){var n=this._ticksByOrdinalNumber;return n&&r>=0&&r<n.length?n[r]:r},t.prototype.getRawOrdinalNumber=function(r){var n=this._ordinalNumbersByTick;return n&&r>=0&&r<n.length?n[r]:r},t.prototype.getLabel=function(r){if(!this.isBlank()){var n=this.getRawOrdinalNumber(r.value),i=this._ordinalMeta.categories[n];return i==null?"":i+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},t.prototype.isInExtentRange=function(r){return r=this._getTickNumber(r),this._extent[0]<=r&&this._extent[1]>=r},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(jc);jc.registerClass($2);var hf=ei,Au=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return t.prototype.parse=function(r){return r},t.prototype.contain=function(r){return L2(r,this._extent)},t.prototype.normalize=function(r){return D2(r,this._extent)},t.prototype.scale=function(r){return O2(r,this._extent)},t.prototype.setExtent=function(r,n){var i=this._extent;isNaN(r)||(i[0]=parseFloat(r)),isNaN(n)||(i[1]=parseFloat(n))},t.prototype.unionExtent=function(r){var n=this._extent;r[0]<n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1]),this.setExtent(n[0],n[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(r){this._interval=r,this._niceExtent=this._extent.slice(),this._intervalPrecision=Xie(r)},t.prototype.getTicks=function(r){var n=this._interval,i=this._extent,a=this._niceExtent,s=this._intervalPrecision,o=[];if(!n)return o;var l=1e4;i[0]<a[0]&&(r?o.push({value:hf(a[0]-n,s)}):o.push({value:i[0]}));for(var c=a[0];c<=a[1]&&(o.push({value:c}),c=hf(c+n,s),c!==o[o.length-1].value);)if(o.length>l)return[];var u=o.length?o[o.length-1].value:a[1];return i[1]>u&&(r?o.push({value:hf(u+n,s)}):o.push({value:i[1]})),o},t.prototype.getMinorTicks=function(r){for(var n=this.getTicks(!0),i=[],a=this.getExtent(),s=1;s<n.length;s++){for(var o=n[s],l=n[s-1],c=0,u=[],h=o.value-l.value,f=h/r;c<r-1;){var p=hf(l.value+(c+1)*f);p>a[0]&&p<a[1]&&u.push(p),c++}i.push(u)}return i},t.prototype.getLabel=function(r,n){if(r==null)return"";var i=n&&n.precision;i==null?i=Ql(r.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=hf(r.value,i,!0);return Ane(a)},t.prototype.calcNiceTicks=function(r,n,i){r=r||5;var a=this._extent,s=a[1]-a[0];if(isFinite(s)){s<0&&(s=-s,a.reverse());var o=lIe(a,r,n,i);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},t.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1])if(n[0]!==0){var i=Math.abs(n[0]);r.fixMax||(n[1]+=i/2),n[0]-=i/2}else n[1]=1;var a=n[1]-n[0];isFinite(a)||(n[0]=0,n[1]=1),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var s=this._interval;r.fixMin||(n[0]=hf(Math.floor(n[0]/s)*s)),r.fixMax||(n[1]=hf(Math.ceil(n[1]/s)*s))},t.prototype.setNiceExtent=function(r,n){this._niceExtent=[r,n]},t.type="interval",t}(jc);jc.registerClass(Au);var Zie=typeof Float32Array<"u",uIe=Zie?Float32Array:Array;function tc(e){return ye(e)?Zie?new Float32Array(e):e:new uIe(e)}var CD="__ec_stack_";function Jie(e){return e.get("stack")||CD+e.seriesIndex}function Q4(e){return e.dim+e.index}function dIe(e){var t=[],r=e.axis,n="axis0";if(r.type==="category"){for(var i=r.getBandWidth(),a=0;a<e.count;a++)t.push(ut({bandWidth:i,axisKey:n,stackId:CD+a},e));for(var s=tae(t),o=[],a=0;a<e.count;a++){var l=s[n][CD+a];l.offsetCenter=l.offset+l.width/2,o.push(l)}return o}}function Qie(e,t){var r=[];return t.eachSeriesByType(e,function(n){iae(n)&&r.push(n)}),r}function hIe(e){var t={};V(e,function(l){var c=l.coordinateSystem,u=c.getBaseAxis();if(!(u.type!=="time"&&u.type!=="value"))for(var h=l.getData(),f=u.dim+"_"+u.index,p=h.getDimensionIndex(h.mapDimension(u.dim)),g=h.getStore(),v=0,m=g.count();v<m;++v){var y=g.get(p,v);t[f]?t[f].push(y):t[f]=[y]}});var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(i){i.sort(function(l,c){return l-c});for(var a=null,s=1;s<i.length;++s){var o=i[s]-i[s-1];o>0&&(a=a===null?o:Math.min(a,o))}r[n]=a}}return r}function eae(e){var t=hIe(e),r=[];return V(e,function(n){var i=n.coordinateSystem,a=i.getBaseAxis(),s=a.getExtent(),o;if(a.type==="category")o=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var l=a.dim+"_"+a.index,c=t[l],u=Math.abs(s[1]-s[0]),h=a.scale.getExtent(),f=Math.abs(h[1]-h[0]);o=c?u/f*c:u}else{var p=n.getData();o=Math.abs(s[1]-s[0])/p.count()}var g=Le(n.get("barWidth"),o),v=Le(n.get("barMaxWidth"),o),m=Le(n.get("barMinWidth")||(aae(n)?.5:1),o),y=n.get("barGap"),x=n.get("barCategoryGap");r.push({bandWidth:o,barWidth:g,barMaxWidth:v,barMinWidth:m,barGap:y,barCategoryGap:x,axisKey:Q4(a),stackId:Jie(n)})}),tae(r)}function tae(e){var t={};V(e,function(n,i){var a=n.axisKey,s=n.bandWidth,o=t[a]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=o.stacks;t[a]=o;var c=n.stackId;l[c]||o.autoWidthCount++,l[c]=l[c]||{width:0,maxWidth:0};var u=n.barWidth;u&&!l[c].width&&(l[c].width=u,u=Math.min(o.remainedWidth,u),o.remainedWidth-=u);var h=n.barMaxWidth;h&&(l[c].maxWidth=h);var f=n.barMinWidth;f&&(l[c].minWidth=f);var p=n.barGap;p!=null&&(o.gap=p);var g=n.barCategoryGap;g!=null&&(o.categoryGap=g)});var r={};return V(t,function(n,i){r[i]={};var a=n.stacks,s=n.bandWidth,o=n.categoryGap;if(o==null){var l=ar(a).length;o=Math.max(35-l*4,15)+"%"}var c=Le(o,s),u=Le(n.gap,1),h=n.remainedWidth,f=n.autoWidthCount,p=(h-c)/(f+(f-1)*u);p=Math.max(p,0),V(a,function(y){var x=y.maxWidth,_=y.minWidth;if(y.width){var b=y.width;x&&(b=Math.min(b,x)),_&&(b=Math.max(b,_)),y.width=b,h-=b+u*b,f--}else{var b=p;x&&x<b&&(b=Math.min(x,h)),_&&_>b&&(b=_),b!==p&&(y.width=b,h-=b+u*b,f--)}}),p=(h-c)/(f+(f-1)*u),p=Math.max(p,0);var g=0,v;V(a,function(y,x){y.width||(y.width=p),v=y,g+=y.width*(1+u)}),v&&(g-=v.width*u);var m=-g/2;V(a,function(y,x){r[i][x]=r[i][x]||{bandWidth:s,offset:m,width:y.width},m+=y.width*(1+u)})}),r}function fIe(e,t,r){if(e&&t){var n=e[Q4(t)];return n}}function rae(e,t){var r=Qie(e,t),n=eae(r);V(r,function(i){var a=i.getData(),s=i.coordinateSystem,o=s.getBaseAxis(),l=Jie(i),c=n[Q4(o)][l],u=c.offset,h=c.width;a.setLayout({bandWidth:c.bandWidth,offset:u,size:h})})}function nae(e){return{seriesType:e,plan:S0(),reset:function(t){if(iae(t)){var r=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),a=n.getOtherAxis(i),s=r.getDimensionIndex(r.mapDimension(a.dim)),o=r.getDimensionIndex(r.mapDimension(i.dim)),l=t.get("showBackground",!0),c=r.mapDimension(a.dim),u=r.getCalculationInfo("stackResultDimension"),h=gh(r,c)&&!!r.getCalculationInfo("stackedOnSeries"),f=a.isHorizontal(),p=pIe(i,a),g=aae(t),v=t.get("barMinHeight")||0,m=u&&r.getDimensionIndex(u),y=r.getLayout("size"),x=r.getLayout("offset");return{progress:function(_,b){for(var w=_.count,S=g&&tc(w*3),k=g&&l&&tc(w*3),C=g&&tc(w),E=n.master.getRect(),T=f?E.width:E.height,N,I=b.getStore(),P=0;(N=_.next())!=null;){var D=I.get(h?m:s,N),$=I.get(o,N),L=p,O=void 0;h&&(O=+D-I.get(s,N));var j=void 0,M=void 0,R=void 0,z=void 0;if(f){var U=n.dataToPoint([D,$]);if(h){var F=n.dataToPoint([O,$]);L=F[0]}j=L,M=U[1]+x,R=U[0]-L,z=y,Math.abs(R)<v&&(R=(R<0?-1:1)*v)}else{var U=n.dataToPoint([$,D]);if(h){var F=n.dataToPoint([$,O]);L=F[1]}j=U[0]+x,M=L,R=y,z=U[1]-L,Math.abs(z)<v&&(z=(z<=0?-1:1)*v)}g?(S[P]=j,S[P+1]=M,S[P+2]=f?R:z,k&&(k[P]=f?E.x:j,k[P+1]=f?M:E.y,k[P+2]=T),C[N]=N):b.setItemLayout(N,{x:j,y:M,width:R,height:z}),P+=3}g&&b.setLayout({largePoints:S,largeDataIndices:C,largeBackgroundPoints:k,valueAxisHorizontal:f})}}}}}}function iae(e){return e.coordinateSystem&&e.coordinateSystem.type==="cartesian2d"}function aae(e){return e.pipelineContext&&e.pipelineContext.large}function pIe(e,t){var r=t.model.get("startValue");return r||(r=0),t.toGlobalCoord(t.dataToCoord(t.type==="log"?r>0?r:1:r))}var gIe=function(e,t,r,n){for(;r<n;){var i=r+n>>>1;e[i][1]<t?r=i+1:n=i}return r},e$=function(e){ce(t,e);function t(r){var n=e.call(this,r)||this;return n.type="time",n}return t.prototype.getLabel=function(r){var n=this.getSetting("useUTC");return k2(r.value,FH[X2e(rv(this._minLevelUnit))]||FH.second,n,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(r,n,i){var a=this.getSetting("useUTC"),s=this.getSetting("locale");return Z2e(r,n,i,s,a)},t.prototype.getTicks=function(){var r=this._interval,n=this._extent,i=[];if(!r)return i;i.push({value:n[0],level:0});var a=this.getSetting("useUTC"),s=wIe(this._minLevelUnit,this._approxInterval,a,n);return i=i.concat(s),i.push({value:n[1],level:0}),i},t.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1]&&(n[0]-=So,n[1]+=So),n[1]===-1/0&&n[0]===1/0){var i=new Date;n[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),n[0]=n[1]-So}this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)},t.prototype.calcNiceTicks=function(r,n,i){r=r||10;var a=this._extent,s=a[1]-a[0];this._approxInterval=s/r,n!=null&&this._approxInterval<n&&(this._approxInterval=n),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var o=eC.length,l=Math.min(gIe(eC,this._approxInterval,0,o),o-1);this._interval=eC[l][1],this._minLevelUnit=eC[Math.max(l-1,0)][0]},t.prototype.parse=function(r){return Nr(r)?r:+bc(r)},t.prototype.contain=function(r){return L2(this.parse(r),this._extent)},t.prototype.normalize=function(r){return D2(this.parse(r),this._extent)},t.prototype.scale=function(r){return O2(r,this._extent)},t.type="time",t}(Au),eC=[["second",M4],["minute",P4],["hour",k_],["quarter-day",k_*6],["half-day",k_*12],["day",So*1.2],["half-week",So*3.5],["week",So*7],["month",So*31],["quarter",So*95],["half-year",BH/2],["year",BH]];function mIe(e,t,r,n){var i=bc(t),a=bc(r),s=function(g){return zH(i,g,n)===zH(a,g,n)},o=function(){return s("year")},l=function(){return o()&&s("month")},c=function(){return l()&&s("day")},u=function(){return c()&&s("hour")},h=function(){return u()&&s("minute")},f=function(){return h()&&s("second")},p=function(){return f()&&s("millisecond")};switch(e){case"year":return o();case"month":return l();case"day":return c();case"hour":return u();case"minute":return h();case"second":return f();case"millisecond":return p()}}function vIe(e,t){return e/=So,e>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function yIe(e){var t=30*So;return e/=t,e>6?6:e>3?3:e>2?2:1}function xIe(e){return e/=k_,e>12?12:e>6?6:e>3.5?4:e>2?2:1}function J9(e,t){return e/=t?P4:M4,e>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function _Ie(e){return Sre(e)}function bIe(e,t,r){var n=new Date(e);switch(rv(t)){case"year":case"month":n[Sne(r)](0);case"day":n[Cne(r)](1);case"hour":n[kne(r)](0);case"minute":n[Ene(r)](0);case"second":n[Tne(r)](0),n[Nne(r)](0)}return n.getTime()}function wIe(e,t,r,n){var i=1e4,a=bne,s=0;function o(T,N,I,P,D,$,L){for(var O=new Date(N),j=N,M=O[P]();j<I&&j<=n[1];)L.push({value:j}),M+=T,O[D](M),j=O.getTime();L.push({value:j,notAdd:!0})}function l(T,N,I){var P=[],D=!N.length;if(!mIe(rv(T),n[0],n[1],r)){D&&(N=[{value:bIe(new Date(n[0]),T,r)},{value:n[1]}]);for(var $=0;$<N.length-1;$++){var L=N[$].value,O=N[$+1].value;if(L!==O){var j=void 0,M=void 0,R=void 0,z=!1;switch(T){case"year":j=Math.max(1,Math.round(t/So/365)),M=L4(r),R=J2e(r);break;case"half-year":case"quarter":case"month":j=yIe(t),M=nv(r),R=Sne(r);break;case"week":case"half-week":case"day":j=vIe(t),M=E2(r),R=Cne(r),z=!0;break;case"half-day":case"quarter-day":case"hour":j=xIe(t),M=Tb(r),R=kne(r);break;case"minute":j=J9(t,!0),M=T2(r),R=Ene(r);break;case"second":j=J9(t,!1),M=N2(r),R=Tne(r);break;case"millisecond":j=_Ie(t),M=A2(r),R=Nne(r);break}o(j,L,O,M,R,z,P),T==="year"&&I.length>1&&$===0&&I.unshift({value:I[0].value-j})}}for(var $=0;$<P.length;$++)I.push(P[$]);return P}}for(var c=[],u=[],h=0,f=0,p=0;p<a.length&&s++<i;++p){var g=rv(a[p]);if(K2e(a[p])){l(a[p],c[c.length-1]||[],u);var v=a[p+1]?rv(a[p+1]):null;if(g!==v){if(u.length){f=h,u.sort(function(T,N){return T.value-N.value});for(var m=[],y=0;y<u.length;++y){var x=u[y].value;(y===0||u[y-1].value!==x)&&(m.push(u[y]),x>=n[0]&&x<=n[1]&&h++)}var _=(n[1]-n[0])/t;if(h>_*1.5&&f>_/1.5||(c.push(m),h>_||e===a[p]))break}u=[]}}}for(var b=Br(_e(c,function(T){return Br(T,function(N){return N.value>=n[0]&&N.value<=n[1]&&!N.notAdd})}),function(T){return T.length>0}),w=[],S=b.length-1,p=0;p<b.length;++p)for(var k=b[p],C=0;C<k.length;++C)w.push({value:k[C].value,level:S-p});w.sort(function(T,N){return T.value-N.value});for(var E=[],p=0;p<w.length;++p)(p===0||w[p].value!==w[p-1].value)&&E.push(w[p]);return E}jc.registerClass(e$);var Q9=jc.prototype,A_=Au.prototype,SIe=ei,CIe=Math.floor,kIe=Math.ceil,tC=Math.pow,zo=Math.log,t$=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new Au,r._interval=0,r}return t.prototype.getTicks=function(r){var n=this._originalScale,i=this._extent,a=n.getExtent(),s=A_.getTicks.call(this,r);return _e(s,function(o){var l=o.value,c=ei(tC(this.base,l));return c=l===i[0]&&this._fixMin?rC(c,a[0]):c,c=l===i[1]&&this._fixMax?rC(c,a[1]):c,{value:c}},this)},t.prototype.setExtent=function(r,n){var i=zo(this.base);r=zo(Math.max(0,r))/i,n=zo(Math.max(0,n))/i,A_.setExtent.call(this,r,n)},t.prototype.getExtent=function(){var r=this.base,n=Q9.getExtent.call(this);n[0]=tC(r,n[0]),n[1]=tC(r,n[1]);var i=this._originalScale,a=i.getExtent();return this._fixMin&&(n[0]=rC(n[0],a[0])),this._fixMax&&(n[1]=rC(n[1],a[1])),n},t.prototype.unionExtent=function(r){this._originalScale.unionExtent(r);var n=this.base;r[0]=zo(r[0])/zo(n),r[1]=zo(r[1])/zo(n),Q9.unionExtent.call(this,r)},t.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},t.prototype.calcNiceTicks=function(r){r=r||10;var n=this._extent,i=n[1]-n[0];if(!(i===1/0||i<=0)){var a=ATe(i),s=r/i*a;for(s<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var o=[ei(kIe(n[0]/a)*a),ei(CIe(n[1]/a)*a)];this._interval=a,this._niceExtent=o}},t.prototype.calcNiceExtent=function(r){A_.calcNiceExtent.call(this,r),this._fixMin=r.fixMin,this._fixMax=r.fixMax},t.prototype.parse=function(r){return r},t.prototype.contain=function(r){return r=zo(r)/zo(this.base),L2(r,this._extent)},t.prototype.normalize=function(r){return r=zo(r)/zo(this.base),D2(r,this._extent)},t.prototype.scale=function(r){return r=O2(r,this._extent),tC(this.base,r)},t.type="log",t}(jc),sae=t$.prototype;sae.getMinorTicks=A_.getMinorTicks;sae.getLabel=A_.getLabel;function rC(e,t){return SIe(e,Ql(t))}jc.registerClass(t$);var EIe=function(){function e(t,r,n){this._prepareParams(t,r,n)}return e.prototype._prepareParams=function(t,r,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&r.getNeedCrossZero&&r.getNeedCrossZero();var a=r.get("min",!0);a==null&&(a=r.get("startValue",!0));var s=this._modelMinRaw=a;lt(s)?this._modelMinNum=nC(t,s({min:n[0],max:n[1]})):s!=="dataMin"&&(this._modelMinNum=nC(t,s));var o=this._modelMaxRaw=r.get("max",!0);if(lt(o)?this._modelMaxNum=nC(t,o({min:n[0],max:n[1]})):o!=="dataMax"&&(this._modelMaxNum=nC(t,o)),i)this._axisDataLen=r.getCategories().length;else{var l=r.get("boundaryGap"),c=ye(l)?l:[l||0,l||0];typeof c[0]=="boolean"||typeof c[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[pl(c[0],1),pl(c[1],1)]}},e.prototype.calculate=function(){var t=this._isOrdinal,r=this._dataMin,n=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,s=t?null:n-r||Math.abs(r),o=this._modelMinRaw==="dataMin"?r:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,c=o!=null,u=l!=null;o==null&&(o=t?i?0:NaN:r-a[0]*s),l==null&&(l=t?i?i-1:NaN:n+a[1]*s),(o==null||!isFinite(o))&&(o=NaN),(l==null||!isFinite(l))&&(l=NaN);var h=vb(o)||vb(l)||t&&!i;this._needCrossZero&&(o>0&&l>0&&!c&&(o=0),o<0&&l<0&&!u&&(l=0));var f=this._determinedMin,p=this._determinedMax;return f!=null&&(o=f,c=!0),p!=null&&(l=p,u=!0),{min:o,max:l,minFixed:c,maxFixed:u,isBlank:h}},e.prototype.modifyDataMinMax=function(t,r){this[NIe[t]]=r},e.prototype.setDeterminedMinMax=function(t,r){var n=TIe[t];this[n]=r},e.prototype.freeze=function(){this.frozen=!0},e}(),TIe={min:"_determinedMin",max:"_determinedMax"},NIe={min:"_dataMin",max:"_dataMax"};function oae(e,t,r){var n=e.rawExtentInfo;return n||(n=new EIe(e,t,r),e.rawExtentInfo=n,n)}function nC(e,t){return t==null?null:vb(t)?NaN:e.parse(t)}function lae(e,t){var r=e.type,n=oae(e,t,e.getExtent()).calculate();e.setBlank(n.isBlank);var i=n.min,a=n.max,s=t.ecModel;if(s&&r==="time"){var o=Qie("bar",s),l=!1;if(V(o,function(h){l=l||h.getBaseAxis()===t.axis}),l){var c=eae(o),u=AIe(i,a,t,c);i=u.min,a=u.max}}return{extent:[i,a],fixMin:n.minFixed,fixMax:n.maxFixed}}function AIe(e,t,r,n){var i=r.axis.getExtent(),a=Math.abs(i[1]-i[0]),s=fIe(n,r.axis);if(s===void 0)return{min:e,max:t};var o=1/0;V(s,function(p){o=Math.min(p.offset,o)});var l=-1/0;V(s,function(p){l=Math.max(p.offset+p.width,l)}),o=Math.abs(o),l=Math.abs(l);var c=o+l,u=t-e,h=1-(o+l)/a,f=u/h-u;return t+=f*(l/c),e-=f*(o/c),{min:e,max:t}}function jv(e,t){var r=t,n=lae(e,r),i=n.extent,a=r.get("splitNumber");e instanceof t$&&(e.base=r.get("logBase"));var s=e.type,o=r.get("interval"),l=s==="interval"||s==="time";e.setExtent(i[0],i[1]),e.calcNiceExtent({splitNumber:a,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?r.get("minInterval"):null,maxInterval:l?r.get("maxInterval"):null}),o!=null&&e.setInterval&&e.setInterval(o)}function B2(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new $2({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new e$({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(jc.getClass(t)||Au)}}function jIe(e){var t=e.scale.getExtent(),r=t[0],n=t[1];return!(r>0&&n>0||r<0&&n<0)}function E0(e){var t=e.getLabelModel().get("formatter"),r=e.type==="category"?e.scale.getExtent()[0]:null;return e.scale.type==="time"?function(n){return function(i,a){return e.scale.getFormattedLabel(i,a,n)}}(t):We(t)?function(n){return function(i){var a=e.scale.getLabel(i),s=n.replace("{value}",a??"");return s}}(t):lt(t)?function(n){return function(i,a){return r!=null&&(a=i.value-r),n(r$(e,i),a,i.level!=null?{level:i.level}:null)}}(t):function(n){return e.scale.getLabel(n)}}function r$(e,t){return e.type==="category"?e.scale.getLabel(t):t.value}function RIe(e){var t=e.model,r=e.scale;if(!(!t.get(["axisLabel","show"])||r.isBlank())){var n,i,a=r.getExtent();r instanceof $2?i=r.count():(n=r.getTicks(),i=n.length);var s=e.getLabelModel(),o=E0(e),l,c=1;i>40&&(c=Math.ceil(i/40));for(var u=0;u<i;u+=c){var h=n?n[u]:{value:a[0]+u},f=o(h,u),p=s.getTextRect(f),g=IIe(p,s.get("rotate")||0);l?l.union(g):l=g}return l}}function IIe(e,t){var r=t*Math.PI/180,n=e.width,i=e.height,a=n*Math.abs(Math.cos(r))+Math.abs(i*Math.sin(r)),s=n*Math.abs(Math.sin(r))+Math.abs(i*Math.cos(r)),o=new Bt(e.x,e.y,a,s);return o}function n$(e){var t=e.get("interval");return t??"auto"}function cae(e){return e.type==="category"&&n$(e.getLabelModel())===0}function mT(e,t){var r={};return V(e.mapDimensionsAll(t),function(n){r[Kie(e,n)]=!0}),ar(r)}function MIe(e,t,r){t&&V(mT(t,r),function(n){var i=t.getApproximateExtent(n);i[0]<e[0]&&(e[0]=i[0]),i[1]>e[1]&&(e[1]=i[1])})}var Xw=function(){function e(){}return e.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},e.prototype.getCoordSysModel=function(){},e}(),PIe=1e-8;function eV(e,t){return Math.abs(e-t)<PIe}function If(e,t,r){var n=0,i=e[0];if(!i)return!1;for(var a=1;a<e.length;a++){var s=e[a];n+=Xc(i[0],i[1],s[0],s[1],t,r),i=s}var o=e[0];return(!eV(i[0],o[0])||!eV(i[1],o[1]))&&(n+=Xc(i[0],i[1],o[0],o[1],t,r)),n!==0}var LIe=[];function IR(e,t){for(var r=0;r<e.length;r++)Ji(e[r],e[r],t)}function tV(e,t,r,n){for(var i=0;i<e.length;i++){var a=e[i];n&&(a=n.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(Md(t,t,a),Pd(r,r,a))}}function DIe(e){for(var t=0,r=0,n=0,i=e.length,a=e[i-1][0],s=e[i-1][1],o=0;o<i;o++){var l=e[o][0],c=e[o][1],u=a*c-l*s;t+=u,r+=(a+l)*u,n+=(s+c)*u,a=l,s=c}return t?[r/t/3,n/t/3,t]:[e[0][0]||0,e[0][1]||0]}var uae=function(){function e(t){this.name=t}return e.prototype.setCenter=function(t){this._center=t},e.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},e}(),rV=function(){function e(t,r){this.type="polygon",this.exterior=t,this.interiors=r}return e}(),nV=function(){function e(t){this.type="linestring",this.points=t}return e}(),dae=function(e){ce(t,e);function t(r,n,i){var a=e.call(this,r)||this;return a.type="geoJSON",a.geometries=n,a._center=i&&[i[0],i[1]],a}return t.prototype.calcCenter=function(){for(var r=this.geometries,n,i=0,a=0;a<r.length;a++){var s=r[a],o=s.exterior,l=o&&o.length;l>i&&(n=s,i=l)}if(n)return DIe(n.exterior);var c=this.getBoundingRect();return[c.x+c.width/2,c.y+c.height/2]},t.prototype.getBoundingRect=function(r){var n=this._rect;if(n&&!r)return n;var i=[1/0,1/0],a=[-1/0,-1/0],s=this.geometries;return V(s,function(o){o.type==="polygon"?tV(o.exterior,i,a,r):V(o.points,function(l){tV(l,i,a,r)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])||(i[0]=i[1]=a[0]=a[1]=0),n=new Bt(i[0],i[1],a[0]-i[0],a[1]-i[1]),r||(this._rect=n),n},t.prototype.contain=function(r){var n=this.getBoundingRect(),i=this.geometries;if(!n.contain(r[0],r[1]))return!1;e:for(var a=0,s=i.length;a<s;a++){var o=i[a];if(o.type==="polygon"){var l=o.exterior,c=o.interiors;if(If(l,r[0],r[1])){for(var u=0;u<(c?c.length:0);u++)if(If(c[u],r[0],r[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(r,n,i,a){var s=this.getBoundingRect(),o=s.width/s.height;i?a||(a=i/o):i=o*a;for(var l=new Bt(r,n,i,a),c=s.calculateTransform(l),u=this.geometries,h=0;h<u.length;h++){var f=u[h];f.type==="polygon"?(IR(f.exterior,c),V(f.interiors,function(p){IR(p,c)})):V(f.points,function(p){IR(p,c)})}s=this._rect,s.copy(l),this._center=[s.x+s.width/2,s.y+s.height/2]},t.prototype.cloneShallow=function(r){r==null&&(r=this.name);var n=new t(r,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},t}(uae),OIe=function(e){ce(t,e);function t(r,n){var i=e.call(this,r)||this;return i.type="geoSVG",i._elOnlyForCalculate=n,i}return t.prototype.calcCenter=function(){for(var r=this._elOnlyForCalculate,n=r.getBoundingRect(),i=[n.x+n.width/2,n.y+n.height/2],a=u2(LIe),s=r;s&&!s.isGeoSVGGraphicRoot;)fu(a,s.getLocalTransform(),a),s=s.parent;return p0(a,a),Ji(i,i,a),i},t}(uae);function $Ie(e){if(!e.UTF8Encoding)return e;var t=e,r=t.UTF8Scale;r==null&&(r=1024);var n=t.features;return V(n,function(i){var a=i.geometry,s=a.encodeOffsets,o=a.coordinates;if(s)switch(a.type){case"LineString":a.coordinates=hae(o,s,r);break;case"Polygon":MR(o,s,r);break;case"MultiLineString":MR(o,s,r);break;case"MultiPolygon":V(o,function(l,c){return MR(l,s[c],r)})}}),t.UTF8Encoding=!1,t}function MR(e,t,r){for(var n=0;n<e.length;n++)e[n]=hae(e[n],t[n],r)}function hae(e,t,r){for(var n=[],i=t[0],a=t[1],s=0;s<e.length;s+=2){var o=e.charCodeAt(s)-64,l=e.charCodeAt(s+1)-64;o=o>>1^-(o&1),l=l>>1^-(l&1),o+=i,l+=a,i=o,a=l,n.push([o/r,l/r])}return n}function BIe(e,t){return e=$Ie(e),_e(Br(e.features,function(r){return r.geometry&&r.properties&&r.geometry.coordinates.length>0}),function(r){var n=r.properties,i=r.geometry,a=[];switch(i.type){case"Polygon":var s=i.coordinates;a.push(new rV(s[0],s.slice(1)));break;case"MultiPolygon":V(i.coordinates,function(l){l[0]&&a.push(new rV(l[0],l.slice(1)))});break;case"LineString":a.push(new nV([i.coordinates]));break;case"MultiLineString":a.push(new nV(i.coordinates))}var o=new dae(n[t||"name"],a,n.cp);return o.properties=n,o})}var Mb=_r();function fae(e,t){var r=_e(t,function(n){return e.scale.parse(n)});return e.type==="time"&&r.length>0&&(r.sort(),r.unshift(r[0]),r.push(r[r.length-1])),r}function FIe(e){var t=e.getLabelModel().get("customValues");if(t){var r=E0(e),n=e.scale.getExtent(),i=fae(e,t),a=Br(i,function(s){return s>=n[0]&&s<=n[1]});return{labels:_e(a,function(s){var o={value:s};return{formattedLabel:r(o),rawLabel:e.scale.getLabel(o),tickValue:s}})}}return e.type==="category"?UIe(e):VIe(e)}function zIe(e,t){var r=e.getTickModel().get("customValues");if(r){var n=e.scale.getExtent(),i=fae(e,r);return{ticks:Br(i,function(a){return a>=n[0]&&a<=n[1]})}}return e.type==="category"?HIe(e,t):{ticks:_e(e.scale.getTicks(),function(a){return a.value})}}function UIe(e){var t=e.getLabelModel(),r=pae(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function pae(e,t){var r=gae(e,"labels"),n=n$(t),i=mae(r,n);if(i)return i;var a,s;return lt(n)?a=xae(e,n):(s=n==="auto"?WIe(e):n,a=yae(e,s)),vae(r,n,{labels:a,labelCategoryInterval:s})}function HIe(e,t){var r=gae(e,"ticks"),n=n$(t),i=mae(r,n);if(i)return i;var a,s;if((!t.get("show")||e.scale.isBlank())&&(a=[]),lt(n))a=xae(e,n,!0);else if(n==="auto"){var o=pae(e,e.getLabelModel());s=o.labelCategoryInterval,a=_e(o.labels,function(l){return l.tickValue})}else s=n,a=yae(e,s,!0);return vae(r,n,{ticks:a,tickCategoryInterval:s})}function VIe(e){var t=e.scale.getTicks(),r=E0(e);return{labels:_e(t,function(n,i){return{level:n.level,formattedLabel:r(n,i),rawLabel:e.scale.getLabel(n),tickValue:n.value}})}}function gae(e,t){return Mb(e)[t]||(Mb(e)[t]=[])}function mae(e,t){for(var r=0;r<e.length;r++)if(e[r].key===t)return e[r].value}function vae(e,t,r){return e.push({key:t,value:r}),r}function WIe(e){var t=Mb(e).autoInterval;return t??(Mb(e).autoInterval=e.calculateCategoryInterval())}function GIe(e){var t=qIe(e),r=E0(e),n=(t.axisRotate-t.labelRotate)/180*Math.PI,i=e.scale,a=i.getExtent(),s=i.count();if(a[1]-a[0]<1)return 0;var o=1;s>40&&(o=Math.max(1,Math.floor(s/40)));for(var l=a[0],c=e.dataToCoord(l+1)-e.dataToCoord(l),u=Math.abs(c*Math.cos(n)),h=Math.abs(c*Math.sin(n)),f=0,p=0;l<=a[1];l+=o){var g=0,v=0,m=Bw(r({value:l}),t.font,"center","top");g=m.width*1.3,v=m.height*1.3,f=Math.max(f,g,7),p=Math.max(p,v,7)}var y=f/u,x=p/h;isNaN(y)&&(y=1/0),isNaN(x)&&(x=1/0);var _=Math.max(0,Math.floor(Math.min(y,x))),b=Mb(e.model),w=e.getExtent(),S=b.lastAutoInterval,k=b.lastTickCount;return S!=null&&k!=null&&Math.abs(S-_)<=1&&Math.abs(k-s)<=1&&S>_&&b.axisExtent0===w[0]&&b.axisExtent1===w[1]?_=S:(b.lastTickCount=s,b.lastAutoInterval=_,b.axisExtent0=w[0],b.axisExtent1=w[1]),_}function qIe(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function yae(e,t,r){var n=E0(e),i=e.scale,a=i.getExtent(),s=e.getLabelModel(),o=[],l=Math.max((t||0)+1,1),c=a[0],u=i.count();c!==0&&l>1&&u/l>2&&(c=Math.round(Math.ceil(c/l)*l));var h=cae(e),f=s.get("showMinLabel")||h,p=s.get("showMaxLabel")||h;f&&c!==a[0]&&v(a[0]);for(var g=c;g<=a[1];g+=l)v(g);p&&g-l!==a[1]&&v(a[1]);function v(m){var y={value:m};o.push(r?m:{formattedLabel:n(y),rawLabel:i.getLabel(y),tickValue:m})}return o}function xae(e,t,r){var n=e.scale,i=E0(e),a=[];return V(n.getTicks(),function(s){var o=n.getLabel(s),l=s.value;t(s.value,o)&&a.push(r?l:{formattedLabel:i(s),rawLabel:o,tickValue:l})}),a}var iV=[0,1],Sl=function(){function e(t,r,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=r,this._extent=n||[0,0]}return e.prototype.contain=function(t){var r=this._extent,n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return t>=n&&t<=i},e.prototype.containData=function(t){return this.scale.contain(t)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(t){return bre(t||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(t,r){var n=this._extent;n[0]=t,n[1]=r},e.prototype.dataToCoord=function(t,r){var n=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&i.type==="ordinal"&&(n=n.slice(),aV(n,i.count())),Hr(t,iV,n,r)},e.prototype.coordToData=function(t,r){var n=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(n=n.slice(),aV(n,i.count()));var a=Hr(t,n,iV,r);return this.scale.scale(a)},e.prototype.pointToData=function(t,r){},e.prototype.getTicksCoords=function(t){t=t||{};var r=t.tickModel||this.getTickModel(),n=zIe(this,r),i=n.ticks,a=_e(i,function(o){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(o):o),tickValue:o}},this),s=r.get("alignWithLabel");return YIe(this,a,s,t.clamp),a},e.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),r=t.get("splitNumber");r>0&&r<100||(r=5);var n=this.scale.getMinorTicks(r),i=_e(n,function(a){return _e(a,function(s){return{coord:this.dataToCoord(s),tickValue:s}},this)},this);return i},e.prototype.getViewLabels=function(){return FIe(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var t=this._extent,r=this.scale.getExtent(),n=r[1]-r[0]+(this.onBand?1:0);n===0&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},e.prototype.calculateCategoryInterval=function(){return GIe(this)},e}();function aV(e,t){var r=e[1]-e[0],n=t,i=r/n/2;e[0]+=i,e[1]-=i}function YIe(e,t,r,n){var i=t.length;if(!e.onBand||r||!i)return;var a=e.getExtent(),s,o;if(i===1)t[0].coord=a[0],s=t[1]={coord:a[1],tickValue:t[0].tickValue};else{var l=t[i-1].tickValue-t[0].tickValue,c=(t[i-1].coord-t[0].coord)/l;V(t,function(p){p.coord-=c/2});var u=e.scale.getExtent();o=1+u[1]-t[i-1].tickValue,s={coord:t[i-1].coord+c*o,tickValue:u[1]+1},t.push(s)}var h=a[0]>a[1];f(t[0].coord,a[0])&&(n?t[0].coord=a[0]:t.shift()),n&&f(a[0],t[0].coord)&&t.unshift({coord:a[0]}),f(a[1],s.coord)&&(n?s.coord=a[1]:t.pop()),n&&f(s.coord,a[1])&&t.push({coord:a[1]});function f(p,g){return p=ei(p),g=ei(g),h?p>g:p<g}}var Qy=Math.PI*2,ff=wc.CMD,KIe=["top","right","bottom","left"];function XIe(e,t,r,n,i){var a=r.width,s=r.height;switch(e){case"top":n.set(r.x+a/2,r.y-t),i.set(0,-1);break;case"bottom":n.set(r.x+a/2,r.y+s+t),i.set(0,1);break;case"left":n.set(r.x-t,r.y+s/2),i.set(-1,0);break;case"right":n.set(r.x+a+t,r.y+s/2),i.set(1,0);break}}function ZIe(e,t,r,n,i,a,s,o,l){s-=e,o-=t;var c=Math.sqrt(s*s+o*o);s/=c,o/=c;var u=s*r+e,h=o*r+t;if(Math.abs(n-i)%Qy<1e-4)return l[0]=u,l[1]=h,c-r;if(a){var f=n;n=Ls(i),i=Ls(f)}else n=Ls(n),i=Ls(i);n>i&&(i+=Qy);var p=Math.atan2(o,s);if(p<0&&(p+=Qy),p>=n&&p<=i||p+Qy>=n&&p+Qy<=i)return l[0]=u,l[1]=h,c-r;var g=r*Math.cos(n)+e,v=r*Math.sin(n)+t,m=r*Math.cos(i)+e,y=r*Math.sin(i)+t,x=(g-s)*(g-s)+(v-o)*(v-o),_=(m-s)*(m-s)+(y-o)*(y-o);return x<_?(l[0]=g,l[1]=v,Math.sqrt(x)):(l[0]=m,l[1]=y,Math.sqrt(_))}function vT(e,t,r,n,i,a,s,o){var l=i-e,c=a-t,u=r-e,h=n-t,f=Math.sqrt(u*u+h*h);u/=f,h/=f;var p=l*u+c*h,g=p/f;o&&(g=Math.min(Math.max(g,0),1)),g*=f;var v=s[0]=e+g*u,m=s[1]=t+g*h;return Math.sqrt((v-i)*(v-i)+(m-a)*(m-a))}function _ae(e,t,r,n,i,a,s){r<0&&(e=e+r,r=-r),n<0&&(t=t+n,n=-n);var o=e+r,l=t+n,c=s[0]=Math.min(Math.max(i,e),o),u=s[1]=Math.min(Math.max(a,t),l);return Math.sqrt((c-i)*(c-i)+(u-a)*(u-a))}var Ko=[];function JIe(e,t,r){var n=_ae(t.x,t.y,t.width,t.height,e.x,e.y,Ko);return r.set(Ko[0],Ko[1]),n}function QIe(e,t,r){for(var n=0,i=0,a=0,s=0,o,l,c=1/0,u=t.data,h=e.x,f=e.y,p=0;p<u.length;){var g=u[p++];p===1&&(n=u[p],i=u[p+1],a=n,s=i);var v=c;switch(g){case ff.M:a=u[p++],s=u[p++],n=a,i=s;break;case ff.L:v=vT(n,i,u[p],u[p+1],h,f,Ko,!0),n=u[p++],i=u[p++];break;case ff.C:v=nre(n,i,u[p++],u[p++],u[p++],u[p++],u[p],u[p+1],h,f,Ko),n=u[p++],i=u[p++];break;case ff.Q:v=are(n,i,u[p++],u[p++],u[p],u[p+1],h,f,Ko),n=u[p++],i=u[p++];break;case ff.A:var m=u[p++],y=u[p++],x=u[p++],_=u[p++],b=u[p++],w=u[p++];p+=1;var S=!!(1-u[p++]);o=Math.cos(b)*x+m,l=Math.sin(b)*_+y,p<=1&&(a=o,s=l);var k=(h-m)*_/x+m;v=ZIe(m,y,_,b,b+w,S,k,f,Ko),n=Math.cos(b+w)*x+m,i=Math.sin(b+w)*_+y;break;case ff.R:a=n=u[p++],s=i=u[p++];var C=u[p++],E=u[p++];v=_ae(a,s,C,E,h,f,Ko);break;case ff.Z:v=vT(n,i,a,s,h,f,Ko,!0),n=a,i=s;break}v<c&&(c=v,r.set(Ko[0],Ko[1]))}return c}var il=new Lt,mn=new Lt,ii=new Lt,rc=new Lt,Zl=new Lt;function sV(e,t){if(e){var r=e.getTextGuideLine(),n=e.getTextContent();if(n&&r){var i=e.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],s=i.candidates||KIe,o=n.getBoundingRect().clone();o.applyTransform(n.getComputedTransform());var l=1/0,c=i.anchor,u=e.getComputedTransform(),h=u&&p0([],u),f=t.get("length2")||0;c&&ii.copy(c);for(var p=0;p<s.length;p++){var g=s[p];XIe(g,0,o,il,rc),Lt.scaleAndAdd(mn,il,rc,f),mn.transform(h);var v=e.getBoundingRect(),m=c?c.distance(mn):e instanceof er?QIe(mn,e.path,ii):JIe(mn,v,ii);m<l&&(l=m,mn.transform(u),ii.transform(u),ii.toArray(a[0]),mn.toArray(a[1]),il.toArray(a[2]))}bae(a,t.get("minTurnAngle")),r.setShape({points:a})}}}var yT=[],Pa=new Lt;function bae(e,t){if(t<=180&&t>0){t=t/180*Math.PI,il.fromArray(e[0]),mn.fromArray(e[1]),ii.fromArray(e[2]),Lt.sub(rc,il,mn),Lt.sub(Zl,ii,mn);var r=rc.len(),n=Zl.len();if(!(r<.001||n<.001)){rc.scale(1/r),Zl.scale(1/n);var i=rc.dot(Zl),a=Math.cos(t);if(a<i){var s=vT(mn.x,mn.y,ii.x,ii.y,il.x,il.y,yT,!1);Pa.fromArray(yT),Pa.scaleAndAdd(Zl,s/Math.tan(Math.PI-t));var o=ii.x!==mn.x?(Pa.x-mn.x)/(ii.x-mn.x):(Pa.y-mn.y)/(ii.y-mn.y);if(isNaN(o))return;o<0?Lt.copy(Pa,mn):o>1&&Lt.copy(Pa,ii),Pa.toArray(e[1])}}}}function eMe(e,t,r){if(r<=180&&r>0){r=r/180*Math.PI,il.fromArray(e[0]),mn.fromArray(e[1]),ii.fromArray(e[2]),Lt.sub(rc,mn,il),Lt.sub(Zl,ii,mn);var n=rc.len(),i=Zl.len();if(!(n<.001||i<.001)){rc.scale(1/n),Zl.scale(1/i);var a=rc.dot(t),s=Math.cos(r);if(a<s){var o=vT(mn.x,mn.y,ii.x,ii.y,il.x,il.y,yT,!1);Pa.fromArray(yT);var l=Math.PI/2,c=Math.acos(Zl.dot(t)),u=l+c-r;if(u>=l)Lt.copy(Pa,ii);else{Pa.scaleAndAdd(Zl,o/Math.tan(Math.PI/2-u));var h=ii.x!==mn.x?(Pa.x-mn.x)/(ii.x-mn.x):(Pa.y-mn.y)/(ii.y-mn.y);if(isNaN(h))return;h<0?Lt.copy(Pa,mn):h>1&&Lt.copy(Pa,ii)}Pa.toArray(e[1])}}}}function PR(e,t,r,n){var i=r==="normal",a=i?e:e.ensureState(r);a.ignore=t;var s=n.get("smooth");s&&s===!0&&(s=.3),a.shape=a.shape||{},s>0&&(a.shape.smooth=s);var o=n.getModel("lineStyle").getLineStyle();i?e.useStyle(o):a.style=o}function tMe(e,t){var r=t.smooth,n=t.points;if(n)if(e.moveTo(n[0][0],n[0][1]),r>0&&n.length>=3){var i=Id(n[0],n[1]),a=Id(n[1],n[2]);if(!i||!a){e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]);return}var s=Math.min(i,a)*r,o=Pk([],n[1],n[0],s/i),l=Pk([],n[1],n[2],s/a),c=Pk([],o,l,.5);e.bezierCurveTo(o[0],o[1],o[0],o[1],c[0],c[1]),e.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var u=1;u<n.length;u++)e.lineTo(n[u][0],n[u][1])}function i$(e,t,r){var n=e.getTextGuideLine(),i=e.getTextContent();if(!i){n&&e.removeTextGuideLine();return}for(var a=t.normal,s=a.get("show"),o=i.ignore,l=0;l<Cb.length;l++){var c=Cb[l],u=t[c],h=c==="normal";if(u){var f=u.get("show"),p=h?o:Et(i.states[c]&&i.states[c].ignore,o);if(p||!Et(f,s)){var g=h?n:n&&n.states[c];g&&(g.ignore=!0),n&&PR(n,!0,c,u);continue}n||(n=new Ja,e.setTextGuideLine(n),!h&&(o||!s)&&PR(n,!0,"normal",t.normal),e.stateProxy&&(n.stateProxy=e.stateProxy)),PR(n,!1,c,u)}}if(n){ut(n.style,r),n.style.fill=null;var v=a.get("showAbove"),m=e.textGuideLineConfig=e.textGuideLineConfig||{};m.showAbove=v||!1,n.buildPath=tMe}}function a$(e,t){t=t||"labelLine";for(var r={normal:e.getModel(t)},n=0;n<Ga.length;n++){var i=Ga[n];r[i]=e.getModel([i,t])}return r}function wae(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(!n.defaultAttr.ignore){var i=n.label,a=i.getComputedTransform(),s=i.getBoundingRect(),o=!a||a[1]<1e-5&&a[2]<1e-5,l=i.style.margin||0,c=s.clone();c.applyTransform(a),c.x-=l/2,c.y-=l/2,c.width+=l,c.height+=l;var u=o?new rT(s,a):null;t.push({label:i,labelLine:n.labelLine,rect:c,localRect:s,obb:u,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:o,transform:a})}}return t}function Sae(e,t,r,n,i,a){var s=e.length;if(s<2)return;e.sort(function(S,k){return S.rect[t]-k.rect[t]});for(var o=0,l,c=!1,u=0;u<s;u++){var h=e[u],f=h.rect;l=f[t]-o,l<0&&(f[t]-=l,h.label[t]-=l,c=!0),o=f[t]+f[r]}var p=e[0],g=e[s-1],v,m;y(),v<0&&b(-v,.8),m<0&&b(m,.8),y(),x(v,m,1),x(m,v,-1),y(),v<0&&w(-v),m<0&&w(m);function y(){v=p.rect[t]-n,m=i-g.rect[t]-g.rect[r]}function x(S,k,C){if(S<0){var E=Math.min(k,-S);if(E>0){_(E*C,0,s);var T=E+S;T<0&&b(-T*C,1)}else b(-S*C,1)}}function _(S,k,C){S!==0&&(c=!0);for(var E=k;E<C;E++){var T=e[E],N=T.rect;N[t]+=S,T.label[t]+=S}}function b(S,k){for(var C=[],E=0,T=1;T<s;T++){var N=e[T-1].rect,I=Math.max(e[T].rect[t]-N[t]-N[r],0);C.push(I),E+=I}if(E){var P=Math.min(Math.abs(S)/E,k);if(S>0)for(var T=0;T<s-1;T++){var D=C[T]*P;_(D,0,T+1)}else for(var T=s-1;T>0;T--){var D=C[T-1]*P;_(-D,T,s)}}}function w(S){var k=S<0?-1:1;S=Math.abs(S);for(var C=Math.ceil(S/(s-1)),E=0;E<s-1;E++)if(k>0?_(C,0,E+1):_(-C,s-E-1,s),S-=C,S<=0)return}return c}function rMe(e,t,r,n){return Sae(e,"x","width",t,r)}function Cae(e,t,r,n){return Sae(e,"y","height",t,r)}function kae(e){var t=[];e.sort(function(v,m){return m.priority-v.priority});var r=new Bt(0,0,0,0);function n(v){if(!v.ignore){var m=v.ensureState("emphasis");m.ignore==null&&(m.ignore=!1)}v.ignore=!0}for(var i=0;i<e.length;i++){var a=e[i],s=a.axisAligned,o=a.localRect,l=a.transform,c=a.label,u=a.labelLine;r.copy(a.rect),r.width-=.1,r.height-=.1,r.x+=.05,r.y+=.05;for(var h=a.obb,f=!1,p=0;p<t.length;p++){var g=t[p];if(r.intersect(g.rect)){if(s&&g.axisAligned){f=!0;break}if(g.obb||(g.obb=new rT(g.localRect,g.transform)),h||(h=new rT(o,l)),h.intersect(g.obb)){f=!0;break}}}f?(n(c),u&&n(u)):(c.attr("ignore",a.defaultAttr.ignore),u&&u.attr("ignore",a.defaultAttr.labelGuideIgnore),t.push(a))}}function nMe(e){if(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].slice());return t}}function iMe(e,t){var r=e.label,n=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:r.style.align,verticalAlign:r.style.verticalAlign,labelLinePoints:nMe(n&&n.shape.points)}}var oV=["align","verticalAlign","width","height","fontSize"],Ta=new au,LR=_r(),aMe=_r();function iC(e,t,r){for(var n=0;n<r.length;n++){var i=r[n];t[i]!=null&&(e[i]=t[i])}}var aC=["x","y","rotation"],sMe=function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(t,r,n,i,a){var s=i.style,o=i.__hostTarget,l=o.textConfig||{},c=i.getComputedTransform(),u=i.getBoundingRect().plain();Bt.applyTransform(u,u,c),c?Ta.setLocalTransform(c):(Ta.x=Ta.y=Ta.rotation=Ta.originX=Ta.originY=0,Ta.scaleX=Ta.scaleY=1),Ta.rotation=Ls(Ta.rotation);var h=i.__hostTarget,f;if(h){f=h.getBoundingRect().plain();var p=h.getComputedTransform();Bt.applyTransform(f,f,p)}var g=f&&h.getTextGuideLine();this._labelList.push({label:i,labelLine:g,seriesModel:n,dataIndex:t,dataType:r,layoutOption:a,computedLayoutOption:null,rect:u,hostRect:f,priority:f?f.width*f.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:g&&g.ignore,x:Ta.x,y:Ta.y,scaleX:Ta.scaleX,scaleY:Ta.scaleY,rotation:Ta.rotation,style:{x:s.x,y:s.y,align:s.align,verticalAlign:s.verticalAlign,width:s.width,height:s.height,fontSize:s.fontSize},cursor:i.cursor,attachedPos:l.position,attachedRot:l.rotation}})},e.prototype.addLabelsOfSeries=function(t){var r=this;this._chartViewList.push(t);var n=t.__model,i=n.get("labelLayout");(lt(i)||ar(i).length)&&t.group.traverse(function(a){if(a.ignore)return!0;var s=a.getTextContent(),o=wt(a);s&&!s.disableLabelLayout&&r._addLabel(o.dataIndex,o.dataType,n,s,i)})},e.prototype.updateLayoutConfig=function(t){var r=t.getWidth(),n=t.getHeight();function i(_,b){return function(){sV(_,b)}}for(var a=0;a<this._labelList.length;a++){var s=this._labelList[a],o=s.label,l=o.__hostTarget,c=s.defaultAttr,u=void 0;lt(s.layoutOption)?u=s.layoutOption(iMe(s,l)):u=s.layoutOption,u=u||{},s.computedLayoutOption=u;var h=Math.PI/180;l&&l.setTextConfig({local:!1,position:u.x!=null||u.y!=null?null:c.attachedPos,rotation:u.rotate!=null?u.rotate*h:c.attachedRot,offset:[u.dx||0,u.dy||0]});var f=!1;if(u.x!=null?(o.x=Le(u.x,r),o.setStyle("x",0),f=!0):(o.x=c.x,o.setStyle("x",c.style.x)),u.y!=null?(o.y=Le(u.y,n),o.setStyle("y",0),f=!0):(o.y=c.y,o.setStyle("y",c.style.y)),u.labelLinePoints){var p=l.getTextGuideLine();p&&(p.setShape({points:u.labelLinePoints}),f=!1)}var g=LR(o);g.needsUpdateLabelLine=f,o.rotation=u.rotate!=null?u.rotate*h:c.rotation,o.scaleX=c.scaleX,o.scaleY=c.scaleY;for(var v=0;v<oV.length;v++){var m=oV[v];o.setStyle(m,u[m]!=null?u[m]:c.style[m])}if(u.draggable){if(o.draggable=!0,o.cursor="move",l){var y=s.seriesModel;if(s.dataIndex!=null){var x=s.seriesModel.getData(s.dataType);y=x.getItemModel(s.dataIndex)}o.on("drag",i(l,y.getModel("labelLine")))}}else o.off("drag"),o.cursor=c.cursor}},e.prototype.layout=function(t){var r=t.getWidth(),n=t.getHeight(),i=wae(this._labelList),a=Br(i,function(l){return l.layoutOption.moveOverlap==="shiftX"}),s=Br(i,function(l){return l.layoutOption.moveOverlap==="shiftY"});rMe(a,0,r),Cae(s,0,n);var o=Br(i,function(l){return l.layoutOption.hideOverlap});kae(o)},e.prototype.processLabelsOverall=function(){var t=this;V(this._chartViewList,function(r){var n=r.__model,i=r.ignoreLabelLineUpdate,a=n.isAnimationEnabled();r.group.traverse(function(s){if(s.ignore&&!s.forceLabelAnimation)return!0;var o=!i,l=s.getTextContent();!o&&l&&(o=LR(l).needsUpdateLabelLine),o&&t._updateLabelLine(s,n),a&&t._animateLabels(s,n)})})},e.prototype._updateLabelLine=function(t,r){var n=t.getTextContent(),i=wt(t),a=i.dataIndex;if(n&&a!=null){var s=r.getData(i.dataType),o=s.getItemModel(a),l={},c=s.getItemVisual(a,"style");if(c){var u=s.getVisual("drawType");l.stroke=c[u]}var h=o.getModel("labelLine");i$(t,a$(o),l),sV(t,h)}},e.prototype._animateLabels=function(t,r){var n=t.getTextContent(),i=t.getTextGuideLine();if(n&&(t.forceLabelAnimation||!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!ev(t))){var a=LR(n),s=a.oldLayout,o=wt(t),l=o.dataIndex,c={x:n.x,y:n.y,rotation:n.rotation},u=r.getData(o.dataType);if(s){n.attr(s);var f=t.prevStates;f&&(Wt(f,"select")>=0&&n.attr(a.oldLayoutSelect),Wt(f,"emphasis")>=0&&n.attr(a.oldLayoutEmphasis)),Rr(n,c,r,l)}else if(n.attr(c),!y0(n).valueAnimation){var h=Et(n.style.opacity,1);n.style.opacity=0,Rn(n,{style:{opacity:h}},r,l)}if(a.oldLayout=c,n.states.select){var p=a.oldLayoutSelect={};iC(p,c,aC),iC(p,n.states.select,aC)}if(n.states.emphasis){var g=a.oldLayoutEmphasis={};iC(g,c,aC),iC(g,n.states.emphasis,aC)}mne(n,l,u,r,r)}if(i&&!i.ignore&&!i.invisible){var a=aMe(i),s=a.oldLayout,v={points:i.shape.points};s?(i.attr({shape:s}),Rr(i,{shape:v},r)):(i.setShape(v),i.style.strokePercent=0,Rn(i,{style:{strokePercent:1}},r)),a.oldLayout=v}},e}(),DR=_r();function oMe(e){e.registerUpdateLifecycle("series:beforeupdate",function(t,r,n){var i=DR(r).labelManager;i||(i=DR(r).labelManager=new sMe),i.clearLabels()}),e.registerUpdateLifecycle("series:layoutlabels",function(t,r,n){var i=DR(r).labelManager;n.updatedSeries.forEach(function(a){i.addLabelsOfSeries(r.getViewOfSeriesModel(a))}),i.updateLayoutConfig(r),i.layout(r),i.processLabelsOverall()})}var OR=Math.sin,$R=Math.cos,Eae=Math.PI,pf=Math.PI*2,lMe=180/Eae,Tae=function(){function e(){}return e.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},e.prototype.moveTo=function(t,r){this._add("M",t,r)},e.prototype.lineTo=function(t,r){this._add("L",t,r)},e.prototype.bezierCurveTo=function(t,r,n,i,a,s){this._add("C",t,r,n,i,a,s)},e.prototype.quadraticCurveTo=function(t,r,n,i){this._add("Q",t,r,n,i)},e.prototype.arc=function(t,r,n,i,a,s){this.ellipse(t,r,n,n,0,i,a,s)},e.prototype.ellipse=function(t,r,n,i,a,s,o,l){var c=o-s,u=!l,h=Math.abs(c),f=Od(h-pf)||(u?c>=pf:-c>=pf),p=c>0?c%pf:c%pf+pf,g=!1;f?g=!0:Od(h)?g=!1:g=p>=Eae==!!u;var v=t+n*$R(s),m=r+i*OR(s);this._start&&this._add("M",v,m);var y=Math.round(a*lMe);if(f){var x=1/this._p,_=(u?1:-1)*(pf-x);this._add("A",n,i,y,1,+u,t+n*$R(s+_),r+i*OR(s+_)),x>.01&&this._add("A",n,i,y,0,+u,v,m)}else{var b=t+n*$R(o),w=r+i*OR(o);this._add("A",n,i,y,+g,+u,b,w)}},e.prototype.rect=function(t,r,n,i){this._add("M",t,r),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},e.prototype.closePath=function(){this._d.length>0&&this._add("Z")},e.prototype._add=function(t,r,n,i,a,s,o,l,c){for(var u=[],h=this._p,f=1;f<arguments.length;f++){var p=arguments[f];if(isNaN(p)){this._invalid=!0;return}u.push(Math.round(p*h)/h)}this._d.push(t+u.join(" ")),this._start=t==="Z"},e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},e.prototype.getStr=function(){return this._str},e}(),s$="none",cMe=Math.round;function uMe(e){var t=e.fill;return t!=null&&t!==s$}function dMe(e){var t=e.stroke;return t!=null&&t!==s$}var kD=["lineCap","miterLimit","lineJoin"],hMe=_e(kD,function(e){return"stroke-"+e.toLowerCase()});function fMe(e,t,r,n){var i=t.opacity==null?1:t.opacity;if(r instanceof Wi){e("opacity",i);return}if(uMe(t)){var a=bb(t.fill);e("fill",a.color);var s=t.fillOpacity!=null?t.fillOpacity*a.opacity*i:a.opacity*i;s<1&&e("fill-opacity",s)}else e("fill",s$);if(dMe(t)){var o=bb(t.stroke);e("stroke",o.color);var l=t.strokeNoScale?r.getLineScale():1,c=l?(t.lineWidth||0)/l:0,u=t.strokeOpacity!=null?t.strokeOpacity*o.opacity*i:o.opacity*i,h=t.strokeFirst;if(c!==1&&e("stroke-width",c),h&&e("paint-order",h?"stroke":"fill"),u<1&&e("stroke-opacity",u),t.lineDash){var f=q4(r),p=f[0],g=f[1];p&&(g=cMe(g||0),e("stroke-dasharray",p.join(",")),(g||n)&&e("stroke-dashoffset",g))}for(var v=0;v<kD.length;v++){var m=kD[v];if(t[m]!==eT[m]){var y=t[m]||eT[m];y&&e(hMe[v],y)}}}}var Nae="http://www.w3.org/2000/svg",Aae="http://www.w3.org/1999/xlink",pMe="http://www.w3.org/2000/xmlns/",gMe="http://www.w3.org/XML/1998/namespace",lV="ecmeta_";function jae(e){return document.createElementNS(Nae,e)}function Ii(e,t,r,n,i){return{tag:e,attrs:r||{},children:n,text:i,key:t}}function mMe(e,t){var r=[];if(t)for(var n in t){var i=t[n],a=n;i!==!1&&(i!==!0&&i!=null&&(a+='="'+i+'"'),r.push(a))}return"<"+e+" "+r.join(" ")+">"}function vMe(e){return"</"+e+">"}function o$(e,t){t=t||{};var r=t.newline?`
`:"";function n(i){var a=i.children,s=i.tag,o=i.attrs,l=i.text;return mMe(s,o)+(s!=="style"?La(l):l||"")+(a?""+r+_e(a,function(c){return n(c)}).join(r)+r:"")+vMe(s)}return n(e)}function yMe(e,t,r){r=r||{};var n=r.newline?`
`:"",i=" {"+n,a=n+"}",s=_e(ar(e),function(l){return l+i+_e(ar(e[l]),function(c){return c+":"+e[l][c]+";"}).join(n)+a}).join(n),o=_e(ar(t),function(l){return"@keyframes "+l+i+_e(ar(t[l]),function(c){return c+i+_e(ar(t[l][c]),function(u){var h=t[l][c][u];return u==="d"&&(h='path("'+h+'")'),u+":"+h+";"}).join(n)+a}).join(n)+a}).join(n);return!s&&!o?"":["<![CDATA[",s,o,"]]>"].join(n)}function ED(e){return{zrId:e,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function cV(e,t,r,n){return Ii("svg","root",{width:e,height:t,xmlns:Nae,"xmlns:xlink":Aae,version:"1.1",baseProfile:"full",viewBox:n?"0 0 "+e+" "+t:!1},r)}var xMe=0;function Rae(){return xMe++}var uV={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},kf="transform-origin";function _Me(e,t,r){var n=pe({},e.shape);pe(n,t),e.buildPath(r,n);var i=new Tae;return i.reset(hre(e)),r.rebuildPath(i,1),i.generateStr(),i.getStr()}function bMe(e,t){var r=t.originX,n=t.originY;(r||n)&&(e[kf]=r+"px "+n+"px")}var wMe={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function Iae(e,t){var r=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[r]=e,r}function SMe(e,t,r){var n=e.shape.paths,i={},a,s;if(V(n,function(l){var c=ED(r.zrId);c.animation=!0,F2(l,{},c,!0);var u=c.cssAnims,h=c.cssNodes,f=ar(u),p=f.length;if(p){s=f[p-1];var g=u[s];for(var v in g){var m=g[v];i[v]=i[v]||{d:""},i[v].d+=m.d||""}for(var y in h){var x=h[y].animation;x.indexOf(s)>=0&&(a=x)}}}),!!a){t.d=!1;var o=Iae(i,r);return a.replace(s,o)}}function dV(e){return We(e)?uV[e]?"cubic-bezier("+uV[e]+")":h4(e)?e:"":""}function F2(e,t,r,n){var i=e.animators,a=i.length,s=[];if(e instanceof T4){var o=SMe(e,t,r);if(o)s.push(o);else if(!a)return}else if(!a)return;for(var l={},c=0;c<a;c++){var u=i[c],h=[u.getMaxTime()/1e3+"s"],f=dV(u.getClip().easing),p=u.getDelay();f?h.push(f):h.push("linear"),p&&h.push(p/1e3+"s"),u.getLoop()&&h.push("infinite");var g=h.join(" ");l[g]=l[g]||[g,[]],l[g][1].push(u)}function v(x){var _=x[1],b=_.length,w={},S={},k={},C="animation-timing-function";function E(W,Y,Z){for(var Q=W.getTracks(),re=W.getMaxTime(),me=0;me<Q.length;me++){var Ee=Q[me];if(Ee.needsAnimate()){var Ne=Ee.keyframes,Me=Ee.propName;if(Z&&(Me=Z(Me)),Me)for(var Ae=0;Ae<Ne.length;Ae++){var Ie=Ne[Ae],bt=Math.round(Ie.time/re*100)+"%",pt=dV(Ie.easing),fe=Ie.rawValue;(We(fe)||Nr(fe))&&(Y[bt]=Y[bt]||{},Y[bt][Me]=Ie.rawValue,pt&&(Y[bt][C]=pt))}}}}for(var T=0;T<b;T++){var N=_[T],I=N.targetName;I?I==="shape"&&E(N,S):!n&&E(N,w)}for(var P in w){var D={};vre(D,e),pe(D,w[P]);var $=fre(D),L=w[P][C];k[P]=$?{transform:$}:{},bMe(k[P],D),L&&(k[P][C]=L)}var O,j=!0;for(var P in S){k[P]=k[P]||{};var M=!O,L=S[P][C];M&&(O=new wc);var R=O.len();O.reset(),k[P].d=_Me(e,S[P],O);var z=O.len();if(!M&&R!==z){j=!1;break}L&&(k[P][C]=L)}if(!j)for(var P in k)delete k[P].d;if(!n)for(var T=0;T<b;T++){var N=_[T],I=N.targetName;I==="style"&&E(N,k,function(Q){return wMe[Q]})}for(var U=ar(k),F=!0,G,T=1;T<U.length;T++){var q=U[T-1],K=U[T];if(k[q][kf]!==k[K][kf]){F=!1;break}G=k[q][kf]}if(F&&G){for(var P in k)k[P][kf]&&delete k[P][kf];t[kf]=G}if(Br(U,function(W){return ar(k[W]).length>0}).length){var B=Iae(k,r);return B+" "+x[0]+" both"}}for(var m in l){var o=v(l[m]);o&&s.push(o)}if(s.length){var y=r.zrId+"-cls-"+Rae();r.cssNodes["."+y]={animation:s.join(",")},t.class=y}}function CMe(e,t,r){if(!e.ignore)if(e.isSilent()){var n={"pointer-events":"none"};hV(n,t,r)}else{var i=e.states.emphasis&&e.states.emphasis.style?e.states.emphasis.style:{},a=i.fill;if(!a){var s=e.style&&e.style.fill,o=e.states.select&&e.states.select.style&&e.states.select.style.fill,l=e.currentStates.indexOf("select")>=0&&o||s;l&&(a=$L(l))}var c=i.lineWidth;if(c){var u=!i.strokeNoScale&&e.transform?e.transform[0]:1;c=c/u}var n={cursor:"pointer"};a&&(n.fill=a),i.stroke&&(n.stroke=i.stroke),c&&(n["stroke-width"]=c),hV(n,t,r)}}function hV(e,t,r,n){var i=JSON.stringify(e),a=r.cssStyleCache[i];a||(a=r.zrId+"-cls-"+Rae(),r.cssStyleCache[i]=a,r.cssNodes["."+a+":hover"]=e),t.class=t.class?t.class+" "+a:a}var Pb=Math.round;function Mae(e){return e&&We(e.src)}function Pae(e){return e&&lt(e.toDataURL)}function l$(e,t,r,n){fMe(function(i,a){var s=i==="fill"||i==="stroke";s&&dre(a)?Dae(t,e,i,n):s&&f4(a)?Oae(r,e,i,n):e[i]=a,s&&n.ssr&&a==="none"&&(e["pointer-events"]="visible")},t,r,!1),RMe(r,e,n)}function c$(e,t){var r=bTe(t);r&&(r.each(function(n,i){n!=null&&(e[(lV+i).toLowerCase()]=n+"")}),t.isSilent()&&(e[lV+"silent"]="true"))}function fV(e){return Od(e[0]-1)&&Od(e[1])&&Od(e[2])&&Od(e[3]-1)}function kMe(e){return Od(e[4])&&Od(e[5])}function u$(e,t,r){if(t&&!(kMe(t)&&fV(t))){var n=1e4;e.transform=fV(t)?"translate("+Pb(t[4]*n)/n+" "+Pb(t[5]*n)/n+")":HEe(t)}}function pV(e,t,r){for(var n=e.points,i=[],a=0;a<n.length;a++)i.push(Pb(n[a][0]*r)/r),i.push(Pb(n[a][1]*r)/r);t.points=i.join(" ")}function gV(e){return!e.smooth}function EMe(e){var t=_e(e,function(r){return typeof r=="string"?[r,r]:r});return function(r,n,i){for(var a=0;a<t.length;a++){var s=t[a],o=r[s[0]];o!=null&&(n[s[1]]=Pb(o*i)/i)}}}var TMe={circle:[EMe(["cx","cy","r"])],polyline:[pV,gV],polygon:[pV,gV]};function NMe(e){for(var t=e.animators,r=0;r<t.length;r++)if(t[r].targetName==="shape")return!0;return!1}function Lae(e,t){var r=e.style,n=e.shape,i=TMe[e.type],a={},s=t.animation,o="path",l=e.style.strokePercent,c=t.compress&&hre(e)||4;if(i&&!t.willUpdate&&!(i[1]&&!i[1](n))&&!(s&&NMe(e))&&!(l<1)){o=e.type;var u=Math.pow(10,c);i[0](n,a,u)}else{var h=!e.path||e.shapeChanged();e.path||e.createPathProxy();var f=e.path;h&&(f.beginPath(),e.buildPath(f,e.shape),e.pathUpdated());var p=f.getVersion(),g=e,v=g.__svgPathBuilder;(g.__svgPathVersion!==p||!v||l!==g.__svgPathStrokePercent)&&(v||(v=g.__svgPathBuilder=new Tae),v.reset(c),f.rebuildPath(v,l),v.generateStr(),g.__svgPathVersion=p,g.__svgPathStrokePercent=l),a.d=v.getStr()}return u$(a,e.transform),l$(a,r,e,t),c$(a,e),t.animation&&F2(e,a,t),t.emphasis&&CMe(e,a,t),Ii(o,e.id+"",a)}function AMe(e,t){var r=e.style,n=r.image;if(n&&!We(n)&&(Mae(n)?n=n.src:Pae(n)&&(n=n.toDataURL())),!!n){var i=r.x||0,a=r.y||0,s=r.width,o=r.height,l={href:n,width:s,height:o};return i&&(l.x=i),a&&(l.y=a),u$(l,e.transform),l$(l,r,e,t),c$(l,e),t.animation&&F2(e,l,t),Ii("image",e.id+"",l)}}function jMe(e,t){var r=e.style,n=r.text;if(n!=null&&(n+=""),!(!n||isNaN(r.x)||isNaN(r.y))){var i=r.font||uh,a=r.x||0,s=WEe(r.y||0,h2(i),r.textBaseline),o=VEe[r.textAlign]||r.textAlign,l={"dominant-baseline":"central","text-anchor":o};if(Hre(r)){var c="",u=r.fontStyle,h=Ure(r.fontSize);if(!parseFloat(h))return;var f=r.fontFamily||zte,p=r.fontWeight;c+="font-size:"+h+";font-family:"+f+";",u&&u!=="normal"&&(c+="font-style:"+u+";"),p&&p!=="normal"&&(c+="font-weight:"+p+";"),l.style=c}else l.style="font: "+i;return n.match(/\s/)&&(l["xml:space"]="preserve"),a&&(l.x=a),s&&(l.y=s),u$(l,e.transform),l$(l,r,e,t),c$(l,e),t.animation&&F2(e,l,t),Ii("text",e.id+"",l,void 0,n)}}function mV(e,t){if(e instanceof er)return Lae(e,t);if(e instanceof Wi)return AMe(e,t);if(e instanceof Ev)return jMe(e,t)}function RMe(e,t,r){var n=e.style;if(GEe(n)){var i=qEe(e),a=r.shadowCache,s=a[i];if(!s){var o=e.getGlobalScale(),l=o[0],c=o[1];if(!l||!c)return;var u=n.shadowOffsetX||0,h=n.shadowOffsetY||0,f=n.shadowBlur,p=bb(n.shadowColor),g=p.opacity,v=p.color,m=f/2/l,y=f/2/c,x=m+" "+y;s=r.zrId+"-s"+r.shadowIdx++,r.defs[s]=Ii("filter",s,{id:s,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Ii("feDropShadow","",{dx:u/l,dy:h/c,stdDeviation:x,"flood-color":v,"flood-opacity":g})]),a[i]=s}t.filter=d2(s)}}function Dae(e,t,r,n){var i=e[r],a,s={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(cre(i))a="linearGradient",s.x1=i.x,s.y1=i.y,s.x2=i.x2,s.y2=i.y2;else if(ure(i))a="radialGradient",s.cx=Et(i.x,.5),s.cy=Et(i.y,.5),s.r=Et(i.r,.5);else return;for(var o=i.colorStops,l=[],c=0,u=o.length;c<u;++c){var h=BL(o[c].offset)*100+"%",f=o[c].color,p=bb(f),g=p.color,v=p.opacity,m={offset:h};m["stop-color"]=g,v<1&&(m["stop-opacity"]=v),l.push(Ii("stop",c+"",m))}var y=Ii(a,"",s,l),x=o$(y),_=n.gradientCache,b=_[x];b||(b=n.zrId+"-g"+n.gradientIdx++,_[x]=b,s.id=b,n.defs[b]=Ii(a,b,s,l)),t[r]=d2(b)}function Oae(e,t,r,n){var i=e.style[r],a=e.getBoundingRect(),s={},o=i.repeat,l=o==="no-repeat",c=o==="repeat-x",u=o==="repeat-y",h;if(lre(i)){var f=i.imageWidth,p=i.imageHeight,g=void 0,v=i.image;if(We(v)?g=v:Mae(v)?g=v.src:Pae(v)&&(g=v.toDataURL()),typeof Image>"u"){var m="Image width/height must been given explictly in svg-ssr renderer.";Wa(f,m),Wa(p,m)}else if(f==null||p==null){var y=function(T,N){if(T){var I=T.elm,P=f||N.width,D=p||N.height;T.tag==="pattern"&&(c?(D=1,P/=a.width):u&&(P=1,D/=a.height)),T.attrs.width=P,T.attrs.height=D,I&&(I.setAttribute("width",P),I.setAttribute("height",D))}},x=x4(g,null,e,function(T){l||y(S,T),y(h,T)});x&&x.width&&x.height&&(f=f||x.width,p=p||x.height)}h=Ii("image","img",{href:g,width:f,height:p}),s.width=f,s.height=p}else i.svgElement&&(h=vt(i.svgElement),s.width=i.svgWidth,s.height=i.svgHeight);if(h){var _,b;l?_=b=1:c?(b=1,_=s.width/a.width):u?(_=1,b=s.height/a.height):s.patternUnits="userSpaceOnUse",_!=null&&!isNaN(_)&&(s.width=_),b!=null&&!isNaN(b)&&(s.height=b);var w=fre(i);w&&(s.patternTransform=w);var S=Ii("pattern","",s,[h]),k=o$(S),C=n.patternCache,E=C[k];E||(E=n.zrId+"-p"+n.patternIdx++,C[k]=E,s.id=E,S=n.defs[E]=Ii("pattern",E,s,[h])),t[r]=d2(E)}}function IMe(e,t,r){var n=r.clipPathCache,i=r.defs,a=n[e.id];if(!a){a=r.zrId+"-c"+r.clipPathIdx++;var s={id:a};n[e.id]=a,i[a]=Ii("clipPath",a,s,[Lae(e,r)])}t["clip-path"]=d2(a)}function vV(e){return document.createTextNode(e)}function Mf(e,t,r){e.insertBefore(t,r)}function yV(e,t){e.removeChild(t)}function xV(e,t){e.appendChild(t)}function $ae(e){return e.parentNode}function Bae(e){return e.nextSibling}function BR(e,t){e.textContent=t}var _V=58,MMe=120,PMe=Ii("","");function TD(e){return e===void 0}function ql(e){return e!==void 0}function LMe(e,t,r){for(var n={},i=t;i<=r;++i){var a=e[i].key;a!==void 0&&(n[a]=i)}return n}function Wx(e,t){var r=e.key===t.key,n=e.tag===t.tag;return n&&r}function Lb(e){var t,r=e.children,n=e.tag;if(ql(n)){var i=e.elm=jae(n);if(d$(PMe,e),ye(r))for(t=0;t<r.length;++t){var a=r[t];a!=null&&xV(i,Lb(a))}else ql(e.text)&&!ft(e.text)&&xV(i,vV(e.text))}else e.elm=vV(e.text);return e.elm}function Fae(e,t,r,n,i){for(;n<=i;++n){var a=r[n];a!=null&&Mf(e,Lb(a),t)}}function xT(e,t,r,n){for(;r<=n;++r){var i=t[r];if(i!=null)if(ql(i.tag)){var a=$ae(i.elm);yV(a,i.elm)}else yV(e,i.elm)}}function d$(e,t){var r,n=t.elm,i=e&&e.attrs||{},a=t.attrs||{};if(i!==a){for(r in a){var s=a[r],o=i[r];o!==s&&(s===!0?n.setAttribute(r,""):s===!1?n.removeAttribute(r):r==="style"?n.style.cssText=s:r.charCodeAt(0)!==MMe?n.setAttribute(r,s):r==="xmlns:xlink"||r==="xmlns"?n.setAttributeNS(pMe,r,s):r.charCodeAt(3)===_V?n.setAttributeNS(gMe,r,s):r.charCodeAt(5)===_V?n.setAttributeNS(Aae,r,s):n.setAttribute(r,s))}for(r in i)r in a||n.removeAttribute(r)}}function DMe(e,t,r){for(var n=0,i=0,a=t.length-1,s=t[0],o=t[a],l=r.length-1,c=r[0],u=r[l],h,f,p,g;n<=a&&i<=l;)s==null?s=t[++n]:o==null?o=t[--a]:c==null?c=r[++i]:u==null?u=r[--l]:Wx(s,c)?(um(s,c),s=t[++n],c=r[++i]):Wx(o,u)?(um(o,u),o=t[--a],u=r[--l]):Wx(s,u)?(um(s,u),Mf(e,s.elm,Bae(o.elm)),s=t[++n],u=r[--l]):Wx(o,c)?(um(o,c),Mf(e,o.elm,s.elm),o=t[--a],c=r[++i]):(TD(h)&&(h=LMe(t,n,a)),f=h[c.key],TD(f)?Mf(e,Lb(c),s.elm):(p=t[f],p.tag!==c.tag?Mf(e,Lb(c),s.elm):(um(p,c),t[f]=void 0,Mf(e,p.elm,s.elm))),c=r[++i]);(n<=a||i<=l)&&(n>a?(g=r[l+1]==null?null:r[l+1].elm,Fae(e,g,r,i,l)):xT(e,t,n,a))}function um(e,t){var r=t.elm=e.elm,n=e.children,i=t.children;e!==t&&(d$(e,t),TD(t.text)?ql(n)&&ql(i)?n!==i&&DMe(r,n,i):ql(i)?(ql(e.text)&&BR(r,""),Fae(r,null,i,0,i.length-1)):ql(n)?xT(r,n,0,n.length-1):ql(e.text)&&BR(r,""):e.text!==t.text&&(ql(n)&&xT(r,n,0,n.length-1),BR(r,t.text)))}function OMe(e,t){if(Wx(e,t))um(e,t);else{var r=e.elm,n=$ae(r);Lb(t),n!==null&&(Mf(n,t.elm,Bae(r)),xT(n,[e],0,0))}return t}var $Me=0,BMe=function(){function e(t,r,n){if(this.type="svg",this.refreshHover=bV(),this.configLayer=bV(),this.storage=r,this._opts=n=pe({},n),this.root=t,this._id="zr"+$Me++,this._oldVNode=cV(n.width,n.height),t&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=jae("svg");d$(null,this._oldVNode),i.appendChild(a),t.appendChild(i)}this.resize(n.width,n.height)}return e.prototype.getType=function(){return this.type},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",OMe(this._oldVNode,t),this._oldVNode=t}},e.prototype.renderOneToVNode=function(t){return mV(t,ED(this._id))},e.prototype.renderToVNode=function(t){t=t||{};var r=this.storage.getDisplayList(!0),n=this._width,i=this._height,a=ED(this._id);a.animation=t.animation,a.willUpdate=t.willUpdate,a.compress=t.compress,a.emphasis=t.emphasis,a.ssr=this._opts.ssr;var s=[],o=this._bgVNode=FMe(n,i,this._backgroundColor,a);o&&s.push(o);var l=t.compress?null:this._mainVNode=Ii("g","main",{},[]);this._paintList(r,a,l?l.children:s),l&&s.push(l);var c=_e(ar(a.defs),function(f){return a.defs[f]});if(c.length&&s.push(Ii("defs","defs",{},c)),t.animation){var u=yMe(a.cssNodes,a.cssAnims,{newline:!0});if(u){var h=Ii("style","stl",{},[],u);s.push(h)}}return cV(n,i,s,t.useViewBox)},e.prototype.renderToString=function(t){return t=t||{},o$(this.renderToVNode({animation:Et(t.cssAnimation,!0),emphasis:Et(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:Et(t.useViewBox,!0)}),{newline:!0})},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t},e.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},e.prototype._paintList=function(t,r,n){for(var i=t.length,a=[],s=0,o,l,c=0,u=0;u<i;u++){var h=t[u];if(!h.invisible){var f=h.__clipPaths,p=f&&f.length||0,g=l&&l.length||0,v=void 0;for(v=Math.max(p-1,g-1);v>=0&&!(f&&l&&f[v]===l[v]);v--);for(var m=g-1;m>v;m--)s--,o=a[s-1];for(var y=v+1;y<p;y++){var x={};IMe(f[y],x,r);var _=Ii("g","clip-g-"+c++,x,[]);(o?o.children:n).push(_),a[s++]=_,o=_}l=f;var b=mV(h,r);b&&(o?o.children:n).push(b)}}},e.prototype.resize=function(t,r){var n=this._opts,i=this.root,a=this._viewport;if(t!=null&&(n.width=t),r!=null&&(n.height=r),i&&a&&(a.style.display="none",t=Mm(i,0,n),r=Mm(i,1,n),a.style.display=""),this._width!==t||this._height!==r){if(this._width=t,this._height=r,a){var s=a.style;s.width=t+"px",s.height=r+"px"}if(f4(this._backgroundColor))this.refresh();else{var o=this._svgDom;o&&(o.setAttribute("width",t),o.setAttribute("height",r));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",t),l.setAttribute("height",r))}}},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},e.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},e.prototype.toDataURL=function(t){var r=this.renderToString(),n="data:image/svg+xml;";return t?(r=KEe(r),r&&n+"base64,"+r):n+"charset=UTF-8,"+encodeURIComponent(r)},e}();function bV(e){return function(){}}function FMe(e,t,r,n){var i;if(r&&r!=="none")if(i=Ii("rect","bg",{width:e,height:t,x:"0",y:"0"}),dre(r))Dae({fill:r},i.attrs,"fill",n);else if(f4(r))Oae({style:{fill:r},dirty:ai,getBoundingRect:function(){return{width:e,height:t}}},i.attrs,"fill",n);else{var a=bb(r),s=a.color,o=a.opacity;i.attrs.fill=s,o<1&&(i.attrs["fill-opacity"]=o)}return i}function zMe(e){e.registerPainter("svg",BMe)}function wV(e,t,r){var n=dh.createCanvas(),i=t.getWidth(),a=t.getHeight(),s=n.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=i+"px",s.height=a+"px",n.setAttribute("data-zr-dom-id",e)),n.width=i*r,n.height=a*r,n}var FR=function(e){kn(t,e);function t(r,n,i){var a=e.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var s;i=i||JE,typeof r=="string"?s=wV(r,n,i):ft(r)&&(s=r,r=s.id),a.id=r,a.dom=s;var o=s.style;return o&&(qte(s),s.onselectstart=function(){return!1},o.padding="0",o.margin="0",o.borderWidth="0"),a.painter=n,a.dpr=i,a}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=wV("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},t.prototype.createRepaintRects=function(r,n,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],o=this.maxRepaintRectCount,l=!1,c=new Bt(0,0,0,0);function u(x){if(!(!x.isFinite()||x.isZero()))if(s.length===0){var _=new Bt(0,0,0,0);_.copy(x),s.push(_)}else{for(var b=!1,w=1/0,S=0,k=0;k<s.length;++k){var C=s[k];if(C.intersect(x)){var E=new Bt(0,0,0,0);E.copy(C),E.union(x),s[k]=E,b=!0;break}else if(l){c.copy(x),c.union(C);var T=x.width*x.height,N=C.width*C.height,I=c.width*c.height,P=I-T-N;P<w&&(w=P,S=k)}}if(l&&(s[S].union(x),b=!0),!b){var _=new Bt(0,0,0,0);_.copy(x),s.push(_)}l||(l=s.length>=o)}}for(var h=this.__startIndex;h<this.__endIndex;++h){var f=r[h];if(f){var p=f.shouldBePainted(i,a,!0,!0),g=f.__isRendered&&(f.__dirty&hc||!p)?f.getPrevPaintRect():null;g&&u(g);var v=p&&(f.__dirty&hc||!f.__isRendered)?f.getPaintRect():null;v&&u(v)}}for(var h=this.__prevStartIndex;h<this.__prevEndIndex;++h){var f=n[h],p=f&&f.shouldBePainted(i,a,!0,!0);if(f&&(!p||!f.__zr)&&f.__isRendered){var g=f.getPrevPaintRect();g&&u(g)}}var m;do{m=!1;for(var h=0;h<s.length;){if(s[h].isZero()){s.splice(h,1);continue}for(var y=h+1;y<s.length;)s[h].intersect(s[y])?(m=!0,s[h].union(s[y]),s.splice(y,1)):y++;h++}}while(m);return this._paintRects=s,s},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(r,n){var i=this.dpr,a=this.dom,s=a.style,o=this.domBack;s&&(s.width=r+"px",s.height=n+"px"),a.width=r*i,a.height=n*i,o&&(o.width=r*i,o.height=n*i,i!==1&&this.ctxBack.scale(i,i))},t.prototype.clear=function(r,n,i){var a=this.dom,s=this.ctx,o=a.width,l=a.height;n=n||this.clearColor;var c=this.motionBlur&&!r,u=this.lastFrameAlpha,h=this.dpr,f=this;c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,o/h,l/h));var p=this.domBack;function g(v,m,y,x){if(s.clearRect(v,m,y,x),n&&n!=="transparent"){var _=void 0;if(l2(n)){var b=n.global||n.__width===y&&n.__height===x;_=b&&n.__canvasGradient||vD(s,n,{x:0,y:0,width:y,height:x}),n.__canvasGradient=_,n.__width=y,n.__height=x}else rEe(n)&&(n.scaleX=n.scaleX||h,n.scaleY=n.scaleY||h,_=yD(s,n,{dirty:function(){f.setUnpainted(),f.painter.refresh()}}));s.save(),s.fillStyle=_||n,s.fillRect(v,m,y,x),s.restore()}c&&(s.save(),s.globalAlpha=u,s.drawImage(p,v,m,y,x),s.restore())}!i||c?g(0,0,o,l):i.length&&V(i,function(v){g(v.x*h,v.y*h,v.width*h,v.height*h)})},t}(Po),SV=1e5,gf=314159,sC=.01,UMe=.001;function HMe(e){return e?e.__builtin__?!0:!(typeof e.resize!="function"||typeof e.refresh!="function"):!1}function VMe(e,t){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var WMe=function(){function e(t,r,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=n=pe({},n||{}),this.dpr=n.devicePixelRatio||JE,this._singleCanvas=a,this.root=t;var s=t.style;s&&(qte(t),t.innerHTML=""),this.storage=r;var o=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var u=t,h=u.width,f=u.height;n.width!=null&&(h=n.width),n.height!=null&&(f=n.height),this.dpr=n.devicePixelRatio||1,u.width=h*this.dpr,u.height=f*this.dpr,this._width=h,this._height=f;var p=new FR(u,this,this.dpr);p.__builtin__=!0,p.initContext(),l[gf]=p,p.zlevel=gf,o.push(gf),this._domRoot=t}else{this._width=Mm(t,0,n),this._height=Mm(t,1,n);var c=this._domRoot=VMe(this._width,this._height);t.appendChild(c)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.refresh=function(t){var r=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,n,t,this._redrawId);for(var a=0;a<i.length;a++){var s=i[a],o=this._layers[s];if(!o.__builtin__&&o.refresh){var l=a===0?this._backgroundColor:null;o.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(t){var r=t.length,n=this._hoverlayer;if(n&&n.clear(),!!r){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,s=0;s<r;s++){var o=t[s];o.__inHover&&(n||(n=this._hoverlayer=this.getLayer(SV)),a||(a=n.ctx,a.save()),Zf(a,o,i,s===r-1))}a&&a.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(SV)},e.prototype.paintOne=function(t,r){Cie(t,r)},e.prototype._paintList=function(t,r,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(t);var a=this._doPaintList(t,r,n),s=a.finished,o=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),o&&this._paintHoverList(t),s)this.eachLayer(function(c){c.afterBrush&&c.afterBrush()});else{var l=this;qE(function(){l._paintList(t,r,n,i)})}}},e.prototype._compositeManually=function(){var t=this.getLayer(gf).ctx,r=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,r,n),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,r,n)})},e.prototype._doPaintList=function(t,r,n){for(var i=this,a=[],s=this._opts.useDirtyRect,o=0;o<this._zlevelList.length;o++){var l=this._zlevelList[o],c=this._layers[l];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||n)&&a.push(c)}for(var u=!0,h=!1,f=function(v){var m=a[v],y=m.ctx,x=s&&m.createRepaintRects(t,r,p._width,p._height),_=n?m.__startIndex:m.__drawIndex,b=!n&&m.incremental&&Date.now,w=b&&Date.now(),S=m.zlevel===p._zlevelList[0]?p._backgroundColor:null;if(m.__startIndex===m.__endIndex)m.clear(!1,S,x);else if(_===m.__startIndex){var k=t[_];(!k.incremental||!k.notClear||n)&&m.clear(!1,S,x)}_===-1&&(console.error("For some unknown reason. drawIndex is -1"),_=m.__startIndex);var C,E=function(P){var D={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(C=_;C<m.__endIndex;C++){var $=t[C];if($.__inHover&&(h=!0),i._doPaintEl($,m,s,P,D,C===m.__endIndex-1),b){var L=Date.now()-w;if(L>15)break}}D.prevElClipPaths&&y.restore()};if(x)if(x.length===0)C=m.__endIndex;else for(var T=p.dpr,N=0;N<x.length;++N){var I=x[N];y.save(),y.beginPath(),y.rect(I.x*T,I.y*T,I.width*T,I.height*T),y.clip(),E(I),y.restore()}else y.save(),E(),y.restore();m.__drawIndex=C,m.__drawIndex<m.__endIndex&&(u=!1)},p=this,g=0;g<a.length;g++)f(g);return tr.wxa&&V(this._layers,function(v){v&&v.ctx&&v.ctx.draw&&v.ctx.draw()}),{finished:u,needsRefreshHover:h}},e.prototype._doPaintEl=function(t,r,n,i,a,s){var o=r.ctx;if(n){var l=t.getPaintRect();(!i||l&&l.intersect(i))&&(Zf(o,t,a,s),t.setPrevPaintRect(l))}else Zf(o,t,a,s)},e.prototype.getLayer=function(t,r){this._singleCanvas&&!this._needsManuallyCompositing&&(t=gf);var n=this._layers[t];return n||(n=new FR("zr_"+t,this,this.dpr),n.zlevel=t,n.__builtin__=!0,this._layerConfig[t]?Pt(n,this._layerConfig[t],!0):this._layerConfig[t-sC]&&Pt(n,this._layerConfig[t-sC],!0),r&&(n.virtual=r),this.insertLayer(t,n),n.initContext()),n},e.prototype.insertLayer=function(t,r){var n=this._layers,i=this._zlevelList,a=i.length,s=this._domRoot,o=null,l=-1;if(!n[t]&&HMe(r)){if(a>0&&t>i[0]){for(l=0;l<a-1&&!(i[l]<t&&i[l+1]>t);l++);o=n[i[l]]}if(i.splice(l+1,0,t),n[t]=r,!r.virtual)if(o){var c=o.dom;c.nextSibling?s.insertBefore(r.dom,c.nextSibling):s.appendChild(r.dom)}else s.firstChild?s.insertBefore(r.dom,s.firstChild):s.appendChild(r.dom);r.painter||(r.painter=this)}},e.prototype.eachLayer=function(t,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i];t.call(r,this._layers[a],a)}},e.prototype.eachBuiltinLayer=function(t,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],s=this._layers[a];s.__builtin__&&t.call(r,s,a)}},e.prototype.eachOtherLayer=function(t,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],s=this._layers[a];s.__builtin__||t.call(r,s,a)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(h,f){h.__dirty=h.__used=!1});function r(h){a&&(a.__endIndex!==h&&(a.__dirty=!0),a.__endIndex=h)}if(this._singleCanvas)for(var n=1;n<t.length;n++){var i=t[n];if(i.zlevel!==t[n-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,s=0,o,l;for(l=0;l<t.length;l++){var i=t[l],c=i.zlevel,u=void 0;o!==c&&(o=c,s=0),i.incremental?(u=this.getLayer(c+UMe,this._needsManuallyCompositing),u.incremental=!0,s=1):u=this.getLayer(c+(s>0?sC:0),this._needsManuallyCompositing),u.__builtin__||a4("ZLevel "+c+" has been used by unkown layer "+u.id),u!==a&&(u.__used=!0,u.__startIndex!==l&&(u.__dirty=!0),u.__startIndex=l,u.incremental?u.__drawIndex=-1:u.__drawIndex=l,r(l),a=u),i.__dirty&hc&&!i.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=l))}r(l),this.eachBuiltinLayer(function(h,f){!h.__used&&h.getElementCount()>0&&(h.__dirty=!0,h.__startIndex=h.__endIndex=h.__drawIndex=0),h.__dirty&&h.__drawIndex<0&&(h.__drawIndex=h.__startIndex)})},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(t){t.clear()},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t,V(this._layers,function(r){r.setUnpainted()})},e.prototype.configLayer=function(t,r){if(r){var n=this._layerConfig;n[t]?Pt(n[t],r,!0):n[t]=r;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===t||a===t+sC){var s=this._layers[a];Pt(s,n[t],!0)}}}},e.prototype.delLayer=function(t){var r=this._layers,n=this._zlevelList,i=r[t];i&&(i.dom.parentNode.removeChild(i.dom),delete r[t],n.splice(Wt(n,t),1))},e.prototype.resize=function(t,r){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,a=this.root;if(t!=null&&(i.width=t),r!=null&&(i.height=r),t=Mm(a,0,i),r=Mm(a,1,i),n.style.display="",this._width!==t||r!==this._height){n.style.width=t+"px",n.style.height=r+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(t,r);this.refresh(!0)}this._width=t,this._height=r}else{if(t==null||r==null)return;this._width=t,this._height=r,this.getLayer(gf).resize(t,r)}return this},e.prototype.clearLayer=function(t){var r=this._layers[t];r&&r.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[gf].dom;var r=new FR("image",this,t.pixelRatio||this.dpr);r.initContext(),r.clear(!1,t.backgroundColor||this._backgroundColor);var n=r.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=r.dom.width,a=r.dom.height;this.eachLayer(function(h){h.__builtin__?n.drawImage(h.dom,0,0,i,a):h.renderToCanvas&&(n.save(),h.renderToCanvas(n),n.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},o=this.storage.getDisplayList(!0),l=0,c=o.length;l<c;l++){var u=o[l];Zf(n,u,s,l===c-1)}return r.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e}();function GMe(e){e.registerPainter("canvas",WMe)}var qMe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.getInitialData=function(r){return Uu(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(r){var n=new _t,i=fi("line",0,r.itemHeight/2,r.itemWidth,0,r.lineStyle.stroke,!1);n.add(i),i.setStyle(r.lineStyle);var a=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),o=a==="none"?"circle":a,l=r.itemHeight*.8,c=fi(o,(r.itemWidth-l)/2,(r.itemHeight-l)/2,l,l,r.itemStyle.fill);n.add(c),c.setStyle(r.itemStyle);var u=r.iconRotate==="inherit"?s:r.iconRotate||0;return c.rotation=u*Math.PI/180,c.setOrigin([r.itemWidth/2,r.itemHeight/2]),o.indexOf("empty")>-1&&(c.style.stroke=c.style.fill,c.style.fill="#fff",c.style.lineWidth=2),n},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(_n);function Rv(e,t){var r=e.mapDimensionsAll("defaultedLabel"),n=r.length;if(n===1){var i=Nv(e,t,r[0]);return i!=null?i+"":null}else if(n){for(var a=[],s=0;s<r.length;s++)a.push(Nv(e,t,r[s]));return a.join(" ")}}function zae(e,t){var r=e.mapDimensionsAll("defaultedLabel");if(!ye(t))return t+"";for(var n=[],i=0;i<r.length;i++){var a=e.getDimensionIndex(r[i]);a>=0&&n.push(t[a])}return n.join(" ")}var Zw=function(e){ce(t,e);function t(r,n,i,a){var s=e.call(this)||this;return s.updateData(r,n,i,a),s}return t.prototype._createSymbol=function(r,n,i,a,s){this.removeAll();var o=fi(r,-1,-1,2,2,null,s);o.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),o.drift=YMe,this._symbolType=r,this.add(o)},t.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Eu(this.childAt(0))},t.prototype.downplay=function(){Tu(this.childAt(0))},t.prototype.setZ=function(r,n){var i=this.childAt(0);i.zlevel=r,i.z=n},t.prototype.setDraggable=function(r,n){var i=this.childAt(0);i.draggable=r,i.cursor=!n&&r?"move":i.cursor},t.prototype.updateData=function(r,n,i,a){this.silent=!1;var s=r.getItemVisual(n,"symbol")||"circle",o=r.hostModel,l=t.getSymbolSize(r,n),c=s!==this._symbolType,u=a&&a.disableAnimation;if(c){var h=r.getItemVisual(n,"symbolKeepAspect");this._createSymbol(s,r,n,l,h)}else{var f=this.childAt(0);f.silent=!1;var p={scaleX:l[0]/2,scaleY:l[1]/2};u?f.attr(p):Rr(f,p,o,n),gl(f)}if(this._updateCommon(r,n,l,i,a),c){var f=this.childAt(0);if(!u){var p={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,Rn(f,p,o,n)}}u&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(r,n,i,a,s){var o=this.childAt(0),l=r.hostModel,c,u,h,f,p,g,v,m,y;if(a&&(c=a.emphasisItemStyle,u=a.blurItemStyle,h=a.selectItemStyle,f=a.focus,p=a.blurScope,v=a.labelStatesModels,m=a.hoverScale,y=a.cursorStyle,g=a.emphasisDisabled),!a||r.hasItemOption){var x=a&&a.itemModel?a.itemModel:r.getItemModel(n),_=x.getModel("emphasis");c=_.getModel("itemStyle").getItemStyle(),h=x.getModel(["select","itemStyle"]).getItemStyle(),u=x.getModel(["blur","itemStyle"]).getItemStyle(),f=_.get("focus"),p=_.get("blurScope"),g=_.get("disabled"),v=Pi(x),m=_.getShallow("scale"),y=x.getShallow("cursor")}var b=r.getItemVisual(n,"symbolRotate");o.attr("rotation",(b||0)*Math.PI/180||0);var w=tg(r.getItemVisual(n,"symbolOffset"),i);w&&(o.x=w[0],o.y=w[1]),y&&o.attr("cursor",y);var S=r.getItemVisual(n,"style"),k=S.fill;if(o instanceof Wi){var C=o.style;o.useStyle(pe({image:C.image,x:C.x,y:C.y,width:C.width,height:C.height},S))}else o.__isEmptyBrush?o.useStyle(pe({},S)):o.useStyle(S),o.style.decal=null,o.setColor(k,s&&s.symbolInnerColor),o.style.strokeNoScale=!0;var E=r.getItemVisual(n,"liftZ"),T=this._z2;E!=null?T==null&&(this._z2=o.z2,o.z2+=E):T!=null&&(o.z2=T,this._z2=null);var N=s&&s.useNameLabel;ra(o,v,{labelFetcher:l,labelDataIndex:n,defaultText:I,inheritColor:k,defaultOpacity:S.opacity});function I($){return N?r.getName($):Rv(r,$)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var P=o.ensureState("emphasis");P.style=c,o.ensureState("select").style=h,o.ensureState("blur").style=u;var D=m==null||m===!0?Math.max(1.1,3/this._sizeY):isFinite(m)&&m>0?+m:1;P.scaleX=this._sizeX*D,P.scaleY=this._sizeY*D,this.setSymbolScale(1),Wn(this,f,p,g)},t.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r},t.prototype.fadeOut=function(r,n,i){var a=this.childAt(0),s=wt(this).dataIndex,o=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var l=a.getTextContent();l&&fh(l,{style:{opacity:0}},n,{dataIndex:s,removeOpt:o,cb:function(){a.removeTextContent()}})}else a.removeTextContent();fh(a,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:s,cb:r,removeOpt:o})},t.getSymbolSize=function(r,n){return k0(r.getItemVisual(n,"symbolSize"))},t}(_t);function YMe(e,t){this.parent.drift(e,t)}function zR(e,t,r,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(r))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&e.getItemVisual(r,"symbol")!=="none"}function CV(e){return e!=null&&!ft(e)&&(e={isIgnore:e}),e||{}}function kV(e){var t=e.hostModel,r=t.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:Pi(t),cursorStyle:t.get("cursor")}}var Jw=function(){function e(t){this.group=new _t,this._SymbolCtor=t||Zw}return e.prototype.updateData=function(t,r){this._progressiveEls=null,r=CV(r);var n=this.group,i=t.hostModel,a=this._data,s=this._SymbolCtor,o=r.disableAnimation,l=kV(t),c={disableAnimation:o},u=r.getSymbolPoint||function(h){return t.getItemLayout(h)};a||n.removeAll(),t.diff(a).add(function(h){var f=u(h);if(zR(t,f,h,r)){var p=new s(t,h,l,c);p.setPosition(f),t.setItemGraphicEl(h,p),n.add(p)}}).update(function(h,f){var p=a.getItemGraphicEl(f),g=u(h);if(!zR(t,g,h,r)){n.remove(p);return}var v=t.getItemVisual(h,"symbol")||"circle",m=p&&p.getSymbolType&&p.getSymbolType();if(!p||m&&m!==v)n.remove(p),p=new s(t,h,l,c),p.setPosition(g);else{p.updateData(t,h,l,c);var y={x:g[0],y:g[1]};o?p.attr(y):Rr(p,y,i)}n.add(p),t.setItemGraphicEl(h,p)}).remove(function(h){var f=a.getItemGraphicEl(h);f&&f.fadeOut(function(){n.remove(f)},i)}).execute(),this._getSymbolPoint=u,this._data=t},e.prototype.updateLayout=function(){var t=this,r=this._data;r&&r.eachItemGraphicEl(function(n,i){var a=t._getSymbolPoint(i);n.setPosition(a),n.markRedraw()})},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=kV(t),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,r,n){this._progressiveEls=[],n=CV(n);function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var a=t.start;a<t.end;a++){var s=r.getItemLayout(a);if(zR(r,s,a,n)){var o=new this._SymbolCtor(r,a,this._seriesScope);o.traverse(i),o.setPosition(s),this.group.add(o),r.setItemGraphicEl(a,o),this._progressiveEls.push(o)}}},e.prototype.eachRendered=function(t){Lh(this._progressiveEls||this.group,t)},e.prototype.remove=function(t){var r=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(i){i.fadeOut(function(){r.remove(i)},n.hostModel)}):r.removeAll()},e}();function Uae(e,t,r){var n=e.getBaseAxis(),i=e.getOtherAxis(n),a=KMe(i,r),s=n.dim,o=i.dim,l=t.mapDimension(o),c=t.mapDimension(s),u=o==="x"||o==="radius"?1:0,h=_e(e.dimensions,function(g){return t.mapDimension(g)}),f=!1,p=t.getCalculationInfo("stackResultDimension");return gh(t,h[0])&&(f=!0,h[0]=p),gh(t,h[1])&&(f=!0,h[1]=p),{dataDimsForPoint:h,valueStart:a,valueAxisDim:o,baseAxisDim:s,stacked:!!f,valueDim:l,baseDim:c,baseDataOffset:u,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function KMe(e,t){var r=0,n=e.scale.getExtent();return t==="start"?r=n[0]:t==="end"?r=n[1]:Nr(t)&&!isNaN(t)?r=t:n[0]>0?r=n[0]:n[1]<0&&(r=n[1]),r}function Hae(e,t,r,n){var i=NaN;e.stacked&&(i=r.get(r.getCalculationInfo("stackedOverDimension"),n)),isNaN(i)&&(i=e.valueStart);var a=e.baseDataOffset,s=[];return s[a]=r.get(e.baseDim,n),s[1-a]=i,t.dataToPoint(s)}function XMe(e,t){var r=[];return t.diff(e).add(function(n){r.push({cmd:"+",idx:n})}).update(function(n,i){r.push({cmd:"=",idx:i,idx1:n})}).remove(function(n){r.push({cmd:"-",idx:n})}).execute(),r}function ZMe(e,t,r,n,i,a,s,o){for(var l=XMe(e,t),c=[],u=[],h=[],f=[],p=[],g=[],v=[],m=Uae(i,t,s),y=e.getLayout("points")||[],x=t.getLayout("points")||[],_=0;_<l.length;_++){var b=l[_],w=!0,S=void 0,k=void 0;switch(b.cmd){case"=":S=b.idx*2,k=b.idx1*2;var C=y[S],E=y[S+1],T=x[k],N=x[k+1];(isNaN(C)||isNaN(E))&&(C=T,E=N),c.push(C,E),u.push(T,N),h.push(r[S],r[S+1]),f.push(n[k],n[k+1]),v.push(t.getRawIndex(b.idx1));break;case"+":var I=b.idx,P=m.dataDimsForPoint,D=i.dataToPoint([t.get(P[0],I),t.get(P[1],I)]);k=I*2,c.push(D[0],D[1]),u.push(x[k],x[k+1]);var $=Hae(m,i,t,I);h.push($[0],$[1]),f.push(n[k],n[k+1]),v.push(t.getRawIndex(I));break;case"-":w=!1}w&&(p.push(b),g.push(g.length))}g.sort(function(q,K){return v[q]-v[K]});for(var L=c.length,O=tc(L),j=tc(L),M=tc(L),R=tc(L),z=[],_=0;_<g.length;_++){var U=g[_],F=_*2,G=U*2;O[F]=c[G],O[F+1]=c[G+1],j[F]=u[G],j[F+1]=u[G+1],M[F]=h[G],M[F+1]=h[G+1],R[F]=f[G],R[F+1]=f[G+1],z[_]=p[U]}return{current:O,next:j,stackedOnCurrent:M,stackedOnNext:R,status:z}}var ad=Math.min,sd=Math.max;function pp(e,t){return isNaN(e)||isNaN(t)}function ND(e,t,r,n,i,a,s,o,l){for(var c,u,h,f,p,g,v=r,m=0;m<n;m++){var y=t[v*2],x=t[v*2+1];if(v>=i||v<0)break;if(pp(y,x)){if(l){v+=a;continue}break}if(v===r)e[a>0?"moveTo":"lineTo"](y,x),h=y,f=x;else{var _=y-c,b=x-u;if(_*_+b*b<.5){v+=a;continue}if(s>0){for(var w=v+a,S=t[w*2],k=t[w*2+1];S===y&&k===x&&m<n;)m++,w+=a,v+=a,S=t[w*2],k=t[w*2+1],y=t[v*2],x=t[v*2+1],_=y-c,b=x-u;var C=m+1;if(l)for(;pp(S,k)&&C<n;)C++,w+=a,S=t[w*2],k=t[w*2+1];var E=.5,T=0,N=0,I=void 0,P=void 0;if(C>=n||pp(S,k))p=y,g=x;else{T=S-c,N=k-u;var D=y-c,$=S-y,L=x-u,O=k-x,j=void 0,M=void 0;if(o==="x"){j=Math.abs(D),M=Math.abs($);var R=T>0?1:-1;p=y-R*j*s,g=x,I=y+R*M*s,P=x}else if(o==="y"){j=Math.abs(L),M=Math.abs(O);var z=N>0?1:-1;p=y,g=x-z*j*s,I=y,P=x+z*M*s}else j=Math.sqrt(D*D+L*L),M=Math.sqrt($*$+O*O),E=M/(M+j),p=y-T*s*(1-E),g=x-N*s*(1-E),I=y+T*s*E,P=x+N*s*E,I=ad(I,sd(S,y)),P=ad(P,sd(k,x)),I=sd(I,ad(S,y)),P=sd(P,ad(k,x)),T=I-y,N=P-x,p=y-T*j/M,g=x-N*j/M,p=ad(p,sd(c,y)),g=ad(g,sd(u,x)),p=sd(p,ad(c,y)),g=sd(g,ad(u,x)),T=y-p,N=x-g,I=y+T*M/j,P=x+N*M/j}e.bezierCurveTo(h,f,p,g,y,x),h=I,f=P}else e.lineTo(y,x)}c=y,u=x,v+=a}return m}var Vae=function(){function e(){this.smooth=0,this.smoothConstraint=!0}return e}(),JMe=function(e){ce(t,e);function t(r){var n=e.call(this,r)||this;return n.type="ec-polyline",n}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Vae},t.prototype.buildPath=function(r,n){var i=n.points,a=0,s=i.length/2;if(n.connectNulls){for(;s>0&&pp(i[s*2-2],i[s*2-1]);s--);for(;a<s&&pp(i[a*2],i[a*2+1]);a++);}for(;a<s;)a+=ND(r,i,a,s,s,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},t.prototype.getPointOn=function(r,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,a=i.data,s=wc.CMD,o,l,c=n==="x",u=[],h=0;h<a.length;){var f=a[h++],p=void 0,g=void 0,v=void 0,m=void 0,y=void 0,x=void 0,_=void 0;switch(f){case s.M:o=a[h++],l=a[h++];break;case s.L:if(p=a[h++],g=a[h++],_=c?(r-o)/(p-o):(r-l)/(g-l),_<=1&&_>=0){var b=c?(g-l)*_+l:(p-o)*_+o;return c?[r,b]:[b,r]}o=p,l=g;break;case s.C:p=a[h++],g=a[h++],v=a[h++],m=a[h++],y=a[h++],x=a[h++];var w=c?YE(o,p,v,y,r,u):YE(l,g,m,x,r,u);if(w>0)for(var S=0;S<w;S++){var k=u[S];if(k<=1&&k>=0){var b=c?Ti(l,g,m,x,k):Ti(o,p,v,y,k);return c?[r,b]:[b,r]}}o=y,l=x;break}}},t}(er),QMe=function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Vae),Wae=function(e){ce(t,e);function t(r){var n=e.call(this,r)||this;return n.type="ec-polygon",n}return t.prototype.getDefaultShape=function(){return new QMe},t.prototype.buildPath=function(r,n){var i=n.points,a=n.stackedOnPoints,s=0,o=i.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;o>0&&pp(i[o*2-2],i[o*2-1]);o--);for(;s<o&&pp(i[s*2],i[s*2+1]);s++);}for(;s<o;){var c=ND(r,i,s,o,o,1,n.smooth,l,n.connectNulls);ND(r,a,s+c-1,c,o,-1,n.stackedOnSmooth,l,n.connectNulls),s+=c+1,r.closePath()}},t}(er);function Gae(e,t,r,n,i){var a=e.getArea(),s=a.x,o=a.y,l=a.width,c=a.height,u=r.get(["lineStyle","width"])||0;s-=u/2,o-=u/2,l+=u,c+=u,l=Math.ceil(l),s!==Math.floor(s)&&(s=Math.floor(s),l++);var h=new xr({shape:{x:s,y:o,width:l,height:c}});if(t){var f=e.getBaseAxis(),p=f.isHorizontal(),g=f.inverse;p?(g&&(h.shape.x+=l),h.shape.width=0):(g||(h.shape.y+=c),h.shape.height=0);var v=lt(i)?function(m){i(m,h)}:null;Rn(h,{shape:{width:l,height:c,x:s,y:o}},r,null,n,v)}return h}function qae(e,t,r){var n=e.getArea(),i=ei(n.r0,1),a=ei(n.r,1),s=new qa({shape:{cx:ei(e.cx,1),cy:ei(e.cy,1),r0:i,r:a,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(t){var o=e.getBaseAxis().dim==="angle";o?s.shape.endAngle=n.startAngle:s.shape.r=i,Rn(s,{shape:{endAngle:n.endAngle,r:a}},r)}return s}function Qw(e,t,r,n,i){if(e){if(e.type==="polar")return qae(e,t,r);if(e.type==="cartesian2d")return Gae(e,t,r,n,i)}else return null;return null}function ng(e,t){return e.type===t}function EV(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return;return!0}}function TV(e){for(var t=1/0,r=1/0,n=-1/0,i=-1/0,a=0;a<e.length;){var s=e[a++],o=e[a++];isNaN(s)||(t=Math.min(s,t),n=Math.max(s,n)),isNaN(o)||(r=Math.min(o,r),i=Math.max(o,i))}return[[t,r],[n,i]]}function NV(e,t){var r=TV(e),n=r[0],i=r[1],a=TV(t),s=a[0],o=a[1];return Math.max(Math.abs(n[0]-s[0]),Math.abs(n[1]-s[1]),Math.abs(i[0]-o[0]),Math.abs(i[1]-o[1]))}function AV(e){return Nr(e)?e:e?.5:0}function ePe(e,t,r){if(!r.valueDim)return[];for(var n=t.count(),i=tc(n*2),a=0;a<n;a++){var s=Hae(r,e,t,a);i[a*2]=s[0],i[a*2+1]=s[1]}return i}function od(e,t,r,n,i){var a=r.getBaseAxis(),s=a.dim==="x"||a.dim==="radius"?0:1,o=[],l=0,c=[],u=[],h=[],f=[];if(i){for(l=0;l<e.length;l+=2){var p=t||e;!isNaN(p[l])&&!isNaN(p[l+1])&&f.push(e[l],e[l+1])}e=f}for(l=0;l<e.length-2;l+=2)switch(h[0]=e[l+2],h[1]=e[l+3],u[0]=e[l],u[1]=e[l+1],o.push(u[0],u[1]),n){case"end":c[s]=h[s],c[1-s]=u[1-s],o.push(c[0],c[1]);break;case"middle":var g=(u[s]+h[s])/2,v=[];c[s]=v[s]=g,c[1-s]=u[1-s],v[1-s]=h[1-s],o.push(c[0],c[1]),o.push(v[0],v[1]);break;default:c[s]=u[s],c[1-s]=h[1-s],o.push(c[0],c[1])}return o.push(e[l++],e[l++]),o}function tPe(e,t){var r=[],n=e.length,i,a;function s(u,h,f){var p=u.coord,g=(f-p)/(h.coord-p),v=zEe(g,[u.color,h.color]);return{coord:f,color:v}}for(var o=0;o<n;o++){var l=e[o],c=l.coord;if(c<0)i=l;else if(c>t){a?r.push(s(a,l,t)):i&&r.push(s(i,l,0),s(i,l,t));break}else i&&(r.push(s(i,l,0)),i=null),r.push(l),a=l}return r}function rPe(e,t,r){var n=e.getVisual("visualMeta");if(!(!n||!n.length||!e.count())&&t.type==="cartesian2d"){for(var i,a,s=n.length-1;s>=0;s--){var o=e.getDimensionInfo(n[s].dimension);if(i=o&&o.coordDim,i==="x"||i==="y"){a=n[s];break}}if(a){var l=t.getAxis(i),c=_e(a.stops,function(_){return{coord:l.toGlobalCoord(l.dataToCoord(_.value)),color:_.color}}),u=c.length,h=a.outerColors.slice();u&&c[0].coord>c[u-1].coord&&(c.reverse(),h.reverse());var f=tPe(c,i==="x"?r.getWidth():r.getHeight()),p=f.length;if(!p&&u)return c[0].coord<0?h[1]?h[1]:c[u-1].color:h[0]?h[0]:c[0].color;var g=10,v=f[0].coord-g,m=f[p-1].coord+g,y=m-v;if(y<.001)return"transparent";V(f,function(_){_.offset=(_.coord-v)/y}),f.push({offset:p?f[p-1].offset:.5,color:h[1]||"transparent"}),f.unshift({offset:p?f[0].offset:.5,color:h[0]||"transparent"});var x=new Vw(0,0,0,0,f,!0);return x[i]=v,x[i+"2"]=m,x}}}function nPe(e,t,r){var n=e.get("showAllSymbol"),i=n==="auto";if(!(n&&!i)){var a=r.getAxesByScale("ordinal")[0];if(a&&!(i&&iPe(a,t))){var s=t.mapDimension(a.dim),o={};return V(a.getViewLabels(),function(l){var c=a.scale.getRawOrdinalNumber(l.tickValue);o[c]=1}),function(l){return!o.hasOwnProperty(t.get(s,l))}}}}function iPe(e,t){var r=e.getExtent(),n=Math.abs(r[1]-r[0])/e.scale.count();isNaN(n)&&(n=0);for(var i=t.count(),a=Math.max(1,Math.round(i/5)),s=0;s<i;s+=a)if(Zw.getSymbolSize(t,s)[e.isHorizontal()?1:0]*1.5>n)return!1;return!0}function aPe(e,t){return isNaN(e)||isNaN(t)}function sPe(e){for(var t=e.length/2;t>0&&aPe(e[t*2-2],e[t*2-1]);t--);return t-1}function jV(e,t){return[e[t*2],e[t*2+1]]}function oPe(e,t,r){for(var n=e.length/2,i=r==="x"?0:1,a,s,o=0,l=-1,c=0;c<n;c++)if(s=e[c*2+i],!(isNaN(s)||isNaN(e[c*2+1-i]))){if(c===0){a=s;continue}if(a<=t&&s>=t||a>=t&&s<=t){l=c;break}o=c,a=s}return{range:[o,l],t:(t-a)/(s-a)}}function Yae(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<Ga.length;t++)if(e.get([Ga[t],"endLabel","show"]))return!0;return!1}function UR(e,t,r,n){if(ng(t,"cartesian2d")){var i=n.getModel("endLabel"),a=i.get("valueAnimation"),s=n.getData(),o={lastFrameIndex:0},l=Yae(n)?function(p,g){e._endLabelOnDuring(p,g,s,o,a,i,t)}:null,c=t.getBaseAxis().isHorizontal(),u=Gae(t,r,n,function(){var p=e._endLabel;p&&r&&o.originalX!=null&&p.attr({x:o.originalX,y:o.originalY})},l);if(!n.get("clip",!0)){var h=u.shape,f=Math.max(h.width,h.height);c?(h.y-=f,h.height+=f*2):(h.x-=f,h.width+=f*2)}return l&&l(1,u),u}else return qae(t,r,n)}function lPe(e,t){var r=t.getBaseAxis(),n=r.isHorizontal(),i=r.inverse,a=n?i?"right":"left":"center",s=n?"middle":i?"top":"bottom";return{normal:{align:e.get("align")||a,verticalAlign:e.get("verticalAlign")||s}}}var cPe=function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(){var r=new _t,n=new Jw;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=r,this._changePolyState=Ke(this._changePolyState,this)},t.prototype.render=function(r,n,i){var a=r.coordinateSystem,s=this.group,o=r.getData(),l=r.getModel("lineStyle"),c=r.getModel("areaStyle"),u=o.getLayout("points")||[],h=a.type==="polar",f=this._coordSys,p=this._symbolDraw,g=this._polyline,v=this._polygon,m=this._lineGroup,y=!n.ssr&&r.get("animation"),x=!c.isEmpty(),_=c.get("origin"),b=Uae(a,o,_),w=x&&ePe(a,o,b),S=r.get("showSymbol"),k=r.get("connectNulls"),C=S&&!h&&nPe(r,o,a),E=this._data;E&&E.eachItemGraphicEl(function(q,K){q.__temp&&(s.remove(q),E.setItemGraphicEl(K,null))}),S||p.remove(),s.add(m);var T=h?!1:r.get("step"),N;a&&a.getArea&&r.get("clip",!0)&&(N=a.getArea(),N.width!=null?(N.x-=.1,N.y-=.1,N.width+=.2,N.height+=.2):N.r0&&(N.r0-=.5,N.r+=.5)),this._clipShapeForSymbol=N;var I=rPe(o,a,i)||o.getVisual("style")[o.getVisual("drawType")];if(!(g&&f.type===a.type&&T===this._step))S&&p.updateData(o,{isIgnore:C,clipShape:N,disableAnimation:!0,getSymbolPoint:function(q){return[u[q*2],u[q*2+1]]}}),y&&this._initSymbolLabelAnimation(o,a,N),T&&(w&&(w=od(w,u,a,T,k)),u=od(u,null,a,T,k)),g=this._newPolyline(u),x?v=this._newPolygon(u,w):v&&(m.remove(v),v=this._polygon=null),h||this._initOrUpdateEndLabel(r,a,Ip(I)),m.setClipPath(UR(this,a,!0,r));else{x&&!v?v=this._newPolygon(u,w):v&&!x&&(m.remove(v),v=this._polygon=null),h||this._initOrUpdateEndLabel(r,a,Ip(I));var P=m.getClipPath();if(P){var D=UR(this,a,!1,r);Rn(P,{shape:D.shape},r)}else m.setClipPath(UR(this,a,!0,r));S&&p.updateData(o,{isIgnore:C,clipShape:N,disableAnimation:!0,getSymbolPoint:function(q){return[u[q*2],u[q*2+1]]}}),(!EV(this._stackedOnPoints,w)||!EV(this._points,u))&&(y?this._doUpdateAnimation(o,w,a,i,T,_,k):(T&&(w&&(w=od(w,u,a,T,k)),u=od(u,null,a,T,k)),g.setShape({points:u}),v&&v.setShape({points:u,stackedOnPoints:w})))}var $=r.getModel("emphasis"),L=$.get("focus"),O=$.get("blurScope"),j=$.get("disabled");if(g.useStyle(ut(l.getLineStyle(),{fill:"none",stroke:I,lineJoin:"bevel"})),ta(g,r,"lineStyle"),g.style.lineWidth>0&&r.get(["emphasis","lineStyle","width"])==="bolder"){var M=g.getState("emphasis").style;M.lineWidth=+g.style.lineWidth+1}wt(g).seriesIndex=r.seriesIndex,Wn(g,L,O,j);var R=AV(r.get("smooth")),z=r.get("smoothMonotone");if(g.setShape({smooth:R,smoothMonotone:z,connectNulls:k}),v){var U=o.getCalculationInfo("stackedOnSeries"),F=0;v.useStyle(ut(c.getAreaStyle(),{fill:I,opacity:.7,lineJoin:"bevel",decal:o.getVisual("style").decal})),U&&(F=AV(U.get("smooth"))),v.setShape({smooth:R,stackedOnSmooth:F,smoothMonotone:z,connectNulls:k}),ta(v,r,"areaStyle"),wt(v).seriesIndex=r.seriesIndex,Wn(v,L,O,j)}var G=this._changePolyState;o.eachItemGraphicEl(function(q){q&&(q.onHoverStateChange=G)}),this._polyline.onHoverStateChange=G,this._data=o,this._coordSys=a,this._stackedOnPoints=w,this._points=u,this._step=T,this._valueOrigin=_,r.get("triggerLineEvent")&&(this.packEventData(r,g),v&&this.packEventData(r,v))},t.prototype.packEventData=function(r,n){wt(n).eventData={componentType:"series",componentSubType:"line",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"line"}},t.prototype.highlight=function(r,n,i,a){var s=r.getData(),o=Ap(s,a);if(this._changePolyState("emphasis"),!(o instanceof Array)&&o!=null&&o>=0){var l=s.getLayout("points"),c=s.getItemGraphicEl(o);if(!c){var u=l[o*2],h=l[o*2+1];if(isNaN(u)||isNaN(h)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(u,h))return;var f=r.get("zlevel")||0,p=r.get("z")||0;c=new Zw(s,o),c.x=u,c.y=h,c.setZ(f,p);var g=c.getSymbolPath().getTextContent();g&&(g.zlevel=f,g.z=p,g.z2=this._polyline.z2+1),c.__temp=!0,s.setItemGraphicEl(o,c),c.stopSymbolAnimation(!0),this.group.add(c)}c.highlight()}else dn.prototype.highlight.call(this,r,n,i,a)},t.prototype.downplay=function(r,n,i,a){var s=r.getData(),o=Ap(s,a);if(this._changePolyState("normal"),o!=null&&o>=0){var l=s.getItemGraphicEl(o);l&&(l.__temp?(s.setItemGraphicEl(o,null),this.group.remove(l)):l.downplay())}else dn.prototype.downplay.call(this,r,n,i,a)},t.prototype._changePolyState=function(r){var n=this._polygon;tT(this._polyline,r),n&&tT(n,r)},t.prototype._newPolyline=function(r){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new JMe({shape:{points:r},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},t.prototype._newPolygon=function(r,n){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new Wae({shape:{points:r,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},t.prototype._initSymbolLabelAnimation=function(r,n,i){var a,s,o=n.getBaseAxis(),l=o.inverse;n.type==="cartesian2d"?(a=o.isHorizontal(),s=!1):n.type==="polar"&&(a=o.dim==="angle",s=!0);var c=r.hostModel,u=c.get("animationDuration");lt(u)&&(u=u(null));var h=c.get("animationDelay")||0,f=lt(h)?h(null):h;r.eachItemGraphicEl(function(p,g){var v=p;if(v){var m=[p.x,p.y],y=void 0,x=void 0,_=void 0;if(i)if(s){var b=i,w=n.pointToCoord(m);a?(y=b.startAngle,x=b.endAngle,_=-w[1]/180*Math.PI):(y=b.r0,x=b.r,_=w[0])}else{var S=i;a?(y=S.x,x=S.x+S.width,_=p.x):(y=S.y+S.height,x=S.y,_=p.y)}var k=x===y?0:(_-y)/(x-y);l&&(k=1-k);var C=lt(h)?h(g):u*k+f,E=v.getSymbolPath(),T=E.getTextContent();v.attr({scaleX:0,scaleY:0}),v.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:C}),T&&T.animateFrom({style:{opacity:0}},{duration:300,delay:C}),E.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(r,n,i){var a=r.getModel("endLabel");if(Yae(r)){var s=r.getData(),o=this._polyline,l=s.getLayout("points");if(!l){o.removeTextContent(),this._endLabel=null;return}var c=this._endLabel;c||(c=this._endLabel=new kr({z2:200}),c.ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var u=sPe(l);u>=0&&(ra(o,Pi(r,"endLabel"),{inheritColor:i,labelFetcher:r,labelDataIndex:u,defaultText:function(h,f,p){return p!=null?zae(s,p):Rv(s,h)},enableTextSetter:!0},lPe(a,n)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(r,n,i,a,s,o,l){var c=this._endLabel,u=this._polyline;if(c){r<1&&a.originalX==null&&(a.originalX=c.x,a.originalY=c.y);var h=i.getLayout("points"),f=i.hostModel,p=f.get("connectNulls"),g=o.get("precision"),v=o.get("distance")||0,m=l.getBaseAxis(),y=m.isHorizontal(),x=m.inverse,_=n.shape,b=x?y?_.x:_.y+_.height:y?_.x+_.width:_.y,w=(y?v:0)*(x?-1:1),S=(y?0:-v)*(x?-1:1),k=y?"x":"y",C=oPe(h,b,k),E=C.range,T=E[1]-E[0],N=void 0;if(T>=1){if(T>1&&!p){var I=jV(h,E[0]);c.attr({x:I[0]+w,y:I[1]+S}),s&&(N=f.getRawValue(E[0]))}else{var I=u.getPointOn(b,k);I&&c.attr({x:I[0]+w,y:I[1]+S});var P=f.getRawValue(E[0]),D=f.getRawValue(E[1]);s&&(N=Ire(i,g,P,D,C.t))}a.lastFrameIndex=E[0]}else{var $=r===1||a.lastFrameIndex>0?E[0]:0,I=jV(h,$);s&&(N=f.getRawValue($)),c.attr({x:I[0]+w,y:I[1]+S})}if(s){var L=y0(c);typeof L.setLabelText=="function"&&L.setLabelText(N)}}},t.prototype._doUpdateAnimation=function(r,n,i,a,s,o,l){var c=this._polyline,u=this._polygon,h=r.hostModel,f=ZMe(this._data,r,this._stackedOnPoints,n,this._coordSys,i,this._valueOrigin),p=f.current,g=f.stackedOnCurrent,v=f.next,m=f.stackedOnNext;if(s&&(g=od(f.stackedOnCurrent,f.current,i,s,l),p=od(f.current,null,i,s,l),m=od(f.stackedOnNext,f.next,i,s,l),v=od(f.next,null,i,s,l)),NV(p,v)>3e3||u&&NV(g,m)>3e3){c.stopAnimation(),c.setShape({points:v}),u&&(u.stopAnimation(),u.setShape({points:v,stackedOnPoints:m}));return}c.shape.__points=f.current,c.shape.points=p;var y={shape:{points:v}};f.current!==p&&(y.shape.__points=f.next),c.stopAnimation(),Rr(c,y,h),u&&(u.setShape({points:p,stackedOnPoints:g}),u.stopAnimation(),Rr(u,{shape:{stackedOnPoints:m}},h),c.shape.points!==u.shape.points&&(u.shape.points=c.shape.points));for(var x=[],_=f.status,b=0;b<_.length;b++){var w=_[b].cmd;if(w==="="){var S=r.getItemGraphicEl(_[b].idx1);S&&x.push({el:S,ptIdx:b})}}c.animators&&c.animators.length&&c.animators[0].during(function(){u&&u.dirtyShape();for(var k=c.shape.__points,C=0;C<x.length;C++){var E=x[C].el,T=x[C].ptIdx*2;E.x=k[T],E.y=k[T+1],E.markRedraw()}})},t.prototype.remove=function(r){var n=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,s){a.__temp&&(n.remove(a),i.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(dn);function e1(e,t){return{seriesType:e,plan:S0(),reset:function(r){var n=r.getData(),i=r.coordinateSystem,a=r.pipelineContext,s=t||a.large;if(i){var o=_e(i.dimensions,function(p){return n.mapDimension(p)}).slice(0,2),l=o.length,c=n.getCalculationInfo("stackResultDimension");gh(n,o[0])&&(o[0]=c),gh(n,o[1])&&(o[1]=c);var u=n.getStore(),h=n.getDimensionIndex(o[0]),f=n.getDimensionIndex(o[1]);return l&&{progress:function(p,g){for(var v=p.end-p.start,m=s&&tc(v*l),y=[],x=[],_=p.start,b=0;_<p.end;_++){var w=void 0;if(l===1){var S=u.get(h,_);w=i.dataToPoint(S,null,x)}else y[0]=u.get(h,_),y[1]=u.get(f,_),w=i.dataToPoint(y,null,x);s?(m[b++]=w[0],m[b++]=w[1]):g.setItemLayout(_,w.slice())}s&&g.setLayout("points",m)}}}}}}var uPe={average:function(e){for(var t=0,r=0,n=0;n<e.length;n++)isNaN(e[n])||(t+=e[n],r++);return r===0?NaN:t/r},sum:function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r]||0;return t},max:function(e){for(var t=-1/0,r=0;r<e.length;r++)e[r]>t&&(t=e[r]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,r=0;r<e.length;r++)e[r]<t&&(t=e[r]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},dPe=function(e){return Math.round(e.length/2)};function Kae(e){return{seriesType:e,reset:function(t,r,n){var i=t.getData(),a=t.get("sampling"),s=t.coordinateSystem,o=i.count();if(o>10&&s.type==="cartesian2d"&&a){var l=s.getBaseAxis(),c=s.getOtherAxis(l),u=l.getExtent(),h=n.getDevicePixelRatio(),f=Math.abs(u[1]-u[0])*(h||1),p=Math.round(o/f);if(isFinite(p)&&p>1){a==="lttb"?t.setData(i.lttbDownSample(i.mapDimension(c.dim),1/p)):a==="minmax"&&t.setData(i.minmaxDownSample(i.mapDimension(c.dim),1/p));var g=void 0;We(a)?g=uPe[a]:lt(a)&&(g=a),g&&t.setData(i.downSample(i.mapDimension(c.dim),1/p,g,dPe))}}}}}function hPe(e){e.registerChartView(cPe),e.registerSeriesModel(qMe),e.registerLayout(e1("line",!0)),e.registerVisual({seriesType:"line",reset:function(t){var r=t.getData(),n=t.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=r.getVisual("style").fill),r.setVisual("legendLineStyle",n)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Kae("line"))}var Db=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getInitialData=function(r,n){return Uu(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(r,n,i){var a=this.coordinateSystem;if(a&&a.clampData){var s=a.clampData(r),o=a.dataToPoint(s);if(i)V(a.getAxes(),function(f,p){if(f.type==="category"&&n!=null){var g=f.getTicksCoords(),v=f.getTickModel().get("alignWithLabel"),m=s[p],y=n[p]==="x1"||n[p]==="y1";if(y&&!v&&(m+=1),g.length<2)return;if(g.length===2){o[p]=f.toGlobalCoord(f.getExtent()[y?1:0]);return}for(var x=void 0,_=void 0,b=1,w=0;w<g.length;w++){var S=g[w].coord,k=w===g.length-1?g[w-1].tickValue+b:g[w].tickValue;if(k===m){_=S;break}else if(k<m)x=S;else if(x!=null&&k>m){_=(S+x)/2;break}w===1&&(b=k-g[0].tickValue)}_==null&&(x?x&&(_=g[g.length-1].coord):_=g[0].coord),o[p]=f.toGlobalCoord(_)}});else{var l=this.getData(),c=l.getLayout("offset"),u=l.getLayout("size"),h=a.getBaseAxis().isHorizontal()?0:1;o[h]+=c+u/2}return o}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(_n);_n.registerClass(Db);var fPe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getInitialData=function(){return Uu(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var r=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>r&&(r=n),r},t.prototype.brushSelector=function(r,n,i){return i.rect(n.getItemLayout(r))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=Dh(Db.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(Db),pPe=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),_T=function(e){ce(t,e);function t(r){var n=e.call(this,r)||this;return n.type="sausage",n}return t.prototype.getDefaultShape=function(){return new pPe},t.prototype.buildPath=function(r,n){var i=n.cx,a=n.cy,s=Math.max(n.r0||0,0),o=Math.max(n.r,0),l=(o-s)*.5,c=s+l,u=n.startAngle,h=n.endAngle,f=n.clockwise,p=Math.PI*2,g=f?h-u<p:u-h<p;g||(u=h-(f?p:-p));var v=Math.cos(u),m=Math.sin(u),y=Math.cos(h),x=Math.sin(h);g?(r.moveTo(v*s+i,m*s+a),r.arc(v*c+i,m*c+a,l,-Math.PI+u,u,!f)):r.moveTo(v*o+i,m*o+a),r.arc(i,a,o,u,h,!f),r.arc(y*c+i,x*c+a,l,h-Math.PI*2,h-Math.PI,!f),s!==0&&r.arc(i,a,s,h,u,f)},t}(er);function gPe(e,t){t=t||{};var r=t.isRoundCap;return function(n,i,a){var s=i.position;if(!s||s instanceof Array)return QE(n,i,a);var o=e(s),l=i.distance!=null?i.distance:5,c=this.shape,u=c.cx,h=c.cy,f=c.r,p=c.r0,g=(f+p)/2,v=c.startAngle,m=c.endAngle,y=(v+m)/2,x=r?Math.abs(f-p)/2:0,_=Math.cos,b=Math.sin,w=u+f*_(v),S=h+f*b(v),k="left",C="top";switch(o){case"startArc":w=u+(p-l)*_(y),S=h+(p-l)*b(y),k="center",C="top";break;case"insideStartArc":w=u+(p+l)*_(y),S=h+(p+l)*b(y),k="center",C="bottom";break;case"startAngle":w=u+g*_(v)+oC(v,l+x,!1),S=h+g*b(v)+lC(v,l+x,!1),k="right",C="middle";break;case"insideStartAngle":w=u+g*_(v)+oC(v,-l+x,!1),S=h+g*b(v)+lC(v,-l+x,!1),k="left",C="middle";break;case"middle":w=u+g*_(y),S=h+g*b(y),k="center",C="middle";break;case"endArc":w=u+(f+l)*_(y),S=h+(f+l)*b(y),k="center",C="bottom";break;case"insideEndArc":w=u+(f-l)*_(y),S=h+(f-l)*b(y),k="center",C="top";break;case"endAngle":w=u+g*_(m)+oC(m,l+x,!0),S=h+g*b(m)+lC(m,l+x,!0),k="left",C="middle";break;case"insideEndAngle":w=u+g*_(m)+oC(m,-l+x,!0),S=h+g*b(m)+lC(m,-l+x,!0),k="right",C="middle";break;default:return QE(n,i,a)}return n=n||{},n.x=w,n.y=S,n.align=k,n.verticalAlign=C,n}}function mPe(e,t,r,n){if(Nr(n)){e.setTextConfig({rotation:n});return}else if(ye(t)){e.setTextConfig({rotation:0});return}var i=e.shape,a=i.clockwise?i.startAngle:i.endAngle,s=i.clockwise?i.endAngle:i.startAngle,o=(a+s)/2,l,c=r(t);switch(c){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=o;break;case"startAngle":case"insideStartAngle":l=a;break;case"endAngle":case"insideEndAngle":l=s;break;default:e.setTextConfig({rotation:0});return}var u=Math.PI*1.5-l;c==="middle"&&u>Math.PI/2&&u<Math.PI*1.5&&(u-=Math.PI),e.setTextConfig({rotation:u})}function oC(e,t,r){return t*Math.sin(e)*(r?-1:1)}function lC(e,t,r){return t*Math.cos(e)*(r?1:-1)}function Jf(e,t,r){var n=e.get("borderRadius");if(n==null)return r?{cornerRadius:0}:null;ye(n)||(n=[n,n,n,n]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:_e(n,function(a){return pl(a,i)})}}var HR=Math.max,VR=Math.min;function vPe(e,t){var r=e.getArea&&e.getArea();if(ng(e,"cartesian2d")){var n=e.getBaseAxis();if(n.type!=="category"||!n.onBand){var i=t.getLayout("bandWidth");n.isHorizontal()?(r.x-=i,r.width+=i*2):(r.y-=i,r.height+=i*2)}}return r}var yPe=function(e){ce(t,e);function t(){var r=e.call(this)||this;return r.type=t.type,r._isFirstFrame=!0,r}return t.prototype.render=function(r,n,i,a){this._model=r,this._removeOnRenderedListener(i),this._updateDrawMode(r);var s=r.get("coordinateSystem");(s==="cartesian2d"||s==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(r,n,i):this._renderNormal(r,n,i,a))},t.prototype.incrementalPrepareRender=function(r){this._clear(),this._updateDrawMode(r),this._updateLargeClip(r)},t.prototype.incrementalRender=function(r,n){this._progressiveEls=[],this._incrementalRenderLarge(r,n)},t.prototype.eachRendered=function(r){Lh(this._progressiveEls||this.group,r)},t.prototype._updateDrawMode=function(r){var n=r.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(r,n,i,a){var s=this.group,o=r.getData(),l=this._data,c=r.coordinateSystem,u=c.getBaseAxis(),h;c.type==="cartesian2d"?h=u.isHorizontal():c.type==="polar"&&(h=u.dim==="angle");var f=r.isAnimationEnabled()?r:null,p=xPe(r,c);p&&this._enableRealtimeSort(p,o,i);var g=r.get("clip",!0)||p,v=vPe(c,o);s.removeClipPath();var m=r.get("roundCap",!0),y=r.get("showBackground",!0),x=r.getModel("backgroundStyle"),_=x.get("borderRadius")||0,b=[],w=this._backgroundEls,S=a&&a.isInitSort,k=a&&a.type==="changeAxisOrder";function C(N){var I=cC[c.type](o,N),P=EPe(c,h,I);return P.useStyle(x.getItemStyle()),c.type==="cartesian2d"?P.setShape("r",_):P.setShape("cornerRadius",_),b[N]=P,P}o.diff(l).add(function(N){var I=o.getItemModel(N),P=cC[c.type](o,N,I);if(y&&C(N),!(!o.hasValue(N)||!LV[c.type](P))){var D=!1;g&&(D=RV[c.type](v,P));var $=IV[c.type](r,o,N,P,h,f,u.model,!1,m);p&&($.forceLabelAnimation=!0),DV($,o,N,I,P,r,h,c.type==="polar"),S?$.attr({shape:P}):p?MV(p,f,$,P,N,h,!1,!1):Rn($,{shape:P},r,N),o.setItemGraphicEl(N,$),s.add($),$.ignore=D}}).update(function(N,I){var P=o.getItemModel(N),D=cC[c.type](o,N,P);if(y){var $=void 0;w.length===0?$=C(I):($=w[I],$.useStyle(x.getItemStyle()),c.type==="cartesian2d"?$.setShape("r",_):$.setShape("cornerRadius",_),b[N]=$);var L=cC[c.type](o,N),O=Zae(h,L,c);Rr($,{shape:O},f,N)}var j=l.getItemGraphicEl(I);if(!o.hasValue(N)||!LV[c.type](D)){s.remove(j);return}var M=!1;if(g&&(M=RV[c.type](v,D),M&&s.remove(j)),j?gl(j):j=IV[c.type](r,o,N,D,h,f,u.model,!!j,m),p&&(j.forceLabelAnimation=!0),k){var R=j.getTextContent();if(R){var z=y0(R);z.prevValue!=null&&(z.prevValue=z.value)}}else DV(j,o,N,P,D,r,h,c.type==="polar");S?j.attr({shape:D}):p?MV(p,f,j,D,N,h,!0,k):Rr(j,{shape:D},r,N,null),o.setItemGraphicEl(N,j),j.ignore=M,s.add(j)}).remove(function(N){var I=l.getItemGraphicEl(N);I&&Eb(I,r,N)}).execute();var E=this._backgroundGroup||(this._backgroundGroup=new _t);E.removeAll();for(var T=0;T<b.length;++T)E.add(b[T]);s.add(E),this._backgroundEls=b,this._data=o},t.prototype._renderLarge=function(r,n,i){this._clear(),$V(r,this.group),this._updateLargeClip(r)},t.prototype._incrementalRenderLarge=function(r,n){this._removeBackground(),$V(n,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(r){var n=r.get("clip",!0)&&Qw(r.coordinateSystem,!1,r),i=this.group;n?i.setClipPath(n):i.removeClipPath()},t.prototype._enableRealtimeSort=function(r,n,i){var a=this;if(n.count()){var s=r.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,r,i),this._isFirstFrame=!1;else{var o=function(l){var c=n.getItemGraphicEl(l),u=c&&c.shape;return u&&Math.abs(s.isHorizontal()?u.height:u.width)||0};this._onRendered=function(){a._updateSortWithinSameData(n,o,s,i)},i.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(r,n,i){var a=[];return r.each(r.mapDimension(n.dim),function(s,o){var l=i(o);l=l??NaN,a.push({dataIndex:o,mappedValue:l,ordinalNumber:s})}),a.sort(function(s,o){return o.mappedValue-s.mappedValue}),{ordinalNumbers:_e(a,function(s){return s.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(r,n,i){for(var a=i.scale,s=r.mapDimension(i.dim),o=Number.MAX_VALUE,l=0,c=a.getOrdinalMeta().categories.length;l<c;++l){var u=r.rawIndexOf(s,a.getRawOrdinalNumber(l)),h=u<0?Number.MIN_VALUE:n(r.indexOfRawIndex(u));if(h>o)return!0;o=h}return!1},t.prototype._isOrderDifferentInView=function(r,n){for(var i=n.scale,a=i.getExtent(),s=Math.max(0,a[0]),o=Math.min(a[1],i.getOrdinalMeta().categories.length-1);s<=o;++s)if(r.ordinalNumbers[s]!==i.getRawOrdinalNumber(s))return!0},t.prototype._updateSortWithinSameData=function(r,n,i,a){if(this._isOrderChangedWithinSameData(r,n,i)){var s=this._dataSort(r,i,n);this._isOrderDifferentInView(s,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:s}))}},t.prototype._dispatchInitSort=function(r,n,i){var a=n.baseAxis,s=this._dataSort(r,a,function(o){return r.get(r.mapDimension(n.otherAxis.dim),o)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:s})},t.prototype.remove=function(r,n){this._clear(this._model),this._removeOnRenderedListener(n)},t.prototype.dispose=function(r,n){this._removeOnRenderedListener(n)},t.prototype._removeOnRenderedListener=function(r){this._onRendered&&(r.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(r){var n=this.group,i=this._data;r&&r.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){Eb(a,r,wt(a).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(dn),RV={cartesian2d:function(e,t){var r=t.width<0?-1:1,n=t.height<0?-1:1;r<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height);var i=e.x+e.width,a=e.y+e.height,s=HR(t.x,e.x),o=VR(t.x+t.width,i),l=HR(t.y,e.y),c=VR(t.y+t.height,a),u=o<s,h=c<l;return t.x=u&&s>i?o:s,t.y=h&&l>a?c:l,t.width=u?0:o-s,t.height=h?0:c-l,r<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height),u||h},polar:function(e,t){var r=t.r0<=t.r?1:-1;if(r<0){var n=t.r;t.r=t.r0,t.r0=n}var i=VR(t.r,e.r),a=HR(t.r0,e.r0);t.r=i,t.r0=a;var s=i-a<0;if(r<0){var n=t.r;t.r=t.r0,t.r0=n}return s}},IV={cartesian2d:function(e,t,r,n,i,a,s,o,l){var c=new xr({shape:pe({},n),z2:1});if(c.__dataIndex=r,c.name="item",a){var u=c.shape,h=i?"height":"width";u[h]=0}return c},polar:function(e,t,r,n,i,a,s,o,l){var c=!i&&l?_T:qa,u=new c({shape:n,z2:1});u.name="item";var h=Xae(i);if(u.calculateTextPosition=gPe(h,{isRoundCap:c===_T}),a){var f=u.shape,p=i?"r":"endAngle",g={};f[p]=i?n.r0:n.startAngle,g[p]=n[p],(o?Rr:Rn)(u,{shape:g},a)}return u}};function xPe(e,t){var r=e.get("realtimeSort",!0),n=t.getBaseAxis();if(r&&n.type==="category"&&t.type==="cartesian2d")return{baseAxis:n,otherAxis:t.getOtherAxis(n)}}function MV(e,t,r,n,i,a,s,o){var l,c;a?(c={x:n.x,width:n.width},l={y:n.y,height:n.height}):(c={y:n.y,height:n.height},l={x:n.x,width:n.width}),o||(s?Rr:Rn)(r,{shape:l},t,i,null);var u=t?e.baseAxis.model:null;(s?Rr:Rn)(r,{shape:c},u,i)}function PV(e,t){for(var r=0;r<t.length;r++)if(!isFinite(e[t[r]]))return!0;return!1}var _Pe=["x","y","width","height"],bPe=["cx","cy","r","startAngle","endAngle"],LV={cartesian2d:function(e){return!PV(e,_Pe)},polar:function(e){return!PV(e,bPe)}},cC={cartesian2d:function(e,t,r){var n=e.getItemLayout(t),i=r?SPe(r,n):0,a=n.width>0?1:-1,s=n.height>0?1:-1;return{x:n.x+a*i/2,y:n.y+s*i/2,width:n.width-a*i,height:n.height-s*i}},polar:function(e,t,r){var n=e.getItemLayout(t);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function wPe(e){return e.startAngle!=null&&e.endAngle!=null&&e.startAngle===e.endAngle}function Xae(e){return function(t){var r=t?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+r;default:return n}}}(e)}function DV(e,t,r,n,i,a,s,o){var l=t.getItemVisual(r,"style");if(o){if(!a.get("roundCap")){var u=e.shape,h=Jf(n.getModel("itemStyle"),u,!0);pe(u,h),e.setShape(u)}}else{var c=n.get(["itemStyle","borderRadius"])||0;e.setShape("r",c)}e.useStyle(l);var f=n.getShallow("cursor");f&&e.attr("cursor",f);var p=o?s?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":s?i.height>=0?"bottom":"top":i.width>=0?"right":"left",g=Pi(n);ra(e,g,{labelFetcher:a,labelDataIndex:r,defaultText:Rv(a.getData(),r),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:p});var v=e.getTextContent();if(o&&v){var m=n.get(["label","position"]);e.textConfig.inside=m==="middle"?!0:null,mPe(e,m==="outside"?p:m,Xae(s),n.get(["label","rotate"]))}gne(v,g,a.getRawValue(r),function(x){return zae(t,x)});var y=n.getModel(["emphasis"]);Wn(e,y.get("focus"),y.get("blurScope"),y.get("disabled")),ta(e,n),wPe(i)&&(e.style.fill="none",e.style.stroke="none",V(e.states,function(x){x.style&&(x.style.fill=x.style.stroke="none")}))}function SPe(e,t){var r=e.get(["itemStyle","borderColor"]);if(!r||r==="none")return 0;var n=e.get(["itemStyle","borderWidth"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),a=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(n,i,a)}var CPe=function(){function e(){}return e}(),OV=function(e){ce(t,e);function t(r){var n=e.call(this,r)||this;return n.type="largeBar",n}return t.prototype.getDefaultShape=function(){return new CPe},t.prototype.buildPath=function(r,n){for(var i=n.points,a=this.baseDimIdx,s=1-this.baseDimIdx,o=[],l=[],c=this.barWidth,u=0;u<i.length;u+=3)l[a]=c,l[s]=i[u+2],o[a]=i[u+a],o[s]=i[u+s],r.rect(o[0],o[1],l[0],l[1])},t}(er);function $V(e,t,r,n){var i=e.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,s=i.getLayout("largeDataIndices"),o=i.getLayout("size"),l=e.getModel("backgroundStyle"),c=i.getLayout("largeBackgroundPoints");if(c){var u=new OV({shape:{points:c},incremental:!!n,silent:!0,z2:0});u.baseDimIdx=a,u.largeDataIndices=s,u.barWidth=o,u.useStyle(l.getItemStyle()),t.add(u),r&&r.push(u)}var h=new OV({shape:{points:i.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=a,h.largeDataIndices=s,h.barWidth=o,t.add(h),h.useStyle(i.getVisual("style")),h.style.stroke=null,wt(h).seriesIndex=e.seriesIndex,e.get("silent")||(h.on("mousedown",BV),h.on("mousemove",BV)),r&&r.push(h)}var BV=W4(function(e){var t=this,r=kPe(t,e.offsetX,e.offsetY);wt(t).dataIndex=r>=0?r:null},30,!1);function kPe(e,t,r){for(var n=e.baseDimIdx,i=1-n,a=e.shape.points,s=e.largeDataIndices,o=[],l=[],c=e.barWidth,u=0,h=a.length/3;u<h;u++){var f=u*3;if(l[n]=c,l[i]=a[f+2],o[n]=a[f+n],o[i]=a[f+i],l[i]<0&&(o[i]+=l[i],l[i]=-l[i]),t>=o[0]&&t<=o[0]+l[0]&&r>=o[1]&&r<=o[1]+l[1])return s[u]}return-1}function Zae(e,t,r){if(ng(r,"cartesian2d")){var n=t,i=r.getArea();return{x:e?n.x:i.x,y:e?i.y:n.y,width:e?n.width:i.width,height:e?i.height:n.height}}else{var i=r.getArea(),a=t;return{cx:i.cx,cy:i.cy,r0:e?i.r0:a.r0,r:e?i.r:a.r,startAngle:e?a.startAngle:0,endAngle:e?a.endAngle:Math.PI*2}}}function EPe(e,t,r){var n=e.type==="polar"?qa:xr;return new n({shape:Zae(t,r,e),silent:!0,z2:0})}function TPe(e){e.registerChartView(yPe),e.registerSeriesModel(fPe),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,At(rae,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,nae("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Kae("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,r){var n=t.componentType||"series";r.eachComponent({mainType:n,query:t},function(i){t.sortInfo&&i.axis.setCategorySortInfo(t.sortInfo)})})}var FV=Math.PI*2,uC=Math.PI/180;function Jae(e,t){return Si(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Qae(e,t){var r=Jae(e,t),n=e.get("center"),i=e.get("radius");ye(i)||(i=[0,i]);var a=Le(r.width,t.getWidth()),s=Le(r.height,t.getHeight()),o=Math.min(a,s),l=Le(i[0],o/2),c=Le(i[1],o/2),u,h,f=e.coordinateSystem;if(f){var p=f.dataToPoint(n);u=p[0]||0,h=p[1]||0}else ye(n)||(n=[n,n]),u=Le(n[0],a)+r.x,h=Le(n[1],s)+r.y;return{cx:u,cy:h,r0:l,r:c}}function NPe(e,t,r){t.eachSeriesByType(e,function(n){var i=n.getData(),a=i.mapDimension("value"),s=Jae(n,r),o=Qae(n,r),l=o.cx,c=o.cy,u=o.r,h=o.r0,f=-n.get("startAngle")*uC,p=n.get("endAngle"),g=n.get("padAngle")*uC;p=p==="auto"?f-FV:-p*uC;var v=n.get("minAngle")*uC,m=v+g,y=0;i.each(a,function(O){!isNaN(O)&&y++});var x=i.getSum(a),_=Math.PI/(x||y)*2,b=n.get("clockwise"),w=n.get("roseType"),S=n.get("stillShowZeroSum"),k=i.getDataExtent(a);k[0]=0;var C=b?1:-1,E=[f,p],T=C*g/2;_4(E,!b),f=E[0],p=E[1];var N=ese(n);N.startAngle=f,N.endAngle=p,N.clockwise=b;var I=Math.abs(p-f),P=I,D=0,$=f;if(i.setLayout({viewRect:s,r:u}),i.each(a,function(O,j){var M;if(isNaN(O)){i.setItemLayout(j,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:b,cx:l,cy:c,r0:h,r:w?NaN:u});return}w!=="area"?M=x===0&&S?_:O*_:M=I/y,M<m?(M=m,P-=m):D+=O;var R=$+C*M,z=0,U=0;g>M?(z=$+C*M/2,U=z):(z=$+T,U=R-T),i.setItemLayout(j,{angle:M,startAngle:z,endAngle:U,clockwise:b,cx:l,cy:c,r0:h,r:w?Hr(O,k,[h,u]):u}),$=R}),P<FV&&y)if(P<=.001){var L=I/y;i.each(a,function(O,j){if(!isNaN(O)){var M=i.getItemLayout(j);M.angle=L;var R=0,z=0;L<g?(R=f+C*(j+1/2)*L,z=R):(R=f+C*j*L+T,z=f+C*(j+1)*L-T),M.startAngle=R,M.endAngle=z}})}else _=P/D,$=f,i.each(a,function(O,j){if(!isNaN(O)){var M=i.getItemLayout(j),R=M.angle===m?m:O*_,z=0,U=0;R<g?(z=$+C*R/2,U=z):(z=$+T,U=$+C*R-T),M.startAngle=z,M.endAngle=U,$+=C*R}})})}var ese=_r();function t1(e){return{seriesType:e,reset:function(t,r){var n=r.findComponents({mainType:"legend"});if(!(!n||!n.length)){var i=t.getData();i.filterSelf(function(a){for(var s=i.getName(a),o=0;o<n.length;o++)if(!n[o].isSelected(s))return!1;return!0})}}}}var APe=Math.PI/180;function zV(e,t,r,n,i,a,s,o,l,c){if(e.length<2)return;function u(v){for(var m=v.rB,y=m*m,x=0;x<v.list.length;x++){var _=v.list[x],b=Math.abs(_.label.y-r),w=n+_.len,S=w*w,k=Math.sqrt(Math.abs((1-b*b/y)*S)),C=t+(k+_.len2)*i,E=C-_.label.x,T=_.targetTextWidth-E*i;tse(_,T,!0),_.label.x=C}}function h(v){for(var m={list:[],maxY:0},y={list:[],maxY:0},x=0;x<v.length;x++)if(v[x].labelAlignTo==="none"){var _=v[x],b=_.label.y>r?y:m,w=Math.abs(_.label.y-r);if(w>=b.maxY){var S=_.label.x-t-_.len2*i,k=n+_.len,C=Math.abs(S)<k?Math.sqrt(w*w/(1-S*S/k/k)):k;b.rB=C,b.maxY=w}b.list.push(_)}u(m),u(y)}for(var f=e.length,p=0;p<f;p++)if(e[p].position==="outer"&&e[p].labelAlignTo==="labelLine"){var g=e[p].label.x-c;e[p].linePoints[1][0]+=g,e[p].label.x=c}Cae(e,l,l+s)&&h(e)}function jPe(e,t,r,n,i,a,s,o){for(var l=[],c=[],u=Number.MAX_VALUE,h=-Number.MAX_VALUE,f=0;f<e.length;f++){var p=e[f].label;WR(e[f])||(p.x<t?(u=Math.min(u,p.x),l.push(e[f])):(h=Math.max(h,p.x),c.push(e[f])))}for(var f=0;f<e.length;f++){var g=e[f];if(!WR(g)&&g.linePoints){if(g.labelStyleWidth!=null)continue;var p=g.label,v=g.linePoints,m=void 0;g.labelAlignTo==="edge"?p.x<t?m=v[2][0]-g.labelDistance-s-g.edgeDistance:m=s+i-g.edgeDistance-v[2][0]-g.labelDistance:g.labelAlignTo==="labelLine"?p.x<t?m=u-s-g.bleedMargin:m=s+i-h-g.bleedMargin:p.x<t?m=p.x-s-g.bleedMargin:m=s+i-p.x-g.bleedMargin,g.targetTextWidth=m,tse(g,m)}}zV(c,t,r,n,1,i,a,s,o,h),zV(l,t,r,n,-1,i,a,s,o,u);for(var f=0;f<e.length;f++){var g=e[f];if(!WR(g)&&g.linePoints){var p=g.label,v=g.linePoints,y=g.labelAlignTo==="edge",x=p.style.padding,_=x?x[1]+x[3]:0,b=p.style.backgroundColor?0:_,w=g.rect.width+b,S=v[1][0]-v[2][0];y?p.x<t?v[2][0]=s+g.edgeDistance+w+g.labelDistance:v[2][0]=s+i-g.edgeDistance-w-g.labelDistance:(p.x<t?v[2][0]=p.x+g.labelDistance:v[2][0]=p.x-g.labelDistance,v[1][0]=v[2][0]+S),v[1][1]=v[2][1]=p.y}}}function tse(e,t,r){if(r===void 0&&(r=!1),e.labelStyleWidth==null){var n=e.label,i=n.style,a=e.rect,s=i.backgroundColor,o=i.padding,l=o?o[1]+o[3]:0,c=i.overflow,u=a.width+(s?0:l);if(t<u||r){var h=a.height;if(c&&c.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",t-l);var f=n.getBoundingRect();n.setStyle("width",Math.ceil(f.width)),n.setStyle("backgroundColor",s)}else{var p=t-l,g=t<u?p:r?p>e.unconstrainedWidth?null:p:null;n.setStyle("width",g)}var v=n.getBoundingRect();a.width=v.width;var m=(n.style.margin||0)+2.1;a.height=v.height+m,a.y-=(a.height-h)/2}}}function WR(e){return e.position==="center"}function RPe(e){var t=e.getData(),r=[],n,i,a=!1,s=(e.get("minShowLabelAngle")||0)*APe,o=t.getLayout("viewRect"),l=t.getLayout("r"),c=o.width,u=o.x,h=o.y,f=o.height;function p(S){S.ignore=!0}function g(S){if(!S.ignore)return!0;for(var k in S.states)if(S.states[k].ignore===!1)return!0;return!1}t.each(function(S){var k=t.getItemGraphicEl(S),C=k.shape,E=k.getTextContent(),T=k.getTextGuideLine(),N=t.getItemModel(S),I=N.getModel("label"),P=I.get("position")||N.get(["emphasis","label","position"]),D=I.get("distanceToLabelLine"),$=I.get("alignTo"),L=Le(I.get("edgeDistance"),c),O=I.get("bleedMargin"),j=N.getModel("labelLine"),M=j.get("length");M=Le(M,c);var R=j.get("length2");if(R=Le(R,c),Math.abs(C.endAngle-C.startAngle)<s){V(E.states,p),E.ignore=!0,T&&(V(T.states,p),T.ignore=!0);return}if(g(E)){var z=(C.startAngle+C.endAngle)/2,U=Math.cos(z),F=Math.sin(z),G,q,K,B;n=C.cx,i=C.cy;var W=P==="inside"||P==="inner";if(P==="center")G=C.cx,q=C.cy,B="center";else{var Y=(W?(C.r+C.r0)/2*U:C.r*U)+n,Z=(W?(C.r+C.r0)/2*F:C.r*F)+i;if(G=Y+U*3,q=Z+F*3,!W){var Q=Y+U*(M+l-C.r),re=Z+F*(M+l-C.r),me=Q+(U<0?-1:1)*R,Ee=re;$==="edge"?G=U<0?u+L:u+c-L:G=me+(U<0?-D:D),q=Ee,K=[[Y,Z],[Q,re],[me,Ee]]}B=W?"center":$==="edge"?U>0?"right":"left":U>0?"left":"right"}var Ne=Math.PI,Me=0,Ae=I.get("rotate");if(Nr(Ae))Me=Ae*(Ne/180);else if(P==="center")Me=0;else if(Ae==="radial"||Ae===!0){var Ie=U<0?-z+Ne:-z;Me=Ie}else if(Ae==="tangential"&&P!=="outside"&&P!=="outer"){var bt=Math.atan2(U,F);bt<0&&(bt=Ne*2+bt);var pt=F>0;pt&&(bt=Ne+bt),Me=bt-Ne}if(a=!!Me,E.x=G,E.y=q,E.rotation=Me,E.setStyle({verticalAlign:"middle"}),W){E.setStyle({align:B});var He=E.states.select;He&&(He.x+=E.x,He.y+=E.y)}else{var fe=E.getBoundingRect().clone();fe.applyTransform(E.getComputedTransform());var et=(E.style.margin||0)+2.1;fe.y-=et/2,fe.height+=et,r.push({label:E,labelLine:T,position:P,len:M,len2:R,minTurnAngle:j.get("minTurnAngle"),maxSurfaceAngle:j.get("maxSurfaceAngle"),surfaceNormal:new Lt(U,F),linePoints:K,textAlign:B,labelDistance:D,labelAlignTo:$,edgeDistance:L,bleedMargin:O,rect:fe,unconstrainedWidth:fe.width,labelStyleWidth:E.style.width})}k.setTextConfig({inside:W})}}),!a&&e.get("avoidLabelOverlap")&&jPe(r,n,i,l,c,f,u,h);for(var v=0;v<r.length;v++){var m=r[v],y=m.label,x=m.labelLine,_=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:m.textAlign}),_&&(V(y.states,p),y.ignore=!0);var b=y.states.select;b&&(b.x+=y.x,b.y+=y.y)}if(x){var w=m.linePoints;_||!w?(V(x.states,p),x.ignore=!0):(bae(w,m.minTurnAngle),eMe(w,m.surfaceNormal,m.maxSurfaceAngle),x.setShape({points:w}),y.__hostTarget.textGuideLineConfig={anchor:new Lt(w[0][0],w[0][1])})}}}var IPe=function(e){ce(t,e);function t(r,n,i){var a=e.call(this)||this;a.z2=2;var s=new kr;return a.setTextContent(s),a.updateData(r,n,i,!0),a}return t.prototype.updateData=function(r,n,i,a){var s=this,o=r.hostModel,l=r.getItemModel(n),c=l.getModel("emphasis"),u=r.getItemLayout(n),h=pe(Jf(l.getModel("itemStyle"),u,!0),u);if(isNaN(h.startAngle)){s.setShape(h);return}if(a){s.setShape(h);var f=o.getShallow("animationType");o.ecModel.ssr?(Rn(s,{scaleX:0,scaleY:0},o,{dataIndex:n,isFrom:!0}),s.originX=h.cx,s.originY=h.cy):f==="scale"?(s.shape.r=u.r0,Rn(s,{shape:{r:u.r}},o,n)):i!=null?(s.setShape({startAngle:i,endAngle:i}),Rn(s,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},o,n)):(s.shape.endAngle=u.startAngle,Rr(s,{shape:{endAngle:u.endAngle}},o,n))}else gl(s),Rr(s,{shape:h},o,n);s.useStyle(r.getItemVisual(n,"style")),ta(s,l);var p=(u.startAngle+u.endAngle)/2,g=o.get("selectedOffset"),v=Math.cos(p)*g,m=Math.sin(p)*g,y=l.getShallow("cursor");y&&s.attr("cursor",y),this._updateLabel(o,r,n),s.ensureState("emphasis").shape=pe({r:u.r+(c.get("scale")&&c.get("scaleSize")||0)},Jf(c.getModel("itemStyle"),u)),pe(s.ensureState("select"),{x:v,y:m,shape:Jf(l.getModel(["select","itemStyle"]),u)}),pe(s.ensureState("blur"),{shape:Jf(l.getModel(["blur","itemStyle"]),u)});var x=s.getTextGuideLine(),_=s.getTextContent();x&&pe(x.ensureState("select"),{x:v,y:m}),pe(_.ensureState("select"),{x:v,y:m}),Wn(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},t.prototype._updateLabel=function(r,n,i){var a=this,s=n.getItemModel(i),o=s.getModel("labelLine"),l=n.getItemVisual(i,"style"),c=l&&l.fill,u=l&&l.opacity;ra(a,Pi(s),{labelFetcher:n.hostModel,labelDataIndex:i,inheritColor:c,defaultOpacity:u,defaultText:r.getFormattedLabel(i,"normal")||n.getName(i)});var h=a.getTextContent();a.setTextConfig({position:null,rotation:null}),h.attr({z2:10});var f=r.get(["label","position"]);if(f!=="outside"&&f!=="outer")a.removeTextGuideLine();else{var p=this.getTextGuideLine();p||(p=new Ja,this.setTextGuideLine(p)),i$(this,a$(s),{stroke:c,opacity:dc(o.get(["lineStyle","opacity"]),u,1)})}},t}(qa),MPe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return t.prototype.render=function(r,n,i,a){var s=r.getData(),o=this._data,l=this.group,c;if(!o&&s.count()>0){for(var u=s.getItemLayout(0),h=1;isNaN(u&&u.startAngle)&&h<s.count();++h)u=s.getItemLayout(h);u&&(c=u.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),s.count()===0&&r.get("showEmptyCircle")){var f=ese(r),p=new qa({shape:pe(Qae(r,i),f)});p.useStyle(r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=p,l.add(p)}s.diff(o).add(function(g){var v=new IPe(s,g,c);s.setItemGraphicEl(g,v),l.add(v)}).update(function(g,v){var m=o.getItemGraphicEl(v);m.updateData(s,g,c),m.off("click"),l.add(m),s.setItemGraphicEl(g,m)}).remove(function(g){var v=o.getItemGraphicEl(g);Eb(v,r,g)}).execute(),RPe(r),r.get("animationTypeUpdate")!=="expansion"&&(this._data=s)},t.prototype.dispose=function(){},t.prototype.containPoint=function(r,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var s=r[0]-a.cx,o=r[1]-a.cy,l=Math.sqrt(s*s+o*o);return l<=a.r&&l>=a.r0}},t.type="pie",t}(dn);function T0(e,t,r){t=ye(t)&&{coordDimensions:t}||pe({encodeDefine:e.getEncode()},t);var n=e.getSource(),i=Kw(n,t).dimensions,a=new Ha(i,e);return a.initData(n,r),a}var r1=function(){function e(t,r){this._getDataWithEncodedVisual=t,this._getRawData=r}return e.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},e.prototype.containName=function(t){var r=this._getRawData();return r.indexOfName(t)>=0},e.prototype.indexOfName=function(t){var r=this._getDataWithEncodedVisual();return r.indexOfName(t)},e.prototype.getItemVisual=function(t,r){var n=this._getDataWithEncodedVisual();return n.getItemVisual(t,r)},e}(),PPe=_r(),LPe=function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new r1(Ke(this.getData,this),Ke(this.getRawData,this)),this._defaultLabelLine(r)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return T0(this,{coordDimensions:["value"],encodeDefaulter:At(O4,this)})},t.prototype.getDataParams=function(r){var n=this.getData(),i=PPe(n),a=i.seats;if(!a){var s=[];n.each(n.mapDimension("value"),function(l){s.push(l)}),a=i.seats=ETe(s,n.hostModel.get("percentPrecision"))}var o=e.prototype.getDataParams.call(this,r);return o.percent=a[r]||0,o.$vars.push("percent"),o},t.prototype._defaultLabelLine=function(r){Np(r,"labelLine",["show"]);var n=r.labelLine,i=r.emphasis.labelLine;n.show=n.show&&r.label.show,i.show=i.show&&r.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(_n);function DPe(e){return{seriesType:e,reset:function(t,r){var n=t.getData();n.filterSelf(function(i){var a=n.mapDimension("value"),s=n.get(a,i);return!(Nr(s)&&!isNaN(s)&&s<0)})}}}function OPe(e){e.registerChartView(MPe),e.registerSeriesModel(LPe),bie("pie",e.registerAction),e.registerLayout(At(NPe,"pie")),e.registerProcessor(t1("pie")),e.registerProcessor(DPe("pie"))}var $Pe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.getInitialData=function(r,n){return Uu(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var r=this.option.progressive;return r??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(r,n,i){return i.point(n.getItemLayout(r))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(_n),rse=4,BPe=function(){function e(){}return e}(),FPe=function(e){ce(t,e);function t(r){var n=e.call(this,r)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.getDefaultShape=function(){return new BPe},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(r,n){var i=n.points,a=n.size,s=this.symbolProxy,o=s.shape,l=r.getContext?r.getContext():r,c=l&&a[0]<rse,u=this.softClipShape,h;if(c){this._ctx=l;return}for(this._ctx=null,h=this._off;h<i.length;){var f=i[h++],p=i[h++];isNaN(f)||isNaN(p)||u&&!u.contain(f,p)||(o.x=f-a[0]/2,o.y=p-a[1]/2,o.width=a[0],o.height=a[1],s.buildPath(r,o,!0))}this.incremental&&(this._off=h,this.notClear=!0)},t.prototype.afterBrush=function(){var r=this.shape,n=r.points,i=r.size,a=this._ctx,s=this.softClipShape,o;if(a){for(o=this._off;o<n.length;){var l=n[o++],c=n[o++];isNaN(l)||isNaN(c)||s&&!s.contain(l,c)||a.fillRect(l-i[0]/2,c-i[1]/2,i[0],i[1])}this.incremental&&(this._off=o,this.notClear=!0)}},t.prototype.findDataIndex=function(r,n){for(var i=this.shape,a=i.points,s=i.size,o=Math.max(s[0],4),l=Math.max(s[1],4),c=a.length/2-1;c>=0;c--){var u=c*2,h=a[u]-o/2,f=a[u+1]-l/2;if(r>=h&&n>=f&&r<=h+o&&n<=f+l)return c}return-1},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect();if(r=i[0],n=i[1],a.contain(r,n)){var s=this.hoverDataIdx=this.findDataIndex(r,n);return s>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var n=this.shape,i=n.points,a=n.size,s=a[0],o=a[1],l=1/0,c=1/0,u=-1/0,h=-1/0,f=0;f<i.length;){var p=i[f++],g=i[f++];l=Math.min(p,l),u=Math.max(p,u),c=Math.min(g,c),h=Math.max(g,h)}r=this._rect=new Bt(l-s/2,c-o/2,u-l+s,h-c+o)}return r},t}(er),zPe=function(){function e(){this.group=new _t}return e.prototype.updateData=function(t,r){this._clear();var n=this._create();n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,r)},e.prototype.updateLayout=function(t){var r=t.getLayout("points");this.group.eachChild(function(n){if(n.startIndex!=null){var i=(n.endIndex-n.startIndex)*2,a=n.startIndex*4*2;r=new Float32Array(r.buffer,a,i)}n.setShape("points",r),n.reset()})},e.prototype.incrementalPrepareUpdate=function(t){this._clear()},e.prototype.incrementalUpdate=function(t,r,n){var i=this._newAdded[0],a=r.getLayout("points"),s=i&&i.shape.points;if(s&&s.length<2e4){var o=s.length,l=new Float32Array(o+a.length);l.set(s),l.set(a,o),i.endIndex=t.end,i.setShape({points:l})}else{this._newAdded=[];var c=this._create();c.startIndex=t.start,c.endIndex=t.end,c.incremental=!0,c.setShape({points:a}),this._setCommon(c,r,n)}},e.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},e.prototype._create=function(){var t=new FPe({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},e.prototype._setCommon=function(t,r,n){var i=r.hostModel;n=n||{};var a=r.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]),t.softClipShape=n.clipShape||null,t.symbolProxy=fi(r.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var s=t.shape.size[0]<rse;t.useStyle(i.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var o=r.getVisual("style"),l=o&&o.fill;l&&t.setColor(l);var c=wt(t);c.seriesIndex=i.seriesIndex,t.on("mousemove",function(u){c.dataIndex=null;var h=t.hoverDataIdx;h>=0&&(c.dataIndex=h+(t.startIndex||0))})},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),UPe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a=r.getData(),s=this._updateSymbolDraw(a,r);s.updateData(a,{clipShape:this._getClipShape(r)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(r,n,i){var a=r.getData(),s=this._updateSymbolDraw(a,r);s.incrementalPrepareUpdate(a),this._finished=!1},t.prototype.incrementalRender=function(r,n,i){this._symbolDraw.incrementalUpdate(r,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=r.end===n.getData().count()},t.prototype.updateTransform=function(r,n,i){var a=r.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var s=e1("").reset(r,n,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},t.prototype.eachRendered=function(r){this._symbolDraw&&this._symbolDraw.eachRendered(r)},t.prototype._getClipShape=function(r){if(r.get("clip",!0)){var n=r.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},t.prototype._updateSymbolDraw=function(r,n){var i=this._symbolDraw,a=n.pipelineContext,s=a.large;return(!i||s!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=s?new zPe:new Jw,this._isLargeDraw=s,this.group.removeAll()),this.group.add(i.group),i},t.prototype.remove=function(r,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(dn),HPe=function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(ir),AD=function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",di).models[0]},t.type="cartesian2dAxis",t}(ir);pi(AD,Xw);var nse={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},VPe=Pt({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},nse),h$=Pt({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},nse),WPe=Pt({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},h$),GPe=ut({logBase:10},h$);const ise={category:VPe,value:h$,time:WPe,log:GPe};var qPe={value:1,category:1,time:1,log:1};function Iv(e,t,r,n){V(qPe,function(i,a){var s=Pt(Pt({},ise[a],!0),n,!0),o=function(l){ce(c,l);function c(){var u=l!==null&&l.apply(this,arguments)||this;return u.type=t+"Axis."+a,u}return c.prototype.mergeDefaultAndTheme=function(u,h){var f=Nb(this),p=f?b0(u):{},g=h.getTheme();Pt(u,g.get(a+"Axis")),Pt(u,this.getDefaultOption()),u.type=UV(u),f&&ph(u,p,f)},c.prototype.optionUpdated=function(){var u=this.option;u.type==="category"&&(this.__ordinalMeta=wD.createByAxisModel(this))},c.prototype.getCategories=function(u){var h=this.option;if(h.type==="category")return u?h.data:this.__ordinalMeta.categories},c.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},c.type=t+"Axis."+a,c.defaultOption=s,c}(r);e.registerComponentModel(o)}),e.registerSubTypeDefaulter(t+"Axis",UV)}function UV(e){return e.type||(e.data?"category":"value")}var YPe=function(){function e(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return e.prototype.getAxis=function(t){return this._axes[t]},e.prototype.getAxes=function(){return _e(this._dimList,function(t){return this._axes[t]},this)},e.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Br(this.getAxes(),function(r){return r.scale.type===t})},e.prototype.addAxis=function(t){var r=t.dim;this._axes[r]=t,this._dimList.push(r)},e}(),jD=["x","y"];function HV(e){return e.type==="interval"||e.type==="time"}var KPe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=jD,r}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!HV(r)||!HV(n))){var i=r.getExtent(),a=n.getExtent(),s=this.dataToPoint([i[0],a[0]]),o=this.dataToPoint([i[1],a[1]]),l=i[1]-i[0],c=a[1]-a[0];if(!(!l||!c)){var u=(o[0]-s[0])/l,h=(o[1]-s[1])/c,f=s[0]-i[0]*u,p=s[1]-a[0]*h,g=this._transform=[u,0,0,h,f,p];this._invTransform=p0([],g)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(r){var n=this.getAxis("x"),i=this.getAxis("y");return n.contain(n.toLocalCoord(r[0]))&&i.contain(i.toLocalCoord(r[1]))},t.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},t.prototype.containZone=function(r,n){var i=this.dataToPoint(r),a=this.dataToPoint(n),s=this.getArea(),o=new Bt(i[0],i[1],a[0]-i[0],a[1]-i[1]);return s.intersect(o)},t.prototype.dataToPoint=function(r,n,i){i=i||[];var a=r[0],s=r[1];if(this._transform&&a!=null&&isFinite(a)&&s!=null&&isFinite(s))return Ji(i,r,this._transform);var o=this.getAxis("x"),l=this.getAxis("y");return i[0]=o.toGlobalCoord(o.dataToCoord(a,n)),i[1]=l.toGlobalCoord(l.dataToCoord(s,n)),i},t.prototype.clampData=function(r,n){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,s=i.getExtent(),o=a.getExtent(),l=i.parse(r[0]),c=a.parse(r[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),n[1]=Math.min(Math.max(Math.min(o[0],o[1]),c),Math.max(o[0],o[1])),n},t.prototype.pointToData=function(r,n){var i=[];if(this._invTransform)return Ji(i,r,this._invTransform);var a=this.getAxis("x"),s=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(r[0]),n),i[1]=s.coordToData(s.toLocalCoord(r[1]),n),i},t.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},t.prototype.getArea=function(r){r=r||0;var n=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),a=Math.min(n[0],n[1])-r,s=Math.min(i[0],i[1])-r,o=Math.max(n[0],n[1])-a+r,l=Math.max(i[0],i[1])-s+r;return new Bt(a,s,o,l)},t}(YPe),XPe=function(e){ce(t,e);function t(r,n,i,a,s){var o=e.call(this,r,n,i)||this;return o.index=0,o.type=a||"value",o.position=s||"bottom",o}return t.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},t.prototype.getGlobalExtent=function(r){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),r&&n[0]>n[1]&&n.reverse(),n},t.prototype.pointToData=function(r,n){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),n)},t.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},t}(Sl);function RD(e,t,r){r=r||{};var n=e.coordinateSystem,i=t.axis,a={},s=i.getAxesOnZeroOf()[0],o=i.position,l=s?"onZero":o,c=i.dim,u=n.getRect(),h=[u.x,u.x+u.width,u.y,u.y+u.height],f={left:0,right:1,top:0,bottom:1,onZero:2},p=t.get("offset")||0,g=c==="x"?[h[2]-p,h[3]+p]:[h[0]-p,h[1]+p];if(s){var v=s.toGlobalCoord(s.dataToCoord(0));g[f.onZero]=Math.max(Math.min(v,g[1]),g[0])}a.position=[c==="y"?g[f[l]]:h[0],c==="x"?g[f[l]]:h[3]],a.rotation=Math.PI/2*(c==="x"?0:1);var m={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=m[o],a.labelOffset=s?g[f[o]]-g[f.onZero]:0,t.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),Ui(r.labelInside,t.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var y=t.get(["axisLabel","rotate"]);return a.labelRotate=l==="top"?-y:y,a.z2=1,a}function VV(e){return e.get("coordinateSystem")==="cartesian2d"}function WV(e){var t={xAxisModel:null,yAxisModel:null};return V(t,function(r,n){var i=n.replace(/Model$/,""),a=e.getReferringComponents(i,di).models[0];t[n]=a}),t}var GR=Math.log;function ase(e,t,r){var n=Au.prototype,i=n.getTicks.call(r),a=n.getTicks.call(r,!0),s=i.length-1,o=n.getInterval.call(r),l=lae(e,t),c=l.extent,u=l.fixMin,h=l.fixMax;if(e.type==="log"){var f=GR(e.base);c=[GR(c[0])/f,GR(c[1])/f]}e.setExtent(c[0],c[1]),e.calcNiceExtent({splitNumber:s,fixMin:u,fixMax:h});var p=n.getExtent.call(e);u&&(c[0]=p[0]),h&&(c[1]=p[1]);var g=n.getInterval.call(e),v=c[0],m=c[1];if(u&&h)g=(m-v)/s;else if(u)for(m=c[0]+g*s;m<c[1]&&isFinite(m)&&isFinite(c[1]);)g=RR(g),m=c[0]+g*s;else if(h)for(v=c[1]-g*s;v>c[0]&&isFinite(v)&&isFinite(c[0]);)g=RR(g),v=c[1]-g*s;else{var y=e.getTicks().length-1;y>s&&(g=RR(g));var x=g*s;m=Math.ceil(c[1]/g)*g,v=ei(m-x),v<0&&c[0]>=0?(v=0,m=ei(x)):m>0&&c[1]<=0&&(m=0,v=-ei(x))}var _=(i[0].value-a[0].value)/o,b=(i[s].value-a[s].value)/o;n.setExtent.call(e,v+g*_,m+g*b),n.setInterval.call(e,g),(_||b)&&n.setNiceExtent.call(e,v+g,m-g)}var ZPe=function(){function e(t,r,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=jD,this._initCartesian(t,r,n),this.model=t}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(t,r){var n=this._axesMap;this._updateScale(t,this.model);function i(s){var o,l=ar(s),c=l.length;if(c){for(var u=[],h=c-1;h>=0;h--){var f=+l[h],p=s[f],g=p.model,v=p.scale;SD(v)&&g.get("alignTicks")&&g.get("interval")==null?u.push(p):(jv(v,g),SD(v)&&(o=p))}u.length&&(o||(o=u.pop(),jv(o.scale,o.model)),V(u,function(m){ase(m.scale,m.model,o.scale)}))}}i(n.x),i(n.y);var a={};V(n.x,function(s){GV(n,"y",s,a)}),V(n.y,function(s){GV(n,"x",s,a)}),this.resize(this.model,r)},e.prototype.resize=function(t,r,n){var i=t.getBoxLayoutParams(),a=!n&&t.get("containLabel"),s=Si(i,{width:r.getWidth(),height:r.getHeight()});this._rect=s;var o=this._axesList;l(),a&&(V(o,function(c){if(!c.model.get(["axisLabel","inside"])){var u=RIe(c);if(u){var h=c.isHorizontal()?"height":"width",f=c.model.get(["axisLabel","margin"]);s[h]-=u[h]+f,c.position==="top"?s.y+=u.height+f:c.position==="left"&&(s.x+=u.width+f)}}}),l()),V(this._coordsList,function(c){c.calcAffineTransform()});function l(){V(o,function(c){var u=c.isHorizontal(),h=u?[0,s.width]:[0,s.height],f=c.inverse?1:0;c.setExtent(h[f],h[1-f]),JPe(c,u?s.x:s.y)})}},e.prototype.getAxis=function(t,r){var n=this._axesMap[t];if(n!=null)return n[r||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(t,r){if(t!=null&&r!=null){var n="x"+t+"y"+r;return this._coordsMap[n]}ft(t)&&(r=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===t||a[i].getAxis("y").index===r)return a[i]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(t,r,n){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},e.prototype.convertFromPixel=function(t,r,n){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},e.prototype._findConvertTarget=function(t){var r=t.seriesModel,n=t.xAxisModel||r&&r.getReferringComponents("xAxis",di).models[0],i=t.yAxisModel||r&&r.getReferringComponents("yAxis",di).models[0],a=t.gridModel,s=this._coordsList,o,l;if(r)o=r.coordinateSystem,Wt(s,o)<0&&(o=null);else if(n&&i)o=this.getCartesian(n.componentIndex,i.componentIndex);else if(n)l=this.getAxis("x",n.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(a){var c=a.coordinateSystem;c===this&&(o=this._coordsList[0])}return{cartesian:o,axis:l}},e.prototype.containPoint=function(t){var r=this._coordsList[0];if(r)return r.containPoint(t)},e.prototype._initCartesian=function(t,r,n){var i=this,a=this,s={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},l={x:0,y:0};if(r.eachComponent("xAxis",c("x"),this),r.eachComponent("yAxis",c("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=o,V(o.x,function(u,h){V(o.y,function(f,p){var g="x"+h+"y"+p,v=new KPe(g);v.master=i,v.model=t,i._coordsMap[g]=v,i._coordsList.push(v),v.addAxis(u),v.addAxis(f)})});function c(u){return function(h,f){if(qR(h,t)){var p=h.get("position");u==="x"?p!=="top"&&p!=="bottom"&&(p=s.bottom?"top":"bottom"):p!=="left"&&p!=="right"&&(p=s.left?"right":"left"),s[p]=!0;var g=new XPe(u,B2(h),[0,0],h.get("type"),p),v=g.type==="category";g.onBand=v&&h.get("boundaryGap"),g.inverse=h.get("inverse"),h.axis=g,g.model=h,g.grid=a,g.index=f,a._axesList.push(g),o[u][f]=g,l[u]++}}}},e.prototype._updateScale=function(t,r){V(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),t.eachSeries(function(i){if(VV(i)){var a=WV(i),s=a.xAxisModel,o=a.yAxisModel;if(!qR(s,r)||!qR(o,r))return;var l=this.getCartesian(s.componentIndex,o.componentIndex),c=i.getData(),u=l.getAxis("x"),h=l.getAxis("y");n(c,u),n(c,h)}},this);function n(i,a){V(mT(i,a.dim),function(s){a.scale.unionExtentFromData(i,s)})}},e.prototype.getTooltipAxes=function(t){var r=[],n=[];return V(this.getCartesians(),function(i){var a=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis(),s=i.getOtherAxis(a);Wt(r,a)<0&&r.push(a),Wt(n,s)<0&&n.push(s)}),{baseAxes:r,otherAxes:n}},e.create=function(t,r){var n=[];return t.eachComponent("grid",function(i,a){var s=new e(i,t,r);s.name="grid_"+a,s.resize(i,r,!0),i.coordinateSystem=s,n.push(s)}),t.eachSeries(function(i){if(VV(i)){var a=WV(i),s=a.xAxisModel,o=a.yAxisModel,l=s.getCoordSysModel(),c=l.coordinateSystem;i.coordinateSystem=c.getCartesian(s.componentIndex,o.componentIndex)}}),n},e.dimensions=jD,e}();function qR(e,t){return e.getCoordSysModel()===t}function GV(e,t,r,n){r.getAxesOnZeroOf=function(){return a?[a]:[]};var i=e[t],a,s=r.model,o=s.get(["axisLine","onZero"]),l=s.get(["axisLine","onZeroAxisIndex"]);if(!o)return;if(l!=null)qV(i[l])&&(a=i[l]);else for(var c in i)if(i.hasOwnProperty(c)&&qV(i[c])&&!n[u(i[c])]){a=i[c];break}a&&(n[u(a)]=!0);function u(h){return h.dim+"_"+h.index}}function qV(e){return e&&e.type!=="category"&&e.type!=="time"&&jIe(e)}function JPe(e,t){var r=e.getExtent(),n=r[0]+r[1];e.toGlobalCoord=e.dim==="x"?function(i){return i+t}:function(i){return n-i+t},e.toLocalCoord=e.dim==="x"?function(i){return i-t}:function(i){return n-i+t}}var $d=Math.PI,Va=function(){function e(t,r){this.group=new _t,this.opt=r,this.axisModel=t,ut(r,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new _t({x:r.position[0],y:r.position[1],rotation:r.rotation});n.updateTransform(),this._transformGroup=n}return e.prototype.hasBuilder=function(t){return!!YV[t]},e.prototype.add=function(t){YV[t](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(t,r,n){var i=wre(r-t),a,s;return wb(i)?(s=n>0?"top":"bottom",a="center"):wb(i-$d)?(s=n>0?"bottom":"top",a="center"):(s="middle",i>0&&i<$d?a=n>0?"right":"left":a=n>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:s}},e.makeAxisEventDataBase=function(t){var r={componentType:t.mainType,componentIndex:t.componentIndex};return r[t.mainType+"Index"]=t.componentIndex,r},e.isLabelSilent=function(t){var r=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||r&&r.show)},e}(),YV={axisLine:function(e,t,r,n){var i=t.get(["axisLine","show"]);if(i==="auto"&&e.handleAutoShown&&(i=e.handleAutoShown("axisLine")),!!i){var a=t.axis.getExtent(),s=n.transform,o=[a[0],0],l=[a[1],0],c=o[0]>l[0];s&&(Ji(o,o,s),Ji(l,l,s));var u=pe({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),h=new Ri({shape:{x1:o[0],y1:o[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});Tv(h.shape,h.style.lineWidth),h.anid="line",r.add(h);var f=t.get(["axisLine","symbol"]);if(f!=null){var p=t.get(["axisLine","symbolSize"]);We(f)&&(f=[f,f]),(We(p)||Nr(p))&&(p=[p,p]);var g=tg(t.get(["axisLine","symbolOffset"])||0,p),v=p[0],m=p[1];V([{rotate:e.rotation+Math.PI/2,offset:g[0],r:0},{rotate:e.rotation-Math.PI/2,offset:g[1],r:Math.sqrt((o[0]-l[0])*(o[0]-l[0])+(o[1]-l[1])*(o[1]-l[1]))}],function(y,x){if(f[x]!=="none"&&f[x]!=null){var _=fi(f[x],-v/2,-m/2,v,m,u.stroke,!0),b=y.r+y.offset,w=c?l:o;_.attr({rotation:y.rotate,x:w[0]+b*Math.cos(e.rotation),y:w[1]-b*Math.sin(e.rotation),silent:!0,z2:11}),r.add(_)}})}}},axisTickLabel:function(e,t,r,n){var i=tLe(r,n,t,e),a=nLe(r,n,t,e);if(eLe(t,a,i),rLe(r,n,t,e.tickDirection),t.get(["axisLabel","hideOverlap"])){var s=wae(_e(a,function(o){return{label:o,priority:o.z2,defaultAttr:{ignore:o.ignore}}}));kae(s)}},axisName:function(e,t,r,n){var i=Ui(e.axisName,t.get("name"));if(i){var a=t.get("nameLocation"),s=e.nameDirection,o=t.getModel("nameTextStyle"),l=t.get("nameGap")||0,c=t.axis.getExtent(),u=c[0]>c[1]?-1:1,h=[a==="start"?c[0]-u*l:a==="end"?c[1]+u*l:(c[0]+c[1])/2,XV(a)?e.labelOffset+s*l:0],f,p=t.get("nameRotate");p!=null&&(p=p*$d/180);var g;XV(a)?f=Va.innerTextLayout(e.rotation,p??e.rotation,s):(f=QPe(e.rotation,a,p||0,c),g=e.axisNameAvailableWidth,g!=null&&(g=Math.abs(g/Math.sin(f.rotation)),!isFinite(g)&&(g=null)));var v=o.getFont(),m=t.get("nameTruncate",!0)||{},y=m.ellipsis,x=Ui(e.nameTruncateMaxWidth,m.maxWidth,g),_=new kr({x:h[0],y:h[1],rotation:f.rotation,silent:Va.isLabelSilent(t),style:yn(o,{text:i,font:v,overflow:"truncate",width:x,ellipsis:y,fill:o.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:o.get("align")||f.textAlign,verticalAlign:o.get("verticalAlign")||f.textVerticalAlign}),z2:1});if(Qp({el:_,componentModel:t,itemName:i}),_.__fullText=i,_.anid="name",t.get("triggerEvent")){var b=Va.makeAxisEventDataBase(t);b.targetType="axisName",b.name=i,wt(_).eventData=b}n.add(_),_.updateTransform(),r.add(_),_.decomposeTransform()}}};function QPe(e,t,r,n){var i=wre(r-e),a,s,o=n[0]>n[1],l=t==="start"&&!o||t!=="start"&&o;return wb(i-$d/2)?(s=l?"bottom":"top",a="center"):wb(i-$d*1.5)?(s=l?"top":"bottom",a="center"):(s="middle",i<$d*1.5&&i>$d/2?a=l?"left":"right":a=l?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:s}}function eLe(e,t,r){if(!cae(e.axis)){var n=e.get(["axisLabel","showMinLabel"]),i=e.get(["axisLabel","showMaxLabel"]);t=t||[],r=r||[];var a=t[0],s=t[1],o=t[t.length-1],l=t[t.length-2],c=r[0],u=r[1],h=r[r.length-1],f=r[r.length-2];n===!1?(no(a),no(c)):KV(a,s)&&(n?(no(s),no(u)):(no(a),no(c))),i===!1?(no(o),no(h)):KV(l,o)&&(i?(no(l),no(f)):(no(o),no(h)))}}function no(e){e&&(e.ignore=!0)}function KV(e,t){var r=e&&e.getBoundingRect().clone(),n=t&&t.getBoundingRect().clone();if(!(!r||!n)){var i=u2([]);return Jp(i,i,-e.rotation),r.applyTransform(fu([],i,e.getLocalTransform())),n.applyTransform(fu([],i,t.getLocalTransform())),r.intersect(n)}}function XV(e){return e==="middle"||e==="center"}function sse(e,t,r,n,i){for(var a=[],s=[],o=[],l=0;l<e.length;l++){var c=e[l].coord;s[0]=c,s[1]=0,o[0]=c,o[1]=r,t&&(Ji(s,s,t),Ji(o,o,t));var u=new Ri({shape:{x1:s[0],y1:s[1],x2:o[0],y2:o[1]},style:n,z2:2,autoBatch:!0,silent:!0});Tv(u.shape,u.style.lineWidth),u.anid=i+"_"+e[l].tickValue,a.push(u)}return a}function tLe(e,t,r,n){var i=r.axis,a=r.getModel("axisTick"),s=a.get("show");if(s==="auto"&&n.handleAutoShown&&(s=n.handleAutoShown("axisTick")),!(!s||i.scale.isBlank())){for(var o=a.getModel("lineStyle"),l=n.tickDirection*a.get("length"),c=i.getTicksCoords(),u=sse(c,t.transform,l,ut(o.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks"),h=0;h<u.length;h++)e.add(u[h]);return u}}function rLe(e,t,r,n){var i=r.axis,a=r.getModel("minorTick");if(!(!a.get("show")||i.scale.isBlank())){var s=i.getMinorTicksCoords();if(s.length)for(var o=a.getModel("lineStyle"),l=n*a.get("length"),c=ut(o.getLineStyle(),ut(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})),u=0;u<s.length;u++)for(var h=sse(s[u],t.transform,l,c,"minorticks_"+u),f=0;f<h.length;f++)e.add(h[f])}}function nLe(e,t,r,n){var i=r.axis,a=Ui(n.axisLabelShow,r.get(["axisLabel","show"]));if(!(!a||i.scale.isBlank())){var s=r.getModel("axisLabel"),o=s.get("margin"),l=i.getViewLabels(),c=(Ui(n.labelRotate,s.get("rotate"))||0)*$d/180,u=Va.innerTextLayout(n.rotation,c,n.labelDirection),h=r.getCategories&&r.getCategories(!0),f=[],p=Va.isLabelSilent(r),g=r.get("triggerEvent");return V(l,function(v,m){var y=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(v.tickValue):v.tickValue,x=v.formattedLabel,_=v.rawLabel,b=s;if(h&&h[y]){var w=h[y];ft(w)&&w.textStyle&&(b=new Vr(w.textStyle,s,r.ecModel))}var S=b.getTextColor()||r.get(["axisLine","lineStyle","color"]),k=i.dataToCoord(y),C=b.getShallow("align",!0)||u.textAlign,E=Et(b.getShallow("alignMinLabel",!0),C),T=Et(b.getShallow("alignMaxLabel",!0),C),N=b.getShallow("verticalAlign",!0)||b.getShallow("baseline",!0)||u.textVerticalAlign,I=Et(b.getShallow("verticalAlignMinLabel",!0),N),P=Et(b.getShallow("verticalAlignMaxLabel",!0),N),D=new kr({x:k,y:n.labelOffset+n.labelDirection*o,rotation:u.rotation,silent:p,z2:10+(v.level||0),style:yn(b,{text:x,align:m===0?E:m===l.length-1?T:C,verticalAlign:m===0?I:m===l.length-1?P:N,fill:lt(S)?S(i.type==="category"?_:i.type==="value"?y+"":y,m):S})});if(D.anid="label_"+y,Qp({el:D,componentModel:r,itemName:x,formatterParamsExtra:{isTruncated:function(){return D.isTruncated},value:_,tickIndex:m}}),g){var $=Va.makeAxisEventDataBase(r);$.targetType="axisLabel",$.value=_,$.tickIndex=m,i.type==="category"&&($.dataIndex=y),wt(D).eventData=$}t.add(D),D.updateTransform(),f.push(D),e.add(D),D.decomposeTransform()}),f}}function iLe(e,t){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return aLe(r,e,t),r.seriesInvolved&&oLe(r,e),r}function aLe(e,t,r){var n=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),a=i.get("link",!0)||[],s=[];V(r.getCoordinateSystems(),function(o){if(!o.axisPointerEnabled)return;var l=Ob(o.model),c=e.coordSysAxesInfo[l]={};e.coordSysMap[l]=o;var u=o.model,h=u.getModel("tooltip",n);if(V(o.getAxes(),At(v,!1,null)),o.getTooltipAxes&&n&&h.get("show")){var f=h.get("trigger")==="axis",p=h.get(["axisPointer","type"])==="cross",g=o.getTooltipAxes(h.get(["axisPointer","axis"]));(f||p)&&V(g.baseAxes,At(v,p?"cross":!0,f)),p&&V(g.otherAxes,At(v,"cross",!1))}function v(m,y,x){var _=x.model.getModel("axisPointer",i),b=_.get("show");if(!(!b||b==="auto"&&!m&&!ID(_))){y==null&&(y=_.get("triggerTooltip")),_=m?sLe(x,h,i,t,m,y):_;var w=_.get("snap"),S=_.get("triggerEmphasis"),k=Ob(x.model),C=y||w||x.type==="category",E=e.axesInfo[k]={key:k,axis:x,coordSys:o,axisPointerModel:_,triggerTooltip:y,triggerEmphasis:S,involveSeries:C,snap:w,useHandle:ID(_),seriesModels:[],linkGroup:null};c[k]=E,e.seriesInvolved=e.seriesInvolved||C;var T=lLe(a,x);if(T!=null){var N=s[T]||(s[T]={axesInfo:{}});N.axesInfo[k]=E,N.mapper=a[T].mapper,E.linkGroup=N}}}})}function sLe(e,t,r,n,i,a){var s=t.getModel("axisPointer"),o=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};V(o,function(f){l[f]=vt(s.get(f))}),l.snap=e.type!=="category"&&!!a,s.get("type")==="cross"&&(l.type="line");var c=l.label||(l.label={});if(c.show==null&&(c.show=!1),i==="cross"){var u=s.get(["label","show"]);if(c.show=u??!0,!a){var h=l.lineStyle=s.get("crossStyle");h&&ut(c,h.textStyle)}}return e.model.getModel("axisPointer",new Vr(l,r,n))}function oLe(e,t){t.eachSeries(function(r){var n=r.coordinateSystem,i=r.get(["tooltip","trigger"],!0),a=r.get(["tooltip","show"],!0);!n||i==="none"||i===!1||i==="item"||a===!1||r.get(["axisPointer","show"],!0)===!1||V(e.coordSysAxesInfo[Ob(n.model)],function(s){var o=s.axis;n.getAxis(o.dim)===o&&(s.seriesModels.push(r),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=r.getData().count())})})}function lLe(e,t){for(var r=t.model,n=t.dim,i=0;i<e.length;i++){var a=e[i]||{};if(YR(a[n+"AxisId"],r.id)||YR(a[n+"AxisIndex"],r.componentIndex)||YR(a[n+"AxisName"],r.name))return i}}function YR(e,t){return e==="all"||ye(e)&&Wt(e,t)>=0||e===t}function cLe(e){var t=f$(e);if(t){var r=t.axisPointerModel,n=t.axis.scale,i=r.option,a=r.get("status"),s=r.get("value");s!=null&&(s=n.parse(s));var o=ID(r);a==null&&(i.status=o?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(s==null||s>l[1])&&(s=l[1]),s<l[0]&&(s=l[0]),i.value=s,o&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function f$(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[Ob(e)]}function uLe(e){var t=f$(e);return t&&t.axisPointerModel}function ID(e){return!!e.get(["handle","show"])}function Ob(e){return e.type+"||"+e.id}var ZV={},ig=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,a){this.axisPointerClass&&cLe(r),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,i,!0)},t.prototype.updateAxisPointer=function(r,n,i,a){this._doUpdateAxisPointerClass(r,i,!1)},t.prototype.remove=function(r,n){var i=this._axisPointer;i&&i.remove(n)},t.prototype.dispose=function(r,n){this._disposeAxisPointer(n),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(r,n,i){var a=t.getAxisPointerClass(this.axisPointerClass);if(a){var s=uLe(r);s?(this._axisPointer||(this._axisPointer=new a)).render(r,s,n,i):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},t.registerAxisPointerClass=function(r,n){ZV[r]=n},t.getAxisPointerClass=function(r){return r&&ZV[r]},t.type="axis",t}(Bn),MD=_r();function ose(e,t,r,n){var i=r.axis;if(!i.scale.isBlank()){var a=r.getModel("splitArea"),s=a.getModel("areaStyle"),o=s.get("color"),l=n.coordinateSystem.getRect(),c=i.getTicksCoords({tickModel:a,clamp:!0});if(c.length){var u=o.length,h=MD(e).splitAreaColors,f=Qe(),p=0;if(h)for(var g=0;g<c.length;g++){var v=h.get(c[g].tickValue);if(v!=null){p=(v+(u-1)*g)%u;break}}var m=i.toGlobalCoord(c[0].coord),y=s.getAreaStyle();o=ye(o)?o:[o];for(var g=1;g<c.length;g++){var x=i.toGlobalCoord(c[g].coord),_=void 0,b=void 0,w=void 0,S=void 0;i.isHorizontal()?(_=m,b=l.y,w=x-_,S=l.height,m=_+w):(_=l.x,b=m,w=l.width,S=x-b,m=b+S);var k=c[g-1].tickValue;k!=null&&f.set(k,p),t.add(new xr({anid:k!=null?"area_"+k:null,shape:{x:_,y:b,width:w,height:S},style:ut({fill:o[p]},y),autoBatch:!0,silent:!0})),p=(p+1)%u}MD(e).splitAreaColors=f}}}function lse(e){MD(e).splitAreaColors=null}var dLe=["axisLine","axisTickLabel","axisName"],hLe=["splitArea","splitLine","minorSplitLine"],cse=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="CartesianAxisPointer",r}return t.prototype.render=function(r,n,i,a){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new _t,this.group.add(this._axisGroup),!!r.get("show")){var o=r.getCoordSysModel(),l=RD(o,r),c=new Va(r,pe({handleAutoShown:function(h){for(var f=o.coordinateSystem.getCartesians(),p=0;p<f.length;p++)if(SD(f[p].getOtherAxis(r.axis).scale))return!0;return!1}},l));V(dLe,c.add,c),this._axisGroup.add(c.getGroup()),V(hLe,function(h){r.get([h,"show"])&&fLe[h](this,this._axisGroup,r,o)},this);var u=a&&a.type==="changeAxisOrder"&&a.isInitSort;u||Ww(s,this._axisGroup,r),e.prototype.render.call(this,r,n,i,a)}},t.prototype.remove=function(){lse(this)},t.type="cartesianAxis",t}(ig),fLe={splitLine:function(e,t,r,n){var i=r.axis;if(!i.scale.isBlank()){var a=r.getModel("splitLine"),s=a.getModel("lineStyle"),o=s.get("color"),l=a.get("showMinLine")!==!1,c=a.get("showMaxLine")!==!1;o=ye(o)?o:[o];for(var u=n.coordinateSystem.getRect(),h=i.isHorizontal(),f=0,p=i.getTicksCoords({tickModel:a}),g=[],v=[],m=s.getLineStyle(),y=0;y<p.length;y++){var x=i.toGlobalCoord(p[y].coord);if(!(y===0&&!l||y===p.length-1&&!c)){var _=p[y].tickValue;h?(g[0]=x,g[1]=u.y,v[0]=x,v[1]=u.y+u.height):(g[0]=u.x,g[1]=x,v[0]=u.x+u.width,v[1]=x);var b=f++%o.length,w=new Ri({anid:_!=null?"line_"+_:null,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:v[0],y2:v[1]},style:ut({stroke:o[b]},m),silent:!0});Tv(w.shape,m.lineWidth),t.add(w)}}}},minorSplitLine:function(e,t,r,n){var i=r.axis,a=r.getModel("minorSplitLine"),s=a.getModel("lineStyle"),o=n.coordinateSystem.getRect(),l=i.isHorizontal(),c=i.getMinorTicksCoords();if(c.length)for(var u=[],h=[],f=s.getLineStyle(),p=0;p<c.length;p++)for(var g=0;g<c[p].length;g++){var v=i.toGlobalCoord(c[p][g].coord);l?(u[0]=v,u[1]=o.y,h[0]=v,h[1]=o.y+o.height):(u[0]=o.x,u[1]=v,h[0]=o.x+o.width,h[1]=v);var m=new Ri({anid:"minor_line_"+c[p][g].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:h[0],y2:h[1]},style:f,silent:!0});Tv(m.shape,f.lineWidth),t.add(m)}},splitArea:function(e,t,r,n){ose(e,t,r,n)}},use=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="xAxis",t}(cse),pLe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=use.type,r}return t.type="yAxis",t}(cse),gLe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="grid",r}return t.prototype.render=function(r,n){this.group.removeAll(),r.get("show")&&this.group.add(new xr({shape:r.coordinateSystem.getRect(),style:ut({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(Bn),JV={offset:0};function dse(e){e.registerComponentView(gLe),e.registerComponentModel(HPe),e.registerCoordinateSystem("cartesian2d",ZPe),Iv(e,"x",AD,JV),Iv(e,"y",AD,JV),e.registerComponentView(use),e.registerComponentView(pLe),e.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function mLe(e){Zt(dse),e.registerSeriesModel($Pe),e.registerChartView(UPe),e.registerLayout(e1("scatter"))}function vLe(e){e.eachSeriesByType("radar",function(t){var r=t.getData(),n=[],i=t.coordinateSystem;if(i){var a=i.getIndicatorAxes();V(a,function(s,o){r.each(r.mapDimension(a[o].dim),function(l,c){n[c]=n[c]||[];var u=i.dataToPoint(l,o);n[c][o]=QV(u)?u:eW(i)})}),r.each(function(s){var o=eEe(n[s],function(l){return QV(l)})||eW(i);n[s].push(o.slice()),r.setItemLayout(s,n[s])})}})}function QV(e){return!isNaN(e[0])&&!isNaN(e[1])}function eW(e){return[e.cx,e.cy]}function yLe(e){var t=e.polar;if(t){ye(t)||(t=[t]);var r=[];V(t,function(n,i){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),e.radar=e.radar||[],ye(e.radar)||(e.radar=[e.radar]),e.radar.push(n)):r.push(n)}),e.polar=r}V(e.series,function(n){n&&n.type==="radar"&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}var xLe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a=r.coordinateSystem,s=this.group,o=r.getData(),l=this._data;function c(f,p){var g=f.getItemVisual(p,"symbol")||"circle";if(g!=="none"){var v=k0(f.getItemVisual(p,"symbolSize")),m=fi(g,-1,-1,2,2),y=f.getItemVisual(p,"symbolRotate")||0;return m.attr({style:{strokeNoScale:!0},z2:100,scaleX:v[0]/2,scaleY:v[1]/2,rotation:y*Math.PI/180||0}),m}}function u(f,p,g,v,m,y){g.removeAll();for(var x=0;x<p.length-1;x++){var _=c(v,m);_&&(_.__dimIdx=x,f[x]?(_.setPosition(f[x]),eg[y?"initProps":"updateProps"](_,{x:p[x][0],y:p[x][1]},r,m)):_.setPosition(p[x]),g.add(_))}}function h(f){return _e(f,function(p){return[a.cx,a.cy]})}o.diff(l).add(function(f){var p=o.getItemLayout(f);if(p){var g=new Ya,v=new Ja,m={shape:{points:p}};g.shape.points=h(p),v.shape.points=h(p),Rn(g,m,r,f),Rn(v,m,r,f);var y=new _t,x=new _t;y.add(v),y.add(g),y.add(x),u(v.shape.points,p,x,o,f,!0),o.setItemGraphicEl(f,y)}}).update(function(f,p){var g=l.getItemGraphicEl(p),v=g.childAt(0),m=g.childAt(1),y=g.childAt(2),x={shape:{points:o.getItemLayout(f)}};x.shape.points&&(u(v.shape.points,x.shape.points,y,o,f,!1),gl(m),gl(v),Rr(v,x,r),Rr(m,x,r),o.setItemGraphicEl(f,g))}).remove(function(f){s.remove(l.getItemGraphicEl(f))}).execute(),o.eachItemGraphicEl(function(f,p){var g=o.getItemModel(p),v=f.childAt(0),m=f.childAt(1),y=f.childAt(2),x=o.getItemVisual(p,"style"),_=x.fill;s.add(f),v.useStyle(ut(g.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:_})),ta(v,g,"lineStyle"),ta(m,g,"areaStyle");var b=g.getModel("areaStyle"),w=b.isEmpty()&&b.parentModel.isEmpty();m.ignore=w,V(["emphasis","select","blur"],function(C){var E=g.getModel([C,"areaStyle"]),T=E.isEmpty()&&E.parentModel.isEmpty();m.ensureState(C).ignore=T&&w}),m.useStyle(ut(b.getAreaStyle(),{fill:_,opacity:.7,decal:x.decal}));var S=g.getModel("emphasis"),k=S.getModel("itemStyle").getItemStyle();y.eachChild(function(C){if(C instanceof Wi){var E=C.style;C.useStyle(pe({image:E.image,x:E.x,y:E.y,width:E.width,height:E.height},x))}else C.useStyle(x),C.setColor(_),C.style.strokeNoScale=!0;var T=C.ensureState("emphasis");T.style=vt(k);var N=o.getStore().get(o.getDimensionIndex(C.__dimIdx),p);(N==null||isNaN(N))&&(N=""),ra(C,Pi(g),{labelFetcher:o.hostModel,labelDataIndex:p,labelDimIndex:C.__dimIdx,defaultText:N,inheritColor:_,defaultOpacity:x.opacity})}),Wn(f,S.get("focus"),S.get("blurScope"),S.get("disabled"))}),this._data=o},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(dn),_Le=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new r1(Ke(this.getData,this),Ke(this.getRawData,this))},t.prototype.getInitialData=function(r,n){return T0(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(r,n,i){var a=this.getData(),s=this.coordinateSystem,o=s.getIndicatorAxes(),l=this.getData().getName(r),c=l===""?this.name:l,u=cie(this,r);return Li("section",{header:c,sortBlocks:!0,blocks:_e(o,function(h){var f=a.get(a.mapDimension(h.dim),r);return Li("nameValue",{markerType:"subItem",markerColor:u,name:h.name,value:f,sortParam:f})})})},t.prototype.getTooltipPosition=function(r){if(r!=null){for(var n=this.getData(),i=this.coordinateSystem,a=n.getValues(_e(i.dimensions,function(c){return n.mapDimension(c)}),r),s=0,o=a.length;s<o;s++)if(!isNaN(a[s])){var l=i.getIndicatorAxes();return i.coordToPoint(l[s].dataToCoord(a[s]),s)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(_n),ex=ise.value;function dC(e,t){return ut({show:t},e)}var bLe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.optionUpdated=function(){var r=this.get("boundaryGap"),n=this.get("splitNumber"),i=this.get("scale"),a=this.get("axisLine"),s=this.get("axisTick"),o=this.get("axisLabel"),l=this.get("axisName"),c=this.get(["axisName","show"]),u=this.get(["axisName","formatter"]),h=this.get("axisNameGap"),f=this.get("triggerEvent"),p=_e(this.get("indicator")||[],function(g){g.max!=null&&g.max>0&&!g.min?g.min=0:g.min!=null&&g.min<0&&!g.max&&(g.max=0);var v=l;g.color!=null&&(v=ut({color:g.color},l));var m=Pt(vt(g),{boundaryGap:r,splitNumber:n,scale:i,axisLine:a,axisTick:s,axisLabel:o,name:g.text,showName:c,nameLocation:"end",nameGap:h,nameTextStyle:v,triggerEvent:f},!1);if(We(u)){var y=m.name;m.name=u.replace("{value}",y??"")}else lt(u)&&(m.name=u(m.name,m));var x=new Vr(m,null,this.ecModel);return pi(x,Xw.prototype),x.mainType="radar",x.componentIndex=this.componentIndex,x},this);this._indicatorModels=p},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:Pt({lineStyle:{color:"#bbb"}},ex.axisLine),axisLabel:dC(ex.axisLabel,!1),axisTick:dC(ex.axisTick,!1),splitLine:dC(ex.splitLine,!0),splitArea:dC(ex.splitArea,!0),indicator:[]},t}(ir),wLe=["axisLine","axisTickLabel","axisName"],SLe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a=this.group;a.removeAll(),this._buildAxes(r),this._buildSplitLineAndArea(r)},t.prototype._buildAxes=function(r){var n=r.coordinateSystem,i=n.getIndicatorAxes(),a=_e(i,function(s){var o=s.model.get("showName")?s.name:"",l=new Va(s.model,{axisName:o,position:[n.cx,n.cy],rotation:s.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return l});V(a,function(s){V(wLe,s.add,s),this.group.add(s.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(r){var n=r.coordinateSystem,i=n.getIndicatorAxes();if(!i.length)return;var a=r.get("shape"),s=r.getModel("splitLine"),o=r.getModel("splitArea"),l=s.getModel("lineStyle"),c=o.getModel("areaStyle"),u=s.get("show"),h=o.get("show"),f=l.get("color"),p=c.get("color"),g=ye(f)?f:[f],v=ye(p)?p:[p],m=[],y=[];function x($,L,O){var j=O%L.length;return $[j]=$[j]||[],j}if(a==="circle")for(var _=i[0].getTicksCoords(),b=n.cx,w=n.cy,S=0;S<_.length;S++){if(u){var k=x(m,g,S);m[k].push(new zu({shape:{cx:b,cy:w,r:_[S].coord}}))}if(h&&S<_.length-1){var k=x(y,v,S);y[k].push(new Uw({shape:{cx:b,cy:w,r0:_[S].coord,r:_[S+1].coord}}))}}else for(var C,E=_e(i,function($,L){var O=$.getTicksCoords();return C=C==null?O.length-1:Math.min(O.length-1,C),_e(O,function(j){return n.coordToPoint(j.coord,L)})}),T=[],S=0;S<=C;S++){for(var N=[],I=0;I<i.length;I++)N.push(E[I][S]);if(N[0]&&N.push(N[0].slice()),u){var k=x(m,g,S);m[k].push(new Ja({shape:{points:N}}))}if(h&&T){var k=x(y,v,S-1);y[k].push(new Ya({shape:{points:N.concat(T)}}))}T=N.slice().reverse()}var P=l.getLineStyle(),D=c.getAreaStyle();V(y,function($,L){this.group.add(wo($,{style:ut({stroke:"none",fill:v[L%v.length]},D),silent:!0}))},this),V(m,function($,L){this.group.add(wo($,{style:ut({fill:"none",stroke:g[L%g.length]},P),silent:!0}))},this)},t.type="radar",t}(Bn),CLe=function(e){ce(t,e);function t(r,n,i){var a=e.call(this,r,n,i)||this;return a.type="value",a.angle=0,a.name="",a}return t}(Sl),kLe=function(){function e(t,r,n){this.dimensions=[],this._model=t,this._indicatorAxes=_e(t.getIndicatorModels(),function(i,a){var s="indicator_"+a,o=new CLe(s,new Au);return o.name=i.get("name"),o.model=i,i.axis=o,this.dimensions.push(s),o},this),this.resize(t,n)}return e.prototype.getIndicatorAxes=function(){return this._indicatorAxes},e.prototype.dataToPoint=function(t,r){var n=this._indicatorAxes[r];return this.coordToPoint(n.dataToCoord(t),r)},e.prototype.coordToPoint=function(t,r){var n=this._indicatorAxes[r],i=n.angle,a=this.cx+t*Math.cos(i),s=this.cy-t*Math.sin(i);return[a,s]},e.prototype.pointToData=function(t){var r=t[0]-this.cx,n=t[1]-this.cy,i=Math.sqrt(r*r+n*n);r/=i,n/=i;for(var a=Math.atan2(-n,r),s=1/0,o,l=-1,c=0;c<this._indicatorAxes.length;c++){var u=this._indicatorAxes[c],h=Math.abs(a-u.angle);h<s&&(o=u,l=c,s=h)}return[l,+(o&&o.coordToData(i))]},e.prototype.resize=function(t,r){var n=t.get("center"),i=r.getWidth(),a=r.getHeight(),s=Math.min(i,a)/2;this.cx=Le(n[0],i),this.cy=Le(n[1],a),this.startAngle=t.get("startAngle")*Math.PI/180;var o=t.get("radius");(We(o)||Nr(o))&&(o=[0,o]),this.r0=Le(o[0],s),this.r=Le(o[1],s),V(this._indicatorAxes,function(l,c){l.setExtent(this.r0,this.r);var u=this.startAngle+c*Math.PI*2/this._indicatorAxes.length;u=Math.atan2(Math.sin(u),Math.cos(u)),l.angle=u},this)},e.prototype.update=function(t,r){var n=this._indicatorAxes,i=this._model;V(n,function(o){o.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(o,l){if(!(o.get("coordinateSystem")!=="radar"||t.getComponent("radar",o.get("radarIndex"))!==i)){var c=o.getData();V(n,function(u){u.scale.unionExtentFromData(c,c.mapDimension(u.dim))})}},this);var a=i.get("splitNumber"),s=new Au;s.setExtent(0,a),s.setInterval(1),V(n,function(o,l){ase(o.scale,o.model,s)})},e.prototype.convertToPixel=function(t,r,n){return console.warn("Not implemented."),null},e.prototype.convertFromPixel=function(t,r,n){return console.warn("Not implemented."),null},e.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},e.create=function(t,r){var n=[];return t.eachComponent("radar",function(i){var a=new e(i,t,r);n.push(a),i.coordinateSystem=a}),t.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=n[i.get("radarIndex")||0])}),n},e.dimensions=[],e}();function ELe(e){e.registerCoordinateSystem("radar",kLe),e.registerComponentModel(bLe),e.registerComponentView(SLe),e.registerVisual({seriesType:"radar",reset:function(t){var r=t.getData();r.each(function(n){r.setItemVisual(n,"legendIcon","roundRect")}),r.setVisual("legendIcon","roundRect")}})}function TLe(e){Zt(ELe),e.registerChartView(xLe),e.registerSeriesModel(_Le),e.registerLayout(vLe),e.registerProcessor(t1("radar")),e.registerPreprocessor(yLe)}var tW="\0_ec_interaction_mutex";function NLe(e,t,r){var n=p$(e);n[t]=r}function ALe(e,t,r){var n=p$(e),i=n[t];i===r&&(n[t]=null)}function rW(e,t){return!!p$(e)[t]}function p$(e){return e[tW]||(e[tW]={})}Ac({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},ai);var n1=function(e){ce(t,e);function t(r){var n=e.call(this)||this;n._zr=r;var i=Ke(n._mousedownHandler,n),a=Ke(n._mousemoveHandler,n),s=Ke(n._mouseupHandler,n),o=Ke(n._mousewheelHandler,n),l=Ke(n._pinchHandler,n);return n.enable=function(c,u){this.disable(),this._opt=ut(vt(u)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),c==null&&(c=!0),(c===!0||c==="move"||c==="pan")&&(r.on("mousedown",i),r.on("mousemove",a),r.on("mouseup",s)),(c===!0||c==="scale"||c==="zoom")&&(r.on("mousewheel",o),r.on("pinch",l))},n.disable=function(){r.off("mousedown",i),r.off("mousemove",a),r.off("mouseup",s),r.off("mousewheel",o),r.off("pinch",l)},n}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(r){this.pointerChecker=r},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(r){if(!jU(r)){for(var n=r.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var i=r.offsetX,a=r.offsetY;this.pointerChecker&&this.pointerChecker(r,i,a)&&(this._x=i,this._y=a,this._dragging=!0)}},t.prototype._mousemoveHandler=function(r){if(!(!this._dragging||!Yk("moveOnMouseMove",r,this._opt)||r.gestureEvent==="pinch"||rW(this._zr,"globalPan"))){var n=r.offsetX,i=r.offsetY,a=this._x,s=this._y,o=n-a,l=i-s;this._x=n,this._y=i,this._opt.preventDefaultMouseMove&&Cu(r.event),hse(this,"pan","moveOnMouseMove",r,{dx:o,dy:l,oldX:a,oldY:s,newX:n,newY:i,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(r){jU(r)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(r){var n=Yk("zoomOnMouseWheel",r,this._opt),i=Yk("moveOnMouseWheel",r,this._opt),a=r.wheelDelta,s=Math.abs(a),o=r.offsetX,l=r.offsetY;if(!(a===0||!n&&!i)){if(n){var c=s>3?1.4:s>1?1.2:1.1,u=a>0?c:1/c;KR(this,"zoom","zoomOnMouseWheel",r,{scale:u,originX:o,originY:l,isAvailableBehavior:null})}if(i){var h=Math.abs(a),f=(a>0?1:-1)*(h>3?.4:h>1?.15:.05);KR(this,"scrollMove","moveOnMouseWheel",r,{scrollDelta:f,originX:o,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(r){if(!rW(this._zr,"globalPan")){var n=r.pinchScale>1?1.1:1/1.1;KR(this,"zoom",null,r,{scale:n,originX:r.pinchX,originY:r.pinchY,isAvailableBehavior:null})}},t}(Po);function KR(e,t,r,n,i){e.pointerChecker&&e.pointerChecker(n,i.originX,i.originY)&&(Cu(n.event),hse(e,t,r,n,i))}function hse(e,t,r,n,i){i.isAvailableBehavior=Ke(Yk,null,r,n),e.trigger(t,i)}function Yk(e,t,r){var n=r[e];return!e||n&&(!We(n)||t.event[n+"Key"])}function g$(e,t,r){var n=e.target;n.x+=t,n.y+=r,n.dirty()}function m$(e,t,r,n){var i=e.target,a=e.zoomLimit,s=e.zoom=e.zoom||1;if(s*=t,a){var o=a.min||0,l=a.max||1/0;s=Math.max(Math.min(l,s),o)}var c=s/e.zoom;e.zoom=s,i.x-=(r-i.x)*(c-1),i.y-=(n-i.y)*(c-1),i.scaleX*=c,i.scaleY*=c,i.dirty()}var jLe={axisPointer:1,tooltip:1,brush:1};function z2(e,t,r){var n=t.getComponentByElement(e.topTarget),i=n&&n.coordinateSystem;return n&&n!==r&&!jLe.hasOwnProperty(n.mainType)&&i&&i.model!==r}function fse(e){if(We(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}var r=e;for(r.nodeType===9&&(r=r.firstChild);r.nodeName.toLowerCase()!=="svg"||r.nodeType!==1;)r=r.nextSibling;return r}var XR,bT={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},nW=ar(bT),wT={"alignment-baseline":"textBaseline","stop-color":"stopColor"},iW=ar(wT),RLe=function(){function e(){this._defs={},this._root=null}return e.prototype.parse=function(t,r){r=r||{};var n=fse(t);this._defsUsePending=[];var i=new _t;this._root=i;var a=[],s=n.getAttribute("viewBox")||"",o=parseFloat(n.getAttribute("width")||r.width),l=parseFloat(n.getAttribute("height")||r.height);isNaN(o)&&(o=null),isNaN(l)&&(l=null),As(n,i,null,!0,!1);for(var c=n.firstChild;c;)this._parseNode(c,i,a,null,!1,!1),c=c.nextSibling;PLe(this._defs,this._defsUsePending),this._defsUsePending=[];var u,h;if(s){var f=U2(s);f.length>=4&&(u={x:parseFloat(f[0]||0),y:parseFloat(f[1]||0),width:parseFloat(f[2]),height:parseFloat(f[3])})}if(u&&o!=null&&l!=null&&(h=gse(u,{x:0,y:0,width:o,height:l}),!r.ignoreViewBox)){var p=i;i=new _t,i.add(p),p.scaleX=p.scaleY=h.scale,p.x=h.x,p.y=h.y}return!r.ignoreRootClip&&o!=null&&l!=null&&i.setClipPath(new xr({shape:{x:0,y:0,width:o,height:l}})),{root:i,width:o,height:l,viewBoxRect:u,viewBoxTransform:h,named:a}},e.prototype._parseNode=function(t,r,n,i,a,s){var o=t.nodeName.toLowerCase(),l,c=i;if(o==="defs"&&(a=!0),o==="text"&&(s=!0),o==="defs"||o==="switch")l=r;else{if(!a){var u=XR[o];if(u&&Ze(XR,o)){l=u.call(this,t,r);var h=t.getAttribute("name");if(h){var f={name:h,namedFrom:null,svgNodeTagLower:o,el:l};n.push(f),o==="g"&&(c=f)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:o,el:l});r.add(l)}}var p=aW[o];if(p&&Ze(aW,o)){var g=p.call(this,t),v=t.getAttribute("id");v&&(this._defs[v]=g)}}if(l&&l.isGroup)for(var m=t.firstChild;m;)m.nodeType===1?this._parseNode(m,l,n,c,a,s):m.nodeType===3&&s&&this._parseText(m,l),m=m.nextSibling},e.prototype._parseText=function(t,r){var n=new Ev({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});io(r,n),As(t,n,this._defsUsePending,!1,!1),ILe(n,r);var i=n.style,a=i.fontSize;a&&a<9&&(i.fontSize=9,n.scaleX*=a/9,n.scaleY*=a/9);var s=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=s;var o=n.getBoundingRect();return this._textX+=o.width,r.add(n),n},e.internalField=function(){XR={g:function(t,r){var n=new _t;return io(r,n),As(t,n,this._defsUsePending,!1,!1),n},rect:function(t,r){var n=new xr;return io(r,n),As(t,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(t,r){var n=new zu;return io(r,n),As(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),n.silent=!0,n},line:function(t,r){var n=new Ri;return io(r,n),As(t,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(t,r){var n=new _2;return io(r,n),As(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(t,r){var n=t.getAttribute("points"),i;n&&(i=lW(n));var a=new Ya({shape:{points:i||[]},silent:!0});return io(r,a),As(t,a,this._defsUsePending,!1,!1),a},polyline:function(t,r){var n=t.getAttribute("points"),i;n&&(i=lW(n));var a=new Ja({shape:{points:i||[]},silent:!0});return io(r,a),As(t,a,this._defsUsePending,!1,!1),a},image:function(t,r){var n=new Wi;return io(r,n),As(t,n,this._defsUsePending,!1,!1),n.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),n.silent=!0,n},text:function(t,r){var n=t.getAttribute("x")||"0",i=t.getAttribute("y")||"0",a=t.getAttribute("dx")||"0",s=t.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(a),this._textY=parseFloat(i)+parseFloat(s);var o=new _t;return io(r,o),As(t,o,this._defsUsePending,!1,!0),o},tspan:function(t,r){var n=t.getAttribute("x"),i=t.getAttribute("y");n!=null&&(this._textX=parseFloat(n)),i!=null&&(this._textY=parseFloat(i));var a=t.getAttribute("dx")||"0",s=t.getAttribute("dy")||"0",o=new _t;return io(r,o),As(t,o,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(s),o},path:function(t,r){var n=t.getAttribute("d")||"",i=nne(n);return io(r,i),As(t,i,this._defsUsePending,!1,!1),i.silent=!0,i}}}(),e}(),aW={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||"0",10),r=parseInt(e.getAttribute("y1")||"0",10),n=parseInt(e.getAttribute("x2")||"10",10),i=parseInt(e.getAttribute("y2")||"0",10),a=new Vw(t,r,n,i);return sW(e,a),oW(e,a),a},radialgradient:function(e){var t=parseInt(e.getAttribute("cx")||"0",10),r=parseInt(e.getAttribute("cy")||"0",10),n=parseInt(e.getAttribute("r")||"0",10),i=new one(t,r,n);return sW(e,i),oW(e,i),i}};function sW(e,t){var r=e.getAttribute("gradientUnits");r==="userSpaceOnUse"&&(t.global=!0)}function oW(e,t){for(var r=e.firstChild;r;){if(r.nodeType===1&&r.nodeName.toLocaleLowerCase()==="stop"){var n=r.getAttribute("offset"),i=void 0;n&&n.indexOf("%")>0?i=parseInt(n,10)/100:n?i=parseFloat(n):i=0;var a={};pse(r,a,a);var s=a.stopColor||r.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:i,color:s})}r=r.nextSibling}}function io(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),ut(t.__inheritedStyle,e.__inheritedStyle))}function lW(e){for(var t=U2(e),r=[],n=0;n<t.length;n+=2){var i=parseFloat(t[n]),a=parseFloat(t[n+1]);r.push([i,a])}return r}function As(e,t,r,n,i){var a=t,s=a.__inheritedStyle=a.__inheritedStyle||{},o={};e.nodeType===1&&(OLe(e,t),pse(e,s,o),n||$Le(e,s,o)),a.style=a.style||{},s.fill!=null&&(a.style.fill=cW(a,"fill",s.fill,r)),s.stroke!=null&&(a.style.stroke=cW(a,"stroke",s.stroke,r)),V(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){s[l]!=null&&(a.style[l]=parseFloat(s[l]))}),V(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){s[l]!=null&&(a.style[l]=s[l])}),i&&(a.__selfStyle=o),s.lineDash&&(a.style.lineDash=_e(U2(s.lineDash),function(l){return parseFloat(l)})),(s.visibility==="hidden"||s.visibility==="collapse")&&(a.invisible=!0),s.display==="none"&&(a.ignore=!0)}function ILe(e,t){var r=t.__selfStyle;if(r){var n=r.textBaseline,i=n;!n||n==="auto"||n==="baseline"?i="alphabetic":n==="before-edge"||n==="text-before-edge"?i="top":n==="after-edge"||n==="text-after-edge"?i="bottom":(n==="central"||n==="mathematical")&&(i="middle"),e.style.textBaseline=i}var a=t.__inheritedStyle;if(a){var s=a.textAlign,o=s;s&&(s==="middle"&&(o="center"),e.style.textAlign=o)}}var MLe=/^url\(\s*#(.*?)\)/;function cW(e,t,r,n){var i=r&&r.match(MLe);if(i){var a=nl(i[1]);n.push([e,t,a]);return}return r==="none"&&(r=null),r}function PLe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n[0].style[n[1]]=e[n[2]]}}var LLe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function U2(e){return e.match(LLe)||[]}var DLe=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,ZR=Math.PI/180;function OLe(e,t){var r=e.getAttribute("transform");if(r){r=r.replace(/,/g," ");var n=[],i=null;r.replace(DLe,function(h,f,p){return n.push(f,p),""});for(var a=n.length-1;a>0;a-=2){var s=n[a],o=n[a-1],l=U2(s);switch(i=i||$s(),o){case"translate":xc(i,i,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":d4(i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Jp(i,i,-parseFloat(l[0])*ZR,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var c=Math.tan(parseFloat(l[0])*ZR);fu(i,[1,0,c,1,0,0],i);break;case"skewY":var u=Math.tan(parseFloat(l[0])*ZR);fu(i,[1,u,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5]);break}}t.setLocalTransform(i)}}var uW=/([^\s:;]+)\s*:\s*([^:;]+)/g;function pse(e,t,r){var n=e.getAttribute("style");if(n){uW.lastIndex=0;for(var i;(i=uW.exec(n))!=null;){var a=i[1],s=Ze(bT,a)?bT[a]:null;s&&(t[s]=i[2]);var o=Ze(wT,a)?wT[a]:null;o&&(r[o]=i[2])}}}function $Le(e,t,r){for(var n=0;n<nW.length;n++){var i=nW[n],a=e.getAttribute(i);a!=null&&(t[bT[i]]=a)}for(var n=0;n<iW.length;n++){var i=iW[n],a=e.getAttribute(i);a!=null&&(r[wT[i]]=a)}}function gse(e,t){var r=t.width/e.width,n=t.height/e.height,i=Math.min(r,n);return{scale:i,x:-(e.x+e.width/2)*i+(t.x+t.width/2),y:-(e.y+e.height/2)*i+(t.y+t.height/2)}}function BLe(e,t){var r=new RLe;return r.parse(e,t)}var FLe=Qe(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),zLe=function(){function e(t,r){this.type="geoSVG",this._usedGraphicMap=Qe(),this._freedGraphics=[],this._mapName=t,this._parsedXML=fse(r)}return e.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var r=HLe(t.named),n=r.regions,i=r.regionsMap;this._regions=n,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},e.prototype._buildGraphic=function(t){var r,n;try{r=t&&BLe(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},n=r.root,Wa(n!=null)}catch(m){throw new Error(`Invalid svg format
`+m.message)}var i=new _t;i.add(n),i.isGeoSVGGraphicRoot=!0;var a=r.width,s=r.height,o=r.viewBoxRect,l=this._boundingRect;if(!l){var c=void 0,u=void 0,h=void 0,f=void 0;if(a!=null?(c=0,h=a):o&&(c=o.x,h=o.width),s!=null?(u=0,f=s):o&&(u=o.y,f=o.height),c==null||u==null){var p=n.getBoundingRect();c==null&&(c=p.x,h=p.width),u==null&&(u=p.y,f=p.height)}l=this._boundingRect=new Bt(c,u,h,f)}if(o){var g=gse(o,l);n.scaleX=n.scaleY=g.scale,n.x=g.x,n.y=g.y}i.setClipPath(new xr({shape:l.plain()}));var v=[];return V(r.named,function(m){FLe.get(m.svgNodeTagLower)!=null&&(v.push(m),ULe(m.el))}),{root:i,boundingRect:l,named:v}},e.prototype.useGraphic=function(t){var r=this._usedGraphicMap,n=r.get(t);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),r.set(t,n),n)},e.prototype.freeGraphic=function(t){var r=this._usedGraphicMap,n=r.get(t);n&&(r.removeKey(t),this._freedGraphics.push(n))},e}();function ULe(e){e.silent=!1,e.isGroup&&e.traverse(function(t){t.silent=!1})}function HLe(e){var t=[],r=Qe();return V(e,function(n){if(n.namedFrom==null){var i=new OIe(n.name,n.el);t.push(i),r.set(n.name,i)}}),{regions:t,regionsMap:r}}var PD=[126,25],dW="南海诸岛",Ef=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var mf=0;mf<Ef.length;mf++)for(var $g=0;$g<Ef[mf].length;$g++)Ef[mf][$g][0]/=10.5,Ef[mf][$g][1]/=-10.5/.75,Ef[mf][$g][0]+=PD[0],Ef[mf][$g][1]+=PD[1];function VLe(e,t){if(e==="china"){for(var r=0;r<t.length;r++)if(t[r].name===dW)return;t.push(new dae(dW,_e(Ef,function(n){return{type:"polygon",exterior:n}}),PD))}}var WLe={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]};function GLe(e,t){if(e==="china"){var r=WLe[t.name];if(r){var n=t.getCenter();n[0]+=r[0]/10.5,n[1]+=-r[1]/(10.5/.75),t.setCenter(n)}}}var qLe=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function YLe(e,t){e==="china"&&t.name==="台湾"&&t.geometries.push({type:"polygon",exterior:qLe[0]})}var KLe="name",XLe=function(){function e(t,r,n){this.type="geoJSON",this._parsedMap=Qe(),this._mapName=t,this._specialAreas=n,this._geoJSON=JLe(r)}return e.prototype.load=function(t,r){r=r||KLe;var n=this._parsedMap.get(r);if(!n){var i=this._parseToRegions(r);n=this._parsedMap.set(r,{regions:i,boundingRect:ZLe(i)})}var a=Qe(),s=[];return V(n.regions,function(o){var l=o.name;t&&Ze(t,l)&&(o=o.cloneShallow(l=t[l])),s.push(o),a.set(l,o)}),{regions:s,boundingRect:n.boundingRect||new Bt(0,0,0,0),regionsMap:a}},e.prototype._parseToRegions=function(t){var r=this._mapName,n=this._geoJSON,i;try{i=n?BIe(n,t):[]}catch(a){throw new Error(`Invalid geoJson format
`+a.message)}return VLe(r,i),V(i,function(a){var s=a.name;GLe(r,a),YLe(r,a);var o=this._specialAreas&&this._specialAreas[s];o&&a.transformTo(o.left,o.top,o.width,o.height)},this),i},e.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},e}();function ZLe(e){for(var t,r=0;r<e.length;r++){var n=e[r].getBoundingRect();t=t||n.clone(),t.union(n)}return t}function JLe(e){return We(e)?typeof JSON<"u"&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e}var tx=Qe();const ju={registerMap:function(e,t,r){if(t.svg){var n=new zLe(e,t.svg);tx.set(e,n)}else{var i=t.geoJson||t.geoJSON;i&&!t.features?r=t.specialAreas:i=t;var n=new XLe(e,i,r);tx.set(e,n)}},getGeoResource:function(e){return tx.get(e)},getMapForUser:function(e){var t=tx.get(e);return t&&t.type==="geoJSON"&&t.getMapForUser()},load:function(e,t,r){var n=tx.get(e);if(n)return n.load(t,r)}};var v$=["rect","circle","line","ellipse","polygon","polyline","path"],QLe=Qe(v$),eDe=Qe(v$.concat(["g"])),tDe=Qe(v$.concat(["g"])),mse=_r();function hC(e){var t=e.getItemStyle(),r=e.get("areaColor");return r!=null&&(t.fill=r),t}function hW(e){var t=e.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var vse=function(){function e(t){var r=new _t;this.uid=x0("ec_map_draw"),this._controller=new n1(t.getZr()),this._controllerHost={target:r},this.group=r,r.add(this._regionsGroup=new _t),r.add(this._svgGroup=new _t)}return e.prototype.draw=function(t,r,n,i,a){var s=t.mainType==="geo",o=t.getData&&t.getData();s&&r.eachComponent({mainType:"series",subType:"map"},function(y){!o&&y.getHostGeoModel()===t&&(o=y.getData())});var l=t.coordinateSystem,c=this._regionsGroup,u=this.group,h=l.getTransformInfo(),f=h.raw,p=h.roam,g=!c.childAt(0)||a;g?(u.x=p.x,u.y=p.y,u.scaleX=p.scaleX,u.scaleY=p.scaleY,u.dirty()):Rr(u,p,t);var v=o&&o.getVisual("visualMeta")&&o.getVisual("visualMeta").length>0,m={api:n,geo:l,mapOrGeoModel:t,data:o,isVisualEncodedByVisualMap:v,isGeo:s,transformInfoRaw:f};l.resourceType==="geoJSON"?this._buildGeoJSON(m):l.resourceType==="geoSVG"&&this._buildSVG(m),this._updateController(t,r,n),this._updateMapSelectHandler(t,c,n,i)},e.prototype._buildGeoJSON=function(t){var r=this._regionsGroupByName=Qe(),n=Qe(),i=this._regionsGroup,a=t.transformInfoRaw,s=t.mapOrGeoModel,o=t.data,l=t.geo.projection,c=l&&l.stream;function u(p,g){return g&&(p=g(p)),p&&[p[0]*a.scaleX+a.x,p[1]*a.scaleY+a.y]}function h(p){for(var g=[],v=!c&&l&&l.project,m=0;m<p.length;++m){var y=u(p[m],v);y&&g.push(y)}return g}function f(p){return{shape:{points:h(p)}}}i.removeAll(),V(t.geo.regions,function(p){var g=p.name,v=r.get(g),m=n.get(g)||{},y=m.dataIdx,x=m.regionModel;if(!v){v=r.set(g,new _t),i.add(v),y=o?o.indexOfName(g):null,x=t.isGeo?s.getRegionModel(g):o?o.getItemModel(y):null;var _=x.get("silent",!0);_!=null&&(v.silent=_),n.set(g,{dataIdx:y,regionModel:x})}var b=[],w=[];V(p.geometries,function(C){if(C.type==="polygon"){var E=[C.exterior].concat(C.interiors||[]);c&&(E=yW(E,c)),V(E,function(N){b.push(new Ya(f(N)))})}else{var T=C.points;c&&(T=yW(T,c,!0)),V(T,function(N){w.push(new Ja(f(N)))})}});var S=u(p.getCenter(),l&&l.project);function k(C,E){if(C.length){var T=new T4({culling:!0,segmentIgnoreThreshold:1,shape:{paths:C}});v.add(T),fW(t,T,y,x),pW(t,T,g,x,s,y,S),E&&(hW(T),V(T.states,hW))}}k(b),k(w,!0)}),r.each(function(p,g){var v=n.get(g),m=v.dataIdx,y=v.regionModel;gW(t,p,g,y,s,m),mW(t,p,g,y,s),vW(t,p,g,y,s)},this)},e.prototype._buildSVG=function(t){var r=t.geo.map,n=t.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(r)&&(this._freeSVG(),this._useSVG(r));var i=this._svgDispatcherMap=Qe(),a=!1;V(this._svgGraphicRecord.named,function(s){var o=s.name,l=t.mapOrGeoModel,c=t.data,u=s.svgNodeTagLower,h=s.el,f=c?c.indexOfName(o):null,p=l.getRegionModel(o);QLe.get(u)!=null&&h instanceof Mo&&fW(t,h,f,p),h instanceof Mo&&(h.culling=!0);var g=p.get("silent",!0);if(g!=null&&(h.silent=g),h.z2EmphasisLift=0,!s.namedFrom&&(tDe.get(u)!=null&&pW(t,h,o,p,l,f,null),gW(t,h,o,p,l,f),mW(t,h,o,p,l),eDe.get(u)!=null)){var v=vW(t,h,o,p,l);v==="self"&&(a=!0);var m=i.get(o)||i.set(o,[]);m.push(h)}},this),this._enableBlurEntireSVG(a,t)},e.prototype._enableBlurEntireSVG=function(t,r){if(t&&r.isGeo){var n=r.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=n.opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){Rp(a);var s=a.ensureState("blur").style||{};s.opacity==null&&i!=null&&(s.opacity=i),a.ensureState("emphasis")}})}},e.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},e.prototype.findHighDownDispatchers=function(t,r){if(t==null)return[];var n=r.coordinateSystem;if(n.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var a=i.get(t);return a?[a]:[]}}else if(n.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},e.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},e.prototype._useSVG=function(t){var r=ju.getGeoResource(t);if(r&&r.type==="geoSVG"){var n=r.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=t}},e.prototype._freeSVG=function(){var t=this._svgMapName;if(t!=null){var r=ju.getGeoResource(t);r&&r.type==="geoSVG"&&r.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},e.prototype._updateController=function(t,r,n){var i=t.coordinateSystem,a=this._controller,s=this._controllerHost;s.zoomLimit=t.get("scaleLimit"),s.zoom=i.getZoom(),a.enable(t.get("roam")||!1);var o=t.mainType;function l(){var c={type:"geoRoam",componentType:o};return c[o+"Id"]=t.id,c}a.off("pan").on("pan",function(c){this._mouseDownFlag=!1,g$(s,c.dx,c.dy),n.dispatchAction(pe(l(),{dx:c.dx,dy:c.dy,animation:{duration:0}}))},this),a.off("zoom").on("zoom",function(c){this._mouseDownFlag=!1,m$(s,c.scale,c.originX,c.originY),n.dispatchAction(pe(l(),{totalZoom:s.zoom,zoom:c.scale,originX:c.originX,originY:c.originY,animation:{duration:0}}))},this),a.setPointerChecker(function(c,u,h){return i.containPoint([u,h])&&!z2(c,n,t)})},e.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var r=t.getTextContent();r&&(r.ignore=mse(r).ignore)})},e.prototype._updateMapSelectHandler=function(t,r,n,i){var a=this;r.off("mousedown"),r.off("click"),t.get("selectedMode")&&(r.on("mousedown",function(){a._mouseDownFlag=!0}),r.on("click",function(s){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},e}();function fW(e,t,r,n){var i=n.getModel("itemStyle"),a=n.getModel(["emphasis","itemStyle"]),s=n.getModel(["blur","itemStyle"]),o=n.getModel(["select","itemStyle"]),l=hC(i),c=hC(a),u=hC(o),h=hC(s),f=e.data;if(f){var p=f.getItemVisual(r,"style"),g=f.getItemVisual(r,"decal");e.isVisualEncodedByVisualMap&&p.fill&&(l.fill=p.fill),g&&(l.decal=Av(g,e.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=c,t.ensureState("select").style=u,t.ensureState("blur").style=h,Rp(t)}function pW(e,t,r,n,i,a,s){var o=e.data,l=e.isGeo,c=o&&isNaN(o.get(o.mapDimension("value"),a)),u=o&&o.getItemLayout(a);if(l||c||u&&u.showLabel){var h=l?r:a,f=void 0;(!o||a>=0)&&(f=i);var p=s?{normal:{align:"center",verticalAlign:"middle"}}:null;ra(t,Pi(n),{labelFetcher:f,labelDataIndex:h,defaultText:r},p);var g=t.getTextContent();if(g&&(mse(g).ignore=g.ignore,t.textConfig&&s)){var v=t.getBoundingRect().clone();t.textConfig.layoutRect=v,t.textConfig.position=[(s[0]-v.x)/v.width*100+"%",(s[1]-v.y)/v.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function gW(e,t,r,n,i,a){e.data?e.data.setItemGraphicEl(a,t):wt(t).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:r,region:n&&n.option||{}}}function mW(e,t,r,n,i){e.data||Qp({el:t,componentModel:i,itemName:r,itemTooltipOption:n.get("tooltip")})}function vW(e,t,r,n,i){t.highDownSilentOnTouch=!!i.get("selectedMode");var a=n.getModel("emphasis"),s=a.get("focus");return Wn(t,s,a.get("blurScope"),a.get("disabled")),e.isGeo&&QNe(t,i,r),s}function yW(e,t,r){var n=[],i;function a(){i=[]}function s(){i.length&&(n.push(i),i=[])}var o=t({polygonStart:a,polygonEnd:s,lineStart:a,lineEnd:s,point:function(l,c){isFinite(l)&&isFinite(c)&&i.push([l,c])},sphere:function(){}});return!r&&o.polygonStart(),V(e,function(l){o.lineStart();for(var c=0;c<l.length;c++)o.point(l[c][0],l[c][1]);o.lineEnd()}),!r&&o.polygonEnd(),n}var rDe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,a){if(!(a&&a.type==="mapToggleSelect"&&a.from===this.uid)){var s=this.group;if(s.removeAll(),!r.getHostGeoModel()){if(this._mapDraw&&a&&a.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),a&&a.type==="geoRoam"&&a.componentType==="series"&&a.seriesId===r.id){var o=this._mapDraw;o&&s.add(o.group)}else if(r.needsDrawMap){var o=this._mapDraw||new vse(i);s.add(o.group),o.draw(r,n,i,this,a),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;r.get("showLegendSymbol")&&n.getComponent("legend")&&this._renderSymbols(r,n,i)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(r,n,i){var a=r.originalData,s=this.group;a.each(a.mapDimension("value"),function(o,l){if(!isNaN(o)){var c=a.getItemLayout(l);if(!(!c||!c.point)){var u=c.point,h=c.offset,f=new zu({style:{fill:r.getData().getVisual("style").fill},shape:{cx:u[0]+h*9,cy:u[1],r:3},silent:!0,z2:8+(h?0:m0+1)});if(!h){var p=r.mainSeries.getData(),g=a.getName(l),v=p.indexOfName(g),m=a.getItemModel(l),y=m.getModel("label"),x=p.getItemGraphicEl(v);ra(f,Pi(m),{labelFetcher:{getFormattedLabel:function(_,b){return r.getFormattedLabel(v,b)}},defaultText:g}),f.disableLabelAnimation=!0,y.get("position")||f.setTextConfig({position:"bottom"}),x.onHoverStateChange=function(_){tT(f,_)}}s.add(f)}}})},t.type="map",t}(dn),nDe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.needsDrawMap=!1,r.seriesGroup=[],r.getTooltipPosition=function(n){if(n!=null){var i=this.getData().getName(n),a=this.coordinateSystem,s=a.getRegion(i);return s&&a.dataToPoint(s.getCenter())}},r}return t.prototype.getInitialData=function(r){for(var n=T0(this,{coordDimensions:["value"],encodeDefaulter:At(O4,this)}),i=Qe(),a=[],s=0,o=n.count();s<o;s++){var l=n.getName(s);i.set(l,s)}var c=ju.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return V(c.regions,function(u){var h=u.name,f=i.get(h),p=u.properties&&u.properties.echartsStyle,g;f==null?(g={name:h},a.push(g)):g=n.getRawDataItem(f),p&&Pt(g,p)}),n.appendData(a),n},t.prototype.getHostGeoModel=function(){var r=this.option.geoIndex;return r!=null?this.ecModel.getComponent("geo",r):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(r){var n=this.getData();return n.get(n.mapDimension("value"),r)},t.prototype.getRegionModel=function(r){var n=this.getData();return n.getItemModel(n.indexOfName(r))},t.prototype.formatTooltip=function(r,n,i){for(var a=this.getData(),s=this.getRawValue(r),o=a.getName(r),l=this.seriesGroup,c=[],u=0;u<l.length;u++){var h=l[u].originalData.indexOfName(o),f=a.mapDimension("value");isNaN(l[u].originalData.get(f,h))||c.push(l[u].name)}return Li("section",{header:c.join(", "),noHeader:!c.length,blocks:[Li("nameValue",{name:o,value:s})]})},t.prototype.setZoom=function(r){this.option.zoom=r},t.prototype.setCenter=function(r){this.option.center=r},t.prototype.getLegendIcon=function(r){var n=r.icon||"roundRect",i=fi(n,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill);return i.setStyle(r.itemStyle),i.style.stroke="none",n.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(_n);function iDe(e,t){var r={};return V(e,function(n){n.each(n.mapDimension("value"),function(i,a){var s="ec-"+n.getName(a);r[s]=r[s]||[],isNaN(i)||r[s].push(i)})}),e[0].map(e[0].mapDimension("value"),function(n,i){for(var a="ec-"+e[0].getName(i),s=0,o=1/0,l=-1/0,c=r[a].length,u=0;u<c;u++)o=Math.min(o,r[a][u]),l=Math.max(l,r[a][u]),s+=r[a][u];var h;return t==="min"?h=o:t==="max"?h=l:t==="average"?h=s/c:h=s,c===0?NaN:h})}function aDe(e){var t={};e.eachSeriesByType("map",function(r){var n=r.getHostGeoModel(),i=n?"o"+n.id:"i"+r.getMapType();(t[i]=t[i]||[]).push(r)}),V(t,function(r,n){for(var i=iDe(_e(r,function(s){return s.getData()}),r[0].get("mapValueCalculation")),a=0;a<r.length;a++)r[a].originalData=r[a].getData();for(var a=0;a<r.length;a++)r[a].seriesGroup=r,r[a].needsDrawMap=a===0&&!r[a].getHostGeoModel(),r[a].setData(i.cloneShallow()),r[a].mainSeries=r[0]})}function sDe(e){var t={};e.eachSeriesByType("map",function(r){var n=r.getMapType();if(!(r.getHostGeoModel()||t[n])){var i={};V(r.seriesGroup,function(s){var o=s.coordinateSystem,l=s.originalData;s.get("showLegendSymbol")&&e.getComponent("legend")&&l.each(l.mapDimension("value"),function(c,u){var h=l.getName(u),f=o.getRegion(h);if(!(!f||isNaN(c))){var p=i[h]||0,g=o.dataToPoint(f.getCenter());i[h]=p+1,l.setItemLayout(u,{point:g,offset:p})}})});var a=r.getData();a.each(function(s){var o=a.getName(s),l=a.getItemLayout(s)||{};l.showLabel=!i[o],a.setItemLayout(s,l)}),t[n]=!0}})}var xW=Ji,i1=function(e){ce(t,e);function t(r){var n=e.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new au,n._rawTransformable=new au,n.name=r,n}return t.prototype.setBoundingRect=function(r,n,i,a){return this._rect=new Bt(r,n,i,a),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(r,n,i,a){this._transformTo(r,n,i,a),this._viewRect=new Bt(r,n,i,a)},t.prototype._transformTo=function(r,n,i,a){var s=this.getBoundingRect(),o=this._rawTransformable;o.transform=s.calculateTransform(new Bt(r,n,i,a));var l=o.parent;o.parent=null,o.decomposeTransform(),o.parent=l,this._updateTransform()},t.prototype.setCenter=function(r,n){r&&(this._center=[Le(r[0],n.getWidth()),Le(r[1],n.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(r){r=r||1;var n=this.zoomLimit;n&&(n.max!=null&&(r=Math.min(n.max,r)),n.min!=null&&(r=Math.max(n.min,r))),this._zoom=r,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var r=this.getBoundingRect(),n=r.x+r.width/2,i=r.y+r.height/2;return[n,i]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var r=this._rawTransformable.getLocalTransform(),n=this._roamTransformable,i=this.getDefaultCenter(),a=this.getCenter(),s=this.getZoom();a=Ji([],a,r),i=Ji([],i,r),n.originX=a[0],n.originY=a[1],n.x=i[0]-a[0],n.y=i[1]-a[1],n.scaleX=n.scaleY=s,this._updateTransform()},t.prototype._updateTransform=function(){var r=this._roamTransformable,n=this._rawTransformable;n.parent=r,r.updateTransform(),n.updateTransform(),u4(this.transform||(this.transform=[]),n.transform||$s()),this._rawTransform=n.getLocalTransform(),this.invTransform=this.invTransform||[],p0(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var r=this._rawTransformable,n=this._roamTransformable,i=new au;return i.transform=n.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var r=this.getBoundingRect().clone();return r.applyTransform(this.transform),r},t.prototype.dataToPoint=function(r,n,i){var a=n?this._rawTransform:this.transform;return i=i||[],a?xW(i,r,a):ja(i,r)},t.prototype.pointToData=function(r){var n=this.invTransform;return n?xW([],r,n):[r[0],r[1]]},t.prototype.convertToPixel=function(r,n,i){var a=_W(n);return a===this?a.dataToPoint(i):null},t.prototype.convertFromPixel=function(r,n,i){var a=_W(n);return a===this?a.pointToData(i):null},t.prototype.containPoint=function(r){return this.getViewRectAfterRoam().contain(r[0],r[1])},t.dimensions=["x","y"],t}(au);function _W(e){var t=e.seriesModel;return t?t.coordinateSystem:null}var oDe={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},yse=["lng","lat"],LD=function(e){ce(t,e);function t(r,n,i){var a=e.call(this,r)||this;a.dimensions=yse,a.type="geo",a._nameCoordMap=Qe(),a.map=n;var s=i.projection,o=ju.load(n,i.nameMap,i.nameProperty),l=ju.getGeoResource(n);a.resourceType=l?l.type:null;var c=a.regions=o.regions,u=oDe[l.type];a._regionsMap=o.regionsMap,a.regions=o.regions,a.projection=s;var h;if(s)for(var f=0;f<c.length;f++){var p=c[f].getBoundingRect(s);h=h||p.clone(),h.union(p)}else h=o.boundingRect;return a.setBoundingRect(h.x,h.y,h.width,h.height),a.aspectScale=s?1:Et(i.aspectScale,u.aspectScale),a._invertLongitute=s?!1:u.invertLongitute,a}return t.prototype._transformTo=function(r,n,i,a){var s=this.getBoundingRect(),o=this._invertLongitute;s=s.clone(),o&&(s.y=-s.y-s.height);var l=this._rawTransformable;l.transform=s.calculateTransform(new Bt(r,n,i,a));var c=l.parent;l.parent=null,l.decomposeTransform(),l.parent=c,o&&(l.scaleY=-l.scaleY),this._updateTransform()},t.prototype.getRegion=function(r){return this._regionsMap.get(r)},t.prototype.getRegionByCoord=function(r){for(var n=this.regions,i=0;i<n.length;i++){var a=n[i];if(a.type==="geoJSON"&&a.contain(r))return n[i]}},t.prototype.addGeoCoord=function(r,n){this._nameCoordMap.set(r,n)},t.prototype.getGeoCoord=function(r){var n=this._regionsMap.get(r);return this._nameCoordMap.get(r)||n&&n.getCenter()},t.prototype.dataToPoint=function(r,n,i){if(We(r)&&(r=this.getGeoCoord(r)),r){var a=this.projection;return a&&(r=a.project(r)),r&&this.projectedToPoint(r,n,i)}},t.prototype.pointToData=function(r){var n=this.projection;return n&&(r=n.unproject(r)),r&&this.pointToProjected(r)},t.prototype.pointToProjected=function(r){return e.prototype.pointToData.call(this,r)},t.prototype.projectedToPoint=function(r,n,i){return e.prototype.dataToPoint.call(this,r,n,i)},t.prototype.convertToPixel=function(r,n,i){var a=bW(n);return a===this?a.dataToPoint(i):null},t.prototype.convertFromPixel=function(r,n,i){var a=bW(n);return a===this?a.pointToData(i):null},t}(i1);pi(LD,i1);function bW(e){var t=e.geoModel,r=e.seriesModel;return t?t.coordinateSystem:r?r.coordinateSystem||(r.getReferringComponents("geo",di).models[0]||{}).coordinateSystem:null}function wW(e,t){var r=e.get("boundingCoords");if(r!=null){var n=r[0],i=r[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])){var a=this.projection;if(a){var s=n[0],o=n[1],l=i[0],c=i[1];n=[1/0,1/0],i=[-1/0,-1/0];var u=function(S,k,C,E){for(var T=C-S,N=E-k,I=0;I<=100;I++){var P=I/100,D=a.project([S+T*P,k+N*P]);Md(n,n,D),Pd(i,i,D)}};u(s,o,l,o),u(l,o,l,c),u(l,c,s,c),u(s,c,l,o)}this.setBoundingRect(n[0],n[1],i[0]-n[0],i[1]-n[1])}}var h=this.getBoundingRect(),f=e.get("layoutCenter"),p=e.get("layoutSize"),g=t.getWidth(),v=t.getHeight(),m=h.width/h.height*this.aspectScale,y=!1,x,_;f&&p&&(x=[Le(f[0],g),Le(f[1],v)],_=Le(p,Math.min(g,v)),!isNaN(x[0])&&!isNaN(x[1])&&!isNaN(_)&&(y=!0));var b;if(y)b={},m>1?(b.width=_,b.height=_/m):(b.height=_,b.width=_*m),b.y=x[1]-b.height/2,b.x=x[0]-b.width/2;else{var w=e.getBoxLayoutParams();w.aspect=m,b=Si(w,{width:g,height:v})}this.setViewRect(b.x,b.y,b.width,b.height),this.setCenter(e.get("center"),t),this.setZoom(e.get("zoom"))}function lDe(e,t){V(t.get("geoCoord"),function(r,n){e.addGeoCoord(n,r)})}var cDe=function(){function e(){this.dimensions=yse}return e.prototype.create=function(t,r){var n=[];function i(s){return{nameProperty:s.get("nameProperty"),aspectScale:s.get("aspectScale"),projection:s.get("projection")}}t.eachComponent("geo",function(s,o){var l=s.get("map"),c=new LD(l+o,l,pe({nameMap:s.get("nameMap")},i(s)));c.zoomLimit=s.get("scaleLimit"),n.push(c),s.coordinateSystem=c,c.model=s,c.resize=wW,c.resize(s,r)}),t.eachSeries(function(s){var o=s.get("coordinateSystem");if(o==="geo"){var l=s.get("geoIndex")||0;s.coordinateSystem=n[l]}});var a={};return t.eachSeriesByType("map",function(s){if(!s.getHostGeoModel()){var o=s.getMapType();a[o]=a[o]||[],a[o].push(s)}}),V(a,function(s,o){var l=_e(s,function(u){return u.get("nameMap")}),c=new LD(o,o,pe({nameMap:s4(l)},i(s[0])));c.zoomLimit=Ui.apply(null,_e(s,function(u){return u.get("scaleLimit")})),n.push(c),c.resize=wW,c.resize(s[0],r),V(s,function(u){u.coordinateSystem=c,lDe(c,u)})}),n},e.prototype.getFilledRegions=function(t,r,n,i){for(var a=(t||[]).slice(),s=Qe(),o=0;o<a.length;o++)s.set(a[o].name,a[o]);var l=ju.load(r,n,i);return V(l.regions,function(c){var u=c.name,h=s.get(u),f=c.properties&&c.properties.echartsStyle;h||(h={name:u},a.push(h)),f&&Pt(h,f)}),a},e}(),xse=new cDe,uDe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n,i){var a=ju.getGeoResource(r.map);if(a&&a.type==="geoJSON"){var s=r.itemStyle=r.itemStyle||{};"color"in s||(s.color="#eee")}this.mergeDefaultAndTheme(r,i),Np(r,"label",["show"])},t.prototype.optionUpdated=function(){var r=this,n=this.option;n.regions=xse.getFilledRegions(n.regions,n.map,n.nameMap,n.nameProperty);var i={};this._optionModelMap=yc(n.regions||[],function(a,s){var o=s.name;return o&&(a.set(o,new Vr(s,r,r.ecModel)),s.selected&&(i[o]=!0)),a},Qe()),n.selectedMap||(n.selectedMap=i)},t.prototype.getRegionModel=function(r){return this._optionModelMap.get(r)||new Vr(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(r,n){var i=this.getRegionModel(r),a=n==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),s={name:r};if(lt(a))return s.status=n,a(s);if(We(a))return a.replace("{a}",r??"")},t.prototype.setZoom=function(r){this.option.zoom=r},t.prototype.setCenter=function(r){this.option.center=r},t.prototype.select=function(r){var n=this.option,i=n.selectedMode;if(i){i!=="multiple"&&(n.selectedMap=null);var a=n.selectedMap||(n.selectedMap={});a[r]=!0}},t.prototype.unSelect=function(r){var n=this.option.selectedMap;n&&(n[r]=!1)},t.prototype.toggleSelected=function(r){this[this.isSelected(r)?"unSelect":"select"](r)},t.prototype.isSelected=function(r){var n=this.option.selectedMap;return!!(n&&n[r])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(ir);function SW(e,t){return e.pointToProjected?e.pointToProjected(t):e.pointToData(t)}function y$(e,t,r,n){var i=e.getZoom(),a=e.getCenter(),s=t.zoom,o=e.projectedToPoint?e.projectedToPoint(a):e.dataToPoint(a);if(t.dx!=null&&t.dy!=null&&(o[0]-=t.dx,o[1]-=t.dy,e.setCenter(SW(e,o),n)),s!=null){if(r){var l=r.min||0,c=r.max||1/0;s=Math.max(Math.min(i*s,c),l)/i}e.scaleX*=s,e.scaleY*=s;var u=(t.originX-e.x)*(s-1),h=(t.originY-e.y)*(s-1);e.x-=u,e.y-=h,e.updateTransform(),e.setCenter(SW(e,o),n),e.setZoom(s*i)}return{center:e.getCenter(),zoom:e.getZoom()}}var dDe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.focusBlurEnabled=!0,r}return t.prototype.init=function(r,n){this._api=n},t.prototype.render=function(r,n,i,a){if(this._model=r,!r.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new vse(i));var s=this._mapDraw;s.draw(r,n,i,this,a),s.group.on("click",this._handleRegionClick,this),s.group.silent=r.get("silent"),this.group.add(s.group),this.updateSelectStatus(r,n,i)},t.prototype._handleRegionClick=function(r){var n;Kf(r.target,function(i){return(n=wt(i).eventData)!=null},!0),n&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:n.name})},t.prototype.updateSelectStatus=function(r,n,i){var a=this;this._mapDraw.group.traverse(function(s){var o=wt(s).eventData;if(o)return a._model.isSelected(o.name)?i.enterSelect(s):i.leaveSelect(s),!0})},t.prototype.findHighDownDispatchers=function(r){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(r,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(Bn);function hDe(e,t,r){ju.registerMap(e,t,r)}function _se(e){e.registerCoordinateSystem("geo",xse),e.registerComponentModel(uDe),e.registerComponentView(dDe),e.registerImpl("registerMap",hDe),e.registerImpl("getMap",function(r){return ju.getMapForUser(r)});function t(r,n){n.update="geo:updateSelectStatus",e.registerAction(n,function(i,a){var s={},o=[];return a.eachComponent({mainType:"geo",query:i},function(l){l[r](i.name);var c=l.coordinateSystem;V(c.regions,function(h){s[h.name]=l.isSelected(h.name)||!1});var u=[];V(s,function(h,f){s[f]&&u.push(f)}),o.push({geoIndex:l.componentIndex,name:u})}),{selected:s,allSelected:o,name:i.name}})}t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(r,n,i){var a=r.componentType||"series";n.eachComponent({mainType:a,query:r},function(s){var o=s.coordinateSystem;if(o.type==="geo"){var l=y$(o,r,s.get("scaleLimit"),i);s.setCenter&&s.setCenter(l.center),s.setZoom&&s.setZoom(l.zoom),a==="series"&&V(s.seriesGroup,function(c){c.setCenter(l.center),c.setZoom(l.zoom)})}})})}function fDe(e){Zt(_se),e.registerChartView(rDe),e.registerSeriesModel(nDe),e.registerLayout(sDe),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,aDe),bie("map",e.registerAction)}function pDe(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var r=[t],n,i;n=r.pop();)if(i=n.children,n.isExpand&&i.length)for(var a=i.length,s=a-1;s>=0;s--){var o=i[s];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:s,thread:null},r.push(o)}}function gDe(e,t){var r=e.isExpand?e.children:[],n=e.parentNode.children,i=e.hierNode.i?n[e.hierNode.i-1]:null;if(r.length){yDe(e);var a=(r[0].hierNode.prelim+r[r.length-1].hierNode.prelim)/2;i?(e.hierNode.prelim=i.hierNode.prelim+t(e,i),e.hierNode.modifier=e.hierNode.prelim-a):e.hierNode.prelim=a}else i&&(e.hierNode.prelim=i.hierNode.prelim+t(e,i));e.parentNode.hierNode.defaultAncestor=xDe(e,i,e.parentNode.hierNode.defaultAncestor||n[0],t)}function mDe(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function CW(e){return arguments.length?e:wDe}function Gx(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}function vDe(e,t){return Si(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function yDe(e){for(var t=e.children,r=t.length,n=0,i=0;--r>=0;){var a=t[r];a.hierNode.prelim+=n,a.hierNode.modifier+=n,i+=a.hierNode.change,n+=a.hierNode.shift+i}}function xDe(e,t,r,n){if(t){for(var i=e,a=e,s=a.parentNode.children[0],o=t,l=i.hierNode.modifier,c=a.hierNode.modifier,u=s.hierNode.modifier,h=o.hierNode.modifier;o=JR(o),a=QR(a),o&&a;){i=JR(i),s=QR(s),i.hierNode.ancestor=e;var f=o.hierNode.prelim+h-a.hierNode.prelim-c+n(o,a);f>0&&(bDe(_De(o,e,r),e,f),c+=f,l+=f),h+=o.hierNode.modifier,c+=a.hierNode.modifier,l+=i.hierNode.modifier,u+=s.hierNode.modifier}o&&!JR(i)&&(i.hierNode.thread=o,i.hierNode.modifier+=h-l),a&&!QR(s)&&(s.hierNode.thread=a,s.hierNode.modifier+=c-u,r=e)}return r}function JR(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function QR(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function _De(e,t,r){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:r}function bDe(e,t,r){var n=r/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=n,t.hierNode.shift+=r,t.hierNode.modifier+=r,t.hierNode.prelim+=r,e.hierNode.change+=n}function wDe(e,t){return e.parentNode===t.parentNode?1:2}var SDe=function(){function e(){this.parentPoint=[],this.childPoints=[]}return e}(),CDe=function(e){ce(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new SDe},t.prototype.buildPath=function(r,n){var i=n.childPoints,a=i.length,s=n.parentPoint,o=i[0],l=i[a-1];if(a===1){r.moveTo(s[0],s[1]),r.lineTo(o[0],o[1]);return}var c=n.orient,u=c==="TB"||c==="BT"?0:1,h=1-u,f=Le(n.forkPosition,1),p=[];p[u]=s[u],p[h]=s[h]+(l[h]-s[h])*f,r.moveTo(s[0],s[1]),r.lineTo(p[0],p[1]),r.moveTo(o[0],o[1]),p[u]=o[u],r.lineTo(p[0],p[1]),p[u]=l[u],r.lineTo(p[0],p[1]),r.lineTo(l[0],l[1]);for(var g=1;g<a-1;g++){var v=i[g];r.moveTo(v[0],v[1]),p[u]=v[u],r.lineTo(p[0],p[1])}},t}(er),kDe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._mainGroup=new _t,r}return t.prototype.init=function(r,n){this._controller=new n1(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(r,n,i){var a=r.getData(),s=r.layoutInfo,o=this._mainGroup,l=r.get("layout");l==="radial"?(o.x=s.x+s.width/2,o.y=s.y+s.height/2):(o.x=s.x,o.y=s.y),this._updateViewCoordSys(r,i),this._updateController(r,n,i);var c=this._data;a.diff(c).add(function(u){kW(a,u)&&EW(a,u,null,o,r)}).update(function(u,h){var f=c.getItemGraphicEl(h);if(!kW(a,u)){f&&NW(c,h,f,o,r);return}EW(a,u,f,o,r)}).remove(function(u){var h=c.getItemGraphicEl(u);h&&NW(c,u,h,o,r)}).execute(),this._nodeScaleRatio=r.get("nodeScaleRatio"),this._updateNodeAndLinkScale(r),r.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(u,h){u.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:r.id,dataIndex:h})})}),this._data=a},t.prototype._updateViewCoordSys=function(r,n){var i=r.getData(),a=[];i.each(function(h){var f=i.getItemLayout(h);f&&!isNaN(f.x)&&!isNaN(f.y)&&a.push([+f.x,+f.y])});var s=[],o=[];v2(a,s,o);var l=this._min,c=this._max;o[0]-s[0]===0&&(s[0]=l?l[0]:s[0]-1,o[0]=c?c[0]:o[0]+1),o[1]-s[1]===0&&(s[1]=l?l[1]:s[1]-1,o[1]=c?c[1]:o[1]+1);var u=r.coordinateSystem=new i1;u.zoomLimit=r.get("scaleLimit"),u.setBoundingRect(s[0],s[1],o[0]-s[0],o[1]-s[1]),u.setCenter(r.get("center"),n),u.setZoom(r.get("zoom")),this.group.attr({x:u.x,y:u.y,scaleX:u.scaleX,scaleY:u.scaleY}),this._min=s,this._max=o},t.prototype._updateController=function(r,n,i){var a=this,s=this._controller,o=this._controllerHost,l=this.group;s.setPointerChecker(function(c,u,h){var f=l.getBoundingRect();return f.applyTransform(l.transform),f.contain(u,h)&&!z2(c,i,r)}),s.enable(r.get("roam")),o.zoomLimit=r.get("scaleLimit"),o.zoom=r.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(c){g$(o,c.dx,c.dy),i.dispatchAction({seriesId:r.id,type:"treeRoam",dx:c.dx,dy:c.dy})}).on("zoom",function(c){m$(o,c.scale,c.originX,c.originY),i.dispatchAction({seriesId:r.id,type:"treeRoam",zoom:c.scale,originX:c.originX,originY:c.originY}),a._updateNodeAndLinkScale(r),i.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(r){var n=r.getData(),i=this._getNodeGlobalScale(r);n.eachItemGraphicEl(function(a,s){a.setSymbolScale(i)})},t.prototype._getNodeGlobalScale=function(r){var n=r.coordinateSystem;if(n.type!=="view")return 1;var i=this._nodeScaleRatio,a=n.scaleX||1,s=n.getZoom(),o=(s-1)*i+1;return o/a},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(dn);function kW(e,t){var r=e.getItemLayout(t);return r&&!isNaN(r.x)&&!isNaN(r.y)}function EW(e,t,r,n,i){var a=!r,s=e.tree.getNodeByDataIndex(t),o=s.getModel(),l=s.getVisual("style").fill,c=s.isExpand===!1&&s.children.length!==0?l:"#fff",u=e.tree.root,h=s.parentNode===u?s:s.parentNode||s,f=e.getItemGraphicEl(h.dataIndex),p=h.getLayout(),g=f?{x:f.__oldX,y:f.__oldY,rawX:f.__radialOldRawX,rawY:f.__radialOldRawY}:p,v=s.getLayout();a?(r=new Zw(e,t,null,{symbolInnerColor:c,useNameLabel:!0}),r.x=g.x,r.y=g.y):r.updateData(e,t,null,{symbolInnerColor:c,useNameLabel:!0}),r.__radialOldRawX=r.__radialRawX,r.__radialOldRawY=r.__radialRawY,r.__radialRawX=v.rawX,r.__radialRawY=v.rawY,n.add(r),e.setItemGraphicEl(t,r),r.__oldX=r.x,r.__oldY=r.y,Rr(r,{x:v.x,y:v.y},i);var m=r.getSymbolPath();if(i.get("layout")==="radial"){var y=u.children[0],x=y.getLayout(),_=y.children.length,b=void 0,w=void 0;if(v.x===x.x&&s.isExpand===!0&&y.children.length){var S={x:(y.children[0].getLayout().x+y.children[_-1].getLayout().x)/2,y:(y.children[0].getLayout().y+y.children[_-1].getLayout().y)/2};b=Math.atan2(S.y-x.y,S.x-x.x),b<0&&(b=Math.PI*2+b),w=S.x<x.x,w&&(b=b-Math.PI)}else b=Math.atan2(v.y-x.y,v.x-x.x),b<0&&(b=Math.PI*2+b),s.children.length===0||s.children.length!==0&&s.isExpand===!1?(w=v.x<x.x,w&&(b=b-Math.PI)):(w=v.x>x.x,w||(b=b-Math.PI));var k=w?"left":"right",C=o.getModel("label"),E=C.get("rotate"),T=E*(Math.PI/180),N=m.getTextContent();N&&(m.setTextConfig({position:C.get("position")||k,rotation:E==null?-b:T,origin:"center"}),N.setStyle("verticalAlign","middle"))}var I=o.get(["emphasis","focus"]),P=I==="relative"?yb(s.getAncestorsIndices(),s.getDescendantIndices()):I==="ancestor"?s.getAncestorsIndices():I==="descendant"?s.getDescendantIndices():null;P&&(wt(r).focus=P),EDe(i,s,u,r,g,p,v,n),r.__edge&&(r.onHoverStateChange=function(D){if(D!=="blur"){var $=s.parentNode&&e.getItemGraphicEl(s.parentNode.dataIndex);$&&$.hoverState===zw||tT(r.__edge,D)}})}function EDe(e,t,r,n,i,a,s,o){var l=t.getModel(),c=e.get("edgeShape"),u=e.get("layout"),h=e.getOrient(),f=e.get(["lineStyle","curveness"]),p=e.get("edgeForkPosition"),g=l.getModel("lineStyle").getLineStyle(),v=n.__edge;if(c==="curve")t.parentNode&&t.parentNode!==r&&(v||(v=n.__edge=new Hw({shape:DD(u,h,f,i,i)})),Rr(v,{shape:DD(u,h,f,a,s)},e));else if(c==="polyline"&&u==="orthogonal"&&t!==r&&t.children&&t.children.length!==0&&t.isExpand===!0){for(var m=t.children,y=[],x=0;x<m.length;x++){var _=m[x].getLayout();y.push([_.x,_.y])}v||(v=n.__edge=new CDe({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:h,forkPosition:p}})),Rr(v,{shape:{parentPoint:[s.x,s.y],childPoints:y}},e)}v&&!(c==="polyline"&&!t.isExpand)&&(v.useStyle(ut({strokeNoScale:!0,fill:null},g)),ta(v,l,"lineStyle"),Rp(v),o.add(v))}function TW(e,t,r,n,i){var a=t.tree.root,s=bse(a,e),o=s.source,l=s.sourceLayout,c=t.getItemGraphicEl(e.dataIndex);if(c){var u=t.getItemGraphicEl(o.dataIndex),h=u.__edge,f=c.__edge||(o.isExpand===!1||o.children.length===1?h:void 0),p=n.get("edgeShape"),g=n.get("layout"),v=n.get("orient"),m=n.get(["lineStyle","curveness"]);f&&(p==="curve"?fh(f,{shape:DD(g,v,m,l,l),style:{opacity:0}},n,{cb:function(){r.remove(f)},removeOpt:i}):p==="polyline"&&n.get("layout")==="orthogonal"&&fh(f,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},n,{cb:function(){r.remove(f)},removeOpt:i}))}}function bse(e,t){for(var r=t.parentNode===e?t:t.parentNode||t,n;n=r.getLayout(),n==null;)r=r.parentNode===e?r:r.parentNode||r;return{source:r,sourceLayout:n}}function NW(e,t,r,n,i){var a=e.tree.getNodeByDataIndex(t),s=e.tree.root,o=bse(s,a).sourceLayout,l={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};fh(r,{x:o.x+1,y:o.y+1},i,{cb:function(){n.remove(r),e.setItemGraphicEl(t,null)},removeOpt:l}),r.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:l}),a.children.forEach(function(c){TW(c,e,n,i,l)}),TW(a,e,n,i,l)}function DD(e,t,r,n,i){var a,s,o,l,c,u,h,f;if(e==="radial"){c=n.rawX,h=n.rawY,u=i.rawX,f=i.rawY;var p=Gx(c,h),g=Gx(c,h+(f-h)*r),v=Gx(u,f+(h-f)*r),m=Gx(u,f);return{x1:p.x||0,y1:p.y||0,x2:m.x||0,y2:m.y||0,cpx1:g.x||0,cpy1:g.y||0,cpx2:v.x||0,cpy2:v.y||0}}else c=n.x,h=n.y,u=i.x,f=i.y,(t==="LR"||t==="RL")&&(a=c+(u-c)*r,s=h,o=u+(c-u)*r,l=f),(t==="TB"||t==="BT")&&(a=c,s=h+(f-h)*r,o=u,l=f+(h-f)*r);return{x1:c,y1:h,x2:u,y2:f,cpx1:a,cpy1:s,cpx2:o,cpy2:l}}var Ao=_r();function wse(e){var t=e.mainData,r=e.datas;r||(r={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,Sse(t,r,e),V(r,function(n){V(t.TRANSFERABLE_METHODS,function(i){n.wrapMethod(i,At(TDe,e))})}),t.wrapMethod("cloneShallow",At(ADe,e)),V(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,At(NDe,e))}),Wa(r[t.dataType]===t)}function TDe(e,t){if(IDe(this)){var r=pe({},Ao(this).datas);r[this.dataType]=t,Sse(t,r,e)}else x$(t,this.dataType,Ao(this).mainData,e);return t}function NDe(e,t){return e.struct&&e.struct.update(),t}function ADe(e,t){return V(Ao(t).datas,function(r,n){r!==t&&x$(r.cloneShallow(),n,t,e)}),t}function jDe(e){var t=Ao(this).mainData;return e==null||t==null?t:Ao(t).datas[e]}function RDe(){var e=Ao(this).mainData;return e==null?[{data:e}]:_e(ar(Ao(e).datas),function(t){return{type:t,data:Ao(e).datas[t]}})}function IDe(e){return Ao(e).mainData===e}function Sse(e,t,r){Ao(e).datas={},V(t,function(n,i){x$(n,i,e,r)})}function x$(e,t,r,n){Ao(r).datas[t]=e,Ao(e).mainData=r,e.dataType=t,n.struct&&(e[n.structAttr]=n.struct,n.struct[n.datasAttr[t]]=e),e.getLinkedData=jDe,e.getLinkedDataAll=RDe}var MDe=function(){function e(t,r){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=r}return e.prototype.isRemoved=function(){return this.dataIndex<0},e.prototype.eachNode=function(t,r,n){lt(t)&&(n=r,r=t,t=null),t=t||{},We(t)&&(t={order:t});var i=t.order||"preorder",a=this[t.attr||"children"],s;i==="preorder"&&(s=r.call(n,this));for(var o=0;!s&&o<a.length;o++)a[o].eachNode(t,r,n);i==="postorder"&&r.call(n,this)},e.prototype.updateDepthAndHeight=function(t){var r=0;this.depth=t;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(t+1),i.height>r&&(r=i.height)}this.height=r+1},e.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var r=0,n=this.children,i=n.length;r<i;r++){var a=n[r].getNodeById(t);if(a)return a}},e.prototype.contains=function(t){if(t===this)return!0;for(var r=0,n=this.children,i=n.length;r<i;r++){var a=n[r].contains(t);if(a)return a}},e.prototype.getAncestors=function(t){for(var r=[],n=t?this:this.parentNode;n;)r.push(n),n=n.parentNode;return r.reverse(),r},e.prototype.getAncestorsIndices=function(){for(var t=[],r=this;r;)t.push(r.dataIndex),r=r.parentNode;return t.reverse(),t},e.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(r){t.push(r.dataIndex)}),t},e.prototype.getValue=function(t){var r=this.hostTree.data;return r.getStore().get(r.getDimensionIndex(t||"value"),this.dataIndex)},e.prototype.setLayout=function(t,r){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,r)},e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var r=this.hostTree,n=r.data.getItemModel(this.dataIndex);return n.getModel(t)}},e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},e.prototype.setVisual=function(t,r){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,r)},e.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},e.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,r=0;r<t.length;++r)if(t[r]===this)return r;return-1}return-1},e.prototype.isAncestorOf=function(t){for(var r=t.parentNode;r;){if(r===this)return!0;r=r.parentNode}return!1},e.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},e}(),_$=function(){function e(t){this.type="tree",this._nodes=[],this.hostModel=t}return e.prototype.eachNode=function(t,r,n){this.root.eachNode(t,r,n)},e.prototype.getNodeByDataIndex=function(t){var r=this.data.getRawIndex(t);return this._nodes[r]},e.prototype.getNodeById=function(t){return this.root.getNodeById(t)},e.prototype.update=function(){for(var t=this.data,r=this._nodes,n=0,i=r.length;n<i;n++)r[n].dataIndex=-1;for(var n=0,i=t.count();n<i;n++)r[t.getRawIndex(n)].dataIndex=n},e.prototype.clearLayouts=function(){this.data.clearItemLayouts()},e.createTree=function(t,r,n){var i=new e(r),a=[],s=1;o(t);function o(u,h){var f=u.value;s=Math.max(s,ye(f)?f.length:1),a.push(u);var p=new MDe(_i(u.name,""),i);h?PDe(p,h):i.root=p,i._nodes.push(p);var g=u.children;if(g)for(var v=0;v<g.length;v++)o(g[v],p)}i.root.updateDepthAndHeight(0);var l=Kw(a,{coordDimensions:["value"],dimensionsCount:s}).dimensions,c=new Ha(l,r);return c.initData(a),n&&n(c),wse({mainData:c,struct:i,structAttr:"tree"}),i.update(),i},e}();function PDe(e,t){var r=t.children;e.parentNode!==t&&(r.push(e),e.parentNode=t)}function $b(e,t,r){if(e&&Wt(t,e.type)>=0){var n=r.getData().tree.root,i=e.targetNode;if(We(i)&&(i=n.getNodeById(i)),i&&n.contains(i))return{node:i};var a=e.targetNodeId;if(a!=null&&(i=n.getNodeById(a)))return{node:i}}}function Cse(e){for(var t=[];e;)e=e.parentNode,e&&t.push(e);return t.reverse()}function b$(e,t){var r=Cse(e);return Wt(r,t)>=0}function H2(e,t){for(var r=[];e;){var n=e.dataIndex;r.push({name:e.name,dataIndex:n,value:t.getRawValue(n)}),e=e.parentNode}return r.reverse(),r}var LDe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.hasSymbolVisual=!0,r.ignoreStyleOnData=!0,r}return t.prototype.getInitialData=function(r){var n={name:r.name,children:r.data},i=r.leaves||{},a=new Vr(i,this,this.ecModel),s=_$.createTree(n,this,o);function o(h){h.wrapMethod("getItemModel",function(f,p){var g=s.getNodeByDataIndex(p);return g&&g.children.length&&g.isExpand||(f.parentModel=a),f})}var l=0;s.eachNode("preorder",function(h){h.depth>l&&(l=h.depth)});var c=r.expandAndCollapse,u=c&&r.initialTreeDepth>=0?r.initialTreeDepth:l;return s.root.eachNode("preorder",function(h){var f=h.hostTree.data.getRawDataItem(h.dataIndex);h.isExpand=f&&f.collapsed!=null?!f.collapsed:h.depth<=u}),s.data},t.prototype.getOrient=function(){var r=this.get("orient");return r==="horizontal"?r="LR":r==="vertical"&&(r="TB"),r},t.prototype.setZoom=function(r){this.option.zoom=r},t.prototype.setCenter=function(r){this.option.center=r},t.prototype.formatTooltip=function(r,n,i){for(var a=this.getData().tree,s=a.root.children[0],o=a.getNodeByDataIndex(r),l=o.getValue(),c=o.name;o&&o!==s;)c=o.parentNode.name+"."+c,o=o.parentNode;return Li("nameValue",{name:c,value:l,noValue:isNaN(l)||l==null})},t.prototype.getDataParams=function(r){var n=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(r);return n.treeAncestors=H2(i,this),n.collapsed=!i.isExpand,n},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(_n);function DDe(e,t,r){for(var n=[e],i=[],a;a=n.pop();)if(i.push(a),a.isExpand){var s=a.children;if(s.length)for(var o=0;o<s.length;o++)n.push(s[o])}for(;a=i.pop();)t(a,r)}function rx(e,t){for(var r=[e],n;n=r.pop();)if(t(n),n.isExpand){var i=n.children;if(i.length)for(var a=i.length-1;a>=0;a--)r.push(i[a])}}function ODe(e,t){e.eachSeriesByType("tree",function(r){$De(r,t)})}function $De(e,t){var r=vDe(e,t);e.layoutInfo=r;var n=e.get("layout"),i=0,a=0,s=null;n==="radial"?(i=2*Math.PI,a=Math.min(r.height,r.width)/2,s=CW(function(_,b){return(_.parentNode===b.parentNode?1:2)/_.depth})):(i=r.width,a=r.height,s=CW());var o=e.getData().tree.root,l=o.children[0];if(l){pDe(o),DDe(l,gDe,s),o.hierNode.modifier=-l.hierNode.prelim,rx(l,mDe);var c=l,u=l,h=l;rx(l,function(_){var b=_.getLayout().x;b<c.getLayout().x&&(c=_),b>u.getLayout().x&&(u=_),_.depth>h.depth&&(h=_)});var f=c===u?1:s(c,u)/2,p=f-c.getLayout().x,g=0,v=0,m=0,y=0;if(n==="radial")g=i/(u.getLayout().x+f+p),v=a/(h.depth-1||1),rx(l,function(_){m=(_.getLayout().x+p)*g,y=(_.depth-1)*v;var b=Gx(m,y);_.setLayout({x:b.x,y:b.y,rawX:m,rawY:y},!0)});else{var x=e.getOrient();x==="RL"||x==="LR"?(v=a/(u.getLayout().x+f+p),g=i/(h.depth-1||1),rx(l,function(_){y=(_.getLayout().x+p)*v,m=x==="LR"?(_.depth-1)*g:i-(_.depth-1)*g,_.setLayout({x:m,y},!0)})):(x==="TB"||x==="BT")&&(g=i/(u.getLayout().x+f+p),v=a/(h.depth-1||1),rx(l,function(_){m=(_.getLayout().x+p)*g,y=x==="TB"?(_.depth-1)*v:a-(_.depth-1)*v,_.setLayout({x:m,y},!0)}))}}}function BDe(e){e.eachSeriesByType("tree",function(t){var r=t.getData(),n=r.tree;n.eachNode(function(i){var a=i.getModel(),s=a.getModel("itemStyle").getItemStyle(),o=r.ensureUniqueItemVisual(i.dataIndex,"style");pe(o,s)})})}function FDe(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,r){r.eachComponent({mainType:"series",subType:"tree",query:t},function(n){var i=t.dataIndex,a=n.getData().tree,s=a.getNodeByDataIndex(i);s.isExpand=!s.isExpand})}),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,r,n){r.eachComponent({mainType:"series",subType:"tree",query:t},function(i){var a=i.coordinateSystem,s=y$(a,t,void 0,n);i.setCenter&&i.setCenter(s.center),i.setZoom&&i.setZoom(s.zoom)})})}function zDe(e){e.registerChartView(kDe),e.registerSeriesModel(LDe),e.registerLayout(ODe),e.registerVisual(BDe),FDe(e)}var AW=["treemapZoomToNode","treemapRender","treemapMove"];function UDe(e){for(var t=0;t<AW.length;t++)e.registerAction({type:AW[t],update:"updateView"},ai);e.registerAction({type:"treemapRootToNode",update:"updateView"},function(r,n){n.eachComponent({mainType:"series",subType:"treemap",query:r},i);function i(a,s){var o=["treemapZoomToNode","treemapRootToNode"],l=$b(r,o,a);if(l){var c=a.getViewRoot();c&&(r.direction=b$(c,l.node)?"rollUp":"drillDown"),a.resetViewRoot(l.node)}}})}function kse(e){var t=e.getData(),r=t.tree,n={};r.eachNode(function(i){for(var a=i;a&&a.depth>1;)a=a.parentNode;var s=uD(e.ecModel,a.name||a.dataIndex+"",n);i.setVisual("decal",s)})}var HDe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.preventUsingHoverLayer=!0,r}return t.prototype.getInitialData=function(r,n){var i={name:r.name,children:r.data};Ese(i);var a=r.levels||[],s=this.designatedVisualItemStyle={},o=new Vr({itemStyle:s},this,n);a=r.levels=VDe(a,n);var l=_e(a||[],function(h){return new Vr(h,o,n)},this),c=_$.createTree(i,this,u);function u(h){h.wrapMethod("getItemModel",function(f,p){var g=c.getNodeByDataIndex(p),v=g?l[g.depth]:null;return f.parentModel=v||o,f})}return c.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(r,n,i){var a=this.getData(),s=this.getRawValue(r),o=a.getName(r);return Li("nameValue",{name:o,value:s})},t.prototype.getDataParams=function(r){var n=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(r);return n.treeAncestors=H2(i,this),n.treePathInfo=n.treeAncestors,n},t.prototype.setLayoutInfo=function(r){this.layoutInfo=this.layoutInfo||{},pe(this.layoutInfo,r)},t.prototype.mapIdToIndex=function(r){var n=this._idIndexMap;n||(n=this._idIndexMap=Qe(),this._idIndexMapCount=0);var i=n.get(r);return i==null&&n.set(r,i=this._idIndexMapCount++),i},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var n=this.getRawData().tree.root;(!r||r!==n&&!n.contains(r))&&(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){kse(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(_n);function Ese(e){var t=0;V(e.children,function(n){Ese(n);var i=n.value;ye(i)&&(i=i[0]),t+=i});var r=e.value;ye(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=t),r<0&&(r=0),ye(e.value)?e.value[0]=r:e.value=r}function VDe(e,t){var r=sn(t.get("color")),n=sn(t.get(["aria","decal","decals"]));if(r){e=e||[];var i,a;V(e,function(o){var l=new Vr(o),c=l.get("color"),u=l.get("decal");(l.get(["itemStyle","color"])||c&&c!=="none")&&(i=!0),(l.get(["itemStyle","decal"])||u&&u!=="none")&&(a=!0)});var s=e[0]||(e[0]={});return i||(s.color=r.slice()),!a&&n&&(s.decal=n.slice()),e}}var WDe=8,jW=8,eI=5,GDe=function(){function e(t){this.group=new _t,t.add(this.group)}return e.prototype.render=function(t,r,n,i){var a=t.getModel("breadcrumb"),s=this.group;if(s.removeAll(),!(!a.get("show")||!n)){var o=a.getModel("itemStyle"),l=a.getModel("emphasis"),c=o.getModel("textStyle"),u=l.getModel(["itemStyle","textStyle"]),h={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:r.getWidth(),height:r.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,h,c),this._renderContent(t,h,o,l,c,u,i),j2(s,h.pos,h.box)}},e.prototype._prepare=function(t,r,n){for(var i=t;i;i=i.parentNode){var a=_i(i.getModel().get("name"),""),s=n.getTextRect(a),o=Math.max(s.width+WDe*2,r.emptyItemWidth);r.totalWidth+=o+jW,r.renderList.push({node:i,text:a,width:o})}},e.prototype._renderContent=function(t,r,n,i,a,s,o){for(var l=0,c=r.emptyItemWidth,u=t.get(["breadcrumb","height"]),h=tAe(r.pos,r.box),f=r.totalWidth,p=r.renderList,g=i.getModel("itemStyle").getItemStyle(),v=p.length-1;v>=0;v--){var m=p[v],y=m.node,x=m.width,_=m.text;f>h.width&&(f-=x-c,x=c,_=null);var b=new Ya({shape:{points:qDe(l,0,x,u,v===p.length-1,v===0)},style:ut(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new kr({style:yn(a,{text:_})}),textConfig:{position:"inside"},z2:m0*1e4,onclick:At(o,y)});b.disableLabelAnimation=!0,b.getTextContent().ensureState("emphasis").style=yn(s,{text:_}),b.ensureState("emphasis").style=g,Wn(b,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(b),YDe(b,t,y),l+=x+jW}},e.prototype.remove=function(){this.group.removeAll()},e}();function qDe(e,t,r,n,i,a){var s=[[i?e:e-eI,t],[e+r,t],[e+r,t+n],[i?e:e-eI,t+n]];return!a&&s.splice(2,0,[e+r+eI,t+n/2]),!i&&s.push([e,t+n/2]),s}function YDe(e,t,r){wt(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&H2(r,t)}}var KDe=function(){function e(){this._storage=[],this._elExistsMap={}}return e.prototype.add=function(t,r,n,i,a){return this._elExistsMap[t.id]?!1:(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:r,duration:n,delay:i,easing:a}),!0)},e.prototype.finished=function(t){return this._finishedCallback=t,this},e.prototype.start=function(){for(var t=this,r=this._storage.length,n=function(){r--,r<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,a=this._storage.length;i<a;i++){var s=this._storage[i];s.el.animateTo(s.target,{duration:s.duration,delay:s.delay,easing:s.easing,setToFinal:!0,done:n,aborted:n})}return this},e}();function XDe(){return new KDe}var OD=_t,RW=xr,IW=3,MW="label",PW="upperLabel",ZDe=m0*10,JDe=m0*2,QDe=m0*3,Tf=jp([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),LW=function(e){var t=Tf(e);return t.stroke=t.fill=t.lineWidth=null,t},ST=_r(),eOe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._state="ready",r._storage=nx(),r}return t.prototype.render=function(r,n,i,a){var s=n.findComponents({mainType:"series",subType:"treemap",query:a});if(!(Wt(s,r)<0)){this.seriesModel=r,this.api=i,this.ecModel=n;var o=["treemapZoomToNode","treemapRootToNode"],l=$b(a,o,r),c=a&&a.type,u=r.layoutInfo,h=!this._oldTree,f=this._storage,p=c==="treemapRootToNode"&&l&&f?{rootNodeGroup:f.nodeGroup[l.node.getRawIndex()],direction:a.direction}:null,g=this._giveContainerGroup(u),v=r.get("animation"),m=this._doRender(g,r,p);v&&!h&&(!c||c==="treemapZoomToNode"||c==="treemapRootToNode")?this._doAnimation(g,m,r,p):m.renderFinally(),this._resetController(i),this._renderBreadcrumb(r,i,l)}},t.prototype._giveContainerGroup=function(r){var n=this._containerGroup;return n||(n=this._containerGroup=new OD,this._initEvents(n),this.group.add(n)),n.x=r.x,n.y=r.y,n},t.prototype._doRender=function(r,n,i){var a=n.getData().tree,s=this._oldTree,o=nx(),l=nx(),c=this._storage,u=[];function h(x,_,b,w){return tOe(n,l,c,i,o,u,x,_,b,w)}v(a.root?[a.root]:[],s&&s.root?[s.root]:[],r,a===s||!s,0);var f=m(c);if(this._oldTree=a,this._storage=l,this._controllerHost){var p=this.seriesModel.layoutInfo,g=a.root.getLayout();g.width===p.width&&g.height===p.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:o,willDeleteEls:f,renderFinally:y};function v(x,_,b,w,S){w?(_=x,V(x,function(E,T){!E.isRemoved()&&C(T,T)})):new Nu(_,x,k,k).add(C).update(C).remove(At(C,null)).execute();function k(E){return E.getId()}function C(E,T){var N=E!=null?x[E]:null,I=T!=null?_[T]:null,P=h(N,I,b,S);P&&v(N&&N.viewChildren||[],I&&I.viewChildren||[],P,w,S+1)}}function m(x){var _=nx();return x&&V(x,function(b,w){var S=_[w];V(b,function(k){k&&(S.push(k),ST(k).willDelete=!0)})}),_}function y(){V(f,function(x){V(x,function(_){_.parent&&_.parent.remove(_)})}),V(u,function(x){x.invisible=!0,x.dirty()})}},t.prototype._doAnimation=function(r,n,i,a){var s=i.get("animationDurationUpdate"),o=i.get("animationEasing"),l=(lt(s)?0:s)||0,c=(lt(o)?null:o)||"cubicOut",u=XDe();V(n.willDeleteEls,function(h,f){V(h,function(p,g){if(!p.invisible){var v=p.parent,m,y=ST(v);if(a&&a.direction==="drillDown")m=v===a.rootNodeGroup?{shape:{x:0,y:0,width:y.nodeWidth,height:y.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var x=0,_=0;y.willDelete||(x=y.nodeWidth/2,_=y.nodeHeight/2),m=f==="nodeGroup"?{x,y:_,style:{opacity:0}}:{shape:{x,y:_,width:0,height:0},style:{opacity:0}}}m&&u.add(p,m,l,0,c)}})}),V(this._storage,function(h,f){V(h,function(p,g){var v=n.lastsForAnimation[f][g],m={};v&&(p instanceof _t?v.oldX!=null&&(m.x=p.x,m.y=p.y,p.x=v.oldX,p.y=v.oldY):(v.oldShape&&(m.shape=pe({},p.shape),p.setShape(v.oldShape)),v.fadein?(p.setStyle("opacity",0),m.style={opacity:1}):p.style.opacity!==1&&(m.style={opacity:1})),u.add(p,m,l,0,c))})},this),this._state="animating",u.finished(Ke(function(){this._state="ready",n.renderFinally()},this)).start()},t.prototype._resetController=function(r){var n=this._controller,i=this._controllerHost;i||(this._controllerHost={target:this.group},i=this._controllerHost),n||(n=this._controller=new n1(r.getZr()),n.enable(this.seriesModel.get("roam")),i.zoomLimit=this.seriesModel.get("scaleLimit"),i.zoom=this.seriesModel.get("zoom"),n.on("pan",Ke(this._onPan,this)),n.on("zoom",Ke(this._onZoom,this)));var a=new Bt(0,0,r.getWidth(),r.getHeight());n.setPointerChecker(function(s,o,l){return a.contain(o,l)})},t.prototype._clearController=function(){var r=this._controller;this._controllerHost=null,r&&(r.dispose(),r=null)},t.prototype._onPan=function(r){if(this._state!=="animating"&&(Math.abs(r.dx)>IW||Math.abs(r.dy)>IW)){var n=this.seriesModel.getData().tree.root;if(!n)return;var i=n.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+r.dx,y:i.y+r.dy,width:i.width,height:i.height}})}},t.prototype._onZoom=function(r){var n=r.originX,i=r.originY,a=r.scale;if(this._state!=="animating"){var s=this.seriesModel.getData().tree.root;if(!s)return;var o=s.getLayout();if(!o)return;var l=new Bt(o.x,o.y,o.width,o.height),c=null,u=this._controllerHost;c=u.zoomLimit;var h=u.zoom=u.zoom||1;if(h*=a,c){var f=c.min||0,p=c.max||1/0;h=Math.max(Math.min(p,h),f)}var g=h/u.zoom;u.zoom=h;var v=this.seriesModel.layoutInfo;n-=v.x,i-=v.y;var m=$s();xc(m,m,[-n,-i]),d4(m,m,[g,g]),xc(m,m,[n,i]),l.applyTransform(m),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},t.prototype._initEvents=function(r){var n=this;r.on("click",function(i){if(n._state==="ready"){var a=n.seriesModel.get("nodeClick",!0);if(a){var s=n.findTarget(i.offsetX,i.offsetY);if(s){var o=s.node;if(o.getLayout().isLeafRoot)n._rootToNode(s);else if(a==="zoomToNode")n._zoomToNode(s);else if(a==="link"){var l=o.hostTree.data.getItemModel(o.dataIndex),c=l.get("link",!0),u=l.get("target",!0)||"blank";c&&oT(c,u)}}}}},this)},t.prototype._renderBreadcrumb=function(r,n,i){var a=this;i||(i=r.get("leafDepth",!0)!=null?{node:r.getViewRoot()}:this.findTarget(n.getWidth()/2,n.getHeight()/2),i||(i={node:r.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new GDe(this.group))).render(r,n,i.node,function(s){a._state!=="animating"&&(b$(r.getViewRoot(),s)?a._rootToNode({node:s}):a._zoomToNode({node:s}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=nx(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(r){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},t.prototype._rootToNode=function(r){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},t.prototype.findTarget=function(r,n){var i,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(s){var o=this._storage.background[s.getRawIndex()];if(o){var l=o.transformCoordToLocal(r,n),c=o.shape;if(c.x<=l[0]&&l[0]<=c.x+c.width&&c.y<=l[1]&&l[1]<=c.y+c.height)i={node:s,offsetX:l[0],offsetY:l[1]};else return!1}},this),i},t.type="treemap",t}(dn);function nx(){return{nodeGroup:[],background:[],content:[]}}function tOe(e,t,r,n,i,a,s,o,l,c){if(!s)return;var u=s.getLayout(),h=e.getData(),f=s.getModel();if(h.setItemGraphicEl(s.dataIndex,null),!u||!u.isInView)return;var p=u.width,g=u.height,v=u.borderWidth,m=u.invisible,y=s.getRawIndex(),x=o&&o.getRawIndex(),_=s.viewChildren,b=u.upperHeight,w=_&&_.length,S=f.getModel("itemStyle"),k=f.getModel(["emphasis","itemStyle"]),C=f.getModel(["blur","itemStyle"]),E=f.getModel(["select","itemStyle"]),T=S.get("borderRadius")||0,N=q("nodeGroup",OD);if(!N)return;if(l.add(N),N.x=u.x||0,N.y=u.y||0,N.markRedraw(),ST(N).nodeWidth=p,ST(N).nodeHeight=g,u.isAboveViewRoot)return N;var I=q("background",RW,c,JDe);I&&R(N,I,w&&u.upperLabelHeight);var P=f.getModel("emphasis"),D=P.get("focus"),$=P.get("blurScope"),L=P.get("disabled"),O=D==="ancestor"?s.getAncestorsIndices():D==="descendant"?s.getDescendantIndices():D;if(w)kb(N)&&qf(N,!1),I&&(qf(I,!L),h.setItemGraphicEl(s.dataIndex,I),rD(I,O,$));else{var j=q("content",RW,c,QDe);j&&z(N,j),I.disableMorphing=!0,I&&kb(I)&&qf(I,!1),qf(N,!L),h.setItemGraphicEl(s.dataIndex,N);var M=f.getShallow("cursor");M&&j.attr("cursor",M),rD(N,O,$)}return N;function R(W,Y,Z){var Q=wt(Y);if(Q.dataIndex=s.dataIndex,Q.seriesIndex=e.seriesIndex,Y.setShape({x:0,y:0,width:p,height:g,r:T}),m)U(Y);else{Y.invisible=!1;var re=s.getVisual("style"),me=re.stroke,Ee=LW(S);Ee.fill=me;var Ne=Tf(k);Ne.fill=k.get("borderColor");var Me=Tf(C);Me.fill=C.get("borderColor");var Ae=Tf(E);if(Ae.fill=E.get("borderColor"),Z){var Ie=p-2*v;F(Y,me,re.opacity,{x:v,y:0,width:Ie,height:b})}else Y.removeTextContent();Y.setStyle(Ee),Y.ensureState("emphasis").style=Ne,Y.ensureState("blur").style=Me,Y.ensureState("select").style=Ae,Rp(Y)}W.add(Y)}function z(W,Y){var Z=wt(Y);Z.dataIndex=s.dataIndex,Z.seriesIndex=e.seriesIndex;var Q=Math.max(p-2*v,0),re=Math.max(g-2*v,0);if(Y.culling=!0,Y.setShape({x:v,y:v,width:Q,height:re,r:T}),m)U(Y);else{Y.invisible=!1;var me=s.getVisual("style"),Ee=me.fill,Ne=LW(S);Ne.fill=Ee,Ne.decal=me.decal;var Me=Tf(k),Ae=Tf(C),Ie=Tf(E);F(Y,Ee,me.opacity,null),Y.setStyle(Ne),Y.ensureState("emphasis").style=Me,Y.ensureState("blur").style=Ae,Y.ensureState("select").style=Ie,Rp(Y)}W.add(Y)}function U(W){!W.invisible&&a.push(W)}function F(W,Y,Z,Q){var re=f.getModel(Q?PW:MW),me=_i(f.get("name"),null),Ee=re.getShallow("show");ra(W,Pi(f,Q?PW:MW),{defaultText:Ee?me:null,inheritColor:Y,defaultOpacity:Z,labelFetcher:e,labelDataIndex:s.dataIndex});var Ne=W.getTextContent();if(Ne){var Me=Ne.style,Ae=l4(Me.padding||0);Q&&(W.setTextConfig({layoutRect:Q}),Ne.disableLabelLayout=!0),Ne.beforeUpdate=function(){var bt=Math.max((Q?Q.width:W.shape.width)-Ae[1]-Ae[3],0),pt=Math.max((Q?Q.height:W.shape.height)-Ae[0]-Ae[2],0);(Me.width!==bt||Me.height!==pt)&&Ne.setStyle({width:bt,height:pt})},Me.truncateMinChar=2,Me.lineOverflow="truncate",G(Me,Q,u);var Ie=Ne.getState("emphasis");G(Ie?Ie.style:null,Q,u)}}function G(W,Y,Z){var Q=W?W.text:null;if(!Y&&Z.isLeafRoot&&Q!=null){var re=e.get("drillDownIcon",!0);W.text=re?re+" "+Q:Q}}function q(W,Y,Z,Q){var re=x!=null&&r[W][x],me=i[W];return re?(r[W][x]=null,K(me,re)):m||(re=new Y,re instanceof Mo&&(re.z2=rOe(Z,Q)),B(me,re)),t[W][y]=re}function K(W,Y){var Z=W[y]={};Y instanceof OD?(Z.oldX=Y.x,Z.oldY=Y.y):Z.oldShape=pe({},Y.shape)}function B(W,Y){var Z=W[y]={},Q=s.parentNode,re=Y instanceof _t;if(Q&&(!n||n.direction==="drillDown")){var me=0,Ee=0,Ne=i.background[Q.getRawIndex()];!n&&Ne&&Ne.oldShape&&(me=Ne.oldShape.width,Ee=Ne.oldShape.height),re?(Z.oldX=0,Z.oldY=Ee):Z.oldShape={x:me,y:Ee,width:0,height:0}}Z.fadein=!re}}function rOe(e,t){return e*ZDe+t}var Bb=V,nOe=ft,CT=-1,Mi=function(){function e(t){var r=t.mappingMethod,n=t.type,i=this.option=vt(t);this.type=n,this.mappingMethod=r,this._normalizeData=sOe[r];var a=e.visualHandlers[n];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[r],r==="piecewise"?(tI(i),iOe(i)):r==="category"?i.categories?aOe(i):tI(i,!0):(Wa(r!=="linear"||i.dataExtent),tI(i))}return e.prototype.mapValueToVisual=function(t){var r=this._normalizeData(t);return this._normalizedToVisual(r,t)},e.prototype.getNormalizer=function(){return Ke(this._normalizeData,this)},e.listVisualTypes=function(){return ar(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(t,r,n){ft(t)?V(t,r,n):r.call(n,t)},e.mapVisual=function(t,r,n){var i,a=ye(t)?[]:ft(t)?{}:(i=!0,null);return e.eachVisual(t,function(s,o){var l=r.call(n,s,o);i?a=l:a[o]=l}),a},e.retrieveVisuals=function(t){var r={},n;return t&&Bb(e.visualHandlers,function(i,a){t.hasOwnProperty(a)&&(r[a]=t[a],n=!0)}),n?r:null},e.prepareVisualTypes=function(t){if(ye(t))t=t.slice();else if(nOe(t)){var r=[];Bb(t,function(n,i){r.push(i)}),t=r}else return[];return t.sort(function(n,i){return i==="color"&&n!=="color"&&n.indexOf("color")===0?1:-1}),t},e.dependsOn=function(t,r){return r==="color"?!!(t&&t.indexOf(r)===0):t===r},e.findPieceIndex=function(t,r,n){for(var i,a=1/0,s=0,o=r.length;s<o;s++){var l=r[s].value;if(l!=null){if(l===t||We(l)&&l===t+"")return s;n&&f(l,s)}}for(var s=0,o=r.length;s<o;s++){var c=r[s],u=c.interval,h=c.close;if(u){if(u[0]===-1/0){if(pC(h[1],t,u[1]))return s}else if(u[1]===1/0){if(pC(h[0],u[0],t))return s}else if(pC(h[0],u[0],t)&&pC(h[1],t,u[1]))return s;n&&f(u[0],s),n&&f(u[1],s)}}if(n)return t===1/0?r.length-1:t===-1/0?0:i;function f(p,g){var v=Math.abs(p-t);v<a&&(a=v,i=g)}},e.visualHandlers={color:{applyVisual:ix("color"),getColorMapper:function(){var t=this.option;return Ke(t.mappingMethod==="category"?function(r,n){return!n&&(r=this._normalizeData(r)),qx.call(this,r)}:function(r,n,i){var a=!!i;return!n&&(r=this._normalizeData(r)),i=Lj(r,t.parsedVisual,i),a?i:pu(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return pu(Lj(t,this.option.parsedVisual),"rgba")},category:qx,piecewise:function(t,r){var n=BD.call(this,r);return n==null&&(n=pu(Lj(t,this.option.parsedVisual),"rgba")),n},fixed:Nf}},colorHue:fC(function(t,r){return y_(t,r)}),colorSaturation:fC(function(t,r){return y_(t,null,r)}),colorLightness:fC(function(t,r){return y_(t,null,null,r)}),colorAlpha:fC(function(t,r){return KE(t,r)}),decal:{applyVisual:ix("decal"),_normalizedToVisual:{linear:null,category:qx,piecewise:null,fixed:null}},opacity:{applyVisual:ix("opacity"),_normalizedToVisual:$D([0,1])},liftZ:{applyVisual:ix("liftZ"),_normalizedToVisual:{linear:Nf,category:Nf,piecewise:Nf,fixed:Nf}},symbol:{applyVisual:function(t,r,n){var i=this.mapValueToVisual(t);n("symbol",i)},_normalizedToVisual:{linear:DW,category:qx,piecewise:function(t,r){var n=BD.call(this,r);return n==null&&(n=DW.call(this,t)),n},fixed:Nf}},symbolSize:{applyVisual:ix("symbolSize"),_normalizedToVisual:$D([0,1])}},e}();function iOe(e){var t=e.pieceList;e.hasSpecialVisual=!1,V(t,function(r,n){r.originIndex=n,r.visual!=null&&(e.hasSpecialVisual=!0)})}function aOe(e){var t=e.categories,r=e.categoryMap={},n=e.visual;if(Bb(t,function(s,o){r[s]=o}),!ye(n)){var i=[];ft(n)?Bb(n,function(s,o){var l=r[o];i[l??CT]=s}):i[CT]=n,n=Tse(e,i)}for(var a=t.length-1;a>=0;a--)n[a]==null&&(delete r[t[a]],t.pop())}function tI(e,t){var r=e.visual,n=[];ft(r)?Bb(r,function(a){n.push(a)}):r!=null&&n.push(r);var i={color:1,symbol:1};!t&&n.length===1&&!i.hasOwnProperty(e.type)&&(n[1]=n[0]),Tse(e,n)}function fC(e){return{applyVisual:function(t,r,n){var i=this.mapValueToVisual(t);n("color",e(r("color"),i))},_normalizedToVisual:$D([0,1])}}function DW(e){var t=this.option.visual;return t[Math.round(Hr(e,[0,1],[0,t.length-1],!0))]||{}}function ix(e){return function(t,r,n){n(e,this.mapValueToVisual(t))}}function qx(e){var t=this.option.visual;return t[this.option.loop&&e!==CT?e%t.length:e]}function Nf(){return this.option.visual[0]}function $D(e){return{linear:function(t){return Hr(t,e,this.option.visual,!0)},category:qx,piecewise:function(t,r){var n=BD.call(this,r);return n==null&&(n=Hr(t,e,this.option.visual,!0)),n},fixed:Nf}}function BD(e){var t=this.option,r=t.pieceList;if(t.hasSpecialVisual){var n=Mi.findPieceIndex(e,r),i=r[n];if(i&&i.visual)return i.visual[this.type]}}function Tse(e,t){return e.visual=t,e.type==="color"&&(e.parsedVisual=_e(t,function(r){var n=Bs(r);return n||[0,0,0,1]})),t}var sOe={linear:function(e){return Hr(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,r=Mi.findPieceIndex(e,t,!0);if(r!=null)return Hr(r,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return t??CT},fixed:ai};function pC(e,t,r){return e?t<=r:t<r}var oOe="itemStyle",Nse=_r();const lOe={seriesType:"treemap",reset:function(e){var t=e.getData().tree,r=t.root;r.isRemoved()||Ase(r,{},e.getViewRoot().getAncestors(),e)}};function Ase(e,t,r,n){var i=e.getModel(),a=e.getLayout(),s=e.hostTree.data;if(!(!a||a.invisible||!a.isInView)){var o=i.getModel(oOe),l=cOe(o,t,n),c=s.ensureUniqueItemVisual(e.dataIndex,"style"),u=o.get("borderColor"),h=o.get("borderColorSaturation"),f;h!=null&&(f=OW(l),u=uOe(h,f)),c.stroke=u;var p=e.viewChildren;if(!p||!p.length)f=OW(l),c.fill=f;else{var g=dOe(e,i,a,o,l,p);V(p,function(v,m){if(v.depth>=r.length||v===r[v.depth]){var y=hOe(i,l,v,m,g,n);Ase(v,y,r,n)}})}}}function cOe(e,t,r){var n=pe({},t),i=r.designatedVisualItemStyle;return V(["color","colorAlpha","colorSaturation"],function(a){i[a]=t[a];var s=e.get(a);i[a]=null,s!=null&&(n[a]=s)}),n}function OW(e){var t=rI(e,"color");if(t){var r=rI(e,"colorAlpha"),n=rI(e,"colorSaturation");return n&&(t=y_(t,null,null,n)),r&&(t=KE(t,r)),t}}function uOe(e,t){return t!=null?y_(t,null,null,e):null}function rI(e,t){var r=e[t];if(r!=null&&r!=="none")return r}function dOe(e,t,r,n,i,a){if(!(!a||!a.length)){var s=nI(t,"color")||i.color!=null&&i.color!=="none"&&(nI(t,"colorAlpha")||nI(t,"colorSaturation"));if(s){var o=t.get("visualMin"),l=t.get("visualMax"),c=r.dataExtent.slice();o!=null&&o<c[0]&&(c[0]=o),l!=null&&l>c[1]&&(c[1]=l);var u=t.get("colorMappingBy"),h={type:s.name,dataExtent:c,visual:s.range};h.type==="color"&&(u==="index"||u==="id")?(h.mappingMethod="category",h.loop=!0):h.mappingMethod="linear";var f=new Mi(h);return Nse(f).drColorMappingBy=u,f}}}function nI(e,t){var r=e.get(t);return ye(r)&&r.length?{name:t,range:r}:null}function hOe(e,t,r,n,i,a){var s=pe({},t);if(i){var o=i.type,l=o==="color"&&Nse(i).drColorMappingBy,c=l==="index"?n:l==="id"?a.mapIdToIndex(r.getId()):r.getValue(e.get("visualDimension"));s[o]=i.mapValueToVisual(c)}return s}var Fb=Math.max,kT=Math.min,$W=Ui,w$=V,jse=["itemStyle","borderWidth"],fOe=["itemStyle","gapWidth"],pOe=["upperLabel","show"],gOe=["upperLabel","height"];const mOe={seriesType:"treemap",reset:function(e,t,r,n){var i=r.getWidth(),a=r.getHeight(),s=e.option,o=Si(e.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),l=s.size||[],c=Le($W(o.width,l[0]),i),u=Le($W(o.height,l[1]),a),h=n&&n.type,f=["treemapZoomToNode","treemapRootToNode"],p=$b(n,f,e),g=h==="treemapRender"||h==="treemapMove"?n.rootRect:null,v=e.getViewRoot(),m=Cse(v);if(h!=="treemapMove"){var y=h==="treemapZoomToNode"?wOe(e,p,v,c,u):g?[g.width,g.height]:[c,u],x=s.sort;x&&x!=="asc"&&x!=="desc"&&(x="desc");var _={squareRatio:s.squareRatio,sort:x,leafDepth:s.leafDepth};v.hostTree.clearLayouts();var b={x:0,y:0,width:y[0],height:y[1],area:y[0]*y[1]};v.setLayout(b),Rse(v,_,!1,0),b=v.getLayout(),w$(m,function(S,k){var C=(m[k+1]||v).getValue();S.setLayout(pe({dataExtent:[C,C],borderWidth:0,upperHeight:0},b))})}var w=e.getData().tree.root;w.setLayout(SOe(o,g,p),!0),e.setLayoutInfo(o),Ise(w,new Bt(-o.x,-o.y,i,a),m,v,0)}};function Rse(e,t,r,n){var i,a;if(!e.isRemoved()){var s=e.getLayout();i=s.width,a=s.height;var o=e.getModel(),l=o.get(jse),c=o.get(fOe)/2,u=Mse(o),h=Math.max(l,u),f=l-c,p=h-c;e.setLayout({borderWidth:l,upperHeight:h,upperLabelHeight:u},!0),i=Fb(i-2*f,0),a=Fb(a-f-p,0);var g=i*a,v=vOe(e,o,g,t,r,n);if(v.length){var m={x:f,y:p,width:i,height:a},y=kT(i,a),x=1/0,_=[];_.area=0;for(var b=0,w=v.length;b<w;){var S=v[b];_.push(S),_.area+=S.getLayout().area;var k=bOe(_,y,t.squareRatio);k<=x?(b++,x=k):(_.area-=_.pop().getLayout().area,BW(_,y,m,c,!1),y=kT(m.width,m.height),_.length=_.area=0,x=1/0)}if(_.length&&BW(_,y,m,c,!0),!r){var C=o.get("childrenVisibleMin");C!=null&&g<C&&(r=!0)}for(var b=0,w=v.length;b<w;b++)Rse(v[b],t,r,n+1)}}}function vOe(e,t,r,n,i,a){var s=e.children||[],o=n.sort;o!=="asc"&&o!=="desc"&&(o=null);var l=n.leafDepth!=null&&n.leafDepth<=a;if(i&&!l)return e.viewChildren=[];s=Br(s,function(p){return!p.isRemoved()}),xOe(s,o);var c=_Oe(t,s,o);if(c.sum===0)return e.viewChildren=[];if(c.sum=yOe(t,r,c.sum,o,s),c.sum===0)return e.viewChildren=[];for(var u=0,h=s.length;u<h;u++){var f=s[u].getValue()/c.sum*r;s[u].setLayout({area:f})}return l&&(s.length&&e.setLayout({isLeafRoot:!0},!0),s.length=0),e.viewChildren=s,e.setLayout({dataExtent:c.dataExtent},!0),s}function yOe(e,t,r,n,i){if(!n)return r;for(var a=e.get("visibleMin"),s=i.length,o=s,l=s-1;l>=0;l--){var c=i[n==="asc"?s-l-1:l].getValue();c/r*t<a&&(o=l,r-=c)}return n==="asc"?i.splice(0,s-o):i.splice(o,s-o),r}function xOe(e,t){return t&&e.sort(function(r,n){var i=t==="asc"?r.getValue()-n.getValue():n.getValue()-r.getValue();return i===0?t==="asc"?r.dataIndex-n.dataIndex:n.dataIndex-r.dataIndex:i}),e}function _Oe(e,t,r){for(var n=0,i=0,a=t.length;i<a;i++)n+=t[i].getValue();var s=e.get("visualDimension"),o;return!t||!t.length?o=[NaN,NaN]:s==="value"&&r?(o=[t[t.length-1].getValue(),t[0].getValue()],r==="asc"&&o.reverse()):(o=[1/0,-1/0],w$(t,function(l){var c=l.getValue(s);c<o[0]&&(o[0]=c),c>o[1]&&(o[1]=c)})),{sum:n,dataExtent:o}}function bOe(e,t,r){for(var n=0,i=1/0,a=0,s=void 0,o=e.length;a<o;a++)s=e[a].getLayout().area,s&&(s<i&&(i=s),s>n&&(n=s));var l=e.area*e.area,c=t*t*r;return l?Fb(c*n/l,l/(c*i)):1/0}function BW(e,t,r,n,i){var a=t===r.width?0:1,s=1-a,o=["x","y"],l=["width","height"],c=r[o[a]],u=t?e.area/t:0;(i||u>r[l[s]])&&(u=r[l[s]]);for(var h=0,f=e.length;h<f;h++){var p=e[h],g={},v=u?p.getLayout().area/u:0,m=g[l[s]]=Fb(u-2*n,0),y=r[o[a]]+r[l[a]]-c,x=h===f-1||y<v?y:v,_=g[l[a]]=Fb(x-2*n,0);g[o[s]]=r[o[s]]+kT(n,m/2),g[o[a]]=c+kT(n,_/2),c+=x,p.setLayout(g,!0)}r[o[s]]+=u,r[l[s]]-=u}function wOe(e,t,r,n,i){var a=(t||{}).node,s=[n,i];if(!a||a===r)return s;for(var o,l=n*i,c=l*e.option.zoomToNodeRatio;o=a.parentNode;){for(var u=0,h=o.children,f=0,p=h.length;f<p;f++)u+=h[f].getValue();var g=a.getValue();if(g===0)return s;c*=u/g;var v=o.getModel(),m=v.get(jse),y=Math.max(m,Mse(v));c+=4*m*m+(3*m+y)*Math.pow(c,.5),c>ZU&&(c=ZU),a=o}c<l&&(c=l);var x=Math.pow(c/l,.5);return[n*x,i*x]}function SOe(e,t,r){if(t)return{x:t.x,y:t.y};var n={x:0,y:0};if(!r)return n;var i=r.node,a=i.getLayout();if(!a)return n;for(var s=[a.width/2,a.height/2],o=i;o;){var l=o.getLayout();s[0]+=l.x,s[1]+=l.y,o=o.parentNode}return{x:e.width/2-s[0],y:e.height/2-s[1]}}function Ise(e,t,r,n,i){var a=e.getLayout(),s=r[i],o=s&&s===e;if(!(s&&!o||i===r.length&&e!==n)){e.setLayout({isInView:!0,invisible:!o&&!t.intersect(a),isAboveViewRoot:o},!0);var l=new Bt(t.x-a.x,t.y-a.y,t.width,t.height);w$(e.viewChildren||[],function(c){Ise(c,l,r,n,i+1)})}}function Mse(e){return e.get(pOe)?e.get(gOe):0}function COe(e){e.registerSeriesModel(HDe),e.registerChartView(eOe),e.registerVisual(lOe),e.registerLayout(mOe),UDe(e)}function kOe(e){var t=e.findComponents({mainType:"legend"});!t||!t.length||e.eachSeriesByType("graph",function(r){var n=r.getCategoriesData(),i=r.getGraph(),a=i.data,s=n.mapArray(n.getName);a.filterSelf(function(o){var l=a.getItemModel(o),c=l.getShallow("category");if(c!=null){Nr(c)&&(c=s[c]);for(var u=0;u<t.length;u++)if(!t[u].isSelected(c))return!1}return!0})})}function EOe(e){var t={};e.eachSeriesByType("graph",function(r){var n=r.getCategoriesData(),i=r.getData(),a={};n.each(function(s){var o=n.getName(s);a["ec-"+o]=s;var l=n.getItemModel(s),c=l.getModel("itemStyle").getItemStyle();c.fill||(c.fill=r.getColorFromPalette(o,t)),n.setItemVisual(s,"style",c);for(var u=["symbol","symbolSize","symbolKeepAspect"],h=0;h<u.length;h++){var f=l.getShallow(u[h],!0);f!=null&&n.setItemVisual(s,u[h],f)}}),n.count()&&i.each(function(s){var o=i.getItemModel(s),l=o.getShallow("category");if(l!=null){We(l)&&(l=a["ec-"+l]);var c=n.getItemVisual(l,"style"),u=i.ensureUniqueItemVisual(s,"style");pe(u,c);for(var h=["symbol","symbolSize","symbolKeepAspect"],f=0;f<h.length;f++)i.setItemVisual(s,h[f],n.getItemVisual(l,h[f]))}})})}function gC(e){return e instanceof Array||(e=[e,e]),e}function TOe(e){e.eachSeriesByType("graph",function(t){var r=t.getGraph(),n=t.getEdgeData(),i=gC(t.get("edgeSymbol")),a=gC(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",a&&a[0]),n.setVisual("toSymbolSize",a&&a[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each(function(s){var o=n.getItemModel(s),l=r.getEdgeByIndex(s),c=gC(o.getShallow("symbol",!0)),u=gC(o.getShallow("symbolSize",!0)),h=o.getModel("lineStyle").getLineStyle(),f=n.ensureUniqueItemVisual(s,"style");switch(pe(f,h),f.stroke){case"source":{var p=l.node1.getVisual("style");f.stroke=p&&p.fill;break}case"target":{var p=l.node2.getVisual("style");f.stroke=p&&p.fill;break}}c[0]&&l.setVisual("fromSymbol",c[0]),c[1]&&l.setVisual("toSymbol",c[1]),u[0]&&l.setVisual("fromSymbolSize",u[0]),u[1]&&l.setVisual("toSymbolSize",u[1])})})}var FD="-->",V2=function(e){return e.get("autoCurveness")||null},Pse=function(e,t){var r=V2(e),n=20,i=[];if(Nr(r))n=r;else if(ye(r)){e.__curvenessList=r;return}t>n&&(n=t);var a=n%2?n+2:n+3;i=[];for(var s=0;s<a;s++)i.push((s%2?s+1:s)/10*(s%2?-1:1));e.__curvenessList=i},zb=function(e,t,r){var n=[e.id,e.dataIndex].join("."),i=[t.id,t.dataIndex].join(".");return[r.uid,n,i].join(FD)},Lse=function(e){var t=e.split(FD);return[t[0],t[2],t[1]].join(FD)},NOe=function(e,t){var r=zb(e.node1,e.node2,t);return t.__edgeMap[r]},AOe=function(e,t){var r=zD(zb(e.node1,e.node2,t),t),n=zD(zb(e.node2,e.node1,t),t);return r+n},zD=function(e,t){var r=t.__edgeMap;return r[e]?r[e].length:0};function jOe(e){V2(e)&&(e.__curvenessList=[],e.__edgeMap={},Pse(e))}function ROe(e,t,r,n){if(V2(r)){var i=zb(e,t,r),a=r.__edgeMap,s=a[Lse(i)];a[i]&&!s?a[i].isForward=!0:s&&a[i]&&(s.isForward=!0,a[i].isForward=!1),a[i]=a[i]||[],a[i].push(n)}}function S$(e,t,r,n){var i=V2(t),a=ye(i);if(!i)return null;var s=NOe(e,t);if(!s)return null;for(var o=-1,l=0;l<s.length;l++)if(s[l]===r){o=l;break}var c=AOe(e,t);Pse(t,c),e.lineStyle=e.lineStyle||{};var u=zb(e.node1,e.node2,t),h=t.__curvenessList,f=a||c%2?0:1;if(s.isForward)return h[f+o];var p=Lse(u),g=zD(p,t),v=h[o+g+f];return n?a?i&&i[0]===0?(g+f)%2?v:-v:((g%2?0:1)+f)%2?v:-v:(g+f)%2?v:-v:h[o+g+f]}function Dse(e){var t=e.coordinateSystem;if(!(t&&t.type!=="view")){var r=e.getGraph();r.eachNode(function(n){var i=n.getModel();n.setLayout([+i.get("x"),+i.get("y")])}),C$(r,e)}}function C$(e,t){e.eachEdge(function(r,n){var i=dc(r.getModel().get(["lineStyle","curveness"]),-S$(r,t,n,!0),0),a=hu(r.node1.getLayout()),s=hu(r.node2.getLayout()),o=[a,s];+i&&o.push([(a[0]+s[0])/2-(a[1]-s[1])*i,(a[1]+s[1])/2-(s[0]-a[0])*i]),r.setLayout(o)})}function IOe(e,t){e.eachSeriesByType("graph",function(r){var n=r.get("layout"),i=r.coordinateSystem;if(i&&i.type!=="view"){var a=r.getData(),s=[];V(i.dimensions,function(f){s=s.concat(a.mapDimensionsAll(f))});for(var o=0;o<a.count();o++){for(var l=[],c=!1,u=0;u<s.length;u++){var h=a.get(s[u],o);isNaN(h)||(c=!0),l.push(h)}c?a.setItemLayout(o,i.dataToPoint(l)):a.setItemLayout(o,[NaN,NaN])}C$(a.graph,r)}else(!n||n==="none")&&Dse(r)})}function Yx(e){var t=e.coordinateSystem;if(t.type!=="view")return 1;var r=e.option.nodeScaleRatio,n=t.scaleX,i=t.getZoom(),a=(i-1)*r+1;return a/n}function Kx(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var FW=Math.PI,iI=[];function k$(e,t,r,n){var i=e.coordinateSystem;if(!(i&&i.type!=="view")){var a=i.getBoundingRect(),s=e.getData(),o=s.graph,l=a.width/2+a.x,c=a.height/2+a.y,u=Math.min(a.width,a.height)/2,h=s.count();if(s.setLayout({cx:l,cy:c}),!!h){if(r){var f=i.pointToData(n),p=f[0],g=f[1],v=[p-l,g-c];f0(v,v),Mk(v,v,u),r.setLayout([l+v[0],c+v[1]],!0);var m=e.get(["circular","rotateLabel"]);Ose(r,m,l,c)}MOe[t](e,o,s,u,l,c,h),o.eachEdge(function(y,x){var _=dc(y.getModel().get(["lineStyle","curveness"]),S$(y,e,x),0),b=hu(y.node1.getLayout()),w=hu(y.node2.getLayout()),S,k=(b[0]+w[0])/2,C=(b[1]+w[1])/2;+_&&(_*=3,S=[l*_+k*(1-_),c*_+C*(1-_)]),y.setLayout([b,w,S])})}}}var MOe={value:function(e,t,r,n,i,a,s){var o=0,l=r.getSum("value"),c=Math.PI*2/(l||s);t.eachNode(function(u){var h=u.getValue("value"),f=c*(l?h:1)/2;o+=f,u.setLayout([n*Math.cos(o)+i,n*Math.sin(o)+a]),o+=f})},symbolSize:function(e,t,r,n,i,a,s){var o=0;iI.length=s;var l=Yx(e);t.eachNode(function(h){var f=Kx(h);isNaN(f)&&(f=2),f<0&&(f=0),f*=l;var p=Math.asin(f/2/n);isNaN(p)&&(p=FW/2),iI[h.dataIndex]=p,o+=p*2});var c=(2*FW-o)/s/2,u=0;t.eachNode(function(h){var f=c+iI[h.dataIndex];u+=f,(!h.getLayout()||!h.getLayout().fixed)&&h.setLayout([n*Math.cos(u)+i,n*Math.sin(u)+a]),u+=f})}};function Ose(e,t,r,n){var i=e.getGraphicEl();if(i){var a=e.getModel(),s=a.get(["label","rotate"])||0,o=i.getSymbolPath();if(t){var l=e.getLayout(),c=Math.atan2(l[1]-n,l[0]-r);c<0&&(c=Math.PI*2+c);var u=l[0]<r;u&&(c=c-Math.PI);var h=u?"left":"right";o.setTextConfig({rotation:-c,position:h,origin:"center"});var f=o.ensureState("emphasis");pe(f.textConfig||(f.textConfig={}),{position:h})}else o.setTextConfig({rotation:s*=Math.PI/180})}}function POe(e){e.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&k$(t,"symbolSize")})}var Bg=TL;function LOe(e,t,r){for(var n=e,i=t,a=r.rect,s=a.width,o=a.height,l=[a.x+s/2,a.y+o/2],c=r.gravity==null?.1:r.gravity,u=0;u<n.length;u++){var h=n[u];h.p||(h.p=Zp(s*(Math.random()-.5)+l[0],o*(Math.random()-.5)+l[1])),h.pp=hu(h.p),h.edges=null}var f=r.friction==null?.6:r.friction,p=f,g,v;return{warmUp:function(){p=f*.8},setFixed:function(m){n[m].fixed=!0},setUnfixed:function(m){n[m].fixed=!1},beforeStep:function(m){g=m},afterStep:function(m){v=m},step:function(m){g&&g(n,i);for(var y=[],x=n.length,_=0;_<i.length;_++){var b=i[_];if(!b.ignoreForceLayout){var w=b.n1,S=b.n2;Wf(y,S.p,w.p);var k=NL(y)-b.d,C=S.w/(w.w+S.w);isNaN(C)&&(C=0),f0(y,y),!w.fixed&&Bg(w.p,w.p,y,C*k*p),!S.fixed&&Bg(S.p,S.p,y,-(1-C)*k*p)}}for(var _=0;_<x;_++){var E=n[_];E.fixed||(Wf(y,l,E.p),Bg(E.p,E.p,y,c*p))}for(var _=0;_<x;_++)for(var w=n[_],T=_+1;T<x;T++){var S=n[T];Wf(y,S.p,w.p);var k=NL(y);k===0&&(oEe(y,Math.random()-.5,Math.random()-.5),k=1);var N=(w.rep+S.rep)/k/k;!w.fixed&&Bg(w.pp,w.pp,y,N),!S.fixed&&Bg(S.pp,S.pp,y,-N)}for(var I=[],_=0;_<x;_++){var E=n[_];E.fixed||(Wf(I,E.p,E.pp),Bg(E.p,E.p,I,p),ja(E.pp,E.p))}p=p*.992;var P=p<.01;v&&v(n,i,P),m&&m(P)}}}function DOe(e){e.eachSeriesByType("graph",function(t){var r=t.coordinateSystem;if(!(r&&r.type!=="view"))if(t.get("layout")==="force"){var n=t.preservedPoints||{},i=t.getGraph(),a=i.data,s=i.edgeData,o=t.getModel("force"),l=o.get("initLayout");t.preservedPoints?a.each(function(_){var b=a.getId(_);a.setItemLayout(_,n[b]||[NaN,NaN])}):!l||l==="none"?Dse(t):l==="circular"&&k$(t,"value");var c=a.getDataExtent("value"),u=s.getDataExtent("value"),h=o.get("repulsion"),f=o.get("edgeLength"),p=ye(h)?h:[h,h],g=ye(f)?f:[f,f];g=[g[1],g[0]];var v=a.mapArray("value",function(_,b){var w=a.getItemLayout(b),S=Hr(_,c,p);return isNaN(S)&&(S=(p[0]+p[1])/2),{w:S,rep:S,fixed:a.getItemModel(b).get("fixed"),p:!w||isNaN(w[0])||isNaN(w[1])?null:w}}),m=s.mapArray("value",function(_,b){var w=i.getEdgeByIndex(b),S=Hr(_,u,g);isNaN(S)&&(S=(g[0]+g[1])/2);var k=w.getModel(),C=dc(w.getModel().get(["lineStyle","curveness"]),-S$(w,t,b,!0),0);return{n1:v[w.node1.dataIndex],n2:v[w.node2.dataIndex],d:S,curveness:C,ignoreForceLayout:k.get("ignoreForceLayout")}}),y=r.getBoundingRect(),x=LOe(v,m,{rect:y,gravity:o.get("gravity"),friction:o.get("friction")});x.beforeStep(function(_,b){for(var w=0,S=_.length;w<S;w++)_[w].fixed&&ja(_[w].p,i.getNodeByIndex(w).getLayout())}),x.afterStep(function(_,b,w){for(var S=0,k=_.length;S<k;S++)_[S].fixed||i.getNodeByIndex(S).setLayout(_[S].p),n[a.getId(S)]=_[S].p;for(var S=0,k=b.length;S<k;S++){var C=b[S],E=i.getEdgeByIndex(S),T=C.n1.p,N=C.n2.p,I=E.getLayout();I=I?I.slice():[],I[0]=I[0]||[],I[1]=I[1]||[],ja(I[0],T),ja(I[1],N),+C.curveness&&(I[2]=[(T[0]+N[0])/2-(T[1]-N[1])*C.curveness,(T[1]+N[1])/2-(N[0]-T[0])*C.curveness]),E.setLayout(I)}}),t.forceLayout=x,t.preservedPoints=n,x.step()}else t.forceLayout=null})}function OOe(e,t,r){var n=pe(e.getBoxLayoutParams(),{aspect:r});return Si(n,{width:t.getWidth(),height:t.getHeight()})}function $Oe(e,t){var r=[];return e.eachSeriesByType("graph",function(n){var i=n.get("coordinateSystem");if(!i||i==="view"){var a=n.getData(),s=a.mapArray(function(m){var y=a.getItemModel(m);return[+y.get("x"),+y.get("y")]}),o=[],l=[];v2(s,o,l),l[0]-o[0]===0&&(l[0]+=1,o[0]-=1),l[1]-o[1]===0&&(l[1]+=1,o[1]-=1);var c=(l[0]-o[0])/(l[1]-o[1]),u=OOe(n,t,c);isNaN(c)&&(o=[u.x,u.y],l=[u.x+u.width,u.y+u.height]);var h=l[0]-o[0],f=l[1]-o[1],p=u.width,g=u.height,v=n.coordinateSystem=new i1;v.zoomLimit=n.get("scaleLimit"),v.setBoundingRect(o[0],o[1],h,f),v.setViewRect(u.x,u.y,p,g),v.setCenter(n.get("center"),t),v.setZoom(n.get("zoom")),r.push(v)}}),r}var zW=Ri.prototype,aI=Hw.prototype,$se=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}();(function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})($se);function sI(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var BOe=function(e){ce(t,e);function t(r){var n=e.call(this,r)||this;return n.type="ec-line",n}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new $se},t.prototype.buildPath=function(r,n){sI(n)?zW.buildPath.call(this,r,n):aI.buildPath.call(this,r,n)},t.prototype.pointAt=function(r){return sI(this.shape)?zW.pointAt.call(this,r):aI.pointAt.call(this,r)},t.prototype.tangentAt=function(r){var n=this.shape,i=sI(n)?[n.x2-n.x1,n.y2-n.y1]:aI.tangentAt.call(this,r);return f0(i,i)},t}(er),oI=["fromSymbol","toSymbol"];function UW(e){return"_"+e+"Type"}function HW(e,t,r){var n=t.getItemVisual(r,e);if(!n||n==="none")return n;var i=t.getItemVisual(r,e+"Size"),a=t.getItemVisual(r,e+"Rotate"),s=t.getItemVisual(r,e+"Offset"),o=t.getItemVisual(r,e+"KeepAspect"),l=k0(i),c=tg(s||0,l);return n+l+c+(a||"")+(o||"")}function VW(e,t,r){var n=t.getItemVisual(r,e);if(!(!n||n==="none")){var i=t.getItemVisual(r,e+"Size"),a=t.getItemVisual(r,e+"Rotate"),s=t.getItemVisual(r,e+"Offset"),o=t.getItemVisual(r,e+"KeepAspect"),l=k0(i),c=tg(s||0,l),u=fi(n,-l[0]/2+c[0],-l[1]/2+c[1],l[0],l[1],null,o);return u.__specifiedRotation=a==null||isNaN(a)?void 0:+a*Math.PI/180||0,u.name=e,u}}function FOe(e){var t=new BOe({name:"line",subPixelOptimize:!0});return UD(t.shape,e),t}function UD(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var r=t[2];r?(e.cpx1=r[0],e.cpy1=r[1]):(e.cpx1=NaN,e.cpy1=NaN)}var E$=function(e){ce(t,e);function t(r,n,i){var a=e.call(this)||this;return a._createLine(r,n,i),a}return t.prototype._createLine=function(r,n,i){var a=r.hostModel,s=r.getItemLayout(n),o=FOe(s);o.shape.percent=0,Rn(o,{shape:{percent:1}},a,n),this.add(o),V(oI,function(l){var c=VW(l,r,n);this.add(c),this[UW(l)]=HW(l,r,n)},this),this._updateCommonStl(r,n,i)},t.prototype.updateData=function(r,n,i){var a=r.hostModel,s=this.childOfName("line"),o=r.getItemLayout(n),l={shape:{}};UD(l.shape,o),Rr(s,l,a,n),V(oI,function(c){var u=HW(c,r,n),h=UW(c);if(this[h]!==u){this.remove(this.childOfName(c));var f=VW(c,r,n);this.add(f)}this[h]=u},this),this._updateCommonStl(r,n,i)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(r,n,i){var a=r.hostModel,s=this.childOfName("line"),o=i&&i.emphasisLineStyle,l=i&&i.blurLineStyle,c=i&&i.selectLineStyle,u=i&&i.labelStatesModels,h=i&&i.emphasisDisabled,f=i&&i.focus,p=i&&i.blurScope;if(!i||r.hasItemOption){var g=r.getItemModel(n),v=g.getModel("emphasis");o=v.getModel("lineStyle").getLineStyle(),l=g.getModel(["blur","lineStyle"]).getLineStyle(),c=g.getModel(["select","lineStyle"]).getLineStyle(),h=v.get("disabled"),f=v.get("focus"),p=v.get("blurScope"),u=Pi(g)}var m=r.getItemVisual(n,"style"),y=m.stroke;s.useStyle(m),s.style.fill=null,s.style.strokeNoScale=!0,s.ensureState("emphasis").style=o,s.ensureState("blur").style=l,s.ensureState("select").style=c,V(oI,function(S){var k=this.childOfName(S);if(k){k.setColor(y),k.style.opacity=m.opacity;for(var C=0;C<Ga.length;C++){var E=Ga[C],T=s.getState(E);if(T){var N=T.style||{},I=k.ensureState(E),P=I.style||(I.style={});N.stroke!=null&&(P[k.__isEmptyBrush?"stroke":"fill"]=N.stroke),N.opacity!=null&&(P.opacity=N.opacity)}}k.markRedraw()}},this);var x=a.getRawValue(n);ra(this,u,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(S,k){return a.getFormattedLabel(S,k,r.dataType)}},inheritColor:y||"#000",defaultOpacity:m.opacity,defaultText:(x==null?r.getName(n):isFinite(x)?ei(x):x)+""});var _=this.getTextContent();if(_){var b=u.normal;_.__align=_.style.align,_.__verticalAlign=_.style.verticalAlign,_.__position=b.get("position")||"middle";var w=b.get("distance");ye(w)||(w=[w,w]),_.__labelDistance=w}this.setTextConfig({position:null,local:!0,inside:!1}),Wn(this,f,p,h)},t.prototype.highlight=function(){Eu(this)},t.prototype.downplay=function(){Tu(this)},t.prototype.updateLayout=function(r,n){this.setLinePoints(r.getItemLayout(n))},t.prototype.setLinePoints=function(r){var n=this.childOfName("line");UD(n.shape,r),n.dirty()},t.prototype.beforeUpdate=function(){var r=this,n=r.childOfName("fromSymbol"),i=r.childOfName("toSymbol"),a=r.getTextContent();if(!n&&!i&&(!a||a.ignore))return;for(var s=1,o=this.parent;o;)o.scaleX&&(s/=o.scaleX),o=o.parent;var l=r.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var c=l.shape.percent,u=l.pointAt(0),h=l.pointAt(c),f=Wf([],h,u);f0(f,f);function p(T,N){var I=T.__specifiedRotation;if(I==null){var P=l.tangentAt(N);T.attr("rotation",(N===1?-1:1)*Math.PI/2-Math.atan2(P[1],P[0]))}else T.attr("rotation",I)}if(n&&(n.setPosition(u),p(n,0),n.scaleX=n.scaleY=s*c,n.markRedraw()),i&&(i.setPosition(h),p(i,1),i.scaleX=i.scaleY=s*c,i.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var g=void 0,v=void 0,m=a.__labelDistance,y=m[0]*s,x=m[1]*s,_=c/2,b=l.tangentAt(_),w=[b[1],-b[0]],S=l.pointAt(_);w[1]>0&&(w[0]=-w[0],w[1]=-w[1]);var k=b[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var C=-Math.atan2(b[1],b[0]);h[0]<u[0]&&(C=Math.PI+C),a.rotation=C}var E=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":E=-x,v="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":E=x,v="top";break;default:E=0,v="middle"}switch(a.__position){case"end":a.x=f[0]*y+h[0],a.y=f[1]*x+h[1],g=f[0]>.8?"left":f[0]<-.8?"right":"center",v=f[1]>.8?"top":f[1]<-.8?"bottom":"middle";break;case"start":a.x=-f[0]*y+u[0],a.y=-f[1]*x+u[1],g=f[0]>.8?"right":f[0]<-.8?"left":"center",v=f[1]>.8?"bottom":f[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=y*k+u[0],a.y=u[1]+E,g=b[0]<0?"right":"left",a.originX=-y*k,a.originY=-E;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=S[0],a.y=S[1]+E,g="center",a.originY=-E;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-y*k+h[0],a.y=h[1]+E,g=b[0]>=0?"right":"left",a.originX=y*k,a.originY=-E;break}a.scaleX=a.scaleY=s,a.setStyle({verticalAlign:a.__verticalAlign||v,align:a.__align||g})}},t}(_t),T$=function(){function e(t){this.group=new _t,this._LineCtor=t||E$}return e.prototype.updateData=function(t){var r=this;this._progressiveEls=null;var n=this,i=n.group,a=n._lineData;n._lineData=t,a||i.removeAll();var s=WW(t);t.diff(a).add(function(o){r._doAdd(t,o,s)}).update(function(o,l){r._doUpdate(a,t,l,o,s)}).remove(function(o){i.remove(a.getItemGraphicEl(o))}).execute()},e.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(r,n){r.updateLayout(t,n)},this)},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=WW(t),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,r){this._progressiveEls=[];function n(o){!o.isGroup&&!zOe(o)&&(o.incremental=!0,o.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var a=r.getItemLayout(i);if(lI(a)){var s=new this._LineCtor(r,i,this._seriesScope);s.traverse(n),this.group.add(s),r.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(t){Lh(this._progressiveEls||this.group,t)},e.prototype._doAdd=function(t,r,n){var i=t.getItemLayout(r);if(lI(i)){var a=new this._LineCtor(t,r,n);t.setItemGraphicEl(r,a),this.group.add(a)}},e.prototype._doUpdate=function(t,r,n,i,a){var s=t.getItemGraphicEl(n);if(!lI(r.getItemLayout(i))){this.group.remove(s);return}s?s.updateData(r,i,a):s=new this._LineCtor(r,i,a),r.setItemGraphicEl(i,s),this.group.add(s)},e}();function zOe(e){return e.animators&&e.animators.length>0}function WW(e){var t=e.hostModel,r=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:r.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:r.get("disabled"),blurScope:r.get("blurScope"),focus:r.get("focus"),labelStatesModels:Pi(t)}}function GW(e){return isNaN(e[0])||isNaN(e[1])}function lI(e){return e&&!GW(e[0])&&!GW(e[1])}var cI=[],uI=[],dI=[],Fg=zi,hI=op,qW=Math.abs;function YW(e,t,r){for(var n=e[0],i=e[1],a=e[2],s=1/0,o,l=r*r,c=.1,u=.1;u<=.9;u+=.1){cI[0]=Fg(n[0],i[0],a[0],u),cI[1]=Fg(n[1],i[1],a[1],u);var h=qW(hI(cI,t)-l);h<s&&(s=h,o=u)}for(var f=0;f<32;f++){var p=o+c;uI[0]=Fg(n[0],i[0],a[0],o),uI[1]=Fg(n[1],i[1],a[1],o),dI[0]=Fg(n[0],i[0],a[0],p),dI[1]=Fg(n[1],i[1],a[1],p);var h=hI(uI,t)-l;if(qW(h)<.01)break;var g=hI(dI,t)-l;c/=2,h<0?g>=0?o=o+c:o=o-c:g>=0?o=o-c:o=o+c}return o}function fI(e,t){var r=[],n=xb,i=[[],[],[]],a=[[],[]],s=[];t/=2,e.eachEdge(function(o,l){var c=o.getLayout(),u=o.getVisual("fromSymbol"),h=o.getVisual("toSymbol");c.__original||(c.__original=[hu(c[0]),hu(c[1])],c[2]&&c.__original.push(hu(c[2])));var f=c.__original;if(c[2]!=null){if(ja(i[0],f[0]),ja(i[1],f[2]),ja(i[2],f[1]),u&&u!=="none"){var p=Kx(o.node1),g=YW(i,f[0],p*t);n(i[0][0],i[1][0],i[2][0],g,r),i[0][0]=r[3],i[1][0]=r[4],n(i[0][1],i[1][1],i[2][1],g,r),i[0][1]=r[3],i[1][1]=r[4]}if(h&&h!=="none"){var p=Kx(o.node2),g=YW(i,f[1],p*t);n(i[0][0],i[1][0],i[2][0],g,r),i[1][0]=r[1],i[2][0]=r[2],n(i[0][1],i[1][1],i[2][1],g,r),i[1][1]=r[1],i[2][1]=r[2]}ja(c[0],i[0]),ja(c[1],i[2]),ja(c[2],i[1])}else{if(ja(a[0],f[0]),ja(a[1],f[1]),Wf(s,a[1],a[0]),f0(s,s),u&&u!=="none"){var p=Kx(o.node1);TL(a[0],a[0],s,p*t)}if(h&&h!=="none"){var p=Kx(o.node2);TL(a[1],a[1],s,-p*t)}ja(c[0],a[0]),ja(c[1],a[1])}})}function KW(e){return e.type==="view"}var UOe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){var i=new Jw,a=new T$,s=this.group;this._controller=new n1(n.getZr()),this._controllerHost={target:s},s.add(i.group),s.add(a.group),this._symbolDraw=i,this._lineDraw=a,this._firstRender=!0},t.prototype.render=function(r,n,i){var a=this,s=r.coordinateSystem;this._model=r;var o=this._symbolDraw,l=this._lineDraw,c=this.group;if(KW(s)){var u={x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY};this._firstRender?c.attr(u):Rr(c,u,r)}fI(r.getGraph(),Yx(r));var h=r.getData();o.updateData(h);var f=r.getEdgeData();l.updateData(f),this._updateNodeAndLinkScale(),this._updateController(r,n,i),clearTimeout(this._layoutTimeout);var p=r.forceLayout,g=r.get(["force","layoutAnimation"]);p&&this._startForceLayoutIteration(p,g);var v=r.get("layout");h.graph.eachNode(function(_){var b=_.dataIndex,w=_.getGraphicEl(),S=_.getModel();if(w){w.off("drag").off("dragend");var k=S.get("draggable");k&&w.on("drag",function(E){switch(v){case"force":p.warmUp(),!a._layouting&&a._startForceLayoutIteration(p,g),p.setFixed(b),h.setItemLayout(b,[w.x,w.y]);break;case"circular":h.setItemLayout(b,[w.x,w.y]),_.setLayout({fixed:!0},!0),k$(r,"symbolSize",_,[E.offsetX,E.offsetY]),a.updateLayout(r);break;case"none":default:h.setItemLayout(b,[w.x,w.y]),C$(r.getGraph(),r),a.updateLayout(r);break}}).on("dragend",function(){p&&p.setUnfixed(b)}),w.setDraggable(k,!!S.get("cursor"));var C=S.get(["emphasis","focus"]);C==="adjacency"&&(wt(w).focus=_.getAdjacentDataIndices())}}),h.graph.eachEdge(function(_){var b=_.getGraphicEl(),w=_.getModel().get(["emphasis","focus"]);b&&w==="adjacency"&&(wt(b).focus={edge:[_.dataIndex],node:[_.node1.dataIndex,_.node2.dataIndex]})});var m=r.get("layout")==="circular"&&r.get(["circular","rotateLabel"]),y=h.getLayout("cx"),x=h.getLayout("cy");h.graph.eachNode(function(_){Ose(_,m,y,x)}),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(r,n){var i=this;(function a(){r.step(function(s){i.updateLayout(i._model),(i._layouting=!s)&&(n?i._layoutTimeout=setTimeout(a,16):a())})})()},t.prototype._updateController=function(r,n,i){var a=this,s=this._controller,o=this._controllerHost,l=this.group;if(s.setPointerChecker(function(c,u,h){var f=l.getBoundingRect();return f.applyTransform(l.transform),f.contain(u,h)&&!z2(c,i,r)}),!KW(r.coordinateSystem)){s.disable();return}s.enable(r.get("roam")),o.zoomLimit=r.get("scaleLimit"),o.zoom=r.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(c){g$(o,c.dx,c.dy),i.dispatchAction({seriesId:r.id,type:"graphRoam",dx:c.dx,dy:c.dy})}).on("zoom",function(c){m$(o,c.scale,c.originX,c.originY),i.dispatchAction({seriesId:r.id,type:"graphRoam",zoom:c.scale,originX:c.originX,originY:c.originY}),a._updateNodeAndLinkScale(),fI(r.getGraph(),Yx(r)),a._lineDraw.updateLayout(),i.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(){var r=this._model,n=r.getData(),i=Yx(r);n.eachItemGraphicEl(function(a,s){a&&a.setSymbolScale(i)})},t.prototype.updateLayout=function(r){fI(r.getGraph(),Yx(r)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(dn);function zg(e){return"_EC_"+e}var HOe=function(){function e(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(t,r){t=t==null?""+r:""+t;var n=this._nodesMap;if(!n[zg(t)]){var i=new Af(t,r);return i.hostGraph=this,this.nodes.push(i),n[zg(t)]=i,i}},e.prototype.getNodeByIndex=function(t){var r=this.data.getRawIndex(t);return this.nodes[r]},e.prototype.getNodeById=function(t){return this._nodesMap[zg(t)]},e.prototype.addEdge=function(t,r,n){var i=this._nodesMap,a=this._edgesMap;if(Nr(t)&&(t=this.nodes[t]),Nr(r)&&(r=this.nodes[r]),t instanceof Af||(t=i[zg(t)]),r instanceof Af||(r=i[zg(r)]),!(!t||!r)){var s=t.id+"-"+r.id,o=new Bse(t,r,n);return o.hostGraph=this,this._directed&&(t.outEdges.push(o),r.inEdges.push(o)),t.edges.push(o),t!==r&&r.edges.push(o),this.edges.push(o),a[s]=o,o}},e.prototype.getEdgeByIndex=function(t){var r=this.edgeData.getRawIndex(t);return this.edges[r]},e.prototype.getEdge=function(t,r){t instanceof Af&&(t=t.id),r instanceof Af&&(r=r.id);var n=this._edgesMap;return this._directed?n[t+"-"+r]:n[t+"-"+r]||n[r+"-"+t]},e.prototype.eachNode=function(t,r){for(var n=this.nodes,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&t.call(r,n[a],a)},e.prototype.eachEdge=function(t,r){for(var n=this.edges,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&n[a].node1.dataIndex>=0&&n[a].node2.dataIndex>=0&&t.call(r,n[a],a)},e.prototype.breadthFirstTraverse=function(t,r,n,i){if(r instanceof Af||(r=this._nodesMap[zg(r)]),!!r){for(var a=n==="out"?"outEdges":n==="in"?"inEdges":"edges",s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!t.call(i,r,null))for(var o=[r];o.length;)for(var l=o.shift(),c=l[a],s=0;s<c.length;s++){var u=c[s],h=u.node1===l?u.node2:u.node1;if(!h.__visited){if(t.call(i,h,l))return;o.push(h),h.__visited=!0}}}},e.prototype.update=function(){for(var t=this.data,r=this.edgeData,n=this.nodes,i=this.edges,a=0,s=n.length;a<s;a++)n[a].dataIndex=-1;for(var a=0,s=t.count();a<s;a++)n[t.getRawIndex(a)].dataIndex=a;r.filterSelf(function(o){var l=i[r.getRawIndex(o)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var a=0,s=i.length;a<s;a++)i[a].dataIndex=-1;for(var a=0,s=r.count();a<s;a++)i[r.getRawIndex(a)].dataIndex=a},e.prototype.clone=function(){for(var t=new e(this._directed),r=this.nodes,n=this.edges,i=0;i<r.length;i++)t.addNode(r[i].id,r[i].dataIndex);for(var i=0;i<n.length;i++){var a=n[i];t.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return t},e}(),Af=function(){function e(t,r){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=r??-1}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var r=this.hostGraph,n=r.data.getItemModel(this.dataIndex);return n.getModel(t)}},e.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},r=0;r<this.edges.length;r++){var n=this.edges[r];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},e.prototype.getTrajectoryDataIndices=function(){for(var t=Qe(),r=Qe(),n=0;n<this.edges.length;n++){var i=this.edges[n];if(!(i.dataIndex<0)){t.set(i.dataIndex,!0);for(var a=[i.node1],s=[i.node2],o=0;o<a.length;){var l=a[o];o++,r.set(l.dataIndex,!0);for(var c=0;c<l.inEdges.length;c++)t.set(l.inEdges[c].dataIndex,!0),a.push(l.inEdges[c].node1)}for(o=0;o<s.length;){var u=s[o];o++,r.set(u.dataIndex,!0);for(var c=0;c<u.outEdges.length;c++)t.set(u.outEdges[c].dataIndex,!0),s.push(u.outEdges[c].node2)}}}return{edge:t.keys(),node:r.keys()}},e}(),Bse=function(){function e(t,r,n){this.dataIndex=-1,this.node1=t,this.node2=r,this.dataIndex=n??-1}return e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var r=this.hostGraph,n=r.edgeData.getItemModel(this.dataIndex);return n.getModel(t)}},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e.prototype.getTrajectoryDataIndices=function(){var t=Qe(),r=Qe();t.set(this.dataIndex,!0);for(var n=[this.node1],i=[this.node2],a=0;a<n.length;){var s=n[a];a++,r.set(s.dataIndex,!0);for(var o=0;o<s.inEdges.length;o++)t.set(s.inEdges[o].dataIndex,!0),n.push(s.inEdges[o].node1)}for(a=0;a<i.length;){var l=i[a];a++,r.set(l.dataIndex,!0);for(var o=0;o<l.outEdges.length;o++)t.set(l.outEdges[o].dataIndex,!0),i.push(l.outEdges[o].node2)}return{edge:t.keys(),node:r.keys()}},e}();function Fse(e,t){return{getValue:function(r){var n=this[e][t];return n.getStore().get(n.getDimensionIndex(r||"value"),this.dataIndex)},setVisual:function(r,n){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,r,n)},getVisual:function(r){return this[e][t].getItemVisual(this.dataIndex,r)},setLayout:function(r,n){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,r,n)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}pi(Af,Fse("hostGraph","data"));pi(Bse,Fse("hostGraph","edgeData"));function zse(e,t,r,n,i){for(var a=new HOe(n),s=0;s<e.length;s++)a.addNode(Ui(e[s].id,e[s].name,s),s);for(var o=[],l=[],c=0,s=0;s<t.length;s++){var u=t[s],h=u.source,f=u.target;a.addEdge(h,f,c)&&(l.push(u),o.push(Ui(_i(u.id,null),h+" > "+f)),c++)}var p=r.get("coordinateSystem"),g;if(p==="cartesian2d"||p==="polar")g=Uu(e,r);else{var v=qw.get(p),m=v?v.dimensions||[]:[];Wt(m,"value")<0&&m.concat(["value"]);var y=Kw(e,{coordDimensions:m,encodeDefine:r.getEncode()}).dimensions;g=new Ha(y,r),g.initData(e)}var x=new Ha(["value"],r);return x.initData(l,o),i&&i(g,x),wse({mainData:g,struct:a,structAttr:"graph",datas:{node:g,edge:x},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var VOe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}this.legendVisualProvider=new r1(i,i),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},t.prototype.mergeOption=function(r){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(r){e.prototype.mergeDefaultAndTheme.apply(this,arguments),Np(r,"edgeLabel",["show"])},t.prototype.getInitialData=function(r,n){var i=r.edges||r.links||[],a=r.data||r.nodes||[],s=this;if(a&&i){jOe(this);var o=zse(a,i,this,!0,l);return V(o.edges,function(c){ROe(c.node1,c.node2,this,c.dataIndex)},this),o.data}function l(c,u){c.wrapMethod("getItemModel",function(g){var v=s._categoriesModels,m=g.getShallow("category"),y=v[m];return y&&(y.parentModel=g.parentModel,g.parentModel=y),g});var h=Vr.prototype.getModel;function f(g,v){var m=h.call(this,g,v);return m.resolveParentPath=p,m}u.wrapMethod("getItemModel",function(g){return g.resolveParentPath=p,g.getModel=f,g});function p(g){if(g&&(g[0]==="label"||g[1]==="label")){var v=g.slice();return g[0]==="label"?v[0]="edgeLabel":g[1]==="label"&&(v[1]="edgeLabel"),v}return g}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(r,n,i){if(i==="edge"){var a=this.getData(),s=this.getDataParams(r,i),o=a.graph.getEdgeByIndex(r),l=a.getName(o.node1.dataIndex),c=a.getName(o.node2.dataIndex),u=[];return l!=null&&u.push(l),c!=null&&u.push(c),Li("nameValue",{name:u.join(" > "),value:s.value,noValue:s.value==null})}var h=die({series:this,dataIndex:r,multipleSeries:n});return h},t.prototype._updateCategoriesData=function(){var r=_e(this.option.categories||[],function(i){return i.value!=null?i:pe({value:0},i)}),n=new Ha(["value"],this);n.initData(r),this._categoriesData=n,this._categoriesModels=n.mapArray(function(i){return n.getItemModel(i)})},t.prototype.setZoom=function(r){this.option.zoom=r},t.prototype.setCenter=function(r){this.option.center=r},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(_n),WOe={type:"graphRoam",event:"graphRoam",update:"none"};function GOe(e){e.registerChartView(UOe),e.registerSeriesModel(VOe),e.registerProcessor(kOe),e.registerVisual(EOe),e.registerVisual(TOe),e.registerLayout(IOe),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,POe),e.registerLayout(DOe),e.registerCoordinateSystem("graphView",{dimensions:i1.dimensions,create:$Oe}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},ai),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},ai),e.registerAction(WOe,function(t,r,n){r.eachComponent({mainType:"series",query:t},function(i){var a=i.coordinateSystem,s=y$(a,t,void 0,n);i.setCenter&&i.setCenter(s.center),i.setZoom&&i.setZoom(s.zoom)})})}var qOe=function(){function e(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return e}(),YOe=function(e){ce(t,e);function t(r){var n=e.call(this,r)||this;return n.type="pointer",n}return t.prototype.getDefaultShape=function(){return new qOe},t.prototype.buildPath=function(r,n){var i=Math.cos,a=Math.sin,s=n.r,o=n.width,l=n.angle,c=n.x-i(l)*o*(o>=s/3?1:2),u=n.y-a(l)*o*(o>=s/3?1:2);l=n.angle-Math.PI/2,r.moveTo(c,u),r.lineTo(n.x+i(l)*o,n.y+a(l)*o),r.lineTo(n.x+i(n.angle)*s,n.y+a(n.angle)*s),r.lineTo(n.x-i(l)*o,n.y-a(l)*o),r.lineTo(c,u)},t}(er);function KOe(e,t){var r=e.get("center"),n=t.getWidth(),i=t.getHeight(),a=Math.min(n,i),s=Le(r[0],t.getWidth()),o=Le(r[1],t.getHeight()),l=Le(e.get("radius"),a/2);return{cx:s,cy:o,r:l}}function mC(e,t){var r=e==null?"":e+"";return t&&(We(t)?r=t.replace("{value}",r):lt(t)&&(r=t(e))),r}var XOe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){this.group.removeAll();var a=r.get(["axisLine","lineStyle","color"]),s=KOe(r,i);this._renderMain(r,n,i,a,s),this._data=r.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(r,n,i,a,s){var o=this.group,l=r.get("clockwise"),c=-r.get("startAngle")/180*Math.PI,u=-r.get("endAngle")/180*Math.PI,h=r.getModel("axisLine"),f=h.get("roundCap"),p=f?_T:qa,g=h.get("show"),v=h.getModel("lineStyle"),m=v.get("width"),y=[c,u];_4(y,!l),c=y[0],u=y[1];for(var x=u-c,_=c,b=[],w=0;g&&w<a.length;w++){var S=Math.min(Math.max(a[w][0],0),1);u=c+x*S;var k=new p({shape:{startAngle:_,endAngle:u,cx:s.cx,cy:s.cy,clockwise:l,r0:s.r-m,r:s.r},silent:!0});k.setStyle({fill:a[w][1]}),k.setStyle(v.getLineStyle(["color","width"])),b.push(k),_=u}b.reverse(),V(b,function(E){return o.add(E)});var C=function(E){if(E<=0)return a[0][1];var T;for(T=0;T<a.length;T++)if(a[T][0]>=E&&(T===0?0:a[T-1][0])<E)return a[T][1];return a[T-1][1]};this._renderTicks(r,n,i,C,s,c,u,l,m),this._renderTitleAndDetail(r,n,i,C,s),this._renderAnchor(r,s),this._renderPointer(r,n,i,C,s,c,u,l,m)},t.prototype._renderTicks=function(r,n,i,a,s,o,l,c,u){for(var h=this.group,f=s.cx,p=s.cy,g=s.r,v=+r.get("min"),m=+r.get("max"),y=r.getModel("splitLine"),x=r.getModel("axisTick"),_=r.getModel("axisLabel"),b=r.get("splitNumber"),w=x.get("splitNumber"),S=Le(y.get("length"),g),k=Le(x.get("length"),g),C=o,E=(l-o)/b,T=E/w,N=y.getModel("lineStyle").getLineStyle(),I=x.getModel("lineStyle").getLineStyle(),P=y.get("distance"),D,$,L=0;L<=b;L++){if(D=Math.cos(C),$=Math.sin(C),y.get("show")){var O=P?P+u:u,j=new Ri({shape:{x1:D*(g-O)+f,y1:$*(g-O)+p,x2:D*(g-S-O)+f,y2:$*(g-S-O)+p},style:N,silent:!0});N.stroke==="auto"&&j.setStyle({stroke:a(L/b)}),h.add(j)}if(_.get("show")){var O=_.get("distance")+P,M=mC(ei(L/b*(m-v)+v),_.get("formatter")),R=a(L/b),z=D*(g-S-O)+f,U=$*(g-S-O)+p,F=_.get("rotate"),G=0;F==="radial"?(G=-C+2*Math.PI,G>Math.PI/2&&(G+=Math.PI)):F==="tangential"?G=-C-Math.PI/2:Nr(F)&&(G=F*Math.PI/180),G===0?h.add(new kr({style:yn(_,{text:M,x:z,y:U,verticalAlign:$<-.8?"top":$>.8?"bottom":"middle",align:D<-.4?"left":D>.4?"right":"center"},{inheritColor:R}),silent:!0})):h.add(new kr({style:yn(_,{text:M,x:z,y:U,verticalAlign:"middle",align:"center"},{inheritColor:R}),silent:!0,originX:z,originY:U,rotation:G}))}if(x.get("show")&&L!==b){var O=x.get("distance");O=O?O+u:u;for(var q=0;q<=w;q++){D=Math.cos(C),$=Math.sin(C);var K=new Ri({shape:{x1:D*(g-O)+f,y1:$*(g-O)+p,x2:D*(g-k-O)+f,y2:$*(g-k-O)+p},silent:!0,style:I});I.stroke==="auto"&&K.setStyle({stroke:a((L+q/w)/b)}),h.add(K),C+=T}C-=T}else C+=E}},t.prototype._renderPointer=function(r,n,i,a,s,o,l,c,u){var h=this.group,f=this._data,p=this._progressEls,g=[],v=r.get(["pointer","show"]),m=r.getModel("progress"),y=m.get("show"),x=r.getData(),_=x.mapDimension("value"),b=+r.get("min"),w=+r.get("max"),S=[b,w],k=[o,l];function C(T,N){var I=x.getItemModel(T),P=I.getModel("pointer"),D=Le(P.get("width"),s.r),$=Le(P.get("length"),s.r),L=r.get(["pointer","icon"]),O=P.get("offsetCenter"),j=Le(O[0],s.r),M=Le(O[1],s.r),R=P.get("keepAspect"),z;return L?z=fi(L,j-D/2,M-$,D,$,null,R):z=new YOe({shape:{angle:-Math.PI/2,width:D,r:$,x:j,y:M}}),z.rotation=-(N+Math.PI/2),z.x=s.cx,z.y=s.cy,z}function E(T,N){var I=m.get("roundCap"),P=I?_T:qa,D=m.get("overlap"),$=D?m.get("width"):u/x.count(),L=D?s.r-$:s.r-(T+1)*$,O=D?s.r:s.r-T*$,j=new P({shape:{startAngle:o,endAngle:N,cx:s.cx,cy:s.cy,clockwise:c,r0:L,r:O}});return D&&(j.z2=Hr(x.get(_,T),[b,w],[100,0],!0)),j}(y||v)&&(x.diff(f).add(function(T){var N=x.get(_,T);if(v){var I=C(T,o);Rn(I,{rotation:-((isNaN(+N)?k[0]:Hr(N,S,k,!0))+Math.PI/2)},r),h.add(I),x.setItemGraphicEl(T,I)}if(y){var P=E(T,o),D=m.get("clip");Rn(P,{shape:{endAngle:Hr(N,S,k,D)}},r),h.add(P),QL(r.seriesIndex,x.dataType,T,P),g[T]=P}}).update(function(T,N){var I=x.get(_,T);if(v){var P=f.getItemGraphicEl(N),D=P?P.rotation:o,$=C(T,D);$.rotation=D,Rr($,{rotation:-((isNaN(+I)?k[0]:Hr(I,S,k,!0))+Math.PI/2)},r),h.add($),x.setItemGraphicEl(T,$)}if(y){var L=p[N],O=L?L.shape.endAngle:o,j=E(T,O),M=m.get("clip");Rr(j,{shape:{endAngle:Hr(I,S,k,M)}},r),h.add(j),QL(r.seriesIndex,x.dataType,T,j),g[T]=j}}).execute(),x.each(function(T){var N=x.getItemModel(T),I=N.getModel("emphasis"),P=I.get("focus"),D=I.get("blurScope"),$=I.get("disabled");if(v){var L=x.getItemGraphicEl(T),O=x.getItemVisual(T,"style"),j=O.fill;if(L instanceof Wi){var M=L.style;L.useStyle(pe({image:M.image,x:M.x,y:M.y,width:M.width,height:M.height},O))}else L.useStyle(O),L.type!=="pointer"&&L.setColor(j);L.setStyle(N.getModel(["pointer","itemStyle"]).getItemStyle()),L.style.fill==="auto"&&L.setStyle("fill",a(Hr(x.get(_,T),S,[0,1],!0))),L.z2EmphasisLift=0,ta(L,N),Wn(L,P,D,$)}if(y){var R=g[T];R.useStyle(x.getItemVisual(T,"style")),R.setStyle(N.getModel(["progress","itemStyle"]).getItemStyle()),R.z2EmphasisLift=0,ta(R,N),Wn(R,P,D,$)}}),this._progressEls=g)},t.prototype._renderAnchor=function(r,n){var i=r.getModel("anchor"),a=i.get("show");if(a){var s=i.get("size"),o=i.get("icon"),l=i.get("offsetCenter"),c=i.get("keepAspect"),u=fi(o,n.cx-s/2+Le(l[0],n.r),n.cy-s/2+Le(l[1],n.r),s,s,null,c);u.z2=i.get("showAbove")?1:0,u.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(u)}},t.prototype._renderTitleAndDetail=function(r,n,i,a,s){var o=this,l=r.getData(),c=l.mapDimension("value"),u=+r.get("min"),h=+r.get("max"),f=new _t,p=[],g=[],v=r.isAnimationEnabled(),m=r.get(["pointer","showAbove"]);l.diff(this._data).add(function(y){p[y]=new kr({silent:!0}),g[y]=new kr({silent:!0})}).update(function(y,x){p[y]=o._titleEls[x],g[y]=o._detailEls[x]}).execute(),l.each(function(y){var x=l.getItemModel(y),_=l.get(c,y),b=new _t,w=a(Hr(_,[u,h],[0,1],!0)),S=x.getModel("title");if(S.get("show")){var k=S.get("offsetCenter"),C=s.cx+Le(k[0],s.r),E=s.cy+Le(k[1],s.r),T=p[y];T.attr({z2:m?0:2,style:yn(S,{x:C,y:E,text:l.getName(y),align:"center",verticalAlign:"middle"},{inheritColor:w})}),b.add(T)}var N=x.getModel("detail");if(N.get("show")){var I=N.get("offsetCenter"),P=s.cx+Le(I[0],s.r),D=s.cy+Le(I[1],s.r),$=Le(N.get("width"),s.r),L=Le(N.get("height"),s.r),O=r.get(["progress","show"])?l.getItemVisual(y,"style").fill:w,T=g[y],j=N.get("formatter");T.attr({z2:m?0:2,style:yn(N,{x:P,y:D,text:mC(_,j),width:isNaN($)?null:$,height:isNaN(L)?null:L,align:"center",verticalAlign:"middle"},{inheritColor:O})}),gne(T,{normal:N},_,function(R){return mC(R,j)}),v&&mne(T,y,l,r,{getFormattedLabel:function(R,z,U,F,G,q){return mC(q?q.interpolatedValue:_,j)}}),b.add(T)}f.add(b)}),this.group.add(f),this._titleEls=p,this._detailEls=g},t.type="gauge",t}(dn),ZOe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.visualStyleAccessPath="itemStyle",r}return t.prototype.getInitialData=function(r,n){return T0(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(_n);function JOe(e){e.registerChartView(XOe),e.registerSeriesModel(ZOe)}var QOe=["itemStyle","opacity"],e3e=function(e){ce(t,e);function t(r,n){var i=e.call(this)||this,a=i,s=new Ja,o=new kr;return a.setTextContent(o),i.setTextGuideLine(s),i.updateData(r,n,!0),i}return t.prototype.updateData=function(r,n,i){var a=this,s=r.hostModel,o=r.getItemModel(n),l=r.getItemLayout(n),c=o.getModel("emphasis"),u=o.get(QOe);u=u??1,i||gl(a),a.useStyle(r.getItemVisual(n,"style")),a.style.lineJoin="round",i?(a.setShape({points:l.points}),a.style.opacity=0,Rn(a,{style:{opacity:u}},s,n)):Rr(a,{style:{opacity:u},shape:{points:l.points}},s,n),ta(a,o),this._updateLabel(r,n),Wn(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},t.prototype._updateLabel=function(r,n){var i=this,a=this.getTextGuideLine(),s=i.getTextContent(),o=r.hostModel,l=r.getItemModel(n),c=r.getItemLayout(n),u=c.label,h=r.getItemVisual(n,"style"),f=h.fill;ra(s,Pi(l),{labelFetcher:r.hostModel,labelDataIndex:n,defaultOpacity:h.opacity,defaultText:r.getName(n)},{normal:{align:u.textAlign,verticalAlign:u.verticalAlign}}),i.setTextConfig({local:!0,inside:!!u.inside,insideStroke:f,outsideFill:f});var p=u.linePoints;a.setShape({points:p}),i.textGuideLineConfig={anchor:p?new Lt(p[0][0],p[0][1]):null},Rr(s,{style:{x:u.x,y:u.y}},o,n),s.attr({rotation:u.rotation,originX:u.x,originY:u.y,z2:10}),i$(i,a$(l),{stroke:f})},t}(Ya),t3e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.ignoreLabelLineUpdate=!0,r}return t.prototype.render=function(r,n,i){var a=r.getData(),s=this._data,o=this.group;a.diff(s).add(function(l){var c=new e3e(a,l);a.setItemGraphicEl(l,c),o.add(c)}).update(function(l,c){var u=s.getItemGraphicEl(c);u.updateData(a,l),o.add(u),a.setItemGraphicEl(l,u)}).remove(function(l){var c=s.getItemGraphicEl(l);Eb(c,r,l)}).execute(),this._data=a},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(dn),r3e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new r1(Ke(this.getData,this),Ke(this.getRawData,this)),this._defaultLabelLine(r)},t.prototype.getInitialData=function(r,n){return T0(this,{coordDimensions:["value"],encodeDefaulter:At(O4,this)})},t.prototype._defaultLabelLine=function(r){Np(r,"labelLine",["show"]);var n=r.labelLine,i=r.emphasis.labelLine;n.show=n.show&&r.label.show,i.show=i.show&&r.emphasis.label.show},t.prototype.getDataParams=function(r){var n=this.getData(),i=e.prototype.getDataParams.call(this,r),a=n.mapDimension("value"),s=n.getSum(a);return i.percent=s?+(n.get(a,r)/s*100).toFixed(2):0,i.$vars.push("percent"),i},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(_n);function n3e(e,t){return Si(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function i3e(e,t){for(var r=e.mapDimension("value"),n=e.mapArray(r,function(l){return l}),i=[],a=t==="ascending",s=0,o=e.count();s<o;s++)i[s]=s;return lt(t)?i.sort(t):t!=="none"&&i.sort(function(l,c){return a?n[l]-n[c]:n[c]-n[l]}),i}function a3e(e){var t=e.hostModel,r=t.get("orient");e.each(function(n){var i=e.getItemModel(n),a=i.getModel("label"),s=a.get("position"),o=i.getModel("labelLine"),l=e.getItemLayout(n),c=l.points,u=s==="inner"||s==="inside"||s==="center"||s==="insideLeft"||s==="insideRight",h,f,p,g;if(u)s==="insideLeft"?(f=(c[0][0]+c[3][0])/2+5,p=(c[0][1]+c[3][1])/2,h="left"):s==="insideRight"?(f=(c[1][0]+c[2][0])/2-5,p=(c[1][1]+c[2][1])/2,h="right"):(f=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,p=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4,h="center"),g=[[f,p],[f,p]];else{var v=void 0,m=void 0,y=void 0,x=void 0,_=o.get("length");s==="left"?(v=(c[3][0]+c[0][0])/2,m=(c[3][1]+c[0][1])/2,y=v-_,f=y-5,h="right"):s==="right"?(v=(c[1][0]+c[2][0])/2,m=(c[1][1]+c[2][1])/2,y=v+_,f=y+5,h="left"):s==="top"?(v=(c[3][0]+c[0][0])/2,m=(c[3][1]+c[0][1])/2,x=m-_,p=x-5,h="center"):s==="bottom"?(v=(c[1][0]+c[2][0])/2,m=(c[1][1]+c[2][1])/2,x=m+_,p=x+5,h="center"):s==="rightTop"?(v=r==="horizontal"?c[3][0]:c[1][0],m=r==="horizontal"?c[3][1]:c[1][1],r==="horizontal"?(x=m-_,p=x-5,h="center"):(y=v+_,f=y+5,h="top")):s==="rightBottom"?(v=c[2][0],m=c[2][1],r==="horizontal"?(x=m+_,p=x+5,h="center"):(y=v+_,f=y+5,h="bottom")):s==="leftTop"?(v=c[0][0],m=r==="horizontal"?c[0][1]:c[1][1],r==="horizontal"?(x=m-_,p=x-5,h="center"):(y=v-_,f=y-5,h="right")):s==="leftBottom"?(v=r==="horizontal"?c[1][0]:c[3][0],m=r==="horizontal"?c[1][1]:c[2][1],r==="horizontal"?(x=m+_,p=x+5,h="center"):(y=v-_,f=y-5,h="right")):(v=(c[1][0]+c[2][0])/2,m=(c[1][1]+c[2][1])/2,r==="horizontal"?(x=m+_,p=x+5,h="center"):(y=v+_,f=y+5,h="left")),r==="horizontal"?(y=v,f=y):(x=m,p=x),g=[[v,m],[y,x]]}l.label={linePoints:g,x:f,y:p,verticalAlign:"middle",textAlign:h,inside:u}})}function s3e(e,t){e.eachSeriesByType("funnel",function(r){var n=r.getData(),i=n.mapDimension("value"),a=r.get("sort"),s=n3e(r,t),o=r.get("orient"),l=s.width,c=s.height,u=i3e(n,a),h=s.x,f=s.y,p=o==="horizontal"?[Le(r.get("minSize"),c),Le(r.get("maxSize"),c)]:[Le(r.get("minSize"),l),Le(r.get("maxSize"),l)],g=n.getDataExtent(i),v=r.get("min"),m=r.get("max");v==null&&(v=Math.min(g[0],0)),m==null&&(m=g[1]);var y=r.get("funnelAlign"),x=r.get("gap"),_=o==="horizontal"?l:c,b=(_-x*(n.count()-1))/n.count(),w=function(D,$){if(o==="horizontal"){var L=n.get(i,D)||0,O=Hr(L,[v,m],p,!0),j=void 0;switch(y){case"top":j=f;break;case"center":j=f+(c-O)/2;break;case"bottom":j=f+(c-O);break}return[[$,j],[$,j+O]]}var M=n.get(i,D)||0,R=Hr(M,[v,m],p,!0),z;switch(y){case"left":z=h;break;case"center":z=h+(l-R)/2;break;case"right":z=h+l-R;break}return[[z,$],[z+R,$]]};a==="ascending"&&(b=-b,x=-x,o==="horizontal"?h+=l:f+=c,u=u.reverse());for(var S=0;S<u.length;S++){var k=u[S],C=u[S+1],E=n.getItemModel(k);if(o==="horizontal"){var T=E.get(["itemStyle","width"]);T==null?T=b:(T=Le(T,l),a==="ascending"&&(T=-T));var N=w(k,h),I=w(C,h+T);h+=T+x,n.setItemLayout(k,{points:N.concat(I.slice().reverse())})}else{var P=E.get(["itemStyle","height"]);P==null?P=b:(P=Le(P,c),a==="ascending"&&(P=-P));var N=w(k,f),I=w(C,f+P);f+=P+x,n.setItemLayout(k,{points:N.concat(I.slice().reverse())})}}a3e(n)})}function o3e(e){e.registerChartView(t3e),e.registerSeriesModel(r3e),e.registerLayout(s3e),e.registerProcessor(t1("funnel"))}var l3e=.3,c3e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._dataGroup=new _t,r._initialized=!1,r}return t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(r,n,i,a){this._progressiveEls=null;var s=this._dataGroup,o=r.getData(),l=this._data,c=r.coordinateSystem,u=c.dimensions,h=ZW(r);o.diff(l).add(f).update(p).remove(g).execute();function f(m){var y=XW(o,s,m,u,c);pI(y,o,m,h)}function p(m,y){var x=l.getItemGraphicEl(y),_=Use(o,m,u,c);o.setItemGraphicEl(m,x),Rr(x,{shape:{points:_}},r,m),gl(x),pI(x,o,m,h)}function g(m){var y=l.getItemGraphicEl(m);s.remove(y)}if(!this._initialized){this._initialized=!0;var v=u3e(c,r,function(){setTimeout(function(){s.removeClipPath()})});s.setClipPath(v)}this._data=o},t.prototype.incrementalPrepareRender=function(r,n,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(r,n,i){for(var a=n.getData(),s=n.coordinateSystem,o=s.dimensions,l=ZW(n),c=this._progressiveEls=[],u=r.start;u<r.end;u++){var h=XW(a,this._dataGroup,u,o,s);h.incremental=!0,pI(h,a,u,l),c.push(h)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(dn);function u3e(e,t,r){var n=e.model,i=e.getRect(),a=new xr({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),s=n.get("layout")==="horizontal"?"width":"height";return a.setShape(s,0),Rn(a,{shape:{width:i.width,height:i.height}},t,r),a}function Use(e,t,r,n){for(var i=[],a=0;a<r.length;a++){var s=r[a],o=e.get(e.mapDimension(s),t);d3e(o,n.getAxis(s).type)||i.push(n.dataToPoint(o,s))}return i}function XW(e,t,r,n,i){var a=Use(e,r,n,i),s=new Ja({shape:{points:a},z2:10});return t.add(s),e.setItemGraphicEl(r,s),s}function ZW(e){var t=e.get("smooth",!0);return t===!0&&(t=l3e),t=ku(t),vb(t)&&(t=0),{smooth:t}}function pI(e,t,r,n){e.useStyle(t.getItemVisual(r,"style")),e.style.fill=null,e.setShape("smooth",n.smooth);var i=t.getItemModel(r),a=i.getModel("emphasis");ta(e,i,"lineStyle"),Wn(e,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function d3e(e,t){return t==="category"?e==null:e==null||isNaN(e)}var h3e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return t.prototype.getInitialData=function(r,n){return Uu(null,this,{useEncodeDefaulter:Ke(f3e,null,this)})},t.prototype.getRawIndicesByActiveState=function(r){var n=this.coordinateSystem,i=this.getData(),a=[];return n.eachActiveState(i,function(s,o){r===s&&a.push(i.getRawIndex(o))}),a},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(_n);function f3e(e){var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(t){var r={};return V(t.dimensions,function(n){var i=p3e(n);r[n]=i}),r}}function p3e(e){return+e.replace("dim","")}var g3e=["lineStyle","opacity"],m3e={seriesType:"parallel",reset:function(e,t){var r=e.coordinateSystem,n={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(i,a){r.eachActiveState(a,function(s,o){var l=n[s];if(s==="normal"&&a.hasItemOption){var c=a.getItemModel(o).get(g3e,!0);c!=null&&(l=c)}var u=a.ensureUniqueItemVisual(o,"style");u.opacity=l},i.start,i.end)}}}};function v3e(e){y3e(e),x3e(e)}function y3e(e){if(!e.parallel){var t=!1;V(e.series,function(r){r&&r.type==="parallel"&&(t=!0)}),t&&(e.parallel=[{}])}}function x3e(e){var t=sn(e.parallelAxis);V(t,function(r){if(ft(r)){var n=r.parallelIndex||0,i=sn(e.parallel)[n];i&&i.parallelAxisDefault&&Pt(r,i.parallelAxisDefault,!1)}})}var _3e=5,b3e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){this._model=r,this._api=i,this._handlers||(this._handlers={},V(w3e,function(a,s){i.getZr().on(s,this._handlers[s]=Ke(a,this))},this)),C0(this,"_throttledDispatchExpand",r.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(r,n){jb(this,"_throttledDispatchExpand"),V(this._handlers,function(i,a){n.getZr().off(a,i)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(r){this._dispatchExpand(r)},t.prototype._dispatchExpand=function(r){r&&this._api.dispatchAction(pe({type:"parallelAxisExpand"},r))},t.type="parallel",t}(Bn),w3e={mousedown:function(e){gI(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(gI(this,"click")&&t){var r=[e.offsetX,e.offsetY],n=Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2);if(n>_3e)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!(this._mouseDownPoint||!gI(this,"mousemove"))){var t=this._model,r=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),n=r.behavior;n==="jump"&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand(n==="none"?null:{axisExpandWindow:r.axisExpandWindow,animation:n==="jump"?null:{duration:0}})}}};function gI(e,t){var r=e._model;return r.get("axisExpandable")&&r.get("axisExpandTriggerOn")===t}var S3e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){e.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(r){var n=this.option;r&&Pt(n,r,!0),this._initDimensions()},t.prototype.contains=function(r,n){var i=r.get("parallelIndex");return i!=null&&n.getComponent("parallel",i)===this},t.prototype.setAxisExpand=function(r){V(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(n){r.hasOwnProperty(n)&&(this.option[n]=r[n])},this)},t.prototype._initDimensions=function(){var r=this.dimensions=[],n=this.parallelAxisIndex=[],i=Br(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);V(i,function(a){r.push("dim"+a.get("dim")),n.push(a.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(ir),C3e=function(e){ce(t,e);function t(r,n,i,a,s){var o=e.call(this,r,n,i)||this;return o.type=a||"value",o.axisIndex=s,o}return t.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},t}(Sl);function ag(e,t,r,n,i,a){e=e||0;var s=r[1]-r[0];if(i!=null&&(i=Ug(i,[0,s])),a!=null&&(a=Math.max(a,i??0)),n==="all"){var o=Math.abs(t[1]-t[0]);o=Ug(o,[0,s]),i=a=Ug(o,[i,a]),n=0}t[0]=Ug(t[0],r),t[1]=Ug(t[1],r);var l=mI(t,n);t[n]+=e;var c=i||0,u=r.slice();l.sign<0?u[0]+=c:u[1]-=c,t[n]=Ug(t[n],u);var h;return h=mI(t,n),i!=null&&(h.sign!==l.sign||h.span<i)&&(t[1-n]=t[n]+l.sign*i),h=mI(t,n),a!=null&&h.span>a&&(t[1-n]=t[n]+h.sign*a),t}function mI(e,t){var r=e[t]-e[1-t];return{span:Math.abs(r),sign:r>0?-1:r<0?1:t?-1:1}}function Ug(e,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,e))}var vI=V,Hse=Math.min,Vse=Math.max,JW=Math.floor,k3e=Math.ceil,QW=ei,E3e=Math.PI,T3e=function(){function e(t,r,n){this.type="parallel",this._axesMap=Qe(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,r,n)}return e.prototype._init=function(t,r,n){var i=t.dimensions,a=t.parallelAxisIndex;vI(i,function(s,o){var l=a[o],c=r.getComponent("parallelAxis",l),u=this._axesMap.set(s,new C3e(s,B2(c),[0,0],c.get("type"),l)),h=u.type==="category";u.onBand=h&&c.get("boundaryGap"),u.inverse=c.get("inverse"),c.axis=u,u.model=c,u.coordinateSystem=c.coordinateSystem=this},this)},e.prototype.update=function(t,r){this._updateAxesFromSeries(this._model,t)},e.prototype.containPoint=function(t){var r=this._makeLayoutInfo(),n=r.axisBase,i=r.layoutBase,a=r.pixelDimIndex,s=t[1-a],o=t[a];return s>=n&&s<=n+r.axisLength&&o>=i&&o<=i+r.layoutLength},e.prototype.getModel=function(){return this._model},e.prototype._updateAxesFromSeries=function(t,r){r.eachSeries(function(n){if(t.contains(n,r)){var i=n.getData();vI(this.dimensions,function(a){var s=this._axesMap.get(a);s.scale.unionExtentFromData(i,i.mapDimension(a)),jv(s.scale,s.model)},this)}},this)},e.prototype.resize=function(t,r){this._rect=Si(t.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),this._layoutAxes()},e.prototype.getRect=function(){return this._rect},e.prototype._makeLayoutInfo=function(){var t=this._model,r=this._rect,n=["x","y"],i=["width","height"],a=t.get("layout"),s=a==="horizontal"?0:1,o=r[i[s]],l=[0,o],c=this.dimensions.length,u=vC(t.get("axisExpandWidth"),l),h=vC(t.get("axisExpandCount")||0,[0,c]),f=t.get("axisExpandable")&&c>3&&c>h&&h>1&&u>0&&o>0,p=t.get("axisExpandWindow"),g;if(p)g=vC(p[1]-p[0],l),p[1]=p[0]+g;else{g=vC(u*(h-1),l);var v=t.get("axisExpandCenter")||JW(c/2);p=[u*v-g/2],p[1]=p[0]+g}var m=(o-g)/(c-h);m<3&&(m=0);var y=[JW(QW(p[0]/u,1))+1,k3e(QW(p[1]/u,1))-1],x=m/u*p[0];return{layout:a,pixelDimIndex:s,layoutBase:r[n[s]],layoutLength:o,axisBase:r[n[1-s]],axisLength:r[i[1-s]],axisExpandable:f,axisExpandWidth:u,axisCollapseWidth:m,axisExpandWindow:p,axisCount:c,winInnerIndices:y,axisExpandWindow0Pos:x}},e.prototype._layoutAxes=function(){var t=this._rect,r=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),a=i.layout;r.each(function(s){var o=[0,i.axisLength],l=s.inverse?1:0;s.setExtent(o[l],o[1-l])}),vI(n,function(s,o){var l=(i.axisExpandable?A3e:N3e)(o,i),c={horizontal:{x:l.position,y:i.axisLength},vertical:{x:0,y:l.position}},u={horizontal:E3e/2,vertical:0},h=[c[a].x+t.x,c[a].y+t.y],f=u[a],p=$s();Jp(p,p,f),xc(p,p,h),this._axesLayout[s]={position:h,rotation:f,transform:p,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},e.prototype.getAxis=function(t){return this._axesMap.get(t)},e.prototype.dataToPoint=function(t,r){return this.axisCoordToPoint(this._axesMap.get(r).dataToCoord(t),r)},e.prototype.eachActiveState=function(t,r,n,i){n==null&&(n=0),i==null&&(i=t.count());var a=this._axesMap,s=this.dimensions,o=[],l=[];V(s,function(m){o.push(t.mapDimension(m)),l.push(a.get(m).model)});for(var c=this.hasAxisBrushed(),u=n;u<i;u++){var h=void 0;if(!c)h="normal";else{h="active";for(var f=t.getValues(o,u),p=0,g=s.length;p<g;p++){var v=l[p].getActiveState(f[p]);if(v==="inactive"){h="inactive";break}}}r(h,u)}},e.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,r=this._axesMap,n=!1,i=0,a=t.length;i<a;i++)r.get(t[i]).model.getActiveState()!=="normal"&&(n=!0);return n},e.prototype.axisCoordToPoint=function(t,r){var n=this._axesLayout[r];return cl([t,0],n.transform)},e.prototype.getAxisLayout=function(t){return vt(this._axesLayout[t])},e.prototype.getSlidedAxisExpandWindow=function(t){var r=this._makeLayoutInfo(),n=r.pixelDimIndex,i=r.axisExpandWindow.slice(),a=i[1]-i[0],s=[0,r.axisExpandWidth*(r.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var o=t[n]-r.layoutBase-r.axisExpandWindow0Pos,l,c="slide",u=r.axisCollapseWidth,h=this._model.get("axisExpandSlideTriggerArea"),f=h[0]!=null;if(u)f&&u&&o<a*h[0]?(c="jump",l=o-a*h[2]):f&&u&&o>a*(1-h[0])?(c="jump",l=o-a*(1-h[2])):(l=o-a*h[1])>=0&&(l=o-a*(1-h[1]))<=0&&(l=0),l*=r.axisExpandWidth/u,l?ag(l,i,s,"all"):c="none";else{var p=i[1]-i[0],g=s[1]*o/p;i=[Vse(0,g-p/2)],i[1]=Hse(s[1],i[0]+p),i[0]=i[1]-p}return{axisExpandWindow:i,behavior:c}},e}();function vC(e,t){return Hse(Vse(e,t[0]),t[1])}function N3e(e,t){var r=t.layoutLength/(t.axisCount-1);return{position:r*e,axisNameAvailableWidth:r,axisLabelShow:!0}}function A3e(e,t){var r=t.layoutLength,n=t.axisExpandWidth,i=t.axisCount,a=t.axisCollapseWidth,s=t.winInnerIndices,o,l=a,c=!1,u;return e<s[0]?(o=e*a,u=a):e<=s[1]?(o=t.axisExpandWindow0Pos+e*n-t.axisExpandWindow[0],l=n,c=!0):(o=r-(i-1-e)*a,u=a),{position:o,axisNameAvailableWidth:l,axisLabelShow:c,nameTruncateMaxWidth:u}}function j3e(e,t){var r=[];return e.eachComponent("parallel",function(n,i){var a=new T3e(n,e,t);a.name="parallel_"+i,a.resize(n,t),n.coordinateSystem=a,a.model=n,r.push(a)}),e.eachSeries(function(n){if(n.get("coordinateSystem")==="parallel"){var i=n.getReferringComponents("parallel",di).models[0];n.coordinateSystem=i.coordinateSystem}}),r}var R3e={create:j3e},HD=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.activeIntervals=[],r}return t.prototype.getAreaSelectStyle=function(){return jp([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(r){var n=this.activeIntervals=vt(r);if(n)for(var i=n.length-1;i>=0;i--)ko(n[i])},t.prototype.getActiveState=function(r){var n=this.activeIntervals;if(!n.length)return"normal";if(r==null||isNaN(+r))return"inactive";if(n.length===1){var i=n[0];if(i[0]<=r&&r<=i[1])return"active"}else for(var a=0,s=n.length;a<s;a++)if(n[a][0]<=r&&r<=n[a][1])return"active";return"inactive"},t}(ir);pi(HD,Xw);var Mp=!0,Ub=Math.min,Mv=Math.max,I3e=Math.pow,M3e=1e4,P3e=6,L3e=6,e7="globalPan",D3e={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},O3e={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},t7={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},$3e=0,N$=function(e){ce(t,e);function t(r){var n=e.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=r,n.group=new _t,n._uid="brushController_"+$3e++,V(W3e,function(i,a){this._handlers[a]=Ke(i,this)},n),n}return t.prototype.enableBrush=function(r){return this._brushType&&this._doDisableBrush(),r.brushType&&this._doEnableBrush(r),this},t.prototype._doEnableBrush=function(r){var n=this._zr;this._enableGlobalPan||NLe(n,e7,this._uid),V(this._handlers,function(i,a){n.on(a,i)}),this._brushType=r.brushType,this._brushOption=Pt(vt(t7),r,!0)},t.prototype._doDisableBrush=function(){var r=this._zr;ALe(r,e7,this._uid),V(this._handlers,function(n,i){r.off(i,n)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(r){if(r&&r.length){var n=this._panels={};V(r,function(i){n[i.panelId]=vt(i)})}else this._panels=null;return this},t.prototype.mount=function(r){r=r||{},this._enableGlobalPan=r.enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:r.x||0,y:r.y||0,rotation:r.rotation||0,scaleX:r.scaleX||1,scaleY:r.scaleY||1}),this._transform=n.getLocalTransform(),this},t.prototype.updateCovers=function(r){r=_e(r,function(f){return Pt(vt(t7),f,!0)});var n="\0-brush-index-",i=this._covers,a=this._covers=[],s=this,o=this._creatingCover;return new Nu(i,r,c,l).add(u).update(u).remove(h).execute(),this;function l(f,p){return(f.id!=null?f.id:n+p)+"-"+f.brushType}function c(f,p){return l(f.__brushOption,p)}function u(f,p){var g=r[f];if(p!=null&&i[p]===o)a[f]=i[p];else{var v=a[f]=p!=null?(i[p].__brushOption=g,i[p]):Gse(s,Wse(s,g));A$(s,v)}}function h(f){i[f]!==o&&s.group.remove(i[f])}},t.prototype.unmount=function(){return this.enableBrush(!1),VD(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(Po);function Wse(e,t){var r=W2[t.brushType].createCover(e,t);return r.__brushOption=t,Yse(r,t),e.group.add(r),r}function Gse(e,t){var r=j$(t);return r.endCreating&&(r.endCreating(e,t),Yse(t,t.__brushOption)),t}function qse(e,t){var r=t.__brushOption;j$(t).updateCoverShape(e,t,r.range,r)}function Yse(e,t){var r=t.z;r==null&&(r=M3e),e.traverse(function(n){n.z=r,n.z2=r})}function A$(e,t){j$(t).updateCommon(e,t),qse(e,t)}function j$(e){return W2[e.__brushOption.brushType]}function R$(e,t,r){var n=e._panels;if(!n)return Mp;var i,a=e._transform;return V(n,function(s){s.isTargetByCursor(t,r,a)&&(i=s)}),i}function Kse(e,t){var r=e._panels;if(!r)return Mp;var n=t.__brushOption.panelId;return n!=null?r[n]:Mp}function VD(e){var t=e._covers,r=t.length;return V(t,function(n){e.group.remove(n)},e),t.length=0,!!r}function Pp(e,t){var r=_e(e._covers,function(n){var i=n.__brushOption,a=vt(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});e.trigger("brush",{areas:r,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function B3e(e){var t=e._track;if(!t.length)return!1;var r=t[t.length-1],n=t[0],i=r[0]-n[0],a=r[1]-n[1],s=I3e(i*i+a*a,.5);return s>P3e}function Xse(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function Zse(e,t,r,n){var i=new _t;return i.add(new xr({name:"main",style:I$(r),silent:!0,draggable:!0,cursor:"move",drift:At(r7,e,t,i,["n","s","w","e"]),ondragend:At(Pp,t,{isEnd:!0})})),V(n,function(a){i.add(new xr({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:At(r7,e,t,i,a),ondragend:At(Pp,t,{isEnd:!0})}))}),i}function Jse(e,t,r,n){var i=n.brushStyle.lineWidth||0,a=Mv(i,L3e),s=r[0][0],o=r[1][0],l=s-i/2,c=o-i/2,u=r[0][1],h=r[1][1],f=u-a+i/2,p=h-a+i/2,g=u-s,v=h-o,m=g+i,y=v+i;Uc(e,t,"main",s,o,g,v),n.transformable&&(Uc(e,t,"w",l,c,a,y),Uc(e,t,"e",f,c,a,y),Uc(e,t,"n",l,c,m,a),Uc(e,t,"s",l,p,m,a),Uc(e,t,"nw",l,c,a,a),Uc(e,t,"ne",f,c,a,a),Uc(e,t,"sw",l,p,a,a),Uc(e,t,"se",f,p,a,a))}function WD(e,t){var r=t.__brushOption,n=r.transformable,i=t.childAt(0);i.useStyle(I$(r)),i.attr({silent:!n,cursor:n?"move":"default"}),V([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var s=t.childOfName(a.join("")),o=a.length===1?GD(e,a[0]):z3e(e,a);s&&s.attr({silent:!n,invisible:!n,cursor:n?O3e[o]+"-resize":null})})}function Uc(e,t,r,n,i,a,s){var o=t.childOfName(r);o&&o.setShape(H3e(M$(e,t,[[n,i],[n+a,i+s]])))}function I$(e){return ut({strokeNoScale:!0},e.brushStyle)}function Qse(e,t,r,n){var i=[Ub(e,r),Ub(t,n)],a=[Mv(e,r),Mv(t,n)];return[[i[0],a[0]],[i[1],a[1]]]}function F3e(e){return hp(e.group)}function GD(e,t){var r={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},i=S2(r[t],F3e(e));return n[i]}function z3e(e,t){var r=[GD(e,t[0]),GD(e,t[1])];return(r[0]==="e"||r[0]==="w")&&r.reverse(),r.join("")}function r7(e,t,r,n,i,a){var s=r.__brushOption,o=e.toRectRange(s.range),l=eoe(t,i,a);V(n,function(c){var u=D3e[c];o[u[0]][u[1]]+=l[u[0]]}),s.range=e.fromRectRange(Qse(o[0][0],o[1][0],o[0][1],o[1][1])),A$(t,r),Pp(t,{isEnd:!1})}function U3e(e,t,r,n){var i=t.__brushOption.range,a=eoe(e,r,n);V(i,function(s){s[0]+=a[0],s[1]+=a[1]}),A$(e,t),Pp(e,{isEnd:!1})}function eoe(e,t,r){var n=e.group,i=n.transformCoordToLocal(t,r),a=n.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function M$(e,t,r){var n=Kse(e,t);return n&&n!==Mp?n.clipPath(r,e._transform):vt(r)}function H3e(e){var t=Ub(e[0][0],e[1][0]),r=Ub(e[0][1],e[1][1]),n=Mv(e[0][0],e[1][0]),i=Mv(e[0][1],e[1][1]);return{x:t,y:r,width:n-t,height:i-r}}function V3e(e,t,r){if(!(!e._brushType||G3e(e,t.offsetX,t.offsetY))){var n=e._zr,i=e._covers,a=R$(e,t,r);if(!e._dragging)for(var s=0;s<i.length;s++){var o=i[s].__brushOption;if(a&&(a===Mp||o.panelId===a.panelId)&&W2[o.brushType].contain(i[s],r[0],r[1]))return}a&&n.setCursorStyle("crosshair")}}function qD(e){var t=e.event;t.preventDefault&&t.preventDefault()}function YD(e,t,r){return e.childOfName("main").contain(t,r)}function toe(e,t,r,n){var i=e._creatingCover,a=e._creatingPanel,s=e._brushOption,o;if(e._track.push(r.slice()),B3e(e)||i){if(a&&!i){s.brushMode==="single"&&VD(e);var l=vt(s);l.brushType=n7(l.brushType,a),l.panelId=a===Mp?null:a.panelId,i=e._creatingCover=Wse(e,l),e._covers.push(i)}if(i){var c=W2[n7(e._brushType,a)],u=i.__brushOption;u.range=c.getCreatingRange(M$(e,i,e._track)),n&&(Gse(e,i),c.updateCommon(e,i)),qse(e,i),o={isEnd:n}}}else n&&s.brushMode==="single"&&s.removeOnClick&&R$(e,t,r)&&VD(e)&&(o={isEnd:n,removeOnClick:!0});return o}function n7(e,t){return e==="auto"?t.defaultBrushType:e}var W3e={mousedown:function(e){if(this._dragging)i7(this,e);else if(!e.target||!e.target.draggable){qD(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null;var r=this._creatingPanel=R$(this,e,t);r&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=e.offsetX,r=e.offsetY,n=this.group.transformCoordToLocal(t,r);if(V3e(this,e,n),this._dragging){qD(e);var i=toe(this,e,n,!1);i&&Pp(this,i)}},mouseup:function(e){i7(this,e)}};function i7(e,t){if(e._dragging){qD(t);var r=t.offsetX,n=t.offsetY,i=e.group.transformCoordToLocal(r,n),a=toe(e,t,i,!0);e._dragging=!1,e._track=[],e._creatingCover=null,a&&Pp(e,a)}}function G3e(e,t,r){var n=e._zr;return t<0||t>n.getWidth()||r<0||r>n.getHeight()}var W2={lineX:a7(0),lineY:a7(1),rect:{createCover:function(e,t){function r(n){return n}return Zse({toRectRange:r,fromRectRange:r},e,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(e){var t=Xse(e);return Qse(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,r,n){Jse(e,t,r,n)},updateCommon:WD,contain:YD},polygon:{createCover:function(e,t){var r=new _t;return r.add(new Ja({name:"main",style:I$(t),silent:!0})),r},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new Ya({name:"main",draggable:!0,drift:At(U3e,e,t),ondragend:At(Pp,e,{isEnd:!0})}))},updateCoverShape:function(e,t,r,n){t.childAt(0).setShape({points:M$(e,t,r)})},updateCommon:WD,contain:YD}};function a7(e){return{createCover:function(t,r){return Zse({toRectRange:function(n){var i=[n,[0,100]];return e&&i.reverse(),i},fromRectRange:function(n){return n[e]}},t,r,[[["w"],["e"]],[["n"],["s"]]][e])},getCreatingRange:function(t){var r=Xse(t),n=Ub(r[0][e],r[1][e]),i=Mv(r[0][e],r[1][e]);return[n,i]},updateCoverShape:function(t,r,n,i){var a,s=Kse(t,r);if(s!==Mp&&s.getLinearBrushOtherExtent)a=s.getLinearBrushOtherExtent(e);else{var o=t._zr;a=[0,[o.getWidth(),o.getHeight()][1-e]]}var l=[n,a];e&&l.reverse(),Jse(t,r,l,i)},updateCommon:WD,contain:YD}}function roe(e){return e=P$(e),function(t){return hne(t,e)}}function noe(e,t){return e=P$(e),function(r){var n=t??r,i=n?e.width:e.height,a=n?e.x:e.y;return[a,a+(i||0)]}}function ioe(e,t,r){var n=P$(e);return function(i,a){return n.contain(a[0],a[1])&&!z2(i,t,r)}}function P$(e){return Bt.create(e)}var q3e=["axisLine","axisTickLabel","axisName"],Y3e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){e.prototype.init.apply(this,arguments),(this._brushController=new N$(n.getZr())).on("brush",Ke(this._onBrush,this))},t.prototype.render=function(r,n,i,a){if(!K3e(r,n,a)){this.axisModel=r,this.api=i,this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new _t,this.group.add(this._axisGroup),!!r.get("show")){var o=Z3e(r,n),l=o.coordinateSystem,c=r.getAreaSelectStyle(),u=c.width,h=r.axis.dim,f=l.getAxisLayout(h),p=pe({strokeContainThreshold:u},f),g=new Va(r,p);V(q3e,g.add,g),this._axisGroup.add(g.getGroup()),this._refreshBrushController(p,c,r,o,u,i),Ww(s,this._axisGroup,r)}}},t.prototype._refreshBrushController=function(r,n,i,a,s,o){var l=i.axis.getExtent(),c=l[1]-l[0],u=Math.min(30,Math.abs(c)*.1),h=Bt.create({x:l[0],y:-s/2,width:c,height:s});h.x-=u,h.width+=2*u,this._brushController.mount({enableGlobalPan:!0,rotation:r.rotation,x:r.position[0],y:r.position[1]}).setPanels([{panelId:"pl",clipPath:roe(h),isTargetByCursor:ioe(h,o,a),getLinearBrushOtherExtent:noe(h,0)}]).enableBrush({brushType:"lineX",brushStyle:n,removeOnClick:!0}).updateCovers(X3e(i))},t.prototype._onBrush=function(r){var n=r.areas,i=this.axisModel,a=i.axis,s=_e(n,function(o){return[a.coordToData(o.range[0],!0),a.coordToData(o.range[1],!0)]});(!i.option.realtime===r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:s})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(Bn);function K3e(e,t,r){return r&&r.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:r})[0]===e}function X3e(e){var t=e.axis;return _e(e.activeIntervals,function(r){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(r[0],!0),t.dataToCoord(r[1],!0)]}})}function Z3e(e,t){return t.getComponent("parallel",e.get("parallelIndex"))}var J3e={type:"axisAreaSelect",event:"axisAreaSelected"};function Q3e(e){e.registerAction(J3e,function(t,r){r.eachComponent({mainType:"parallelAxis",query:t},function(n){n.axis.model.setActiveIntervals(t.intervals)})}),e.registerAction("parallelAxisExpand",function(t,r){r.eachComponent({mainType:"parallel",query:t},function(n){n.setAxisExpand(t)})})}var e5e={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function aoe(e){e.registerComponentView(b3e),e.registerComponentModel(S3e),e.registerCoordinateSystem("parallel",R3e),e.registerPreprocessor(v3e),e.registerComponentModel(HD),e.registerComponentView(Y3e),Iv(e,"parallel",HD,e5e),Q3e(e)}function t5e(e){Zt(aoe),e.registerChartView(c3e),e.registerSeriesModel(h3e),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,m3e)}var r5e=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return e}(),n5e=function(e){ce(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new r5e},t.prototype.buildPath=function(r,n){var i=n.extent;r.moveTo(n.x1,n.y1),r.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),n.orient==="vertical"?(r.lineTo(n.x2+i,n.y2),r.bezierCurveTo(n.cpx2+i,n.cpy2,n.cpx1+i,n.cpy1,n.x1+i,n.y1)):(r.lineTo(n.x2,n.y2+i),r.bezierCurveTo(n.cpx2,n.cpy2+i,n.cpx1,n.cpy1+i,n.x1,n.y1+i)),r.closePath()},t.prototype.highlight=function(){Eu(this)},t.prototype.downplay=function(){Tu(this)},t}(er),i5e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._focusAdjacencyDisabled=!1,r}return t.prototype.render=function(r,n,i){var a=this,s=r.getGraph(),o=this.group,l=r.layoutInfo,c=l.width,u=l.height,h=r.getData(),f=r.getData("edge"),p=r.get("orient");this._model=r,o.removeAll(),o.x=l.x,o.y=l.y,s.eachEdge(function(g){var v=new n5e,m=wt(v);m.dataIndex=g.dataIndex,m.seriesIndex=r.seriesIndex,m.dataType="edge";var y=g.getModel(),x=y.getModel("lineStyle"),_=x.get("curveness"),b=g.node1.getLayout(),w=g.node1.getModel(),S=w.get("localX"),k=w.get("localY"),C=g.node2.getLayout(),E=g.node2.getModel(),T=E.get("localX"),N=E.get("localY"),I=g.getLayout(),P,D,$,L,O,j,M,R;v.shape.extent=Math.max(1,I.dy),v.shape.orient=p,p==="vertical"?(P=(S!=null?S*c:b.x)+I.sy,D=(k!=null?k*u:b.y)+b.dy,$=(T!=null?T*c:C.x)+I.ty,L=N!=null?N*u:C.y,O=P,j=D*(1-_)+L*_,M=$,R=D*_+L*(1-_)):(P=(S!=null?S*c:b.x)+b.dx,D=(k!=null?k*u:b.y)+I.sy,$=T!=null?T*c:C.x,L=(N!=null?N*u:C.y)+I.ty,O=P*(1-_)+$*_,j=D,M=P*_+$*(1-_),R=L),v.setShape({x1:P,y1:D,x2:$,y2:L,cpx1:O,cpy1:j,cpx2:M,cpy2:R}),v.useStyle(x.getItemStyle()),s7(v.style,p,g);var z=""+y.get("value"),U=Pi(y,"edgeLabel");ra(v,U,{labelFetcher:{getFormattedLabel:function(q,K,B,W,Y,Z){return r.getFormattedLabel(q,K,"edge",W,dc(Y,U.normal&&U.normal.get("formatter"),z),Z)}},labelDataIndex:g.dataIndex,defaultText:z}),v.setTextConfig({position:"inside"});var F=y.getModel("emphasis");ta(v,y,"lineStyle",function(q){var K=q.getItemStyle();return s7(K,p,g),K}),o.add(v),f.setItemGraphicEl(g.dataIndex,v);var G=F.get("focus");Wn(v,G==="adjacency"?g.getAdjacentDataIndices():G==="trajectory"?g.getTrajectoryDataIndices():G,F.get("blurScope"),F.get("disabled"))}),s.eachNode(function(g){var v=g.getLayout(),m=g.getModel(),y=m.get("localX"),x=m.get("localY"),_=m.getModel("emphasis"),b=m.get(["itemStyle","borderRadius"])||0,w=new xr({shape:{x:y!=null?y*c:v.x,y:x!=null?x*u:v.y,width:v.dx,height:v.dy,r:b},style:m.getModel("itemStyle").getItemStyle(),z2:10});ra(w,Pi(m),{labelFetcher:{getFormattedLabel:function(k,C){return r.getFormattedLabel(k,C,"node")}},labelDataIndex:g.dataIndex,defaultText:g.id}),w.disableLabelAnimation=!0,w.setStyle("fill",g.getVisual("color")),w.setStyle("decal",g.getVisual("style").decal),ta(w,m),o.add(w),h.setItemGraphicEl(g.dataIndex,w),wt(w).dataType="node";var S=_.get("focus");Wn(w,S==="adjacency"?g.getAdjacentDataIndices():S==="trajectory"?g.getTrajectoryDataIndices():S,_.get("blurScope"),_.get("disabled"))}),h.eachItemGraphicEl(function(g,v){var m=h.getItemModel(v);m.get("draggable")&&(g.drift=function(y,x){a._focusAdjacencyDisabled=!0,this.shape.x+=y,this.shape.y+=x,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:r.id,dataIndex:h.getRawIndex(v),localX:this.shape.x/c,localY:this.shape.y/u})},g.ondragend=function(){a._focusAdjacencyDisabled=!1},g.draggable=!0,g.cursor="move")}),!this._data&&r.isAnimationEnabled()&&o.setClipPath(a5e(o.getBoundingRect(),r,function(){o.removeClipPath()})),this._data=r.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(dn);function s7(e,t,r){switch(e.fill){case"source":e.fill=r.node1.getVisual("color"),e.decal=r.node1.getVisual("style").decal;break;case"target":e.fill=r.node2.getVisual("color"),e.decal=r.node2.getVisual("style").decal;break;case"gradient":var n=r.node1.getVisual("color"),i=r.node2.getVisual("color");We(n)&&We(i)&&(e.fill=new Vw(0,0,+(t==="horizontal"),+(t==="vertical"),[{color:n,offset:0},{color:i,offset:1}]))}}function a5e(e,t,r){var n=new xr({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Rn(n,{shape:{width:e.width+20}},t,r),n}var s5e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getInitialData=function(r,n){var i=r.edges||r.links||[],a=r.data||r.nodes||[],s=r.levels||[];this.levelModels=[];for(var o=this.levelModels,l=0;l<s.length;l++)s[l].depth!=null&&s[l].depth>=0&&(o[s[l].depth]=new Vr(s[l],this,n));var c=zse(a,i,this,!0,u);return c.data;function u(h,f){h.wrapMethod("getItemModel",function(p,g){var v=p.parentModel,m=v.getData().getItemLayout(g);if(m){var y=m.depth,x=v.levelModels[y];x&&(p.parentModel=x)}return p}),f.wrapMethod("getItemModel",function(p,g){var v=p.parentModel,m=v.getGraph().getEdgeByIndex(g),y=m.node1.getLayout();if(y){var x=y.depth,_=v.levelModels[x];_&&(p.parentModel=_)}return p})}},t.prototype.setNodePosition=function(r,n){var i=this.option.data||this.option.nodes,a=i[r];a.localX=n[0],a.localY=n[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(r,n,i){function a(p){return isNaN(p)||p==null}if(i==="edge"){var s=this.getDataParams(r,i),o=s.data,l=s.value,c=o.source+" -- "+o.target;return Li("nameValue",{name:c,value:l,noValue:a(l)})}else{var u=this.getGraph().getNodeByIndex(r),h=u.getLayout().value,f=this.getDataParams(r,i).data.name;return Li("nameValue",{name:f!=null?f+"":null,value:h,noValue:a(h)})}},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(r,n){var i=e.prototype.getDataParams.call(this,r,n);if(i.value==null&&n==="node"){var a=this.getGraph().getNodeByIndex(r),s=a.getLayout().value;i.value=s}return i},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(_n);function o5e(e,t){e.eachSeriesByType("sankey",function(r){var n=r.get("nodeWidth"),i=r.get("nodeGap"),a=l5e(r,t);r.layoutInfo=a;var s=a.width,o=a.height,l=r.getGraph(),c=l.nodes,u=l.edges;u5e(c);var h=Br(c,function(v){return v.getLayout().value===0}),f=h.length!==0?0:r.get("layoutIterations"),p=r.get("orient"),g=r.get("nodeAlign");c5e(c,u,n,i,s,o,f,p,g)})}function l5e(e,t){return Si(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function c5e(e,t,r,n,i,a,s,o,l){d5e(e,t,r,i,a,o,l),g5e(e,t,a,i,n,s,o),C5e(e,o)}function u5e(e){V(e,function(t){var r=nh(t.outEdges,ET),n=nh(t.inEdges,ET),i=t.getValue()||0,a=Math.max(r,n,i);t.setLayout({value:a},!0)})}function d5e(e,t,r,n,i,a,s){for(var o=[],l=[],c=[],u=[],h=0,f=0;f<t.length;f++)o[f]=1;for(var f=0;f<e.length;f++)l[f]=e[f].inEdges.length,l[f]===0&&c.push(e[f]);for(var p=-1;c.length;){for(var g=0;g<c.length;g++){var v=c[g],m=v.hostGraph.data.getRawDataItem(v.dataIndex),y=m.depth!=null&&m.depth>=0;y&&m.depth>p&&(p=m.depth),v.setLayout({depth:y?m.depth:h},!0),a==="vertical"?v.setLayout({dy:r},!0):v.setLayout({dx:r},!0);for(var x=0;x<v.outEdges.length;x++){var _=v.outEdges[x],b=t.indexOf(_);o[b]=0;var w=_.node2,S=e.indexOf(w);--l[S]===0&&u.indexOf(w)<0&&u.push(w)}}++h,c=u,u=[]}for(var f=0;f<o.length;f++)if(o[f]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var k=p>h-1?p:h-1;s&&s!=="left"&&h5e(e,s,a,k);var C=a==="vertical"?(i-r)/k:(n-r)/k;p5e(e,C,a)}function soe(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return t.depth!=null&&t.depth>=0}function h5e(e,t,r,n){if(t==="right"){for(var i=[],a=e,s=0;a.length;){for(var o=0;o<a.length;o++){var l=a[o];l.setLayout({skNodeHeight:s},!0);for(var c=0;c<l.inEdges.length;c++){var u=l.inEdges[c];i.indexOf(u.node1)<0&&i.push(u.node1)}}a=i,i=[],++s}V(e,function(h){soe(h)||h.setLayout({depth:Math.max(0,n-h.getLayout().skNodeHeight)},!0)})}else t==="justify"&&f5e(e,n)}function f5e(e,t){V(e,function(r){!soe(r)&&!r.outEdges.length&&r.setLayout({depth:t},!0)})}function p5e(e,t,r){V(e,function(n){var i=n.getLayout().depth*t;r==="vertical"?n.setLayout({y:i},!0):n.setLayout({x:i},!0)})}function g5e(e,t,r,n,i,a,s){var o=m5e(e,s);v5e(o,t,r,n,i,s),yI(o,i,r,n,s);for(var l=1;a>0;a--)l*=.99,y5e(o,l,s),yI(o,i,r,n,s),S5e(o,l,s),yI(o,i,r,n,s)}function m5e(e,t){var r=[],n=t==="vertical"?"y":"x",i=KL(e,function(a){return a.getLayout()[n]});return i.keys.sort(function(a,s){return a-s}),V(i.keys,function(a){r.push(i.buckets.get(a))}),r}function v5e(e,t,r,n,i,a){var s=1/0;V(e,function(o){var l=o.length,c=0;V(o,function(h){c+=h.getLayout().value});var u=a==="vertical"?(n-(l-1)*i)/c:(r-(l-1)*i)/c;u<s&&(s=u)}),V(e,function(o){V(o,function(l,c){var u=l.getLayout().value*s;a==="vertical"?(l.setLayout({x:c},!0),l.setLayout({dx:u},!0)):(l.setLayout({y:c},!0),l.setLayout({dy:u},!0))})}),V(t,function(o){var l=+o.getValue()*s;o.setLayout({dy:l},!0)})}function yI(e,t,r,n,i){var a=i==="vertical"?"x":"y";V(e,function(s){s.sort(function(v,m){return v.getLayout()[a]-m.getLayout()[a]});for(var o,l,c,u=0,h=s.length,f=i==="vertical"?"dx":"dy",p=0;p<h;p++)l=s[p],c=u-l.getLayout()[a],c>0&&(o=l.getLayout()[a]+c,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0)),u=l.getLayout()[a]+l.getLayout()[f]+t;var g=i==="vertical"?n:r;if(c=u-t-g,c>0){o=l.getLayout()[a]-c,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0),u=o;for(var p=h-2;p>=0;--p)l=s[p],c=l.getLayout()[a]+l.getLayout()[f]+t-u,c>0&&(o=l.getLayout()[a]-c,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0)),u=l.getLayout()[a]}})}function y5e(e,t,r){V(e.slice().reverse(),function(n){V(n,function(i){if(i.outEdges.length){var a=nh(i.outEdges,x5e,r)/nh(i.outEdges,ET);if(isNaN(a)){var s=i.outEdges.length;a=s?nh(i.outEdges,_5e,r)/s:0}if(r==="vertical"){var o=i.getLayout().x+(a-mh(i,r))*t;i.setLayout({x:o},!0)}else{var l=i.getLayout().y+(a-mh(i,r))*t;i.setLayout({y:l},!0)}}})})}function x5e(e,t){return mh(e.node2,t)*e.getValue()}function _5e(e,t){return mh(e.node2,t)}function b5e(e,t){return mh(e.node1,t)*e.getValue()}function w5e(e,t){return mh(e.node1,t)}function mh(e,t){return t==="vertical"?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function ET(e){return e.getValue()}function nh(e,t,r){for(var n=0,i=e.length,a=-1;++a<i;){var s=+t(e[a],r);isNaN(s)||(n+=s)}return n}function S5e(e,t,r){V(e,function(n){V(n,function(i){if(i.inEdges.length){var a=nh(i.inEdges,b5e,r)/nh(i.inEdges,ET);if(isNaN(a)){var s=i.inEdges.length;a=s?nh(i.inEdges,w5e,r)/s:0}if(r==="vertical"){var o=i.getLayout().x+(a-mh(i,r))*t;i.setLayout({x:o},!0)}else{var l=i.getLayout().y+(a-mh(i,r))*t;i.setLayout({y:l},!0)}}})})}function C5e(e,t){var r=t==="vertical"?"x":"y";V(e,function(n){n.outEdges.sort(function(i,a){return i.node2.getLayout()[r]-a.node2.getLayout()[r]}),n.inEdges.sort(function(i,a){return i.node1.getLayout()[r]-a.node1.getLayout()[r]})}),V(e,function(n){var i=0,a=0;V(n.outEdges,function(s){s.setLayout({sy:i},!0),i+=s.getLayout().dy}),V(n.inEdges,function(s){s.setLayout({ty:a},!0),a+=s.getLayout().dy})})}function k5e(e){e.eachSeriesByType("sankey",function(t){var r=t.getGraph(),n=r.nodes,i=r.edges;if(n.length){var a=1/0,s=-1/0;V(n,function(o){var l=o.getLayout().value;l<a&&(a=l),l>s&&(s=l)}),V(n,function(o){var l=new Mi({type:"color",mappingMethod:"linear",dataExtent:[a,s],visual:t.get("color")}),c=l.mapValueToVisual(o.getLayout().value),u=o.getModel().get(["itemStyle","color"]);u!=null?(o.setVisual("color",u),o.setVisual("style",{fill:u})):(o.setVisual("color",c),o.setVisual("style",{fill:c}))})}i.length&&V(i,function(o){var l=o.getModel().get("lineStyle");o.setVisual("style",l)})})}function E5e(e){e.registerChartView(i5e),e.registerSeriesModel(s5e),e.registerLayout(o5e),e.registerVisual(k5e),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,r){r.eachComponent({mainType:"series",subType:"sankey",query:t},function(n){n.setNodePosition(t.dataIndex,[t.localX,t.localY])})})}var ooe=function(){function e(){}return e.prototype._hasEncodeRule=function(t){var r=this.getEncode();return r&&r.get(t)!=null},e.prototype.getInitialData=function(t,r){var n,i=r.getComponent("xAxis",this.get("xAxisIndex")),a=r.getComponent("yAxis",this.get("yAxisIndex")),s=i.get("type"),o=a.get("type"),l;s==="category"?(t.layout="horizontal",n=i.getOrdinalMeta(),l=!this._hasEncodeRule("x")):o==="category"?(t.layout="vertical",n=a.getOrdinalMeta(),l=!this._hasEncodeRule("y")):t.layout=t.layout||"horizontal";var c=["x","y"],u=t.layout==="horizontal"?0:1,h=this._baseAxisDim=c[u],f=c[1-u],p=[i,a],g=p[u].get("type"),v=p[1-u].get("type"),m=t.data;if(m&&l){var y=[];V(m,function(b,w){var S;ye(b)?(S=b.slice(),b.unshift(w)):ye(b.value)?(S=pe({},b),S.value=S.value.slice(),b.value.unshift(w)):S=b,y.push(S)}),t.data=y}var x=this.defaultValueDimensions,_=[{name:h,type:gT(g),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:f,type:gT(v),dimsDef:x.slice()}];return T0(this,{coordDimensions:_,dimensionsCount:x.length+1,encodeDefaulter:At($ne,_,this)})},e.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},e}(),loe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],r.visualDrawType="stroke",r}return t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(_n);pi(loe,ooe,!0);var T5e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a=r.getData(),s=this.group,o=this._data;this._data||s.removeAll();var l=r.get("layout")==="horizontal"?1:0;a.diff(o).add(function(c){if(a.hasValue(c)){var u=a.getItemLayout(c),h=o7(u,a,c,l,!0);a.setItemGraphicEl(c,h),s.add(h)}}).update(function(c,u){var h=o.getItemGraphicEl(u);if(!a.hasValue(c)){s.remove(h);return}var f=a.getItemLayout(c);h?(gl(h),coe(f,h,a,c)):h=o7(f,a,c,l),s.add(h),a.setItemGraphicEl(c,h)}).remove(function(c){var u=o.getItemGraphicEl(c);u&&s.remove(u)}).execute(),this._data=a},t.prototype.remove=function(r){var n=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(a){a&&n.remove(a)})},t.type="boxplot",t}(dn),N5e=function(){function e(){}return e}(),A5e=function(e){ce(t,e);function t(r){var n=e.call(this,r)||this;return n.type="boxplotBoxPath",n}return t.prototype.getDefaultShape=function(){return new N5e},t.prototype.buildPath=function(r,n){var i=n.points,a=0;for(r.moveTo(i[a][0],i[a][1]),a++;a<4;a++)r.lineTo(i[a][0],i[a][1]);for(r.closePath();a<i.length;a++)r.moveTo(i[a][0],i[a][1]),a++,r.lineTo(i[a][0],i[a][1])},t}(er);function o7(e,t,r,n,i){var a=e.ends,s=new A5e({shape:{points:i?j5e(a,n,e):a}});return coe(e,s,t,r,i),s}function coe(e,t,r,n,i){var a=r.hostModel,s=eg[i?"initProps":"updateProps"];s(t,{shape:{points:e.ends}},a,n),t.useStyle(r.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.z2=100;var o=r.getItemModel(n),l=o.getModel("emphasis");ta(t,o),Wn(t,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function j5e(e,t,r){return _e(e,function(n){return n=n.slice(),n[t]=r.initBaseline,n})}var j_=V;function R5e(e){var t=I5e(e);j_(t,function(r){var n=r.seriesModels;n.length&&(M5e(r),j_(n,function(i,a){P5e(i,r.boxOffsetList[a],r.boxWidthList[a])}))})}function I5e(e){var t=[],r=[];return e.eachSeriesByType("boxplot",function(n){var i=n.getBaseAxis(),a=Wt(r,i);a<0&&(a=r.length,r[a]=i,t[a]={axis:i,seriesModels:[]}),t[a].seriesModels.push(n)}),t}function M5e(e){var t=e.axis,r=e.seriesModels,n=r.length,i=e.boxWidthList=[],a=e.boxOffsetList=[],s=[],o;if(t.type==="category")o=t.getBandWidth();else{var l=0;j_(r,function(g){l=Math.max(l,g.getData().count())});var c=t.getExtent();o=Math.abs(c[1]-c[0])/l}j_(r,function(g){var v=g.get("boxWidth");ye(v)||(v=[v,v]),s.push([Le(v[0],o)||0,Le(v[1],o)||0])});var u=o*.8-2,h=u/n*.3,f=(u-h*(n-1))/n,p=f/2-u/2;j_(r,function(g,v){a.push(p),p+=h+f,i.push(Math.min(Math.max(f,s[v][0]),s[v][1]))})}function P5e(e,t,r){var n=e.coordinateSystem,i=e.getData(),a=r/2,s=e.get("layout")==="horizontal"?0:1,o=1-s,l=["x","y"],c=i.mapDimension(l[s]),u=i.mapDimensionsAll(l[o]);if(c==null||u.length<5)return;for(var h=0;h<i.count();h++){var f=i.get(c,h),p=_(f,u[2],h),g=_(f,u[0],h),v=_(f,u[1],h),m=_(f,u[3],h),y=_(f,u[4],h),x=[];b(x,v,!1),b(x,m,!0),x.push(g,v,y,m),w(x,g),w(x,y),w(x,p),i.setItemLayout(h,{initBaseline:p[o],ends:x})}function _(S,k,C){var E=i.get(k,C),T=[];T[s]=S,T[o]=E;var N;return isNaN(S)||isNaN(E)?N=[NaN,NaN]:(N=n.dataToPoint(T),N[s]+=t),N}function b(S,k,C){var E=k.slice(),T=k.slice();E[s]+=a,T[s]-=a,C?S.push(E,T):S.push(T,E)}function w(S,k){var C=k.slice(),E=k.slice();C[s]-=a,E[s]+=a,S.push(C,E)}}function L5e(e,t){t=t||{};for(var r=[],n=[],i=t.boundIQR,a=i==="none"||i===0,s=0;s<e.length;s++){var o=ko(e[s].slice()),l=qj(o,.25),c=qj(o,.5),u=qj(o,.75),h=o[0],f=o[o.length-1],p=(i??1.5)*(u-l),g=a?h:Math.max(h,l-p),v=a?f:Math.min(f,u+p),m=t.itemNameFormatter,y=lt(m)?m({value:s}):We(m)?m.replace("{value}",s+""):s+"";r.push([y,g,l,c,u,v]);for(var x=0;x<o.length;x++){var _=o[x];if(_<g||_>v){var b=[y,_];n.push(b)}}}return{boxData:r,outliers:n}}var D5e={type:"echarts:boxplot",transform:function(t){var r=t.upstream;if(r.sourceFormat!==ba){var n="";$r(n)}var i=L5e(r.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function O5e(e){e.registerSeriesModel(loe),e.registerChartView(T5e),e.registerLayout(R5e),e.registerTransform(D5e)}var $5e=["itemStyle","borderColor"],B5e=["itemStyle","borderColor0"],F5e=["itemStyle","borderColorDoji"],z5e=["itemStyle","color"],U5e=["itemStyle","color0"];function L$(e,t){return t.get(e>0?z5e:U5e)}function D$(e,t){return t.get(e===0?F5e:e>0?$5e:B5e)}var H5e={seriesType:"candlestick",plan:S0(),performRawSeries:!0,reset:function(e,t){if(!t.isSeriesFiltered(e)){var r=e.pipelineContext.large;return!r&&{progress:function(n,i){for(var a;(a=n.next())!=null;){var s=i.getItemModel(a),o=i.getItemLayout(a).sign,l=s.getItemStyle();l.fill=L$(o,s),l.stroke=D$(o,s)||l.fill;var c=i.ensureUniqueItemVisual(a,"style");pe(c,l)}}}}}},V5e=["color","borderColor"],W5e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(r),this._isLargeDraw?this._renderLarge(r):this._renderNormal(r)},t.prototype.incrementalPrepareRender=function(r,n,i){this._clear(),this._updateDrawMode(r)},t.prototype.incrementalRender=function(r,n,i,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(r,n):this._incrementalRenderNormal(r,n)},t.prototype.eachRendered=function(r){Lh(this._progressiveEls||this.group,r)},t.prototype._updateDrawMode=function(r){var n=r.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(r){var n=r.getData(),i=this._data,a=this.group,s=n.getLayout("isSimpleBox"),o=r.get("clip",!0),l=r.coordinateSystem,c=l.getArea&&l.getArea();this._data||a.removeAll(),n.diff(i).add(function(u){if(n.hasValue(u)){var h=n.getItemLayout(u);if(o&&l7(c,h))return;var f=xI(h,u,!0);Rn(f,{shape:{points:h.ends}},r,u),_I(f,n,u,s),a.add(f),n.setItemGraphicEl(u,f)}}).update(function(u,h){var f=i.getItemGraphicEl(h);if(!n.hasValue(u)){a.remove(f);return}var p=n.getItemLayout(u);if(o&&l7(c,p)){a.remove(f);return}f?(Rr(f,{shape:{points:p.ends}},r,u),gl(f)):f=xI(p),_I(f,n,u,s),a.add(f),n.setItemGraphicEl(u,f)}).remove(function(u){var h=i.getItemGraphicEl(u);h&&a.remove(h)}).execute(),this._data=n},t.prototype._renderLarge=function(r){this._clear(),c7(r,this.group);var n=r.get("clip",!0)?Qw(r.coordinateSystem,!1,r):null;n?this.group.setClipPath(n):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(r,n){for(var i=n.getData(),a=i.getLayout("isSimpleBox"),s;(s=r.next())!=null;){var o=i.getItemLayout(s),l=xI(o);_I(l,i,s,a),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},t.prototype._incrementalRenderLarge=function(r,n){c7(n,this.group,this._progressiveEls,!0)},t.prototype.remove=function(r){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(dn),G5e=function(){function e(){}return e}(),q5e=function(e){ce(t,e);function t(r){var n=e.call(this,r)||this;return n.type="normalCandlestickBox",n}return t.prototype.getDefaultShape=function(){return new G5e},t.prototype.buildPath=function(r,n){var i=n.points;this.__simpleBox?(r.moveTo(i[4][0],i[4][1]),r.lineTo(i[6][0],i[6][1])):(r.moveTo(i[0][0],i[0][1]),r.lineTo(i[1][0],i[1][1]),r.lineTo(i[2][0],i[2][1]),r.lineTo(i[3][0],i[3][1]),r.closePath(),r.moveTo(i[4][0],i[4][1]),r.lineTo(i[5][0],i[5][1]),r.moveTo(i[6][0],i[6][1]),r.lineTo(i[7][0],i[7][1]))},t}(er);function xI(e,t,r){var n=e.ends;return new q5e({shape:{points:r?Y5e(n,e):n},z2:100})}function l7(e,t){for(var r=!0,n=0;n<t.ends.length;n++)if(e.contain(t.ends[n][0],t.ends[n][1])){r=!1;break}return r}function _I(e,t,r,n){var i=t.getItemModel(r);e.useStyle(t.getItemVisual(r,"style")),e.style.strokeNoScale=!0,e.__simpleBox=n,ta(e,i);var a=t.getItemLayout(r).sign;V(e.states,function(o,l){var c=i.getModel(l),u=L$(a,c),h=D$(a,c)||u,f=o.style||(o.style={});u&&(f.fill=u),h&&(f.stroke=h)});var s=i.getModel("emphasis");Wn(e,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function Y5e(e,t){return _e(e,function(r){return r=r.slice(),r[1]=t.initBaseline,r})}var K5e=function(){function e(){}return e}(),bI=function(e){ce(t,e);function t(r){var n=e.call(this,r)||this;return n.type="largeCandlestickBox",n}return t.prototype.getDefaultShape=function(){return new K5e},t.prototype.buildPath=function(r,n){for(var i=n.points,a=0;a<i.length;)if(this.__sign===i[a++]){var s=i[a++];r.moveTo(s,i[a++]),r.lineTo(s,i[a++])}else a+=3},t}(er);function c7(e,t,r,n){var i=e.getData(),a=i.getLayout("largePoints"),s=new bI({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});t.add(s);var o=new bI({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});t.add(o);var l=new bI({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});t.add(l),wI(1,s,e),wI(-1,o,e),wI(0,l,e),n&&(s.incremental=!0,o.incremental=!0),r&&r.push(s,o)}function wI(e,t,r,n){var i=D$(e,r)||L$(e,r),a=r.getModel("itemStyle").getItemStyle(V5e);t.useStyle(a),t.style.fill=null,t.style.stroke=i}var uoe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],r}return t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(r,n,i){var a=n.getItemLayout(r);return a&&i.rect(a.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(_n);pi(uoe,ooe,!0);function X5e(e){!e||!ye(e.series)||V(e.series,function(t){ft(t)&&t.type==="k"&&(t.type="candlestick")})}var Z5e={seriesType:"candlestick",plan:S0(),reset:function(e){var t=e.coordinateSystem,r=e.getData(),n=J5e(e,r),i=0,a=1,s=["x","y"],o=r.getDimensionIndex(r.mapDimension(s[i])),l=_e(r.mapDimensionsAll(s[a]),r.getDimensionIndex,r),c=l[0],u=l[1],h=l[2],f=l[3];if(r.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),o<0||l.length<4)return;return{progress:e.pipelineContext.large?g:p};function p(v,m){for(var y,x=m.getStore();(y=v.next())!=null;){var _=x.get(o,y),b=x.get(c,y),w=x.get(u,y),S=x.get(h,y),k=x.get(f,y),C=Math.min(b,w),E=Math.max(b,w),T=O(C,_),N=O(E,_),I=O(S,_),P=O(k,_),D=[];j(D,N,0),j(D,T,1),D.push(R(P),R(N),R(I),R(T));var $=m.getItemModel(y),L=!!$.get(["itemStyle","borderColorDoji"]);m.setItemLayout(y,{sign:u7(x,y,b,w,u,L),initBaseline:b>w?N[a]:T[a],ends:D,brushRect:M(S,k,_)})}function O(z,U){var F=[];return F[i]=U,F[a]=z,isNaN(U)||isNaN(z)?[NaN,NaN]:t.dataToPoint(F)}function j(z,U,F){var G=U.slice(),q=U.slice();G[i]=Hk(G[i]+n/2,1,!1),q[i]=Hk(q[i]-n/2,1,!0),F?z.push(G,q):z.push(q,G)}function M(z,U,F){var G=O(z,F),q=O(U,F);return G[i]-=n/2,q[i]-=n/2,{x:G[0],y:G[1],width:n,height:q[1]-G[1]}}function R(z){return z[i]=Hk(z[i],1),z}}function g(v,m){for(var y=tc(v.count*4),x=0,_,b=[],w=[],S,k=m.getStore(),C=!!e.get(["itemStyle","borderColorDoji"]);(S=v.next())!=null;){var E=k.get(o,S),T=k.get(c,S),N=k.get(u,S),I=k.get(h,S),P=k.get(f,S);if(isNaN(E)||isNaN(I)||isNaN(P)){y[x++]=NaN,x+=3;continue}y[x++]=u7(k,S,T,N,u,C),b[i]=E,b[a]=I,_=t.dataToPoint(b,null,w),y[x++]=_?_[0]:NaN,y[x++]=_?_[1]:NaN,b[a]=P,_=t.dataToPoint(b,null,w),y[x++]=_?_[1]:NaN}m.setLayout("largePoints",y)}}};function u7(e,t,r,n,i,a){var s;return r>n?s=-1:r<n?s=1:s=a?0:t>0?e.get(i,t-1)<=n?1:-1:1,s}function J5e(e,t){var r=e.getBaseAxis(),n,i=r.type==="category"?r.getBandWidth():(n=r.getExtent(),Math.abs(n[1]-n[0])/t.count()),a=Le(Et(e.get("barMaxWidth"),i),i),s=Le(Et(e.get("barMinWidth"),1),i),o=e.get("barWidth");return o!=null?Le(o,i):Math.max(Math.min(i/2,a),s)}function Q5e(e){e.registerChartView(W5e),e.registerSeriesModel(uoe),e.registerPreprocessor(X5e),e.registerVisual(H5e),e.registerLayout(Z5e)}function d7(e,t){var r=t.rippleEffectColor||t.color;e.eachChild(function(n){n.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?r:null,fill:t.brushType==="fill"?r:null}})})}var e4e=function(e){ce(t,e);function t(r,n){var i=e.call(this)||this,a=new Zw(r,n),s=new _t;return i.add(a),i.add(s),i.updateData(r,n),i}return t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(r){for(var n=r.symbolType,i=r.color,a=r.rippleNumber,s=this.childAt(1),o=0;o<a;o++){var l=fi(n,-1,-1,2,2,i);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var c=-o/a*r.period+r.effectOffset;l.animate("",!0).when(r.period,{scaleX:r.rippleScale/2,scaleY:r.rippleScale/2}).delay(c).start(),l.animateStyle(!0).when(r.period,{opacity:0}).delay(c).start(),s.add(l)}d7(s,r)},t.prototype.updateEffectAnimation=function(r){for(var n=this._effectCfg,i=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],s=0;s<a.length;s++){var o=a[s];if(n[o]!==r[o]){this.stopEffectAnimation(),this.startEffectAnimation(r);return}}d7(i,r)},t.prototype.highlight=function(){Eu(this)},t.prototype.downplay=function(){Tu(this)},t.prototype.getSymbolType=function(){var r=this.childAt(0);return r&&r.getSymbolType()},t.prototype.updateData=function(r,n){var i=this,a=r.hostModel;this.childAt(0).updateData(r,n);var s=this.childAt(1),o=r.getItemModel(n),l=r.getItemVisual(n,"symbol"),c=k0(r.getItemVisual(n,"symbolSize")),u=r.getItemVisual(n,"style"),h=u&&u.fill,f=o.getModel("emphasis");s.setScale(c),s.traverse(function(m){m.setStyle("fill",h)});var p=tg(r.getItemVisual(n,"symbolOffset"),c);p&&(s.x=p[0],s.y=p[1]);var g=r.getItemVisual(n,"symbolRotate");s.rotation=(g||0)*Math.PI/180||0;var v={};v.showEffectOn=a.get("showEffectOn"),v.rippleScale=o.get(["rippleEffect","scale"]),v.brushType=o.get(["rippleEffect","brushType"]),v.period=o.get(["rippleEffect","period"])*1e3,v.effectOffset=n/r.count(),v.z=a.getShallow("z")||0,v.zlevel=a.getShallow("zlevel")||0,v.symbolType=l,v.color=h,v.rippleEffectColor=o.get(["rippleEffect","color"]),v.rippleNumber=o.get(["rippleEffect","number"]),v.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(v):this.startEffectAnimation(v),this._effectCfg=v):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(m){m==="emphasis"?v.showEffectOn!=="render"&&i.startEffectAnimation(v):m==="normal"&&v.showEffectOn!=="render"&&i.stopEffectAnimation()}),this._effectCfg=v,Wn(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))},t.prototype.fadeOut=function(r){r&&r()},t}(_t),t4e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){this._symbolDraw=new Jw(e4e)},t.prototype.render=function(r,n,i){var a=r.getData(),s=this._symbolDraw;s.updateData(a,{clipShape:this._getClipShape(r)}),this.group.add(s.group)},t.prototype._getClipShape=function(r){var n=r.coordinateSystem,i=n&&n.getArea&&n.getArea();return r.get("clip",!0)?i:null},t.prototype.updateTransform=function(r,n,i){var a=r.getData();this.group.dirty();var s=e1("").reset(r,n,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(r){var n=r.coordinateSystem;n&&n.getRoamTransform&&(this.group.transform=SEe(n.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(r,n){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(dn),r4e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.getInitialData=function(r,n){return Uu(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(r,n,i){return i.point(n.getItemLayout(r))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(_n);function n4e(e){e.registerChartView(t4e),e.registerSeriesModel(r4e),e.registerLayout(e1("effectScatter"))}var doe=function(e){ce(t,e);function t(r,n,i){var a=e.call(this)||this;return a.add(a.createLine(r,n,i)),a._updateEffectSymbol(r,n),a}return t.prototype.createLine=function(r,n,i){return new E$(r,n,i)},t.prototype._updateEffectSymbol=function(r,n){var i=r.getItemModel(n),a=i.getModel("effect"),s=a.get("symbolSize"),o=a.get("symbol");ye(s)||(s=[s,s]);var l=r.getItemVisual(n,"style"),c=a.get("color")||l&&l.stroke,u=this.childAt(1);this._symbolType!==o&&(this.remove(u),u=fi(o,-.5,-.5,1,1,c),u.z2=100,u.culling=!0,this.add(u)),u&&(u.setStyle("shadowColor",c),u.setStyle(a.getItemStyle(["color"])),u.scaleX=s[0],u.scaleY=s[1],u.setColor(c),this._symbolType=o,this._symbolScale=s,this._updateEffectAnimation(r,a,n))},t.prototype._updateEffectAnimation=function(r,n,i){var a=this.childAt(1);if(a){var s=r.getItemLayout(i),o=n.get("period")*1e3,l=n.get("loop"),c=n.get("roundTrip"),u=n.get("constantSpeed"),h=Ui(n.get("delay"),function(p){return p/r.count()*o/3});if(a.ignore=!0,this._updateAnimationPoints(a,s),u>0&&(o=this._getLineLength(a)/u*1e3),o!==this._period||l!==this._loop||c!==this._roundTrip){a.stopAnimation();var f=void 0;lt(h)?f=h(i):f=h,a.__t>0&&(f=-o*a.__t),this._animateSymbol(a,o,f,l,c)}this._period=o,this._loop=l,this._roundTrip=c}},t.prototype._animateSymbol=function(r,n,i,a,s){if(n>0){r.__t=0;var o=this,l=r.animate("",a).when(s?n*2:n,{__t:s?2:1}).delay(i).during(function(){o._updateSymbolPosition(r)});a||l.done(function(){o.remove(r)}),l.start()}},t.prototype._getLineLength=function(r){return Id(r.__p1,r.__cp1)+Id(r.__cp1,r.__p2)},t.prototype._updateAnimationPoints=function(r,n){r.__p1=n[0],r.__p2=n[1],r.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},t.prototype.updateData=function(r,n,i){this.childAt(0).updateData(r,n,i),this._updateEffectSymbol(r,n)},t.prototype._updateSymbolPosition=function(r){var n=r.__p1,i=r.__p2,a=r.__cp1,s=r.__t<1?r.__t:2-r.__t,o=[r.x,r.y],l=o.slice(),c=zi,u=PL;o[0]=c(n[0],a[0],i[0],s),o[1]=c(n[1],a[1],i[1],s);var h=r.__t<1?u(n[0],a[0],i[0],s):u(i[0],a[0],n[0],1-s),f=r.__t<1?u(n[1],a[1],i[1],s):u(i[1],a[1],n[1],1-s);r.rotation=-Math.atan2(f,h)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(r.__lastT!==void 0&&r.__lastT<r.__t?(r.scaleY=Id(l,o)*1.05,s===1&&(o[0]=l[0]+(o[0]-l[0])/2,o[1]=l[1]+(o[1]-l[1])/2)):r.__lastT===1?r.scaleY=2*Id(n,o):r.scaleY=this._symbolScale[1]),r.__lastT=r.__t,r.ignore=!1,r.x=o[0],r.y=o[1]},t.prototype.updateLayout=function(r,n){this.childAt(0).updateLayout(r,n);var i=r.getItemModel(n).getModel("effect");this._updateEffectAnimation(r,i,n)},t}(_t),hoe=function(e){ce(t,e);function t(r,n,i){var a=e.call(this)||this;return a._createPolyline(r,n,i),a}return t.prototype._createPolyline=function(r,n,i){var a=r.getItemLayout(n),s=new Ja({shape:{points:a}});this.add(s),this._updateCommonStl(r,n,i)},t.prototype.updateData=function(r,n,i){var a=r.hostModel,s=this.childAt(0),o={shape:{points:r.getItemLayout(n)}};Rr(s,o,a,n),this._updateCommonStl(r,n,i)},t.prototype._updateCommonStl=function(r,n,i){var a=this.childAt(0),s=r.getItemModel(n),o=i&&i.emphasisLineStyle,l=i&&i.focus,c=i&&i.blurScope,u=i&&i.emphasisDisabled;if(!i||r.hasItemOption){var h=s.getModel("emphasis");o=h.getModel("lineStyle").getLineStyle(),u=h.get("disabled"),l=h.get("focus"),c=h.get("blurScope")}a.useStyle(r.getItemVisual(n,"style")),a.style.fill=null,a.style.strokeNoScale=!0;var f=a.ensureState("emphasis");f.style=o,Wn(this,l,c,u)},t.prototype.updateLayout=function(r,n){var i=this.childAt(0);i.setShape("points",r.getItemLayout(n))},t}(_t),i4e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._lastFrame=0,r._lastFramePercent=0,r}return t.prototype.createLine=function(r,n,i){return new hoe(r,n,i)},t.prototype._updateAnimationPoints=function(r,n){this._points=n;for(var i=[0],a=0,s=1;s<n.length;s++){var o=n[s-1],l=n[s];a+=Id(o,l),i.push(a)}if(a===0){this._length=0;return}for(var s=0;s<i.length;s++)i[s]/=a;this._offsets=i,this._length=a},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(r){var n=r.__t<1?r.__t:2-r.__t,i=this._points,a=this._offsets,s=i.length;if(a){var o=this._lastFrame,l;if(n<this._lastFramePercent){var c=Math.min(o+1,s-1);for(l=c;l>=0&&!(a[l]<=n);l--);l=Math.min(l,s-2)}else{for(l=o;l<s&&!(a[l]>n);l++);l=Math.min(l-1,s-2)}var u=(n-a[l])/(a[l+1]-a[l]),h=i[l],f=i[l+1];r.x=h[0]*(1-u)+u*f[0],r.y=h[1]*(1-u)+u*f[1];var p=r.__t<1?f[0]-h[0]:h[0]-f[0],g=r.__t<1?f[1]-h[1]:h[1]-f[1];r.rotation=-Math.atan2(g,p)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=n,r.ignore=!1}},t}(doe),a4e=function(){function e(){this.polyline=!1,this.curveness=0,this.segs=[]}return e}(),s4e=function(e){ce(t,e);function t(r){var n=e.call(this,r)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new a4e},t.prototype.buildPath=function(r,n){var i=n.segs,a=n.curveness,s;if(n.polyline)for(s=this._off;s<i.length;){var o=i[s++];if(o>0){r.moveTo(i[s++],i[s++]);for(var l=1;l<o;l++)r.lineTo(i[s++],i[s++])}}else for(s=this._off;s<i.length;){var c=i[s++],u=i[s++],h=i[s++],f=i[s++];if(r.moveTo(c,u),a>0){var p=(c+h)/2-(u-f)*a,g=(u+f)/2-(h-c)*a;r.quadraticCurveTo(p,g,h,f)}else r.lineTo(h,f)}this.incremental&&(this._off=s,this.notClear=!0)},t.prototype.findDataIndex=function(r,n){var i=this.shape,a=i.segs,s=i.curveness,o=this.style.lineWidth;if(i.polyline)for(var l=0,c=0;c<a.length;){var u=a[c++];if(u>0)for(var h=a[c++],f=a[c++],p=1;p<u;p++){var g=a[c++],v=a[c++];if(_d(h,f,g,v,o,r,n))return l}l++}else for(var l=0,c=0;c<a.length;){var h=a[c++],f=a[c++],g=a[c++],v=a[c++];if(s>0){var m=(h+g)/2-(f-v)*s,y=(f+v)/2-(g-h)*s;if($re(h,f,m,y,g,v,o,r,n))return l}else if(_d(h,f,g,v,o,r,n))return l;l++}return-1},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect();if(r=i[0],n=i[1],a.contain(r,n)){var s=this.hoverDataIdx=this.findDataIndex(r,n);return s>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var n=this.shape,i=n.segs,a=1/0,s=1/0,o=-1/0,l=-1/0,c=0;c<i.length;){var u=i[c++],h=i[c++];a=Math.min(u,a),o=Math.max(u,o),s=Math.min(h,s),l=Math.max(h,l)}r=this._rect=new Bt(a,s,o,l)}return r},t}(er),o4e=function(){function e(){this.group=new _t}return e.prototype.updateData=function(t){this._clear();var r=this._create();r.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(r,t)},e.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(t,r){var n=this._newAdded[0],i=r.getLayout("linesPoints"),a=n&&n.shape.segs;if(a&&a.length<2e4){var s=a.length,o=new Float32Array(s+i.length);o.set(a),o.set(i,s),n.setShape({segs:o})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:i}),this._setCommon(l,r),l.__startIndex=t.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},e.prototype._create=function(){var t=new s4e({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},e.prototype._setCommon=function(t,r,n){var i=r.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var a=r.getVisual("style");a&&a.stroke&&t.setStyle("stroke",a.stroke),t.setStyle("fill",null);var s=wt(t);s.seriesIndex=i.seriesIndex,t.on("mousemove",function(o){s.dataIndex=null;var l=t.hoverDataIdx;l>0&&(s.dataIndex=l+t.__startIndex)})},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),foe={seriesType:"lines",plan:S0(),reset:function(e){var t=e.coordinateSystem;if(t){var r=e.get("polyline"),n=e.pipelineContext.large;return{progress:function(i,a){var s=[];if(n){var o=void 0,l=i.end-i.start;if(r){for(var c=0,u=i.start;u<i.end;u++)c+=e.getLineCoordsCount(u);o=new Float32Array(l+c*2)}else o=new Float32Array(l*4);for(var h=0,f=[],u=i.start;u<i.end;u++){var p=e.getLineCoords(u,s);r&&(o[h++]=p);for(var g=0;g<p;g++)f=t.dataToPoint(s[g],!1,f),o[h++]=f[0],o[h++]=f[1]}a.setLayout("linesPoints",o)}else for(var u=i.start;u<i.end;u++){var v=a.getItemModel(u),p=e.getLineCoords(u,s),m=[];if(r)for(var y=0;y<p;y++)m.push(t.dataToPoint(s[y]));else{m[0]=t.dataToPoint(s[0]),m[1]=t.dataToPoint(s[1]);var x=v.get(["lineStyle","curveness"]);+x&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*x,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*x])}a.setItemLayout(u,m)}}}}}},l4e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a=r.getData(),s=this._updateLineDraw(a,r),o=r.get("zlevel"),l=r.get(["effect","trailLength"]),c=i.getZr(),u=c.painter.getType()==="svg";u||c.painter.getLayer(o).clear(!0),this._lastZlevel!=null&&!u&&c.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(r)&&l>0&&(u||c.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),s.updateData(a);var h=r.get("clip",!0)&&Qw(r.coordinateSystem,!1,r);h?this.group.setClipPath(h):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},t.prototype.incrementalPrepareRender=function(r,n,i){var a=r.getData(),s=this._updateLineDraw(a,r);s.incrementalPrepareUpdate(a),this._clearLayer(i),this._finished=!1},t.prototype.incrementalRender=function(r,n,i){this._lineDraw.incrementalUpdate(r,n.getData()),this._finished=r.end===n.getData().count()},t.prototype.eachRendered=function(r){this._lineDraw&&this._lineDraw.eachRendered(r)},t.prototype.updateTransform=function(r,n,i){var a=r.getData(),s=r.pipelineContext;if(!this._finished||s.large||s.progressiveRender)return{update:!0};var o=foe.reset(r,n,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(i)},t.prototype._updateLineDraw=function(r,n){var i=this._lineDraw,a=this._showEffect(n),s=!!n.get("polyline"),o=n.pipelineContext,l=o.large;return(!i||a!==this._hasEffet||s!==this._isPolyline||l!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=l?new o4e:new T$(s?a?i4e:hoe:a?doe:E$),this._hasEffet=a,this._isPolyline=s,this._isLargeDraw=l),this.group.add(i.group),i},t.prototype._showEffect=function(r){return!!r.get(["effect","show"])},t.prototype._clearLayer=function(r){var n=r.getZr(),i=n.painter.getType()==="svg";!i&&this._lastZlevel!=null&&n.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(r,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},t.prototype.dispose=function(r,n){this.remove(r,n)},t.type="lines",t}(dn),c4e=typeof Uint32Array>"u"?Array:Uint32Array,u4e=typeof Float64Array>"u"?Array:Float64Array;function h7(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=_e(t,function(r){var n=[r[0].coord,r[1].coord],i={coords:n};return r[0].name&&(i.fromName=r[0].name),r[1].name&&(i.toName=r[1].name),s4([i,r[0],r[1]])}))}var d4e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return t.prototype.init=function(r){r.data=r.data||[],h7(r);var n=this._processFlatCoordsArray(r.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(r.data=new Float32Array(n.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(r){if(h7(r),r.data){var n=this._processFlatCoordsArray(r.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(r.data=new Float32Array(n.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(r){var n=this._processFlatCoordsArray(r.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=yb(this._flatCoords,n.flatCoords),this._flatCoordsOffset=yb(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),r.data=new Float32Array(n.count)),this.getRawData().appendData(r.data)},t.prototype._getCoordsFromItemModel=function(r){var n=this.getData().getItemModel(r),i=n.option instanceof Array?n.option:n.getShallow("coords");return i},t.prototype.getLineCoordsCount=function(r){return this._flatCoordsOffset?this._flatCoordsOffset[r*2+1]:this._getCoordsFromItemModel(r).length},t.prototype.getLineCoords=function(r,n){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[r*2],a=this._flatCoordsOffset[r*2+1],s=0;s<a;s++)n[s]=n[s]||[],n[s][0]=this._flatCoords[i+s*2],n[s][1]=this._flatCoords[i+s*2+1];return a}else{for(var o=this._getCoordsFromItemModel(r),s=0;s<o.length;s++)n[s]=n[s]||[],n[s][0]=o[s][0],n[s][1]=o[s][1];return o.length}},t.prototype._processFlatCoordsArray=function(r){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),Nr(r[0])){for(var i=r.length,a=new c4e(i),s=new u4e(i),o=0,l=0,c=0,u=0;u<i;){c++;var h=r[u++];a[l++]=o+n,a[l++]=h;for(var f=0;f<h;f++){var p=r[u++],g=r[u++];s[o++]=p,s[o++]=g}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,l),flatCoords:s,count:c}}return{flatCoordsOffset:null,flatCoords:null,count:r.length}},t.prototype.getInitialData=function(r,n){var i=new Ha(["value"],this);return i.hasItemOption=!1,i.initData(r.data,[],function(a,s,o,l){if(a instanceof Array)return NaN;i.hasItemOption=!0;var c=a.value;if(c!=null)return c instanceof Array?c[l]:c}),i},t.prototype.formatTooltip=function(r,n,i){var a=this.getData(),s=a.getItemModel(r),o=s.get("name");if(o)return o;var l=s.get("fromName"),c=s.get("toName"),u=[];return l!=null&&u.push(l),c!=null&&u.push(c),Li("nameValue",{name:u.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var r=this.option.progressive;return r??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var r=this.getModel("effect"),n=r.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:r.get("show")&&n>0?n+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(_n);function yC(e){return e instanceof Array||(e=[e,e]),e}var h4e={seriesType:"lines",reset:function(e){var t=yC(e.get("symbol")),r=yC(e.get("symbolSize")),n=e.getData();n.setVisual("fromSymbol",t&&t[0]),n.setVisual("toSymbol",t&&t[1]),n.setVisual("fromSymbolSize",r&&r[0]),n.setVisual("toSymbolSize",r&&r[1]);function i(a,s){var o=a.getItemModel(s),l=yC(o.getShallow("symbol",!0)),c=yC(o.getShallow("symbolSize",!0));l[0]&&a.setItemVisual(s,"fromSymbol",l[0]),l[1]&&a.setItemVisual(s,"toSymbol",l[1]),c[0]&&a.setItemVisual(s,"fromSymbolSize",c[0]),c[1]&&a.setItemVisual(s,"toSymbolSize",c[1])}return{dataEach:n.hasItemOption?i:null}}};function f4e(e){e.registerChartView(l4e),e.registerSeriesModel(d4e),e.registerLayout(foe),e.registerVisual(h4e)}var p4e=256,g4e=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=dh.createCanvas();this.canvas=t}return e.prototype.update=function(t,r,n,i,a,s){var o=this._getBrush(),l=this._getGradient(a,"inRange"),c=this._getGradient(a,"outOfRange"),u=this.pointSize+this.blurSize,h=this.canvas,f=h.getContext("2d"),p=t.length;h.width=r,h.height=n;for(var g=0;g<p;++g){var v=t[g],m=v[0],y=v[1],x=v[2],_=i(x);f.globalAlpha=_,f.drawImage(o,m-u,y-u)}if(!h.width||!h.height)return h;for(var b=f.getImageData(0,0,h.width,h.height),w=b.data,S=0,k=w.length,C=this.minOpacity,E=this.maxOpacity,T=E-C;S<k;){var _=w[S+3]/256,N=Math.floor(_*(p4e-1))*4;if(_>0){var I=s(_)?l:c;_>0&&(_=_*T+C),w[S++]=I[N],w[S++]=I[N+1],w[S++]=I[N+2],w[S++]=I[N+3]*_*256}else S+=4}return f.putImageData(b,0,0),h},e.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=dh.createCanvas()),r=this.pointSize+this.blurSize,n=r*2;t.width=n,t.height=n;var i=t.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-r,r,this.pointSize,0,Math.PI*2,!0),i.closePath(),i.fill(),t},e.prototype._getGradient=function(t,r){for(var n=this._gradientPixels,i=n[r]||(n[r]=new Uint8ClampedArray(256*4)),a=[0,0,0,0],s=0,o=0;o<256;o++)t[r](o/255,!0,a),i[s++]=a[0],i[s++]=a[1],i[s++]=a[2],i[s++]=a[3];return i},e}();function m4e(e,t,r){var n=e[1]-e[0];t=_e(t,function(s){return{interval:[(s.interval[0]-e[0])/n,(s.interval[1]-e[0])/n]}});var i=t.length,a=0;return function(s){var o;for(o=a;o<i;o++){var l=t[o].interval;if(l[0]<=s&&s<=l[1]){a=o;break}}if(o===i)for(o=a-1;o>=0;o--){var l=t[o].interval;if(l[0]<=s&&s<=l[1]){a=o;break}}return o>=0&&o<i&&r[o]}}function v4e(e,t){var r=e[1]-e[0];return t=[(t[0]-e[0])/r,(t[1]-e[0])/r],function(n){return n>=t[0]&&n<=t[1]}}function f7(e){var t=e.dimensions;return t[0]==="lng"&&t[1]==="lat"}var y4e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a;n.eachComponent("visualMap",function(o){o.eachTargetSeries(function(l){l===r&&(a=o)})}),this._progressiveEls=null,this.group.removeAll();var s=r.coordinateSystem;s.type==="cartesian2d"||s.type==="calendar"?this._renderOnCartesianAndCalendar(r,i,0,r.getData().count()):f7(s)&&this._renderOnGeo(s,r,a,i)},t.prototype.incrementalPrepareRender=function(r,n,i){this.group.removeAll()},t.prototype.incrementalRender=function(r,n,i,a){var s=n.coordinateSystem;s&&(f7(s)?this.render(n,i,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(n,a,r.start,r.end,!0)))},t.prototype.eachRendered=function(r){Lh(this._progressiveEls||this.group,r)},t.prototype._renderOnCartesianAndCalendar=function(r,n,i,a,s){var o=r.coordinateSystem,l=ng(o,"cartesian2d"),c,u,h,f;if(l){var p=o.getAxis("x"),g=o.getAxis("y");c=p.getBandWidth()+.5,u=g.getBandWidth()+.5,h=p.scale.getExtent(),f=g.scale.getExtent()}for(var v=this.group,m=r.getData(),y=r.getModel(["emphasis","itemStyle"]).getItemStyle(),x=r.getModel(["blur","itemStyle"]).getItemStyle(),_=r.getModel(["select","itemStyle"]).getItemStyle(),b=r.get(["itemStyle","borderRadius"]),w=Pi(r),S=r.getModel("emphasis"),k=S.get("focus"),C=S.get("blurScope"),E=S.get("disabled"),T=l?[m.mapDimension("x"),m.mapDimension("y"),m.mapDimension("value")]:[m.mapDimension("time"),m.mapDimension("value")],N=i;N<a;N++){var I=void 0,P=m.getItemVisual(N,"style");if(l){var D=m.get(T[0],N),$=m.get(T[1],N);if(isNaN(m.get(T[2],N))||isNaN(D)||isNaN($)||D<h[0]||D>h[1]||$<f[0]||$>f[1])continue;var L=o.dataToPoint([D,$]);I=new xr({shape:{x:L[0]-c/2,y:L[1]-u/2,width:c,height:u},style:P})}else{if(isNaN(m.get(T[1],N)))continue;I=new xr({z2:1,shape:o.dataToRect([m.get(T[0],N)]).contentShape,style:P})}if(m.hasItemOption){var O=m.getItemModel(N),j=O.getModel("emphasis");y=j.getModel("itemStyle").getItemStyle(),x=O.getModel(["blur","itemStyle"]).getItemStyle(),_=O.getModel(["select","itemStyle"]).getItemStyle(),b=O.get(["itemStyle","borderRadius"]),k=j.get("focus"),C=j.get("blurScope"),E=j.get("disabled"),w=Pi(O)}I.shape.r=b;var M=r.getRawValue(N),R="-";M&&M[2]!=null&&(R=M[2]+""),ra(I,w,{labelFetcher:r,labelDataIndex:N,defaultOpacity:P.opacity,defaultText:R}),I.ensureState("emphasis").style=y,I.ensureState("blur").style=x,I.ensureState("select").style=_,Wn(I,k,C,E),I.incremental=s,s&&(I.states.emphasis.hoverLayer=!0),v.add(I),m.setItemGraphicEl(N,I),this._progressiveEls&&this._progressiveEls.push(I)}},t.prototype._renderOnGeo=function(r,n,i,a){var s=i.targetVisuals.inRange,o=i.targetVisuals.outOfRange,l=n.getData(),c=this._hmLayer||this._hmLayer||new g4e;c.blurSize=n.get("blurSize"),c.pointSize=n.get("pointSize"),c.minOpacity=n.get("minOpacity"),c.maxOpacity=n.get("maxOpacity");var u=r.getViewRect().clone(),h=r.getRoamTransform();u.applyTransform(h);var f=Math.max(u.x,0),p=Math.max(u.y,0),g=Math.min(u.width+u.x,a.getWidth()),v=Math.min(u.height+u.y,a.getHeight()),m=g-f,y=v-p,x=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],_=l.mapArray(x,function(k,C,E){var T=r.dataToPoint([k,C]);return T[0]-=f,T[1]-=p,T.push(E),T}),b=i.getExtent(),w=i.type==="visualMap.continuous"?v4e(b,i.option.range):m4e(b,i.getPieceList(),i.option.selected);c.update(_,m,y,s.color.getNormalizer(),{inRange:s.color.getColorMapper(),outOfRange:o.color.getColorMapper()},w);var S=new Wi({style:{width:m,height:y,x:f,y:p,image:c.canvas},silent:!0});this.group.add(S)},t.type="heatmap",t}(dn),x4e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getInitialData=function(r,n){return Uu(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var r=qw.get(this.get("coordinateSystem"));if(r&&r.dimensions)return r.dimensions[0]==="lng"&&r.dimensions[1]==="lat"},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(_n);function _4e(e){e.registerChartView(y4e),e.registerSeriesModel(x4e)}var b4e=["itemStyle","borderWidth"],p7=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],SI=new zu,w4e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a=this.group,s=r.getData(),o=this._data,l=r.coordinateSystem,c=l.getBaseAxis(),u=c.isHorizontal(),h=l.master.getRect(),f={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:r,coordSys:l,coordSysExtent:[[h.x,h.x+h.width],[h.y,h.y+h.height]],isHorizontal:u,valueDim:p7[+u],categoryDim:p7[1-+u]};s.diff(o).add(function(g){if(s.hasValue(g)){var v=m7(s,g),m=g7(s,g,v,f),y=v7(s,f,m);s.setItemGraphicEl(g,y),a.add(y),x7(y,f,m)}}).update(function(g,v){var m=o.getItemGraphicEl(v);if(!s.hasValue(g)){a.remove(m);return}var y=m7(s,g),x=g7(s,g,y,f),_=xoe(s,x);m&&_!==m.__pictorialShapeStr&&(a.remove(m),s.setItemGraphicEl(g,null),m=null),m?A4e(m,f,x):m=v7(s,f,x,!0),s.setItemGraphicEl(g,m),m.__pictorialSymbolMeta=x,a.add(m),x7(m,f,x)}).remove(function(g){var v=o.getItemGraphicEl(g);v&&y7(o,g,v.__pictorialSymbolMeta.animationModel,v)}).execute();var p=r.get("clip",!0)?Qw(r.coordinateSystem,!1,r):null;return p?a.setClipPath(p):a.removeClipPath(),this._data=s,this.group},t.prototype.remove=function(r,n){var i=this.group,a=this._data;r.get("animation")?a&&a.eachItemGraphicEl(function(s){y7(a,wt(s).dataIndex,r,s)}):i.removeAll()},t.type="pictorialBar",t}(dn);function g7(e,t,r,n){var i=e.getItemLayout(t),a=r.get("symbolRepeat"),s=r.get("symbolClip"),o=r.get("symbolPosition")||"start",l=r.get("symbolRotate"),c=(l||0)*Math.PI/180||0,u=r.get("symbolPatternSize")||2,h=r.isAnimationEnabled(),f={dataIndex:t,layout:i,itemModel:r,symbolType:e.getItemVisual(t,"symbol")||"circle",style:e.getItemVisual(t,"style"),symbolClip:s,symbolRepeat:a,symbolRepeatDirection:r.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:c,animationModel:h?r:null,hoverScale:h&&r.get(["emphasis","scale"]),z2:r.getShallow("z",!0)||0};S4e(r,a,i,n,f),C4e(e,t,i,a,s,f.boundingLength,f.pxSign,u,n,f),k4e(r,f.symbolScale,c,n,f);var p=f.symbolSize,g=tg(r.get("symbolOffset"),p);return E4e(r,p,i,a,s,g,o,f.valueLineWidth,f.boundingLength,f.repeatCutLength,n,f),f}function S4e(e,t,r,n,i){var a=n.valueDim,s=e.get("symbolBoundingData"),o=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),l=o.toGlobalCoord(o.dataToCoord(0)),c=1-+(r[a.wh]<=0),u;if(ye(s)){var h=[CI(o,s[0])-l,CI(o,s[1])-l];h[1]<h[0]&&h.reverse(),u=h[c]}else s!=null?u=CI(o,s)-l:t?u=n.coordSysExtent[a.index][c]-l:u=r[a.wh];i.boundingLength=u,t&&(i.repeatCutLength=r[a.wh]);var f=a.xy==="x",p=o.inverse;i.pxSign=f&&!p||!f&&p?u>=0?1:-1:u>0?1:-1}function CI(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function C4e(e,t,r,n,i,a,s,o,l,c){var u=l.valueDim,h=l.categoryDim,f=Math.abs(r[h.wh]),p=e.getItemVisual(t,"symbolSize"),g;ye(p)?g=p.slice():p==null?g=["100%","100%"]:g=[p,p],g[h.index]=Le(g[h.index],f),g[u.index]=Le(g[u.index],n?f:Math.abs(a)),c.symbolSize=g;var v=c.symbolScale=[g[0]/o,g[1]/o];v[u.index]*=(l.isHorizontal?-1:1)*s}function k4e(e,t,r,n,i){var a=e.get(b4e)||0;a&&(SI.attr({scaleX:t[0],scaleY:t[1],rotation:r}),SI.updateTransform(),a/=SI.getLineScale(),a*=t[n.valueDim.index]),i.valueLineWidth=a||0}function E4e(e,t,r,n,i,a,s,o,l,c,u,h){var f=u.categoryDim,p=u.valueDim,g=h.pxSign,v=Math.max(t[p.index]+o,0),m=v;if(n){var y=Math.abs(l),x=Ui(e.get("symbolMargin"),"15%")+"",_=!1;x.lastIndexOf("!")===x.length-1&&(_=!0,x=x.slice(0,x.length-1));var b=Le(x,t[p.index]),w=Math.max(v+b*2,0),S=_?0:b*2,k=Cre(n),C=k?n:_7((y+S)/w),E=y-C*v;b=E/2/(_?C:Math.max(C-1,1)),w=v+b*2,S=_?0:b*2,!k&&n!=="fixed"&&(C=c?_7((Math.abs(c)+S)/w):0),m=C*w-S,h.repeatTimes=C,h.symbolMargin=b}var T=g*(m/2),N=h.pathPosition=[];N[f.index]=r[f.wh]/2,N[p.index]=s==="start"?T:s==="end"?l-T:l/2,a&&(N[0]+=a[0],N[1]+=a[1]);var I=h.bundlePosition=[];I[f.index]=r[f.xy],I[p.index]=r[p.xy];var P=h.barRectShape=pe({},r);P[p.wh]=g*Math.max(Math.abs(r[p.wh]),Math.abs(N[p.index]+T)),P[f.wh]=r[f.wh];var D=h.clipShape={};D[f.xy]=-r[f.xy],D[f.wh]=u.ecSize[f.wh],D[p.xy]=0,D[p.wh]=r[p.wh]}function poe(e){var t=e.symbolPatternSize,r=fi(e.symbolType,-t/2,-t/2,t,t);return r.attr({culling:!0}),r.type!=="image"&&r.setStyle({strokeNoScale:!0}),r}function goe(e,t,r,n){var i=e.__pictorialBundle,a=r.symbolSize,s=r.valueLineWidth,o=r.pathPosition,l=t.valueDim,c=r.repeatTimes||0,u=0,h=a[t.valueDim.index]+s+r.symbolMargin*2;for(O$(e,function(v){v.__pictorialAnimationIndex=u,v.__pictorialRepeatTimes=c,u<c?iv(v,null,g(u),r,n):iv(v,null,{scaleX:0,scaleY:0},r,n,function(){i.remove(v)}),u++});u<c;u++){var f=poe(r);f.__pictorialAnimationIndex=u,f.__pictorialRepeatTimes=c,i.add(f);var p=g(u);iv(f,{x:p.x,y:p.y,scaleX:0,scaleY:0},{scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation},r,n)}function g(v){var m=o.slice(),y=r.pxSign,x=v;return(r.symbolRepeatDirection==="start"?y>0:y<0)&&(x=c-1-v),m[l.index]=h*(x-c/2+.5)+o[l.index],{x:m[0],y:m[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation}}}function moe(e,t,r,n){var i=e.__pictorialBundle,a=e.__pictorialMainPath;a?iv(a,null,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation},r,n):(a=e.__pictorialMainPath=poe(r),i.add(a),iv(a,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:0,scaleY:0,rotation:r.rotation},{scaleX:r.symbolScale[0],scaleY:r.symbolScale[1]},r,n))}function voe(e,t,r){var n=pe({},t.barRectShape),i=e.__pictorialBarRect;i?iv(i,null,{shape:n},t,r):(i=e.__pictorialBarRect=new xr({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,e.add(i))}function yoe(e,t,r,n){if(r.symbolClip){var i=e.__pictorialClipPath,a=pe({},r.clipShape),s=t.valueDim,o=r.animationModel,l=r.dataIndex;if(i)Rr(i,{shape:a},o,l);else{a[s.wh]=0,i=new xr({shape:a}),e.__pictorialBundle.setClipPath(i),e.__pictorialClipPath=i;var c={};c[s.wh]=r.clipShape[s.wh],eg[n?"updateProps":"initProps"](i,{shape:c},o,l)}}}function m7(e,t){var r=e.getItemModel(t);return r.getAnimationDelayParams=T4e,r.isAnimationEnabled=N4e,r}function T4e(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function N4e(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function v7(e,t,r,n){var i=new _t,a=new _t;return i.add(a),i.__pictorialBundle=a,a.x=r.bundlePosition[0],a.y=r.bundlePosition[1],r.symbolRepeat?goe(i,t,r):moe(i,t,r),voe(i,r,n),yoe(i,t,r,n),i.__pictorialShapeStr=xoe(e,r),i.__pictorialSymbolMeta=r,i}function A4e(e,t,r){var n=r.animationModel,i=r.dataIndex,a=e.__pictorialBundle;Rr(a,{x:r.bundlePosition[0],y:r.bundlePosition[1]},n,i),r.symbolRepeat?goe(e,t,r,!0):moe(e,t,r,!0),voe(e,r,!0),yoe(e,t,r,!0)}function y7(e,t,r,n){var i=n.__pictorialBarRect;i&&i.removeTextContent();var a=[];O$(n,function(s){a.push(s)}),n.__pictorialMainPath&&a.push(n.__pictorialMainPath),n.__pictorialClipPath&&(r=null),V(a,function(s){fh(s,{scaleX:0,scaleY:0},r,t,function(){n.parent&&n.parent.remove(n)})}),e.setItemGraphicEl(t,null)}function xoe(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function O$(e,t,r){V(e.__pictorialBundle.children(),function(n){n!==e.__pictorialBarRect&&t.call(r,n)})}function iv(e,t,r,n,i,a){t&&e.attr(t),n.symbolClip&&!i?r&&e.attr(r):r&&eg[i?"updateProps":"initProps"](e,r,n.animationModel,n.dataIndex,a)}function x7(e,t,r){var n=r.dataIndex,i=r.itemModel,a=i.getModel("emphasis"),s=a.getModel("itemStyle").getItemStyle(),o=i.getModel(["blur","itemStyle"]).getItemStyle(),l=i.getModel(["select","itemStyle"]).getItemStyle(),c=i.getShallow("cursor"),u=a.get("focus"),h=a.get("blurScope"),f=a.get("scale");O$(e,function(v){if(v instanceof Wi){var m=v.style;v.useStyle(pe({image:m.image,x:m.x,y:m.y,width:m.width,height:m.height},r.style))}else v.useStyle(r.style);var y=v.ensureState("emphasis");y.style=s,f&&(y.scaleX=v.scaleX*1.1,y.scaleY=v.scaleY*1.1),v.ensureState("blur").style=o,v.ensureState("select").style=l,c&&(v.cursor=c),v.z2=r.z2});var p=t.valueDim.posDesc[+(r.boundingLength>0)],g=e.__pictorialBarRect;g.ignoreClip=!0,ra(g,Pi(i),{labelFetcher:t.seriesModel,labelDataIndex:n,defaultText:Rv(t.seriesModel.getData(),n),inheritColor:r.style.fill,defaultOpacity:r.style.opacity,defaultOutsidePosition:p}),Wn(e,u,h,a.get("disabled"))}function _7(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}var j4e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r.defaultSymbol="roundRect",r}return t.prototype.getInitialData=function(r){return r.stack=null,e.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=Dh(Db.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(Db);function R4e(e){e.registerChartView(w4e),e.registerSeriesModel(j4e),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,At(rae,"pictorialBar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,nae("pictorialBar"))}var I4e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._layers=[],r}return t.prototype.render=function(r,n,i){var a=r.getData(),s=this,o=this.group,l=r.getLayerSeries(),c=a.getLayout("layoutInfo"),u=c.rect,h=c.boundaryGap;o.x=0,o.y=u.y+h[0];function f(m){return m.name}var p=new Nu(this._layersSeries||[],l,f,f),g=[];p.add(Ke(v,this,"add")).update(Ke(v,this,"update")).remove(Ke(v,this,"remove")).execute();function v(m,y,x){var _=s._layers;if(m==="remove"){o.remove(_[y]);return}for(var b=[],w=[],S,k=l[y].indices,C=0;C<k.length;C++){var E=a.getItemLayout(k[C]),T=E.x,N=E.y0,I=E.y;b.push(T,N),w.push(T,N+I),S=a.getItemVisual(k[C],"style")}var P,D=a.getItemLayout(k[0]),$=r.getModel("label"),L=$.get("margin"),O=r.getModel("emphasis");if(m==="add"){var j=g[y]=new _t;P=new Wae({shape:{points:b,stackedOnPoints:w,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),j.add(P),o.add(j),r.isAnimationEnabled()&&P.setClipPath(M4e(P.getBoundingRect(),r,function(){P.removeClipPath()}))}else{var j=_[x];P=j.childAt(0),o.add(j),g[y]=j,Rr(P,{shape:{points:b,stackedOnPoints:w}},r),gl(P)}ra(P,Pi(r),{labelDataIndex:k[C-1],defaultText:a.getName(k[C-1]),inheritColor:S.fill},{normal:{verticalAlign:"middle"}}),P.setTextConfig({position:null,local:!0});var M=P.getTextContent();M&&(M.x=D.x-L,M.y=D.y0+D.y/2),P.useStyle(S),a.setItemGraphicEl(y,P),ta(P,r),Wn(P,O.get("focus"),O.get("blurScope"),O.get("disabled"))}this._layersSeries=l,this._layers=g},t.type="themeRiver",t}(dn);function M4e(e,t,r){var n=new xr({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Rn(n,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},t,r),n}var kI=2,P4e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new r1(Ke(this.getData,this),Ke(this.getRawData,this))},t.prototype.fixData=function(r){var n=r.length,i={},a=KL(r,function(f){return i.hasOwnProperty(f[0]+"")||(i[f[0]+""]=-1),f[2]}),s=[];a.buckets.each(function(f,p){s.push({name:p,dataList:f})});for(var o=s.length,l=0;l<o;++l){for(var c=s[l].name,u=0;u<s[l].dataList.length;++u){var h=s[l].dataList[u][0]+"";i[h]=l}for(var h in i)i.hasOwnProperty(h)&&i[h]!==l&&(i[h]=l,r[n]=[h,0,c],n++)}return r},t.prototype.getInitialData=function(r,n){for(var i=this.getReferringComponents("singleAxis",di).models[0],a=i.get("type"),s=Br(r.data,function(g){return g[2]!==void 0}),o=this.fixData(s||[]),l=[],c=this.nameMap=Qe(),u=0,h=0;h<o.length;++h)l.push(o[h][kI]),c.get(o[h][kI])||(c.set(o[h][kI],u),u++);var f=Kw(o,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:gT(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,p=new Ha(f,this);return p.initData(o),p},t.prototype.getLayerSeries=function(){for(var r=this.getData(),n=r.count(),i=[],a=0;a<n;++a)i[a]=a;var s=r.mapDimension("single"),o=KL(i,function(c){return r.get("name",c)}),l=[];return o.buckets.each(function(c,u){c.sort(function(h,f){return r.get(s,h)-r.get(s,f)}),l.push({name:u,indices:c})}),l},t.prototype.getAxisTooltipData=function(r,n,i){ye(r)||(r=r?[r]:[]);for(var a=this.getData(),s=this.getLayerSeries(),o=[],l=s.length,c,u=0;u<l;++u){for(var h=Number.MAX_VALUE,f=-1,p=s[u].indices.length,g=0;g<p;++g){var v=a.get(r[0],s[u].indices[g]),m=Math.abs(v-n);m<=h&&(c=v,h=m,f=s[u].indices[g])}o.push(f)}return{dataIndices:o,nestestValue:c}},t.prototype.formatTooltip=function(r,n,i){var a=this.getData(),s=a.getName(r),o=a.get(a.mapDimension("value"),r);return Li("nameValue",{name:s,value:o})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(_n);function L4e(e,t){e.eachSeriesByType("themeRiver",function(r){var n=r.getData(),i=r.coordinateSystem,a={},s=i.getRect();a.rect=s;var o=r.get("boundaryGap"),l=i.getAxis();if(a.boundaryGap=o,l.orient==="horizontal"){o[0]=Le(o[0],s.height),o[1]=Le(o[1],s.height);var c=s.height-o[0]-o[1];b7(n,r,c)}else{o[0]=Le(o[0],s.width),o[1]=Le(o[1],s.width);var u=s.width-o[0]-o[1];b7(n,r,u)}n.setLayout("layoutInfo",a)})}function b7(e,t,r){if(e.count())for(var n=t.coordinateSystem,i=t.getLayerSeries(),a=e.mapDimension("single"),s=e.mapDimension("value"),o=_e(i,function(m){return _e(m.indices,function(y){var x=n.dataToPoint(e.get(a,y));return x[1]=e.get(s,y),x})}),l=D4e(o),c=l.y0,u=r/l.max,h=i.length,f=i[0].indices.length,p,g=0;g<f;++g){p=c[g]*u,e.setItemLayout(i[0].indices[g],{layerIndex:0,x:o[0][g][0],y0:p,y:o[0][g][1]*u});for(var v=1;v<h;++v)p+=o[v-1][g][1]*u,e.setItemLayout(i[v].indices[g],{layerIndex:v,x:o[v][g][0],y0:p,y:o[v][g][1]*u})}}function D4e(e){for(var t=e.length,r=e[0].length,n=[],i=[],a=0,s=0;s<r;++s){for(var o=0,l=0;l<t;++l)o+=e[l][s][1];o>a&&(a=o),n.push(o)}for(var c=0;c<r;++c)i[c]=(a-n[c])/2;a=0;for(var u=0;u<r;++u){var h=n[u]+i[u];h>a&&(a=h)}return{y0:i,max:a}}function O4e(e){e.registerChartView(I4e),e.registerSeriesModel(P4e),e.registerLayout(L4e),e.registerProcessor(t1("themeRiver"))}var $4e=2,B4e=4,w7=function(e){ce(t,e);function t(r,n,i,a){var s=e.call(this)||this;s.z2=$4e,s.textConfig={inside:!0},wt(s).seriesIndex=n.seriesIndex;var o=new kr({z2:B4e,silent:r.getModel().get(["label","silent"])});return s.setTextContent(o),s.updateData(!0,r,n,i,a),s}return t.prototype.updateData=function(r,n,i,a,s){this.node=n,n.piece=this,i=i||this._seriesModel,a=a||this._ecModel;var o=this;wt(o).dataIndex=n.dataIndex;var l=n.getModel(),c=l.getModel("emphasis"),u=n.getLayout(),h=pe({},u);h.label=null;var f=n.getVisual("style");f.lineJoin="bevel";var p=n.getVisual("decal");p&&(f.decal=Av(p,s));var g=Jf(l.getModel("itemStyle"),h,!0);pe(h,g),V(Ga,function(x){var _=o.ensureState(x),b=l.getModel([x,"itemStyle"]);_.style=b.getItemStyle();var w=Jf(b,h);w&&(_.shape=w)}),r?(o.setShape(h),o.shape.r=u.r0,Rn(o,{shape:{r:u.r}},i,n.dataIndex)):(Rr(o,{shape:h},i),gl(o)),o.useStyle(f),this._updateLabel(i);var v=l.getShallow("cursor");v&&o.attr("cursor",v),this._seriesModel=i||this._seriesModel,this._ecModel=a||this._ecModel;var m=c.get("focus"),y=m==="relative"?yb(n.getAncestorsIndices(),n.getDescendantIndices()):m==="ancestor"?n.getAncestorsIndices():m==="descendant"?n.getDescendantIndices():m;Wn(this,y,c.get("blurScope"),c.get("disabled"))},t.prototype._updateLabel=function(r){var n=this,i=this.node.getModel(),a=i.getModel("label"),s=this.node.getLayout(),o=s.endAngle-s.startAngle,l=(s.startAngle+s.endAngle)/2,c=Math.cos(l),u=Math.sin(l),h=this,f=h.getTextContent(),p=this.node.dataIndex,g=a.get("minAngle")/180*Math.PI,v=a.get("show")&&!(g!=null&&Math.abs(o)<g);f.ignore=!v,V(Cb,function(y){var x=y==="normal"?i.getModel("label"):i.getModel([y,"label"]),_=y==="normal",b=_?f:f.ensureState(y),w=r.getFormattedLabel(p,y);_&&(w=w||n.node.name),b.style=yn(x,{},null,y!=="normal",!0),w&&(b.style.text=w);var S=x.get("show");S!=null&&!_&&(b.ignore=!S);var k=m(x,"position"),C=_?h:h.states[y],E=C.style.fill;C.textConfig={outsideFill:x.get("color")==="inherit"?E:null,inside:k!=="outside"};var T,N=m(x,"distance")||0,I=m(x,"align"),P=m(x,"rotate"),D=Math.PI*.5,$=Math.PI*1.5,L=Ls(P==="tangential"?Math.PI/2-l:l),O=L>D&&!wb(L-D)&&L<$;k==="outside"?(T=s.r+N,I=O?"right":"left"):!I||I==="center"?(o===2*Math.PI&&s.r0===0?T=0:T=(s.r+s.r0)/2,I="center"):I==="left"?(T=s.r0+N,I=O?"right":"left"):I==="right"&&(T=s.r-N,I=O?"left":"right"),b.style.align=I,b.style.verticalAlign=m(x,"verticalAlign")||"middle",b.x=T*c+s.cx,b.y=T*u+s.cy;var j=0;P==="radial"?j=Ls(-l)+(O?Math.PI:0):P==="tangential"?j=Ls(Math.PI/2-l)+(O?Math.PI:0):Nr(P)&&(j=P*Math.PI/180),b.rotation=Ls(j)});function m(y,x){var _=y.get(x);return _??a.get(x)}f.dirtyStyle()},t}(qa),KD="sunburstRootToNode",S7="sunburstHighlight",F4e="sunburstUnhighlight";function z4e(e){e.registerAction({type:KD,update:"updateView"},function(t,r){r.eachComponent({mainType:"series",subType:"sunburst",query:t},n);function n(i,a){var s=$b(t,[KD],i);if(s){var o=i.getViewRoot();o&&(t.direction=b$(o,s.node)?"rollUp":"drillDown"),i.resetViewRoot(s.node)}}}),e.registerAction({type:S7,update:"none"},function(t,r,n){t=pe({},t),r.eachComponent({mainType:"series",subType:"sunburst",query:t},i);function i(a){var s=$b(t,[S7],a);s&&(t.dataIndex=s.node.dataIndex)}n.dispatchAction(pe(t,{type:"highlight"}))}),e.registerAction({type:F4e,update:"updateView"},function(t,r,n){t=pe({},t),n.dispatchAction(pe(t,{type:"downplay"}))})}var U4e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,a){var s=this;this.seriesModel=r,this.api=i,this.ecModel=n;var o=r.getData(),l=o.tree.root,c=r.getViewRoot(),u=this.group,h=r.get("renderLabelForZeroData"),f=[];c.eachNode(function(x){f.push(x)});var p=this._oldChildren||[];g(f,p),y(l,c),this._initEvents(),this._oldChildren=f;function g(x,_){if(x.length===0&&_.length===0)return;new Nu(_,x,b,b).add(w).update(w).remove(At(w,null)).execute();function b(S){return S.getId()}function w(S,k){var C=S==null?null:x[S],E=k==null?null:_[k];v(C,E)}}function v(x,_){if(!h&&x&&!x.getValue()&&(x=null),x!==l&&_!==l){if(_&&_.piece)x?(_.piece.updateData(!1,x,r,n,i),o.setItemGraphicEl(x.dataIndex,_.piece)):m(_);else if(x){var b=new w7(x,r,n,i);u.add(b),o.setItemGraphicEl(x.dataIndex,b)}}}function m(x){x&&x.piece&&(u.remove(x.piece),x.piece=null)}function y(x,_){_.depth>0?(s.virtualPiece?s.virtualPiece.updateData(!1,x,r,n,i):(s.virtualPiece=new w7(x,r,n,i),u.add(s.virtualPiece)),_.piece.off("click"),s.virtualPiece.on("click",function(b){s._rootToNode(_.parentNode)})):s.virtualPiece&&(u.remove(s.virtualPiece),s.virtualPiece=null)}},t.prototype._initEvents=function(){var r=this;this.group.off("click"),this.group.on("click",function(n){var i=!1,a=r.seriesModel.getViewRoot();a.eachNode(function(s){if(!i&&s.piece&&s.piece===n.target){var o=s.getModel().get("nodeClick");if(o==="rootToNode")r._rootToNode(s);else if(o==="link"){var l=s.getModel(),c=l.get("link");if(c){var u=l.get("target",!0)||"_blank";oT(c,u)}}i=!0}})})},t.prototype._rootToNode=function(r){r!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:KD,from:this.uid,seriesId:this.seriesModel.id,targetNode:r})},t.prototype.containPoint=function(r,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var s=r[0]-a.cx,o=r[1]-a.cy,l=Math.sqrt(s*s+o*o);return l<=a.r&&l>=a.r0}},t.type="sunburst",t}(dn),H4e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.ignoreStyleOnData=!0,r}return t.prototype.getInitialData=function(r,n){var i={name:r.name,children:r.data};_oe(i);var a=this._levelModels=_e(r.levels||[],function(l){return new Vr(l,this,n)},this),s=_$.createTree(i,this,o);function o(l){l.wrapMethod("getItemModel",function(c,u){var h=s.getNodeByDataIndex(u),f=a[h.depth];return f&&(c.parentModel=f),c})}return s.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(r){var n=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(r);return n.treePathInfo=H2(i,this),n},t.prototype.getLevelModel=function(r){return this._levelModels&&this._levelModels[r.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var n=this.getRawData().tree.root;(!r||r!==n&&!n.contains(r))&&(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){kse(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(_n);function _oe(e){var t=0;V(e.children,function(n){_oe(n);var i=n.value;ye(i)&&(i=i[0]),t+=i});var r=e.value;ye(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=t),r<0&&(r=0),ye(e.value)?e.value[0]=r:e.value=r}var C7=Math.PI/180;function V4e(e,t,r){t.eachSeriesByType(e,function(n){var i=n.get("center"),a=n.get("radius");ye(a)||(a=[0,a]),ye(i)||(i=[i,i]);var s=r.getWidth(),o=r.getHeight(),l=Math.min(s,o),c=Le(i[0],s),u=Le(i[1],o),h=Le(a[0],l/2),f=Le(a[1],l/2),p=-n.get("startAngle")*C7,g=n.get("minAngle")*C7,v=n.getData().tree.root,m=n.getViewRoot(),y=m.depth,x=n.get("sort");x!=null&&boe(m,x);var _=0;V(m.children,function(L){!isNaN(L.getValue())&&_++});var b=m.getValue(),w=Math.PI/(b||_)*2,S=m.depth>0,k=m.height-(S?-1:1),C=(f-h)/(k||1),E=n.get("clockwise"),T=n.get("stillShowZeroSum"),N=E?1:-1,I=function(L,O){if(L){var j=O;if(L!==v){var M=L.getValue(),R=b===0&&T?w:M*w;R<g&&(R=g),j=O+N*R;var z=L.depth-y-(S?-1:1),U=h+C*z,F=h+C*(z+1),G=n.getLevelModel(L);if(G){var q=G.get("r0",!0),K=G.get("r",!0),B=G.get("radius",!0);B!=null&&(q=B[0],K=B[1]),q!=null&&(U=Le(q,l/2)),K!=null&&(F=Le(K,l/2))}L.setLayout({angle:R,startAngle:O,endAngle:j,clockwise:E,cx:c,cy:u,r0:U,r:F})}if(L.children&&L.children.length){var W=0;V(L.children,function(Y){W+=I(Y,O+W)})}return j-O}};if(S){var P=h,D=h+C,$=Math.PI*2;v.setLayout({angle:$,startAngle:p,endAngle:p+$,clockwise:E,cx:c,cy:u,r0:P,r:D})}I(m,p)})}function boe(e,t){var r=e.children||[];e.children=W4e(r,t),r.length&&V(e.children,function(n){boe(n,t)})}function W4e(e,t){if(lt(t)){var r=_e(e,function(i,a){var s=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return s}},index:a}});return r.sort(function(i,a){return t(i.params,a.params)}),_e(r,function(i){return e[i.index]})}else{var n=t==="asc";return e.sort(function(i,a){var s=(i.getValue()-a.getValue())*(n?1:-1);return s===0?(i.dataIndex-a.dataIndex)*(n?-1:1):s})}}function G4e(e){var t={};function r(n,i,a){for(var s=n;s&&s.depth>1;)s=s.parentNode;var o=i.getColorFromPalette(s.name||s.dataIndex+"",t);return n.depth>1&&We(o)&&(o=OL(o,(n.depth-1)/(a-1)*.5)),o}e.eachSeriesByType("sunburst",function(n){var i=n.getData(),a=i.tree;a.eachNode(function(s){var o=s.getModel(),l=o.getModel("itemStyle").getItemStyle();l.fill||(l.fill=r(s,n,a.root.height));var c=i.ensureUniqueItemVisual(s.dataIndex,"style");pe(c,l)})})}function q4e(e){e.registerChartView(U4e),e.registerSeriesModel(H4e),e.registerLayout(At(V4e,"sunburst")),e.registerProcessor(At(t1,"sunburst")),e.registerVisual(G4e),z4e(e)}var k7={color:"fill",borderColor:"stroke"},Y4e={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},gu=_r(),K4e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(r,n){return Uu(null,this)},t.prototype.getDataParams=function(r,n,i){var a=e.prototype.getDataParams.call(this,r,n);return i&&(a.info=gu(i).info),a},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(_n);function X4e(e,t){return t=t||[0,0],_e(["x","y"],function(r,n){var i=this.getAxis(r),a=t[n],s=e[n]/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(a-s)-i.dataToCoord(a+s))},this)}function Z4e(e){var t=e.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(r){return e.dataToPoint(r)},size:Ke(X4e,e)}}}function J4e(e,t){return t=t||[0,0],_e([0,1],function(r){var n=t[r],i=e[r]/2,a=[],s=[];return a[r]=n-i,s[r]=n+i,a[1-r]=s[1-r]=t[1-r],Math.abs(this.dataToPoint(a)[r]-this.dataToPoint(s)[r])},this)}function Q4e(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(r){return e.dataToPoint(r)},size:Ke(J4e,e)}}}function e$e(e,t){var r=this.getAxis(),n=t instanceof Array?t[0]:t,i=(e instanceof Array?e[0]:e)/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(n-i)-r.dataToCoord(n+i))}function t$e(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(r){return e.dataToPoint(r)},size:Ke(e$e,e)}}}function r$e(e,t){return t=t||[0,0],_e(["Radius","Angle"],function(r,n){var i="get"+r+"Axis",a=this[i](),s=t[n],o=e[n]/2,l=a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(s-o)-a.dataToCoord(s+o));return r==="Angle"&&(l=l*Math.PI/180),l},this)}function n$e(e){var t=e.getRadiusAxis(),r=e.getAngleAxis(),n=t.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:n[1],r0:n[0]},api:{coord:function(i){var a=t.dataToRadius(i[0]),s=r.dataToAngle(i[1]),o=e.coordToPoint([a,s]);return o.push(a,s*Math.PI/180),o},size:Ke(r$e,e)}}}function i$e(e){var t=e.getRect(),r=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:r.start,end:r.end,weeks:r.weeks,dayCount:r.allDay}},api:{coord:function(n,i){return e.dataToPoint(n,i)}}}}function woe(e,t,r,n){return e&&(e.legacy||e.legacy!==!1&&!r&&!n&&t!=="tspan"&&(t==="text"||Ze(e,"text")))}function Soe(e,t,r){var n=e,i,a,s;if(t==="text")s=n;else{s={},Ze(n,"text")&&(s.text=n.text),Ze(n,"rich")&&(s.rich=n.rich),Ze(n,"textFill")&&(s.fill=n.textFill),Ze(n,"textStroke")&&(s.stroke=n.textStroke),Ze(n,"fontFamily")&&(s.fontFamily=n.fontFamily),Ze(n,"fontSize")&&(s.fontSize=n.fontSize),Ze(n,"fontStyle")&&(s.fontStyle=n.fontStyle),Ze(n,"fontWeight")&&(s.fontWeight=n.fontWeight),a={type:"text",style:s,silent:!0},i={};var o=Ze(n,"textPosition");r?i.position=o?n.textPosition:"inside":o&&(i.position=n.textPosition),Ze(n,"textPosition")&&(i.position=n.textPosition),Ze(n,"textOffset")&&(i.offset=n.textOffset),Ze(n,"textRotation")&&(i.rotation=n.textRotation),Ze(n,"textDistance")&&(i.distance=n.textDistance)}return E7(s,e),V(s.rich,function(l){E7(l,l)}),{textConfig:i,textContent:a}}function E7(e,t){t&&(t.font=t.textFont||t.font,Ze(t,"textStrokeWidth")&&(e.lineWidth=t.textStrokeWidth),Ze(t,"textAlign")&&(e.align=t.textAlign),Ze(t,"textVerticalAlign")&&(e.verticalAlign=t.textVerticalAlign),Ze(t,"textLineHeight")&&(e.lineHeight=t.textLineHeight),Ze(t,"textWidth")&&(e.width=t.textWidth),Ze(t,"textHeight")&&(e.height=t.textHeight),Ze(t,"textBackgroundColor")&&(e.backgroundColor=t.textBackgroundColor),Ze(t,"textPadding")&&(e.padding=t.textPadding),Ze(t,"textBorderColor")&&(e.borderColor=t.textBorderColor),Ze(t,"textBorderWidth")&&(e.borderWidth=t.textBorderWidth),Ze(t,"textBorderRadius")&&(e.borderRadius=t.textBorderRadius),Ze(t,"textBoxShadowColor")&&(e.shadowColor=t.textBoxShadowColor),Ze(t,"textBoxShadowBlur")&&(e.shadowBlur=t.textBoxShadowBlur),Ze(t,"textBoxShadowOffsetX")&&(e.shadowOffsetX=t.textBoxShadowOffsetX),Ze(t,"textBoxShadowOffsetY")&&(e.shadowOffsetY=t.textBoxShadowOffsetY))}function T7(e,t,r){var n=e;n.textPosition=n.textPosition||r.position||"inside",r.offset!=null&&(n.textOffset=r.offset),r.rotation!=null&&(n.textRotation=r.rotation),r.distance!=null&&(n.textDistance=r.distance);var i=n.textPosition.indexOf("inside")>=0,a=e.fill||"#000";N7(n,t);var s=n.textFill==null;return i?s&&(n.textFill=r.insideFill||"#fff",!n.textStroke&&r.insideStroke&&(n.textStroke=r.insideStroke),!n.textStroke&&(n.textStroke=a),n.textStrokeWidth==null&&(n.textStrokeWidth=2)):(s&&(n.textFill=e.fill||r.outsideFill||"#000"),!n.textStroke&&r.outsideStroke&&(n.textStroke=r.outsideStroke)),n.text=t.text,n.rich=t.rich,V(t.rich,function(o){N7(o,o)}),n}function N7(e,t){t&&(Ze(t,"fill")&&(e.textFill=t.fill),Ze(t,"stroke")&&(e.textStroke=t.fill),Ze(t,"lineWidth")&&(e.textStrokeWidth=t.lineWidth),Ze(t,"font")&&(e.font=t.font),Ze(t,"fontStyle")&&(e.fontStyle=t.fontStyle),Ze(t,"fontWeight")&&(e.fontWeight=t.fontWeight),Ze(t,"fontSize")&&(e.fontSize=t.fontSize),Ze(t,"fontFamily")&&(e.fontFamily=t.fontFamily),Ze(t,"align")&&(e.textAlign=t.align),Ze(t,"verticalAlign")&&(e.textVerticalAlign=t.verticalAlign),Ze(t,"lineHeight")&&(e.textLineHeight=t.lineHeight),Ze(t,"width")&&(e.textWidth=t.width),Ze(t,"height")&&(e.textHeight=t.height),Ze(t,"backgroundColor")&&(e.textBackgroundColor=t.backgroundColor),Ze(t,"padding")&&(e.textPadding=t.padding),Ze(t,"borderColor")&&(e.textBorderColor=t.borderColor),Ze(t,"borderWidth")&&(e.textBorderWidth=t.borderWidth),Ze(t,"borderRadius")&&(e.textBorderRadius=t.borderRadius),Ze(t,"shadowColor")&&(e.textBoxShadowColor=t.shadowColor),Ze(t,"shadowBlur")&&(e.textBoxShadowBlur=t.shadowBlur),Ze(t,"shadowOffsetX")&&(e.textBoxShadowOffsetX=t.shadowOffsetX),Ze(t,"shadowOffsetY")&&(e.textBoxShadowOffsetY=t.shadowOffsetY),Ze(t,"textShadowColor")&&(e.textShadowColor=t.textShadowColor),Ze(t,"textShadowBlur")&&(e.textShadowBlur=t.textShadowBlur),Ze(t,"textShadowOffsetX")&&(e.textShadowOffsetX=t.textShadowOffsetX),Ze(t,"textShadowOffsetY")&&(e.textShadowOffsetY=t.textShadowOffsetY))}var Coe={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},A7=ar(Coe);yc(_c,function(e,t){return e[t]=1,e},{});_c.join(", ");var TT=["","style","shape","extra"],Pv=_r();function $$(e,t,r,n,i){var a=e+"Animation",s=v0(e,n,i)||{},o=Pv(t).userDuring;return s.duration>0&&(s.during=o?Ke(c$e,{el:t,userDuring:o}):null,s.setToFinal=!0,s.scope=e),pe(s,r[a]),s}function Kk(e,t,r,n){n=n||{};var i=n.dataIndex,a=n.isInit,s=n.clearStyle,o=r.isAnimationEnabled(),l=Pv(e),c=t.style;l.userDuring=t.during;var u={},h={};if(d$e(e,t,h),R7("shape",t,h),R7("extra",t,h),!a&&o&&(u$e(e,t,u),j7("shape",e,t,u),j7("extra",e,t,u),h$e(e,t,c,u)),h.style=c,a$e(e,h,s),o$e(e,t),o)if(a){var f={};V(TT,function(g){var v=g?t[g]:t;v&&v.enterFrom&&(g&&(f[g]=f[g]||{}),pe(g?f[g]:f,v.enterFrom))});var p=$$("enter",e,t,r,i);p.duration>0&&e.animateFrom(f,p)}else s$e(e,t,i||0,r,u);koe(e,t),c?e.dirty():e.markRedraw()}function koe(e,t){for(var r=Pv(e).leaveToProps,n=0;n<TT.length;n++){var i=TT[n],a=i?t[i]:t;a&&a.leaveTo&&(r||(r=Pv(e).leaveToProps={}),i&&(r[i]=r[i]||{}),pe(i?r[i]:r,a.leaveTo))}}function G2(e,t,r,n){if(e){var i=e.parent,a=Pv(e).leaveToProps;if(a){var s=$$("update",e,t,r,0);s.done=function(){i.remove(e)},e.animateTo(a,s)}else i.remove(e)}}function gp(e){return e==="all"}function a$e(e,t,r){var n=t.style;if(!e.isGroup&&n){if(r){e.useStyle({});for(var i=e.animators,a=0;a<i.length;a++){var s=i[a];s.targetName==="style"&&s.changeTarget(e.style)}}e.setStyle(n)}t&&(t.style=null,t&&e.attr(t),t.style=n)}function s$e(e,t,r,n,i){if(i){var a=$$("update",e,t,n,r);a.duration>0&&e.animateFrom(i,a)}}function o$e(e,t){Ze(t,"silent")&&(e.silent=t.silent),Ze(t,"ignore")&&(e.ignore=t.ignore),e instanceof Mo&&Ze(t,"invisible")&&(e.invisible=t.invisible),e instanceof er&&Ze(t,"autoBatch")&&(e.autoBatch=t.autoBatch)}var Bl={},l$e={setTransform:function(e,t){return Bl.el[e]=t,this},getTransform:function(e){return Bl.el[e]},setShape:function(e,t){var r=Bl.el,n=r.shape||(r.shape={});return n[e]=t,r.dirtyShape&&r.dirtyShape(),this},getShape:function(e){var t=Bl.el.shape;if(t)return t[e]},setStyle:function(e,t){var r=Bl.el,n=r.style;return n&&(n[e]=t,r.dirtyStyle&&r.dirtyStyle()),this},getStyle:function(e){var t=Bl.el.style;if(t)return t[e]},setExtra:function(e,t){var r=Bl.el.extra||(Bl.el.extra={});return r[e]=t,this},getExtra:function(e){var t=Bl.el.extra;if(t)return t[e]}};function c$e(){var e=this,t=e.el;if(t){var r=Pv(t).userDuring,n=e.userDuring;if(r!==n){e.el=e.userDuring=null;return}Bl.el=t,n(l$e)}}function j7(e,t,r,n){var i=r[e];if(i){var a=t[e],s;if(a){var o=r.transition,l=i.transition;if(l)if(!s&&(s=n[e]={}),gp(l))pe(s,a);else for(var c=sn(l),u=0;u<c.length;u++){var h=c[u],f=a[h];s[h]=f}else if(gp(o)||Wt(o,e)>=0){!s&&(s=n[e]={});for(var p=ar(a),u=0;u<p.length;u++){var h=p[u],f=a[h];f$e(i[h],f)&&(s[h]=f)}}}}}function R7(e,t,r){var n=t[e];if(n)for(var i=r[e]={},a=ar(n),s=0;s<a.length;s++){var o=a[s];i[o]=x_(n[o])}}function u$e(e,t,r){for(var n=t.transition,i=gp(n)?_c:sn(n||[]),a=0;a<i.length;a++){var s=i[a];if(!(s==="style"||s==="shape"||s==="extra")){var o=e[s];r[s]=o}}}function d$e(e,t,r){for(var n=0;n<A7.length;n++){var i=A7[n],a=Coe[i],s=t[i];s&&(r[a[0]]=s[0],r[a[1]]=s[1])}for(var n=0;n<_c.length;n++){var o=_c[n];t[o]!=null&&(r[o]=t[o])}}function h$e(e,t,r,n){if(r){var i=e.style,a;if(i){var s=r.transition,o=t.transition;if(s&&!gp(s)){var l=sn(s);!a&&(a=n.style={});for(var c=0;c<l.length;c++){var u=l[c],h=i[u];a[u]=h}}else if(e.getAnimationStyleProps&&(gp(o)||gp(s)||Wt(o,"style")>=0)){var f=e.getAnimationStyleProps(),p=f?f.style:null;if(p){!a&&(a=n.style={});for(var g=ar(r),c=0;c<g.length;c++){var u=g[c];if(p[u]){var h=i[u];a[u]=h}}}}}}}function f$e(e,t){return _a(e)?e!==t:e!=null&&isFinite(e)}var Eoe=_r(),p$e=["percent","easing","shape","style","extra"];function Toe(e){e.stopAnimation("keyframe"),e.attr(Eoe(e))}function NT(e,t,r){if(!(!r.isAnimationEnabled()||!t)){if(ye(t)){V(t,function(o){NT(e,o,r)});return}var n=t.keyframes,i=t.duration;if(r&&i==null){var a=v0("enter",r,0);i=a&&a.duration}if(!(!n||!i)){var s=Eoe(e);V(TT,function(o){if(!(o&&!e[o])){var l;n.sort(function(c,u){return c.percent-u.percent}),V(n,function(c){var u=e.animators,h=o?c[o]:c;if(h){var f=ar(h);if(o||(f=Br(f,function(v){return Wt(p$e,v)<0})),!!f.length){l||(l=e.animate(o,t.loop,!0),l.scope="keyframe");for(var p=0;p<u.length;p++)u[p]!==l&&u[p].targetName===l.targetName&&u[p].stopTracks(f);o&&(s[o]=s[o]||{});var g=o?s[o]:s;V(f,function(v){g[v]=((o?e[o]:e)||{})[v]}),l.whenWithKeys(i*c.percent,h,f,c.easing)}}}),l&&l.delay(t.delay||0).duration(i).start(t.easing)}})}}}var mu="emphasis",Bd="normal",B$="blur",F$="select",vh=[Bd,mu,B$,F$],EI={normal:["itemStyle"],emphasis:[mu,"itemStyle"],blur:[B$,"itemStyle"],select:[F$,"itemStyle"]},TI={normal:["label"],emphasis:[mu,"label"],blur:[B$,"label"],select:[F$,"label"]},g$e=["x","y"],m$e="e\0\0",ao={normal:{},emphasis:{},blur:{},select:{}},v$e={cartesian2d:Z4e,geo:Q4e,single:t$e,polar:n$e,calendar:i$e};function XD(e){return e instanceof er}function ZD(e){return e instanceof Mo}function y$e(e,t){t.copyTransform(e),ZD(t)&&ZD(e)&&(t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel,t.invisible=e.invisible,t.ignore=e.ignore,XD(t)&&XD(e)&&t.setShape(e.shape))}var x$e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,a){this._progressiveEls=null;var s=this._data,o=r.getData(),l=this.group,c=I7(r,o,n,i);s||l.removeAll(),o.diff(s).add(function(h){NI(i,null,h,c(h,a),r,l,o)}).remove(function(h){var f=s.getItemGraphicEl(h);f&&G2(f,gu(f).option,r)}).update(function(h,f){var p=s.getItemGraphicEl(f);NI(i,p,h,c(h,a),r,l,o)}).execute();var u=r.get("clip",!0)?Qw(r.coordinateSystem,!1,r):null;u?l.setClipPath(u):l.removeClipPath(),this._data=o},t.prototype.incrementalPrepareRender=function(r,n,i){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(r,n,i,a,s){var o=n.getData(),l=I7(n,o,i,a),c=this._progressiveEls=[];function u(p){p.isGroup||(p.incremental=!0,p.ensureState("emphasis").hoverLayer=!0)}for(var h=r.start;h<r.end;h++){var f=NI(null,null,h,l(h,s),n,this.group,o);f&&(f.traverse(u),c.push(f))}},t.prototype.eachRendered=function(r){Lh(this._progressiveEls||this.group,r)},t.prototype.filterForExposedEvent=function(r,n,i,a){var s=n.element;if(s==null||i.name===s)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===s)return!0;return!1},t.type="custom",t}(dn);function z$(e){var t=e.type,r;if(t==="path"){var n=e.shape,i=n.width!=null&&n.height!=null?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,a=joe(n);r=w2(a,null,i,n.layout||"center"),gu(r).customPathData=a}else if(t==="image")r=new Wi({}),gu(r).customImagePath=e.style.image;else if(t==="text")r=new kr({});else if(t==="group")r=new _t;else{if(t==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var s=A4(t);if(!s){var o="";$r(o)}r=new s}return gu(r).customGraphicType=t,r.name=e.name,r.z2EmphasisLift=1,r.z2SelectLift=1,r}function U$(e,t,r,n,i,a,s){Toe(t);var o=i&&i.normal.cfg;o&&t.setTextConfig(o),n&&n.transition==null&&(n.transition=g$e);var l=n&&n.style;if(l){if(t.type==="text"){var c=l;Ze(c,"textFill")&&(c.fill=c.textFill),Ze(c,"textStroke")&&(c.stroke=c.textStroke)}var u=void 0,h=XD(t)?l.decal:null;e&&h&&(h.dirty=!0,u=Av(h,e)),l.__decalPattern=u}if(ZD(t)&&l){var u=l.__decalPattern;u&&(l.decal=u)}Kk(t,n,a,{dataIndex:r,isInit:s,clearStyle:!0}),NT(t,n.keyframeAnimation,a)}function Noe(e,t,r,n,i){var a=t.isGroup?null:t,s=i&&i[e].cfg;if(a){var o=a.ensureState(e);if(n===!1){var l=a.getState(e);l&&(l.style=null)}else o.style=n||null;s&&(o.textConfig=s),Rp(a)}}function _$e(e,t,r){if(!e.isGroup){var n=e,i=r.currentZ,a=r.currentZLevel;n.z=i,n.zlevel=a;var s=t.z2;s!=null&&(n.z2=s||0);for(var o=0;o<vh.length;o++)b$e(n,t,vh[o])}}function b$e(e,t,r){var n=r===Bd,i=n?t:AT(t,r),a=i?i.z2:null,s;a!=null&&(s=n?e:e.ensureState(r),s.z2=a||0)}function I7(e,t,r,n){var i=e.get("renderItem"),a=e.coordinateSystem,s={};a&&(s=a.prepareCustoms?a.prepareCustoms(a):v$e[a.type](a));for(var o=ut({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:b,style:S,ordinalRawValue:w,styleEmphasis:k,visual:T,barLayout:N,currentSeriesIndices:I,font:P},s.api||{}),l={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:s.coordSys,dataInsideLength:t.count(),encode:w$e(e.getData())},c,u,h={},f={},p={},g={},v=0;v<vh.length;v++){var m=vh[v];p[m]=e.getModel(EI[m]),g[m]=e.getModel(TI[m])}function y(D){return D===c?u||(u=t.getItemModel(D)):t.getItemModel(D)}function x(D,$){return t.hasItemOption?D===c?h[$]||(h[$]=y(D).getModel(EI[$])):y(D).getModel(EI[$]):p[$]}function _(D,$){return t.hasItemOption?D===c?f[$]||(f[$]=y(D).getModel(TI[$])):y(D).getModel(TI[$]):g[$]}return function(D,$){return c=D,u=null,h={},f={},i&&i(ut({dataIndexInside:D,dataIndex:t.getRawIndex(D),actionType:$?$.type:null},l),o)};function b(D,$){return $==null&&($=c),t.getStore().get(t.getDimensionIndex(D||0),$)}function w(D,$){$==null&&($=c),D=D||0;var L=t.getDimensionInfo(D);if(!L){var O=t.getDimensionIndex(D);return O>=0?t.getStore().get(O,$):void 0}var j=t.get(L.name,$),M=L&&L.ordinalMeta;return M?M.categories[j]:j}function S(D,$){$==null&&($=c);var L=t.getItemVisual($,"style"),O=L&&L.fill,j=L&&L.opacity,M=x($,Bd).getItemStyle();O!=null&&(M.fill=O),j!=null&&(M.opacity=j);var R={inheritColor:We(O)?O:"#000"},z=_($,Bd),U=yn(z,null,R,!1,!0);U.text=z.getShallow("show")?Et(e.getFormattedLabel($,Bd),Rv(t,$)):null;var F=aT(z,R,!1);return E(D,M),M=T7(M,U,F),D&&C(M,D),M.legacy=!0,M}function k(D,$){$==null&&($=c);var L=x($,mu).getItemStyle(),O=_($,mu),j=yn(O,null,null,!0,!0);j.text=O.getShallow("show")?dc(e.getFormattedLabel($,mu),e.getFormattedLabel($,Bd),Rv(t,$)):null;var M=aT(O,null,!0);return E(D,L),L=T7(L,j,M),D&&C(L,D),L.legacy=!0,L}function C(D,$){for(var L in $)Ze($,L)&&(D[L]=$[L])}function E(D,$){D&&(D.textFill&&($.textFill=D.textFill),D.textPosition&&($.textPosition=D.textPosition))}function T(D,$){if($==null&&($=c),Ze(k7,D)){var L=t.getItemVisual($,"style");return L?L[k7[D]]:null}if(Ze(Y4e,D))return t.getItemVisual($,D)}function N(D){if(a.type==="cartesian2d"){var $=a.getBaseAxis();return dIe(ut({axis:$},D))}}function I(){return r.getCurrentSeriesIndices()}function P(D){return j4(D,r)}}function w$e(e){var t={};return V(e.dimensions,function(r){var n=e.getDimensionInfo(r);if(!n.isExtraCoord){var i=n.coordDim,a=t[i]=t[i]||[];a[n.coordDimIndex]=e.getDimensionIndex(r)}}),t}function NI(e,t,r,n,i,a,s){if(!n){a.remove(t);return}var o=H$(e,t,r,n,i,a);return o&&s.setItemGraphicEl(r,o),o&&Wn(o,n.focus,n.blurScope,n.emphasisDisabled),o}function H$(e,t,r,n,i,a){var s=-1,o=t;t&&Aoe(t,n,i)&&(s=Wt(a.childrenRef(),t),t=null);var l=!t,c=t;c?c.clearStates():(c=z$(n),o&&y$e(o,c)),n.morph===!1?c.disableMorphing=!0:c.disableMorphing&&(c.disableMorphing=!1),ao.normal.cfg=ao.normal.conOpt=ao.emphasis.cfg=ao.emphasis.conOpt=ao.blur.cfg=ao.blur.conOpt=ao.select.cfg=ao.select.conOpt=null,ao.isLegacy=!1,C$e(c,r,n,i,l,ao),S$e(c,r,n,i,l),U$(e,c,r,n,ao,i,l),Ze(n,"info")&&(gu(c).info=n.info);for(var u=0;u<vh.length;u++){var h=vh[u];if(h!==Bd){var f=AT(n,h),p=V$(n,f,h);Noe(h,c,f,p,ao)}}return _$e(c,n,i),n.type==="group"&&k$e(e,c,r,n,i),s>=0?a.replaceAt(c,s):a.add(c),c}function Aoe(e,t,r){var n=gu(e),i=t.type,a=t.shape,s=t.style;return r.isUniversalTransitionEnabled()||i!=null&&i!==n.customGraphicType||i==="path"&&A$e(a)&&joe(a)!==n.customPathData||i==="image"&&Ze(s,"image")&&s.image!==n.customImagePath}function S$e(e,t,r,n,i){var a=r.clipPath;if(a===!1)e&&e.getClipPath()&&e.removeClipPath();else if(a){var s=e.getClipPath();s&&Aoe(s,a,n)&&(s=null),s||(s=z$(a),e.setClipPath(s)),U$(null,s,t,a,null,n,i)}}function C$e(e,t,r,n,i,a){if(!e.isGroup){M7(r,null,a),M7(r,mu,a);var s=a.normal.conOpt,o=a.emphasis.conOpt,l=a.blur.conOpt,c=a.select.conOpt;if(s!=null||o!=null||c!=null||l!=null){var u=e.getTextContent();if(s===!1)u&&e.removeTextContent();else{s=a.normal.conOpt=s||{type:"text"},u?u.clearStates():(u=z$(s),e.setTextContent(u)),U$(null,u,t,s,null,n,i);for(var h=s&&s.style,f=0;f<vh.length;f++){var p=vh[f];if(p!==Bd){var g=a[p].conOpt;Noe(p,u,g,V$(s,g,p),null)}}h?u.dirty():u.markRedraw()}}}}function M7(e,t,r){var n=t?AT(e,t):e,i=t?V$(e,n,mu):e.style,a=e.type,s=n?n.textConfig:null,o=e.textContent,l=o?t?AT(o,t):o:null;if(i&&(r.isLegacy||woe(i,a,!!s,!!l))){r.isLegacy=!0;var c=Soe(i,a,!t);!s&&c.textConfig&&(s=c.textConfig),!l&&c.textContent&&(l=c.textContent)}if(!t&&l){var u=l;!u.type&&(u.type="text")}var h=t?r[t]:r.normal;h.cfg=s,h.conOpt=l}function AT(e,t){return t?e?e[t]:null:e}function V$(e,t,r){var n=t&&t.style;return n==null&&r===mu&&e&&(n=e.styleEmphasis),n}function k$e(e,t,r,n,i){var a=n.children,s=a?a.length:0,o=n.$mergeChildren,l=o==="byName"||n.diffChildrenByName,c=o===!1;if(!(!s&&!l&&!c)){if(l){T$e({api:e,oldChildren:t.children()||[],newChildren:a||[],dataIndex:r,seriesModel:i,group:t});return}c&&t.removeAll();for(var u=0;u<s;u++){var h=a[u],f=t.childAt(u);h?(h.ignore==null&&(h.ignore=!1),H$(e,f,r,h,i,t)):f.ignore=!0}for(var p=t.childCount()-1;p>=u;p--){var g=t.childAt(p);E$e(t,g,i)}}}function E$e(e,t,r){t&&G2(t,gu(e).option,r)}function T$e(e){new Nu(e.oldChildren,e.newChildren,P7,P7,e).add(L7).update(L7).remove(N$e).execute()}function P7(e,t){var r=e&&e.name;return r??m$e+t}function L7(e,t){var r=this.context,n=e!=null?r.newChildren[e]:null,i=t!=null?r.oldChildren[t]:null;H$(r.api,i,r.dataIndex,n,r.seriesModel,r.group)}function N$e(e){var t=this.context,r=t.oldChildren[e];r&&G2(r,gu(r).option,t.seriesModel)}function joe(e){return e&&(e.pathData||e.d)}function A$e(e){return e&&(Ze(e,"pathData")||Ze(e,"d"))}function j$e(e){e.registerChartView(x$e),e.registerSeriesModel(K4e)}var Pf=_r(),D7=vt,AI=Ke,W$=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(t,r,n,i){var a=r.get("value"),s=r.get("status");if(this._axisModel=t,this._axisPointerModel=r,this._api=n,!(!i&&this._lastValue===a&&this._lastStatus===s)){this._lastValue=a,this._lastStatus=s;var o=this._group,l=this._handle;if(!s||s==="hide"){o&&o.hide(),l&&l.hide();return}o&&o.show(),l&&l.show();var c={};this.makeElOption(c,a,t,r,n);var u=c.graphicKey;u!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=u;var h=this._moveAnimation=this.determineAnimation(t,r);if(!o)o=this._group=new _t,this.createPointerEl(o,c,t,r),this.createLabelEl(o,c,t,r),n.getZr().add(o);else{var f=At(O7,r,h);this.updatePointerEl(o,c,f),this.updateLabelEl(o,c,f,r)}B7(o,r,!0),this._renderHandle(a)}},e.prototype.remove=function(t){this.clear(t)},e.prototype.dispose=function(t){this.clear(t)},e.prototype.determineAnimation=function(t,r){var n=r.get("animation"),i=t.axis,a=i.type==="category",s=r.get("snap");if(!s&&!a)return!1;if(n==="auto"||n==null){var o=this.animationThreshold;if(a&&i.getBandWidth()>o)return!0;if(s){var l=f$(t).seriesDataCount,c=i.getExtent();return Math.abs(c[0]-c[1])/l>o}return!1}return n===!0},e.prototype.makeElOption=function(t,r,n,i,a){},e.prototype.createPointerEl=function(t,r,n,i){var a=r.pointer;if(a){var s=Pf(t).pointerEl=new eg[a.type](D7(r.pointer));t.add(s)}},e.prototype.createLabelEl=function(t,r,n,i){if(r.label){var a=Pf(t).labelEl=new kr(D7(r.label));t.add(a),$7(a,i)}},e.prototype.updatePointerEl=function(t,r,n){var i=Pf(t).pointerEl;i&&r.pointer&&(i.setStyle(r.pointer.style),n(i,{shape:r.pointer.shape}))},e.prototype.updateLabelEl=function(t,r,n,i){var a=Pf(t).labelEl;a&&(a.setStyle(r.label.style),n(a,{x:r.label.x,y:r.label.y}),$7(a,i))},e.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,n=this._api.getZr(),i=this._handle,a=r.getModel("handle"),s=r.get("status");if(!a.get("show")||!s||s==="hide"){i&&n.remove(i),this._handle=null;return}var o;this._handle||(o=!0,i=this._handle=Gw(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(c){Cu(c.event)},onmousedown:AI(this._onHandleDragMove,this,0,0),drift:AI(this._onHandleDragMove,this),ondragend:AI(this._onHandleDragEnd,this)}),n.add(i)),B7(i,r,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");ye(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,C0(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,o)}},e.prototype._moveHandleToValue=function(t,r){O7(this._axisPointerModel,!r&&this._moveAnimation,this._handle,jI(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(t,r){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(jI(n),[t,r],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(jI(i)),Pf(n).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var r=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var r=t.getZr(),n=this._group,i=this._handle;r&&n&&(this._lastGraphicKey=null,n&&r.remove(n),i&&r.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),jb(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(t,r,n){return n=n||0,{x:t[n],y:t[1-n],width:r[n],height:r[1-n]}},e}();function O7(e,t,r,n){Roe(Pf(r).lastProp,n)||(Pf(r).lastProp=n,t?Rr(r,n,e):(r.stopAnimation(),r.attr(n)))}function Roe(e,t){if(ft(e)&&ft(t)){var r=!0;return V(t,function(n,i){r=r&&Roe(e[i],n)}),!!r}else return e===t}function $7(e,t){e[t.get(["label","show"])?"show":"hide"]()}function jI(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function B7(e,t,r){var n=t.get("z"),i=t.get("zlevel");e&&e.traverse(function(a){a.type!=="group"&&(n!=null&&(a.z=n),i!=null&&(a.zlevel=i),a.silent=r)})}function G$(e){var t=e.get("type"),r=e.getModel(t+"Style"),n;return t==="line"?(n=r.getLineStyle(),n.fill=null):t==="shadow"&&(n=r.getAreaStyle(),n.stroke=null),n}function Ioe(e,t,r,n,i){var a=r.get("value"),s=Moe(a,t.axis,t.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),o=r.getModel("label"),l=_0(o.get("padding")||0),c=o.getFont(),u=Bw(s,c),h=i.position,f=u.width+l[1]+l[3],p=u.height+l[0]+l[2],g=i.align;g==="right"&&(h[0]-=f),g==="center"&&(h[0]-=f/2);var v=i.verticalAlign;v==="bottom"&&(h[1]-=p),v==="middle"&&(h[1]-=p/2),R$e(h,f,p,n);var m=o.get("backgroundColor");(!m||m==="auto")&&(m=t.get(["axisLine","lineStyle","color"])),e.label={x:h[0],y:h[1],style:yn(o,{text:s,font:c,fill:o.getTextColor(),padding:l,backgroundColor:m}),z2:10}}function R$e(e,t,r,n){var i=n.getWidth(),a=n.getHeight();e[0]=Math.min(e[0]+t,i)-t,e[1]=Math.min(e[1]+r,a)-r,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function Moe(e,t,r,n,i){e=t.scale.parse(e);var a=t.scale.getLabel({value:e},{precision:i.precision}),s=i.formatter;if(s){var o={value:r$(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};V(n,function(l){var c=r.getSeriesByIndex(l.seriesIndex),u=l.dataIndexInside,h=c&&c.getDataParams(u);h&&o.seriesData.push(h)}),We(s)?a=s.replace("{value}",a):lt(s)&&(a=s(o))}return a}function q$(e,t,r){var n=$s();return Jp(n,n,r.rotation),xc(n,n,r.position),cl([e.dataToCoord(t),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],n)}function Poe(e,t,r,n,i,a){var s=Va.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=i.get(["label","margin"]),Ioe(t,n,i,a,{position:q$(n.axis,e,r),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function Y$(e,t,r){return r=r||0,{x1:e[r],y1:e[1-r],x2:t[r],y2:t[1-r]}}function Loe(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}}function F7(e,t,r,n,i,a){return{cx:e,cy:t,r0:r,r:n,startAngle:i,endAngle:a,clockwise:!0}}var I$e=function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(r,n,i,a,s){var o=i.axis,l=o.grid,c=a.get("type"),u=z7(l,o).getOtherAxis(o).getGlobalExtent(),h=o.toGlobalCoord(o.dataToCoord(n,!0));if(c&&c!=="none"){var f=G$(a),p=M$e[c](o,h,u);p.style=f,r.graphicKey=p.type,r.pointer=p}var g=RD(l.model,i);Poe(n,r,g,i,a,s)},t.prototype.getHandleTransform=function(r,n,i){var a=RD(n.axis.grid.model,n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var s=q$(n.axis,r,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(r,n,i,a){var s=i.axis,o=s.grid,l=s.getGlobalExtent(!0),c=z7(o,s).getOtherAxis(s).getGlobalExtent(),u=s.dim==="x"?0:1,h=[r.x,r.y];h[u]+=n[u],h[u]=Math.min(l[1],h[u]),h[u]=Math.max(l[0],h[u]);var f=(c[1]+c[0])/2,p=[f,f];p[u]=h[u];var g=[{verticalAlign:"middle"},{align:"center"}];return{x:h[0],y:h[1],rotation:r.rotation,cursorPoint:p,tooltipOption:g[u]}},t}(W$);function z7(e,t){var r={};return r[t.dim+"AxisIndex"]=t.index,e.getCartesian(r)}var M$e={line:function(e,t,r){var n=Y$([t,r[0]],[t,r[1]],U7(e));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(e,t,r){var n=Math.max(1,e.getBandWidth()),i=r[1]-r[0];return{type:"Rect",shape:Loe([t-n/2,r[0]],[n,i],U7(e))}}};function U7(e){return e.dim==="x"?0:1}var P$e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(ir),su=_r(),L$e=V;function Doe(e,t,r){if(!tr.node){var n=t.getZr();su(n).records||(su(n).records={}),D$e(n,t);var i=su(n).records[e]||(su(n).records[e]={});i.handler=r}}function D$e(e,t){if(su(e).initialized)return;su(e).initialized=!0,r("click",At(H7,"click")),r("mousemove",At(H7,"mousemove")),r("globalout",$$e);function r(n,i){e.on(n,function(a){var s=B$e(t);L$e(su(e).records,function(o){o&&i(o,a,s.dispatchAction)}),O$e(s.pendings,t)})}}function O$e(e,t){var r=e.showTip.length,n=e.hideTip.length,i;r?i=e.showTip[r-1]:n&&(i=e.hideTip[n-1]),i&&(i.dispatchAction=null,t.dispatchAction(i))}function $$e(e,t,r){e.handler("leave",null,r)}function H7(e,t,r,n){t.handler(e,r,n)}function B$e(e){var t={showTip:[],hideTip:[]},r=function(n){var i=t[n.type];i?i.push(n):(n.dispatchAction=r,e.dispatchAction(n))};return{dispatchAction:r,pendings:t}}function JD(e,t){if(!tr.node){var r=t.getZr(),n=(su(r).records||{})[e];n&&(su(r).records[e]=null)}}var F$e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a=n.getComponent("tooltip"),s=r.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";Doe("axisPointer",i,function(o,l,c){s!=="none"&&(o==="leave"||s.indexOf(o)>=0)&&c({type:"updateAxisPointer",currTrigger:o,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(r,n){JD("axisPointer",n)},t.prototype.dispose=function(r,n){JD("axisPointer",n)},t.type="axisPointer",t}(Bn);function Ooe(e,t){var r=[],n=e.seriesIndex,i;if(n==null||!(i=t.getSeriesByIndex(n)))return{point:[]};var a=i.getData(),s=Ap(a,e);if(s==null||s<0||ye(s))return{point:[]};var o=a.getItemGraphicEl(s),l=i.coordinateSystem;if(i.getTooltipPosition)r=i.getTooltipPosition(s)||[];else if(l&&l.dataToPoint)if(e.isStacked){var c=l.getBaseAxis(),u=l.getOtherAxis(c),h=u.dim,f=c.dim,p=h==="x"||h==="radius"?1:0,g=a.mapDimension(f),v=[];v[p]=a.get(g,s),v[1-p]=a.get(a.getCalculationInfo("stackResultDimension"),s),r=l.dataToPoint(v)||[]}else r=l.dataToPoint(a.getValues(_e(l.dimensions,function(y){return a.mapDimension(y)}),s))||[];else if(o){var m=o.getBoundingRect().clone();m.applyTransform(o.transform),r=[m.x+m.width/2,m.y+m.height/2]}return{point:r,el:o}}var V7=_r();function z$e(e,t,r){var n=e.currTrigger,i=[e.x,e.y],a=e,s=e.dispatchAction||Ke(r.dispatchAction,r),o=t.getComponent("axisPointer").coordSysAxesInfo;if(o){Xk(i)&&(i=Ooe({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},t).point);var l=Xk(i),c=a.axesInfo,u=o.axesInfo,h=n==="leave"||Xk(i),f={},p={},g={list:[],map:{}},v={showPointer:At(H$e,p),showTooltip:At(V$e,g)};V(o.coordSysMap,function(y,x){var _=l||y.containPoint(i);V(o.coordSysAxesInfo[x],function(b,w){var S=b.axis,k=Y$e(c,b);if(!h&&_&&(!c||k)){var C=k&&k.value;C==null&&!l&&(C=S.pointToData(i)),C!=null&&W7(b,C,v,!1,f)}})});var m={};return V(u,function(y,x){var _=y.linkGroup;_&&!p[x]&&V(_.axesInfo,function(b,w){var S=p[w];if(b!==y&&S){var k=S.value;_.mapper&&(k=y.axis.scale.parse(_.mapper(k,G7(b),G7(y)))),m[y.key]=k}})}),V(m,function(y,x){W7(u[x],y,v,!0,f)}),W$e(p,u,f),G$e(g,i,e,s),q$e(u,s,r),f}}function W7(e,t,r,n,i){var a=e.axis;if(!(a.scale.isBlank()||!a.containData(t))){if(!e.involveSeries){r.showPointer(e,t);return}var s=U$e(t,e),o=s.payloadBatch,l=s.snapToValue;o[0]&&i.seriesIndex==null&&pe(i,o[0]),!n&&e.snap&&a.containData(l)&&l!=null&&(t=l),r.showPointer(e,t,o),r.showTooltip(e,s,l)}}function U$e(e,t){var r=t.axis,n=r.dim,i=e,a=[],s=Number.MAX_VALUE,o=-1;return V(t.seriesModels,function(l,c){var u=l.getData().mapDimensionsAll(n),h,f;if(l.getAxisTooltipData){var p=l.getAxisTooltipData(u,e,r);f=p.dataIndices,h=p.nestestValue}else{if(f=l.getData().indicesOfNearest(u[0],e,r.type==="category"?.5:null),!f.length)return;h=l.getData().get(u[0],f[0])}if(!(h==null||!isFinite(h))){var g=e-h,v=Math.abs(g);v<=s&&((v<s||g>=0&&o<0)&&(s=v,o=g,i=h,a.length=0),V(f,function(m){a.push({seriesIndex:l.seriesIndex,dataIndexInside:m,dataIndex:l.getData().getRawIndex(m)})}))}}),{payloadBatch:a,snapToValue:i}}function H$e(e,t,r,n){e[t.key]={value:r,payloadBatch:n}}function V$e(e,t,r,n){var i=r.payloadBatch,a=t.axis,s=a.model,o=t.axisPointerModel;if(!(!t.triggerTooltip||!i.length)){var l=t.coordSys.model,c=Ob(l),u=e.map[c];u||(u=e.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(u)),u.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:n,valueLabelOpt:{precision:o.get(["label","precision"]),formatter:o.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function W$e(e,t,r){var n=r.axesInfo=[];V(t,function(i,a){var s=i.axisPointerModel.option,o=e[a];o?(!i.useHandle&&(s.status="show"),s.value=o.value,s.seriesDataIndices=(o.payloadBatch||[]).slice()):!i.useHandle&&(s.status="hide"),s.status==="show"&&n.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:s.value})})}function G$e(e,t,r,n){if(Xk(t)||!e.list.length){n({type:"hideTip"});return}var i=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:e.list})}function q$e(e,t,r){var n=r.getZr(),i="axisPointerLastHighlights",a=V7(n)[i]||{},s=V7(n)[i]={};V(e,function(c,u){var h=c.axisPointerModel.option;h.status==="show"&&c.triggerEmphasis&&V(h.seriesDataIndices,function(f){var p=f.seriesIndex+" | "+f.dataIndex;s[p]=f})});var o=[],l=[];V(a,function(c,u){!s[u]&&l.push(c)}),V(s,function(c,u){!a[u]&&o.push(c)}),l.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),o.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:o})}function Y$e(e,t){for(var r=0;r<(e||[]).length;r++){var n=e[r];if(t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex)return n}}function G7(e){var t=e.axis.model,r={},n=r.axisDim=e.axis.dim;return r.axisIndex=r[n+"AxisIndex"]=t.componentIndex,r.axisName=r[n+"AxisName"]=t.name,r.axisId=r[n+"AxisId"]=t.id,r}function Xk(e){return!e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}function a1(e){ig.registerAxisPointerClass("CartesianAxisPointer",I$e),e.registerComponentModel(P$e),e.registerComponentView(F$e),e.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var r=t.axisPointer.link;r&&!ye(r)&&(t.axisPointer.link=[r])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(t,r){t.getComponent("axisPointer").coordSysAxesInfo=iLe(t,r)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},z$e)}function K$e(e){Zt(dse),Zt(a1)}var X$e=function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(r,n,i,a,s){var o=i.axis;o.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=o.polar,c=l.getOtherAxis(o),u=c.getExtent(),h=o.dataToCoord(n),f=a.get("type");if(f&&f!=="none"){var p=G$(a),g=J$e[f](o,l,h,u);g.style=p,r.graphicKey=g.type,r.pointer=g}var v=a.get(["label","margin"]),m=Z$e(n,i,a,l,v);Ioe(r,i,a,s,m)},t}(W$);function Z$e(e,t,r,n,i){var a=t.axis,s=a.dataToCoord(e),o=n.getAngleAxis().getExtent()[0];o=o/180*Math.PI;var l=n.getRadiusAxis().getExtent(),c,u,h;if(a.dim==="radius"){var f=$s();Jp(f,f,o),xc(f,f,[n.cx,n.cy]),c=cl([s,-i],f);var p=t.getModel("axisLabel").get("rotate")||0,g=Va.innerTextLayout(o,p*Math.PI/180,-1);u=g.textAlign,h=g.textVerticalAlign}else{var v=l[1];c=n.coordToPoint([v+i,s]);var m=n.cx,y=n.cy;u=Math.abs(c[0]-m)/v<.3?"center":c[0]>m?"left":"right",h=Math.abs(c[1]-y)/v<.3?"middle":c[1]>y?"top":"bottom"}return{position:c,align:u,verticalAlign:h}}var J$e={line:function(e,t,r,n){return e.dim==="angle"?{type:"Line",shape:Y$(t.coordToPoint([n[0],r]),t.coordToPoint([n[1],r]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r}}},shadow:function(e,t,r,n){var i=Math.max(1,e.getBandWidth()),a=Math.PI/180;return e.dim==="angle"?{type:"Sector",shape:F7(t.cx,t.cy,n[0],n[1],(-r-i/2)*a,(-r+i/2)*a)}:{type:"Sector",shape:F7(t.cx,t.cy,r-i/2,r+i/2,0,Math.PI*2)}}},Q$e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.findAxisModel=function(r){var n,i=this.ecModel;return i.eachComponent(r,function(a){a.getCoordSysModel()===this&&(n=a)},this),n},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(ir),K$=function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",di).models[0]},t.type="polarAxis",t}(ir);pi(K$,Xw);var eBe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="angleAxis",t}(K$),tBe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="radiusAxis",t}(K$),X$=function(e){ce(t,e);function t(r,n){return e.call(this,"radius",r,n)||this}return t.prototype.pointToData=function(r,n){return this.polar.pointToData(r,n)[this.dim==="radius"?0:1]},t}(Sl);X$.prototype.dataToRadius=Sl.prototype.dataToCoord;X$.prototype.radiusToData=Sl.prototype.coordToData;var rBe=_r(),Z$=function(e){ce(t,e);function t(r,n){return e.call(this,"angle",r,n||[0,360])||this}return t.prototype.pointToData=function(r,n){return this.polar.pointToData(r,n)[this.dim==="radius"?0:1]},t.prototype.calculateCategoryInterval=function(){var r=this,n=r.getLabelModel(),i=r.scale,a=i.getExtent(),s=i.count();if(a[1]-a[0]<1)return 0;var o=a[0],l=r.dataToCoord(o+1)-r.dataToCoord(o),c=Math.abs(l),u=Bw(o==null?"":o+"",n.getFont(),"center","top"),h=Math.max(u.height,7),f=h/c;isNaN(f)&&(f=1/0);var p=Math.max(0,Math.floor(f)),g=rBe(r.model),v=g.lastAutoInterval,m=g.lastTickCount;return v!=null&&m!=null&&Math.abs(v-p)<=1&&Math.abs(m-s)<=1&&v>p?p=v:(g.lastTickCount=s,g.lastAutoInterval=p),p},t}(Sl);Z$.prototype.dataToAngle=Sl.prototype.dataToCoord;Z$.prototype.angleToData=Sl.prototype.coordToData;var $oe=["radius","angle"],nBe=function(){function e(t){this.dimensions=$oe,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new X$,this._angleAxis=new Z$,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return e.prototype.containPoint=function(t){var r=this.pointToCoord(t);return this._radiusAxis.contain(r[0])&&this._angleAxis.contain(r[1])},e.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},e.prototype.getAxis=function(t){var r="_"+t+"Axis";return this[r]},e.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},e.prototype.getAxesByScale=function(t){var r=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===t&&r.push(n),i.scale.type===t&&r.push(i),r},e.prototype.getAngleAxis=function(){return this._angleAxis},e.prototype.getRadiusAxis=function(){return this._radiusAxis},e.prototype.getOtherAxis=function(t){var r=this._angleAxis;return t===r?this._radiusAxis:r},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},e.prototype.getTooltipAxes=function(t){var r=t!=null&&t!=="auto"?this.getAxis(t):this.getBaseAxis();return{baseAxes:[r],otherAxes:[this.getOtherAxis(r)]}},e.prototype.dataToPoint=function(t,r){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],r),this._angleAxis.dataToAngle(t[1],r)])},e.prototype.pointToData=function(t,r){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],r),this._angleAxis.angleToData(n[1],r)]},e.prototype.pointToCoord=function(t){var r=t[0]-this.cx,n=t[1]-this.cy,i=this.getAngleAxis(),a=i.getExtent(),s=Math.min(a[0],a[1]),o=Math.max(a[0],a[1]);i.inverse?s=o-360:o=s+360;var l=Math.sqrt(r*r+n*n);r/=l,n/=l;for(var c=Math.atan2(-n,r)/Math.PI*180,u=c<s?1:-1;c<s||c>o;)c+=u*360;return[l,c]},e.prototype.coordToPoint=function(t){var r=t[0],n=t[1]/180*Math.PI,i=Math.cos(n)*r+this.cx,a=-Math.sin(n)*r+this.cy;return[i,a]},e.prototype.getArea=function(){var t=this.getAngleAxis(),r=this.getRadiusAxis(),n=r.getExtent().slice();n[0]>n[1]&&n.reverse();var i=t.getExtent(),a=Math.PI/180,s=1e-4;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:t.inverse,contain:function(o,l){var c=o-this.cx,u=l-this.cy,h=c*c+u*u,f=this.r,p=this.r0;return f!==p&&h-s<=f*f&&h+s>=p*p}}},e.prototype.convertToPixel=function(t,r,n){var i=q7(r);return i===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,r,n){var i=q7(r);return i===this?this.pointToData(n):null},e}();function q7(e){var t=e.seriesModel,r=e.polarModel;return r&&r.coordinateSystem||t&&t.coordinateSystem}function iBe(e,t,r){var n=t.get("center"),i=r.getWidth(),a=r.getHeight();e.cx=Le(n[0],i),e.cy=Le(n[1],a);var s=e.getRadiusAxis(),o=Math.min(i,a)/2,l=t.get("radius");l==null?l=[0,"100%"]:ye(l)||(l=[0,l]);var c=[Le(l[0],o),Le(l[1],o)];s.inverse?s.setExtent(c[1],c[0]):s.setExtent(c[0],c[1])}function aBe(e,t){var r=this,n=r.getAngleAxis(),i=r.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),e.eachSeries(function(o){if(o.coordinateSystem===r){var l=o.getData();V(mT(l,"radius"),function(c){i.scale.unionExtentFromData(l,c)}),V(mT(l,"angle"),function(c){n.scale.unionExtentFromData(l,c)})}}),jv(n.scale,n.model),jv(i.scale,i.model),n.type==="category"&&!n.onBand){var a=n.getExtent(),s=360/n.scale.count();n.inverse?a[1]+=s:a[1]-=s,n.setExtent(a[0],a[1])}}function sBe(e){return e.mainType==="angleAxis"}function Y7(e,t){var r;if(e.type=t.get("type"),e.scale=B2(t),e.onBand=t.get("boundaryGap")&&e.type==="category",e.inverse=t.get("inverse"),sBe(t)){e.inverse=e.inverse!==t.get("clockwise");var n=t.get("startAngle"),i=(r=t.get("endAngle"))!==null&&r!==void 0?r:n+(e.inverse?-360:360);e.setExtent(n,i)}t.axis=e,e.model=t}var oBe={dimensions:$oe,create:function(e,t){var r=[];return e.eachComponent("polar",function(n,i){var a=new nBe(i+"");a.update=aBe;var s=a.getRadiusAxis(),o=a.getAngleAxis(),l=n.findAxisModel("radiusAxis"),c=n.findAxisModel("angleAxis");Y7(s,l),Y7(o,c),iBe(a,n,t),r.push(a),n.coordinateSystem=a,a.model=n}),e.eachSeries(function(n){if(n.get("coordinateSystem")==="polar"){var i=n.getReferringComponents("polar",di).models[0];n.coordinateSystem=i.coordinateSystem}}),r}},lBe=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function xC(e,t,r){t[1]>t[0]&&(t=t.slice().reverse());var n=e.coordToPoint([t[0],r]),i=e.coordToPoint([t[1],r]);return{x1:n[0],y1:n[1],x2:i[0],y2:i[1]}}function _C(e){var t=e.getRadiusAxis();return t.inverse?0:1}function K7(e){var t=e[0],r=e[e.length-1];t&&r&&Math.abs(Math.abs(t.coord-r.coord)-360)<1e-4&&e.pop()}var cBe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="PolarAxisPointer",r}return t.prototype.render=function(r,n){if(this.group.removeAll(),!!r.get("show")){var i=r.axis,a=i.polar,s=a.getRadiusAxis().getExtent(),o=i.getTicksCoords(),l=i.getMinorTicksCoords(),c=_e(i.getViewLabels(),function(u){u=vt(u);var h=i.scale,f=h.type==="ordinal"?h.getRawOrdinalNumber(u.tickValue):u.tickValue;return u.coord=i.dataToCoord(f),u});K7(c),K7(o),V(lBe,function(u){r.get([u,"show"])&&(!i.scale.isBlank()||u==="axisLine")&&uBe[u](this.group,r,a,o,l,s,c)},this)}},t.type="angleAxis",t}(ig),uBe={axisLine:function(e,t,r,n,i,a){var s=t.getModel(["axisLine","lineStyle"]),o=r.getAngleAxis(),l=Math.PI/180,c=o.getExtent(),u=_C(r),h=u?0:1,f,p=Math.abs(c[1]-c[0])===360?"Circle":"Arc";a[h]===0?f=new eg[p]({shape:{cx:r.cx,cy:r.cy,r:a[u],startAngle:-c[0]*l,endAngle:-c[1]*l,clockwise:o.inverse},style:s.getLineStyle(),z2:1,silent:!0}):f=new Uw({shape:{cx:r.cx,cy:r.cy,r:a[u],r0:a[h]},style:s.getLineStyle(),z2:1,silent:!0}),f.style.fill=null,e.add(f)},axisTick:function(e,t,r,n,i,a){var s=t.getModel("axisTick"),o=(s.get("inside")?-1:1)*s.get("length"),l=a[_C(r)],c=_e(n,function(u){return new Ri({shape:xC(r,[l,l+o],u.coord)})});e.add(wo(c,{style:ut(s.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(e,t,r,n,i,a){if(i.length){for(var s=t.getModel("axisTick"),o=t.getModel("minorTick"),l=(s.get("inside")?-1:1)*o.get("length"),c=a[_C(r)],u=[],h=0;h<i.length;h++)for(var f=0;f<i[h].length;f++)u.push(new Ri({shape:xC(r,[c,c+l],i[h][f].coord)}));e.add(wo(u,{style:ut(o.getModel("lineStyle").getLineStyle(),ut(s.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(e,t,r,n,i,a,s){var o=t.getCategories(!0),l=t.getModel("axisLabel"),c=l.get("margin"),u=t.get("triggerEvent");V(s,function(h,f){var p=l,g=h.tickValue,v=a[_C(r)],m=r.coordToPoint([v+c,h.coord]),y=r.cx,x=r.cy,_=Math.abs(m[0]-y)/v<.3?"center":m[0]>y?"left":"right",b=Math.abs(m[1]-x)/v<.3?"middle":m[1]>x?"top":"bottom";if(o&&o[g]){var w=o[g];ft(w)&&w.textStyle&&(p=new Vr(w.textStyle,l,l.ecModel))}var S=new kr({silent:Va.isLabelSilent(t),style:yn(p,{x:m[0],y:m[1],fill:p.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:h.formattedLabel,align:_,verticalAlign:b})});if(e.add(S),u){var k=Va.makeAxisEventDataBase(t);k.targetType="axisLabel",k.value=h.rawLabel,wt(S).eventData=k}},this)},splitLine:function(e,t,r,n,i,a){var s=t.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],h=0;h<n.length;h++){var f=c++%l.length;u[f]=u[f]||[],u[f].push(new Ri({shape:xC(r,a,n[h].coord)}))}for(var h=0;h<u.length;h++)e.add(wo(u[h],{style:ut({stroke:l[h%l.length]},o.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(e,t,r,n,i,a){if(i.length){for(var s=t.getModel("minorSplitLine"),o=s.getModel("lineStyle"),l=[],c=0;c<i.length;c++)for(var u=0;u<i[c].length;u++)l.push(new Ri({shape:xC(r,a,i[c][u].coord)}));e.add(wo(l,{style:o.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(e,t,r,n,i,a){if(n.length){var s=t.getModel("splitArea"),o=s.getModel("areaStyle"),l=o.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],h=Math.PI/180,f=-n[0].coord*h,p=Math.min(a[0],a[1]),g=Math.max(a[0],a[1]),v=t.get("clockwise"),m=1,y=n.length;m<=y;m++){var x=m===y?n[0].coord:n[m].coord,_=c++%l.length;u[_]=u[_]||[],u[_].push(new qa({shape:{cx:r.cx,cy:r.cy,r0:p,r:g,startAngle:f,endAngle:-x*h,clockwise:v},silent:!0})),f=-x*h}for(var m=0;m<u.length;m++)e.add(wo(u[m],{style:ut({fill:l[m%l.length]},o.getAreaStyle()),silent:!0}))}}},dBe=["axisLine","axisTickLabel","axisName"],hBe=["splitLine","splitArea","minorSplitLine"],fBe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="PolarAxisPointer",r}return t.prototype.render=function(r,n){if(this.group.removeAll(),!!r.get("show")){var i=this._axisGroup,a=this._axisGroup=new _t;this.group.add(a);var s=r.axis,o=s.polar,l=o.getAngleAxis(),c=s.getTicksCoords(),u=s.getMinorTicksCoords(),h=l.getExtent()[0],f=s.getExtent(),p=gBe(o,r,h),g=new Va(r,p);V(dBe,g.add,g),a.add(g.getGroup()),Ww(i,a,r),V(hBe,function(v){r.get([v,"show"])&&!s.scale.isBlank()&&pBe[v](this.group,r,o,h,f,c,u)},this)}},t.type="radiusAxis",t}(ig),pBe={splitLine:function(e,t,r,n,i,a){var s=t.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),c=0,u=r.getAngleAxis(),h=Math.PI/180,f=u.getExtent(),p=Math.abs(f[1]-f[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var g=[],v=0;v<a.length;v++){var m=c++%l.length;g[m]=g[m]||[],g[m].push(new eg[p]({shape:{cx:r.cx,cy:r.cy,r:Math.max(a[v].coord,0),startAngle:-f[0]*h,endAngle:-f[1]*h,clockwise:u.inverse}}))}for(var v=0;v<g.length;v++)e.add(wo(g[v],{style:ut({stroke:l[v%l.length],fill:null},o.getLineStyle()),silent:!0}))},minorSplitLine:function(e,t,r,n,i,a,s){if(s.length){for(var o=t.getModel("minorSplitLine"),l=o.getModel("lineStyle"),c=[],u=0;u<s.length;u++)for(var h=0;h<s[u].length;h++)c.push(new zu({shape:{cx:r.cx,cy:r.cy,r:s[u][h].coord}}));e.add(wo(c,{style:ut({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(e,t,r,n,i,a){if(a.length){var s=t.getModel("splitArea"),o=s.getModel("areaStyle"),l=o.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],h=a[0].coord,f=1;f<a.length;f++){var p=c++%l.length;u[p]=u[p]||[],u[p].push(new qa({shape:{cx:r.cx,cy:r.cy,r0:h,r:a[f].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),h=a[f].coord}for(var f=0;f<u.length;f++)e.add(wo(u[f],{style:ut({fill:l[f%l.length]},o.getAreaStyle()),silent:!0}))}}};function gBe(e,t,r){return{position:[e.cx,e.cy],rotation:r/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}function Boe(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function Foe(e,t){return t.dim+e.model.componentIndex}function mBe(e,t,r){var n={},i=vBe(Br(t.getSeriesByType(e),function(a){return!t.isSeriesFiltered(a)&&a.coordinateSystem&&a.coordinateSystem.type==="polar"}));t.eachSeriesByType(e,function(a){if(a.coordinateSystem.type==="polar"){var s=a.getData(),o=a.coordinateSystem,l=o.getBaseAxis(),c=Foe(o,l),u=Boe(a),h=i[c][u],f=h.offset,p=h.width,g=o.getOtherAxis(l),v=a.coordinateSystem.cx,m=a.coordinateSystem.cy,y=a.get("barMinHeight")||0,x=a.get("barMinAngle")||0;n[u]=n[u]||[];for(var _=s.mapDimension(g.dim),b=s.mapDimension(l.dim),w=gh(s,_),S=l.dim!=="radius"||!a.get("roundCap",!0),k=g.model,C=k.get("startValue"),E=g.dataToCoord(C||0),T=0,N=s.count();T<N;T++){var I=s.get(_,T),P=s.get(b,T),D=I>=0?"p":"n",$=E;w&&(n[u][P]||(n[u][P]={p:E,n:E}),$=n[u][P][D]);var L=void 0,O=void 0,j=void 0,M=void 0;if(g.dim==="radius"){var R=g.dataToCoord(I)-E,z=l.dataToCoord(P);Math.abs(R)<y&&(R=(R<0?-1:1)*y),L=$,O=$+R,j=z-f,M=j-p,w&&(n[u][P][D]=O)}else{var U=g.dataToCoord(I,S)-E,F=l.dataToCoord(P);Math.abs(U)<x&&(U=(U<0?-1:1)*x),L=F+f,O=L+p,j=$,M=$+U,w&&(n[u][P][D]=M)}s.setItemLayout(T,{cx:v,cy:m,r0:L,r:O,startAngle:-j*Math.PI/180,endAngle:-M*Math.PI/180,clockwise:j>=M})}}})}function vBe(e){var t={};V(e,function(n,i){var a=n.getData(),s=n.coordinateSystem,o=s.getBaseAxis(),l=Foe(s,o),c=o.getExtent(),u=o.type==="category"?o.getBandWidth():Math.abs(c[1]-c[0])/a.count(),h=t[l]||{bandWidth:u,remainedWidth:u,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},f=h.stacks;t[l]=h;var p=Boe(n);f[p]||h.autoWidthCount++,f[p]=f[p]||{width:0,maxWidth:0};var g=Le(n.get("barWidth"),u),v=Le(n.get("barMaxWidth"),u),m=n.get("barGap"),y=n.get("barCategoryGap");g&&!f[p].width&&(g=Math.min(h.remainedWidth,g),f[p].width=g,h.remainedWidth-=g),v&&(f[p].maxWidth=v),m!=null&&(h.gap=m),y!=null&&(h.categoryGap=y)});var r={};return V(t,function(n,i){r[i]={};var a=n.stacks,s=n.bandWidth,o=Le(n.categoryGap,s),l=Le(n.gap,1),c=n.remainedWidth,u=n.autoWidthCount,h=(c-o)/(u+(u-1)*l);h=Math.max(h,0),V(a,function(v,m){var y=v.maxWidth;y&&y<h&&(y=Math.min(y,c),v.width&&(y=Math.min(y,v.width)),c-=y,v.width=y,u--)}),h=(c-o)/(u+(u-1)*l),h=Math.max(h,0);var f=0,p;V(a,function(v,m){v.width||(v.width=h),p=v,f+=v.width*(1+l)}),p&&(f-=p.width*l);var g=-f/2;V(a,function(v,m){r[i][m]=r[i][m]||{offset:g,width:v.width},g+=v.width*(1+l)})}),r}var yBe={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},xBe={splitNumber:5},_Be=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="polar",t}(Bn);function bBe(e){Zt(a1),ig.registerAxisPointerClass("PolarAxisPointer",X$e),e.registerCoordinateSystem("polar",oBe),e.registerComponentModel(Q$e),e.registerComponentView(_Be),Iv(e,"angle",eBe,yBe),Iv(e,"radius",tBe,xBe),e.registerComponentView(cBe),e.registerComponentView(fBe),e.registerLayout(At(mBe,"bar"))}function QD(e,t){t=t||{};var r=e.coordinateSystem,n=e.axis,i={},a=n.position,s=n.orient,o=r.getRect(),l=[o.x,o.x+o.width,o.y,o.y+o.height],c={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};i.position=[s==="vertical"?c.vertical[a]:l[0],s==="horizontal"?c.horizontal[a]:l[3]];var u={horizontal:0,vertical:1};i.rotation=Math.PI/2*u[s];var h={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=h[a],e.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Ui(t.labelInside,e.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var f=t.rotate;return f==null&&(f=e.get(["axisLabel","rotate"])),i.labelRotation=a==="top"?-f:f,i.z2=1,i}var wBe=["axisLine","axisTickLabel","axisName"],SBe=["splitArea","splitLine"],CBe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="SingleAxisPointer",r}return t.prototype.render=function(r,n,i,a){var s=this.group;s.removeAll();var o=this._axisGroup;this._axisGroup=new _t;var l=QD(r),c=new Va(r,l);V(wBe,c.add,c),s.add(this._axisGroup),s.add(c.getGroup()),V(SBe,function(u){r.get([u,"show"])&&kBe[u](this,this.group,this._axisGroup,r)},this),Ww(o,this._axisGroup,r),e.prototype.render.call(this,r,n,i,a)},t.prototype.remove=function(){lse(this)},t.type="singleAxis",t}(ig),kBe={splitLine:function(e,t,r,n){var i=n.axis;if(!i.scale.isBlank()){var a=n.getModel("splitLine"),s=a.getModel("lineStyle"),o=s.get("color");o=o instanceof Array?o:[o];for(var l=s.get("width"),c=n.coordinateSystem.getRect(),u=i.isHorizontal(),h=[],f=0,p=i.getTicksCoords({tickModel:a}),g=[],v=[],m=0;m<p.length;++m){var y=i.toGlobalCoord(p[m].coord);u?(g[0]=y,g[1]=c.y,v[0]=y,v[1]=c.y+c.height):(g[0]=c.x,g[1]=y,v[0]=c.x+c.width,v[1]=y);var x=new Ri({shape:{x1:g[0],y1:g[1],x2:v[0],y2:v[1]},silent:!0});Tv(x.shape,l);var _=f++%o.length;h[_]=h[_]||[],h[_].push(x)}for(var b=s.getLineStyle(["color"]),m=0;m<h.length;++m)t.add(wo(h[m],{style:ut({stroke:o[m%o.length]},b),silent:!0}))}},splitArea:function(e,t,r,n){ose(e,r,n,n)}},Zk=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(ir);pi(Zk,Xw.prototype);var EBe=function(e){ce(t,e);function t(r,n,i,a,s){var o=e.call(this,r,n,i)||this;return o.type=a||"value",o.position=s||"bottom",o}return t.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},t.prototype.pointToData=function(r,n){return this.coordinateSystem.pointToData(r)[0]},t}(Sl),zoe=["single"],TBe=function(){function e(t,r,n){this.type="single",this.dimension="single",this.dimensions=zoe,this.axisPointerEnabled=!0,this.model=t,this._init(t,r,n)}return e.prototype._init=function(t,r,n){var i=this.dimension,a=new EBe(i,B2(t),[0,0],t.get("type"),t.get("position")),s=a.type==="category";a.onBand=s&&t.get("boundaryGap"),a.inverse=t.get("inverse"),a.orient=t.get("orient"),t.axis=a,a.model=t,a.coordinateSystem=this,this._axis=a},e.prototype.update=function(t,r){t.eachSeries(function(n){if(n.coordinateSystem===this){var i=n.getData();V(i.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(i,a)},this),jv(this._axis.scale,this._axis.model)}},this)},e.prototype.resize=function(t,r){this._rect=Si({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:r.getWidth(),height:r.getHeight()}),this._adjustAxis()},e.prototype.getRect=function(){return this._rect},e.prototype._adjustAxis=function(){var t=this._rect,r=this._axis,n=r.isHorizontal(),i=n?[0,t.width]:[0,t.height],a=r.inverse?1:0;r.setExtent(i[a],i[1-a]),this._updateAxisTransform(r,n?t.x:t.y)},e.prototype._updateAxisTransform=function(t,r){var n=t.getExtent(),i=n[0]+n[1],a=t.isHorizontal();t.toGlobalCoord=a?function(s){return s+r}:function(s){return i-s+r},t.toLocalCoord=a?function(s){return s-r}:function(s){return i-s+r}},e.prototype.getAxis=function(){return this._axis},e.prototype.getBaseAxis=function(){return this._axis},e.prototype.getAxes=function(){return[this._axis]},e.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},e.prototype.containPoint=function(t){var r=this.getRect(),n=this.getAxis(),i=n.orient;return i==="horizontal"?n.contain(n.toLocalCoord(t[0]))&&t[1]>=r.y&&t[1]<=r.y+r.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=r.y&&t[0]<=r.y+r.height},e.prototype.pointToData=function(t){var r=this.getAxis();return[r.coordToData(r.toLocalCoord(t[r.orient==="horizontal"?0:1]))]},e.prototype.dataToPoint=function(t){var r=this.getAxis(),n=this.getRect(),i=[],a=r.orient==="horizontal"?0:1;return t instanceof Array&&(t=t[0]),i[a]=r.toGlobalCoord(r.dataToCoord(+t)),i[1-a]=a===0?n.y+n.height/2:n.x+n.width/2,i},e.prototype.convertToPixel=function(t,r,n){var i=X7(r);return i===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,r,n){var i=X7(r);return i===this?this.pointToData(n):null},e}();function X7(e){var t=e.seriesModel,r=e.singleAxisModel;return r&&r.coordinateSystem||t&&t.coordinateSystem}function NBe(e,t){var r=[];return e.eachComponent("singleAxis",function(n,i){var a=new TBe(n,e,t);a.name="single_"+i,a.resize(n,t),n.coordinateSystem=a,r.push(a)}),e.eachSeries(function(n){if(n.get("coordinateSystem")==="singleAxis"){var i=n.getReferringComponents("singleAxis",di).models[0];n.coordinateSystem=i&&i.coordinateSystem}}),r}var ABe={create:NBe,dimensions:zoe},Z7=["x","y"],jBe=["width","height"],RBe=function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(r,n,i,a,s){var o=i.axis,l=o.coordinateSystem,c=RI(l,1-jT(o)),u=l.dataToPoint(n)[0],h=a.get("type");if(h&&h!=="none"){var f=G$(a),p=IBe[h](o,u,c);p.style=f,r.graphicKey=p.type,r.pointer=p}var g=QD(i);Poe(n,r,g,i,a,s)},t.prototype.getHandleTransform=function(r,n,i){var a=QD(n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var s=q$(n.axis,r,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(r,n,i,a){var s=i.axis,o=s.coordinateSystem,l=jT(s),c=RI(o,l),u=[r.x,r.y];u[l]+=n[l],u[l]=Math.min(c[1],u[l]),u[l]=Math.max(c[0],u[l]);var h=RI(o,1-l),f=(h[1]+h[0])/2,p=[f,f];return p[l]=u[l],{x:u[0],y:u[1],rotation:r.rotation,cursorPoint:p,tooltipOption:{verticalAlign:"middle"}}},t}(W$),IBe={line:function(e,t,r){var n=Y$([t,r[0]],[t,r[1]],jT(e));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(e,t,r){var n=e.getBandWidth(),i=r[1]-r[0];return{type:"Rect",shape:Loe([t-n/2,r[0]],[n,i],jT(e))}}};function jT(e){return e.isHorizontal()?0:1}function RI(e,t){var r=e.getRect();return[r[Z7[t]],r[Z7[t]]+r[jBe[t]]]}var MBe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="single",t}(Bn);function PBe(e){Zt(a1),ig.registerAxisPointerClass("SingleAxisPointer",RBe),e.registerComponentView(MBe),e.registerComponentView(CBe),e.registerComponentModel(Zk),Iv(e,"single",Zk,Zk.defaultOption),e.registerCoordinateSystem("single",ABe)}var LBe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n,i){var a=b0(r);e.prototype.init.apply(this,arguments),J7(r,a)},t.prototype.mergeOption=function(r){e.prototype.mergeOption.apply(this,arguments),J7(this.option,r)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(ir);function J7(e,t){var r=e.cellSize,n;ye(r)?n=r:n=e.cellSize=[r,r],n.length===1&&(n[1]=n[0]);var i=_e([0,1],function(a){return rAe(t,a)&&(n[a]="auto"),n[a]!=null&&n[a]!=="auto"});ph(e,t,{type:"box",ignoreSize:i})}var DBe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a=this.group;a.removeAll();var s=r.coordinateSystem,o=s.getRangeInfo(),l=s.getOrient(),c=n.getLocaleModel();this._renderDayRect(r,o,a),this._renderLines(r,o,l,a),this._renderYearText(r,o,l,a),this._renderMonthText(r,c,l,a),this._renderWeekText(r,c,o,l,a)},t.prototype._renderDayRect=function(r,n,i){for(var a=r.coordinateSystem,s=r.getModel("itemStyle").getItemStyle(),o=a.getCellWidth(),l=a.getCellHeight(),c=n.start.time;c<=n.end.time;c=a.getNextNDay(c,1).time){var u=a.dataToRect([c],!1).tl,h=new xr({shape:{x:u[0],y:u[1],width:o,height:l},cursor:"default",style:s});i.add(h)}},t.prototype._renderLines=function(r,n,i,a){var s=this,o=r.coordinateSystem,l=r.getModel(["splitLine","lineStyle"]).getLineStyle(),c=r.get(["splitLine","show"]),u=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var h=n.start,f=0;h.time<=n.end.time;f++){g(h.formatedDate),f===0&&(h=o.getDateInfo(n.start.y+"-"+n.start.m));var p=h.date;p.setMonth(p.getMonth()+1),h=o.getDateInfo(p)}g(o.getNextNDay(n.end.time,1).formatedDate);function g(v){s._firstDayOfMonth.push(o.getDateInfo(v)),s._firstDayPoints.push(o.dataToRect([v],!1).tl);var m=s._getLinePointsOfOneWeek(r,v,i);s._tlpoints.push(m[0]),s._blpoints.push(m[m.length-1]),c&&s._drawSplitline(m,l,a)}c&&this._drawSplitline(s._getEdgesPoints(s._tlpoints,u,i),l,a),c&&this._drawSplitline(s._getEdgesPoints(s._blpoints,u,i),l,a)},t.prototype._getEdgesPoints=function(r,n,i){var a=[r[0].slice(),r[r.length-1].slice()],s=i==="horizontal"?0:1;return a[0][s]=a[0][s]-n/2,a[1][s]=a[1][s]+n/2,a},t.prototype._drawSplitline=function(r,n,i){var a=new Ja({z2:20,shape:{points:r},style:n});i.add(a)},t.prototype._getLinePointsOfOneWeek=function(r,n,i){for(var a=r.coordinateSystem,s=a.getDateInfo(n),o=[],l=0;l<7;l++){var c=a.getNextNDay(s.time,l),u=a.dataToRect([c.time],!1);o[2*c.day]=u.tl,o[2*c.day+1]=u[i==="horizontal"?"bl":"tr"]}return o},t.prototype._formatterLabel=function(r,n){return We(r)&&r?Q2e(r,n):lt(r)?r(n):n.nameMap},t.prototype._yearTextPositionControl=function(r,n,i,a,s){var o=n[0],l=n[1],c=["center","bottom"];a==="bottom"?(l+=s,c=["center","top"]):a==="left"?o-=s:a==="right"?(o+=s,c=["center","top"]):l-=s;var u=0;return(a==="left"||a==="right")&&(u=Math.PI/2),{rotation:u,x:o,y:l,style:{align:c[0],verticalAlign:c[1]}}},t.prototype._renderYearText=function(r,n,i,a){var s=r.getModel("yearLabel");if(s.get("show")){var o=s.get("margin"),l=s.get("position");l||(l=i!=="horizontal"?"top":"left");var c=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],u=(c[0][0]+c[1][0])/2,h=(c[0][1]+c[1][1])/2,f=i==="horizontal"?0:1,p={top:[u,c[f][1]],bottom:[u,c[1-f][1]],left:[c[1-f][0],h],right:[c[f][0],h]},g=n.start.y;+n.end.y>+n.start.y&&(g=g+"-"+n.end.y);var v=s.get("formatter"),m={start:n.start.y,end:n.end.y,nameMap:g},y=this._formatterLabel(v,m),x=new kr({z2:30,style:yn(s,{text:y}),silent:s.get("silent")});x.attr(this._yearTextPositionControl(x,p[l],i,l,o)),a.add(x)}},t.prototype._monthTextPositionControl=function(r,n,i,a,s){var o="left",l="top",c=r[0],u=r[1];return i==="horizontal"?(u=u+s,n&&(o="center"),a==="start"&&(l="bottom")):(c=c+s,n&&(l="middle"),a==="start"&&(o="right")),{x:c,y:u,align:o,verticalAlign:l}},t.prototype._renderMonthText=function(r,n,i,a){var s=r.getModel("monthLabel");if(s.get("show")){var o=s.get("nameMap"),l=s.get("margin"),c=s.get("position"),u=s.get("align"),h=[this._tlpoints,this._blpoints];(!o||We(o))&&(o&&(n=oD(o)||n),o=n.get(["time","monthAbbr"])||[]);var f=c==="start"?0:1,p=i==="horizontal"?0:1;l=c==="start"?-l:l;for(var g=u==="center",v=s.get("silent"),m=0;m<h[f].length-1;m++){var y=h[f][m].slice(),x=this._firstDayOfMonth[m];if(g){var _=this._firstDayPoints[m];y[p]=(_[p]+h[0][m+1][p])/2}var b=s.get("formatter"),w=o[+x.m-1],S={yyyy:x.y,yy:(x.y+"").slice(2),MM:x.m,M:+x.m,nameMap:w},k=this._formatterLabel(b,S),C=new kr({z2:30,style:pe(yn(s,{text:k}),this._monthTextPositionControl(y,g,i,c,l)),silent:v});a.add(C)}}},t.prototype._weekTextPositionControl=function(r,n,i,a,s){var o="center",l="middle",c=r[0],u=r[1],h=i==="start";return n==="horizontal"?(c=c+a+(h?1:-1)*s[0]/2,o=h?"right":"left"):(u=u+a+(h?1:-1)*s[1]/2,l=h?"bottom":"top"),{x:c,y:u,align:o,verticalAlign:l}},t.prototype._renderWeekText=function(r,n,i,a,s){var o=r.getModel("dayLabel");if(o.get("show")){var l=r.coordinateSystem,c=o.get("position"),u=o.get("nameMap"),h=o.get("margin"),f=l.getFirstDayOfWeek();if(!u||We(u)){u&&(n=oD(u)||n);var p=n.get(["time","dayOfWeekShort"]);u=p||_e(n.get(["time","dayOfWeekAbbr"]),function(S){return S[0]})}var g=l.getNextNDay(i.end.time,7-i.lweek).time,v=[l.getCellWidth(),l.getCellHeight()];h=Le(h,Math.min(v[1],v[0])),c==="start"&&(g=l.getNextNDay(i.start.time,-(7+i.fweek)).time,h=-h);for(var m=o.get("silent"),y=0;y<7;y++){var x=l.getNextNDay(g,y),_=l.dataToRect([x.time],!1).center,b=y;b=Math.abs((y+f)%7);var w=new kr({z2:30,style:pe(yn(o,{text:u[b]}),this._weekTextPositionControl(_,a,c,h,v)),silent:m});s.add(w)}}},t.type="calendar",t}(Bn),II=864e5,OBe=function(){function e(t,r,n){this.type="calendar",this.dimensions=e.dimensions,this.getDimensionsInfo=e.getDimensionsInfo,this._model=t}return e.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},e.prototype.getRangeInfo=function(){return this._rangeInfo},e.prototype.getModel=function(){return this._model},e.prototype.getRect=function(){return this._rect},e.prototype.getCellWidth=function(){return this._sw},e.prototype.getCellHeight=function(){return this._sh},e.prototype.getOrient=function(){return this._orient},e.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},e.prototype.getDateInfo=function(t){t=bc(t);var r=t.getFullYear(),n=t.getMonth()+1,i=n<10?"0"+n:""+n,a=t.getDate(),s=a<10?"0"+a:""+a,o=t.getDay();return o=Math.abs((o+7-this.getFirstDayOfWeek())%7),{y:r+"",m:i,d:s,day:o,time:t.getTime(),formatedDate:r+"-"+i+"-"+s,date:t}},e.prototype.getNextNDay=function(t,r){return r=r||0,r===0?this.getDateInfo(t):(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+r),this.getDateInfo(t))},e.prototype.update=function(t,r){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],a=this._model.getCellSize().slice(),s=this._model.getBoxLayoutParams(),o=this._orient==="horizontal"?[n,7]:[7,n];V([0,1],function(h){u(a,h)&&(s[i[h]]=a[h]*o[h])});var l={width:r.getWidth(),height:r.getHeight()},c=this._rect=Si(s,l);V([0,1],function(h){u(a,h)||(a[h]=c[i[h]]/o[h])});function u(h,f){return h[f]!=null&&h[f]!=="auto"}this._sw=a[0],this._sh=a[1]},e.prototype.dataToPoint=function(t,r){ye(t)&&(t=t[0]),r==null&&(r=!0);var n=this.getDateInfo(t),i=this._rangeInfo,a=n.formatedDate;if(r&&!(n.time>=i.start.time&&n.time<i.end.time+II))return[NaN,NaN];var s=n.day,o=this._getRangeInfo([i.start.time,a]).nthWeek;return this._orient==="vertical"?[this._rect.x+s*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]:[this._rect.x+o*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]},e.prototype.pointToData=function(t){var r=this.pointToDate(t);return r&&r.time},e.prototype.dataToRect=function(t,r){var n=this.dataToPoint(t,r);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},e.prototype.pointToDate=function(t){var r=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(n,r-1,i):this._getDateByWeeksAndDay(r,n-1,i)},e.prototype.convertToPixel=function(t,r,n){var i=Q7(r);return i===this?i.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,r,n){var i=Q7(r);return i===this?i.pointToData(n):null},e.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},e.prototype._initRangeOption=function(){var t=this._model.get("range"),r;if(ye(t)&&t.length===1&&(t=t[0]),ye(t))r=t;else{var n=t.toString();if(/^\d{4}$/.test(n)&&(r=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var i=this.getDateInfo(n),a=i.date;a.setMonth(a.getMonth()+1);var s=this.getNextNDay(a,-1);r=[i.formatedDate,s.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(r=[n,n])}if(!r)return t;var o=this._getRangeInfo(r);return o.start.time>o.end.time&&r.reverse(),r},e.prototype._getRangeInfo=function(t){var r=[this.getDateInfo(t[0]),this.getDateInfo(t[1])],n;r[0].time>r[1].time&&(n=!0,r.reverse());var i=Math.floor(r[1].time/II)-Math.floor(r[0].time/II)+1,a=new Date(r[0].time),s=a.getDate(),o=r[1].date.getDate();a.setDate(s+i-1);var l=a.getDate();if(l!==o)for(var c=a.getTime()-r[1].time>0?1:-1;(l=a.getDate())!==o&&(a.getTime()-r[1].time)*c>0;)i-=c,a.setDate(l-c);var u=Math.floor((i+r[0].day+6)/7),h=n?-u+1:u-1;return n&&r.reverse(),{range:[r[0].formatedDate,r[1].formatedDate],start:r[0],end:r[1],allDay:i,weeks:u,nthWeek:h,fweek:r[0].day,lweek:r[1].day}},e.prototype._getDateByWeeksAndDay=function(t,r,n){var i=this._getRangeInfo(n);if(t>i.weeks||t===0&&r<i.fweek||t===i.weeks&&r>i.lweek)return null;var a=(t-1)*7-i.fweek+r,s=new Date(i.start.time);return s.setDate(+i.start.d+a),this.getDateInfo(s)},e.create=function(t,r){var n=[];return t.eachComponent("calendar",function(i){var a=new e(i);n.push(a),i.coordinateSystem=a}),t.eachSeries(function(i){i.get("coordinateSystem")==="calendar"&&(i.coordinateSystem=n[i.get("calendarIndex")||0])}),n},e.dimensions=["time","value"],e}();function Q7(e){var t=e.calendarModel,r=e.seriesModel,n=t?t.coordinateSystem:r?r.coordinateSystem:null;return n}function $Be(e){e.registerComponentModel(LBe),e.registerComponentView(DBe),e.registerCoordinateSystem("calendar",OBe)}function BBe(e,t){var r=e.existing;if(t.id=e.keyInfo.id,!t.type&&r&&(t.type=r.type),t.parentId==null){var n=t.parentOption;n?t.parentId=n.id:r&&(t.parentId=r.parentId)}t.parentOption=null}function eG(e,t){var r;return V(t,function(n){e[n]!=null&&e[n]!=="auto"&&(r=!0)}),r}function FBe(e,t,r){var n=pe({},r),i=e[t],a=r.$action||"merge";a==="merge"?i?(Pt(i,n,!0),ph(i,n,{ignoreSize:!0}),Mne(r,i),bC(r,i),bC(r,i,"shape"),bC(r,i,"style"),bC(r,i,"extra"),r.clipPath=i.clipPath):e[t]=n:a==="replace"?e[t]=n:a==="remove"&&i&&(e[t]=null)}var Uoe=["transition","enterFrom","leaveTo"],zBe=Uoe.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function bC(e,t,r){if(r&&(!e[r]&&t[r]&&(e[r]={}),e=e[r],t=t[r]),!(!e||!t))for(var n=r?Uoe:zBe,i=0;i<n.length;i++){var a=n[i];e[a]==null&&t[a]!=null&&(e[a]=t[a])}}function UBe(e,t){if(e&&(e.hv=t.hv=[eG(t,["left","right"]),eG(t,["top","bottom"])],e.type==="group")){var r=e,n=t;r.width==null&&(r.width=n.width=0),r.height==null&&(r.height=n.height=0)}}var HBe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.preventAutoZ=!0,r}return t.prototype.mergeOption=function(r,n){var i=this.option.elements;this.option.elements=null,e.prototype.mergeOption.call(this,r,n),this.option.elements=i},t.prototype.optionUpdated=function(r,n){var i=this.option,a=(n?i:r).elements,s=i.elements=n?[]:i.elements,o=[];this._flatten(a,o,null);var l=Are(s,o,"normalMerge"),c=this._elOptionsToUpdate=[];V(l,function(u,h){var f=u.newOption;f&&(c.push(f),BBe(u,f),FBe(s,h,f),UBe(s[h],f))},this),i.elements=Br(s,function(u){return u&&delete u.$action,u!=null})},t.prototype._flatten=function(r,n,i){V(r,function(a){if(a){i&&(a.parentOption=i),n.push(a);var s=a.children;s&&s.length&&this._flatten(s,n,a),delete a.children}},this)},t.prototype.useElOptionsToUpdate=function(){var r=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,r},t.type="graphic",t.defaultOption={elements:[]},t}(ir),tG={path:null,compoundPath:null,group:_t,image:Wi,text:kr},ho=_r(),VBe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){this._elMap=Qe()},t.prototype.render=function(r,n,i){r!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=r,this._updateElements(r),this._relocate(r,i)},t.prototype._updateElements=function(r){var n=r.useElOptionsToUpdate();if(n){var i=this._elMap,a=this.group,s=r.get("z"),o=r.get("zlevel");V(n,function(l){var c=_i(l.id,null),u=c!=null?i.get(c):null,h=_i(l.parentId,null),f=h!=null?i.get(h):a,p=l.type,g=l.style;p==="text"&&g&&l.hv&&l.hv[1]&&(g.textVerticalAlign=g.textBaseline=g.verticalAlign=g.align=null);var v=l.textContent,m=l.textConfig;if(g&&woe(g,p,!!m,!!v)){var y=Soe(g,p,!0);!m&&y.textConfig&&(m=l.textConfig=y.textConfig),!v&&y.textContent&&(v=y.textContent)}var x=WBe(l),_=l.$action||"merge",b=_==="merge",w=_==="replace";if(b){var S=!u,k=u;S?k=rG(c,f,l.type,i):(k&&(ho(k).isNew=!1),Toe(k)),k&&(Kk(k,x,r,{isInit:S}),nG(k,l,s,o))}else if(w){Jk(u,l,i,r);var C=rG(c,f,l.type,i);C&&(Kk(C,x,r,{isInit:!0}),nG(C,l,s,o))}else _==="remove"&&(koe(u,l),Jk(u,l,i,r));var E=i.get(c);if(E&&v)if(b){var T=E.getTextContent();T?T.attr(v):E.setTextContent(new kr(v))}else w&&E.setTextContent(new kr(v));if(E){var N=l.clipPath;if(N){var I=N.type,P=void 0,S=!1;if(b){var D=E.getClipPath();S=!D||ho(D).type!==I,P=S?eO(I):D}else w&&(S=!0,P=eO(I));E.setClipPath(P),Kk(P,N,r,{isInit:S}),NT(P,N.keyframeAnimation,r)}var $=ho(E);E.setTextConfig(m),$.option=l,GBe(E,r,l),Qp({el:E,componentModel:r,itemName:E.name,itemTooltipOption:l.tooltip}),NT(E,l.keyframeAnimation,r)}})}},t.prototype._relocate=function(r,n){for(var i=r.option.elements,a=this.group,s=this._elMap,o=n.getWidth(),l=n.getHeight(),c=["x","y"],u=0;u<i.length;u++){var h=i[u],f=_i(h.id,null),p=f!=null?s.get(f):null;if(!(!p||!p.isGroup)){var g=p.parent,v=g===a,m=ho(p),y=ho(g);m.width=Le(m.option.width,v?o:y.width)||0,m.height=Le(m.option.height,v?l:y.height)||0}}for(var u=i.length-1;u>=0;u--){var h=i[u],f=_i(h.id,null),p=f!=null?s.get(f):null;if(p){var g=p.parent,y=ho(g),x=g===a?{width:o,height:l}:{width:y.width,height:y.height},_={},b=j2(p,h,x,null,{hv:h.hv,boundingMode:h.bounding},_);if(!ho(p).isNew&&b){for(var w=h.transition,S={},k=0;k<c.length;k++){var C=c[k],E=_[C];w&&(gp(w)||Wt(w,C)>=0)?S[C]=E:p[C]=E}Rr(p,S,r,0)}else p.attr(_)}}},t.prototype._clear=function(){var r=this,n=this._elMap;n.each(function(i){Jk(i,ho(i).option,n,r._lastGraphicModel)}),this._elMap=Qe()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(Bn);function eO(e){var t=Ze(tG,e)?tG[e]:A4(e),r=new t({});return ho(r).type=e,r}function rG(e,t,r,n){var i=eO(r);return t.add(i),n.set(e,i),ho(i).id=e,ho(i).isNew=!0,i}function Jk(e,t,r,n){var i=e&&e.parent;i&&(e.type==="group"&&e.traverse(function(a){Jk(a,t,r,n)}),G2(e,t,n),r.removeKey(ho(e).id))}function nG(e,t,r,n){e.isGroup||V([["cursor",Mo.prototype.cursor],["zlevel",n||0],["z",r||0],["z2",0]],function(i){var a=i[0];Ze(t,a)?e[a]=Et(t[a],i[1]):e[a]==null&&(e[a]=i[1])}),V(ar(t),function(i){if(i.indexOf("on")===0){var a=t[i];e[i]=lt(a)?a:null}}),Ze(t,"draggable")&&(e.draggable=t.draggable),t.name!=null&&(e.name=t.name),t.id!=null&&(e.id=t.id)}function WBe(e){return e=pe({},e),V(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Ine),function(t){delete e[t]}),e}function GBe(e,t,r){var n=wt(e).eventData;!e.silent&&!e.ignore&&!n&&(n=wt(e).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name}),n&&(n.info=r.info)}function qBe(e){e.registerComponentModel(HBe),e.registerComponentView(VBe),e.registerPreprocessor(function(t){var r=t.graphic;ye(r)?!r[0]||!r[0].elements?t.graphic=[{elements:r}]:t.graphic=[t.graphic[0]]:r&&!r.elements&&(t.graphic=[{elements:[r]}])})}var iG=["x","y","radius","angle","single"],YBe=["cartesian2d","polar","singleAxis"];function KBe(e){var t=e.get("coordinateSystem");return Wt(YBe,t)>=0}function Fd(e){return e+"Axis"}function XBe(e,t){var r=Qe(),n=[],i=Qe();e.eachComponent({mainType:"dataZoom",query:t},function(u){i.get(u.uid)||o(u)});var a;do a=!1,e.eachComponent("dataZoom",s);while(a);function s(u){!i.get(u.uid)&&l(u)&&(o(u),a=!0)}function o(u){i.set(u.uid,!0),n.push(u),c(u)}function l(u){var h=!1;return u.eachTargetAxis(function(f,p){var g=r.get(f);g&&g[p]&&(h=!0)}),h}function c(u){u.eachTargetAxis(function(h,f){(r.get(h)||r.set(h,[]))[f]=!0})}return n}function Hoe(e){var t=e.ecModel,r={infoList:[],infoMap:Qe()};return e.eachTargetAxis(function(n,i){var a=t.getComponent(Fd(n),i);if(a){var s=a.getCoordSysModel();if(s){var o=s.uid,l=r.infoMap.get(o);l||(l={model:s,axisModels:[]},r.infoList.push(l),r.infoMap.set(o,l)),l.axisModels.push(a)}}}),r}var MI=function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},e}(),Hb=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._autoThrottle=!0,r._noTarget=!0,r._rangePropMode=["percent","percent"],r}return t.prototype.init=function(r,n,i){var a=aG(r);this.settledOption=a,this.mergeDefaultAndTheme(r,i),this._doInit(a)},t.prototype.mergeOption=function(r){var n=aG(r);Pt(this.option,r,!0),Pt(this.settledOption,n,!0),this._doInit(n)},t.prototype._doInit=function(r){var n=this.option;this._setDefaultThrottle(r),this._updateRangeUse(r);var i=this.settledOption;V([["start","startValue"],["end","endValue"]],function(a,s){this._rangePropMode[s]==="value"&&(n[a[0]]=i[a[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var r=this.get("orient",!0),n=this._targetAxisInfoMap=Qe(),i=this._fillSpecifiedTargetAxis(n);i?this._orient=r||this._makeAutoOrientByTargetAxis():(this._orient=r||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(r){var n=!1;return V(iG,function(i){var a=this.getReferringComponents(Fd(i),UTe);if(a.specified){n=!0;var s=new MI;V(a.models,function(o){s.add(o.componentIndex)}),r.set(i,s)}},this),n},t.prototype._fillAutoTargetAxisByOrient=function(r,n){var i=this.ecModel,a=!0;if(a){var s=n==="vertical"?"y":"x",o=i.findComponents({mainType:s+"Axis"});l(o,s)}if(a){var o=i.findComponents({mainType:"singleAxis",filter:function(u){return u.get("orient",!0)===n}});l(o,"single")}function l(c,u){var h=c[0];if(h){var f=new MI;if(f.add(h.componentIndex),r.set(u,f),a=!1,u==="x"||u==="y"){var p=h.getReferringComponents("grid",di).models[0];p&&V(c,function(g){h.componentIndex!==g.componentIndex&&p===g.getReferringComponents("grid",di).models[0]&&f.add(g.componentIndex)})}}}a&&V(iG,function(c){if(a){var u=i.findComponents({mainType:Fd(c),filter:function(f){return f.get("type",!0)==="category"}});if(u[0]){var h=new MI;h.add(u[0].componentIndex),r.set(c,h),a=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var r;return this.eachTargetAxis(function(n){!r&&(r=n)},this),r==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(r){if(r.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(r){var n=this._rangePropMode,i=this.get("rangeMode");V([["start","startValue"],["end","endValue"]],function(a,s){var o=r[a[0]]!=null,l=r[a[1]]!=null;o&&!l?n[s]="percent":!o&&l?n[s]="value":i?n[s]=i[s]:o&&(n[s]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var r;return this.eachTargetAxis(function(n,i){r==null&&(r=this.ecModel.getComponent(Fd(n),i))},this),r},t.prototype.eachTargetAxis=function(r,n){this._targetAxisInfoMap.each(function(i,a){V(i.indexList,function(s){r.call(n,a,s)})})},t.prototype.getAxisProxy=function(r,n){var i=this.getAxisModel(r,n);if(i)return i.__dzAxisProxy},t.prototype.getAxisModel=function(r,n){var i=this._targetAxisInfoMap.get(r);if(i&&i.indexMap[n])return this.ecModel.getComponent(Fd(r),n)},t.prototype.setRawRange=function(r){var n=this.option,i=this.settledOption;V([["start","startValue"],["end","endValue"]],function(a){(r[a[0]]!=null||r[a[1]]!=null)&&(n[a[0]]=i[a[0]]=r[a[0]],n[a[1]]=i[a[1]]=r[a[1]])},this),this._updateRangeUse(r)},t.prototype.setCalculatedRange=function(r){var n=this.option;V(["start","startValue","end","endValue"],function(i){n[i]=r[i]})},t.prototype.getPercentRange=function(){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataPercentWindow()},t.prototype.getValueRange=function(r,n){if(r==null&&n==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(r,n).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(r){if(r)return r.__dzAxisProxy;for(var n,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var s=i[a],o=this._targetAxisInfoMap.get(s),l=0;l<o.indexList.length;l++){var c=this.getAxisProxy(s,o.indexList[l]);if(c.hostedBy(this))return c;n||(n=c)}return n},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(ir);function aG(e){var t={};return V(["start","end","startValue","endValue","throttle"],function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}),t}var ZBe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="dataZoom.select",t}(Hb),J$=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,a){this.dataZoomModel=r,this.ecModel=n,this.api=i},t.type="dataZoom",t}(Bn),JBe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="dataZoom.select",t}(J$),dm=V,sG=ko,QBe=function(){function e(t,r,n,i){this._dimName=t,this._axisIndex=r,this.ecModel=i,this._dataZoomModel=n}return e.prototype.hostedBy=function(t){return this._dataZoomModel===t},e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(r){if(KBe(r)){var n=Fd(this._dimName),i=r.getReferringComponents(n,di).models[0];i&&this._axisIndex===i.componentIndex&&t.push(r)}},this),t},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return vt(this._minMaxSpan)},e.prototype.calculateDataWindow=function(t){var r=this._dataExtent,n=this.getAxisModel(),i=n.axis.scale,a=this._dataZoomModel.getRangePropMode(),s=[0,100],o=[],l=[],c;dm(["start","end"],function(f,p){var g=t[f],v=t[f+"Value"];a[p]==="percent"?(g==null&&(g=s[p]),v=i.parse(Hr(g,s,r))):(c=!0,v=v==null?r[p]:i.parse(v),g=Hr(v,r,s)),l[p]=v==null||isNaN(v)?r[p]:v,o[p]=g==null||isNaN(g)?s[p]:g}),sG(l),sG(o);var u=this._minMaxSpan;c?h(l,o,r,s,!1):h(o,l,s,r,!0);function h(f,p,g,v,m){var y=m?"Span":"ValueSpan";ag(0,f,g,"all",u["min"+y],u["max"+y]);for(var x=0;x<2;x++)p[x]=Hr(f[x],g,v,!0),m&&(p[x]=i.parse(p[x]))}return{valueWindow:l,percentWindow:o}},e.prototype.reset=function(t){if(t===this._dataZoomModel){var r=this.getTargetSeriesModels();this._dataExtent=eFe(this,this._dimName,r),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},e.prototype.filterData=function(t,r){if(t!==this._dataZoomModel)return;var n=this._dimName,i=this.getTargetSeriesModels(),a=t.get("filterMode"),s=this._valueWindow;if(a==="none")return;dm(i,function(l){var c=l.getData(),u=c.mapDimensionsAll(n);if(u.length){if(a==="weakFilter"){var h=c.getStore(),f=_e(u,function(p){return c.getDimensionIndex(p)},c);c.filterSelf(function(p){for(var g,v,m,y=0;y<u.length;y++){var x=h.get(f[y],p),_=!isNaN(x),b=x<s[0],w=x>s[1];if(_&&!b&&!w)return!0;_&&(m=!0),b&&(g=!0),w&&(v=!0)}return m&&g&&v})}else dm(u,function(p){if(a==="empty")l.setData(c=c.map(p,function(v){return o(v)?v:NaN}));else{var g={};g[p]=s,c.selectRange(g)}});dm(u,function(p){c.setApproximateExtent(s,p)})}});function o(l){return l>=s[0]&&l<=s[1]}},e.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},r=this._dataZoomModel,n=this._dataExtent;dm(["min","max"],function(i){var a=r.get(i+"Span"),s=r.get(i+"ValueSpan");s!=null&&(s=this.getAxisModel().axis.scale.parse(s)),s!=null?a=Hr(n[0]+s,n,[0,100],!0):a!=null&&(s=Hr(a,[0,100],n,!0)-n[0]),t[i+"Span"]=a,t[i+"ValueSpan"]=s},this)},e.prototype._setAxisModel=function(){var t=this.getAxisModel(),r=this._percentWindow,n=this._valueWindow;if(r){var i=bre(n,[0,500]);i=Math.min(i,20);var a=t.axis.scale.rawExtentInfo;r[0]!==0&&a.setDeterminedMinMax("min",+n[0].toFixed(i)),r[1]!==100&&a.setDeterminedMinMax("max",+n[1].toFixed(i)),a.freeze()}},e}();function eFe(e,t,r){var n=[1/0,-1/0];dm(r,function(s){MIe(n,s.getData(),t)});var i=e.getAxisModel(),a=oae(i.axis.scale,i,n).calculate();return[a.min,a.max]}var tFe={getTargetSeries:function(e){function t(i){e.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(s,o){var l=e.getComponent(Fd(s),o);i(s,o,l,a)})})}t(function(i,a,s,o){s.__dzAxisProxy=null});var r=[];t(function(i,a,s,o){s.__dzAxisProxy||(s.__dzAxisProxy=new QBe(i,a,o,e),r.push(s.__dzAxisProxy))});var n=Qe();return V(r,function(i){V(i.getTargetSeriesModels(),function(a){n.set(a.uid,a)})}),n},overallReset:function(e,t){e.eachComponent("dataZoom",function(r){r.eachTargetAxis(function(n,i){r.getAxisProxy(n,i).reset(r)}),r.eachTargetAxis(function(n,i){r.getAxisProxy(n,i).filterData(r,t)})}),e.eachComponent("dataZoom",function(r){var n=r.findRepresentativeAxisProxy();if(n){var i=n.getDataPercentWindow(),a=n.getDataValueWindow();r.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}};function rFe(e){e.registerAction("dataZoom",function(t,r){var n=XBe(r,t);V(n,function(i){i.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var oG=!1;function Q$(e){oG||(oG=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,tFe),rFe(e),e.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function nFe(e){e.registerComponentModel(ZBe),e.registerComponentView(JBe),Q$(e)}var yo=function(){function e(){}return e}(),Voe={};function hm(e,t){Voe[e]=t}function Woe(e){return Voe[e]}var iFe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.optionUpdated=function(){e.prototype.optionUpdated.apply(this,arguments);var r=this.ecModel;V(this.option.feature,function(n,i){var a=Woe(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(r)),Pt(n,a.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(ir);function aFe(e,t,r){var n=t.getBoxLayoutParams(),i=t.get("padding"),a={width:r.getWidth(),height:r.getHeight()},s=Si(n,a,i);fp(t.get("orient"),e,t.get("itemGap"),s.width,s.height),j2(e,n,a,i)}function Goe(e,t){var r=_0(t.get("padding")),n=t.getItemStyle(["color","opacity"]);return n.fill=t.get("backgroundColor"),e=new xr({shape:{x:e.x-r[3],y:e.y-r[0],width:e.width+r[1]+r[3],height:e.height+r[0]+r[2],r:t.get("borderRadius")},style:n,silent:!0,z2:-1}),e}var sFe=function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(r,n,i,a){var s=this.group;if(s.removeAll(),!r.get("show"))return;var o=+r.get("itemSize"),l=r.get("orient")==="vertical",c=r.get("feature")||{},u=this._features||(this._features={}),h=[];V(c,function(g,v){h.push(v)}),new Nu(this._featureNames||[],h).add(f).update(f).remove(At(f,null)).execute(),this._featureNames=h;function f(g,v){var m=h[g],y=h[v],x=c[m],_=new Vr(x,r,r.ecModel),b;if(a&&a.newTitle!=null&&a.featureName===m&&(x.title=a.newTitle),m&&!y){if(oFe(m))b={onclick:_.option.onclick,featureName:m};else{var w=Woe(m);if(!w)return;b=new w}u[m]=b}else if(b=u[y],!b)return;b.uid=x0("toolbox-feature"),b.model=_,b.ecModel=n,b.api=i;var S=b instanceof yo;if(!m&&y){S&&b.dispose&&b.dispose(n,i);return}if(!_.get("show")||S&&b.unusable){S&&b.remove&&b.remove(n,i);return}p(_,b,m),_.setIconStatus=function(k,C){var E=this.option,T=this.iconPaths;E.iconStatus=E.iconStatus||{},E.iconStatus[k]=C,T[k]&&(C==="emphasis"?Eu:Tu)(T[k])},b instanceof yo&&b.render&&b.render(_,n,i,a)}function p(g,v,m){var y=g.getModel("iconStyle"),x=g.getModel(["emphasis","iconStyle"]),_=v instanceof yo&&v.getIcons?v.getIcons():g.get("icon"),b=g.get("title")||{},w,S;We(_)?(w={},w[m]=_):w=_,We(b)?(S={},S[m]=b):S=b;var k=g.iconPaths={};V(w,function(C,E){var T=Gw(C,{},{x:-o/2,y:-o/2,width:o,height:o});T.setStyle(y.getItemStyle());var N=T.ensureState("emphasis");N.style=x.getItemStyle();var I=new kr({style:{text:S[E],align:x.get("textAlign"),borderRadius:x.get("textBorderRadius"),padding:x.get("textPadding"),fill:null,font:j4({fontStyle:x.get("textFontStyle"),fontFamily:x.get("textFontFamily"),fontSize:x.get("textFontSize"),fontWeight:x.get("textFontWeight")},n)},ignore:!0});T.setTextContent(I),Qp({el:T,componentModel:r,itemName:E,formatterParamsExtra:{title:S[E]}}),T.__title=S[E],T.on("mouseover",function(){var P=x.getItemStyle(),D=l?r.get("right")==null&&r.get("left")!=="right"?"right":"left":r.get("bottom")==null&&r.get("top")!=="bottom"?"bottom":"top";I.setStyle({fill:x.get("textFill")||P.fill||P.stroke||"#000",backgroundColor:x.get("textBackgroundColor")}),T.setTextConfig({position:x.get("textPosition")||D}),I.ignore=!r.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){g.get(["iconStatus",E])!=="emphasis"&&i.leaveEmphasis(this),I.hide()}),(g.get(["iconStatus",E])==="emphasis"?Eu:Tu)(T),s.add(T),T.on("click",Ke(v.onclick,v,n,i,E)),k[E]=T})}aFe(s,r,i),s.add(Goe(s.getBoundingRect(),r)),l||s.eachChild(function(g){var v=g.__title,m=g.ensureState("emphasis"),y=m.textConfig||(m.textConfig={}),x=g.getTextContent(),_=x&&x.ensureState("emphasis");if(_&&!lt(_)&&v){var b=_.style||(_.style={}),w=Bw(v,kr.makeFont(b)),S=g.x+s.x,k=g.y+s.y+o,C=!1;k+w.height>i.getHeight()&&(y.position="top",C=!0);var E=C?-5-w.height:o+10;S+w.width/2>i.getWidth()?(y.position=["100%",E],b.align="right"):S-w.width/2<0&&(y.position=[0,E],b.align="left")}})},t.prototype.updateView=function(r,n,i,a){V(this._features,function(s){s instanceof yo&&s.updateView&&s.updateView(s.model,n,i,a)})},t.prototype.remove=function(r,n){V(this._features,function(i){i instanceof yo&&i.remove&&i.remove(r,n)}),this.group.removeAll()},t.prototype.dispose=function(r,n){V(this._features,function(i){i instanceof yo&&i.dispose&&i.dispose(r,n)})},t.type="toolbox",t}(Bn);function oFe(e){return e.indexOf("my")===0}var lFe=function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(r,n){var i=this.model,a=i.get("name")||r.get("title.0.text")||"echarts",s=n.getZr().painter.getType()==="svg",o=s?"svg":i.get("type",!0)||"png",l=n.getConnectedDataURL({type:o,backgroundColor:i.get("backgroundColor",!0)||r.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),c=tr.browser;if(typeof MouseEvent=="function"&&(c.newEdge||!c.ie&&!c.edge)){var u=document.createElement("a");u.download=a+"."+o,u.target="_blank",u.href=l;var h=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});u.dispatchEvent(h)}else if(window.navigator.msSaveOrOpenBlob||s){var f=l.split(","),p=f[0].indexOf("base64")>-1,g=s?decodeURIComponent(f[1]):f[1];p&&(g=window.atob(g));var v=a+"."+o;if(window.navigator.msSaveOrOpenBlob){for(var m=g.length,y=new Uint8Array(m);m--;)y[m]=g.charCodeAt(m);var x=new Blob([y]);window.navigator.msSaveOrOpenBlob(x,v)}else{var _=document.createElement("iframe");document.body.appendChild(_);var b=_.contentWindow,w=b.document;w.open("image/svg+xml","replace"),w.write(g),w.close(),b.focus(),w.execCommand("SaveAs",!0,v),document.body.removeChild(_)}}else{var S=i.get("lang"),k='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(S&&S[0]||"")+'" /></body>',C=window.open();C.document.write(k),C.document.title=a}},t.getDefaultOption=function(r){var n={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:r.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:r.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return n},t}(yo),lG="__ec_magicType_stack__",cFe=[["line","bar"],["stack"]],uFe=function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getIcons=function(){var r=this.model,n=r.get("icon"),i={};return V(r.get("type"),function(a){n[a]&&(i[a]=n[a])}),i},t.getDefaultOption=function(r){var n={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:r.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return n},t.prototype.onclick=function(r,n,i){var a=this.model,s=a.get(["seriesIndex",i]);if(cG[i]){var o={series:[]},l=function(h){var f=h.subType,p=h.id,g=cG[i](f,p,h,a);g&&(ut(g,h.option),o.series.push(g));var v=h.coordinateSystem;if(v&&v.type==="cartesian2d"&&(i==="line"||i==="bar")){var m=v.getAxesByScale("ordinal")[0];if(m){var y=m.dim,x=y+"Axis",_=h.getReferringComponents(x,di).models[0],b=_.componentIndex;o[x]=o[x]||[];for(var w=0;w<=b;w++)o[x][b]=o[x][b]||{};o[x][b].boundaryGap=i==="bar"}}};V(cFe,function(h){Wt(h,i)>=0&&V(h,function(f){a.setIconStatus(f,"normal")})}),a.setIconStatus(i,"emphasis"),r.eachComponent({mainType:"series",query:s==null?null:{seriesIndex:s}},l);var c,u=i;i==="stack"&&(c=Pt({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",i])!=="emphasis"&&(u="tiled")),n.dispatchAction({type:"changeMagicType",currentType:u,newOption:o,newTitle:c,featureName:"magicType"})}},t}(yo),cG={line:function(e,t,r,n){if(e==="bar")return Pt({id:t,type:"line",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(e,t,r,n){if(e==="line")return Pt({id:t,type:"bar",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(e,t,r,n){var i=r.get("stack")===lG;if(e==="line"||e==="bar")return n.setIconStatus("stack",i?"normal":"emphasis"),Pt({id:t,stack:i?"":lG},n.get(["option","stack"])||{},!0)}};Ac({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,t){t.mergeOption(e.newOption)});var q2=new Array(60).join("-"),Lv="	";function dFe(e){var t={},r=[],n=[];return e.eachRawSeries(function(i){var a=i.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var s=a.getBaseAxis();if(s.type==="category"){var o=s.dim+"_"+s.index;t[o]||(t[o]={categoryAxis:s,valueAxis:a.getOtherAxis(s),series:[]},n.push({axisDim:s.dim,axisIndex:s.index})),t[o].series.push(i)}else r.push(i)}else r.push(i)}),{seriesGroupByCategoryAxis:t,other:r,meta:n}}function hFe(e){var t=[];return V(e,function(r,n){var i=r.categoryAxis,a=r.valueAxis,s=a.dim,o=[" "].concat(_e(r.series,function(p){return p.name})),l=[i.model.getCategories()];V(r.series,function(p){var g=p.getRawData();l.push(p.getRawData().mapArray(g.mapDimension(s),function(v){return v}))});for(var c=[o.join(Lv)],u=0;u<l[0].length;u++){for(var h=[],f=0;f<l.length;f++)h.push(l[f][u]);c.push(h.join(Lv))}t.push(c.join(`
`))}),t.join(`

`+q2+`

`)}function fFe(e){return _e(e,function(t){var r=t.getRawData(),n=[t.name],i=[];return r.each(r.dimensions,function(){for(var a=arguments.length,s=arguments[a-1],o=r.getName(s),l=0;l<a-1;l++)i[l]=arguments[l];n.push((o?o+Lv:"")+i.join(Lv))}),n.join(`
`)}).join(`

`+q2+`

`)}function pFe(e){var t=dFe(e);return{value:Br([hFe(t.seriesGroupByCategoryAxis),fFe(t.other)],function(r){return!!r.replace(/[\n\t\s]/g,"")}).join(`

`+q2+`

`),meta:t.meta}}function RT(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function gFe(e){var t=e.slice(0,e.indexOf(`
`));if(t.indexOf(Lv)>=0)return!0}var tO=new RegExp("["+Lv+"]+","g");function mFe(e){for(var t=e.split(/\n+/g),r=RT(t.shift()).split(tO),n=[],i=_e(r,function(l){return{name:l,data:[]}}),a=0;a<t.length;a++){var s=RT(t[a]).split(tO);n.push(s.shift());for(var o=0;o<s.length;o++)i[o]&&(i[o].data[a]=s[o])}return{series:i,categories:n}}function vFe(e){for(var t=e.split(/\n+/g),r=RT(t.shift()),n=[],i=0;i<t.length;i++){var a=RT(t[i]);if(a){var s=a.split(tO),o="",l=void 0,c=!1;isNaN(s[0])?(c=!0,o=s[0],s=s.slice(1),n[i]={name:o,value:[]},l=n[i].value):l=n[i]=[];for(var u=0;u<s.length;u++)l.push(+s[u]);l.length===1&&(c?n[i].value=l[0]:n[i]=l[0])}}return{name:r,data:n}}function yFe(e,t){var r=e.split(new RegExp(`
*`+q2+`
*`,"g")),n={series:[]};return V(r,function(i,a){if(gFe(i)){var s=mFe(i),o=t[a],l=o.axisDim+"Axis";o&&(n[l]=n[l]||[],n[l][o.axisIndex]={data:s.categories},n.series=n.series.concat(s.series))}else{var s=vFe(i);n.series.push(s)}}),n}var xFe=function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(r,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var i=n.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var s=document.createElement("div");s.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",s.style.backgroundColor=a.get("backgroundColor")||"#fff";var o=document.createElement("h4"),l=a.get("lang")||[];o.innerHTML=l[0]||a.get("title"),o.style.cssText="margin:10px 20px",o.style.color=a.get("textColor");var c=document.createElement("div"),u=document.createElement("textarea");c.style.cssText="overflow:auto";var h=a.get("optionToContent"),f=a.get("contentToOption"),p=pFe(r);if(lt(h)){var g=h(n.getOption());We(g)?c.innerHTML=g:kv(g)&&c.appendChild(g)}else{u.readOnly=a.get("readOnly");var v=u.style;v.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",v.color=a.get("textColor"),v.borderColor=a.get("textareaBorderColor"),v.backgroundColor=a.get("textareaColor"),u.value=p.value,c.appendChild(u)}var m=p.meta,y=document.createElement("div");y.style.cssText="position:absolute;bottom:5px;left:0;right:0";var x="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",_=document.createElement("div"),b=document.createElement("div");x+=";background-color:"+a.get("buttonColor"),x+=";color:"+a.get("buttonTextColor");var w=this;function S(){i.removeChild(s),w._dom=null}ML(_,"click",S),ML(b,"click",function(){if(f==null&&h!=null||f!=null&&h==null){S();return}var k;try{lt(f)?k=f(c,n.getOption()):k=yFe(u.value,m)}catch(C){throw S(),new Error("Data view format error "+C)}k&&n.dispatchAction({type:"changeDataView",newOption:k}),S()}),_.innerHTML=l[1],b.innerHTML=l[2],b.style.cssText=_.style.cssText=x,!a.get("readOnly")&&y.appendChild(b),y.appendChild(_),s.appendChild(o),s.appendChild(c),s.appendChild(y),c.style.height=i.clientHeight-80+"px",i.appendChild(s),this._dom=s},t.prototype.remove=function(r,n){this._dom&&n.getDom().removeChild(this._dom)},t.prototype.dispose=function(r,n){this.remove(r,n)},t.getDefaultOption=function(r){var n={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:r.getLocaleModel().get(["toolbox","dataView","title"]),lang:r.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return n},t}(yo);function _Fe(e,t){return _e(e,function(r,n){var i=t&&t[n];if(ft(i)&&!ye(i)){var a=ft(r)&&!ye(r);a||(r={value:r});var s=i.name!=null&&r.name==null;return r=ut(r,i),s&&delete r.name,r}else return r})}Ac({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,t){var r=[];V(e.newOption.series,function(n){var i=t.getSeriesByName(n.name)[0];if(!i)r.push(pe({type:"scatter"},n));else{var a=i.get("data");r.push({name:n.name,data:_Fe(n.data,a)})}}),t.mergeOption(ut({series:r},e.newOption))});var qoe=V,Yoe=_r();function bFe(e,t){var r=eB(e);qoe(t,function(n,i){for(var a=r.length-1;a>=0;a--){var s=r[a];if(s[i])break}if(a<0){var o=e.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(o){var l=o.getPercentRange();r[0][i]={dataZoomId:i,start:l[0],end:l[1]}}}}),r.push(t)}function wFe(e){var t=eB(e),r=t[t.length-1];t.length>1&&t.pop();var n={};return qoe(r,function(i,a){for(var s=t.length-1;s>=0;s--)if(i=t[s][a],i){n[a]=i;break}}),n}function SFe(e){Yoe(e).snapshots=null}function CFe(e){return eB(e).length}function eB(e){var t=Yoe(e);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var kFe=function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(r,n){SFe(r),n.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(r){var n={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:r.getLocaleModel().get(["toolbox","restore","title"])};return n},t}(yo);Ac({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,t){t.resetOption("recreate")});var EFe=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],tB=function(){function e(t,r,n){var i=this;this._targetInfoList=[];var a=uG(r,t);V(TFe,function(s,o){(!n||!n.include||Wt(n.include,o)>=0)&&s(a,i._targetInfoList)})}return e.prototype.setOutputRanges=function(t,r){return this.matchOutputRanges(t,r,function(n,i,a){if((n.coordRanges||(n.coordRanges=[])).push(i),!n.coordRange){n.coordRange=i;var s=PI[n.brushType](0,a,i);n.__rangeOffset={offset:pG[n.brushType](s.values,n.range,[1,1]),xyMinMax:s.xyMinMax}}}),t},e.prototype.matchOutputRanges=function(t,r,n){V(t,function(i){var a=this.findTargetInfo(i,r);a&&a!==!0&&V(a.coordSyses,function(s){var o=PI[i.brushType](1,s,i.range,!0);n(i,o.values,s,r)})},this)},e.prototype.setInputRanges=function(t,r){V(t,function(n){var i=this.findTargetInfo(n,r);if(n.range=n.range||[],i&&i!==!0){n.panelId=i.panelId;var a=PI[n.brushType](0,i.coordSys,n.coordRange),s=n.__rangeOffset;n.range=s?pG[n.brushType](a.values,s.offset,NFe(a.xyMinMax,s.xyMinMax)):a.values}},this)},e.prototype.makePanelOpts=function(t,r){return _e(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:r?r(n):null,clipPath:roe(i),isTargetByCursor:ioe(i,t,n.coordSysModel),getLinearBrushOtherExtent:noe(i)}})},e.prototype.controlSeries=function(t,r,n){var i=this.findTargetInfo(t,n);return i===!0||i&&Wt(i.coordSyses,r.coordinateSystem)>=0},e.prototype.findTargetInfo=function(t,r){for(var n=this._targetInfoList,i=uG(r,t),a=0;a<n.length;a++){var s=n[a],o=t.panelId;if(o){if(s.panelId===o)return s}else for(var l=0;l<dG.length;l++)if(dG[l](i,s))return s}return!0},e}();function rO(e){return e[0]>e[1]&&e.reverse(),e}function uG(e,t){return b_(e,t,{includeMainTypes:EFe})}var TFe={grid:function(e,t){var r=e.xAxisModels,n=e.yAxisModels,i=e.gridModels,a=Qe(),s={},o={};!r&&!n&&!i||(V(r,function(l){var c=l.axis.grid.model;a.set(c.id,c),s[c.id]=!0}),V(n,function(l){var c=l.axis.grid.model;a.set(c.id,c),o[c.id]=!0}),V(i,function(l){a.set(l.id,l),s[l.id]=!0,o[l.id]=!0}),a.each(function(l){var c=l.coordinateSystem,u=[];V(c.getCartesians(),function(h,f){(Wt(r,h.getAxis("x").model)>=0||Wt(n,h.getAxis("y").model)>=0)&&u.push(h)}),t.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:u[0],coordSyses:u,getPanelRect:hG.grid,xAxisDeclared:s[l.id],yAxisDeclared:o[l.id]})}))},geo:function(e,t){V(e.geoModels,function(r){var n=r.coordinateSystem;t.push({panelId:"geo--"+r.id,geoModel:r,coordSysModel:r,coordSys:n,coordSyses:[n],getPanelRect:hG.geo})})}},dG=[function(e,t){var r=e.xAxisModel,n=e.yAxisModel,i=e.gridModel;return!i&&r&&(i=r.axis.grid.model),!i&&n&&(i=n.axis.grid.model),i&&i===t.gridModel},function(e,t){var r=e.geoModel;return r&&r===t.geoModel}],hG={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(hp(e)),t}},PI={lineX:At(fG,0),lineY:At(fG,1),rect:function(e,t,r,n){var i=e?t.pointToData([r[0][0],r[1][0]],n):t.dataToPoint([r[0][0],r[1][0]],n),a=e?t.pointToData([r[0][1],r[1][1]],n):t.dataToPoint([r[0][1],r[1][1]],n),s=[rO([i[0],a[0]]),rO([i[1],a[1]])];return{values:s,xyMinMax:s}},polygon:function(e,t,r,n){var i=[[1/0,-1/0],[1/0,-1/0]],a=_e(r,function(s){var o=e?t.pointToData(s,n):t.dataToPoint(s,n);return i[0][0]=Math.min(i[0][0],o[0]),i[1][0]=Math.min(i[1][0],o[1]),i[0][1]=Math.max(i[0][1],o[0]),i[1][1]=Math.max(i[1][1],o[1]),o});return{values:a,xyMinMax:i}}};function fG(e,t,r,n){var i=r.getAxis(["x","y"][e]),a=rO(_e([0,1],function(o){return t?i.coordToData(i.toLocalCoord(n[o]),!0):i.toGlobalCoord(i.dataToCoord(n[o]))})),s=[];return s[e]=a,s[1-e]=[NaN,NaN],{values:a,xyMinMax:s}}var pG={lineX:At(gG,0),lineY:At(gG,1),rect:function(e,t,r){return[[e[0][0]-r[0]*t[0][0],e[0][1]-r[0]*t[0][1]],[e[1][0]-r[1]*t[1][0],e[1][1]-r[1]*t[1][1]]]},polygon:function(e,t,r){return _e(e,function(n,i){return[n[0]-r[0]*t[i][0],n[1]-r[1]*t[i][1]]})}};function gG(e,t,r,n){return[t[0]-n[e]*r[0],t[1]-n[e]*r[1]]}function NFe(e,t){var r=mG(e),n=mG(t),i=[r[0]/n[0],r[1]/n[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function mG(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var nO=V,AFe=OTe("toolbox-dataZoom_"),jFe=function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(r,n,i,a){this._brushController||(this._brushController=new N$(i.getZr()),this._brushController.on("brush",Ke(this._onBrush,this)).mount()),MFe(r,n,this,a,i),IFe(r,n)},t.prototype.onclick=function(r,n,i){RFe[i].call(this)},t.prototype.remove=function(r,n){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(r,n){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(r){var n=r.areas;if(!r.isEnd||!n.length)return;var i={},a=this.ecModel;this._brushController.updateCovers([]);var s=new tB(rB(this.model),a,{include:["grid"]});s.matchOutputRanges(n,a,function(c,u,h){if(h.type==="cartesian2d"){var f=c.brushType;f==="rect"?(o("x",h,u[0]),o("y",h,u[1])):o({lineX:"x",lineY:"y"}[f],h,u)}}),bFe(a,i),this._dispatchZoomAction(i);function o(c,u,h){var f=u.getAxis(c),p=f.model,g=l(c,p,a),v=g.findRepresentativeAxisProxy(p).getMinMaxSpan();(v.minValueSpan!=null||v.maxValueSpan!=null)&&(h=ag(0,h.slice(),f.scale.getExtent(),0,v.minValueSpan,v.maxValueSpan)),g&&(i[g.id]={dataZoomId:g.id,startValue:h[0],endValue:h[1]})}function l(c,u,h){var f;return h.eachComponent({mainType:"dataZoom",subType:"select"},function(p){var g=p.getAxisModel(c,u.componentIndex);g&&(f=p)}),f}},t.prototype._dispatchZoomAction=function(r){var n=[];nO(r,function(i,a){n.push(vt(i))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},t.getDefaultOption=function(r){var n={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:r.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return n},t}(yo),RFe={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(wFe(this.ecModel))}};function rB(e){var t={xAxisIndex:e.get("xAxisIndex",!0),yAxisIndex:e.get("yAxisIndex",!0),xAxisId:e.get("xAxisId",!0),yAxisId:e.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function IFe(e,t){e.setIconStatus("back",CFe(t)>1?"emphasis":"normal")}function MFe(e,t,r,n,i){var a=r._isZoomActive;n&&n.type==="takeGlobalCursor"&&(a=n.key==="dataZoomSelect"?n.dataZoomSelectActive:!1),r._isZoomActive=a,e.setIconStatus("zoom",a?"emphasis":"normal");var s=new tB(rB(e),t,{include:["grid"]}),o=s.makePanelOpts(i,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});r._brushController.setPanels(o).enableBrush(a&&o.length?{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()}:!1)}lAe("dataZoom",function(e){var t=e.getComponent("toolbox",0),r=["feature","dataZoom"];if(!t||t.get(r)==null)return;var n=t.getModel(r),i=[],a=rB(n),s=b_(e,a);nO(s.xAxisModels,function(l){return o(l,"xAxis","xAxisIndex")}),nO(s.yAxisModels,function(l){return o(l,"yAxis","yAxisIndex")});function o(l,c,u){var h=l.componentIndex,f={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:AFe+c+h};f[u]=h,i.push(f)}return i});function PFe(e){e.registerComponentModel(iFe),e.registerComponentView(sFe),hm("saveAsImage",lFe),hm("magicType",uFe),hm("dataView",xFe),hm("dataZoom",jFe),hm("restore",kFe),Zt(nFe)}var LFe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(ir);function Koe(e){var t=e.get("confine");return t!=null?!!t:e.get("renderMode")==="richText"}function Xoe(e){if(tr.domSupported){for(var t=document.documentElement.style,r=0,n=e.length;r<n;r++)if(e[r]in t)return e[r]}}var Zoe=Xoe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),DFe=Xoe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Joe(e,t){if(!e)return t;t=jne(t,!0);var r=e.indexOf(t);return e=r===-1?t:"-"+e.slice(0,r)+"-"+t,e.toLowerCase()}function OFe(e,t){var r=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return r?r[t]:null}var $Fe=Joe(DFe,"transition"),nB=Joe(Zoe,"transform"),BFe="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(tr.transform3dSupported?"will-change:transform;":"");function FFe(e){return e=e==="left"?"right":e==="right"?"left":e==="top"?"bottom":"top",e}function zFe(e,t,r){if(!We(r)||r==="inside")return"";var n=e.get("backgroundColor"),i=e.get("borderWidth");t=Ip(t);var a=FFe(r),s=Math.max(Math.round(i)*1.5,6),o="",l=nB+":",c;Wt(["left","right"],a)>-1?(o+="top:50%",l+="translateY(-50%) rotate("+(c=a==="left"?-225:-45)+"deg)"):(o+="left:50%",l+="translateX(-50%) rotate("+(c=a==="top"?225:45)+"deg)");var u=c*Math.PI/180,h=s+i,f=h*Math.abs(Math.cos(u))+h*Math.abs(Math.sin(u)),p=Math.round(((f-Math.SQRT2*i)/2+Math.SQRT2*i-(f-h)/2)*100)/100;o+=";"+a+":-"+p+"px";var g=t+" solid "+i+"px;",v=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",o+";"+l+";","border-bottom:"+g,"border-right:"+g,"background-color:"+n+";"];return'<div style="'+v.join("")+'"></div>'}function UFe(e,t){var r="cubic-bezier(0.23,1,0.32,1)",n=" "+e/2+"s "+r,i="opacity"+n+",visibility"+n;return t||(n=" "+e+"s "+r,i+=tr.transformSupported?","+nB+n:",left"+n+",top"+n),$Fe+":"+i}function vG(e,t,r){var n=e.toFixed(0)+"px",i=t.toFixed(0)+"px";if(!tr.transformSupported)return r?"top:"+i+";left:"+n+";":[["top",i],["left",n]];var a=tr.transform3dSupported,s="translate"+(a?"3d":"")+"("+n+","+i+(a?",0":"")+")";return r?"top:0;left:0;"+nB+":"+s+";":[["top",0],["left",0],[Zoe,s]]}function HFe(e){var t=[],r=e.get("fontSize"),n=e.getTextColor();n&&t.push("color:"+n),t.push("font:"+e.getFont());var i=Et(e.get("lineHeight"),Math.round(r*3/2));r&&t.push("line-height:"+i+"px");var a=e.get("textShadowColor"),s=e.get("textShadowBlur")||0,o=e.get("textShadowOffsetX")||0,l=e.get("textShadowOffsetY")||0;return a&&s&&t.push("text-shadow:"+o+"px "+l+"px "+s+"px "+a),V(["decoration","align"],function(c){var u=e.get(c);u&&t.push("text-"+c+":"+u)}),t.join(";")}function VFe(e,t,r){var n=[],i=e.get("transitionDuration"),a=e.get("backgroundColor"),s=e.get("shadowBlur"),o=e.get("shadowColor"),l=e.get("shadowOffsetX"),c=e.get("shadowOffsetY"),u=e.getModel("textStyle"),h=uie(e,"html"),f=l+"px "+c+"px "+s+"px "+o;return n.push("box-shadow:"+f),t&&i&&n.push(UFe(i,r)),a&&n.push("background-color:"+a),V(["width","color","radius"],function(p){var g="border-"+p,v=jne(g),m=e.get(v);m!=null&&n.push(g+":"+m+(p==="color"?"":"px"))}),n.push(HFe(u)),h!=null&&n.push("padding:"+_0(h).join("px ")+"px"),n.join(";")+";"}function yG(e,t,r,n,i){var a=t&&t.painter;if(r){var s=a&&a.getViewportRoot();s&&hEe(e,s,r,n,i)}else{e[0]=n,e[1]=i;var o=a&&a.getViewportRootOffset();o&&(e[0]+=o.offsetLeft,e[1]+=o.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var WFe=function(){function e(t,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,tr.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var i=this._zr=t.getZr(),a=r.appendTo,s=a&&(We(a)?document.querySelector(a):kv(a)?a:lt(a)&&a(t.getDom()));yG(this._styleCoord,i,s,t.getWidth()/2,t.getHeight()/2),(s||t.getDom()).appendChild(n),this._api=t,this._container=s;var o=this;n.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},n.onmousemove=function(l){if(l=l||window.event,!o._enterable){var c=i.handler,u=i.painter.getViewportRoot();lo(u,l,!0),c.dispatch("mousemove",l)}},n.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}return e.prototype.update=function(t){if(!this._container){var r=this._api.getDom(),n=OFe(r,"position"),i=r.style;i.position!=="absolute"&&n!=="absolute"&&(i.position="relative")}var a=t.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=t.get("className")||""},e.prototype.show=function(t,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,a=this._styleCoord;n.innerHTML?i.cssText=BFe+VFe(t,!this._firstShow,this._longHide)+vG(a[0],a[1],!0)+("border-color:"+Ip(r)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(t,r,n,i,a){var s=this.el;if(t==null){s.innerHTML="";return}var o="";if(We(a)&&n.get("trigger")==="item"&&!Koe(n)&&(o=zFe(n,i,a)),We(t))s.innerHTML=t+o;else if(t){s.innerHTML="",ye(t)||(t=[t]);for(var l=0;l<t.length;l++)kv(t[l])&&t[l].parentNode!==s&&s.appendChild(t[l]);if(o&&s.childNodes.length){var c=document.createElement("div");c.innerHTML=o,s.appendChild(c)}}},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},e.prototype.moveTo=function(t,r){if(this.el){var n=this._styleCoord;if(yG(n,this._zr,this._container,t,r),n[0]!=null&&n[1]!=null){var i=this.el.style,a=vG(n[0],n[1]);V(a,function(s){i[s[0]]=s[1]})}}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),r*this._zr.getHeight())},e.prototype.hide=function(){var t=this,r=this.el.style;r.visibility="hidden",r.opacity="0",tr.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Ke(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},e}(),GFe=function(){function e(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),_G(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return e.prototype.update=function(t){var r=t.get("alwaysShowContent");r&&this._moveIfResized(),this._alwaysShowContent=r},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(t,r,n,i,a){var s=this;ft(t)&&$r(""),this.el&&this._zr.remove(this.el);var o=n.getModel("textStyle");this.el=new kr({style:{rich:r.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:o.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:uie(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),V(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(c){s.el.style[c]=n.get(c)}),V(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(c){s.el.style[c]=o.get(c)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el,r=this.el.getBoundingRect(),n=xG(t.style);return[r.width+n.left+n.right,r.height+n.top+n.bottom]},e.prototype.moveTo=function(t,r){var n=this.el;if(n){var i=this._styleCoord;_G(i,this._zr,t,r),t=i[0],r=i[1];var a=n.style,s=hd(a.borderWidth||0),o=xG(a);n.x=t+s+o.left,n.y=r+s+o.top,n.markRedraw()}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),r*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Ke(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function hd(e){return Math.max(0,e)}function xG(e){var t=hd(e.shadowBlur||0),r=hd(e.shadowOffsetX||0),n=hd(e.shadowOffsetY||0);return{left:hd(t-r),right:hd(t+r),top:hd(t-n),bottom:hd(t+n)}}function _G(e,t,r,n){e[0]=r,e[1]=n,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var qFe=new xr({shape:{x:-1,y:-1,width:2,height:2}}),YFe=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){if(!(tr.node||!n.getDom())){var i=r.getComponent("tooltip"),a=this._renderMode=VTe(i.get("renderMode"));this._tooltipContent=a==="richText"?new GFe(n):new WFe(n,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},t.prototype.render=function(r,n,i){if(!(tr.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=n,this._api=i;var a=this._tooltipContent;a.update(r),a.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?C0(this,"_updatePosition",50,"fixRate"):jb(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var r=this._tooltipModel,n=r.get("triggerOn");Doe("itemTooltip",this._api,Ke(function(i,a,s){n!=="none"&&(n.indexOf(i)>=0?this._tryShow(a,s):i==="leave"&&this._hide(s))},this))},t.prototype._keepShow=function(){var r=this._tooltipModel,n=this._ecModel,i=this._api,a=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&s.manuallyShowTip(r,n,i,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(r,n,i,a){if(!(a.from===this.uid||tr.node||!i.getDom())){var s=bG(a,i);this._ticket="";var o=a.dataByCoordSys,l=JFe(a,n,i);if(l){var c=l.el.getBoundingRect().clone();c.applyTransform(l.el.transform),this._tryShow({offsetX:c.x+c.width/2,offsetY:c.y+c.height/2,target:l.el,position:a.position,positionDefault:"bottom"},s)}else if(a.tooltip&&a.x!=null&&a.y!=null){var u=qFe;u.x=a.x,u.y=a.y,u.update(),wt(u).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:u},s)}else if(o)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:o,tooltipOption:a.tooltipOption},s);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(r,n,i,a))return;var h=Ooe(a,n),f=h.point[0],p=h.point[1];f!=null&&p!=null&&this._tryShow({offsetX:f,offsetY:p,target:h.el,position:a.position,positionDefault:"bottom"},s)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},s))}},t.prototype.manuallyHideTip=function(r,n,i,a){var s=this._tooltipContent;this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(bG(a,i))},t.prototype._manuallyAxisShowTip=function(r,n,i,a){var s=a.seriesIndex,o=a.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||o==null||l==null)){var c=n.getSeriesByIndex(s);if(c){var u=c.getData(),h=ax([u.getItemModel(o),c,(c.coordinateSystem||{}).model],this._tooltipModel);if(h.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:o,position:a.position}),!0}}},t.prototype._tryShow=function(r,n){var i=r.target,a=this._tooltipModel;if(a){this._lastX=r.offsetX,this._lastY=r.offsetY;var s=r.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,r);else if(i){var o=wt(i);if(o.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,c;Kf(i,function(u){if(wt(u).dataIndex!=null)return l=u,!0;if(wt(u).tooltipConfig!=null)return c=u,!0},!0),l?this._showSeriesItemTooltip(r,l,n):c?this._showComponentItemTooltip(r,c,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},t.prototype._showOrMove=function(r,n){var i=r.get("showDelay");n=Ke(n,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(n,i):n()},t.prototype._showAxisTooltip=function(r,n){var i=this._ecModel,a=this._tooltipModel,s=[n.offsetX,n.offsetY],o=ax([n.tooltipOption],a),l=this._renderMode,c=[],u=Li("section",{blocks:[],noHeader:!0}),h=[],f=new xR;V(r,function(x){V(x.dataByAxis,function(_){var b=i.getComponent(_.axisDim+"Axis",_.axisIndex),w=_.value;if(!(!b||w==null)){var S=Moe(w,b.axis,i,_.seriesDataIndices,_.valueLabelOpt),k=Li("section",{header:S,noHeader:!nl(S),sortBlocks:!0,blocks:[]});u.blocks.push(k),V(_.seriesDataIndices,function(C){var E=i.getSeriesByIndex(C.seriesIndex),T=C.dataIndexInside,N=E.getDataParams(T);if(!(N.dataIndex<0)){N.axisDim=_.axisDim,N.axisIndex=_.axisIndex,N.axisType=_.axisType,N.axisId=_.axisId,N.axisValue=r$(b.axis,{value:w}),N.axisValueLabel=S,N.marker=f.makeTooltipMarker("item",Ip(N.color),l);var I=s9(E.formatTooltip(T,!0,null)),P=I.frag;if(P){var D=ax([E],a).get("valueFormatter");k.blocks.push(D?pe({valueFormatter:D},P):P)}I.text&&h.push(I.text),c.push(N)}})}})}),u.blocks.reverse(),h.reverse();var p=n.position,g=o.get("order"),v=h9(u,f,l,g,i.get("useUTC"),o.get("textStyle"));v&&h.unshift(v);var m=l==="richText"?`

`:"<br/>",y=h.join(m);this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(r,c)?this._updatePosition(o,p,s[0],s[1],this._tooltipContent,c):this._showTooltipContent(o,y,c,Math.random()+"",s[0],s[1],p,null,f)})},t.prototype._showSeriesItemTooltip=function(r,n,i){var a=this._ecModel,s=wt(n),o=s.seriesIndex,l=a.getSeriesByIndex(o),c=s.dataModel||l,u=s.dataIndex,h=s.dataType,f=c.getData(h),p=this._renderMode,g=r.positionDefault,v=ax([f.getItemModel(u),c,l&&(l.coordinateSystem||{}).model],this._tooltipModel,g?{position:g}:null),m=v.get("trigger");if(!(m!=null&&m!=="item")){var y=c.getDataParams(u,h),x=new xR;y.marker=x.makeTooltipMarker("item",Ip(y.color),p);var _=s9(c.formatTooltip(u,!1,h)),b=v.get("order"),w=v.get("valueFormatter"),S=_.frag,k=S?h9(w?pe({valueFormatter:w},S):S,x,p,b,a.get("useUTC"),v.get("textStyle")):_.text,C="item_"+c.name+"_"+u;this._showOrMove(v,function(){this._showTooltipContent(v,k,y,C,r.offsetX,r.offsetY,r.position,r.target,x)}),i({type:"showTip",dataIndexInside:u,dataIndex:f.getRawIndex(u),seriesIndex:o,from:this.uid})}},t.prototype._showComponentItemTooltip=function(r,n,i){var a=this._renderMode==="html",s=wt(n),o=s.tooltipConfig,l=o.option||{},c=l.encodeHTMLContent;if(We(l)){var u=l;l={content:u,formatter:u},c=!0}c&&a&&l.content&&(l=vt(l),l.content=La(l.content));var h=[l],f=this._ecModel.getComponent(s.componentMainType,s.componentIndex);f&&h.push(f),h.push({formatter:l.content});var p=r.positionDefault,g=ax(h,this._tooltipModel,p?{position:p}:null),v=g.get("content"),m=Math.random()+"",y=new xR;this._showOrMove(g,function(){var x=vt(g.get("formatterParams")||{});this._showTooltipContent(g,v,x,m,r.offsetX,r.offsetY,r.position,n,y)}),i({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(r,n,i,a,s,o,l,c,u){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var h=this._tooltipContent;h.setEnterable(r.get("enterable"));var f=r.get("formatter");l=l||r.get("position");var p=n,g=this._getNearestPoint([s,o],i,r.get("trigger"),r.get("borderColor")),v=g.color;if(f)if(We(f)){var m=r.ecModel.get("useUTC"),y=ye(i)?i[0]:i,x=y&&y.axisType&&y.axisType.indexOf("time")>=0;p=f,x&&(p=k2(y.axisValue,p,m)),p=Rne(p,i,!0)}else if(lt(f)){var _=Ke(function(b,w){b===this._ticket&&(h.setContent(w,u,r,v,l),this._updatePosition(r,l,s,o,h,i,c))},this);this._ticket=a,p=f(i,a,_)}else p=f;h.setContent(p,u,r,v,l),h.show(r,v),this._updatePosition(r,l,s,o,h,i,c)}},t.prototype._getNearestPoint=function(r,n,i,a){if(i==="axis"||ye(n))return{color:a||(this._renderMode==="html"?"#fff":"none")};if(!ye(n))return{color:a||n.color||n.borderColor}},t.prototype._updatePosition=function(r,n,i,a,s,o,l){var c=this._api.getWidth(),u=this._api.getHeight();n=n||r.get("position");var h=s.getSize(),f=r.get("align"),p=r.get("verticalAlign"),g=l&&l.getBoundingRect().clone();if(l&&g.applyTransform(l.transform),lt(n)&&(n=n([i,a],o,s.el,g,{viewSize:[c,u],contentSize:h.slice()})),ye(n))i=Le(n[0],c),a=Le(n[1],u);else if(ft(n)){var v=n;v.width=h[0],v.height=h[1];var m=Si(v,{width:c,height:u});i=m.x,a=m.y,f=null,p=null}else if(We(n)&&l){var y=ZFe(n,g,h,r.get("borderWidth"));i=y[0],a=y[1]}else{var y=KFe(i,a,s,c,u,f?null:20,p?null:20);i=y[0],a=y[1]}if(f&&(i-=wG(f)?h[0]/2:f==="right"?h[0]:0),p&&(a-=wG(p)?h[1]/2:p==="bottom"?h[1]:0),Koe(r)){var y=XFe(i,a,s,c,u);i=y[0],a=y[1]}s.moveTo(i,a)},t.prototype._updateContentNotChangedOnAxis=function(r,n){var i=this._lastDataByCoordSys,a=this._cbParamsList,s=!!i&&i.length===r.length;return s&&V(i,function(o,l){var c=o.dataByAxis||[],u=r[l]||{},h=u.dataByAxis||[];s=s&&c.length===h.length,s&&V(c,function(f,p){var g=h[p]||{},v=f.seriesDataIndices||[],m=g.seriesDataIndices||[];s=s&&f.value===g.value&&f.axisType===g.axisType&&f.axisId===g.axisId&&v.length===m.length,s&&V(v,function(y,x){var _=m[x];s=s&&y.seriesIndex===_.seriesIndex&&y.dataIndex===_.dataIndex}),a&&V(f.seriesDataIndices,function(y){var x=y.seriesIndex,_=n[x],b=a[x];_&&b&&b.data!==_.data&&(s=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=n,!!s},t.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},t.prototype.dispose=function(r,n){tr.node||!n.getDom()||(jb(this,"_updatePosition"),this._tooltipContent.dispose(),JD("itemTooltip",n))},t.type="tooltip",t}(Bn);function ax(e,t,r){var n=t.ecModel,i;r?(i=new Vr(r,n,n),i=new Vr(t.option,i,n)):i=t;for(var a=e.length-1;a>=0;a--){var s=e[a];s&&(s instanceof Vr&&(s=s.get("tooltip",!0)),We(s)&&(s={formatter:s}),s&&(i=new Vr(s,i,n)))}return i}function bG(e,t){return e.dispatchAction||Ke(t.dispatchAction,t)}function KFe(e,t,r,n,i,a,s){var o=r.getSize(),l=o[0],c=o[1];return a!=null&&(e+l+a+2>n?e-=l+a:e+=a),s!=null&&(t+c+s>i?t-=c+s:t+=s),[e,t]}function XFe(e,t,r,n,i){var a=r.getSize(),s=a[0],o=a[1];return e=Math.min(e+s,n)-s,t=Math.min(t+o,i)-o,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function ZFe(e,t,r,n){var i=r[0],a=r[1],s=Math.ceil(Math.SQRT2*n)+8,o=0,l=0,c=t.width,u=t.height;switch(e){case"inside":o=t.x+c/2-i/2,l=t.y+u/2-a/2;break;case"top":o=t.x+c/2-i/2,l=t.y-a-s;break;case"bottom":o=t.x+c/2-i/2,l=t.y+u+s;break;case"left":o=t.x-i-s,l=t.y+u/2-a/2;break;case"right":o=t.x+c+s,l=t.y+u/2-a/2}return[o,l]}function wG(e){return e==="center"||e==="middle"}function JFe(e,t,r){var n=v4(e).queryOptionMap,i=n.keys()[0];if(!(!i||i==="series")){var a=Fw(t,i,n.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),s=a.models[0];if(s){var o=r.getViewOfComponentModel(s),l;if(o.group.traverse(function(c){var u=wt(c).tooltipConfig;if(u&&u.name===e.name)return l=c,!0}),l)return{componentMainType:i,componentIndex:s.componentIndex,el:l}}}}function QFe(e){Zt(a1),e.registerComponentModel(LFe),e.registerComponentView(YFe),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},ai),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},ai)}var e6e=["rect","polygon","keep","clear"];function t6e(e,t){var r=sn(e?e.brush:[]);if(r.length){var n=[];V(r,function(l){var c=l.hasOwnProperty("toolbox")?l.toolbox:[];c instanceof Array&&(n=n.concat(c))});var i=e&&e.toolbox;ye(i)&&(i=i[0]),i||(i={feature:{}},e.toolbox=[i]);var a=i.feature||(i.feature={}),s=a.brush||(a.brush={}),o=s.type||(s.type=[]);o.push.apply(o,n),r6e(o),t&&!o.length&&o.push.apply(o,e6e)}}function r6e(e){var t={};V(e,function(r){t[r]=1}),e.length=0,V(t,function(r,n){e.push(n)})}var SG=V;function CG(e){if(e){for(var t in e)if(e.hasOwnProperty(t))return!0}}function iO(e,t,r){var n={};return SG(t,function(a){var s=n[a]=i();SG(e[a],function(o,l){if(Mi.isValidType(l)){var c={type:l,visual:o};r&&r(c,a),s[l]=new Mi(c),l==="opacity"&&(c=vt(c),c.type="colorAlpha",s.__hidden.__alphaForOpacity=new Mi(c))}})}),n;function i(){var a=function(){};a.prototype.__hidden=a.prototype;var s=new a;return s}}function Qoe(e,t,r){var n;V(r,function(i){t.hasOwnProperty(i)&&CG(t[i])&&(n=!0)}),n&&V(r,function(i){t.hasOwnProperty(i)&&CG(t[i])?e[i]=vt(t[i]):delete e[i]})}function n6e(e,t,r,n,i,a){var s={};V(e,function(h){var f=Mi.prepareVisualTypes(t[h]);s[h]=f});var o;function l(h){return G4(r,o,h)}function c(h,f){_ie(r,o,h,f)}r.each(u);function u(h,f){o=h;var p=r.getRawDataItem(o);if(!(p&&p.visualMap===!1))for(var g=n.call(i,h),v=t[g],m=s[g],y=0,x=m.length;y<x;y++){var _=m[y];v[_]&&v[_].applyVisual(h,l,c)}}}function i6e(e,t,r,n){var i={};return V(e,function(a){var s=Mi.prepareVisualTypes(t[a]);i[a]=s}),{progress:function(s,o){var l;n!=null&&(l=o.getDimensionIndex(n));function c(w){return G4(o,h,w)}function u(w,S){_ie(o,h,w,S)}for(var h,f=o.getStore();(h=s.next())!=null;){var p=o.getRawDataItem(h);if(!(p&&p.visualMap===!1))for(var g=n!=null?f.get(l,h):h,v=r(g),m=t[v],y=i[v],x=0,_=y.length;x<_;x++){var b=y[x];m[b]&&m[b].applyVisual(g,c,u)}}}}}function a6e(e){var t=e.brushType,r={point:function(n){return kG[t].point(n,r,e)},rect:function(n){return kG[t].rect(n,r,e)}};return r}var kG={lineX:EG(0),lineY:EG(1),rect:{point:function(e,t,r){return e&&r.boundingRect.contain(e[0],e[1])},rect:function(e,t,r){return e&&r.boundingRect.intersect(e)}},polygon:{point:function(e,t,r){return e&&r.boundingRect.contain(e[0],e[1])&&If(r.range,e[0],e[1])},rect:function(e,t,r){var n=r.range;if(!e||n.length<=1)return!1;var i=e.x,a=e.y,s=e.width,o=e.height,l=n[0];if(If(n,i,a)||If(n,i+s,a)||If(n,i,a+o)||If(n,i+s,a+o)||Bt.create(e).contain(l[0],l[1])||Ux(i,a,i+s,a,n)||Ux(i,a,i,a+o,n)||Ux(i+s,a,i+s,a+o,n)||Ux(i,a+o,i+s,a+o,n))return!0}}};function EG(e){var t=["x","y"],r=["width","height"];return{point:function(n,i,a){if(n){var s=a.range,o=n[e];return sx(o,s)}},rect:function(n,i,a){if(n){var s=a.range,o=[n[t[e]],n[t[e]]+n[r[e]]];return o[1]<o[0]&&o.reverse(),sx(o[0],s)||sx(o[1],s)||sx(s[0],o)||sx(s[1],o)}}}}function sx(e,t){return t[0]<=e&&e<=t[1]}var TG=["inBrush","outOfBrush"],LI="__ecBrushSelect",aO="__ecInBrushSelectEvent";function ele(e){e.eachComponent({mainType:"brush"},function(t){var r=t.brushTargetManager=new tB(t.option,e);r.setInputRanges(t.areas,e)})}function s6e(e,t,r){var n=[],i,a;e.eachComponent({mainType:"brush"},function(s){r&&r.type==="takeGlobalCursor"&&s.setBrushOption(r.key==="brush"?r.brushOption:{brushType:!1})}),ele(e),e.eachComponent({mainType:"brush"},function(s,o){var l={brushId:s.id,brushIndex:o,brushName:s.name,areas:vt(s.areas),selected:[]};n.push(l);var c=s.option,u=c.brushLink,h=[],f=[],p=[],g=!1;o||(i=c.throttleType,a=c.throttleDelay);var v=_e(s.areas,function(w){var S=u6e[w.brushType],k=ut({boundingRect:S?S(w):void 0},w);return k.selectors=a6e(k),k}),m=iO(s.option,TG,function(w){w.mappingMethod="fixed"});ye(u)&&V(u,function(w){h[w]=1});function y(w){return u==="all"||!!h[w]}function x(w){return!!w.length}e.eachSeries(function(w,S){var k=p[S]=[];w.subType==="parallel"?_(w,S):b(w,S,k)});function _(w,S){var k=w.coordinateSystem;g=g||k.hasAxisBrushed(),y(S)&&k.eachActiveState(w.getData(),function(C,E){C==="active"&&(f[E]=1)})}function b(w,S,k){if(!(!w.brushSelector||c6e(s,S))&&(V(v,function(E){s.brushTargetManager.controlSeries(E,w,e)&&k.push(E),g=g||x(k)}),y(S)&&x(k))){var C=w.getData();C.each(function(E){NG(w,k,C,E)&&(f[E]=1)})}}e.eachSeries(function(w,S){var k={seriesId:w.id,seriesIndex:S,seriesName:w.name,dataIndex:[]};l.selected.push(k);var C=p[S],E=w.getData(),T=y(S)?function(N){return f[N]?(k.dataIndex.push(E.getRawIndex(N)),"inBrush"):"outOfBrush"}:function(N){return NG(w,C,E,N)?(k.dataIndex.push(E.getRawIndex(N)),"inBrush"):"outOfBrush"};(y(S)?g:x(C))&&n6e(TG,m,E,T)})}),o6e(t,i,a,n,r)}function o6e(e,t,r,n,i){if(i){var a=e.getZr();if(!a[aO]){a[LI]||(a[LI]=l6e);var s=C0(a,LI,r,t);s(e,n)}}}function l6e(e,t){if(!e.isDisposed()){var r=e.getZr();r[aO]=!0,e.dispatchAction({type:"brushSelect",batch:t}),r[aO]=!1}}function NG(e,t,r,n){for(var i=0,a=t.length;i<a;i++){var s=t[i];if(e.brushSelector(n,r,s.selectors,s))return!0}}function c6e(e,t){var r=e.option.seriesIndex;return r!=null&&r!=="all"&&(ye(r)?Wt(r,t)<0:t!==r)}var u6e={rect:function(e){return AG(e.range)},polygon:function(e){for(var t,r=e.range,n=0,i=r.length;n<i;n++){t=t||[[1/0,-1/0],[1/0,-1/0]];var a=r[n];a[0]<t[0][0]&&(t[0][0]=a[0]),a[0]>t[0][1]&&(t[0][1]=a[0]),a[1]<t[1][0]&&(t[1][0]=a[1]),a[1]>t[1][1]&&(t[1][1]=a[1])}return t&&AG(t)}};function AG(e){return new Bt(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var d6e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){this.ecModel=r,this.api=n,this.model,(this._brushController=new N$(n.getZr())).on("brush",Ke(this._onBrush,this)).mount()},t.prototype.render=function(r,n,i,a){this.model=r,this._updateController(r,n,i,a)},t.prototype.updateTransform=function(r,n,i,a){ele(n),this._updateController(r,n,i,a)},t.prototype.updateVisual=function(r,n,i,a){this.updateTransform(r,n,i,a)},t.prototype.updateView=function(r,n,i,a){this._updateController(r,n,i,a)},t.prototype._updateController=function(r,n,i,a){(!a||a.$from!==r.id)&&this._brushController.setPanels(r.brushTargetManager.makePanelOpts(i)).enableBrush(r.brushOption).updateCovers(r.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(r){var n=this.model.id,i=this.model.brushTargetManager.setOutputRanges(r.areas,this.ecModel);(!r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:vt(i),$from:n}),r.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:vt(i),$from:n})},t.type="brush",t}(Bn),h6e="#ddd",f6e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.areas=[],r.brushOption={},r}return t.prototype.optionUpdated=function(r,n){var i=this.option;!n&&Qoe(i,r,["inBrush","outOfBrush"]);var a=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:h6e},a.hasOwnProperty("liftZ")||(a.liftZ=5)},t.prototype.setAreas=function(r){r&&(this.areas=_e(r,function(n){return jG(this.option,n)},this))},t.prototype.setBrushOption=function(r){this.brushOption=jG(this.option,r),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(ir);function jG(e,t){return Pt({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new Vr(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}var p6e=["rect","polygon","lineX","lineY","keep","clear"],g6e=function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(r,n,i){var a,s,o;n.eachComponent({mainType:"brush"},function(l){a=l.brushType,s=l.brushOption.brushMode||"single",o=o||!!l.areas.length}),this._brushType=a,this._brushMode=s,V(r.get("type",!0),function(l){r.setIconStatus(l,(l==="keep"?s==="multiple":l==="clear"?o:l===a)?"emphasis":"normal")})},t.prototype.updateView=function(r,n,i){this.render(r,n,i)},t.prototype.getIcons=function(){var r=this.model,n=r.get("icon",!0),i={};return V(r.get("type",!0),function(a){n[a]&&(i[a]=n[a])}),i},t.prototype.onclick=function(r,n,i){var a=this._brushType,s=this._brushMode;i==="clear"?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:i==="keep"?a:a===i?!1:i,brushMode:i==="keep"?s==="multiple"?"single":"multiple":s}})},t.getDefaultOption=function(r){var n={show:!0,type:p6e.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:r.getLocaleModel().get(["toolbox","brush","title"])};return n},t}(yo);function m6e(e){e.registerComponentView(d6e),e.registerComponentModel(f6e),e.registerPreprocessor(t6e),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,s6e),e.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,r){r.eachComponent({mainType:"brush",query:t},function(n){n.setAreas(t.areas)})}),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},ai),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},ai),hm("brush",g6e)}var v6e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.layoutMode={type:"box",ignoreSize:!0},r}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(ir),y6e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){if(this.group.removeAll(),!!r.get("show")){var a=this.group,s=r.getModel("textStyle"),o=r.getModel("subtextStyle"),l=r.get("textAlign"),c=Et(r.get("textBaseline"),r.get("textVerticalAlign")),u=new kr({style:yn(s,{text:r.get("text"),fill:s.getTextColor()},{disableBox:!0}),z2:10}),h=u.getBoundingRect(),f=r.get("subtext"),p=new kr({style:yn(o,{text:f,fill:o.getTextColor(),y:h.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),g=r.get("link"),v=r.get("sublink"),m=r.get("triggerEvent",!0);u.silent=!g&&!m,p.silent=!v&&!m,g&&u.on("click",function(){oT(g,"_"+r.get("target"))}),v&&p.on("click",function(){oT(v,"_"+r.get("subtarget"))}),wt(u).eventData=wt(p).eventData=m?{componentType:"title",componentIndex:r.componentIndex}:null,a.add(u),f&&a.add(p);var y=a.getBoundingRect(),x=r.getBoxLayoutParams();x.width=y.width,x.height=y.height;var _=Si(x,{width:i.getWidth(),height:i.getHeight()},r.get("padding"));l||(l=r.get("left")||r.get("right"),l==="middle"&&(l="center"),l==="right"?_.x+=_.width:l==="center"&&(_.x+=_.width/2)),c||(c=r.get("top")||r.get("bottom"),c==="center"&&(c="middle"),c==="bottom"?_.y+=_.height:c==="middle"&&(_.y+=_.height/2),c=c||"top"),a.x=_.x,a.y=_.y,a.markRedraw();var b={align:l,verticalAlign:c};u.setStyle(b),p.setStyle(b),y=a.getBoundingRect();var w=_.margin,S=r.getItemStyle(["color","opacity"]);S.fill=r.get("backgroundColor");var k=new xr({shape:{x:y.x-w[3],y:y.y-w[0],width:y.width+w[1]+w[3],height:y.height+w[0]+w[2],r:r.get("borderRadius")},style:S,subPixelOptimize:!0,silent:!0});a.add(k)}},t.type="title",t}(Bn);function x6e(e){e.registerComponentModel(v6e),e.registerComponentView(y6e)}var RG=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.layoutMode="box",r}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i),this._initData()},t.prototype.mergeOption=function(r){e.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(r){r==null&&(r=this.option.currentIndex);var n=this._data.count();this.option.loop?r=(r%n+n)%n:(r>=n&&(r=n-1),r<0&&(r=0)),this.option.currentIndex=r},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(r){this.option.autoPlay=!!r},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var r=this.option,n=r.data||[],i=r.axisType,a=this._names=[],s;i==="category"?(s=[],V(n,function(c,u){var h=_i(g0(c),""),f;ft(c)?(f=vt(c),f.value=u):f=u,s.push(f),a.push(h)})):s=n;var o={category:"ordinal",time:"time",value:"number"}[i]||"number",l=this._data=new Ha([{name:"value",type:o}],this);l.initData(s,a)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(ir),tle=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="timeline.slider",t.defaultOption=Dh(RG.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(RG);pi(tle,I2.prototype);var _6e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="timeline",t}(Bn),b6e=function(e){ce(t,e);function t(r,n,i,a){var s=e.call(this,r,n,i)||this;return s.type=a||"value",s}return t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},t}(Sl),DI=Math.PI,IG=_r(),w6e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){this.api=n},t.prototype.render=function(r,n,i){if(this.model=r,this.api=i,this.ecModel=n,this.group.removeAll(),r.get("show",!0)){var a=this._layout(r,i),s=this._createGroup("_mainGroup"),o=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(a,r);r.formatTooltip=function(c){var u=l.scale.getLabel({value:c});return Li("nameValue",{noName:!0,value:u})},V(["AxisLine","AxisTick","Control","CurrentPointer"],function(c){this["_render"+c](a,s,l,r)},this),this._renderAxisLabel(a,o,l,r),this._position(a,r)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(r,n){var i=r.get(["label","position"]),a=r.get("orient"),s=C6e(r,n),o;i==null||i==="auto"?o=a==="horizontal"?s.y+s.height/2<n.getHeight()/2?"-":"+":s.x+s.width/2<n.getWidth()/2?"+":"-":We(i)?o={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][i]:o=i;var l={horizontal:"center",vertical:o>=0||o==="+"?"left":"right"},c={horizontal:o>=0||o==="+"?"top":"bottom",vertical:"middle"},u={horizontal:0,vertical:DI/2},h=a==="vertical"?s.height:s.width,f=r.getModel("controlStyle"),p=f.get("show",!0),g=p?f.get("itemSize"):0,v=p?f.get("itemGap"):0,m=g+v,y=r.get(["label","rotate"])||0;y=y*DI/180;var x,_,b,w=f.get("position",!0),S=p&&f.get("showPlayBtn",!0),k=p&&f.get("showPrevBtn",!0),C=p&&f.get("showNextBtn",!0),E=0,T=h;w==="left"||w==="bottom"?(S&&(x=[0,0],E+=m),k&&(_=[E,0],E+=m),C&&(b=[T-g,0],T-=m)):(S&&(x=[T-g,0],T-=m),k&&(_=[0,0],E+=m),C&&(b=[T-g,0],T-=m));var N=[E,T];return r.get("inverse")&&N.reverse(),{viewRect:s,mainLength:h,orient:a,rotation:u[a],labelRotation:y,labelPosOpt:o,labelAlign:r.get(["label","align"])||l[a],labelBaseline:r.get(["label","verticalAlign"])||r.get(["label","baseline"])||c[a],playPosition:x,prevBtnPosition:_,nextBtnPosition:b,axisExtent:N,controlSize:g,controlGap:v}},t.prototype._position=function(r,n){var i=this._mainGroup,a=this._labelGroup,s=r.viewRect;if(r.orient==="vertical"){var o=$s(),l=s.x,c=s.y+s.height;xc(o,o,[-l,-c]),Jp(o,o,-DI/2),xc(o,o,[l,c]),s=s.clone(),s.applyTransform(o)}var u=x(s),h=x(i.getBoundingRect()),f=x(a.getBoundingRect()),p=[i.x,i.y],g=[a.x,a.y];g[0]=p[0]=u[0][0];var v=r.labelPosOpt;if(v==null||We(v)){var m=v==="+"?0:1;_(p,h,u,1,m),_(g,f,u,1,1-m)}else{var m=v>=0?0:1;_(p,h,u,1,m),g[1]=p[1]+v}i.setPosition(p),a.setPosition(g),i.rotation=a.rotation=r.rotation,y(i),y(a);function y(b){b.originX=u[0][0]-b.x,b.originY=u[1][0]-b.y}function x(b){return[[b.x,b.x+b.width],[b.y,b.y+b.height]]}function _(b,w,S,k,C){b[k]+=S[k][C]-w[k][C]}},t.prototype._createAxis=function(r,n){var i=n.getData(),a=n.get("axisType"),s=S6e(n,a);s.getTicks=function(){return i.mapArray(["value"],function(c){return{value:c}})};var o=i.getDataExtent("value");s.setExtent(o[0],o[1]),s.calcNiceTicks();var l=new b6e("value",s,r.axisExtent,a);return l.model=n,l},t.prototype._createGroup=function(r){var n=this[r]=new _t;return this.group.add(n),n},t.prototype._renderAxisLine=function(r,n,i,a){var s=i.getExtent();if(a.get(["lineStyle","show"])){var o=new Ri({shape:{x1:s[0],y1:0,x2:s[1],y2:0},style:pe({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});n.add(o);var l=this._progressLine=new Ri({shape:{x1:s[0],x2:this._currentPointer?this._currentPointer.x:s[0],y1:0,y2:0},style:ut({lineCap:"round",lineWidth:o.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});n.add(l)}},t.prototype._renderAxisTick=function(r,n,i,a){var s=this,o=a.getData(),l=i.scale.getTicks();this._tickSymbols=[],V(l,function(c){var u=i.dataToCoord(c.value),h=o.getItemModel(c.value),f=h.getModel("itemStyle"),p=h.getModel(["emphasis","itemStyle"]),g=h.getModel(["progress","itemStyle"]),v={x:u,y:0,onclick:Ke(s._changeTimeline,s,c.value)},m=MG(h,f,n,v);m.ensureState("emphasis").style=p.getItemStyle(),m.ensureState("progress").style=g.getItemStyle(),dp(m);var y=wt(m);h.get("tooltip")?(y.dataIndex=c.value,y.dataModel=a):y.dataIndex=y.dataModel=null,s._tickSymbols.push(m)})},t.prototype._renderAxisLabel=function(r,n,i,a){var s=this,o=i.getLabelModel();if(o.get("show")){var l=a.getData(),c=i.getViewLabels();this._tickLabels=[],V(c,function(u){var h=u.tickValue,f=l.getItemModel(h),p=f.getModel("label"),g=f.getModel(["emphasis","label"]),v=f.getModel(["progress","label"]),m=i.dataToCoord(u.tickValue),y=new kr({x:m,y:0,rotation:r.labelRotation-r.rotation,onclick:Ke(s._changeTimeline,s,h),silent:!1,style:yn(p,{text:u.formattedLabel,align:r.labelAlign,verticalAlign:r.labelBaseline})});y.ensureState("emphasis").style=yn(g),y.ensureState("progress").style=yn(v),n.add(y),dp(y),IG(y).dataIndex=h,s._tickLabels.push(y)})}},t.prototype._renderControl=function(r,n,i,a){var s=r.controlSize,o=r.rotation,l=a.getModel("controlStyle").getItemStyle(),c=a.getModel(["emphasis","controlStyle"]).getItemStyle(),u=a.getPlayState(),h=a.get("inverse",!0);f(r.nextBtnPosition,"next",Ke(this._changeTimeline,this,h?"-":"+")),f(r.prevBtnPosition,"prev",Ke(this._changeTimeline,this,h?"+":"-")),f(r.playPosition,u?"stop":"play",Ke(this._handlePlayClick,this,!u),!0);function f(p,g,v,m){if(p){var y=pl(Et(a.get(["controlStyle",g+"BtnSize"]),s),s),x=[0,-y/2,y,y],_=k6e(a,g+"Icon",x,{x:p[0],y:p[1],originX:s/2,originY:0,rotation:m?-o:0,rectHover:!0,style:l,onclick:v});_.ensureState("emphasis").style=c,n.add(_),dp(_)}}},t.prototype._renderCurrentPointer=function(r,n,i,a){var s=a.getData(),o=a.getCurrentIndex(),l=s.getItemModel(o).getModel("checkpointStyle"),c=this,u={onCreate:function(h){h.draggable=!0,h.drift=Ke(c._handlePointerDrag,c),h.ondragend=Ke(c._handlePointerDragend,c),PG(h,c._progressLine,o,i,a,!0)},onUpdate:function(h){PG(h,c._progressLine,o,i,a)}};this._currentPointer=MG(l,l,this._mainGroup,{},this._currentPointer,u)},t.prototype._handlePlayClick=function(r){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:r,from:this.uid})},t.prototype._handlePointerDrag=function(r,n,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},t.prototype._handlePointerDragend=function(r){this._pointerChangeTimeline([r.offsetX,r.offsetY],!0)},t.prototype._pointerChangeTimeline=function(r,n){var i=this._toAxisCoord(r)[0],a=this._axis,s=ko(a.getExtent().slice());i>s[1]&&(i=s[1]),i<s[0]&&(i=s[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var o=this._progressLine;o&&(o.shape.x2=i,o.dirty());var l=this._findNearestTick(i),c=this.model;(n||l!==c.getCurrentIndex()&&c.get("realtime"))&&this._changeTimeline(l)},t.prototype._doPlayStop=function(){var r=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var n=r.model;r._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(r){var n=this._mainGroup.getLocalTransform();return cl(r,n,!0)},t.prototype._findNearestTick=function(r){var n=this.model.getData(),i=1/0,a,s=this._axis;return n.each(["value"],function(o,l){var c=s.dataToCoord(o),u=Math.abs(c-r);u<i&&(i=u,a=l)}),a},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(r){var n=this.model.getCurrentIndex();r==="+"?r=n+1:r==="-"&&(r=n-1),this.api.dispatchAction({type:"timelineChange",currentIndex:r,from:this.uid})},t.prototype._updateTicksStatus=function(){var r=this.model.getCurrentIndex(),n=this._tickSymbols,i=this._tickLabels;if(n)for(var a=0;a<n.length;a++)n&&n[a]&&n[a].toggleState("progress",a<r);if(i)for(var a=0;a<i.length;a++)i&&i[a]&&i[a].toggleState("progress",IG(i[a]).dataIndex<=r)},t.type="timeline.slider",t}(_6e);function S6e(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new $2({ordinalMeta:e.getCategories(),extent:[1/0,-1/0]});case"time":return new e$({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new Au}}function C6e(e,t){return Si(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}function k6e(e,t,r,n){var i=n.style,a=Gw(e.get(["controlStyle",t]),n||{},new Bt(r[0],r[1],r[2],r[3]));return i&&a.setStyle(i),a}function MG(e,t,r,n,i,a){var s=t.get("color");if(i)i.setColor(s),r.add(i),a&&a.onUpdate(i);else{var o=e.get("symbol");i=fi(o,-1,-1,2,2,s),i.setStyle("strokeNoScale",!0),r.add(i),a&&a.onCreate(i)}var l=t.getItemStyle(["color"]);i.setStyle(l),n=Pt({rectHover:!0,z2:100},n,!0);var c=k0(e.get("symbolSize"));n.scaleX=c[0]/2,n.scaleY=c[1]/2;var u=tg(e.get("symbolOffset"),c);u&&(n.x=(n.x||0)+u[0],n.y=(n.y||0)+u[1]);var h=e.get("symbolRotate");return n.rotation=(h||0)*Math.PI/180||0,i.attr(n),i.updateTransform(),i}function PG(e,t,r,n,i,a){if(!e.dragging){var s=i.getModel("checkpointStyle"),o=n.dataToCoord(i.getData().get("value",r));if(a||!s.get("animation",!0))e.attr({x:o,y:0}),t&&t.attr({shape:{x2:o}});else{var l={duration:s.get("animationDuration",!0),easing:s.get("animationEasing",!0)};e.stopAnimation(null,!0),e.animateTo({x:o,y:0},l),t&&t.animateTo({shape:{x2:o}},l)}}}function E6e(e){e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,r,n){var i=r.getComponent("timeline");return i&&t.currentIndex!=null&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),r.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),ut({currentIndex:i.option.currentIndex},t)}),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,r){var n=r.getComponent("timeline");n&&t.playState!=null&&n.setPlayState(t.playState)})}function T6e(e){var t=e&&e.timeline;ye(t)||(t=t?[t]:[]),V(t,function(r){r&&N6e(r)})}function N6e(e){var t=e.type,r={number:"value",time:"time"};if(r[t]&&(e.axisType=r[t],delete e.type),LG(e),Lf(e,"controlPosition")){var n=e.controlStyle||(e.controlStyle={});Lf(n,"position")||(n.position=e.controlPosition),n.position==="none"&&!Lf(n,"show")&&(n.show=!1,delete n.position),delete e.controlPosition}V(e.data||[],function(i){ft(i)&&!ye(i)&&(!Lf(i,"value")&&Lf(i,"name")&&(i.value=i.name),LG(i))})}function LG(e){var t=e.itemStyle||(e.itemStyle={}),r=t.emphasis||(t.emphasis={}),n=e.label||e.label||{},i=n.normal||(n.normal={}),a={normal:1,emphasis:1};V(n,function(s,o){!a[o]&&!Lf(i,o)&&(i[o]=s)}),r.label&&!Lf(n,"emphasis")&&(n.emphasis=r.label,delete r.label)}function Lf(e,t){return e.hasOwnProperty(t)}function A6e(e){e.registerComponentModel(tle),e.registerComponentView(w6e),e.registerSubTypeDefaulter("timeline",function(){return"slider"}),E6e(e),e.registerPreprocessor(T6e)}function iB(e,t){if(!e)return!1;for(var r=ye(e)?e:[e],n=0;n<r.length;n++)if(r[n]&&r[n][t])return!0;return!1}function wC(e){Np(e,"label",["show"])}var SC=_r(),Ru=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.createdBySelf=!1,r}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i),this._mergeOption(r,i,!1,!0)},t.prototype.isAnimationEnabled=function(){if(tr.node)return!1;var r=this.__hostSeries;return this.getShallow("animation")&&r&&r.isAnimationEnabled()},t.prototype.mergeOption=function(r,n){this._mergeOption(r,n,!1,!1)},t.prototype._mergeOption=function(r,n,i,a){var s=this.mainType;i||n.eachSeries(function(o){var l=o.get(this.mainType,!0),c=SC(o)[s];if(!l||!l.data){SC(o)[s]=null;return}c?c._mergeOption(l,n,!0):(a&&wC(l),V(l.data,function(u){u instanceof Array?(wC(u[0]),wC(u[1])):wC(u)}),c=this.createMarkerModelFromSeries(l,this,n),pe(c,{mainType:this.mainType,seriesIndex:o.seriesIndex,name:o.name,createdBySelf:!0}),c.__hostSeries=o),SC(o)[s]=c},this)},t.prototype.formatTooltip=function(r,n,i){var a=this.getData(),s=this.getRawValue(r),o=a.getName(r);return Li("section",{header:this.name,blocks:[Li("nameValue",{name:o,value:s,noName:!o,noValue:s==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(r){this._data=r},t.prototype.getDataParams=function(r,n){var i=I2.prototype.getDataParams.call(this,r,n),a=this.__hostSeries;return a&&(i.seriesId=a.id,i.seriesName=a.name,i.seriesType=a.subType),i},t.getMarkerModelFromSeries=function(r,n){return SC(r)[n]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(ir);pi(Ru,I2.prototype);var j6e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.createMarkerModelFromSeries=function(r,n,i){return new t(r,n,i)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(Ru);function sO(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function R6e(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function CC(e,t,r,n,i,a){var s=[],o=gh(t,n),l=o?t.getCalculationInfo("stackResultDimension"):n,c=aB(t,l,e),u=t.indicesOfNearest(l,c)[0];s[i]=t.get(r,u),s[a]=t.get(l,u);var h=t.get(n,u),f=Ql(t.get(n,u));return f=Math.min(f,20),f>=0&&(s[a]=+s[a].toFixed(f)),[s,h]}var OI={min:At(CC,"min"),max:At(CC,"max"),average:At(CC,"average"),median:At(CC,"median")};function Vb(e,t){if(t){var r=e.getData(),n=e.coordinateSystem,i=n&&n.dimensions;if(!R6e(t)&&!ye(t.coord)&&ye(i)){var a=rle(t,r,n,e);if(t=vt(t),t.type&&OI[t.type]&&a.baseAxis&&a.valueAxis){var s=Wt(i,a.baseAxis.dim),o=Wt(i,a.valueAxis.dim),l=OI[t.type](r,a.baseDataDim,a.valueDataDim,s,o);t.coord=l[0],t.value=l[1]}else t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}if(t.coord==null||!ye(i))t.coord=[];else for(var c=t.coord,u=0;u<2;u++)OI[c[u]]&&(c[u]=aB(r,r.mapDimension(i[u]),c[u]));return t}}function rle(e,t,r,n){var i={};return e.valueIndex!=null||e.valueDim!=null?(i.valueDataDim=e.valueIndex!=null?t.getDimension(e.valueIndex):e.valueDim,i.valueAxis=r.getAxis(I6e(n,i.valueDataDim)),i.baseAxis=r.getOtherAxis(i.valueAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim)):(i.baseAxis=n.getBaseAxis(),i.valueAxis=r.getOtherAxis(i.baseAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim),i.valueDataDim=t.mapDimension(i.valueAxis.dim)),i}function I6e(e,t){var r=e.getData().getDimensionInfo(t);return r&&r.coordDim}function Wb(e,t){return e&&e.containData&&t.coord&&!sO(t)?e.containData(t.coord):!0}function M6e(e,t,r){return e&&e.containZone&&t.coord&&r.coord&&!sO(t)&&!sO(r)?e.containZone(t.coord,r.coord):!0}function nle(e,t){return e?function(r,n,i,a){var s=a<2?r.coord&&r.coord[a]:r.value;return rh(s,t[a])}:function(r,n,i,a){return rh(r.value,t[a])}}function aB(e,t,r){if(r==="average"){var n=0,i=0;return e.each(t,function(a,s){isNaN(a)||(n+=a,i++)}),n/i}else return r==="median"?e.getMedian(t):e.getDataExtent(t)[r==="max"?1:0]}var $I=_r(),sB=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){this.markerGroupMap=Qe()},t.prototype.render=function(r,n,i){var a=this,s=this.markerGroupMap;s.each(function(o){$I(o).keep=!1}),n.eachSeries(function(o){var l=Ru.getMarkerModelFromSeries(o,a.type);l&&a.renderSeries(o,l,n,i)}),s.each(function(o){!$I(o).keep&&a.group.remove(o.group)})},t.prototype.markKeep=function(r){$I(r).keep=!0},t.prototype.toggleBlurSeries=function(r,n){var i=this;V(r,function(a){var s=Ru.getMarkerModelFromSeries(a,i.type);if(s){var o=s.getData();o.eachItemGraphicEl(function(l){l&&(n?Yre(l):C4(l))})}})},t.type="marker",t}(Bn);function DG(e,t,r){var n=t.coordinateSystem;e.each(function(i){var a=e.getItemModel(i),s,o=Le(a.get("x"),r.getWidth()),l=Le(a.get("y"),r.getHeight());if(!isNaN(o)&&!isNaN(l))s=[o,l];else if(t.getMarkerPosition)s=t.getMarkerPosition(e.getValues(e.dimensions,i));else if(n){var c=e.get(n.dimensions[0],i),u=e.get(n.dimensions[1],i);s=n.dataToPoint([c,u])}isNaN(o)||(s[0]=o),isNaN(l)||(s[1]=l),e.setItemLayout(i,s)})}var P6e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.updateTransform=function(r,n,i){n.eachSeries(function(a){var s=Ru.getMarkerModelFromSeries(a,"markPoint");s&&(DG(s.getData(),a,i),this.markerGroupMap.get(a.id).updateLayout())},this)},t.prototype.renderSeries=function(r,n,i,a){var s=r.coordinateSystem,o=r.id,l=r.getData(),c=this.markerGroupMap,u=c.get(o)||c.set(o,new Jw),h=L6e(s,r,n);n.setData(h),DG(n.getData(),r,a),h.each(function(f){var p=h.getItemModel(f),g=p.getShallow("symbol"),v=p.getShallow("symbolSize"),m=p.getShallow("symbolRotate"),y=p.getShallow("symbolOffset"),x=p.getShallow("symbolKeepAspect");if(lt(g)||lt(v)||lt(m)||lt(y)){var _=n.getRawValue(f),b=n.getDataParams(f);lt(g)&&(g=g(_,b)),lt(v)&&(v=v(_,b)),lt(m)&&(m=m(_,b)),lt(y)&&(y=y(_,b))}var w=p.getModel("itemStyle").getItemStyle(),S=Yw(l,"color");w.fill||(w.fill=S),h.setItemVisual(f,{symbol:g,symbolSize:v,symbolRotate:m,symbolOffset:y,symbolKeepAspect:x,style:w})}),u.updateData(h),this.group.add(u.group),h.eachItemGraphicEl(function(f){f.traverse(function(p){wt(p).dataModel=n})}),this.markKeep(u),u.group.silent=n.get("silent")||r.get("silent")},t.type="markPoint",t}(sB);function L6e(e,t,r){var n;e?n=_e(e&&e.dimensions,function(o){var l=t.getData().getDimensionInfo(t.getData().mapDimension(o))||{};return pe(pe({},l),{name:o,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new Ha(n,r),a=_e(r.get("data"),At(Vb,t));e&&(a=Br(a,At(Wb,e)));var s=nle(!!e,n);return i.initData(a,null,s),i}function D6e(e){e.registerComponentModel(j6e),e.registerComponentView(P6e),e.registerPreprocessor(function(t){iB(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}var O6e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.createMarkerModelFromSeries=function(r,n,i){return new t(r,n,i)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(Ru),kC=_r(),$6e=function(e,t,r,n){var i=e.getData(),a;if(ye(n))a=n;else{var s=n.type;if(s==="min"||s==="max"||s==="average"||s==="median"||n.xAxis!=null||n.yAxis!=null){var o=void 0,l=void 0;if(n.yAxis!=null||n.xAxis!=null)o=t.getAxis(n.yAxis!=null?"y":"x"),l=Ui(n.yAxis,n.xAxis);else{var c=rle(n,i,t,e);o=c.valueAxis;var u=Kie(i,c.valueDataDim);l=aB(i,u,s)}var h=o.dim==="x"?0:1,f=1-h,p=vt(n),g={coord:[]};p.type=null,p.coord=[],p.coord[f]=-1/0,g.coord[f]=1/0;var v=r.get("precision");v>=0&&Nr(l)&&(l=+l.toFixed(Math.min(v,20))),p.coord[h]=g.coord[h]=l,a=[p,g,{type:s,valueIndex:n.valueIndex,value:l}]}else a=[]}var m=[Vb(e,a[0]),Vb(e,a[1]),pe({},a[2])];return m[2].type=m[2].type||null,Pt(m[2],m[0]),Pt(m[2],m[1]),m};function IT(e){return!isNaN(e)&&!isFinite(e)}function OG(e,t,r,n){var i=1-e,a=n.dimensions[e];return IT(t[i])&&IT(r[i])&&t[e]===r[e]&&n.getAxis(a).containData(t[e])}function B6e(e,t){if(e.type==="cartesian2d"){var r=t[0].coord,n=t[1].coord;if(r&&n&&(OG(1,r,n,e)||OG(0,r,n,e)))return!0}return Wb(e,t[0])&&Wb(e,t[1])}function BI(e,t,r,n,i){var a=n.coordinateSystem,s=e.getItemModel(t),o,l=Le(s.get("x"),i.getWidth()),c=Le(s.get("y"),i.getHeight());if(!isNaN(l)&&!isNaN(c))o=[l,c];else{if(n.getMarkerPosition)o=n.getMarkerPosition(e.getValues(e.dimensions,t));else{var u=a.dimensions,h=e.get(u[0],t),f=e.get(u[1],t);o=a.dataToPoint([h,f])}if(ng(a,"cartesian2d")){var p=a.getAxis("x"),g=a.getAxis("y"),u=a.dimensions;IT(e.get(u[0],t))?o[0]=p.toGlobalCoord(p.getExtent()[r?0:1]):IT(e.get(u[1],t))&&(o[1]=g.toGlobalCoord(g.getExtent()[r?0:1]))}isNaN(l)||(o[0]=l),isNaN(c)||(o[1]=c)}e.setItemLayout(t,o)}var F6e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.updateTransform=function(r,n,i){n.eachSeries(function(a){var s=Ru.getMarkerModelFromSeries(a,"markLine");if(s){var o=s.getData(),l=kC(s).from,c=kC(s).to;l.each(function(u){BI(l,u,!0,a,i),BI(c,u,!1,a,i)}),o.each(function(u){o.setItemLayout(u,[l.getItemLayout(u),c.getItemLayout(u)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},t.prototype.renderSeries=function(r,n,i,a){var s=r.coordinateSystem,o=r.id,l=r.getData(),c=this.markerGroupMap,u=c.get(o)||c.set(o,new T$);this.group.add(u.group);var h=z6e(s,r,n),f=h.from,p=h.to,g=h.line;kC(n).from=f,kC(n).to=p,n.setData(g);var v=n.get("symbol"),m=n.get("symbolSize"),y=n.get("symbolRotate"),x=n.get("symbolOffset");ye(v)||(v=[v,v]),ye(m)||(m=[m,m]),ye(y)||(y=[y,y]),ye(x)||(x=[x,x]),h.from.each(function(b){_(f,b,!0),_(p,b,!1)}),g.each(function(b){var w=g.getItemModel(b).getModel("lineStyle").getLineStyle();g.setItemLayout(b,[f.getItemLayout(b),p.getItemLayout(b)]),w.stroke==null&&(w.stroke=f.getItemVisual(b,"style").fill),g.setItemVisual(b,{fromSymbolKeepAspect:f.getItemVisual(b,"symbolKeepAspect"),fromSymbolOffset:f.getItemVisual(b,"symbolOffset"),fromSymbolRotate:f.getItemVisual(b,"symbolRotate"),fromSymbolSize:f.getItemVisual(b,"symbolSize"),fromSymbol:f.getItemVisual(b,"symbol"),toSymbolKeepAspect:p.getItemVisual(b,"symbolKeepAspect"),toSymbolOffset:p.getItemVisual(b,"symbolOffset"),toSymbolRotate:p.getItemVisual(b,"symbolRotate"),toSymbolSize:p.getItemVisual(b,"symbolSize"),toSymbol:p.getItemVisual(b,"symbol"),style:w})}),u.updateData(g),h.line.eachItemGraphicEl(function(b){wt(b).dataModel=n,b.traverse(function(w){wt(w).dataModel=n})});function _(b,w,S){var k=b.getItemModel(w);BI(b,w,S,r,a);var C=k.getModel("itemStyle").getItemStyle();C.fill==null&&(C.fill=Yw(l,"color")),b.setItemVisual(w,{symbolKeepAspect:k.get("symbolKeepAspect"),symbolOffset:Et(k.get("symbolOffset",!0),x[S?0:1]),symbolRotate:Et(k.get("symbolRotate",!0),y[S?0:1]),symbolSize:Et(k.get("symbolSize"),m[S?0:1]),symbol:Et(k.get("symbol",!0),v[S?0:1]),style:C})}this.markKeep(u),u.group.silent=n.get("silent")||r.get("silent")},t.type="markLine",t}(sB);function z6e(e,t,r){var n;e?n=_e(e&&e.dimensions,function(c){var u=t.getData().getDimensionInfo(t.getData().mapDimension(c))||{};return pe(pe({},u),{name:c,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new Ha(n,r),a=new Ha(n,r),s=new Ha([],r),o=_e(r.get("data"),At($6e,t,e,r));e&&(o=Br(o,At(B6e,e)));var l=nle(!!e,n);return i.initData(_e(o,function(c){return c[0]}),null,l),a.initData(_e(o,function(c){return c[1]}),null,l),s.initData(_e(o,function(c){return c[2]})),s.hasItemOption=!0,{from:i,to:a,line:s}}function U6e(e){e.registerComponentModel(O6e),e.registerComponentView(F6e),e.registerPreprocessor(function(t){iB(t.series,"markLine")&&(t.markLine=t.markLine||{})})}var H6e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.createMarkerModelFromSeries=function(r,n,i){return new t(r,n,i)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(Ru),EC=_r(),V6e=function(e,t,r,n){var i=n[0],a=n[1];if(!(!i||!a)){var s=Vb(e,i),o=Vb(e,a),l=s.coord,c=o.coord;l[0]=Ui(l[0],-1/0),l[1]=Ui(l[1],-1/0),c[0]=Ui(c[0],1/0),c[1]=Ui(c[1],1/0);var u=s4([{},s,o]);return u.coord=[s.coord,o.coord],u.x0=s.x,u.y0=s.y,u.x1=o.x,u.y1=o.y,u}};function MT(e){return!isNaN(e)&&!isFinite(e)}function $G(e,t,r,n){var i=1-e;return MT(t[i])&&MT(r[i])}function W6e(e,t){var r=t.coord[0],n=t.coord[1],i={coord:r,x:t.x0,y:t.y0},a={coord:n,x:t.x1,y:t.y1};return ng(e,"cartesian2d")?r&&n&&($G(1,r,n)||$G(0,r,n))?!0:M6e(e,i,a):Wb(e,i)||Wb(e,a)}function BG(e,t,r,n,i){var a=n.coordinateSystem,s=e.getItemModel(t),o,l=Le(s.get(r[0]),i.getWidth()),c=Le(s.get(r[1]),i.getHeight());if(!isNaN(l)&&!isNaN(c))o=[l,c];else{if(n.getMarkerPosition){var u=e.getValues(["x0","y0"],t),h=e.getValues(["x1","y1"],t),f=a.clampData(u),p=a.clampData(h),g=[];r[0]==="x0"?g[0]=f[0]>p[0]?h[0]:u[0]:g[0]=f[0]>p[0]?u[0]:h[0],r[1]==="y0"?g[1]=f[1]>p[1]?h[1]:u[1]:g[1]=f[1]>p[1]?u[1]:h[1],o=n.getMarkerPosition(g,r,!0)}else{var v=e.get(r[0],t),m=e.get(r[1],t),y=[v,m];a.clampData&&a.clampData(y,y),o=a.dataToPoint(y,!0)}if(ng(a,"cartesian2d")){var x=a.getAxis("x"),_=a.getAxis("y"),v=e.get(r[0],t),m=e.get(r[1],t);MT(v)?o[0]=x.toGlobalCoord(x.getExtent()[r[0]==="x0"?0:1]):MT(m)&&(o[1]=_.toGlobalCoord(_.getExtent()[r[1]==="y0"?0:1]))}isNaN(l)||(o[0]=l),isNaN(c)||(o[1]=c)}return o}var FG=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],G6e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.updateTransform=function(r,n,i){n.eachSeries(function(a){var s=Ru.getMarkerModelFromSeries(a,"markArea");if(s){var o=s.getData();o.each(function(l){var c=_e(FG,function(h){return BG(o,l,h,a,i)});o.setItemLayout(l,c);var u=o.getItemGraphicEl(l);u.setShape("points",c)})}},this)},t.prototype.renderSeries=function(r,n,i,a){var s=r.coordinateSystem,o=r.id,l=r.getData(),c=this.markerGroupMap,u=c.get(o)||c.set(o,{group:new _t});this.group.add(u.group),this.markKeep(u);var h=q6e(s,r,n);n.setData(h),h.each(function(f){var p=_e(FG,function(C){return BG(h,f,C,r,a)}),g=s.getAxis("x").scale,v=s.getAxis("y").scale,m=g.getExtent(),y=v.getExtent(),x=[g.parse(h.get("x0",f)),g.parse(h.get("x1",f))],_=[v.parse(h.get("y0",f)),v.parse(h.get("y1",f))];ko(x),ko(_);var b=!(m[0]>x[1]||m[1]<x[0]||y[0]>_[1]||y[1]<_[0]),w=!b;h.setItemLayout(f,{points:p,allClipped:w});var S=h.getItemModel(f).getModel("itemStyle").getItemStyle(),k=Yw(l,"color");S.fill||(S.fill=k,We(S.fill)&&(S.fill=KE(S.fill,.4))),S.stroke||(S.stroke=k),h.setItemVisual(f,"style",S)}),h.diff(EC(u).data).add(function(f){var p=h.getItemLayout(f);if(!p.allClipped){var g=new Ya({shape:{points:p.points}});h.setItemGraphicEl(f,g),u.group.add(g)}}).update(function(f,p){var g=EC(u).data.getItemGraphicEl(p),v=h.getItemLayout(f);v.allClipped?g&&u.group.remove(g):(g?Rr(g,{shape:{points:v.points}},n,f):g=new Ya({shape:{points:v.points}}),h.setItemGraphicEl(f,g),u.group.add(g))}).remove(function(f){var p=EC(u).data.getItemGraphicEl(f);u.group.remove(p)}).execute(),h.eachItemGraphicEl(function(f,p){var g=h.getItemModel(p),v=h.getItemVisual(p,"style");f.useStyle(h.getItemVisual(p,"style")),ra(f,Pi(g),{labelFetcher:n,labelDataIndex:p,defaultText:h.getName(p)||"",inheritColor:We(v.fill)?KE(v.fill,1):"#000"}),ta(f,g),Wn(f,null,null,g.get(["emphasis","disabled"])),wt(f).dataModel=n}),EC(u).data=h,u.group.silent=n.get("silent")||r.get("silent")},t.type="markArea",t}(sB);function q6e(e,t,r){var n,i,a=["x0","y0","x1","y1"];if(e){var s=_e(e&&e.dimensions,function(c){var u=t.getData(),h=u.getDimensionInfo(u.mapDimension(c))||{};return pe(pe({},h),{name:c,ordinalMeta:null})});i=_e(a,function(c,u){return{name:c,type:s[u%2].type}}),n=new Ha(i,r)}else i=[{name:"value",type:"float"}],n=new Ha(i,r);var o=_e(r.get("data"),At(V6e,t,e,r));e&&(o=Br(o,At(W6e,e)));var l=e?function(c,u,h,f){var p=c.coord[Math.floor(f/2)][f%2];return rh(p,i[f])}:function(c,u,h,f){return rh(c.value,i[f])};return n.initData(o,null,l),n.hasItemOption=!0,n}function Y6e(e){e.registerComponentModel(H6e),e.registerComponentView(G6e),e.registerPreprocessor(function(t){iB(t.series,"markArea")&&(t.markArea=t.markArea||{})})}var K6e=function(e,t){if(t==="all")return{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}},oO=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.layoutMode={type:"box",ignoreSize:!0},r}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i),r.selected=r.selected||{},this._updateSelector(r)},t.prototype.mergeOption=function(r,n){e.prototype.mergeOption.call(this,r,n),this._updateSelector(r)},t.prototype._updateSelector=function(r){var n=r.selector,i=this.ecModel;n===!0&&(n=r.selector=["all","inverse"]),ye(n)&&V(n,function(a,s){We(a)&&(a={type:a}),n[s]=Pt(a,K6e(i,a.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var r=this._data;if(r[0]&&this.get("selectedMode")==="single"){for(var n=!1,i=0;i<r.length;i++){var a=r[i].get("name");if(this.isSelected(a)){this.select(a),n=!0;break}}!n&&this.select(r[0].get("name"))}},t.prototype._updateData=function(r){var n=[],i=[];r.eachRawSeries(function(l){var c=l.name;i.push(c);var u;if(l.legendVisualProvider){var h=l.legendVisualProvider,f=h.getAllNames();r.isSeriesFiltered(l)||(i=i.concat(f)),f.length?n=n.concat(f):u=!0}else u=!0;u&&m4(l)&&n.push(l.name)}),this._availableNames=i;var a=this.get("data")||n,s=Qe(),o=_e(a,function(l){return(We(l)||Nr(l))&&(l={name:l}),s.get(l.name)?null:(s.set(l.name,!0),new Vr(l,this,this.ecModel))},this);this._data=Br(o,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(r){var n=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;V(a,function(s){n[s.get("name")]=!1})}n[r]=!0},t.prototype.unSelect=function(r){this.get("selectedMode")!=="single"&&(this.option.selected[r]=!1)},t.prototype.toggleSelected=function(r){var n=this.option.selected;n.hasOwnProperty(r)||(n[r]=!0),this[n[r]?"unSelect":"select"](r)},t.prototype.allSelect=function(){var r=this._data,n=this.option.selected;V(r,function(i){n[i.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var r=this._data,n=this.option.selected;V(r,function(i){var a=i.get("name",!0);n.hasOwnProperty(a)||(n[a]=!0),n[a]=!n[a]})},t.prototype.isSelected=function(r){var n=this.option.selected;return!(n.hasOwnProperty(r)&&!n[r])&&Wt(this._availableNames,r)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(ir),Hg=At,lO=V,TC=_t,ile=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.newlineDisabled=!1,r}return t.prototype.init=function(){this.group.add(this._contentGroup=new TC),this.group.add(this._selectorGroup=new TC),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(r,n,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!r.get("show",!0)){var s=r.get("align"),o=r.get("orient");(!s||s==="auto")&&(s=r.get("left")==="right"&&o==="vertical"?"right":"left");var l=r.get("selector",!0),c=r.get("selectorPosition",!0);l&&(!c||c==="auto")&&(c=o==="horizontal"?"end":"start"),this.renderInner(s,r,n,i,l,o,c);var u=r.getBoxLayoutParams(),h={width:i.getWidth(),height:i.getHeight()},f=r.get("padding"),p=Si(u,h,f),g=this.layoutInner(r,s,p,a,l,c),v=Si(ut({width:g.width,height:g.height},u),h,f);this.group.x=v.x-g.x,this.group.y=v.y-g.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Goe(g,r))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(r,n,i,a,s,o,l){var c=this.getContentGroup(),u=Qe(),h=n.get("selectedMode"),f=[];i.eachRawSeries(function(p){!p.get("legendHoverLink")&&f.push(p.id)}),lO(n.getData(),function(p,g){var v=p.get("name");if(!this.newlineDisabled&&(v===""||v===`
`)){var m=new TC;m.newline=!0,c.add(m);return}var y=i.getSeriesByName(v)[0];if(!u.get(v))if(y){var x=y.getData(),_=x.getVisual("legendLineStyle")||{},b=x.getVisual("legendIcon"),w=x.getVisual("style"),S=this._createItem(y,v,g,p,n,r,_,w,b,h,a);S.on("click",Hg(zG,v,null,a,f)).on("mouseover",Hg(cO,y.name,null,a,f)).on("mouseout",Hg(uO,y.name,null,a,f)),i.ssr&&S.eachChild(function(k){var C=wt(k);C.seriesIndex=y.seriesIndex,C.dataIndex=g,C.ssrType="legend"}),u.set(v,!0)}else i.eachRawSeries(function(k){if(!u.get(v)&&k.legendVisualProvider){var C=k.legendVisualProvider;if(!C.containName(v))return;var E=C.indexOfName(v),T=C.getItemVisual(E,"style"),N=C.getItemVisual(E,"legendIcon"),I=Bs(T.fill);I&&I[3]===0&&(I[3]=.2,T=pe(pe({},T),{fill:pu(I,"rgba")}));var P=this._createItem(k,v,g,p,n,r,{},T,N,h,a);P.on("click",Hg(zG,null,v,a,f)).on("mouseover",Hg(cO,null,v,a,f)).on("mouseout",Hg(uO,null,v,a,f)),i.ssr&&P.eachChild(function(D){var $=wt(D);$.seriesIndex=k.seriesIndex,$.dataIndex=g,$.ssrType="legend"}),u.set(v,!0)}},this)},this),s&&this._createSelector(s,n,a,o,l)},t.prototype._createSelector=function(r,n,i,a,s){var o=this.getSelectorGroup();lO(r,function(c){var u=c.type,h=new kr({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:u==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});o.add(h);var f=n.getModel("selectorLabel"),p=n.getModel(["emphasis","selectorLabel"]);ra(h,{normal:f,emphasis:p},{defaultText:c.title}),dp(h)})},t.prototype._createItem=function(r,n,i,a,s,o,l,c,u,h,f){var p=r.visualDrawType,g=s.get("itemWidth"),v=s.get("itemHeight"),m=s.isSelected(n),y=a.get("symbolRotate"),x=a.get("symbolKeepAspect"),_=a.get("icon");u=_||u||"roundRect";var b=X6e(u,a,l,c,p,m,f),w=new TC,S=a.getModel("textStyle");if(lt(r.getLegendIcon)&&(!_||_==="inherit"))w.add(r.getLegendIcon({itemWidth:g,itemHeight:v,icon:u,iconRotate:y,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:x}));else{var k=_==="inherit"&&r.getData().getVisual("symbol")?y==="inherit"?r.getData().getVisual("symbolRotate"):y:0;w.add(Z6e({itemWidth:g,itemHeight:v,icon:u,iconRotate:k,itemStyle:b.itemStyle,symbolKeepAspect:x}))}var C=o==="left"?g+5:-5,E=o,T=s.get("formatter"),N=n;We(T)&&T?N=T.replace("{name}",n??""):lt(T)&&(N=T(n));var I=m?S.getTextColor():a.get("inactiveColor");w.add(new kr({style:yn(S,{text:N,x:C,y:v/2,fill:I,align:E,verticalAlign:"middle"},{inheritColor:I})}));var P=new xr({shape:w.getBoundingRect(),style:{fill:"transparent"}}),D=a.getModel("tooltip");return D.get("show")&&Qp({el:P,componentModel:s,itemName:n,itemTooltipOption:D.option}),w.add(P),w.eachChild(function($){$.silent=!0}),P.silent=!h,this.getContentGroup().add(w),dp(w),w.__legendDataIndex=i,w},t.prototype.layoutInner=function(r,n,i,a,s,o){var l=this.getContentGroup(),c=this.getSelectorGroup();fp(r.get("orient"),l,r.get("itemGap"),i.width,i.height);var u=l.getBoundingRect(),h=[-u.x,-u.y];if(c.markRedraw(),l.markRedraw(),s){fp("horizontal",c,r.get("selectorItemGap",!0));var f=c.getBoundingRect(),p=[-f.x,-f.y],g=r.get("selectorButtonGap",!0),v=r.getOrient().index,m=v===0?"width":"height",y=v===0?"height":"width",x=v===0?"y":"x";o==="end"?p[v]+=u[m]+g:h[v]+=f[m]+g,p[1-v]+=u[y]/2-f[y]/2,c.x=p[0],c.y=p[1],l.x=h[0],l.y=h[1];var _={x:0,y:0};return _[m]=u[m]+g+f[m],_[y]=Math.max(u[y],f[y]),_[x]=Math.min(0,f[x]+p[1-v]),_}else return l.x=h[0],l.y=h[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(Bn);function X6e(e,t,r,n,i,a,s){function o(m,y){m.lineWidth==="auto"&&(m.lineWidth=y.lineWidth>0?2:0),lO(m,function(x,_){m[_]==="inherit"&&(m[_]=y[_])})}var l=t.getModel("itemStyle"),c=l.getItemStyle(),u=e.lastIndexOf("empty",0)===0?"fill":"stroke",h=l.getShallow("decal");c.decal=!h||h==="inherit"?n.decal:Av(h,s),c.fill==="inherit"&&(c.fill=n[i]),c.stroke==="inherit"&&(c.stroke=n[u]),c.opacity==="inherit"&&(c.opacity=(i==="fill"?n:r).opacity),o(c,n);var f=t.getModel("lineStyle"),p=f.getLineStyle();if(o(p,r),c.fill==="auto"&&(c.fill=n.fill),c.stroke==="auto"&&(c.stroke=n.fill),p.stroke==="auto"&&(p.stroke=n.fill),!a){var g=t.get("inactiveBorderWidth"),v=c[u];c.lineWidth=g==="auto"?n.lineWidth>0&&v?2:0:c.lineWidth,c.fill=t.get("inactiveColor"),c.stroke=t.get("inactiveBorderColor"),p.stroke=f.get("inactiveColor"),p.lineWidth=f.get("inactiveWidth")}return{itemStyle:c,lineStyle:p}}function Z6e(e){var t=e.icon||"roundRect",r=fi(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);return r.setStyle(e.itemStyle),r.rotation=(e.iconRotate||0)*Math.PI/180,r.setOrigin([e.itemWidth/2,e.itemHeight/2]),t.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r}function zG(e,t,r,n){uO(e,t,r,n),r.dispatchAction({type:"legendToggleSelect",name:e??t}),cO(e,t,r,n)}function ale(e){for(var t=e.getZr().storage.getDisplayList(),r,n=0,i=t.length;n<i&&!(r=t[n].states.emphasis);)n++;return r&&r.hoverLayer}function cO(e,t,r,n){ale(r)||r.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:n})}function uO(e,t,r,n){ale(r)||r.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:n})}function J6e(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(r){for(var n=0;n<t.length;n++)if(!t[n].isSelected(r.name))return!1;return!0})}function ox(e,t,r){var n=e==="allSelect"||e==="inverseSelect",i={},a=[];r.eachComponent({mainType:"legend",query:t},function(o){n?o[e]():o[e](t.name),UG(o,i),a.push(o.componentIndex)});var s={};return r.eachComponent("legend",function(o){V(i,function(l,c){o[l?"select":"unSelect"](c)}),UG(o,s)}),n?{selected:s,legendIndex:a}:{name:t.name,selected:s}}function UG(e,t){var r=t||{};return V(e.getData(),function(n){var i=n.get("name");if(!(i===`
`||i==="")){var a=e.isSelected(i);Ze(r,i)?r[i]=r[i]&&a:r[i]=a}}),r}function Q6e(e){e.registerAction("legendToggleSelect","legendselectchanged",At(ox,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",At(ox,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",At(ox,"inverseSelect")),e.registerAction("legendSelect","legendselected",At(ox,"select")),e.registerAction("legendUnSelect","legendunselected",At(ox,"unSelect"))}function sle(e){e.registerComponentModel(oO),e.registerComponentView(ile),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,J6e),e.registerSubTypeDefaulter("legend",function(){return"plain"}),Q6e(e)}var eze=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.setScrollDataIndex=function(r){this.option.scrollDataIndex=r},t.prototype.init=function(r,n,i){var a=b0(r);e.prototype.init.call(this,r,n,i),HG(this,r,a)},t.prototype.mergeOption=function(r,n){e.prototype.mergeOption.call(this,r,n),HG(this,this.option,r)},t.type="legend.scroll",t.defaultOption=Dh(oO.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(oO);function HG(e,t,r){var n=e.getOrient(),i=[1,1];i[n.index]=0,ph(t,r,{type:"box",ignoreSize:!!i})}var VG=_t,FI=["width","height"],zI=["x","y"],tze=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.newlineDisabled=!0,r._currentIndex=0,r}return t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new VG),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new VG)},t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(r,n,i,a,s,o,l){var c=this;e.prototype.renderInner.call(this,r,n,i,a,s,o,l);var u=this._controllerGroup,h=n.get("pageIconSize",!0),f=ye(h)?h:[h,h];g("pagePrev",0);var p=n.getModel("pageTextStyle");u.add(new kr({name:"pageText",style:{text:"xx/xx",fill:p.getTextColor(),font:p.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),g("pageNext",1);function g(v,m){var y=v+"DataIndex",x=Gw(n.get("pageIcons",!0)[n.getOrient().name][m],{onclick:Ke(c._pageGo,c,y,n,a)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});x.name=v,u.add(x)}},t.prototype.layoutInner=function(r,n,i,a,s,o){var l=this.getSelectorGroup(),c=r.getOrient().index,u=FI[c],h=zI[c],f=FI[1-c],p=zI[1-c];s&&fp("horizontal",l,r.get("selectorItemGap",!0));var g=r.get("selectorButtonGap",!0),v=l.getBoundingRect(),m=[-v.x,-v.y],y=vt(i);s&&(y[u]=i[u]-v[u]-g);var x=this._layoutContentAndController(r,a,y,c,u,f,p,h);if(s){if(o==="end")m[c]+=x[u]+g;else{var _=v[u]+g;m[c]-=_,x[h]-=_}x[u]+=v[u]+g,m[1-c]+=x[p]+x[f]/2-v[f]/2,x[f]=Math.max(x[f],v[f]),x[p]=Math.min(x[p],v[p]+m[1-c]),l.x=m[0],l.y=m[1],l.markRedraw()}return x},t.prototype._layoutContentAndController=function(r,n,i,a,s,o,l,c){var u=this.getContentGroup(),h=this._containerGroup,f=this._controllerGroup;fp(r.get("orient"),u,r.get("itemGap"),a?i.width:null,a?null:i.height),fp("horizontal",f,r.get("pageButtonItemGap",!0));var p=u.getBoundingRect(),g=f.getBoundingRect(),v=this._showController=p[s]>i[s],m=[-p.x,-p.y];n||(m[a]=u[c]);var y=[0,0],x=[-g.x,-g.y],_=Et(r.get("pageButtonGap",!0),r.get("itemGap",!0));if(v){var b=r.get("pageButtonPosition",!0);b==="end"?x[a]+=i[s]-g[s]:y[a]+=g[s]+_}x[1-a]+=p[o]/2-g[o]/2,u.setPosition(m),h.setPosition(y),f.setPosition(x);var w={x:0,y:0};if(w[s]=v?i[s]:p[s],w[o]=Math.max(p[o],g[o]),w[l]=Math.min(0,g[l]+x[1-a]),h.__rectSize=i[s],v){var S={x:0,y:0};S[s]=Math.max(i[s]-g[s]-_,0),S[o]=w[o],h.setClipPath(new xr({shape:S})),h.__rectSize=S[s]}else f.eachChild(function(C){C.attr({invisible:!0,silent:!0})});var k=this._getPageInfo(r);return k.pageIndex!=null&&Rr(u,{x:k.contentPosition[0],y:k.contentPosition[1]},v?r:null),this._updatePageInfoView(r,k),w},t.prototype._pageGo=function(r,n,i){var a=this._getPageInfo(n)[r];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:n.id})},t.prototype._updatePageInfoView=function(r,n){var i=this._controllerGroup;V(["pagePrev","pageNext"],function(u){var h=u+"DataIndex",f=n[h]!=null,p=i.childOfName(u);p&&(p.setStyle("fill",f?r.get("pageIconColor",!0):r.get("pageIconInactiveColor",!0)),p.cursor=f?"pointer":"default")});var a=i.childOfName("pageText"),s=r.get("pageFormatter"),o=n.pageIndex,l=o!=null?o+1:0,c=n.pageCount;a&&s&&a.setStyle("text",We(s)?s.replace("{current}",l==null?"":l+"").replace("{total}",c==null?"":c+""):s({current:l,total:c}))},t.prototype._getPageInfo=function(r){var n=r.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,s=r.getOrient().index,o=FI[s],l=zI[s],c=this._findTargetItemIndex(n),u=i.children(),h=u[c],f=u.length,p=f?1:0,g={contentPosition:[i.x,i.y],pageCount:p,pageIndex:p-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!h)return g;var v=b(h);g.contentPosition[s]=-v.s;for(var m=c+1,y=v,x=v,_=null;m<=f;++m)_=b(u[m]),(!_&&x.e>y.s+a||_&&!w(_,y.s))&&(x.i>y.i?y=x:y=_,y&&(g.pageNextDataIndex==null&&(g.pageNextDataIndex=y.i),++g.pageCount)),x=_;for(var m=c-1,y=v,x=v,_=null;m>=-1;--m)_=b(u[m]),(!_||!w(x,_.s))&&y.i<x.i&&(x=y,g.pagePrevDataIndex==null&&(g.pagePrevDataIndex=y.i),++g.pageCount,++g.pageIndex),y=_;return g;function b(S){if(S){var k=S.getBoundingRect(),C=k[l]+S[l];return{s:C,e:C+k[o],i:S.__legendDataIndex}}}function w(S,k){return S.e>=k&&S.s<=k+a}},t.prototype._findTargetItemIndex=function(r){if(!this._showController)return 0;var n,i=this.getContentGroup(),a;return i.eachChild(function(s,o){var l=s.__legendDataIndex;a==null&&l!=null&&(a=o),l===r&&(n=o)}),n??a},t.type="legend.scroll",t}(ile);function rze(e){e.registerAction("legendScroll","legendscroll",function(t,r){var n=t.scrollDataIndex;n!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(n)})})}function nze(e){Zt(sle),e.registerComponentModel(eze),e.registerComponentView(tze),rze(e)}function ize(e){Zt(sle),Zt(nze)}var aze=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="dataZoom.inside",t.defaultOption=Dh(Hb.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(Hb),oB=_r();function sze(e,t,r){oB(e).coordSysRecordMap.each(function(n){var i=n.dataZoomInfoMap.get(t.uid);i&&(i.getRange=r)})}function oze(e,t){for(var r=oB(e).coordSysRecordMap,n=r.keys(),i=0;i<n.length;i++){var a=n[i],s=r.get(a),o=s.dataZoomInfoMap;if(o){var l=t.uid,c=o.get(l);c&&(o.removeKey(l),o.keys().length||ole(r,s))}}}function ole(e,t){if(t){e.removeKey(t.model.uid);var r=t.controller;r&&r.dispose()}}function lze(e,t){var r={model:t,containsPoint:At(uze,t),dispatchAction:At(cze,e),dataZoomInfoMap:null,controller:null},n=r.controller=new n1(e.getZr());return V(["pan","zoom","scrollMove"],function(i){n.on(i,function(a){var s=[];r.dataZoomInfoMap.each(function(o){if(a.isAvailableBehavior(o.model.option)){var l=(o.getRange||{})[i],c=l&&l(o.dzReferCoordSysInfo,r.model.mainType,r.controller,a);!o.model.get("disabled",!0)&&c&&s.push({dataZoomId:o.model.id,start:c[0],end:c[1]})}}),s.length&&r.dispatchAction(s)})}),r}function cze(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function uze(e,t,r,n){return e.coordinateSystem.containPoint([r,n])}function dze(e){var t,r="type_",n={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return e.each(function(a){var s=a.model,o=s.get("disabled",!0)?!1:s.get("zoomLock",!0)?"move":!0;n[r+o]>n[r+t]&&(t=o),i=i&&s.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function hze(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,function(t,r){var n=oB(r),i=n.coordSysRecordMap||(n.coordSysRecordMap=Qe());i.each(function(a){a.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var s=Hoe(a);V(s.infoList,function(o){var l=o.model.uid,c=i.get(l)||i.set(l,lze(r,o.model)),u=c.dataZoomInfoMap||(c.dataZoomInfoMap=Qe());u.set(a.uid,{dzReferCoordSysInfo:o,model:a,getRange:null})})}),i.each(function(a){var s=a.controller,o,l=a.dataZoomInfoMap;if(l){var c=l.keys()[0];c!=null&&(o=l.get(c))}if(!o){ole(i,a);return}var u=dze(l);s.enable(u.controlType,u.opt),s.setPointerChecker(a.containsPoint),C0(a,"dispatchAction",o.model.get("throttle",!0),"fixRate")})})}var fze=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="dataZoom.inside",r}return t.prototype.render=function(r,n,i){if(e.prototype.render.apply(this,arguments),r.noTarget()){this._clear();return}this.range=r.getPercentRange(),sze(i,r,{pan:Ke(UI.pan,this),zoom:Ke(UI.zoom,this),scrollMove:Ke(UI.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){oze(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(J$),UI={zoom:function(e,t,r,n){var i=this.range,a=i.slice(),s=e.axisModels[0];if(s){var o=HI[t](null,[n.originX,n.originY],s,r,e),l=(o.signal>0?o.pixelStart+o.pixelLength-o.pixel:o.pixel-o.pixelStart)/o.pixelLength*(a[1]-a[0])+a[0],c=Math.max(1/n.scale,0);a[0]=(a[0]-l)*c+l,a[1]=(a[1]-l)*c+l;var u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(ag(0,a,[0,100],0,u.minSpan,u.maxSpan),this.range=a,i[0]!==a[0]||i[1]!==a[1])return a}},pan:WG(function(e,t,r,n,i,a){var s=HI[n]([a.oldX,a.oldY],[a.newX,a.newY],t,i,r);return s.signal*(e[1]-e[0])*s.pixel/s.pixelLength}),scrollMove:WG(function(e,t,r,n,i,a){var s=HI[n]([0,0],[a.scrollDelta,a.scrollDelta],t,i,r);return s.signal*(e[1]-e[0])*a.scrollDelta})};function WG(e){return function(t,r,n,i){var a=this.range,s=a.slice(),o=t.axisModels[0];if(o){var l=e(s,o,t,r,n,i);if(ag(l,s,[0,100],"all"),this.range=s,a[0]!==s[0]||a[1]!==s[1])return s}}}var HI={grid:function(e,t,r,n,i){var a=r.axis,s={},o=i.model.coordinateSystem.getRect();return e=e||[0,0],a.dim==="x"?(s.pixel=t[0]-e[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s},polar:function(e,t,r,n,i){var a=r.axis,s={},o=i.model.coordinateSystem,l=o.getRadiusAxis().getExtent(),c=o.getAngleAxis().getExtent();return e=e?o.pointToCoord(e):[0,0],t=o.pointToCoord(t),r.mainType==="radiusAxis"?(s.pixel=t[0]-e[0],s.pixelLength=l[1]-l[0],s.pixelStart=l[0],s.signal=a.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=c[1]-c[0],s.pixelStart=c[0],s.signal=a.inverse?-1:1),s},singleAxis:function(e,t,r,n,i){var a=r.axis,s=i.model.coordinateSystem.getRect(),o={};return e=e||[0,0],a.orient==="horizontal"?(o.pixel=t[0]-e[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o}};function lle(e){Q$(e),e.registerComponentModel(aze),e.registerComponentView(fze),hze(e)}var pze=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=Dh(Hb.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(Hb),lx=xr,GG=7,gze=1,VI=30,mze=7,cx="horizontal",qG="vertical",vze=5,yze=["line","bar","candlestick","scatter"],xze={easing:"cubicOut",duration:100,delay:0},_ze=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._displayables={},r}return t.prototype.init=function(r,n){this.api=n,this._onBrush=Ke(this._onBrush,this),this._onBrushEnd=Ke(this._onBrushEnd,this)},t.prototype.render=function(r,n,i,a){if(e.prototype.render.apply(this,arguments),C0(this,"_dispatchZoomAction",r.get("throttle"),"fixRate"),this._orient=r.getOrient(),r.get("show")===!1){this.group.removeAll();return}if(r.noTarget()){this._clear(),this.group.removeAll();return}(!a||a.type!=="dataZoom"||a.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){jb(this,"_dispatchZoomAction");var r=this.api.getZr();r.off("mousemove",this._onBrush),r.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var r=this.group;r.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new _t;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),r.add(n),this._positionGroup()},t.prototype._resetLocation=function(){var r=this.dataZoomModel,n=this.api,i=r.get("brushSelect"),a=i?mze:0,s=this._findCoordRect(),o={width:n.getWidth(),height:n.getHeight()},l=this._orient===cx?{right:o.width-s.x-s.width,top:o.height-VI-GG-a,width:s.width,height:VI}:{right:GG,top:s.y,width:VI,height:s.height},c=b0(r.option);V(["right","top","width","height"],function(h){c[h]==="ph"&&(c[h]=l[h])});var u=Si(c,o);this._location={x:u.x,y:u.y},this._size=[u.width,u.height],this._orient===qG&&this._size.reverse()},t.prototype._positionGroup=function(){var r=this.group,n=this._location,i=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),s=a&&a.get("inverse"),o=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(i===cx&&!s?{scaleY:l?1:-1,scaleX:1}:i===cx&&s?{scaleY:l?1:-1,scaleX:-1}:i===qG&&!s?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var c=r.getBoundingRect([o]);r.x=n.x-c.x,r.y=n.y-c.y,r.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var r=this.dataZoomModel,n=this._size,i=this._displayables.sliderGroup,a=r.get("brushSelect");i.add(new lx({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:r.get("backgroundColor")},z2:-40}));var s=new lx({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:Ke(this._onClickPanel,this)}),o=this.api.getZr();a?(s.on("mousedown",this._onBrushStart,this),s.cursor="crosshair",o.on("mousemove",this._onBrush),o.on("mouseup",this._onBrushEnd)):(o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)),i.add(s)},t.prototype._renderDataShadow=function(){var r=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!r)return;var n=this._size,i=this._shadowSize||[],a=r.series,s=a.getRawData(),o=a.getShadowDim&&a.getShadowDim(),l=o&&s.getDimensionInfo(o)?a.getShadowDim():r.otherDim;if(l==null)return;var c=this._shadowPolygonPts,u=this._shadowPolylinePts;if(s!==this._shadowData||l!==this._shadowDim||n[0]!==i[0]||n[1]!==i[1]){var h=s.getDataExtent(l),f=(h[1]-h[0])*.3;h=[h[0]-f,h[1]+f];var p=[0,n[1]],g=[0,n[0]],v=[[n[0],0],[0,0]],m=[],y=g[1]/(s.count()-1),x=0,_=Math.round(s.count()/n[0]),b;s.each([l],function(E,T){if(_>0&&T%_){x+=y;return}var N=E==null||isNaN(E)||E==="",I=N?0:Hr(E,h,p,!0);N&&!b&&T?(v.push([v[v.length-1][0],0]),m.push([m[m.length-1][0],0])):!N&&b&&(v.push([x,0]),m.push([x,0])),v.push([x,I]),m.push([x,I]),x+=y,b=N}),c=this._shadowPolygonPts=v,u=this._shadowPolylinePts=m}this._shadowData=s,this._shadowDim=l,this._shadowSize=[n[0],n[1]];var w=this.dataZoomModel;function S(E){var T=w.getModel(E?"selectedDataBackground":"dataBackground"),N=new _t,I=new Ya({shape:{points:c},segmentIgnoreThreshold:1,style:T.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),P=new Ja({shape:{points:u},segmentIgnoreThreshold:1,style:T.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return N.add(I),N.add(P),N}for(var k=0;k<3;k++){var C=S(k===1);this._displayables.sliderGroup.add(C),this._displayables.dataShadowSegs.push(C)}},t.prototype._prepareDataShadowInfo=function(){var r=this.dataZoomModel,n=r.get("showDataShadow");if(n!==!1){var i,a=this.ecModel;return r.eachTargetAxis(function(s,o){var l=r.getAxisProxy(s,o).getTargetSeriesModels();V(l,function(c){if(!i&&!(n!==!0&&Wt(yze,c.get("type"))<0)){var u=a.getComponent(Fd(s),o).axis,h=bze(s),f,p=c.coordinateSystem;h!=null&&p.getOtherAxis&&(f=p.getOtherAxis(u).inverse),h=c.getData().mapDimension(h),i={thisAxis:u,series:c,thisDim:s,otherDim:h,otherAxisInverse:f}}},this)},this),i}},t.prototype._renderHandle=function(){var r=this.group,n=this._displayables,i=n.handles=[null,null],a=n.handleLabels=[null,null],s=this._displayables.sliderGroup,o=this._size,l=this.dataZoomModel,c=this.api,u=l.get("borderRadius")||0,h=l.get("brushSelect"),f=n.filler=new lx({silent:h,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});s.add(f),s.add(new lx({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:u},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:gze,fill:"rgba(0,0,0,0)"}})),V([0,1],function(_){var b=l.get("handleIcon");!uT[b]&&b.indexOf("path://")<0&&b.indexOf("image://")<0&&(b="path://"+b);var w=fi(b,-1,0,2,2,null,!0);w.attr({cursor:YG(this._orient),draggable:!0,drift:Ke(this._onDragMove,this,_),ondragend:Ke(this._onDragEnd,this),onmouseover:Ke(this._showDataInfo,this,!0),onmouseout:Ke(this._showDataInfo,this,!1),z2:5});var S=w.getBoundingRect(),k=l.get("handleSize");this._handleHeight=Le(k,this._size[1]),this._handleWidth=S.width/S.height*this._handleHeight,w.setStyle(l.getModel("handleStyle").getItemStyle()),w.style.strokeNoScale=!0,w.rectHover=!0,w.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),dp(w);var C=l.get("handleColor");C!=null&&(w.style.fill=C),s.add(i[_]=w);var E=l.getModel("textStyle"),T=l.get("handleLabel")||{},N=T.show||!1;r.add(a[_]=new kr({silent:!0,invisible:!N,style:yn(E,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:E.getTextColor(),font:E.getFont()}),z2:10}))},this);var p=f;if(h){var g=Le(l.get("moveHandleSize"),o[1]),v=n.moveHandle=new xr({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:g}}),m=g*.8,y=n.moveHandleIcon=fi(l.get("moveHandleIcon"),-m/2,-m/2,m,m,"#fff",!0);y.silent=!0,y.y=o[1]+g/2-.5,v.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var x=Math.min(o[1]/2,Math.max(g,10));p=n.moveZone=new xr({invisible:!0,shape:{y:o[1]-x,height:g+x}}),p.on("mouseover",function(){c.enterEmphasis(v)}).on("mouseout",function(){c.leaveEmphasis(v)}),s.add(v),s.add(y),s.add(p)}p.attr({draggable:!0,cursor:YG(this._orient),drift:Ke(this._onDragMove,this,"all"),ondragstart:Ke(this._showDataInfo,this,!0),ondragend:Ke(this._onDragEnd,this),onmouseover:Ke(this._showDataInfo,this,!0),onmouseout:Ke(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var r=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[Hr(r[0],[0,100],n,!0),Hr(r[1],[0,100],n,!0)]},t.prototype._updateInterval=function(r,n){var i=this.dataZoomModel,a=this._handleEnds,s=this._getViewExtent(),o=i.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];ag(n,a,s,i.get("zoomLock")?"all":r,o.minSpan!=null?Hr(o.minSpan,l,s,!0):null,o.maxSpan!=null?Hr(o.maxSpan,l,s,!0):null);var c=this._range,u=this._range=ko([Hr(a[0],s,l,!0),Hr(a[1],s,l,!0)]);return!c||c[0]!==u[0]||c[1]!==u[1]},t.prototype._updateView=function(r){var n=this._displayables,i=this._handleEnds,a=ko(i.slice()),s=this._size;V([0,1],function(p){var g=n.handles[p],v=this._handleHeight;g.attr({scaleX:v/2,scaleY:v/2,x:i[p]+(p?-1:1),y:s[1]/2-v/2})},this),n.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:s[1]});var o={x:a[0],width:a[1]-a[0]};n.moveHandle&&(n.moveHandle.setShape(o),n.moveZone.setShape(o),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",o.x+o.width/2));for(var l=n.dataShadowSegs,c=[0,a[0],a[1],s[0]],u=0;u<l.length;u++){var h=l[u],f=h.getClipPath();f||(f=new xr,h.setClipPath(f)),f.setShape({x:c[u],y:0,width:c[u+1]-c[u],height:s[1]})}this._updateDataInfo(r)},t.prototype._updateDataInfo=function(r){var n=this.dataZoomModel,i=this._displayables,a=i.handleLabels,s=this._orient,o=["",""];if(n.get("showDetail")){var l=n.findRepresentativeAxisProxy();if(l){var c=l.getAxisModel().axis,u=this._range,h=r?l.calculateDataWindow({start:u[0],end:u[1]}).valueWindow:l.getDataValueWindow();o=[this._formatLabel(h[0],c),this._formatLabel(h[1],c)]}}var f=ko(this._handleEnds.slice());p.call(this,0),p.call(this,1);function p(g){var v=hp(i.handles[g].parent,this.group),m=S2(g===0?"right":"left",v),y=this._handleWidth/2+vze,x=cl([f[g]+(g===0?-y:y),this._size[1]/2],v);a[g].setStyle({x:x[0],y:x[1],verticalAlign:s===cx?"middle":m,align:s===cx?m:"center",text:o[g]})}},t.prototype._formatLabel=function(r,n){var i=this.dataZoomModel,a=i.get("labelFormatter"),s=i.get("labelPrecision");(s==null||s==="auto")&&(s=n.getPixelPrecision());var o=r==null||isNaN(r)?"":n.type==="category"||n.type==="time"?n.scale.getLabel({value:Math.round(r)}):r.toFixed(Math.min(s,20));return lt(a)?a(r,o):We(a)?a.replace("{value}",o):o},t.prototype._showDataInfo=function(r){var n=this.dataZoomModel.get("handleLabel")||{},i=n.show||!1,a=this.dataZoomModel.getModel(["emphasis","handleLabel"]),s=a.get("show")||!1,o=r||this._dragging?s:i,l=this._displayables,c=l.handleLabels;c[0].attr("invisible",!o),c[1].attr("invisible",!o),l.moveHandle&&this.api[o?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},t.prototype._onDragMove=function(r,n,i,a){this._dragging=!0,Cu(a.event);var s=this._displayables.sliderGroup.getLocalTransform(),o=cl([n,i],s,!0),l=this._updateInterval(r,o[0]),c=this.dataZoomModel.get("realtime");this._updateView(!c),l&&c&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var r=this.dataZoomModel.get("realtime");!r&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(r){var n=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(r.offsetX,r.offsetY);if(!(i[0]<0||i[0]>n[0]||i[1]<0||i[1]>n[1])){var a=this._handleEnds,s=(a[0]+a[1])/2,o=this._updateInterval("all",i[0]-s);this._updateView(),o&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(r){var n=r.offsetX,i=r.offsetY;this._brushStart=new Lt(n,i),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(r){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,!!n){n.attr("ignore",!0);var i=n.shape,a=+new Date;if(!(a-this._brushStartTime<200&&Math.abs(i.width)<5)){var s=this._getViewExtent(),o=[0,100];this._range=ko([Hr(i.x,s,o,!0),Hr(i.x+i.width,s,o,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(r){this._brushing&&(Cu(r.event),this._updateBrushRect(r.offsetX,r.offsetY))},t.prototype._updateBrushRect=function(r,n){var i=this._displayables,a=this.dataZoomModel,s=i.brushRect;s||(s=i.brushRect=new lx({silent:!0,style:a.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(s)),s.attr("ignore",!1);var o=this._brushStart,l=this._displayables.sliderGroup,c=l.transformCoordToLocal(r,n),u=l.transformCoordToLocal(o.x,o.y),h=this._size;c[0]=Math.max(Math.min(h[0],c[0]),0),s.setShape({x:u[0],y:0,width:c[0]-u[0],height:h[1]})},t.prototype._dispatchZoomAction=function(r){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:r?xze:null,start:n[0],end:n[1]})},t.prototype._findCoordRect=function(){var r,n=Hoe(this.dataZoomModel).infoList;if(!r&&n.length){var i=n[0].model.coordinateSystem;r=i.getRect&&i.getRect()}if(!r){var a=this.api.getWidth(),s=this.api.getHeight();r={x:a*.2,y:s*.2,width:a*.6,height:s*.6}}return r},t.type="dataZoom.slider",t}(J$);function bze(e){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[e]}function YG(e){return e==="vertical"?"ns-resize":"ew-resize"}function cle(e){e.registerComponentModel(pze),e.registerComponentView(_ze),Q$(e)}function wze(e){Zt(lle),Zt(cle)}var ule={get:function(e,t,r){var n=vt((Sze[e]||{})[t]);return r&&ye(n)?n[n.length-1]:n}},Sze={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},KG=Mi.mapVisual,Cze=Mi.eachVisual,kze=ye,XG=V,Eze=ko,Tze=Hr,PT=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.stateList=["inRange","outOfRange"],r.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],r.layoutMode={type:"box",ignoreSize:!0},r.dataBound=[-1/0,1/0],r.targetVisuals={},r.controllerVisuals={},r}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i)},t.prototype.optionUpdated=function(r,n){var i=this.option;!n&&Qoe(i,r,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(r){var n=this.stateList;r=Ke(r,this),this.controllerVisuals=iO(this.option.controller,n,r),this.targetVisuals=iO(this.option.target,n,r)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var r=this.option.seriesIndex,n=[];return r==null||r==="all"?this.ecModel.eachSeries(function(i,a){n.push(a)}):n=sn(r),n},t.prototype.eachTargetSeries=function(r,n){V(this.getTargetSeriesIndices(),function(i){var a=this.ecModel.getSeriesByIndex(i);a&&r.call(n,a)},this)},t.prototype.isTargetSeries=function(r){var n=!1;return this.eachTargetSeries(function(i){i===r&&(n=!0)}),n},t.prototype.formatValueText=function(r,n,i){var a=this.option,s=a.precision,o=this.dataBound,l=a.formatter,c;i=i||["<",">"],ye(r)&&(r=r.slice(),c=!0);var u=n?r:c?[h(r[0]),h(r[1])]:h(r);if(We(l))return l.replace("{value}",c?u[0]:u).replace("{value2}",c?u[1]:u);if(lt(l))return c?l(r[0],r[1]):l(r);if(c)return r[0]===o[0]?i[0]+" "+u[1]:r[1]===o[1]?i[1]+" "+u[0]:u[0]+" - "+u[1];return u;function h(f){return f===o[0]?"min":f===o[1]?"max":(+f).toFixed(Math.min(s,20))}},t.prototype.resetExtent=function(){var r=this.option,n=Eze([r.min,r.max]);this._dataExtent=n},t.prototype.getDataDimensionIndex=function(r){var n=this.option.dimension;if(n!=null)return r.getDimensionIndex(n);for(var i=r.dimensions,a=i.length-1;a>=0;a--){var s=i[a],o=r.getDimensionInfo(s);if(!o.isCalculationCoord)return o.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var r=this.ecModel,n=this.option,i={inRange:n.inRange,outOfRange:n.outOfRange},a=n.target||(n.target={}),s=n.controller||(n.controller={});Pt(a,i),Pt(s,i);var o=this.isCategory();l.call(this,a),l.call(this,s),c.call(this,a,"inRange","outOfRange"),u.call(this,s);function l(h){kze(n.color)&&!h.inRange&&(h.inRange={color:n.color.slice().reverse()}),h.inRange=h.inRange||{color:r.get("gradientColor")}}function c(h,f,p){var g=h[f],v=h[p];g&&!v&&(v=h[p]={},XG(g,function(m,y){if(Mi.isValidType(y)){var x=ule.get(y,"inactive",o);x!=null&&(v[y]=x,y==="color"&&!v.hasOwnProperty("opacity")&&!v.hasOwnProperty("colorAlpha")&&(v.opacity=[0,0]))}}))}function u(h){var f=(h.inRange||{}).symbol||(h.outOfRange||{}).symbol,p=(h.inRange||{}).symbolSize||(h.outOfRange||{}).symbolSize,g=this.get("inactiveColor"),v=this.getItemSymbol(),m=v||"roundRect";XG(this.stateList,function(y){var x=this.itemSize,_=h[y];_||(_=h[y]={color:o?g:[g]}),_.symbol==null&&(_.symbol=f&&vt(f)||(o?m:[m])),_.symbolSize==null&&(_.symbolSize=p&&vt(p)||(o?x[0]:[x[0],x[0]])),_.symbol=KG(_.symbol,function(S){return S==="none"?m:S});var b=_.symbolSize;if(b!=null){var w=-1/0;Cze(b,function(S){S>w&&(w=S)}),_.symbolSize=KG(b,function(S){return Tze(S,[0,w],[0,x[0]],!0)})}},this)}},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(r){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(r){return null},t.prototype.getVisualMeta=function(r){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(ir),ZG=[20,140],Nze=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.optionUpdated=function(r,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var r=this.itemSize;(r[0]==null||isNaN(r[0]))&&(r[0]=ZG[0]),(r[1]==null||isNaN(r[1]))&&(r[1]=ZG[1])},t.prototype._resetRange=function(){var r=this.getExtent(),n=this.option.range;!n||n.auto?(r.auto=1,this.option.range=r):ye(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],r[0]),n[1]=Math.min(n[1],r[1]))},t.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),V(this.stateList,function(r){var n=this.option.controller[r].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)},this)},t.prototype.setSelected=function(r){this.option.range=r.slice(),this._resetRange()},t.prototype.getSelected=function(){var r=this.getExtent(),n=ko((this.get("range")||[]).slice());return n[0]>r[1]&&(n[0]=r[1]),n[1]>r[1]&&(n[1]=r[1]),n[0]<r[0]&&(n[0]=r[0]),n[1]<r[0]&&(n[1]=r[0]),n},t.prototype.getValueState=function(r){var n=this.option.range,i=this.getExtent();return(n[0]<=i[0]||n[0]<=r)&&(n[1]>=i[1]||r<=n[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(r){var n=[];return this.eachTargetSeries(function(i){var a=[],s=i.getData();s.each(this.getDataDimensionIndex(s),function(o,l){r[0]<=o&&o<=r[1]&&a.push(l)},this),n.push({seriesId:i.id,dataIndex:a})},this),n},t.prototype.getVisualMeta=function(r){var n=JG(this,"outOfRange",this.getExtent()),i=JG(this,"inRange",this.option.range.slice()),a=[];function s(p,g){a.push({value:p,color:r(p,g)})}for(var o=0,l=0,c=i.length,u=n.length;l<u&&(!i.length||n[l]<=i[0]);l++)n[l]<i[o]&&s(n[l],"outOfRange");for(var h=1;o<c;o++,h=0)h&&a.length&&s(i[o],"outOfRange"),s(i[o],"inRange");for(var h=1;l<u;l++)(!i.length||i[i.length-1]<n[l])&&(h&&(a.length&&s(a[a.length-1].value,"outOfRange"),h=0),s(n[l],"outOfRange"));var f=a.length;return{stops:a,outerColors:[f?a[0].color:"transparent",f?a[f-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=Dh(PT.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(PT);function JG(e,t,r){if(r[0]===r[1])return r.slice();for(var n=200,i=(r[1]-r[0])/n,a=r[0],s=[],o=0;o<=n&&a<r[1];o++)s.push(a),a+=i;return s.push(r[1]),s}var dle=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.autoPositionValues={left:1,right:1,top:1,bottom:1},r}return t.prototype.init=function(r,n){this.ecModel=r,this.api=n},t.prototype.render=function(r,n,i,a){if(this.visualMapModel=r,r.get("show")===!1){this.group.removeAll();return}this.doRender(r,n,i,a)},t.prototype.renderBackground=function(r){var n=this.visualMapModel,i=_0(n.get("padding")||0),a=r.getBoundingRect();r.add(new xr({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},t.prototype.getControllerVisual=function(r,n,i){i=i||{};var a=i.forceState,s=this.visualMapModel,o={};if(n==="color"){var l=s.get("contentColor");o.color=l}function c(p){return o[p]}function u(p,g){o[p]=g}var h=s.controllerVisuals[a||s.getValueState(r)],f=Mi.prepareVisualTypes(h);return V(f,function(p){var g=h[p];i.convertOpacityToAlpha&&p==="opacity"&&(p="colorAlpha",g=h.__alphaForOpacity),Mi.dependsOn(p,n)&&g&&g.applyVisual(r,c,u)}),o[n]},t.prototype.positionGroup=function(r){var n=this.visualMapModel,i=this.api;j2(r,n.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},t.prototype.doRender=function(r,n,i,a){},t.type="visualMap",t}(Bn),QG=[["left","right","width"],["top","bottom","height"]];function hle(e,t,r){var n=e.option,i=n.align;if(i!=null&&i!=="auto")return i;for(var a={width:t.getWidth(),height:t.getHeight()},s=n.orient==="horizontal"?1:0,o=QG[s],l=[0,null,10],c={},u=0;u<3;u++)c[QG[1-s][u]]=l[u],c[o[u]]=u===2?r[0]:n[o[u]];var h=[["x","width",3],["y","height",0]][s],f=Si(c,a,n.padding);return o[(f.margin[h[2]]||0)+f[h[0]]+f[h[1]]*.5<a[h[1]]*.5?0:1]}function Qk(e,t){return V(e||[],function(r){r.dataIndex!=null&&(r.dataIndexInside=r.dataIndex,r.dataIndex=null),r.highlightKey="visualMap"+(t?t.componentIndex:"")}),e}var Fl=Hr,Aze=V,eq=Math.min,WI=Math.max,jze=12,Rze=6,Ize=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._shapes={},r._dataInterval=[],r._handleEnds=[],r._hoverLinkDataIndices=[],r}return t.prototype.init=function(r,n){e.prototype.init.call(this,r,n),this._hoverLinkFromSeriesMouseOver=Ke(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=Ke(this._hideIndicator,this)},t.prototype.doRender=function(r,n,i,a){(!a||a.type!=="selectDataRange"||a.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var r=this.visualMapModel,n=this.group;this._orient=r.get("orient"),this._useHandle=r.get("calculable"),this._resetInterval(),this._renderBar(n);var i=r.get("text");this._renderEndsText(n,i,0),this._renderEndsText(n,i,1),this._updateView(!0),this.renderBackground(n),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(n)},t.prototype._renderEndsText=function(r,n,i){if(n){var a=n[1-i];a=a!=null?a+"":"";var s=this.visualMapModel,o=s.get("textGap"),l=s.itemSize,c=this._shapes.mainGroup,u=this._applyTransform([l[0]/2,i===0?-o:l[1]+o],c),h=this._applyTransform(i===0?"bottom":"top",c),f=this._orient,p=this.visualMapModel.textStyleModel;this.group.add(new kr({style:yn(p,{x:u[0],y:u[1],verticalAlign:f==="horizontal"?"middle":h,align:f==="horizontal"?h:"center",text:a})}))}},t.prototype._renderBar=function(r){var n=this.visualMapModel,i=this._shapes,a=n.itemSize,s=this._orient,o=this._useHandle,l=hle(n,this.api,a),c=i.mainGroup=this._createBarGroup(l),u=new _t;c.add(u),u.add(i.outOfRange=tq()),u.add(i.inRange=tq(null,o?nq(this._orient):null,Ke(this._dragHandle,this,"all",!1),Ke(this._dragHandle,this,"all",!0))),u.setClipPath(new xr({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var h=n.textStyleModel.getTextRect("国"),f=WI(h.width,h.height);o&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(n,c,0,a,f,s),this._createHandle(n,c,1,a,f,s)),this._createIndicator(n,c,a,f,s),r.add(c)},t.prototype._createHandle=function(r,n,i,a,s,o){var l=Ke(this._dragHandle,this,i,!1),c=Ke(this._dragHandle,this,i,!0),u=pl(r.get("handleSize"),a[0]),h=fi(r.get("handleIcon"),-u/2,-u/2,u,u,null,!0),f=nq(this._orient);h.attr({cursor:f,draggable:!0,drift:l,ondragend:c,onmousemove:function(y){Cu(y.event)}}),h.x=a[0]/2,h.useStyle(r.getModel("handleStyle").getItemStyle()),h.setStyle({strokeNoScale:!0,strokeFirst:!0}),h.style.lineWidth*=2,h.ensureState("emphasis").style=r.getModel(["emphasis","handleStyle"]).getItemStyle(),qf(h,!0),n.add(h);var p=this.visualMapModel.textStyleModel,g=new kr({cursor:f,draggable:!0,drift:l,onmousemove:function(y){Cu(y.event)},ondragend:c,style:yn(p,{x:0,y:0,text:""})});g.ensureState("blur").style={opacity:.1},g.stateTransition={duration:200},this.group.add(g);var v=[u,0],m=this._shapes;m.handleThumbs[i]=h,m.handleLabelPoints[i]=v,m.handleLabels[i]=g},t.prototype._createIndicator=function(r,n,i,a,s){var o=pl(r.get("indicatorSize"),i[0]),l=fi(r.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var c=r.getModel("indicatorStyle").getItemStyle();if(l instanceof Wi){var u=l.style;l.useStyle(pe({image:u.image,x:u.x,y:u.y,width:u.width,height:u.height},c))}else l.useStyle(c);n.add(l);var h=this.visualMapModel.textStyleModel,f=new kr({silent:!0,invisible:!0,style:yn(h,{x:0,y:0,text:""})});this.group.add(f);var p=[(s==="horizontal"?a/2:Rze)+i[0]/2,0],g=this._shapes;g.indicator=l,g.indicatorLabel=f,g.indicatorLabelPoint=p,this._firstShowIndicator=!0},t.prototype._dragHandle=function(r,n,i,a){if(this._useHandle){if(this._dragging=!n,!n){var s=this._applyTransform([i,a],this._shapes.mainGroup,!0);this._updateInterval(r,s[1]),this._hideIndicator(),this._updateView()}n===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),n?!this._hovering&&this._clearHoverLinkToSeries():rq(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[r],!1)}},t.prototype._resetInterval=function(){var r=this.visualMapModel,n=this._dataInterval=r.getSelected(),i=r.getExtent(),a=[0,r.itemSize[1]];this._handleEnds=[Fl(n[0],i,a,!0),Fl(n[1],i,a,!0)]},t.prototype._updateInterval=function(r,n){n=n||0;var i=this.visualMapModel,a=this._handleEnds,s=[0,i.itemSize[1]];ag(n,a,s,r,0);var o=i.getExtent();this._dataInterval=[Fl(a[0],s,o,!0),Fl(a[1],s,o,!0)]},t.prototype._updateView=function(r){var n=this.visualMapModel,i=n.getExtent(),a=this._shapes,s=[0,n.itemSize[1]],o=r?s:this._handleEnds,l=this._createBarVisual(this._dataInterval,i,o,"inRange"),c=this._createBarVisual(i,i,s,"outOfRange");a.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),a.outOfRange.setStyle({fill:c.barColor}).setShape("points",c.barPoints),this._updateHandle(o,l)},t.prototype._createBarVisual=function(r,n,i,a){var s={forceState:a,convertOpacityToAlpha:!0},o=this._makeColorGradient(r,s),l=[this.getControllerVisual(r[0],"symbolSize",s),this.getControllerVisual(r[1],"symbolSize",s)],c=this._createBarPoints(i,l);return{barColor:new Vw(0,0,0,1,o),barPoints:c,handlesColor:[o[0].color,o[o.length-1].color]}},t.prototype._makeColorGradient=function(r,n){var i=100,a=[],s=(r[1]-r[0])/i;a.push({color:this.getControllerVisual(r[0],"color",n),offset:0});for(var o=1;o<i;o++){var l=r[0]+s*o;if(l>r[1])break;a.push({color:this.getControllerVisual(l,"color",n),offset:o/i})}return a.push({color:this.getControllerVisual(r[1],"color",n),offset:1}),a},t.prototype._createBarPoints=function(r,n){var i=this.visualMapModel.itemSize;return[[i[0]-n[0],r[0]],[i[0],r[0]],[i[0],r[1]],[i[0]-n[1],r[1]]]},t.prototype._createBarGroup=function(r){var n=this._orient,i=this.visualMapModel.get("inverse");return new _t(n==="horizontal"&&!i?{scaleX:r==="bottom"?1:-1,rotation:Math.PI/2}:n==="horizontal"&&i?{scaleX:r==="bottom"?-1:1,rotation:-Math.PI/2}:n==="vertical"&&!i?{scaleX:r==="left"?1:-1,scaleY:-1}:{scaleX:r==="left"?1:-1})},t.prototype._updateHandle=function(r,n){if(this._useHandle){var i=this._shapes,a=this.visualMapModel,s=i.handleThumbs,o=i.handleLabels,l=a.itemSize,c=a.getExtent(),u=this._applyTransform("left",i.mainGroup);Aze([0,1],function(h){var f=s[h];f.setStyle("fill",n.handlesColor[h]),f.y=r[h];var p=Fl(r[h],[0,l[1]],c,!0),g=this.getControllerVisual(p,"symbolSize");f.scaleX=f.scaleY=g/l[0],f.x=l[0]-g/2;var v=cl(i.handleLabelPoints[h],hp(f,this.group));if(this._orient==="horizontal"){var m=u==="left"||u==="top"?(l[0]-g)/2:(l[0]-g)/-2;v[1]+=m}o[h].setStyle({x:v[0],y:v[1],text:a.formatValueText(this._dataInterval[h]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(r,n,i,a){var s=this.visualMapModel,o=s.getExtent(),l=s.itemSize,c=[0,l[1]],u=this._shapes,h=u.indicator;if(h){h.attr("invisible",!1);var f={convertOpacityToAlpha:!0},p=this.getControllerVisual(r,"color",f),g=this.getControllerVisual(r,"symbolSize"),v=Fl(r,o,c,!0),m=l[0]-g/2,y={x:h.x,y:h.y};h.y=v,h.x=m;var x=cl(u.indicatorLabelPoint,hp(h,this.group)),_=u.indicatorLabel;_.attr("invisible",!1);var b=this._applyTransform("left",u.mainGroup),w=this._orient,S=w==="horizontal";_.setStyle({text:(i||"")+s.formatValueText(n),verticalAlign:S?b:"middle",align:S?"center":b});var k={x:m,y:v,style:{fill:p}},C={style:{x:x[0],y:x[1]}};if(s.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var E={duration:100,easing:"cubicInOut",additive:!0};h.x=y.x,h.y=y.y,h.animateTo(k,E),_.animateTo(C,E)}else h.attr(k),_.attr(C);this._firstShowIndicator=!1;var T=this._shapes.handleLabels;if(T)for(var N=0;N<T.length;N++)this.api.enterBlur(T[N])}},t.prototype._enableHoverLinkToSeries=function(){var r=this;this._shapes.mainGroup.on("mousemove",function(n){if(r._hovering=!0,!r._dragging){var i=r.visualMapModel.itemSize,a=r._applyTransform([n.offsetX,n.offsetY],r._shapes.mainGroup,!0,!0);a[1]=eq(WI(0,a[1]),i[1]),r._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){r._hovering=!1,!r._dragging&&r._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var r=this.api.getZr();this.visualMapModel.option.hoverLink?(r.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),r.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(r,n){var i=this.visualMapModel,a=i.itemSize;if(i.option.hoverLink){var s=[0,a[1]],o=i.getExtent();r=eq(WI(s[0],r),s[1]);var l=Mze(i,o,s),c=[r-l,r+l],u=Fl(r,s,o,!0),h=[Fl(c[0],s,o,!0),Fl(c[1],s,o,!0)];c[0]<s[0]&&(h[0]=-1/0),c[1]>s[1]&&(h[1]=1/0),n&&(h[0]===-1/0?this._showIndicator(u,h[1],"< ",l):h[1]===1/0?this._showIndicator(u,h[0],"> ",l):this._showIndicator(u,u,"≈ ",l));var f=this._hoverLinkDataIndices,p=[];(n||rq(i))&&(p=this._hoverLinkDataIndices=i.findTargetDataIndices(h));var g=FTe(f,p);this._dispatchHighDown("downplay",Qk(g[0],i)),this._dispatchHighDown("highlight",Qk(g[1],i))}},t.prototype._hoverLinkFromSeriesMouseOver=function(r){var n;if(Kf(r.target,function(l){var c=wt(l);if(c.dataIndex!=null)return n=c,!0},!0),!!n){var i=this.ecModel.getSeriesByIndex(n.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(i)){var s=i.getData(n.dataType),o=s.getStore().get(a.getDataDimensionIndex(s),n.dataIndex);isNaN(o)||this._showIndicator(o,o)}}},t.prototype._hideIndicator=function(){var r=this._shapes;r.indicator&&r.indicator.attr("invisible",!0),r.indicatorLabel&&r.indicatorLabel.attr("invisible",!0);var n=this._shapes.handleLabels;if(n)for(var i=0;i<n.length;i++)this.api.leaveBlur(n[i])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var r=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Qk(r,this.visualMapModel)),r.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var r=this.api.getZr();r.off("mouseover",this._hoverLinkFromSeriesMouseOver),r.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(r,n,i,a){var s=hp(n,a?null:this.group);return ye(r)?cl(r,s,i):S2(r,s,i)},t.prototype._dispatchHighDown=function(r,n){n&&n.length&&this.api.dispatchAction({type:r,batch:n})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(dle);function tq(e,t,r,n){return new Ya({shape:{points:e},draggable:!!r,cursor:t,drift:r,onmousemove:function(i){Cu(i.event)},ondragend:n})}function Mze(e,t,r){var n=jze/2,i=e.get("hoverLinkDataSize");return i&&(n=Fl(i,t,r,!0)/2),n}function rq(e){var t=e.get("hoverLinkOnHandle");return!!(t??e.get("realtime"))}function nq(e){return e==="vertical"?"ns-resize":"ew-resize"}var Pze={type:"selectDataRange",event:"dataRangeSelected",update:"update"},Lze=function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(r){r.setSelected(e.selected)})},Dze=[{createOnAllSeries:!0,reset:function(e,t){var r=[];return t.eachComponent("visualMap",function(n){var i=e.pipelineContext;!n.isTargetSeries(e)||i&&i.large||r.push(i6e(n.stateList,n.targetVisuals,Ke(n.getValueState,n),n.getDataDimensionIndex(e.getData())))}),r}},{createOnAllSeries:!0,reset:function(e,t){var r=e.getData(),n=[];t.eachComponent("visualMap",function(i){if(i.isTargetSeries(e)){var a=i.getVisualMeta(Ke(Oze,null,e,i))||{stops:[],outerColors:[]},s=i.getDataDimensionIndex(r);s>=0&&(a.dimension=s,n.push(a))}}),e.getData().setVisual("visualMeta",n)}}];function Oze(e,t,r,n){for(var i=t.targetVisuals[n],a=Mi.prepareVisualTypes(i),s={color:Yw(e.getData(),"color")},o=0,l=a.length;o<l;o++){var c=a[o],u=i[c==="opacity"?"__alphaForOpacity":c];u&&u.applyVisual(r,h,f)}return s.color;function h(p){return s[p]}function f(p,g){s[p]=g}}var iq=V;function $ze(e){var t=e&&e.visualMap;ye(t)||(t=t?[t]:[]),iq(t,function(r){if(r){Vg(r,"splitList")&&!Vg(r,"pieces")&&(r.pieces=r.splitList,delete r.splitList);var n=r.pieces;n&&ye(n)&&iq(n,function(i){ft(i)&&(Vg(i,"start")&&!Vg(i,"min")&&(i.min=i.start),Vg(i,"end")&&!Vg(i,"max")&&(i.max=i.end))})}})}function Vg(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var aq=!1;function fle(e){aq||(aq=!0,e.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),e.registerAction(Pze,Lze),V(Dze,function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)}),e.registerPreprocessor($ze))}function ple(e){e.registerComponentModel(Nze),e.registerComponentView(Ize),fle(e)}var Bze=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._pieceList=[],r}return t.prototype.optionUpdated=function(r,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],Fze[this._mode].call(this,this._pieceList),this._resetSelected(r,n);var a=this.option.categories;this.resetVisual(function(s,o){i==="categories"?(s.mappingMethod="category",s.categories=vt(a)):(s.dataExtent=this.getExtent(),s.mappingMethod="piecewise",s.pieceList=_e(this._pieceList,function(l){return l=vt(l),o!=="inRange"&&(l.visual=null),l}))})},t.prototype.completeVisualOption=function(){var r=this.option,n={},i=Mi.listVisualTypes(),a=this.isCategory();V(r.pieces,function(o){V(i,function(l){o.hasOwnProperty(l)&&(n[l]=1)})}),V(n,function(o,l){var c=!1;V(this.stateList,function(u){c=c||s(r,u,l)||s(r.target,u,l)},this),!c&&V(this.stateList,function(u){(r[u]||(r[u]={}))[l]=ule.get(l,u==="inRange"?"active":"inactive",a)})},this);function s(o,l,c){return o&&o[l]&&o[l].hasOwnProperty(c)}e.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(r,n){var i=this.option,a=this._pieceList,s=(n?i:r).selected||{};if(i.selected=s,V(a,function(l,c){var u=this.getSelectedMapKey(l);s.hasOwnProperty(u)||(s[u]=!0)},this),i.selectedMode==="single"){var o=!1;V(a,function(l,c){var u=this.getSelectedMapKey(l);s[u]&&(o?s[u]=!1:o=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(r){return this._mode==="categories"?r.value+"":r.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var r=this.option;return r.pieces&&r.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(r){this.option.selected=vt(r)},t.prototype.getValueState=function(r){var n=Mi.findPieceIndex(r,this._pieceList);return n!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[n])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(r){var n=[],i=this._pieceList;return this.eachTargetSeries(function(a){var s=[],o=a.getData();o.each(this.getDataDimensionIndex(o),function(l,c){var u=Mi.findPieceIndex(l,i);u===r&&s.push(c)},this),n.push({seriesId:a.id,dataIndex:s})},this),n},t.prototype.getRepresentValue=function(r){var n;if(this.isCategory())n=r.value;else if(r.value!=null)n=r.value;else{var i=r.interval||[];n=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return n},t.prototype.getVisualMeta=function(r){if(this.isCategory())return;var n=[],i=["",""],a=this;function s(u,h){var f=a.getRepresentValue({interval:u});h||(h=a.getValueState(f));var p=r(f,h);u[0]===-1/0?i[0]=p:u[1]===1/0?i[1]=p:n.push({value:u[0],color:p},{value:u[1],color:p})}var o=this._pieceList.slice();if(!o.length)o.push({interval:[-1/0,1/0]});else{var l=o[0].interval[0];l!==-1/0&&o.unshift({interval:[-1/0,l]}),l=o[o.length-1].interval[1],l!==1/0&&o.push({interval:[l,1/0]})}var c=-1/0;return V(o,function(u){var h=u.interval;h&&(h[0]>c&&s([c,h[0]],"outOfRange"),s(h.slice()),c=h[1])},this),{stops:n,outerColors:i}},t.type="visualMap.piecewise",t.defaultOption=Dh(PT.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(PT),Fze={splitNumber:function(e){var t=this.option,r=Math.min(t.precision,20),n=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;for(var a=(n[1]-n[0])/i;+a.toFixed(r)!==a&&r<5;)r++;t.precision=r,a=+a.toFixed(r),t.minOpen&&e.push({interval:[-1/0,n[0]],close:[0,0]});for(var s=0,o=n[0];s<i;o+=a,s++){var l=s===i-1?n[1]:o+a;e.push({interval:[o,l],close:[1,1]})}t.maxOpen&&e.push({interval:[n[1],1/0],close:[0,0]}),JU(e),V(e,function(c,u){c.index=u,c.text=this.formatValueText(c.interval)},this)},categories:function(e){var t=this.option;V(t.categories,function(r){e.push({text:this.formatValueText(r,!0),value:r})},this),sq(t,e)},pieces:function(e){var t=this.option;V(t.pieces,function(r,n){ft(r)||(r={value:r});var i={text:"",index:n};if(r.label!=null&&(i.text=r.label),r.hasOwnProperty("value")){var a=i.value=r.value;i.interval=[a,a],i.close=[1,1]}else{for(var s=i.interval=[],o=i.close=[0,0],l=[1,0,1],c=[-1/0,1/0],u=[],h=0;h<2;h++){for(var f=[["gte","gt","min"],["lte","lt","max"]][h],p=0;p<3&&s[h]==null;p++)s[h]=r[f[p]],o[h]=l[p],u[h]=p===2;s[h]==null&&(s[h]=c[h])}u[0]&&s[1]===1/0&&(o[0]=0),u[1]&&s[0]===-1/0&&(o[1]=0),s[0]===s[1]&&o[0]&&o[1]&&(i.value=s[0])}i.visual=Mi.retrieveVisuals(r),e.push(i)},this),sq(t,e),JU(e),V(e,function(r){var n=r.close,i=[["<","≤"][n[1]],[">","≥"][n[0]]];r.text=r.text||this.formatValueText(r.value!=null?r.value:r.interval,!1,i)},this)}};function sq(e,t){var r=e.inverse;(e.orient==="vertical"?!r:r)&&t.reverse()}var zze=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.doRender=function(){var r=this.group;r.removeAll();var n=this.visualMapModel,i=n.get("textGap"),a=n.textStyleModel,s=a.getFont(),o=a.getTextColor(),l=this._getItemAlign(),c=n.itemSize,u=this._getViewData(),h=u.endsText,f=Ui(n.get("showLabel",!0),!h),p=!n.get("selectedMode");h&&this._renderEndsText(r,h[0],c,f,l),V(u.viewPieceList,function(g){var v=g.piece,m=new _t;m.onclick=Ke(this._onItemClick,this,v),this._enableHoverLink(m,g.indexInModelPieceList);var y=n.getRepresentValue(v);if(this._createItemSymbol(m,y,[0,0,c[0],c[1]],p),f){var x=this.visualMapModel.getValueState(y);m.add(new kr({style:{x:l==="right"?-i:c[0]+i,y:c[1]/2,text:v.text,verticalAlign:"middle",align:l,font:s,fill:o,opacity:x==="outOfRange"?.5:1},silent:p}))}r.add(m)},this),h&&this._renderEndsText(r,h[1],c,f,l),fp(n.get("orient"),r,n.get("itemGap")),this.renderBackground(r),this.positionGroup(r)},t.prototype._enableHoverLink=function(r,n){var i=this;r.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(s){var o=i.visualMapModel;o.option.hoverLink&&i.api.dispatchAction({type:s,batch:Qk(o.findTargetDataIndices(n),o)})}},t.prototype._getItemAlign=function(){var r=this.visualMapModel,n=r.option;if(n.orient==="vertical")return hle(r,this.api,r.itemSize);var i=n.align;return(!i||i==="auto")&&(i="left"),i},t.prototype._renderEndsText=function(r,n,i,a,s){if(n){var o=new _t,l=this.visualMapModel.textStyleModel;o.add(new kr({style:yn(l,{x:a?s==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:a?s:"center",text:n})})),r.add(o)}},t.prototype._getViewData=function(){var r=this.visualMapModel,n=_e(r.getPieceList(),function(o,l){return{piece:o,indexInModelPieceList:l}}),i=r.get("text"),a=r.get("orient"),s=r.get("inverse");return(a==="horizontal"?s:!s)?n.reverse():i&&(i=i.slice().reverse()),{viewPieceList:n,endsText:i}},t.prototype._createItemSymbol=function(r,n,i,a){var s=fi(this.getControllerVisual(n,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(n,"color"));s.silent=a,r.add(s)},t.prototype._onItemClick=function(r){var n=this.visualMapModel,i=n.option,a=i.selectedMode;if(a){var s=vt(i.selected),o=n.getSelectedMapKey(r);a==="single"||a===!0?(s[o]=!0,V(s,function(l,c){s[c]=c===o})):s[o]=!s[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:s})}},t.type="visualMap.piecewise",t}(dle);function gle(e){e.registerComponentModel(Bze),e.registerComponentView(zze),fle(e)}function Uze(e){Zt(ple),Zt(gle)}var Hze={label:{enabled:!0},decal:{show:!1}},oq=_r(),Vze={};function Wze(e,t){var r=e.getModel("aria");if(!r.get("enabled"))return;var n=vt(Hze);Pt(n.label,e.getLocaleModel().get("aria"),!1),Pt(r.option,n,!1),i(),a();function i(){var c=r.getModel("decal"),u=c.get("show");if(u){var h=Qe();e.eachSeries(function(f){if(!f.isColorBySeries()){var p=h.get(f.type);p||(p={},h.set(f.type,p)),oq(f).scope=p}}),e.eachRawSeries(function(f){if(e.isSeriesFiltered(f))return;if(lt(f.enableAriaDecal)){f.enableAriaDecal();return}var p=f.getData();if(f.isColorBySeries()){var x=uD(f.ecModel,f.name,Vze,e.getSeriesCount()),_=p.getVisual("decal");p.setVisual("decal",b(_,x))}else{var g=f.getRawData(),v={},m=oq(f).scope;p.each(function(w){var S=p.getRawIndex(w);v[S]=w});var y=g.count();g.each(function(w){var S=v[w],k=g.getName(w)||w+"",C=uD(f.ecModel,k,m,y),E=p.getItemVisual(S,"decal");p.setItemVisual(S,"decal",b(E,C))})}function b(w,S){var k=w?pe(pe({},S),w):S;return k.dirty=!0,k}})}}function a(){var c=t.getZr().dom;if(c){var u=e.getLocaleModel().get("aria"),h=r.getModel("label");if(h.option=ut(h.option,u),!!h.get("enabled")){if(c.setAttribute("role","img"),h.get("description")){c.setAttribute("aria-label",h.get("description"));return}var f=e.getSeriesCount(),p=h.get(["data","maxCount"])||10,g=h.get(["series","maxCount"])||10,v=Math.min(f,g),m;if(!(f<1)){var y=o();if(y){var x=h.get(["general","withTitle"]);m=s(x,{title:y})}else m=h.get(["general","withoutTitle"]);var _=[],b=f>1?h.get(["series","multiple","prefix"]):h.get(["series","single","prefix"]);m+=s(b,{seriesCount:f}),e.eachSeries(function(C,E){if(E<v){var T=void 0,N=C.get("name"),I=N?"withName":"withoutName";T=f>1?h.get(["series","multiple",I]):h.get(["series","single",I]),T=s(T,{seriesId:C.seriesIndex,seriesName:C.get("name"),seriesType:l(C.subType)});var P=C.getData();if(P.count()>p){var D=h.get(["data","partialData"]);T+=s(D,{displayCnt:p})}else T+=h.get(["data","allData"]);for(var $=h.get(["data","separator","middle"]),L=h.get(["data","separator","end"]),O=h.get(["data","excludeDimensionId"]),j=[],M=0;M<P.count();M++)if(M<p){var R=P.getName(M),z=O?Br(P.getValues(M),function(F,G){return Wt(O,G)===-1}):P.getValues(M),U=h.get(["data",R?"withName":"withoutName"]);j.push(s(U,{name:R,value:z.join($)}))}T+=j.join($)+L,_.push(T)}});var w=h.getModel(["series","multiple","separator"]),S=w.get("middle"),k=w.get("end");m+=_.join(S)+k,c.setAttribute("aria-label",m)}}}}function s(c,u){if(!We(c))return c;var h=c;return V(u,function(f,p){h=h.replace(new RegExp("\\{\\s*"+p+"\\s*\\}","g"),f)}),h}function o(){var c=e.get("title");return c&&c.length&&(c=c[0]),c&&c.text}function l(c){var u=e.getLocaleModel().get(["series","typeNames"]);return u[c]||u.chart}}function Gze(e){if(!(!e||!e.aria)){var t=e.aria;t.show!=null&&(t.enabled=t.show),t.label=t.label||{},V(["description","general","series","data"],function(r){t[r]!=null&&(t.label[r]=t[r])})}}function qze(e){e.registerPreprocessor(Gze),e.registerVisual(e.PRIORITY.VISUAL.ARIA,Wze)}var lq={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},Yze=function(){function e(t){var r=this._condVal=We(t)?new RegExp(t):nEe(t)?t:null;if(r==null){var n="";$r(n)}}return e.prototype.evaluate=function(t){var r=typeof t;return We(r)?this._condVal.test(t):Nr(r)?this._condVal.test(t+""):!1},e}(),Kze=function(){function e(){}return e.prototype.evaluate=function(){return this.value},e}(),Xze=function(){function e(){}return e.prototype.evaluate=function(){for(var t=this.children,r=0;r<t.length;r++)if(!t[r].evaluate())return!1;return!0},e}(),Zze=function(){function e(){}return e.prototype.evaluate=function(){for(var t=this.children,r=0;r<t.length;r++)if(t[r].evaluate())return!0;return!1},e}(),Jze=function(){function e(){}return e.prototype.evaluate=function(){return!this.child.evaluate()},e}(),Qze=function(){function e(){}return e.prototype.evaluate=function(){for(var t=!!this.valueParser,r=this.getValue,n=r(this.valueGetterParam),i=t?this.valueParser(n):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(t?i:n))return!1;return!0},e}();function lB(e,t){if(e===!0||e===!1){var r=new Kze;return r.value=e,r}var n="";return mle(e)||$r(n),e.and?cq("and",e,t):e.or?cq("or",e,t):e.not?e8e(e,t):t8e(e,t)}function cq(e,t,r){var n=t[e],i="";ye(n)||$r(i),n.length||$r(i);var a=e==="and"?new Xze:new Zze;return a.children=_e(n,function(s){return lB(s,r)}),a.children.length||$r(i),a}function e8e(e,t){var r=e.not,n="";mle(r)||$r(n);var i=new Jze;return i.child=lB(r,t),i.child||$r(n),i}function t8e(e,t){for(var r="",n=t.prepareGetValue(e),i=[],a=ar(e),s=e.parser,o=s?Zne(s):null,l=0;l<a.length;l++){var c=a[l];if(!(c==="parser"||t.valueGetterAttrMap.get(c))){var u=Ze(lq,c)?lq[c]:c,h=e[c],f=o?o(h):h,p=HAe(u,f)||u==="reg"&&new Yze(f);p||$r(r),i.push(p)}}i.length||$r(r);var g=new Qze;return g.valueGetterParam=n,g.valueParser=o,g.getValue=t.getValue,g.subCondList=i,g}function mle(e){return ft(e)&&!_a(e)}var r8e=function(){function e(t,r){this._cond=lB(t,r)}return e.prototype.evaluate=function(){return this._cond.evaluate()},e}();function n8e(e,t){return new r8e(e,t)}var i8e={type:"echarts:filter",transform:function(e){for(var t=e.upstream,r,n=n8e(e.config,{valueGetterAttrMap:Qe({dimension:!0}),prepareGetValue:function(o){var l="",c=o.dimension;Ze(o,"dimension")||$r(l);var u=t.getDimensionInfo(c);return u||$r(l),{dimIdx:u.index}},getValue:function(o){return t.retrieveValueFromItem(r,o.dimIdx)}}),i=[],a=0,s=t.count();a<s;a++)r=t.getRawDataItem(a),n.evaluate()&&i.push(r);return{data:i}}},a8e={type:"echarts:sort",transform:function(e){var t=e.upstream,r=e.config,n="",i=sn(r);i.length||$r(n);var a=[];V(i,function(u){var h=u.dimension,f=u.order,p=u.parser,g=u.incomparable;if(h==null&&$r(n),f!=="asc"&&f!=="desc"&&$r(n),g&&g!=="min"&&g!=="max"){var v="";$r(v)}if(f!=="asc"&&f!=="desc"){var m="";$r(m)}var y=t.getDimensionInfo(h);y||$r(n);var x=p?Zne(p):null;p&&!x&&$r(n),a.push({dimIdx:y.index,parser:x,comparator:new Qne(f,g)})});var s=t.sourceFormat;s!==ba&&s!==Do&&$r(n);for(var o=[],l=0,c=t.count();l<c;l++)o.push(t.getRawDataItem(l));return o.sort(function(u,h){for(var f=0;f<a.length;f++){var p=a[f],g=t.retrieveValueFromItem(u,p.dimIdx),v=t.retrieveValueFromItem(h,p.dimIdx);p.parser&&(g=p.parser(g),v=p.parser(v));var m=p.comparator.evaluate(g,v);if(m!==0)return m}return 0}),{data:o}}};function s8e(e){e.registerTransform(i8e),e.registerTransform(a8e)}var o8e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="dataset",r}return t.prototype.init=function(r,n,i){e.prototype.init.call(this,r,n,i),this._sourceManager=new nie(this),u9(this)},t.prototype.mergeOption=function(r,n){e.prototype.mergeOption.call(this,r,n),u9(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:fc},t}(ir),l8e=function(e){ce(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="dataset",r}return t.type="dataset",t}(Bn);function c8e(e){e.registerComponentModel(o8e),e.registerComponentView(l8e)}var Ol=wc.CMD;function Pm(e,t){return Math.abs(e-t)<1e-5}function dO(e){var t=e.data,r=e.len(),n=[],i,a=0,s=0,o=0,l=0;function c(P,D){i&&i.length>2&&n.push(i),i=[P,D]}function u(P,D,$,L){Pm(P,$)&&Pm(D,L)||i.push(P,D,$,L,$,L)}function h(P,D,$,L,O,j){var M=Math.abs(D-P),R=Math.tan(M/4)*4/3,z=D<P?-1:1,U=Math.cos(P),F=Math.sin(P),G=Math.cos(D),q=Math.sin(D),K=U*O+$,B=F*j+L,W=G*O+$,Y=q*j+L,Z=O*R*z,Q=j*R*z;i.push(K-Z*F,B+Q*U,W+Z*q,Y-Q*G,W,Y)}for(var f,p,g,v,m=0;m<r;){var y=t[m++],x=m===1;switch(x&&(a=t[m],s=t[m+1],o=a,l=s,(y===Ol.L||y===Ol.C||y===Ol.Q)&&(i=[o,l])),y){case Ol.M:a=o=t[m++],s=l=t[m++],c(o,l);break;case Ol.L:f=t[m++],p=t[m++],u(a,s,f,p),a=f,s=p;break;case Ol.C:i.push(t[m++],t[m++],t[m++],t[m++],a=t[m++],s=t[m++]);break;case Ol.Q:f=t[m++],p=t[m++],g=t[m++],v=t[m++],i.push(a+2/3*(f-a),s+2/3*(p-s),g+2/3*(f-g),v+2/3*(p-v),g,v),a=g,s=v;break;case Ol.A:var _=t[m++],b=t[m++],w=t[m++],S=t[m++],k=t[m++],C=t[m++]+k;m+=1;var E=!t[m++];f=Math.cos(k)*w+_,p=Math.sin(k)*S+b,x?(o=f,l=p,c(o,l)):u(a,s,f,p),a=Math.cos(C)*w+_,s=Math.sin(C)*S+b;for(var T=(E?-1:1)*Math.PI/2,N=k;E?N>C:N<C;N+=T){var I=E?Math.max(N+T,C):Math.min(N+T,C);h(N,I,_,b,w,S)}break;case Ol.R:o=a=t[m++],l=s=t[m++],f=o+t[m++],p=l+t[m++],c(f,l),u(f,l,f,p),u(f,p,o,p),u(o,p,o,l),u(o,l,f,l);break;case Ol.Z:i&&u(a,s,o,l),a=o,s=l;break}}return i&&i.length>2&&n.push(i),n}function hO(e,t,r,n,i,a,s,o,l,c){if(Pm(e,r)&&Pm(t,n)&&Pm(i,s)&&Pm(a,o)){l.push(s,o);return}var u=2/c,h=u*u,f=s-e,p=o-t,g=Math.sqrt(f*f+p*p);f/=g,p/=g;var v=r-e,m=n-t,y=i-s,x=a-o,_=v*v+m*m,b=y*y+x*x;if(_<h&&b<h){l.push(s,o);return}var w=f*v+p*m,S=-f*y-p*x,k=_-w*w,C=b-S*S;if(k<h&&w>=0&&C<h&&S>=0){l.push(s,o);return}var E=[],T=[];hh(e,r,i,s,.5,E),hh(t,n,a,o,.5,T),hO(E[0],T[0],E[1],T[1],E[2],T[2],E[3],T[3],l,c),hO(E[4],T[4],E[5],T[5],E[6],T[6],E[7],T[7],l,c)}function u8e(e,t){var r=dO(e),n=[];t=t||1;for(var i=0;i<r.length;i++){var a=r[i],s=[],o=a[0],l=a[1];s.push(o,l);for(var c=2;c<a.length;){var u=a[c++],h=a[c++],f=a[c++],p=a[c++],g=a[c++],v=a[c++];hO(o,l,u,h,f,p,g,v,s,t),o=g,l=v}n.push(s)}return n}function vle(e,t,r){var n=e[t],i=e[1-t],a=Math.abs(n/i),s=Math.ceil(Math.sqrt(a*r)),o=Math.floor(r/s);o===0&&(o=1,s=r);for(var l=[],c=0;c<s;c++)l.push(o);var u=s*o,h=r-u;if(h>0)for(var c=0;c<h;c++)l[c%s]+=1;return l}function uq(e,t,r){for(var n=e.r0,i=e.r,a=e.startAngle,s=e.endAngle,o=Math.abs(s-a),l=o*i,c=i-n,u=l>Math.abs(c),h=vle([l,c],u?0:1,t),f=(u?o:c)/h.length,p=0;p<h.length;p++)for(var g=(u?c:o)/h[p],v=0;v<h[p];v++){var m={};u?(m.startAngle=a+f*p,m.endAngle=a+f*(p+1),m.r0=n+g*v,m.r=n+g*(v+1)):(m.startAngle=a+g*v,m.endAngle=a+g*(v+1),m.r0=n+f*p,m.r=n+f*(p+1)),m.clockwise=e.clockwise,m.cx=e.cx,m.cy=e.cy,r.push(m)}}function d8e(e,t,r){for(var n=e.width,i=e.height,a=n>i,s=vle([n,i],a?0:1,t),o=a?"width":"height",l=a?"height":"width",c=a?"x":"y",u=a?"y":"x",h=e[o]/s.length,f=0;f<s.length;f++)for(var p=e[l]/s[f],g=0;g<s[f];g++){var v={};v[c]=f*h,v[u]=g*p,v[o]=h,v[l]=p,v.x+=e.x,v.y+=e.y,r.push(v)}}function dq(e,t,r,n){return e*n-r*t}function h8e(e,t,r,n,i,a,s,o){var l=r-e,c=n-t,u=s-i,h=o-a,f=dq(u,h,l,c);if(Math.abs(f)<1e-6)return null;var p=e-i,g=t-a,v=dq(p,g,u,h)/f;return v<0||v>1?null:new Lt(v*l+e,v*c+t)}function f8e(e,t,r){var n=new Lt;Lt.sub(n,r,t),n.normalize();var i=new Lt;Lt.sub(i,e,t);var a=i.dot(n);return a}function Wg(e,t){var r=e[e.length-1];r&&r[0]===t[0]&&r[1]===t[1]||e.push(t)}function p8e(e,t,r){for(var n=e.length,i=[],a=0;a<n;a++){var s=e[a],o=e[(a+1)%n],l=h8e(s[0],s[1],o[0],o[1],t.x,t.y,r.x,r.y);l&&i.push({projPt:f8e(l,t,r),pt:l,idx:a})}if(i.length<2)return[{points:e},{points:e}];i.sort(function(m,y){return m.projPt-y.projPt});var c=i[0],u=i[i.length-1];if(u.idx<c.idx){var h=c;c=u,u=h}for(var f=[c.pt.x,c.pt.y],p=[u.pt.x,u.pt.y],g=[f],v=[p],a=c.idx+1;a<=u.idx;a++)Wg(g,e[a].slice());Wg(g,p),Wg(g,f);for(var a=u.idx+1;a<=c.idx+n;a++)Wg(v,e[a%n].slice());return Wg(v,f),Wg(v,p),[{points:g},{points:v}]}function hq(e){var t=e.points,r=[],n=[];v2(t,r,n);var i=new Bt(r[0],r[1],n[0]-r[0],n[1]-r[1]),a=i.width,s=i.height,o=i.x,l=i.y,c=new Lt,u=new Lt;return a>s?(c.x=u.x=o+a/2,c.y=l,u.y=l+s):(c.y=u.y=l+s/2,c.x=o,u.x=o+a),p8e(t,c,u)}function LT(e,t,r,n){if(r===1)n.push(t);else{var i=Math.floor(r/2),a=e(t);LT(e,a[0],i,n),LT(e,a[1],r-i,n)}return n}function g8e(e,t){for(var r=[],n=0;n<t;n++)r.push(E4(e));return r}function m8e(e,t){t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel}function v8e(e){for(var t=[],r=0;r<e.length;)t.push([e[r++],e[r++]]);return t}function y8e(e,t){var r=[],n=e.shape,i;switch(e.type){case"rect":d8e(n,t,r),i=xr;break;case"sector":uq(n,t,r),i=qa;break;case"circle":uq({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},t,r),i=qa;break;default:var a=e.getComputedTransform(),s=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,o=_e(u8e(e.getUpdatedPathProxy(),s),function(y){return v8e(y)}),l=o.length;if(l===0)LT(hq,{points:o[0]},t,r);else if(l===t)for(var c=0;c<l;c++)r.push({points:o[c]});else{var u=0,h=_e(o,function(y){var x=[],_=[];v2(y,x,_);var b=(_[1]-x[1])*(_[0]-x[0]);return u+=b,{poly:y,area:b}});h.sort(function(y,x){return x.area-y.area});for(var f=t,c=0;c<l;c++){var p=h[c];if(f<=0)break;var g=c===l-1?f:Math.ceil(p.area/u*t);g<0||(LT(hq,{points:p.poly},g,r),f-=g)}}i=Ya;break}if(!i)return g8e(e,t);for(var v=[],c=0;c<r.length;c++){var m=new i;m.setShape(r[c]),m8e(e,m),v.push(m)}return v}function x8e(e,t){var r=e.length,n=t.length;if(r===n)return[e,t];for(var i=[],a=[],s=r<n?e:t,o=Math.min(r,n),l=Math.abs(n-r)/6,c=(o-2)/6,u=Math.ceil(l/c)+1,h=[s[0],s[1]],f=l,p=2;p<o;){var g=s[p-2],v=s[p-1],m=s[p++],y=s[p++],x=s[p++],_=s[p++],b=s[p++],w=s[p++];if(f<=0){h.push(m,y,x,_,b,w);continue}for(var S=Math.min(f,u-1)+1,k=1;k<=S;k++){var C=k/S;hh(g,m,x,b,C,i),hh(v,y,_,w,C,a),g=i[3],v=a[3],h.push(i[1],a[1],i[2],a[2],g,v),m=i[5],y=a[5],x=i[6],_=a[6]}f-=S-1}return s===e?[h,t]:[e,h]}function fq(e,t){for(var r=e.length,n=e[r-2],i=e[r-1],a=[],s=0;s<t.length;)a[s++]=n,a[s++]=i;return a}function _8e(e,t){for(var r,n,i,a=[],s=[],o=0;o<Math.max(e.length,t.length);o++){var l=e[o],c=t[o],u=void 0,h=void 0;l?c?(r=x8e(l,c),u=r[0],h=r[1],n=u,i=h):(h=fq(i||l,l),u=l):(u=fq(n||c,c),h=c),a.push(u),s.push(h)}return[a,s]}function pq(e){for(var t=0,r=0,n=0,i=e.length,a=0,s=i-2;a<i;s=a,a+=2){var o=e[s],l=e[s+1],c=e[a],u=e[a+1],h=o*u-c*l;t+=h,r+=(o+c)*h,n+=(l+u)*h}return t===0?[e[0]||0,e[1]||0]:[r/t/3,n/t/3,t]}function b8e(e,t,r,n){for(var i=(e.length-2)/6,a=1/0,s=0,o=e.length,l=o-2,c=0;c<i;c++){for(var u=c*6,h=0,f=0;f<o;f+=2){var p=f===0?u:(u+f-2)%l+2,g=e[p]-r[0],v=e[p+1]-r[1],m=t[f]-n[0],y=t[f+1]-n[1],x=m-g,_=y-v;h+=x*x+_*_}h<a&&(a=h,s=c)}return s}function w8e(e){for(var t=[],r=e.length,n=0;n<r;n+=2)t[n]=e[r-n-2],t[n+1]=e[r-n-1];return t}function S8e(e,t,r,n){for(var i=[],a,s=0;s<e.length;s++){var o=e[s],l=t[s],c=pq(o),u=pq(l);a==null&&(a=c[2]<0!=u[2]<0);var h=[],f=[],p=0,g=1/0,v=[],m=o.length;a&&(o=w8e(o));for(var y=b8e(o,l,c,u)*6,x=m-2,_=0;_<x;_+=2){var b=(y+_)%x+2;h[_+2]=o[b]-c[0],h[_+3]=o[b+1]-c[1]}h[0]=o[y]-c[0],h[1]=o[y+1]-c[1];for(var w=n/r,S=-n/2;S<=n/2;S+=w){for(var k=Math.sin(S),C=Math.cos(S),E=0,_=0;_<o.length;_+=2){var T=h[_],N=h[_+1],I=l[_]-u[0],P=l[_+1]-u[1],D=I*C-P*k,$=I*k+P*C;v[_]=D,v[_+1]=$;var L=D-T,O=$-N;E+=L*L+O*O}if(E<g){g=E,p=S;for(var j=0;j<v.length;j++)f[j]=v[j]}}i.push({from:h,to:f,fromCp:c,toCp:u,rotation:-p})}return i}function DT(e){return e.__isCombineMorphing}var yle="__mOriginal_";function OT(e,t,r){var n=yle+t,i=e[n]||e[t];e[n]||(e[n]=e[t]);var a=r.replace,s=r.after,o=r.before;e[t]=function(){var l=arguments,c;return o&&o.apply(this,l),a?c=a.apply(this,l):c=i.apply(this,l),s&&s.apply(this,l),c}}function R_(e,t){var r=yle+t;e[r]&&(e[t]=e[r],e[r]=null)}function gq(e,t){for(var r=0;r<e.length;r++)for(var n=e[r],i=0;i<n.length;){var a=n[i],s=n[i+1];n[i++]=t[0]*a+t[2]*s+t[4],n[i++]=t[1]*a+t[3]*s+t[5]}}function xle(e,t){var r=e.getUpdatedPathProxy(),n=t.getUpdatedPathProxy(),i=_8e(dO(r),dO(n)),a=i[0],s=i[1],o=e.getComputedTransform(),l=t.getComputedTransform();function c(){this.transform=null}o&&gq(a,o),l&&gq(s,l),OT(t,"updateTransform",{replace:c}),t.transform=null;var u=S8e(a,s,10,Math.PI),h=[];OT(t,"buildPath",{replace:function(f){for(var p=t.__morphT,g=1-p,v=[],m=0;m<u.length;m++){var y=u[m],x=y.from,_=y.to,b=y.rotation*p,w=y.fromCp,S=y.toCp,k=Math.sin(b),C=Math.cos(b);Pk(v,w,S,p);for(var E=0;E<x.length;E+=2){var T=x[E],N=x[E+1],I=_[E],P=_[E+1],D=T*g+I*p,$=N*g+P*p;h[E]=D*C-$*k+v[0],h[E+1]=D*k+$*C+v[1]}var L=h[0],O=h[1];f.moveTo(L,O);for(var E=2;E<x.length;){var I=h[E++],P=h[E++],j=h[E++],M=h[E++],R=h[E++],z=h[E++];L===I&&O===P&&j===R&&M===z?f.lineTo(R,z):f.bezierCurveTo(I,P,j,M,R,z),L=R,O=z}}}})}function cB(e,t,r){if(!e||!t)return t;var n=r.done,i=r.during;xle(e,t),t.__morphT=0;function a(){R_(t,"buildPath"),R_(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},ut({during:function(s){t.dirtyShape(),i&&i(s)},done:function(){a(),n&&n()}},r)),t}function C8e(e,t,r,n,i,a){var s=16;e=i===r?0:Math.round(32767*(e-r)/(i-r)),t=a===n?0:Math.round(32767*(t-n)/(a-n));for(var o=0,l,c=(1<<s)/2;c>0;c/=2){var u=0,h=0;(e&c)>0&&(u=1),(t&c)>0&&(h=1),o+=c*c*(3*u^h),h===0&&(u===1&&(e=c-1-e,t=c-1-t),l=e,e=t,t=l)}return o}function $T(e){var t=1/0,r=1/0,n=-1/0,i=-1/0,a=_e(e,function(o){var l=o.getBoundingRect(),c=o.getComputedTransform(),u=l.x+l.width/2+(c?c[4]:0),h=l.y+l.height/2+(c?c[5]:0);return t=Math.min(u,t),r=Math.min(h,r),n=Math.max(u,n),i=Math.max(h,i),[u,h]}),s=_e(a,function(o,l){return{cp:o,z:C8e(o[0],o[1],t,r,n,i),path:e[l]}});return s.sort(function(o,l){return o.z-l.z}).map(function(o){return o.path})}function _le(e){return y8e(e.path,e.count)}function fO(){return{fromIndividuals:[],toIndividuals:[],count:0}}function k8e(e,t,r){var n=[];function i(w){for(var S=0;S<w.length;S++){var k=w[S];DT(k)?i(k.childrenRef()):k instanceof er&&n.push(k)}}i(e);var a=n.length;if(!a)return fO();var s=r.dividePath||_le,o=s({path:t,count:a});if(o.length!==a)return console.error("Invalid morphing: unmatched splitted path"),fO();n=$T(n),o=$T(o);for(var l=r.done,c=r.during,u=r.individualDelay,h=new au,f=0;f<a;f++){var p=n[f],g=o[f];g.parent=t,g.copyTransform(h),u||xle(p,g)}t.__isCombineMorphing=!0,t.childrenRef=function(){return o};function v(w){for(var S=0;S<o.length;S++)o[S].addSelfToZr(w)}OT(t,"addSelfToZr",{after:function(w){v(w)}}),OT(t,"removeSelfFromZr",{after:function(w){for(var S=0;S<o.length;S++)o[S].removeSelfFromZr(w)}});function m(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,R_(t,"addSelfToZr"),R_(t,"removeSelfFromZr")}var y=o.length;if(u)for(var x=y,_=function(){x--,x===0&&(m(),l&&l())},f=0;f<y;f++){var b=u?ut({delay:(r.delay||0)+u(f,y,n[f],o[f]),done:_},r):r;cB(n[f],o[f],b)}else t.__morphT=0,t.animateTo({__morphT:1},ut({during:function(w){for(var S=0;S<y;S++){var k=o[S];k.__morphT=t.__morphT,k.dirtyShape()}c&&c(w)},done:function(){m();for(var w=0;w<e.length;w++)R_(e[w],"updateTransform");l&&l()}},r));return t.__zr&&v(t.__zr),{fromIndividuals:n,toIndividuals:o,count:y}}function E8e(e,t,r){var n=t.length,i=[],a=r.dividePath||_le;function s(p){for(var g=0;g<p.length;g++){var v=p[g];DT(v)?s(v.childrenRef()):v instanceof er&&i.push(v)}}if(DT(e)){s(e.childrenRef());var o=i.length;if(o<n)for(var l=0,c=o;c<n;c++)i.push(E4(i[l++%o]));i.length=n}else{i=a({path:e,count:n});for(var u=e.getComputedTransform(),c=0;c<i.length;c++)i[c].setLocalTransform(u);if(i.length!==n)return console.error("Invalid morphing: unmatched splitted path"),fO()}i=$T(i),t=$T(t);for(var h=r.individualDelay,c=0;c<n;c++){var f=h?ut({delay:(r.delay||0)+h(c,n,i[c],t[c])},r):r;cB(i[c],t[c],f)}return{fromIndividuals:i,toIndividuals:t,count:t.length}}function mq(e){return ye(e[0])}function vq(e,t){for(var r=[],n=e.length,i=0;i<n;i++)r.push({one:e[i],many:[]});for(var i=0;i<t.length;i++){var a=t[i].length,s=void 0;for(s=0;s<a;s++)r[s%n].many.push(t[i][s])}for(var o=0,i=n-1;i>=0;i--)if(!r[i].many.length){var l=r[o].many;if(l.length<=1)if(o)o=0;else return r;var a=l.length,c=Math.ceil(a/2);r[i].many=l.slice(c,a),r[o].many=l.slice(0,c),o++}return r}var T8e={clone:function(e){for(var t=[],r=1-Math.pow(1-e.path.style.opacity,1/e.count),n=0;n<e.count;n++){var i=E4(e.path);i.setStyle("opacity",r),t.push(i)}return t},split:null};function GI(e,t,r,n,i,a){if(!e.length||!t.length)return;var s=v0("update",n,i);if(!(s&&s.duration>0))return;var o=n.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},s),c,u;mq(e)&&(c=e,u=t),mq(t)&&(c=t,u=e);function h(y,x,_,b,w){var S=y.many,k=y.one;if(S.length===1&&!w){var C=x?S[0]:k,E=x?k:S[0];if(DT(C))h({many:[C],one:E},!0,_,b,!0);else{var T=o?ut({delay:o(_,b)},l):l;cB(C,E,T),a(C,E,C,E,T)}}else for(var N=ut({dividePath:T8e[r],individualDelay:o&&function(O,j,M,R){return o(O+_,b)}},l),I=x?k8e(S,k,N):E8e(k,S,N),P=I.fromIndividuals,D=I.toIndividuals,$=P.length,L=0;L<$;L++){var T=o?ut({delay:o(L,$)},l):l;a(P[L],D[L],x?S[L]:y.one,x?y.one:S[L],T)}}for(var f=c?c===e:e.length>t.length,p=c?vq(u,c):vq(f?t:e,[f?e:t]),g=0,v=0;v<p.length;v++)g+=p[v].many.length;for(var m=0,v=0;v<p.length;v++)h(p[v],f,m,g),m+=p[v].many.length}function jf(e){if(!e)return[];if(ye(e)){for(var t=[],r=0;r<e.length;r++)t.push(jf(e[r]));return t}var n=[];return e.traverse(function(i){i instanceof er&&!i.disableMorphing&&!i.invisible&&!i.ignore&&n.push(i)}),n}var ble=1e4,N8e=0,yq=1,xq=2,A8e=_r();function j8e(e,t){for(var r=e.dimensions,n=0;n<r.length;n++){var i=e.getDimensionInfo(r[n]);if(i&&i.otherDims[t]===0)return r[n]}}function R8e(e,t,r){var n=e.getDimensionInfo(r),i=n&&n.ordinalMeta;if(n){var a=e.get(n.name,t);return i&&i.categories[a]||a+""}}function _q(e,t,r,n){var i=n?"itemChildGroupId":"itemGroupId",a=j8e(e,i);if(a){var s=R8e(e,t,a);return s}var o=e.getRawDataItem(t),l=n?"childGroupId":"groupId";if(o&&o[l])return o[l]+"";if(!n)return r||e.getId(t)}function bq(e){var t=[];return V(e,function(r){var n=r.data,i=r.dataGroupId;if(!(n.count()>ble))for(var a=n.getIndices(),s=0;s<a.length;s++)t.push({data:n,groupId:_q(n,s,i,!1),childGroupId:_q(n,s,i,!0),divide:r.divide,dataIndex:s})}),t}function qI(e,t,r){e.traverse(function(n){n instanceof er&&Rn(n,{style:{opacity:0}},t,{dataIndex:r,isFrom:!0})})}function YI(e){if(e.parent){var t=e.getComputedTransform();e.setLocalTransform(t),e.parent.remove(e)}}function Gg(e){e.stopAnimation(),e.isGroup&&e.traverse(function(t){t.stopAnimation()})}function I8e(e,t,r){var n=v0("update",r,t);n&&e.traverse(function(i){if(i instanceof Mo){var a=E2e(i);a&&i.animateFrom({style:a},n)}})}function M8e(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++){var i=e[n],a=t[n];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function wle(e,t,r){var n=bq(e),i=bq(t);function a(_,b,w,S,k){(w||_)&&b.animateFrom({style:w&&w!==_?pe(pe({},w.style),_.style):_.style},k)}var s=!1,o=N8e,l=Qe(),c=Qe();n.forEach(function(_){_.groupId&&l.set(_.groupId,!0),_.childGroupId&&c.set(_.childGroupId,!0)});for(var u=0;u<i.length;u++){var h=i[u].groupId;if(c.get(h)){o=yq;break}var f=i[u].childGroupId;if(f&&l.get(f)){o=xq;break}}function p(_,b){return function(w){var S=w.data,k=w.dataIndex;return b?S.getId(k):_?o===yq?w.childGroupId:w.groupId:o===xq?w.childGroupId:w.groupId}}var g=M8e(n,i),v={};if(!g)for(var u=0;u<i.length;u++){var m=i[u],y=m.data.getItemGraphicEl(m.dataIndex);y&&(v[y.id]=!0)}function x(_,b){var w=n[b],S=i[_],k=S.data.hostModel,C=w.data.getItemGraphicEl(w.dataIndex),E=S.data.getItemGraphicEl(S.dataIndex);if(C===E){E&&I8e(E,S.dataIndex,k);return}C&&v[C.id]||E&&(Gg(E),C?(Gg(C),YI(C),s=!0,GI(jf(C),jf(E),S.divide,k,_,a)):qI(E,k,_))}new Nu(n,i,p(!0,g),p(!1,g),null,"multiple").update(x).updateManyToOne(function(_,b){var w=i[_],S=w.data,k=S.hostModel,C=S.getItemGraphicEl(w.dataIndex),E=Br(_e(b,function(T){return n[T].data.getItemGraphicEl(n[T].dataIndex)}),function(T){return T&&T!==C&&!v[T.id]});C&&(Gg(C),E.length?(V(E,function(T){Gg(T),YI(T)}),s=!0,GI(jf(E),jf(C),w.divide,k,_,a)):qI(C,k,w.dataIndex))}).updateOneToMany(function(_,b){var w=n[b],S=w.data.getItemGraphicEl(w.dataIndex);if(!(S&&v[S.id])){var k=Br(_e(_,function(E){return i[E].data.getItemGraphicEl(i[E].dataIndex)}),function(E){return E&&E!==S}),C=i[_[0]].data.hostModel;k.length&&(V(k,function(E){return Gg(E)}),S?(Gg(S),YI(S),s=!0,GI(jf(S),jf(k),w.divide,C,_[0],a)):V(k,function(E){return qI(E,C,_[0])}))}}).updateManyToMany(function(_,b){new Nu(b,_,function(w){return n[w].data.getId(n[w].dataIndex)},function(w){return i[w].data.getId(i[w].dataIndex)}).update(function(w,S){x(_[w],b[S])}).execute()}).execute(),s&&V(t,function(_){var b=_.data,w=b.hostModel,S=w&&r.getViewOfSeriesModel(w),k=v0("update",w,0);S&&w.isAnimationEnabled()&&k&&k.duration>0&&S.group.traverse(function(C){C instanceof er&&!C.animators.length&&C.animateFrom({style:{opacity:0}},k)})})}function wq(e){var t=e.getModel("universalTransition").get("seriesKey");return t||e.id}function Sq(e){return ye(e)?e.sort().join(","):e}function bd(e){if(e.hostModel)return e.hostModel.getModel("universalTransition").get("divideShape")}function P8e(e,t){var r=Qe(),n=Qe(),i=Qe();return V(e.oldSeries,function(a,s){var o=e.oldDataGroupIds[s],l=e.oldData[s],c=wq(a),u=Sq(c);n.set(u,{dataGroupId:o,data:l}),ye(c)&&V(c,function(h){i.set(h,{key:u,dataGroupId:o,data:l})})}),V(t.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var s=a.get("dataGroupId"),o=a.getData(),l=wq(a),c=Sq(l),u=n.get(c);if(u)r.set(c,{oldSeries:[{dataGroupId:u.dataGroupId,divide:bd(u.data),data:u.data}],newSeries:[{dataGroupId:s,divide:bd(o),data:o}]});else if(ye(l)){var h=[];V(l,function(g){var v=n.get(g);v.data&&h.push({dataGroupId:v.dataGroupId,divide:bd(v.data),data:v.data})}),h.length&&r.set(c,{oldSeries:h,newSeries:[{dataGroupId:s,data:o,divide:bd(o)}]})}else{var f=i.get(l);if(f){var p=r.get(f.key);p||(p={oldSeries:[{dataGroupId:f.dataGroupId,data:f.data,divide:bd(f.data)}],newSeries:[]},r.set(f.key,p)),p.newSeries.push({dataGroupId:s,data:o,divide:bd(o)})}}}}),r}function Cq(e,t){for(var r=0;r<e.length;r++){var n=t.seriesIndex!=null&&t.seriesIndex===e[r].seriesIndex||t.seriesId!=null&&t.seriesId===e[r].id;if(n)return r}}function L8e(e,t,r,n){var i=[],a=[];V(sn(e.from),function(s){var o=Cq(t.oldSeries,s);o>=0&&i.push({dataGroupId:t.oldDataGroupIds[o],data:t.oldData[o],divide:bd(t.oldData[o]),groupIdDim:s.dimension})}),V(sn(e.to),function(s){var o=Cq(r.updatedSeries,s);if(o>=0){var l=r.updatedSeries[o].getData();a.push({dataGroupId:t.oldDataGroupIds[o],data:l,divide:bd(l),groupIdDim:s.dimension})}}),i.length>0&&a.length>0&&wle(i,a,n)}function D8e(e){e.registerUpdateLifecycle("series:beforeupdate",function(t,r,n){V(sn(n.seriesTransition),function(i){V(sn(i.to),function(a){for(var s=n.updatedSeries,o=0;o<s.length;o++)(a.seriesIndex!=null&&a.seriesIndex===s[o].seriesIndex||a.seriesId!=null&&a.seriesId===s[o].id)&&(s[o][Gk]=!0)})})}),e.registerUpdateLifecycle("series:transition",function(t,r,n){var i=A8e(r);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var a=n.seriesTransition;if(a)V(sn(a),function(p){L8e(p,i,n,r)});else{var s=P8e(i,n);V(s.keys(),function(p){var g=s.get(p);wle(g.oldSeries,g.newSeries,r)})}V(n.updatedSeries,function(p){p[Gk]&&(p[Gk]=!1)})}for(var o=t.getSeries(),l=i.oldSeries=[],c=i.oldDataGroupIds=[],u=i.oldData=[],h=0;h<o.length;h++){var f=o[h].getData();f.count()<ble&&(l.push(o[h]),c.push(o[h].get("dataGroupId")),u.push(f))}})}Zt([GMe]);Zt([zMe]);Zt([hPe,TPe,OPe,mLe,TLe,fDe,zDe,COe,GOe,JOe,o3e,t5e,E5e,O5e,Q5e,n4e,f4e,_4e,R4e,O4e,q4e,j$e]);Zt(K$e);Zt(bBe);Zt(_se);Zt(PBe);Zt(aoe);Zt($Be);Zt(qBe);Zt(PFe);Zt(QFe);Zt(a1);Zt(m6e);Zt(x6e);Zt(A6e);Zt(D6e);Zt(U6e);Zt(Y6e);Zt(ize);Zt(wze);Zt(lle);Zt(cle);Zt(Uze);Zt(ple);Zt(gle);Zt(qze);Zt(s8e);Zt(c8e);Zt(D8e);Zt(oMe);const O8e=({deviceName:e,portUsages:t,onExport:r})=>{const n=A.useRef(null),i=A.useRef(null),[a,s]=A.useState({key:"portName",direction:"asc"});A.useEffect(()=>{if(!n.current||!t.length)return;const p=W9(n.current),g=t.map(_=>({name:_.portName,value:_.direction==="out"?0:_.utilization*100})),v=t.map(_=>({name:_.portName,value:_.direction==="in"?0:_.utilization*100})),m=t.map(_=>_.portName),y={title:{text:`${e} 端口带宽利用率`,left:"center",textStyle:{fontSize:16,fontWeight:"normal"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:_=>{const b=_[0].name,w=t.find(k=>k.portName===b);if(!w)return"";let S=`<div>${b}</div>`;return _.forEach(k=>{const C=k.seriesName==="接收"?"in":"out",E=w.direction==="both"||w.direction===C?w.bytesPerSecond:0;S+=`
              <div style="display: flex; justify-content: space-between; margin-top: 4px;">
                <span style="color: ${k.color}; margin-right: 8px;">●</span>
                <span style="margin-right: 8px;">${k.seriesName}:</span>
                <span>${kp(E)}/s (${k.value.toFixed(2)}%)</span>
              </div>
            `}),S}},legend:{data:["接收","发送"],bottom:0},grid:{left:"3%",right:"4%",bottom:"15%",top:"15%",containLabel:!0},xAxis:{type:"category",data:m,axisLabel:{interval:0,rotate:45}},yAxis:{type:"value",name:"利用率 (%)",max:100},series:[{name:"接收",type:"bar",stack:"total",emphasis:{focus:"series"},data:g,itemStyle:{color:"#4f46e5"}},{name:"发送",type:"bar",stack:"total",emphasis:{focus:"series"},data:v,itemStyle:{color:"#06b6d4"}}]};p.setOption(y);const x=()=>p.resize();return window.addEventListener("resize",x),()=>{p.dispose(),window.removeEventListener("resize",x)}},[e,t]),A.useEffect(()=>{if(!i.current||!t.length)return;const p=W9(i.current),g=t.map(_=>({name:_.portName,max:100})),v=t.map(_=>_.direction==="out"?0:_.utilization*100),m=t.map(_=>_.direction==="in"?0:_.utilization*100),y={title:{text:"端口利用率雷达图",left:"center",textStyle:{fontSize:16,fontWeight:"normal"}},tooltip:{trigger:"item"},legend:{data:["接收","发送"],bottom:0},radar:{indicator:g,radius:"65%",center:["50%","50%"],name:{textStyle:{color:"#333",fontSize:12}},splitLine:{lineStyle:{color:["rgba(0, 0, 0, 0.1)","rgba(0, 0, 0, 0.2)","rgba(0, 0, 0, 0.3)","rgba(0, 0, 0, 0.4)","rgba(0, 0, 0, 0.5)"].reverse()}},splitArea:{show:!1},axisLine:{lineStyle:{color:"rgba(0, 0, 0, 0.2)"}}},series:[{name:"端口利用率",type:"radar",data:[{value:v,name:"接收",areaStyle:{color:"rgba(79, 70, 229, 0.3)"},lineStyle:{color:"#4f46e5"}},{value:m,name:"发送",areaStyle:{color:"rgba(6, 182, 212, 0.3)"},lineStyle:{color:"#06b6d4"}}]}]};p.setOption(y);const x=()=>p.resize();return window.addEventListener("resize",x),()=>{p.dispose(),window.removeEventListener("resize",x)}},[t]);const o=[...t].sort((p,g)=>a.key==="utilization"||a.key==="bytesPerSecond"?a.direction==="asc"?p[a.key]-g[a.key]:g[a.key]-p[a.key]:p[a.key]<g[a.key]?a.direction==="asc"?-1:1:p[a.key]>g[a.key]?a.direction==="asc"?1:-1:0),l=p=>{let g="asc";a.key===p&&a.direction==="asc"&&(g="desc"),s({key:p,direction:g})},c=p=>a.key!==p?null:a.direction==="asc"?"↑":"↓",u=p=>p<.3?"text-green-600":p<.6?"text-amber-500":p<.8?"text-orange-500":"text-red-600",h=p=>{switch(p){case"in":return d.jsx(LE,{size:16,className:"text-indigo-600"});case"out":return d.jsx(P8,{size:16,className:"text-cyan-600"});case"both":return d.jsxs("div",{className:"flex",children:[d.jsx(LE,{size:16,className:"text-indigo-600 mr-1"}),d.jsx(P8,{size:16,className:"text-cyan-600"})]});default:return null}},f=t.some(p=>p.isAbnormal);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:d.jsx("div",{ref:n,style:{height:"300px"}})}),d.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:d.jsx("div",{ref:i,style:{height:"300px"}})})]}),f&&d.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-r-lg",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),d.jsx("div",{className:"ml-3",children:d.jsxs("p",{className:"text-sm text-red-700",children:[d.jsx("strong",{children:"注意："})," 检测到端口带宽不平衡问题。某些端口利用率过高，而其他端口几乎未使用。请检查网络配置，可能存在流量不均衡问题。"]})})]})}),d.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[d.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b",children:[d.jsx("h3",{className:"text-lg font-medium",children:"端口带宽利用率详情"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsxs("button",{onClick:()=>r("csv"),className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-md text-sm flex items-center",children:[d.jsx(cc,{size:14,className:"mr-1"}),"导出CSV"]}),d.jsxs("button",{onClick:()=>r("excel"),className:"px-3 py-1 bg-green-100 hover:bg-green-200 text-green-800 rounded-md text-sm flex items-center",children:[d.jsx(cc,{size:14,className:"mr-1"}),"导出Excel"]})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>l("deviceName"),children:d.jsxs("div",{className:"flex items-center",children:["设备名",d.jsx("span",{className:"ml-1",children:c("deviceName")})]})}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>l("portName"),children:d.jsxs("div",{className:"flex items-center",children:["端口",d.jsx("span",{className:"ml-1",children:c("portName")})]})}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>l("direction"),children:d.jsxs("div",{className:"flex items-center",children:["方向",d.jsx("span",{className:"ml-1",children:c("direction")})]})}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>l("bytesPerSecond"),children:d.jsxs("div",{className:"flex items-center",children:["当前速率",d.jsx("span",{className:"ml-1",children:c("bytesPerSecond")})]})}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>l("utilization"),children:d.jsxs("div",{className:"flex items-center",children:["利用率",d.jsx("span",{className:"ml-1",children:c("utilization")})]})}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>l("isAbnormal"),children:d.jsxs("div",{className:"flex items-center",children:["状态",d.jsx("span",{className:"ml-1",children:c("isAbnormal")})]})})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map((p,g)=>d.jsxs("tr",{className:p.isAbnormal?"bg-red-50":"",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.deviceName}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:p.portName}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d.jsxs("div",{className:"flex items-center",children:[h(p.direction),d.jsx("span",{className:"ml-2",children:p.direction==="in"?"接收":p.direction==="out"?"发送":"双向"})]})}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[kp(p.bytesPerSecond),"/s"]}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsxs("div",{className:`mr-2 ${u(p.utilization)}`,children:[(p.utilization*100).toFixed(2),"%"]}),d.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-1.5",children:d.jsx("div",{className:`h-1.5 rounded-full ${p.utilization<.3?"bg-green-500":p.utilization<.6?"bg-amber-500":p.utilization<.8?"bg-orange-500":"bg-red-500"}`,style:{width:`${Math.min(100,Math.round(p.utilization*100))}%`}})})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:p.isAbnormal?d.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"异常"}):d.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"正常"})})]},`${p.deviceName}-${p.portId}-${g}`))})]})})]})]})},$8e=({pods:e,selectedPod:t,onPodChange:r,viewMode:n,onViewModeChange:i,showPodSelection:a=!0})=>{const[s,o]=en.useState(!1),[l,c]=en.useState(!1),u=A.useRef(null),h=A.useRef(null);A.useEffect(()=>{const v=m=>{u.current&&!u.current.contains(m.target)&&s&&o(!1),h.current&&!h.current.contains(m.target)&&l&&c(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[s,l]);const f=()=>{if(!t)return"选择Pod";const v=e.find(m=>m.id===t);return v?v.name:"选择Pod"},p=()=>n.showSpine&&n.showLeaf&&n.showTor&&n.showClient?"完整视图":n.showLeaf&&n.showTor&&n.showClient?"Leaf + ToR + 客户端":n.showTor&&n.showClient?"ToR + 客户端":"自定义视图",g=[{id:"full",label:"完整视图",description:"Spine + Leaf + ToR + 客户端",mode:{showSpine:!0,showLeaf:!0,showTor:!0,showClient:!0}},{id:"leaf-down",label:"Leaf层下视图",description:"Leaf + ToR + 客户端",mode:{showSpine:!1,showLeaf:!0,showTor:!0,showClient:!0}},{id:"tor-down",label:"ToR层下视图",description:"ToR + 客户端",mode:{showSpine:!1,showLeaf:!1,showTor:!0,showClient:!0}}];return d.jsxs("div",{className:"flex flex-wrap gap-3 p-4 bg-white shadow-sm rounded-lg",children:[a&&d.jsxs("div",{className:"relative",ref:u,children:[d.jsxs("button",{className:"flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-md text-sm font-medium transition-colors",onClick:()=>o(!s),children:[d.jsx(O8,{size:16,className:"mr-2 text-gray-500"}),f(),d.jsx(DE,{size:14,className:"ml-2 text-gray-500"})]}),s&&d.jsx("div",{className:"absolute left-0 mt-2 w-64 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10",children:d.jsx("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:e.map(v=>d.jsx("button",{className:`
                      w-full text-left block px-4 py-2 text-sm 
                      ${t===v.id?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-gray-100"}
                    `,role:"menuitem",onClick:()=>{r(v.id),o(!1)},children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(O8,{size:14,className:"mr-2"}),v.name,t===v.id&&d.jsx(Mw,{size:14,className:"ml-auto text-indigo-600"})]})},v.id))})})]}),d.jsxs("div",{className:"relative",ref:h,children:[d.jsxs("button",{className:"flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-md text-sm font-medium transition-colors",onClick:()=>c(!l),children:[d.jsx(aL,{size:16,className:"mr-2 text-gray-500"}),p(),d.jsx(DE,{size:14,className:"ml-2 text-gray-500"})]}),l&&d.jsx("div",{className:"absolute left-0 mt-2 w-72 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10",children:d.jsxs("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:[d.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500",children:"预设视图"}),g.map(v=>d.jsx("button",{className:"w-full text-left block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:()=>{i(v.mode),c(!1)},children:d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{children:v.label}),d.jsx("span",{className:"text-xs text-gray-500",children:v.description})]})},v.id)),d.jsxs("div",{className:"border-t border-gray-100 mt-1 pt-1",children:[d.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500",children:"自定义视图"}),d.jsxs("div",{className:"px-4 py-2 space-y-2",children:[d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",className:"h-4 w-4 text-indigo-600 rounded",checked:n.showSpine,onChange:v=>i({...n,showSpine:v.target.checked})}),d.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Spine层"})]}),d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",className:"h-4 w-4 text-indigo-600 rounded",checked:n.showLeaf,onChange:v=>i({...n,showLeaf:v.target.checked})}),d.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Leaf层"})]}),d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",className:"h-4 w-4 text-indigo-600 rounded",checked:n.showTor,onChange:v=>i({...n,showTor:v.target.checked})}),d.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"ToR层"})]}),d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",className:"h-4 w-4 text-indigo-600 rounded",checked:n.showClient,onChange:v=>i({...n,showClient:v.target.checked})}),d.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"客户端层"})]})]})]})]})})]})]})};var B8e={exports:{}};(function(e){var t=function(r){var n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(M,R,z){M[R]=z.value},s,o=typeof Symbol=="function"?Symbol:{},l=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function h(M,R,z){return Object.defineProperty(M,R,{value:z,enumerable:!0,configurable:!0,writable:!0}),M[R]}try{h({},"")}catch{h=function(R,z,U){return R[z]=U}}function f(M,R,z,U){var F=R&&R.prototype instanceof _?R:_,G=Object.create(F.prototype),q=new L(U||[]);return a(G,"_invoke",{value:I(M,z,q)}),G}r.wrap=f;function p(M,R,z){try{return{type:"normal",arg:M.call(R,z)}}catch(U){return{type:"throw",arg:U}}}var g="suspendedStart",v="suspendedYield",m="executing",y="completed",x={};function _(){}function b(){}function w(){}var S={};h(S,l,function(){return this});var k=Object.getPrototypeOf,C=k&&k(k(O([])));C&&C!==n&&i.call(C,l)&&(S=C);var E=w.prototype=_.prototype=Object.create(S);b.prototype=w,a(E,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:b,configurable:!0}),b.displayName=h(w,u,"GeneratorFunction");function T(M){["next","throw","return"].forEach(function(R){h(M,R,function(z){return this._invoke(R,z)})})}r.isGeneratorFunction=function(M){var R=typeof M=="function"&&M.constructor;return R?R===b||(R.displayName||R.name)==="GeneratorFunction":!1},r.mark=function(M){return Object.setPrototypeOf?Object.setPrototypeOf(M,w):(M.__proto__=w,h(M,u,"GeneratorFunction")),M.prototype=Object.create(E),M},r.awrap=function(M){return{__await:M}};function N(M,R){function z(G,q,K,B){var W=p(M[G],M,q);if(W.type==="throw")B(W.arg);else{var Y=W.arg,Z=Y.value;return Z&&typeof Z=="object"&&i.call(Z,"__await")?R.resolve(Z.__await).then(function(Q){z("next",Q,K,B)},function(Q){z("throw",Q,K,B)}):R.resolve(Z).then(function(Q){Y.value=Q,K(Y)},function(Q){return z("throw",Q,K,B)})}}var U;function F(G,q){function K(){return new R(function(B,W){z(G,q,B,W)})}return U=U?U.then(K,K):K()}a(this,"_invoke",{value:F})}T(N.prototype),h(N.prototype,c,function(){return this}),r.AsyncIterator=N,r.async=function(M,R,z,U,F){F===void 0&&(F=Promise);var G=new N(f(M,R,z,U),F);return r.isGeneratorFunction(R)?G:G.next().then(function(q){return q.done?q.value:G.next()})};function I(M,R,z){var U=g;return function(G,q){if(U===m)throw new Error("Generator is already running");if(U===y){if(G==="throw")throw q;return j()}for(z.method=G,z.arg=q;;){var K=z.delegate;if(K){var B=P(K,z);if(B){if(B===x)continue;return B}}if(z.method==="next")z.sent=z._sent=z.arg;else if(z.method==="throw"){if(U===g)throw U=y,z.arg;z.dispatchException(z.arg)}else z.method==="return"&&z.abrupt("return",z.arg);U=m;var W=p(M,R,z);if(W.type==="normal"){if(U=z.done?y:v,W.arg===x)continue;return{value:W.arg,done:z.done}}else W.type==="throw"&&(U=y,z.method="throw",z.arg=W.arg)}}}function P(M,R){var z=R.method,U=M.iterator[z];if(U===s)return R.delegate=null,z==="throw"&&M.iterator.return&&(R.method="return",R.arg=s,P(M,R),R.method==="throw")||z!=="return"&&(R.method="throw",R.arg=new TypeError("The iterator does not provide a '"+z+"' method")),x;var F=p(U,M.iterator,R.arg);if(F.type==="throw")return R.method="throw",R.arg=F.arg,R.delegate=null,x;var G=F.arg;if(!G)return R.method="throw",R.arg=new TypeError("iterator result is not an object"),R.delegate=null,x;if(G.done)R[M.resultName]=G.value,R.next=M.nextLoc,R.method!=="return"&&(R.method="next",R.arg=s);else return G;return R.delegate=null,x}T(E),h(E,u,"Generator"),h(E,l,function(){return this}),h(E,"toString",function(){return"[object Generator]"});function D(M){var R={tryLoc:M[0]};1 in M&&(R.catchLoc=M[1]),2 in M&&(R.finallyLoc=M[2],R.afterLoc=M[3]),this.tryEntries.push(R)}function $(M){var R=M.completion||{};R.type="normal",delete R.arg,M.completion=R}function L(M){this.tryEntries=[{tryLoc:"root"}],M.forEach(D,this),this.reset(!0)}r.keys=function(M){var R=Object(M),z=[];for(var U in R)z.push(U);return z.reverse(),function F(){for(;z.length;){var G=z.pop();if(G in R)return F.value=G,F.done=!1,F}return F.done=!0,F}};function O(M){if(M){var R=M[l];if(R)return R.call(M);if(typeof M.next=="function")return M;if(!isNaN(M.length)){var z=-1,U=function F(){for(;++z<M.length;)if(i.call(M,z))return F.value=M[z],F.done=!1,F;return F.value=s,F.done=!0,F};return U.next=U}}return{next:j}}r.values=O;function j(){return{value:s,done:!0}}return L.prototype={constructor:L,reset:function(M){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach($),!M)for(var R in this)R.charAt(0)==="t"&&i.call(this,R)&&!isNaN(+R.slice(1))&&(this[R]=s)},stop:function(){this.done=!0;var M=this.tryEntries[0],R=M.completion;if(R.type==="throw")throw R.arg;return this.rval},dispatchException:function(M){if(this.done)throw M;var R=this;function z(B,W){return G.type="throw",G.arg=M,R.next=B,W&&(R.method="next",R.arg=s),!!W}for(var U=this.tryEntries.length-1;U>=0;--U){var F=this.tryEntries[U],G=F.completion;if(F.tryLoc==="root")return z("end");if(F.tryLoc<=this.prev){var q=i.call(F,"catchLoc"),K=i.call(F,"finallyLoc");if(q&&K){if(this.prev<F.catchLoc)return z(F.catchLoc,!0);if(this.prev<F.finallyLoc)return z(F.finallyLoc)}else if(q){if(this.prev<F.catchLoc)return z(F.catchLoc,!0)}else if(K){if(this.prev<F.finallyLoc)return z(F.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(M,R){for(var z=this.tryEntries.length-1;z>=0;--z){var U=this.tryEntries[z];if(U.tryLoc<=this.prev&&i.call(U,"finallyLoc")&&this.prev<U.finallyLoc){var F=U;break}}F&&(M==="break"||M==="continue")&&F.tryLoc<=R&&R<=F.finallyLoc&&(F=null);var G=F?F.completion:{};return G.type=M,G.arg=R,F?(this.method="next",this.next=F.finallyLoc,x):this.complete(G)},complete:function(M,R){if(M.type==="throw")throw M.arg;return M.type==="break"||M.type==="continue"?this.next=M.arg:M.type==="return"?(this.rval=this.arg=M.arg,this.method="return",this.next="end"):M.type==="normal"&&R&&(this.next=R),x},finish:function(M){for(var R=this.tryEntries.length-1;R>=0;--R){var z=this.tryEntries[R];if(z.finallyLoc===M)return this.complete(z.completion,z.afterLoc),$(z),x}},catch:function(M){for(var R=this.tryEntries.length-1;R>=0;--R){var z=this.tryEntries[R];if(z.tryLoc===M){var U=z.completion;if(U.type==="throw"){var F=U.arg;$(z)}return F}}throw new Error("illegal catch attempt")},delegateYield:function(M,R,z){return this.delegate={iterator:O(M),resultName:R,nextLoc:z},this.method==="next"&&(this.arg=s),x}},r}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(B8e);var uB=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`;const F8e=uB;let kq=0;var Sle=({id:e,action:t,payload:r={}})=>{let n=e;return typeof n>"u"&&(n=F8e("Job",kq),kq+=1),{id:n,action:t,payload:r}},N0={};let dB=!1;N0.logging=dB;N0.setLogging=e=>{dB=e};N0.log=(...e)=>dB?console.log.apply(void 0,e):null;const z8e=Sle,{log:NC}=N0,U8e=uB;let Eq=0;var H8e=()=>{const e=U8e("Scheduler",Eq),t={},r={};let n=[];Eq+=1;const i=()=>n.length,a=()=>Object.keys(t).length,s=()=>{if(n.length!==0){const h=Object.keys(t);for(let f=0;f<h.length;f+=1)if(typeof r[h[f]]>"u"){n[0](t[h[f]]);break}}},o=(h,f)=>new Promise((p,g)=>{const v=z8e({action:h,payload:f});n.push(async m=>{n.shift(),r[m.id]=v;try{p(await m[h].apply(void 0,[...f,v.id]))}catch(y){g(y)}finally{delete r[m.id],s()}}),NC(`[${e}]: Add ${v.id} to JobQueue`),NC(`[${e}]: JobQueue length=${n.length}`),s()});return{addWorker:h=>(t[h.id]=h,NC(`[${e}]: Add ${h.id}`),NC(`[${e}]: Number of workers=${a()}`),s(),h.id),addJob:async(h,...f)=>{if(a()===0)throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return o(h,f)},terminate:async()=>{Object.keys(t).forEach(async h=>{await t[h].terminate()}),n=[]},getQueueLen:i,getNumWorkers:a}};function V8e(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function W8e(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}var G8e=W8e;const q8e=G8e;var Y8e=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":q8e()?t.type="electron":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof V8e=="function"&&(t.type="node"),typeof e>"u"?t:t[e]};const K8e=Y8e("type")==="browser",X8e=K8e?e=>new URL(e,window.location.href).href:e=>e;var Z8e=e=>{const t={...e};return["corePath","workerPath","langPath"].forEach(r=>{e[r]&&(t[r]=X8e(t[r]))}),t},J8e=e=>{const t=[],r=[],n=[],i=[],a=[];return e.blocks&&e.blocks.forEach(s=>{s.paragraphs.forEach(o=>{o.lines.forEach(l=>{l.words.forEach(c=>{c.symbols.forEach(u=>{a.push({...u,page:e,block:s,paragraph:o,line:l,word:c})}),i.push({...c,page:e,block:s,paragraph:o,line:l})}),n.push({...l,page:e,block:s,paragraph:o})}),r.push({...o,page:e,block:s})}),t.push({...s,page:e})}),{...e,blocks:t,paragraphs:r,lines:n,words:i,symbols:a}},Cle={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const Q8e="5.1.1",eUe={version:Q8e};var tUe={workerBlobURL:!0,logger:()=>{}};const rUe=eUe.version,nUe=tUe;var iUe={...nUe,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${rUe}/dist/worker.min.js`},aUe=({workerPath:e,workerBlobURL:t})=>{let r;if(Blob&&URL&&t){const n=new Blob([`importScripts("${e}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(n))}else r=new Worker(e);return r},sUe=e=>{e.terminate()},oUe=(e,t)=>{e.onmessage=({data:r})=>{t(r)}},lUe=async(e,t)=>{e.postMessage(t)};const KI=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{t(n.result)},n.onerror=({target:{error:{code:i}}})=>{r(Error(`File could not be read! Code=${i}`))},n.readAsArrayBuffer(e)}),pO=async e=>{let t=e;if(typeof e>"u")return"undefined";if(typeof e=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)?t=atob(e.split(",")[1]).split("").map(r=>r.charCodeAt(0)):t=await(await fetch(e)).arrayBuffer();else if(typeof HTMLElement<"u"&&e instanceof HTMLElement)e.tagName==="IMG"&&(t=await pO(e.src)),e.tagName==="VIDEO"&&(t=await pO(e.poster)),e.tagName==="CANVAS"&&await new Promise(r=>{e.toBlob(async n=>{t=await KI(n),r()})});else if(typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){const r=await e.convertToBlob();t=await KI(r)}else(e instanceof File||e instanceof Blob)&&(t=await KI(e));return new Uint8Array(t)};var cUe=pO;const uUe=iUe,dUe=aUe,hUe=sUe,fUe=oUe,pUe=lUe,gUe=cUe;var mUe={defaultOptions:uUe,spawnWorker:dUe,terminateWorker:hUe,onMessage:fUe,send:pUe,loadImage:gUe};const vUe=Z8e,yUe=J8e,Uo=Sle,{log:Tq}=N0,xUe=uB,vf=Cle,{defaultOptions:_Ue,spawnWorker:bUe,terminateWorker:wUe,onMessage:SUe,loadImage:Nq,send:CUe}=mUe;let Aq=0;var kle=async(e="eng",t=vf.LSTM_ONLY,r={},n={})=>{const i=xUe("Worker",Aq),{logger:a,errorHandler:s,...o}=vUe({..._Ue,...r}),l={},c={},u=typeof e=="string"?e.split("+"):e;let h=t,f=n;const p=[vf.DEFAULT,vf.LSTM_ONLY].includes(t)&&!o.legacyCore;let g,v;const m=new Promise((F,G)=>{v=F,g=G}),y=F=>{g(F.message)};let x=bUe(o);x.onerror=y,Aq+=1;const _=(F,G)=>{l[F]=G},b=(F,G)=>{c[F]=G},w=({id:F,action:G,payload:q})=>new Promise((K,B)=>{Tq(`[${i}]: Start ${F}, action=${G}`);const W=`${G}-${F}`;_(W,K),b(W,B),CUe(x,{workerId:i,jobId:F,action:G,payload:q})}),S=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),k=F=>w(Uo({id:F,action:"load",payload:{options:{lstmOnly:p,corePath:o.corePath,logging:o.logging}}})),C=(F,G,q)=>w(Uo({id:q,action:"FS",payload:{method:"writeFile",args:[F,G]}})),E=(F,G)=>w(Uo({id:G,action:"FS",payload:{method:"readFile",args:[F,{encoding:"utf8"}]}})),T=(F,G)=>w(Uo({id:G,action:"FS",payload:{method:"unlink",args:[F]}})),N=(F,G,q)=>w(Uo({id:q,action:"FS",payload:{method:F,args:G}})),I=()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),P=(F,G)=>w(Uo({id:G,action:"loadLanguage",payload:{langs:F,options:{langPath:o.langPath,dataPath:o.dataPath,cachePath:o.cachePath,cacheMethod:o.cacheMethod,gzip:o.gzip,lstmOnly:[vf.DEFAULT,vf.LSTM_ONLY].includes(h)&&!o.legacyLang}}})),D=()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),$=(F,G,q,K)=>w(Uo({id:K,action:"initialize",payload:{langs:F,oem:G,config:q}})),L=(F="eng",G,q,K)=>{if(p&&[vf.TESSERACT_ONLY,vf.TESSERACT_LSTM_COMBINED].includes(G))throw Error("Legacy model requested but code missing.");const B=G||h;h=B;const W=q||f;f=W;const Z=(typeof F=="string"?F.split("+"):F).filter(Q=>!u.includes(Q));return u.push(...Z),Z.length>0?P(Z,K).then(()=>$(F,B,W,K)):$(F,B,W,K)},O=(F={},G)=>w(Uo({id:G,action:"setParameters",payload:{params:F}})),j=async(F,G={},q={blocks:!0,text:!0,hocr:!0,tsv:!0},K)=>w(Uo({id:K,action:"recognize",payload:{image:await Nq(F),options:G,output:q}})),M=(F="Tesseract OCR Result",G=!1,q)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),w(Uo({id:q,action:"getPDF",payload:{title:F,textonly:G}}))),R=async(F,G)=>{if(p)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return w(Uo({id:G,action:"detect",payload:{image:await Nq(F)}}))},z=async()=>(x!==null&&(wUe(x),x=null),Promise.resolve());SUe(x,({workerId:F,jobId:G,status:q,action:K,data:B})=>{const W=`${K}-${G}`;if(q==="resolve"){Tq(`[${F}]: Complete ${G}`);let Y=B;K==="recognize"?Y=yUe(B):K==="getPDF"&&(Y=Array.from({...B,length:Object.keys(B).length})),l[W]({jobId:G,data:Y})}else if(q==="reject")if(c[W](B),K==="load"&&g(B),s)s(B);else throw Error(B);else q==="progress"&&a({...B,userJobId:G})});const U={id:i,worker:x,setResolve:_,setReject:b,load:S,writeText:C,readText:E,removeFile:T,FS:N,loadLanguage:I,initialize:D,reinitialize:L,setParameters:O,recognize:j,getPDF:M,detect:R,terminate:z};return k().then(()=>P(e)).then(()=>$(e,t,n)).then(()=>v(U)).catch(()=>{}),m};const Ele=kle,kUe=async(e,t,r)=>{const n=await Ele(t,1,r);return n.recognize(e).finally(async()=>{await n.terminate()})},EUe=async(e,t)=>{const r=await Ele("osd",0,t);return r.detect(e).finally(async()=>{await r.terminate()})};var TUe={recognize:kUe,detect:EUe},NUe={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},AUe={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const jUe=H8e,RUe=kle,IUe=TUe,MUe=NUe,PUe=Cle,LUe=AUe,{setLogging:DUe}=N0;var Tle={languages:MUe,OEM:PUe,PSM:LUe,createScheduler:jUe,createWorker:RUe,setLogging:DUe,...IUe};const OUe=t0(Tle),$Ue=({deviceId:e,onPanelImageUpload:t,onHotspotsUpload:r})=>{const[n,i]=A.useState(null),[a,s]=A.useState(null),[o,l]=A.useState(null),[c,u]=A.useState(!1),[h,f]=A.useState(!1),[p,g]=A.useState(null),[v,m]=A.useState(!1),[y,x]=A.useState(""),_=A.useRef(null),b=A.useRef(null);A.useRef(null);const w=N=>{var D;const I=(D=N.target.files)==null?void 0:D[0];if(!I)return;if(!I.type.match("image/jpeg")&&!I.type.match("image/png")){alert("请选择JPG或PNG格式的图片");return}const P=new FileReader;P.onload=$=>{var O;const L=(O=$.target)==null?void 0:O.result;i(L),g(L)},P.readAsDataURL(I),t(e,I)},S=N=>{var D;const I=(D=N.target.files)==null?void 0:D[0];if(!I)return;if(!I.type.match("application/json")&&!I.name.endsWith(".json")){alert("请选择JSON格式的文件");return}const P=new FileReader;P.onload=$=>{var L;try{const O=(L=$.target)==null?void 0:L.result;s(O);const j=JSON.parse(O);if(!Array.isArray(j)){l("JSON格式错误：必须是一个数组");return}for(const M of j)if(!M.id||typeof M.x!="number"||typeof M.y!="number"||typeof M.width!="number"||typeof M.height!="number"||!M.name){l("JSON格式错误：热区缺少必要的字段");return}l(null),r(e,j)}catch(O){l(`JSON解析错误: ${O instanceof Error?O.message:"未知错误"}`)}},P.readAsText(I)},k=N=>{if(N.target.files&&N.target.files[0]){const I=N.target.files[0],P=new FileReader;P.onload=D=>{var $;try{const L=($=D.target)==null?void 0:$.result,O=JSON.parse(L);r(e,O)}catch(L){console.error("解析热区配置文件失败:",L),alert("热区配置文件格式无效。请确保是有效的JSON格式。")}},P.readAsText(I)}},C=()=>{var N;(N=_.current)==null||N.click()},E=()=>{var N;(N=b.current)==null||N.click()},T=async()=>{if(!p){alert("请先上传设备面板图片");return}m(!0),x("正在分析图片...");try{const N=document.createElement("img");N.src=p,x("分析图像尺寸..."),await new Promise(L=>setTimeout(L,200));const I=N.naturalWidth||1e3,P=N.naturalHeight||200,D=I/P;if(D>3&&D<8){x("检测到网络设备面板，自动创建端口映射...");const L=[];let O=1;P>120&&(O=2);const j=I>1e3?48:24,M=Math.floor(I/(j/O)*.7),R=Math.floor(P/(O+1)*.7),z=Math.floor(M*.4);for(let U=0;U<O;U++){const F=Math.floor(P*(.3+.5*U/O)),G=Math.floor(j/O),q=Math.floor((I-G*(M+z))/2);for(let K=0;K<G;K++){const B=U*G+K+1,W=q+K*(M+z);L.push({id:`port${B}`,name:`${B}`,x:W,y:F,width:M,height:R,status:"up",auto_detected:!0})}}x(`自动检测到${L.length}个端口（可手动调整）`),r(e,L),u(!1),setTimeout(()=>{alert(`成功自动检测到${L.length}个端口！
端口已添加到设备面板上。您可以手动调整端口位置和大小。`)},500)}else{x("尝试OCR识别文字...");const O=(await OUe.recognize(p,"eng",{logger:z=>{z.status==="recognizing text"&&x(`识别中... ${Math.floor(z.progress*100)}%`)}})).data;x("使用简单文本模式...");const j=[/ethernet[\s-]?(\d+\/\d+)/i,/eth[\s-]?(\d+\/\d+)/i,/e[\s-]?(\d+\/\d+)/i,/端口[\s-]?(\d+)/i,/port[\s-]?(\d+)/i,/(\d+\/\d+)/,/(\d+)/],M=O.text||"",R=[];for(const z of j){const U=M.match(new RegExp(z,"gi"))||[];R.push(...U)}if(R.length>0){const z=R.map((U,F)=>{let G=U.trim();for(const q of j){const K=G.match(q);if(K&&K[1]){G=K[1];break}}return{id:`port${F+1}`,name:G,x:50+F%5*80,y:50+Math.floor(F/5)*50,width:60,height:30,status:"up"}});x(`从文本中识别出${z.length}个端口文本`),r(e,z)}else x("未能识别到端口，请手动标记端口位置")}}catch(N){console.error("端口识别处理失败:",N),x("自动端口检测失败，请尝试手动配置")}finally{m(!1)}};return d.jsxs(d.Fragment,{children:[d.jsxs("button",{className:"flex items-center px-4 py-2 bg-indigo-100 hover:bg-indigo-200 text-indigo-700 rounded-md text-sm font-medium transition-colors",onClick:()=>u(!0),children:[d.jsx(jee,{size:16,className:"mr-2"}),"上传设备面板"]}),c&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl p-6 max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-xl font-semibold",children:"上传设备面板图与热区配置"}),d.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>u(!1),children:d.jsx(Ua,{size:20})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"border border-dashed border-gray-300 rounded-lg p-4 h-64 flex flex-col items-center justify-center",children:[n?d.jsxs("div",{className:"relative w-full h-full",children:[d.jsx("img",{src:n,alt:"Panel preview",className:"w-full h-full object-contain"}),d.jsx("button",{className:"absolute top-2 right-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-full p-1",onClick:()=>i(null),children:d.jsx(Ua,{size:16})})]}):d.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50",onClick:C,children:[d.jsx(x_e,{size:40,className:"text-gray-400 mb-2"}),d.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"点击上传设备面板图"}),d.jsx("p",{className:"text-gray-400 text-xs",children:"支持 JPG、PNG 格式"})]}),d.jsx("input",{type:"file",ref:_,className:"hidden",accept:"image/jpeg,image/png",onChange:w})]}),d.jsxs("div",{className:"border border-dashed border-gray-300 rounded-lg p-4 h-64 overflow-y-auto",children:[a?d.jsxs("div",{className:"relative h-full",children:[d.jsx("pre",{className:"text-xs text-gray-700 overflow-auto h-full p-2 bg-gray-50 rounded",children:a}),d.jsx("button",{className:"absolute top-2 right-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-full p-1",onClick:()=>{s(null),l(null)},children:d.jsx(Ua,{size:16})}),o&&d.jsx("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-xs",children:o})]}):d.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50",onClick:E,children:[d.jsx(g_e,{size:40,className:"text-gray-400 mb-2"}),d.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"点击上传热区配置"}),d.jsx("p",{className:"text-gray-400 text-xs",children:"上传 JSON 格式的热区配置"})]}),d.jsx("input",{type:"file",ref:b,className:"hidden",accept:"application/json,.json",onChange:S})]})]}),d.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"热区配置示例"}),d.jsx("pre",{className:"text-xs text-gray-700 overflow-auto bg-white p-3 rounded border border-gray-200",children:`[
  {
    "id": "port1",
    "name": "1/1",
    "x": 10,  // 百分比位置 (左上角x坐标)
    "y": 20,  // 百分比位置 (左上角y坐标)
    "width": 5,  // 百分比宽度
    "height": 10,  // 百分比高度
    "status": "up"  // 初始状态，可选: "up", "down", "disabled", "warning"
  },
  {
    "id": "port2",
    "name": "1/2",
    "x": 20,
    "y": 20,
    "width": 5,
    "height": 10,
    "status": "down"
  }
]`})]}),d.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[n&&d.jsx("button",{className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md text-sm font-medium transition-colors",onClick:T,disabled:v,children:v?y:"OCR端口识别"}),d.jsx("button",{className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-md text-sm font-medium transition-colors",onClick:()=>u(!1),children:"取消"}),d.jsxs("button",{className:`
                  px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md text-sm font-medium transition-colors
                  ${!n&&!a?"opacity-50 cursor-not-allowed":""}
                `,disabled:!n&&!a,onClick:()=>u(!1),children:[d.jsx(Tee,{size:16,className:"inline-block mr-1"}),"保存"]})]})]})}),d.jsx(Fe,{onClick:()=>{var N;return(N=document.getElementById("hotspotsFile"))==null?void 0:N.click()},className:"bg-purple-500 hover:bg-purple-600 text-white",children:"上传热区配置"}),d.jsx("input",{id:"hotspotsFile",type:"file",onChange:k,accept:".json",className:"hidden"}),y&&!v&&d.jsx("div",{className:"text-sm text-gray-600 mt-2",children:y})]})};/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function Nle(e){return typeof e>"u"||e===null}function BUe(e){return typeof e=="object"&&e!==null}function FUe(e){return Array.isArray(e)?e:Nle(e)?[]:[e]}function zUe(e,t){var r,n,i,a;if(t)for(a=Object.keys(t),r=0,n=a.length;r<n;r+=1)i=a[r],e[i]=t[i];return e}function UUe(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function HUe(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var VUe=Nle,WUe=BUe,GUe=FUe,qUe=UUe,YUe=HUe,KUe=zUe,Ni={isNothing:VUe,isObject:WUe,toArray:GUe,repeat:qUe,isNegativeZero:YUe,extend:KUe};function Ale(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function Gb(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Ale(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Gb.prototype=Object.create(Error.prototype);Gb.prototype.constructor=Gb;Gb.prototype.toString=function(t){return this.name+": "+Ale(this,t)};var Da=Gb;function XI(e,t,r,n,i){var a="",s="",o=Math.floor(i/2)-1;return n-t>o&&(a=" ... ",t=n-o+a.length),r-n>o&&(s=" ...",r=n+o-s.length),{str:a+e.slice(t,r).replace(/\t/g,"→")+s,pos:n-t+a.length}}function ZI(e,t){return Ni.repeat(" ",t-e.length)+e}function XUe(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],a,s=-1;a=r.exec(e.buffer);)i.push(a.index),n.push(a.index+a[0].length),e.position<=a.index&&s<0&&(s=n.length-2);s<0&&(s=n.length-1);var o="",l,c,u=Math.min(e.line+t.linesAfter,i.length).toString().length,h=t.maxLength-(t.indent+u+3);for(l=1;l<=t.linesBefore&&!(s-l<0);l++)c=XI(e.buffer,n[s-l],i[s-l],e.position-(n[s]-n[s-l]),h),o=Ni.repeat(" ",t.indent)+ZI((e.line-l+1).toString(),u)+" | "+c.str+`
`+o;for(c=XI(e.buffer,n[s],i[s],e.position,h),o+=Ni.repeat(" ",t.indent)+ZI((e.line+1).toString(),u)+" | "+c.str+`
`,o+=Ni.repeat("-",t.indent+u+3+c.pos)+`^
`,l=1;l<=t.linesAfter&&!(s+l>=i.length);l++)c=XI(e.buffer,n[s+l],i[s+l],e.position-(n[s]-n[s+l]),h),o+=Ni.repeat(" ",t.indent)+ZI((e.line+l+1).toString(),u)+" | "+c.str+`
`;return o.replace(/\n$/,"")}var ZUe=XUe,JUe=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],QUe=["scalar","sequence","mapping"];function eHe(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function tHe(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(JUe.indexOf(r)===-1)throw new Da('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=eHe(t.styleAliases||null),QUe.indexOf(this.kind)===-1)throw new Da('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Qi=tHe;function jq(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(a,s){a.tag===n.tag&&a.kind===n.kind&&a.multi===n.multi&&(i=s)}),r[i]=n}),r}function rHe(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function gO(e){return this.extend(e)}gO.prototype.extend=function(t){var r=[],n=[];if(t instanceof Qi)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new Da("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(a){if(!(a instanceof Qi))throw new Da("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new Da("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new Da("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(a){if(!(a instanceof Qi))throw new Da("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(gO.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=jq(i,"implicit"),i.compiledExplicit=jq(i,"explicit"),i.compiledTypeMap=rHe(i.compiledImplicit,i.compiledExplicit),i};var jle=gO,Rle=new Qi("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Ile=new Qi("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Mle=new Qi("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Ple=new jle({explicit:[Rle,Ile,Mle]});function nHe(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function iHe(){return null}function aHe(e){return e===null}var Lle=new Qi("tag:yaml.org,2002:null",{kind:"scalar",resolve:nHe,construct:iHe,predicate:aHe,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function sHe(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function oHe(e){return e==="true"||e==="True"||e==="TRUE"}function lHe(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Dle=new Qi("tag:yaml.org,2002:bool",{kind:"scalar",resolve:sHe,construct:oHe,predicate:lHe,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function cHe(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function uHe(e){return 48<=e&&e<=55}function dHe(e){return 48<=e&&e<=57}function hHe(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!cHe(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!uHe(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!dHe(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function fHe(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function pHe(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Ni.isNegativeZero(e)}var Ole=new Qi("tag:yaml.org,2002:int",{kind:"scalar",resolve:hHe,construct:fHe,predicate:pHe,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),gHe=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function mHe(e){return!(e===null||!gHe.test(e)||e[e.length-1]==="_")}function vHe(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var yHe=/^[-+]?[0-9]+e/;function xHe(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ni.isNegativeZero(e))return"-0.0";return r=e.toString(10),yHe.test(r)?r.replace("e",".e"):r}function _He(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Ni.isNegativeZero(e))}var $le=new Qi("tag:yaml.org,2002:float",{kind:"scalar",resolve:mHe,construct:vHe,predicate:_He,represent:xHe,defaultStyle:"lowercase"}),Ble=Ple.extend({implicit:[Lle,Dle,Ole,$le]}),Fle=Ble,zle=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Ule=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function bHe(e){return e===null?!1:zle.exec(e)!==null||Ule.exec(e)!==null}function wHe(e){var t,r,n,i,a,s,o,l=0,c=null,u,h,f;if(t=zle.exec(e),t===null&&(t=Ule.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(a=+t[4],s=+t[5],o=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(u=+t[10],h=+(t[11]||0),c=(u*60+h)*6e4,t[9]==="-"&&(c=-c)),f=new Date(Date.UTC(r,n,i,a,s,o,l)),c&&f.setTime(f.getTime()-c),f}function SHe(e){return e.toISOString()}var Hle=new Qi("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:bHe,construct:wHe,instanceOf:Date,represent:SHe});function CHe(e){return e==="<<"||e===null}var Vle=new Qi("tag:yaml.org,2002:merge",{kind:"scalar",resolve:CHe}),hB=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function kHe(e){if(e===null)return!1;var t,r,n=0,i=e.length,a=hB;for(r=0;r<i;r++)if(t=a.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function EHe(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,a=hB,s=0,o=[];for(t=0;t<i;t++)t%4===0&&t&&(o.push(s>>16&255),o.push(s>>8&255),o.push(s&255)),s=s<<6|a.indexOf(n.charAt(t));return r=i%4*6,r===0?(o.push(s>>16&255),o.push(s>>8&255),o.push(s&255)):r===18?(o.push(s>>10&255),o.push(s>>2&255)):r===12&&o.push(s>>4&255),new Uint8Array(o)}function THe(e){var t="",r=0,n,i,a=e.length,s=hB;for(n=0;n<a;n++)n%3===0&&n&&(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]),r=(r<<8)+e[n];return i=a%3,i===0?(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]):i===2?(t+=s[r>>10&63],t+=s[r>>4&63],t+=s[r<<2&63],t+=s[64]):i===1&&(t+=s[r>>2&63],t+=s[r<<4&63],t+=s[64],t+=s[64]),t}function NHe(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var Wle=new Qi("tag:yaml.org,2002:binary",{kind:"scalar",resolve:kHe,construct:EHe,predicate:NHe,represent:THe}),AHe=Object.prototype.hasOwnProperty,jHe=Object.prototype.toString;function RHe(e){if(e===null)return!0;var t=[],r,n,i,a,s,o=e;for(r=0,n=o.length;r<n;r+=1){if(i=o[r],s=!1,jHe.call(i)!=="[object Object]")return!1;for(a in i)if(AHe.call(i,a))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(a)===-1)t.push(a);else return!1}return!0}function IHe(e){return e!==null?e:[]}var Gle=new Qi("tag:yaml.org,2002:omap",{kind:"sequence",resolve:RHe,construct:IHe}),MHe=Object.prototype.toString;function PHe(e){if(e===null)return!0;var t,r,n,i,a,s=e;for(a=new Array(s.length),t=0,r=s.length;t<r;t+=1){if(n=s[t],MHe.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;a[t]=[i[0],n[i[0]]]}return!0}function LHe(e){if(e===null)return[];var t,r,n,i,a,s=e;for(a=new Array(s.length),t=0,r=s.length;t<r;t+=1)n=s[t],i=Object.keys(n),a[t]=[i[0],n[i[0]]];return a}var qle=new Qi("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:PHe,construct:LHe}),DHe=Object.prototype.hasOwnProperty;function OHe(e){if(e===null)return!0;var t,r=e;for(t in r)if(DHe.call(r,t)&&r[t]!==null)return!1;return!0}function $He(e){return e!==null?e:{}}var Yle=new Qi("tag:yaml.org,2002:set",{kind:"mapping",resolve:OHe,construct:$He}),fB=Fle.extend({implicit:[Hle,Vle],explicit:[Wle,Gle,qle,Yle]}),yh=Object.prototype.hasOwnProperty,BT=1,Kle=2,Xle=3,FT=4,JI=1,BHe=2,Rq=3,FHe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,zHe=/[\x85\u2028\u2029]/,UHe=/[,\[\]\{\}]/,Zle=/^(?:!|!!|![a-z\-]+!)$/i,Jle=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Iq(e){return Object.prototype.toString.call(e)}function pc(e){return e===10||e===13}function mp(e){return e===9||e===32}function gs(e){return e===9||e===32||e===10||e===13}function Lm(e){return e===44||e===91||e===93||e===123||e===125}function HHe(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function VHe(e){return e===120?2:e===117?4:e===85?8:0}function WHe(e){return 48<=e&&e<=57?e-48:-1}function Mq(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function GHe(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var Qle=new Array(256),ece=new Array(256);for(var qg=0;qg<256;qg++)Qle[qg]=Mq(qg)?1:0,ece[qg]=Mq(qg);function qHe(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||fB,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function tce(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=ZUe(r),new Da(t,r)}function Rt(e,t){throw tce(e,t)}function zT(e,t){e.onWarning&&e.onWarning.call(null,tce(e,t))}var Pq={YAML:function(t,r,n){var i,a,s;t.version!==null&&Rt(t,"duplication of %YAML directive"),n.length!==1&&Rt(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&Rt(t,"ill-formed argument of the YAML directive"),a=parseInt(i[1],10),s=parseInt(i[2],10),a!==1&&Rt(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&zT(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,a;n.length!==2&&Rt(t,"TAG directive accepts exactly two arguments"),i=n[0],a=n[1],Zle.test(i)||Rt(t,"ill-formed tag handle (first argument) of the TAG directive"),yh.call(t.tagMap,i)&&Rt(t,'there is a previously declared suffix for "'+i+'" tag handle'),Jle.test(a)||Rt(t,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{Rt(t,"tag prefix is malformed: "+a)}t.tagMap[i]=a}};function ih(e,t,r,n){var i,a,s,o;if(t<r){if(o=e.input.slice(t,r),n)for(i=0,a=o.length;i<a;i+=1)s=o.charCodeAt(i),s===9||32<=s&&s<=1114111||Rt(e,"expected valid JSON character");else FHe.test(o)&&Rt(e,"the stream contains non-printable characters");e.result+=o}}function Lq(e,t,r,n){var i,a,s,o;for(Ni.isObject(r)||Rt(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),s=0,o=i.length;s<o;s+=1)a=i[s],yh.call(t,a)||(t[a]=r[a],n[a]=!0)}function Dm(e,t,r,n,i,a,s,o,l){var c,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,u=i.length;c<u;c+=1)Array.isArray(i[c])&&Rt(e,"nested arrays are not supported inside keys"),typeof i=="object"&&Iq(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&Iq(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(c=0,u=a.length;c<u;c+=1)Lq(e,t,a[c],r);else Lq(e,t,a,r);else!e.json&&!yh.call(r,i)&&yh.call(t,i)&&(e.line=s||e.line,e.lineStart=o||e.lineStart,e.position=l||e.position,Rt(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[i]=a,delete r[i];return t}function pB(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Rt(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function yi(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;mp(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(pc(i))for(pB(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&zT(e,"deficient indentation"),n}function Y2(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||gs(r)))}function gB(e,t){t===1?e.result+=" ":t>1&&(e.result+=Ni.repeat(`
`,t-1))}function YHe(e,t,r){var n,i,a,s,o,l,c,u,h=e.kind,f=e.result,p;if(p=e.input.charCodeAt(e.position),gs(p)||Lm(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),gs(i)||r&&Lm(i)))return!1;for(e.kind="scalar",e.result="",a=s=e.position,o=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),gs(i)||r&&Lm(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),gs(n))break}else{if(e.position===e.lineStart&&Y2(e)||r&&Lm(p))break;if(pc(p))if(l=e.line,c=e.lineStart,u=e.lineIndent,yi(e,!1,-1),e.lineIndent>=t){o=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=l,e.lineStart=c,e.lineIndent=u;break}}o&&(ih(e,a,s,!1),gB(e,e.line-l),a=s=e.position,o=!1),mp(p)||(s=e.position+1),p=e.input.charCodeAt(++e.position)}return ih(e,a,s,!1),e.result?!0:(e.kind=h,e.result=f,!1)}function KHe(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(ih(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else pc(r)?(ih(e,n,i,!0),gB(e,yi(e,!1,t)),n=i=e.position):e.position===e.lineStart&&Y2(e)?Rt(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);Rt(e,"unexpected end of the stream within a single quoted scalar")}function XHe(e,t){var r,n,i,a,s,o;if(o=e.input.charCodeAt(e.position),o!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(o=e.input.charCodeAt(e.position))!==0;){if(o===34)return ih(e,r,e.position,!0),e.position++,!0;if(o===92){if(ih(e,r,e.position,!0),o=e.input.charCodeAt(++e.position),pc(o))yi(e,!1,t);else if(o<256&&Qle[o])e.result+=ece[o],e.position++;else if((s=VHe(o))>0){for(i=s,a=0;i>0;i--)o=e.input.charCodeAt(++e.position),(s=HHe(o))>=0?a=(a<<4)+s:Rt(e,"expected hexadecimal character");e.result+=GHe(a),e.position++}else Rt(e,"unknown escape sequence");r=n=e.position}else pc(o)?(ih(e,r,n,!0),gB(e,yi(e,!1,t)),r=n=e.position):e.position===e.lineStart&&Y2(e)?Rt(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}Rt(e,"unexpected end of the stream within a double quoted scalar")}function ZHe(e,t){var r=!0,n,i,a,s=e.tag,o,l=e.anchor,c,u,h,f,p,g=Object.create(null),v,m,y,x;if(x=e.input.charCodeAt(e.position),x===91)u=93,p=!1,o=[];else if(x===123)u=125,p=!0,o={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),x=e.input.charCodeAt(++e.position);x!==0;){if(yi(e,!0,t),x=e.input.charCodeAt(e.position),x===u)return e.position++,e.tag=s,e.anchor=l,e.kind=p?"mapping":"sequence",e.result=o,!0;r?x===44&&Rt(e,"expected the node content, but found ','"):Rt(e,"missed comma between flow collection entries"),m=v=y=null,h=f=!1,x===63&&(c=e.input.charCodeAt(e.position+1),gs(c)&&(h=f=!0,e.position++,yi(e,!0,t))),n=e.line,i=e.lineStart,a=e.position,Dv(e,t,BT,!1,!0),m=e.tag,v=e.result,yi(e,!0,t),x=e.input.charCodeAt(e.position),(f||e.line===n)&&x===58&&(h=!0,x=e.input.charCodeAt(++e.position),yi(e,!0,t),Dv(e,t,BT,!1,!0),y=e.result),p?Dm(e,o,g,m,v,y,n,i,a):h?o.push(Dm(e,null,g,m,v,y,n,i,a)):o.push(v),yi(e,!0,t),x=e.input.charCodeAt(e.position),x===44?(r=!0,x=e.input.charCodeAt(++e.position)):r=!1}Rt(e,"unexpected end of the stream within a flow collection")}function JHe(e,t){var r,n,i=JI,a=!1,s=!1,o=t,l=0,c=!1,u,h;if(h=e.input.charCodeAt(e.position),h===124)n=!1;else if(h===62)n=!0;else return!1;for(e.kind="scalar",e.result="";h!==0;)if(h=e.input.charCodeAt(++e.position),h===43||h===45)JI===i?i=h===43?Rq:BHe:Rt(e,"repeat of a chomping mode identifier");else if((u=WHe(h))>=0)u===0?Rt(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?Rt(e,"repeat of an indentation width identifier"):(o=t+u-1,s=!0);else break;if(mp(h)){do h=e.input.charCodeAt(++e.position);while(mp(h));if(h===35)do h=e.input.charCodeAt(++e.position);while(!pc(h)&&h!==0)}for(;h!==0;){for(pB(e),e.lineIndent=0,h=e.input.charCodeAt(e.position);(!s||e.lineIndent<o)&&h===32;)e.lineIndent++,h=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>o&&(o=e.lineIndent),pc(h)){l++;continue}if(e.lineIndent<o){i===Rq?e.result+=Ni.repeat(`
`,a?1+l:l):i===JI&&a&&(e.result+=`
`);break}for(n?mp(h)?(c=!0,e.result+=Ni.repeat(`
`,a?1+l:l)):c?(c=!1,e.result+=Ni.repeat(`
`,l+1)):l===0?a&&(e.result+=" "):e.result+=Ni.repeat(`
`,l):e.result+=Ni.repeat(`
`,a?1+l:l),a=!0,s=!0,l=0,r=e.position;!pc(h)&&h!==0;)h=e.input.charCodeAt(++e.position);ih(e,r,e.position,!1)}return!0}function Dq(e,t){var r,n=e.tag,i=e.anchor,a=[],s,o=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Rt(e,"tab characters must not be used in indentation")),!(l!==45||(s=e.input.charCodeAt(e.position+1),!gs(s))));){if(o=!0,e.position++,yi(e,!0,-1)&&e.lineIndent<=t){a.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,Dv(e,t,Xle,!1,!0),a.push(e.result),yi(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)Rt(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return o?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=a,!0):!1}function QHe(e,t,r){var n,i,a,s,o,l,c=e.tag,u=e.anchor,h={},f=Object.create(null),p=null,g=null,v=null,m=!1,y=!1,x;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=h),x=e.input.charCodeAt(e.position);x!==0;){if(!m&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Rt(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),a=e.line,(x===63||x===58)&&gs(n))x===63?(m&&(Dm(e,h,f,p,g,null,s,o,l),p=g=v=null),y=!0,m=!0,i=!0):m?(m=!1,i=!0):Rt(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,x=n;else{if(s=e.line,o=e.lineStart,l=e.position,!Dv(e,r,Kle,!1,!0))break;if(e.line===a){for(x=e.input.charCodeAt(e.position);mp(x);)x=e.input.charCodeAt(++e.position);if(x===58)x=e.input.charCodeAt(++e.position),gs(x)||Rt(e,"a whitespace character is expected after the key-value separator within a block mapping"),m&&(Dm(e,h,f,p,g,null,s,o,l),p=g=v=null),y=!0,m=!1,i=!1,p=e.tag,g=e.result;else if(y)Rt(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=u,!0}else if(y)Rt(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=u,!0}if((e.line===a||e.lineIndent>t)&&(m&&(s=e.line,o=e.lineStart,l=e.position),Dv(e,t,FT,!0,i)&&(m?g=e.result:v=e.result),m||(Dm(e,h,f,p,g,v,s,o,l),p=g=v=null),yi(e,!0,-1),x=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&x!==0)Rt(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return m&&Dm(e,h,f,p,g,null,s,o,l),y&&(e.tag=c,e.anchor=u,e.kind="mapping",e.result=h),y}function e9e(e){var t,r=!1,n=!1,i,a,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&Rt(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(r=!0,s=e.input.charCodeAt(++e.position)):s===33?(n=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(a=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):Rt(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!gs(s);)s===33&&(n?Rt(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),Zle.test(i)||Rt(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);a=e.input.slice(t,e.position),UHe.test(a)&&Rt(e,"tag suffix cannot contain flow indicator characters")}a&&!Jle.test(a)&&Rt(e,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{Rt(e,"tag name is malformed: "+a)}return r?e.tag=a:yh.call(e.tagMap,i)?e.tag=e.tagMap[i]+a:i==="!"?e.tag="!"+a:i==="!!"?e.tag="tag:yaml.org,2002:"+a:Rt(e,'undeclared tag handle "'+i+'"'),!0}function t9e(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&Rt(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!gs(r)&&!Lm(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Rt(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function r9e(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!gs(n)&&!Lm(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Rt(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),yh.call(e.anchorMap,r)||Rt(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],yi(e,!0,-1),!0}function Dv(e,t,r,n,i){var a,s,o,l=1,c=!1,u=!1,h,f,p,g,v,m;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=s=o=FT===r||Xle===r,n&&yi(e,!0,-1)&&(c=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;e9e(e)||t9e(e);)yi(e,!0,-1)?(c=!0,o=a,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):o=!1;if(o&&(o=c||i),(l===1||FT===r)&&(BT===r||Kle===r?v=t:v=t+1,m=e.position-e.lineStart,l===1?o&&(Dq(e,m)||QHe(e,m,v))||ZHe(e,v)?u=!0:(s&&JHe(e,v)||KHe(e,v)||XHe(e,v)?u=!0:r9e(e)?(u=!0,(e.tag!==null||e.anchor!==null)&&Rt(e,"alias node should not have any properties")):YHe(e,v,BT===r)&&(u=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(u=o&&Dq(e,m))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Rt(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),h=0,f=e.implicitTypes.length;h<f;h+=1)if(g=e.implicitTypes[h],g.resolve(e.result)){e.result=g.construct(e.result),e.tag=g.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(yh.call(e.typeMap[e.kind||"fallback"],e.tag))g=e.typeMap[e.kind||"fallback"][e.tag];else for(g=null,p=e.typeMap.multi[e.kind||"fallback"],h=0,f=p.length;h<f;h+=1)if(e.tag.slice(0,p[h].tag.length)===p[h].tag){g=p[h];break}g||Rt(e,"unknown tag !<"+e.tag+">"),e.result!==null&&g.kind!==e.kind&&Rt(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"'),g.resolve(e.result,e.tag)?(e.result=g.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Rt(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||u}function n9e(e){var t=e.position,r,n,i,a=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(yi(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(a=!0,s=e.input.charCodeAt(++e.position),r=e.position;s!==0&&!gs(s);)s=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&Rt(e,"directive name must not be less than one character in length");s!==0;){for(;mp(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!pc(s));break}if(pc(s))break;for(r=e.position;s!==0&&!gs(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}s!==0&&pB(e),yh.call(Pq,n)?Pq[n](e,n,i):zT(e,'unknown document directive "'+n+'"')}if(yi(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,yi(e,!0,-1)):a&&Rt(e,"directives end mark is expected"),Dv(e,e.lineIndent-1,FT,!1,!0),yi(e,!0,-1),e.checkLineBreaks&&zHe.test(e.input.slice(t,e.position))&&zT(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Y2(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,yi(e,!0,-1));return}if(e.position<e.length-1)Rt(e,"end of the stream or a document separator is expected");else return}function rce(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new qHe(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,Rt(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)n9e(r);return r.documents}function i9e(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=rce(e,r);if(typeof t!="function")return n;for(var i=0,a=n.length;i<a;i+=1)t(n[i])}function a9e(e,t){var r=rce(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Da("expected a single document in the stream, but found more")}}var s9e=i9e,o9e=a9e,nce={loadAll:s9e,load:o9e},ice=Object.prototype.toString,ace=Object.prototype.hasOwnProperty,mB=65279,l9e=9,qb=10,c9e=13,u9e=32,d9e=33,h9e=34,mO=35,f9e=37,p9e=38,g9e=39,m9e=42,sce=44,v9e=45,UT=58,y9e=61,x9e=62,_9e=63,b9e=64,oce=91,lce=93,w9e=96,cce=123,S9e=124,uce=125,Sa={};Sa[0]="\\0";Sa[7]="\\a";Sa[8]="\\b";Sa[9]="\\t";Sa[10]="\\n";Sa[11]="\\v";Sa[12]="\\f";Sa[13]="\\r";Sa[27]="\\e";Sa[34]='\\"';Sa[92]="\\\\";Sa[133]="\\N";Sa[160]="\\_";Sa[8232]="\\L";Sa[8233]="\\P";var C9e=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],k9e=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function E9e(e,t){var r,n,i,a,s,o,l;if(t===null)return{};for(r={},n=Object.keys(t),i=0,a=n.length;i<a;i+=1)s=n[i],o=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),l=e.compiledTypeMap.fallback[s],l&&ace.call(l.styleAliases,o)&&(o=l.styleAliases[o]),r[s]=o;return r}function T9e(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new Da("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Ni.repeat("0",n-t.length)+t}var N9e=1,Yb=2;function A9e(e){this.schema=e.schema||fB,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Ni.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=E9e(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Yb:N9e,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Oq(e,t){for(var r=Ni.repeat(" ",t),n=0,i=-1,a="",s,o=e.length;n<o;)i=e.indexOf(`
`,n),i===-1?(s=e.slice(n),n=o):(s=e.slice(n,i+1),n=i+1),s.length&&s!==`
`&&(a+=r),a+=s;return a}function vO(e,t){return`
`+Ni.repeat(" ",e.indent*t)}function j9e(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function HT(e){return e===u9e||e===l9e}function Kb(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==mB||65536<=e&&e<=1114111}function $q(e){return Kb(e)&&e!==mB&&e!==c9e&&e!==qb}function Bq(e,t,r){var n=$q(e),i=n&&!HT(e);return(r?n:n&&e!==sce&&e!==oce&&e!==lce&&e!==cce&&e!==uce)&&e!==mO&&!(t===UT&&!i)||$q(t)&&!HT(t)&&e===mO||t===UT&&i}function R9e(e){return Kb(e)&&e!==mB&&!HT(e)&&e!==v9e&&e!==_9e&&e!==UT&&e!==sce&&e!==oce&&e!==lce&&e!==cce&&e!==uce&&e!==mO&&e!==p9e&&e!==m9e&&e!==d9e&&e!==S9e&&e!==y9e&&e!==x9e&&e!==g9e&&e!==h9e&&e!==f9e&&e!==b9e&&e!==w9e}function I9e(e){return!HT(e)&&e!==UT}function Xx(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function dce(e){var t=/^\n* /;return t.test(e)}var hce=1,yO=2,fce=3,pce=4,fm=5;function M9e(e,t,r,n,i,a,s,o){var l,c=0,u=null,h=!1,f=!1,p=n!==-1,g=-1,v=R9e(Xx(e,0))&&I9e(Xx(e,e.length-1));if(t||s)for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=Xx(e,l),!Kb(c))return fm;v=v&&Bq(c,u,o),u=c}else{for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=Xx(e,l),c===qb)h=!0,p&&(f=f||l-g-1>n&&e[g+1]!==" ",g=l);else if(!Kb(c))return fm;v=v&&Bq(c,u,o),u=c}f=f||p&&l-g-1>n&&e[g+1]!==" "}return!h&&!f?v&&!s&&!i(e)?hce:a===Yb?fm:yO:r>9&&dce(e)?fm:s?a===Yb?fm:yO:f?pce:fce}function P9e(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===Yb?'""':"''";if(!e.noCompatMode&&(C9e.indexOf(t)!==-1||k9e.test(t)))return e.quotingType===Yb?'"'+t+'"':"'"+t+"'";var a=e.indent*Math.max(1,r),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-a),o=n||e.flowLevel>-1&&r>=e.flowLevel;function l(c){return j9e(e,c)}switch(M9e(t,o,e.indent,s,l,e.quotingType,e.forceQuotes&&!n,i)){case hce:return t;case yO:return"'"+t.replace(/'/g,"''")+"'";case fce:return"|"+Fq(t,e.indent)+zq(Oq(t,a));case pce:return">"+Fq(t,e.indent)+zq(Oq(L9e(t,s),a));case fm:return'"'+D9e(t)+'"';default:throw new Da("impossible error: invalid scalar style")}}()}function Fq(e,t){var r=dce(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),a=i?"+":n?"":"-";return r+a+`
`}function zq(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function L9e(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,r.lastIndex=c,Uq(e.slice(0,c),t)}(),i=e[0]===`
`||e[0]===" ",a,s;s=r.exec(e);){var o=s[1],l=s[2];a=l[0]===" ",n+=o+(!i&&!a&&l!==""?`
`:"")+Uq(l,t),i=a}return n}function Uq(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,a,s=0,o=0,l="";n=r.exec(e);)o=n.index,o-i>t&&(a=s>i?s:o,l+=`
`+e.slice(i,a),i=a+1),s=o;return l+=`
`,e.length-i>t&&s>i?l+=e.slice(i,s)+`
`+e.slice(s+1):l+=e.slice(i),l.slice(1)}function D9e(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=Xx(e,i),n=Sa[r],!n&&Kb(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||T9e(r);return t}function O9e(e,t,r){var n="",i=e.tag,a,s,o;for(a=0,s=r.length;a<s;a+=1)o=r[a],e.replacer&&(o=e.replacer.call(r,String(a),o)),(Iu(e,t,o,!1,!1)||typeof o>"u"&&Iu(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function Hq(e,t,r,n){var i="",a=e.tag,s,o,l;for(s=0,o=r.length;s<o;s+=1)l=r[s],e.replacer&&(l=e.replacer.call(r,String(s),l)),(Iu(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&Iu(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=vO(e,t)),e.dump&&qb===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=a,e.dump=i||"[]"}function $9e(e,t,r){var n="",i=e.tag,a=Object.keys(r),s,o,l,c,u;for(s=0,o=a.length;s<o;s+=1)u="",n!==""&&(u+=", "),e.condenseFlow&&(u+='"'),l=a[s],c=r[l],e.replacer&&(c=e.replacer.call(r,l,c)),Iu(e,t,l,!1,!1)&&(e.dump.length>1024&&(u+="? "),u+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Iu(e,t,c,!1,!1)&&(u+=e.dump,n+=u));e.tag=i,e.dump="{"+n+"}"}function B9e(e,t,r,n){var i="",a=e.tag,s=Object.keys(r),o,l,c,u,h,f;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new Da("sortKeys must be a boolean or a function");for(o=0,l=s.length;o<l;o+=1)f="",(!n||i!=="")&&(f+=vO(e,t)),c=s[o],u=r[c],e.replacer&&(u=e.replacer.call(r,c,u)),Iu(e,t+1,c,!0,!0,!0)&&(h=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,h&&(e.dump&&qb===e.dump.charCodeAt(0)?f+="?":f+="? "),f+=e.dump,h&&(f+=vO(e,t)),Iu(e,t+1,u,!0,h)&&(e.dump&&qb===e.dump.charCodeAt(0)?f+=":":f+=": ",f+=e.dump,i+=f));e.tag=a,e.dump=i||"{}"}function Vq(e,t,r){var n,i,a,s,o,l;for(i=r?e.explicitTypes:e.implicitTypes,a=0,s=i.length;a<s;a+=1)if(o=i[a],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof t=="object"&&t instanceof o.instanceOf)&&(!o.predicate||o.predicate(t))){if(r?o.multi&&o.representName?e.tag=o.representName(t):e.tag=o.tag:e.tag="?",o.represent){if(l=e.styleMap[o.tag]||o.defaultStyle,ice.call(o.represent)==="[object Function]")n=o.represent(t,l);else if(ace.call(o.represent,l))n=o.represent[l](t,l);else throw new Da("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');e.dump=n}return!0}return!1}function Iu(e,t,r,n,i,a,s){e.tag=null,e.dump=r,Vq(e,r,!1)||Vq(e,r,!0);var o=ice.call(e.dump),l=n,c;n&&(n=e.flowLevel<0||e.flowLevel>t);var u=o==="[object Object]"||o==="[object Array]",h,f;if(u&&(h=e.duplicates.indexOf(r),f=h!==-1),(e.tag!==null&&e.tag!=="?"||f||e.indent!==2&&t>0)&&(i=!1),f&&e.usedDuplicates[h])e.dump="*ref_"+h;else{if(u&&f&&!e.usedDuplicates[h]&&(e.usedDuplicates[h]=!0),o==="[object Object]")n&&Object.keys(e.dump).length!==0?(B9e(e,t,e.dump,i),f&&(e.dump="&ref_"+h+e.dump)):($9e(e,t,e.dump),f&&(e.dump="&ref_"+h+" "+e.dump));else if(o==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?Hq(e,t-1,e.dump,i):Hq(e,t,e.dump,i),f&&(e.dump="&ref_"+h+e.dump)):(O9e(e,t,e.dump),f&&(e.dump="&ref_"+h+" "+e.dump));else if(o==="[object String]")e.tag!=="?"&&P9e(e,e.dump,t,a,l);else{if(o==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Da("unacceptable kind of an object to dump "+o)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function F9e(e,t){var r=[],n=[],i,a;for(xO(e,r,n),i=0,a=n.length;i<a;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(a)}function xO(e,t,r){var n,i,a;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,a=e.length;i<a;i+=1)xO(e[i],t,r);else for(n=Object.keys(e),i=0,a=n.length;i<a;i+=1)xO(e[n[i]],t,r)}function z9e(e,t){t=t||{};var r=new A9e(t);r.noRefs||F9e(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Iu(r,0,n,!0,!0)?r.dump+`
`:""}var U9e=z9e,H9e={dump:U9e};function vB(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var V9e=Qi,W9e=jle,G9e=Ple,q9e=Ble,Y9e=Fle,K9e=fB,X9e=nce.load,Z9e=nce.loadAll,J9e=H9e.dump,Q9e=Da,eVe={binary:Wle,float:$le,map:Mle,null:Lle,pairs:qle,set:Yle,timestamp:Hle,bool:Dle,int:Ole,merge:Vle,omap:Gle,seq:Ile,str:Rle},tVe=vB("safeLoad","load"),rVe=vB("safeLoadAll","loadAll"),nVe=vB("safeDump","dump"),iVe={Type:V9e,Schema:W9e,FAILSAFE_SCHEMA:G9e,JSON_SCHEMA:q9e,CORE_SCHEMA:Y9e,DEFAULT_SCHEMA:K9e,load:X9e,loadAll:Z9e,dump:J9e,YAMLException:Q9e,types:eVe,safeLoad:tVe,safeLoadAll:rVe,safeDump:nVe};const Xe=({className:e,...t})=>d.jsx("div",{className:nr("bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",e),...t}),dt=({className:e,...t})=>d.jsx("div",{className:nr("p-4 border-b border-gray-200",e),...t}),ht=({className:e,...t})=>d.jsx("h3",{className:nr("text-lg font-medium text-gray-900",e),...t}),rn=({className:e,...t})=>d.jsx("p",{className:nr("text-sm text-gray-500",e),...t}),Je=({className:e,...t})=>d.jsx("div",{className:nr("p-4",e),...t});function _O(e,[t,r]){return Math.min(r,Math.max(t,e))}function Ut(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function aVe(e,t){const r=A.createContext(t),n=a=>{const{children:s,...o}=a,l=A.useMemo(()=>o,Object.values(o));return d.jsx(r.Provider,{value:l,children:s})};n.displayName=e+"Provider";function i(a){const s=A.useContext(r);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function Ys(e,t=[]){let r=[];function n(a,s){const o=A.createContext(s),l=r.length;r=[...r,s];const c=h=>{var y;const{scope:f,children:p,...g}=h,v=((y=f==null?void 0:f[e])==null?void 0:y[l])||o,m=A.useMemo(()=>g,Object.values(g));return d.jsx(v.Provider,{value:m,children:p})};c.displayName=a+"Provider";function u(h,f){var v;const p=((v=f==null?void 0:f[e])==null?void 0:v[l])||o,g=A.useContext(p);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[c,u]}const i=()=>{const a=r.map(s=>A.createContext(s));return function(o){const l=(o==null?void 0:o[e])||a;return A.useMemo(()=>({[`__scope${e}`]:{...o,[e]:l}}),[o,l])}};return i.scopeName=e,[n,sVe(i,...t)]}function sVe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((o,{useScope:l,scopeName:c})=>{const h=l(a)[`__scope${c}`];return{...o,...h}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}function Wq(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function gce(...e){return t=>{let r=!1;const n=e.map(i=>{const a=Wq(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():Wq(e[i],null)}}}}function sr(...e){return A.useCallback(gce(...e),e)}function Lp(e){const t=oVe(e),r=A.forwardRef((n,i)=>{const{children:a,...s}=n,o=A.Children.toArray(a),l=o.find(cVe);if(l){const c=l.props.children,u=o.map(h=>h===l?A.Children.count(c)>1?A.Children.only(null):A.isValidElement(c)?c.props.children:null:h);return d.jsx(t,{...s,ref:i,children:A.isValidElement(c)?A.cloneElement(c,void 0,u):null})}return d.jsx(t,{...s,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function oVe(e){const t=A.forwardRef((r,n)=>{const{children:i,...a}=r;if(A.isValidElement(i)){const s=dVe(i),o=uVe(a,i.props);return i.type!==A.Fragment&&(o.ref=n?gce(n,s):s),A.cloneElement(i,o)}return A.Children.count(i)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mce=Symbol("radix.slottable");function lVe(e){const t=({children:r})=>d.jsx(d.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=mce,t}function cVe(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mce}function uVe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{a(...o),i(...o)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function dVe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function hVe(e){const t=e+"CollectionProvider",[r,n]=Ys(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=v=>{const{scope:m,children:y}=v,x=en.useRef(null),_=en.useRef(new Map).current;return d.jsx(i,{scope:m,itemMap:_,collectionRef:x,children:y})};s.displayName=t;const o=e+"CollectionSlot",l=Lp(o),c=en.forwardRef((v,m)=>{const{scope:y,children:x}=v,_=a(o,y),b=sr(m,_.collectionRef);return d.jsx(l,{ref:b,children:x})});c.displayName=o;const u=e+"CollectionItemSlot",h="data-radix-collection-item",f=Lp(u),p=en.forwardRef((v,m)=>{const{scope:y,children:x,..._}=v,b=en.useRef(null),w=sr(m,b),S=a(u,y);return en.useEffect(()=>(S.itemMap.set(b,{ref:b,..._}),()=>void S.itemMap.delete(b))),d.jsx(f,{[h]:"",ref:w,children:x})});p.displayName=u;function g(v){const m=a(e+"CollectionConsumer",v);return en.useCallback(()=>{const x=m.collectionRef.current;if(!x)return[];const _=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(m.itemMap.values()).sort((S,k)=>_.indexOf(S.ref.current)-_.indexOf(k.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:s,Slot:c,ItemSlot:p},g,n]}var fVe=A.createContext(void 0);function K2(e){const t=A.useContext(fVe);return e||t||"ltr"}var pVe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Mn=pVe.reduce((e,t)=>{const r=Lp(`Primitive.${t}`),n=A.forwardRef((i,a)=>{const{asChild:s,...o}=i,l=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...o,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function gVe(e,t){e&&Xp.flushSync(()=>e.dispatchEvent(t))}function xi(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),A.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function vce(e,t=globalThis==null?void 0:globalThis.document){const r=xi(e);A.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var mVe="DismissableLayer",bO="dismissableLayer.update",vVe="dismissableLayer.pointerDownOutside",yVe="dismissableLayer.focusOutside",Gq,yce=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yB=A.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:o,...l}=e,c=A.useContext(yce),[u,h]=A.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=A.useState({}),g=sr(t,k=>h(k)),v=Array.from(c.layers),[m]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(m),x=u?v.indexOf(u):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,b=x>=y,w=bVe(k=>{const C=k.target,E=[...c.branches].some(T=>T.contains(C));!b||E||(i==null||i(k),s==null||s(k),k.defaultPrevented||o==null||o())},f),S=wVe(k=>{const C=k.target;[...c.branches].some(T=>T.contains(C))||(a==null||a(k),s==null||s(k),k.defaultPrevented||o==null||o())},f);return vce(k=>{x===c.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&o&&(k.preventDefault(),o()))},f),A.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Gq=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),qq(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Gq)}},[u,f,r,c]),A.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),qq())},[u,c]),A.useEffect(()=>{const k=()=>p({});return document.addEventListener(bO,k),()=>document.removeEventListener(bO,k)},[]),d.jsx(Mn.div,{...l,ref:g,style:{pointerEvents:_?b?"auto":"none":void 0,...e.style},onFocusCapture:Ut(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Ut(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Ut(e.onPointerDownCapture,w.onPointerDownCapture)})});yB.displayName=mVe;var xVe="DismissableLayerBranch",_Ve=A.forwardRef((e,t)=>{const r=A.useContext(yce),n=A.useRef(null),i=sr(t,n);return A.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),d.jsx(Mn.div,{...e,ref:i})});_Ve.displayName=xVe;function bVe(e,t=globalThis==null?void 0:globalThis.document){const r=xi(e),n=A.useRef(!1),i=A.useRef(()=>{});return A.useEffect(()=>{const a=o=>{if(o.target&&!n.current){let l=function(){xce(vVe,r,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function wVe(e,t=globalThis==null?void 0:globalThis.document){const r=xi(e),n=A.useRef(!1);return A.useEffect(()=>{const i=a=>{a.target&&!n.current&&xce(yVe,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function qq(){const e=new CustomEvent(bO);document.dispatchEvent(e)}function xce(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?gVe(i,a):i.dispatchEvent(a)}var QI=0;function _ce(){A.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Yq()),document.body.insertAdjacentElement("beforeend",e[1]??Yq()),QI++,()=>{QI===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),QI--}},[])}function Yq(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var eM="focusScope.autoFocusOnMount",tM="focusScope.autoFocusOnUnmount",Kq={bubbles:!1,cancelable:!0},SVe="FocusScope",xB=A.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=e,[o,l]=A.useState(null),c=xi(i),u=xi(a),h=A.useRef(null),f=sr(t,v=>l(v)),p=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(n){let v=function(_){if(p.paused||!o)return;const b=_.target;o.contains(b)?h.current=b:fd(h.current,{select:!0})},m=function(_){if(p.paused||!o)return;const b=_.relatedTarget;b!==null&&(o.contains(b)||fd(h.current,{select:!0}))},y=function(_){if(document.activeElement===document.body)for(const w of _)w.removedNodes.length>0&&fd(o)};document.addEventListener("focusin",v),document.addEventListener("focusout",m);const x=new MutationObserver(y);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",m),x.disconnect()}}},[n,o,p.paused]),A.useEffect(()=>{if(o){Zq.add(p);const v=document.activeElement;if(!o.contains(v)){const y=new CustomEvent(eM,Kq);o.addEventListener(eM,c),o.dispatchEvent(y),y.defaultPrevented||(CVe(AVe(bce(o)),{select:!0}),document.activeElement===v&&fd(o))}return()=>{o.removeEventListener(eM,c),setTimeout(()=>{const y=new CustomEvent(tM,Kq);o.addEventListener(tM,u),o.dispatchEvent(y),y.defaultPrevented||fd(v??document.body,{select:!0}),o.removeEventListener(tM,u),Zq.remove(p)},0)}}},[o,c,u,p]);const g=A.useCallback(v=>{if(!r&&!n||p.paused)return;const m=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(m&&y){const x=v.currentTarget,[_,b]=kVe(x);_&&b?!v.shiftKey&&y===b?(v.preventDefault(),r&&fd(_,{select:!0})):v.shiftKey&&y===_&&(v.preventDefault(),r&&fd(b,{select:!0})):y===x&&v.preventDefault()}},[r,n,p.paused]);return d.jsx(Mn.div,{tabIndex:-1,...s,ref:f,onKeyDown:g})});xB.displayName=SVe;function CVe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(fd(n,{select:t}),document.activeElement!==r)return}function kVe(e){const t=bce(e),r=Xq(t,e),n=Xq(t.reverse(),e);return[r,n]}function bce(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Xq(e,t){for(const r of e)if(!EVe(r,{upTo:t}))return r}function EVe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function TVe(e){return e instanceof HTMLInputElement&&"select"in e}function fd(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&TVe(e)&&t&&e.select()}}var Zq=NVe();function NVe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Jq(e,t),e.unshift(t)},remove(t){var r;e=Jq(e,t),(r=e[0])==null||r.resume()}}}function Jq(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function AVe(e){return e.filter(t=>t.tagName!=="A")}var Fn=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},jVe=IN[" useId ".trim().toString()]||(()=>{}),RVe=0;function ah(e){const[t,r]=A.useState(jVe());return Fn(()=>{r(n=>n??String(RVe++))},[e]),t?`radix-${t}`:""}const IVe=["top","right","bottom","left"],xh=Math.min,Ms=Math.max,VT=Math.round,AC=Math.floor,gc=e=>({x:e,y:e}),MVe={left:"right",right:"left",bottom:"top",top:"bottom"},PVe={start:"end",end:"start"};function wO(e,t,r){return Ms(e,xh(t,r))}function Mu(e,t){return typeof e=="function"?e(t):e}function Pu(e){return e.split("-")[0]}function A0(e){return e.split("-")[1]}function _B(e){return e==="x"?"y":"x"}function bB(e){return e==="y"?"height":"width"}function _h(e){return["top","bottom"].includes(Pu(e))?"y":"x"}function wB(e){return _B(_h(e))}function LVe(e,t,r){r===void 0&&(r=!1);const n=A0(e),i=wB(e),a=bB(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=WT(s)),[s,WT(s)]}function DVe(e){const t=WT(e);return[SO(e),t,SO(t)]}function SO(e){return e.replace(/start|end/g,t=>PVe[t])}function OVe(e,t,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?a:s;default:return[]}}function $Ve(e,t,r,n){const i=A0(e);let a=OVe(Pu(e),r==="start",n);return i&&(a=a.map(s=>s+"-"+i),t&&(a=a.concat(a.map(SO)))),a}function WT(e){return e.replace(/left|right|bottom|top/g,t=>MVe[t])}function BVe(e){return{top:0,right:0,bottom:0,left:0,...e}}function wce(e){return typeof e!="number"?BVe(e):{top:e,right:e,bottom:e,left:e}}function GT(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function Qq(e,t,r){let{reference:n,floating:i}=e;const a=_h(t),s=wB(t),o=bB(s),l=Pu(t),c=a==="y",u=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,f=n[o]/2-i[o]/2;let p;switch(l){case"top":p={x:u,y:n.y-i.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-i.width,y:h};break;default:p={x:n.x,y:n.y}}switch(A0(t)){case"start":p[s]-=f*(r&&c?-1:1);break;case"end":p[s]+=f*(r&&c?-1:1);break}return p}const FVe=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=r,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:h}=Qq(c,n,l),f=n,p={},g=0;for(let v=0;v<o.length;v++){const{name:m,fn:y}=o[v],{x,y:_,data:b,reset:w}=await y({x:u,y:h,initialPlacement:n,placement:f,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:e,floating:t}});u=x??u,h=_??h,p={...p,[m]:{...p[m],...b}},w&&g<=50&&(g++,typeof w=="object"&&(w.placement&&(f=w.placement),w.rects&&(c=w.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):w.rects),{x:u,y:h}=Qq(c,f,l)),v=-1)}return{x:u,y:h,placement:f,strategy:i,middlewareData:p}};async function Xb(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:s,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Mu(t,e),g=wce(p),m=o[f?h==="floating"?"reference":"floating":h],y=GT(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(m)))==null||r?m:m.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),x=h==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),b=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},w=GT(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:_,strategy:l}):x);return{top:(y.top-w.top+g.top)/b.y,bottom:(w.bottom-y.bottom+g.bottom)/b.y,left:(y.left-w.left+g.left)/b.x,right:(w.right-y.right+g.right)/b.x}}const zVe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=t,{element:c,padding:u=0}=Mu(e,t)||{};if(c==null)return{};const h=wce(u),f={x:r,y:n},p=wB(i),g=bB(p),v=await s.getDimensions(c),m=p==="y",y=m?"top":"left",x=m?"bottom":"right",_=m?"clientHeight":"clientWidth",b=a.reference[g]+a.reference[p]-f[p]-a.floating[g],w=f[p]-a.reference[p],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let k=S?S[_]:0;(!k||!await(s.isElement==null?void 0:s.isElement(S)))&&(k=o.floating[_]||a.floating[g]);const C=b/2-w/2,E=k/2-v[g]/2-1,T=xh(h[y],E),N=xh(h[x],E),I=T,P=k-v[g]-N,D=k/2-v[g]/2+C,$=wO(I,D,P),L=!l.arrow&&A0(i)!=null&&D!==$&&a.reference[g]/2-(D<I?T:N)-v[g]/2<0,O=L?D<I?D-I:D-P:0;return{[p]:f[p]+O,data:{[p]:$,centerOffset:D-$-O,...L&&{alignmentOffset:O}},reset:L}}}),UVe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...m}=Mu(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=Pu(i),x=_h(o),_=Pu(o)===o,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=f||(_||!v?[WT(o)]:DVe(o)),S=g!=="none";!f&&S&&w.push(...$Ve(o,v,g,b));const k=[o,...w],C=await Xb(t,m),E=[];let T=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&E.push(C[y]),h){const D=LVe(i,s,b);E.push(C[D[0]],C[D[1]])}if(T=[...T,{placement:i,overflows:E}],!E.every(D=>D<=0)){var N,I;const D=(((N=a.flip)==null?void 0:N.index)||0)+1,$=k[D];if($)return{data:{index:D,overflows:T},reset:{placement:$}};let L=(I=T.filter(O=>O.overflows[0]<=0).sort((O,j)=>O.overflows[1]-j.overflows[1])[0])==null?void 0:I.placement;if(!L)switch(p){case"bestFit":{var P;const O=(P=T.filter(j=>{if(S){const M=_h(j.placement);return M===x||M==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(M=>M>0).reduce((M,R)=>M+R,0)]).sort((j,M)=>j[1]-M[1])[0])==null?void 0:P[0];O&&(L=O);break}case"initialPlacement":L=o;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function eY(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function tY(e){return IVe.some(t=>e[t]>=0)}const HVe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Mu(e,t);switch(n){case"referenceHidden":{const a=await Xb(t,{...i,elementContext:"reference"}),s=eY(a,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:tY(s)}}}case"escaped":{const a=await Xb(t,{...i,altBoundary:!0}),s=eY(a,r.floating);return{data:{escapedOffsets:s,escaped:tY(s)}}}default:return{}}}}};async function VVe(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=Pu(r),o=A0(r),l=_h(r)==="y",c=["left","top"].includes(s)?-1:1,u=a&&l?-1:1,h=Mu(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const WVe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:s,middlewareData:o}=t,l=await VVe(t,e);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}},GVe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:m=>{let{x:y,y:x}=m;return{x:y,y:x}}},...l}=Mu(e,t),c={x:r,y:n},u=await Xb(t,l),h=_h(Pu(i)),f=_B(h);let p=c[f],g=c[h];if(a){const m=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=p+u[m],_=p-u[y];p=wO(x,p,_)}if(s){const m=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=g+u[m],_=g-u[y];g=wO(x,g,_)}const v=o.fn({...t,[f]:p,[h]:g});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[f]:a,[h]:s}}}}}},qVe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:s}=t,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Mu(e,t),u={x:r,y:n},h=_h(i),f=_B(h);let p=u[f],g=u[h];const v=Mu(o,t),m=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const _=f==="y"?"height":"width",b=a.reference[f]-a.floating[_]+m.mainAxis,w=a.reference[f]+a.reference[_]-m.mainAxis;p<b?p=b:p>w&&(p=w)}if(c){var y,x;const _=f==="y"?"width":"height",b=["top","left"].includes(Pu(i)),w=a.reference[h]-a.floating[_]+(b&&((y=s.offset)==null?void 0:y[h])||0)+(b?0:m.crossAxis),S=a.reference[h]+a.reference[_]+(b?0:((x=s.offset)==null?void 0:x[h])||0)-(b?m.crossAxis:0);g<w?g=w:g>S&&(g=S)}return{[f]:p,[h]:g}}}},YVe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:s,elements:o}=t,{apply:l=()=>{},...c}=Mu(e,t),u=await Xb(t,c),h=Pu(i),f=A0(i),p=_h(i)==="y",{width:g,height:v}=a.floating;let m,y;h==="top"||h==="bottom"?(m=h,y=f===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(y=h,m=f==="end"?"top":"bottom");const x=v-u.top-u.bottom,_=g-u.left-u.right,b=xh(v-u[m],x),w=xh(g-u[y],_),S=!t.middlewareData.shift;let k=b,C=w;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=_),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=x),S&&!f){const T=Ms(u.left,0),N=Ms(u.right,0),I=Ms(u.top,0),P=Ms(u.bottom,0);p?C=g-2*(T!==0||N!==0?T+N:Ms(u.left,u.right)):k=v-2*(I!==0||P!==0?I+P:Ms(u.top,u.bottom))}await l({...t,availableWidth:C,availableHeight:k});const E=await s.getDimensions(o.floating);return g!==E.width||v!==E.height?{reset:{rects:!0}}:{}}}};function X2(){return typeof window<"u"}function j0(e){return Sce(e)?(e.nodeName||"").toLowerCase():"#document"}function zs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Rc(e){var t;return(t=(Sce(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Sce(e){return X2()?e instanceof Node||e instanceof zs(e).Node:!1}function ml(e){return X2()?e instanceof Element||e instanceof zs(e).Element:!1}function Sc(e){return X2()?e instanceof HTMLElement||e instanceof zs(e).HTMLElement:!1}function rY(e){return!X2()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof zs(e).ShadowRoot}function s1(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=vl(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function KVe(e){return["table","td","th"].includes(j0(e))}function Z2(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function SB(e){const t=CB(),r=ml(e)?vl(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function XVe(e){let t=bh(e);for(;Sc(t)&&!Ov(t);){if(SB(t))return t;if(Z2(t))return null;t=bh(t)}return null}function CB(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ov(e){return["html","body","#document"].includes(j0(e))}function vl(e){return zs(e).getComputedStyle(e)}function J2(e){return ml(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function bh(e){if(j0(e)==="html")return e;const t=e.assignedSlot||e.parentNode||rY(e)&&e.host||Rc(e);return rY(t)?t.host:t}function Cce(e){const t=bh(e);return Ov(t)?e.ownerDocument?e.ownerDocument.body:e.body:Sc(t)&&s1(t)?t:Cce(t)}function Zb(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=Cce(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),s=zs(i);if(a){const o=CO(s);return t.concat(s,s.visualViewport||[],s1(i)?i:[],o&&r?Zb(o):[])}return t.concat(i,Zb(i,[],r))}function CO(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function kce(e){const t=vl(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Sc(e),a=i?e.offsetWidth:r,s=i?e.offsetHeight:n,o=VT(r)!==a||VT(n)!==s;return o&&(r=a,n=s),{width:r,height:n,$:o}}function kB(e){return ml(e)?e:e.contextElement}function av(e){const t=kB(e);if(!Sc(t))return gc(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=kce(t);let s=(a?VT(r.width):r.width)/n,o=(a?VT(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const ZVe=gc(0);function Ece(e){const t=zs(e);return!CB()||!t.visualViewport?ZVe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function JVe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==zs(e)?!1:t}function Dp(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=kB(e);let s=gc(1);t&&(n?ml(n)&&(s=av(n)):s=av(e));const o=JVe(a,r,n)?Ece(a):gc(0);let l=(i.left+o.x)/s.x,c=(i.top+o.y)/s.y,u=i.width/s.x,h=i.height/s.y;if(a){const f=zs(a),p=n&&ml(n)?zs(n):n;let g=f,v=CO(g);for(;v&&n&&p!==g;){const m=av(v),y=v.getBoundingClientRect(),x=vl(v),_=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*m.x,b=y.top+(v.clientTop+parseFloat(x.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,h*=m.y,l+=_,c+=b,g=zs(v),v=CO(g)}}return GT({width:u,height:h,x:l,y:c})}function EB(e,t){const r=J2(e).scrollLeft;return t?t.left+r:Dp(Rc(e)).left+r}function Tce(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:EB(e,n)),a=n.top+t.scrollTop;return{x:i,y:a}}function QVe(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",s=Rc(n),o=t?Z2(t.floating):!1;if(n===s||o&&a)return r;let l={scrollLeft:0,scrollTop:0},c=gc(1);const u=gc(0),h=Sc(n);if((h||!h&&!a)&&((j0(n)!=="body"||s1(s))&&(l=J2(n)),Sc(n))){const p=Dp(n);c=av(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const f=s&&!h&&!a?Tce(s,l,!0):gc(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:r.y*c.y-l.scrollTop*c.y+u.y+f.y}}function eWe(e){return Array.from(e.getClientRects())}function tWe(e){const t=Rc(e),r=J2(e),n=e.ownerDocument.body,i=Ms(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Ms(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+EB(e);const o=-r.scrollTop;return vl(n).direction==="rtl"&&(s+=Ms(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:o}}function rWe(e,t){const r=zs(e),n=Rc(e),i=r.visualViewport;let a=n.clientWidth,s=n.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const c=CB();(!c||c&&t==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}function nWe(e,t){const r=Dp(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=Sc(e)?av(e):gc(1),s=e.clientWidth*a.x,o=e.clientHeight*a.y,l=i*a.x,c=n*a.y;return{width:s,height:o,x:l,y:c}}function nY(e,t,r){let n;if(t==="viewport")n=rWe(e,r);else if(t==="document")n=tWe(Rc(e));else if(ml(t))n=nWe(t,r);else{const i=Ece(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return GT(n)}function Nce(e,t){const r=bh(e);return r===t||!ml(r)||Ov(r)?!1:vl(r).position==="fixed"||Nce(r,t)}function iWe(e,t){const r=t.get(e);if(r)return r;let n=Zb(e,[],!1).filter(o=>ml(o)&&j0(o)!=="body"),i=null;const a=vl(e).position==="fixed";let s=a?bh(e):e;for(;ml(s)&&!Ov(s);){const o=vl(s),l=SB(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||s1(s)&&!l&&Nce(e,s))?n=n.filter(u=>u!==s):i=o,s=bh(s)}return t.set(e,n),n}function aWe(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const s=[...r==="clippingAncestors"?Z2(t)?[]:iWe(t,this._c):[].concat(r),n],o=s[0],l=s.reduce((c,u)=>{const h=nY(t,u,i);return c.top=Ms(h.top,c.top),c.right=xh(h.right,c.right),c.bottom=xh(h.bottom,c.bottom),c.left=Ms(h.left,c.left),c},nY(t,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function sWe(e){const{width:t,height:r}=kce(e);return{width:t,height:r}}function oWe(e,t,r){const n=Sc(t),i=Rc(t),a=r==="fixed",s=Dp(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const l=gc(0);if(n||!n&&!a)if((j0(t)!=="body"||s1(i))&&(o=J2(t)),n){const f=Dp(t,!0,a,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else i&&(l.x=EB(i));const c=i&&!n&&!a?Tce(i,o):gc(0),u=s.left+o.scrollLeft-l.x-c.x,h=s.top+o.scrollTop-l.y-c.y;return{x:u,y:h,width:s.width,height:s.height}}function rM(e){return vl(e).position==="static"}function iY(e,t){if(!Sc(e)||vl(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Rc(e)===r&&(r=r.ownerDocument.body),r}function Ace(e,t){const r=zs(e);if(Z2(e))return r;if(!Sc(e)){let i=bh(e);for(;i&&!Ov(i);){if(ml(i)&&!rM(i))return i;i=bh(i)}return r}let n=iY(e,t);for(;n&&KVe(n)&&rM(n);)n=iY(n,t);return n&&Ov(n)&&rM(n)&&!SB(n)?r:n||XVe(e)||r}const lWe=async function(e){const t=this.getOffsetParent||Ace,r=this.getDimensions,n=await r(e.floating);return{reference:oWe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function cWe(e){return vl(e).direction==="rtl"}const uWe={convertOffsetParentRelativeRectToViewportRelativeRect:QVe,getDocumentElement:Rc,getClippingRect:aWe,getOffsetParent:Ace,getElementRects:lWe,getClientRects:eWe,getDimensions:sWe,getScale:av,isElement:ml,isRTL:cWe};function jce(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function dWe(e,t){let r=null,n;const i=Rc(e);function a(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const c=e.getBoundingClientRect(),{left:u,top:h,width:f,height:p}=c;if(o||t(),!f||!p)return;const g=AC(h),v=AC(i.clientWidth-(u+f)),m=AC(i.clientHeight-(h+p)),y=AC(u),_={rootMargin:-g+"px "+-v+"px "+-m+"px "+-y+"px",threshold:Ms(0,xh(1,l))||1};let b=!0;function w(S){const k=S[0].intersectionRatio;if(k!==l){if(!b)return s();k?s(!1,k):n=setTimeout(()=>{s(!1,1e-7)},1e3)}k===1&&!jce(c,e.getBoundingClientRect())&&s(),b=!1}try{r=new IntersectionObserver(w,{..._,root:i.ownerDocument})}catch{r=new IntersectionObserver(w,_)}r.observe(e)}return s(!0),a}function Rce(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=kB(e),u=i||a?[...c?Zb(c):[],...Zb(t)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const h=c&&o?dWe(c,r):null;let f=-1,p=null;s&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(t)})),r()}),c&&!l&&p.observe(c),p.observe(t));let g,v=l?Dp(e):null;l&&m();function m(){const y=Dp(e);v&&!jce(v,y)&&r(),v=y,g=requestAnimationFrame(m)}return r(),()=>{var y;u.forEach(x=>{i&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const hWe=WVe,fWe=GVe,pWe=UVe,gWe=YVe,mWe=HVe,aY=zVe,vWe=qVe,yWe=(e,t,r)=>{const n=new Map,i={platform:uWe,...r},a={...i.platform,_c:n};return FVe(e,t,{...i,platform:a})};var eE=typeof document<"u"?A.useLayoutEffect:A.useEffect;function qT(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!qT(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!qT(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Ice(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function sY(e,t){const r=Ice(e);return Math.round(t*r)/r}function nM(e){const t=A.useRef(e);return eE(()=>{t.current=e}),t}function Mce(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:c}=e,[u,h]=A.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=A.useState(n);qT(f,n)||p(n);const[g,v]=A.useState(null),[m,y]=A.useState(null),x=A.useCallback(j=>{j!==S.current&&(S.current=j,v(j))},[]),_=A.useCallback(j=>{j!==k.current&&(k.current=j,y(j))},[]),b=a||g,w=s||m,S=A.useRef(null),k=A.useRef(null),C=A.useRef(u),E=l!=null,T=nM(l),N=nM(i),I=nM(c),P=A.useCallback(()=>{if(!S.current||!k.current)return;const j={placement:t,strategy:r,middleware:f};N.current&&(j.platform=N.current),yWe(S.current,k.current,j).then(M=>{const R={...M,isPositioned:I.current!==!1};D.current&&!qT(C.current,R)&&(C.current=R,Xp.flushSync(()=>{h(R)}))})},[f,t,r,N,I]);eE(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[c]);const D=A.useRef(!1);eE(()=>(D.current=!0,()=>{D.current=!1}),[]),eE(()=>{if(b&&(S.current=b),w&&(k.current=w),b&&w){if(T.current)return T.current(b,w,P);P()}},[b,w,P,T,E]);const $=A.useMemo(()=>({reference:S,floating:k,setReference:x,setFloating:_}),[x,_]),L=A.useMemo(()=>({reference:b,floating:w}),[b,w]),O=A.useMemo(()=>{const j={position:r,left:0,top:0};if(!L.floating)return j;const M=sY(L.floating,u.x),R=sY(L.floating,u.y);return o?{...j,transform:"translate("+M+"px, "+R+"px)",...Ice(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:R}},[r,o,L.floating,u.x,u.y]);return A.useMemo(()=>({...u,update:P,refs:$,elements:L,floatingStyles:O}),[u,P,$,L,O])}const xWe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?aY({element:n.current,padding:i}).fn(r):{}:n?aY({element:n,padding:i}).fn(r):{}}}},Pce=(e,t)=>({...hWe(e),options:[e,t]}),Lce=(e,t)=>({...fWe(e),options:[e,t]}),Dce=(e,t)=>({...vWe(e),options:[e,t]}),Oce=(e,t)=>({...pWe(e),options:[e,t]}),$ce=(e,t)=>({...gWe(e),options:[e,t]}),Bce=(e,t)=>({...mWe(e),options:[e,t]}),Fce=(e,t)=>({...xWe(e),options:[e,t]});var _We="Arrow",zce=A.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return d.jsx(Mn.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});zce.displayName=_We;var bWe=zce;function Q2(e){const[t,r]=A.useState(void 0);return Fn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,o=c.blockSize}else s=e.offsetWidth,o=e.offsetHeight;r({width:s,height:o})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var TB="Popper",[Uce,Hce]=Ys(TB),[wWe,Vce]=Uce(TB),Wce=e=>{const{__scopePopper:t,children:r}=e,[n,i]=A.useState(null);return d.jsx(wWe,{scope:t,anchor:n,onAnchorChange:i,children:r})};Wce.displayName=TB;var Gce="PopperAnchor",qce=A.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=Vce(Gce,r),s=A.useRef(null),o=sr(t,s);return A.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:d.jsx(Mn.div,{...i,ref:o})});qce.displayName=Gce;var NB="PopperContent",[SWe,CWe]=Uce(NB),Yce=A.forwardRef((e,t)=>{var B,W,Y,Z,Q,re;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:g,...v}=e,m=Vce(NB,r),[y,x]=A.useState(null),_=sr(t,me=>x(me)),[b,w]=A.useState(null),S=Q2(b),k=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,E=n+(a!=="center"?"-"+a:""),T=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},N=Array.isArray(c)?c:[c],I=N.length>0,P={padding:T,boundary:N.filter(EWe),altBoundary:I},{refs:D,floatingStyles:$,placement:L,isPositioned:O,middlewareData:j}=Mce({strategy:"fixed",placement:E,whileElementsMounted:(...me)=>Rce(...me,{animationFrame:p==="always"}),elements:{reference:m.anchor},middleware:[Pce({mainAxis:i+C,alignmentAxis:s}),l&&Lce({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Dce():void 0,...P}),l&&Oce({...P}),$ce({...P,apply:({elements:me,rects:Ee,availableWidth:Ne,availableHeight:Me})=>{const{width:Ae,height:Ie}=Ee.reference,bt=me.floating.style;bt.setProperty("--radix-popper-available-width",`${Ne}px`),bt.setProperty("--radix-popper-available-height",`${Me}px`),bt.setProperty("--radix-popper-anchor-width",`${Ae}px`),bt.setProperty("--radix-popper-anchor-height",`${Ie}px`)}}),b&&Fce({element:b,padding:o}),TWe({arrowWidth:k,arrowHeight:C}),f&&Bce({strategy:"referenceHidden",...P})]}),[M,R]=Zce(L),z=xi(g);Fn(()=>{O&&(z==null||z())},[O,z]);const U=(B=j.arrow)==null?void 0:B.x,F=(W=j.arrow)==null?void 0:W.y,G=((Y=j.arrow)==null?void 0:Y.centerOffset)!==0,[q,K]=A.useState();return Fn(()=>{y&&K(window.getComputedStyle(y).zIndex)},[y]),d.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:O?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(Z=j.transformOrigin)==null?void 0:Z.x,(Q=j.transformOrigin)==null?void 0:Q.y].join(" "),...((re=j.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(SWe,{scope:r,placedSide:M,onArrowChange:w,arrowX:U,arrowY:F,shouldHideArrow:G,children:d.jsx(Mn.div,{"data-side":M,"data-align":R,...v,ref:_,style:{...v.style,animation:O?void 0:"none"}})})})});Yce.displayName=NB;var Kce="PopperArrow",kWe={top:"bottom",right:"left",bottom:"top",left:"right"},Xce=A.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=CWe(Kce,n),s=kWe[a.placedSide];return d.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:d.jsx(bWe,{...i,ref:r,style:{...i.style,display:"block"}})})});Xce.displayName=Kce;function EWe(e){return e!==null}var TWe=e=>({name:"transformOrigin",options:e,fn(t){var m,y,x;const{placement:r,rects:n,middlewareData:i}=t,s=((m=i.arrow)==null?void 0:m.centerOffset)!==0,o=s?0:e.arrowWidth,l=s?0:e.arrowHeight,[c,u]=Zce(r),h={start:"0%",center:"50%",end:"100%"}[u],f=(((y=i.arrow)==null?void 0:y.x)??0)+o/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let g="",v="";return c==="bottom"?(g=s?h:`${f}px`,v=`${-l}px`):c==="top"?(g=s?h:`${f}px`,v=`${n.floating.height+l}px`):c==="right"?(g=`${-l}px`,v=s?h:`${p}px`):c==="left"&&(g=`${n.floating.width+l}px`,v=s?h:`${p}px`),{data:{x:g,y:v}}}});function Zce(e){const[t,r="center"]=e.split("-");return[t,r]}var NWe=Wce,AWe=qce,jWe=Yce,RWe=Xce,IWe="Portal",AB=A.forwardRef((e,t)=>{var o;const{container:r,...n}=e,[i,a]=A.useState(!1);Fn(()=>a(!0),[]);const s=r||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?nxe.createPortal(d.jsx(Mn.div,{...n,ref:t}),s):null});AB.displayName=IWe;function YT({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=MWe({defaultProp:t,onChange:r}),a=e!==void 0,s=a?e:n,o=xi(r),l=A.useCallback(c=>{if(a){const h=typeof c=="function"?c(e):c;h!==e&&o(h)}else i(c)},[a,e,i,o]);return[s,l]}function MWe({defaultProp:e,onChange:t}){const r=A.useState(e),[n]=r,i=A.useRef(n),a=xi(t);return A.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}function jB(e){const t=A.useRef({value:e,previous:e});return A.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var PWe="VisuallyHidden",Jce=A.forwardRef((e,t)=>d.jsx(Mn.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Jce.displayName=PWe;var LWe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Yg=new WeakMap,jC=new WeakMap,RC={},iM=0,Qce=function(e){return e&&(e.host||Qce(e.parentNode))},DWe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Qce(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},OWe=function(e,t,r,n){var i=DWe(t,Array.isArray(e)?e:[e]);RC[r]||(RC[r]=new WeakMap);var a=RC[r],s=[],o=new Set,l=new Set(i),c=function(h){!h||o.has(h)||(o.add(h),c(h.parentNode))};i.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(o.has(f))u(f);else try{var p=f.getAttribute(n),g=p!==null&&p!=="false",v=(Yg.get(f)||0)+1,m=(a.get(f)||0)+1;Yg.set(f,v),a.set(f,m),s.push(f),v===1&&g&&jC.set(f,!0),m===1&&f.setAttribute(r,"true"),g||f.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return u(t),o.clear(),iM++,function(){s.forEach(function(h){var f=Yg.get(h)-1,p=a.get(h)-1;Yg.set(h,f),a.set(h,p),f||(jC.has(h)||h.removeAttribute(n),jC.delete(h)),p||h.removeAttribute(r)}),iM--,iM||(Yg=new WeakMap,Yg=new WeakMap,jC=new WeakMap,RC={})}},eue=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=LWe(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),OWe(n,i,r,"aria-hidden")):function(){return null}},Jl=function(){return Jl=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Jl.apply(this,arguments)};function tue(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function $We(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var tE="right-scroll-bar-position",rE="width-before-scroll-bar",BWe="with-scroll-bars-hidden",FWe="--removed-body-scroll-bar-size";function aM(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function zWe(e,t){var r=A.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var UWe=typeof window<"u"?A.useLayoutEffect:A.useEffect,oY=new WeakMap;function HWe(e,t){var r=zWe(null,function(n){return e.forEach(function(i){return aM(i,n)})});return UWe(function(){var n=oY.get(r);if(n){var i=new Set(n),a=new Set(e),s=r.current;i.forEach(function(o){a.has(o)||aM(o,null)}),a.forEach(function(o){i.has(o)||aM(o,s)})}oY.set(r,e)},[e]),r}function VWe(e){return e}function WWe(e,t){t===void 0&&(t=VWe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var s=t(a,n);return r.push(s),function(){r=r.filter(function(o){return o!==s})}},assignSyncMedium:function(a){for(n=!0;r.length;){var s=r;r=[],s.forEach(a)}r={push:function(o){return a(o)},filter:function(){return r}}},assignMedium:function(a){n=!0;var s=[];if(r.length){var o=r;r=[],o.forEach(a),s=r}var l=function(){var u=s;s=[],u.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),r}}}};return i}function GWe(e){e===void 0&&(e={});var t=WWe(null);return t.options=Jl({async:!0,ssr:!1},e),t}var rue=function(e){var t=e.sideCar,r=tue(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return A.createElement(n,Jl({},r))};rue.isSideCarExport=!0;function qWe(e,t){return e.useMedium(t),rue}var nue=GWe(),sM=function(){},eA=A.forwardRef(function(e,t){var r=A.useRef(null),n=A.useState({onScrollCapture:sM,onWheelCapture:sM,onTouchMoveCapture:sM}),i=n[0],a=n[1],s=e.forwardProps,o=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,h=e.shards,f=e.sideCar,p=e.noIsolation,g=e.inert,v=e.allowPinchZoom,m=e.as,y=m===void 0?"div":m,x=e.gapMode,_=tue(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=f,w=HWe([r,t]),S=Jl(Jl({},_),i);return A.createElement(A.Fragment,null,u&&A.createElement(b,{sideCar:nue,removeScrollBar:c,shards:h,noIsolation:p,inert:g,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:x}),s?A.cloneElement(A.Children.only(o),Jl(Jl({},S),{ref:w})):A.createElement(y,Jl({},S,{className:l,ref:w}),o))});eA.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};eA.classNames={fullWidth:rE,zeroRight:tE};var YWe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function KWe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=YWe();return t&&e.setAttribute("nonce",t),e}function XWe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ZWe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var JWe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=KWe())&&(XWe(t,r),ZWe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},QWe=function(){var e=JWe();return function(t,r){A.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},iue=function(){var e=QWe(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},e7e={left:0,top:0,right:0,gap:0},oM=function(e){return parseInt(e||"",10)||0},t7e=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[oM(r),oM(n),oM(i)]},r7e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return e7e;var t=t7e(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},n7e=iue(),sv="data-scroll-locked",i7e=function(e,t,r,n){var i=e.left,a=e.top,s=e.right,o=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(BWe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(sv,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(tE,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(rE,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(tE," .").concat(tE,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(rE," .").concat(rE,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(sv,`] {
    `).concat(FWe,": ").concat(o,`px;
  }
`)},lY=function(){var e=parseInt(document.body.getAttribute(sv)||"0",10);return isFinite(e)?e:0},a7e=function(){A.useEffect(function(){return document.body.setAttribute(sv,(lY()+1).toString()),function(){var e=lY()-1;e<=0?document.body.removeAttribute(sv):document.body.setAttribute(sv,e.toString())}},[])},s7e=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;a7e();var a=A.useMemo(function(){return r7e(i)},[i]);return A.createElement(n7e,{styles:i7e(a,!t,i,r?"":"!important")})},kO=!1;if(typeof window<"u")try{var IC=Object.defineProperty({},"passive",{get:function(){return kO=!0,!0}});window.addEventListener("test",IC,IC),window.removeEventListener("test",IC,IC)}catch{kO=!1}var Kg=kO?{passive:!1}:!1,o7e=function(e){return e.tagName==="TEXTAREA"},aue=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!o7e(e)&&r[t]==="visible")},l7e=function(e){return aue(e,"overflowY")},c7e=function(e){return aue(e,"overflowX")},cY=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=sue(e,n);if(i){var a=oue(e,n),s=a[1],o=a[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},u7e=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},d7e=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},sue=function(e,t){return e==="v"?l7e(t):c7e(t)},oue=function(e,t){return e==="v"?u7e(t):d7e(t)},h7e=function(e,t){return e==="h"&&t==="rtl"?-1:1},f7e=function(e,t,r,n,i){var a=h7e(e,window.getComputedStyle(t).direction),s=a*n,o=r.target,l=t.contains(o),c=!1,u=s>0,h=0,f=0;do{var p=oue(e,o),g=p[0],v=p[1],m=p[2],y=v-m-a*g;(g||y)&&sue(e,o)&&(h+=y,f+=g),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!l&&o!==document.body||l&&(t.contains(o)||t===o));return(u&&Math.abs(h)<1||!u&&Math.abs(f)<1)&&(c=!0),c},MC=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},uY=function(e){return[e.deltaX,e.deltaY]},dY=function(e){return e&&"current"in e?e.current:e},p7e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},g7e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},m7e=0,Xg=[];function v7e(e){var t=A.useRef([]),r=A.useRef([0,0]),n=A.useRef(),i=A.useState(m7e++)[0],a=A.useState(iue)[0],s=A.useRef(e);A.useEffect(function(){s.current=e},[e]),A.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=$We([e.lockRef.current],(e.shards||[]).map(dY),!0).filter(Boolean);return v.forEach(function(m){return m.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var o=A.useCallback(function(v,m){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!s.current.allowPinchZoom;var y=MC(v),x=r.current,_="deltaX"in v?v.deltaX:x[0]-y[0],b="deltaY"in v?v.deltaY:x[1]-y[1],w,S=v.target,k=Math.abs(_)>Math.abs(b)?"h":"v";if("touches"in v&&k==="h"&&S.type==="range")return!1;var C=cY(k,S);if(!C)return!0;if(C?w=k:(w=k==="v"?"h":"v",C=cY(k,S)),!C)return!1;if(!n.current&&"changedTouches"in v&&(_||b)&&(n.current=w),!w)return!0;var E=n.current||w;return f7e(E,m,v,E==="h"?_:b)},[]),l=A.useCallback(function(v){var m=v;if(!(!Xg.length||Xg[Xg.length-1]!==a)){var y="deltaY"in m?uY(m):MC(m),x=t.current.filter(function(w){return w.name===m.type&&(w.target===m.target||m.target===w.shadowParent)&&p7e(w.delta,y)})[0];if(x&&x.should){m.cancelable&&m.preventDefault();return}if(!x){var _=(s.current.shards||[]).map(dY).filter(Boolean).filter(function(w){return w.contains(m.target)}),b=_.length>0?o(m,_[0]):!s.current.noIsolation;b&&m.cancelable&&m.preventDefault()}}},[]),c=A.useCallback(function(v,m,y,x){var _={name:v,delta:m,target:y,should:x,shadowParent:y7e(y)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(b){return b!==_})},1)},[]),u=A.useCallback(function(v){r.current=MC(v),n.current=void 0},[]),h=A.useCallback(function(v){c(v.type,uY(v),v.target,o(v,e.lockRef.current))},[]),f=A.useCallback(function(v){c(v.type,MC(v),v.target,o(v,e.lockRef.current))},[]);A.useEffect(function(){return Xg.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Kg),document.addEventListener("touchmove",l,Kg),document.addEventListener("touchstart",u,Kg),function(){Xg=Xg.filter(function(v){return v!==a}),document.removeEventListener("wheel",l,Kg),document.removeEventListener("touchmove",l,Kg),document.removeEventListener("touchstart",u,Kg)}},[]);var p=e.removeScrollBar,g=e.inert;return A.createElement(A.Fragment,null,g?A.createElement(a,{styles:g7e(i)}):null,p?A.createElement(s7e,{gapMode:e.gapMode}):null)}function y7e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const x7e=qWe(nue,v7e);var RB=A.forwardRef(function(e,t){return A.createElement(eA,Jl({},e,{ref:t,sideCar:x7e}))});RB.classNames=eA.classNames;var _7e=[" ","Enter","ArrowUp","ArrowDown"],b7e=[" ","Enter"],o1="Select",[tA,rA,w7e]=hVe(o1),[R0,lvt]=Ys(o1,[w7e,Hce]),nA=Hce(),[S7e,Oh]=R0(o1),[C7e,k7e]=R0(o1),lue=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:s,defaultValue:o,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:f,required:p,form:g}=e,v=nA(t),[m,y]=A.useState(null),[x,_]=A.useState(null),[b,w]=A.useState(!1),S=K2(c),[k=!1,C]=YT({prop:n,defaultProp:i,onChange:a}),[E,T]=YT({prop:s,defaultProp:o,onChange:l}),N=A.useRef(null),I=m?g||!!m.closest("form"):!0,[P,D]=A.useState(new Set),$=Array.from(P).map(L=>L.props.value).join(";");return d.jsx(NWe,{...v,children:d.jsxs(S7e,{required:p,scope:t,trigger:m,onTriggerChange:y,valueNode:x,onValueNodeChange:_,valueNodeHasChildren:b,onValueNodeHasChildrenChange:w,contentId:ah(),value:E,onValueChange:T,open:k,onOpenChange:C,dir:S,triggerPointerDownPosRef:N,disabled:f,children:[d.jsx(tA.Provider,{scope:t,children:d.jsx(C7e,{scope:e.__scopeSelect,onNativeOptionAdd:A.useCallback(L=>{D(O=>new Set(O).add(L))},[]),onNativeOptionRemove:A.useCallback(L=>{D(O=>{const j=new Set(O);return j.delete(L),j})},[]),children:r})}),I?d.jsxs(jue,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:h,value:E,onChange:L=>T(L.target.value),disabled:f,form:g,children:[E===void 0?d.jsx("option",{value:""}):null,Array.from(P)]},$):null]})})};lue.displayName=o1;var cue="SelectTrigger",uue=A.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=nA(r),s=Oh(cue,r),o=s.disabled||n,l=sr(t,s.onTriggerChange),c=rA(r),u=A.useRef("touch"),[h,f,p]=Rue(v=>{const m=c().filter(_=>!_.disabled),y=m.find(_=>_.value===s.value),x=Iue(m,v,y);x!==void 0&&s.onValueChange(x.value)}),g=v=>{o||(s.onOpenChange(!0),p()),v&&(s.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return d.jsx(AWe,{asChild:!0,...a,children:d.jsx(Mn.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":Aue(s.value)?"":void 0,...i,ref:l,onClick:Ut(i.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&g(v)}),onPointerDown:Ut(i.onPointerDown,v=>{u.current=v.pointerType;const m=v.target;m.hasPointerCapture(v.pointerId)&&m.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(g(v),v.preventDefault())}),onKeyDown:Ut(i.onKeyDown,v=>{const m=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&f(v.key),!(m&&v.key===" ")&&_7e.includes(v.key)&&(g(),v.preventDefault())})})})});uue.displayName=cue;var due="SelectValue",hue=A.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:s="",...o}=e,l=Oh(due,r),{onValueNodeHasChildrenChange:c}=l,u=a!==void 0,h=sr(t,l.onValueNodeChange);return Fn(()=>{c(u)},[c,u]),d.jsx(Mn.span,{...o,ref:h,style:{pointerEvents:"none"},children:Aue(l.value)?d.jsx(d.Fragment,{children:s}):a})});hue.displayName=due;var E7e="SelectIcon",fue=A.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return d.jsx(Mn.span,{"aria-hidden":!0,...i,ref:t,children:n||"▼"})});fue.displayName=E7e;var T7e="SelectPortal",pue=e=>d.jsx(AB,{asChild:!0,...e});pue.displayName=T7e;var Op="SelectContent",gue=A.forwardRef((e,t)=>{const r=Oh(Op,e.__scopeSelect),[n,i]=A.useState();if(Fn(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?Xp.createPortal(d.jsx(mue,{scope:e.__scopeSelect,children:d.jsx(tA.Slot,{scope:e.__scopeSelect,children:d.jsx("div",{children:e.children})})}),a):null}return d.jsx(vue,{...e,ref:t})});gue.displayName=Op;var qo=10,[mue,$h]=R0(Op),N7e="SelectContentImpl",A7e=Lp("SelectContent.RemoveScroll"),vue=A.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:v,avoidCollisions:m,...y}=e,x=Oh(Op,r),[_,b]=A.useState(null),[w,S]=A.useState(null),k=sr(t,B=>b(B)),[C,E]=A.useState(null),[T,N]=A.useState(null),I=rA(r),[P,D]=A.useState(!1),$=A.useRef(!1);A.useEffect(()=>{if(_)return eue(_)},[_]),_ce();const L=A.useCallback(B=>{const[W,...Y]=I().map(re=>re.ref.current),[Z]=Y.slice(-1),Q=document.activeElement;for(const re of B)if(re===Q||(re==null||re.scrollIntoView({block:"nearest"}),re===W&&w&&(w.scrollTop=0),re===Z&&w&&(w.scrollTop=w.scrollHeight),re==null||re.focus(),document.activeElement!==Q))return},[I,w]),O=A.useCallback(()=>L([C,_]),[L,C,_]);A.useEffect(()=>{P&&O()},[P,O]);const{onOpenChange:j,triggerPointerDownPosRef:M}=x;A.useEffect(()=>{if(_){let B={x:0,y:0};const W=Z=>{var Q,re;B={x:Math.abs(Math.round(Z.pageX)-(((Q=M.current)==null?void 0:Q.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((re=M.current)==null?void 0:re.y)??0))}},Y=Z=>{B.x<=10&&B.y<=10?Z.preventDefault():_.contains(Z.target)||j(!1),document.removeEventListener("pointermove",W),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",W),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",Y,{capture:!0})}}},[_,j,M]),A.useEffect(()=>{const B=()=>j(!1);return window.addEventListener("blur",B),window.addEventListener("resize",B),()=>{window.removeEventListener("blur",B),window.removeEventListener("resize",B)}},[j]);const[R,z]=Rue(B=>{const W=I().filter(Q=>!Q.disabled),Y=W.find(Q=>Q.ref.current===document.activeElement),Z=Iue(W,B,Y);Z&&setTimeout(()=>Z.ref.current.focus())}),U=A.useCallback((B,W,Y)=>{const Z=!$.current&&!Y;(x.value!==void 0&&x.value===W||Z)&&(E(B),Z&&($.current=!0))},[x.value]),F=A.useCallback(()=>_==null?void 0:_.focus(),[_]),G=A.useCallback((B,W,Y)=>{const Z=!$.current&&!Y;(x.value!==void 0&&x.value===W||Z)&&N(B)},[x.value]),q=n==="popper"?EO:yue,K=q===EO?{side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:v,avoidCollisions:m}:{};return d.jsx(mue,{scope:r,content:_,viewport:w,onViewportChange:S,itemRefCallback:U,selectedItem:C,onItemLeave:F,itemTextRefCallback:G,focusSelectedItem:O,selectedItemText:T,position:n,isPositioned:P,searchRef:R,children:d.jsx(RB,{as:A7e,allowPinchZoom:!0,children:d.jsx(xB,{asChild:!0,trapped:x.open,onMountAutoFocus:B=>{B.preventDefault()},onUnmountAutoFocus:Ut(i,B=>{var W;(W=x.trigger)==null||W.focus({preventScroll:!0}),B.preventDefault()}),children:d.jsx(yB,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:B=>B.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:d.jsx(q,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:B=>B.preventDefault(),...y,...K,onPlaced:()=>D(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ut(y.onKeyDown,B=>{const W=B.ctrlKey||B.altKey||B.metaKey;if(B.key==="Tab"&&B.preventDefault(),!W&&B.key.length===1&&z(B.key),["ArrowUp","ArrowDown","Home","End"].includes(B.key)){let Z=I().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes(B.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(B.key)){const Q=B.target,re=Z.indexOf(Q);Z=Z.slice(re+1)}setTimeout(()=>L(Z)),B.preventDefault()}})})})})})})});vue.displayName=N7e;var j7e="SelectItemAlignedPosition",yue=A.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=Oh(Op,r),s=$h(Op,r),[o,l]=A.useState(null),[c,u]=A.useState(null),h=sr(t,k=>u(k)),f=rA(r),p=A.useRef(!1),g=A.useRef(!0),{viewport:v,selectedItem:m,selectedItemText:y,focusSelectedItem:x}=s,_=A.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&c&&v&&m&&y){const k=a.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),E=a.valueNode.getBoundingClientRect(),T=y.getBoundingClientRect();if(a.dir!=="rtl"){const Q=T.left-C.left,re=E.left-Q,me=k.left-re,Ee=k.width+me,Ne=Math.max(Ee,C.width),Me=window.innerWidth-qo,Ae=_O(re,[qo,Math.max(qo,Me-Ne)]);o.style.minWidth=Ee+"px",o.style.left=Ae+"px"}else{const Q=C.right-T.right,re=window.innerWidth-E.right-Q,me=window.innerWidth-k.right-re,Ee=k.width+me,Ne=Math.max(Ee,C.width),Me=window.innerWidth-qo,Ae=_O(re,[qo,Math.max(qo,Me-Ne)]);o.style.minWidth=Ee+"px",o.style.right=Ae+"px"}const N=f(),I=window.innerHeight-qo*2,P=v.scrollHeight,D=window.getComputedStyle(c),$=parseInt(D.borderTopWidth,10),L=parseInt(D.paddingTop,10),O=parseInt(D.borderBottomWidth,10),j=parseInt(D.paddingBottom,10),M=$+L+P+j+O,R=Math.min(m.offsetHeight*5,M),z=window.getComputedStyle(v),U=parseInt(z.paddingTop,10),F=parseInt(z.paddingBottom,10),G=k.top+k.height/2-qo,q=I-G,K=m.offsetHeight/2,B=m.offsetTop+K,W=$+L+B,Y=M-W;if(W<=G){const Q=N.length>0&&m===N[N.length-1].ref.current;o.style.bottom="0px";const re=c.clientHeight-v.offsetTop-v.offsetHeight,me=Math.max(q,K+(Q?F:0)+re+O),Ee=W+me;o.style.height=Ee+"px"}else{const Q=N.length>0&&m===N[0].ref.current;o.style.top="0px";const me=Math.max(G,$+v.offsetTop+(Q?U:0)+K)+Y;o.style.height=me+"px",v.scrollTop=W-G+v.offsetTop}o.style.margin=`${qo}px 0`,o.style.minHeight=R+"px",o.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[f,a.trigger,a.valueNode,o,c,v,m,y,a.dir,n]);Fn(()=>_(),[_]);const[b,w]=A.useState();Fn(()=>{c&&w(window.getComputedStyle(c).zIndex)},[c]);const S=A.useCallback(k=>{k&&g.current===!0&&(_(),x==null||x(),g.current=!1)},[_,x]);return d.jsx(I7e,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:d.jsx(Mn.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});yue.displayName=j7e;var R7e="SelectPopperPosition",EO=A.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=qo,...a}=e,s=nA(r);return d.jsx(jWe,{...s,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});EO.displayName=R7e;var[I7e,IB]=R0(Op,{}),TO="SelectViewport",xue=A.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=$h(TO,r),s=IB(TO,r),o=sr(t,a.onViewportChange),l=A.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),d.jsx(tA.Slot,{scope:r,children:d.jsx(Mn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ut(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=s;if(f!=null&&f.current&&h){const p=Math.abs(l.current-u.scrollTop);if(p>0){const g=window.innerHeight-qo*2,v=parseFloat(h.style.minHeight),m=parseFloat(h.style.height),y=Math.max(v,m);if(y<g){const x=y+p,_=Math.min(g,x),b=x-_;h.style.height=_+"px",h.style.bottom==="0px"&&(u.scrollTop=b>0?b:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});xue.displayName=TO;var _ue="SelectGroup",[M7e,P7e]=R0(_ue),L7e=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=ah();return d.jsx(M7e,{scope:r,id:i,children:d.jsx(Mn.div,{role:"group","aria-labelledby":i,...n,ref:t})})});L7e.displayName=_ue;var bue="SelectLabel",wue=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=P7e(bue,r);return d.jsx(Mn.div,{id:i.id,...n,ref:t})});wue.displayName=bue;var KT="SelectItem",[D7e,Sue]=R0(KT),Cue=A.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...s}=e,o=Oh(KT,r),l=$h(KT,r),c=o.value===n,[u,h]=A.useState(a??""),[f,p]=A.useState(!1),g=sr(t,x=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,x,n,i)}),v=ah(),m=A.useRef("touch"),y=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(D7e,{scope:r,value:n,disabled:i,textId:v,isSelected:c,onItemTextChange:A.useCallback(x=>{h(_=>_||((x==null?void 0:x.textContent)??"").trim())},[]),children:d.jsx(tA.ItemSlot,{scope:r,value:n,disabled:i,textValue:u,children:d.jsx(Mn.div,{role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:g,onFocus:Ut(s.onFocus,()=>p(!0)),onBlur:Ut(s.onBlur,()=>p(!1)),onClick:Ut(s.onClick,()=>{m.current!=="mouse"&&y()}),onPointerUp:Ut(s.onPointerUp,()=>{m.current==="mouse"&&y()}),onPointerDown:Ut(s.onPointerDown,x=>{m.current=x.pointerType}),onPointerMove:Ut(s.onPointerMove,x=>{var _;m.current=x.pointerType,i?(_=l.onItemLeave)==null||_.call(l):m.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ut(s.onPointerLeave,x=>{var _;x.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:Ut(s.onKeyDown,x=>{var b;((b=l.searchRef)==null?void 0:b.current)!==""&&x.key===" "||(b7e.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});Cue.displayName=KT;var Zx="SelectItemText",kue=A.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,s=Oh(Zx,r),o=$h(Zx,r),l=Sue(Zx,r),c=k7e(Zx,r),[u,h]=A.useState(null),f=sr(t,y=>h(y),l.onItemTextChange,y=>{var x;return(x=o.itemTextRefCallback)==null?void 0:x.call(o,y,l.value,l.disabled)}),p=u==null?void 0:u.textContent,g=A.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:m}=c;return Fn(()=>(v(g),()=>m(g)),[v,m,g]),d.jsxs(d.Fragment,{children:[d.jsx(Mn.span,{id:l.textId,...a,ref:f}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Xp.createPortal(a.children,s.valueNode):null]})});kue.displayName=Zx;var Eue="SelectItemIndicator",O7e=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Sue(Eue,r).isSelected?d.jsx(Mn.span,{"aria-hidden":!0,...n,ref:t}):null});O7e.displayName=Eue;var NO="SelectScrollUpButton",$7e=A.forwardRef((e,t)=>{const r=$h(NO,e.__scopeSelect),n=IB(NO,e.__scopeSelect),[i,a]=A.useState(!1),s=sr(t,n.onScrollButtonChange);return Fn(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=l.scrollTop>0;a(c)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?d.jsx(Tue,{...e,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});$7e.displayName=NO;var AO="SelectScrollDownButton",B7e=A.forwardRef((e,t)=>{const r=$h(AO,e.__scopeSelect),n=IB(AO,e.__scopeSelect),[i,a]=A.useState(!1),s=sr(t,n.onScrollButtonChange);return Fn(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;a(u)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?d.jsx(Tue,{...e,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});B7e.displayName=AO;var Tue=A.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=$h("SelectScrollButton",r),s=A.useRef(null),o=rA(r),l=A.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return A.useEffect(()=>()=>l(),[l]),Fn(()=>{var u;const c=o().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[o]),d.jsx(Mn.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ut(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:Ut(i.onPointerMove,()=>{var c;(c=a.onItemLeave)==null||c.call(a),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:Ut(i.onPointerLeave,()=>{l()})})}),F7e="SelectSeparator",Nue=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return d.jsx(Mn.div,{"aria-hidden":!0,...n,ref:t})});Nue.displayName=F7e;var jO="SelectArrow",z7e=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=nA(r),a=Oh(jO,r),s=$h(jO,r);return a.open&&s.position==="popper"?d.jsx(RWe,{...i,...n,ref:t}):null});z7e.displayName=jO;function Aue(e){return e===""||e===void 0}var jue=A.forwardRef((e,t)=>{const{value:r,...n}=e,i=A.useRef(null),a=sr(t,i),s=jB(r);return A.useEffect(()=>{const o=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==r&&u){const h=new Event("change",{bubbles:!0});u.call(o,r),o.dispatchEvent(h)}},[s,r]),d.jsx(Jce,{asChild:!0,children:d.jsx("select",{...n,ref:a,defaultValue:r})})});jue.displayName="BubbleSelect";function Rue(e){const t=xi(e),r=A.useRef(""),n=A.useRef(0),i=A.useCallback(s=>{const o=r.current+s;t(o),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(o)},[t]),a=A.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return A.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function Iue(e,t,r){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let s=U7e(e,Math.max(a,0));i.length===1&&(s=s.filter(c=>c!==r));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function U7e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var H7e=lue,Mue=uue,V7e=hue,W7e=fue,G7e=pue,Pue=gue,q7e=xue,Lue=wue,Due=Cue,Y7e=kue,Oue=Nue;const cn=H7e,un=V7e,nn=A.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(Mue,{ref:n,className:nr("flex h-10 w-full items-center justify-between rounded-md border border-slate-200 bg-white px-2 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:[t,d.jsx(W7e,{asChild:!0,children:d.jsx(DE,{className:"h-4 w-4 opacity-50"})})]}));nn.displayName=Mue.displayName;const an=A.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>d.jsx(G7e,{children:d.jsx(Pue,{ref:i,className:nr("relative z-50 min-w-[8rem] max-w-[100%] overflow-hidden rounded-md border border-slate-200 bg-white text-slate-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:d.jsx(q7e,{className:nr("p-0.5",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));an.displayName=Pue.displayName;const K7e=A.forwardRef(({className:e,...t},r)=>d.jsx(Lue,{ref:r,className:nr("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));K7e.displayName=Lue.displayName;const qe=A.forwardRef(({className:e,children:t,...r},n)=>d.jsx(Due,{ref:n,className:nr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-2 text-sm outline-none focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:d.jsx(Y7e,{children:t})}));qe.displayName=Due.displayName;const X7e=A.forwardRef(({className:e,...t},r)=>d.jsx(Oue,{ref:r,className:nr("-mx-1 my-1 h-px bg-slate-100",e),...t}));X7e.displayName=Oue.displayName;const Z7e=[{value:"5m",label:"5分钟"},{value:"15m",label:"15分钟"},{value:"30m",label:"30分钟"},{value:"1h",label:"1小时"},{value:"3h",label:"3小时"},{value:"6h",label:"6小时"},{value:"12h",label:"12小时"},{value:"1d",label:"1天"}],$ue=({selectedDevice:e,fetchFromPrometheus:t,deviceIp:r})=>{const[n,i]=A.useState([]),[a,s]=A.useState("30m"),[o,l]=A.useState(!1),[c,u]=A.useState(null),h=async()=>{l(!0),u(null);try{const v=e?`srl_system_cpu_usage{device="${e}"}`:"srl_system_cpu_usage",m=e?`srl_system_memory_usage{device="${e}"}`:"srl_system_memory_usage",y=e?`srl_system_load{device="${e}"}`:"srl_system_load",[x,_,b]=await Promise.all([t(v),t(m),t(y)]),w=new Set;x.forEach(k=>w.add(k.metric.device)),_.forEach(k=>w.add(k.metric.device)),b.forEach(k=>w.add(k.metric.device));const S=Array.from(w).map(k=>{const C=x.find(N=>N.metric.device===k),E=_.find(N=>N.metric.device===k),T=b.find(N=>N.metric.device===k);return{device:k,cpu:C?parseFloat(C.value[1]):0,memory:E?parseFloat(E.value[1]):0,load:T?parseFloat(T.value[1]):0,timestamp:new Date().toISOString()}});i(S)}catch(v){console.error("Error fetching system metrics:",v),u("获取系统性能指标失败"),f()}finally{l(!1)}},f=()=>{const m=["spine1","spine2","leaf1","leaf2","leaf3","leaf4"].map(y=>({device:y,cpu:Math.random()*(y==="leaf1"?95:70),memory:40+Math.random()*30,load:1+Math.random()*3,timestamp:new Date().toISOString()}));i(m)};A.useEffect(()=>{h();const v=setInterval(h,3e4);return()=>clearInterval(v)},[e,a]);const g=[...e?n.filter(v=>v.device===e):n].sort((v,m)=>m.cpu-v.cpu);return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2",children:[d.jsxs("h2",{className:"text-xl font-semibold flex flex-wrap items-center gap-2",children:[e&&d.jsxs("div",{className:"flex items-center bg-blue-50 px-3 py-1 rounded-md text-blue-800 text-sm font-medium mr-2",children:[d.jsx("span",{className:"font-bold mr-1",children:"设备:"})," ",e,r&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"mx-1",children:"|"}),d.jsx("span",{className:"font-bold mr-1",children:"IP:"})," ",r]})]}),d.jsx("span",{children:"系统性能监控"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-sm text-gray-500",children:"时间范围:"}),d.jsxs(cn,{value:a,onValueChange:s,children:[d.jsx(nn,{className:"w-36",children:d.jsx(un,{placeholder:"选择时间范围"})}),d.jsx(an,{children:Z7e.map(v=>d.jsx(qe,{value:v.value,children:v.label},v.value))})]})]})]}),c&&d.jsxs("div",{className:"bg-red-50 text-red-700 p-3 rounded-md flex items-center",children:[d.jsx(ji,{className:"h-5 w-5 mr-2"}),d.jsx("span",{children:c})]}),o?d.jsxs("div",{className:"text-center py-12",children:[d.jsx(Qd,{className:"h-8 w-8 mx-auto animate-pulse text-blue-500"}),d.jsx("p",{className:"mt-2 text-gray-500",children:"加载系统性能数据..."})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs(Xe,{children:[d.jsx(dt,{className:"pb-2",children:d.jsx(ht,{className:"text-sm font-medium text-gray-500",children:"CPU 平均使用率"})}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-end space-x-2",children:[d.jsx("div",{className:"text-3xl font-bold",children:_S(g.reduce((v,m)=>v+m.cpu,0)/Math.max(1,g.length)/100,1)}),d.jsx(bv,{className:"h-6 w-6 text-blue-500"})]}),d.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"数据来源: srl-system-performance"})]})]}),d.jsxs(Xe,{children:[d.jsx(dt,{className:"pb-2",children:d.jsx(ht,{className:"text-sm font-medium text-gray-500",children:"内存平均使用率"})}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-end space-x-2",children:[d.jsx("div",{className:"text-3xl font-bold",children:_S(g.reduce((v,m)=>v+m.memory,0)/Math.max(1,g.length)/100,1)}),d.jsx(B5,{className:"h-6 w-6 text-green-500"})]}),d.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"数据来源: srl-system-performance"})]})]}),d.jsxs(Xe,{children:[d.jsx(dt,{className:"pb-2",children:d.jsx(ht,{className:"text-sm font-medium text-gray-500",children:"平均负载"})}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-end space-x-2",children:[d.jsx("div",{className:"text-3xl font-bold",children:(g.reduce((v,m)=>v+m.load,0)/Math.max(1,g.length)).toFixed(2)}),d.jsx(XN,{className:"h-6 w-6 text-purple-500"})]}),d.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"数据来源: srl-system-performance"})]})]})]}),d.jsxs(Xe,{children:[d.jsx(dt,{children:d.jsx(ht,{children:"设备系统性能详情"})}),d.jsx(Je,{children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{children:[d.jsx(ie,{children:"设备名称"}),d.jsx(ie,{children:"CPU 使用率"}),d.jsx(ie,{children:"内存使用率"}),d.jsx(ie,{children:"系统负载"}),d.jsx(ie,{children:"状态"})]})}),d.jsx(Qr,{children:g.length===0?d.jsx(nt,{children:d.jsx(te,{colSpan:5,className:"text-center text-gray-500 py-4",children:"没有可用的系统性能数据"})}):g.map(v=>d.jsxs(nt,{children:[d.jsx(te,{className:"font-medium",children:v.device}),d.jsx(te,{children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mr-2",children:d.jsx("div",{className:`h-2.5 rounded-full ${v.cpu>90?"bg-red-500":v.cpu>70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(100,v.cpu)}%`}})}),d.jsx("span",{className:v.cpu>90?"text-red-600 font-semibold":v.cpu>70?"text-yellow-600":"text-gray-600",children:_S(v.cpu/100,1)})]})}),d.jsx(te,{children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mr-2",children:d.jsx("div",{className:`h-2.5 rounded-full ${v.memory>90?"bg-red-500":v.memory>70?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${Math.min(100,v.memory)}%`}})}),d.jsx("span",{children:_S(v.memory/100,1)})]})}),d.jsx(te,{children:v.load.toFixed(2)}),d.jsx(te,{children:v.cpu>90||v.memory>90?d.jsxs("div",{className:"flex items-center text-red-600",children:[d.jsx(ji,{className:"h-4 w-4 mr-1"}),d.jsx("span",{children:"警告"})]}):d.jsx("span",{className:"text-green-600",children:"正常"})})]},v.device))})]})})]}),d.jsxs(Xe,{children:[d.jsx(dt,{children:d.jsx(ht,{children:"资源利用趋势图"})}),d.jsx(Je,{children:d.jsx("div",{className:"p-8 text-center text-gray-500 border border-dashed rounded-md",children:"此处将展示资源利用率趋势图，支持选择CPU、内存、负载等指标"})})]})]})]})},J7e=[{value:"5m",label:"5分钟"},{value:"15m",label:"15分钟"},{value:"30m",label:"30分钟"},{value:"1h",label:"1小时"},{value:"3h",label:"3小时"},{value:"6h",label:"6小时"},{value:"12h",label:"12小时"},{value:"1d",label:"1天"}],Bue=({selectedDevice:e,fetchFromPrometheus:t,deviceIp:r})=>{const[n,i]=A.useState([]),[a,s]=A.useState("30m"),[o,l]=A.useState(!1),[c,u]=A.useState(null),[h,f]=A.useState("all"),[p,g]=A.useState("all"),v=async()=>{l(!0),u(null);try{const T=e?`srl_bgp_session_state{device="${e}"}`:"srl_bgp_session_state",N=e?`srl_bgp_prefixes_received{device="${e}"}`:"srl_bgp_prefixes_received",I=e?`srl_bgp_prefixes_sent{device="${e}"}`:"srl_bgp_prefixes_sent",P=e?`srl_bgp_session_uptime_seconds{device="${e}"}`:"srl_bgp_session_uptime_seconds",[D,$,L,O]=await Promise.all([t(T),t(N),t(I),t(P)]),j=new Map;D.forEach(M=>{const{device:R,neighbor:z,asn:U,address_family:F}=M.metric,G=parseInt(M.value[1]),q=G===1?"established":G===2?"active":G===3?"connect":G===4?"idle":"down",K=`${R}-${z}-${F}`;j.set(K,{device:R,neighborAddr:z,neighborName:z,asn:parseInt(U)||0,state:q,uptime:"0",prefixesReceived:0,prefixesSent:0,addressFamily:F})}),$.forEach(M=>{const{device:R,neighbor:z,address_family:U}=M.metric,F=parseInt(M.value[1]),G=`${R}-${z}-${U}`;if(j.has(G)){const q=j.get(G);q.prefixesReceived=F,j.set(G,q)}}),L.forEach(M=>{const{device:R,neighbor:z,address_family:U}=M.metric,F=parseInt(M.value[1]),G=`${R}-${z}-${U}`;if(j.has(G)){const q=j.get(G);q.prefixesSent=F,j.set(G,q)}}),O.forEach(M=>{const{device:R,neighbor:z,address_family:U}=M.metric,F=parseInt(M.value[1]),G=`${R}-${z}-${U}`;if(j.has(G)){const q=j.get(G);q.uptime=y(F),j.set(G,q)}}),i(Array.from(j.values()))}catch(T){console.error("Error fetching BGP data:",T),u("获取BGP邻居信息失败"),m()}finally{l(!1)}},m=()=>{const T=["spine1","spine2","leaf1","leaf2","leaf3","leaf4"],N=[];T.forEach(I=>{const P=3+Math.floor(Math.random()*4);for(let D=1;D<=P;D++){const $=Math.random()>.7,L=Math.random()>.9;N.push({device:I,neighborAddr:$?`2001:db8::${I.replace(/[^\d]/g,"")}:${D}`:`10.0.${I.replace(/[^\d]/g,"")}.${D}`,neighborName:`${I==="spine1"||I==="spine2"?"leaf":"spine"}${D}`,asn:64500+parseInt(I.replace(/[^\d]/g,"")),state:L?"down":"established",uptime:L?"0":y(Math.floor(Math.random()*1e6)),prefixesReceived:Math.floor(Math.random()*1e3),prefixesSent:Math.floor(Math.random()*500),addressFamily:$?"ipv6":"ipv4",lastError:L?"Connection timed out":void 0}),Math.random()>.7&&N.push({device:I,neighborAddr:$?`2001:db8::${I.replace(/[^\d]/g,"")}:${D}`:`10.0.${I.replace(/[^\d]/g,"")}.${D}`,neighborName:`${I==="spine1"||I==="spine2"?"leaf":"spine"}${D}-vpn`,asn:64500+parseInt(I.replace(/[^\d]/g,"")),state:L?"down":"established",uptime:L?"0":y(Math.floor(Math.random()*1e6)),prefixesReceived:Math.floor(Math.random()*300),prefixesSent:Math.floor(Math.random()*150),addressFamily:"vpn",lastError:L?"Connection timed out":void 0})}}),i(N)},y=T=>{if(T===0)return"Down";const N=Math.floor(T/86400),I=Math.floor(T%86400/3600),P=Math.floor(T%3600/60);return N>0?`${N}d ${I}h`:I>0?`${I}h ${P}m`:`${P}m ${T%60}s`};A.useEffect(()=>{v();const T=setInterval(v,3e4);return()=>clearInterval(T)},[e,a]);const x=n.filter(T=>!(e&&T.device!==e||h!=="all"&&T.addressFamily!==h||p!=="all"&&T.state!==p)),_=x.length,b=x.filter(T=>T.state==="established").length,w=_-b,S=x.reduce((T,N)=>T+N.prefixesReceived,0),k=x.filter(T=>T.addressFamily==="ipv4").length,C=x.filter(T=>T.addressFamily==="ipv6").length,E=x.filter(T=>T.addressFamily==="vpn").length;return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2",children:[d.jsxs("h2",{className:"text-xl font-semibold flex flex-wrap items-center gap-2",children:[e&&d.jsxs("div",{className:"flex items-center bg-blue-50 px-3 py-1 rounded-md text-blue-800 text-sm font-medium mr-2",children:[d.jsx("span",{className:"font-bold mr-1",children:"设备:"})," ",e,r&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"mx-1",children:"|"}),d.jsx("span",{className:"font-bold mr-1",children:"IP:"})," ",r]})]}),d.jsx("span",{children:"BGP 邻居状态"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-sm text-gray-500",children:"时间范围:"}),d.jsxs(cn,{value:a,onValueChange:s,children:[d.jsx(nn,{className:"w-36",children:d.jsx(un,{placeholder:"选择时间范围"})}),d.jsx(an,{children:J7e.map(T=>d.jsx(qe,{value:T.value,children:T.label},T.value))})]})]})]}),c&&d.jsxs("div",{className:"bg-red-50 text-red-700 p-3 rounded-md flex items-center",children:[d.jsx(ji,{className:"h-5 w-5 mr-2"}),d.jsx("span",{children:c})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs(Xe,{children:[d.jsx(dt,{className:"pb-2",children:d.jsx(ht,{className:"text-sm font-medium text-gray-500",children:"BGP 邻居总数"})}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-end space-x-2",children:[d.jsx("div",{className:"text-3xl font-bold",children:_}),d.jsx(R_e,{className:"h-6 w-6 text-blue-500"})]}),d.jsxs("div",{className:"flex justify-between mt-2",children:[d.jsxs("div",{className:"text-xs text-gray-500",children:["IPv4: ",k]}),d.jsxs("div",{className:"text-xs text-gray-500",children:["IPv6: ",C]}),d.jsxs("div",{className:"text-xs text-gray-500",children:["VPN: ",E]})]})]})]}),d.jsxs(Xe,{children:[d.jsx(dt,{className:"pb-2",children:d.jsx(ht,{className:"text-sm font-medium text-gray-500",children:"已建立邻居"})}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-end space-x-2",children:[d.jsx("div",{className:"text-3xl font-bold text-green-600",children:b}),d.jsx(See,{className:"h-6 w-6 text-green-500"})]}),d.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["正常运行率: ",_>0?`${Math.round(b/_*100)}%`:"N/A"]})]})]}),d.jsxs(Xe,{children:[d.jsx(dt,{className:"pb-2",children:d.jsx(ht,{className:"text-sm font-medium text-gray-500",children:"未建立邻居"})}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-end space-x-2",children:[d.jsx("div",{className:`text-3xl font-bold ${w>0?"text-red-600":"text-gray-600"}`,children:w}),d.jsx(LE,{className:`h-6 w-6 ${w>0?"text-red-500":"text-gray-500"}`})]}),d.jsx("div",{className:"mt-2 text-xs text-gray-500",children:w>0?"存在断链邻居，请检查":"全部邻居状态正常"})]})]}),d.jsxs(Xe,{children:[d.jsx(dt,{className:"pb-2",children:d.jsx(ht,{className:"text-sm font-medium text-gray-500",children:"前缀数量"})}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-end space-x-2",children:[d.jsx("div",{className:"text-3xl font-bold",children:S.toLocaleString()}),d.jsx(ds,{className:"h-6 w-6 text-purple-500"})]}),d.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"从BGP邻居学习到的总前缀数"})]})]})]}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"地址族"}),d.jsxs(cn,{value:h,onValueChange:f,children:[d.jsx(nn,{className:"w-36",children:d.jsx(un,{placeholder:"所有地址族"})}),d.jsxs(an,{children:[d.jsx(qe,{value:"all",children:"所有地址族"}),d.jsx(qe,{value:"ipv4",children:"IPv4"}),d.jsx(qe,{value:"ipv6",children:"IPv6"}),d.jsx(qe,{value:"vpn",children:"VPN"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"会话状态"}),d.jsxs(cn,{value:p,onValueChange:g,children:[d.jsx(nn,{className:"w-36",children:d.jsx(un,{placeholder:"所有状态"})}),d.jsxs(an,{children:[d.jsx(qe,{value:"all",children:"所有状态"}),d.jsx(qe,{value:"established",children:"已建立"}),d.jsx(qe,{value:"active",children:"Active"}),d.jsx(qe,{value:"connect",children:"Connect"}),d.jsx(qe,{value:"idle",children:"Idle"}),d.jsx(qe,{value:"down",children:"Down"})]})]})]})]}),d.jsxs(Xe,{children:[d.jsxs(dt,{children:[d.jsx(ht,{children:"BGP 邻居详情"}),d.jsxs(rn,{children:["总共 ",x.length," 个邻居 | 已建立: ",b," | 未建立: ",w]})]}),d.jsx(Je,{children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{children:[d.jsx(ie,{children:"设备"}),d.jsx(ie,{children:"邻居"}),d.jsx(ie,{children:"AS号"}),d.jsx(ie,{children:"地址族"}),d.jsx(ie,{children:"状态"}),d.jsx(ie,{children:"运行时间"}),d.jsx(ie,{children:"接收前缀"}),d.jsx(ie,{children:"发送前缀"})]})}),d.jsx(Qr,{children:x.length===0?d.jsx(nt,{children:d.jsx(te,{colSpan:8,className:"text-center text-gray-500 py-4",children:"没有可用的BGP邻居数据"})}):x.map((T,N)=>d.jsxs(nt,{children:[d.jsx(te,{className:"font-medium",children:T.device}),d.jsxs(te,{children:[d.jsx("div",{children:T.neighborAddr}),T.neighborName&&T.neighborName!==T.neighborAddr&&d.jsx("div",{className:"text-xs text-gray-500",children:T.neighborName})]}),d.jsx(te,{children:T.asn}),d.jsx(te,{children:d.jsx(Ce,{variant:T.addressFamily==="ipv4"?"default":T.addressFamily==="ipv6"?"secondary":"primary",children:T.addressFamily.toUpperCase()})}),d.jsxs(te,{children:[d.jsx(Ce,{variant:T.state==="established"?"success":"danger",children:T.state==="established"?"已建立":"未建立"}),T.lastError&&d.jsx("div",{className:"text-xs text-red-500 mt-1",children:T.lastError})]}),d.jsx(te,{children:T.uptime}),d.jsx(te,{children:T.prefixesReceived.toLocaleString()}),d.jsx(te,{children:T.prefixesSent.toLocaleString()})]},`${T.device}-${T.neighborAddr}-${T.addressFamily}`))})]})})]}),d.jsxs(Xe,{children:[d.jsx(dt,{children:d.jsx(ht,{children:"BGP会话趋势"})}),d.jsx(Je,{children:d.jsx("div",{className:"p-8 text-center text-gray-500 border border-dashed rounded-md",children:"此处将展示BGP会话变化趋势图，包括会话状态变化和前缀数量变化"})})]})]})},cr=A.forwardRef(({className:e,type:t,...r},n)=>d.jsx("input",{type:t,className:nr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));cr.displayName="Input";const Q7e=[{value:"5m",label:"5分钟"},{value:"15m",label:"15分钟"},{value:"30m",label:"30分钟"},{value:"1h",label:"1小时"},{value:"3h",label:"3小时"},{value:"6h",label:"6小时"},{value:"12h",label:"12小时"},{value:"1d",label:"1天"}],eGe={bgp:"default",ospf:"secondary",static:"primary",direct:"success",local:"success",other:"primary"},Fue=({selectedDevice:e,fetchFromPrometheus:t,deviceIp:r})=>{const[n,i]=A.useState([]),[a,s]=A.useState("30m"),[o,l]=A.useState(!1),[c,u]=A.useState(null),[h,f]=A.useState(""),[p,g]=A.useState("all"),[v,m]=A.useState("all"),[y,x]=A.useState("all"),[_,b]=A.useState(1),[w,S]=A.useState(10),k=async()=>{l(!0),u(null);try{const U=e?`srl_routes{device="${e}"}`:"srl_routes",F=await t(U);if(!F||F.length===0){i([]);return}const G=F.map(q=>{const{device:K,prefix:B,next_hop:W,protocol:Y,metric:Z,preference:Q,ip_family:re,vrf:me}=q.metric;return{device:K,prefix:B,nextHop:W,protocol:Y.toLowerCase(),metric:parseInt(Z)||0,preference:parseInt(Q)||0,ipFamily:re.toLowerCase(),vrf:me||"default",age:"1d"}});i(G)}catch(U){console.error("Error fetching routing table:",U),u("获取路由表数据失败"),C()}finally{l(!1)}},C=()=>{const U=["spine1","spine2","leaf1","leaf2","leaf3","leaf4"],F=[],G=["bgp","ospf","static","direct","local"];U.forEach(q=>{const K=20+Math.floor(Math.random()*30);for(let B=1;B<=K;B++){const W=Math.random()>.7,Y=Math.floor(Math.random()*G.length),Z=G[Y],Q=Math.random()>.8;F.push({device:q,prefix:W?`2001:db8:${Math.floor(Math.random()*255)}:${Math.floor(Math.random()*255)}::/${Math.floor(Math.random()*48)+16}`:`10.${Math.floor(Math.random()*255)}.${Math.floor(Math.random()*255)}.0/${Math.floor(Math.random()*8)+24}`,nextHop:W?`2001:db8::${Math.floor(Math.random()*255)}:${Math.floor(Math.random()*255)}`:`10.0.0.${Math.floor(Math.random()*255)}`,protocol:Z,metric:Math.floor(Math.random()*1e3),preference:Math.floor(Math.random()*255),ipFamily:W?"ipv6":"ipv4",vrf:Q?`vrf${Math.floor(Math.random()*5)+1}`:"default",age:`${Math.floor(Math.random()*30)}d`})}}),i(F)};A.useEffect(()=>{k();const U=setInterval(k,3e4);return()=>clearInterval(U)},[e,a]);const E=n.filter(U=>!(e&&U.device!==e||h&&!U.prefix.includes(h)&&!U.nextHop.includes(h)||p!=="all"&&U.protocol!==p||v!=="all"&&U.ipFamily!==v||y!=="all"&&U.vrf!==y)),T=Math.ceil(E.length/w),N=(_-1)*w,I=E.slice(N,N+w),P=Array.from(new Set(n.map(U=>U.vrf))).sort(),D=E.filter(U=>U.ipFamily==="ipv4").length,$=E.filter(U=>U.ipFamily==="ipv6").length,L=E.filter(U=>U.protocol==="bgp").length,O=E.filter(U=>U.protocol==="ospf").length,j=E.filter(U=>U.protocol==="static").length,M=E.filter(U=>U.protocol==="direct").length,R=E.filter(U=>U.protocol==="local").length,z=E.filter(U=>!["bgp","ospf","static","direct","local"].includes(U.protocol)).length;return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2",children:[d.jsxs("h2",{className:"text-xl font-semibold flex flex-wrap items-center gap-2",children:[e&&d.jsxs("div",{className:"flex items-center bg-blue-50 px-3 py-1 rounded-md text-blue-800 text-sm font-medium mr-2",children:[d.jsx("span",{className:"font-bold mr-1",children:"设备:"})," ",e,r&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"mx-1",children:"|"}),d.jsx("span",{className:"font-bold mr-1",children:"IP:"})," ",r]})]}),d.jsx("span",{children:"路由表"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-sm text-gray-500",children:"时间范围:"}),d.jsxs(cn,{value:a,onValueChange:s,children:[d.jsx(nn,{className:"w-36",children:d.jsx(un,{placeholder:"选择时间范围"})}),d.jsx(an,{children:Q7e.map(U=>d.jsx(qe,{value:U.value,children:U.label},U.value))})]})]})]}),c&&d.jsxs("div",{className:"bg-red-50 text-red-700 p-3 rounded-md flex items-center",children:[d.jsx(ji,{className:"h-5 w-5 mr-2"}),d.jsx("span",{children:c})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs(Xe,{children:[d.jsx(dt,{className:"pb-2",children:d.jsx(ht,{className:"text-sm font-medium text-gray-500",children:"IP前缀统计"})}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-end space-x-2",children:[d.jsx("div",{className:"text-3xl font-bold",children:E.length}),d.jsx(ds,{className:"h-6 w-6 text-blue-500"})]}),d.jsxs("div",{className:"flex justify-between mt-2",children:[d.jsxs("div",{className:"text-xs text-gray-500",children:["IPv4: ",D]}),d.jsxs("div",{className:"text-xs text-gray-500",children:["IPv6: ",$]})]})]})]}),d.jsxs(Xe,{children:[d.jsx(dt,{className:"pb-2",children:d.jsx(ht,{className:"text-sm font-medium text-gray-500",children:"路由来源"})}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-end space-x-2",children:[d.jsx("div",{className:"text-3xl font-bold",children:L+O+j+M+R+z}),d.jsx(OE,{className:"h-6 w-6 text-green-500"})]}),d.jsxs("div",{className:"flex flex-wrap mt-2 gap-1",children:[d.jsxs(Ce,{variant:"default",className:"text-xs",children:["BGP: ",L]}),d.jsxs(Ce,{variant:"secondary",className:"text-xs",children:["OSPF: ",O]}),d.jsxs(Ce,{variant:"primary",className:"text-xs",children:["Static: ",j]}),d.jsxs(Ce,{variant:"success",className:"text-xs",children:["Direct: ",M]})]})]})]}),d.jsxs(Xe,{children:[d.jsx(dt,{className:"pb-2",children:d.jsx(ht,{className:"text-sm font-medium text-gray-500",children:"VRF实例数"})}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-end space-x-2",children:[d.jsx("div",{className:"text-3xl font-bold",children:P.length}),d.jsx(ub,{className:"h-6 w-6 text-purple-500"})]}),d.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"已配置的VRF实例总数"})]})]}),d.jsxs(Xe,{children:[d.jsx(dt,{className:"pb-2",children:d.jsx(ht,{className:"text-sm font-medium text-gray-500",children:"设备路由统计"})}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-end space-x-2",children:[d.jsx("div",{className:"text-3xl font-bold",children:e?E.length:"--"}),d.jsx(OE,{className:"h-6 w-6 text-orange-500"})]}),d.jsx("div",{className:"mt-2 text-xs text-gray-500",children:e?`${e} 的路由条目总数`:"请选择设备查看详情"})]})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[d.jsx("div",{className:"grow md:grow-0 md:w-64",children:d.jsxs("div",{className:"relative",children:[d.jsx(li,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),d.jsx(cr,{placeholder:"搜索前缀或下一跳...",value:h,onChange:U=>f(U.target.value),className:"pl-8"}),h&&d.jsx("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>f(""),children:d.jsx(Ua,{className:"h-4 w-4"})})]})}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"协议"}),d.jsxs(cn,{value:p,onValueChange:g,children:[d.jsx(nn,{className:"w-36",children:d.jsx(un,{placeholder:"所有协议"})}),d.jsxs(an,{children:[d.jsx(qe,{value:"all",children:"所有协议"}),d.jsx(qe,{value:"bgp",children:"BGP"}),d.jsx(qe,{value:"ospf",children:"OSPF"}),d.jsx(qe,{value:"static",children:"静态"}),d.jsx(qe,{value:"direct",children:"直连"}),d.jsx(qe,{value:"local",children:"本地"}),d.jsx(qe,{value:"other",children:"其他"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"IP 类型"}),d.jsxs(cn,{value:v,onValueChange:m,children:[d.jsx(nn,{className:"w-36",children:d.jsx(un,{placeholder:"所有IP类型"})}),d.jsxs(an,{children:[d.jsx(qe,{value:"all",children:"所有类型"}),d.jsx(qe,{value:"ipv4",children:"IPv4"}),d.jsx(qe,{value:"ipv6",children:"IPv6"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"VRF"}),d.jsxs(cn,{value:y,onValueChange:x,children:[d.jsx(nn,{className:"w-36",children:d.jsx(un,{placeholder:"所有VRF"})}),d.jsxs(an,{children:[d.jsx(qe,{value:"all",children:"所有VRF"}),P.map(U=>d.jsx(qe,{value:U||"default",children:U||"default"},U||"default"))]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"每页显示"}),d.jsxs(cn,{value:w.toString(),onValueChange:U=>S(parseInt(U)),children:[d.jsx(nn,{className:"w-24",children:d.jsx(un,{placeholder:"10"})}),d.jsxs(an,{children:[d.jsx(qe,{value:"10",children:"10"}),d.jsx(qe,{value:"25",children:"25"}),d.jsx(qe,{value:"50",children:"50"}),d.jsx(qe,{value:"100",children:"100"})]})]})]})]}),d.jsxs(Xe,{children:[d.jsxs(dt,{children:[d.jsx(ht,{children:"路由条目"}),d.jsxs(rn,{children:["显示 ",N+1," - ",Math.min(N+w,E.length)," 条，共 ",E.length," 条路由"]})]}),d.jsxs(Je,{children:[d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{children:[d.jsx(ie,{children:"设备"}),d.jsx(ie,{children:"前缀"}),d.jsx(ie,{children:"下一跳"}),d.jsx(ie,{children:"协议"}),d.jsx(ie,{children:"度量值"}),d.jsx(ie,{children:"优先级"}),d.jsx(ie,{children:"IP类型"}),d.jsx(ie,{children:"VRF"}),d.jsx(ie,{children:"路由年龄"})]})}),d.jsx(Qr,{children:I.length===0?d.jsx(nt,{children:d.jsx(te,{colSpan:9,className:"text-center text-gray-500 py-4",children:h||p!=="all"||v!=="all"||y!=="all"?"没有找到符合筛选条件的路由":"没有可用的路由表数据"})}):I.map((U,F)=>d.jsxs(nt,{children:[d.jsx(te,{className:"font-medium",children:U.device}),d.jsx(te,{className:"font-mono text-sm",children:U.prefix}),d.jsx(te,{className:"font-mono text-sm",children:U.nextHop}),d.jsx(te,{children:d.jsx(Ce,{variant:eGe[U.protocol]||"primary",children:U.protocol.toUpperCase()})}),d.jsx(te,{children:U.metric}),d.jsx(te,{children:U.preference}),d.jsx(te,{children:d.jsx(Ce,{variant:U.ipFamily==="ipv4"?"default":"secondary",children:U.ipFamily.toUpperCase()})}),d.jsx(te,{children:U.vrf}),d.jsx(te,{children:U.age})]},`${U.device}-${U.prefix}-${U.nextHop}-${F}`))})]}),T>1&&d.jsxs("div",{className:"flex justify-between items-center mt-4",children:[d.jsxs("div",{className:"text-sm text-gray-500",children:["页数 ",_," / ",T]}),d.jsxs("div",{className:"space-x-2",children:[d.jsx("button",{onClick:()=>b(U=>Math.max(1,U-1)),disabled:_===1,className:`px-3 py-1 rounded-md ${_===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:"上一页"}),d.jsx("button",{onClick:()=>b(U=>Math.min(T,U+1)),disabled:_===T,className:`px-3 py-1 rounded-md ${_===T?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:"下一页"})]})]})]})]}),d.jsxs(Xe,{children:[d.jsx(dt,{children:d.jsx(ht,{children:"路由数量趋势图"})}),d.jsx(Je,{children:d.jsx("div",{className:"p-8 text-center text-gray-500 border border-dashed rounded-md",children:"此处将展示路由数量趋势图，支持按协议和IP类型查看变化趋势"})})]})]})},tGe=[{value:"5m",label:"5分钟"},{value:"15m",label:"15分钟"},{value:"30m",label:"30分钟"},{value:"1h",label:"1小时"},{value:"3h",label:"3小时"},{value:"6h",label:"6小时"},{value:"12h",label:"12小时"},{value:"1d",label:"1天"}],rGe={dynamic:"default",static:"secondary",blackhole:"destructive"},zue=({selectedDevice:e,fetchFromPrometheus:t,deviceIp:r})=>{var z;const[n,i]=A.useState([]),[a,s]=A.useState([]),[o,l]=A.useState("30m"),[c,u]=A.useState(!1),[h,f]=A.useState(null),[p,g]=A.useState(""),[v,m]=A.useState("all"),[y,x]=A.useState("all"),[_,b]=A.useState(1),[w,S]=A.useState(10),k=async()=>{u(!0),f(null);try{const U=e?`srl_bridge_mac_table{device="${e}"}`:"srl_bridge_mac_table",F=e?`srl_bridge_mac_stats{device="${e}"}`:"srl_bridge_mac_stats",G=e?`srl_bridge_storm_control{device="${e}"}`:"srl_bridge_storm_control",[q,K,B]=await Promise.all([t(U),t(F),t(G)]);if(!q||q.length===0){C();return}const W=q.map(Y=>{const{device:Z,mac_address:Q,vlan:re,port:me,type:Ee,age:Ne}=Y.metric;return{device:Z,macAddress:Q,vlan:re,port:me,type:Ee.toLowerCase(),age:parseInt(Y.value[1])||0,isFlapping:!1}});if(i(W),K&&K.length>0){const Y=[],Z=new Map;K.forEach(Q=>{const{device:re}=Q.metric;Z.has(re)||Z.set(re,{device:re,totalEntries:0,dynamicEntries:0,staticEntries:0,broadcastStorm:!1,unicastStorm:!1,multicastStorm:!1,flappingPorts:[]})}),B&&B.length>0&&B.forEach(Q=>{var Me,Ae;const{device:re,port:me,storm_type:Ee}=Q.metric,Ne=parseInt(Q.value[1]);if(Z.has(re)){const Ie=Z.get(re);Ee==="broadcast"&&Ne>0?Ie.broadcastStorm=!0:Ee==="unicast"&&Ne>0?Ie.unicastStorm=!0:Ee==="multicast"&&Ne>0&&(Ie.multicastStorm=!0),Ne>0&&!((Me=Ie.flappingPorts)!=null&&Me.includes(me))&&((Ae=Ie.flappingPorts)==null||Ae.push(me)),Z.set(re,Ie)}}),W.forEach(Q=>{if(Z.has(Q.device)){const re=Z.get(Q.device);re.totalEntries++,Q.type==="dynamic"?re.dynamicEntries++:Q.type==="static"&&re.staticEntries++,Z.set(Q.device,re)}}),s(Array.from(Z.values()))}else E(W)}catch(U){console.error("Error fetching MAC table:",U),f("获取MAC地址表数据失败"),C()}finally{u(!1)}},C=()=>{const U=["spine1","spine2","leaf1","leaf2","leaf3","leaf4"],F=[];U.forEach(G=>{const q=10+Math.floor(Math.random()*20);for(let K=1;K<=q;K++){const W=Array.from({length:6},()=>Math.floor(Math.random()*256)).map(Q=>Q.toString(16).padStart(2,"0")).join(":"),Y=Math.random()>.8?"static":Math.random()>.95?"blackhole":"dynamic",Z=Math.floor(Math.random()*4e3)+1;F.push({device:G,macAddress:W,vlan:Z.toString(),port:`ethernet-1/${Math.floor(Math.random()*48)+1}`,type:Y,age:Y==="dynamic"?Math.floor(Math.random()*1e3):0,isFlapping:Math.random()>.95})}}),i(F),E(F)},E=U=>{const F=new Map;U.forEach(G=>{var K,B;F.has(G.device)||F.set(G.device,{device:G.device,totalEntries:0,dynamicEntries:0,staticEntries:0,broadcastStorm:Math.random()>.9,unicastStorm:Math.random()>.95,multicastStorm:Math.random()>.9,flappingPorts:[]});const q=F.get(G.device);q.totalEntries++,G.type==="dynamic"?q.dynamicEntries++:G.type==="static"&&q.staticEntries++,G.isFlapping&&!((K=q.flappingPorts)!=null&&K.includes(G.port))&&((B=q.flappingPorts)==null||B.push(G.port)),F.set(G.device,q)}),s(Array.from(F.values()))},T=U=>{if(U===0)return"-";const F=Math.floor(U/86400),G=Math.floor(U%86400/3600),q=Math.floor(U%3600/60);return F>0?`${F}d ${G}h`:G>0?`${G}h ${q}m`:q>0?`${q}m ${U%60}s`:`${U}s`};A.useEffect(()=>{k();const U=setInterval(k,3e4);return()=>clearInterval(U)},[e,o]);const N=n.filter(U=>!(e&&U.device!==e||p&&!U.macAddress.includes(p)&&!U.port.includes(p)||v!=="all"&&U.type!==v||y!=="all"&&U.vlan!==y)),I=Math.ceil(N.length/w),P=(_-1)*w,D=N.slice(P,P+w),$=Array.from(new Set(n.map(U=>U.vlan))).sort((U,F)=>parseInt(U)-parseInt(F)),L=e?a.find(U=>U.device===e):null,O=a.filter(U=>U.broadcastStorm).length,j=a.filter(U=>U.unicastStorm).length,M=a.filter(U=>U.multicastStorm).length,R=a.reduce((U,F)=>{var G;return U+(((G=F.flappingPorts)==null?void 0:G.length)||0)},0);return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2",children:[d.jsxs("h2",{className:"text-xl font-semibold flex flex-wrap items-center gap-2",children:[e&&d.jsxs("div",{className:"flex items-center bg-blue-50 px-3 py-1 rounded-md text-blue-800 text-sm font-medium mr-2",children:[d.jsx("span",{className:"font-bold mr-1",children:"设备:"})," ",e,r&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"mx-1",children:"|"}),d.jsx("span",{className:"font-bold mr-1",children:"IP:"})," ",r]})]}),d.jsx("span",{children:"二层MAC地址表"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-sm text-gray-500",children:"时间范围:"}),d.jsxs(cn,{value:o,onValueChange:l,children:[d.jsx(nn,{className:"w-36",children:d.jsx(un,{placeholder:"选择时间范围"})}),d.jsx(an,{children:tGe.map(U=>d.jsx(qe,{value:U.value,children:U.label},U.value))})]})]})]}),h&&d.jsxs("div",{className:"bg-red-50 text-red-700 p-3 rounded-md flex items-center",children:[d.jsx(ji,{className:"h-5 w-5 mr-2"}),d.jsx("span",{children:h})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs(Xe,{children:[d.jsx(dt,{className:"pb-2",children:d.jsx(ht,{className:"text-sm font-medium text-gray-500",children:"MAC地址表统计"})}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-end space-x-2",children:[d.jsx("div",{className:"text-3xl font-bold",children:(L==null?void 0:L.totalEntries)||N.length}),d.jsx(k_e,{className:"h-6 w-6 text-blue-500"})]}),d.jsxs("div",{className:"flex justify-between mt-2",children:[d.jsxs("div",{className:"text-xs text-gray-500",children:["动态: ",(L==null?void 0:L.dynamicEntries)||N.filter(U=>U.type==="dynamic").length]}),d.jsxs("div",{className:"text-xs text-gray-500",children:["静态: ",(L==null?void 0:L.staticEntries)||N.filter(U=>U.type==="static").length]})]})]})]}),d.jsxs(Xe,{children:[d.jsx(dt,{className:"pb-2",children:d.jsx(ht,{className:"text-sm font-medium text-gray-500",children:"VLAN统计"})}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-end space-x-2",children:[d.jsx("div",{className:"text-3xl font-bold",children:$.length}),d.jsx(ub,{className:"h-6 w-6 text-green-500"})]}),d.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"已配置的VLAN总数"})]})]}),d.jsxs(Xe,{children:[d.jsx(dt,{className:"pb-2",children:d.jsx(ht,{className:"text-sm font-medium text-gray-500",children:"MAC地址老化"})}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-end space-x-2",children:[d.jsx("div",{className:"text-3xl font-bold",children:T(Math.max(...e?N.filter(U=>U.device===e).map(U=>U.age):N.map(U=>U.age)))}),d.jsx(XN,{className:"h-6 w-6 text-purple-500"})]}),d.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"最长MAC地址表项老化时间"})]})]}),d.jsxs(Xe,{className:`${O+j+M>0?"border-red-300 bg-red-50":""}`,children:[d.jsx(dt,{className:"pb-2",children:d.jsx(ht,{className:`text-sm font-medium ${O+j+M>0?"text-red-700":"text-gray-500"}`,children:"广播风暴监控"})}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-end space-x-2",children:[d.jsx("div",{className:`text-3xl font-bold ${O+j+M>0?"text-red-600":""}`,children:O+j+M}),d.jsx(ji,{className:`h-6 w-6 ${O+j+M>0?"text-red-500":"text-gray-500"}`})]}),d.jsx("div",{className:"mt-2 text-xs",children:O+j+M>0?d.jsxs("div",{className:"text-red-600",children:["检测到 ",O>0?`${O}个广播风暴, `:"",M>0?`${M}个组播风暴, `:"",j>0?`${j}个单播风暴`:""]}):d.jsx("div",{className:"text-gray-500",children:"无广播风暴检测"})})]})]})]}),R>0&&d.jsx(Xe,{className:"border-yellow-300 bg-yellow-50",children:d.jsxs(Je,{className:"py-4",children:[d.jsxs("div",{className:"flex items-center text-yellow-700",children:[d.jsx(ji,{className:"h-5 w-5 mr-2"}),d.jsx("span",{className:"font-medium",children:"检测到MAC地址表震荡"})]}),d.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:e?`设备 ${e} 上有 ${((z=L==null?void 0:L.flappingPorts)==null?void 0:z.length)||0} 个端口存在MAC表震荡`:`共有 ${R} 个端口存在MAC表震荡问题，可能导致广播风暴或网络不稳定`})]})}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[d.jsx("div",{className:"grow md:grow-0 md:w-64",children:d.jsxs("div",{className:"relative",children:[d.jsx(li,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),d.jsx(cr,{placeholder:"搜索MAC地址或端口...",value:p,onChange:U=>g(U.target.value),className:"pl-8"}),p&&d.jsx("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>g(""),children:d.jsx(Ua,{className:"h-4 w-4"})})]})}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"类型"}),d.jsxs(cn,{value:v,onValueChange:m,children:[d.jsx(nn,{className:"w-36",children:d.jsx(un,{placeholder:"所有类型"})}),d.jsxs(an,{children:[d.jsx(qe,{value:"all",children:"所有类型"}),d.jsx(qe,{value:"dynamic",children:"动态"}),d.jsx(qe,{value:"static",children:"静态"}),d.jsx(qe,{value:"blackhole",children:"黑洞"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"VLAN"}),d.jsxs(cn,{value:y,onValueChange:x,children:[d.jsx(nn,{className:"w-36",children:d.jsx(un,{placeholder:"所有VLAN"})}),d.jsxs(an,{children:[d.jsx(qe,{value:"all",children:"所有VLAN"}),$.slice(0,20).map(U=>d.jsx(qe,{value:U,children:U},U)),$.length>20&&d.jsxs("div",{className:"px-2 py-1 text-xs text-gray-500",children:["显示前20个VLAN (共",$.length,"个)"]})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"每页显示"}),d.jsxs(cn,{value:w.toString(),onValueChange:U=>S(parseInt(U)),children:[d.jsx(nn,{className:"w-24",children:d.jsx(un,{placeholder:"10"})}),d.jsxs(an,{children:[d.jsx(qe,{value:"10",children:"10"}),d.jsx(qe,{value:"25",children:"25"}),d.jsx(qe,{value:"50",children:"50"}),d.jsx(qe,{value:"100",children:"100"})]})]})]})]}),d.jsxs(Xe,{children:[d.jsxs(dt,{children:[d.jsx(ht,{children:"MAC地址表"}),d.jsxs(rn,{children:["显示 ",P+1," - ",Math.min(P+w,N.length)," 条，共 ",N.length," 条MAC表项"]})]}),d.jsxs(Je,{children:[d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{children:[d.jsx(ie,{children:"设备"}),d.jsx(ie,{children:"MAC地址"}),d.jsx(ie,{children:"VLAN"}),d.jsx(ie,{children:"端口"}),d.jsx(ie,{children:"类型"}),d.jsx(ie,{children:"老化时间"}),d.jsx(ie,{children:"状态"})]})}),d.jsx(Qr,{children:D.length===0?d.jsx(nt,{children:d.jsx(te,{colSpan:7,className:"text-center text-gray-500 py-4",children:p||v!=="all"||y!=="all"?"没有找到符合筛选条件的MAC表项":"没有可用的MAC地址表数据"})}):D.map((U,F)=>d.jsxs(nt,{className:U.isFlapping?"bg-yellow-50":void 0,children:[d.jsx(te,{className:"font-medium",children:U.device}),d.jsx(te,{className:"font-mono text-sm",children:U.macAddress}),d.jsx(te,{children:U.vlan}),d.jsx(te,{children:U.port}),d.jsx(te,{children:d.jsx(Ce,{variant:rGe[U.type]||"default",children:U.type==="dynamic"?"动态":U.type==="static"?"静态":"黑洞"})}),d.jsx(te,{children:T(U.age)}),d.jsx(te,{children:U.isFlapping?d.jsxs("div",{className:"flex items-center text-yellow-600",children:[d.jsx(ji,{className:"h-4 w-4 mr-1"}),d.jsx("span",{children:"震荡"})]}):d.jsx("span",{className:"text-green-600",children:"正常"})})]},`${U.device}-${U.macAddress}-${U.vlan}-${F}`))})]}),I>1&&d.jsxs("div",{className:"flex justify-between items-center mt-4",children:[d.jsxs("div",{className:"text-sm text-gray-500",children:["页数 ",_," / ",I]}),d.jsxs("div",{className:"space-x-2",children:[d.jsx("button",{onClick:()=>b(U=>Math.max(1,U-1)),disabled:_===1,className:`px-3 py-1 rounded-md ${_===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:"上一页"}),d.jsx("button",{onClick:()=>b(U=>Math.min(I,U+1)),disabled:_===I,className:`px-3 py-1 rounded-md ${_===I?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:"下一页"})]})]})]})]}),d.jsxs(Xe,{children:[d.jsx(dt,{children:d.jsx(ht,{children:"MAC表规模趋势图"})}),d.jsx(Je,{children:d.jsx("div",{className:"p-8 text-center text-gray-500 border border-dashed rounded-md",children:"此处将展示MAC地址表规模趋势图，可查看表项数量变化以及风暴监控指标"})})]})]})},nGe=[{value:"5m",label:"5分钟"},{value:"15m",label:"15分钟"},{value:"30m",label:"30分钟"},{value:"1h",label:"1小时"},{value:"3h",label:"3小时"},{value:"6h",label:"6小时"},{value:"12h",label:"12小时"},{value:"1d",label:"1天"}],iGe={default:"default","ip-vrf":"secondary","mac-vrf":"primary",evpn:"success"},Uue=({selectedDevice:e,fetchFromPrometheus:t,deviceIp:r})=>{const[n,i]=A.useState([]),[a,s]=A.useState("30m"),[o,l]=A.useState(!1),[c,u]=A.useState(null),[h,f]=A.useState(""),[p,g]=A.useState("all"),[v,m]=A.useState("all"),[y,x]=A.useState(10),_=async()=>{l(!0),u(null);try{const j=e?`srl_network_instance{device="${e}"}`:"srl_network_instance",M=e?`srl_network_instance_routes{device="${e}"}`:"srl_network_instance_routes",R=e?`srl_network_instance_traffic{device="${e}"}`:"srl_network_instance_traffic",[z,U,F]=await Promise.all([t(j),t(M),t(R)]);if(!z||z.length===0){b();return}const G=new Map;z.forEach(q=>{const{device:K,name:B,type:W,state:Y}=q.metric,Z=`${K}-${B}`;G.has(Z)||G.set(Z,{device:K,name:B,type:W.toLowerCase(),state:Y==="1"?"up":"down",routesIPv4:0,routesIPv6:0,interfaces:[],inBytes:0,outBytes:0})}),U&&U.length>0&&U.forEach(q=>{const{device:K,network_instance:B,family:W}=q.metric,Y=parseInt(q.value[1])||0,Z=`${K}-${B}`;if(G.has(Z)){const Q=G.get(Z);W==="ipv4"?Q.routesIPv4=Y:W==="ipv6"&&(Q.routesIPv6=Y),G.set(Z,Q)}}),F&&F.length>0&&F.forEach(q=>{const{device:K,network_instance:B,direction:W}=q.metric,Y=parseInt(q.value[1])||0,Z=`${K}-${B}`;if(G.has(Z)){const Q=G.get(Z);W==="in"?Q.inBytes=Y:W==="out"&&(Q.outBytes=Y),G.set(Z,Q)}}),i(Array.from(G.values()))}catch(j){console.error("Error fetching VRF data:",j),u("获取VRF实例数据失败"),b()}finally{l(!1)}},b=()=>{const j=["spine1","spine2","leaf1","leaf2","leaf3","leaf4"],M=[];j.forEach(R=>{M.push({device:R,name:"default",type:"default",state:"up",routesIPv4:100+Math.floor(Math.random()*900),routesIPv6:50+Math.floor(Math.random()*200),interfaces:["mgmt0","loopback0"],description:"默认VRF实例",inBytes:Math.floor(Math.random()*1e9),outBytes:Math.floor(Math.random()*1e9)})});for(let R=1;R<=3;R++)j.forEach(z=>{Math.random()>.3&&M.push({device:z,name:`vrf-${R}`,type:"ip-vrf",state:Math.random()>.9?"down":"up",routesIPv4:Math.floor(Math.random()*500),routesIPv6:Math.floor(Math.random()*100),interfaces:["ethernet-1/1","ethernet-1/2"],description:`客户${R}的L3 VPN服务`,rd:`${64500+parseInt(z.replace(/[^\d]/g,""))}:${R}`,importRTs:[`64500:${R}`,`64501:${R}`],exportRTs:[`64500:${R}`],inBytes:Math.floor(Math.random()*5e8),outBytes:Math.floor(Math.random()*5e8)})});for(let R=1;R<=2;R++)j.forEach(z=>{Math.random()>.4&&M.push({device:z,name:`mac-vrf-${R}`,type:"mac-vrf",state:Math.random()>.95?"down":"up",routesIPv4:0,routesIPv6:0,interfaces:["ethernet-1/3","ethernet-1/4"],description:`客户${R}的L2 VPN服务`,rd:`${64500+parseInt(z.replace(/[^\d]/g,""))}:${10+R}`,importRTs:[`64500:${10+R}`],exportRTs:[`64500:${10+R}`],inBytes:Math.floor(Math.random()*3e8),outBytes:Math.floor(Math.random()*3e8)})});for(let R=1;R<=1;R++)j.forEach(z=>{Math.random()>.5&&M.push({device:z,name:`evpn-${R}`,type:"evpn",state:"up",routesIPv4:Math.floor(Math.random()*200),routesIPv6:Math.floor(Math.random()*50),interfaces:["ethernet-1/5","ethernet-1/6"],description:"EVPN服务实例",rd:`${64500+parseInt(z.replace(/[^\d]/g,""))}:${20+R}`,importRTs:[`64500:${20+R}`],exportRTs:[`64500:${20+R}`],inBytes:Math.floor(Math.random()*7e8),outBytes:Math.floor(Math.random()*7e8)})});i(M)},w=j=>{if(j===void 0||j===0)return"0 B";const M=1024,R=["B","KB","MB","GB","TB","PB"],z=Math.floor(Math.log(j)/Math.log(M));return parseFloat((j/Math.pow(M,z)).toFixed(2))+" "+R[z]};A.useEffect(()=>{_();const j=setInterval(_,3e4);return()=>clearInterval(j)},[e,a]);const S=n.filter(j=>{var M;return!(e&&j.device!==e||h&&!j.name.toLowerCase().includes(h.toLowerCase())&&!((M=j.description)!=null&&M.toLowerCase().includes(h.toLowerCase()))||p!=="all"&&j.type!==p||v!=="all"&&j.state!==v)}),k=S.slice(0,y),C=Array.from(new Set(n.map(j=>j.device))),E=S.length,T=S.filter(j=>j.state==="up").length,N=E-T,I=S.filter(j=>j.type==="default").length,P=S.filter(j=>j.type==="ip-vrf").length,D=S.filter(j=>j.type==="mac-vrf").length,$=S.filter(j=>j.type==="evpn").length,L=S.reduce((j,M)=>j+M.routesIPv4,0),O=S.reduce((j,M)=>j+M.routesIPv6,0);return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2",children:[d.jsxs("h2",{className:"text-xl font-semibold flex flex-wrap items-center gap-2",children:[e&&d.jsxs("div",{className:"flex items-center bg-blue-50 px-3 py-1 rounded-md text-blue-800 text-sm font-medium mr-2",children:[d.jsx("span",{className:"font-bold mr-1",children:"设备:"})," ",e,r&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"mx-1",children:"|"}),d.jsx("span",{className:"font-bold mr-1",children:"IP:"})," ",r]})]}),d.jsx("span",{children:"VRF实例状态"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-sm text-gray-500",children:"时间范围:"}),d.jsxs(cn,{value:a,onValueChange:s,children:[d.jsx(nn,{className:"w-36",children:d.jsx(un,{placeholder:"选择时间范围"})}),d.jsx(an,{children:nGe.map(j=>d.jsx(qe,{value:j.value,children:j.label},j.value))})]})]})]}),c&&d.jsxs("div",{className:"bg-red-50 text-red-700 p-3 rounded-md flex items-center",children:[d.jsx(ji,{className:"h-5 w-5 mr-2"}),d.jsx("span",{children:c})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs(Xe,{children:[d.jsx(dt,{className:"pb-2",children:d.jsx(ht,{className:"text-sm font-medium text-gray-500",children:"VRF实例总数"})}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-end space-x-2",children:[d.jsx("div",{className:"text-3xl font-bold",children:E}),d.jsx(ub,{className:"h-6 w-6 text-blue-500"})]}),d.jsxs("div",{className:"flex justify-between mt-2",children:[d.jsxs("div",{className:"text-xs text-gray-500",children:["运行设备: ",C.length]}),d.jsxs("div",{className:"text-xs text-gray-500",children:["每设备平均: ",(E/Math.max(1,C.length)).toFixed(1)]})]})]})]}),d.jsxs(Xe,{children:[d.jsx(dt,{className:"pb-2",children:d.jsx(ht,{className:"text-sm font-medium text-gray-500",children:"VRF状态统计"})}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-end space-x-2",children:[d.jsxs("div",{className:`text-3xl font-bold ${N>0?"text-yellow-600":"text-green-600"}`,children:[T," / ",E]}),d.jsx(Qd,{className:`h-6 w-6 ${N>0?"text-yellow-500":"text-green-500"}`})]}),d.jsx("div",{className:"mt-2 text-xs",children:N>0?d.jsxs("div",{className:"text-yellow-600",children:[N," 个VRF实例处于Down状态"]}):d.jsx("div",{className:"text-green-600",children:"所有VRF实例正常运行"})})]})]}),d.jsxs(Xe,{children:[d.jsx(dt,{className:"pb-2",children:d.jsx(ht,{className:"text-sm font-medium text-gray-500",children:"VRF类型分布"})}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-end space-x-2",children:[d.jsx("div",{className:"text-3xl font-bold",children:P+D+$}),d.jsx(F5,{className:"h-6 w-6 text-purple-500"})]}),d.jsxs("div",{className:"flex flex-wrap mt-2 gap-1",children:[d.jsxs(Ce,{variant:"default",className:"text-xs",children:["默认: ",I]}),d.jsxs(Ce,{variant:"secondary",className:"text-xs",children:["IP-VRF: ",P]}),d.jsxs(Ce,{variant:"primary",className:"text-xs",children:["MAC-VRF: ",D]}),d.jsxs(Ce,{variant:"success",className:"text-xs",children:["EVPN: ",$]})]})]})]}),d.jsxs(Xe,{children:[d.jsx(dt,{className:"pb-2",children:d.jsx(ht,{className:"text-sm font-medium text-gray-500",children:"VRF路由表规模"})}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-end space-x-2",children:[d.jsx("div",{className:"text-3xl font-bold",children:L+O}),d.jsx(ds,{className:"h-6 w-6 text-orange-500"})]}),d.jsxs("div",{className:"flex justify-between mt-2",children:[d.jsxs("div",{className:"text-xs text-gray-500",children:["IPv4: ",L]}),d.jsxs("div",{className:"text-xs text-gray-500",children:["IPv6: ",O]})]})]})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[d.jsx("div",{className:"grow md:grow-0 md:w-64",children:d.jsxs("div",{className:"relative",children:[d.jsx(li,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),d.jsx(cr,{placeholder:"搜索VRF名称或描述...",value:h,onChange:j=>f(j.target.value),className:"pl-8"}),h&&d.jsx("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>f(""),children:d.jsx(Ua,{className:"h-4 w-4"})})]})}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"VRF类型"}),d.jsxs(cn,{value:p,onValueChange:g,children:[d.jsx(nn,{className:"w-36",children:d.jsx(un,{placeholder:"所有类型"})}),d.jsxs(an,{children:[d.jsx(qe,{value:"all",children:"所有类型"}),d.jsx(qe,{value:"default",children:"默认"}),d.jsx(qe,{value:"ip-vrf",children:"IP-VRF"}),d.jsx(qe,{value:"mac-vrf",children:"MAC-VRF"}),d.jsx(qe,{value:"evpn",children:"EVPN"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"状态"}),d.jsxs(cn,{value:v,onValueChange:m,children:[d.jsx(nn,{className:"w-36",children:d.jsx(un,{placeholder:"所有状态"})}),d.jsxs(an,{children:[d.jsx(qe,{value:"all",children:"所有状态"}),d.jsx(qe,{value:"up",children:"运行中"}),d.jsx(qe,{value:"down",children:"已关闭"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"显示数量"}),d.jsxs(cn,{value:y.toString(),onValueChange:j=>x(parseInt(j)),children:[d.jsx(nn,{className:"w-24",children:d.jsx(un,{placeholder:"10"})}),d.jsxs(an,{children:[d.jsx(qe,{value:"10",children:"10"}),d.jsx(qe,{value:"25",children:"25"}),d.jsx(qe,{value:"50",children:"50"}),d.jsx(qe,{value:"100",children:"所有"})]})]})]})]}),d.jsxs(Xe,{children:[d.jsxs(dt,{children:[d.jsx(ht,{children:"VRF实例详情"}),d.jsxs(rn,{children:["显示 ",Math.min(y,S.length)," 条，共 ",S.length," 个VRF实例"]})]}),d.jsxs(Je,{children:[d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{children:[d.jsx(ie,{children:"设备"}),d.jsx(ie,{children:"VRF名称"}),d.jsx(ie,{children:"类型"}),d.jsx(ie,{children:"状态"}),d.jsx(ie,{children:"IPv4路由数"}),d.jsx(ie,{children:"IPv6路由数"}),d.jsx(ie,{children:"流量"}),d.jsx(ie,{children:"描述"})]})}),d.jsx(Qr,{children:k.length===0?d.jsx(nt,{children:d.jsx(te,{colSpan:8,className:"text-center text-gray-500 py-4",children:h||p!=="all"||v!=="all"?"没有找到符合筛选条件的VRF实例":"没有可用的VRF实例数据"})}):k.map(j=>d.jsxs(nt,{className:j.state==="down"?"bg-red-50":void 0,children:[d.jsx(te,{className:"font-medium",children:j.device}),d.jsxs(te,{children:[d.jsx("div",{children:j.name}),j.rd&&d.jsxs("div",{className:"text-xs text-gray-500",children:["RD: ",j.rd]})]}),d.jsx(te,{children:d.jsx(Ce,{variant:iGe[j.type]||"default",children:j.type==="default"?"默认":j.type==="ip-vrf"?"IP-VRF":j.type==="mac-vrf"?"MAC-VRF":"EVPN"})}),d.jsx(te,{children:d.jsx(Ce,{variant:j.state==="up"?"success":"danger",children:j.state==="up"?"运行中":"已关闭"})}),d.jsx(te,{children:j.routesIPv4.toLocaleString()}),d.jsx(te,{children:j.routesIPv6.toLocaleString()}),d.jsxs(te,{children:[d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx(LE,{className:"h-3 w-3 mr-1 text-green-500"}),w(j.inBytes)]}),d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx(See,{className:"h-3 w-3 mr-1 text-blue-500"}),w(j.outBytes)]})]}),d.jsx(te,{children:j.description||"-"})]},`${j.device}-${j.name}`))})]}),S.length>y&&y<100&&d.jsx("div",{className:"mt-4 text-center",children:d.jsx("button",{onClick:()=>x(j=>j+10),className:"px-4 py-2 bg-gray-100 text-gray-800 rounded-md hover:bg-gray-200",children:"加载更多"})})]})]}),e&&d.jsxs(Xe,{children:[d.jsx(dt,{children:d.jsx(ht,{children:"VRF实例详细信息"})}),d.jsx(Je,{children:d.jsx("div",{className:"p-8 text-center text-gray-500 border border-dashed rounded-md",children:"选择特定VRF实例以查看其接口、路由目标和转发表详情"})})]}),d.jsxs(Xe,{children:[d.jsx(dt,{children:d.jsx(ht,{children:"VRF实例趋势图"})}),d.jsx(Je,{children:d.jsx("div",{className:"p-8 text-center text-gray-500 border border-dashed rounded-md",children:"此处将展示VRF实例数量和路由表规模变化趋势"})})]})]})},aGe=[{value:"5m",label:"5分钟"},{value:"15m",label:"15分钟"},{value:"30m",label:"30分钟"},{value:"1h",label:"1小时"},{value:"3h",label:"3小时"},{value:"6h",label:"6小时"},{value:"12h",label:"12小时"},{value:"1d",label:"1天"}],sGe={running:"success",sleeping:"default",stopped:"warning",zombie:"danger"},Hue=({selectedDevice:e,fetchFromPrometheus:t,deviceIp:r})=>{const[n,i]=A.useState([]),[a,s]=A.useState("30m"),[o,l]=A.useState(!1),[c,u]=A.useState(null),[h,f]=A.useState(""),[p,g]=A.useState("all"),[v,m]=A.useState("cpu"),[y,x]=A.useState(10),_=async()=>{l(!0),u(null);try{const L=e?`srl_process_info{device="${e}"}`:"srl_process_info",O=e?`srl_process_cpu{device="${e}"}`:"srl_process_cpu",j=e?`srl_process_memory{device="${e}"}`:"srl_process_memory",[M,R,z]=await Promise.all([t(L),t(O),t(j)]);if(!M||M.length===0){b();return}const U=new Map;M.forEach(F=>{const{device:G,process_name:q,pid:K,status:B,start_time:W}=F.metric,Y=`${G}-${q}-${K}`;let Z="running";B==="S"?Z="sleeping":B==="T"?Z="stopped":B==="Z"&&(Z="zombie"),U.set(Y,{device:G,processName:q,pid:parseInt(K),cpuUsage:0,memoryUsage:0,memoryRSS:0,status:Z,startTime:W||new Date().toISOString(),isCritical:q.includes("control")||q.includes("agent")})}),R.forEach(F=>{const{device:G,process_name:q,pid:K}=F.metric,B=parseFloat(F.value[1]),W=`${G}-${q}-${K}`;if(U.has(W)){const Y=U.get(W);Y.cpuUsage=B,U.set(W,Y)}}),z.forEach(F=>{const{device:G,process_name:q,pid:K,type:B}=F.metric,W=parseFloat(F.value[1]),Y=`${G}-${q}-${K}`;if(U.has(Y)){const Z=U.get(Y);B==="percent"?Z.memoryUsage=W:B==="rss"&&(Z.memoryRSS=W),U.set(Y,Z)}}),i(Array.from(U.values()))}catch(L){console.error("Error fetching process data:",L),u("获取系统进程数据失败"),b()}finally{l(!1)}},b=()=>{const L=["spine1","spine2","leaf1","leaf2","leaf3","leaf4"],O=["sr_control_plane","sr_forwarding_agent","sr_mgmt_agent","sr_telemetry_agent","sr_cli","sr_snmp_agent","sr_bgp","sr_ospf","sr_vrrp","sr_bfd","sr_lldp","sr_chassis_mgr"],j=[];L.forEach(M=>{O.forEach((R,z)=>{const U=1e3+Math.floor(Math.random()*9e3),F=z===1&&(M==="leaf1"||M==="spine2"),G=z===2&&M==="leaf3",q=Math.random();let K="running";q>.9?K="zombie":q>.85?K="stopped":q>.6&&(K="sleeping");const B=new Date,W=Math.floor(Math.random()*30),Y=new Date(B.getTime()-W*24*60*60*1e3).toISOString();j.push({device:M,processName:R,pid:U,cpuUsage:F?90+Math.random()*10:Math.random()*20,memoryUsage:G?80+Math.random()*20:5+Math.random()*20,memoryRSS:(G?500+Math.random()*1500:100+Math.random()*400)*1024*1024,status:K,startTime:Y,command:`/usr/bin/${R} --config /etc/sr/${R}.conf`,isCritical:R.includes("control")||R.includes("agent")})})}),i(j)},w=L=>{if(L===0)return"0 B";const O=1024,j=["B","KB","MB","GB","TB"],M=Math.floor(Math.log(L)/Math.log(O));return parseFloat((L/Math.pow(O,M)).toFixed(2))+" "+j[M]},S=L=>{const O=new Date(L),M=new Date().getTime()-O.getTime(),R=Math.floor(M/(1e3*60*60*24)),z=Math.floor(M%(1e3*60*60*24)/(1e3*60*60)),U=Math.floor(M%(1e3*60*60)/(1e3*60));return R>0?`${R}d ${z}h`:z>0?`${z}h ${U}m`:`${U}m`};A.useEffect(()=>{_();const L=setInterval(_,3e4);return()=>clearInterval(L)},[e,a]);const k=n.filter(L=>{var O;return!(e&&L.device!==e||h&&!L.processName.toLowerCase().includes(h.toLowerCase())&&!((O=L.command)!=null&&O.toLowerCase().includes(h.toLowerCase()))||p!=="all"&&L.status!==p)}),E=[...k].sort((L,O)=>v==="cpu"?O.cpuUsage-L.cpuUsage:v==="memory"?O.memoryUsage-L.memoryUsage:v==="name"?L.processName.localeCompare(O.processName):v==="pid"?L.pid-O.pid:0).slice(0,y),T=k.filter(L=>L.status==="running").length,N=k.filter(L=>L.status==="sleeping").length,I=k.filter(L=>L.status==="stopped").length,P=k.filter(L=>L.status==="zombie").length,D=k.filter(L=>L.cpuUsage>80).length,$=k.filter(L=>L.memoryUsage>80).length;return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2",children:[d.jsxs("h2",{className:"text-xl font-semibold flex flex-wrap items-center gap-2",children:[e&&d.jsxs("div",{className:"flex items-center bg-blue-50 px-3 py-1 rounded-md text-blue-800 text-sm font-medium mr-2",children:[d.jsx("span",{className:"font-bold mr-1",children:"设备:"})," ",e,r&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"mx-1",children:"|"}),d.jsx("span",{className:"font-bold mr-1",children:"IP:"})," ",r]})]}),d.jsx("span",{children:"系统进程监控"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-sm text-gray-500",children:"时间范围:"}),d.jsxs(cn,{value:a,onValueChange:s,children:[d.jsx(nn,{className:"w-36",children:d.jsx(un,{placeholder:"选择时间范围"})}),d.jsx(an,{children:aGe.map(L=>d.jsx(qe,{value:L.value,children:L.label},L.value))})]})]})]}),c&&d.jsxs("div",{className:"bg-red-50 text-red-700 p-3 rounded-md flex items-center",children:[d.jsx(ji,{className:"h-5 w-5 mr-2"}),d.jsx("span",{children:c})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs(Xe,{children:[d.jsx(dt,{className:"pb-2",children:d.jsx(ht,{className:"text-sm font-medium text-gray-500",children:"进程总数"})}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-end space-x-2",children:[d.jsx("div",{className:"text-3xl font-bold",children:k.length}),d.jsx(Qd,{className:"h-6 w-6 text-blue-500"})]}),d.jsxs("div",{className:"flex flex-wrap mt-2 gap-1",children:[d.jsxs(Ce,{className:"text-xs",children:["运行: ",T]}),d.jsxs(Ce,{variant:"secondary",className:"text-xs",children:["睡眠: ",N]}),I>0&&d.jsxs(Ce,{variant:"warning",className:"text-xs",children:["停止: ",I]}),P>0&&d.jsxs(Ce,{variant:"danger",className:"text-xs",children:["僵尸: ",P]})]})]})]}),d.jsxs(Xe,{className:D>0?"border-yellow-300 bg-yellow-50":"",children:[d.jsx(dt,{className:"pb-2",children:d.jsx(ht,{className:`text-sm font-medium ${D>0?"text-yellow-700":"text-gray-500"}`,children:"高CPU使用率进程"})}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-end space-x-2",children:[d.jsx("div",{className:`text-3xl font-bold ${D>0?"text-yellow-600":""}`,children:D}),d.jsx(bv,{className:`h-6 w-6 ${D>0?"text-yellow-500":"text-gray-500"}`})]}),d.jsx("div",{className:"mt-2 text-xs",children:D>0?d.jsxs("div",{className:"text-yellow-600",children:[D," 个进程CPU使用率超过80%"]}):d.jsx("div",{className:"text-gray-500",children:"所有进程CPU使用率正常"})})]})]}),d.jsxs(Xe,{className:$>0?"border-red-300 bg-red-50":"",children:[d.jsx(dt,{className:"pb-2",children:d.jsx(ht,{className:`text-sm font-medium ${$>0?"text-red-700":"text-gray-500"}`,children:"高内存使用率进程"})}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-end space-x-2",children:[d.jsx("div",{className:`text-3xl font-bold ${$>0?"text-red-600":""}`,children:$}),d.jsx(B5,{className:`h-6 w-6 ${$>0?"text-red-500":"text-gray-500"}`})]}),d.jsx("div",{className:"mt-2 text-xs",children:$>0?d.jsxs("div",{className:"text-red-600",children:[$," 个进程内存使用率超过80%"]}):d.jsx("div",{className:"text-gray-500",children:"所有进程内存使用率正常"})})]})]}),d.jsxs(Xe,{children:[d.jsx(dt,{className:"pb-2",children:d.jsx(ht,{className:"text-sm font-medium text-gray-500",children:"排序与筛选"})}),d.jsx(Je,{children:d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs(cn,{value:v,onValueChange:m,children:[d.jsx(nn,{className:"w-full",children:d.jsx(un,{placeholder:"排序方式"})}),d.jsxs(an,{children:[d.jsx(qe,{value:"cpu",children:"按CPU使用率"}),d.jsx(qe,{value:"memory",children:"按内存使用率"}),d.jsx(qe,{value:"name",children:"按进程名称"}),d.jsx(qe,{value:"pid",children:"按进程ID"})]})]}),d.jsxs(cn,{value:y.toString(),onValueChange:L=>x(parseInt(L)),children:[d.jsx(nn,{className:"w-full",children:d.jsx(un,{placeholder:"显示数量"})}),d.jsxs(an,{children:[d.jsx(qe,{value:"5",children:"前5个"}),d.jsx(qe,{value:"10",children:"前10个"}),d.jsx(qe,{value:"20",children:"前20个"}),d.jsx(qe,{value:"50",children:"前50个"}),d.jsx(qe,{value:"100",children:"所有"})]})]})]})})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[d.jsx("div",{className:"grow md:grow-0 md:w-64",children:d.jsxs("div",{className:"relative",children:[d.jsx(li,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),d.jsx(cr,{placeholder:"搜索进程名称或命令...",value:h,onChange:L=>f(L.target.value),className:"pl-8"}),h&&d.jsx("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>f(""),children:d.jsx(Ua,{className:"h-4 w-4"})})]})}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"状态"}),d.jsxs(cn,{value:p,onValueChange:g,children:[d.jsx(nn,{className:"w-36",children:d.jsx(un,{placeholder:"所有状态"})}),d.jsxs(an,{children:[d.jsx(qe,{value:"all",children:"所有状态"}),d.jsx(qe,{value:"running",children:"运行中"}),d.jsx(qe,{value:"sleeping",children:"睡眠"}),d.jsx(qe,{value:"stopped",children:"已停止"}),d.jsx(qe,{value:"zombie",children:"僵尸"})]})]})]})]}),d.jsxs(Xe,{children:[d.jsxs(dt,{children:[d.jsx(ht,{children:"进程详情"}),d.jsxs(rn,{children:["显示 ",v==="cpu"?"CPU使用率":v==="memory"?"内存使用率":v==="name"?"进程名称":"PID","排序的前 ",y," 个进程"]})]}),d.jsx(Je,{children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{children:[d.jsx(ie,{children:"设备"}),d.jsx(ie,{children:"进程名称"}),d.jsx(ie,{children:"PID"}),d.jsx(ie,{children:"CPU使用率"}),d.jsx(ie,{children:"内存使用率"}),d.jsx(ie,{children:"物理内存"}),d.jsx(ie,{children:"状态"}),d.jsx(ie,{children:"运行时间"})]})}),d.jsx(Qr,{children:E.length===0?d.jsx(nt,{children:d.jsx(te,{colSpan:8,className:"text-center text-gray-500 py-4",children:h||p!=="all"?"没有找到符合筛选条件的进程":"没有可用的进程数据"})}):E.map(L=>d.jsxs(nt,{className:L.cpuUsage>90||L.memoryUsage>90?"bg-red-50":L.cpuUsage>70||L.memoryUsage>70?"bg-yellow-50":void 0,children:[d.jsx(te,{className:"font-medium",children:L.device}),d.jsxs(te,{children:[d.jsxs("div",{className:"flex items-center",children:[L.isCritical&&d.jsx(Ce,{variant:"secondary",className:"mr-2",children:"关键"}),d.jsx("span",{children:L.processName})]}),L.command&&d.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[200px]",children:L.command})]}),d.jsx(te,{children:L.pid}),d.jsx(te,{children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mr-2",children:d.jsx("div",{className:`h-2.5 rounded-full ${L.cpuUsage>90?"bg-red-500":L.cpuUsage>70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(100,L.cpuUsage)}%`}})}),d.jsxs("span",{className:L.cpuUsage>90?"text-red-600 font-semibold":L.cpuUsage>70?"text-yellow-600":"text-gray-600",children:[L.cpuUsage.toFixed(1),"%"]})]})}),d.jsx(te,{children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mr-2",children:d.jsx("div",{className:`h-2.5 rounded-full ${L.memoryUsage>90?"bg-red-500":L.memoryUsage>70?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${Math.min(100,L.memoryUsage)}%`}})}),d.jsxs("span",{children:[L.memoryUsage.toFixed(1),"%"]})]})}),d.jsx(te,{children:w(L.memoryRSS)}),d.jsx(te,{children:d.jsx(Ce,{variant:sGe[L.status]||"default",children:L.status==="running"?"运行中":L.status==="sleeping"?"睡眠":L.status==="stopped"?"已停止":"僵尸"})}),d.jsx(te,{children:S(L.startTime)})]},`${L.device}-${L.processName}-${L.pid}`))})]})})]}),d.jsxs(Xe,{children:[d.jsx(dt,{children:d.jsx(ht,{children:"进程资源使用趋势图"})}),d.jsx(Je,{children:d.jsx("div",{className:"p-8 text-center text-gray-500 border border-dashed rounded-md",children:"此处将展示选定进程的CPU和内存使用率趋势"})})]})]})},oGe=[{value:"5m",label:"5分钟"},{value:"15m",label:"15分钟"},{value:"30m",label:"30分钟"},{value:"1h",label:"1小时"},{value:"3h",label:"3小时"},{value:"6h",label:"6小时"},{value:"12h",label:"12小时"},{value:"1d",label:"1天"}],lGe={info:"default",warning:"warning",error:"destructive",debug:"secondary",critical:"destructive"},Vue=({selectedDevice:e,deviceIp:t})=>{const[r,n]=A.useState([]),[i,a]=A.useState("30m"),[s,o]=A.useState(!1),[l,c]=A.useState(null),[u,h]=A.useState(""),[f,p]=A.useState("all"),[g,v]=A.useState("all"),[m,y]=A.useState(50),x=async()=>{o(!0),c(null);try{if(!(localStorage.getItem("datasource_loki_enabled")==="true")){c("Loki数据源未启用，请在数据源配置页面启用Loki"),_();return}const T=localStorage.getItem("datasource_loki");if(!T){c("Loki URL未配置，请在数据源配置页面设置Loki地址"),_();return}let N='{job="srl-syslog"}';e&&(N+=` |= "${e}"`),f!=="all"&&(N+=` |= "level=${f}"`),g!=="all"&&(N+=` |= "facility=${g}"`),u&&(N+=` |= "${u}"`);const I=await $t.get(`${T}/loki/api/v1/query_range`,{params:{query:N,start:b(i),end:Date.now()*1e6,limit:m}});if(I.data&&I.data.data&&I.data.data.result){const P=I.data.data.result,D=[];P.forEach($=>{const{device:L,facility:O}=$.stream;$.values.forEach(j=>{const[M,R]=j,z=R.match(/level=(\w+)/i),U=z?z[1].toLowerCase():"info",F=R.match(/process=(\w+)/i),G=R.match(/pid=(\d+)/i),q=R.match(/file=([^\s]+)/i);let K=R;const B=R.match(/msg="([^"]+)"/i);B&&(K=B[1]),D.push({device:L||"unknown",timestamp:new Date(parseInt(M)/1e6).toISOString(),level:U,facility:O||"unknown",message:K,sourceFile:q?q[1]:void 0,processName:F?F[1]:void 0,pid:G?parseInt(G[1]):void 0})})}),D.sort(($,L)=>new Date(L.timestamp).getTime()-new Date($.timestamp).getTime()),n(D)}else n([])}catch(E){console.error("Error fetching logs from Loki:",E),c("获取设备日志失败"),_()}finally{o(!1)}},_=()=>{const E=["spine1","spine2","leaf1","leaf2","leaf3","leaf4"],T=["kern","user","mail","daemon","auth","syslog","lpr","news","uucp","cron","authpriv","ftp","local0","local1","local2","local3","local4"],N=["Interface %s changed state to up","Interface %s changed state to down","Process %s started with PID %d","Process %s exited with code %d","User %s logged in from %s","Authentication failure for user %s from %s","Memory utilization is at %d%%","CPU utilization is at %d%%","BGP session with %s established","BGP session with %s down: %s","OSPF adjacency with %s up","OSPF adjacency with %s down: %s","Link flap detected on interface %s","Fan %d failure detected","Temperature is %d°C, exceeding threshold of %d°C","Power supply %d state changed to %s","Software upgrade initiated: %s","Software upgrade completed: %s","Configuration change by user %s: %s","System reboot initiated by user %s"],I=["bgpd","ospfd","lldpd","dhcpd","ntpd","sshd","snmpd","syslogd","init","crond"],P=["admin","operator","root","nms","backup","automation"],D=["10.1.1.1","192.168.1.1","172.16.0.1","10.0.0.1","192.168.10.1"],$=[],L=new Date,O=24*60*60*1e3;for(let j=0;j<100;j++){const M=Math.pow(Math.random(),2)*O,R=new Date(L.getTime()-M),z=E[Math.floor(Math.random()*E.length)],U=T[Math.floor(Math.random()*T.length)],F=Math.random();let G;F<.6?G="info":F<.8?G="warning":F<.95?G="error":F<.99?G="debug":G="critical";let K=N[Math.floor(Math.random()*N.length)];for(;K.includes("%s");)K.includes("Interface %s")?K=K.replace("%s",`Ethernet1/${Math.floor(Math.random()*48)+1}`):K.includes("Process %s")?K=K.replace("%s",I[Math.floor(Math.random()*I.length)]):K.includes("user %s")?K=K.replace("%s",P[Math.floor(Math.random()*P.length)]):K.includes("BGP session with %s")||K.includes("OSPF adjacency with %s")?K=K.replace("%s",D[Math.floor(Math.random()*D.length)]):K.includes("Software upgrade")?K=K.replace("%s",`SR Linux 23.${Math.floor(Math.random()*10)}.${Math.floor(Math.random()*10)}`):K.includes("Configuration change")?K=K.replace("%s","interface config updated"):K=K.replace("%s","unknown");for(;K.includes("%d");)if(K.includes("PID %d"))K=K.replace("%d",String(1e3+Math.floor(Math.random()*9e3)));else if(K.includes("code %d"))K=K.replace("%d",String(Math.floor(Math.random()*256)));else if(K.includes("%d%%"))K=K.replace("%d",String(Math.floor(Math.random()*100)));else if(K.includes("Fan %d"))K=K.replace("%d",String(Math.floor(Math.random()*4)+1));else if(K.includes("Temperature is %d")){const Y=Math.floor(Math.random()*20)+30;K=K.replace("%d",String(Y)),K=K.replace("%d",String(Y-5))}else K.includes("Power supply %d")?(K=K.replace("%d",String(Math.floor(Math.random()*2)+1)),K=K.replace("%s",Math.random()>.5?"up":"down")):K=K.replace("%d",String(Math.floor(Math.random()*100)));const B=I[Math.floor(Math.random()*I.length)],W=1e3+Math.floor(Math.random()*9e3);$.push({device:z,timestamp:R.toISOString(),level:G,facility:U,message:K,processName:B,pid:W,sourceFile:`/var/log/${U}.log`})}$.sort((j,M)=>new Date(M.timestamp).getTime()-new Date(j.timestamp).getTime()),n($)},b=E=>{const T=Date.now()*1e6,I={"5m":5*60,"15m":15*60,"30m":30*60,"1h":60*60,"3h":3*60*60,"6h":6*60*60,"12h":12*60*60,"1d":24*60*60}[E]||30*60;return T-I*1e9},w=E=>new Date(E).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),S=E=>{const T=new Date,N=new Date(E),I=T.getTime()-N.getTime(),P=Math.floor(I/1e3);if(P<60)return`${P}秒前`;const D=Math.floor(P/60);if(D<60)return`${D}分钟前`;const $=Math.floor(D/60);return $<24?`${$}小时前`:`${Math.floor($/24)}天前`};A.useEffect(()=>{x();const E=setInterval(x,3e4);return()=>clearInterval(E)},[e,i,f,g,u,m]);const k=r.filter(E=>!(e&&E.device!==e||f!=="all"&&E.level!==f||g!=="all"&&E.facility!==g||u&&!E.message.toLowerCase().includes(u.toLowerCase()))),C=Array.from(new Set(r.map(E=>E.facility))).sort();return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2",children:[d.jsxs("h2",{className:"text-xl font-semibold flex flex-wrap items-center gap-2",children:[e&&d.jsxs("div",{className:"flex items-center bg-blue-50 px-3 py-1 rounded-md text-blue-800 text-sm font-medium mr-2",children:[d.jsx("span",{className:"font-bold mr-1",children:"设备:"})," ",e,t&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"mx-1",children:"|"}),d.jsx("span",{className:"font-bold mr-1",children:"IP:"})," ",t]})]}),d.jsx("span",{children:"设备日志"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{className:"p-2 bg-gray-100 rounded-md hover:bg-gray-200",onClick:x,title:"刷新日志",children:d.jsx(mo,{className:"h-4 w-4 text-gray-600"})}),d.jsx("span",{className:"text-sm text-gray-500",children:"时间范围:"}),d.jsxs(cn,{value:i,onValueChange:a,children:[d.jsx(nn,{className:"w-36",children:d.jsx(un,{placeholder:"选择时间范围"})}),d.jsx(an,{children:oGe.map(E=>d.jsx(qe,{value:E.value,children:E.label},E.value))})]})]})]}),l&&d.jsxs("div",{className:"bg-red-50 text-red-700 p-3 rounded-md flex items-center",children:[d.jsx(ji,{className:"h-5 w-5 mr-2"}),d.jsx("span",{children:l})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[d.jsx("div",{className:"grow md:grow-0 md:w-64",children:d.jsxs("div",{className:"relative",children:[d.jsx(li,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),d.jsx(cr,{placeholder:"搜索日志内容...",value:u,onChange:E=>h(E.target.value),className:"pl-8"}),u&&d.jsx("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>h(""),children:d.jsx(Ua,{className:"h-4 w-4"})})]})}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"日志级别"}),d.jsxs(cn,{value:f,onValueChange:p,children:[d.jsx(nn,{className:"w-36",children:d.jsx(un,{placeholder:"所有级别"})}),d.jsxs(an,{children:[d.jsx(qe,{value:"all",children:"所有级别"}),d.jsx(qe,{value:"info",children:"Info"}),d.jsx(qe,{value:"warning",children:"Warning"}),d.jsx(qe,{value:"error",children:"Error"}),d.jsx(qe,{value:"debug",children:"Debug"}),d.jsx(qe,{value:"critical",children:"Critical"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"日志设施"}),d.jsxs(cn,{value:g,onValueChange:v,children:[d.jsx(nn,{className:"w-36",children:d.jsx(un,{placeholder:"所有设施"})}),d.jsxs(an,{children:[d.jsx(qe,{value:"all",children:"所有设施"}),C.map(E=>d.jsx(qe,{value:E,children:E},E))]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"显示数量"}),d.jsxs(cn,{value:m.toString(),onValueChange:E=>y(parseInt(E)),children:[d.jsx(nn,{className:"w-24",children:d.jsx(un,{placeholder:"50"})}),d.jsxs(an,{children:[d.jsx(qe,{value:"25",children:"25"}),d.jsx(qe,{value:"50",children:"50"}),d.jsx(qe,{value:"100",children:"100"}),d.jsx(qe,{value:"200",children:"200"}),d.jsx(qe,{value:"500",children:"500"})]})]})]})]}),d.jsxs(Xe,{children:[d.jsx(dt,{children:d.jsxs(ht,{className:"flex items-center justify-between",children:[d.jsx("span",{children:"设备日志"}),d.jsx("div",{className:"text-sm font-normal text-gray-500",children:s?d.jsxs("div",{className:"flex items-center",children:[d.jsx(Qd,{className:"animate-pulse h-4 w-4 mr-2"}),"加载中..."]}):d.jsxs("div",{children:["显示 ",k.length," 条日志"]})})]})}),d.jsxs(Je,{children:[k.length===0?d.jsx("div",{className:"py-8 text-center text-gray-500",children:u||f!=="all"||g!=="all"?"没有找到符合筛选条件的日志":"没有可用的日志数据"}):d.jsx("div",{className:"overflow-auto max-h-[600px]",children:d.jsxs(Zr,{children:[d.jsx(Jr,{className:"sticky top-0 bg-white",children:d.jsxs(nt,{children:[d.jsx(ie,{children:"时间"}),d.jsx(ie,{children:"设备"}),d.jsx(ie,{children:"级别"}),d.jsx(ie,{children:"设施"}),d.jsx(ie,{className:"w-full",children:"消息"}),d.jsx(ie,{className:"hidden md:table-cell",children:"进程"})]})}),d.jsx(Qr,{children:k.map((E,T)=>d.jsxs(nt,{className:E.level==="critical"?"bg-red-50":E.level==="error"?"bg-red-50/70":E.level==="warning"?"bg-yellow-50/70":void 0,children:[d.jsxs(te,{className:"whitespace-nowrap",children:[d.jsx("div",{className:"font-mono text-xs",children:w(E.timestamp)}),d.jsx("div",{className:"text-xs text-gray-500",children:S(E.timestamp)})]}),d.jsx(te,{children:E.device}),d.jsx(te,{children:d.jsx(Ce,{variant:lGe[E.level]||"default",children:E.level.toUpperCase()})}),d.jsx(te,{children:E.facility}),d.jsxs(te,{children:[d.jsx("div",{className:"font-mono text-sm break-all",children:E.message}),E.sourceFile&&d.jsxs("div",{className:"text-xs text-gray-500 flex items-center mt-1",children:[d.jsx(fo,{className:"h-3 w-3 mr-1 inline"}),E.sourceFile]})]}),d.jsxs(te,{className:"hidden md:table-cell",children:[E.processName&&d.jsx("div",{className:"text-sm",children:E.processName}),E.pid&&d.jsxs("div",{className:"text-xs text-gray-500",children:["PID: ",E.pid]})]})]},T))})]})}),k.length>=m&&d.jsx("div",{className:"mt-4 text-center",children:d.jsx("button",{onClick:()=>y(E=>E+50),className:"px-4 py-2 bg-gray-100 text-gray-800 rounded-md hover:bg-gray-200",children:"加载更多"})})]})]})]})},cGe=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wu(async()=>{const{default:n}=await Promise.resolve().then(()=>I0);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class MB extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class uGe extends MB{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class dGe extends MB{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class hGe extends MB{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var RO;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(RO||(RO={}));var fGe=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(h){s(h)}}function l(u){try{c(n.throw(u))}catch(h){s(h)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class pGe{constructor(t,{headers:r={},customFetch:n,region:i=RO.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=cGe(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return fGe(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=r;let o={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let c;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(o["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(o["Content-Type"]="application/json",c=JSON.stringify(s)));const u=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:c}).catch(g=>{throw new uGe(g)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new dGe(u);if(!u.ok)throw new hGe(u);let f=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield u.json():f==="application/octet-stream"?p=yield u.blob():f==="text/event-stream"?p=u:f==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(i){return{data:null,error:i}}})}}var us={},PB={},iA={},l1={},aA={},sA={},gGe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$v=gGe();const mGe=$v.fetch,Wue=$v.fetch.bind($v),Gue=$v.Headers,vGe=$v.Request,yGe=$v.Response,I0=Object.freeze(Object.defineProperty({__proto__:null,Headers:Gue,Request:vGe,Response:yGe,default:Wue,fetch:mGe},Symbol.toStringTag,{value:"Module"})),xGe=Rve(I0);var oA={};Object.defineProperty(oA,"__esModule",{value:!0});let _Ge=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};oA.default=_Ge;var que=ya&&ya.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sA,"__esModule",{value:!0});const bGe=que(xGe),wGe=que(oA);let SGe=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=bGe.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,o,l;let c=null,u=null,h=null,f=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const v=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),m=(o=a.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");v&&m&&m.length>1&&(h=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await a.text();try{c=JSON.parse(v),Array.isArray(c)&&a.status===404&&(u=[],c=null,f=200,p="OK")}catch{a.status===404&&v===""?(f=204,p="No Content"):c={message:v}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&this.shouldThrowOnError)throw new wGe.default(c)}return{error:c,data:u,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,o,l;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};sA.default=SGe;var CGe=ya&&ya.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(aA,"__esModule",{value:!0});const kGe=CGe(sA);let EGe=class extends kGe.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(s,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var o;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};aA.default=EGe;var TGe=ya&&ya.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l1,"__esModule",{value:!0});const NGe=TGe(aA);let AGe=class extends NGe.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${s}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};l1.default=AGe;var jGe=ya&&ya.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(iA,"__esModule",{value:!0});const ux=jGe(l1);let RGe=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new ux.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const s=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new ux.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){const s="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),a||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new ux.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new ux.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new ux.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};iA.default=RGe;var lA={},cA={};Object.defineProperty(cA,"__esModule",{value:!0});cA.version=void 0;cA.version="0.0.0-automated";Object.defineProperty(lA,"__esModule",{value:!0});lA.DEFAULT_HEADERS=void 0;const IGe=cA;lA.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${IGe.version}`};var Yue=ya&&ya.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PB,"__esModule",{value:!0});const MGe=Yue(iA),PGe=Yue(l1),LGe=lA;let DGe=class Kue{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},LGe.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new MGe.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Kue(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){let s;const o=new URL(`${this.url}/rpc/${t}`);let l;n||i?(s=n?"HEAD":"GET",Object.entries(r).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{o.searchParams.append(u,h)})):(s="POST",l=r);const c=Object.assign({},this.headers);return a&&(c.Prefer=`count=${a}`),new PGe.default({method:s,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};PB.default=DGe;var M0=ya&&ya.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(us,"__esModule",{value:!0});us.PostgrestError=us.PostgrestBuilder=us.PostgrestTransformBuilder=us.PostgrestFilterBuilder=us.PostgrestQueryBuilder=us.PostgrestClient=void 0;const Xue=M0(PB);us.PostgrestClient=Xue.default;const Zue=M0(iA);us.PostgrestQueryBuilder=Zue.default;const Jue=M0(l1);us.PostgrestFilterBuilder=Jue.default;const Que=M0(aA);us.PostgrestTransformBuilder=Que.default;const ede=M0(sA);us.PostgrestBuilder=ede.default;const tde=M0(oA);us.PostgrestError=tde.default;var OGe=us.default={PostgrestClient:Xue.default,PostgrestQueryBuilder:Zue.default,PostgrestFilterBuilder:Jue.default,PostgrestTransformBuilder:Que.default,PostgrestBuilder:ede.default,PostgrestError:tde.default};const{PostgrestClient:$Ge,PostgrestQueryBuilder:pvt,PostgrestFilterBuilder:gvt,PostgrestTransformBuilder:mvt,PostgrestBuilder:vvt,PostgrestError:yvt}=OGe,BGe="2.11.2",FGe={"X-Client-Info":`realtime-js/${BGe}`},zGe="1.0.0",rde=1e4,UGe=1e3;var ov;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ov||(ov={}));var Rs;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Rs||(Rs={}));var Zo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Zo||(Zo={}));var IO;(function(e){e.websocket="websocket"})(IO||(IO={}));var Df;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Df||(Df={}));class HGe{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+i));s=s+i;const l=n.decode(t.slice(s,s+a));s=s+a;const c=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class nde{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Dn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Dn||(Dn={}));const hY=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,s)=>(a[s]=VGe(s,e,t,i),a),{})},VGe=(e,t,r,n)=>{const i=t.find(o=>o.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?ide(a,s):MO(s)},ide=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return YGe(t,r)}switch(e){case Dn.bool:return WGe(t);case Dn.float4:case Dn.float8:case Dn.int2:case Dn.int4:case Dn.int8:case Dn.numeric:case Dn.oid:return GGe(t);case Dn.json:case Dn.jsonb:return qGe(t);case Dn.timestamp:return KGe(t);case Dn.abstime:case Dn.date:case Dn.daterange:case Dn.int4range:case Dn.int8range:case Dn.money:case Dn.reltime:case Dn.text:case Dn.time:case Dn.timestamptz:case Dn.timetz:case Dn.tsrange:case Dn.tstzrange:return MO(t);default:return MO(t)}},MO=e=>e,WGe=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},GGe=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},qGe=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},YGe=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>ide(t,o))}return e},KGe=e=>typeof e=="string"?e.replace(" ","T"):e,ade=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class lM{constructor(t,r,n={},i=rde){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fY;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(fY||(fY={}));class I_{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=I_.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=I_.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=I_.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),o={},l={};return this.map(a,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const h=a[c];if(h){const f=u.map(m=>m.presence_ref),p=h.map(m=>m.presence_ref),g=u.filter(m=>p.indexOf(m.presence_ref)<0),v=h.filter(m=>f.indexOf(m.presence_ref)<0);g.length>0&&(o[c]=g),v.length>0&&(l[c]=v)}else o[c]=u}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var c;const u=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),u.length>0){const h=t[o].map(p=>p.presence_ref),f=u.filter(p=>h.indexOf(p.presence_ref)<0);t[o].unshift(...f)}n(o,u,l)}),this.map(s,(o,l)=>{let c=t[o];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),t[o]=c,i(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pY;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(pY||(pY={}));var gY;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(gY||(gY={}));var Zc;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Zc||(Zc={}));class LB{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Rs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new lM(this,Zo.join,this.params,this.timeout),this.rejoinTimer=new nde(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rs.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Rs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zo.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new I_(this),this.broadcastEndpointURL=ade(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:s,private:o}}=this.params;this._onError(u=>t==null?void 0:t(Zc.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(Zc.CLOSED));const l={},c={broadcast:a,presence:s,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){t==null||t(Zc.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,g=[];for(let v=0;v<p;v++){const m=f[v],{filter:{event:y,schema:x,table:_,filter:b}}=m,w=u&&u[v];if(w&&w.event===y&&w.schema===x&&w.table===_&&w.filter===b)g.push(Object.assign(Object.assign({},m),{id:w.id}));else{this.unsubscribe(),t==null||t(Zc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Zc.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(Zc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Zc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Rs.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zo.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new lM(this,Zo.leave,{},t);i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new lM(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=Zo;if(n&&[o,l,c,u].indexOf(s)>=0&&n!==this._joinRef())return;let f=this._onMessage(s,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,v,m;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((m=(v=p.filter)===null||v===void 0?void 0:v.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===s}).map(p=>p.callback(f,n)):(a=this.bindings[s])===null||a===void 0||a.filter(p=>{var g,v,m,y,x,_;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const b=p.id,w=(g=p.filter)===null||g===void 0?void 0:g.event;return b&&((v=r.ids)===null||v===void 0?void 0:v.includes(b))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((m=r.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const b=(x=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return b==="*"||b===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:v,table:m,commit_timestamp:y,type:x,errors:_}=g;f=Object.assign(Object.assign({},{schema:v,table:m,commit_timestamp:y,eventType:x,new:{},old:{},errors:_}),this._getPayloadRecords(g))}p.callback(f,n)})}_isClosed(){return this.state===Rs.closed}_isJoined(){return this.state===Rs.joined}_isJoining(){return this.state===Rs.joining}_isLeaving(){return this.state===Rs.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&LB.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Zo.close,{},t)}_onError(t){this._on(Zo.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rs.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=hY(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=hY(t.columns,t.old_record)),r}}const XGe=()=>{},ZGe=typeof WebSocket<"u",JGe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class QGe{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=FGe,this.params={},this.timeout=rde,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=XGe,this.conn=null,this.sendBuffer=[],this.serializer=new HGe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...o)=>wu(async()=>{const{default:l}=await Promise.resolve().then(()=>I0);return{default:l}},void 0).then(({default:l})=>l(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${t}/${IO.websocket}`,this.httpEndpoint=ade(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,s)=>s(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new nde(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(ZGe){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new eqe(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),wu(async()=>{const{default:t}=await import("./browser-BkARtbXC.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:zGe}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ov.connecting:return Df.Connecting;case ov.open:return Df.Open;case ov.closing:return Df.Closing;default:return Df.Closed}}isConnected(){return this.connectionState()===Df.Open}channel(t,r={config:{}}){const n=new LB(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(i=>{r&&i.updateJoinPayload({access_token:r}),i.joinedOnce&&i._isJoined()&&i._push(Zo.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(UGe,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:a,ref:s}=r;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${s&&"("+s+")"||""}`,a),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(i,a,s)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Zo.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([JGe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class eqe{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ov.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class DB extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Bi(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class tqe extends DB{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class PO extends DB{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var rqe=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(h){s(h)}}function l(u){try{c(n.throw(u))}catch(h){s(h)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const sde=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wu(async()=>{const{default:n}=await Promise.resolve().then(()=>I0);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},nqe=()=>rqe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wu(()=>Promise.resolve().then(()=>I0),void 0)).Response:Response}),LO=e=>{if(Array.isArray(e))return e.map(r=>LO(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=LO(n)}),t};var sg=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(h){s(h)}}function l(u){try{c(n.throw(u))}catch(h){s(h)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const cM=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),iqe=(e,t,r)=>sg(void 0,void 0,void 0,function*(){const n=yield nqe();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{t(new tqe(cM(i),e.status||500))}).catch(i=>{t(new PO(cM(i),i))}):t(new PO(cM(e),e))}),aqe=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function c1(e,t,r,n,i,a){return sg(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,aqe(t,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>iqe(l,o,n))})})}function XT(e,t,r,n){return sg(this,void 0,void 0,function*(){return c1(e,"GET",t,r,n)})}function wd(e,t,r,n,i){return sg(this,void 0,void 0,function*(){return c1(e,"POST",t,n,i,r)})}function sqe(e,t,r,n,i){return sg(this,void 0,void 0,function*(){return c1(e,"PUT",t,n,i,r)})}function oqe(e,t,r,n){return sg(this,void 0,void 0,function*(){return c1(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function ode(e,t,r,n,i){return sg(this,void 0,void 0,function*(){return c1(e,"DELETE",t,n,i,r)})}var rs=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(h){s(h)}}function l(u){try{c(n.throw(u))}catch(h){s(h)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const lqe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mY={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cqe{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=sde(i)}uploadOrUpdate(t,r,n,i){return rs(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},mY),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:a,headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(Bi(a))return{data:null,error:a};throw a}})}upload(t,r,n){return rs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return rs(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:mY.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:u}),f=yield h.json();return h.ok?{data:{path:a,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Bi(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return rs(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield wd(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new DB("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(Bi(n))return{data:null,error:n};throw n}})}update(t,r,n){return rs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return rs(this,void 0,void 0,function*(){try{return{data:yield wd(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Bi(i))return{data:null,error:i};throw i}})}copy(t,r,n){return rs(this,void 0,void 0,function*(){try{return{data:{path:(yield wd(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Bi(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return rs(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield wd(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(Bi(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return rs(this,void 0,void 0,function*(){try{const i=yield wd(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(Bi(i))return{data:null,error:i};throw i}})}download(t,r){return rs(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield XT(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Bi(o))return{data:null,error:o};throw o}})}info(t){return rs(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield XT(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:LO(n),error:null}}catch(n){if(Bi(n))return{data:null,error:n};throw n}})}exists(t){return rs(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield oqe(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Bi(n)&&n instanceof PO){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return rs(this,void 0,void 0,function*(){try{return{data:yield ode(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Bi(r))return{data:null,error:r};throw r}})}list(t,r,n){return rs(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},lqe),r),{prefix:t||""});return{data:yield wd(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Bi(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const uqe="2.7.1",dqe={"X-Client-Info":`storage-js/${uqe}`};var Zg=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(h){s(h)}}function l(u){try{c(n.throw(u))}catch(h){s(h)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class hqe{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},dqe),r),this.fetch=sde(n)}listBuckets(){return Zg(this,void 0,void 0,function*(){try{return{data:yield XT(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Bi(t))return{data:null,error:t};throw t}})}getBucket(t){return Zg(this,void 0,void 0,function*(){try{return{data:yield XT(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Bi(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Zg(this,void 0,void 0,function*(){try{return{data:yield wd(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Bi(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Zg(this,void 0,void 0,function*(){try{return{data:yield sqe(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Bi(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Zg(this,void 0,void 0,function*(){try{return{data:yield wd(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Bi(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Zg(this,void 0,void 0,function*(){try{return{data:yield ode(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Bi(r))return{data:null,error:r};throw r}})}}class fqe extends hqe{constructor(t,r={},n){super(t,r,n)}from(t){return new cqe(this.url,this.headers,t,this.fetch)}}const pqe="2.49.4";let Jx="";typeof Deno<"u"?Jx="deno":typeof document<"u"?Jx="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Jx="react-native":Jx="node";const gqe={"X-Client-Info":`supabase-js-${Jx}/${pqe}`},mqe={headers:gqe},vqe={schema:"public"},yqe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xqe={};var _qe=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(h){s(h)}}function l(u){try{c(n.throw(u))}catch(h){s(h)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const bqe=e=>{let t;return e?t=e:typeof fetch>"u"?t=Wue:t=fetch,(...r)=>t(...r)},wqe=()=>typeof Headers>"u"?Gue:Headers,Sqe=(e,t,r)=>{const n=bqe(r),i=wqe();return(a,s)=>_qe(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:e;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},s),{headers:c}))})};var Cqe=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(h){s(h)}}function l(u){try{c(n.throw(u))}catch(h){s(h)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};function kqe(e){return e.replace(/\/$/,"")}function Eqe(e,t){const{db:r,auth:n,realtime:i,global:a}=e,{db:s,auth:o,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},s),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),a),accessToken:()=>Cqe(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const lde="2.69.1",pm=30*1e3,DO=3,uM=DO*pm,Tqe="http://localhost:9999",Nqe="supabase.auth.token",Aqe={"X-Client-Info":`gotrue-js/${lde}`},OO="X-Supabase-Api-Version",cde={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jqe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Rqe=6e5;class OB extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Cr(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Iqe extends OB{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Mqe(e){return Cr(e)&&e.name==="AuthApiError"}class ude extends OB{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Bh extends OB{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class pd extends Bh{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Pqe(e){return Cr(e)&&e.name==="AuthSessionMissingError"}class dM extends Bh{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class PC extends Bh{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class LC extends Bh{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Lqe(e){return Cr(e)&&e.name==="AuthImplicitGrantRedirectError"}class vY extends Bh{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $O extends Bh{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function hM(e){return Cr(e)&&e.name==="AuthRetryableFetchError"}class yY extends Bh{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class M_ extends Bh{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const xY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_Y=` 	
\r=`.split(""),Dqe=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<_Y.length;t+=1)e[_Y[t].charCodeAt(0)]=-2;for(let t=0;t<xY.length;t+=1)e[xY[t].charCodeAt(0)]=t;return e})();function dde(e,t,r){const n=Dqe[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function bY(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{Bqe(s,n,r)};for(let s=0;s<e.length;s+=1)dde(e.charCodeAt(s),i,a);return t.join("")}function Oqe(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function $qe(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Oqe(n,t)}}function Bqe(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Fqe(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)dde(e.charCodeAt(i),r,n);return new Uint8Array(t)}function zqe(e){const t=[];return $qe(e,r=>t.push(r)),new Uint8Array(t)}function Uqe(e){return Math.round(Date.now()/1e3)+e}function Hqe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const zl=()=>typeof window<"u"&&typeof document<"u",yf={tested:!1,writable:!1},P_=()=>{if(!zl())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yf.tested)return yf.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),yf.tested=!0,yf.writable=!0}catch{yf.tested=!0,yf.writable=!1}return yf.writable};function Vqe(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const hde=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wu(async()=>{const{default:n}=await Promise.resolve().then(()=>I0);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Wqe=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fde=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},DC=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},OC=async(e,t)=>{await e.removeItem(t)};class uA{constructor(){this.promise=new uA.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}uA.promiseConstructor=Promise;function fM(e){const t=e.split(".");if(t.length!==3)throw new M_("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!jqe.test(t[n]))throw new M_("JWT not in base64url format");return{header:JSON.parse(bY(t[0])),payload:JSON.parse(bY(t[1])),signature:Fqe(t[2]),raw:{header:t[0],payload:t[1]}}}async function Gqe(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function qqe(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function Yqe(e){return("0"+e.toString(16)).substr(-2)}function Kqe(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Yqe).join("")}async function Xqe(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Zqe(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Xqe(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jg(e,t,r=!1){const n=Kqe();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await fde(e,`${t}-code-verifier`,i);const a=await Zqe(n);return[a,n===a?"plain":"s256"]}const Jqe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Qqe(e){const t=e.headers.get(OO);if(!t||!t.match(Jqe))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function eYe(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function tYe(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var rYe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Rf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nYe=[502,503,504];async function wY(e){var t;if(!Wqe(e))throw new $O(Rf(e),0);if(nYe.includes(e.status))throw new $O(Rf(e),e.status);let r;try{r=await e.json()}catch(a){throw new ude(Rf(a),a)}let n;const i=Qqe(e);if(i&&i.getTime()>=cde["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new yY(Rf(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new pd}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new yY(Rf(r),e.status,r.weak_password.reasons);throw new Iqe(Rf(r),e.status||500,n)}const iYe=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Or(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[OO]||(a[OO]=cde["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await aYe(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function aYe(e,t,r,n,i,a){const s=iYe(t,n,i,a);let o;try{o=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new $O(Rf(l),0)}if(o.ok||await wY(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await wY(l)}}function gd(e){var t;let r=null;cYe(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Uqe(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function SY(e){const t=gd(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function kd(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function sYe(e){return{data:e,error:null}}function oYe(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=rYe(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function lYe(e){return e}function cYe(e){return e.access_token&&e.refresh_token&&e.expires_in}var uYe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class dYe{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=hde(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Or(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Cr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Or(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:kd})}catch(n){if(Cr(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=uYe(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Or(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:oYe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Cr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Or(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:kd})}catch(r){if(Cr(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Or(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:lYe});if(u.error)throw u.error;const h=await u.json(),f=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(g.split(";")[1].split("=")[1]);c[`${m}Page`]=v}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Cr(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await Or(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:kd})}catch(r){if(Cr(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Or(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:kd})}catch(n){if(Cr(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Or(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:kd})}catch(n){if(Cr(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Or(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Cr(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Or(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Cr(r))return{data:null,error:r};throw r}}}const hYe={getItem:e=>P_()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{P_()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{P_()&&globalThis.localStorage.removeItem(e)}};function CY(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function fYe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Qg={debug:!!(globalThis&&P_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pde extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class pYe extends pde{}async function gYe(e,t,r){Qg.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Qg.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Qg.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Qg.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Qg.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new pYe(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Qg.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}fYe();const mYe={url:Tqe,storageKey:Nqe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Aqe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function kY(e,t,r){return await r()}class Jb{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jb.nextInstanceID,Jb.nextInstanceID+=1,this.instanceID>0&&zl()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},mYe),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new dYe({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=hde(i.fetch),this.lock=i.lock||kY,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:zl()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=gYe:this.lock=kY,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:P_()?this.storage=hYe:(this.memoryStorage={},this.storage=CY(this.memoryStorage)):(this.memoryStorage={},this.storage=CY(this.memoryStorage)),zl()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${lde}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Vqe(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),zl()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Lqe(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Cr(r)?{error:r}:{error:new ude("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await Or(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:gd}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(Cr(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:u,password:h,options:f}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Jg(this.storage,this.storageKey)),a=await Or(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:gd})}else if("phone"in t){const{phone:u,password:h,options:f}=t;a=await Or(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:gd})}else throw new PC("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(Cr(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:o}=t;r=await Or(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:SY})}else if("phone"in t){const{phone:a,password:s,options:o}=t;r=await Or(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:SY})}else throw new PC("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new dM}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Cr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await DC(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await Or(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:gd});if(await OC(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new dM}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(Cr(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,o=await Or(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:gd}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new dM}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(Cr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:o,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Jg(this.storage,this.storageKey));const{error:h}=await Or(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:u}=await Or(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new PC("You must provide either an email or phone number.")}catch(o){if(Cr(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await Or(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:gd});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Cr(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await Jg(this.storage,this.storageKey)),await Or(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:sYe})}catch(a){if(Cr(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new pd;const{error:i}=await Or(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Cr(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await Or(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:o}=await Or(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new PC("You must provide either an email or phone number and a type")}catch(r){if(Cr(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await DC(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<uM:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Or(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:kd}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pd}:await Or(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:kd})})}catch(r){if(Cr(r))return Pqe(r)&&(await this._removeSession(),await OC(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new pd;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Jg(this.storage,this.storageKey));const{data:c,error:u}=await Or(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:kd});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(Cr(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new pd;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=fM(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Cr(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new pd;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Cr(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!zl())throw new LC("No browser detected.");if(t.error||t.error_description||t.error_code)throw new LC(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new vY("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new LC("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new vY("No code detected.");const{data:x,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=t;if(!a||!o||!s||!c)throw new LC("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(o);let f=u+h;l&&(f=parseInt(l));const p=f-u;p*1e3<=pm&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const g=f-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:v,error:m}=await this._getUser(a);if(m)throw m;const y={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:f,refresh_token:s,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(Cr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await DC(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(Mqe(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await OC(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Hqe(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Jg(this.storage,this.storageKey,!0));try{return await Or(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Cr(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Cr(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,c,u;const{data:h,error:f}=a;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Or(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return zl()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Cr(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await Or(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Cr(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await qqe(async i=>(i>0&&await Gqe(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Or(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gd})),(i,a)=>{const s=200*Math.pow(2,i);return a&&hM(a)&&Date.now()+s-n<pm})}catch(n){if(this._debug(r,"error",n),Cr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),zl()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await DC(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<uM;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${uM}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),hM(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new pd;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new uA;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new pd;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),Cr(a)){const s={session:null,error:a};return hM(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await fde(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await OC(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&zl()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),pm);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/pm);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${pm}ms, refresh threshold is ${DO} ticks`),i<=DO&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof pde)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zl()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Jg(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Or(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Cr(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await Or(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Cr(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:s,error:o}=await Or(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(Cr(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Or(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Cr(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=fM(i.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n||(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+Rqe>Date.now()))return n;const{data:i,error:a}=await Or(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new M_("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(s=>s.kid===t),!n)throw new M_("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};n=p.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=fM(n);if(eYe(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:s},error:null}}const c=tYe(i.alg),u=await this.fetchJwk(i.kid,r),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,s,zqe(`${o}.${l}`)))throw new M_("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(Cr(n))return{data:null,error:n};throw n}}}Jb.nextInstanceID=0;const vYe=Jb;class yYe extends vYe{constructor(t){super(t)}}var xYe=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(h){s(h)}}function l(u){try{c(n.throw(u))}catch(h){s(h)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class _Ye{constructor(t,r,n){var i,a,s;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=kqe(t);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:vqe,realtime:xqe,auth:Object.assign(Object.assign({},yqe),{storageKey:l}),global:mqe},u=Eqe(n??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=Sqe(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new $Ge(`${o}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new pGe(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new fqe(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return xYe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:s,lock:o,debug:l},c,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yYe({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:s,lock:o,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new QGe(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bYe=(e,t,r)=>new _Ye(e,t,r),wYe=()=>"http://127.0.0.1:54321",SYe=()=>"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0";let Om=null;const gde=()=>{const e=wYe(),t=SYe();console.log("Supabase初始化 - URL:",e);try{return Om=bYe(e,t,{auth:{autoRefreshToken:!0,persistSession:!0,storage:localStorage,detectSessionInUrl:!0},global:{headers:{"X-Client-Info":"device-manager-app"}}}),console.log("Supabase客户端已初始化, URL:",e),setTimeout(()=>{Om&&Om.from("devices").select("count()",{head:!0,count:"exact"}).then(({error:r})=>{r?(console.error("Supabase连接测试失败:",r),console.log("错误代码:",r.code),console.log("错误消息:",r.message)):console.log("Supabase连接测试成功!")},r=>{console.error("Supabase连接测试异常:",r)})},1e3),Om}catch(r){return console.error("初始化Supabase客户端失败:",r),null}};gde();const dA=()=>Om||gde(),nE="network_states",Bv=()=>localStorage.getItem("userId")||"default_user",CYe=async e=>{try{const t=Bv(),r=dA();if(!r)return console.warn("Supabase客户端未初始化，使用localStorage备份"),BO(e),!1;const{data:n}=await r.from(nE).select("*").eq("userId",t).single();let i;return n?i=await r.from(nE).update({...e,updated_at:new Date().toISOString()}).eq("userId",t):i=await r.from(nE).insert([{userId:t,...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]),i.error?(console.error("保存网络状态失败:",i.error),localStorage.setItem("network_state",JSON.stringify({userId:t,...e,updated_at:new Date().toISOString()})),!1):!0}catch(t){return console.error("保存网络状态出错:",t),localStorage.setItem("network_state",JSON.stringify({userId:Bv(),...e,updated_at:new Date().toISOString()})),!1}},kYe=async()=>{try{const e=Bv(),t=dA();if(!t)return console.warn("Supabase客户端未初始化，从localStorage加载"),EYe();const{data:r,error:n}=await t.from(nE).select("*").eq("userId",e).single();if(n||!r){console.warn("从Supabase加载网络状态失败:",(n==null?void 0:n.message)||"没有数据");const i=localStorage.getItem("network_state");if(i){const a=JSON.parse(i);if(a.userId===e)return a}return null}return r}catch(e){console.error("加载网络状态出错:",e);const t=localStorage.getItem("network_state");if(t)try{const r=JSON.parse(t);if(r.userId===Bv())return r}catch(r){console.error("解析localStorage数据出错:",r)}return null}},BO=e=>{try{const t=Bv();localStorage.setItem("network_state",JSON.stringify({userId:t,...e,updated_at:new Date().toISOString()}))}catch(t){console.error("保存到localStorage失败:",t)}},EYe=()=>{try{const e=localStorage.getItem("network_state");if(e){const t=JSON.parse(e);if(t.userId===Bv())return t}return null}catch(e){return console.error("从localStorage加载数据出错:",e),null}},$B="olaola_state",TYe=e=>{try{localStorage.setItem($B,JSON.stringify({...e,updated_at:new Date().toISOString()})),console.log("OlaOla状态已保存")}catch(t){console.error("保存OlaOla状态失败:",t)}},mde=()=>{try{const e=localStorage.getItem($B);return e?JSON.parse(e):null}catch(e){return console.error("加载OlaOla状态失败:",e),null}},NYe=()=>{localStorage.removeItem($B)};function BB(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let og=BB();function vde(e){og=e}const L_={exec:()=>null};function gn(e,t=""){let r=typeof e=="string"?e:e.source;const n={replace:(i,a)=>{let s=typeof a=="string"?a:a.source;return s=s.replace(Ba.caret,"$1"),r=r.replace(i,s),n},getRegex:()=>new RegExp(r,t)};return n}const Ba={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},AYe=/^(?:[ \t]*(?:\n|$))+/,jYe=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,RYe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,u1=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,IYe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,FB=/(?:[*+-]|\d{1,9}[.)])/,yde=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,xde=gn(yde).replace(/bull/g,FB).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),MYe=gn(yde).replace(/bull/g,FB).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),zB=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,PYe=/^[^\n]+/,UB=/(?!\s*\])(?:\\.|[^\[\]\\])+/,LYe=gn(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",UB).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),DYe=gn(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,FB).getRegex(),hA="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",HB=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,OYe=gn("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",HB).replace("tag",hA).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),_de=gn(zB).replace("hr",u1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hA).getRegex(),$Ye=gn(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",_de).getRegex(),VB={blockquote:$Ye,code:jYe,def:LYe,fences:RYe,heading:IYe,hr:u1,html:OYe,lheading:xde,list:DYe,newline:AYe,paragraph:_de,table:L_,text:PYe},EY=gn("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",u1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hA).getRegex(),BYe={...VB,lheading:MYe,table:EY,paragraph:gn(zB).replace("hr",u1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",EY).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hA).getRegex()},FYe={...VB,html:gn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",HB).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:L_,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:gn(zB).replace("hr",u1).replace("heading",` *#{1,6} *[^
]`).replace("lheading",xde).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},zYe=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,UYe=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,bde=/^( {2,}|\\)\n(?!\s*$)/,HYe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,fA=/[\p{P}\p{S}]/u,WB=/[\s\p{P}\p{S}]/u,wde=/[^\s\p{P}\p{S}]/u,VYe=gn(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,WB).getRegex(),Sde=/(?!~)[\p{P}\p{S}]/u,WYe=/(?!~)[\s\p{P}\p{S}]/u,GYe=/(?:[^\s\p{P}\p{S}]|~)/u,qYe=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Cde=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,YYe=gn(Cde,"u").replace(/punct/g,fA).getRegex(),KYe=gn(Cde,"u").replace(/punct/g,Sde).getRegex(),kde="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",XYe=gn(kde,"gu").replace(/notPunctSpace/g,wde).replace(/punctSpace/g,WB).replace(/punct/g,fA).getRegex(),ZYe=gn(kde,"gu").replace(/notPunctSpace/g,GYe).replace(/punctSpace/g,WYe).replace(/punct/g,Sde).getRegex(),JYe=gn("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,wde).replace(/punctSpace/g,WB).replace(/punct/g,fA).getRegex(),QYe=gn(/\\(punct)/,"gu").replace(/punct/g,fA).getRegex(),eKe=gn(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),tKe=gn(HB).replace("(?:-->|$)","-->").getRegex(),rKe=gn("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",tKe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ZT=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,nKe=gn(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",ZT).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ede=gn(/^!?\[(label)\]\[(ref)\]/).replace("label",ZT).replace("ref",UB).getRegex(),Tde=gn(/^!?\[(ref)\](?:\[\])?/).replace("ref",UB).getRegex(),iKe=gn("reflink|nolink(?!\\()","g").replace("reflink",Ede).replace("nolink",Tde).getRegex(),GB={_backpedal:L_,anyPunctuation:QYe,autolink:eKe,blockSkip:qYe,br:bde,code:UYe,del:L_,emStrongLDelim:YYe,emStrongRDelimAst:XYe,emStrongRDelimUnd:JYe,escape:zYe,link:nKe,nolink:Tde,punctuation:VYe,reflink:Ede,reflinkSearch:iKe,tag:rKe,text:HYe,url:L_},aKe={...GB,link:gn(/^!?\[(label)\]\((.*?)\)/).replace("label",ZT).getRegex(),reflink:gn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ZT).getRegex()},FO={...GB,emStrongRDelimAst:ZYe,emStrongLDelim:KYe,url:gn(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},sKe={...FO,br:gn(bde).replace("{2,}","*").getRegex(),text:gn(FO.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},$C={normal:VB,gfm:BYe,pedantic:FYe},dx={normal:GB,gfm:FO,breaks:sKe,pedantic:aKe},oKe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},TY=e=>oKe[e];function Ul(e,t){if(t){if(Ba.escapeTest.test(e))return e.replace(Ba.escapeReplace,TY)}else if(Ba.escapeTestNoEncode.test(e))return e.replace(Ba.escapeReplaceNoEncode,TY);return e}function NY(e){try{e=encodeURI(e).replace(Ba.percentDecode,"%")}catch{return null}return e}function AY(e,t){var a;const r=e.replace(Ba.findPipe,(s,o,l)=>{let c=!1,u=o;for(;--u>=0&&l[u]==="\\";)c=!c;return c?"|":" |"}),n=r.split(Ba.splitPipe);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!((a=n.at(-1))!=null&&a.trim())&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(Ba.slashPipe,"|");return n}function hx(e,t,r){const n=e.length;if(n===0)return"";let i=0;for(;i<n&&e.charAt(n-i-1)===t;)i++;return e.slice(0,n-i)}function lKe(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return-1}function jY(e,t,r,n,i){const a=t.href,s=t.title||null,o=e[1].replace(i.other.outputLinkReplace,"$1");if(e[0].charAt(0)!=="!"){n.state.inLink=!0;const l={type:"link",raw:r,href:a,title:s,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,l}return{type:"image",raw:r,href:a,title:s,text:o}}function cKe(e,t,r){const n=e.match(r.other.indentCodeCompensation);if(n===null)return t;const i=n[1];return t.split(`
`).map(a=>{const s=a.match(r.other.beginningSpace);if(s===null)return a;const[o]=s;return o.length>=i.length?a.slice(i.length):a}).join(`
`)}class JT{constructor(t){Tn(this,"options");Tn(this,"rules");Tn(this,"lexer");this.options=t||og}space(t){const r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){const r=this.rules.block.code.exec(t);if(r){const n=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:hx(n,`
`)}}}fences(t){const r=this.rules.block.fences.exec(t);if(r){const n=r[0],i=cKe(n,r[3]||"",this.rules);return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:i}}}heading(t){const r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(this.rules.other.endingHash.test(n)){const i=hx(n,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(n=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:hx(r[0],`
`)}}blockquote(t){const r=this.rules.block.blockquote.exec(t);if(r){let n=hx(r[0],`
`).split(`
`),i="",a="";const s=[];for(;n.length>0;){let o=!1;const l=[];let c;for(c=0;c<n.length;c++)if(this.rules.other.blockquoteStart.test(n[c]))l.push(n[c]),o=!0;else if(!o)l.push(n[c]);else break;n=n.slice(c);const u=l.join(`
`),h=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${u}`:u,a=a?`${a}
${h}`:h;const f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,s,!0),this.lexer.state.top=f,n.length===0)break;const p=s.at(-1);if((p==null?void 0:p.type)==="code")break;if((p==null?void 0:p.type)==="blockquote"){const g=p,v=g.raw+`
`+n.join(`
`),m=this.blockquote(v);s[s.length-1]=m,i=i.substring(0,i.length-g.raw.length)+m.raw,a=a.substring(0,a.length-g.text.length)+m.text;break}else if((p==null?void 0:p.type)==="list"){const g=p,v=g.raw+`
`+n.join(`
`),m=this.list(v);s[s.length-1]=m,i=i.substring(0,i.length-p.raw.length)+m.raw,a=a.substring(0,a.length-g.raw.length)+m.raw,n=v.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:s,text:a}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim();const i=n.length>1,a={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");const s=this.rules.other.listItemRegex(n);let o=!1;for(;t;){let c=!1,u="",h="";if(!(r=s.exec(t))||this.rules.block.hr.test(t))break;u=r[0],t=t.substring(u.length);let f=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,x=>" ".repeat(3*x.length)),p=t.split(`
`,1)[0],g=!f.trim(),v=0;if(this.options.pedantic?(v=2,h=f.trimStart()):g?v=r[1].length+1:(v=r[2].search(this.rules.other.nonSpaceChar),v=v>4?1:v,h=f.slice(v),v+=r[1].length),g&&this.rules.other.blankLine.test(p)&&(u+=p+`
`,t=t.substring(p.length+1),c=!0),!c){const x=this.rules.other.nextBulletRegex(v),_=this.rules.other.hrRegex(v),b=this.rules.other.fencesBeginRegex(v),w=this.rules.other.headingBeginRegex(v),S=this.rules.other.htmlBeginRegex(v);for(;t;){const k=t.split(`
`,1)[0];let C;if(p=k,this.options.pedantic?(p=p.replace(this.rules.other.listReplaceNesting,"  "),C=p):C=p.replace(this.rules.other.tabCharGlobal,"    "),b.test(p)||w.test(p)||S.test(p)||x.test(p)||_.test(p))break;if(C.search(this.rules.other.nonSpaceChar)>=v||!p.trim())h+=`
`+C.slice(v);else{if(g||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||b.test(f)||w.test(f)||_.test(f))break;h+=`
`+p}!g&&!p.trim()&&(g=!0),u+=k+`
`,t=t.substring(k.length+1),f=C.slice(v)}}a.loose||(o?a.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(o=!0));let m=null,y;this.options.gfm&&(m=this.rules.other.listIsTask.exec(h),m&&(y=m[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),a.items.push({type:"list_item",raw:u,task:!!m,checked:y,loose:!1,text:h,tokens:[]}),a.raw+=u}const l=a.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let c=0;c<a.items.length;c++)if(this.lexer.state.top=!1,a.items[c].tokens=this.lexer.blockTokens(a.items[c].text,[]),!a.loose){const u=a.items[c].tokens.filter(f=>f.type==="space"),h=u.length>0&&u.some(f=>this.rules.other.anyLine.test(f.raw));a.loose=h}if(a.loose)for(let c=0;c<a.items.length;c++)a.items[c].loose=!0;return a}}html(t){const r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(t){const r=this.rules.block.def.exec(t);if(r){const n=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:i,title:a}}}table(t){var o;const r=this.rules.block.table.exec(t);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;const n=AY(r[1]),i=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=(o=r[3])!=null&&o.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===i.length){for(const l of i)this.rules.other.tableAlignRight.test(l)?s.align.push("right"):this.rules.other.tableAlignCenter.test(l)?s.align.push("center"):this.rules.other.tableAlignLeft.test(l)?s.align.push("left"):s.align.push(null);for(let l=0;l<n.length;l++)s.header.push({text:n[l],tokens:this.lexer.inline(n[l]),header:!0,align:s.align[l]});for(const l of a)s.rows.push(AY(l,s.header.length).map((c,u)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:s.align[u]})));return s}}lheading(t){const r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){const r=this.rules.block.paragraph.exec(t);if(r){const n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){const r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(t){const r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){const r=this.rules.inline.link.exec(t);if(r){const n=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const s=hx(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{const s=lKe(r[2],"()");if(s>-1){const l=(r[0].indexOf("!")===0?5:4)+r[1].length+s;r[2]=r[2].substring(0,s),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let i=r[2],a="";if(this.options.pedantic){const s=this.rules.other.pedanticHrefTitle.exec(i);s&&(i=s[1],a=s[3])}else a=r[3]?r[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?i=i.slice(1):i=i.slice(1,-1)),jY(r,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){const i=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),a=r[i.toLowerCase()];if(!a){const s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return jY(n,a,n[0],this.lexer,this.rules)}}emStrong(t,r,n=""){let i=this.rules.inline.emStrongLDelim.exec(t);if(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(i[1]||i[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const s=[...i[0]].length-1;let o,l,c=s,u=0;const h=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,r=r.slice(-1*t.length+s);(i=h.exec(r))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(l=[...o].length,i[3]||i[4]){c+=l;continue}else if((i[5]||i[6])&&s%3&&!((s+l)%3)){u+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+u);const f=[...i[0]][0].length,p=t.slice(0,s+i.index+f+l);if(Math.min(s,l)%2){const v=p.slice(1,-1);return{type:"em",raw:p,text:v,tokens:this.lexer.inlineTokens(v)}}const g=p.slice(2,-2);return{type:"strong",raw:p,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(t){const r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(this.rules.other.newLineCharGlobal," ");const i=this.rules.other.nonSpaceChar.test(n),a=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return i&&a&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:r[0],text:n}}}br(t){const r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){const r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){const r=this.rules.inline.autolink.exec(t);if(r){let n,i;return r[2]==="@"?(n=r[1],i="mailto:"+n):(n=r[1],i=n),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let r;if(r=this.rules.inline.url.exec(t)){let i,a;if(r[2]==="@")i=r[0],a="mailto:"+i;else{let s;do s=r[0],r[0]=((n=this.rules.inline._backpedal.exec(r[0]))==null?void 0:n[0])??"";while(s!==r[0]);i=r[0],r[1]==="www."?a="http://"+r[0]:a=r[0]}return{type:"link",raw:r[0],text:i,href:a,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(t){const r=this.rules.inline.text.exec(t);if(r){const n=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:n}}}}class Eo{constructor(t){Tn(this,"tokens");Tn(this,"options");Tn(this,"state");Tn(this,"tokenizer");Tn(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||og,this.options.tokenizer=this.options.tokenizer||new JT,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={other:Ba,block:$C.normal,inline:dx.normal};this.options.pedantic?(r.block=$C.pedantic,r.inline=dx.pedantic):this.options.gfm&&(r.block=$C.gfm,this.options.breaks?r.inline=dx.breaks:r.inline=dx.gfm),this.tokenizer.rules=r}static get rules(){return{block:$C,inline:dx}}static lex(t,r){return new Eo(r).lex(t)}static lexInline(t,r){return new Eo(r).inlineTokens(t)}lex(t){t=t.replace(Ba.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){const n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){var i,a,s;for(this.options.pedantic&&(t=t.replace(Ba.tabCharGlobal,"    ").replace(Ba.spaceLine,""));t;){let o;if((a=(i=this.options.extensions)==null?void 0:i.block)!=null&&a.some(c=>(o=c.call({lexer:this},t,r))?(t=t.substring(o.raw.length),r.push(o),!0):!1))continue;if(o=this.tokenizer.space(t)){t=t.substring(o.raw.length);const c=r.at(-1);o.raw.length===1&&c!==void 0?c.raw+=`
`:r.push(o);continue}if(o=this.tokenizer.code(t)){t=t.substring(o.raw.length);const c=r.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+o.raw,c.text+=`
`+o.text,this.inlineQueue.at(-1).src=c.text):r.push(o);continue}if(o=this.tokenizer.fences(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.heading(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.hr(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.blockquote(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.list(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.html(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.def(t)){t=t.substring(o.raw.length);const c=r.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+o.raw,c.text+=`
`+o.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.lheading(t)){t=t.substring(o.raw.length),r.push(o);continue}let l=t;if((s=this.options.extensions)!=null&&s.startBlock){let c=1/0;const u=t.slice(1);let h;this.options.extensions.startBlock.forEach(f=>{h=f.call({lexer:this},u),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(l=t.substring(0,c+1))}if(this.state.top&&(o=this.tokenizer.paragraph(l))){const c=r.at(-1);n&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=`
`+o.raw,c.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):r.push(o),n=l.length!==t.length,t=t.substring(o.raw.length);continue}if(o=this.tokenizer.text(t)){t=t.substring(o.raw.length);const c=r.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=`
`+o.raw,c.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):r.push(o);continue}if(t){const c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){var o,l,c;let n=t,i=null;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)u.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let a=!1,s="";for(;t;){a||(s=""),a=!1;let u;if((l=(o=this.options.extensions)==null?void 0:o.inline)!=null&&l.some(f=>(u=f.call({lexer:this},t,r))?(t=t.substring(u.raw.length),r.push(u),!0):!1))continue;if(u=this.tokenizer.escape(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.tag(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.link(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(u.raw.length);const f=r.at(-1);u.type==="text"&&(f==null?void 0:f.type)==="text"?(f.raw+=u.raw,f.text+=u.text):r.push(u);continue}if(u=this.tokenizer.emStrong(t,n,s)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.codespan(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.br(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.del(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.autolink(t)){t=t.substring(u.raw.length),r.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(t))){t=t.substring(u.raw.length),r.push(u);continue}let h=t;if((c=this.options.extensions)!=null&&c.startInline){let f=1/0;const p=t.slice(1);let g;this.options.extensions.startInline.forEach(v=>{g=v.call({lexer:this},p),typeof g=="number"&&g>=0&&(f=Math.min(f,g))}),f<1/0&&f>=0&&(h=t.substring(0,f+1))}if(u=this.tokenizer.inlineText(h)){t=t.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(s=u.raw.slice(-1)),a=!0;const f=r.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=u.raw,f.text+=u.text):r.push(u);continue}if(t){const f="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return r}}class QT{constructor(t){Tn(this,"options");Tn(this,"parser");this.options=t||og}space(t){return""}code({text:t,lang:r,escaped:n}){var s;const i=(s=(r||"").match(Ba.notSpaceStart))==null?void 0:s[0],a=t.replace(Ba.endingNewline,"")+`
`;return i?'<pre><code class="language-'+Ul(i)+'">'+(n?a:Ul(a,!0))+`</code></pre>
`:"<pre><code>"+(n?a:Ul(a,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:r}){return`<h${r}>${this.parser.parseInline(t)}</h${r}>
`}hr(t){return`<hr>
`}list(t){const r=t.ordered,n=t.start;let i="";for(let o=0;o<t.items.length;o++){const l=t.items[o];i+=this.listitem(l)}const a=r?"ol":"ul",s=r&&n!==1?' start="'+n+'"':"";return"<"+a+s+`>
`+i+"</"+a+`>
`}listitem(t){var n;let r="";if(t.task){const i=this.checkbox({checked:!!t.checked});t.loose?((n=t.tokens[0])==null?void 0:n.type)==="paragraph"?(t.tokens[0].text=i+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=i+" "+Ul(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):r+=i+" "}return r+=this.parser.parse(t.tokens,!!t.loose),`<li>${r}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let r="",n="";for(let a=0;a<t.header.length;a++)n+=this.tablecell(t.header[a]);r+=this.tablerow({text:n});let i="";for(let a=0;a<t.rows.length;a++){const s=t.rows[a];n="";for(let o=0;o<s.length;o++)n+=this.tablecell(s[o]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+i+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){const r=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${Ul(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:r,tokens:n}){const i=this.parser.parseInline(n),a=NY(t);if(a===null)return i;t=a;let s='<a href="'+t+'"';return r&&(s+=' title="'+Ul(r)+'"'),s+=">"+i+"</a>",s}image({href:t,title:r,text:n}){const i=NY(t);if(i===null)return Ul(n);t=i;let a=`<img src="${t}" alt="${n}"`;return r&&(a+=` title="${Ul(r)}"`),a+=">",a}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:Ul(t.text)}}class qB{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}}class To{constructor(t){Tn(this,"options");Tn(this,"renderer");Tn(this,"textRenderer");this.options=t||og,this.options.renderer=this.options.renderer||new QT,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new qB}static parse(t,r){return new To(r).parse(t)}static parseInline(t,r){return new To(r).parseInline(t)}parse(t,r=!0){var i,a;let n="";for(let s=0;s<t.length;s++){const o=t[s];if((a=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&a[o.type]){const c=o,u=this.options.extensions.renderers[c.type].call({parser:this},c);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){n+=u||"";continue}}const l=o;switch(l.type){case"space":{n+=this.renderer.space(l);continue}case"hr":{n+=this.renderer.hr(l);continue}case"heading":{n+=this.renderer.heading(l);continue}case"code":{n+=this.renderer.code(l);continue}case"table":{n+=this.renderer.table(l);continue}case"blockquote":{n+=this.renderer.blockquote(l);continue}case"list":{n+=this.renderer.list(l);continue}case"html":{n+=this.renderer.html(l);continue}case"paragraph":{n+=this.renderer.paragraph(l);continue}case"text":{let c=l,u=this.renderer.text(c);for(;s+1<t.length&&t[s+1].type==="text";)c=t[++s],u+=`
`+this.renderer.text(c);r?n+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):n+=u;continue}default:{const c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return n}parseInline(t,r=this.renderer){var i,a;let n="";for(let s=0;s<t.length;s++){const o=t[s];if((a=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&a[o.type]){const c=this.options.extensions.renderers[o.type].call({parser:this},o);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=c||"";continue}}const l=o;switch(l.type){case"escape":{n+=r.text(l);break}case"html":{n+=r.html(l);break}case"link":{n+=r.link(l);break}case"image":{n+=r.image(l);break}case"strong":{n+=r.strong(l);break}case"em":{n+=r.em(l);break}case"codespan":{n+=r.codespan(l);break}case"br":{n+=r.br(l);break}case"del":{n+=r.del(l);break}case"text":{n+=r.text(l);break}default:{const c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return n}}class D_{constructor(t){Tn(this,"options");Tn(this,"block");this.options=t||og}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?Eo.lex:Eo.lexInline}provideParser(){return this.block?To.parse:To.parseInline}}Tn(D_,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class uKe{constructor(...t){Tn(this,"defaults",BB());Tn(this,"options",this.setOptions);Tn(this,"parse",this.parseMarkdown(!0));Tn(this,"parseInline",this.parseMarkdown(!1));Tn(this,"Parser",To);Tn(this,"Renderer",QT);Tn(this,"TextRenderer",qB);Tn(this,"Lexer",Eo);Tn(this,"Tokenizer",JT);Tn(this,"Hooks",D_);this.use(...t)}walkTokens(t,r){var i,a;let n=[];for(const s of t)switch(n=n.concat(r.call(this,s)),s.type){case"table":{const o=s;for(const l of o.header)n=n.concat(this.walkTokens(l.tokens,r));for(const l of o.rows)for(const c of l)n=n.concat(this.walkTokens(c.tokens,r));break}case"list":{const o=s;n=n.concat(this.walkTokens(o.items,r));break}default:{const o=s;(a=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&a[o.type]?this.defaults.extensions.childTokens[o.type].forEach(l=>{const c=o[l].flat(1/0);n=n.concat(this.walkTokens(c,r))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,r)))}}return n}use(...t){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const s=r.renderers[a.name];s?r.renderers[a.name]=function(...o){let l=a.renderer.apply(this,o);return l===!1&&(l=s.apply(this,o)),l}:r.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=r[a.level];s?s.unshift(a.tokenizer):r[a.level]=[a.tokenizer],a.start&&(a.level==="block"?r.startBlock?r.startBlock.push(a.start):r.startBlock=[a.start]:a.level==="inline"&&(r.startInline?r.startInline.push(a.start):r.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(r.childTokens[a.name]=a.childTokens)}),i.extensions=r),n.renderer){const a=this.defaults.renderer||new QT(this.defaults);for(const s in n.renderer){if(!(s in a))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;const o=s,l=n.renderer[o],c=a[o];a[o]=(...u)=>{let h=l.apply(a,u);return h===!1&&(h=c.apply(a,u)),h||""}}i.renderer=a}if(n.tokenizer){const a=this.defaults.tokenizer||new JT(this.defaults);for(const s in n.tokenizer){if(!(s in a))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const o=s,l=n.tokenizer[o],c=a[o];a[o]=(...u)=>{let h=l.apply(a,u);return h===!1&&(h=c.apply(a,u)),h}}i.tokenizer=a}if(n.hooks){const a=this.defaults.hooks||new D_;for(const s in n.hooks){if(!(s in a))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;const o=s,l=n.hooks[o],c=a[o];D_.passThroughHooks.has(s)?a[o]=u=>{if(this.defaults.async)return Promise.resolve(l.call(a,u)).then(f=>c.call(a,f));const h=l.call(a,u);return c.call(a,h)}:a[o]=(...u)=>{let h=l.apply(a,u);return h===!1&&(h=c.apply(a,u)),h}}i.hooks=a}if(n.walkTokens){const a=this.defaults.walkTokens,s=n.walkTokens;i.walkTokens=function(o){let l=[];return l.push(s.call(this,o)),a&&(l=l.concat(a.call(this,o))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return Eo.lex(t,r??this.defaults)}parser(t,r){return To.parse(t,r??this.defaults)}parseMarkdown(t){return(n,i)=>{const a={...i},s={...this.defaults,...a},o=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&a.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=t);const l=s.hooks?s.hooks.provideLexer():t?Eo.lex:Eo.lexInline,c=s.hooks?s.hooks.provideParser():t?To.parse:To.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(n):n).then(u=>l(u,s)).then(u=>s.hooks?s.hooks.processAllTokens(u):u).then(u=>s.walkTokens?Promise.all(this.walkTokens(u,s.walkTokens)).then(()=>u):u).then(u=>c(u,s)).then(u=>s.hooks?s.hooks.postprocess(u):u).catch(o);try{s.hooks&&(n=s.hooks.preprocess(n));let u=l(n,s);s.hooks&&(u=s.hooks.processAllTokens(u)),s.walkTokens&&this.walkTokens(u,s.walkTokens);let h=c(u,s);return s.hooks&&(h=s.hooks.postprocess(h)),h}catch(u){return o(u)}}}onError(t,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const i="<p>An error occurred:</p><pre>"+Ul(n.message+"",!0)+"</pre>";return r?Promise.resolve(i):i}if(r)return Promise.reject(n);throw n}}}const $p=new uKe;function vn(e,t){return $p.parse(e,t)}vn.options=vn.setOptions=function(e){return $p.setOptions(e),vn.defaults=$p.defaults,vde(vn.defaults),vn};vn.getDefaults=BB;vn.defaults=og;vn.use=function(...e){return $p.use(...e),vn.defaults=$p.defaults,vde(vn.defaults),vn};vn.walkTokens=function(e,t){return $p.walkTokens(e,t)};vn.parseInline=$p.parseInline;vn.Parser=To;vn.parser=To.parse;vn.Renderer=QT;vn.TextRenderer=qB;vn.Lexer=Eo;vn.lexer=Eo.lex;vn.Tokenizer=JT;vn.Hooks=D_;vn.parse=vn;vn.options;vn.setOptions;vn.use;vn.walkTokens;vn.parseInline;To.parse;Eo.lex;const RY={parse:e=>{try{return vn.parse(e)}catch(t){return console.error("Markdown解析错误:",t),`<p>Markdown解析错误: ${t instanceof Error?t.message:String(t)}</p>`}}},dKe=()=>{const[e,t]=A.useState({nodes:[],links:[]}),[r,n]=A.useState([]),[i,a]=A.useState(null),[s,o]=A.useState(null),[l,c]=A.useState(null),[u,h]=A.useState([]),[f,p]=A.useState([]),[g,v]=A.useState(!0),[m,y]=A.useState(null),[x,_]=A.useState("topology"),[b,w]=A.useState(null),[S,k]=A.useState(()=>localStorage.getItem("lldp_enabled")!=="false"),[C,E]=A.useState(null),[T,N]=A.useState(!1),I=A.useRef(null),[P,D]=A.useState({showClient:!0,showTor:!0,showLeaf:!0,showSpine:!0}),[$,L]=A.useState(localStorage.getItem("datasource_prometheus_enabled")!=="false"),[O,j]=A.useState(""),[M,R]=A.useState(null),[z,U]=A.useState(!1),[F,G]=A.useState(null);A.useEffect(()=>{(async()=>{try{const ne=await kYe();ne&&(console.log("加载保存的网络状态:",ne),ne.selectedDevice!==void 0&&o(ne.selectedDevice),ne.selectedPod!==void 0&&a(ne.selectedPod),ne.activeTab&&_(ne.activeTab),ne.viewMode&&D(ne.viewMode),ne.lldpEnabled!==void 0&&(k(ne.lldpEnabled),localStorage.setItem("lldp_enabled",ne.lldpEnabled.toString())))}catch(ne){console.error("加载保存的状态出错:",ne)}})()},[]),A.useEffect(()=>{if(g)return;const ne=setTimeout(async()=>{const le={selectedDevice:s,selectedPod:i,activeTab:x,viewMode:P,lldpEnabled:S};console.log("保存网络状态:",le);try{await CYe(le)||BO(le)}catch(Re){console.error("保存状态出错:",Re),BO(le)}},1e3);return()=>clearTimeout(ne)},[s,i,x,P,S,g]);const q=J=>{_(J)},K=J=>{D(J)},B=async J=>{let ne=0;const le=3;if(!(localStorage.getItem("datasource_prometheus_enabled")!=="false"))return console.log("Prometheus数据源已禁用，跳过查询"),w("Prometheus数据源已禁用，正在使用模拟数据"),[];const ze=localStorage.getItem("datasource_prometheus")||"";if(!ze&&!window.location.origin.includes("localhost"))return y("Prometheus URL未配置，请先在数据源配置页面设置Prometheus地址"),[];const Te=J.trim();if(!Te)return console.error("查询参数为空，无法执行"),y("查询参数无效: 为空"),[];const Dt=Te.includes("job=")?"job查询":Te.includes("interface")?"接口状态查询":"其他类型查询";for(console.log(`查询类型: ${Dt}`);ne<=le;){let It="",gr=!1;try{if(console.log(`正在从Prometheus获取数据，查询: ${Te} (尝试 ${ne+1}/${le+1})`),console.log(`当前应用端口: ${window.location.port}`),ze)if(!ze.startsWith(window.location.origin)&&ne>0)gr=!0,It=`${window.location.origin}/prometheus/api/v1/query`,console.log(`切换到代理请求URL: ${It} (重试 ${ne})`);else{let it=ze.trim();!it.startsWith("http://")&&!it.startsWith("https://")&&(it=`http://${it}`,console.log(`URL格式不完整，已自动添加协议: ${it}`)),It=it.endsWith("/")?`${it}api/v1/query`:`${it}/api/v1/query`,console.log(`使用配置的Prometheus URL: ${It}`)}else gr=!0,It=`${window.location.origin}/prometheus/api/v1/query`,console.log(`使用代理请求URL: ${It}`);console.log(`查询参数: query=${encodeURIComponent(Te)}`);const Mt=new Date().getTime(),qt={method:"get",url:It,params:{query:Te,time:Mt},timeout:15e3,headers:{Accept:"application/json","Cache-Control":"no-cache"}};gr&&(qt.withCredentials=!1),console.log(`开始发送请求到: ${It}，参数: query=${Te}`);const on=await $t(qt);if(console.log("Prometheus响应状态:",on.status),console.log("Prometheus响应数据类型:",typeof on.data),on.status===200)if(on.data&&on.data.status==="success"){const Di=on.data.data.result?on.data.data.result.length:0;return console.log(`成功从Prometheus获取数据, 返回${Di}条记录`),y(null),Di===0&&(console.warn(`查询 ${Dt}(${Te}) 未返回任何结果`),(Te.includes('job="prometheus"')||Te.includes('job="gnmic"'))&&console.warn("关键的job查询未返回结果，这可能表明Prometheus中没有这些指标")),on.data.data.result||[]}else{console.error("Prometheus响应成功但数据格式不正确:",on.data);const Di=on.data&&on.data.error?`Prometheus错误: ${on.data.error}`:`格式错误: ${JSON.stringify(on.data).substring(0,100)}`;throw new Error(Di)}throw console.error("Prometheus返回非200状态:",on.status,on.statusText),new Error(`Prometheus返回错误状态码: ${on.status}`)}catch(Mt){ne++,console.error(`从Prometheus获取数据失败 (尝试 ${ne}/${le+1})，详细错误:`,Mt);let qt="未知错误",on=!1;if($t.isAxiosError(Mt))if(Mt.code==="ECONNABORTED"){if(qt="请求超时，Prometheus服务器响应过慢",ne<=le){console.log(`请求超时，${1e3*ne}ms后重试...`),await new Promise(it=>setTimeout(it,1e3*ne));continue}}else if(Mt.code==="ERR_NETWORK"){if(qt=`网络错误，可能是CORS限制或Prometheus服务器地址(${ze})无法直接访问`,ne<=le){console.log(`网络错误，${1e3*ne}ms后通过代理重试...`),await new Promise(it=>setTimeout(it,1e3*ne));continue}}else if(Mt.response){const it=Mt.response.status;if(it===500){if(qt="服务器内部错误 (500)",Mt.response.data&&(typeof Mt.response.data=="string"?qt+=`: ${Mt.response.data.substring(0,100)}`:Mt.response.data.error&&(qt+=`: ${Mt.response.data.error}`)),Te.includes("=")&&!Te.includes('"')&&!Te.includes("'")){console.log("检测到可能的查询语法问题，尝试修复查询...");const oe=Te.replace(/([a-zA-Z0-9_]+)=([a-zA-Z0-9_]+)/g,'$1="$2"');if(oe!==Te){console.log(`原始查询: ${Te}`),console.log(`修复后的查询: ${oe}`);try{const be={method:"get",url:It,params:{query:oe,time:new Date().getTime()},timeout:15e3,headers:{Accept:"application/json","Cache-Control":"no-cache"}};gr&&(be.withCredentials=!1);const Ye=await $t(be);if(Ye.status===200&&Ye.data&&Ye.data.status==="success")return console.log("✅ 使用修复后的查询成功获取数据!"),y(null),Ye.data.data.result||[]}catch(be){console.error("修复查询后仍然失败:",be)}}}if(ne<=le&&Te.includes('job="gnmic"')){console.log("尝试切换为prometheus作为job名...");const oe=Te.replace('job="gnmic"','job="prometheus"');try{const be={method:"get",url:It,params:{query:oe,time:new Date().getTime()},timeout:15e3,headers:{Accept:"application/json","Cache-Control":"no-cache"}};gr&&(be.withCredentials=!1);const Ye=await $t(be);if(Ye.status===200&&Ye.data&&Ye.data.status==="success")return console.log("✅ 使用新job名成功获取数据!"),y(null),Ye.data.data.result||[]}catch(be){console.error("切换job名后仍然失败:",be)}}}else it===400?(qt="请求错误 (400): 可能是查询语法有误",Mt.response.data&&Mt.response.data.error&&(qt+=` - ${Mt.response.data.error}`)):it===404?(qt="API端点未找到 (404): 请检查URL是否正确",on=!0):qt=`服务器错误: ${it} ${Mt.response.statusText}`}else if(Mt.request){if(qt="没有收到Prometheus响应，请检查网络连接",ne<=le){console.log(`请求未得到响应，${1e3*ne}ms后通过代理重试...`),await new Promise(it=>setTimeout(it,1e3*ne));continue}}else qt=`请求错误: ${Mt.message}`;else Mt instanceof Error&&(qt=Mt.message);if(on&&ne<=le){console.log("错误类型需要立即重试...");continue}const Di=$t.isAxiosError(Mt)&&(Mt.code==="ECONNABORTED"||Mt.code==="ERR_NETWORK"||!Mt.response);if(ne>le||!Di&&!on){if(ze){let it="";qt.includes("500")?it=`请尝试以下解决方案:
              1. 检查Prometheus服务是否正常运行
              2. 在浏览器直接访问 ${ze} 验证服务是否响应
              3. 查看服务器日志检查错误原因
              4. 确认查询语法 '${Te}' 是否正确
              5. 尝试修改数据源配置URL，确保不包含错误的路径前缀`:(qt.includes("CORS")||qt.includes("网络错误"))&&(it=`请确认Prometheus服务器已配置允许跨域请求:
              在Prometheus配置文件中添加以下内容:
              --web.cors.origin=".*" --web.enable-cors 
              或者在您的代理服务器中添加适当的CORS头`),y(`无法从Prometheus获取数据 (${Dt}): ${qt}
                     ${it}`)}else y(`无法从Prometheus获取数据: ${qt}。请在数据源配置页面设置正确的Prometheus地址`);return[]}}}return[]},W=()=>{const J=!S;k(J),localStorage.setItem("lldp_enabled",J.toString()),J?re():C?Z(C):t(Ae())},Y=J=>{var le;const ne=(le=J.target.files)==null?void 0:le[0];ne&&(E(ne),Z(ne))},Z=async J=>{N(!0),w("正在解析YAML文件...");try{const ne=await Q(J),le=iVe.load(ne);if(le&&le.topology){const{nodes:Re,links:ze}=le.topology;if(Array.isArray(Re)&&Array.isArray(ze)){const Te=Re.map(It=>({id:It.id||`node-${Math.random().toString(36).substr(2,9)}`,name:It.name||It.id||"Unknown",type:It.type||"client",status:It.status||"up",ip:It.ip})),Dt=ze.map(It=>({source:It.source,target:It.target,status:It.status||"up",bandwidth:It.bandwidth||"1G",utilization:typeof It.utilization=="number"?It.utilization:.1}));t({nodes:Te,links:Dt}),w(`YAML文件解析成功：${Te.length}个节点，${Dt.length}条链路`),y(null)}else throw new Error("YAML文件中缺少有效的nodes或links数组")}else throw new Error("无效的YAML格式，缺少topology对象")}catch(ne){console.error("YAML处理错误:",ne),y(`YAML文件解析失败: ${ne instanceof Error?ne.message:"未知错误"}`)}finally{N(!1)}},Q=J=>new Promise((ne,le)=>{const Re=new FileReader;Re.onload=ze=>{var Te;ne((Te=ze.target)==null?void 0:Te.result)},Re.onerror=ze=>{le(new Error("文件读取失败"))},Re.readAsText(J)}),re=async()=>{v(!0),y(null);try{if(!(localStorage.getItem("datasource_prometheus_enabled")!=="false")){console.log("Prometheus数据源已禁用，使用模拟数据"),t(Ae()),w("使用模拟数据（Prometheus数据源已禁用）"),v(!1);return}if(!localStorage.getItem("datasource_prometheus")&&!window.location.origin.includes("localhost")){y('Prometheus地址未配置，请先前往"数据源配置"页面设置Prometheus地址'),v(!1);return}const le=Ae();t(le),w("已成功获取拓扑数据")}catch(J){console.error("获取拓扑数据失败:",J),y(`获取拓扑数据失败: ${J instanceof Error?J.message:"未知错误"}`),t(Ae())}finally{v(!1)}};A.useEffect(()=>{if(!s||!e)return;const J=setTimeout(()=>{(async()=>{c(null),h([]),p([]);try{const le=e.nodes.find(Dt=>Dt.id===s);if(!le){y(`未找到ID为${s}的设备`),v(!1);return}console.log(`获取设备 ${le.name} 的详细信息`),w(`正在获取设备 ${le.name} 的详细信息...`);const Re=Ie(le);c(Re);const ze=bt(Re);h(ze);const Te=pt(Re);p(Te);try{if(!(localStorage.getItem("datasource_prometheus_enabled")!=="false")){console.log("Prometheus数据源已禁用，跳过后台数据获取");return}const It=`{target="${le.name}"}`;console.log(`后台查询接口信息: ${It}`),fetch(`${window.location.origin}/prometheus/api/v1/query?query=${encodeURIComponent(It)}&time=${new Date().getTime()}`).then(gr=>gr.json()).then(gr=>{var Mt;if((gr==null?void 0:gr.status)==="success"){const qt=((Mt=gr==null?void 0:gr.data)==null?void 0:Mt.result)||[];console.log(`获取到设备 ${le.name} 的接口数据: ${qt.length}条`),qt.length>0&&w(`成功获取设备 ${le.name} 的实时接口数据`)}}).catch(gr=>{console.log(`后台数据获取错误: ${gr.message}`)})}catch(Dt){console.error("后台API请求错误:",Dt)}w(`已加载设备 ${le.name} 的信息`)}catch(le){console.error(`获取设备${s}详情失败:`,le),y(`error for fetch device details: ${le instanceof Error?le.message:"未知错误"}`);const Re=e.nodes.find(ze=>ze.id===s);if(Re){const ze=Ie(Re);c(ze);const Te=bt(ze);h(Te);const Dt=pt(ze);p(Dt),w(`使用备选模拟数据 (${le instanceof Error?le.message:"未知错误"})`)}}finally{v(!1)}})()},10);return()=>{clearTimeout(J)}},[s,e]);const me=J=>{if(f.length){if(J==="csv"){const le=[["设备名","端口","方向","速率","利用率","状态"].join(","),...f.map(Dt=>[Dt.deviceName,Dt.portName,Dt.direction==="in"?"接收":Dt.direction==="out"?"发送":"双向",`${kp(Dt.bytesPerSecond)}/s`,`${(Dt.utilization*100).toFixed(2)}%`,Dt.isAbnormal?"异常":"正常"].join(","))].join(`
`),Re=new Blob([le],{type:"text/csv;charset=utf-8;"}),ze=URL.createObjectURL(Re),Te=document.createElement("a");Te.href=ze,Te.setAttribute("download",`端口利用率_${new Date().toISOString()}.csv`),document.body.appendChild(Te),Te.click(),document.body.removeChild(Te)}else if(J==="excel"){const le=[["设备名","端口","方向","速率","利用率","状态"].join(","),...f.map(Dt=>[Dt.deviceName,Dt.portName,Dt.direction==="in"?"接收":Dt.direction==="out"?"发送":"双向",`${kp(Dt.bytesPerSecond)}/s`,`${(Dt.utilization*100).toFixed(2)}%`,Dt.isAbnormal?"异常":"正常"].join(","))].join(`
`),Re=new Blob([le],{type:"application/vnd.ms-excel"}),ze=URL.createObjectURL(Re),Te=document.createElement("a");Te.href=ze,Te.setAttribute("download",`端口利用率_${new Date().toISOString()}.xls`),document.body.appendChild(Te),Te.click(),document.body.removeChild(Te)}}},Ee=(J,ne)=>{if(l&&J===l.id){const le=new FileReader;le.onload=Re=>{var Te;const ze=(Te=Re.target)==null?void 0:Te.result;c({...l,panelImage:ze})},le.readAsDataURL(ne)}},Ne=(J,ne)=>{l&&J===l.id&&c({...l,ports:ne})},Me=J=>{const ne=u.find(le=>le.id===J);console.log("Port clicked:",ne)},Ae=()=>({nodes:[{id:"spine1",name:"spine1",type:"spine",status:"up",ip:"192.168.14.101"},{id:"spine2",name:"spine2",type:"spine",status:"up",ip:"192.168.14.102"},{id:"leaf1",name:"leaf1",type:"leaf",status:"up",ip:"192.168.14.111"},{id:"leaf2",name:"leaf2",type:"leaf",status:"up",ip:"192.168.14.112"},{id:"leaf3",name:"leaf3",type:"leaf",status:"up",ip:"192.168.14.113"},{id:"tor1",name:"tor1",type:"tor",status:"up",ip:"192.168.14.121"},{id:"tor2",name:"tor2",type:"tor",status:"up",ip:"192.168.14.122"},{id:"tor3",name:"tor3",type:"tor",status:"up",ip:"192.168.14.123"},{id:"nic1",name:"NIC Card 1",type:"client",status:"up",ip:"192.168.14.131"},{id:"nic2",name:"NIC Card 2",type:"client",status:"up",ip:"192.168.14.132"},{id:"nic3",name:"NIC Card 3",type:"client",status:"up",ip:"192.168.14.133"}],links:[{source:"spine1",target:"leaf1",status:"up",bandwidth:"100G",utilization:.35},{source:"spine1",target:"leaf2",status:"up",bandwidth:"100G",utilization:.42},{source:"spine1",target:"leaf3",status:"up",bandwidth:"100G",utilization:.28},{source:"spine2",target:"leaf1",status:"up",bandwidth:"100G",utilization:.22},{source:"spine2",target:"leaf2",status:"up",bandwidth:"100G",utilization:.18},{source:"spine2",target:"leaf3",status:"up",bandwidth:"100G",utilization:.31},{source:"leaf1",target:"tor1",status:"up",bandwidth:"40G",utilization:.65},{source:"leaf2",target:"tor2",status:"up",bandwidth:"40G",utilization:.58},{source:"leaf3",target:"tor3",status:"up",bandwidth:"40G",utilization:.42},{source:"tor1",target:"nic1",status:"up",bandwidth:"10G",utilization:.75},{source:"tor2",target:"nic2",status:"up",bandwidth:"10G",utilization:.82},{source:"tor3",target:"nic3",status:"up",bandwidth:"10G",utilization:.45}]}),Ie=J=>{let ne=[],le=0,Re="";switch(J.type){case"spine":le=32,Re="100G";break;case"leaf":le=24,Re="40G";break;case"tor":le=16,Re="25G";break;case"client":le=4,Re="10G";break}for(let ze=1;ze<=le;ze++){const Te=`Eth${ze}`;ne.push({id:`${J.id}-port-${ze}`,name:Te,x:ze%24*4+2,y:ze<=24?20:60,width:3,height:10,status:Math.random()>.9?"down":Math.random()>.8?"warning":"up",speed:Re})}return{id:J.id,name:J.name,type:J.type,status:J.status,ipAddress:J.ip||`192.168.14.${100+Math.floor(Math.random()*100)}`,model:`${J.type.toUpperCase()}-Nokia-SRL`,manufacturer:"Nokia",serialNumber:`SN-${J.name}-${Math.floor(Math.random()*1e4)}`,softwareVersion:"23.3.1",uptime:`${Math.floor(Math.random()*365)+1}天`,location:"数据中心A区",ports:ne}},bt=J=>J.ports.map(ne=>{const le=ne.status==="up",Re=le?Math.random()*1e9:0,ze=le?Math.random()*70:void 0,Te=le?-8.4+Math.random()*10.8:void 0,Dt=le?-10+Math.random()*12.4:void 0,It=le?3+Math.random()*.5:void 0,gr=le?5+Math.random()*45:void 0;return{id:ne.id,name:ne.name,status:ne.status,speed:ne.speed||(J.type==="spine"?"100G":J.type==="leaf"?"40G":J.type==="tor"?"25G":"10G"),inOctets:Re*(.8+Math.random()*.4),outOctets:Re*(.7+Math.random()*.5),mtu:1500,inDiscards:le?Math.floor(Math.random()*10):0,outDiscards:le?Math.floor(Math.random()*8):0,inErrors:le?Math.floor(Math.random()*5):0,outErrors:le?Math.floor(Math.random()*3):0,vendor:le?["Cisco","Intel","Broadcom","Mellanox"][Math.floor(Math.random()*4)]:void 0,serialNumber:le?`SN-${Math.floor(Math.random()*1e7)}`:void 0,temperature:ze,voltage:It,current:gr,txPower:Te,rxPower:Dt,fcsErrors:le?Math.floor(Math.random()*3):0,flapCount:le?Math.floor(Math.random()*2):0}}),pt=J=>J.ports.map(ne=>{const le=ne.speed||(J.type==="spine"?"100G":J.type==="leaf"?"40G":J.type==="tor"?"25G":"10G"),Re=fe(le);let ze=0;ne.status==="up"&&(Math.random()<.1?ze=.8+Math.random()*.2:ze=Math.random()*.5);const Te=Re?Re/8*ze:0,Dt=ze>.8&&J.ports.some(It=>It.id!==ne.id&&It.status==="up"&&Math.random()<.7);return{portId:ne.id,portName:ne.name,deviceName:J.name,direction:Math.random()>.7?"both":Math.random()>.5?"in":"out",speed:le,bytesPerSecond:Te,utilization:ze,isAbnormal:Dt}}),fe=J=>{try{const ne=J.match(/(\d+)([GMK])(?:bps)?/i);if(!ne)return null;const le=parseInt(ne[1],10);switch(ne[2].toUpperCase()){case"G":return le*1e3*1e3*1e3;case"M":return le*1e3*1e3;case"K":return le*1e3;default:return null}}catch{return null}},et=J=>{console.log("Node double-clicked in NetworkTelemetry:",J),v(!0),o(J.id),_("device"),console.log("Setting active tab to 'device' immediately after double-click"),setTimeout(()=>{const ne=document.querySelector('[value="device"]');ne&&(ne.click(),console.log("Forced device tab click")),setTimeout(()=>{v(!1)},300)},10)},He=J=>{console.log("Node clicked in NetworkTelemetry:",J),o(J.id),(J.type==="spine"||J.type==="leaf"||J.type==="tor"||J.type==="client")&&(v(!0),_("device"),console.log(`Auto switching to device tab for ${J.type} node`),setTimeout(()=>{const ne=document.querySelector('[value="device"]');ne&&ne.click(),setTimeout(()=>{v(!1)},300)},10))};A.useEffect(()=>{const J=ne=>{const{source:le,enabled:Re}=ne.detail;le==="prometheus"&&(console.log(`数据源状态变更: Prometheus ${Re?"启用":"禁用"}`),L(Re),Re?re():(t(Ae()),w("数据源已禁用，切换到模拟数据")))};return window.addEventListener("datasource-change",J),()=>{window.removeEventListener("datasource-change",J)}},[]),A.useEffect(()=>{const J=localStorage.getItem("datasource_prometheus_enabled")!=="false";L(J),(async()=>{if(!S){if(C)return;t(Ae()),v(!1);return}await re()})();let le=null;return S&&J&&(le=setInterval(()=>{re()},6e4)),()=>{le&&clearInterval(le)}},[S,C,$]);const Gt=()=>{if(!O.trim()||!e.nodes.length)return;console.log("搜索IP:",O.trim()),console.log("可用节点:",e.nodes.map(ne=>({id:ne.id,name:ne.name,ip:ne.ip})));const J=e.nodes.find(ne=>ne.ip===O.trim());J?(console.log("找到匹配节点:",J),R(J.id),y(null),o(J.id),w(`找到匹配IP地址的设备: ${J.name} (${J.id})`),console.log(x==="topology"?"在拓扑视图中高亮显示节点:":"在当前视图中显示设备信息:",J.id),console.log(`找到匹配IP地址的节点: ${J.name} (${J.id})`)):(R(null),y(`未找到IP地址为 ${O} 的设备`),console.log(`未找到IP地址为 ${O} 的设备，可用IP: ${e.nodes.map(ne=>ne.ip).join(", ")}`),setTimeout(()=>{y(null)},3e3))},tt=J=>{J.key==="Enter"&&Gt()},ee=()=>{j(""),R(null),y(null),w("已清除搜索结果，恢复初始状态"),console.log("已清除搜索状态"),setTimeout(()=>{w(null)},3e3)},se=async J=>{console.log("打开OlaOla配置助手:",J),U(!0),G(J),o(J.id);try{await(await wu(async()=>{const{default:Re}=await import("./olaOlaService-D56M5Sf2.js");return{default:Re}},[])).default.initializeSession(J),w(`已为设备 ${J.name} 打开OlaOla配置助手`);const le=new CustomEvent("open-olaola",{detail:{device:J}});window.dispatchEvent(le)}catch(ne){console.error("无法打开OlaOla配置助手:",ne),y(`无法为设备 ${J.name} 打开OlaOla助手`)}};return A.useEffect(()=>{const J=mde();if(J&&J.isVisible&&J.device){const ne=J.device;ne.status||(ne.status="up"),G(ne),U(!0)}},[]),d.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"网络遥测 - 数据中心拓扑"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:s&&d.jsx($Ue,{deviceId:s,onPanelImageUpload:Ee,onHotspotsUpload:Ne})})]}),d.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"font-medium",children:"LLDP数据获取:"}),d.jsx("button",{onClick:W,className:"flex items-center text-blue-600 hover:text-blue-800",children:S?d.jsxs(d.Fragment,{children:[d.jsx(Mx,{className:"w-6 h-6 text-green-500"}),d.jsx("span",{className:"ml-1 text-green-500 font-medium",children:"已启用"})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ix,{className:"w-6 h-6 text-gray-400"}),d.jsx("span",{className:"ml-1 text-gray-500 font-medium",children:"已禁用"})]})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(sL,{className:"w-4 h-4 text-blue-500 mr-1"}),d.jsx("span",{className:"text-sm text-gray-600",children:S?"通过Prometheus获取LLDP信息生成拓扑":"使用YAML文件导入拓扑数据"})]})]}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 mb-4",children:[d.jsx("div",{className:"flex-grow w-full md:w-auto",children:d.jsx($8e,{pods:r,selectedPod:i,onPodChange:a,viewMode:P,onViewModeChange:K,showPodSelection:!1})}),d.jsx("div",{className:"flex items-center bg-white shadow-sm rounded-lg p-3 w-full md:w-auto",children:d.jsxs("div",{className:"flex w-full",children:[d.jsx("input",{type:"text",value:O,onChange:J=>j(J.target.value),onKeyDown:tt,placeholder:"输入设备管理IP进行搜索",className:"px-3 py-2 border border-gray-300 rounded-l-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent flex-grow"}),d.jsx("button",{onClick:Gt,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium transition-colors",children:"搜索"}),d.jsx("button",{onClick:ee,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-r-md text-sm font-medium transition-colors border-y border-r border-gray-300",title:"清除搜索并恢复初始状态",children:"清除"})]})})]}),!S&&d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"file",accept:".yaml,.yml",onChange:Y,ref:I,className:"hidden"}),d.jsxs("button",{onClick:()=>{var J;return(J=I.current)==null?void 0:J.click()},className:`flex items-center px-4 py-2 rounded-md ${T?"bg-gray-300":"bg-blue-600 hover:bg-blue-700"} text-white transition-colors`,disabled:T,children:[d.jsx(jee,{className:"w-4 h-4 mr-2"}),C?"重新上传YAML":"上传YAML文件"]}),C&&d.jsxs("span",{className:"text-sm text-green-600",children:["已导入: ",C.name]})]})]})}),!$&&d.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),d.jsx("div",{className:"ml-3",children:d.jsxs("p",{className:"text-sm text-blue-700",children:["Prometheus数据源当前已禁用，正在使用模拟数据。您可以在",d.jsx("a",{href:"/datasource-config",className:"font-medium underline",children:"数据源配置"}),"中启用它。"]})})]})}),m&&d.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),d.jsx("div",{className:"ml-3",children:d.jsx("p",{className:"text-sm text-yellow-700",children:m})})]})}),!m&&!g&&d.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 mb-6",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3 flex justify-between w-full",children:[d.jsxs("p",{className:"text-sm text-green-700",children:["数据加载成功，当前使用的是",S?"通过LLDP获取的实时数据":C?"YAML导入的拓扑数据":"模拟数据",b&&d.jsxs("span",{className:"ml-2 text-blue-500",children:["[",b,"]"]})]}),d.jsxs("div",{className:"text-xs text-gray-500",children:["端口: ",window.location.port||"未知"," | 上次更新: ",new Date().toLocaleTimeString()]})]})]})}),g&&d.jsx("div",{className:"flex justify-center items-center p-12",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}),!g&&d.jsxs(u0,{value:x,onValueChange:q,className:"w-full",children:[d.jsx("div",{className:"relative overflow-hidden mb-4",children:d.jsxs(d0,{className:"flex overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:[d.jsxs(qr,{value:"topology",className:"flex items-center gap-1 whitespace-nowrap",children:[d.jsx(ds,{size:16,className:"hidden sm:inline"}),d.jsx("span",{children:"拓扑视图"})]}),d.jsxs(qr,{value:"device",className:"flex items-center gap-1 whitespace-nowrap",children:[d.jsx(g_,{size:16,className:"hidden sm:inline"}),d.jsx("span",{children:"设备面板"})]}),d.jsxs(qr,{value:"bandwidth",className:"flex items-center gap-1 whitespace-nowrap",children:[d.jsx(Cee,{size:16,className:"hidden sm:inline"}),d.jsx("span",{children:"带宽分析"})]}),d.jsxs(qr,{value:"system",className:"flex items-center gap-1 whitespace-nowrap",children:[d.jsx(F5,{size:16,className:"hidden sm:inline"}),d.jsx("span",{children:"系统性能"})]}),d.jsxs(qr,{value:"bgp",className:"flex items-center gap-1 whitespace-nowrap",children:[d.jsx(wv,{size:16,className:"hidden sm:inline"}),d.jsx("span",{children:"BGP状态"})]}),d.jsxs(qr,{value:"routes",className:"flex items-center gap-1 whitespace-nowrap",children:[d.jsx(lm,{size:16,className:"hidden sm:inline"}),d.jsx("span",{children:"路由表"})]}),d.jsxs(qr,{value:"bridge",className:"flex items-center gap-1 whitespace-nowrap",children:[d.jsx(ds,{size:16,className:"hidden sm:inline"}),d.jsx("span",{children:"二层转发"})]}),d.jsxs(qr,{value:"vrf",className:"flex items-center gap-1 whitespace-nowrap",children:[d.jsx(wv,{size:16,className:"hidden sm:inline"}),d.jsx("span",{children:"VRF状态"})]}),d.jsxs(qr,{value:"process",className:"flex items-center gap-1 whitespace-nowrap",children:[d.jsx(fo,{size:16,className:"hidden sm:inline"}),d.jsx("span",{children:"系统进程"})]}),d.jsxs(qr,{value:"logs",className:"flex items-center gap-1 whitespace-nowrap",children:[d.jsx(fo,{size:16,className:"hidden sm:inline"}),d.jsx("span",{children:"设备日志"})]})]})}),d.jsx(Yr,{value:"topology",className:"h-[calc(100vh-400px)] min-h-[400px] flex flex-col",children:d.jsx("div",{className:"flex-grow",children:d.jsx(Dke,{data:e,onNodeClick:He,onNodeDoubleClick:et,viewMode:P,highlightedNodeId:M,onOpenOlaOla:se})})}),d.jsx(Yr,{value:"device",className:"min-h-[500px]",children:l?d.jsx(Fke,{device:l,portDetails:u,onPortClick:Me}):s?d.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-300px)] min-h-[400px] bg-gray-50 rounded-lg border border-gray-200",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500 mb-4"}),d.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"加载设备信息中..."}),d.jsxs("p",{className:"text-gray-400 text-center max-w-md",children:["正在获取设备 ",d.jsx("span",{className:"font-semibold",children:s})," 的详细信息"]})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-300px)] min-h-[400px] bg-gray-50 rounded-lg border border-gray-200",children:[d.jsx("div",{className:"text-6xl text-gray-300 mb-4",children:"📱"}),d.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"未选择设备"}),d.jsxs("p",{className:"text-gray-400 text-center max-w-md",children:["请在拓扑视图中选择一个设备，或双击一个节点查看详细信息。",d.jsx("br",{}),"选择后将在此处显示设备面板及端口状态。"]})]})}),d.jsx(Yr,{value:"bandwidth",className:"min-h-[500px]",children:l?d.jsx(O8e,{deviceName:l.name,portUsages:f,onExport:me}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-300px)] min-h-[400px] bg-gray-50 rounded-lg border border-gray-200",children:[d.jsx("div",{className:"text-6xl text-gray-300 mb-4",children:"📊"}),d.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"未选择设备"}),d.jsxs("p",{className:"text-gray-400 text-center max-w-md",children:["请在拓扑视图中选择一个设备，或双击一个节点查看详细信息。",d.jsx("br",{}),"选择后将在此处显示设备的带宽分析数据。"]})]})}),d.jsx(Yr,{value:"system",className:"min-h-[500px]",children:s?d.jsxs("div",{className:"space-y-2",children:[d.jsx($ue,{selectedDevice:s,fetchFromPrometheus:B,deviceIp:(()=>{const J=e.nodes.find(ne=>ne.id===s);return(J==null?void 0:J.ip)||""})()},`system-${s}`),d.jsx("div",{className:"border-t pt-2 mt-4 text-center text-sm text-gray-500",children:(()=>{const J=e.nodes.find(ne=>ne.id===s);return`当前设备: ${(J==null?void 0:J.name)||s} ${J!=null&&J.ip?`IP: ${J==null?void 0:J.ip}`:""}`})()})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-300px)] min-h-[400px] bg-gray-50 rounded-lg border border-gray-200",children:[d.jsx("div",{className:"text-6xl text-gray-300 mb-4",children:"📈"}),d.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"未选择设备"}),d.jsxs("p",{className:"text-gray-400 text-center max-w-md",children:["请在拓扑视图中选择一个设备，或通过管理IP搜索查找设备。",d.jsx("br",{}),"选择后将在此处显示设备的系统性能数据。"]})]})}),d.jsx(Yr,{value:"bgp",className:"min-h-[500px]",children:s?d.jsx("div",{className:"space-y-2",children:d.jsx(Bue,{selectedDevice:s,fetchFromPrometheus:B,deviceIp:(()=>{const J=e.nodes.find(ne=>ne.id===s);return J==null?void 0:J.ip})()},`bgp-${s}`)}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-300px)] min-h-[400px] bg-gray-50 rounded-lg border border-gray-200",children:[d.jsx("div",{className:"text-6xl text-gray-300 mb-4",children:"🔄"}),d.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"未选择设备"}),d.jsxs("p",{className:"text-gray-400 text-center max-w-md",children:["请在拓扑视图中选择一个设备，或通过管理IP搜索查找设备。",d.jsx("br",{}),"选择后将在此处显示设备的BGP状态信息。"]})]})}),d.jsx(Yr,{value:"routes",className:"min-h-[500px]",children:s?d.jsx("div",{className:"space-y-2",children:d.jsx(Fue,{selectedDevice:s,fetchFromPrometheus:B,deviceIp:(()=>{const J=e.nodes.find(ne=>ne.id===s);return J==null?void 0:J.ip})()},`routes-${s}`)}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-300px)] min-h-[400px] bg-gray-50 rounded-lg border border-gray-200",children:[d.jsx("div",{className:"text-6xl text-gray-300 mb-4",children:"🧭"}),d.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"未选择设备"}),d.jsxs("p",{className:"text-gray-400 text-center max-w-md",children:["请在拓扑视图中选择一个设备，或通过管理IP搜索查找设备。",d.jsx("br",{}),"选择后将在此处显示设备的路由表信息。"]})]})}),d.jsx(Yr,{value:"bridge",className:"min-h-[500px]",children:s?d.jsx("div",{className:"space-y-2",children:d.jsx(zue,{selectedDevice:s,fetchFromPrometheus:B,deviceIp:(()=>{const J=e.nodes.find(ne=>ne.id===s);return J==null?void 0:J.ip})()},`bridge-${s}`)}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-300px)] min-h-[400px] bg-gray-50 rounded-lg border border-gray-200",children:[d.jsx("div",{className:"text-6xl text-gray-300 mb-4",children:"🔀"}),d.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"未选择设备"}),d.jsxs("p",{className:"text-gray-400 text-center max-w-md",children:["请在拓扑视图中选择一个设备，或通过管理IP搜索查找设备。",d.jsx("br",{}),"选择后将在此处显示设备的二层转发表信息。"]})]})}),d.jsx(Yr,{value:"vrf",className:"min-h-[500px]",children:s?d.jsx("div",{className:"space-y-2",children:d.jsx(Uue,{selectedDevice:s,fetchFromPrometheus:B,deviceIp:(()=>{const J=e.nodes.find(ne=>ne.id===s);return J==null?void 0:J.ip})()},`vrf-${s}`)}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-300px)] min-h-[400px] bg-gray-50 rounded-lg border border-gray-200",children:[d.jsx("div",{className:"text-6xl text-gray-300 mb-4",children:"🔖"}),d.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"未选择设备"}),d.jsxs("p",{className:"text-gray-400 text-center max-w-md",children:["请在拓扑视图中选择一个设备，或通过管理IP搜索查找设备。",d.jsx("br",{}),"选择后将在此处显示设备的VRF状态信息。"]})]})}),d.jsx(Yr,{value:"process",className:"min-h-[500px]",children:s?d.jsx("div",{className:"space-y-2",children:d.jsx(Hue,{selectedDevice:s,fetchFromPrometheus:B,deviceIp:(()=>{const J=e.nodes.find(ne=>ne.id===s);return J==null?void 0:J.ip})()},`process-${s}`)}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-300px)] min-h-[400px] bg-gray-50 rounded-lg border border-gray-200",children:[d.jsx("div",{className:"text-6xl text-gray-300 mb-4",children:"⚙️"}),d.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"未选择设备"}),d.jsxs("p",{className:"text-gray-400 text-center max-w-md",children:["请在拓扑视图中选择一个设备，或通过管理IP搜索查找设备。",d.jsx("br",{}),"选择后将在此处显示设备的系统进程信息。"]})]})}),d.jsx(Yr,{value:"logs",className:"min-h-[500px]",children:s?d.jsx("div",{className:"space-y-2",children:d.jsx(Vue,{selectedDevice:s,deviceIp:(()=>{const J=e.nodes.find(ne=>ne.id===s);return J==null?void 0:J.ip})()},`logs-${s}`)}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-300px)] min-h-[400px] bg-gray-50 rounded-lg border border-gray-200",children:[d.jsx("div",{className:"text-6xl text-gray-300 mb-4",children:"📋"}),d.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"未选择设备"}),d.jsxs("p",{className:"text-gray-400 text-center max-w-md",children:["请在拓扑视图中选择一个设备，或通过管理IP搜索查找设备。",d.jsx("br",{}),"选择后将在此处显示设备的日志信息。"]})]})})]}),z&&F&&d.jsx(hKe,{device:F,onClose:()=>U(!1)})]})},hKe=({device:e,onClose:t})=>{const[r,n]=A.useState(""),[i,a]=A.useState(""),[s,o]=A.useState(""),[l,c]=A.useState(""),[u,h]=A.useState(!1),[f,p]=A.useState(!1),[g,v]=A.useState([]),[m,y]=A.useState(!1),[x,_]=A.useState(!1),[b,w]=A.useState(0),S=A.useRef(null),[k,C]=A.useState(500),[E,T]=A.useState(localStorage.getItem("olaola_user_id")||`user_${Date.now()}`),[N,I]=A.useState(localStorage.getItem("olaola_api_url")||"http://127.0.0.1:8000"),[P,D]=A.useState(!1),$=K=>{I(K.target.value)},L=async()=>{localStorage.setItem("olaola_api_url",N),(await wu(async()=>{const{default:B}=await import("./olaOlaService-D56M5Sf2.js");return{default:B}},[])).default.setApiUrl(N),alert(`OlaOla API URL已更新为: ${N}`),D(!1)},O=async()=>{try{const K=await fetch(`${N}`,{method:"GET",signal:AbortSignal.timeout(5e3)});K.ok?alert(`成功连接到 ${N}`):alert(`连接到 ${N} 失败: ${K.status} ${K.statusText}`)}catch(K){alert(`无法连接到 ${N}: ${K instanceof Error?K.message:"未知错误"}`)}};A.useEffect(()=>{localStorage.getItem("olaola_user_id")||localStorage.setItem("olaola_user_id",E)},[E]);const j=K=>{_(!0),w(K.clientX)},M=A.useCallback(K=>{if(x){const B=k+(K.clientX-b);B>300&&B<window.innerWidth*.8&&(C(B),w(K.clientX))}},[x,b,k]),R=A.useCallback(()=>{_(!1)},[]);A.useEffect(()=>(document.addEventListener("mousemove",M),document.addEventListener("mouseup",R),()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",R)}),[M,R]),A.useEffect(()=>{if(f&&s){let K="";const B=s;let W=0;c("");const Y=setInterval(()=>{if(W<B.length){const Z=Math.floor(Math.random()*3)+1,Q=Math.min(W+Z,B.length);K+=B.substring(W,Q),c(K),W=Q}else clearInterval(Y),p(!1),i&&(v(Z=>[...Z,{query:i,response:B}]),a(""))},15);return()=>clearInterval(Y)}},[f,s,i]),A.useEffect(()=>{if(e){const K=mde();K&&K.device&&K.device.id===e.id&&(console.log("加载OlaOla状态:",K),K.history&&v(K.history.map(B=>({query:B.query,response:B.reply||B.response}))))}},[e==null?void 0:e.id]),A.useEffect(()=>{if(e){const K={isVisible:!0,device:e,history:g.map(B=>({query:B.query,reply:B.response}))};TYe(K)}},[e,g]);const z=async()=>{if(r.trim()){h(!0),o(""),c(""),a(r);try{const K=(await wu(async()=>{const{default:re}=await import("./olaOlaService-D56M5Sf2.js");return{default:re}},[])).default;N!==K.getApiUrl()&&K.setApiUrl(N);let B="generic";e.type==="spine"?B="cisco":e.type==="leaf"?B="huawei":e.type==="tor"?B="ruijie":e.type==="client"&&(B="h3c");const W={user_id:E,vendor:B,network_type:"Data Center",query:r};console.log("发送RAG请求:",W,"至URL:",N);const Y=await fetch(`${N}/get_reply`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});if(!Y.ok)throw new Error(`RAG API请求失败: ${Y.status} ${Y.statusText}`);const Z=await Y.json(),Q=RY.parse(Z.reply);o(Q),p(!0),n("")}catch(K){console.error("OlaOla查询失败:",K);let B="无法获取OlaOla的回复。";K instanceof Error&&(K.message.includes("Failed to fetch")||K.message.includes("NetworkError")||K.message.includes("fetch")?B=`网络错误: 无法连接到RAG服务器(${N})。请确保服务正在运行并且可从浏览器访问。`:B=K.message),o(RY.parse(`# 查询失败

${B}`)),p(!0)}finally{h(!1)}}},U=K=>{K.key==="Enter"&&!K.shiftKey&&(K.preventDefault(),z())},F=()=>{v([]),NYe()},G=()=>{t()},q=()=>{y(!m)};return d.jsxs("div",{ref:S,className:`fixed ${m?"inset-4":"right-4 top-20"} bg-white rounded-lg shadow-lg border border-gray-200 z-50 overflow-hidden transition-all duration-300 ease-in-out`,style:{width:m?"auto":`${k}px`,height:"auto",maxHeight:m?"calc(100vh - 2rem)":"80vh"},children:[d.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 cursor-w-resize hover:bg-blue-500 hover:opacity-50",onMouseDown:j}),d.jsxs("div",{className:"flex justify-between items-center border-b p-3 bg-gradient-to-r from-blue-500 to-indigo-600",children:[d.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[d.jsx($a,{size:18}),"OlaOla配置助手"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[g.length>0&&d.jsx("button",{className:"text-white hover:bg-white/10 rounded-full p-1",onClick:F,title:"清除历史记录",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),d.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})}),d.jsx("button",{className:"text-white hover:bg-white/10 rounded-full p-1",onClick:q,title:m?"小窗口显示":"全屏显示",children:m?d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("polyline",{points:"4 14 10 14 10 20"}),d.jsx("polyline",{points:"20 10 14 10 14 4"}),d.jsx("line",{x1:"14",y1:"10",x2:"21",y2:"3"}),d.jsx("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]}):d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("polyline",{points:"15 3 21 3 21 9"}),d.jsx("polyline",{points:"9 21 3 21 3 15"}),d.jsx("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),d.jsx("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]})}),d.jsx("button",{className:"text-white hover:bg-white/10 rounded-full p-1",onClick:G,children:d.jsx(Ua,{size:18})})]})]}),d.jsx("div",{className:"flex flex-col overflow-hidden",style:{height:m?"calc(100vh - 6rem)":"70vh"},children:d.jsxs("div",{className:`p-4 ${m?"overflow-y-auto":""}`,children:[d.jsxs("div",{className:`mb-4 ${m?"max-w-4xl mx-auto":""}`,children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("p",{className:"text-sm font-medium text-gray-700",children:"设备信息"}),d.jsx("button",{onClick:()=>D(!P),className:"text-xs text-blue-500 hover:text-blue-700",children:P?"关闭设置":"服务器设置"})]}),P?d.jsxs("div",{className:"mt-2 p-3 bg-gray-50 border rounded-md",children:[d.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"OlaOla RAG 服务设置"}),d.jsxs("div",{className:"flex flex-col space-y-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("label",{className:"text-xs text-gray-600 w-20",children:"API URL:"}),d.jsx("input",{type:"text",value:N,onChange:$,className:"flex-1 text-xs border rounded px-2 py-1"})]}),d.jsxs("div",{className:"flex justify-end space-x-2",children:[d.jsx("button",{onClick:O,className:"text-xs bg-gray-200 hover:bg-gray-300 text-gray-700 px-2 py-1 rounded",children:"测试连接"}),d.jsx("button",{onClick:L,className:"text-xs bg-blue-500 hover:bg-blue-600 text-white px-2 py-1 rounded",children:"保存设置"})]})]})]}):d.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[d.jsxs("p",{children:["名称: ",e.name]}),d.jsxs("p",{children:["类型: ",e.type]}),d.jsxs("p",{children:["IP: ",e.ip||"未知"]}),d.jsxs("p",{children:["状态: ",e.status]})]})]}),d.jsxs("div",{className:`border-t pt-4 mb-4 ${m?"max-w-4xl mx-auto":""}`,children:[d.jsxs("div",{className:"mb-2 bg-gray-50 rounded border border-gray-200 p-3 text-sm overflow-y-auto",style:{height:m?"calc(100vh - 16rem)":"15rem"},children:[g.length===0&&!s&&!f&&d.jsxs("div",{className:"text-gray-400 italic",children:[d.jsx("p",{children:"欢迎使用OlaOla配置助手！"}),d.jsxs("p",{className:"mt-2",children:["您可以询问与设备 ",e.name," 相关的配置问题。"]}),d.jsx("p",{className:"mt-2 text-yellow-600",children:"注意: OlaOla需要连接到本地RAG服务(http://localhost:8000)。请确保服务已启动。"}),d.jsx("p",{className:"mt-2",children:"示例问题:"}),d.jsxs("ul",{className:"list-disc pl-5 mt-1",children:[d.jsxs("li",{children:["如何配置",e.type,"设备的BGP?"]}),d.jsxs("li",{children:["怎样排查",e.type,"设备的常见问题?"]}),d.jsxs("li",{children:["请提供",e.type,"设备性能优化建议"]})]})]}),g.map((K,B)=>d.jsxs("div",{className:"mb-4",children:[d.jsxs("div",{className:"bg-blue-50 p-2 rounded-lg mb-2",children:[d.jsx("p",{className:"font-medium text-blue-800",children:"您:"}),d.jsx("p",{children:K.query})]}),d.jsxs("div",{className:"bg-gray-100 p-2 rounded-lg",children:[d.jsx("p",{className:"font-medium text-gray-800",children:"OlaOla:"}),d.jsx("div",{className:"markdown-body prose prose-sm max-w-none prose-pre:bg-gray-800 prose-pre:text-green-400 prose-pre:p-3 prose-pre:rounded prose-pre:overflow-auto prose-code:text-red-500 prose-code:bg-gray-100 prose-code:px-1 prose-code:rounded prose-headings:border-b prose-headings:border-gray-200 prose-headings:pb-1 prose-headings:mb-3 prose-h1:text-xl prose-h2:text-lg prose-h3:text-base prose-a:text-blue-500 prose-a:no-underline hover:prose-a:underline prose-blockquote:border-l-4 prose-blockquote:border-gray-300 prose-blockquote:pl-4 prose-blockquote:italic prose-blockquote:text-gray-700 prose-blockquote:my-2 prose-img:max-w-full prose-img:rounded prose-img:my-2 prose-hr:my-4 prose-hr:border-gray-300 prose-ul:list-disc prose-ul:pl-5 prose-ol:list-decimal prose-ol:pl-5 prose-li:my-1",children:d.jsx("div",{dangerouslySetInnerHTML:{__html:K.response}})})]})]},B)),f&&d.jsxs("div",{className:"mb-4",children:[d.jsxs("div",{className:"bg-blue-50 p-2 rounded-lg mb-2",children:[d.jsx("p",{className:"font-medium text-blue-800",children:"您:"}),d.jsx("p",{children:i})]}),d.jsxs("div",{className:"bg-gray-100 p-2 rounded-lg",children:[d.jsx("p",{className:"font-medium text-gray-800",children:"OlaOla:"}),d.jsxs("div",{className:"markdown-body prose prose-sm max-w-none prose-pre:bg-gray-800 prose-pre:text-green-400 prose-pre:p-3 prose-pre:rounded prose-pre:overflow-auto prose-code:text-red-500 prose-code:bg-gray-100 prose-code:px-1 prose-code:rounded prose-headings:border-b prose-headings:border-gray-200 prose-headings:pb-1 prose-headings:mb-3 prose-h1:text-xl prose-h2:text-lg prose-h3:text-base prose-a:text-blue-500 prose-a:no-underline hover:prose-a:underline prose-blockquote:border-l-4 prose-blockquote:border-gray-300 prose-blockquote:pl-4 prose-blockquote:italic prose-blockquote:text-gray-700 prose-blockquote:my-2 prose-img:max-w-full prose-img:rounded prose-img:my-2 prose-hr:my-4 prose-hr:border-gray-300 prose-ul:list-disc prose-ul:pl-5 prose-ol:list-decimal prose-ol:pl-5 prose-li:my-1",children:[d.jsx("div",{dangerouslySetInnerHTML:{__html:l}}),d.jsx("span",{className:"inline-block w-2 h-4 bg-blue-500 ml-1 animate-pulse"})]})]})]}),u&&d.jsxs("div",{className:"flex items-center justify-center p-4",children:[d.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500"}),d.jsx("span",{className:"ml-2 text-blue-500",children:"OlaOla正在思考..."})]})]}),d.jsx("div",{className:"mt-2",children:d.jsx("textarea",{className:"w-full p-2 text-sm border border-gray-300 rounded h-20 resize-none",placeholder:"在此输入您的配置问题...",value:r,onChange:K=>n(K.target.value),onKeyDown:U,disabled:u||f})}),d.jsx("div",{className:"mt-2 flex justify-end",children:d.jsx("button",{className:`px-3 py-1.5 text-white text-sm rounded flex items-center gap-1 ${u||f||!r.trim()?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,onClick:z,disabled:u||f||!r.trim(),children:u?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),d.jsx("span",{children:"处理中..."})]}):d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"发送"}),d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),d.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})]})})})]})]})}),!m&&d.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gray-100 text-xs text-center py-1 text-gray-500 border-t",children:d.jsx("span",{children:"拖动左侧边缘调整宽度 · 点击右上角按钮全屏查看"})})]})},fKe=()=>{var c;const[e,t]=A.useState(null),[r,n]=A.useState("system"),[i,a]=A.useState(!0),s=async u=>(console.log("Query:",u),[]),o=[{id:"system",label:"系统性能",icon:d.jsx(Cee,{className:"h-5 w-5"})},{id:"bgp",label:"BGP状态",icon:d.jsx(ds,{className:"h-5 w-5"})},{id:"routes",label:"路由表",icon:d.jsx(g_,{className:"h-5 w-5"})},{id:"bridge",label:"二层转发",icon:d.jsx(F5,{className:"h-5 w-5"})},{id:"vrf",label:"VRF状态",icon:d.jsx(wv,{className:"h-5 w-5"})},{id:"process",label:"系统进程",icon:d.jsx(T_e,{className:"h-5 w-5"})},{id:"logs",label:"设备日志",icon:d.jsx(fo,{className:"h-5 w-5"})}],l=()=>{switch(r){case"system":return d.jsx($ue,{selectedDevice:e,fetchFromPrometheus:s});case"bgp":return d.jsx(Bue,{selectedDevice:e,fetchFromPrometheus:s});case"routes":return d.jsx(Fue,{selectedDevice:e,fetchFromPrometheus:s});case"bridge":return d.jsx(zue,{selectedDevice:e,fetchFromPrometheus:s});case"vrf":return d.jsx(Uue,{selectedDevice:e,fetchFromPrometheus:s});case"process":return d.jsx(Hue,{selectedDevice:e,fetchFromPrometheus:s});case"logs":return d.jsx(Vue,{selectedDevice:e});default:return d.jsx("div",{children:"请选择一个遥测类型"})}};return d.jsxs("div",{className:"flex h-full",children:[d.jsxs("div",{className:`bg-gray-800 text-white transition-all duration-300 ${i?"w-64":"w-16"}`,children:[d.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[d.jsx("h2",{className:`font-semibold ${i?"block":"hidden"}`,children:"Telemetry Info"}),d.jsx("button",{onClick:()=>a(!i),className:"p-1 rounded-full hover:bg-gray-700",children:i?d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-left",children:d.jsx("polyline",{points:"15 18 9 12 15 6"})}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-right",children:d.jsx("polyline",{points:"9 18 15 12 9 6"})})})]}),d.jsx("nav",{className:"mt-4",children:d.jsx("ul",{children:o.map(u=>d.jsx("li",{children:d.jsxs("button",{onClick:()=>n(u.id),className:`flex items-center w-full py-3 px-4 hover:bg-gray-700 transition-colors ${r===u.id?"bg-gray-700":""}`,children:[d.jsx("span",{className:"mr-3",children:u.icon}),i&&d.jsx("span",{children:u.label})]})},u.id))})})]}),d.jsx("div",{className:"flex-1 p-6 overflow-auto",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsx("h1",{className:"text-2xl font-bold mb-6",children:((c=o.find(u=>u.id===r))==null?void 0:c.label)||"Telemetry Info"}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"选择设备"}),d.jsxs("select",{value:e||"",onChange:u=>t(u.target.value||null),className:"w-full md:w-64 px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[d.jsx("option",{value:"",children:"选择设备..."}),d.jsx("option",{value:"spine1",children:"spine1"}),d.jsx("option",{value:"spine2",children:"spine2"}),d.jsx("option",{value:"leaf1",children:"leaf1"}),d.jsx("option",{value:"leaf2",children:"leaf2"}),d.jsx("option",{value:"leaf3",children:"leaf3"}),d.jsx("option",{value:"tor1",children:"tor1"}),d.jsx("option",{value:"tor2",children:"tor2"}),d.jsx("option",{value:"tor3",children:"tor3"})]})]}),d.jsx("div",{className:"bg-white p-4 rounded-lg",children:l()})]})})]})},Nde=A.createContext(void 0),pKe=({children:e})=>{const[t,r]=A.useState(null),[n,i]=A.useState(null),[a,s]=A.useState(!0),[o,l]=A.useState(null),c=dA();A.useEffect(()=>{if(!c){s(!1),l(new Error("Supabase client not initialized"));return}c.auth.getSession().then(({data:{session:p}})=>{r(p),i((p==null?void 0:p.user)??null),s(!1)}).catch(p=>{console.error("Failed to get session:",p),l(p),s(!1)});const{data:{subscription:f}}=c.auth.onAuthStateChange((p,g)=>{r(g),i((g==null?void 0:g.user)??null),s(!1)});return()=>{f.unsubscribe()}},[c]);const u=async(f,p)=>{if(!c)return{error:new Error("Supabase client not initialized")};s(!0),l(null);try{const{error:g}=await c.auth.signInWithPassword({email:f,password:p});return g?(l(g),{error:g}):{error:null}}catch(g){const v=g;return l(v),{error:v}}finally{s(!1)}},h=async()=>{if(!c)throw new Error("Supabase client not initialized");s(!0);try{await c.auth.signOut(),localStorage.removeItem("token")}catch(f){console.error("Error signing out:",f)}finally{s(!1)}};return d.jsx(Nde.Provider,{value:{session:t,user:n,loading:a,error:o,signIn:u,signOut:h},children:e})},YB=()=>{const e=A.useContext(Nde);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},gKe=()=>{var p,g;const[e,t]=A.useState(""),[r,n]=A.useState(""),[i,a]=A.useState(!1),[s,o]=A.useState(null),l=KN(),c=Ph(),{signIn:u}=YB(),h=((g=(p=c.state)==null?void 0:p.from)==null?void 0:g.pathname)||"/network-deployment",f=async v=>{var m,y;v.preventDefault(),a(!0),o(null);try{const{error:x}=await u(e,r);if(x)throw x;l(h)}catch(x){console.error("login failed:",x);let _="login failed, please check your email and password";(m=x.message)!=null&&m.includes("Invalid login credentials")?_="email or password error":(y=x.message)!=null&&y.includes("Email not confirmed")?_="your account is not activated, please contact the administrator":x.message&&(_=`login failed: ${x.message}`),o(_)}finally{a(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md overflow-hidden",children:[d.jsxs("div",{className:"px-6 py-8 bg-gradient-to-r from-emerald-500 to-teal-400 text-white text-center",children:[d.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),d.jsx("h2",{className:"text-2xl font-bold",children:"OlaOla AI-v0.6 beta"}),d.jsx("p",{className:"text-sm text-emerald-100",children:"Network Speaks human"})]}),d.jsx("div",{className:"px-6 py-6",children:d.jsxs("form",{onSubmit:f,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),d.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:v=>t(v.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",placeholder:"Enter your email"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),d.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r,onChange:v=>n(v.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",placeholder:"Enter your password"})]}),s&&d.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 text-sm text-red-700",children:s}),d.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-2 px-4 font-medium text-transparent bg-clip-text bg-gradient-to-r from-emerald-500 to-teal-400 border border-emerald-300 rounded-md hover:shadow-md",children:i?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Logging in..."]}):"Login"})]})}),d.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 text-center text-sm text-gray-600",children:d.jsx("p",{children:"Tips: Contact the administrator to create your account"})})]})})},mKe="http://localhost:8080/api",Ft=$t.create({baseURL:mKe,timeout:1e4,headers:{"Content-Type":"application/json"}});Ft.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Ft.interceptors.response.use(e=>e,e=>(e.response&&e.response.status===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)));const Ade={auth:{login:e=>Ft.post("/auth/login",e),logout:()=>Ft.post("/auth/logout"),refreshToken:()=>Ft.post("/auth/refresh")},users:{getAll:e=>Ft.get("/users",{params:e}),getById:e=>Ft.get(`/users/${e}`),create:e=>Ft.post("/users",e),update:(e,t)=>Ft.put(`/users/${e}`,t),delete:e=>Ft.delete(`/users/${e}`)},devices:{getAll:()=>Ft.get("/devices"),getById:e=>Ft.get(`/devices/${e}`),create:e=>Ft.post("/devices",e),update:(e,t)=>Ft.put(`/devices/${e}`,t),delete:e=>Ft.delete(`/devices/${e}`),getStatus:e=>Ft.get(`/devices/${e}/status`),getInterfaces:e=>Ft.get(`/devices/${e}/interfaces`),reboot:e=>Ft.post(`/devices/${e}/reboot`)},network:{getTopology:e=>Ft.get("/network/topology",{params:e}),getPaths:(e,t)=>Ft.get(`/network/paths?source=${e}&destination=${t}`),getLinkStatus:e=>Ft.get(`/network/links/${e}`),getPods:()=>Ft.get("/network/pods"),getRacks:e=>Ft.get(`/network/pods/${e}/racks`),getDevicesByRack:e=>Ft.get(`/network/racks/${e}/devices`)},telemetry:{getDeviceData:(e,t)=>Ft.get(`/telemetry/devices/${e}`,{params:t}),getMetrics:e=>Ft.get("/telemetry/metrics",{params:e}),getHistorical:(e,t,r)=>Ft.get(`/telemetry/historical/${e}/${t}`,{params:r})},alerts:{getAll:e=>Ft.get("/alerts",{params:e}),getById:e=>Ft.get(`/alerts/${e}`),acknowledge:e=>Ft.post(`/alerts/${e}/acknowledge`),resolve:e=>Ft.post(`/alerts/${e}/resolve`)},predictions:{getForDevice:e=>Ft.get(`/predictions/devices/${e}`),getAlerts:()=>Ft.get("/predictions/alerts"),runPrediction:(e,t)=>Ft.post(`/predictions/devices/${e}/run`,t)},prometheus:{query:e=>localStorage.getItem("datasource_prometheus_enabled")==="false"?(console.warn("Prometheus数据源已禁用，跳过API请求"),Promise.resolve({data:{data:{result:[]}}})):Ft.get("/prometheus/query",{params:{query:e}}).then(t=>(t.data&&typeof t.data=="object"&&(t.data.data||(t.data.data={}),t.data.data.result||(t.data.data.result=[])),t)),queryRange:(e,t,r,n)=>localStorage.getItem("datasource_prometheus_enabled")==="false"?(console.warn("Prometheus数据源已禁用，跳过API请求"),Promise.resolve({data:{data:{result:[]}}})):Ft.get("/prometheus/query_range",{params:{query:e,start:t,end:r,step:n}}).then(i=>(i.data&&typeof i.data=="object"&&(i.data.data||(i.data.data={}),i.data.data.result||(i.data.data.result=[])),i))},loki:{query:(e,t,r,n)=>{if(localStorage.getItem("datasource_loki_enabled")!=="true")return console.warn("Loki数据源已禁用，跳过API请求"),Promise.resolve({data:{data:{result:[]}}});const i={query:e};return t!==void 0&&(i.start=t),r!==void 0&&(i.end=r),n!==void 0&&(i.limit=n),Ft.get("/loki/query",{params:i}).then(a=>(a.data&&typeof a.data=="object"&&(a.data.data||(a.data.data={}),a.data.data.result||(a.data.data.result=[])),a))},queryRange:(e,t,r,n)=>localStorage.getItem("datasource_loki_enabled")!=="true"?(console.warn("Loki数据源已禁用，跳过API请求"),Promise.resolve({data:{data:{result:[]}}})):Ft.get("/loki/query_range",{params:{query:e,start:t,end:r,step:n}}).then(i=>(i.data&&typeof i.data=="object"&&(i.data.data||(i.data.data={}),i.data.data.result||(i.data.data.result=[])),i))},elasticsearch:{search:(e,t)=>localStorage.getItem("datasource_elasticsearch_enabled")!=="true"?(console.warn("Elasticsearch数据源已禁用，跳过API请求"),Promise.resolve({hits:{total:0,hits:[]}})):Ft.post(`/elasticsearch/${e}/_search`,t).then(r=>r.data),count:(e,t)=>Ft.post(`/elasticsearch/${e}/_count`,t).then(r=>r.data)},influxdb:{query:(e,t)=>localStorage.getItem("datasource_influxdb_enabled")!=="true"?(console.warn("InfluxDB数据源已禁用，跳过API请求"),Promise.resolve({results:[]})):Ft.post("/influxdb/query",{query:e},{params:t?{org:t}:void 0}).then(r=>r.data)},config:{get:()=>Ft.get("/config"),update:e=>Ft.put("/config",e),reset:()=>Ft.post("/config/reset")},mcp:{getCapsules:async()=>{try{return(await Ft.get("/mcp/capsules")).data}catch(e){return console.error("获取胶囊列表失败:",e),[]}},getFlows:async()=>{try{return(await Ft.get("/mcp/flows")).data}catch(e){return console.error("获取流程列表失败:",e),[]}},executeFlow:async(e,t={})=>{try{return(await Ft.post(`/mcp/flows/${e}/execute`,t)).data}catch(r){return console.error(`执行流程(${e})失败:`,r),null}},getFlowStatus:async e=>{try{return(await Ft.get(`/mcp/flows/${e}`)).data}catch(t){return console.error(`获取流程状态(${e})失败:`,t),null}}}},IY=$t.create({baseURL:"/prometheus",timeout:1e4}),BC=$t.create({baseURL:"/api/mcp",timeout:1e4,headers:{"Content-Type":"application/json"}}),fx=e=>e==="prometheus"?localStorage.getItem("datasource_prometheus_enabled")!=="false":localStorage.getItem(`datasource_${e}_enabled`)==="true",vKe={modules:{getAll:async()=>{try{return(await Ft.get("/modules")).data}catch(e){return console.error("获取光模块列表失败:",e),[]}},getById:async e=>{try{return(await Ft.get(`/modules/${e}`)).data}catch(t){return console.error(`获取光模块(${e})失败:`,t),null}},getHistory:async(e,t=7)=>{try{return(await Ft.get(`/modules/${e}/history?days=${t}`)).data}catch(r){return console.error(`获取模块历史数据(${e})失败:`,r),[]}},getPrediction:async e=>{try{return(await Ft.get(`/modules/${e}/prediction`)).data}catch(t){return console.error(`获取模块预测(${e})失败:`,t),null}}},prometheus:{query:async e=>{try{return fx("prometheus")?(await IY.get(`/query?query=${encodeURIComponent(e)}`)).data.data.result:(console.warn("Prometheus数据源已禁用，跳过API请求"),[])}catch(t){return console.error("Prometheus查询失败:",t),[]}},queryRange:async(e,t,r,n)=>{try{return fx("prometheus")?(await IY.get("/query_range",{params:{query:e,start:t,end:r,step:n}})).data.data.result:(console.warn("Prometheus数据源已禁用，跳过API请求"),[])}catch(i){return console.error("Prometheus范围查询失败:",i),[]}}},loki:{query:async(e,t,r,n)=>{try{if(!fx("loki"))return console.warn("Loki数据源已禁用，跳过API请求"),[];const i={query:e};return t&&(i.start=t),r&&(i.end=r),n&&(i.limit=n),(await $t.get("/loki/query",{params:i})).data.data.result||[]}catch(i){return console.error("Loki查询失败:",i),[]}}},influxdb:{query:async e=>{try{return fx("influxdb")?(console.log("执行InfluxDB查询:",e),[]):(console.warn("InfluxDB数据源已禁用，跳过API请求"),[])}catch(t){return console.error("InfluxDB查询失败:",t),[]}}},elasticsearch:{search:async(e,t)=>{try{return fx("elasticsearch")?(console.log("执行Elasticsearch查询:",e,t),{hits:{total:0,hits:[]}}):(console.warn("Elasticsearch数据源已禁用，跳过API请求"),{hits:{total:0,hits:[]}})}catch(r){return console.error("Elasticsearch查询失败:",r),{hits:{total:0,hits:[]}}}}},mcp:{getCapsules:async()=>{try{return(await BC.get("/capsules")).data}catch(e){return console.error("获取胶囊列表失败:",e),[]}},getFlows:async()=>{try{return(await BC.get("/flows")).data}catch(e){return console.error("获取流程列表失败:",e),[]}},executeFlow:async(e,t={})=>{try{return(await BC.post(`/flows/${e}/execute`,t)).data}catch(r){return console.error(`执行流程(${e})失败:`,r),null}},getFlowStatus:async e=>{try{return(await BC.get(`/flows/${e}`)).data}catch(t){return console.error(`获取流程状态(${e})失败:`,t),null}}}};Object.assign(Ade,vKe);const yKe=()=>{const[e,t]=A.useState(null),[r,n]=A.useState(!0),[i,a]=A.useState(null);return A.useEffect(()=>{(async()=>{try{const o=await Ade.devices.getAll();t(o.data),n(!1)}catch(o){console.error("API call failed:",o),a("Failed to fetch data"),n(!1)}})()},[]),d.jsxs("div",{children:[d.jsx("h1",{children:"API Test Component"}),r&&d.jsx("p",{children:"Loading..."}),i&&d.jsxs("p",{children:["Error: ",i]}),e&&d.jsxs("div",{children:[d.jsx("h2",{children:"Data Retrieved:"}),d.jsx("pre",{children:JSON.stringify(e,null,2)})]})]})},xKe=({deploymentType:e})=>d.jsxs("svg",{width:"400",height:"300",viewBox:"0 0 400 300",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("rect",{x:"120",y:"20",width:"60",height:"20",fill:"#2f4858",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"150",y:"34",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Spine"}),d.jsx("rect",{x:"220",y:"20",width:"60",height:"20",fill:"#2f4858",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"250",y:"34",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Spine"}),d.jsx("text",{x:"50",y:"30",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Spine层:"}),e==="tor"&&d.jsx(d.Fragment,{children:d.jsxs("g",{children:[d.jsx("rect",{x:"70",y:"80",width:"60",height:"180",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"70",y:"80",width:"60",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"100",y:"94",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Leaf"}),d.jsx("rect",{x:"75",y:"110",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"75",y:"135",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"75",y:"160",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"75",y:"185",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"75",y:"210",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"75",y:"235",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"170",y:"80",width:"60",height:"180",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"170",y:"80",width:"60",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"200",y:"94",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Leaf"}),d.jsx("rect",{x:"175",y:"110",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"175",y:"135",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"175",y:"160",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"175",y:"185",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"175",y:"210",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"175",y:"235",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"270",y:"80",width:"60",height:"180",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"270",y:"80",width:"60",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"300",y:"94",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Leaf"}),d.jsx("rect",{x:"275",y:"110",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"275",y:"135",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"275",y:"160",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"275",y:"185",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"275",y:"210",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"275",y:"235",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"100",y1:"80",x2:"150",y2:"40",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"100",y1:"80",x2:"250",y2:"40",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"200",y1:"80",x2:"150",y2:"40",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"200",y1:"80",x2:"250",y2:"40",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"300",y1:"80",x2:"150",y2:"40",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"300",y1:"80",x2:"250",y2:"40",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"100",y:"270",textAnchor:"middle",fill:"#333",fontSize:"12",children:"机柜1"}),d.jsx("text",{x:"200",y:"270",textAnchor:"middle",fill:"#333",fontSize:"12",children:"机柜2"}),d.jsx("text",{x:"300",y:"270",textAnchor:"middle",fill:"#333",fontSize:"12",children:"机柜3"}),d.jsx("text",{x:"50",y:"94",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Leaf层 (ToR):"})]})}),e==="mor"&&d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:"170",y:"80",width:"60",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"200",y:"94",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Leaf"}),d.jsx("text",{x:"50",y:"94",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Leaf层 (MoR):"}),d.jsxs("g",{children:[d.jsx("rect",{x:"70",y:"120",width:"60",height:"140",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"75",y:"130",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"75",y:"155",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"75",y:"180",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"75",y:"205",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"75",y:"230",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"170",y:"120",width:"60",height:"140",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"175",y:"130",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"175",y:"155",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"175",y:"180",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"175",y:"205",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"175",y:"230",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"270",y:"120",width:"60",height:"140",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"275",y:"130",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"275",y:"155",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"275",y:"180",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"275",y:"205",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"275",y:"230",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"200",y1:"80",x2:"150",y2:"40",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"200",y1:"80",x2:"250",y2:"40",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"200",y1:"100",x2:"100",y2:"140",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"200",y1:"100",x2:"100",y2:"190",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"200",y1:"100",x2:"200",y2:"140",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"200",y1:"100",x2:"200",y2:"190",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"200",y1:"100",x2:"300",y2:"140",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"200",y1:"100",x2:"300",y2:"190",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"100",y:"270",textAnchor:"middle",fill:"#333",fontSize:"12",children:"机柜1"}),d.jsx("text",{x:"200",y:"270",textAnchor:"middle",fill:"#333",fontSize:"12",children:"机柜2"}),d.jsx("text",{x:"300",y:"270",textAnchor:"middle",fill:"#333",fontSize:"12",children:"机柜3"})]})]}),e==="hybrid"&&d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:"70",y:"80",width:"60",height:"180",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"70",y:"80",width:"60",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"100",y:"94",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Leaf"}),d.jsx("rect",{x:"75",y:"110",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"75",y:"135",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"75",y:"160",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"75",y:"185",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"75",y:"210",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"75",y:"235",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"220",y:"80",width:"60",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"250",y:"94",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Leaf"}),d.jsx("rect",{x:"170",y:"120",width:"60",height:"140",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"175",y:"130",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"175",y:"155",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"175",y:"180",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"175",y:"205",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"175",y:"230",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"270",y:"120",width:"60",height:"140",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"275",y:"130",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"275",y:"155",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"275",y:"180",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"275",y:"205",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"275",y:"230",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"100",y1:"80",x2:"150",y2:"40",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"100",y1:"80",x2:"250",y2:"40",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"250",y1:"80",x2:"150",y2:"40",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"250",y1:"80",x2:"250",y2:"40",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"250",y1:"100",x2:"200",y2:"140",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"250",y1:"100",x2:"200",y2:"190",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"250",y1:"100",x2:"300",y2:"140",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"250",y1:"100",x2:"300",y2:"190",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"100",y:"270",textAnchor:"middle",fill:"#333",fontSize:"12",children:"机柜1 (ToR)"}),d.jsx("text",{x:"200",y:"270",textAnchor:"middle",fill:"#333",fontSize:"12",children:"机柜2 (MoR)"}),d.jsx("text",{x:"300",y:"270",textAnchor:"middle",fill:"#333",fontSize:"12",children:"机柜3 (MoR)"}),d.jsx("text",{x:"50",y:"94",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Leaf层 (混合):"})]})]}),_Ke=({deploymentType:e})=>d.jsxs("svg",{width:"400",height:"360",viewBox:"0 0 400 360",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("rect",{x:"170",y:"20",width:"60",height:"20",fill:"#1a1a2e",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"200",y:"34",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"SuperSpine"}),d.jsx("text",{x:"60",y:"30",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"SuperSpine层:"}),d.jsx("rect",{x:"120",y:"70",width:"60",height:"20",fill:"#2f4858",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"150",y:"84",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Spine"}),d.jsx("rect",{x:"220",y:"70",width:"60",height:"20",fill:"#2f4858",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"250",y:"84",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Spine"}),d.jsx("text",{x:"60",y:"80",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Spine层:"}),e==="tor"&&d.jsx(d.Fragment,{children:d.jsxs("g",{children:[d.jsx("rect",{x:"40",y:"130",width:"150",height:"210",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),d.jsx("text",{x:"115",y:"350",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 1"}),d.jsx("rect",{x:"60",y:"150",width:"50",height:"180",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"60",y:"150",width:"50",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"85",y:"164",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),d.jsx("rect",{x:"65",y:"175",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"65",y:"195",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"65",y:"215",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"65",y:"235",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"65",y:"255",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"65",y:"275",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"65",y:"295",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"65",y:"315",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"120",y:"150",width:"50",height:"180",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"120",y:"150",width:"50",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"145",y:"164",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),d.jsx("rect",{x:"125",y:"175",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"125",y:"195",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"125",y:"215",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"125",y:"235",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"125",y:"255",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"125",y:"275",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"125",y:"295",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"125",y:"315",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"210",y:"130",width:"150",height:"210",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),d.jsx("text",{x:"285",y:"350",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 2"}),d.jsx("rect",{x:"230",y:"150",width:"50",height:"180",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"230",y:"150",width:"50",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"255",y:"164",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),d.jsx("rect",{x:"235",y:"175",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"235",y:"195",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"235",y:"215",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"235",y:"235",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"235",y:"255",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"235",y:"275",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"235",y:"295",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"235",y:"315",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"290",y:"150",width:"50",height:"180",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"290",y:"150",width:"50",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"315",y:"164",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),d.jsx("rect",{x:"295",y:"175",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"295",y:"195",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"295",y:"215",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"295",y:"235",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"295",y:"255",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"295",y:"275",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"295",y:"295",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"295",y:"315",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"85",y1:"150",x2:"150",y2:"90",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"85",y1:"150",x2:"250",y2:"90",stroke:"#333",strokeWidth:"1",strokeDasharray:"3"}),d.jsx("line",{x1:"145",y1:"150",x2:"150",y2:"90",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"145",y1:"150",x2:"250",y2:"90",stroke:"#333",strokeWidth:"1",strokeDasharray:"3"}),d.jsx("line",{x1:"255",y1:"150",x2:"150",y2:"90",stroke:"#333",strokeWidth:"1",strokeDasharray:"3"}),d.jsx("line",{x1:"255",y1:"150",x2:"250",y2:"90",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"315",y1:"150",x2:"150",y2:"90",stroke:"#333",strokeWidth:"1",strokeDasharray:"3"}),d.jsx("line",{x1:"315",y1:"150",x2:"250",y2:"90",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"150",y1:"70",x2:"200",y2:"40",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"250",y1:"70",x2:"200",y2:"40",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"60",y:"164",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Leaf层 (ToR):"})]})}),e==="mor"&&d.jsx(d.Fragment,{children:d.jsxs("g",{children:[d.jsx("rect",{x:"40",y:"130",width:"150",height:"210",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),d.jsx("text",{x:"115",y:"350",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 1"}),d.jsx("rect",{x:"85",y:"150",width:"60",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"115",y:"164",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),d.jsx("rect",{x:"60",y:"190",width:"40",height:"140",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"130",y:"190",width:"40",height:"140",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"65",y:"200",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"65",y:"220",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"65",y:"240",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"65",y:"260",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"65",y:"280",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"65",y:"300",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"135",y:"200",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"135",y:"220",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"135",y:"240",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"135",y:"260",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"135",y:"280",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"135",y:"300",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"210",y:"130",width:"150",height:"210",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),d.jsx("text",{x:"285",y:"350",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 2"}),d.jsx("rect",{x:"255",y:"150",width:"60",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"285",y:"164",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),d.jsx("rect",{x:"230",y:"190",width:"40",height:"140",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"300",y:"190",width:"40",height:"140",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"235",y:"200",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"235",y:"220",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"235",y:"240",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"235",y:"260",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"235",y:"280",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"235",y:"300",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"305",y:"200",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"305",y:"220",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"305",y:"240",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"305",y:"260",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"305",y:"280",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"305",y:"300",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"115",y1:"170",x2:"80",y2:"200",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"115",y1:"170",x2:"80",y2:"250",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"115",y1:"170",x2:"80",y2:"300",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"115",y1:"170",x2:"150",y2:"200",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"115",y1:"170",x2:"150",y2:"250",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"115",y1:"170",x2:"150",y2:"300",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"115",y1:"150",x2:"150",y2:"90",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"115",y1:"150",x2:"250",y2:"90",stroke:"#333",strokeWidth:"1",strokeDasharray:"3"}),d.jsx("line",{x1:"285",y1:"150",x2:"150",y2:"90",stroke:"#333",strokeWidth:"1",strokeDasharray:"3"}),d.jsx("line",{x1:"285",y1:"150",x2:"250",y2:"90",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"150",y1:"70",x2:"200",y2:"40",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"250",y1:"70",x2:"200",y2:"40",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"60",y:"164",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Leaf层 (MoR):"})]})}),e==="hybrid"&&d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:"40",y:"130",width:"150",height:"210",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),d.jsx("text",{x:"115",y:"350",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 1 (ToR)"}),d.jsx("rect",{x:"60",y:"150",width:"50",height:"180",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"60",y:"150",width:"50",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"85",y:"164",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),d.jsx("rect",{x:"65",y:"180",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"65",y:"205",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"65",y:"230",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"65",y:"255",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"65",y:"280",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"65",y:"305",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"120",y:"150",width:"50",height:"180",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"120",y:"150",width:"50",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"145",y:"164",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),d.jsx("rect",{x:"125",y:"180",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"125",y:"205",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"125",y:"230",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"125",y:"255",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"125",y:"280",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"125",y:"305",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"210",y:"130",width:"150",height:"210",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),d.jsx("text",{x:"285",y:"350",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 2 (MoR)"}),d.jsx("rect",{x:"255",y:"150",width:"60",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"285",y:"164",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),d.jsx("rect",{x:"230",y:"190",width:"40",height:"140",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"300",y:"190",width:"40",height:"140",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"235",y:"200",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"235",y:"220",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"235",y:"240",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"235",y:"260",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"235",y:"280",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"235",y:"300",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"305",y:"200",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"305",y:"220",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"305",y:"240",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"305",y:"260",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"305",y:"280",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"305",y:"300",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"85",y1:"150",x2:"150",y2:"90",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"85",y1:"150",x2:"250",y2:"90",stroke:"#333",strokeWidth:"1",strokeDasharray:"3"}),d.jsx("line",{x1:"145",y1:"150",x2:"150",y2:"90",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"145",y1:"150",x2:"250",y2:"90",stroke:"#333",strokeWidth:"1",strokeDasharray:"3"}),d.jsx("line",{x1:"285",y1:"150",x2:"150",y2:"90",stroke:"#333",strokeWidth:"1",strokeDasharray:"3"}),d.jsx("line",{x1:"285",y1:"150",x2:"250",y2:"90",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"285",y1:"170",x2:"250",y2:"200",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"285",y1:"170",x2:"250",y2:"250",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"285",y1:"170",x2:"250",y2:"300",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"285",y1:"170",x2:"320",y2:"200",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"285",y1:"170",x2:"320",y2:"250",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"285",y1:"170",x2:"320",y2:"300",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"150",y1:"70",x2:"200",y2:"40",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"250",y1:"70",x2:"200",y2:"40",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"60",y:"164",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Leaf层 (混合):"})]})]}),bKe=({deploymentType:e})=>d.jsxs("svg",{width:"400",height:"400",viewBox:"0 0 400 400",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("rect",{x:"170",y:"20",width:"60",height:"20",fill:"#000080",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"200",y:"34",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Core"}),d.jsx("text",{x:"70",y:"30",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Core层:"}),d.jsx("rect",{x:"120",y:"70",width:"60",height:"20",fill:"#1a1a2e",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"150",y:"84",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"SuperSpine"}),d.jsx("rect",{x:"220",y:"70",width:"60",height:"20",fill:"#1a1a2e",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"250",y:"84",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"SuperSpine"}),d.jsx("text",{x:"70",y:"80",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"SuperSpine层:"}),d.jsx("rect",{x:"80",y:"120",width:"50",height:"20",fill:"#2f4858",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"105",y:"134",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Spine"}),d.jsx("rect",{x:"175",y:"120",width:"50",height:"20",fill:"#2f4858",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"200",y:"134",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Spine"}),d.jsx("rect",{x:"270",y:"120",width:"50",height:"20",fill:"#2f4858",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"295",y:"134",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Spine"}),d.jsx("text",{x:"70",y:"130",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Spine层:"}),d.jsx("line",{x1:"200",y1:"40",x2:"150",y2:"70",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"200",y1:"40",x2:"250",y2:"70",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"150",y1:"90",x2:"105",y2:"120",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"150",y1:"90",x2:"200",y2:"120",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"250",y1:"90",x2:"200",y2:"120",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"250",y1:"90",x2:"295",y2:"120",stroke:"#333",strokeWidth:"1"}),e==="tor"&&d.jsxs(d.Fragment,{children:[d.jsx("text",{x:"70",y:"180",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Leaf层 (ToR):"}),d.jsx("rect",{x:"30",y:"200",width:"100",height:"180",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),d.jsx("text",{x:"80",y:"390",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 1"}),d.jsx("rect",{x:"40",y:"210",width:"30",height:"160",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"40",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"55",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"L"}),d.jsx("rect",{x:"90",y:"210",width:"30",height:"160",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"90",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"105",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"L"}),d.jsx("rect",{x:"150",y:"200",width:"100",height:"180",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),d.jsx("text",{x:"200",y:"390",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 2"}),d.jsx("rect",{x:"160",y:"210",width:"30",height:"160",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"160",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"175",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"L"}),d.jsx("rect",{x:"210",y:"210",width:"30",height:"160",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"210",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"225",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"L"}),d.jsx("rect",{x:"270",y:"200",width:"100",height:"180",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),d.jsx("text",{x:"320",y:"390",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 3"}),d.jsx("rect",{x:"280",y:"210",width:"30",height:"160",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"280",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"295",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"L"}),d.jsx("rect",{x:"330",y:"210",width:"30",height:"160",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"330",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"345",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"L"}),d.jsx("line",{x1:"55",y1:"210",x2:"105",y2:"140",stroke:"#333",strokeWidth:"1",strokeDasharray:"2"}),d.jsx("line",{x1:"105",y1:"210",x2:"105",y2:"140",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"175",y1:"210",x2:"200",y2:"140",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"225",y1:"210",x2:"200",y2:"140",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"295",y1:"210",x2:"295",y2:"140",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"345",y1:"210",x2:"295",y2:"140",stroke:"#333",strokeWidth:"1",strokeDasharray:"2"})]}),e==="mor"&&d.jsxs(d.Fragment,{children:[d.jsx("text",{x:"70",y:"180",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Leaf层 (MoR):"}),d.jsx("rect",{x:"30",y:"200",width:"100",height:"180",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),d.jsx("text",{x:"80",y:"390",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 1"}),d.jsx("rect",{x:"65",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"80",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),d.jsx("rect",{x:"40",y:"240",width:"30",height:"130",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"90",y:"240",width:"30",height:"130",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"150",y:"200",width:"100",height:"180",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),d.jsx("text",{x:"200",y:"390",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 2"}),d.jsx("rect",{x:"185",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"200",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),d.jsx("rect",{x:"160",y:"240",width:"30",height:"130",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"210",y:"240",width:"30",height:"130",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"270",y:"200",width:"100",height:"180",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),d.jsx("text",{x:"320",y:"390",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 3"}),d.jsx("rect",{x:"305",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"320",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),d.jsx("rect",{x:"280",y:"240",width:"30",height:"130",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"330",y:"240",width:"30",height:"130",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"80",y1:"210",x2:"105",y2:"140",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"200",y1:"210",x2:"200",y2:"140",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"320",y1:"210",x2:"295",y2:"140",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"80",y1:"225",x2:"55",y2:"240",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"80",y1:"225",x2:"105",y2:"240",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"200",y1:"225",x2:"175",y2:"240",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"200",y1:"225",x2:"225",y2:"240",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"320",y1:"225",x2:"295",y2:"240",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"320",y1:"225",x2:"345",y2:"240",stroke:"#333",strokeWidth:"1"})]}),e==="hybrid"&&d.jsxs(d.Fragment,{children:[d.jsx("text",{x:"70",y:"180",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Leaf层 (混合):"}),d.jsx("rect",{x:"30",y:"200",width:"100",height:"180",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),d.jsx("text",{x:"80",y:"390",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 1 (ToR)"}),d.jsx("rect",{x:"40",y:"210",width:"30",height:"160",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"40",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"55",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"L"}),d.jsx("rect",{x:"90",y:"210",width:"30",height:"160",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"90",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"105",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"L"}),d.jsx("rect",{x:"150",y:"200",width:"100",height:"180",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),d.jsx("text",{x:"200",y:"390",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 2 (MoR)"}),d.jsx("rect",{x:"185",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"200",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),d.jsx("rect",{x:"160",y:"240",width:"30",height:"130",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"210",y:"240",width:"30",height:"130",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"270",y:"200",width:"100",height:"180",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),d.jsx("text",{x:"320",y:"390",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 3 (ToR)"}),d.jsx("rect",{x:"280",y:"210",width:"30",height:"160",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"280",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"295",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"L"}),d.jsx("rect",{x:"330",y:"210",width:"30",height:"160",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),d.jsx("rect",{x:"330",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),d.jsx("text",{x:"345",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"L"}),d.jsx("line",{x1:"55",y1:"210",x2:"105",y2:"140",stroke:"#333",strokeWidth:"1",strokeDasharray:"2"}),d.jsx("line",{x1:"105",y1:"210",x2:"105",y2:"140",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"295",y1:"210",x2:"295",y2:"140",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"345",y1:"210",x2:"295",y2:"140",stroke:"#333",strokeWidth:"1",strokeDasharray:"2"}),d.jsx("line",{x1:"200",y1:"210",x2:"200",y2:"140",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"200",y1:"225",x2:"175",y2:"240",stroke:"#333",strokeWidth:"1"}),d.jsx("line",{x1:"200",y1:"225",x2:"225",y2:"240",stroke:"#333",strokeWidth:"1"})]})]}),wKe=({onNext:e,onSelectArchitecture:t})=>{var f;const[r,n]=A.useState("2-tier"),[i,a]=A.useState("tor"),[s,o]=A.useState("leaf-spine-tor");A.useEffect(()=>{let p="";switch(r){case"2-tier":p="leaf-spine";break;case"3-tier":p="leaf-spine-superspine";break;case"4-tier":p="leaf-spine-superspine-core";break;default:p="leaf-spine"}p+=`-${i}`,o(p),t(p)},[r,i,t]);const l=[{id:"2-tier",title:"Leaf + Spine",description:"基础数据中心架构，适合中小规模部署",component:d.jsx(xKe,{deploymentType:i})},{id:"3-tier",title:"Leaf + Spine + SuperSpine",description:"增加SuperSpine聚合层，适合大规模部署",component:d.jsx(_Ke,{deploymentType:i})},{id:"4-tier",title:"Leaf + Spine + SuperSpine + Core",description:"多层架构，适合超大规模多区域互联",component:d.jsx(bKe,{deploymentType:i})}],c=[{id:"tor",title:"ToR (Top of Rack)",description:"Leaf交换机位于每个机柜顶部，单独服务一个机柜"},{id:"mor",title:"MoR (Middle of Row)",description:"Leaf交换机位于行中间位置，服务多个机柜"},{id:"hybrid",title:"混合部署",description:"同时使用ToR和MoR部署方式"}],u=l.find(p=>p.id===r)||l[0],h=()=>{e()};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold mb-2",children:"定义网络架构"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"选择数据中心网络层级结构和物理部署方式"})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[d.jsxs(Xe,{children:[d.jsxs(dt,{children:[d.jsx(ht,{children:"网络层级结构"}),d.jsx(rn,{children:"选择网络的逻辑层级数量，基于Leaf-Spine架构"})]}),d.jsx(Je,{children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:l.map(p=>d.jsxs("div",{className:"flex items-start space-x-2",children:[d.jsx("input",{type:"radio",id:`tier-${p.id}`,name:"architecture-tier",value:p.id,checked:r===p.id,onChange:()=>n(p.id),className:"mt-1"}),d.jsxs("div",{className:"grid gap-1.5",children:[d.jsx("label",{htmlFor:`tier-${p.id}`,className:"font-medium",children:p.title}),d.jsx("p",{className:"text-sm text-gray-500",children:p.description})]})]},p.id))})})]}),d.jsxs(Xe,{children:[d.jsxs(dt,{children:[d.jsx(ht,{children:"物理部署方式"}),d.jsx(rn,{children:"选择Leaf交换机的物理布置方式（布线风格）"})]}),d.jsx(Je,{children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:c.map(p=>d.jsxs("div",{className:"flex items-start space-x-2",children:[d.jsx("input",{type:"radio",id:`deployment-${p.id}`,name:"deployment-type",value:p.id,checked:i===p.id,onChange:()=>a(p.id),className:"mt-1"}),d.jsxs("div",{className:"grid gap-1.5",children:[d.jsx("label",{htmlFor:`deployment-${p.id}`,className:"font-medium",children:p.title}),d.jsx("p",{className:"text-sm text-gray-500",children:p.description})]})]},p.id))})})]}),d.jsxs(Xe,{children:[d.jsxs(dt,{children:[d.jsx(ht,{children:"架构可视化预览"}),d.jsxs(rn,{children:["当前选择: ",u.title," + ",(f=c.find(p=>p.id===i))==null?void 0:f.title]})]}),d.jsx(Je,{className:"flex justify-center py-4",children:d.jsxs("div",{className:"w-full max-w-2xl",children:[u.component,d.jsxs("div",{className:"mt-4 text-sm text-gray-500 bg-gray-50 p-3 rounded-md",children:[d.jsx("p",{className:"font-medium mb-2",children:"重要提示:"}),d.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[d.jsx("li",{children:"ToR和MoR是物理布线方式，不是逻辑架构层级"}),d.jsx("li",{children:"在后续步骤中，您需要指定每个设备的架构层级角色和物理位置"}),d.jsx("li",{children:"建议根据实际部署环境选择合适的层级和布线方式"})]})]})]})})]})]}),d.jsx("div",{className:"flex justify-end mt-8",children:d.jsx(Fe,{onClick:h,children:"下一步"})})]})},SKe=({pods:e,setPods:t,fabricConfig:r,onComplete:n})=>{const[i,a]=A.useState(!1),[s,o]=A.useState(0),[l,c]=A.useState([]),[u,h]=A.useState(2),f=e[s],p=x=>{const _=[...e];_[s]=x,t(_)};A.useEffect(()=>{if(!f)return;let x={...f};switch(r.architecturePattern){case"tor-only":x.torCount=Math.max(x.torCount,1),x.leafCount=0,x.spineCount=0,x.morCount=0;break;case"tor-leaf":x.torCount=Math.max(x.torCount,2),x.leafCount=Math.max(x.leafCount,2),x.spineCount=0,x.morCount=0;break;case"tor-leaf-spine":x.torCount=Math.max(x.torCount,2),x.leafCount=Math.max(x.leafCount,2),x.spineCount=Math.max(x.spineCount,2),x.morCount=0;break;case"leaf-spine-core":x.torCount=Math.max(x.torCount,0),x.leafCount=Math.max(x.leafCount,2),x.spineCount=Math.max(x.spineCount,2),x.morCount=Math.max(x.morCount,2);break}p(x)},[r.architecturePattern,s]),A.useEffect(()=>{if(!f)return;const x=[];for(let b=0;b<u;b++){const w=f.racks.find(S=>S.id===`${f.id}-${b+1}`);w?x.push(w):x.push({id:`${f.id}-${b+1}`,name:`Rack ${b+1}`,devices:[]})}c(x);const _={...f,racks:x};p(_)},[u,f==null?void 0:f.id]),A.useEffect(()=>{let x=!0;e.forEach(_=>{switch(r.architecturePattern){case"tor-only":x=x&&_.torCount>0;break;case"tor-leaf":x=x&&_.torCount>0&&_.leafCount>0;break;case"tor-leaf-spine":x=x&&_.torCount>0&&_.leafCount>0&&_.spineCount>0;break;case"leaf-spine-core":x=x&&_.leafCount>0&&_.spineCount>0&&_.morCount>0;break}}),a(x),x&&n()},[e,r.architecturePattern]);const g=(x,_)=>{const b=parseInt(_)||0;if(b>=0){const w={...f,[x]:b};p(w)}},v=x=>{const _=parseInt(x)||0;_>0&&h(_)},m=()=>{s>0&&o(s-1)},y=()=>{s<e.length-1&&o(s+1)};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(dt,{children:[d.jsx(ht,{children:"Pod结构配置"}),d.jsxs(rn,{children:["根据您选择的架构模式 (",r.architecturePattern,") 配置每个Pod的结构"]})]}),d.jsxs(Je,{children:[e.length>1&&d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx(Fe,{onClick:m,disabled:s===0,variant:"outline",children:"上一个Pod"}),d.jsxs("span",{className:"font-medium",children:["Pod ",s+1," / ",e.length]}),d.jsx(Fe,{onClick:y,disabled:s===e.length-1,variant:"outline",children:"下一个Pod"})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Pod名称"}),d.jsx(cr,{value:(f==null?void 0:f.name)||"",onChange:x=>p({...f,name:x.target.value}),placeholder:"输入Pod名称"})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"机架数量"}),d.jsx(cr,{type:"number",min:"1",value:u,onChange:x=>v(x.target.value)}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"当前Pod中的机架数量"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.architecturePattern!=="leaf-spine-core"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"ToR交换机数量"}),d.jsx(cr,{type:"number",min:"0",value:(f==null?void 0:f.torCount)||0,onChange:x=>g("torCount",x.target.value),disabled:r.architecturePattern==="leaf-spine-core"})]}),(r.architecturePattern==="tor-leaf"||r.architecturePattern==="tor-leaf-spine"||r.architecturePattern==="leaf-spine-core")&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Leaf交换机数量"}),d.jsx(cr,{type:"number",min:"0",value:(f==null?void 0:f.leafCount)||0,onChange:x=>g("leafCount",x.target.value)})]}),(r.architecturePattern==="tor-leaf-spine"||r.architecturePattern==="leaf-spine-core")&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Spine交换机数量"}),d.jsx(cr,{type:"number",min:"0",value:(f==null?void 0:f.spineCount)||0,onChange:x=>g("spineCount",x.target.value)})]}),r.architecturePattern==="leaf-spine-core"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"MoR交换机数量"}),d.jsx(cr,{type:"number",min:"0",value:(f==null?void 0:f.morCount)||0,onChange:x=>g("morCount",x.target.value)})]})]}),d.jsxs("div",{className:"mt-8",children:[d.jsx("h3",{className:"font-medium mb-4",children:"机架列表"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(x=>d.jsxs(Xe,{className:"p-4",children:[d.jsx("div",{className:"font-medium mb-2",children:x.name}),d.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",x.id]})]},x.id))})]})]})]})},CKe=({pods:e,devices:t,setDevices:r,onComplete:n})=>{var E,T;const[i,a]=A.useState(!1),[s,o]=A.useState("manual"),[l,c]=A.useState(((E=e[0])==null?void 0:E.id)||""),[u,h]=A.useState(""),[f,p]=A.useState([{name:"",vendor:"",model:"",role:"tor",podId:"",rackId:""}]),g=((T=e.find(N=>N.id===l))==null?void 0:T.racks)||[];A.useEffect(()=>{t.length>0?(a(!0),n()):a(!1)},[t,n]);const v=N=>{c(N.target.value),h("")},m=N=>{h(N.target.value)},y=N=>{o(N)},x=(N,I,P)=>{const D=[...f];D[N]={...D[N],[I]:P},p(D)},_=()=>{p([...f,{name:"",vendor:"",model:"",role:"tor",podId:l,rackId:u}])},b=N=>{const I=[...f];I.splice(N,1),p(I)},w=()=>{const I=f.filter(P=>P.name&&P.name.trim()!=="").map((P,D)=>({id:`device-${Date.now()}-${D}`,name:P.name||`Device ${D+1}`,vendor:P.vendor||"other",model:P.model||"Generic",role:P.role||"tor",podId:P.podId||l,rackId:P.rackId||u,ports:[]}));r(P=>[...P,...I]),p([{name:"",vendor:"",model:"",role:"tor",podId:l,rackId:u}])},S=N=>{var D;const I=(D=N.target.files)==null?void 0:D[0];if(!I)return;const P=new FileReader;P.onload=$=>{var L;try{const O=JSON.parse((L=$.target)==null?void 0:L.result);if(Array.isArray(O)){const j=O.map((M,R)=>({id:M.id||`device-${Date.now()}-${R}`,name:M.name||`Device ${R+1}`,vendor:M.vendor||"other",model:M.model||"Generic",role:M.role||"tor",podId:M.podId||l,rackId:M.rackId||u,ports:M.ports||[]}));r(M=>[...M,...j])}}catch(O){console.error("Error parsing JSON file:",O),alert("Invalid JSON file format. Please check your file and try again.")}},P.readAsText(I)},k=()=>{var $,L,O;const N=[{name:"Switch1",vendor:"cisco",model:"Nexus 9300",role:"tor",podId:(($=e[0])==null?void 0:$.id)||"",rackId:((O=(L=e[0])==null?void 0:L.racks[0])==null?void 0:O.id)||"",ports:[{id:"port1",name:"Ethernet1/1",type:"ethernet",speed:"100G"}]}],I=new Blob([JSON.stringify(N,null,2)],{type:"application/json"}),P=URL.createObjectURL(I),D=document.createElement("a");D.href=P,D.download="device-template.json",document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(P)},C=N=>{r(I=>I.filter(P=>P.id!==N))};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(dt,{children:[d.jsx(ht,{children:"设备导入"}),d.jsx(rn,{children:"导入您的网络设备进行拓扑构建和端口映射"})]}),d.jsxs(Je,{children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex space-x-4 mb-4",children:[d.jsx(Fe,{variant:s==="manual"?"default":"outline",onClick:()=>y("manual"),children:"手动添加"}),d.jsx(Fe,{variant:s==="file"?"default":"outline",onClick:()=>y("file"),children:"JSON文件导入"}),d.jsx(Fe,{variant:s==="template"?"default":"outline",onClick:()=>y("template"),children:"模板"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Pod"}),d.jsxs("select",{className:"w-full p-2 border rounded-md",value:l,onChange:v,children:[d.jsx("option",{value:"",children:"-- 选择 Pod --"}),e.map(N=>d.jsx("option",{value:N.id,children:N.name},N.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"机架"}),d.jsxs("select",{className:"w-full p-2 border rounded-md",value:u,onChange:m,disabled:!l,children:[d.jsx("option",{value:"",children:"-- 选择机架 --"}),g.map(N=>d.jsx("option",{value:N.id,children:N.name},N.id))]})]})]}),s==="manual"&&d.jsxs("div",{className:"space-y-4",children:[f.map((N,I)=>d.jsxs(Xe,{className:"p-4",children:[d.jsxs("div",{className:"flex justify-between mb-2",children:[d.jsxs("h4",{className:"font-medium",children:["设备 ",I+1]}),f.length>1&&d.jsx("button",{onClick:()=>b(I),className:"text-red-500 hover:text-red-700",children:"删除"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",children:"设备名称"}),d.jsx(cr,{value:N.name||"",onChange:P=>x(I,"name",P.target.value),placeholder:"例如: Switch1"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",children:"角色"}),d.jsxs("select",{className:"w-full p-2 border rounded-md",value:N.role||"tor",onChange:P=>x(I,"role",P.target.value),children:[d.jsx("option",{value:"tor",children:"ToR"}),d.jsx("option",{value:"leaf",children:"Leaf"}),d.jsx("option",{value:"spine",children:"Spine"}),d.jsx("option",{value:"core",children:"Core"}),d.jsx("option",{value:"server",children:"Server"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",children:"厂商"}),d.jsxs("select",{className:"w-full p-2 border rounded-md",value:N.vendor||"",onChange:P=>x(I,"vendor",P.target.value),children:[d.jsx("option",{value:"",children:"-- 选择厂商 --"}),d.jsx("option",{value:"cisco",children:"Cisco"}),d.jsx("option",{value:"arista",children:"Arista"}),d.jsx("option",{value:"juniper",children:"Juniper"}),d.jsx("option",{value:"huawei",children:"Huawei"}),d.jsx("option",{value:"other",children:"其他"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",children:"型号"}),d.jsx(cr,{value:N.model||"",onChange:P=>x(I,"model",P.target.value),placeholder:"例如: Nexus 9300"})]})]})]},I)),d.jsxs("div",{className:"flex justify-between mt-4",children:[d.jsx(Fe,{variant:"outline",onClick:_,children:"添加设备"}),d.jsx(Fe,{onClick:w,disabled:!f.some(N=>N.name&&N.name.trim()!==""),children:"保存设备"})]})]}),s==="file"&&d.jsx("div",{className:"space-y-4",children:d.jsx(Xe,{className:"p-6",children:d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"mb-4",children:"上传设备JSON文件"}),d.jsx(cr,{type:"file",accept:".json",onChange:S,className:"mb-4"}),d.jsx("p",{className:"text-sm text-gray-500",children:"文件格式应为JSON数组，包含设备对象"})]})})}),s==="template"&&d.jsx("div",{className:"space-y-4",children:d.jsx(Xe,{className:"p-6",children:d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"mb-4",children:"下载设备模板"}),d.jsx(Fe,{onClick:k,children:"下载模板文件"}),d.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"下载JSON模板文件，填写后上传。"})]})})})]}),d.jsxs("div",{className:"mt-8",children:[d.jsxs("h3",{className:"font-medium mb-4",children:["已导入设备 (",t.length,")"]}),t.length===0?d.jsx("p",{className:"text-center text-gray-500 p-8",children:"尚未导入任何设备，请使用上方工具添加设备。"}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(N=>{var D;const I=e.find($=>$.id===N.podId),P=I==null?void 0:I.racks.find($=>$.id===N.rackId);return d.jsxs(Xe,{className:"p-4",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("h4",{className:"font-medium",children:N.name}),d.jsx("button",{onClick:()=>C(N.id),className:"text-red-500 hover:text-red-700",children:"删除"})]}),d.jsxs("div",{className:"text-sm text-gray-700 mt-2",children:[d.jsxs("p",{children:[N.vendor," ",N.model]}),d.jsxs("p",{children:["角色: ",N.role.toUpperCase()]}),d.jsxs("p",{children:["位置: ",(I==null?void 0:I.name)||"未分配"," / ",(P==null?void 0:P.name)||"未分配"]}),d.jsxs("p",{children:["端口数量: ",((D=N.ports)==null?void 0:D.length)||0]})]})]},N.id)})})]})]})]})};let FC;const kKe=new Uint8Array(16);function EKe(){if(!FC&&(FC=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!FC))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return FC(kKe)}const Gi=[];for(let e=0;e<256;++e)Gi.push((e+256).toString(16).slice(1));function TKe(e,t=0){return Gi[e[t+0]]+Gi[e[t+1]]+Gi[e[t+2]]+Gi[e[t+3]]+"-"+Gi[e[t+4]]+Gi[e[t+5]]+"-"+Gi[e[t+6]]+Gi[e[t+7]]+"-"+Gi[e[t+8]]+Gi[e[t+9]]+"-"+Gi[e[t+10]]+Gi[e[t+11]]+Gi[e[t+12]]+Gi[e[t+13]]+Gi[e[t+14]]+Gi[e[t+15]]}const NKe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),MY={randomUUID:NKe};function PY(e,t,r){if(MY.randomUUID&&!e)return MY.randomUUID();e=e||{};const n=e.random||(e.rng||EKe)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,TKe(n)}function AKe(e,t){return A.useReducer((r,n)=>t[r][n]??r,e)}var d1=e=>{const{present:t,children:r}=e,n=jKe(t),i=typeof r=="function"?r({present:n.isPresent}):A.Children.only(r),a=sr(n.ref,RKe(i));return typeof r=="function"||n.isPresent?A.cloneElement(i,{ref:a}):null};d1.displayName="Presence";function jKe(e){const[t,r]=A.useState(),n=A.useRef({}),i=A.useRef(e),a=A.useRef("none"),s=e?"mounted":"unmounted",[o,l]=AKe(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const c=zC(n.current);a.current=o==="mounted"?c:"none"},[o]),Fn(()=>{const c=n.current,u=i.current;if(u!==e){const f=a.current,p=zC(c);e?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Fn(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,h=p=>{const v=zC(n.current).includes(p.animationName);if(p.target===t&&v&&(l("ANIMATION_END"),!i.current)){const m=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=m)})}},f=p=>{p.target===t&&(a.current=zC(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:A.useCallback(c=>{c&&(n.current=getComputedStyle(c)),r(c)},[])}}function zC(e){return(e==null?void 0:e.animationName)||"none"}function RKe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var KB="Dialog",[jde,xvt]=Ys(KB),[IKe,Cl]=jde(KB),Rde=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!0}=e,o=A.useRef(null),l=A.useRef(null),[c=!1,u]=YT({prop:n,defaultProp:i,onChange:a});return d.jsx(IKe,{scope:t,triggerRef:o,contentRef:l,contentId:ah(),titleId:ah(),descriptionId:ah(),open:c,onOpenChange:u,onOpenToggle:A.useCallback(()=>u(h=>!h),[u]),modal:s,children:r})};Rde.displayName=KB;var Ide="DialogTrigger",MKe=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Cl(Ide,r),a=sr(t,i.triggerRef);return d.jsx(Mn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":JB(i.open),...n,ref:a,onClick:Ut(e.onClick,i.onOpenToggle)})});MKe.displayName=Ide;var XB="DialogPortal",[PKe,Mde]=jde(XB,{forceMount:void 0}),Pde=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=Cl(XB,t);return d.jsx(PKe,{scope:t,forceMount:r,children:A.Children.map(n,s=>d.jsx(d1,{present:r||a.open,children:d.jsx(AB,{asChild:!0,container:i,children:s})}))})};Pde.displayName=XB;var eN="DialogOverlay",Lde=A.forwardRef((e,t)=>{const r=Mde(eN,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=Cl(eN,e.__scopeDialog);return a.modal?d.jsx(d1,{present:n||a.open,children:d.jsx(DKe,{...i,ref:t})}):null});Lde.displayName=eN;var LKe=Lp("DialogOverlay.RemoveScroll"),DKe=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Cl(eN,r);return d.jsx(RB,{as:LKe,allowPinchZoom:!0,shards:[i.contentRef],children:d.jsx(Mn.div,{"data-state":JB(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Bp="DialogContent",Dde=A.forwardRef((e,t)=>{const r=Mde(Bp,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=Cl(Bp,e.__scopeDialog);return d.jsx(d1,{present:n||a.open,children:a.modal?d.jsx(OKe,{...i,ref:t}):d.jsx($Ke,{...i,ref:t})})});Dde.displayName=Bp;var OKe=A.forwardRef((e,t)=>{const r=Cl(Bp,e.__scopeDialog),n=A.useRef(null),i=sr(t,r.contentRef,n);return A.useEffect(()=>{const a=n.current;if(a)return eue(a)},[]),d.jsx(Ode,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ut(e.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Ut(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,o=s.button===0&&s.ctrlKey===!0;(s.button===2||o)&&a.preventDefault()}),onFocusOutside:Ut(e.onFocusOutside,a=>a.preventDefault())})}),$Ke=A.forwardRef((e,t)=>{const r=Cl(Bp,e.__scopeDialog),n=A.useRef(!1),i=A.useRef(!1);return d.jsx(Ode,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=e.onCloseAutoFocus)==null||s.call(e,a),a.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((c=r.triggerRef.current)==null?void 0:c.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),Ode=A.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=e,o=Cl(Bp,r),l=A.useRef(null),c=sr(t,l);return _ce(),d.jsxs(d.Fragment,{children:[d.jsx(xB,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:d.jsx(yB,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":JB(o.open),...s,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(BKe,{titleId:o.titleId}),d.jsx(zKe,{contentRef:l,descriptionId:o.descriptionId})]})]})}),ZB="DialogTitle",$de=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Cl(ZB,r);return d.jsx(Mn.h2,{id:i.titleId,...n,ref:t})});$de.displayName=ZB;var Bde="DialogDescription",Fde=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Cl(Bde,r);return d.jsx(Mn.p,{id:i.descriptionId,...n,ref:t})});Fde.displayName=Bde;var zde="DialogClose",Ude=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Cl(zde,r);return d.jsx(Mn.button,{type:"button",...n,ref:t,onClick:Ut(e.onClick,()=>i.onOpenChange(!1))})});Ude.displayName=zde;function JB(e){return e?"open":"closed"}var Hde="DialogTitleWarning",[_vt,Vde]=aVe(Hde,{contentName:Bp,titleName:ZB,docsSlug:"dialog"}),BKe=({titleId:e})=>{const t=Vde(Hde),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return A.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},FKe="DialogDescriptionWarning",zKe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Vde(FKe).contentName}}.`;return A.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},UKe=Rde,HKe=Pde,Wde=Lde,Gde=Dde,qde=$de,Yde=Fde,VKe=Ude;const ou=UKe,WKe=HKe,Kde=A.forwardRef(({className:e,...t},r)=>d.jsx(Wde,{ref:r,className:nr("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Kde.displayName=Wde.displayName;const nc=A.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(WKe,{children:[d.jsx(Kde,{}),d.jsxs(Gde,{ref:n,className:nr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,d.jsxs(VKe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(Ua,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));nc.displayName=Gde.displayName;const ic=({className:e,...t})=>d.jsx("div",{className:nr("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ic.displayName="DialogHeader";const lu=({className:e,...t})=>d.jsx("div",{className:nr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});lu.displayName="DialogFooter";const ac=A.forwardRef(({className:e,...t},r)=>d.jsx(qde,{ref:r,className:nr("text-lg font-semibold leading-none tracking-tight",e),...t}));ac.displayName=qde.displayName;const Qf=A.forwardRef(({className:e,...t},r)=>d.jsx(Yde,{ref:r,className:nr("text-sm text-muted-foreground",e),...t}));Qf.displayName=Yde.displayName;const GKe=({devices:e,selectedDeviceId:t,onDeviceSelect:r,onPortsUpdated:n})=>{const[i,a]=A.useState(e.find(M=>M.id===t)),[s,o]=A.useState(null),[l,c]=A.useState(!1),[u,h]=A.useState(0),[f,p]=A.useState(null),[g,v]=A.useState([]),[m,y]=A.useState(""),[x,_]=A.useState(!1),[b,w]=A.useState(!1),[S,k]=A.useState(null),[C,E]=A.useState(""),T=A.useRef(null),N=A.useRef(null),I=A.useRef(null);A.useEffect(()=>{const M=e.find(R=>R.id===t);a(M),M!=null&&M.panelImage?o(M.panelImage):o(null)},[t,e]);const P=M=>{var U;p(null);const R=(U=M.target.files)==null?void 0:U[0];if(!R){p("No file selected");return}if(!R.type.match("image.*")){p("Please select an image file");return}if(R.size>5*1024*1024){p("File size exceeds 5MB limit");return}const z=new FileReader;z.onprogress=F=>{if(F.lengthComputable){const G=Math.round(F.loaded/F.total*100);h(G),c(!0),p(null)}},z.onload=F=>{var q;const G=(q=F.target)==null?void 0:q.result;o(G),N.current&&(N.current.value=""),c(!1)},z.onerror=()=>{p("Error reading file"),c(!1)},z.readAsDataURL(R)},D=async()=>{if(!s||!i){p("No image available for OCR");return}c(!0),p(null);try{const M=await Tle.createWorker("eng"),R=await M.recognize(s),z=[{text:"Port1",confidence:80,bounds:{x0:50,y0:50,x1:100,y1:70}},{text:"Port2",confidence:85,bounds:{x0:150,y0:50,x1:200,y1:70}}];if(z.length===0)p("No port identifiers detected. Try a clearer image or manually add ports.");else{const U=z.map(F=>({id:PY(),name:F.text,x:F.bounds.x0,y:F.bounds.y0,width:F.bounds.x1-F.bounds.x0,height:F.bounds.y1-F.bounds.y0}));v(F=>[...F,...U])}await M.terminate(),c(!1)}catch(M){console.error("OCR processing error:",M),p("Failed to process the image. Please try again."),c(!1)}},$=M=>{if(!T.current||!I.current||!i)return;const z=T.current.getBoundingClientRect(),U=M.clientX-z.left,F=M.clientY-z.top,G={id:PY(),name:`Port_${g.length+1}`,x:U,y:F,width:30,height:20};k(G),E(G.name),w(!0)},L=()=>{if(!S)return;const M={...S,name:C};v(R=>[...R,M]),w(!1),k(null),E("")},O=M=>{v(R=>R.filter(z=>z.id!==M))},j=()=>{if(!T.current||!I.current)return;const M=T.current,R=M.getContext("2d");R&&(R.clearRect(0,0,M.width,M.height),I.current.complete&&(M.width=I.current.width,M.height=I.current.height,R.drawImage(I.current,0,0),g.forEach(z=>{R.strokeStyle="red",R.lineWidth=2,R.strokeRect(z.x,z.y,z.width,z.height),R.fillStyle="white",R.fillRect(z.x,z.y-20,R.measureText(z.name).width+10,20),R.fillStyle="black",R.font="14px Arial",R.fillText(z.name,z.x+5,z.y-5)})))};return A.useEffect(()=>{if(s){const M=new Image;M.src=s,M.onload=j,I.current=M}},[s]),A.useEffect(()=>{j()},[g]),A.useEffect(()=>{g.length>0&&n(g)},[g,n]),d.jsxs("div",{className:"p-4",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"OCR Port Mapping"}),f&&d.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:f}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Device:"}),d.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded",value:t,onChange:M=>r(M.target.value),children:[d.jsx("option",{value:"",children:"-- Select a device --"}),e.map(M=>d.jsxs("option",{value:M.id,children:[M.name," (",M.model||"Unknown",")"]},M.id))]})]}),i?d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Xe,{children:d.jsxs(Je,{className:"p-4",children:[d.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upload Panel Image"}),d.jsx(cr,{type:"file",ref:N,accept:"image/*",onChange:P,className:"mb-2"}),u>0&&u<100&&d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-4",children:d.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${u}%`}})}),d.jsxs("div",{className:"flex space-x-2 mt-2",children:[d.jsx(Fe,{onClick:()=>{var M;return(M=N.current)==null?void 0:M.click()},variant:"secondary",children:"Browse..."}),d.jsx(Fe,{onClick:D,disabled:!s||l,variant:"default",children:l?"Processing...":"Run OCR"})]})]})}),d.jsx(Xe,{children:d.jsxs(Je,{className:"p-4",children:[d.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Detected Ports"}),g.length===0?d.jsx("p",{className:"text-gray-500",children:"No ports detected yet."}):d.jsx("div",{className:"space-y-2 max-h-60 overflow-auto",children:g.map(M=>d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx(Ce,{variant:"secondary",children:M.name}),d.jsx(Fe,{variant:"destructive",size:"sm",onClick:()=>O(M.id),children:"Delete"})]},M.id))})]})}),d.jsx("div",{className:"col-span-1 md:col-span-2 relative",children:s?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"mb-2 text-sm text-gray-600",children:"Click on the image to manually add port markers, or use OCR to automatically detect ports."}),d.jsxs("div",{className:"relative border border-gray-300 rounded overflow-hidden",children:[d.jsx("img",{src:s,alt:"Device panel",style:{display:"none"}}),d.jsx("canvas",{ref:T,onClick:$,className:"cursor-crosshair"})]})]}):d.jsx("div",{className:"border border-dashed border-gray-300 rounded p-8 text-center text-gray-500",children:"No panel image available. Please upload an image first."})})]}):d.jsx("div",{className:"text-center p-8 text-gray-500",children:"Please select a device to begin port mapping."}),d.jsx(ou,{open:b,onOpenChange:w,children:d.jsxs(nc,{children:[d.jsx(ic,{children:d.jsx(ac,{children:"Name Port"})}),d.jsx("div",{className:"py-4",children:d.jsx(cr,{value:C,onChange:M=>E(M.target.value),placeholder:"Enter port name",className:"w-full"})}),d.jsxs(lu,{children:[d.jsx(Fe,{variant:"secondary",onClick:()=>w(!1),children:"Cancel"}),d.jsx(Fe,{onClick:L,disabled:!C.trim(),children:"Save"})]})]})})]})},qKe=({progress:e,message:t,isVisible:r})=>r?d.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white shadow-md p-3 z-50",children:d.jsxs("div",{className:"container mx-auto max-w-4xl",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:t||"处理中..."}),d.jsxs("span",{className:"text-sm font-medium",children:[e,"%"]})]}),d.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${e}%`}})})]})}):null,YKe=({pods:e,devices:t,portMappings:r,topologyData:n,setTopologyData:i,dataSources:a,onComplete:s})=>{const[o,l]=A.useState(!1),[c,u]=A.useState(0),[h,f]=A.useState(!1),[p,g]=A.useState(""),[v,m]=A.useState(!1),y=!!a.prometheus,x=()=>{if(!y){f(!0),g("需要至少配置Prometheus数据源才能生成拓扑");return}l(!0),f(!1),g(""),u(0);const w=setInterval(()=>{u(S=>{const k=S+Math.floor(Math.random()*10);return k>=100?(clearInterval(w),setTimeout(()=>{l(!1),m(!0),i({nodes:t.map(C=>({id:C.id,label:C.name,type:C.role,status:"up",utilization:Math.floor(Math.random()*90)+10})),links:_(t)}),s()},500),100):k})},300)},_=w=>{const S=[],k=w.filter(T=>T.role==="tor"),C=w.filter(T=>T.role==="leaf"),E=w.filter(T=>T.role==="spine");if(C.length>0)for(const T of k){const N=C.sort(()=>.5-Math.random()).slice(0,Math.min(2,C.length));for(const I of N)S.push({id:`${T.id}-${I.id}`,source:T.id,target:I.id,status:"up",bandwidth:Math.floor(Math.random()*100)})}if(E.length>0)for(const T of C)for(const N of E)S.push({id:`${T.id}-${N.id}`,source:T.id,target:N.id,status:"up",bandwidth:Math.floor(Math.random()*100)});if(C.length===0&&k.length>1)for(let T=0;T<k.length;T++)for(let N=T+1;N<k.length;N++)S.push({id:`${k[T].id}-${k[N].id}`,source:k[T].id,target:k[N].id,status:"up",bandwidth:Math.floor(Math.random()*100)});return S},b=()=>n?d.jsxs("div",{className:"mt-6 p-4 border rounded-md bg-gray-50",children:[d.jsx("h4",{className:"text-lg font-medium mb-3",children:"实时指标采集状态"}),d.jsx("div",{className:"space-y-4",children:Object.entries(a).filter(([w,S])=>S).map(([w,S])=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:w.charAt(0).toUpperCase()+w.slice(1)}),d.jsx("span",{className:"text-sm text-gray-500 ml-2",children:S})]}),d.jsx("div",{className:"flex-1 text-right text-sm",children:d.jsx("span",{className:"text-green-600",children:"数据正常"})})]},w))})]}):null;return d.jsxs("div",{className:"space-y-6",children:[d.jsx("h3",{className:"text-xl font-semibold",children:"🔄 步骤 6: 拓扑构建"}),d.jsx("p",{className:"text-gray-600",children:"根据配置的设备信息和数据源生成网络拓扑图。系统将自动发现设备连接关系并构建可视化拓扑。"}),!y&&d.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-md text-yellow-800",children:d.jsxs("p",{className:"flex items-center",children:[d.jsx("span",{className:"mr-2",children:"⚠️"}),d.jsx("span",{children:"需要配置Prometheus数据源才能生成完整拓扑"})]})}),d.jsx("div",{className:"flex justify-center mt-8",children:d.jsx("button",{onClick:x,disabled:o,className:"px-6 py-3 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300 disabled:bg-gray-300 disabled:cursor-not-allowed",children:o?"生成中...":v?"重新生成拓扑":"生成网络拓扑"})}),d.jsx(qKe,{progress:c,isVisible:o,message:`正在从${a.prometheus}采集设备数据...`}),h&&d.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md text-red-800",children:d.jsx("p",{children:p})}),n&&d.jsxs("div",{className:"mt-8",children:[d.jsx("h4",{className:"text-lg font-medium mb-4",children:"网络拓扑预览"}),d.jsxs("div",{className:"border rounded-md p-4 bg-white",children:[d.jsx("div",{className:"aspect-video bg-gray-50 border rounded-md flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-lg",children:"拓扑生成成功"}),d.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["包含 ",n.nodes.length," 个设备节点和 ",n.links.length," 个链接"]})]})}),d.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"p-3 bg-gray-50 rounded-md",children:[d.jsx("h5",{className:"font-medium mb-2",children:"设备统计"}),d.jsxs("ul",{className:"text-sm space-y-1",children:[d.jsxs("li",{children:["ToR交换机: ",t.filter(w=>w.role==="tor").length," 台"]}),d.jsxs("li",{children:["Leaf交换机: ",t.filter(w=>w.role==="leaf").length," 台"]}),d.jsxs("li",{children:["Spine交换机: ",t.filter(w=>w.role==="spine").length," 台"]}),d.jsxs("li",{children:["其他设备: ",t.filter(w=>!["tor","leaf","spine"].includes(w.role)).length," 台"]})]})]}),d.jsxs("div",{className:"p-3 bg-gray-50 rounded-md",children:[d.jsx("h5",{className:"font-medium mb-2",children:"链接统计"}),d.jsxs("ul",{className:"text-sm space-y-1",children:[d.jsxs("li",{children:["链接总数: ",n.links.length]}),d.jsx("li",{children:"健康状态: 100%"}),d.jsxs("li",{children:["平均带宽利用率: ",Math.floor(n.links.reduce((w,S)=>w+S.bandwidth,0)/n.links.length),"%"]})]})]})]})]})]}),b()]})},KKe=({dataSources:e,setDataSources:t,onComplete:r})=>{const[n,i]=A.useState(!1),[a,s]=A.useState({}),[o,l]=A.useState(!1),[c,u]=A.useState(!1);A.useEffect(()=>{const g=localStorage.getItem("datasource_prometheus"),v=localStorage.getItem("datasource_loki"),m=localStorage.getItem("datasource_influxdb"),y=localStorage.getItem("datasource_elasticsearch"),x={prometheus:g||e.prometheus,loki:v||e.loki,influxdb:m||e.influxdb,elasticsearch:y||e.elasticsearch};(g||v||m||y)&&t(x)},[]),A.useEffect(()=>{e.prometheus?(i(!0),r()):i(!1)},[e,r]);const h=(g,v)=>{t(m=>({...m,[g]:v})),s(m=>{const y={...m};return delete y[g],y})},f=async g=>{if(e[g])try{s(m=>({...m,[g]:{success:!1,message:"正在测试连接..."}})),await new Promise(m=>setTimeout(m,1e3)),!0&&s(m=>({...m,[g]:{success:!0,message:g==="prometheus"?"连接成功！服务器版本: 2.42.0":"连接成功！"}}))}catch(v){s(m=>({...m,[g]:{success:!1,message:"连接错误: "+(v instanceof Error?v.message:String(v))}}))}},p=()=>{u(!0),Object.entries(e).forEach(([g,v])=>{v?localStorage.setItem(`datasource_${g}`,v):localStorage.removeItem(`datasource_${g}`)}),setTimeout(()=>{u(!1),l(!0),setTimeout(()=>l(!1),3e3)},800)};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold mb-2",children:"数据源配置"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"设置网络拓扑数据源，以便从中获取设备状态、连接关系和性能指标"})]}),d.jsxs(Xe,{children:[d.jsxs(dt,{children:[d.jsxs(ht,{children:["Prometheus ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx(rn,{children:"主要数据源，用于监控和获取设备状态及性能指标"})]}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("input",{type:"text",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md",placeholder:"http://prometheus:9090",value:e.prometheus,onChange:g=>h("prometheus",g.target.value)}),d.jsx("button",{className:`px-4 py-2 rounded-md ${e.prometheus?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:!e.prometheus,onClick:()=>f("prometheus"),children:"测试连接"})]}),a.prometheus&&d.jsxs("div",{className:`mt-2 text-sm flex items-center ${a.prometheus.success?"text-green-600":"text-red-600"}`,children:[a.prometheus.success?d.jsx(Ay,{className:"w-4 h-4 mr-1"}):d.jsx(Px,{className:"w-4 h-4 mr-1"}),a.prometheus.message]})]})]}),d.jsxs(Xe,{children:[d.jsxs(dt,{children:[d.jsxs(ht,{children:["Loki ",d.jsx("span",{className:"text-gray-400",children:"(可选)"})]}),d.jsx(rn,{children:"用于采集和查询日志数据"})]}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("input",{type:"text",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md",placeholder:"http://loki:3100",value:e.loki,onChange:g=>h("loki",g.target.value)}),d.jsx("button",{className:`px-4 py-2 rounded-md ${e.loki?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:!e.loki,onClick:()=>f("loki"),children:"测试连接"})]}),a.loki&&d.jsxs("div",{className:`mt-2 text-sm flex items-center ${a.loki.success?"text-green-600":"text-red-600"}`,children:[a.loki.success?d.jsx(Ay,{className:"w-4 h-4 mr-1"}):d.jsx(Px,{className:"w-4 h-4 mr-1"}),a.loki.message]})]})]}),d.jsxs(Xe,{children:[d.jsxs(dt,{children:[d.jsxs(ht,{children:["InfluxDB ",d.jsx("span",{className:"text-gray-400",children:"(可选)"})]}),d.jsx(rn,{children:"用于存储和查询时间序列数据"})]}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("input",{type:"text",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md",placeholder:"http://influxdb:8086",value:e.influxdb,onChange:g=>h("influxdb",g.target.value)}),d.jsx("button",{className:`px-4 py-2 rounded-md ${e.influxdb?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:!e.influxdb,onClick:()=>f("influxdb"),children:"测试连接"})]}),a.influxdb&&d.jsxs("div",{className:`mt-2 text-sm flex items-center ${a.influxdb.success?"text-green-600":"text-red-600"}`,children:[a.influxdb.success?d.jsx(Ay,{className:"w-4 h-4 mr-1"}):d.jsx(Px,{className:"w-4 h-4 mr-1"}),a.influxdb.message]})]})]}),d.jsxs(Xe,{children:[d.jsxs(dt,{children:[d.jsxs(ht,{children:["Elasticsearch ",d.jsx("span",{className:"text-gray-400",children:"(可选)"})]}),d.jsx(rn,{children:"用于搜索和分析日志及其他数据"})]}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("input",{type:"text",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md",placeholder:"http://elasticsearch:9200",value:e.elasticsearch,onChange:g=>h("elasticsearch",g.target.value)}),d.jsx("button",{className:`px-4 py-2 rounded-md ${e.elasticsearch?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:!e.elasticsearch,onClick:()=>f("elasticsearch"),children:"测试连接"})]}),a.elasticsearch&&d.jsxs("div",{className:`mt-2 text-sm flex items-center ${a.elasticsearch.success?"text-green-600":"text-red-600"}`,children:[a.elasticsearch.success?d.jsx(Ay,{className:"w-4 h-4 mr-1"}):d.jsx(Px,{className:"w-4 h-4 mr-1"}),a.elasticsearch.message]})]})]}),d.jsxs("div",{className:"bg-blue-50 p-4 border border-blue-200 rounded-md",children:[d.jsx("h4",{className:"text-blue-800 font-medium",children:"数据源说明"}),d.jsxs("ul",{className:"mt-2 space-y-1 text-sm text-blue-700 list-disc list-inside",children:[d.jsx("li",{children:"Prometheus 是必需的数据源，用于获取设备状态和连接关系"}),d.jsx("li",{children:"LLDP 信息通过 Prometheus 中的 snmp_exporter 采集"}),d.jsx("li",{children:"其他数据源可选，但会提供更丰富的监控功能"}),d.jsx("li",{children:"您可以在拓扑创建完成后再配置或修改数据源"})]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[n&&d.jsxs("div",{className:"text-green-600 text-sm flex items-center",children:[d.jsx(Ay,{className:"w-4 h-4 mr-1"}),"配置有效，已完成此步骤"]}),d.jsx(Fe,{className:`ml-auto ${c?"bg-gray-400":o?"bg-green-500":"bg-green-600 hover:bg-green-700"}`,disabled:c||!e.prometheus,onClick:p,children:c?"保存中...":o?"✓ 已保存":"保存配置"})]})]})},XKe=()=>{const[e,t]=A.useState("step1"),[r,n]=A.useState({podCount:1,architecturePattern:"tor-only"}),[i,a]=A.useState([{id:"1",name:"Pod 1",torCount:2,leafCount:0,spineCount:0,morCount:0,racks:[]}]),[s,o]=A.useState([]),[l,c]=A.useState([]),[u,h]=A.useState(null),[f,p]=A.useState({prometheus:"",loki:"",influxdb:"",elasticsearch:""}),[g,v]=A.useState({step1:!1,step2:!1,step3:!1,step4:!1,step5:!1,step6:!1}),m=E=>{n(T=>({...T,architecturePattern:E})),x("step1")},y=[{id:"step1",title:"定义架构",component:d.jsx(wKe,{onNext:_,onSelectArchitecture:m}),isComplete:g.step1},{id:"step2",title:"Pod结构",component:d.jsx(SKe,{pods:i,setPods:a,fabricConfig:r,onComplete:()=>x("step2")}),isComplete:g.step2},{id:"step3",title:"设备导入",component:d.jsx(CKe,{pods:i,setPods:a,devices:s,setDevices:o,onComplete:()=>x("step3")}),isComplete:g.step3},{id:"step4",title:"OCR端口映射",component:d.jsx(GKe,{devices:s,portMappings:l,setPortMappings:c,setDevices:o,onComplete:()=>x("step4")}),isComplete:g.step4},{id:"step5",title:"数据源配置",component:d.jsx(KKe,{dataSources:f,setDataSources:p,onComplete:()=>x("step5")}),isComplete:g.step5},{id:"step6",title:"拓扑构建",component:d.jsx(YKe,{pods:i,devices:s,portMappings:l,topologyData:u,setTopologyData:h,dataSources:f,onComplete:()=>x("step6")}),isComplete:g.step6}],x=A.useCallback(E=>{v(T=>({...T,[E]:!0}))},[]);function _(){const E=y.findIndex(T=>T.id===e);E<y.length-1&&t(y[E+1].id)}const b=A.useCallback(()=>{const E=y.findIndex(T=>T.id===e);E>0&&t(y[E-1].id)},[e,y]);A.useEffect(()=>{const E=[];for(let T=0;T<r.podCount;T++){const N=i.find(I=>I.id===(T+1).toString());N?E.push(N):E.push({id:(T+1).toString(),name:`Pod ${T+1}`,torCount:2,leafCount:0,spineCount:0,morCount:0,racks:[]})}a(E)},[r.podCount]);const w=()=>{const E=y.find(T=>T.id===e);return E?E.component:null},S=e==="step6",k=e==="step1",C=y.findIndex(E=>E.id===e);return d.jsxs("div",{className:"w-full h-full bg-white shadow-lg rounded-lg p-6",children:[d.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"数据中心网络拓扑设置向导"}),d.jsx("div",{className:"mb-8",children:d.jsx("div",{className:"flex justify-between items-center",children:y.map((E,T)=>d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e===E.id?"bg-blue-500 text-white":E.isComplete?"bg-green-500 text-white":"bg-gray-200 text-gray-500"}`,children:E.isComplete?"✓":T+1}),d.jsx("span",{className:"text-xs mt-2",children:E.title}),T<y.length-1&&d.jsx("div",{className:"hidden sm:block w-full absolute left-0 top-1/2 -translate-y-1/2 z-0",children:d.jsx("div",{className:`h-1 ${T<C?"bg-green-500":"bg-gray-200"}`,style:{width:`${100/(y.length-1)}%`,marginLeft:`${100*T/(y.length-1)}%`}})})]},E.id))})}),d.jsx("div",{className:"mb-8",children:d.jsx(Xe,{className:"p-6",children:w()})}),d.jsxs("div",{className:"flex justify-between mt-6",children:[d.jsx(Fe,{variant:"outline",onClick:b,disabled:k,children:"上一步"}),d.jsx(Fe,{onClick:S?()=>console.log("Wizard complete!"):_,disabled:!g[e],children:S?"完成":"下一步"})]})]})},fa=A.forwardRef(({className:e,asChild:t=!1,...r},n)=>d.jsx("label",{ref:n,className:nr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...r}));fa.displayName="Label";const ZKe=U5("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-700 dark:border-green-500 [&>svg]:text-green-500",warning:"border-yellow-500/50 text-yellow-700 dark:border-yellow-500 [&>svg]:text-yellow-500",info:"border-blue-500/50 text-blue-700 dark:border-blue-500 [&>svg]:text-blue-500",secondary:"border-secondary/50 text-secondary-foreground dark:border-secondary [&>svg]:text-secondary"}},defaultVariants:{variant:"default"}}),$m=A.forwardRef(({className:e,variant:t,...r},n)=>d.jsx("div",{ref:n,role:"alert",className:nr(ZKe({variant:t}),e),...r}));$m.displayName="Alert";const Bm=A.forwardRef(({className:e,...t},r)=>d.jsx("h5",{ref:r,className:nr("mb-1 font-medium leading-none tracking-tight",e),...t}));Bm.displayName="AlertTitle";const Fm=A.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:nr("text-sm [&_p]:leading-relaxed",e),...t}));Fm.displayName="AlertDescription";var QB="Checkbox",[JKe,bvt]=Ys(QB),[QKe,eXe]=JKe(QB),Xde=A.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:s,disabled:o,value:l="on",onCheckedChange:c,form:u,...h}=e,[f,p]=A.useState(null),g=sr(t,b=>p(b)),v=A.useRef(!1),m=f?u||!!f.closest("form"):!0,[y=!1,x]=YT({prop:i,defaultProp:a,onChange:c}),_=A.useRef(y);return A.useEffect(()=>{const b=f==null?void 0:f.form;if(b){const w=()=>x(_.current);return b.addEventListener("reset",w),()=>b.removeEventListener("reset",w)}},[f,x]),d.jsxs(QKe,{scope:r,state:y,disabled:o,children:[d.jsx(Mn.button,{type:"button",role:"checkbox","aria-checked":sh(y)?"mixed":y,"aria-required":s,"data-state":Qde(y),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:g,onKeyDown:Ut(e.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Ut(e.onClick,b=>{x(w=>sh(w)?!0:!w),m&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),m&&d.jsx(tXe,{control:f,bubbles:!v.current,name:n,value:l,checked:y,required:s,disabled:o,form:u,style:{transform:"translateX(-100%)"},defaultChecked:sh(a)?!1:a})]})});Xde.displayName=QB;var Zde="CheckboxIndicator",Jde=A.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,a=eXe(Zde,r);return d.jsx(d1,{present:n||sh(a.state)||a.state===!0,children:d.jsx(Mn.span,{"data-state":Qde(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});Jde.displayName=Zde;var tXe=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:i,...a}=e,s=A.useRef(null),o=jB(r),l=Q2(t);A.useEffect(()=>{const u=s.current,h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(o!==r&&p){const g=new Event("click",{bubbles:n});u.indeterminate=sh(r),p.call(u,sh(r)?!1:r),u.dispatchEvent(g)}},[o,r,n]);const c=A.useRef(sh(r)?!1:r);return d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...a,tabIndex:-1,ref:s,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function sh(e){return e==="indeterminate"}function Qde(e){return sh(e)?"indeterminate":e?"checked":"unchecked"}var rXe=Xde,nXe=Jde;const ep=A.forwardRef(({className:e,...t},r)=>d.jsx(rXe,{ref:r,className:nr("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:d.jsx(nXe,{className:nr("flex items-center justify-center text-current"),children:d.jsx(Mw,{className:"h-4 w-4"})})}));ep.displayName="Checkbox";function iXe(e={}){return{id:"disabled",dismiss:()=>{},update:()=>{}}}function ehe(){return{toasts:[],toast:iXe,dismiss:()=>{}}}const the=A.forwardRef(({className:e,...t},r)=>d.jsx("textarea",{className:nr("flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));the.displayName="Textarea";const LY="network-deployment-devices",DY="network-deployment-subnet",OY="network-deployment-active-tab",$Y="network-deployment-lldp-selected-devices",BY="network-deployment-config-selected-devices",FY="network-deployment-ssh-credentials",zY="network-deployment-snapshot-search",UY="network-deployment-history-search",HY="network-deployment-show-all-history",VY="network-deployment-topology-selected-devices",WY="network-deployment-topology-devices-roles",pM="network-deployment-topology-form",GY="network-deployment-lldp-devices-data",qY="network-deployment-config-results",YY="network-deployment-snapshots-data",KY="network-deployment-snapshot-history",XY="network-deployment-toast-enable",Nn=3e3,aXe=()=>{const{toast:e}=ehe(),{language:t,t:r}=q5(),[n,i]=A.useState(()=>localStorage.getItem(XY)==="true"),[a,s]=A.useState(()=>localStorage.getItem(OY)||"device-discovery"),[o,l]=A.useState(()=>localStorage.getItem(DY)||"192.168.1.0/24"),[c,u]=A.useState(!1),[h,f]=A.useState(!1),[p,g]=A.useState(null),[v,m]=A.useState(()=>{const X=localStorage.getItem(LY);return X?JSON.parse(X):[]}),[y,x]=A.useState([]),[_,b]=A.useState(""),[w,S]=A.useState(""),[k,C]=A.useState(1),[E,T]=A.useState(1),[N,I]=A.useState(!1),[P,D]=A.useState(()=>{const X=localStorage.getItem($Y);return X?JSON.parse(X):[]}),[$,L]=A.useState(()=>{const X=localStorage.getItem(GY);return X?JSON.parse(X):[]}),[O,j]=A.useState(!1),[M,R]=A.useState(null),[z,U]=A.useState(()=>{const X=localStorage.getItem(BY);return X?JSON.parse(X):[]}),[F,G]=A.useState(""),[q,K]=A.useState(!1),[B,W]=A.useState(null),[Y,Z]=A.useState(()=>{const X=localStorage.getItem(qY);return X?JSON.parse(X):null}),[Q,re]=A.useState(()=>{const X=localStorage.getItem(FY);return X?JSON.parse(X):{username:"admin",password:"Micas123"}}),[me,Ee]=A.useState([]),[Ne,Me]=A.useState([]),[Ae,Ie]=A.useState(()=>{const X=localStorage.getItem(YY);return X?JSON.parse(X):[]}),[bt,pt]=A.useState(!1),[fe,et]=A.useState(null),[He,Gt]=A.useState(()=>localStorage.getItem(zY)||""),[tt,ee]=A.useState(1),[se,J]=A.useState(()=>{const X=localStorage.getItem(KY);return X?JSON.parse(X):[]}),[ne,le]=A.useState(!1),[Re,ze]=A.useState(()=>localStorage.getItem(UY)||""),[Te,Dt]=A.useState(1),[It,gr]=A.useState(()=>localStorage.getItem(HY)==="true"),Mt=10,qt=20,[on,Di]=A.useState(!1),[it,oe]=A.useState({content:"",deviceInfo:""}),[be,Ye]=A.useState(()=>{const X=localStorage.getItem(VY);return X?JSON.parse(X):[]}),[ur,Gn]=A.useState([]),[br,Pn]=A.useState([]),[ka,ks]=A.useState(!1),[ia,dr]=A.useState(null),hn=A.useRef(null),[Ks,mg]=A.useState(!1),[W0,G0]=A.useState(!1),[j1,Tl]=A.useState(null),[Xs,Zs]=A.useState(()=>{const X=localStorage.getItem(pM);return X?JSON.parse(X):{topology_name:"",description:"",created_by:"admin"}}),[Nl,R1]=A.useState([]),[Gu,I1]=A.useState(()=>localStorage.getItem("llm_agent_server_ip")||""),[q0,Y0]=A.useState(!1),[K0,M1]=A.useState([]),[P1,L1]=A.useState([]),D1=async()=>{try{const X=await fetch("http://localhost:5678/webhook/deploy/ask-script-done",{method:"POST",headers:{"Content-Type":"application/json"}});if(!X.ok)throw new Error("Failed to fetch deployed agents");const he=await X.json();L1(he)}catch(X){console.error("Error fetching deployed agents:",X)}};A.useEffect(()=>{a==="llm-agent-deploy"&&D1()},[a]);const X0=X=>/^(\d{1,3}\.){3}\d{1,3}$/.test(X)?X.split(".").every(ve=>{const we=parseInt(ve,10);return we>=0&&we<=255}):!1,Z0=X=>{R1(he=>he.includes(X)?he.filter(ue=>ue!==X):[...he,X])},O1=async()=>{if(!(!X0(Gu)||Nl.length===0)){Y0(!0),localStorage.setItem("llm_agent_server_ip",Gu);try{const X=await fetch("http://localhost:5678/webhook/deploy/ask-script",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ip_address:Nl,webhook_ip:Gu})});if(!X.ok)throw new Error("Deployment failed");const he=await X.json();M1(he.map(ue=>({ip_address:Nl[he.indexOf(ue)],status:ue.status,time:ue.time}))),e({title:r("deploymentComplete"),description:he.every(ue=>ue.status==="success")?r("deploymentSuccess"):r("deploymentPartialFailure"),variant:he.every(ue=>ue.status==="success")?"default":"destructive"})}catch(X){console.error("Deployment error:",X),e({title:r("deploymentError"),description:r("deploymentErrorDesc"),variant:"destructive"})}finally{Y0(!1)}}};A.useEffect(()=>{localStorage.setItem(LY,JSON.stringify(v))},[v]),A.useEffect(()=>{localStorage.setItem(DY,o)},[o]),A.useEffect(()=>{localStorage.setItem(OY,a),console.log("保存标签页设置:",a)},[a]),A.useEffect(()=>{localStorage.setItem($Y,JSON.stringify(P))},[P]),A.useEffect(()=>{localStorage.setItem(BY,JSON.stringify(z))},[z]),A.useEffect(()=>{localStorage.setItem(FY,JSON.stringify(Q))},[Q]),A.useEffect(()=>{localStorage.setItem(zY,He)},[He]),A.useEffect(()=>{localStorage.setItem(UY,Re)},[Re]),A.useEffect(()=>{localStorage.setItem(HY,It.toString())},[It]),A.useEffect(()=>{localStorage.setItem(VY,JSON.stringify(be))},[be]),A.useEffect(()=>{localStorage.setItem(WY,JSON.stringify(ur))},[ur]),A.useEffect(()=>{localStorage.setItem(pM,JSON.stringify(Xs))},[Xs]),A.useEffect(()=>{localStorage.setItem(GY,JSON.stringify($))},[$]),A.useEffect(()=>{Y&&localStorage.setItem(qY,JSON.stringify(Y))},[Y]),A.useEffect(()=>{localStorage.setItem(YY,JSON.stringify(Ae))},[Ae]),A.useEffect(()=>{localStorage.setItem(KY,JSON.stringify(se))},[se]),A.useEffect(()=>{localStorage.setItem(XY,n.toString())},[n]);const Dc=async()=>{var X,he,ue;I(!0);try{console.log("开始请求设备列表...");const ve=await $t.get("/webhook/api/network-devices");if(console.log("API响应数据:",ve.data),ve.data&&ve.data.status==="success")if(console.log("响应状态成功，检查data字段:",ve.data.data),Array.isArray(ve.data.data)){console.log(`找到${ve.data.data.length}个设备`),x(ve.data.data);const{dismiss:we}=fn({title:"设备加载成功",description:`已加载 ${ve.data.data.length} 台设备`});setTimeout(we,Nn)}else console.error("API响应的data字段不是数组:",ve.data.data),x([]),console.log("API返回格式不正确，但不显示错误提示");else console.error("API响应状态不是success:",(X=ve.data)==null?void 0:X.status),x([]),console.log("API响应状态不是success，但不显示错误提示")}catch(ve){console.error("获取设备失败:",ve);let we="获取设备数据时出现未知错误";ve.response?(console.error("HTTP错误响应:",ve.response.status,ve.response.data),ve.response.status===500?we="服务器内部错误，请联系管理员":we=`服务器错误 (${ve.response.status}): ${((ue=(he=ve.response)==null?void 0:he.data)==null?void 0:ue.reason)||ve.message}`):ve.request?(console.error("未收到响应:",ve.request),we="服务器未响应，请检查网络连接"):(console.error("请求配置错误:",ve.message),we=`请求错误: ${ve.message}`),x([]),console.log("网络请求出错，但不显示错误提示:",we)}finally{I(!1)}};A.useEffect(()=>{console.log("选项卡变更为:",a),a==="device-list"?(console.log("正在加载设备列表..."),Dc()):a==="snapshot-history"&&(console.log("正在加载快照历史..."),oy())},[a]);const J0=v.filter(X=>{const he=_.toLowerCase();return(X.ip_address||"").toLowerCase().includes(he)||(X.hostname||"").toLowerCase().includes(he)||(X.vendor_hw||"").toLowerCase().includes(he)||(X.hw_sku||"").toLowerCase().includes(he)||(X.vendor_sw||"").toLowerCase().includes(he)}),Es=y.filter(X=>{const he=w.toLowerCase();return(X.ip_address||"").toLowerCase().includes(he)||(X.hostname||"").toLowerCase().includes(he)||(X.vendor_hw||"").toLowerCase().includes(he)||(X.hw_sku||"").toLowerCase().includes(he)||(X.vendor_sw||"").toLowerCase().includes(he)}),Hh=Math.ceil(J0.length/Mt),Vh=Math.ceil(Es.length/Mt),$1=J0.slice((k-1)*Mt,k*Mt),Q0=Es.slice((E-1)*Mt,E*Mt),B1=async()=>{var X,he;if(!(!o||h)){f(!0),g(null);try{if(!o.match(/^\d+\.\d+\.\d+\.\d+\/\d+$/))throw new Error("请输入有效的子网格式，如 192.168.1.0/24");const ue=await $t.post("/webhook/discover-devices",{subnet:o});if(ue.data&&ue.data.status==="fail"){m([]);const{dismiss:ve}=fn({variant:"default",title:"扫描结果",description:ue.data.reason||"未发现任何活跃设备"});setTimeout(ve,Nn);return}if(Array.isArray(ue.data.data)){m(ue.data.data);const{dismiss:ve}=fn({title:"扫描完成",description:`发现了 ${ue.data.data.length} 个设备`});setTimeout(ve,Nn)}else throw new Error("扫描返回了意外的响应格式")}catch(ue){console.error("扫描失败:",ue);let ve="扫描过程中出现未知错误";if(ue.response)ue.response.status===500?ve="服务器内部错误，请联系管理员":ve=`服务器错误 (${ue.response.status}): ${((he=(X=ue.response)==null?void 0:X.data)==null?void 0:he.reason)||ue.message}`;else if(ue.request){console.error("未收到响应:",ue.request),ve="服务器未响应，请检查网络连接",g(null);return}else ve=`请求错误: ${ue.message}`;if(g(null),!ue.request){const{dismiss:we}=fn({variant:"destructive",title:"扫描失败",description:ve});setTimeout(we,Nn)}}finally{f(!1),C(1)}}},ey=X=>{X<1||X>Hh||C(X)},ty=X=>{X<1||X>Vh||T(X)},Ir=X=>X||r("unknown"),F1=X=>{D(he=>he.includes(X)?he.filter(ue=>ue!==X):[...he,X])},z1=async()=>{var X,he;if(P.length===0){const{dismiss:ue}=fn({variant:"destructive",title:"请选择设备",description:"请至少选择一个设备以获取LLDP拓扑信息"});setTimeout(ue,Nn);return}j(!0),R(null);try{console.log("正在获取选中设备的LLDP信息:",P);const ue="http://localhost:5678/webhook/networkdeploy/getlldp";console.log("请求URL:",ue);const ve={devices:P.map(rt=>({ip_address:rt}))};console.log("请求参数:",ve);const we=await $t.post(ue,ve);if(console.log("LLDP API响应状态码:",we.status),console.log("LLDP API响应数据:",we.data),we.data&&Array.isArray(we.data))console.log("获取到LLDP信息:",we.data.length,"个设备"),L(we.data);else if(we.data&&we.data.status==="success"&&Array.isArray(we.data.data))console.log("获取到LLDP信息:",we.data.data.length,"个设备"),L(we.data.data);else throw new Error("API返回的数据格式不正确")}catch(ue){console.error("获取LLDP信息失败:",ue);let ve="获取LLDP信息时出现未知错误";if(ue.response)console.error("HTTP错误状态码:",ue.response.status),console.error("HTTP错误数据:",ue.response.data),ue.response.status===500?ve="服务器内部错误，请联系管理员":ve=`服务器错误 (${ue.response.status}): ${((he=(X=ue.response)==null?void 0:X.data)==null?void 0:he.message)||ue.message}`;else if(ue.request){console.error("请求已发送但未收到响应:",ue.request),ve="服务器未响应，请检查网络连接",R(null);return}else console.error("请求错误:",ue.message),ve=`请求错误: ${ue.message}`;if(R(null),!ue.request){const{dismiss:we}=fn({variant:"destructive",title:"获取LLDP失败",description:ve});setTimeout(we,Nn)}}finally{j(!1)}},ry=X=>{U(he=>he.includes(X)?he.filter(ue=>ue!==X):[...he,X])},U1=()=>{z.length===Es.length?U([]):U(Es.map(X=>X.ip_address))},H1=async()=>{var X,he;if(z.length===0){const{dismiss:ue}=fn({variant:"destructive",title:"请选择设备",description:"请至少选择一个设备以提取配置"});setTimeout(ue,Nn);return}K(!0),W(null);try{console.log("正在获取选中设备的配置:",z);const ue="http://localhost:5678/webhook/networkdeploy/getconfig";console.log("请求URL:",ue);const we={devices:z.map(Tr=>{const or=y.find(Jt=>Jt.ip_address===Tr)||v.find(Jt=>Jt.ip_address===Tr);return{ip_address:Tr,ssh_user:Q.username,ssh_pass:Q.password,vendor_sw:(or==null?void 0:or.vendor_sw)||"unknown",vendor_hw:(or==null?void 0:or.vendor_hw)||"unknown",hostname:(or==null?void 0:or.hostname)||"unknown",hw_sku:(or==null?void 0:or.hw_sku)||"unknown"}})};console.log("请求参数:",we);const rt=await $t.post(ue,we);if(console.log("配置提取API响应状态码:",rt.status),console.log("配置提取API响应数据:",rt.data),rt.data&&rt.data.summary&&Array.isArray(rt.data.result)){const Tr=rt.data.result.map(si=>(si.status==="success"&&si.config_link&&(console.log(`原始配置链接 (${si.ip_address}):`,si.config_link),!si.config_link.startsWith("http")&&!si.config_link.startsWith("/")&&si.config_link.includes("webhook")&&(si.config_link=`/webhook/${si.config_link}`,console.log("修正后配置链接:",si.config_link))),si)),or={...rt.data,result:Tr};Z(or);const{total_count:Jt,success_count:Mr,error_count:Js}=rt.data.summary,{dismiss:Ts}=fn({title:"配置提取完成",description:`总计${Jt}台设备，成功${Mr}台，失败${Js}台`});setTimeout(Ts,Nn),console.log("配置提取结果汇总:",rt.data.summary);const _g=or.result.filter(si=>si.status==="success");console.log(`成功提取了${_g.length}个设备的配置:`),_g.forEach(si=>{console.log(`设备 ${si.ip_address} (${si.hostname}) 的配置链接:`,si.config_link)})}else throw new Error("API返回的数据格式不正确")}catch(ue){console.error("获取设备配置失败:",ue);let ve="获取设备配置时出现未知错误";if(ue.response?(console.error("HTTP错误状态码:",ue.response.status),console.error("HTTP错误数据:",ue.response.data),ue.response.status===500?ve="服务器内部错误，请联系管理员":ve=`服务器错误 (${ue.response.status}): ${((he=(X=ue.response)==null?void 0:X.data)==null?void 0:he.message)||ue.message}`):ue.request?(console.error("请求已发送但未收到响应:",ue.request),ve="服务器未响应，请检查网络连接"):(console.error("请求错误:",ue.message),ve=`请求错误: ${ue.message}`),W(null),!ue.request){const{dismiss:we}=fn({variant:"destructive",title:"获取配置失败",description:ve});setTimeout(we,Nn)}}finally{K(!1)}},vg=X=>{if(console.log("格式化配置链接:",X),!X)return console.error("配置链接为空"),"";if(X.includes("webhook")&&!X.startsWith("http")){const ve="http://localhost:5678";return X.startsWith("/")?`${ve}${X}`:`${ve}/${X}`}if(X.startsWith("http"))return X;const he=X.match(/ip=([^&]+)/);if(he){const ve=he[1];return console.log("从链接中提取的IP:",ve),`http://localhost:5678/webhook/api/getconfig?ip=${ve}`}const ue="http://localhost:5678";return X.startsWith("/")?`${ue}${X}`:`${ue}/${X}`},ny=X=>{var he;try{console.log("开始格式化配置数据，类型:",typeof X);let ue=X;if(typeof X=="string")try{ue=JSON.parse(X),console.log("将字符串配置解析为对象")}catch{return console.log("配置不是有效的JSON字符串，保持原样"),X}if(Array.isArray(ue)){console.log("配置数据是数组，长度:",ue.length);const ve=((he=ue[0])==null?void 0:he.raw_config)||"";if(console.log("获取到raw_config字段:",typeof ve),!ve)return console.log("raw_config为空，返回整个数组"),JSON.stringify(ue,null,2);try{const we=JSON.parse(ve);return console.log("成功解析raw_config"),JSON.stringify(we,null,2)}catch(we){return console.error("解析raw_config失败:",we),ve}}else if(ue&&typeof ue=="object"){if(console.log("配置数据是单个对象"),ue.raw_config)try{const ve=JSON.parse(ue.raw_config);return console.log("成功解析对象中的raw_config"),JSON.stringify(ve,null,2)}catch(ve){return console.error("解析对象中的raw_config失败:",ve),ue.raw_config}return JSON.stringify(ue,null,2)}return console.log("Unrecognized data format, returning original data"),JSON.stringify(ue,null,2)}catch(ue){return console.error("Error during formatting:",ue),"Unable to parse configuration data"}},V1=async(X,he)=>{if(!X)return;Me(ve=>[...ve,he]),console.log("查看配置 - 原始链接:",X);const ue=vg(X);console.log("查看配置 - 完整URL:",ue);try{const ve=await $t.get(ue);console.log("获取到配置数据:",ve.data);const we=y.find(Jt=>Jt.ip_address===he)||v.find(Jt=>Jt.ip_address===he),rt=`${he} | ${(we==null?void 0:we.hostname)||"未知主机"} | ${(we==null?void 0:we.vendor_hw)||"未知厂商"} ${(we==null?void 0:we.hw_sku)||"未知型号"}`,Tr=ny(ve.data);oe({content:Tr,deviceInfo:rt}),Di(!0);const{dismiss:or}=fn({title:"配置已加载",description:`已加载设备${he}的配置`});setTimeout(or,Nn)}catch(ve){console.error("获取配置失败:",ve);const{dismiss:we}=fn({variant:"destructive",title:"查看失败",description:"无法获取设备配置"});setTimeout(we,Nn)}finally{Me(ve=>ve.filter(we=>we!==he))}},W1=async(X,he)=>{if(X){Ee(ue=>[...ue,he]);try{console.log("下载配置 - 原始链接:",X);const ue=vg(X);console.log("下载配置 - 完整URL:",ue);try{const ve=await $t.get(ue,{responseType:"blob"});console.log("下载配置 - 响应类型:",ve.headers["content-type"]),console.log("下载配置 - 响应大小:",ve.data.size);const we=X.match(/ip=([^&]+)/),rt=we?we[1]:he||"device";console.log("下载配置 - 提取的IP:",rt);const Tr=new Blob([ve.data],{type:"text/plain"}),or=window.URL.createObjectURL(Tr),Jt=document.createElement("a");Jt.href=or,Jt.download=`config-${rt}-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(Jt),Jt.click(),document.body.removeChild(Jt);const{dismiss:Mr}=fn({title:"下载成功",description:`设备${rt}的配置已下载`});setTimeout(Mr,Nn)}catch(ve){console.error("第一种下载方式失败:",ve);const we=await fetch(ue);if(!we.ok)throw new Error(`HTTP错误: ${we.status}`);const rt=await we.blob();console.log("Fetch下载 - 响应类型:",we.headers.get("content-type")),console.log("Fetch下载 - 响应大小:",rt.size);const Tr=X.match(/ip=([^&]+)/),or=Tr?Tr[1]:he||"device",Jt=window.URL.createObjectURL(rt),Mr=document.createElement("a");Mr.href=Jt,Mr.download=`config-${or}-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(Mr),Mr.click(),document.body.removeChild(Mr);const{dismiss:Js}=fn({title:"下载成功",description:`设备${or}的配置已下载 (通过Fetch)`});setTimeout(Js,Nn)}}catch(ue){console.error("下载配置失败:",ue);const{dismiss:ve}=fn({variant:"destructive",title:"下载失败",description:"无法下载设备配置文件，请检查控制台日志"});setTimeout(ve,Nn)}finally{Ee(ue=>ue.filter(ve=>ve!==he))}}},iy=y.filter(X=>{const he=F.toLowerCase();return(X.ip_address||"").toLowerCase().includes(he)||(X.hostname||"").toLowerCase().includes(he)||(X.vendor_hw||"").toLowerCase().includes(he)||(X.hw_sku||"").toLowerCase().includes(he)||(X.vendor_sw||"").toLowerCase().includes(he)}),G1=async()=>{var X,he;pt(!0),et(null);try{console.log("开始创建配置快照...");const ue=new Date().toISOString(),ve="http://localhost:5678/webhook/networkdeploy/snapshot",we={snapshot_time:ue};console.log("快照请求参数:",we);const rt=await $t.post(ve,we);if(console.log("快照API响应:",rt.data),Array.isArray(rt.data)){Ie(rt.data);const{dismiss:Tr}=fn({title:"快照创建成功",description:`已为${rt.data.length}台设备创建配置快照`});setTimeout(Tr,Nn)}else throw new Error("API返回的数据格式不正确")}catch(ue){console.error("创建快照失败:",ue);let ve="创建快照时出现未知错误";if(ue.response)console.error("HTTP错误响应:",ue.response.status,ue.response.data),ue.response.status===500?ve="服务器内部错误，请联系管理员":ve=`服务器错误 (${ue.response.status}): ${((he=(X=ue.response)==null?void 0:X.data)==null?void 0:he.reason)||ue.message}`;else if(ue.request){console.error("未收到响应:",ue.request),ve="服务器未响应，请检查网络连接",et(null);return}else console.error("请求配置错误:",ue.message),ve=`请求错误: ${ue.message}`;if(et(null),!ue.request){const{dismiss:we}=fn({variant:"destructive",title:"创建快照失败",description:ve});setTimeout(we,Nn)}}finally{pt(!1)}},ay=Ae.filter(X=>{const he=He.toLowerCase();return(X.ip_address||"").toLowerCase().includes(he)||(X.hostname||"").toLowerCase().includes(he)||(X.vendor_hw||"").toLowerCase().includes(he)||(X.hw_sku||"").toLowerCase().includes(he)||(X.vendor_sw||"").toLowerCase().includes(he)||(X.version_tag||"").toLowerCase().includes(he)}),Wh=Math.ceil(ay.length/Mt),q1=ay.slice((tt-1)*Mt,tt*Mt),sy=X=>{X<1||X>Wh||ee(X)},yg=X=>{try{return new Date(X).toLocaleString()}catch(he){return console.error("日期格式化错误:",he),X||"未知"}},oy=async()=>{var X,he,ue,ve,we;le(!0),J([]);try{console.log("开始获取快照历史...");const rt="http://localhost:5678/webhook/networkdeploy/getallsnapshot";console.log("请求URL:",rt);const or=await(await fetch(rt,{method:"POST",headers:{"Content-Type":"application/json","Cache-Control":"no-cache"},body:JSON.stringify({})})).text();console.log("原始响应文本长度:",or.length),console.log("原始响应文本前100个字符:",or.substring(0,100));let Jt;try{Jt=JSON.parse(or),console.log("解析后的数据类型:",typeof Jt),console.log("数据结构:",Object.keys(Jt))}catch(Ts){throw console.error("解析JSON失败:",Ts),new Error("服务器返回的不是有效的JSON数据")}let Mr=[];if(Jt&&typeof Jt=="object"&&"status"in Jt&&"data"in Jt)console.log("检测到标准API响应格式，status=",Jt.status),Jt.status==="success"&&Array.isArray(Jt.data)?(Mr=Jt.data,console.log(`成功从标准API响应获取${Mr.length}条记录`)):console.warn("API响应status不是success或data不是数组:",Jt.status,Array.isArray(Jt.data));else if(Array.isArray(Jt))Mr=Jt,console.log(`API直接返回数组，包含${Mr.length}条记录`);else if(Jt&&typeof Jt=="object"){for(const Ts in Jt)if(Array.isArray(Jt[Ts])&&Jt[Ts].length>0){Mr=Jt[Ts],console.log(`从字段 ${Ts} 中找到数组，包含${Mr.length}条记录`);break}Mr.length===0&&(console.log("找不到数组字段，尝试包装对象本身"),Mr=[Jt])}console.log("最终处理后的数据条数:",Mr.length),Mr.length>0?console.log("数据示例:",JSON.stringify(Mr[0]).substring(0,100)+"..."):console.warn("处理后的数据为空数组"),J(Mr),Dt(1);const{dismiss:Js}=fn({title:"快照历史加载成功",description:`已加载 ${Mr.length} 条快照历史记录`});setTimeout(Js,Nn)}catch(rt){console.error("获取快照历史失败:",rt);let Tr="获取快照历史时出现未知错误";"response"in rt?(console.error("HTTP错误响应:",(X=rt.response)==null?void 0:X.status,(he=rt.response)==null?void 0:he.data),Tr=`服务器错误 (${(ue=rt.response)==null?void 0:ue.status}): ${((we=(ve=rt.response)==null?void 0:ve.data)==null?void 0:we.reason)||rt.message}`):"request"in rt?(console.error("未收到响应:",rt.request),Tr="服务器未响应，请检查网络连接"):(console.error("请求配置错误:",rt.message),Tr=`请求错误: ${rt.message}`),J([]);const{dismiss:or}=fn({variant:"destructive",title:"获取快照历史失败",description:Tr});setTimeout(or,Nn)}finally{le(!1)}},Oc=se.filter(X=>{if(!Re.trim())return!0;const he=Re.toLowerCase();return(X.ip_address||"").toLowerCase().includes(he)||(X.hostname||"").toLowerCase().includes(he)||(X.vendor_hw||"").toLowerCase().includes(he)||(X.hw_sku||"").toLowerCase().includes(he)||(X.vendor_sw||"").toLowerCase().includes(he)||(X.version_tag||"").toLowerCase().includes(he)}),Al=Math.max(1,Math.ceil(Oc.length/qt));A.useEffect(()=>{Te>Al&&Al>0&&Dt(1)},[Oc.length,Te,Al]);const xg=Oc.slice((Te-1)*qt,Te*qt),ly=X=>{X<1||X>Al||Dt(X)},Y1=()=>{try{const X=it.deviceInfo.match(/^([^|]+)/),he=X?X[1].trim():"device",ue=new Blob([it.content],{type:"application/json"}),ve=window.URL.createObjectURL(ue),we=document.createElement("a");we.href=ve,we.download=`config-${he}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(we),we.click(),document.body.removeChild(we),window.URL.revokeObjectURL(ve);const{dismiss:rt}=fn({title:"下载成功",description:"配置已下载为JSON文件"});setTimeout(rt,Nn)}catch(X){console.error("下载JSON配置失败:",X);const{dismiss:he}=fn({variant:"destructive",title:"下载失败",description:"无法下载JSON配置文件"});setTimeout(he,Nn)}},K1=async(X,he)=>{if(X){Ee(ue=>[...ue,he]);try{console.log("下载JSON配置 - 原始链接:",X);const ue=vg(X);console.log("下载JSON配置 - 完整URL:",ue);const ve=await $t.get(ue);console.log("获取到JSON配置数据:",ve.data);const we=ny(ve.data),rt=X.match(/ip=([^&]+)/),Tr=rt?rt[1]:he||"device",or=new Blob([we],{type:"application/json"}),Jt=window.URL.createObjectURL(or),Mr=document.createElement("a");Mr.href=Jt,Mr.download=`config-${Tr}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Mr),Mr.click(),document.body.removeChild(Mr),window.URL.revokeObjectURL(Jt);const{dismiss:Js}=fn({title:"下载成功",description:`设备${Tr}的配置已下载为JSON文件`});setTimeout(Js,Nn)}catch(ue){console.error("下载JSON配置失败:",ue);const{dismiss:ve}=fn({variant:"destructive",title:"下载失败",description:"无法下载JSON配置文件"});setTimeout(ve,Nn)}finally{Ee(ue=>ue.filter(ve=>ve!==he))}}},fn=X=>n?e(X):{dismiss:()=>{}};A.useEffect(()=>{const X=localStorage.getItem(WY);if(X)try{const he=JSON.parse(X),ue=y.map(ve=>{const we=he.find(rt=>rt.ip_address===ve.ip_address);return{...ve,role:we==null?void 0:we.role}});Gn(ue),console.log("已从localStorage恢复设备角色配置")}catch(he){console.error("解析保存的设备角色时出错:",he);const ue=y.map(ve=>({...ve,role:void 0}));Gn(ue)}else{const he=y.map(ue=>({...ue,role:void 0}));Gn(he)}},[y]);const X1=X=>{Ye(he=>he.includes(X)?he.filter(ue=>ue!==X):[...he,X])},Z1=()=>{be.length===Es.length?Ye([]):Ye(Es.map(X=>X.ip_address))},J1=(X,he)=>{Gn(ue=>ue.map(ve=>ve.ip_address===X?{...ve,role:he}:ve))},Q1=async()=>{var ue,ve;if(be.length===0){const{dismiss:we}=fn({variant:"destructive",title:"请选择设备",description:"请至少选择一个设备以生成拓扑"});setTimeout(we,Nn);return}const X=ur.filter(we=>be.includes(we.ip_address)),he=X.filter(we=>!we.role);if(he.length>0){const{dismiss:we}=fn({variant:"destructive",title:"角色未指定",description:`请为所有选中设备指定角色（${he.length}个设备未指定）`});setTimeout(we,Nn);return}ks(!0),dr(null);try{const we=X.map(Tr=>({hostname:Tr.hostname||"",ip:Tr.ip_address,role:Tr.role}));console.log("生成拓扑 - 请求数据:",{devices:we});const rt=await $t.post("/webhook/api/network-deployment/topology/generate",{devices:we},{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},withCredentials:!1});if(console.log("生成拓扑 - 响应数据:",rt.data),Array.isArray(rt.data)){Pn(rt.data);const{dismiss:Tr}=fn({title:"拓扑生成成功",description:`已为${rt.data.length}台设备生成拓扑`});setTimeout(Tr,Nn),setTimeout(()=>{eS(rt.data)},500)}else throw new Error("API返回的数据格式不正确")}catch(we){console.error("生成拓扑失败:",we);let rt="生成拓扑时出现未知错误";we.response?(console.error("HTTP错误状态码:",we.response.status),console.error("HTTP错误数据:",we.response.data),we.response.status===500?rt="服务器内部错误，请联系管理员":rt=`服务器错误 (${we.response.status}): ${((ve=(ue=we.response)==null?void 0:ue.data)==null?void 0:ve.message)||we.message}`):we.request?(console.error("请求已发送但未收到响应:",we.request),rt="服务器未响应，请检查网络连接"):(console.error("请求错误:",we.message),rt=`请求错误: ${we.message}`),dr(rt);const{dismiss:Tr}=fn({variant:"destructive",title:"生成拓扑失败",description:rt});setTimeout(Tr,Nn)}finally{ks(!1)}},eS=X=>{if(!X||X.length===0||!hn.current)return;Gr(hn.current).selectAll("*").remove();const he=hn.current.clientWidth||1e3,ue=600;console.log("渲染拓扑数据:",X);const ve=Gr(hn.current).attr("width","100%").attr("height",ue),we=ve.append("g").attr("transform","translate(50, 50)"),rt=new Map,Tr=new Map;X.forEach(Nt=>{Nt.nodes.forEach(jt=>{const Vt=jt.hostname||jt.ip;rt.has(Vt)||rt.set(Vt,{id:Vt,hostname:jt.hostname,role:jt.role,originalRole:jt.role,ip:jt.ip,neighbors:jt.neighbors,connections:[]})})}),X.forEach(Nt=>{const jt=new Set(Nt.nodes.map(Vt=>Vt.hostname||Vt.ip));Nt.links.forEach(Vt=>{const qn=Vt.source,bn=Vt.target;if(rt.has(qn)&&rt.has(bn)){if(qn===bn)return;if(Nt.nodes.find(Ln=>(Ln.hostname||Ln.ip)===bn),jt.has(bn)){const Ln=`${qn}-${bn}-${Vt.sourcePort}-${Vt.targetPort}`;if(!Tr.has(Ln)){Tr.set(Ln,{source:qn,target:bn,sourcePort:Vt.sourcePort,targetPort:Vt.targetPort});const Ns=rt.get(qn);if(Ns){Ns.connections||(Ns.connections=[]);let eo=Ns.connections.find(qu=>qu.target===bn);eo||(eo={target:bn,connectionCount:0,connections:[]},Ns.connections.push(eo)),eo.connectionCount+=1,eo.connections.push({sourcePort:Vt.sourcePort,targetPort:Vt.targetPort})}}}}})});const or=Array.from(rt.values()),Jt=Array.from(Tr.values());or.forEach(Nt=>{Nt.originalRole&&(Nt.role=Nt.originalRole)}),console.log("Nodes with original roles:",or.map(Nt=>({hostname:Nt.hostname,originalRole:Nt.originalRole,currentRole:Nt.role})));const Mr={superspine:[],spine:[],leaf:[],unknown:[]};or.forEach(Nt=>{const jt=Nt.role||"unknown";Mr[jt]||(Mr[jt]=[]),Mr[jt].push(Nt)}),console.log("Nodes by role:",Mr);const Js={superspine:80,spine:220,leaf:360,unknown:480},Ts=he-100;Object.entries(Mr).forEach(([Nt,jt])=>{const Vt=jt.length;if(Vt===0)return;const qn=Js[Nt];jt.sort((Ln,Ns)=>{const eo=Ln.hostname.match(/(\d+)/),qu=Ns.hostname.match(/(\d+)/);return eo&&qu?parseInt(eo[0],10)-parseInt(qu[0],10):eo?-1:qu?1:Ln.hostname.localeCompare(Ns.hostname)});const bn=Vt<=1?0:Ts/(Vt>1?Vt-1:1),Qs=0;jt.forEach((Ln,Ns)=>{Ln.x=Qs+Ns*bn,Ln.y=qn})}),we.append("g").attr("class","links").selectAll("path").data(Jt).enter().append("path").attr("class","link").attr("fill","none").attr("stroke","#aaa").attr("stroke-width",Nt=>{var qn;const jt=or.find(bn=>bn.id===Nt.source);if(!jt)return 1.5;const Vt=(qn=jt.connections)==null?void 0:qn.find(bn=>bn.target===Nt.target);return Vt?Math.min(3,1+Vt.connectionCount*.5):1.5}).attr("d",Nt=>{const jt=or.find(Ln=>Ln.id===Nt.source),Vt=or.find(Ln=>Ln.id===Nt.target);if(!jt||!Vt||jt.x===void 0||jt.y===void 0||Vt.x===void 0||Vt.y===void 0)return"";const qn=Vt.x-jt.x,bn=Vt.y-jt.y,Qs=Math.sqrt(qn*qn+bn*bn)*1.2;return Math.abs(jt.y-Vt.y)<10?`M${jt.x},${jt.y} A${Qs},${Qs} 0 0,1 ${Vt.x},${Vt.y}`:`M${jt.x},${jt.y} C${jt.x},${(jt.y+Vt.y)/2} ${Vt.x},${(jt.y+Vt.y)/2} ${Vt.x},${Vt.y}`});const jl=we.append("g").attr("class","nodes").selectAll("g").data(or).enter().append("g").attr("class","node").attr("transform",Nt=>`translate(${Nt.x||0}, ${Nt.y||0})`);jl.append("circle").attr("r",20).attr("fill",Nt=>{switch(Nt.role){case"superspine":return"#FF5733";case"spine":return"#33A8FF";case"leaf":return"#33FF57";default:return"#888888"}}).attr("stroke","#000").attr("stroke-width",1),jl.append("text").attr("dy",-32).attr("text-anchor","middle").attr("font-size","12px").attr("font-weight","bold").attr("fill","#000").attr("stroke","white").attr("stroke-width",.5).text(Nt=>Nt.hostname),jl.append("text").attr("dy",4).attr("text-anchor","middle").attr("font-size","9px").attr("fill","#fff").attr("font-weight","bold").text(Nt=>Nt.role==="unknown"?"":Nt.originalRole&&Nt.originalRole!==Nt.role?`${Nt.originalRole}*`:Nt.role),jl.append("text").attr("dy",-16).attr("text-anchor","middle").attr("font-size","9px").attr("fill","#555").text(Nt=>Nt.ip||""),jl.append("circle").filter(Nt=>{var Vt;return(((Vt=Nt.neighbors)==null?void 0:Vt.filter(qn=>qn.targetRole!=="unknown"))||[]).length>0}).attr("cx",20).attr("cy",-15).attr("r",8).attr("fill","#4a5568").attr("stroke","white").attr("stroke-width",1),jl.append("text").filter(Nt=>{var Vt;return(((Vt=Nt.neighbors)==null?void 0:Vt.filter(qn=>qn.targetRole!=="unknown"))||[]).length>0}).attr("x",20).attr("y",-12).attr("text-anchor","middle").attr("font-size","8px").attr("fill","white").text(Nt=>{var Vt;return(((Vt=Nt.neighbors)==null?void 0:Vt.filter(qn=>qn.targetRole!=="unknown"))||[]).length});const cy=t4().scaleExtent([.1,2]).on("zoom",Nt=>{we.attr("transform",Nt.transform)});ve.call(cy).call(cy.transform,eu.translate(50,50).scale(.9)),jl.on("mouseover",function(Nt,jt){const Vt=Nt.pageX,qn=Nt.pageY,bn=Gr("body").append("div").attr("class","topology-tooltip").style("position","absolute").style("background","white").style("border","1px solid #ddd").style("border-radius","4px").style("padding","8px").style("box-shadow","0 2px 5px rgba(0,0,0,0.2)").style("font-size","12px").style("pointer-events","none").style("max-width","300px").style("z-index","1000").style("left",`${Vt+15}px`).style("top",`${qn-15}px`);if(bn.append("div").style("font-weight","bold").style("margin-bottom","5px").text(`${jt.hostname}${jt.ip?` (${jt.ip})`:""}`),bn.append("div").style("margin-bottom","8px").style("color","#555").html(()=>jt.originalRole&&jt.originalRole!==jt.role?`${r("role")}: <strong>${jt.originalRole}</strong> (${r("originalRole")})`:`${r("role")}: ${jt.role||r("unknown")}`),jt.neighbors&&jt.neighbors.length>0){const Qs=jt.neighbors.filter(Ln=>Ln.targetRole!=="unknown");Qs.length>0?(bn.append("div").style("font-weight","bold").style("border-top","1px solid #eee").style("padding-top","4px").style("margin-top","4px").text(r("neighborConnectionsText").replace("{0}",Qs.length.toString())),Qs.forEach(Ln=>{bn.append("div").style("margin-top","6px").style("font-weight","bold").style("color","#0066cc").text(`→ ${Ln.target} (${Ln.targetRole})`),bn.append("div").style("margin-left","10px").style("font-size","11px").style("line-height","1.4").html(`<span style="color:#555">${jt.hostname}:</span> <strong>${Ln.localPort}</strong> → <span style="color:#555">${Ln.target}:</span> <strong>${Ln.remotePort}</strong>`)})):bn.append("div").style("font-style","italic").style("margin-top","5px").style("color","#777").text(r("noValidNeighbors"))}else bn.append("div").style("font-style","italic").style("margin-top","5px").style("color","#777").text(r("noNeighbors"))}).on("mouseout",function(){wte(".topology-tooltip").remove()}),ve.append("text").attr("x",20).attr("y",ue-20).attr("font-size","12px").attr("fill","#666").text(r("zoomTip"));const bg=ve.append("g").attr("class","legend").attr("transform",`translate(${he-200}, ${ue-100})`);bg.append("text").attr("x",0).attr("y",0).attr("font-size","12px").attr("font-weight","bold").attr("fill","#333").text(r("nodeRoles")),[{role:"superspine",color:"#FF5733",label:"SuperSpine"},{role:"spine",color:"#33A8FF",label:"Spine"},{role:"leaf",color:"#33FF57",label:"Leaf"},{role:"unknown",color:"#888888",label:r("unknown")}].forEach((Nt,jt)=>{bg.append("circle").attr("cx",10).attr("cy",20+jt*20).attr("r",6).attr("fill",Nt.color),bg.append("text").attr("x",25).attr("y",24+jt*20).attr("font-size","12px").attr("fill","#333").text(Nt.label)})},tS=async()=>{var X,he,ue,ve;if(!Xs.topology_name){Tl("请输入拓扑名称");return}G0(!0),Tl(null);try{const we={...Xs,description:Xs.description||"null",nodes:((X=br[0])==null?void 0:X.nodes)||[],links:((he=br[0])==null?void 0:he.links)||[]};console.log("保存拓扑 - 请求数据:",we);const rt=await $t.post("/webhook/api/network-deployment/topology/save",we,{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},withCredentials:!1});console.log("保存拓扑 - 响应数据:",rt.data);const{dismiss:Tr}=fn({title:"拓扑保存成功",description:`已成功保存拓扑"${Xs.topology_name}"`});setTimeout(Tr,Nn),mg(!1);const or={topology_name:"",description:"",created_by:"admin"};Zs(or),localStorage.setItem(pM,JSON.stringify(or))}catch(we){console.error("保存拓扑失败:",we);let rt="保存拓扑时出现未知错误";we.response?(console.error("HTTP错误状态码:",we.response.status),console.error("HTTP错误数据:",we.response.data),rt=`服务器错误 (${we.response.status}): ${((ve=(ue=we.response)==null?void 0:ue.data)==null?void 0:ve.message)||we.message}`):we.request?(console.error("请求已发送但未收到响应:",we.request),rt="服务器未响应，请检查网络连接"):(console.error("请求错误:",we.message),rt=`请求错误: ${we.message}`),Tl(rt)}finally{G0(!1)}};return d.jsxs("div",{className:"container mx-auto py-6",children:[d.jsx("div",{className:"flex justify-between items-center mb-6",children:d.jsx("h1",{className:"text-2xl font-normal tracking-tight text-gray-800",children:r("networkDeploy")})}),d.jsxs(u0,{value:a,onValueChange:s,className:"w-full",children:[d.jsxs(d0,{className:"mb-4",children:[d.jsxs(qr,{value:"device-discovery",className:"flex items-center gap-2",children:[d.jsx(li,{size:16}),d.jsx("span",{children:r("deviceDiscovery")})]}),d.jsxs(qr,{value:"device-list",className:"flex items-center gap-2",children:[d.jsx(wv,{size:16}),d.jsx("span",{children:r("deviceList")})]}),d.jsxs(qr,{value:"neighbor-discovery",className:"flex items-center gap-2",children:[d.jsx(ds,{size:16}),d.jsx("span",{children:r("neighborDiscovery")})]}),d.jsxs(qr,{value:"topology-generation",className:"flex items-center gap-2",children:[d.jsx(ds,{size:16}),d.jsx("span",{children:r("topologyGeneration")})]}),d.jsxs(qr,{value:"config-management",className:"flex items-center gap-2",children:[d.jsx(fo,{size:16}),d.jsx("span",{children:r("configManagement")})]}),d.jsxs(qr,{value:"config-snapshot",className:"flex items-center gap-2",children:[d.jsx(fo,{size:16}),d.jsx("span",{children:r("configSnapshot")})]}),d.jsxs(qr,{value:"snapshot-history",className:"flex items-center gap-2",children:[d.jsx(fo,{size:16}),d.jsx("span",{children:r("snapshotHistory")})]}),d.jsxs(qr,{value:"llm-agent-deploy",className:"flex items-center gap-2",children:[d.jsx($a,{size:16}),d.jsx("span",{children:r("llmAgentDeploy")})]})]}),d.jsx(Yr,{value:"device-discovery",children:d.jsxs(Xe,{children:[d.jsxs(dt,{children:[d.jsx(ht,{children:r("deviceDiscovery")}),d.jsx(rn,{children:r("deviceDiscoveryDesc")})]}),d.jsxs(Je,{children:[d.jsx("div",{className:"flex gap-4 mb-6",children:d.jsxs("div",{className:"flex-1",children:[d.jsx(fa,{htmlFor:"subnet",className:"mb-2 block",children:r("subnetRange")}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(cr,{id:"subnet",value:o,onChange:X=>l(X.target.value),placeholder:r("subnetExample"),className:"flex-1"}),d.jsx(Fe,{onClick:B1,disabled:h,className:"min-w-[120px]",children:h?d.jsxs(d.Fragment,{children:[d.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),d.jsx("span",{children:r("scanning")})]}):d.jsxs(d.Fragment,{children:[d.jsx(li,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:r("scanSubnet")})]})})]})]})}),p&&d.jsxs($m,{variant:"destructive",className:"mb-4",children:[d.jsx(ji,{className:"h-4 w-4"}),d.jsx(Bm,{children:"扫描错误"}),d.jsx(Fm,{children:p})]}),d.jsx("div",{className:"flex justify-between items-center mb-4",children:d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"relative",children:[d.jsx(li,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),d.jsx(cr,{type:"search",placeholder:r("searchDevices"),value:_,onChange:X=>b(X.target.value),className:"pl-9"})]})})}),h?d.jsx("div",{className:"flex justify-center items-center h-48",children:d.jsx(Kt,{className:"h-8 w-8 animate-spin text-primary"})}):v.length===0?d.jsxs("div",{className:"text-center py-8 bg-muted/50 rounded-lg",children:[d.jsx(z5,{className:"h-10 w-10 text-muted-foreground mx-auto mb-2"}),d.jsx("h3",{className:"text-lg font-medium",children:r("noDevicesFound")}),d.jsx("p",{className:"text-muted-foreground mt-1",children:r("supportSNMP")})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"rounded-md border",children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{children:[d.jsx(ie,{children:r("ipAddress")}),d.jsx(ie,{children:r("hostname")}),d.jsx(ie,{children:r("vendor")}),d.jsx(ie,{children:r("hwModel")}),d.jsx(ie,{children:r("operatingSystem")})]})}),d.jsx(Qr,{children:$1.map((X,he)=>d.jsxs(nt,{children:[d.jsx(te,{className:"font-mono",children:X.ip_address||r("unknown")}),d.jsx(te,{children:Ir(X.hostname)}),d.jsx(te,{children:Ir(X.vendor_hw)}),d.jsx(te,{children:Ir(X.hw_sku)}),d.jsx(te,{children:Ir(X.vendor_sw)})]},`${X.ip_address}-${he}`))})]})}),Hh>1&&d.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-4",children:[d.jsx(Fe,{variant:"outline",size:"sm",onClick:()=>ey(k-1),disabled:k===1,children:r("prevPageText")}),d.jsx("span",{className:"text-sm",children:r("pageOf").replace("{0}",k.toString()).replace("{1}",Hh.toString())}),d.jsx(Fe,{variant:"outline",size:"sm",onClick:()=>ey(k+1),disabled:k===Hh,children:r("nextPageText")})]})]})]})]})}),d.jsx(Yr,{value:"device-list",children:d.jsxs(Xe,{children:[d.jsxs(dt,{children:[d.jsx(ht,{children:r("deviceList")}),d.jsx(rn,{children:r("deviceListDesc")})]}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"relative",children:[d.jsx(li,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),d.jsx(cr,{type:"search",placeholder:r("searchDevices"),value:w,onChange:X=>S(X.target.value),className:"pl-9"})]})}),d.jsx(Fe,{variant:"outline",onClick:()=>{console.log("点击刷新按钮"),Dc()},disabled:N,className:"ml-4 min-w-[110px]",children:N?d.jsx(Kt,{className:"h-4 w-4 animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(mo,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:r("refresh")})]})})]}),N?d.jsx("div",{className:"flex justify-center items-center h-48",children:d.jsx(Kt,{className:"h-8 w-8 animate-spin text-primary"})}):y.length===0?d.jsxs("div",{className:"text-center py-8 bg-muted/50 rounded-lg",children:[d.jsx(__e,{className:"h-10 w-10 text-muted-foreground mx-auto mb-2"}),d.jsx("h3",{className:"text-lg font-medium",children:r("noDatabaseDevices")}),d.jsx("p",{className:"text-muted-foreground mt-1",children:r("supportSNMP")})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"mb-2 text-sm text-muted-foreground",children:d.jsx("p",{children:r("totalDevices").replace("{0}",Q0.length.toString()).replace("{1}",y.length.toString())})}),d.jsx("div",{className:"rounded-md border",children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{children:[d.jsx(ie,{children:r("ipAddress")}),d.jsx(ie,{children:r("hostname")}),d.jsx(ie,{children:r("vendor")}),d.jsx(ie,{children:r("hwModel")}),d.jsx(ie,{children:r("operatingSystem")})]})}),d.jsx(Qr,{children:Q0.map((X,he)=>d.jsxs(nt,{children:[d.jsx(te,{className:"font-mono",children:X.ip_address||"未知"}),d.jsx(te,{children:Ir(X.hostname)}),d.jsx(te,{children:Ir(X.vendor_hw)}),d.jsx(te,{children:Ir(X.hw_sku)}),d.jsx(te,{children:Ir(X.vendor_sw)})]},`db-${X.ip_address}-${he}`))})]})}),Vh>1&&d.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-4",children:[d.jsx(Fe,{variant:"outline",size:"sm",onClick:()=>ty(E-1),disabled:E===1,children:r("prevPageText")}),d.jsx("span",{className:"text-sm",children:r("pageOf").replace("{0}",E.toString()).replace("{1}",Vh.toString())}),d.jsx(Fe,{variant:"outline",size:"sm",onClick:()=>ty(E+1),disabled:E===Vh,children:r("nextPageText")})]})]})]})]})}),d.jsx(Yr,{value:"neighbor-discovery",children:d.jsxs(Xe,{children:[d.jsxs(dt,{children:[d.jsx(ht,{children:r("neighborDiscovery")}),d.jsx(rn,{children:r("neighborDiscoveryDesc")})]}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"relative",children:[d.jsx(li,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),d.jsx(cr,{type:"search",placeholder:r("searchDevices"),value:w,onChange:X=>S(X.target.value),className:"pl-9"})]})}),d.jsx(Fe,{variant:"outline",onClick:Dc,disabled:N,className:"ml-2",children:N?d.jsx(Kt,{className:"h-4 w-4 animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(mo,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:r("refreshDevice")})]})}),d.jsx(Fe,{onClick:z1,disabled:O||P.length===0,className:"ml-2",children:O?d.jsxs(d.Fragment,{children:[d.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),d.jsx("span",{children:r("getting")})]}):d.jsxs(d.Fragment,{children:[d.jsx(ds,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:r("getLLDP")})]})})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("h3",{className:"text-lg font-medium mb-2",children:[r("selectDevice")," (",P.length,")"]}),N?d.jsx("div",{className:"flex justify-center items-center h-24",children:d.jsx(Kt,{className:"h-6 w-6 animate-spin text-primary"})}):y.length===0?d.jsx("div",{className:"text-center py-4 bg-muted/50 rounded-lg",children:d.jsx("p",{className:"text-muted-foreground",children:r("noDevicesSelected")})}):d.jsx("div",{className:"rounded-md border",children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{children:[d.jsx(ie,{className:"w-12",children:r("selectLabel")}),d.jsx(ie,{children:r("ipAddress")}),d.jsx(ie,{children:r("hostname")}),d.jsx(ie,{children:r("vendor")}),d.jsx(ie,{children:r("hwModel")})]})}),d.jsx(Qr,{children:Es.map((X,he)=>d.jsxs(nt,{className:P.includes(X.ip_address)?"bg-muted/30":"",children:[d.jsx(te,{children:d.jsx(ep,{checked:P.includes(X.ip_address),onCheckedChange:()=>F1(X.ip_address),id:`device-${X.ip_address}`})}),d.jsx(te,{className:"font-mono",children:X.ip_address}),d.jsx(te,{children:Ir(X.hostname)}),d.jsx(te,{children:Ir(X.vendor_hw)}),d.jsx(te,{children:Ir(X.hw_sku)})]},`select-${X.ip_address}-${he}`))})]})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-medium mb-2",children:r("lldpInfo")}),M&&d.jsxs($m,{variant:"destructive",className:"mb-4",children:[d.jsx(ji,{className:"h-4 w-4"}),d.jsx(Bm,{children:r("getLLDPFailure")}),d.jsx(Fm,{children:M})]}),O?d.jsx("div",{className:"flex justify-center items-center h-48",children:d.jsx(Kt,{className:"h-8 w-8 animate-spin text-primary"})}):$.length===0?d.jsxs("div",{className:"text-center py-8 bg-muted/50 rounded-lg",children:[d.jsx(ds,{className:"h-10 w-10 text-muted-foreground mx-auto mb-2"}),d.jsx("h3",{className:"text-lg font-medium",children:r("lldpInfo")}),d.jsx("p",{className:"text-muted-foreground mt-1",children:r("selectDeviceFirst")})]}):d.jsx("div",{children:$.map((X,he)=>d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("h4",{className:"text-md font-semibold",children:X.hostname||X.ip_address}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",X.ip_address,")"]})]}),X.message?d.jsx("div",{className:"text-center py-4 bg-muted/50 rounded-lg",children:d.jsx("p",{className:"text-muted-foreground",children:X.message==="无邻居"?r("noNeighborsText"):X.message})}):!X.neighbors||X.neighbors.length===0?d.jsx("div",{className:"text-center py-4 bg-muted/50 rounded-lg",children:d.jsx("p",{className:"text-muted-foreground",children:r("noNeighborsText")})}):d.jsx("div",{className:"rounded-md border",children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{children:[d.jsx(ie,{children:r("localPort")}),d.jsx(ie,{children:r("neighborDevice")}),d.jsx(ie,{children:r("neighborPort")}),d.jsx(ie,{children:r("neighborPortDesc")})]})}),d.jsx(Qr,{children:X.neighbors.map((ue,ve)=>d.jsxs(nt,{children:[d.jsx(te,{children:ue.local_port}),d.jsx(te,{children:ue.remote_device}),d.jsx(te,{children:ue.remote_port}),d.jsx(te,{children:ue.remote_port_descr})]},`neighbor-${he}-${ve}`))})]})})]},`lldp-${X.ip_address}`))})]})]})]})}),d.jsx(Yr,{value:"topology-generation",children:d.jsxs(Xe,{children:[d.jsxs(dt,{children:[d.jsx(ht,{children:r("topologyGeneration")}),d.jsx(rn,{children:r("topologyGenerationDesc")})]}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-lg font-medium",children:[r("selectDeviceRole")," (",be.length,")"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Fe,{size:"sm",onClick:Z1,children:be.length===Es.length?r("deselectAll"):r("selectAll")}),d.jsx(Fe,{variant:"outline",onClick:Dc,disabled:N,size:"sm",children:N?d.jsx(Kt,{className:"h-4 w-4 animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(mo,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:r("refreshDevice")})]})}),d.jsx(Fe,{onClick:Q1,disabled:ka||be.length===0,children:ka?d.jsxs(d.Fragment,{children:[d.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),d.jsx("span",{children:r("generating")})]}):d.jsxs(d.Fragment,{children:[d.jsx(ds,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:r("generate")})]})})]})]}),d.jsx("div",{className:"flex mb-4",children:d.jsxs("div",{className:"relative flex-1",children:[d.jsx(li,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),d.jsx(cr,{type:"search",placeholder:r("searchDevices"),value:w,onChange:X=>S(X.target.value),className:"pl-9"})]})}),ia&&d.jsxs($m,{variant:"destructive",className:"mb-4",children:[d.jsx(ji,{className:"h-4 w-4"}),d.jsx(Bm,{children:r("generationFailure")}),d.jsx(Fm,{children:ia})]}),N?d.jsx("div",{className:"flex justify-center items-center h-24",children:d.jsx(Kt,{className:"h-6 w-6 animate-spin text-primary"})}):y.length===0?d.jsx("div",{className:"text-center py-4 bg-muted/50 rounded-lg",children:d.jsx("p",{className:"text-muted-foreground",children:r("noDevicesSelected")})}):d.jsx("div",{className:"rounded-md border mb-6",children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{children:[d.jsx(ie,{className:"w-12",children:r("selectLabel")}),d.jsx(ie,{children:r("ipAddress")}),d.jsx(ie,{children:r("hostname")}),d.jsx(ie,{children:r("vendor")}),d.jsx(ie,{children:r("hwModel")}),d.jsx(ie,{children:r("role")})]})}),d.jsx(Qr,{children:Es.map((X,he)=>{var ue;return d.jsxs(nt,{className:be.includes(X.ip_address)?"bg-muted/30":"",children:[d.jsx(te,{children:d.jsx(ep,{checked:be.includes(X.ip_address),onCheckedChange:()=>X1(X.ip_address),id:`topology-device-${X.ip_address}`})}),d.jsx(te,{className:"font-mono",children:X.ip_address}),d.jsx(te,{children:Ir(X.hostname)}),d.jsx(te,{children:Ir(X.vendor_hw)}),d.jsx(te,{children:Ir(X.hw_sku)}),d.jsx(te,{children:d.jsxs(cn,{onValueChange:ve=>J1(X.ip_address,ve),value:(ue=ur.find(ve=>ve.ip_address===X.ip_address))==null?void 0:ue.role,children:[d.jsx(nn,{className:"w-[140px]",children:d.jsx(un,{placeholder:r("selectRole")})}),d.jsxs(an,{children:[d.jsx(qe,{value:"leaf",children:r("leaf")}),d.jsx(qe,{value:"spine",children:r("spine")}),d.jsx(qe,{value:"superspine",children:r("superspine")})]})]})})]},`select-topology-${X.ip_address}-${he}`)})})]})}),br.length>0&&d.jsxs("div",{className:"mt-8",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-medium",children:r("generatedTopology")}),d.jsxs(Fe,{onClick:()=>mg(!0),className:"flex items-center gap-2",children:[d.jsx(Tee,{className:"h-4 w-4"}),d.jsx("span",{children:r("saveTopology")})]})]}),d.jsx("div",{className:"bg-slate-50 border rounded-md p-4 overflow-x-auto overflow-y-hidden",children:d.jsx("div",{className:"min-w-[1200px]",children:d.jsx("svg",{ref:hn,width:"100%",height:"600"})})})]})]})]})}),d.jsx(Yr,{value:"config-management",children:d.jsxs(Xe,{children:[d.jsxs(dt,{children:[d.jsx(ht,{children:r("configManagement")}),d.jsx(rn,{children:r("configManagementDesc")})]}),d.jsxs(Je,{children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h3",{className:"text-lg font-medium mb-3",children:r("credentials")}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(fa,{htmlFor:"ssh-username",children:r("username")}),d.jsx(cr,{id:"ssh-username",value:Q.username,onChange:X=>re(he=>({...he,username:X.target.value})),className:"mt-1"})]}),d.jsx("div",{className:"relative",children:d.jsxs("div",{children:[d.jsx(fa,{htmlFor:"ssh-password",children:r("password")}),d.jsx(cr,{id:"ssh-password",type:c?"text":"password",value:Q.password,onChange:X=>re(he=>({...he,password:X.target.value})),className:"mt-1 pr-10"}),d.jsx(Fe,{variant:"ghost",size:"icon",onClick:()=>u(!c),className:"absolute top-1 left-16 -translate-y-1/4 text-gray-500 bg-transparent hover:bg-transparent text-gray-500 w-8 h-8 p-1",tabIndex:-1,children:c?d.jsx(p_e,{className:"h-4 w-4"}):d.jsx(aL,{className:"h-4 w-4"})})]})})]})]}),Y&&d.jsxs("div",{className:"mb-6",children:[d.jsx("h3",{className:"text-lg font-medium mb-3",children:r("extractResults")}),d.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[d.jsxs(Ce,{className:"text-sm py-1",children:[r("total"),": ",Y.summary.total_count]}),d.jsxs(Ce,{className:"bg-green-50 text-green-700 border-green-200 text-sm py-1",children:[r("success"),": ",Y.summary.success_count]}),d.jsxs(Ce,{className:"bg-red-50 text-red-700 border-red-200 text-sm py-1",children:[r("failure"),": ",Y.summary.error_count]})]}),d.jsx("div",{className:"rounded-md border overflow-hidden",children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{children:[d.jsx(ie,{children:r("ipAddress")}),d.jsx(ie,{children:r("hostname")}),d.jsx(ie,{children:r("status")}),d.jsx(ie,{children:r("message")}),d.jsx(ie,{children:r("extractionTime")}),d.jsx(ie,{className:"text-right",children:r("actions")})]})}),d.jsx(Qr,{children:Y.result.map(X=>d.jsxs(nt,{children:[d.jsx(te,{className:"font-mono",children:X.ip_address}),d.jsx(te,{children:X.hostname||r("unknown")}),d.jsx(te,{children:X.status==="success"?d.jsxs(Ce,{className:"bg-green-100 text-green-800 hover:bg-green-200",children:[d.jsx(Mw,{className:"mr-1 h-3 w-3"}),r("success")]}):d.jsxs(Ce,{className:"bg-red-100 text-red-800 hover:bg-red-200",children:[d.jsx(Ua,{className:"mr-1 h-3 w-3"}),r("failure")]})}),d.jsx(te,{children:X.message==="无法连接设备"?r("connectionError"):X.message==="不支持的操作系统类型: 未知"?r("unsupportedOSType"):X.message}),d.jsx(te,{children:X.collected_at?new Date(X.collected_at).toLocaleString():"-"}),d.jsx(te,{className:"text-right",children:X.config_link?d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(Fe,{size:"sm",onClick:()=>V1(X.config_link,X.ip_address),disabled:Ne.includes(X.ip_address),children:Ne.includes(X.ip_address)?d.jsx(Kt,{className:"h-4 w-4 animate-spin"}):d.jsx(aL,{className:"h-4 w-4"})}),d.jsx(Fe,{size:"sm",onClick:()=>W1(X.config_link,X.ip_address),disabled:me.includes(X.ip_address),children:me.includes(X.ip_address)?d.jsx(Kt,{className:"h-4 w-4 animate-spin"}):d.jsx(cc,{className:"h-4 w-4"})}),d.jsxs(Fe,{size:"sm",variant:"outline",onClick:()=>K1(X.config_link,X.ip_address),disabled:me.includes(X.ip_address),children:[d.jsx(cc,{className:"h-4 w-4"}),d.jsx("span",{className:"ml-1",children:r("json")})]})]}):d.jsx("span",{className:"text-gray-400 text-sm",children:r("noConfig")})})]},`config-${X.ip_address}`))})]})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-lg font-medium",children:[r("selectDevice")," (",z.length,")"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Fe,{size:"sm",onClick:U1,children:z.length===iy.length?r("deselectAll"):r("selectAll")}),d.jsx(Fe,{onClick:Dc,disabled:N,size:"sm",children:N?d.jsx(Kt,{className:"h-4 w-4 animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(mo,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:r("refreshDevice")})]})}),d.jsx(Fe,{onClick:H1,disabled:q||z.length===0,children:q?d.jsxs(d.Fragment,{children:[d.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),d.jsx("span",{children:r("extracting")})]}):d.jsxs(d.Fragment,{children:[d.jsx(fo,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:r("extractConfig")})]})})]})]}),d.jsx("div",{className:"flex mb-4",children:d.jsxs("div",{className:"relative flex-1",children:[d.jsx(li,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),d.jsx(cr,{type:"search",placeholder:r("searchDevices"),value:F,onChange:X=>G(X.target.value),className:"pl-9"})]})}),N?d.jsx("div",{className:"flex justify-center items-center h-24",children:d.jsx(Kt,{className:"h-6 w-6 animate-spin text-primary"})}):y.length===0?d.jsx("div",{className:"text-center py-4 bg-muted/50 rounded-lg",children:d.jsx("p",{className:"text-muted-foreground",children:r("noDevicesSelected")})}):d.jsx("div",{className:"rounded-md border",children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{children:[d.jsx(ie,{className:"w-12",children:r("selectLabel")}),d.jsx(ie,{children:r("ipAddress")}),d.jsx(ie,{children:r("hostname")}),d.jsx(ie,{children:r("vendor")}),d.jsx(ie,{children:r("hwModel")}),d.jsx(ie,{children:r("operatingSystem")})]})}),d.jsx(Qr,{children:iy.map((X,he)=>d.jsxs(nt,{className:z.includes(X.ip_address)?"bg-muted/30":"",onClick:()=>ry(X.ip_address),style:{cursor:"pointer"},children:[d.jsx(te,{children:d.jsx(ep,{checked:z.includes(X.ip_address),onCheckedChange:()=>ry(X.ip_address),id:`config-device-${X.ip_address}`})}),d.jsx(te,{className:"font-mono",children:X.ip_address}),d.jsx(te,{children:Ir(X.hostname)}),d.jsx(te,{children:Ir(X.vendor_hw)}),d.jsx(te,{children:Ir(X.hw_sku)}),d.jsx(te,{children:Ir(X.vendor_sw)})]},`select-config-${X.ip_address}-${he}`))})]})})]})]})]})}),d.jsx(Yr,{value:"config-snapshot",children:d.jsxs(Xe,{children:[d.jsxs(dt,{children:[d.jsx(ht,{children:r("configSnapshot")}),d.jsx(rn,{children:r("configSnapshotDesc")})]}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("p",{className:"text-muted-foreground",children:r("snapshotDefaultText")}),d.jsx(Fe,{onClick:G1,disabled:bt,children:bt?d.jsxs(d.Fragment,{children:[d.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),d.jsx("span",{children:r("creating")})]}):d.jsxs(d.Fragment,{children:[d.jsx(fo,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:r("createSnapshot")})]})})]}),d.jsx("div",{className:"flex justify-between items-center mb-4",children:d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"relative",children:[d.jsx(li,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),d.jsx(cr,{type:"search",placeholder:r("searchSnapshot"),value:He,onChange:X=>Gt(X.target.value),className:"pl-9"})]})})}),bt&&Ae.length===0?d.jsx("div",{className:"flex justify-center items-center h-48",children:d.jsx(Kt,{className:"h-8 w-8 animate-spin text-primary"})}):Ae.length===0?d.jsxs("div",{className:"text-center py-8 bg-muted/50 rounded-lg",children:[d.jsx(fo,{className:"h-10 w-10 text-muted-foreground mx-auto mb-2"}),d.jsx("h3",{className:"text-lg font-medium",children:r("noSnapshots")}),d.jsx("p",{className:"text-muted-foreground mt-1",children:r("clickToCreateSnapshot")})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"rounded-md border",children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{children:[d.jsx(ie,{children:r("ipAddress")}),d.jsx(ie,{children:r("hostname")}),d.jsx(ie,{children:r("vendor")}),d.jsx(ie,{children:r("hwModel")}),d.jsx(ie,{children:r("operatingSystem")}),d.jsx(ie,{children:r("snapshotTime")}),d.jsx(ie,{children:r("versionTag")})]})}),d.jsx(Qr,{children:q1.map((X,he)=>d.jsxs(nt,{children:[d.jsx(te,{className:"font-mono",children:X.ip_address}),d.jsx(te,{children:Ir(X.hostname)}),d.jsx(te,{children:Ir(X.vendor_hw)}),d.jsx(te,{children:Ir(X.hw_sku)}),d.jsx(te,{children:Ir(X.vendor_sw)}),d.jsx(te,{children:yg(X.snapshot_time)}),d.jsx(te,{children:d.jsx(Ce,{variant:"secondary",children:X.version_tag})})]},`snapshot-${X.ip_address}-${he}`))})]})}),Wh>1&&d.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-4",children:[d.jsx(Fe,{variant:"outline",size:"sm",onClick:()=>sy(tt-1),disabled:tt===1,children:r("prevPageText")}),d.jsx("span",{className:"text-sm",children:r("pageOf").replace("{0}",tt.toString()).replace("{1}",Wh.toString())}),d.jsx(Fe,{variant:"outline",size:"sm",onClick:()=>sy(tt+1),disabled:tt===Wh,children:r("nextPageText")})]})]})]})]})}),d.jsx(Yr,{value:"snapshot-history",children:d.jsxs(Xe,{children:[d.jsxs(dt,{children:[d.jsx(ht,{children:r("snapshotHistory")}),d.jsx(rn,{children:r("snapshotHistoryDesc").replace("{0}",se.length.toString())})]}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"relative",children:[d.jsx(li,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),d.jsx(cr,{type:"search",placeholder:r("searchSnapshotHistory"),value:Re,onChange:X=>ze(X.target.value),className:"pl-9"})]})}),d.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("input",{type:"checkbox",id:"show-all-history",checked:It,onChange:X=>gr(X.target.checked),className:"h-4 w-4"}),d.jsx("label",{htmlFor:"show-all-history",className:"text-sm",children:r("showAll")})]}),d.jsx(Fe,{variant:"outline",onClick:oy,disabled:ne,children:ne?d.jsx(Kt,{className:"h-4 w-4 animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(mo,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:r("refresh")})]})})]})]}),se.length>0&&d.jsx("div",{className:"mb-2 text-sm text-muted-foreground",children:It?d.jsx("p",{children:r("showAllRecords").replace("{0}",se.length.toString())}):d.jsx("p",{children:r("currentRecords").replace("{0}",((Te-1)*qt+1).toString()).replace("{1}",Math.min(Te*qt,Oc.length).toString()).replace("{2}",Oc.length.toString())})}),d.jsx("div",{className:"mb-4 p-2 bg-gray-50 rounded-md text-xs",children:d.jsxs("details",{children:[d.jsx("summary",{className:"font-semibold cursor-pointer",children:r("debugInfo")}),d.jsx("p",{children:r("totalRecords").replace("{0}",se.length.toString())}),d.jsx("p",{children:r("currentPage").replace("{0}",Te.toString())}),d.jsx("p",{children:r("recordsPerPage").replace("{0}",qt.toString())}),d.jsx("p",{children:r("dataType").replace("{0}",Array.isArray(se)?r("array"):r("object"))}),d.jsx("p",{children:r("currentPageData").replace("{0}",xg.length.toString())}),d.jsx("p",{children:r("filteredData").replace("{0}",Oc.length.toString())}),d.jsxs("details",{className:"mt-2",children:[d.jsx("summary",{className:"font-semibold cursor-pointer text-blue-600",children:r("viewAllData")}),d.jsx("div",{className:"overflow-auto max-h-48 mt-2",children:d.jsxs("table",{className:"w-full text-left border-collapse",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100",children:[d.jsx("th",{className:"p-1 border",children:r("number")}),d.jsx("th",{className:"p-1 border",children:r("ip")}),d.jsx("th",{className:"p-1 border",children:r("hostname")}),d.jsx("th",{className:"p-1 border",children:r("snapshotTime")})]})}),d.jsx("tbody",{children:se.map((X,he)=>d.jsxs("tr",{className:"border-b",children:[d.jsx("td",{className:"p-1 border",children:he+1}),d.jsx("td",{className:"p-1 border",children:X.ip_address}),d.jsx("td",{className:"p-1 border",children:X.hostname}),d.jsx("td",{className:"p-1 border",children:X.snapshot_time})]},`debug-${he}`))})]})})]})]})}),ne?d.jsx("div",{className:"flex justify-center items-center h-48",children:d.jsx(Kt,{className:"h-8 w-8 animate-spin text-primary"})}):se.length===0?d.jsxs("div",{className:"text-center py-8 bg-muted/50 rounded-lg",children:[d.jsx(fo,{className:"h-10 w-10 text-muted-foreground mx-auto mb-2"}),d.jsx("h3",{className:"text-lg font-medium",children:r("noHistoryAvailable")}),d.jsx("p",{className:"text-muted-foreground mt-1",children:r("noSnapshotHistory")})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"rounded-md border",children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{children:[d.jsx(ie,{className:"w-16",children:r("number")}),d.jsx(ie,{children:r("ip")}),d.jsx(ie,{children:r("hostname")}),d.jsx(ie,{children:r("vendor")}),d.jsx(ie,{children:r("hwModel")}),d.jsx(ie,{children:r("operatingSystem")}),d.jsx(ie,{children:r("snapshotTime")}),d.jsx(ie,{children:r("versionTag")})]})}),d.jsx(Qr,{children:It?se.map((X,he)=>d.jsxs(nt,{children:[d.jsx(te,{children:he+1}),d.jsx(te,{className:"font-mono",children:X.ip_address}),d.jsx(te,{children:Ir(X.hostname)}),d.jsx(te,{children:Ir(X.vendor_hw)}),d.jsx(te,{children:Ir(X.hw_sku)}),d.jsx(te,{children:Ir(X.vendor_sw)}),d.jsx(te,{children:yg(X.snapshot_time)}),d.jsx(te,{children:d.jsx(Ce,{variant:"secondary",children:X.version_tag})})]},`history-all-${X.ip_address}-${he}`)):xg.length>0?xg.map((X,he)=>d.jsxs(nt,{children:[d.jsx(te,{children:(Te-1)*qt+he+1}),d.jsx(te,{className:"font-mono",children:X.ip_address}),d.jsx(te,{children:Ir(X.hostname)}),d.jsx(te,{children:Ir(X.vendor_hw)}),d.jsx(te,{children:Ir(X.hw_sku)}),d.jsx(te,{children:Ir(X.vendor_sw)}),d.jsx(te,{children:yg(X.snapshot_time)}),d.jsx(te,{children:d.jsx(Ce,{variant:"secondary",children:X.version_tag})})]},`history-${X.ip_address}-${he}`)):d.jsx(nt,{children:d.jsx(te,{colSpan:8,className:"text-center py-4",children:r("noDataToDisplay")})})})]})}),!It&&Al>1&&d.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-4",children:[d.jsx(Fe,{variant:"outline",size:"sm",onClick:()=>ly(Te-1),disabled:Te===1,children:r("prevPageText")}),d.jsx("span",{className:"text-sm",children:r("pageOf").replace("{0}",Te.toString()).replace("{1}",Al.toString())}),d.jsx(Fe,{variant:"outline",size:"sm",onClick:()=>ly(Te+1),disabled:Te===Al,children:r("nextPageText")})]})]})]})]})}),d.jsx(Yr,{value:"llm-agent-deploy",children:d.jsxs(Xe,{children:[d.jsxs(dt,{children:[d.jsx(ht,{children:r("llmAgentDeploy")}),d.jsx(rn,{children:r("llmAgentDeployDesc")})]}),d.jsxs(Je,{children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-lg font-medium",children:[r("selectDevices")," (",Nl.length,")"]}),d.jsx(Fe,{onClick:Dc,disabled:N,size:"sm",children:N?d.jsx(Kt,{className:"h-4 w-4 animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(mo,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:r("refreshDevice")})]})})]}),N?d.jsx("div",{className:"flex justify-center items-center h-24",children:d.jsx(Kt,{className:"h-6 w-6 animate-spin text-primary"})}):y.length===0?d.jsx("div",{className:"text-center py-4 bg-muted/50 rounded-lg",children:d.jsx("p",{className:"text-muted-foreground",children:r("noDevicesSelected")})}):d.jsx("div",{className:"rounded-md border",children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{children:[d.jsx(ie,{className:"w-12",children:r("selectLabel")}),d.jsx(ie,{children:r("ipAddress")}),d.jsx(ie,{children:r("hostname")}),d.jsx(ie,{children:r("operatingSystem")})]})}),d.jsx(Qr,{children:Es.map((X,he)=>d.jsxs(nt,{className:Nl.includes(X.ip_address)?"bg-muted/30":"",onClick:()=>Z0(X.ip_address),style:{cursor:"pointer"},children:[d.jsx(te,{children:d.jsx(ep,{checked:Nl.includes(X.ip_address),onCheckedChange:()=>Z0(X.ip_address),id:`llm-device-${X.ip_address}`})}),d.jsx(te,{className:"font-mono",children:X.ip_address}),d.jsx(te,{children:Ir(X.hostname)}),d.jsx(te,{children:Ir(X.vendor_sw)})]},`select-llm-${X.ip_address}-${he}`))})]})})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx(fa,{htmlFor:"ai-server-ip",children:r("aiServerIp")}),d.jsx(cr,{id:"ai-server-ip",placeholder:"192.168.1.77",value:Gu,onChange:X=>I1(X.target.value),className:"mt-1"})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx(Fe,{onClick:O1,disabled:q0||Nl.length===0||!X0(Gu),children:q0?d.jsxs(d.Fragment,{children:[d.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),d.jsx("span",{children:r("deploying")})]}):d.jsxs(d.Fragment,{children:[d.jsx($a,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:r("deployLLMAgent")})]})})}),K0.length>0&&d.jsxs("div",{className:"mt-6",children:[d.jsx("h3",{className:"text-lg font-medium mb-2",children:r("deploymentResults")}),d.jsx("div",{className:"rounded-md border",children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{children:[d.jsx(ie,{children:r("ipAddress")}),d.jsx(ie,{children:r("status")}),d.jsx(ie,{children:r("timestamp")})]})}),d.jsx(Qr,{children:K0.map((X,he)=>d.jsxs(nt,{children:[d.jsx(te,{className:"font-mono",children:X.ip_address}),d.jsx(te,{children:X.status==="success"?d.jsx("span",{className:"text-green-600",children:"✅"}):d.jsx("span",{className:"text-red-600",children:"❌"})}),d.jsx(te,{children:new Date(X.time).toLocaleString()})]},`deploy-result-${he}`))})]})})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("h3",{className:"text-lg font-medium mb-2",children:r("deployedAgentsList")}),d.jsx("div",{className:"rounded-md border",children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{children:[d.jsx(ie,{children:r("ipAddress")}),d.jsx(ie,{children:r("hostname")}),d.jsx(ie,{children:r("operatingSystem")}),d.jsx(ie,{children:r("hwModel")}),d.jsx(ie,{children:r("status")})]})}),d.jsx(Qr,{children:P1.map((X,he)=>d.jsxs(nt,{children:[d.jsx(te,{className:"font-mono",children:X.ip_address}),d.jsx(te,{children:Ir(X.hostname)}),d.jsx(te,{children:Ir(X.vendor_sw)}),d.jsx(te,{children:Ir(X.hw_sku)}),d.jsx(te,{children:X.llm_agent==="success"&&d.jsx("span",{className:"text-green-600",children:"✅"})})]},`deployed-agent-${he}`))})]})})]})]})]})})]}),d.jsx(ou,{open:on,onOpenChange:Di,children:d.jsxs(nc,{className:"max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[d.jsxs(ic,{className:"flex flex-row items-center justify-between",children:[d.jsxs("div",{children:[d.jsx(ac,{children:r("deviceConfig")}),d.jsx(Qf,{children:it.deviceInfo})]}),d.jsxs(Fe,{variant:"outline",size:"sm",onClick:Y1,className:"ml-auto",children:[d.jsx(cc,{className:"mr-2 h-4 w-4"}),r("downloadJSON")]})]}),d.jsx("div",{className:"overflow-auto flex-1 mt-4",children:d.jsx("pre",{className:"bg-slate-50 p-4 rounded-md text-sm font-mono whitespace-pre-wrap",children:it.content})})]})}),d.jsx(ou,{open:Ks,onOpenChange:mg,children:d.jsxs(nc,{className:"sm:max-w-[425px]",children:[d.jsxs(ic,{children:[d.jsx(ac,{children:r("saveTopology")}),d.jsx(Qf,{children:r("saveTopologyDesc")})]}),d.jsxs("div",{className:"grid gap-4 py-4",children:[d.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[d.jsx(fa,{htmlFor:"topology_name",className:"text-right",children:r("topologyNameRequired")}),d.jsx(cr,{id:"topology_name",value:Xs.topology_name,onChange:X=>Zs(he=>({...he,topology_name:X.target.value})),className:"col-span-3",placeholder:r("topologyNamePlaceholder"),required:!0})]}),d.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[d.jsx(fa,{htmlFor:"description",className:"text-right",children:r("description")}),d.jsx(the,{id:"description",value:Xs.description,onChange:X=>Zs(he=>({...he,description:X.target.value})),className:"col-span-3",placeholder:r("topologyDescPlaceholder")})]}),d.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[d.jsx(fa,{htmlFor:"created_by",className:"text-right",children:r("creator")}),d.jsx(cr,{id:"created_by",value:Xs.created_by,onChange:X=>Zs(he=>({...he,created_by:X.target.value})),className:"col-span-3",placeholder:r("username")})]}),j1&&d.jsx("div",{className:"px-4",children:d.jsxs($m,{variant:"destructive",children:[d.jsx(ji,{className:"h-4 w-4"}),d.jsx(Bm,{children:r("saveFailure")}),d.jsx(Fm,{children:j1})]})})]}),d.jsxs(lu,{children:[d.jsx(Fe,{variant:"outline",onClick:()=>mg(!1),children:r("cancel")}),d.jsx(Fe,{onClick:tS,disabled:W0,children:W0?d.jsxs(d.Fragment,{children:[d.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),d.jsx("span",{children:r("saving")})]}):d.jsx("span",{children:r("save")})})]})]})})]})};var sXe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rhe=sXe.reduce((e,t)=>{const r=Lp(`Primitive.${t}`),n=A.forwardRef((i,a)=>{const{asChild:s,...o}=i,l=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...o,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),eF="Progress",tF=100,[oXe,wvt]=Ys(eF),[lXe,cXe]=oXe(eF),nhe=A.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=uXe,...s}=e;(i||i===0)&&!ZY(i)&&console.error(dXe(`${i}`,"Progress"));const o=ZY(i)?i:tF;n!==null&&!JY(n,o)&&console.error(hXe(`${n}`,"Progress"));const l=JY(n,o)?n:null,c=tN(l)?a(l,o):void 0;return d.jsx(lXe,{scope:r,value:l,max:o,children:d.jsx(rhe.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":tN(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":she(l,o),"data-value":l??void 0,"data-max":o,...s,ref:t})})});nhe.displayName=eF;var ihe="ProgressIndicator",ahe=A.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=cXe(ihe,r);return d.jsx(rhe.div,{"data-state":she(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});ahe.displayName=ihe;function uXe(e,t){return`${Math.round(e/t*100)}%`}function she(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function tN(e){return typeof e=="number"}function ZY(e){return tN(e)&&!isNaN(e)&&e>0}function JY(e,t){return tN(e)&&!isNaN(e)&&e<=t&&e>=0}function dXe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${tF}\`.`}function hXe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${tF} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ohe=nhe,fXe=ahe;const md=A.forwardRef(({className:e,value:t,indicatorClassName:r,...n},i)=>d.jsx(ohe,{ref:i,className:nr("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:d.jsx(fXe,{className:nr("h-full w-full flex-1 bg-primary transition-all",r),style:{transform:`translateX(-${100-(t||0)}%)`}})}));md.displayName=ohe.displayName;var pXe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lg=pXe.reduce((e,t)=>{const r=Lp(`Primitive.${t}`),n=A.forwardRef((i,a)=>{const{asChild:s,...o}=i,l=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...o,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function gXe(e,t){e&&Xp.flushSync(()=>e.dispatchEvent(t))}var mXe="DismissableLayer",zO="dismissableLayer.update",vXe="dismissableLayer.pointerDownOutside",yXe="dismissableLayer.focusOutside",QY,lhe=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),che=A.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:o,...l}=e,c=A.useContext(lhe),[u,h]=A.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=A.useState({}),g=sr(t,k=>h(k)),v=Array.from(c.layers),[m]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(m),x=u?v.indexOf(u):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,b=x>=y,w=bXe(k=>{const C=k.target,E=[...c.branches].some(T=>T.contains(C));!b||E||(i==null||i(k),s==null||s(k),k.defaultPrevented||o==null||o())},f),S=wXe(k=>{const C=k.target;[...c.branches].some(T=>T.contains(C))||(a==null||a(k),s==null||s(k),k.defaultPrevented||o==null||o())},f);return vce(k=>{x===c.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&o&&(k.preventDefault(),o()))},f),A.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(QY=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),eK(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=QY)}},[u,f,r,c]),A.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),eK())},[u,c]),A.useEffect(()=>{const k=()=>p({});return document.addEventListener(zO,k),()=>document.removeEventListener(zO,k)},[]),d.jsx(lg.div,{...l,ref:g,style:{pointerEvents:_?b?"auto":"none":void 0,...e.style},onFocusCapture:Ut(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Ut(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Ut(e.onPointerDownCapture,w.onPointerDownCapture)})});che.displayName=mXe;var xXe="DismissableLayerBranch",_Xe=A.forwardRef((e,t)=>{const r=A.useContext(lhe),n=A.useRef(null),i=sr(t,n);return A.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),d.jsx(lg.div,{...e,ref:i})});_Xe.displayName=xXe;function bXe(e,t=globalThis==null?void 0:globalThis.document){const r=xi(e),n=A.useRef(!1),i=A.useRef(()=>{});return A.useEffect(()=>{const a=o=>{if(o.target&&!n.current){let l=function(){uhe(vXe,r,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function wXe(e,t=globalThis==null?void 0:globalThis.document){const r=xi(e),n=A.useRef(!1);return A.useEffect(()=>{const i=a=>{a.target&&!n.current&&uhe(yXe,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function eK(){const e=new CustomEvent(zO);document.dispatchEvent(e)}function uhe(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?gXe(i,a):i.dispatchEvent(a)}var SXe="Arrow",dhe=A.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return d.jsx(lg.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});dhe.displayName=SXe;var CXe=dhe,rF="Popper",[hhe,fhe]=Ys(rF),[kXe,phe]=hhe(rF),ghe=e=>{const{__scopePopper:t,children:r}=e,[n,i]=A.useState(null);return d.jsx(kXe,{scope:t,anchor:n,onAnchorChange:i,children:r})};ghe.displayName=rF;var mhe="PopperAnchor",vhe=A.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=phe(mhe,r),s=A.useRef(null),o=sr(t,s);return A.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:d.jsx(lg.div,{...i,ref:o})});vhe.displayName=mhe;var nF="PopperContent",[EXe,TXe]=hhe(nF),yhe=A.forwardRef((e,t)=>{var B,W,Y,Z,Q,re;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:g,...v}=e,m=phe(nF,r),[y,x]=A.useState(null),_=sr(t,me=>x(me)),[b,w]=A.useState(null),S=Q2(b),k=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,E=n+(a!=="center"?"-"+a:""),T=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},N=Array.isArray(c)?c:[c],I=N.length>0,P={padding:T,boundary:N.filter(AXe),altBoundary:I},{refs:D,floatingStyles:$,placement:L,isPositioned:O,middlewareData:j}=Mce({strategy:"fixed",placement:E,whileElementsMounted:(...me)=>Rce(...me,{animationFrame:p==="always"}),elements:{reference:m.anchor},middleware:[Pce({mainAxis:i+C,alignmentAxis:s}),l&&Lce({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Dce():void 0,...P}),l&&Oce({...P}),$ce({...P,apply:({elements:me,rects:Ee,availableWidth:Ne,availableHeight:Me})=>{const{width:Ae,height:Ie}=Ee.reference,bt=me.floating.style;bt.setProperty("--radix-popper-available-width",`${Ne}px`),bt.setProperty("--radix-popper-available-height",`${Me}px`),bt.setProperty("--radix-popper-anchor-width",`${Ae}px`),bt.setProperty("--radix-popper-anchor-height",`${Ie}px`)}}),b&&Fce({element:b,padding:o}),jXe({arrowWidth:k,arrowHeight:C}),f&&Bce({strategy:"referenceHidden",...P})]}),[M,R]=bhe(L),z=xi(g);Fn(()=>{O&&(z==null||z())},[O,z]);const U=(B=j.arrow)==null?void 0:B.x,F=(W=j.arrow)==null?void 0:W.y,G=((Y=j.arrow)==null?void 0:Y.centerOffset)!==0,[q,K]=A.useState();return Fn(()=>{y&&K(window.getComputedStyle(y).zIndex)},[y]),d.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:O?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(Z=j.transformOrigin)==null?void 0:Z.x,(Q=j.transformOrigin)==null?void 0:Q.y].join(" "),...((re=j.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(EXe,{scope:r,placedSide:M,onArrowChange:w,arrowX:U,arrowY:F,shouldHideArrow:G,children:d.jsx(lg.div,{"data-side":M,"data-align":R,...v,ref:_,style:{...v.style,animation:O?void 0:"none"}})})})});yhe.displayName=nF;var xhe="PopperArrow",NXe={top:"bottom",right:"left",bottom:"top",left:"right"},_he=A.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=TXe(xhe,n),s=NXe[a.placedSide];return d.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:d.jsx(CXe,{...i,ref:r,style:{...i.style,display:"block"}})})});_he.displayName=xhe;function AXe(e){return e!==null}var jXe=e=>({name:"transformOrigin",options:e,fn(t){var m,y,x;const{placement:r,rects:n,middlewareData:i}=t,s=((m=i.arrow)==null?void 0:m.centerOffset)!==0,o=s?0:e.arrowWidth,l=s?0:e.arrowHeight,[c,u]=bhe(r),h={start:"0%",center:"50%",end:"100%"}[u],f=(((y=i.arrow)==null?void 0:y.x)??0)+o/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let g="",v="";return c==="bottom"?(g=s?h:`${f}px`,v=`${-l}px`):c==="top"?(g=s?h:`${f}px`,v=`${n.floating.height+l}px`):c==="right"?(g=`${-l}px`,v=s?h:`${p}px`):c==="left"&&(g=`${n.floating.width+l}px`,v=s?h:`${p}px`),{data:{x:g,y:v}}}});function bhe(e){const[t,r="center"]=e.split("-");return[t,r]}var RXe=ghe,IXe=vhe,MXe=yhe,PXe=_he;function LXe(e,t){return A.useReducer((r,n)=>t[r][n]??r,e)}var whe=e=>{const{present:t,children:r}=e,n=DXe(t),i=typeof r=="function"?r({present:n.isPresent}):A.Children.only(r),a=sr(n.ref,OXe(i));return typeof r=="function"||n.isPresent?A.cloneElement(i,{ref:a}):null};whe.displayName="Presence";function DXe(e){const[t,r]=A.useState(),n=A.useRef(null),i=A.useRef(e),a=A.useRef("none"),s=e?"mounted":"unmounted",[o,l]=LXe(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const c=UC(n.current);a.current=o==="mounted"?c:"none"},[o]),Fn(()=>{const c=n.current,u=i.current;if(u!==e){const f=a.current,p=UC(c);e?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Fn(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,h=p=>{const v=UC(n.current).includes(p.animationName);if(p.target===t&&v&&(l("ANIMATION_END"),!i.current)){const m=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=m)})}},f=p=>{p.target===t&&(a.current=UC(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:A.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function UC(e){return(e==null?void 0:e.animationName)||"none"}function OXe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $Xe=IN[" useInsertionEffect ".trim().toString()]||Fn;function BXe({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,a,s]=FXe({defaultProp:t,onChange:r}),o=e!==void 0,l=o?e:i;{const u=A.useRef(e!==void 0);A.useEffect(()=>{const h=u.current;h!==o&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=o},[o,n])}const c=A.useCallback(u=>{var h;if(o){const f=zXe(u)?u(e):u;f!==e&&((h=s.current)==null||h.call(s,f))}else a(u)},[o,e,a,s]);return[l,c]}function FXe({defaultProp:e,onChange:t}){const[r,n]=A.useState(e),i=A.useRef(r),a=A.useRef(t);return $Xe(()=>{a.current=t},[t]),A.useEffect(()=>{var s;i.current!==r&&((s=a.current)==null||s.call(a,r),i.current=r)},[r,i]),[r,n,a]}function zXe(e){return typeof e=="function"}var UXe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),HXe="VisuallyHidden",She=A.forwardRef((e,t)=>d.jsx(lg.span,{...e,ref:t,style:{...UXe,...e.style}}));She.displayName=HXe;var VXe=She,[pA,Svt]=Ys("Tooltip",[fhe]),gA=fhe(),Che="TooltipProvider",WXe=700,UO="tooltip.open",[GXe,iF]=pA(Che),khe=e=>{const{__scopeTooltip:t,delayDuration:r=WXe,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,s=A.useRef(!0),o=A.useRef(!1),l=A.useRef(0);return A.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),d.jsx(GXe,{scope:t,isOpenDelayedRef:s,delayDuration:r,onOpen:A.useCallback(()=>{window.clearTimeout(l.current),s.current=!1},[]),onClose:A.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:A.useCallback(c=>{o.current=c},[]),disableHoverableContent:i,children:a})};khe.displayName=Che;var Qb="Tooltip",[qXe,mA]=pA(Qb),Ehe=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i,onOpenChange:a,disableHoverableContent:s,delayDuration:o}=e,l=iF(Qb,e.__scopeTooltip),c=gA(t),[u,h]=A.useState(null),f=ah(),p=A.useRef(0),g=s??l.disableHoverableContent,v=o??l.delayDuration,m=A.useRef(!1),[y,x]=BXe({prop:n,defaultProp:i??!1,onChange:k=>{k?(l.onOpen(),document.dispatchEvent(new CustomEvent(UO))):l.onClose(),a==null||a(k)},caller:Qb}),_=A.useMemo(()=>y?m.current?"delayed-open":"instant-open":"closed",[y]),b=A.useCallback(()=>{window.clearTimeout(p.current),p.current=0,m.current=!1,x(!0)},[x]),w=A.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),S=A.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{m.current=!0,x(!0),p.current=0},v)},[v,x]);return A.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),d.jsx(RXe,{...c,children:d.jsx(qXe,{scope:t,contentId:f,open:y,stateAttribute:_,trigger:u,onTriggerChange:h,onTriggerEnter:A.useCallback(()=>{l.isOpenDelayedRef.current?S():b()},[l.isOpenDelayedRef,S,b]),onTriggerLeave:A.useCallback(()=>{g?w():(window.clearTimeout(p.current),p.current=0)},[w,g]),onOpen:b,onClose:w,disableHoverableContent:g,children:r})})};Ehe.displayName=Qb;var HO="TooltipTrigger",The=A.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=mA(HO,r),a=iF(HO,r),s=gA(r),o=A.useRef(null),l=sr(t,o,i.onTriggerChange),c=A.useRef(!1),u=A.useRef(!1),h=A.useCallback(()=>c.current=!1,[]);return A.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),d.jsx(IXe,{asChild:!0,...s,children:d.jsx(lg.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:Ut(e.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ut(e.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Ut(e.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ut(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:Ut(e.onBlur,i.onClose),onClick:Ut(e.onClick,i.onClose)})})});The.displayName=HO;var YXe="TooltipPortal",[Cvt,KXe]=pA(YXe,{forceMount:void 0}),Fv="TooltipContent",Nhe=A.forwardRef((e,t)=>{const r=KXe(Fv,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,s=mA(Fv,e.__scopeTooltip);return d.jsx(whe,{present:n||s.open,children:s.disableHoverableContent?d.jsx(Ahe,{side:i,...a,ref:t}):d.jsx(XXe,{side:i,...a,ref:t})})}),XXe=A.forwardRef((e,t)=>{const r=mA(Fv,e.__scopeTooltip),n=iF(Fv,e.__scopeTooltip),i=A.useRef(null),a=sr(t,i),[s,o]=A.useState(null),{trigger:l,onClose:c}=r,u=i.current,{onPointerInTransitChange:h}=n,f=A.useCallback(()=>{o(null),h(!1)},[h]),p=A.useCallback((g,v)=>{const m=g.currentTarget,y={x:g.clientX,y:g.clientY},x=tZe(y,m.getBoundingClientRect()),_=rZe(y,x),b=nZe(v.getBoundingClientRect()),w=aZe([..._,...b]);o(w),h(!0)},[h]);return A.useEffect(()=>()=>f(),[f]),A.useEffect(()=>{if(l&&u){const g=m=>p(m,u),v=m=>p(m,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",v)}}},[l,u,p,f]),A.useEffect(()=>{if(s){const g=v=>{const m=v.target,y={x:v.clientX,y:v.clientY},x=(l==null?void 0:l.contains(m))||(u==null?void 0:u.contains(m)),_=!iZe(y,s);x?f():_&&(f(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,s,c,f]),d.jsx(Ahe,{...e,ref:a})}),[ZXe,JXe]=pA(Qb,{isInside:!1}),QXe=lVe("TooltipContent"),Ahe=A.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...o}=e,l=mA(Fv,r),c=gA(r),{onClose:u}=l;return A.useEffect(()=>(document.addEventListener(UO,u),()=>document.removeEventListener(UO,u)),[u]),A.useEffect(()=>{if(l.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),d.jsx(che,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:d.jsxs(MXe,{"data-state":l.stateAttribute,...c,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(QXe,{children:n}),d.jsx(ZXe,{scope:r,isInside:!0,children:d.jsx(VXe,{id:l.contentId,role:"tooltip",children:i||n})})]})})});Nhe.displayName=Fv;var jhe="TooltipArrow",eZe=A.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=gA(r);return JXe(jhe,r).isInside?null:d.jsx(PXe,{...i,...n,ref:t})});eZe.displayName=jhe;function tZe(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function rZe(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function nZe(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function iZe(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){const o=t[a],l=t[s],c=o.x,u=o.y,h=l.x,f=l.y;u>n!=f>n&&r<(h-c)*(n-u)/(f-u)+c&&(i=!i)}return i}function aZe(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),sZe(t)}function sZe(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],s=t[t.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],s=r[r.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var oZe=khe,lZe=Ehe,cZe=The,Rhe=Nhe;const Ed=oZe,Qo=lZe,el=cZe,xo=A.forwardRef(({className:e,sideOffset:t=4,...r},n)=>d.jsx(Rhe,{ref:n,sideOffset:t,className:nr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));xo.displayName=Rhe.displayName;const px="selected_topology_name",uZe="network-deployment-toast-enable",tK="hd_telemetry_device_ip",dZe=e=>{const t=new Date(e);return!isNaN(t.getTime())},hZe=e=>{try{const t=new Date(e);return isNaN(t.getTime())?"无效日期":t.toLocaleString()}catch{return"无效日期"}},fZe={ASIC_TEMP:"ASIC芯片温度",CPU_TEMP:"CPU温度",INLET_TEMP:"芯片进风温度",MAC_IN_TEMP:"芯片入向温度",MAC_OUT_TEMP:"芯片出向温度",OUTLET_TEMP:"设备出风口温度",PSU_TEMP:"电源温度",PSU1_TEMP:"PSU1温度",PSU2_TEMP:"PSU2温度"},pZe=/^(Fantray\d+)(?:_\d+)?$/i,gZe=e=>e.presence?e.status?e.speed<20?{statusText:"low speed",statusColor:"bg-yellow-400",textColor:"text-yellow-700",bgColor:"bg-yellow-50",borderColor:"border-yellow-300"}:{statusText:"normal",statusColor:"bg-green-500",textColor:"text-green-700",bgColor:"bg-green-50",borderColor:"border-green-300"}:{statusText:"failed",statusColor:"bg-red-500",textColor:"text-red-700",bgColor:"bg-red-50",borderColor:"border-red-300"}:{statusText:"not present",statusColor:"bg-gray-400",textColor:"text-gray-700",bgColor:"bg-gray-100",borderColor:"border-gray-300"},mZe=e=>{let t=!1;if(e.voltage&&e.voltage_min_threshold&&e.voltage_max_threshold){const n=parseFloat(e.voltage.toString());(n<e.voltage_min_threshold||n>e.voltage_max_threshold)&&(t=!0)}let r=!1;return e.temp&&e.temp_threshold&&e.temp>=e.temp_threshold&&(r=!0),e.presence?e.status?r||t?{statusText:"warning",statusColor:"bg-orange-500",textColor:"text-orange-700",bgColor:"bg-orange-50",borderColor:"border-orange-300"}:{statusText:"normal",statusColor:"bg-green-500",textColor:"text-green-700",bgColor:"bg-green-50",borderColor:"border-green-300"}:{statusText:"failed",statusColor:"bg-red-500",textColor:"text-red-700",bgColor:"bg-red-50",borderColor:"border-red-300"}:{statusText:"not present",statusColor:"bg-gray-400",textColor:"text-gray-700",bgColor:"bg-gray-100",borderColor:"border-gray-300"}},em=(e,t)=>{const r=Math.min(100,e/t*100);return r>90?{statusText:"critical",statusColor:"bg-red-500",textColor:"text-red-700",bgColor:"bg-red-50",borderColor:"border-red-300",progressColor:"bg-red-500",percentage:r}:r>75?{statusText:"warning",statusColor:"bg-orange-500",textColor:"text-orange-700",bgColor:"bg-orange-50",borderColor:"border-orange-300",progressColor:"bg-orange-500",percentage:r}:r>60?{statusText:"attention",statusColor:"bg-yellow-400",textColor:"text-yellow-700",bgColor:"bg-yellow-50",borderColor:"border-yellow-300",progressColor:"bg-yellow-500",percentage:r}:{statusText:"normal",statusColor:"bg-green-500",textColor:"text-green-700",bgColor:"bg-green-50",borderColor:"border-green-300",progressColor:"bg-green-500",percentage:r}},rK=e=>e>=1024*1024?`${(e/(1024*1024)).toFixed(2)} GB/s`:e>=1024?`${(e/1024).toFixed(2)} MB/s`:`${e.toFixed(2)} KB/s`,vZe=()=>{var Nl,R1,Gu,I1,q0,Y0,K0,M1,P1,L1,D1,X0,Z0,O1,Dc,J0,Es,Hh,Vh,$1,Q0,B1,ey,ty,Ir,F1,z1,ry,U1,H1,vg,ny,V1,W1,iy,G1,ay,Wh,q1,sy,yg,oy,Oc,Al,xg,ly,Y1,K1,fn,X1,Z1,J1,Q1,eS,tS,X,he,ue,ve,we,rt,Tr,or,Jt,Mr,Js,Ts,_g,si,jl,cy,bg,zA,Nt,jt,Vt,qn,bn,Qs,Ln,Ns,eo,qu,x6,_6,b6,w6,S6,C6,k6,E6,T6,N6,A6,j6,R6,I6,M6,P6,L6,D6,O6,$6,B6,F6,z6,U6,H6,V6,W6,G6,q6,Y6,K6,X6,Z6,J6,Q6,ez,tz,rz,nz,iz,az,sz,oz,lz,cz,uz,dz,hz,fz,pz,gz;const{t:e}=q5(),[t,r]=A.useState("topology"),[n,i]=A.useState([]),[a,s]=A.useState(""),[o,l]=A.useState(""),[c,u]=A.useState(null),[h,f]=A.useState(!1),[p,g]=A.useState(!1),[v,m]=A.useState(null),y=A.useRef(null),{toast:x}=ehe();A.useRef(!1);const[_,b]=A.useState(null),[w,S]=A.useState(null),[k,C]=A.useState(!1),[E,T]=A.useState(""),[N,I]=A.useState(null),[P,D]=A.useState("asc"),[$,L]=A.useState(""),[O,j]=A.useState(0),[M,R]=A.useState(null),[z,U]=A.useState({x:0,y:0}),[F,G]=A.useState(null),[q,K]=A.useState(!1),[B,W]=A.useState(null),[Y,Z]=A.useState("desc"),[Q,re]=A.useState(null),[me,Ee]=A.useState(!1),[Ne,Me]=A.useState(!1),[Ae,Ie]=A.useState(!1),[bt,pt]=A.useState(!1),[fe,et]=A.useState(""),[He,Gt]=A.useState(""),[tt,ee]=A.useState([]),[se,J]=A.useState(!1),[ne,le]=A.useState({}),[Re,ze]=A.useState(!1),[Te,Dt]=A.useState([]),[It,gr]=A.useState(!1),Mt=H=>localStorage.getItem(uZe)==="true"?x(H):{dismiss:()=>{}};A.useEffect(()=>{console.log("==== 组件首次加载 ====");const H=localStorage.getItem(px);console.log("从localStorage恢复的拓扑名称:",H);const ae=localStorage.getItem(tK);ae&&(console.log("从localStorage恢复的设备IP:",ae),L(ae),b(ae),oe(ae)),qt(H);const de=()=>{if(document.visibilityState==="visible"){console.log("页面变为可见，检查保存的拓扑名称");const ge=localStorage.getItem(px);ge&&ge!==o&&(console.log("发现不同的保存拓扑名称:",ge),qt(ge))}};return document.addEventListener("visibilitychange",de),()=>{document.removeEventListener("visibilitychange",de)}},[]),A.useEffect(()=>{_&&localStorage.setItem(tK,_)},[_]),A.useEffect(()=>{if(a){console.log("拓扑ID变更为:",a);const H=n.find(ae=>ae.id===a);if(H){const ae=H.topology_name;l(ae),console.log("对应的拓扑名称:",ae),localStorage.setItem(px,ae),on(a,ae),Mt({title:"拓扑选择已保存",description:`您选择的拓扑"${ae}"将在下次访问时自动加载`})}}},[a]);const qt=async H=>{var ae,de,ge,gt;console.log("开始获取拓扑列表..."),H&&console.log("将尝试恢复拓扑名称:",H),f(!0),m(null);try{const Se=await $t.post("/webhook/api/network-deployment/topology/list",{},{headers:{"Content-Type":"application/json"}});if(!Se.data){console.log("服务器返回空拓扑列表"),i([]);return}console.log("获取到的拓扑列表:",Se.data);const Ct=Array.isArray(Se.data)?Se.data:[];if(i(Ct),Ct.length>0){const hr=H?Ct.find(Ot=>Ot.topology_name===H):null;hr?(console.log("找到已保存的拓扑名称对应的拓扑:",hr.id),s(hr.id),l(hr.topology_name)):(H&&console.log("已保存的拓扑名称不存在于列表中:",H),console.log("使用列表中的第一个拓扑:",Ct[0].id),s(Ct[0].id),l(Ct[0].topology_name))}else console.log("拓扑列表为空，清空选择"),s(""),l("")}catch(Se){console.error("获取拓扑列表失败:",Se),m("获取拓扑列表失败: "+(((de=(ae=Se.response)==null?void 0:ae.data)==null?void 0:de.message)||Se.message)),Mt({variant:"destructive",title:"获取拓扑列表失败",description:((gt=(ge=Se.response)==null?void 0:ge.data)==null?void 0:gt.message)||Se.message})}finally{f(!1)}},on=async(H,ae)=>{var de,ge,gt,Se,Ct,hr,Ot,Dr;if(!H||!ae){console.log("没有有效的拓扑ID或名称，跳过加载");return}g(!0),m(null);try{console.log("开始获取拓扑详情, ID:",H,"名称:",ae),console.log("请求拓扑数据，参数:",{id:H,topology_name:ae});let Wr;try{Wr=await $t.post("/webhook/api/network-deployment/topology/load",{id:H,topology_name:ae},{headers:{"Content-Type":"application/json"}})}catch{console.log("尝试方式1失败，尝试仅使用topology_name");try{Wr=await $t.post("/webhook/api/network-deployment/topology/load",{topology_name:ae},{headers:{"Content-Type":"application/json"}})}catch{console.log("尝试方式2失败，尝试使用name参数"),Wr=await $t.post("/webhook/api/network-deployment/topology/load",{name:ae},{headers:{"Content-Type":"application/json"}})}}if(!Wr||!Wr.data){m("获取拓扑详情失败: 服务器返回空数据"),u(null),console.error("服务器返回空数据");return}console.log("成功获取拓扑详情数据，响应状态码:",Wr.status);const ln=Wr.data,fr={id:H,topology_name:ae,description:"",created_by:"",created_at:"",nodes:[],links:[]};ln&&typeof ln=="object"&&(typeof ln.description=="string"?fr.description=ln.description:(de=ln.metadata)!=null&&de.description&&(fr.description=ln.metadata.description),typeof ln.created_by=="string"?fr.created_by=ln.created_by:(ge=ln.metadata)!=null&&ge.created_by&&(fr.created_by=ln.metadata.created_by),typeof ln.created_at=="string"?fr.created_at=ln.created_at:(gt=ln.metadata)!=null&&gt.created_at?fr.created_at=ln.metadata.created_at:(Se=ln.metadata)!=null&&Se.timestamp&&(fr.created_at=ln.metadata.timestamp));const Oi=n.find(lr=>lr.id===H);Oi&&(!fr.description&&Oi.description&&(fr.description=Oi.description),!fr.created_by&&Oi.created_by&&(fr.created_by=Oi.created_by),!fr.created_at&&Oi.created_at&&(fr.created_at=Oi.created_at)),console.log("提取的拓扑详情:",{id:fr.id,topology_name:fr.topology_name,description:fr.description,created_by:fr.created_by,created_at:fr.created_at});const aa=lr=>{if(console.log("尝试提取节点数据"),Array.isArray(lr.nodes)&&lr.nodes.length>0)return console.log(`找到顶层nodes数组, 长度: ${lr.nodes.length}`),lr.nodes;if(Array.isArray(lr.nodes)&&lr.nodes.length>0&&lr.nodes[0]&&Array.isArray(lr.nodes[0].nodes))return console.log(`找到嵌套的nodes数组, 长度: ${lr.nodes[0].nodes.length}`),lr.nodes[0].nodes;for(const $e in lr)if(lr[$e]&&typeof lr[$e]=="object"&&Array.isArray(lr[$e].nodes)&&lr[$e].nodes.length>0)return console.log(`在属性 ${$e} 中找到nodes数组, 长度: ${lr[$e].nodes.length}`),lr[$e].nodes;return console.log("未找到有效的nodes数组"),[]},Ea=lr=>{if(console.log("尝试提取链接数据"),Array.isArray(lr.links)&&lr.links.length>0)return console.log(`找到顶层links数组, 长度: ${lr.links.length}`),lr.links;if(Array.isArray(lr.nodes)&&lr.nodes.length>0&&lr.nodes[0]&&Array.isArray(lr.nodes[0].links))return console.log(`找到嵌套的links数组, 长度: ${lr.nodes[0].links.length}`),lr.nodes[0].links;for(const $e in lr)if(lr[$e]&&typeof lr[$e]=="object"&&Array.isArray(lr[$e].links)&&lr[$e].links.length>0)return console.log(`在属性 ${$e} 中找到links数组, 长度: ${lr[$e].links.length}`),lr[$e].links;return console.log("未找到有效的links数组"),[]},Yu=aa(ln),$o=Ea(ln);fr.nodes=Array.isArray(Yu)?Yu:[],fr.links=Array.isArray($o)?$o:[],console.log("最终处理后的数据:",{id:fr.id,topology_name:fr.topology_name,description:fr.description,nodesCount:fr.nodes.length,linksCount:fr.links.length}),u(fr),setTimeout(()=>{fr.nodes.length>0?Di(fr):(console.error("没有有效的节点数据可以渲染"),m("获取到的拓扑没有有效的节点数据"))},100)}catch(Wr){console.error("获取拓扑详情失败:",Wr),m("获取拓扑详情失败: "+(((hr=(Ct=Wr.response)==null?void 0:Ct.data)==null?void 0:hr.message)||Wr.message)),Mt({variant:"destructive",title:"获取拓扑详情失败",description:((Dr=(Ot=Wr.response)==null?void 0:Ot.data)==null?void 0:Dr.message)||Wr.message})}finally{g(!1)}},Di=H=>{if(!y.current)return;console.log("开始渲染拓扑图..."),Gr(y.current).selectAll("*").remove();const ae=y.current.clientWidth||1e3,de=600;if(console.log("渲染拓扑数据:",{id:H.id,topology_name:H.topology_name,nodesCount:Array.isArray(H.nodes)?H.nodes.length:0,linksCount:Array.isArray(H.links)?H.links.length:0}),!H||!Array.isArray(H.nodes)||H.nodes.length===0){console.error("无效的拓扑数据, 缺少节点信息"),Gr(y.current).attr("width","100%").attr("height",de).append("text").attr("x",ae/2).attr("y",de/2).attr("text-anchor","middle").attr("font-size","16px").attr("fill","red").text("无法渲染拓扑图：数据格式不正确或无节点");return}const ge={...H,nodes:H.nodes.map($e=>({...$e,ip:$e.ip||"",hostname:$e.hostname||"Unknown",role:$e.role||"unknown",neighbors:Array.isArray($e.neighbors)?$e.neighbors:[]})),links:Array.isArray(H.links)?H.links:[]};console.log("处理后节点数量:",ge.nodes.length),console.log("处理后链接数量:",ge.links.length),ge.nodes.length>0&&console.log("节点样例:",ge.nodes[0]),ge.links.length>0&&console.log("链接样例:",ge.links[0]);const gt=Gr(y.current).attr("width","100%").attr("height",de),Se=gt.append("g").attr("transform","translate(50, 50)"),Ct=new Map,hr=new Map;try{ge.nodes.forEach($e=>{const Tt=$e.hostname||$e.ip||"node-"+Math.random().toString(36).substring(7);Ct.set(Tt,{id:Tt,hostname:$e.hostname||"Unknown",role:$e.role||"unknown",ip:$e.ip||"",neighbors:Array.isArray($e.neighbors)?$e.neighbors:[],connections:[]})}),console.log(`成功处理了 ${Ct.size} 个节点`)}catch($e){console.error("处理节点数据时出错:",$e)}try{ge.links.forEach($e=>{const Tt=$e.source||"",rr=$e.target||"";if(!Tt||!rr){console.warn("跳过无效链接:",$e);return}if(!Ct.has(Tt)||!Ct.has(rr)){console.warn(`链接 ${Tt} -> ${rr} 的节点不存在于节点映射中`);return}if(Tt===rr)return;const Kn=$e.sourcePort||"unknown",En=$e.targetPort||"unknown",Yt=`${Tt}-${rr}-${Kn}-${En}`;if(!hr.has(Yt)){hr.set(Yt,{source:Tt,target:rr,sourcePort:Kn,targetPort:En});const Ur=Ct.get(Tt);if(Ur){Ur.connections||(Ur.connections=[]);let Xn=Ur.connections.find(sa=>sa.target===rr);Xn||(Xn={target:rr,connectionCount:0,connections:[]},Ur.connections.push(Xn)),Xn.connectionCount+=1,Xn.connections.push({sourcePort:Kn,targetPort:En})}}}),console.log(`成功处理了 ${hr.size} 个链接`)}catch($e){console.error("处理链接数据时出错:",$e)}const Ot=Array.from(Ct.values()),Dr=Array.from(hr.values());if(Ot.length===0){console.error("没有有效节点可以渲染"),gt.append("g").append("text").attr("x",ae/2).attr("y",de/2).attr("text-anchor","middle").attr("font-size","16px").attr("fill","red").text("无法渲染拓扑图：没有有效节点");return}console.log("处理完成，准备渲染:",{nodes:Ot.length,links:Dr.length});const Wr={superspine:[],spine:[],leaf:[],unknown:[]};Ot.forEach($e=>{const Tt=$e.role||"unknown";Wr[Tt]||(Wr[Tt]=[]),Wr[Tt].push($e)});const ln={superspine:80,spine:220,leaf:360,unknown:480},fr=ae-100;Object.entries(Wr).forEach(([$e,Tt])=>{const rr=Tt.length;if(rr===0)return;const Kn=ln[$e];Tt.sort((Ur,Xn)=>{if(!Ur.hostname&&!Xn.hostname)return 0;if(!Ur.hostname)return 1;if(!Xn.hostname)return-1;const sa=Ur.hostname.match(/(\d+)/),to=Xn.hostname.match(/(\d+)/);return sa&&to?parseInt(sa[0],10)-parseInt(to[0],10):sa?-1:to?1:Ur.hostname.localeCompare(Xn.hostname)});const En=rr<=1?0:fr/(rr>1?rr-1:1),Yt=0;Tt.forEach((Ur,Xn)=>{Ur.x=Yt+Xn*En,Ur.y=Kn})});const Oi=Se.append("g").attr("class","links");Dr.length>0?Oi.selectAll("path").data(Dr).enter().append("path").attr("class","link").attr("id",$e=>`link-${$e.source}-${$e.target}`).attr("fill","none").attr("stroke","#aaa").attr("stroke-width",$e=>{var En;const Tt=Ot.find(Yt=>Yt.id===$e.source);if(!Tt)return 1.5;const rr=(En=Tt.connections)==null?void 0:En.find(Yt=>Yt.target===$e.target);return rr?Math.min(3,1+rr.connectionCount*.5):1.5}).each(function(){const $e=Gr(this);$e.attr("data-original-width",$e.attr("stroke-width"))}).attr("d",$e=>{const Tt=Ot.find(Ur=>Ur.id===$e.source),rr=Ot.find(Ur=>Ur.id===$e.target);if(!Tt||!rr||Tt.x===void 0||Tt.y===void 0||rr.x===void 0||rr.y===void 0)return console.warn("链接节点位置未定义:",{source:Tt,target:rr}),"";const Kn=rr.x-Tt.x,En=rr.y-Tt.y,Yt=Math.sqrt(Kn*Kn+En*En)*1.2;return Math.abs(Tt.y-rr.y)<10?`M${Tt.x},${Tt.y} A${Yt},${Yt} 0 0,1 ${rr.x},${rr.y}`:`M${Tt.x},${Tt.y} C${Tt.x},${(Tt.y+rr.y)/2} ${rr.x},${(Tt.y+rr.y)/2} ${rr.x},${rr.y}`}):console.warn("没有有效链接可以渲染");const Ea=Se.append("g").attr("class","nodes").selectAll("g").data(Ot).enter().append("g").attr("class","node").attr("transform",$e=>$e.x===void 0||$e.y===void 0?(console.warn("节点位置未定义:",$e),"translate(0, 0)"):`translate(${$e.x}, ${$e.y})`);Ea.append("circle").attr("r",20).attr("fill",$e=>{switch($e.role){case"superspine":return"#FF5733";case"spine":return"#33A8FF";case"leaf":return"#33FF57";default:return"#888888"}}).attr("stroke","#000").attr("stroke-width",1),Ea.append("text").attr("dy",-32).attr("text-anchor","middle").attr("font-size","12px").attr("font-weight","bold").attr("fill","#000").attr("stroke","white").attr("stroke-width",.5).text($e=>$e.hostname||"Unknown"),Ea.append("text").attr("dy",4).attr("text-anchor","middle").attr("font-size","9px").attr("fill","#fff").attr("font-weight","bold").text($e=>$e.role==="unknown"?"":$e.role),Ea.append("text").attr("dy",-16).attr("text-anchor","middle").attr("font-size","9px").attr("fill","#555").text($e=>$e.ip||""),Ea.filter($e=>Array.isArray($e.neighbors)&&$e.neighbors.length>0).append("circle").attr("cx",20).attr("cy",-15).attr("r",8).attr("fill","#4a5568").attr("stroke","white").attr("stroke-width",1),Ea.filter($e=>Array.isArray($e.neighbors)&&$e.neighbors.length>0).append("text").attr("x",20).attr("y",-12).attr("text-anchor","middle").attr("font-size","8px").attr("fill","white").text($e=>{var rr;return(((rr=$e.neighbors)==null?void 0:rr.filter(Kn=>Kn&&typeof Kn=="object"&&Kn.target&&Kn.targetRole!=="unknown"))||[]).length});const Yu=t4().scaleExtent([.1,2]).on("zoom",$e=>{Se.attr("transform",$e.transform)});gt.call(Yu).call(Yu.transform,eu.translate(50,50).scale(.9)),Ea.on("click",function($e,Tt){it(Tt)}),Ea.on("mouseover",function($e,Tt){const rr=$e.pageX,Kn=$e.pageY;Dr.forEach(Yt=>{const Ur=Yt.source===Tt.id,Xn=Yt.target===Tt.id;if(!Ur&&!Xn)return;const sa=Ur?Yt.target:Yt.source,to=Ot.find(uy=>uy.id===sa);to&&to.role!=="unknown"&&Gr(`#link-${Yt.source}-${Yt.target}`).attr("stroke","#FF6B00").attr("stroke-width",4).attr("stroke-opacity",.8)});const En=Gr("body").append("div").attr("class","topology-tooltip").style("position","absolute").style("background","white").style("border","1px solid #ddd").style("border-radius","4px").style("padding","8px").style("box-shadow","0 2px 5px rgba(0,0,0,0.2)").style("font-size","12px").style("pointer-events","none").style("max-width","300px").style("z-index","1000").style("left",`${rr+15}px`).style("top",`${Kn-15}px`);if(En.append("div").style("font-weight","bold").style("margin-bottom","5px").text(`${Tt.hostname||"Unknown"}${Tt.ip?` (${Tt.ip})`:""}`),En.append("div").style("margin-bottom","8px").style("color","#555").text(`${e("roleText")}: ${Tt.role||e("unknown")}`),Tt.neighbors&&Tt.neighbors.length>0){const Yt=Tt.neighbors.filter(Ur=>Ur&&typeof Ur=="object"&&Ur.target&&Ur.targetRole!=="unknown");Yt.length>0?(En.append("div").style("font-weight","bold").style("border-top","1px solid #eee").style("padding-top","4px").style("margin-top","4px").text(e("neighborConnectionsText").replace("{0}",Yt.length.toString())),Yt.forEach(Ur=>{En.append("div").style("margin-top","6px").style("font-weight","bold").style("color","#0066cc").text(`→ ${Ur.target} (${Ur.targetRole||"未知"})`),En.append("div").style("margin-left","10px").style("font-size","11px").style("line-height","1.4").html(`<span style="color:#555">${Tt.hostname||"Unknown"}:</span> <strong>${Ur.localPort||"未知"}</strong> → <span style="color:#555">${Ur.target}:</span> <strong>${Ur.remotePort||"未知"}</strong>`)})):En.append("div").style("font-style","italic").style("margin-top","5px").style("color","#777").text(e("noValidNeighbors"))}else En.append("div").style("font-style","italic").style("margin-top","5px").style("color","#777").text(e("noNeighborsText"))}).on("mouseout",function($e,Tt){Dr.forEach(rr=>{const Kn=rr.source===Tt.id,En=rr.target===Tt.id;if(!Kn&&!En)return;Gr(`#link-${rr.source}-${rr.target}`).attr("stroke","#aaa").attr("stroke-width",function(){return Gr(this).attr("data-original-width")||1.5}).attr("stroke-opacity",1)}),wte(".topology-tooltip").remove()}),gt.append("text").attr("x",20).attr("y",de-20).attr("font-size","12px").attr("fill","#666").text(e("zoomTip"));const $o=gt.append("g").attr("class","legend").attr("transform",`translate(${ae-200}, ${de-100})`);$o.append("text").attr("x",0).attr("y",0).attr("font-size","12px").attr("font-weight","bold").attr("fill","#333").text(e("nodeRoles")),[{role:"superspine",color:"#FF5733",label:e("superspine")},{role:"spine",color:"#33A8FF",label:e("spine")},{role:"leaf",color:"#33FF57",label:e("leaf")},{role:"unknown",color:"#888888",label:e("unknown")}].forEach(($e,Tt)=>{$o.append("circle").attr("cx",10).attr("cy",20+Tt*20).attr("r",6).attr("fill",$e.color),$o.append("text").attr("x",25).attr("y",24+Tt*20).attr("font-size","12px").attr("fill","#333").text($e.label)}),console.log("拓扑图渲染完成")},it=H=>{console.log("节点被点击:",H);const ae=H.ip;if(!ae){m("节点没有IP地址信息");return}L(ae),r("device"),oe(ae)},oe=async H=>{var ae,de;C(!0),K(!0),m(null);try{console.log("fetch device details:",H);const ge=await $t.post("/webhook/panel-metrics/fetch_last_time",{ip_list:H},{headers:{"Content-Type":"application/json"}});if(!ge.data||!Array.isArray(ge.data)||ge.data.length===0)throw new Error("not found device information");console.log("get device details:",ge.data),S(ge.data),j(0),b(ge.data[0].ip_address),ge.data[0].platform?(console.log("获取到平台硬件信息:",ge.data[0].platform),G(ge.data[0].platform)):(console.log("没有平台硬件信息"),G(null))}catch(ge){console.error("error for fetch device details:",ge),m("error for fetch device details: "+(((de=(ae=ge.response)==null?void 0:ae.data)==null?void 0:de.message)||ge.message)),Mt({variant:"destructive",title:"error for fetch device details",description:"the device is not online or cannot be accessed"}),S(null),G(null)}finally{C(!1),K(!1)}},be=H=>{N===H?D(ae=>ae==="asc"?"desc":"asc"):(I(H),D("asc"))},Ye=()=>{if(!$.trim()){m("请输入有效的IP地址");return}oe($.trim()),r("device")},ur=H=>{H.key==="Enter"&&Ye()},Gn=(H,ae)=>{if(H===M){R(null);return}R(H);const de=ae.clientX,ge=ae.clientY;U({x:de,y:ge}),ae.stopPropagation()},br=()=>{_&&(C(!0),oe(_))},Pn=()=>!M||!w||!w[O]?null:w[O].interfaces.find(H=>H.physical_port===M)||null,ka=H=>{r(H),H==="topology"&&c&&setTimeout(()=>{Di(c)},100)};A.useEffect(()=>{const H=ae=>{if(M){const de=document.getElementById("port-info-card");de&&!de.contains(ae.target)&&R(null)}};return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[M]),A.useEffect(()=>{const H=localStorage.getItem("realtime_telemetry_selected_ips");if(H)try{const de=JSON.parse(H);Array.isArray(de)&&ee(de)}catch(de){console.error("Failed to parse saved selected IPs:",de)}const ae=localStorage.getItem("realtime_telemetry_results");if(ae)try{const de=JSON.parse(ae);typeof de=="object"&&le(de)}catch(de){console.error("Failed to parse saved results:",de)}},[]),A.useEffect(()=>{localStorage.setItem("realtime_telemetry_selected_ips",JSON.stringify(tt)),Te.length>0&&tt.length===Te.length?ze(!0):ze(!1)},[tt,Te]),A.useEffect(()=>{localStorage.setItem("realtime_telemetry_results",JSON.stringify(ne))},[ne]);const ks=()=>{if(Re)ee([]);else{const H=Te.map(ae=>ae.ip_address);ee(H)}ze(!Re)},ia=H=>{ee(ae=>{if(ae.includes(H))return ae.length===Te.length&&ze(!1),ae.filter(ge=>ge!==H);{const ge=[...ae,H];return ge.length===Te.length&&ze(!0),ge}})};A.useEffect(()=>{t==="realtime"&&Te.length===0&&dr()},[t]);const dr=async()=>{var H,ae;gr(!0);try{const de=await $t.get("/webhook/api/network-devices");de.data&&de.data.status==="success"&&Array.isArray(de.data.data)?(Dt(de.data.data),x({title:"Devices loaded successfully",description:`Loaded ${de.data.data.length} devices`,variant:"default"})):(console.error("Invalid API response format:",de.data),Dt([]))}catch(de){console.error("Failed to fetch devices:",de),Dt([]),x({title:"Failed to load devices",description:((ae=(H=de.response)==null?void 0:H.data)==null?void 0:ae.message)||de.message||"Unknown error",variant:"destructive"})}finally{gr(!1)}},[hn,Ks]=A.useState(null),[mg,W0]=A.useState(!1),G0=async()=>{W0(!0);try{const H=await $t.post("/webhook/telemetry/result");console.log("Telemetry status response:",H.data),H.data&&Array.isArray(H.data)&&H.data.length>0&&Ks(H.data)}catch(H){console.error("Failed to fetch telemetry status:",H)}finally{W0(!1)}};A.useEffect(()=>{t==="realtime"&&G0()},[t]);const j1=async()=>{var ae,de;if(tt.length===0)return;J(!0);const H=new Date().toLocaleString();try{const ge=await $t.post("http://localhost:5678/webhook/telemetry_fetch_real_time",{ip_list:tt},{headers:{"Content-Type":"application/json"}});console.log("Real-time telemetry response:",ge.data);const gt={};ge.data&&typeof ge.data=="object"?Array.isArray(ge.data)?(ge.data.forEach(Se=>{Se.ip_address&&(gt[Se.ip_address]={success:!0,message:"Data fetched successfully",timestamp:H})}),tt.forEach(Se=>{gt[Se]||(gt[Se]={success:!1,message:"No data returned for this device",timestamp:H})})):ge.data.results?Object.keys(ge.data.results).forEach(Se=>{gt[Se]={success:ge.data.results[Se].success||!1,message:ge.data.results[Se].message||"Unknown status",timestamp:H}}):tt.forEach(Se=>{gt[Se]={success:!0,message:"Request completed",timestamp:H}}):tt.forEach(Se=>{gt[Se]={success:!1,message:"Invalid response from server",timestamp:H}}),le(gt),G0(),x({title:"Real-Time Telemetry Fetch Complete",description:`Processed ${Object.keys(gt).length} devices`,variant:"default"})}catch(ge){console.error("Error fetching real-time telemetry:",ge);const gt={};tt.forEach(Se=>{gt[Se]={success:!1,message:"Request failed",timestamp:H}}),le(gt),x({title:"Failed to fetch real-time telemetry",description:((de=(ae=ge.response)==null?void 0:ae.data)==null?void 0:de.message)||ge.message||"Unknown error",variant:"destructive"})}finally{J(!1)}},[Tl,Xs]=A.useState(1),Zs=10;return d.jsxs("div",{className:"container mx-auto py-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-2xl font-normal tracking-tight text-gray-800",children:e("telemetry")}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsxs("div",{className:"flex items-center text-blue-600 text-sm bg-blue-50 px-3 py-1.5 rounded-md border border-blue-100",children:[d.jsx(sL,{size:14,className:"mr-1.5 text-blue-500"}),d.jsx("span",{children:"Last time data for search. Run real-time telemetry for updates."})]})}),d.jsxs("div",{className:"relative",children:[d.jsx(cr,{type:"text",placeholder:"Enter Device IP Address...",value:$,onChange:H=>L(H.target.value),onKeyDown:ur,className:"w-64 pr-10"}),d.jsx("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:Ye,children:d.jsx(li,{size:18})})]}),d.jsx(Fe,{onClick:Ye,variant:"outline",children:e("searchDevice")})]})]}),d.jsxs(u0,{value:t,onValueChange:ka,className:"w-full",children:[d.jsxs(d0,{className:"mb-4",children:[d.jsxs(qr,{value:"topology",className:"flex items-center gap-2",children:[d.jsx(ds,{size:16}),d.jsx("span",{children:e("networkTopology")})]}),d.jsxs(qr,{value:"device",className:"flex items-center gap-2",children:[d.jsx(g_,{size:16}),d.jsx("span",{children:e("devicePanel")})]}),d.jsxs(qr,{value:"hardware",className:"flex items-center gap-2",children:[d.jsx(bv,{size:16}),d.jsx("span",{children:e("hardwareMonitoring")})]}),d.jsxs(qr,{value:"routes",className:"flex items-center gap-2",children:[d.jsx(OE,{size:16}),d.jsx("span",{children:e("routingTable")})]}),d.jsxs(qr,{value:"bgp",className:"flex items-center gap-2",children:[d.jsx(F8,{size:16}),d.jsx("span",{children:e("bgpStatus")})]}),d.jsxs(qr,{value:"qos",className:"flex items-center gap-2",children:[d.jsx(gj,{size:16}),d.jsx("span",{children:e("qosPolicy")})]}),d.jsxs(qr,{value:"l2forwarding",className:"flex items-center gap-2",children:[d.jsx(ub,{size:16}),d.jsx("span",{children:e("l2Forwarding")})]}),d.jsxs(qr,{value:"system",className:"flex items-center gap-2",children:[d.jsx(lm,{size:16}),d.jsx("span",{children:e("systemProcess")})]}),d.jsxs(qr,{value:"realtime",className:"flex items-center gap-2",children:[d.jsx(XN,{size:16}),d.jsx("span",{children:"Real-Time Telemetry"})]})]}),d.jsx(Yr,{value:"topology",children:d.jsxs(Xe,{children:[d.jsxs(dt,{children:[d.jsx(ht,{children:e("networkTopologyMap")}),d.jsxs(rn,{className:"flex items-center justify-between",children:[d.jsx("span",{children:o?`${e("currentDisplay")}: ${o}`:e("networkTopologyMap")}),d.jsxs("div",{className:"flex items-center ml-4 whitespace-nowrap text-sm text-blue-600 bg-blue-50 px-3 py-1 rounded-md border border-blue-100",children:[d.jsx(sL,{size:14,className:"mr-1.5 text-blue-500 flex-shrink-0"}),d.jsx("div",{className:"group relative",children:d.jsx("span",{children:"Check topology creation time. To update, regenerate LLDP and topology."})})]})]})]}),d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex-1 mr-4",children:[d.jsxs("label",{className:"text-sm font-medium mb-1 block",children:[e("selectTopology"),":"]}),h?d.jsxs("div",{className:"flex items-center bg-slate-100 rounded-md h-10 px-3",children:[d.jsx(Kt,{className:"h-4 w-4 animate-spin mr-2"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:e("loading")})]}):d.jsxs(cn,{value:a,onValueChange:H=>{console.log("用户选择了新的拓扑ID:",H),H!==a&&s(H)},disabled:n.length===0,children:[d.jsx(nn,{className:"w-full",children:d.jsx(un,{placeholder:e("selectTopologyPlaceholder")})}),d.jsx(an,{children:n.map(H=>{const de=localStorage.getItem(px)===H.topology_name;return d.jsxs(qe,{value:H.id,children:[H.topology_name,de&&" (✓)",H.description&&` - ${H.description}`]},H.id)})})]})]}),d.jsx(Fe,{onClick:()=>{const H=localStorage.getItem(px);console.log("刷新列表，尝试恢复保存的拓扑名称:",H),qt(H)},variant:"outline",disabled:h,children:h?d.jsx(Kt,{className:"h-4 w-4 animate-spin mr-2"}):d.jsx("span",{children:e("refreshList")})})]}),v&&d.jsxs($m,{variant:"destructive",className:"mb-4",children:[d.jsx(ji,{className:"h-4 w-4"}),d.jsx(Bm,{children:e("loadingFailed")}),d.jsx(Fm,{children:v})]}),c?d.jsx("div",{className:"mt-4",children:d.jsx("div",{className:"bg-slate-50 border rounded-md p-4 overflow-x-auto overflow-y-hidden",children:d.jsxs("div",{className:"min-w-[1200px]",children:[d.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:[e("topologyName"),": ",d.jsx("strong",{children:c.topology_name||e("unknown")}),c.description?` | ${e("description")}: ${c.description}`:"",c.created_by?` | ${e("creator")}: ${c.created_by}`:"",c.created_at&&dZe(c.created_at)?` | ${e("creationTime")}: ${hZe(c.created_at)}`:""]}),p?d.jsxs("div",{className:"flex justify-center items-center h-[600px] bg-slate-100",children:[d.jsx(Kt,{className:"h-8 w-8 animate-spin"}),d.jsx("span",{className:"ml-2",children:e("loadingTopology")})]}):d.jsx("svg",{ref:y,width:"100%",height:"600"})]})})}):d.jsx("div",{className:"flex flex-col items-center justify-center p-12 border rounded-md bg-slate-50",children:p?d.jsxs(d.Fragment,{children:[d.jsx(Kt,{className:"h-8 w-8 animate-spin mb-4"}),d.jsx("p",{children:e("loadingTopology")})]}):d.jsxs(d.Fragment,{children:[d.jsx(ds,{className:"h-12 w-12 mb-4 text-gray-400"}),d.jsx("p",{className:"text-lg font-medium mb-2 text-gray-600",children:"未选择拓扑"}),d.jsxs("p",{className:"text-gray-500 text-center",children:["请从下拉列表中选择一个保存的拓扑进行查看",n.length===0&&!h&&!v&&"，或先在网络部署页面创建并保存拓扑"]})]})})]})]})}),d.jsx(Yr,{value:"device",children:d.jsxs(Xe,{children:[d.jsxs(dt,{className:"flex flex-row items-center justify-between",children:[d.jsxs("div",{children:[d.jsx(ht,{children:e("devicePanelTitle")}),d.jsx(rn,{children:_?d.jsx(d.Fragment,{children:e("deviceInfoLabel").replace("{0}",_).replace("{1}",((Nl=w==null?void 0:w[O])==null?void 0:Nl.hostname)||"")}):e("enterIpToSearch")})]}),_&&d.jsx(Fe,{variant:"outline",size:"sm",onClick:br,disabled:k,children:k?d.jsxs(d.Fragment,{children:[d.jsx(Kt,{className:"h-4 w-4 animate-spin mr-2"}),e("refreshing")]}):d.jsx(d.Fragment,{children:e("refreshDeviceButton")})})]}),d.jsx(Je,{children:k?d.jsxs("div",{className:"flex justify-center items-center h-[400px]",children:[d.jsx(Kt,{className:"h-8 w-8 animate-spin mr-2"}),d.jsx("span",{children:e("loadingDeviceInfo")})]}):w&&w.length>0?d.jsxs("div",{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[d.jsxs(Xe,{children:[d.jsx(dt,{className:"py-4",children:d.jsx(ht,{className:"text-sm font-medium",children:e("deviceModelLabel")})}),d.jsx(Je,{className:"py-2",children:d.jsx("div",{className:"font-medium",children:w[O].hw_sku})})]}),d.jsxs(Xe,{children:[d.jsx(dt,{className:"py-4",children:d.jsx(ht,{className:"text-sm font-medium",children:e("portLayoutLabel")})}),d.jsx(Je,{className:"py-2",children:d.jsx("div",{className:"font-medium",children:w[O].port_layout})})]}),d.jsxs(Xe,{children:[d.jsx(dt,{className:"py-4",children:d.jsx(ht,{className:"text-sm font-medium",children:e("chipLabel")})}),d.jsx(Je,{className:"py-2",children:d.jsx("div",{className:"font-medium",children:w[O].chip_name})})]}),d.jsxs(Xe,{children:[d.jsx(dt,{className:"py-4",children:d.jsx(ht,{className:"text-sm font-medium",children:e("buffer")})}),d.jsx(Je,{className:"py-2",children:d.jsx("div",{className:"font-medium",children:w[O].buffer_size})})]})]}),d.jsxs("div",{className:"mt-8 mb-6",children:[d.jsx("h3",{className:"text-lg font-medium mb-4",children:e("devicePanelTitle")}),d.jsxs("div",{className:"device-panel-container relative border rounded-md p-6 bg-gray-50 overflow-hidden",style:{minHeight:"300px"},children:[(()=>{const H=w[O].panel_port_map_json;if(!H||H.length===0)return d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx("p",{className:"text-gray-500",children:"没有可用的端口布局信息"})});const ae=Math.max(...H.map(ge=>ge.x))+1,de=Math.max(...H.map(ge=>ge.y))+1;return d.jsx("div",{className:"w-full grid gap-2",style:{gridTemplateColumns:`repeat(${ae}, 1fr)`,gridTemplateRows:`repeat(${de}, 50px)`},children:H.map((ge,gt)=>{const Se=w[O].interfaces.find(hr=>hr.physical_port===ge.physical_port),Ct=(Se==null?void 0:Se.status)||"DOWN";return d.jsx("div",{className:`flex items-center justify-center rounded border cursor-pointer ${Ct.toUpperCase()==="UP"?"bg-green-500 border-green-700 text-white":"bg-gray-400 border-gray-600 text-white"}`,style:{gridColumn:ge.x+1,gridRow:ge.y+1},onClick:hr=>Gn(ge.physical_port,hr),children:d.jsx("span",{className:"text-sm font-medium",children:ge.physical_port})},gt)})})})(),M&&Pn()&&d.jsxs("div",{id:"port-info-card",className:"fixed bg-white py-3 px-4 border rounded-md shadow-lg z-50",style:{left:`${Math.min(z.x+10,window.innerWidth-250)}px`,top:`${Math.min(z.y-10,window.innerHeight-230)}px`,width:"auto",minWidth:"200px"},children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsx("h4",{className:"font-bold text-md",children:Pn().physical_port}),d.jsx("button",{className:"text-gray-500 hover:text-gray-800",onClick:H=>{H.stopPropagation(),R(null)},children:"✕"})]}),d.jsx("p",{className:"text-xs text-gray-500 mb-3",children:Pn().logical_port}),d.jsx("table",{className:"w-full text-sm",children:d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsxs("td",{className:"text-gray-500 pr-4 py-1",children:[e("statusColumn"),":"]}),d.jsx("td",{className:`font-medium ${Pn().status.toUpperCase()==="UP"?"text-green-600":"text-gray-600"}`,children:Pn().status.toUpperCase()==="UP"?e("online"):e("offline")})]}),d.jsxs("tr",{children:[d.jsxs("td",{className:"text-gray-500 pr-4 py-1",children:[e("speed"),":"]}),d.jsx("td",{className:"font-medium",children:Pn().speed||"N/A"})]}),d.jsxs("tr",{children:[d.jsx("td",{className:"text-gray-500 pr-4 py-1",children:"MTU:"}),d.jsx("td",{className:"font-medium",children:Pn().mtu||"N/A"})]}),d.jsxs("tr",{children:[d.jsxs("td",{className:"text-gray-500 pr-4 py-1",children:[e("totalReceivedPackets"),":"]}),d.jsx("td",{className:"font-medium",children:Pn().in_pkts_total})]}),d.jsxs("tr",{children:[d.jsxs("td",{className:"text-gray-500 pr-4 py-1",children:[e("totalSentPackets"),":"]}),d.jsx("td",{className:"font-medium",children:Pn().out_pkts_total})]})]})})]})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("div",{className:"flex justify-between mb-4",children:d.jsx("h3",{className:"text-lg font-medium",children:e("portStatus")})}),d.jsx("div",{className:"border rounded-md overflow-hidden",children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{children:[d.jsxs(ie,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>be("physical_port"),children:[e("physicalPort"),N==="physical_port"&&d.jsx("span",{className:"ml-1",children:P==="asc"?"↑":"↓"})]}),d.jsxs(ie,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>be("logical_port"),children:[e("logicalPort"),N==="logical_port"&&d.jsx("span",{className:"ml-1",children:P==="asc"?"↑":"↓"})]}),d.jsxs(ie,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>be("status"),children:[e("statusColumn"),N==="status"&&d.jsx("span",{className:"ml-1",children:P==="asc"?"↑":"↓"})]}),d.jsxs(ie,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>be("speed"),children:[e("speed"),N==="speed"&&d.jsx("span",{className:"ml-1",children:P==="asc"?"↑":"↓"})]}),d.jsxs(ie,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>be("mtu"),children:["MTU",N==="mtu"&&d.jsx("span",{className:"ml-1",children:P==="asc"?"↑":"↓"})]}),d.jsxs(ie,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>be("in-errors"),children:[e("inboundDiscards"),N==="in-errors"&&d.jsx("span",{className:"ml-1",children:P==="asc"?"↑":"↓"})]}),d.jsxs(ie,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>be("out-errors"),children:[e("outboundDiscards"),N==="out-errors"&&d.jsx("span",{className:"ml-1",children:P==="asc"?"↑":"↓"})]}),d.jsxs(ie,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>be("in-discards"),children:[e("inboundPolicyDiscards"),N==="in-discards"&&d.jsx("span",{className:"ml-1",children:P==="asc"?"↑":"↓"})]}),d.jsxs(ie,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>be("out-discards"),children:[e("outboundPolicyDiscards"),N==="out-discards"&&d.jsx("span",{className:"ml-1",children:P==="asc"?"↑":"↓"})]}),d.jsxs(ie,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>be("in_pkts_total"),children:[e("totalReceivedPackets"),N==="in_pkts_total"&&d.jsx("span",{className:"ml-1",children:P==="asc"?"↑":"↓"})]}),d.jsxs(ie,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>be("out_pkts_total"),children:[e("totalSentPackets"),N==="out_pkts_total"&&d.jsx("span",{className:"ml-1",children:P==="asc"?"↑":"↓"})]})]})}),d.jsx(Qr,{children:(()=>{if(!w||!w[O])return null;let ae=[...w[O].interfaces.filter(de=>de.logical_port!=="PortConfigDone"&&de.logical_port!=="PortInitDone")];if(E){const de=E.toLowerCase();ae=ae.filter(ge=>ge.physical_port&&ge.physical_port.toLowerCase().includes(de)||ge.logical_port&&ge.logical_port.toLowerCase().includes(de)||ge.status&&ge.status.toLowerCase().includes(de)||ge.speed&&ge.speed.toLowerCase().includes(de))}return N&&ae.sort((de,ge)=>{let gt=de[N],Se=ge[N];return typeof gt=="string"&&!isNaN(Number(gt))&&(gt=Number(gt)),typeof Se=="string"&&!isNaN(Number(Se))&&(Se=Number(Se)),typeof gt=="string"&&typeof Se=="string"?P==="asc"?gt.localeCompare(Se):Se.localeCompare(gt):typeof gt=="number"&&typeof Se=="number"?P==="asc"?gt-Se:Se-gt:0}),ae.map((de,ge)=>d.jsxs(nt,{children:[d.jsx(te,{className:"font-medium",children:de.physical_port}),d.jsx(te,{children:de.logical_port}),d.jsx(te,{children:d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${de.status.toUpperCase()==="UP"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:de.status.toUpperCase()==="UP"?e("online"):e("offline")})}),d.jsx(te,{children:de.speed||"-"}),d.jsx(te,{children:de.mtu||"-"}),d.jsx(te,{children:de["in-errors"]||"0"}),d.jsx(te,{children:de["out-errors"]||"0"}),d.jsx(te,{children:de["in-discards"]||"0"}),d.jsx(te,{children:de["out-discards"]||"0"}),d.jsx(te,{children:de.in_pkts_total||"0"}),d.jsx(te,{children:de.out_pkts_total||"0"})]},ge))})()})]})})]})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border rounded-md bg-slate-50",children:[d.jsx(g_,{className:"h-12 w-12 mb-4 text-gray-400"}),d.jsx("p",{className:"text-lg font-medium mb-2 text-gray-600",children:e(v?"deviceOffline":"noDeviceSelected")}),d.jsx("p",{className:"text-gray-500 text-center",children:e(v?"deviceOfflineMessage":"enterIpAddressToSearch")})]})})]})}),d.jsx(Yr,{value:"hardware",children:d.jsxs(Xe,{children:[d.jsxs(dt,{children:[d.jsx(ht,{className:"text-xl",children:e("hardwareMonitoringTitle")}),d.jsx(rn,{children:_?e("deviceInfoText",[_]):e("enterIpToSearch")})]}),d.jsx(Je,{children:q?d.jsxs("div",{className:"flex justify-center items-center h-[600px]",children:[d.jsx(Kt,{className:"h-8 w-8 animate-spin mr-2"}),d.jsx("span",{children:e("loadingHardwareInfo")})]}):F?d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[d.jsx("div",{className:"px-5 py-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-gray-200",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("h3",{className:"text-lg flex items-center text-gray-800",children:[d.jsx(Aee,{className:"mr-2 h-5 w-5 text-blue-600"}),d.jsx("span",{children:e("temperatureMonitoring")})]}),((R1=F.TEMPERATURE_SENSOR_PARSED)==null?void 0:R1.others)&&F.TEMPERATURE_SENSOR_PARSED.others.length>0&&d.jsxs(Fe,{variant:"outline",size:"sm",onClick:()=>pt(!0),className:"text-indigo-600 border-indigo-200 hover:bg-indigo-50",children:[d.jsx("span",{className:"mr-1",children:e("otherSensors")}),d.jsx("span",{className:"bg-indigo-100 text-indigo-600 px-1.5 py-0.5 rounded-full text-xs",children:F.TEMPERATURE_SENSOR_PARSED.others.length})]})]})}),F.TEMPERATURE_SENSOR_PARSED&&(F.TEMPERATURE_SENSOR_PARSED.asic||F.TEMPERATURE_SENSOR_PARSED.inlet||F.TEMPERATURE_SENSOR_PARSED.outlet)?d.jsx("div",{className:"p-6",children:d.jsxs("div",{className:"flex flex-col space-y-8",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(()=>{const H=F.TEMPERATURE_SENSOR_PARSED.asic;if(!H)return null;const ae=em(H.temperature,H.threshold||60);return d.jsx("div",{className:`relative rounded-lg border overflow-hidden transition-all duration-200 shadow-sm hover:shadow-md ${ae.borderColor}`,children:d.jsxs("div",{className:`p-3 ${ae.bgColor}`,children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("h4",{className:"font-medium text-gray-700",children:e("asicTemperature")}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${ae.statusColor} mr-1`}),d.jsx("span",{className:"text-xs text-gray-500",children:ae.statusText})]})]}),d.jsxs("div",{className:"flex items-center mb-1",children:[d.jsxs("div",{className:"w-3/5 flex-grow",children:[d.jsxs("div",{className:`text-2xl font-bold ${ae.textColor}`,children:[H.temperature,"°C"]}),H.threshold&&d.jsx("div",{className:"text-xs text-gray-500",children:e("temperatureThreshold",[H.threshold])})]}),d.jsx("div",{className:"w-2/5 flex justify-center items-end h-14",children:d.jsxs("div",{className:"relative w-4 h-full bg-gray-100 rounded-t-full overflow-hidden",children:[d.jsx("div",{className:`absolute bottom-0 w-full rounded-t-full ${ae.progressColor} transition-all duration-300`,style:{height:`${ae.percentage}%`}}),d.jsxs("div",{className:"absolute w-full h-full flex flex-col justify-between",children:[d.jsx("div",{className:"w-full h-[1px] bg-gray-300 mt-1"}),d.jsx("div",{className:"w-full h-[1px] bg-gray-300 mb-1"})]})]})})]}),d.jsx(md,{value:ae.percentage,className:"h-1.5 mt-1",indicatorClassName:ae.progressColor})]})},"asic")})(),(()=>{const H=F.TEMPERATURE_SENSOR_PARSED.inlet;if(!H)return null;const ae=em(H.temperature,H.threshold||60);return d.jsx("div",{className:`relative rounded-lg border overflow-hidden transition-all duration-200 shadow-sm hover:shadow-md ${ae.borderColor}`,children:d.jsxs("div",{className:`p-3 ${ae.bgColor}`,children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("h4",{className:"font-medium text-gray-700",children:e("inletTemperature")}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${ae.statusColor} mr-1`}),d.jsx("span",{className:"text-xs text-gray-500",children:ae.statusText})]})]}),d.jsxs("div",{className:"flex items-center mb-1",children:[d.jsxs("div",{className:"w-3/5 flex-grow",children:[d.jsxs("div",{className:`text-2xl font-bold ${ae.textColor}`,children:[H.temperature,"°C"]}),H.threshold&&d.jsx("div",{className:"text-xs text-gray-500",children:e("temperatureThreshold",[H.threshold])})]}),d.jsx("div",{className:"w-2/5 flex justify-center items-end h-14",children:d.jsxs("div",{className:"relative w-4 h-full bg-gray-100 rounded-t-full overflow-hidden",children:[d.jsx("div",{className:`absolute bottom-0 w-full rounded-t-full ${ae.progressColor} transition-all duration-300`,style:{height:`${ae.percentage}%`}}),d.jsxs("div",{className:"absolute w-full h-full flex flex-col justify-between",children:[d.jsx("div",{className:"w-full h-[1px] bg-gray-300 mt-1"}),d.jsx("div",{className:"w-full h-[1px] bg-gray-300 mb-1"})]})]})})]}),d.jsx(md,{value:ae.percentage,className:"h-1.5 mt-1",indicatorClassName:ae.progressColor})]})},"inlet")})(),(()=>{const H=F.TEMPERATURE_SENSOR_PARSED.outlet;if(!H)return null;const ae=em(H.temperature,H.threshold||60);return d.jsx("div",{className:`relative rounded-lg border overflow-hidden transition-all duration-200 shadow-sm hover:shadow-md ${ae.borderColor}`,children:d.jsxs("div",{className:`p-3 ${ae.bgColor}`,children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("h4",{className:"font-medium text-gray-700",children:e("outletTemperature")}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${ae.statusColor} mr-1`}),d.jsx("span",{className:"text-xs text-gray-500",children:ae.statusText})]})]}),d.jsxs("div",{className:"flex items-center mb-1",children:[d.jsxs("div",{className:"w-3/5 flex-grow",children:[d.jsxs("div",{className:`text-2xl font-bold ${ae.textColor}`,children:[H.temperature,"°C"]}),H.threshold&&d.jsx("div",{className:"text-xs text-gray-500",children:e("temperatureThreshold",[H.threshold])})]}),d.jsx("div",{className:"w-2/5 flex justify-center items-end h-14",children:d.jsxs("div",{className:"relative w-4 h-full bg-gray-100 rounded-t-full overflow-hidden",children:[d.jsx("div",{className:`absolute bottom-0 w-full rounded-t-full ${ae.progressColor} transition-all duration-300`,style:{height:`${ae.percentage}%`}}),d.jsxs("div",{className:"absolute w-full h-full flex flex-col justify-between",children:[d.jsx("div",{className:"w-full h-[1px] bg-gray-300 mt-1"}),d.jsx("div",{className:"w-full h-[1px] bg-gray-300 mb-1"})]})]})})]}),d.jsx(md,{value:ae.percentage,className:"h-1.5 mt-1",indicatorClassName:ae.progressColor})]})},"outlet")})()]}),d.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:e("temperatureDistribution")}),d.jsxs("div",{className:"relative bg-white rounded-lg border border-gray-200 p-4 h-44",children:[d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("div",{className:"w-4/5 h-2/3 flex justify-between items-center",children:[d.jsxs("div",{className:"h-full w-20 flex flex-col items-center",children:[d.jsx("div",{className:"text-xs text-gray-500 mb-1",children:e("inlet")}),d.jsxs("div",{className:"relative h-16 w-4 bg-blue-100 rounded flex justify-center items-center",children:[d.jsx("div",{className:"absolute -left-10 text-xs whitespace-nowrap",children:(()=>{const H=F.TEMPERATURE_SENSOR_PARSED.inlet;return H?`${H.temperature}°C`:"-- °C"})()}),d.jsx("div",{className:"absolute inset-0 flex justify-center items-center",children:d.jsx("svg",{className:"w-6 h-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 7l4-4m0 0l4 4m-4-4v18"})})})]})]}),d.jsxs("div",{className:"h-28 w-32 bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg border border-gray-300 flex flex-col justify-center items-center shadow-sm",children:[d.jsx(g_,{className:"h-8 w-8 text-gray-700 mb-1"}),d.jsx("div",{className:"text-sm font-medium text-center",children:"ASIC"}),w&&((Gu=w[O])==null?void 0:Gu.chip_name)&&w[O].chip_name!=="unknown"&&d.jsx("div",{className:"text-xs text-gray-600 text-center px-1 whitespace-normal",children:w[O].chip_name}),d.jsx("div",{className:"text-xs mt-1 text-center",children:(()=>{const H=F.TEMPERATURE_SENSOR_PARSED.asic;if(!H)return"-- °C";const ae=em(H.temperature,H.threshold||60);return d.jsxs("span",{className:ae.textColor,children:[H.temperature,"°C"]})})()})]}),d.jsxs("div",{className:"h-full w-20 flex flex-col items-center",children:[d.jsx("div",{className:"text-xs text-gray-500 mb-1",children:e("outlet")}),d.jsxs("div",{className:"relative h-16 w-4 bg-red-100 rounded flex justify-center items-center",children:[d.jsx("div",{className:"absolute -right-10 text-xs whitespace-nowrap",children:(()=>{const H=F.TEMPERATURE_SENSOR_PARSED.outlet;return H?`${H.temperature}°C`:"-- °C"})()}),d.jsx("div",{className:"absolute inset-0 flex justify-center items-center",children:d.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 17l-4 4m0 0l-4-4m4 4V3"})})})]})]})]})}),d.jsx("div",{className:"absolute bottom-2 right-2 text-xs text-gray-500",children:(()=>{const H=F.TEMPERATURE_SENSOR_PARSED.inlet,ae=F.TEMPERATURE_SENSOR_PARSED.outlet;return!H||!ae?"temperature gap: -- °C":`temp gap: ${(ae.temperature-H.temperature).toFixed(1)}°C`})()})]})]})]})}):F.TEMPERATURE_SENSOR&&F.TEMPERATURE_SENSOR.length>0?d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"text-amber-600 bg-amber-50 p-3 rounded-md border border-amber-200 mb-4",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx(ji,{className:"h-5 w-5 mr-2 mt-0.5 text-amber-500"}),d.jsx("div",{children:d.jsx("p",{className:"text-sm",children:"old version temperature data format. please contact administrator to upgrade device information collection program, to get more detailed temperature data."})})]})}),d.jsx("div",{className:"flex flex-col space-y-8",children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:["INLET_TEMP","MAC_IN_TEMP","MAC_OUT_TEMP","OUTLET_TEMP","ASIC_TEMP"].map(H=>{const ae=F.TEMPERATURE_SENSOR.find(ge=>ge.name===H);if(!ae)return null;const de=em(ae.temperature,ae.threshold||60);return d.jsx("div",{className:`relative rounded-lg border overflow-hidden transition-all duration-200 shadow-sm hover:shadow-md ${de.borderColor}`,children:d.jsxs("div",{className:`p-3 ${de.bgColor}`,children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("h4",{className:"font-medium text-gray-700",children:fZe[ae.name]||ae.name}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${de.statusColor} mr-1`}),d.jsx("span",{className:"text-xs text-gray-500",children:de.statusText})]})]}),d.jsxs("div",{className:"flex items-center mb-1",children:[d.jsxs("div",{className:"w-3/5 flex-grow",children:[d.jsxs("div",{className:`text-2xl font-bold ${de.textColor}`,children:[ae.temperature,"°C"]}),ae.threshold&&d.jsxs("div",{className:"text-xs text-gray-500",children:["阈值: ",ae.threshold,"°C"]})]}),d.jsx("div",{className:"w-2/5 flex justify-center items-end h-14",children:d.jsxs("div",{className:"relative w-4 h-full bg-gray-100 rounded-t-full overflow-hidden",children:[d.jsx("div",{className:`absolute bottom-0 w-full rounded-t-full ${de.progressColor} transition-all duration-300`,style:{height:`${de.percentage}%`}}),d.jsxs("div",{className:"absolute w-full h-full flex flex-col justify-between",children:[d.jsx("div",{className:"w-full h-[1px] bg-gray-300 mt-1"}),d.jsx("div",{className:"w-full h-[1px] bg-gray-300 mb-1"})]})]})})]}),d.jsx(md,{value:de.percentage,className:"h-1.5 mt-1",indicatorClassName:de.progressColor})]})},H)}).filter(Boolean)})})]}):d.jsx("div",{className:"text-center p-8",children:d.jsx("p",{className:"text-gray-500",children:"No temperature sensor data"})})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[d.jsx("div",{className:"px-5 py-4 bg-gradient-to-r from-blue-50 to-cyan-50 border-b border-gray-200",children:d.jsxs("h3",{className:"text-lg font-bold flex items-center text-gray-800",children:[d.jsx(D8,{className:"mr-2 h-5 w-5 text-cyan-600"}),d.jsx("span",{children:"Fan Monitoring"})]})}),F.FAN&&F.FAN.length>0?d.jsx("div",{className:"p-6",children:(()=>{const H={};return F.FAN.forEach(ae=>{const de=ae.name.match(pZe),ge=de?de[1]:"OtherFans";H[ge]||(H[ge]=[]),H[ge].push(ae)}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:Object.entries(H).map(([ae,de])=>d.jsxs("div",{className:"rounded-lg border border-gray-200 overflow-hidden shadow-sm",children:[d.jsx("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:d.jsx("h4",{className:"font-medium text-gray-700",children:ae})}),d.jsx("div",{className:"p-4",children:d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:de.map((ge,gt)=>{const Se=gZe(ge);return d.jsx(Ed,{children:d.jsxs(Qo,{children:[d.jsx(el,{asChild:!0,children:d.jsxs("div",{className:`rounded-lg border ${Se.borderColor} p-3 transition-all hover:shadow-md ${Se.bgColor}`,children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("h5",{className:"font-medium text-gray-700",children:ge.name}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${Se.statusColor} mr-1`}),d.jsx("span",{className:"text-xs text-gray-500",children:Se.statusText})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsxs("div",{className:"w-14 h-14 relative",children:[d.jsx("div",{className:`absolute inset-0 flex justify-center items-center ${ge.presence&&ge.status&&ge.speed>0?"animate-[spin_1.5s_linear_infinite]":""}`,children:d.jsx(D8,{className:`h-10 w-10 ${Se.textColor}`})}),d.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent",style:{borderTopColor:`var(--${Se.statusColor.replace("bg-","")})`,borderRadius:"50%"}})]}),d.jsxs("div",{className:"flex-1 pl-3",children:[d.jsxs("div",{className:`text-xl font-bold ${Se.textColor}`,children:[ge.speed,"%"]}),d.jsxs("div",{className:"flex justify-between text-xs mb-1 mt-2",children:[d.jsx("span",{children:"0%"}),d.jsx("span",{children:"100%"})]}),d.jsx(md,{value:ge.speed,className:"h-1.5",indicatorClassName:Se.statusColor}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx(Ce,{variant:"outline",className:"text-xs",children:ge.direction==="intake"?"intake":ge.direction==="exhaust"?"exhaust":ge.direction||"unknown"}),ge.is_replaceable&&d.jsx(Ce,{variant:"secondary",className:"text-xs bg-blue-50 text-blue-700 hover:bg-blue-100",children:"Pluggable"})]})]})]})]})}),d.jsx(xo,{className:"max-w-xs",children:d.jsxs("div",{className:"text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:"Model:"})," ",ge.model||"未知"]}),ge.speed_target&&d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:"target speed:"})," ",ge.speed_target,"%"]}),ge.drawer_name&&d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:"Drawer:"})," ",ge.drawer_name]}),ge.led_status&&d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:"LED status:"})," ",ge.led_status]}),ge.serial&&d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:"SN:"})," ",ge.serial]})]})})]})},gt)})})})]},ae))})})()}):d.jsx("div",{className:"text-center p-8",children:d.jsx("p",{className:"text-gray-500",children:"no fan data"})})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[d.jsx("div",{className:"px-5 py-4 bg-gradient-to-r from-blue-50 to-purple-50 border-b border-gray-200",children:d.jsxs("h3",{className:"text-lg font-bold flex items-center text-gray-800",children:[d.jsx(l_e,{className:"mr-2 h-5 w-5 text-purple-600"}),d.jsx("span",{children:"Power Supply Monitoring"})]})}),F.PSU&&F.PSU.length>0?d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:F.PSU.map((H,ae)=>{const de=mZe(H),ge=!H.presence||!H.status||H.Power!==void 0&&parseFloat(H.Power.toString())===0||H.voltage!==void 0&&parseFloat(H.voltage.toString())===0;return d.jsx(Ed,{children:d.jsxs("div",{className:`rounded-xl border overflow-hidden shadow-sm transition-all hover:shadow-md ${de.borderColor}`,children:[d.jsxs("div",{className:`px-5 py-3 flex justify-between items-center border-b ${de.bgColor}`,children:[d.jsx("h4",{className:"font-semibold text-gray-700",children:H.name}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${String(H.presence).toLowerCase()==="true"?"bg-green-500":"bg-gray-400"} mr-1`}),d.jsx("span",{className:"text-xs text-gray-500",children:String(H.presence).toLowerCase()==="true"?"present":"not present"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${String(H.status).toLowerCase()==="true"?"bg-green-500":"bg-red-500"} mr-1`}),d.jsx("span",{className:"text-xs text-gray-500",children:String(H.status).toLowerCase()==="true"?"working":"not working"})]})]})]}),d.jsxs("div",{className:`px-5 py-4 ${ge?"bg-red-50":"bg-white"}`,children:[d.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[d.jsxs(Qo,{children:[d.jsx(el,{asChild:!0,children:d.jsxs("div",{className:"flex flex-col items-center justify-center p-4 rounded-lg bg-gray-50 border border-gray-100 transition-all hover:border-blue-200",children:[d.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Voltage"}),d.jsx("div",{className:`text-2xl font-bold ${ge?"text-red-500":"text-blue-600"}`,children:H.voltage||"-"}),d.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"V"})]})}),H.voltage_min_threshold&&H.voltage_max_threshold&&d.jsx(xo,{children:d.jsxs("div",{className:"text-sm",children:["Allow voltage range: ",H.voltage_min_threshold,"V - ",H.voltage_max_threshold,"V"]})})]}),d.jsxs("div",{className:"flex flex-col items-center justify-center p-4 rounded-lg bg-gray-50 border border-gray-100 transition-all hover:border-orange-200",children:[d.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Current"}),d.jsx("div",{className:`text-2xl font-bold ${ge?"text-red-500":"text-orange-600"}`,children:H.current||"-"}),d.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"A"})]}),d.jsxs("div",{className:"flex flex-col items-center justify-center p-4 rounded-lg bg-gray-50 border border-gray-100 transition-all hover:border-green-200",children:[d.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Power"}),d.jsx("div",{className:`text-2xl font-bold ${ge?"text-red-500":"text-green-600"}`,children:H.Power||"-"}),d.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"W"})]})]}),d.jsx("div",{className:"mt-4",children:d.jsxs(Qo,{children:[d.jsx(el,{asChild:!0,children:d.jsxs("div",{className:"rounded-lg border border-gray-100 p-3",children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"Temperature"}),d.jsx("div",{className:`font-medium ${H.temp&&H.temp_threshold&&H.temp>=H.temp_threshold?"text-red-600":"text-gray-700"}`,children:H.temp!==void 0?`${H.temp}°C`:"-"})]}),H.temp!==void 0&&H.temp_threshold&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[d.jsx("span",{children:"0°C"}),d.jsxs("span",{children:[H.temp_threshold,"°C"]})]}),d.jsx(md,{value:H.temp/H.temp_threshold*100,className:"h-1.5",indicatorClassName:H.temp>=H.temp_threshold?"bg-red-500":H.temp>=H.temp_threshold*.8?"bg-orange-500":"bg-green-500"})]})]})}),d.jsx(xo,{children:d.jsxs("div",{className:"text-sm",children:[H.temp_threshold&&d.jsxs("div",{children:["Temperature threshold: ",H.temp_threshold,"°C"]}),d.jsxs("div",{children:["Temperature utilization: ",H.temp!==void 0&&H.temp_threshold?Math.round(H.temp/H.temp_threshold*100):"-","%"]})]})})]})}),d.jsxs("div",{className:"mt-4 text-xs text-gray-500 grid grid-cols-2 gap-x-4 gap-y-1",children:[d.jsxs("div",{children:[d.jsx("span",{className:"inline-block w-14",children:"Model:"})," ",H.model||"unknown"]}),d.jsxs("div",{children:[d.jsx("span",{className:"inline-block w-14",children:"SN:"})," ",H.serial||"unknown"]}),d.jsxs("div",{children:[d.jsx("span",{className:"inline-block w-14",children:"Revision:"})," ",H.revision||"unknown"]}),d.jsxs("div",{children:[d.jsx("span",{className:"inline-block w-14",children:"Plug: "})," ",H.is_replaceable?"supported":"not supported"]})]})]})]})},ae)})})}):d.jsx("div",{className:"text-center p-8",children:d.jsx("p",{className:"text-gray-500",children:"no power data"})})]})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border rounded-md bg-slate-50",children:[d.jsx(bv,{className:"h-12 w-12 mb-4 text-gray-400"}),d.jsx("p",{className:"text-lg font-medium mb-2 text-gray-600",children:e(v?"noHardwareInfo":"noDeviceSelected")}),d.jsx("p",{className:"text-gray-500 text-center",children:e(v?"hardwareNotSupported":"enterIpAddressToSearch")})]})})]})}),d.jsx(Yr,{value:"routes",children:d.jsxs(Xe,{children:[d.jsxs(dt,{className:"flex flex-row items-center justify-between",children:[d.jsxs("div",{children:[d.jsx(ht,{children:"Routing Table"}),d.jsx(rn,{children:_?`Device ${_} routing table information`:"Please input IP to search device"})]}),_&&d.jsx(Fe,{variant:"outline",size:"sm",onClick:br,disabled:k,children:k?d.jsxs(d.Fragment,{children:[d.jsx(Kt,{className:"h-4 w-4 animate-spin mr-2"}),"Refreshing"]}):d.jsx(d.Fragment,{children:"Refresh Routing Table"})})]}),d.jsx(Je,{children:k?d.jsxs("div",{className:"flex justify-center items-center h-[400px]",children:[d.jsx(Kt,{className:"h-8 w-8 animate-spin mr-2"}),d.jsx("span",{children:e("loadingRoutingTable")})]}):w&&w.length>0&&((I1=w[O])!=null&&I1.route_table)?d.jsxs("div",{children:[d.jsx("div",{className:"mb-8",children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:(()=>{const H=w[O].route_table||[],ae=H.length,de=H.filter(Se=>Se.paths.some(Ct=>Ct.active)).length,ge={};H.forEach(Se=>{const Ct=Se.protocol||"unknown";ge[Ct]=(ge[Ct]||0)+1});const gt=H.reduce((Se,Ct)=>{const hr=Ct.prefix.split("/")[1];return parseInt(hr||"0")>parseInt(Se||"0")?hr:Se},"0");return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm p-4",children:d.jsxs("div",{className:"flex flex-col space-y-1.5 p-1.5",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Total Routes"}),d.jsx("p",{className:"text-2xl font-bold",children:ae}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex justify-between",children:[d.jsx("span",{children:"Active Routes:"}),d.jsxs("span",{className:"font-medium",children:[de," (",Math.round(de/ae*100)||0,"%)"]})]})]})}),d.jsx("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm p-4",children:d.jsxs("div",{className:"flex flex-col space-y-1.5 p-1.5",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Routing Protocol Distribution"}),d.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Object.entries(ge).map(([Se,Ct])=>d.jsxs(Ce,{variant:"outline",className:`
                                        ${Se==="OSPF"?"text-blue-600 bg-blue-50 hover:bg-blue-100":Se==="BGP"?"text-purple-600 bg-purple-50 hover:bg-purple-100":Se==="STATIC"?"text-green-600 bg-green-50 hover:bg-green-100":Se==="CONNECTED"?"text-amber-600 bg-amber-50 hover:bg-amber-100":"text-gray-600 bg-gray-50 hover:bg-gray-100"}
                                      `,children:[Se," (",Ct,")"]},Se))})]})}),d.jsx("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm p-4",children:d.jsxs("div",{className:"flex flex-col space-y-1.5 p-1.5",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Longest Prefix"}),d.jsx("p",{className:"text-xl font-bold",children:gt||"N/A"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Max Mask Length"})]})})]})})()})}),d.jsx("div",{className:"border rounded-md overflow-hidden",children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{children:[d.jsx(ie,{className:"w-[16%]",children:"Destination Network"}),d.jsx(ie,{className:"w-[10%]",children:"Protocol"}),d.jsx(ie,{className:"w-[15%]",children:"Next Hop"}),d.jsx(ie,{className:"w-[10%]",children:"Out Interface"}),d.jsx(ie,{className:"w-[10%]",children:"Physical Int"}),d.jsx(ie,{className:"w-[14%]",children:"Metric/Weight"}),d.jsx(ie,{className:"w-[15%]",children:"Status"}),d.jsx(ie,{className:"w-[10%]",children:"Route Age"})]})}),d.jsx(Qr,{children:(()=>{const H=w[O].route_table||[],ae=[],de={};w[O].interfaces&&w[O].interfaces.forEach(Se=>{de[Se.logical_port]=Se.physical_port||"-"}),H.forEach(Se=>{if(Se.paths&&Se.paths.length>0){const hr=Se.paths.find(Wr=>Wr.active)||Se.paths[0],Ot=hr.interface?hr.interface.split(",")[0]:"-",Dr=de[Ot]||"-";ae.push({prefix:Se.prefix,protocol:Se.protocol,nexthop:hr.nexthop,interface:Ot,physicalInterface:Dr,metric:hr.metric,weight:hr.weight,active:hr.active,installed:hr.installed,age:hr.age})}});const ge=ae.filter(Se=>{if(!E)return!0;const Ct=E.toLowerCase();return Se.prefix.toLowerCase().includes(Ct)||Se.protocol.toLowerCase().includes(Ct)||Se.nexthop.toLowerCase().includes(Ct)||Se.interface.toLowerCase().includes(Ct)});if(ge.length===0)return d.jsx(nt,{children:d.jsx(te,{colSpan:8,className:"text-center py-6",children:d.jsx("p",{className:"text-gray-500",children:"No matching route table items"})})});const gt=Se=>{switch(Se.toUpperCase()){case"OSPF":return"bg-blue-100 text-blue-800 border-blue-300";case"BGP":return"bg-purple-100 text-purple-800 border-purple-300";case"STATIC":return"bg-green-100 text-green-800 border-green-300";case"CONNECTED":return"bg-amber-100 text-amber-800 border-amber-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}};return ge.map((Se,Ct)=>d.jsxs(nt,{className:"hover:bg-gray-50 border-b",children:[d.jsx(te,{className:"font-medium",children:d.jsx("div",{className:"flex items-center",children:d.jsx("span",{children:Se.prefix})})}),d.jsx(te,{children:d.jsx(Ce,{variant:"outline",className:`font-medium ${gt(Se.protocol)}`,children:Se.protocol})}),d.jsx(te,{children:Se.protocol.toUpperCase()==="CONNECTED"?d.jsx("span",{className:"text-gray-600",children:"Connected Route"}):d.jsx("span",{children:Se.nexthop})}),d.jsx(te,{children:Se.interface}),d.jsx(te,{children:Se.physicalInterface}),d.jsx(te,{children:d.jsx(Ed,{children:d.jsxs(Qo,{children:[d.jsx(el,{asChild:!0,children:d.jsx("div",{children:d.jsx(Ce,{variant:"outline",className:"bg-blue-50 border-blue-200",children:Se.metric})})}),d.jsx(xo,{children:d.jsxs("p",{children:["Weight: ",Se.weight]})})]})})}),d.jsx(te,{children:d.jsxs("div",{className:"flex flex-wrap gap-1",children:[Se.active&&d.jsx(Ce,{className:"bg-green-100 text-green-800 hover:bg-green-200 whitespace-nowrap",children:"Active"}),Se.installed&&d.jsx(Ce,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200 whitespace-nowrap",children:"Installed"}),!Se.active&&!Se.installed&&d.jsx(Ce,{variant:"outline",className:"text-gray-600 border-gray-300 whitespace-nowrap",children:"Inactive"})]})}),d.jsx(te,{className:"text-gray-600",children:Se.age})]},Ct))})()})]})}),d.jsxs("div",{className:"mt-6 flex flex-wrap gap-3 text-sm text-gray-600",children:[d.jsx("div",{className:"font-medium",children:"Routing Protocol Legend:"}),d.jsx(Ce,{variant:"outline",className:"bg-blue-100 text-blue-800 border-blue-300",children:"OSPF"}),d.jsx(Ce,{variant:"outline",className:"bg-purple-100 text-purple-800 border-purple-300",children:"BGP"}),d.jsx(Ce,{variant:"outline",className:"bg-green-100 text-green-800 border-green-300",children:"Static Route"}),d.jsx(Ce,{variant:"outline",className:"bg-amber-100 text-amber-800 border-amber-300",children:"Connected Route"}),d.jsx(Ce,{variant:"outline",className:"bg-gray-100 text-gray-800 border-gray-300",children:"Other"})]})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border rounded-md bg-slate-50",children:[d.jsx(OE,{className:"h-12 w-12 mb-4 text-gray-400"}),d.jsx("p",{className:"text-lg font-medium mb-2 text-gray-600",children:e(v?"noRoutingTable":"noDeviceSelected")}),d.jsx("p",{className:"text-gray-500 text-center",children:e(v?"routingTableError":"enterIpForRouting")})]})})]})}),d.jsx(Yr,{value:"bgp",children:d.jsxs(Xe,{children:[d.jsxs(dt,{className:"flex flex-row items-center justify-between",children:[d.jsxs("div",{children:[d.jsx(ht,{children:"BGP Status"}),d.jsx(rn,{children:_?`Device ${_} BGP status information`:"Please input IP to search device"})]}),_&&d.jsx(Fe,{variant:"outline",size:"sm",onClick:br,disabled:k,children:k?d.jsxs(d.Fragment,{children:[d.jsx(Kt,{className:"h-4 w-4 animate-spin mr-2"}),"Refreshing"]}):d.jsx(d.Fragment,{children:"Refresh BGP Status"})})]}),d.jsx(Je,{children:k?d.jsxs("div",{className:"flex justify-center items-center h-[400px]",children:[d.jsx(Kt,{className:"h-8 w-8 animate-spin mr-2"}),d.jsx("span",{children:e("loadingBgpStatus")})]}):w&&w.length>0&&((q0=w[O])!=null&&q0.bgp_status)?d.jsxs("div",{className:"space-y-6",children:[((K0=(Y0=w[O])==null?void 0:Y0.bgp_status[0])==null?void 0:K0.bgp_summary)&&d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsx("h3",{className:"text-lg font-medium mb-4",children:"BGP Status Summary"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"Established Sessions"}),d.jsx("div",{className:"text-2xl font-bold text-green-600",children:w[O].bgp_status[0].bgp_summary.established})]}),d.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"Not Established Sessions"}),d.jsx("div",{className:"text-2xl font-bold text-amber-600",children:w[O].bgp_status[0].bgp_summary.not_established})]}),d.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"IPv4 Neighbors"}),d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:w[O].bgp_status[0].bgp_summary.ipv4_neighbors})]}),d.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"Total Received Prefixes"}),d.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:w[O].bgp_status[0].bgp_summary.total_prefixes})]})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[d.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"IPv6 Neighbors"}),d.jsx("div",{className:"text-2xl font-bold text-purple-600",children:w[O].bgp_status[0].bgp_summary.ipv6_neighbors})]}),d.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"MPLS Neighbors"}),d.jsx("div",{className:"text-2xl font-bold text-rose-600",children:w[O].bgp_status[0].bgp_summary.mpls_neighbors})]}),d.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"VPNv4 Neighbors"}),d.jsx("div",{className:"text-2xl font-bold text-orange-600",children:w[O].bgp_status[0].bgp_summary.vpnv4_neighbors})]}),d.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"VPNv6 Neighbors"}),d.jsx("div",{className:"text-2xl font-bold text-teal-600",children:w[O].bgp_status[0].bgp_summary.vpnv6_neighbors})]})]})]}),((P1=(M1=w[O])==null?void 0:M1.bgp_status[1])==null?void 0:P1.neighbors)&&d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsx("h3",{className:"text-lg font-medium mb-4",children:"BGP Neighbors"}),d.jsx("div",{className:"overflow-auto",children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{className:"bg-gray-50",children:[d.jsx(ie,{className:"w-[120px]",children:"Neighbor IP"}),d.jsx(ie,{children:"Hostname"}),d.jsx(ie,{children:"State"}),d.jsx(ie,{children:"Upstream AS"}),d.jsx(ie,{children:"Local AS"}),d.jsx(ie,{children:"Received Prefixes"}),d.jsx(ie,{children:"Uptime"}),d.jsx(ie,{children:"Protocol Family"})]})}),d.jsx(Qr,{children:w[O].bgp_status[1].neighbors.map((H,ae)=>{var de;return d.jsxs(nt,{children:[d.jsx(te,{className:"font-medium",children:H.neighbor_ip}),d.jsx(te,{children:H.hostname||"-"}),d.jsx(te,{children:d.jsx(Ce,{className:H.state==="Established"?"bg-green-100 text-green-800 border-green-300":"bg-amber-100 text-amber-800 border-amber-300",children:H.state})}),d.jsxs(te,{children:["AS",H.remote_as]}),d.jsxs(te,{children:["AS",H.local_as]}),d.jsx(te,{children:H.received_prefixes}),d.jsx(te,{children:H.uptime}),d.jsx(te,{children:d.jsx("div",{className:"flex flex-wrap gap-1",children:(de=H.afi_safi)==null?void 0:de.map((ge,gt)=>d.jsx(Ce,{variant:"outline",className:"text-xs",children:ge},gt))})})]},ae)})})]})})]}),((D1=(L1=w[O])==null?void 0:L1.bgp_status[2])==null?void 0:D1.bgp_routes)&&d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsx("h3",{className:"text-lg font-medium mb-4",children:"BGP Routes"}),d.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"To avoid confusion, routes with next hop 0.0.0.0 are not displayed in the BGP page."}),d.jsx("div",{className:"overflow-auto",children:d.jsxs(Zr,{className:"w-full",children:[d.jsx(Jr,{children:d.jsxs(nt,{className:"bg-gray-50",children:[d.jsx(ie,{className:"w-[60px] text-center",children:"Status"}),d.jsx(ie,{className:"w-[200px]",children:"Prefix"}),d.jsx(ie,{className:"w-[160px]",children:"Next Hop"}),d.jsx(ie,{className:"w-[50%]",children:"AS Path"}),d.jsx(ie,{className:"w-[60px] text-center",children:"Origin"})]})}),d.jsx(Qr,{children:w[O].bgp_status[2].bgp_routes.map((H,ae)=>d.jsxs(nt,{className:"hover:bg-gray-50",children:[d.jsx(te,{className:"text-center",children:H.status_flags?d.jsx(Ce,{variant:"outline",className:"font-mono text-xs whitespace-nowrap bg-blue-50 border-blue-200",children:H.status_flags}):d.jsx("div",{className:"flex items-center justify-center",children:H.prefix.startsWith(">")?d.jsx(Ce,{variant:"outline",className:"font-mono bg-green-50 border-green-200",children:">"}):H.prefix.startsWith("=")?d.jsx(Ce,{variant:"outline",className:"font-mono bg-purple-50 border-purple-200",children:"="}):d.jsx(Ce,{variant:"outline",className:"font-mono opacity-0",children:"·"})})}),d.jsx(te,{className:"font-medium",children:d.jsx("div",{className:"flex items-center",children:d.jsx("span",{className:"font-mono text-blue-700",children:H.prefix.startsWith(">")||H.prefix.startsWith("=")?H.prefix.substring(1):H.prefix})})}),d.jsx(te,{className:"font-mono text-gray-700",children:H.nexthop}),d.jsx(te,{children:d.jsx("div",{className:"flex flex-wrap items-center gap-1",children:Array.isArray(H.as_path)&&H.as_path.map((de,ge)=>d.jsx(Ce,{variant:"outline",className:`
                                          ${parseInt(de.toString())===0?"bg-gray-50 text-gray-600":parseInt(de.toString())<100?"bg-blue-50 text-blue-600":parseInt(de.toString())<1e3?"bg-purple-50 text-purple-600":parseInt(de.toString())<1e4?"bg-green-50 text-green-600":parseInt(de.toString())<65e3?"bg-amber-50 text-amber-600":"bg-red-50 text-red-600"} font-mono
                                         `,children:de},ge))})}),d.jsx(te,{className:"text-center",children:d.jsx(Ce,{className:`
                                    ${H.origin==="i"?"bg-green-100 text-green-800":H.origin==="e"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"} font-mono
                                  `,children:H.origin})})]},ae))})]})}),d.jsx("div",{className:"mt-6 bg-gray-50 p-3 rounded-md border border-gray-100",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-sm mb-2 text-gray-700",children:"Routing Status Legend:"}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-y-2 gap-x-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Ce,{variant:"outline",className:"font-mono mr-1 bg-blue-50",children:"*"}),d.jsx("span",{className:"text-xs",children:"Valid Route"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Ce,{variant:"outline",className:"font-mono mr-1 bg-green-50",children:">"}),d.jsx("span",{className:"text-xs",children:"Current Best Route"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Ce,{variant:"outline",className:"font-mono mr-1 bg-purple-50",children:"="}),d.jsx("span",{className:"text-xs",children:"Multi-Path Route"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Ce,{variant:"outline",className:"font-mono mr-1 bg-amber-50",children:"i"}),d.jsx("span",{className:"text-xs",children:"Internal Route"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Ce,{variant:"outline",className:"font-mono mr-1 bg-red-50",children:"r"}),d.jsx("span",{className:"text-xs",children:"RIB Failed Route"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Ce,{variant:"outline",className:"font-mono mr-1 bg-orange-50",children:"s"}),d.jsx("span",{className:"text-xs",children:"Suppressed Route"})]})]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-sm mb-2 text-gray-700",children:"Routing Origin Legend:"}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-y-2 gap-x-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Ce,{className:"bg-green-100 text-green-800 font-mono mr-1",children:"i"}),d.jsx("span",{className:"text-xs",children:"IGP Origin"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Ce,{className:"bg-blue-100 text-blue-800 font-mono mr-1",children:"e"}),d.jsx("span",{className:"text-xs",children:"EGP Origin"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Ce,{className:"bg-gray-100 text-gray-800 font-mono mr-1",children:"?"}),d.jsx("span",{className:"text-xs",children:"Unknown Origin"})]})]})]})]})})]}),((Z0=(X0=w[O])==null?void 0:X0.bgp_status[1])==null?void 0:Z0.neighbors)&&d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsx("h3",{className:"text-lg font-medium mb-4",children:"BGP Connection Details"}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:w[O].bgp_status[1].neighbors.map((H,ae)=>{var de,ge,gt,Se,Ct,hr,Ot;return d.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("div",{className:"font-medium",children:H.hostname||H.neighbor_ip}),d.jsx(Ce,{className:H.state==="Established"?"bg-green-100 text-green-800 border-green-300":"bg-amber-100 text-amber-800 border-amber-300",children:H.state})]}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{className:"text-gray-500",children:"Neighbor IP:"}),d.jsx("div",{children:H.neighbor_ip})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{className:"text-gray-500",children:"Router ID:"}),d.jsx("div",{children:H.remote_router_id})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{className:"text-gray-500",children:"Local AS:"}),d.jsxs("div",{children:["AS",H.local_as]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{className:"text-gray-500",children:"Remote AS:"}),d.jsxs("div",{children:["AS",H.remote_as]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{className:"text-gray-500",children:"Uptime:"}),d.jsx("div",{children:H.uptime})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{className:"text-gray-500",children:"Hold Time/Keepalive:"}),d.jsxs("div",{children:[H.hold_time,"s / ",H.keepalive,"s"]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{className:"text-gray-500",children:"Keepalive Messages:"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("span",{className:"text-green-500",children:["Received: ",(ge=(de=H.messages)==null?void 0:de.keepalives)==null?void 0:ge.rcvd]}),d.jsxs("span",{className:"text-blue-500",children:["Sent: ",(Se=(gt=H.messages)==null?void 0:gt.keepalives)==null?void 0:Se.sent]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{className:"text-gray-500",children:"Connection History:"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs(Ce,{variant:"outline",className:"text-green-600 bg-green-50",children:["Established: ",(Ct=H.connections)==null?void 0:Ct.established]}),d.jsxs(Ce,{variant:"outline",className:"text-red-600 bg-red-50",children:["Dropped: ",(hr=H.connections)==null?void 0:hr.dropped]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{className:"text-gray-500",children:"Protocol Family:"}),d.jsx("div",{className:"flex flex-wrap gap-1",children:(Ot=H.afi_safi)==null?void 0:Ot.map((Dr,Wr)=>d.jsx(Ce,{variant:"outline",className:"text-xs",children:Dr},Wr))})]})]})]},ae)})})]})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border rounded-md bg-slate-50",children:[d.jsx(F8,{className:"h-12 w-12 mb-4 text-gray-400"}),d.jsx("p",{className:"text-lg font-medium mb-2 text-gray-600",children:e(v?"noBgpStatusData":"noDeviceSelected")}),d.jsx("p",{className:"text-gray-500 text-center",children:e(v?"bgpStatusError":"enterIpForBgp")})]})})]})}),d.jsx(Yr,{value:"qos",children:d.jsxs(Xe,{children:[d.jsxs(dt,{className:"flex flex-row items-center justify-between",children:[d.jsxs("div",{children:[d.jsx(ht,{children:"QoS Policy"}),d.jsx(rn,{children:_?`Device ${_} QoS policy configuration information`:"Please input IP to search device"})]}),_&&d.jsx(Fe,{variant:"outline",size:"sm",onClick:br,disabled:k,children:k?d.jsxs(d.Fragment,{children:[d.jsx(Kt,{className:"h-4 w-4 animate-spin mr-2"}),"Refreshing"]}):d.jsx(d.Fragment,{children:"Refresh QoS Policy"})})]}),d.jsx(Je,{children:k?d.jsxs("div",{className:"flex justify-center items-center h-[400px]",children:[d.jsx(Kt,{className:"h-8 w-8 animate-spin mr-2"}),d.jsx("span",{children:e("loadingQosPolicy")})]}):w&&w.length>0&&((O1=w[O])!=null&&O1.qos_policy)?d.jsxs("div",{className:"space-y-6",children:[((Es=(J0=(Dc=w[O])==null?void 0:Dc.qos_policy)==null?void 0:J0[1])==null?void 0:Es.analysis)&&d.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg border border-indigo-100 shadow-sm p-5",children:[d.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Qd,{className:"h-5 w-5 mr-2 text-indigo-600"}),"QoS Performance Analysis"]}),d.jsx(Fe,{variant:"outline",size:"sm",onClick:()=>Ee(!0),className:"text-sm text-indigo-600 border-indigo-200 hover:bg-indigo-50",children:"View Details"})]}),((Q0=($1=(Vh=(Hh=w[O])==null?void 0:Hh.qos_policy)==null?void 0:Vh[1])==null?void 0:$1.analysis)==null?void 0:Q0.summary)&&d.jsx("div",{children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:(Ir=(ty=(ey=(B1=w[O])==null?void 0:B1.qos_policy)==null?void 0:ey[1])==null?void 0:ty.analysis)==null?void 0:Ir.summary.map((H,ae)=>d.jsxs("div",{className:`flex items-start p-3 rounded-md ${H.includes("✅")?"bg-green-50 border border-green-100":H.includes("⚠️")?"bg-amber-50 border border-amber-100":H.includes("❌")?"bg-red-50 border border-red-100":H.includes("🚨")?"bg-rose-50 border border-rose-100":"bg-blue-50 border border-blue-100"}`,children:[d.jsx("div",{className:"text-lg mr-2",children:H.substring(0,2)}),d.jsx("div",{className:`text-sm ${H.includes("✅")?"text-green-800":H.includes("⚠️")?"text-amber-800":H.includes("❌")?"text-red-800":H.includes("🚨")?"text-rose-800":"text-blue-800"}`,children:H.substring(2)})]},ae))})})]}),me&&((ry=(z1=(F1=w[O])==null?void 0:F1.qos_policy)==null?void 0:z1[1])==null?void 0:ry.analysis)&&d.jsx(ou,{open:me,onOpenChange:Ee,children:d.jsxs(nc,{className:"sm:max-w-[80%] max-h-[90vh] overflow-y-auto",children:[d.jsxs(ic,{children:[d.jsx(ac,{children:"QoS Policy Detailed Analysis"}),d.jsx(Qf,{children:"Show detailed information about the current device's QoS, including queue traffic and port traffic."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 py-4",children:[d.jsxs("div",{children:[((ny=(vg=(H1=(U1=w[O])==null?void 0:U1.qos_policy)==null?void 0:H1[1])==null?void 0:vg.analysis)==null?void 0:ny.high_tx_queues)&&((G1=(iy=(W1=(V1=w[O])==null?void 0:V1.qos_policy)==null?void 0:W1[1])==null?void 0:iy.analysis)==null?void 0:G1.high_tx_queues.length)>0&&d.jsxs("div",{className:"bg-amber-50 rounded-lg border border-amber-100 p-4 mb-4",children:[d.jsxs("h4",{className:"text-md font-medium mb-3 text-amber-800 flex items-center",children:[d.jsx(lm,{className:"h-4 w-4 mr-2 text-amber-600"}),"High Traffic Queue (",(sy=(q1=(Wh=(ay=w[O])==null?void 0:ay.qos_policy)==null?void 0:Wh[1])==null?void 0:q1.analysis)==null?void 0:sy.high_tx_queues.length,")"]}),d.jsx("div",{className:"space-y-2",children:(Al=(Oc=(oy=(yg=w[O])==null?void 0:yg.qos_policy)==null?void 0:oy[1])==null?void 0:Oc.analysis)==null?void 0:Al.high_tx_queues.map((H,ae)=>d.jsxs("div",{className:"flex justify-between items-center bg-white rounded p-2 border border-amber-100 text-xs",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"font-medium text-amber-700 mr-2",children:H.port}),d.jsx(Ce,{className:"bg-amber-100 text-amber-800",children:H.queue})]}),d.jsx("div",{className:"text-amber-700 font-mono",children:H.tx_bytes_human})]},ae))})]}),((K1=(Y1=(ly=(xg=w[O])==null?void 0:xg.qos_policy)==null?void 0:ly[1])==null?void 0:Y1.analysis)==null?void 0:K1.drop_queues)&&((J1=(Z1=(X1=(fn=w[O])==null?void 0:fn.qos_policy)==null?void 0:X1[1])==null?void 0:Z1.analysis)==null?void 0:J1.drop_queues.length)>0&&d.jsxs("div",{className:"bg-red-50 rounded-lg border border-red-100 p-4",children:[d.jsxs("h4",{className:"text-md font-medium mb-3 text-red-800 flex items-center",children:[d.jsx(ji,{className:"h-4 w-4 mr-2 text-red-600"}),"Dropped Queue (",(X=(tS=(eS=(Q1=w[O])==null?void 0:Q1.qos_policy)==null?void 0:eS[1])==null?void 0:tS.analysis)==null?void 0:X.drop_queues.length,")"]}),d.jsx("div",{className:"space-y-2",children:(we=(ve=(ue=(he=w[O])==null?void 0:he.qos_policy)==null?void 0:ue[1])==null?void 0:ve.analysis)==null?void 0:we.drop_queues.map((H,ae)=>d.jsxs("div",{className:"flex justify-between items-center bg-white rounded p-2 border border-red-100 text-xs",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"font-medium text-red-700 mr-2",children:H.port}),d.jsx(Ce,{className:"bg-red-100 text-red-800",children:H.queue})]}),d.jsx("div",{className:"text-red-700 font-mono",children:H.dropped_bytes_human})]},ae))})]})]}),d.jsx("div",{children:d.jsxs("div",{className:"bg-white bg-opacity-70 rounded-lg border border-indigo-100 p-4",children:[((Jt=(or=(Tr=(rt=w[O])==null?void 0:rt.qos_policy)==null?void 0:Tr[1])==null?void 0:or.analysis)==null?void 0:Jt.high_tx_ports)&&((_g=(Ts=(Js=(Mr=w[O])==null?void 0:Mr.qos_policy)==null?void 0:Js[1])==null?void 0:Ts.analysis)==null?void 0:_g.high_tx_ports.length)>0&&d.jsxs("div",{className:"mb-4",children:[d.jsxs("h4",{className:"text-md font-medium mb-3 text-amber-800 flex items-center",children:[d.jsx(lm,{className:"h-4 w-4 mr-2 text-amber-600"}),"High Traffic Port"]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:(bg=(cy=(jl=(si=w[O])==null?void 0:si.qos_policy)==null?void 0:jl[1])==null?void 0:cy.analysis)==null?void 0:bg.high_tx_ports.map((H,ae)=>{var gt,Se;const de=(Se=(gt=w[O])==null?void 0:gt.interfaces)==null?void 0:Se.find(Ct=>Ct.logical_port===H),ge=(de==null?void 0:de.physical_port)||"";return d.jsx(Ce,{className:"bg-amber-50 text-amber-700 border-amber-200 px-3 py-1",children:ge?`${ge}(${H})`:H},ae)})})]}),((Vt=(jt=(Nt=(zA=w[O])==null?void 0:zA.qos_policy)==null?void 0:Nt[1])==null?void 0:jt.analysis)==null?void 0:Vt.drop_ports)&&((Ln=(Qs=(bn=(qn=w[O])==null?void 0:qn.qos_policy)==null?void 0:bn[1])==null?void 0:Qs.analysis)==null?void 0:Ln.drop_ports.length)>0&&d.jsxs("div",{children:[d.jsxs("h4",{className:"text-md font-medium mb-3 text-red-800 flex items-center",children:[d.jsx(ji,{className:"h-4 w-4 mr-2 text-red-600"}),"Dropped Port"]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:(x6=(qu=(eo=(Ns=w[O])==null?void 0:Ns.qos_policy)==null?void 0:eo[1])==null?void 0:qu.analysis)==null?void 0:x6.drop_ports.map((H,ae)=>{var gt,Se;const de=(Se=(gt=w[O])==null?void 0:gt.interfaces)==null?void 0:Se.find(Ct=>Ct.logical_port===H),ge=(de==null?void 0:de.physical_port)||"";return d.jsx(Ce,{className:"bg-red-50 text-red-700 border-red-200 px-3 py-1",children:ge?`${ge}(${H})`:H},ae)})})]})]})})]}),d.jsx(lu,{children:d.jsx(Fe,{onClick:()=>Ee(!1),children:"Close"})})]})}),((S6=(w6=(b6=(_6=w[O])==null?void 0:_6.qos_policy)==null?void 0:b6[0])==null?void 0:w6.qos)==null?void 0:S6.counters)&&d.jsxs("div",{className:"bg-white rounded-lg border shadow-sm p-5",children:[d.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[d.jsx(lm,{className:"h-5 w-5 mr-2 text-blue-600"}),"Queue Counter"]}),d.jsx("div",{className:"overflow-auto",children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{className:"bg-gray-50",children:[d.jsx(ie,{className:"w-[120px]",children:"Physical Port"}),d.jsx(ie,{className:"w-[120px]",children:"Logical Port"}),d.jsx(ie,{className:"w-[100px]",children:"Queue Count"}),d.jsx(ie,{className:"w-[140px]",children:"Transmit Statistics"}),d.jsx(ie,{className:"w-[140px]",children:"Dropped Statistics"}),d.jsx(ie,{className:"w-[100px]",children:"Status"}),d.jsx(ie,{className:"w-[60px]",children:"Details"})]})}),d.jsx(Qr,{children:(()=>{var ge,gt,Se,Ct,hr;const H={};(hr=(Ct=(Se=(gt=(ge=w[O])==null?void 0:ge.qos_policy)==null?void 0:gt[0])==null?void 0:Se.qos)==null?void 0:Ct.counters)==null||hr.forEach(Ot=>{H[Ot.port]||(H[Ot.port]=[]),H[Ot.port].push(Ot)});const ae={};return Object.keys(H).forEach(Ot=>{var fr,Oi;const Dr=(Oi=(fr=w[O])==null?void 0:fr.interfaces)==null?void 0:Oi.find(aa=>aa.logical_port===Ot),Wr=(Dr==null?void 0:Dr.physical_port)||"-";let ln=9999;if(Wr!=="-"){const aa=Wr.match(/(\d+)/);aa&&aa[1]&&(ln=parseInt(aa[1],10))}ae[Ot]={physicalPort:Wr,index:ln}}),Object.keys(H).sort((Ot,Dr)=>ae[Ot].index-ae[Dr].index).map(Ot=>{const Dr=H[Ot],{physicalPort:Wr}=ae[Ot];let ln=0,fr=0,Oi=0,aa=0,Ea="0 B",Yu="0 B",$o=0,lr=0;Dr.forEach(Yt=>{var dy,wg,hy,fy,py,gy,my,vy,yy,xy;const Ur=Yt.tx_bytes||0,Xn=Yt.dropped_bytes||0,sa=Yt.tx_packet||0,to=Yt.dropped_packets||0;ln+=Ur,fr+=Xn,Oi+=sa,aa+=to;const uy=(py=(fy=(hy=(wg=(dy=w[O])==null?void 0:dy.qos_policy)==null?void 0:wg[1])==null?void 0:hy.analysis)==null?void 0:fy.high_tx_queues)==null?void 0:py.some(Ku=>Ku.port===Yt.port&&Ku.queue===Yt.queue),rS=(xy=(yy=(vy=(my=(gy=w[O])==null?void 0:gy.qos_policy)==null?void 0:my[1])==null?void 0:vy.analysis)==null?void 0:yy.drop_queues)==null?void 0:xy.some(Ku=>Ku.port===Yt.port&&Ku.queue===Yt.queue);uy&&$o++,rS&&lr++}),ln>0&&(Ea=rK(ln/1024)),fr>0&&(Yu=rK(fr/1024));const $e=ln+fr,Tt=$e>0?fr/$e*100:0,rr=$o>0,Kn=lr>0,En=Q===Ot;return d.jsxs(en.Fragment,{children:[d.jsxs(nt,{className:`
                                        ${rr&&Kn?"bg-gradient-to-r from-amber-50 to-red-50":rr?"bg-amber-50":Kn?"bg-red-50":""}
                                        ${En?"border-b-0":""}
                                        hover:bg-slate-100 cursor-pointer
                                      `,onClick:()=>re(En?null:Ot),children:[d.jsx(te,{className:"font-medium",children:Wr}),d.jsx(te,{className:"font-medium",children:Ot}),d.jsx(te,{children:d.jsxs("div",{className:"flex space-x-1",children:[d.jsx(Ce,{className:"bg-blue-100 text-blue-800",children:Dr.length}),$o>0&&d.jsxs(Ce,{className:"bg-amber-100 text-amber-800",children:[$o," High"]}),lr>0&&d.jsxs(Ce,{className:"bg-red-100 text-red-800",children:[lr," Dropped"]})]})}),d.jsx(te,{children:d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"text-xs flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"Transmit Bytes:"}),d.jsx("span",{className:"font-mono font-medium",children:Ea})]}),d.jsxs("div",{className:"text-xs flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"Transmit Packets:"}),d.jsx("span",{className:"font-mono font-medium",children:Oi.toLocaleString()})]})]})}),d.jsx(te,{children:d.jsx("div",{className:"space-y-1",children:fr>0?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"text-xs flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"Dropped Bytes:"}),d.jsx("span",{className:"font-mono font-medium text-red-600",children:Yu})]}),d.jsxs("div",{className:"text-xs flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"Dropped Packets:"}),d.jsx("span",{className:"font-mono font-medium text-red-600",children:aa.toLocaleString()})]}),d.jsxs("div",{className:"text-xs flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"Drop Percentage:"}),d.jsxs("span",{className:"font-mono font-medium text-red-600",children:[Tt.toFixed(2),"%"]})]})]}):d.jsx("div",{className:"text-xs text-center text-green-600 py-1",children:"No Dropped"})})}),d.jsx(te,{children:rr&&Kn?d.jsx(Ce,{className:"bg-rose-100 text-rose-800 border-rose-200",children:"Alert"}):rr?d.jsx(Ce,{className:"bg-amber-100 text-amber-800 border-amber-200",children:"High Traffic"}):Kn?d.jsx(Ce,{className:"bg-red-100 text-red-800 border-red-200",children:"Dropped"}):d.jsx(Ce,{className:"bg-green-100 text-green-800 border-green-200",children:"Normal"})}),d.jsx(te,{children:d.jsx(Fe,{variant:"ghost",size:"sm",className:"cursor-pointer",onClick:Yt=>{Yt.stopPropagation(),re(En?null:Ot)},children:En?d.jsx(d_e,{className:"h-4 w-4"}):d.jsx(DE,{className:"h-4 w-4"})})})]}),En&&d.jsx(nt,{className:"bg-gray-50/70",children:d.jsx(te,{colSpan:7,className:"p-0 border-t-0",children:d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"text-sm font-medium mb-3 text-gray-700 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(ds,{className:"h-4 w-4 mr-1.5 text-blue-600"}),Ot," Queue Details"]}),d.jsx(Fe,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:Yt=>{Yt.stopPropagation(),re(null)},children:"Collapse"})]}),d.jsxs("div",{className:"bg-gray-50 rounded p-2 mb-3 text-xs flex items-center flex-wrap",children:[d.jsxs("div",{className:"flex items-center mr-4",children:[d.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-sm mr-1"}),d.jsx("span",{className:"text-gray-600",children:"Blue: Transmit Data"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-sm mr-1"}),d.jsx("span",{className:"text-gray-600",children:"Red: Dropped Data"}),d.jsx("span",{className:"text-gray-500 ml-2",children:"(Progress bar shows the ratio of transmit to dropped data)"})]})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2",children:Dr.map((Yt,Ur)=>{var hy,fy,py,gy,my,vy,yy,xy,Ku,mz;const Xn=(my=(gy=(py=(fy=(hy=w[O])==null?void 0:hy.qos_policy)==null?void 0:fy[1])==null?void 0:py.analysis)==null?void 0:gy.high_tx_queues)==null?void 0:my.some(_y=>_y.port===Yt.port&&_y.queue===Yt.queue),sa=(mz=(Ku=(xy=(yy=(vy=w[O])==null?void 0:vy.qos_policy)==null?void 0:yy[1])==null?void 0:xy.analysis)==null?void 0:Ku.drop_queues)==null?void 0:mz.some(_y=>_y.port===Yt.port&&_y.queue===Yt.queue),to=parseFloat(Yt.tx_bytes_human.split(" ")[0])||0,uy=parseFloat(Yt.dropped_bytes_human.split(" ")[0])||0,rS=to+uy,dy=rS>0?to/rS*100:100,wg=100-dy;return d.jsxs("div",{className:`rounded-lg border p-3 text-xs ${Xn&&sa?"bg-gradient-to-r from-amber-50 to-red-50 border-red-200":Xn?"bg-amber-50 border-amber-200":sa?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx(Ce,{variant:"outline",className:`
                                                        ${Xn&&sa?"bg-rose-100 text-rose-800 border-rose-200":Xn?"bg-amber-100 text-amber-800 border-amber-200":sa?"bg-red-100 text-red-800 border-red-200":"bg-blue-100 text-blue-800 border-blue-200"}
                                                      `,children:Yt.queue}),Xn&&sa?d.jsx(Ce,{className:"bg-rose-100 text-rose-800",children:"Alert"}):Xn?d.jsx(Ce,{className:"bg-amber-100 text-amber-800",children:"High Traffic"}):sa?d.jsx(Ce,{className:"bg-red-100 text-red-800",children:"Dropped"}):d.jsx(Ce,{className:"bg-green-100 text-green-800",children:"Normal"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ed,{children:d.jsxs(Qo,{children:[d.jsx(el,{asChild:!0,children:d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between mb-1",children:[d.jsx("span",{className:"text-gray-500",children:"Transmit:"}),d.jsx("span",{className:"font-mono font-medium",children:Yt.tx_bytes_human})]}),d.jsxs("div",{className:"flex justify-between mb-1",children:[d.jsx("span",{className:"text-gray-500",children:"Packets:"}),d.jsx("span",{className:"font-mono font-medium",children:Yt.tx_packet_human})]})]})}),d.jsx(xo,{children:d.jsxs("p",{children:["Total Transmit: ",Yt.tx_bytes.toLocaleString()," Bytes"]})})]})}),wg>0&&d.jsx(Ed,{children:d.jsxs(Qo,{children:[d.jsx(el,{asChild:!0,children:d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between mb-1",children:[d.jsx("span",{className:"text-gray-500",children:"Dropped:"}),d.jsx("span",{className:"font-mono font-medium text-red-600",children:Yt.dropped_bytes_human})]}),d.jsxs("div",{className:"flex justify-between mb-1",children:[d.jsx("span",{className:"text-gray-500",children:"Dropped Packets:"}),d.jsx("span",{className:"font-mono font-medium text-red-600",children:Yt.dropped_packet_human})]})]})}),d.jsx(xo,{children:d.jsxs("p",{children:["Drop Percentage: ",wg.toFixed(2),"%"]})})]})}),d.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:d.jsxs("div",{className:"flex h-full",children:[d.jsx("div",{className:"bg-blue-500 h-full",style:{width:to>0?`${dy}%`:"0%"}}),d.jsx("div",{className:"bg-red-500 h-full",style:{width:`${wg}%`}})]})})]})]},Ur)})})]})})})]},Ot)})})()})]})})]}),((k6=(C6=w[O].qos_policy[0])==null?void 0:C6.qos)==null?void 0:k6.schedule)&&d.jsxs("div",{className:"bg-white rounded-lg border shadow-sm p-5",children:[d.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[d.jsx(gj,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Scheduling Policy"]}),d.jsx("div",{className:"overflow-auto",children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{className:"bg-gray-50",children:[d.jsx(ie,{className:"w-[120px]",children:"Physical Port"}),d.jsx(ie,{className:"w-[120px]",children:"Logical Port"}),d.jsx(ie,{className:"w-[180px]",children:"Scheduling Mode"}),d.jsx(ie,{children:"Queue Weight Distribution"})]})}),d.jsx(Qr,{children:(()=>{var ae,de,ge,gt,Se;const H={};return(Se=(gt=(ge=(de=(ae=w[O])==null?void 0:ae.qos_policy)==null?void 0:de[0])==null?void 0:ge.qos)==null?void 0:gt.schedule)==null||Se.forEach(Ct=>{H[Ct.port]||(H[Ct.port]=[]),H[Ct.port].push(Ct)}),Object.entries(H).map(([Ct,hr])=>{var ln,fr,Oi;const Ot=(fr=(ln=w[O])==null?void 0:ln.interfaces)==null?void 0:fr.find(aa=>aa.logical_port===Ct),Dr=(Ot==null?void 0:Ot.physical_port)||"-",Wr=((Oi=hr[0])==null?void 0:Oi.mode)||"-";return d.jsxs(nt,{children:[d.jsx(te,{className:"font-medium",children:Dr}),d.jsx(te,{children:Ct}),d.jsx(te,{children:d.jsx(Ce,{className:"bg-indigo-50 text-indigo-700 border-indigo-200 px-3",children:Wr})}),d.jsx(te,{children:d.jsx("div",{className:"flex flex-wrap gap-1",children:hr.map((aa,Ea)=>d.jsxs("div",{className:"flex items-center bg-indigo-50 rounded-full pl-2 pr-3 py-1 text-xs border border-indigo-100",children:[d.jsx("span",{className:"bg-indigo-200 text-indigo-800 rounded-full h-5 w-5 flex items-center justify-center mr-1.5",children:aa.queue.replace(/[^0-9]/g,"")}),d.jsxs("span",{className:"text-indigo-800 font-medium",children:["Weight: ",aa.weight]})]},Ea))})})]},Ct)})})()})]})})]}),d.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.jsxs("div",{className:"bg-white rounded-lg border shadow-sm p-5",children:[d.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[d.jsx(Qd,{className:"h-5 w-5 mr-2 text-purple-600"}),"Quality of Service Mapping"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[((T6=(E6=w[O].qos_policy[0])==null?void 0:E6.qos)==null?void 0:T6.dscp_to_tc)&&d.jsxs("div",{className:"bg-blue-50 rounded-lg border border-blue-100 p-3",children:[d.jsxs("h4",{className:"text-sm font-medium mb-2 text-blue-800 flex justify-between items-center",children:[d.jsx("span",{children:"DSCP to TC Mapping"}),d.jsx(Fe,{variant:"outline",size:"sm",className:"h-7 text-xs text-blue-600 border-blue-200",onClick:()=>Me(!0),children:"View All"})]}),d.jsxs("div",{className:"flex flex-wrap gap-1",children:[Object.entries(w[O].qos_policy[0].qos.dscp_to_tc).slice(0,12).map(([H,ae],de)=>d.jsxs("div",{className:"bg-white rounded-md border border-blue-100 px-2 py-1 text-xs",children:[d.jsxs("span",{className:"text-blue-500",children:["DSCP:",H]}),d.jsx("span",{className:"mx-1",children:"→"}),d.jsxs("span",{className:"text-blue-800 font-medium",children:["TC:",ae]})]},de)),Object.keys(w[O].qos_policy[0].qos.dscp_to_tc).length>12&&d.jsxs("div",{className:"bg-blue-100 rounded-md px-2 py-1 text-xs text-blue-800",children:["+",Object.keys(w[O].qos_policy[0].qos.dscp_to_tc).length-12," mappings"]})]})]}),((A6=(N6=w[O].qos_policy[0])==null?void 0:N6.qos)==null?void 0:A6.tc_to_queue)&&d.jsxs("div",{className:"bg-purple-50 rounded-lg border border-purple-100 p-3",children:[d.jsxs("h4",{className:"text-sm font-medium mb-2 text-purple-800 flex justify-between items-center",children:[d.jsx("span",{children:"TC to Queue Mapping"}),d.jsx(Fe,{variant:"outline",size:"sm",className:"h-7 text-xs text-purple-600 border-purple-200",onClick:()=>Ie(!0),children:"View All"})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(w[O].qos_policy[0].qos.tc_to_queue).map(([H,ae],de)=>d.jsxs("div",{className:"flex items-center",children:[d.jsxs("div",{className:"bg-purple-200 text-purple-800 rounded-l-md px-2 py-1 text-xs font-medium",children:["TC:",H]}),d.jsxs("div",{className:"bg-white border-t border-r border-b border-purple-100 rounded-r-md px-2 py-1 text-xs",children:["Queue:",ae]})]},de))})]})]})]})}),((M6=(I6=(R6=(j6=w[O])==null?void 0:j6.qos_policy)==null?void 0:R6[0])==null?void 0:I6.qos)==null?void 0:M6.dscp_to_tc)&&d.jsx(ou,{open:Ne,onOpenChange:Me,children:d.jsxs(nc,{className:"sm:max-w-[600px]",children:[d.jsxs(ic,{children:[d.jsx(ac,{children:"DSCP to TC Mapping Details"}),d.jsx(Qf,{children:"Show the mapping relationship between DSCP (Differentiated Services Code Point) and TC (Traffic Class) of the device"})]}),d.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2 max-h-[400px] overflow-y-auto p-1",children:Object.entries(w[O].qos_policy[0].qos.dscp_to_tc).map(([H,ae],de)=>d.jsxs("div",{className:"flex flex-col items-center bg-blue-50 rounded-md border border-blue-100 p-2 text-xs",children:[d.jsxs("div",{className:"text-blue-500 mb-1",children:["DSCP: ",H]}),d.jsx("div",{className:"flex items-center",children:d.jsx("div",{className:"w-3 h-3 mx-1 text-gray-400"})}),d.jsxs("div",{className:"bg-blue-200 rounded-full px-3 py-1 text-blue-800 font-medium mt-1",children:["TC: ",ae]})]},de))}),d.jsx(lu,{children:d.jsx(Fe,{onClick:()=>Me(!1),children:"Close"})})]})}),((O6=(D6=(L6=(P6=w[O])==null?void 0:P6.qos_policy)==null?void 0:L6[0])==null?void 0:D6.qos)==null?void 0:O6.tc_to_queue)&&d.jsx(ou,{open:Ae,onOpenChange:Ie,children:d.jsxs(nc,{className:"sm:max-w-[500px]",children:[d.jsxs(ic,{children:[d.jsx(ac,{children:"TC to Queue Mapping Details"}),d.jsx(Qf,{children:"Show the mapping relationship between TC (Traffic Class) and Queue of the device"})]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 max-h-[400px] overflow-y-auto p-1",children:Object.entries(w[O].qos_policy[0].qos.tc_to_queue).map(([H,ae],de)=>d.jsxs("div",{className:"flex flex-col bg-purple-50 rounded-md border border-purple-100 p-2",children:[d.jsxs("div",{className:"bg-purple-200 rounded-md px-2 py-1 text-xs text-purple-800 font-medium mb-2 text-center",children:["TC: ",H]}),d.jsx("div",{className:"flex items-center justify-center mb-1",children:d.jsx("div",{className:"w-4 h-4 text-gray-400"})}),d.jsxs("div",{className:"bg-white rounded-md border border-purple-100 px-2 py-1 text-xs text-center",children:["Queue: ",ae]})]},de))}),d.jsx(lu,{children:d.jsx(Fe,{onClick:()=>Ie(!1),children:"Close"})})]})})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border rounded-md bg-slate-50",children:[d.jsx(gj,{className:"h-12 w-12 mb-4 text-gray-400"}),d.jsx("p",{className:"text-lg font-medium mb-2 text-gray-600",children:e(v?"noQoSPolicyData":"noDeviceSelected")}),d.jsx("p",{className:"text-gray-500 text-center",children:e(v?"qosPolicyError":"enterIpForQos")})]})})]})}),d.jsx(Yr,{value:"l2forwarding",children:d.jsxs(Xe,{children:[d.jsxs(dt,{className:"flex flex-row items-center justify-between",children:[d.jsxs("div",{children:[d.jsx(ht,{children:"L2 Forwarding"}),d.jsx(rn,{children:_?`Device ${_} L2 Forwarding Information`:"Please input IP to search device"})]}),_&&d.jsx(Fe,{variant:"outline",size:"sm",onClick:br,disabled:k,children:k?d.jsxs(d.Fragment,{children:[d.jsx(Kt,{className:"h-4 w-4 animate-spin mr-2"}),"Refreshing"]}):d.jsx(d.Fragment,{children:"Refresh L2 Forwarding"})})]}),d.jsx(Je,{children:k?d.jsxs("div",{className:"flex justify-center items-center h-[400px]",children:[d.jsx(Kt,{className:"h-8 w-8 animate-spin mr-2"}),d.jsx("span",{children:e("loadingL2Forwarding")})]}):w&&w.length>0&&(($6=w[O])!=null&&$6.l2_forwarding)?d.jsxs("div",{className:"space-y-6",children:[((F6=(B6=w[O])==null?void 0:B6.l2_forwarding)==null?void 0:F6.arp_table)&&w[O].l2_forwarding.arp_table.length>0&&d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[d.jsx("span",{className:"bg-blue-100 text-blue-800 p-1.5 rounded-md mr-2",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide",children:d.jsx("path",{d:"M5 2v4h4l3 6H9v3a3 3 0 0 0 6 0v-3h7v-6h-7V2H5z"})})}),"ARP Table"]}),d.jsx("div",{className:"overflow-auto",children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{className:"bg-gray-50",children:[d.jsx(ie,{className:"w-[120px]",children:"IP Address"}),d.jsx(ie,{children:"MAC Address"}),d.jsx(ie,{children:"Interface"}),d.jsx(ie,{children:"VLAN"}),d.jsx(ie,{children:"VRF"}),d.jsx(ie,{children:"Status"})]})}),d.jsx(Qr,{children:w[O].l2_forwarding.arp_table.map((H,ae)=>d.jsxs(nt,{children:[d.jsx(te,{className:"font-medium text-blue-600",children:H.ip_address}),d.jsx(te,{className:"font-mono",children:H.mac_address}),d.jsx(te,{children:H.interface}),d.jsx(te,{children:H.vlan!=="-"?H.vlan:d.jsx("span",{className:"text-gray-400",children:"-"})}),d.jsx(te,{children:H.vrf}),d.jsx(te,{children:d.jsx(Ce,{className:H.status==="reachable"?"bg-green-100 text-green-800 border-green-300":"bg-amber-100 text-amber-800 border-amber-300",children:H.status})})]},ae))})]})})]}),(((U6=(z6=w[O])==null?void 0:z6.l2_forwarding)==null?void 0:U6.vlans)||((V6=(H6=w[O])==null?void 0:H6.l2_forwarding)==null?void 0:V6.vlan_table))&&d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[d.jsx("span",{className:"bg-indigo-100 text-indigo-800 p-1.5 rounded-md mr-2",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide",children:[d.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),d.jsx("path",{d:"M3 9h18"}),d.jsx("path",{d:"M9 21V9"})]})}),"VLAN Configuration"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[(q6=(G6=(W6=w[O])==null?void 0:W6.l2_forwarding)==null?void 0:G6.vlans)==null?void 0:q6.map((H,ae)=>d.jsxs("div",{className:"bg-indigo-50 rounded-lg border border-indigo-100 overflow-hidden",children:[d.jsx("div",{className:"bg-indigo-100 p-2 border-b border-indigo-200",children:d.jsxs("h4",{className:"font-medium text-indigo-800 flex justify-between items-center",children:[d.jsxs("span",{children:["VLAN ",H.vlan_id]}),H.port_tagging&&d.jsx(Ce,{variant:"outline",className:"bg-white border-indigo-200 text-indigo-700 text-xs",children:H.port_tagging})]})}),d.jsxs("div",{className:"p-3 space-y-2 text-sm",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{className:"text-gray-500",children:"IP Address:"}),d.jsx("div",{children:H.ip_address||d.jsx("span",{className:"text-gray-400",children:"Not Configured"})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{className:"text-gray-500",children:"Proxy ARP:"}),d.jsx("div",{children:d.jsx(Ce,{variant:"outline",className:H.proxy_arp==="enabled"?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:H.proxy_arp})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{className:"text-gray-500",children:"Proxy ND:"}),d.jsx("div",{children:d.jsx(Ce,{variant:"outline",className:H.proxy_nd==="enabled"?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:H.proxy_nd})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{className:"text-gray-500",children:"DHCP Proxy:"}),d.jsx("div",{children:H.dhcp_helper||d.jsx("span",{className:"text-gray-400",children:"Not Configured"})})]}),H.ports&&H.ports.length>0&&d.jsxs("div",{className:"pt-2 border-t border-indigo-100",children:[d.jsx("div",{className:"text-gray-500 mb-1",children:"Associated Ports:"}),d.jsx("div",{className:"flex flex-wrap gap-1",children:H.ports.map((de,ge)=>d.jsx(Ce,{variant:"outline",className:"bg-white text-xs",children:de},ge))})]})]})]},`vlan-${ae}`)),(X6=(K6=(Y6=w[O])==null?void 0:Y6.l2_forwarding)==null?void 0:K6.vlan_table)==null?void 0:X6.map((H,ae)=>d.jsxs("div",{className:"bg-indigo-50 rounded-lg border border-indigo-100 overflow-hidden",children:[d.jsx("div",{className:"bg-indigo-100 p-2 border-b border-indigo-200",children:d.jsxs("h4",{className:"font-medium text-indigo-800 flex justify-between items-center",children:[d.jsxs("span",{children:["VLAN ",H.vlan_id]}),H.port_tagging&&d.jsx(Ce,{variant:"outline",className:"bg-white border-indigo-200 text-indigo-700 text-xs",children:H.port_tagging})]})}),d.jsxs("div",{className:"p-3 space-y-2 text-sm",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{className:"text-gray-500",children:"IP Address:"}),d.jsx("div",{children:H.ip_address||d.jsx("span",{className:"text-gray-400",children:"Not Configured"})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{className:"text-gray-500",children:"Proxy ARP:"}),d.jsx("div",{children:d.jsx(Ce,{variant:"outline",className:H.proxy_arp==="enabled"?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:H.proxy_arp})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{className:"text-gray-500",children:"Proxy ND:"}),d.jsx("div",{children:d.jsx(Ce,{variant:"outline",className:H.proxy_nd==="enabled"?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:H.proxy_nd})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{className:"text-gray-500",children:"DHCP Proxy:"}),d.jsx("div",{children:H.dhcp_helper||d.jsx("span",{className:"text-gray-400",children:"Not Configured"})})]}),H.ports&&H.ports.length>0&&d.jsxs("div",{className:"pt-2 border-t border-indigo-100",children:[d.jsx("div",{className:"text-gray-500 mb-1",children:"Associated Ports:"}),d.jsx("div",{className:"flex flex-wrap gap-1",children:H.ports.map((de,ge)=>d.jsx(Ce,{variant:"outline",className:"bg-white text-xs",children:de},ge))})]})]})]},`vlan-table-${ae}`))]})]}),(((J6=(Z6=w[O])==null?void 0:Z6.l2_forwarding)==null?void 0:J6.interfaces)||((ez=(Q6=w[O])==null?void 0:Q6.l2_forwarding)==null?void 0:ez.interfaces_status))&&d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[d.jsx("span",{className:"bg-emerald-100 text-emerald-800 p-1.5 rounded-md mr-2",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide",children:[d.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2"}),d.jsx("path",{d:"M6 12h12"}),d.jsx("path",{d:"M8 12v4"}),d.jsx("path",{d:"M16 12v4"}),d.jsx("path",{d:"M12 12v4"})]})}),"Interface Information"]}),d.jsxs("div",{className:"relative w-64",children:[d.jsx(li,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-400"}),d.jsx(cr,{placeholder:"Search Interface...",className:"pl-8",value:fe,onChange:H=>et(H.target.value)})]})]}),d.jsx("div",{className:"overflow-auto",children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{className:"bg-gray-50",children:[d.jsx(ie,{className:"w-[150px]",children:"Physical Interface"}),d.jsx(ie,{children:"Logical Interface"}),d.jsx(ie,{children:"Admin Status"}),d.jsx(ie,{children:"Physical Status"}),d.jsx(ie,{children:"VLAN"}),d.jsx(ie,{children:"Speed"}),d.jsx(ie,{children:"Type"}),d.jsx(ie,{children:"Lanes"}),d.jsx(ie,{children:"MTU"}),d.jsx(ie,{children:"FEC"})]})}),d.jsxs(Qr,{children:[(nz=(rz=(tz=w[O])==null?void 0:tz.l2_forwarding)==null?void 0:rz.interfaces)==null?void 0:nz.filter(H=>{var ae,de;return(((ae=H.alias)==null?void 0:ae.toLowerCase())||"").includes(fe.toLowerCase())||(((de=H.interface)==null?void 0:de.toLowerCase())||"").includes(fe.toLowerCase())}).map((H,ae)=>d.jsxs(nt,{className:"hover:bg-gray-50",children:[d.jsx(te,{className:"font-medium",children:H.alias||d.jsx("span",{className:"text-gray-400",children:"-"})}),d.jsx(te,{children:H.interface||d.jsx("span",{className:"text-gray-400",children:"-"})}),d.jsx(te,{children:d.jsx(Ce,{className:H.admin==="up"?"bg-green-100 text-green-800 border-green-200":"bg-gray-100 text-gray-800 border-gray-200",children:H.admin||"-"})}),d.jsx(te,{children:d.jsx(Ce,{className:H.oper==="up"?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200",children:H.oper||"-"})}),d.jsx(te,{children:H.vlan==="routed"?d.jsx(Ce,{className:"bg-blue-100 text-blue-800 border-blue-200",children:"Routed"}):H.vlan==="access"?d.jsx(Ce,{className:"bg-emerald-100 text-emerald-800 border-emerald-200",children:"Access"}):d.jsx(Ce,{className:"bg-indigo-100 text-indigo-800 border-indigo-200",children:"Trunk"})}),d.jsx(te,{children:H.speed||d.jsx("span",{className:"text-gray-400",children:"-"})}),d.jsx(te,{children:H.type||d.jsx("span",{className:"text-gray-400",children:"-"})}),d.jsx(te,{children:H.lanes||d.jsx("span",{className:"text-gray-400",children:"-"})}),d.jsx(te,{children:H.mtu||d.jsx("span",{className:"text-gray-400",children:"-"})}),d.jsx(te,{children:H.fec||d.jsx("span",{className:"text-gray-400",children:"-"})})]},`interface-${ae}`)),(sz=(az=(iz=w[O])==null?void 0:iz.l2_forwarding)==null?void 0:az.interfaces_status)==null?void 0:sz.filter(H=>{var ae,de;return(((ae=H.alias)==null?void 0:ae.toLowerCase())||"").includes(fe.toLowerCase())||(((de=H.interface)==null?void 0:de.toLowerCase())||"").includes(fe.toLowerCase())}).map((H,ae)=>d.jsxs(nt,{className:"hover:bg-gray-50",children:[d.jsx(te,{className:"font-medium",children:H.alias||d.jsx("span",{className:"text-gray-400",children:"-"})}),d.jsx(te,{children:H.interface||d.jsx("span",{className:"text-gray-400",children:"-"})}),d.jsx(te,{children:d.jsx(Ce,{className:H.admin==="up"?"bg-green-100 text-green-800 border-green-200":"bg-gray-100 text-gray-800 border-gray-200",children:H.admin||"-"})}),d.jsx(te,{children:d.jsx(Ce,{className:H.oper==="up"?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200",children:H.oper||"-"})}),d.jsx(te,{children:H.vlan==="routed"?d.jsx(Ce,{className:"bg-blue-100 text-blue-800 border-blue-200",children:"Route"}):H.vlan==="access"?d.jsx(Ce,{className:"bg-emerald-100 text-emerald-800 border-emerald-200",children:"Access"}):d.jsx(Ce,{className:"bg-indigo-100 text-indigo-800 border-indigo-200",children:"Trunk"})}),d.jsx(te,{children:H.speed||d.jsx("span",{className:"text-gray-400",children:"-"})}),d.jsx(te,{children:H.type||d.jsx("span",{className:"text-gray-400",children:"-"})}),d.jsx(te,{children:H.lanes||d.jsx("span",{className:"text-gray-400",children:"-"})}),d.jsx(te,{children:H.mtu||d.jsx("span",{className:"text-gray-400",children:"-"})}),d.jsx(te,{children:H.fec||d.jsx("span",{className:"text-gray-400",children:"-"})})]},`interface-status-${ae}`))]})]})})]}),((lz=(oz=w[O])==null?void 0:oz.l2_forwarding)==null?void 0:lz.interfaces_counters)&&w[O].l2_forwarding.interfaces_counters.length>0&&d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[d.jsx("span",{className:"bg-purple-100 text-purple-800 p-1.5 rounded-md mr-2",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide",children:[d.jsx("path",{d:"M3 3v18h18"}),d.jsx("path",{d:"M18 12V8"}),d.jsx("path",{d:"M14 14v-4"}),d.jsx("path",{d:"M10 16v-2"}),d.jsx("path",{d:"M6 18v-4"})]})}),"Interfaces counters"]}),d.jsxs("div",{className:"relative w-64",children:[d.jsx(li,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-400"}),d.jsx(cr,{placeholder:"Search Interfaces...",className:"pl-8",value:He,onChange:H=>Gt(H.target.value)})]})]}),d.jsx("div",{className:"overflow-auto",children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{className:"bg-gray-50",children:[d.jsx(ie,{className:"w-[120px]",children:"Physical Int"}),d.jsx(ie,{className:"w-[120px]",children:"Logical Int"}),d.jsx(ie,{children:"Status"}),d.jsx(ie,{className:"text-right",children:"Received Packets"}),d.jsx(ie,{className:"text-right",children:"Sent Packets"}),d.jsx(ie,{className:"text-right",children:"Received Bandwidth"}),d.jsx(ie,{className:"text-right",children:"Sent Bandwidth"}),d.jsx(ie,{className:"text-right",children:"Received Dropped"}),d.jsx(ie,{className:"text-right",children:"Sent Dropped"}),d.jsx(ie,{className:"text-right",children:"Received Errors"}),d.jsx(ie,{className:"text-right",children:"Sent Errors"}),d.jsx(ie,{className:"text-right",children:"Utilization"})]})}),d.jsx(Qr,{children:w[O].l2_forwarding.interfaces_counters.filter(H=>{var gt,Se,Ct,hr;let ae="-";const de=(Se=(gt=w[O])==null?void 0:gt.l2_forwarding)==null?void 0:Se.interfaces;if(de&&de.length>0){const Ot=de.find(Dr=>Dr.interface===H.iface);Ot&&Ot.alias&&(ae=Ot.alias)}const ge=(hr=(Ct=w[O])==null?void 0:Ct.l2_forwarding)==null?void 0:hr.interfaces_status;if(ae==="-"&&ge&&ge.length>0){const Ot=ge.find(Dr=>Dr.interface===H.iface);Ot&&Ot.alias&&(ae=Ot.alias)}return H.iface.toLowerCase().includes(He.toLowerCase())||ae.toLowerCase().includes(He.toLowerCase())}).map((H,ae)=>{var Se,Ct,hr,Ot;let de="-";const ge=(Ct=(Se=w[O])==null?void 0:Se.l2_forwarding)==null?void 0:Ct.interfaces;if(ge&&ge.length>0){const Dr=ge.find(Wr=>Wr.interface===H.iface);Dr&&Dr.alias&&(de=Dr.alias)}const gt=(Ot=(hr=w[O])==null?void 0:hr.l2_forwarding)==null?void 0:Ot.interfaces_status;if(de==="-"&&gt&&gt.length>0){const Dr=gt.find(Wr=>Wr.interface===H.iface);Dr&&Dr.alias&&(de=Dr.alias)}return d.jsxs(nt,{className:"hover:bg-gray-50",children:[d.jsx(te,{className:"font-medium",children:de}),d.jsx(te,{children:H.iface}),d.jsx(te,{children:d.jsx(Ce,{className:H.state==="U"?"bg-green-100 text-green-800 border-green-200":H.state==="D"?"bg-red-100 text-red-800 border-red-200":"bg-gray-100 text-gray-800 border-gray-200",children:H.state==="U"?"Normal":H.state==="D"?"Down":H.state})}),d.jsx(te,{className:"text-right font-mono",children:H.rx_ok.toLocaleString()}),d.jsx(te,{className:"text-right font-mono",children:H.tx_ok.toLocaleString()}),d.jsx(te,{className:"text-right font-mono text-blue-600",children:H.rx_bps}),d.jsx(te,{className:"text-right font-mono text-green-600",children:H.tx_bps}),d.jsx(te,{className:`text-right font-mono ${H.rx_drp>0?"text-amber-600":""}`,children:H.rx_drp>0?H.rx_drp.toLocaleString():"-"}),d.jsx(te,{className:`text-right font-mono ${H.tx_drp>0?"text-amber-600":""}`,children:H.tx_drp>0?H.tx_drp.toLocaleString():"-"}),d.jsx(te,{className:`text-right font-mono ${H.rx_err>0?"text-red-600":""}`,children:H.rx_err>0?H.rx_err.toLocaleString():"-"}),d.jsx(te,{className:`text-right font-mono ${H.tx_err>0?"text-red-600":""}`,children:H.tx_err>0?H.tx_err.toLocaleString():"-"}),d.jsx(te,{className:"text-right font-mono",children:d.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[d.jsxs("span",{children:["↓",H.rx_util]}),d.jsxs("span",{children:["↑",H.tx_util]})]})})]},ae)})})]})})]})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border rounded-md bg-slate-50",children:[d.jsx(ub,{className:"h-12 w-12 mb-4 text-gray-400"}),d.jsx("p",{className:"text-lg font-medium mb-2 text-gray-600",children:e(v?"noL2ForwardingData":"noDeviceSelected")}),d.jsx("p",{className:"text-gray-500 text-center",children:e(v?"l2ForwardingError":"enterIpForL2")})]})})]})}),d.jsx(Yr,{value:"system",children:d.jsxs(Xe,{children:[d.jsxs(dt,{className:"flex flex-row items-center justify-between",children:[d.jsxs("div",{children:[d.jsx(ht,{children:"System Processes"}),d.jsx(rn,{children:_?`Device ${_} System Processes and Resource Usage`:"Please input IP to search device"})]}),_&&d.jsx(Fe,{variant:"outline",size:"sm",onClick:br,disabled:k,children:k?d.jsxs(d.Fragment,{children:[d.jsx(Kt,{className:"h-4 w-4 animate-spin mr-2"}),"Refreshing"]}):d.jsx(d.Fragment,{children:"Refresh Device"})})]}),d.jsx(Je,{children:w&&((cz=w[O])!=null&&cz.system_process)?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[d.jsx("span",{className:"bg-blue-100 text-blue-800 p-1.5 rounded-md mr-2",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("path",{d:"M12 6v6l4 2"})]})}),"Disk Usage"]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(uz=w[O].system_process.disk_usage)==null?void 0:uz.map((H,ae)=>d.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-100 overflow-hidden",children:[d.jsx("div",{className:"bg-blue-100 p-2 border-b border-blue-200",children:d.jsxs("h4",{className:"font-medium text-blue-800 flex justify-between items-center",children:[d.jsx("span",{title:H.filesystem,children:H.filesystem.length>15?`${H.filesystem.substring(0,15)}...`:H.filesystem}),d.jsx(Ce,{variant:"outline",className:H.summary.includes("✅")?"bg-green-100 text-green-800 border-green-200":"bg-amber-100 text-amber-800 border-amber-200",children:H.summary.replace("✅ ","")})]})}),d.jsxs("div",{className:"p-3",children:[d.jsxs("div",{className:"flex justify-between mb-1 text-sm text-gray-700",children:[d.jsxs("span",{children:["Used: ",H.used]}),d.jsxs("span",{children:["Available: ",H.avail]})]}),d.jsx("div",{className:"relative pt-1",children:d.jsx("div",{className:"overflow-hidden h-2 text-xs flex rounded bg-blue-100",children:d.jsx("div",{className:`shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center ${parseInt(H.use_percent)>80?"bg-red-500":parseInt(H.use_percent)>60?"bg-amber-500":"bg-green-500"}`,style:{width:H.use_percent}})})}),d.jsxs("div",{className:"mt-2 flex justify-between text-xs text-gray-500",children:[d.jsxs("span",{children:["Total Size: ",H.size]}),d.jsxs("span",{children:["Usage: ",H.use_percent]})]}),d.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Mount Point:"}),d.jsx("span",{className:"ml-1 text-gray-700",title:H.mountpoint,children:H.mountpoint.length>10?`${H.mountpoint.substring(0,10)}...`:H.mountpoint||"-"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Type:"}),d.jsx("span",{className:"ml-1 text-gray-700",children:H.type||"-"})]})]})]})]},ae))})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[d.jsx("span",{className:"bg-purple-100 text-purple-800 p-1.5 rounded-md mr-2",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide",children:[d.jsx("rect",{x:"2",y:"2",width:"20",height:"8",rx:"2",ry:"2"}),d.jsx("rect",{x:"2",y:"14",width:"20",height:"8",rx:"2",ry:"2"}),d.jsx("line",{x1:"6",y1:"6",x2:"6.01",y2:"6"}),d.jsx("line",{x1:"6",y1:"18",x2:"6.01",y2:"18"})]})}),"System Processes"]}),d.jsx("div",{className:"overflow-auto",children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{className:"bg-gray-50",children:[d.jsx(ie,{children:"PID"}),d.jsx(ie,{children:"Process Name"}),d.jsx(ie,{children:"Status"}),d.jsx(ie,{className:"text-right",children:"CPU Usage"}),d.jsx(ie,{className:"text-right",children:"Memory Usage"}),d.jsx(ie,{className:"text-right",children:"Elapsed Time"})]})}),d.jsx(Qr,{children:(dz=w[O].system_process.processes)==null?void 0:dz.map((H,ae)=>d.jsxs(nt,{className:"hover:bg-gray-50",children:[d.jsx(te,{className:"font-mono",children:H.pid}),d.jsx(te,{className:"font-medium",children:H.process_name}),d.jsx(te,{children:d.jsx(Ce,{variant:"outline",className:H.status==="R"?"bg-green-100 text-green-800 border-green-200":H.status==="S"?"bg-blue-100 text-blue-800 border-blue-200":H.status==="D"?"bg-amber-100 text-amber-800 border-amber-200":H.status==="Z"?"bg-red-100 text-red-800 border-red-200":"bg-gray-100 text-gray-800 border-gray-200",children:H.status==="R"?"Running":H.status==="S"?"Sleeping":H.status==="D"?"Uninterruptible":H.status==="Z"?"Zombie":H.status})}),d.jsx(te,{className:"text-right",children:d.jsxs("div",{className:H.cpu_percent>50?"text-red-600":H.cpu_percent>20?"text-amber-600":"text-blue-600",children:[H.cpu_percent,"%"]})}),d.jsx(te,{className:"text-right",children:d.jsxs("div",{className:H.mem_percent>50?"text-red-600":H.mem_percent>20?"text-amber-600":"text-blue-600",children:[H.mem_percent,"%"]})}),d.jsx(te,{className:"text-right font-mono",children:H.elapsed_time})]},ae))})]})})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[d.jsx("span",{className:"bg-emerald-100 text-emerald-800 p-1.5 rounded-md mr-2",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("path",{d:"M8 12h8"}),d.jsx("path",{d:"M12 16V8"})]})}),"Disk IO Statistics"]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(hz=w[O].system_process.disk_stat)==null?void 0:hz.map((H,ae)=>d.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 rounded-lg border border-emerald-100 overflow-hidden",children:[d.jsx("div",{className:"bg-emerald-100 p-2 border-b border-emerald-200",children:d.jsxs("h4",{className:"font-medium text-emerald-800 flex justify-between items-center",children:[d.jsx("span",{children:"Disk IO Statistics"}),d.jsx(Ce,{variant:"outline",className:H.summary.includes("✅")?"bg-green-100 text-green-800 border-green-200":"bg-amber-100 text-amber-800 border-amber-200",children:H.summary.replace("✅ ","")})]})}),d.jsxs("div",{className:"p-3 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-white rounded-lg p-3 border border-emerald-100",children:[d.jsx("h5",{className:"text-sm font-medium text-emerald-700 mb-2",children:"Read Operations"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[d.jsx("div",{className:"text-gray-600",children:"Completed Reads:"}),d.jsx("div",{className:"font-medium text-gray-800",children:H.reads_completed.toLocaleString()}),d.jsx("div",{className:"text-gray-600",children:"Merged Reads:"}),d.jsx("div",{className:"font-medium text-gray-800",children:H.reads_merged.toLocaleString()}),d.jsx("div",{className:"text-gray-600",children:"Read Sectors:"}),d.jsx("div",{className:"font-medium text-gray-800",children:H.sectors_read.toLocaleString()}),d.jsx("div",{className:"text-gray-600",children:"Read Time:"}),d.jsxs("div",{className:"font-medium text-gray-800",children:[H.read_time_ms.toLocaleString()," ms"]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg p-3 border border-emerald-100",children:[d.jsx("h5",{className:"text-sm font-medium text-emerald-700 mb-2",children:"Write Operations"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[d.jsx("div",{className:"text-gray-600",children:"Completed Writes:"}),d.jsx("div",{className:"font-medium text-gray-800",children:H.writes_completed.toLocaleString()}),d.jsx("div",{className:"text-gray-600",children:"Merged Writes:"}),d.jsx("div",{className:"font-medium text-gray-800",children:H.writes_merged.toLocaleString()}),d.jsx("div",{className:"text-gray-600",children:"Write Sectors:"}),d.jsx("div",{className:"font-medium text-gray-800",children:H.sectors_written.toLocaleString()}),d.jsx("div",{className:"text-gray-600",children:"Write Time:"}),d.jsxs("div",{className:"font-medium text-gray-800",children:[H.write_time_ms.toLocaleString()," ms"]})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-white rounded-lg p-3 border border-emerald-100",children:[d.jsx("h5",{className:"text-sm font-medium text-emerald-700 mb-2",children:"Discard Operations"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[d.jsx("div",{className:"text-gray-600",children:"Completed Discards:"}),d.jsx("div",{className:"font-medium text-gray-800",children:H.discards_completed.toLocaleString()}),d.jsx("div",{className:"text-gray-600",children:"Merged Discards:"}),d.jsx("div",{className:"font-medium text-gray-800",children:H.discards_merged.toLocaleString()}),d.jsx("div",{className:"text-gray-600",children:"Discarded Sectors:"}),d.jsx("div",{className:"font-medium text-gray-800",children:H.sectors_discarded.toLocaleString()}),d.jsx("div",{className:"text-gray-600",children:"Discard Time:"}),d.jsxs("div",{className:"font-medium text-gray-800",children:[H.discard_time_ms.toLocaleString()," ms"]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg p-3 border border-emerald-100",children:[d.jsx("h5",{className:"text-sm font-medium text-emerald-700 mb-2",children:"Other Information"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[d.jsx("div",{className:"text-gray-600",children:"IO in Progress:"}),d.jsx("div",{className:"font-medium text-gray-800",children:H.ios_in_progress}),d.jsx("div",{className:"text-gray-600",children:"IO Time:"}),d.jsxs("div",{className:"font-medium text-gray-800",children:[H.io_time_ms.toLocaleString()," ms"]}),d.jsx("div",{className:"text-gray-600",children:"Weighted IO Time:"}),d.jsxs("div",{className:"font-medium text-gray-800",children:[H.io_time_weighted_ms.toLocaleString()," ms"]}),d.jsx("div",{className:"text-gray-600",children:"Timestamp:"}),d.jsx("div",{className:"font-medium text-gray-800",children:new Date(H.timestamp).toLocaleString()})]})]})]})]})]},ae))})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[d.jsx("span",{className:"bg-amber-100 text-amber-800 p-1.5 rounded-md mr-2",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide",children:[d.jsx("path",{d:"M2 12h2"}),d.jsx("rect",{x:"6",y:"8",width:"12",height:"8",rx:"2"}),d.jsx("path",{d:"M20 12h2"})]})}),"Block Device Information"]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(fz=w[O].system_process.block_info)==null?void 0:fz.map((H,ae)=>d.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 rounded-lg border border-amber-100 overflow-hidden",children:[d.jsx("div",{className:"bg-amber-100 p-2 border-b border-amber-200",children:d.jsx("h4",{className:"font-medium text-amber-800",children:H.name})}),d.jsxs("div",{className:"p-3 space-y-2 text-sm",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{className:"text-gray-500",children:"Size:"}),d.jsx("div",{children:H.size||d.jsx("span",{className:"text-gray-400",children:"-"})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{className:"text-gray-500",children:"Model:"}),d.jsx("div",{children:H.model||d.jsx("span",{className:"text-gray-400",children:"-"})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{className:"text-gray-500",children:"Rotational:"}),d.jsx("div",{children:H.rota?"Yes":"No"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{className:"text-gray-500",children:"Mount Point:"}),d.jsx("div",{children:H.mountpoint||d.jsx("span",{className:"text-gray-400",children:"-"})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{className:"text-gray-500",children:"Timestamp:"}),d.jsx("div",{className:"text-xs",children:new Date(H.timestamp).toLocaleString()})]})]})]},ae))})]})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border rounded-md bg-slate-50",children:[d.jsx(lm,{className:"h-12 w-12 mb-4 text-gray-400"}),d.jsx("p",{className:"text-lg font-medium mb-2 text-gray-600",children:e(v?"noSystemData":"noDeviceSelected")}),d.jsx("p",{className:"text-gray-500 text-center",children:e(v?"systemDataError":"enterIpForSystem")})]})})]})}),d.jsxs(Yr,{value:"realtime",children:[d.jsxs(Xe,{children:[d.jsxs(dt,{children:[d.jsxs(ht,{className:"flex justify-between items-center",children:[d.jsx("span",{children:"Real-Time Telemetry"}),d.jsx(Fe,{onClick:j1,disabled:se||tt.length===0,className:"bg-blue-600 hover:bg-blue-700 text-white",children:se?d.jsxs(d.Fragment,{children:[d.jsx(Kt,{className:"h-4 w-4 animate-spin mr-2"}),d.jsx("span",{children:"Processing..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Qd,{className:"h-4 w-4 mr-2"}),d.jsx("span",{children:"Fetch Real-Time Telemetry"})]})})]}),d.jsx(rn,{children:"Select devices to fetch real-time telemetry data. You can select multiple devices across different cards."})]}),d.jsxs(Je,{children:[d.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ep,{id:"select-all",checked:Re,onCheckedChange:ks}),d.jsx("label",{htmlFor:"select-all",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:Re?"Deselect All":"Select All"})]}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:[tt.length," of ",Te.length," devices selected"]}),d.jsx(Fe,{variant:"outline",size:"sm",onClick:dr,disabled:It,children:It?d.jsx(Kt,{className:"h-4 w-4 animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(mo,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:"Refresh Devices"})]})})]}),It?d.jsxs("div",{className:"flex justify-center items-center h-[400px]",children:[d.jsx(Kt,{className:"h-8 w-8 animate-spin mr-2"}),d.jsx("span",{children:"Loading devices..."})]}):Te.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border rounded-md bg-slate-50",children:[d.jsx(z5,{className:"h-12 w-12 mb-4 text-gray-400"}),d.jsx("p",{className:"text-lg font-medium mb-2 text-gray-600",children:"No devices found"}),d.jsx("p",{className:"text-gray-500 text-center",children:"No devices have been discovered yet. Use the Refresh button to fetch the available devices."})]}):d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Te.map(H=>{const ae=tt.includes(H.ip_address),de=ne[H.ip_address];return d.jsxs("div",{className:`rounded-lg border bg-card text-card-foreground shadow-sm overflow-hidden ${ae?"ring-2 ring-blue-500":""}`,children:[d.jsxs("div",{className:"p-4 border-b bg-muted/40",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"font-medium",children:H.hostname||"—"}),d.jsx(ep,{checked:ae,onCheckedChange:()=>ia(H.ip_address)})]}),d.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:H.ip_address})]}),d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1 text-sm",children:[d.jsx("div",{className:"text-muted-foreground",children:"Vendor:"}),d.jsx("div",{className:"break-words pr-1",children:H.vendor_hw||"—"}),d.jsx("div",{className:"text-muted-foreground",children:"Model:"}),d.jsx("div",{className:"break-words pr-1",children:H.hw_sku||"—"}),d.jsx("div",{className:"text-muted-foreground",children:"OS:"}),d.jsx("div",{className:"break-words pr-1",children:H.vendor_sw||"—"})]}),de&&d.jsxs("div",{className:`mt-3 p-2 rounded-md text-sm flex flex-col ${de.success?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[d.jsxs("div",{className:"flex items-center mb-1",children:[de.success?d.jsx(c_e,{className:"h-4 w-4 mr-2 flex-shrink-0"}):d.jsx(Px,{className:"h-4 w-4 mr-2 flex-shrink-0"}),d.jsx("span",{className:"break-words",children:de.message})]}),d.jsx("div",{className:"text-xs opacity-80 ml-6",children:de.timestamp})]})]})]},H.ip_address)})})]})]}),d.jsxs(Xe,{className:"mt-6",children:[d.jsxs(dt,{children:[d.jsx(ht,{children:"Latest Telemetry Status"}),d.jsx(rn,{children:"Telemetry fetch history records"})]}),d.jsx(Je,{children:mg?d.jsxs("div",{className:"flex items-center justify-center py-4",children:[d.jsx(Kt,{className:"h-5 w-5 animate-spin mr-2"}),d.jsx("span",{children:"Loading status..."})]}):hn&&Array.isArray(hn)&&hn.length>0?d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"border rounded-md overflow-hidden",children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{children:[d.jsx(ie,{children:"IP Address"}),d.jsx(ie,{children:"Hostname"}),d.jsx(ie,{children:"OS Version"}),d.jsx(ie,{children:"Hardware"}),d.jsx(ie,{children:"Status"}),d.jsx(ie,{children:"Last Updated"})]})}),d.jsx(Qr,{children:hn.slice((Tl-1)*Zs,Tl*Zs).map((H,ae)=>d.jsxs(nt,{children:[d.jsx(te,{children:H.ip_address||"—"}),d.jsx(te,{children:H.hostname||"—"}),d.jsx(te,{className:"break-words max-w-[200px]",children:H.vendor_sw||"—"}),d.jsx(te,{children:H.hw_sku||"—"}),d.jsx(te,{children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`h-2 w-2 rounded-full mr-2 ${H.fetch_status==="success"?"bg-green-500":"bg-red-500"}`}),d.jsx("span",{children:H.fetch_status})]})}),d.jsx(te,{className:"pr-4",children:H.fetch_time?new Date(H.fetch_time).toLocaleString():"—"})]},ae))})]})}),hn.length>Zs&&d.jsxs("div",{className:"flex items-center justify-between py-4",children:[d.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",d.jsx("span",{className:"font-medium",children:Math.min((Tl-1)*Zs+1,hn.length)})," to"," ",d.jsx("span",{className:"font-medium",children:Math.min(Tl*Zs,hn.length)})," of"," ",d.jsx("span",{className:"font-medium",children:hn.length})," records"]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Fe,{variant:"outline",size:"sm",onClick:()=>Xs(H=>Math.max(H-1,1)),disabled:Tl===1,children:"Previous"}),d.jsx(Fe,{variant:"outline",size:"sm",onClick:()=>Xs(H=>Math.min(H+1,Math.ceil(hn.length/Zs))),disabled:Tl===Math.ceil(hn.length/Zs),children:"Next"})]})]})]}):d.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No telemetry status available"})})]})]})]}),d.jsx(ou,{open:bt,onOpenChange:pt,children:d.jsxs(nc,{className:"max-w-4xl",children:[d.jsxs(ic,{children:[d.jsx(ac,{children:"Other Temperature Sensors"}),d.jsx(Qf,{children:"All other temperature sensors data on the device"})]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 mt-4 max-h-[70vh] overflow-y-auto p-1",children:(gz=(pz=F==null?void 0:F.TEMPERATURE_SENSOR_PARSED)==null?void 0:pz.others)==null?void 0:gz.map((H,ae)=>{const de=em(H.temperature,H.threshold||60);return d.jsxs("div",{className:`rounded-lg border p-3 transition-all hover:shadow-md ${de.borderColor}`,children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("h4",{className:"font-medium text-sm text-gray-700",children:H.name}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`h-2 w-2 rounded-full ${de.statusColor} mr-1`}),d.jsx("span",{className:"text-xs text-gray-500",children:de.statusText})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("div",{className:`text-xl font-bold ${de.textColor}`,children:[H.temperature,"°C"]}),H.threshold&&d.jsxs("div",{className:"text-xs text-gray-500",children:["/ ",H.threshold,"°C"]})]}),d.jsx(md,{value:de.percentage,className:"h-1 mt-2",indicatorClassName:de.progressColor})]},ae)})}),d.jsx(lu,{children:d.jsx(Fe,{variant:"outline",onClick:()=>pt(!1),children:"Close"})})]})})]})},nK=[{value:"bps",label:"bps (比特/秒)"},{value:"Bps",label:"Bps (字节/秒)"},{value:"pps",label:"pps (包/秒)"},{value:"%",label:"% (百分比)"},{value:"packets",label:"packets (包数)"},{value:"bytes",label:"bytes (字节)"},{value:"count",label:"count (计数)"},{value:"C",label:"C (摄氏度)"},{value:"W",label:"W (瓦特)"},{value:"V",label:"V (伏特)"},{value:"A",label:"A (安培)"},{value:"dBm",label:"dBm (分贝毫瓦)"},{value:"ms",label:"ms (毫秒)"},{value:"s",label:"s (秒)"}],yZe=({initialMappings:e=[],onSave:t})=>{const[r,n]=A.useState(e),[i,a]=A.useState(""),[s,o]=A.useState(!1),[l,c]=A.useState(!1),[u,h]=A.useState("table"),[f,p]=A.useState(!1),[g,v]=A.useState("json"),[m,y]=A.useState({id:"",gnmiPath:"",prometheusMetric:"",unit:"bps",description:""});A.useEffect(()=>{const I=localStorage.getItem("gnmi_path_mappings");if(I)try{n(JSON.parse(I))}catch(P){console.error("Failed to parse saved mappings:",P),n(e)}else n(e)},[e]);const x=r.filter(I=>I.gnmiPath.toLowerCase().includes(i.toLowerCase())||I.prometheusMetric.toLowerCase().includes(i.toLowerCase())||I.description.toLowerCase().includes(i.toLowerCase())),_=()=>{y({id:`mapping-${Date.now()}`,gnmiPath:"",prometheusMetric:"",unit:"bps",description:""}),o(!0)},b=I=>{y({...I}),c(!0)},w=I=>{if(confirm("确定要删除此映射吗？")){const P=r.filter(D=>D.id!==I);n(P),p(!0),localStorage.setItem("gnmi_path_mappings",JSON.stringify(P)),t&&t(P)}},S=()=>{if(!m.gnmiPath||!m.prometheusMetric){alert("gNMI路径和Prometheus指标名为必填项");return}const I=[...r,m];n(I),o(!1),p(!0),localStorage.setItem("gnmi_path_mappings",JSON.stringify(I)),t&&t(I)},k=()=>{if(!m.gnmiPath||!m.prometheusMetric){alert("gNMI路径和Prometheus指标名为必填项");return}const I=r.map(P=>P.id===m.id?m:P);n(I),c(!1),p(!0),localStorage.setItem("gnmi_path_mappings",JSON.stringify(I)),t&&t(I)},C=()=>{const I=JSON.stringify(r,null,2),P=new Blob([I],{type:"application/json"}),D=URL.createObjectURL(P),$=document.createElement("a");$.href=D,$.download="gnmi-path-mappings.json",document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(D)},E=()=>{function I(O){const j=[];return Array.isArray(O)?O.forEach(M=>{typeof M=="object"&&M!==null?(j.push("-"),Object.keys(M).forEach(R=>{const z=M[R];typeof z=="object"&&z!==null?(j.push(`  ${R}:`),I(z).split(`
`).forEach(F=>{F&&j.push(`    ${F}`)})):j.push(`  ${R}: ${z}`)})):j.push(`- ${M}`)}):typeof O=="object"&&O!==null&&Object.keys(O).forEach(M=>{const R=O[M];typeof R=="object"&&R!==null?(j.push(`${M}:`),I(R).split(`
`).forEach(U=>{U&&j.push(`  ${U}`)})):j.push(`${M}: ${R}`)}),j.join(`
`)}const P=I(r),D=new Blob([P],{type:"text/yaml"}),$=URL.createObjectURL(D),L=document.createElement("a");L.href=$,L.download="gnmi-path-mappings.yaml",document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL($)},T=()=>{const I=[{id:"sample-1",gnmiPath:"/interface[name=*]/statistics/in-octets",prometheusMetric:"gnmic_interface_statistics_in_octets",unit:"bps",description:"端口入方向带宽"},{id:"sample-2",gnmiPath:"/interface[name=*]/statistics/out-octets",prometheusMetric:"gnmic_interface_statistics_out_octets",unit:"bps",description:"端口出方向带宽"},{id:"sample-3",gnmiPath:"/interface[name=*]/statistics/in-pkts",prometheusMetric:"gnmic_interface_statistics_in_pkts",unit:"pps",description:"端口入方向包速率"},{id:"sample-4",gnmiPath:"/interface[name=*]/statistics/out-pkts",prometheusMetric:"gnmic_interface_statistics_out_pkts",unit:"pps",description:"端口出方向包速率"},{id:"sample-5",gnmiPath:"/platform/control[slot=*]/cpu[index=*]/total",prometheusMetric:"gnmic_platform_control_cpu_total_usage",unit:"%",description:"CPU总利用率"},{id:"sample-6",gnmiPath:"/platform/control[slot=*]/memory/used-percentage",prometheusMetric:"gnmic_platform_control_memory_used_percentage",unit:"%",description:"内存利用率"}];n(I),p(!0),localStorage.setItem("gnmi_path_mappings",JSON.stringify(I)),t&&t(I)},N=()=>g==="json"?JSON.stringify(r,null,2):r.map(I=>`- id: ${I.id}
  gnmiPath: ${I.gnmiPath}
  prometheusMetric: ${I.prometheusMetric}
  unit: ${I.unit}
  description: ${I.description}`).join(`

`);return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-2xl font-bold",children:"gNMI路径指标映射表"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Fe,{variant:"outline",onClick:T,children:"生成示例数据"}),d.jsxs(Fe,{variant:"outline",onClick:C,children:[d.jsx(cc,{className:"h-4 w-4 mr-2"}),"导出JSON"]}),d.jsxs(Fe,{variant:"outline",onClick:E,children:[d.jsx(cc,{className:"h-4 w-4 mr-2"}),"导出YAML"]})]})]}),d.jsxs(u0,{value:u,onValueChange:h,children:[d.jsxs(d0,{children:[d.jsx(qr,{value:"table",children:"表格视图"}),d.jsx(qr,{value:"code",children:"代码视图"})]}),d.jsxs(Yr,{value:"table",className:"mt-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("div",{className:"relative w-80",children:[d.jsx(li,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),d.jsx(cr,{placeholder:"搜索路径、指标名或描述...",value:i,onChange:I=>a(I.target.value),className:"pl-8"}),i&&d.jsx("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>a(""),children:d.jsx(Ua,{className:"h-4 w-4"})})]}),d.jsxs(Fe,{onClick:_,children:[d.jsx(Eee,{className:"h-4 w-4 mr-2"}),"新增映射"]})]}),d.jsx(Xe,{children:d.jsx(Je,{className:"p-0",children:d.jsxs(Zr,{children:[d.jsx(Jr,{children:d.jsxs(nt,{children:[d.jsx(ie,{children:"gNMI 路径"}),d.jsx(ie,{children:"Prometheus 指标名"}),d.jsx(ie,{children:"单位"}),d.jsx(ie,{children:"备注"}),d.jsx(ie,{className:"w-24",children:"操作"})]})}),d.jsx(Qr,{children:x.length===0?d.jsx(nt,{children:d.jsx(te,{colSpan:5,className:"text-center py-4",children:i?"没有找到匹配的映射":"暂无映射数据，请添加"})}):x.map(I=>d.jsxs(nt,{children:[d.jsx(te,{className:"font-mono text-sm",children:I.gnmiPath}),d.jsx(te,{className:"font-mono text-sm",children:I.prometheusMetric}),d.jsx(te,{children:I.unit}),d.jsx(te,{children:I.description}),d.jsx(te,{children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Fe,{variant:"ghost",size:"icon",onClick:()=>b(I),children:d.jsx(C_e,{className:"h-4 w-4"})}),d.jsx(Fe,{variant:"ghost",size:"icon",onClick:()=>w(I.id),children:d.jsx(A_e,{className:"h-4 w-4 text-red-500"})})]})})]},I.id))})]})})})]}),d.jsxs(Yr,{value:"code",className:"mt-4",children:[d.jsxs("div",{className:"mb-4 flex justify-between",children:[d.jsxs("div",{children:[d.jsx(Fe,{variant:g==="json"?"default":"outline",onClick:()=>v("json"),className:"mr-2",children:"JSON"}),d.jsx(Fe,{variant:g==="yaml"?"default":"outline",onClick:()=>v("yaml"),children:"YAML"})]}),d.jsxs(Fe,{variant:"outline",onClick:g==="json"?C:E,children:[d.jsx(cc,{className:"h-4 w-4 mr-2"}),"导出",g.toUpperCase()]})]}),d.jsx("div",{className:"relative",children:d.jsx("pre",{className:"bg-gray-100 p-4 rounded-md overflow-auto font-mono text-sm max-h-[500px]",children:N()})})]})]}),d.jsx(ou,{open:s,onOpenChange:o,children:d.jsxs(nc,{children:[d.jsx(ic,{children:d.jsx(ac,{children:"新增gNMI路径映射"})}),d.jsxs("div",{className:"grid gap-4 py-4",children:[d.jsxs("div",{className:"grid gap-2",children:[d.jsx(fa,{htmlFor:"gnmi-path",children:"gNMI路径"}),d.jsx(cr,{id:"gnmi-path",placeholder:"/interface[name=*]/statistics/in-octets",value:m.gnmiPath,onChange:I=>y({...m,gnmiPath:I.target.value})})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(fa,{htmlFor:"prometheus-metric",children:"Prometheus指标名"}),d.jsx(cr,{id:"prometheus-metric",placeholder:"gnmic_interface_statistics_in_octets",value:m.prometheusMetric,onChange:I=>y({...m,prometheusMetric:I.target.value})})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(fa,{htmlFor:"unit",children:"单位"}),d.jsxs(cn,{value:m.unit,onValueChange:I=>y({...m,unit:I}),children:[d.jsx(nn,{children:d.jsx(un,{placeholder:"选择单位"})}),d.jsx(an,{children:nK.map(I=>d.jsx(qe,{value:I.value,children:I.label},I.value))})]})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(fa,{htmlFor:"description",children:"备注"}),d.jsx(cr,{id:"description",placeholder:"描述该指标的用途",value:m.description,onChange:I=>y({...m,description:I.target.value})})]})]}),d.jsxs(lu,{children:[d.jsx(Fe,{variant:"outline",onClick:()=>o(!1),children:"取消"}),d.jsx(Fe,{onClick:S,children:"保存"})]})]})}),d.jsx(ou,{open:l,onOpenChange:c,children:d.jsxs(nc,{children:[d.jsx(ic,{children:d.jsx(ac,{children:"编辑gNMI路径映射"})}),d.jsxs("div",{className:"grid gap-4 py-4",children:[d.jsxs("div",{className:"grid gap-2",children:[d.jsx(fa,{htmlFor:"edit-gnmi-path",children:"gNMI路径"}),d.jsx(cr,{id:"edit-gnmi-path",value:m.gnmiPath,onChange:I=>y({...m,gnmiPath:I.target.value})})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(fa,{htmlFor:"edit-prometheus-metric",children:"Prometheus指标名"}),d.jsx(cr,{id:"edit-prometheus-metric",value:m.prometheusMetric,onChange:I=>y({...m,prometheusMetric:I.target.value})})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(fa,{htmlFor:"edit-unit",children:"单位"}),d.jsxs(cn,{value:m.unit,onValueChange:I=>y({...m,unit:I}),children:[d.jsx(nn,{children:d.jsx(un,{placeholder:"选择单位"})}),d.jsx(an,{children:nK.map(I=>d.jsx(qe,{value:I.value,children:I.label},I.value))})]})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(fa,{htmlFor:"edit-description",children:"备注"}),d.jsx(cr,{id:"edit-description",value:m.description,onChange:I=>y({...m,description:I.target.value})})]})]}),d.jsxs(lu,{children:[d.jsx(Fe,{variant:"outline",onClick:()=>c(!1),children:"取消"}),d.jsx(Fe,{onClick:k,children:"保存"})]})]})})]})},xZe=()=>{var k,C;const[e,t]=A.useState([]),[r,n]=A.useState(!0),[i,a]=A.useState(null),[s,o]=A.useState(""),[l,c]=A.useState(""),[u,h]=A.useState(!1),[f,p]=A.useState(null),[g,v]=A.useState(!1),{user:m}=YB(),y=dA(),x=((k=m==null?void 0:m.email)==null?void 0:k.endsWith("@admin.com"))||(m==null?void 0:m.email)==="admin@example.com"||((C=m==null?void 0:m.app_metadata)==null?void 0:C.role)==="admin";A.useEffect(()=>{if(!x){a("您没有权限访问用户管理页面"),n(!1);return}_()},[x]);const _=async()=>{if(!y){a("Supabase 客户端未初始化"),n(!1);return}n(!0);try{const{data:E,error:T}=await y.functions.invoke("admin-get-users",{body:{offset:0,limit:100}});if(T)throw T;t(E||[])}catch(E){console.error("获取用户列表失败:",E),a("获取用户列表失败: "+(E instanceof Error?E.message:String(E)))}finally{n(!1)}},b=async E=>{if(E.preventDefault(),!y){p("Supabase 客户端未初始化");return}if(!s||!l){p("请输入邮箱和密码");return}h(!0),p(null),v(!1);try{const{data:T,error:N}=await y.functions.invoke("admin-create-user",{body:{email:s,password:l,email_confirm:!0}});if(N)throw N;v(!0),o(""),c(""),await _()}catch(T){console.error("创建用户失败:",T),p("创建用户失败: "+(T instanceof Error?T.message:String(T)))}finally{h(!1)}},w=async(E,T)=>{if(!y){a("Supabase 客户端未初始化");return}try{const{error:N}=await y.functions.invoke("admin-update-user",{body:{id:E,banned:!T}});if(N)throw N;await _()}catch(N){console.error("更新用户状态失败:",N),a("更新用户状态失败: "+(N instanceof Error?N.message:String(N)))}},S=async E=>{if(!y){a("Supabase 客户端未初始化");return}if(confirm("确定要删除此用户吗？此操作不可撤销。"))try{const{error:T}=await y.functions.invoke("admin-delete-user",{body:{id:E}});if(T)throw T;await _()}catch(T){console.error("删除用户失败:",T),a("删除用户失败: "+(T instanceof Error?T.message:String(T)))}};return x?d.jsxs("div",{className:"container mx-auto px-4 py-6",children:[d.jsx("h1",{className:"text-2xl font-bold mb-6",children:"用户管理"}),d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"创建新用户"}),d.jsxs("form",{onSubmit:b,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"电子邮箱"}),d.jsx("input",{id:"email",type:"email",value:s,onChange:E=>o(E.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm",placeholder:"user@example.com",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"密码"}),d.jsx("input",{id:"password",type:"password",value:l,onChange:E=>c(E.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm",placeholder:"请输入8位以上密码",required:!0})]}),f&&d.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 text-sm text-red-700",children:f}),g&&d.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 text-sm text-green-700",children:"用户创建成功！"}),d.jsx("button",{type:"submit",disabled:u,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:u?"创建中...":"创建用户"})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[d.jsx("h2",{className:"text-xl font-semibold p-6 border-b",children:"用户列表"}),i&&d.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 m-6 text-sm text-red-700",children:i}),r?d.jsx("div",{className:"flex justify-center items-center p-12",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"邮箱"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"创建时间"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"上次登录"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"状态"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length>0?e.map(E=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.email}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(E.created_at).toLocaleString()}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.last_sign_in_at?new Date(E.last_sign_in_at).toLocaleString():"从未登录"}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${E.is_confirmed?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:E.is_confirmed?"已启用":"已禁用"})}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[d.jsx("button",{onClick:()=>w(E.id,E.is_confirmed),className:"text-blue-600 hover:text-blue-900 mr-4",children:E.is_confirmed?"禁用":"启用"}),d.jsx("button",{onClick:()=>S(E.id),className:"text-red-600 hover:text-red-900",children:"删除"})]})]},E.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"暂无用户数据"})})})]})})]})]}):d.jsxs("div",{className:"p-6 bg-red-50 border-l-4 border-red-400 text-red-700",children:[d.jsx("h2",{className:"text-lg font-bold mb-2",children:"无权访问"}),d.jsx("p",{children:"您没有权限访问管理页面。请联系系统管理员。"})]})};function VO(e){const t=_Ze(e),r=A.forwardRef((n,i)=>{const{children:a,...s}=n,o=A.Children.toArray(a),l=o.find(wZe);if(l){const c=l.props.children,u=o.map(h=>h===l?A.Children.count(c)>1?A.Children.only(null):A.isValidElement(c)?c.props.children:null:h);return d.jsx(t,{...s,ref:i,children:A.isValidElement(c)?A.cloneElement(c,void 0,u):null})}return d.jsx(t,{...s,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function _Ze(e){const t=A.forwardRef((r,n)=>{const{children:i,...a}=r,s=A.isValidElement(i)?CZe(i):void 0,o=sr(s,n);if(A.isValidElement(i)){const l=SZe(a,i.props);return i.type!==A.Fragment&&(l.ref=o),A.cloneElement(i,l)}return A.Children.count(i)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var bZe=Symbol("radix.slottable");function wZe(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===bZe}function SZe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{const l=a(...o);return i(...o),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function CZe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var kZe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],P0=kZe.reduce((e,t)=>{const r=VO(`Primitive.${t}`),n=A.forwardRef((i,a)=>{const{asChild:s,...o}=i,l=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...o,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function EZe(e){const t=e+"CollectionProvider",[r,n]=Ys(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=v=>{const{scope:m,children:y}=v,x=en.useRef(null),_=en.useRef(new Map).current;return d.jsx(i,{scope:m,itemMap:_,collectionRef:x,children:y})};s.displayName=t;const o=e+"CollectionSlot",l=VO(o),c=en.forwardRef((v,m)=>{const{scope:y,children:x}=v,_=a(o,y),b=sr(m,_.collectionRef);return d.jsx(l,{ref:b,children:x})});c.displayName=o;const u=e+"CollectionItemSlot",h="data-radix-collection-item",f=VO(u),p=en.forwardRef((v,m)=>{const{scope:y,children:x,..._}=v,b=en.useRef(null),w=sr(m,b),S=a(u,y);return en.useEffect(()=>(S.itemMap.set(b,{ref:b,..._}),()=>void S.itemMap.delete(b))),d.jsx(f,{[h]:"",ref:w,children:x})});p.displayName=u;function g(v){const m=a(e+"CollectionConsumer",v);return en.useCallback(()=>{const x=m.collectionRef.current;if(!x)return[];const _=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(m.itemMap.values()).sort((S,k)=>_.indexOf(S.ref.current)-_.indexOf(k.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:s,Slot:c,ItemSlot:p},g,n]}var TZe=IN[" useInsertionEffect ".trim().toString()]||Fn;function Ihe({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,a,s]=NZe({defaultProp:t,onChange:r}),o=e!==void 0,l=o?e:i;{const u=A.useRef(e!==void 0);A.useEffect(()=>{const h=u.current;h!==o&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=o},[o,n])}const c=A.useCallback(u=>{var h;if(o){const f=AZe(u)?u(e):u;f!==e&&((h=s.current)==null||h.call(s,f))}else a(u)},[o,e,a,s]);return[l,c]}function NZe({defaultProp:e,onChange:t}){const[r,n]=A.useState(e),i=A.useRef(r),a=A.useRef(t);return TZe(()=>{a.current=t},[t]),A.useEffect(()=>{var s;i.current!==r&&((s=a.current)==null||s.call(a,r),i.current=r)},[r,i]),[r,n,a]}function AZe(e){return typeof e=="function"}var gM="rovingFocusGroup.onEntryFocus",jZe={bubbles:!1,cancelable:!0},h1="RovingFocusGroup",[WO,Mhe,RZe]=EZe(h1),[IZe,Phe]=Ys(h1,[RZe]),[MZe,PZe]=IZe(h1),Lhe=A.forwardRef((e,t)=>d.jsx(WO.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx(WO.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(LZe,{...e,ref:t})})}));Lhe.displayName=h1;var LZe=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=e,f=A.useRef(null),p=sr(t,f),g=K2(a),[v,m]=Ihe({prop:s,defaultProp:o??null,onChange:l,caller:h1}),[y,x]=A.useState(!1),_=xi(c),b=Mhe(r),w=A.useRef(!1),[S,k]=A.useState(0);return A.useEffect(()=>{const C=f.current;if(C)return C.addEventListener(gM,_),()=>C.removeEventListener(gM,_)},[_]),d.jsx(MZe,{scope:r,orientation:n,dir:g,loop:i,currentTabStopId:v,onItemFocus:A.useCallback(C=>m(C),[m]),onItemShiftTab:A.useCallback(()=>x(!0),[]),onFocusableItemAdd:A.useCallback(()=>k(C=>C+1),[]),onFocusableItemRemove:A.useCallback(()=>k(C=>C-1),[]),children:d.jsx(P0.div,{tabIndex:y||S===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:Ut(e.onMouseDown,()=>{w.current=!0}),onFocus:Ut(e.onFocus,C=>{const E=!w.current;if(C.target===C.currentTarget&&E&&!y){const T=new CustomEvent(gM,jZe);if(C.currentTarget.dispatchEvent(T),!T.defaultPrevented){const N=b().filter(L=>L.focusable),I=N.find(L=>L.active),P=N.find(L=>L.id===v),$=[I,P,...N].filter(Boolean).map(L=>L.ref.current);$he($,u)}}w.current=!1}),onBlur:Ut(e.onBlur,()=>x(!1))})})}),Dhe="RovingFocusGroupItem",Ohe=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:s,...o}=e,l=ah(),c=a||l,u=PZe(Dhe,r),h=u.currentTabStopId===c,f=Mhe(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:v}=u;return A.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),d.jsx(WO.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:d.jsx(P0.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:Ut(e.onMouseDown,m=>{n?u.onItemFocus(c):m.preventDefault()}),onFocus:Ut(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Ut(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){u.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const y=$Ze(m,u.orientation,u.dir);if(y!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let _=f().filter(b=>b.focusable).map(b=>b.ref.current);if(y==="last")_.reverse();else if(y==="prev"||y==="next"){y==="prev"&&_.reverse();const b=_.indexOf(m.currentTarget);_=u.loop?BZe(_,b+1):_.slice(b+1)}setTimeout(()=>$he(_))}}),children:typeof s=="function"?s({isCurrentTabStop:h,hasTabStop:v!=null}):s})})});Ohe.displayName=Dhe;var DZe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function OZe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function $Ze(e,t,r){const n=OZe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return DZe[n]}function $he(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function BZe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var FZe=Lhe,zZe=Ohe;function UZe(e,t){return A.useReducer((r,n)=>t[r][n]??r,e)}var Bhe=e=>{const{present:t,children:r}=e,n=HZe(t),i=typeof r=="function"?r({present:n.isPresent}):A.Children.only(r),a=sr(n.ref,VZe(i));return typeof r=="function"||n.isPresent?A.cloneElement(i,{ref:a}):null};Bhe.displayName="Presence";function HZe(e){const[t,r]=A.useState(),n=A.useRef(null),i=A.useRef(e),a=A.useRef("none"),s=e?"mounted":"unmounted",[o,l]=UZe(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const c=HC(n.current);a.current=o==="mounted"?c:"none"},[o]),Fn(()=>{const c=n.current,u=i.current;if(u!==e){const f=a.current,p=HC(c);e?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Fn(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,h=p=>{const v=HC(n.current).includes(p.animationName);if(p.target===t&&v&&(l("ANIMATION_END"),!i.current)){const m=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=m)})}},f=p=>{p.target===t&&(a.current=HC(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:A.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function HC(e){return(e==null?void 0:e.animationName)||"none"}function VZe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var aF="Radio",[WZe,Fhe]=Ys(aF),[GZe,qZe]=WZe(aF),zhe=A.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:a,disabled:s,value:o="on",onCheck:l,form:c,...u}=e,[h,f]=A.useState(null),p=sr(t,m=>f(m)),g=A.useRef(!1),v=h?c||!!h.closest("form"):!0;return d.jsxs(GZe,{scope:r,checked:i,disabled:s,children:[d.jsx(P0.button,{type:"button",role:"radio","aria-checked":i,"data-state":Whe(i),"data-disabled":s?"":void 0,disabled:s,value:o,...u,ref:p,onClick:Ut(e.onClick,m=>{i||l==null||l(),v&&(g.current=m.isPropagationStopped(),g.current||m.stopPropagation())})}),v&&d.jsx(Vhe,{control:h,bubbles:!g.current,name:n,value:o,checked:i,required:a,disabled:s,form:c,style:{transform:"translateX(-100%)"}})]})});zhe.displayName=aF;var Uhe="RadioIndicator",Hhe=A.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...i}=e,a=qZe(Uhe,r);return d.jsx(Bhe,{present:n||a.checked,children:d.jsx(P0.span,{"data-state":Whe(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})})});Hhe.displayName=Uhe;var YZe="RadioBubbleInput",Vhe=A.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...i},a)=>{const s=A.useRef(null),o=sr(s,a),l=jB(r),c=Q2(t);return A.useEffect(()=>{const u=s.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==r&&p){const g=new Event("click",{bubbles:n});p.call(u,r),u.dispatchEvent(g)}},[l,r,n]),d.jsx(P0.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:o,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Vhe.displayName=YZe;function Whe(e){return e?"checked":"unchecked"}var KZe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],vA="RadioGroup",[XZe,kvt]=Ys(vA,[Phe,Fhe]),Ghe=Phe(),qhe=Fhe(),[ZZe,JZe]=XZe(vA),Yhe=A.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:a,required:s=!1,disabled:o=!1,orientation:l,dir:c,loop:u=!0,onValueChange:h,...f}=e,p=Ghe(r),g=K2(c),[v,m]=Ihe({prop:a,defaultProp:i??null,onChange:h,caller:vA});return d.jsx(ZZe,{scope:r,name:n,required:s,disabled:o,value:v,onValueChange:m,children:d.jsx(FZe,{asChild:!0,...p,orientation:l,dir:g,loop:u,children:d.jsx(P0.div,{role:"radiogroup","aria-required":s,"aria-orientation":l,"data-disabled":o?"":void 0,dir:g,...f,ref:t})})})});Yhe.displayName=vA;var Khe="RadioGroupItem",Xhe=A.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...i}=e,a=JZe(Khe,r),s=a.disabled||n,o=Ghe(r),l=qhe(r),c=A.useRef(null),u=sr(t,c),h=a.value===i.value,f=A.useRef(!1);return A.useEffect(()=>{const p=v=>{KZe.includes(v.key)&&(f.current=!0)},g=()=>f.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),d.jsx(zZe,{asChild:!0,...o,focusable:!s,active:h,children:d.jsx(zhe,{disabled:s,required:a.required,checked:h,...l,...i,name:a.name,ref:u,onCheck:()=>a.onValueChange(i.value),onKeyDown:Ut(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:Ut(i.onFocus,()=>{var p;f.current&&((p=c.current)==null||p.click())})})})});Xhe.displayName=Khe;var QZe="RadioGroupIndicator",Zhe=A.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,i=qhe(r);return d.jsx(Hhe,{...i,...n,ref:t})});Zhe.displayName=QZe;var Jhe=Yhe,Qhe=Xhe,eJe=Zhe;const sF=A.forwardRef(({className:e,...t},r)=>d.jsx(Jhe,{className:nr("grid gap-2",e),...t,ref:r}));sF.displayName=Jhe.displayName;const ew=A.forwardRef(({className:e,...t},r)=>d.jsx(Qhe,{ref:r,className:nr("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:d.jsx(eJe,{className:"flex items-center justify-center",children:d.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-current"})})}));ew.displayName=Qhe.displayName;function GO(){return GO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GO.apply(null,arguments)}function tJe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rJe=A.useLayoutEffect,nJe=function(t){var r=en.useRef(t);return rJe(function(){r.current=t}),r},iK=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},iJe=function(t,r){var n=en.useRef();return en.useCallback(function(i){t.current=i,n.current&&iK(n.current,null),n.current=r,r&&iK(r,i)},[r])},aK={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},aJe=function(t){Object.keys(aK).forEach(function(r){t.style.setProperty(r,aK[r],"important")})},sK=aJe,Na=null,oK=function(t,r){var n=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?n+r.borderSize:n-r.paddingSize};function sJe(e,t,r,n){r===void 0&&(r=1),n===void 0&&(n=1/0),Na||(Na=document.createElement("textarea"),Na.setAttribute("tabindex","-1"),Na.setAttribute("aria-hidden","true"),sK(Na)),Na.parentNode===null&&document.body.appendChild(Na);var i=e.paddingSize,a=e.borderSize,s=e.sizingStyle,o=s.boxSizing;Object.keys(s).forEach(function(f){var p=f;Na.style[p]=s[p]}),sK(Na),Na.value=t;var l=oK(Na,e);Na.value=t,l=oK(Na,e),Na.value="x";var c=Na.scrollHeight-i,u=c*r;o==="border-box"&&(u=u+i+a),l=Math.max(u,l);var h=c*n;return o==="border-box"&&(h=h+i+a),l=Math.min(h,l),[l,c]}var lK=function(){},oJe=function(t,r){return t.reduce(function(n,i){return n[i]=r[i],n},{})},lJe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],cJe=!!document.documentElement.currentStyle,uJe=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var n=oJe(lJe,r),i=n.boxSizing;if(i==="")return null;cJe&&i==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var a=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),s=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:a,borderSize:s}},dJe=uJe;function oF(e,t,r){var n=nJe(r);A.useLayoutEffect(function(){var i=function(s){return n.current(s)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var hJe=function(t,r){oF(document.body,"reset",function(n){t.current.form===n.target&&r(n)})},fJe=function(t){oF(window,"resize",t)},pJe=function(t){oF(document.fonts,"loadingdone",t)},gJe=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],mJe=function(t,r){var n=t.cacheMeasurements,i=t.maxRows,a=t.minRows,s=t.onChange,o=s===void 0?lK:s,l=t.onHeightChange,c=l===void 0?lK:l,u=tJe(t,gJe),h=u.value!==void 0,f=A.useRef(null),p=iJe(f,r),g=A.useRef(0),v=A.useRef(),m=function(){var _=f.current,b=n&&v.current?v.current:dJe(_);if(b){v.current=b;var w=sJe(b,_.value||_.placeholder||"x",a,i),S=w[0],k=w[1];g.current!==S&&(g.current=S,_.style.setProperty("height",S+"px","important"),c(S,{rowHeight:k}))}},y=function(_){h||m(),o(_)};return A.useLayoutEffect(m),hJe(f,function(){if(!h){var x=f.current.value;requestAnimationFrame(function(){var _=f.current;_&&x!==_.value&&m()})}}),fJe(m),pJe(m),A.createElement("textarea",GO({},u,{onChange:y,ref:p}))},efe=A.forwardRef(mJe);const vJe=[{id:"1",title:"配置OSPF邻居",timestamp:"2023-11-01T10:30:00",active:!0},{id:"2",title:"BGP策略配置",timestamp:"2023-10-25T14:15:00",active:!1},{id:"3",title:"VLAN创建与分配",timestamp:"2023-10-20T09:45:00",active:!1}],cK=[{id:"1",role:"user",content:"在两台Cisco设备之间配置OSPF，确保邻居关系建立",timestamp:"2023-11-01T10:30:00"},{id:"2",role:"assistant",content:`我将帮你配置两台Cisco设备之间的OSPF邻居关系。请注意以下几点：

1. 确保两台设备之间有物理连接
2. IP地址在同一网段
3. OSPF区域相同
4. 验证命令可以检查邻居状态

请按步骤执行命令。`,timestamp:"2023-11-01T10:30:30"}],VC=[{id:1,description:"进入设备全局配置模式",command:"configure terminal",isVisible:!1},{id:2,description:"配置OSPF进程",command:"router ospf 1",isVisible:!1},{id:3,description:"配置接口IP地址（假设使用GigabitEthernet0/0）",command:`interface GigabitEthernet0/0
ip address 192.168.1.1 255.255.255.0
no shutdown
exit`,isVisible:!1},{id:4,description:"将接口加入OSPF区域0",command:`router ospf 1
network 192.168.1.0 0.0.0.255 area 0`,isVisible:!1},{id:5,description:"验证OSPF邻居状态",command:"show ip ospf neighbor",isVisible:!1}],uK=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():"session_"+Date.now()+"_"+Math.random().toString(36).substring(2,15),yJe=()=>{const e=[{id:"1",ip_address:"192.168.1.1",ip:"192.168.1.1",hostname:"ROUTER-CORE-01",vendor:"Cisco",os:"IOS-XE 17.3",role:"Core Router"},{id:"2",ip_address:"192.168.1.2",ip:"192.168.1.2",hostname:"SWITCH-DIST-01",vendor:"Arista",os:"EOS 4.25.0F",role:"Distribution Switch"},{id:"3",ip_address:"192.168.1.3",ip:"192.168.1.3",hostname:"ROUTER-EDGE-01",vendor:"Juniper",os:"JunOS 20.3R1",role:"Edge Router"},{id:"4",ip_address:"192.168.1.4",ip:"192.168.1.4",hostname:"SWITCH-ACCESS-01",vendor:"Cisco",os:"IOS-XE 16.9",role:"Access Switch"},{id:"5",ip_address:"192.168.1.5",ip:"192.168.1.5",hostname:"FIREWALL-01",vendor:"Palo Alto",os:"PAN-OS 10.0",role:"Firewall"}],[t,r]=A.useState(e),[n,i]=A.useState(vJe),[a,s]=A.useState(cK),[o,l]=A.useState(VC),[c,u]=A.useState(""),[h,f]=A.useState(null),[p,g]=A.useState(""),[v,m]=A.useState(""),[y,x]=A.useState(!1),[_,b]=A.useState(!1),[w,S]=A.useState(null),[k,C]=A.useState("sparse"),[E,T]=A.useState(!1),[N,I]=A.useState(()=>{const oe=localStorage.getItem("olaola_session_id");if(oe)return oe;const be=uK();return localStorage.setItem("olaola_session_id",be),be}),[P,D]=A.useState([]),[$,L]=A.useState([]),[O,j]=A.useState({}),[M,R]=A.useState([]),[z,U]=A.useState(!1),[F,G]=A.useState(null),[q,K]=A.useState(!1),[B,W]=A.useState(null),[Y,Z]=A.useState(!1),[Q,re]=A.useState([]),[me,Ee]=A.useState(""),[Ne,Me]=A.useState(""),[Ae,Ie]=A.useState(!0),[bt,pt]=A.useState([]),fe=A.useRef(null),et=A.useRef(null),He=async()=>{var oe,be,Ye;b(!0),console.log("开始获取设备列表...");try{console.log("请求设备列表...");const ur=await $t.get("/webhook/api/network-devices");if(console.log("API响应数据:",ur.data),ur.data&&ur.data.status==="success")if(console.log("响应状态成功，检查data字段:",ur.data.data),Array.isArray(ur.data.data)){console.log(`找到${ur.data.data.length}个设备`);const Gn=ur.data.data.map((br,Pn)=>({id:Pn.toString(),ip_address:br.ip_address,ip:br.ip_address,hostname:br.hostname||`Device-${Pn}`,vendor:br.vendor_hw||"Unknown",os:br.vendor_sw||"Unknown",role:"Network Device",hw_sku:br.hw_sku,vendor_hw:br.vendor_hw,vendor_sw:br.vendor_sw}));r(Gn),console.log("设备数据已格式化:",Gn)}else console.error("API响应的data字段不是数组:",ur.data.data),console.log("使用现有模拟数据");else console.error("API响应状态不是success:",(oe=ur.data)==null?void 0:oe.status),console.log("使用现有模拟数据")}catch(ur){console.error("获取设备失败:",ur);let Gn="获取设备数据时出现未知错误";ur.response?(console.error("HTTP错误响应:",ur.response.status,ur.response.data),ur.response.status===500?Gn="服务器内部错误，请联系管理员":Gn=`服务器错误 (${ur.response.status}): ${((Ye=(be=ur.response)==null?void 0:be.data)==null?void 0:Ye.reason)||ur.message}`):ur.request?(console.error("未收到响应:",ur.request),Gn="服务器未响应，请检查网络连接"):(console.error("请求配置错误:",ur.message),Gn=`请求错误: ${ur.message}`),console.error("错误信息:",Gn)}finally{b(!1)}};A.useEffect(()=>{He()},[]),A.useEffect(()=>{J()},[]),A.useEffect(()=>{fe.current&&(fe.current.scrollIntoView({block:"end"}),setTimeout(()=>{fe.current&&fe.current.scrollIntoView({block:"end"})},100))},[a]),A.useEffect(()=>{et.current&&o.some(oe=>oe.isVisible)&&et.current.scrollIntoView({behavior:"smooth"})},[o]);const Gt=()=>{const oe={id:`session-${Date.now()}`,title:"新会话",timestamp:new Date().toISOString(),active:!0};i(Ye=>[...Ye.map(ur=>({...ur,active:!1})),oe]),m(""),s([]),l(VC.map(Ye=>({...Ye,isVisible:!1}))),u(""),D([]),L([]),j({}),U(!1),G(null),K(!1),W(null),Z(!1),re([]),Ee(""),Me(""),Ie(!1),pt([]);const be=uK();localStorage.setItem("olaola_session_id",be),I(be)},tt=oe=>{i(be=>be.map(Ye=>({...Ye,active:Ye.id===oe}))),oe==="1"?(s(cK),l(VC.map((be,Ye)=>({...be,isVisible:Ye<3})))):(s([]),l(VC.map(be=>({...be,isVisible:!1})))),u(""),D([]),L([]),j({}),U(!1),G(null),K(!1)},ee=async oe=>{if(h)try{const be={sessionId:N,action:"sendMessage",chatInput:oe,device:{ip:h.ip_address||h.ip,vendor:h.vendor_hw||h.vendor,os:h.vendor_sw||h.os,hostname:h.hostname},intent:oe,mode:k==="strict"?"严格":"宽松"};console.log("发送请求到OlaOla Orchestrator, 完整请求体:",JSON.stringify(be,null,2));const Ye=await $t.post("/webhook/olaola/orchestrator",be,{headers:{"Content-Type":"application/json"}});if(console.log("API响应:",Ye.data),x(!1),Ye.data){let ur=[],Gn="",br=[],Pn=[],ka={},ks=null,ia=!1;if(Ye.data[0]){const dr=Ye.data[0];if(G(dr),dr.next_step||dr.possible_intents||dr.warning?(console.log("检测到交互式问答模式"),ia=!0,ks={next_step:dr.next_step,possible_intents:dr.possible_intents,warning:dr.warning,response:dr.response},W(ks),Z(!0),dr.possible_intents&&re(dr.possible_intents),dr.warning&&Ee(dr.warning)):(Z(!1),W(null),re([]),Ee("")),dr.intent&&(console.log("处理API返回的意图:",dr.intent),Gn=dr.intent,u(Gn)),dr.additional_checks&&Array.isArray(dr.additional_checks)&&(console.log("处理API返回的附加检查项:",dr.additional_checks),br=dr.additional_checks.map(hn=>({description:hn})),D(br)),dr.success_criteria&&Array.isArray(dr.success_criteria)&&(console.log("处理API返回的成功标准:",dr.success_criteria),Pn=dr.success_criteria.map(hn=>({description:hn})),L(Pn)),dr.troubleshooting&&(console.log("处理API返回的故障排除信息:",dr.troubleshooting),ka={no_neighbor:dr.troubleshooting.no_neighbor,no_routes:dr.troubleshooting.no_routes},j(ka)),dr.steps&&Array.isArray(dr.steps)&&(console.log("处理API返回的步骤:",dr.steps),ur=dr.steps.map((hn,Ks)=>({id:hn.step||Ks+1,description:hn.description||`步骤 ${Ks+1}`,command:hn.cli||"",isVisible:!0})),l(ur)),!ia&&Gn){const hn={id:`config-${Date.now()}`,intent:Gn,steps:ur,additional_checks:br,success_criteria:Pn,troubleshooting:ka,rawData:dr};se(hn),R(Ks=>[...Ks,hn])}}return{response:ia?(ks==null?void 0:ks.response)||"请提供更多信息":`我将帮你解决"${oe}"。

以下是针对${h.hostname} (${h.ip_address||h.ip})的配置步骤。${p?`

与目标设备 ${p} 的交互配置已包含。`:""}

请按顺序执行以下命令:`,steps:ur,intent:Gn,additional_checks:br,success_criteria:Pn,troubleshooting:ka,isInteractive:ia,question:ks,rawData:Ye.data[0]}}return null}catch(be){return console.error("API请求失败:",be),null}},se=oe=>{try{const be=localStorage.getItem("olaola_saved_configs");let Ye=[];be&&(Ye=JSON.parse(be)),Ye.push(oe),Ye.length>20&&(Ye=Ye.slice(-20)),localStorage.setItem("olaola_saved_configs",JSON.stringify(Ye)),console.log("配置已保存到本地存储:",oe.intent)}catch(be){console.error("保存配置到localStorage失败:",be)}},J=()=>{try{const oe=localStorage.getItem("olaola_saved_configs");if(oe){const be=JSON.parse(oe);R(be),console.log("从本地存储加载了",be.length,"个配置")}}catch(oe){console.error("从localStorage加载配置失败:",oe)}},ne=(oe,be)=>{if(!oe||!be)return"";let Ye="";return oe.toLowerCase().includes("ospf")?Ye=`OSPF配置(${be.hostname||be.ip_address})`:oe.toLowerCase().includes("bgp")?Ye=`BGP配置(${be.hostname||be.ip_address})`:oe.toLowerCase().includes("route")?Ye=`路由配置(${be.hostname||be.ip_address})`:oe.toLowerCase().includes("interface")?Ye=`接口配置(${be.hostname||be.ip_address})`:Ye=`网络配置(${be.hostname||be.ip_address})`,Ye},le=(oe,be)=>{const Ye=[];return oe.toLowerCase().includes("ospf")?be?(Ye.push("验证OSPF邻居状态"),Ye.push("检查OSPF数据库"),Ye.push("排查OSPF邻居未建立的原因")):(Ye.push("如何配置OSPF认证?"),Ye.push("OSPF区域类型有哪些区别?")):oe.toLowerCase().includes("bgp")?be?(Ye.push("验证BGP邻居状态"),Ye.push("检查BGP路由"),Ye.push("如何应用BGP路由策略?")):(Ye.push("BGP如何实现负载均衡?"),Ye.push("如何配置BGP社区属性?")):be&&(Ye.push("如何验证配置是否生效?"),Ye.push("保存配置到启动配置"),Ye.push("有什么常见故障排除方法?")),Ye},Re=async oe=>{var ur,Gn;if(!h||!oe.trim())return;x(!0);const be=new Date().toISOString();let Ye=Ne;!Ye&&h&&(Ye=ne(oe,h),Me(Ye)),s(br=>[...br,{id:`msg-${Date.now()}`,role:"user",content:oe,timestamp:be,context:Ye,relatedToTask:!0}]),m("");try{const br=await ee(oe);let Pn="",ka=!1;if(br){br.isInteractive?Pn=((ur=br.question)==null?void 0:ur.response)||((Gn=br.question)==null?void 0:Gn.next_step)||"请提供更多信息，以便我为您提供更准确的解决方案":(Pn=br.response||`我将帮你解决"${oe}"。

以下是针对${h.hostname} (${h.ip_address||h.ip})的配置步骤。${p?`

与目标设备 ${p} 的交互配置已包含。`:""}

请按顺序执行以下命令:`,ka=br.steps&&br.steps.length>0);const ia=le(br.intent||oe,ka);if(pt(ia),br.intent&&h){const dr=ne(br.intent,h);dr&&Me(dr)}}else Pn=`我将帮你解决"${oe}"。

以下是针对${h.hostname} (${h.ip_address||h.ip})的配置步骤。${p?`

与目标设备 ${p} 的交互配置已包含。`:""}

请按顺序执行以下命令:`,setTimeout(()=>{const ia=ze(h,oe,p);ia.forEach((dr,hn)=>{setTimeout(()=>{if(l(Ks=>[...Ks,dr]),hn===ia.length-1){x(!1);const Ks=le(oe,!0);pt(Ks)}},300+hn*500)})},800);const ks={id:`msg-${Date.now()+1}`,role:"assistant",content:Pn,timestamp:new Date().toISOString(),context:Ye,relatedToTask:!0,suggestions:br?le(br.intent||oe,ka):[]};s(ia=>[...ia,ks]),Ie(!0),setTimeout(()=>{fe.current&&fe.current.scrollIntoView({block:"end"})},100)}catch(br){console.error("处理请求时出错:",br),x(!1);const Pn={id:`msg-${Date.now()+2}`,role:"assistant",content:"抱歉，处理您的请求时出现错误。请稍后再试。",timestamp:new Date().toISOString(),context:Ye,relatedToTask:!0};s(ka=>[...ka,Pn])}},ze=(oe,be,Ye)=>be.toLowerCase().includes("ospf")?[{id:1,description:"进入配置模式",command:"configure terminal",isVisible:!0},{id:2,description:"配置OSPF进程",command:"router ospf 1",isVisible:!0},{id:3,description:"配置路由器ID",command:`router-id ${oe.ip_address||oe.ip}`,isVisible:!0},{id:4,description:"宣告网络",command:`network ${oe.ip_address||oe.ip} 0.0.0.0 area 0`,isVisible:!0},{id:5,description:"配置接口",command:"interface GigabitEthernet0/0",isVisible:!0},{id:6,description:"启用OSPF认证",command:"ip ospf authentication message-digest",isVisible:!0},{id:7,description:"配置OSPF密钥",command:"ip ospf message-digest-key 1 md5 OlaOla@2024",isVisible:!0}]:be.toLowerCase().includes("bgp")?[{id:1,description:"进入配置模式",command:"configure terminal",isVisible:!0},{id:2,description:"配置BGP进程",command:"router bgp 65001",isVisible:!0},{id:3,description:"配置路由器ID",command:`bgp router-id ${oe.ip_address||oe.ip}`,isVisible:!0},{id:4,description:"配置邻居关系",command:`neighbor ${Ye||"192.168.1.254"} remote-as 65002`,isVisible:!0},{id:5,description:"配置更新源",command:`neighbor ${Ye||"192.168.1.254"} update-source loopback0`,isVisible:!0},{id:6,description:"激活IPv4单播地址族",command:"address-family ipv4 unicast",isVisible:!0},{id:7,description:"激活邻居",command:`neighbor ${Ye||"192.168.1.254"} activate`,isVisible:!0}]:[{id:1,description:"进入配置模式",command:"configure terminal",isVisible:!0},{id:2,description:"配置接口",command:"interface GigabitEthernet0/0",isVisible:!0},{id:3,description:"配置IP地址",command:`ip address ${oe.ip_address||oe.ip} 255.255.255.0`,isVisible:!0},{id:4,description:"启用接口",command:"no shutdown",isVisible:!0},{id:5,description:"配置描述信息",command:`description Connected to ${Ye||"Network"}`,isVisible:!0},{id:6,description:"保存配置",command:`end
write memory`,isVisible:!0}],Te=(oe,be)=>{navigator.clipboard.writeText(oe),S(be),setTimeout(()=>S(null),2e3)},Dt=oe=>{E||oe.key==="Enter"&&!oe.shiftKey&&(oe.preventDefault(),Re(v))},It=oe=>{m(oe.target.value)},gr=oe=>{oe&&(u(oe.intent),l(oe.steps),D(oe.additional_checks),L(oe.success_criteria),j(oe.troubleshooting),U(!0),oe.rawData&&G(oe.rawData),et.current&&et.current.scrollIntoView({behavior:"smooth",block:"start"}))},Mt=()=>{U(oe=>!oe)},qt=()=>{K(oe=>!oe)},on=()=>{W(null),Z(!1),re([]),Ee("")},Di=oe=>{m(oe);const be=document.querySelector("textarea");be&&be.focus()},it=oe=>{m(oe);const be=document.querySelector("textarea");be&&be.focus()};return d.jsx(Ed,{children:d.jsxs("div",{className:"flex h-full overflow-hidden bg-white",children:[d.jsxs("div",{className:"w-64 flex-shrink-0 bg-gray-50 border-r border-gray-200 flex flex-col",children:[d.jsxs("div",{className:"p-4 border-b border-gray-200",children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[d.jsx($a,{className:"mr-2 h-5 w-5 text-blue-500"}),"OlaOla Copilot"]})}),d.jsxs(Fe,{onClick:Gt,className:"w-full flex items-center justify-center",children:[d.jsx(Eee,{className:"h-4 w-4 mr-2"}),"新对话"]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-2",children:[n.length>0&&d.jsxs("div",{className:"mb-3",children:[d.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase pl-3 mb-1",children:"对话历史"}),n.map(oe=>d.jsx("div",{className:`p-3 mb-2 rounded-lg cursor-pointer transition-colors ${oe.active?"bg-blue-100 text-blue-900 border border-blue-200":"hover:bg-gray-100 text-gray-800"}`,onClick:()=>tt(oe.id),children:d.jsxs("div",{className:"flex items-start",children:[d.jsx($a,{className:"h-4 w-4 mt-1 mr-2 flex-shrink-0"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-medium truncate",children:oe.title}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(oe.timestamp).toLocaleDateString()})]})]})},oe.id))]}),M.length>0&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase pl-3 mb-1 mt-3",children:"保存的配置"}),M.map(oe=>d.jsx("div",{className:"p-3 mb-2 rounded-lg cursor-pointer transition-colors hover:bg-green-50 text-gray-800 border border-gray-100",onClick:()=>gr(oe),children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"h-4 w-4 mt-1 mr-2 flex-shrink-0 text-green-500",children:"💾"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-medium truncate",children:oe.intent}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[oe.steps.length,"个步骤 • ",new Date(parseInt(oe.id.split("-")[1])).toLocaleDateString()]})]})]})},oe.id))]})]})]}),d.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[d.jsxs("div",{className:"p-4 border-b border-gray-200 bg-white shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"选择设备"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(cn,{onValueChange:oe=>{const be=t.find(Ye=>Ye.id===oe||Ye.ip_address===oe);be&&f(be)},children:[d.jsx(nn,{className:"w-full",children:d.jsx(un,{placeholder:"选择网络设备"})}),d.jsx(an,{children:t.length>0?t.map((oe,be)=>d.jsxs(qe,{value:oe.id||oe.ip_address,children:[oe.hostname||"Unknown"," (",oe.ip_address||oe.ip,")"]},oe.id||oe.ip_address||be)):d.jsx("div",{className:"p-2 text-center text-gray-500",children:"没有找到设备。请刷新设备列表。"})})]}),d.jsx(Fe,{variant:"outline",size:"icon",onClick:He,disabled:_,children:_?d.jsx(Kt,{className:"h-4 w-4 animate-spin"}):d.jsx(mo,{className:"h-4 w-4"})})]})]}),t.length===0&&!_&&d.jsx("p",{className:"mt-1 text-xs text-orange-500",children:"未能获取设备列表。已加载模拟数据，或尝试刷新。"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"对端设备 IP（可选）"}),d.jsx(cr,{value:p,onChange:oe=>g(oe.target.value),placeholder:"输入对端设备 IP"})]})]}),h&&d.jsx("div",{className:"p-3 bg-blue-50 rounded-md",children:d.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-sm",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"font-medium text-gray-600 mr-1",children:"主机名:"}),d.jsx("span",{className:"text-blue-700",children:h.hostname})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"font-medium text-gray-600 mr-1",children:"IP:"}),d.jsx("span",{className:"text-blue-700",children:h.ip_address||h.ip})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"font-medium text-gray-600 mr-1",children:"厂商:"}),d.jsx("span",{className:"text-blue-700",children:h.vendor_hw||h.vendor})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"font-medium text-gray-600 mr-1",children:"硬件型号:"}),d.jsx("span",{className:"text-blue-700",children:h.hw_sku||"未知"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"font-medium text-gray-600 mr-1",children:"系统:"}),d.jsx("span",{className:"text-blue-700",children:h.vendor_sw||h.os})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"font-medium text-gray-600 mr-1",children:"角色:"}),d.jsx(Ce,{variant:"outline",className:"bg-white",children:h.role})]})]})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50",children:[d.jsxs("div",{className:"space-y-4",children:[Y&&B&&d.jsxs("div",{className:"mb-4 animate-fadeIn",children:[B.next_step&&d.jsx(Xe,{className:"mb-3 border-l-4 border-l-blue-500",children:d.jsxs(Je,{className:"p-4",children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx(Ce,{variant:"outline",className:"bg-blue-100 text-blue-800 mr-2",children:"后端询问"}),d.jsx("h3",{className:"font-medium text-gray-800",children:"请提供更多信息"})]}),d.jsx("p",{className:"text-gray-700 mb-3 whitespace-pre-line",children:B.next_step}),B.response&&d.jsx("div",{className:"bg-blue-50 p-3 rounded-md mt-2",children:d.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:B.response})})]})}),Q&&Q.length>0&&d.jsx(Xe,{className:"mb-3 border-l-4 border-l-green-500",children:d.jsxs(Je,{className:"p-4",children:[d.jsxs("div",{className:"flex items-center mb-3",children:[d.jsx(Ce,{variant:"outline",className:"bg-green-100 text-green-800 mr-2",children:"可选意图"}),d.jsx("h3",{className:"font-medium text-gray-800",children:"请选择您要执行的操作"})]}),d.jsx("div",{className:"grid grid-cols-1 gap-2",children:Q.map((oe,be)=>d.jsxs(Fe,{variant:"outline",className:"justify-start bg-white hover:bg-green-50 border-green-200",onClick:()=>Di(typeof oe=="string"?oe:JSON.stringify(oe)),children:[d.jsxs("span",{className:"text-green-600 mr-2",children:[be+1,"."]}),d.jsx("span",{className:"text-gray-800 text-left",children:typeof oe=="string"?oe:JSON.stringify(oe)})]},be))})]})}),me&&d.jsx(Xe,{className:"mb-3 border-l-4 border-l-yellow-500",children:d.jsxs(Je,{className:"p-4",children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx(Ce,{variant:"outline",className:"bg-yellow-100 text-yellow-800 mr-2",children:"注意"}),d.jsx("h3",{className:"font-medium text-gray-800",children:"系统提示"})]}),d.jsx("p",{className:"text-yellow-700",children:me})]})}),d.jsx("div",{className:"flex justify-end mt-2",children:d.jsx(Fe,{variant:"outline",size:"sm",onClick:on,className:"text-xs",children:"清除交互提示"})})]}),o.filter(oe=>oe.isVisible).length>0&&!Y&&d.jsxs("div",{className:"mb-4",children:[d.jsx(Xe,{children:d.jsx(Je,{className:"p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Ce,{variant:"outline",className:"bg-blue-100 text-blue-800 mr-2",children:"意图"}),d.jsx("h3",{className:"font-medium text-gray-800",children:c||(o.length>0&&o.filter(oe=>oe.isVisible)[0].description.includes("进入")?"配置命令":o.filter(oe=>oe.isVisible)[0].description)})]}),d.jsxs("div",{className:"flex gap-2",children:[F&&d.jsx(Fe,{variant:"outline",size:"sm",onClick:qt,className:"text-xs",children:q?"隐藏原始数据":"显示原始数据"}),d.jsx(Fe,{variant:"outline",size:"sm",onClick:Mt,className:"text-xs",children:z?"隐藏详情":"显示详情"})]})]})})}),q&&F&&d.jsx("div",{className:"mt-2 animate-fadeIn",children:d.jsx(Xe,{className:"border-l-4 border-l-purple-400",children:d.jsxs(Je,{className:"p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h4",{className:"font-medium text-gray-800",children:"API原始响应数据"}),d.jsx(Ce,{variant:"outline",className:"bg-purple-100 text-purple-800",children:"开发参考"})]}),d.jsx("div",{className:"bg-gray-800 text-gray-100 p-4 rounded-md overflow-auto max-h-96",children:d.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap break-words",children:JSON.stringify(F,null,2)})})]})})}),z&&!Y&&d.jsxs("div",{className:"mt-2 animate-fadeIn",children:[P.length>0&&d.jsx(Xe,{className:"mb-3 border-l-4 border-l-yellow-400",children:d.jsxs(Je,{className:"p-4",children:[d.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"附加检查项"}),d.jsx("ul",{className:"space-y-2",children:P.map((oe,be)=>d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-yellow-500 mr-2",children:"•"}),d.jsx("span",{className:"text-sm text-gray-700",children:oe.description})]},be))})]})}),$.length>0&&d.jsx(Xe,{className:"mb-3 border-l-4 border-l-green-400",children:d.jsxs(Je,{className:"p-4",children:[d.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"成功标准"}),d.jsx("ul",{className:"space-y-2",children:$.map((oe,be)=>d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),d.jsx("span",{className:"text-sm text-gray-700",children:oe.description})]},be))})]})}),(O.no_neighbor||O.no_routes)&&d.jsx(Xe,{className:"mb-3 border-l-4 border-l-red-400",children:d.jsxs(Je,{className:"p-4",children:[d.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"故障排除"}),O.no_neighbor&&d.jsxs("div",{className:"mb-3",children:[d.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-1",children:"邻居关系未建立:"}),d.jsx("p",{className:"text-sm text-gray-600 pl-4",children:O.no_neighbor})]}),O.no_routes&&d.jsxs("div",{children:[d.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-1",children:"路由未生成:"}),d.jsx("p",{className:"text-sm text-gray-600 pl-4",children:O.no_routes})]})]})}),F&&d.jsx(d.Fragment,{children:Object.entries(F).map(([oe,be])=>["intent","steps","additional_checks","success_criteria","troubleshooting","next_step","possible_intents","warning","response"].includes(oe)||Array.isArray(be)&&be.length===0||be==null||typeof be=="object"&&Object.keys(be).length===0?null:d.jsx(Xe,{className:"mb-3 border-l-4 border-l-blue-400",children:d.jsxs(Je,{className:"p-4",children:[d.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:oe.charAt(0).toUpperCase()+oe.slice(1).replace(/_/g," ")}),d.jsx("div",{className:"pl-4",children:typeof be=="string"?d.jsx("p",{className:"text-sm text-gray-700",children:be}):Array.isArray(be)?d.jsx("ul",{className:"space-y-2",children:be.map((Ye,ur)=>d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-blue-500 mr-2",children:"•"}),d.jsx("span",{className:"text-sm text-gray-700",children:typeof Ye=="object"?JSON.stringify(Ye):String(Ye)})]},ur))}):typeof be=="object"?d.jsx("pre",{className:"text-xs font-mono bg-gray-100 p-2 rounded-md overflow-auto max-h-32 whitespace-pre-wrap break-words",children:JSON.stringify(be,null,2)}):d.jsx("p",{className:"text-sm text-gray-700",children:String(be)})})]})},oe))})]})]}),o.filter(oe=>oe.isVisible).map(oe=>d.jsx("div",{className:"animate-fadeIn",children:d.jsx(Xe,{children:d.jsxs(Je,{className:"p-4",children:[d.jsx("div",{className:"flex items-center justify-between mb-2",children:d.jsxs("div",{className:"flex items-center",children:[d.jsxs(Ce,{variant:"outline",className:"bg-blue-50 mr-2",children:["步骤 ",oe.id]}),d.jsx("h3",{className:"font-medium text-gray-800",children:oe.description})]})}),d.jsxs("div",{className:"relative mt-2",children:[d.jsx("pre",{className:"bg-gray-100 p-3 rounded-md font-mono text-sm overflow-x-auto whitespace-pre-wrap",children:oe.command}),d.jsx("div",{className:"absolute top-2 right-2",children:d.jsxs(Qo,{children:[d.jsx(el,{asChild:!0,children:d.jsx(Fe,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>Te(oe.command,oe.id),children:w===oe.id?d.jsx(Mw,{className:"h-4 w-4 text-green-500"}):d.jsx(kee,{className:"h-4 w-4"})})}),d.jsx(xo,{children:w===oe.id?"已复制!":"复制到剪贴板"})]})})]})]})})},oe.id)),d.jsx("div",{ref:et})]}),o.every(oe=>!oe.isVisible)&&!y&&d.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[d.jsx(o_e,{className:"h-12 w-12 mb-4 text-gray-300"}),d.jsx("p",{className:"mb-2 text-lg font-medium",children:"尚未生成命令步骤"}),d.jsx("p",{className:"text-sm text-center max-w-md",children:"选择设备并在右侧输入你的意图以生成配置命令步骤"})]}),y&&d.jsx("div",{className:"flex justify-center py-8",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx(Kt,{className:"h-8 w-8 animate-spin text-blue-500 mb-2"}),d.jsx("p",{className:"text-gray-500",children:"正在等待设备响应，请稍候..."})]})})]})]}),d.jsxs("div",{className:"w-96 flex-shrink-0 bg-white border-l border-gray-200 flex flex-col",children:[d.jsxs("div",{className:"p-4 border-b border-gray-200",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"对话内容"}),Ne&&d.jsx("div",{className:"flex items-center mt-1",children:d.jsx(Ce,{variant:"outline",className:"bg-blue-50 text-blue-700",children:Ne})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col",children:a.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[d.jsx($a,{className:"h-12 w-12 mb-4 text-gray-300"}),d.jsx("p",{className:"text-center",children:"没有对话记录。选择设备并输入你想要完成的任务开始对话。"})]}):d.jsxs("div",{className:"space-y-4 flex-1",children:[a.map((oe,be)=>d.jsxs("div",{className:`${oe.role==="user"?"bg-blue-100 border-blue-200":"bg-gray-100 border-gray-200"} p-3 rounded-lg border animate-fadeIn`,children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center mr-2 ${oe.role==="user"?"bg-blue-500":"bg-gray-600"}`,children:oe.role==="user"?d.jsx("span",{className:"text-xs text-white",children:"我"}):d.jsx($a,{className:"w-3 h-3 text-white"})}),d.jsx("p",{className:"text-xs text-gray-500",children:new Date(oe.timestamp).toLocaleTimeString()}),oe.context&&d.jsx(Ce,{variant:"outline",className:"ml-2 text-xs bg-blue-50 text-blue-600",children:oe.context})]}),d.jsx("div",{className:"whitespace-pre-line text-sm",children:oe.content}),oe.role==="assistant"&&oe.suggestions&&oe.suggestions.length>0&&d.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-200",children:[d.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"你可能想问："}),d.jsx("div",{className:"flex flex-wrap gap-2",children:oe.suggestions.map((Ye,ur)=>d.jsx(Ce,{variant:"outline",className:"bg-white hover:bg-blue-50 cursor-pointer py-1 px-2",onClick:()=>it(Ye),children:Ye},ur))})]}),oe.role==="assistant"&&be===a.length-1&&Ae&&d.jsx("div",{className:"mt-2 text-xs text-gray-500 italic",children:d.jsx("p",{children:"您可以继续提问更多细节或尝试其他命令..."})})]},oe.id)),d.jsx("div",{ref:fe,className:"h-1"})]})}),bt.length>0&&d.jsxs("div",{className:"px-4 py-2 border-t border-gray-200 bg-gray-50",children:[d.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"建议的后续问题："}),d.jsx("div",{className:"flex flex-wrap gap-2",children:bt.map((oe,be)=>d.jsx(Fe,{variant:"outline",size:"sm",className:"text-xs bg-white",onClick:()=>it(oe),children:oe},be))})]}),d.jsxs("div",{className:"p-4 border-t border-gray-200",children:[d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1 block",children:"Mode 选择"}),d.jsxs(sF,{defaultValue:"sparse",value:k,onValueChange:oe=>C(oe),className:"flex space-x-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ew,{value:"strict",id:"strict"}),d.jsx("label",{htmlFor:"strict",className:"text-sm cursor-pointer",children:"严格匹配"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ew,{value:"sparse",id:"sparse"}),d.jsx("label",{htmlFor:"sparse",className:"text-sm cursor-pointer",children:"宽松泛化"})]})]})]}),d.jsxs("div",{className:"relative",children:[d.jsxs("div",{className:"relative rounded-md shadow-sm",children:[d.jsx(efe,{value:v,onChange:It,onKeyDown:Dt,onCompositionStart:()=>T(!0),onCompositionEnd:()=>T(!1),placeholder:"描述你想要完成的网络任务...(Shift+Enter换行)",className:"w-full py-2 px-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none overflow-hidden min-h-[40px] text-sm",minRows:1,maxRows:8,disabled:y||!h,style:{paddingRight:"2.5rem"}}),d.jsx("button",{className:`absolute right-2 bottom-2 text-gray-400 hover:text-gray-600 bg-transparent p-1 rounded hover:bg-gray-100 ${!v.trim()||y||!h?"opacity-50 cursor-not-allowed":""}`,onClick:()=>Re(v),disabled:!v.trim()||y||!h,title:"发送 (Enter)",children:y?d.jsx(Kt,{className:"h-5 w-5 animate-spin"}):d.jsx(Nee,{className:"h-5 w-5"})})]}),!h&&d.jsx("p",{className:"text-sm text-red-500 mt-2",children:"请先选择设备以继续"}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex items-center justify-between",children:[d.jsx("span",{children:"Enter 发送，Shift+Enter 换行"}),d.jsxs("span",{className:`${v.length>0?"visible":"invisible"} mr-3`,children:[v.length," 字符"]})]})]})]})]})]})})};function xJe(e){const t=_Je(e),r=A.forwardRef((n,i)=>{const{children:a,...s}=n,o=A.Children.toArray(a),l=o.find(wJe);if(l){const c=l.props.children,u=o.map(h=>h===l?A.Children.count(c)>1?A.Children.only(null):A.isValidElement(c)?c.props.children:null:h);return d.jsx(t,{...s,ref:i,children:A.isValidElement(c)?A.cloneElement(c,void 0,u):null})}return d.jsx(t,{...s,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function _Je(e){const t=A.forwardRef((r,n)=>{const{children:i,...a}=r,s=A.isValidElement(i)?CJe(i):void 0,o=sr(s,n);if(A.isValidElement(i)){const l=SJe(a,i.props);return i.type!==A.Fragment&&(l.ref=o),A.cloneElement(i,l)}return A.Children.count(i)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var bJe=Symbol("radix.slottable");function wJe(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===bJe}function SJe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{const l=a(...o);return i(...o),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function CJe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var kJe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],f1=kJe.reduce((e,t)=>{const r=xJe(`Primitive.${t}`),n=A.forwardRef((i,a)=>{const{asChild:s,...o}=i,l=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...o,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function EJe(e,t){return A.useReducer((r,n)=>t[r][n]??r,e)}var p1=e=>{const{present:t,children:r}=e,n=TJe(t),i=typeof r=="function"?r({present:n.isPresent}):A.Children.only(r),a=sr(n.ref,NJe(i));return typeof r=="function"||n.isPresent?A.cloneElement(i,{ref:a}):null};p1.displayName="Presence";function TJe(e){const[t,r]=A.useState(),n=A.useRef(null),i=A.useRef(e),a=A.useRef("none"),s=e?"mounted":"unmounted",[o,l]=EJe(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const c=WC(n.current);a.current=o==="mounted"?c:"none"},[o]),Fn(()=>{const c=n.current,u=i.current;if(u!==e){const f=a.current,p=WC(c);e?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Fn(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,h=p=>{const v=WC(n.current).includes(p.animationName);if(p.target===t&&v&&(l("ANIMATION_END"),!i.current)){const m=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=m)})}},f=p=>{p.target===t&&(a.current=WC(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:A.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function WC(e){return(e==null?void 0:e.animationName)||"none"}function NJe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function AJe(e,t){return A.useReducer((r,n)=>t[r][n]??r,e)}var lF="ScrollArea",[tfe,Evt]=Ys(lF),[jJe,Oo]=tfe(lF),rfe=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...s}=e,[o,l]=A.useState(null),[c,u]=A.useState(null),[h,f]=A.useState(null),[p,g]=A.useState(null),[v,m]=A.useState(null),[y,x]=A.useState(0),[_,b]=A.useState(0),[w,S]=A.useState(!1),[k,C]=A.useState(!1),E=sr(t,N=>l(N)),T=K2(i);return d.jsx(jJe,{scope:r,type:n,dir:T,scrollHideDelay:a,scrollArea:o,viewport:c,onViewportChange:u,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:w,onScrollbarXEnabledChange:S,scrollbarY:v,onScrollbarYChange:m,scrollbarYEnabled:k,onScrollbarYEnabledChange:C,onCornerWidthChange:x,onCornerHeightChange:b,children:d.jsx(f1.div,{dir:T,...s,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});rfe.displayName=lF;var nfe="ScrollAreaViewport",ife=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:i,...a}=e,s=Oo(nfe,r),o=A.useRef(null),l=sr(t,o,s.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),d.jsx(f1.div,{"data-radix-scroll-area-viewport":"",...a,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:d.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});ife.displayName=nfe;var Ic="ScrollAreaScrollbar",cF=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Oo(Ic,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:s}=i,o=e.orientation==="horizontal";return A.useEffect(()=>(o?a(!0):s(!0),()=>{o?a(!1):s(!1)}),[o,a,s]),i.type==="hover"?d.jsx(RJe,{...n,ref:t,forceMount:r}):i.type==="scroll"?d.jsx(IJe,{...n,ref:t,forceMount:r}):i.type==="auto"?d.jsx(afe,{...n,ref:t,forceMount:r}):i.type==="always"?d.jsx(uF,{...n,ref:t}):null});cF.displayName=Ic;var RJe=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Oo(Ic,e.__scopeScrollArea),[a,s]=A.useState(!1);return A.useEffect(()=>{const o=i.scrollArea;let l=0;if(o){const c=()=>{window.clearTimeout(l),s(!0)},u=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),d.jsx(p1,{present:r||a,children:d.jsx(afe,{"data-state":a?"visible":"hidden",...n,ref:t})})}),IJe=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Oo(Ic,e.__scopeScrollArea),a=e.orientation==="horizontal",s=xA(()=>l("SCROLL_END"),100),[o,l]=AJe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return A.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,i.scrollHideDelay,l]),A.useEffect(()=>{const c=i.viewport,u=a?"scrollLeft":"scrollTop";if(c){let h=c[u];const f=()=>{const p=c[u];h!==p&&(l("SCROLL"),s()),h=p};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[i.viewport,a,l,s]),d.jsx(p1,{present:r||o!=="hidden",children:d.jsx(uF,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ut(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Ut(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),afe=A.forwardRef((e,t)=>{const r=Oo(Ic,e.__scopeScrollArea),{forceMount:n,...i}=e,[a,s]=A.useState(!1),o=e.orientation==="horizontal",l=xA(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;s(o?c:u)}},10);return zv(r.viewport,l),zv(r.content,l),d.jsx(p1,{present:n||a,children:d.jsx(uF,{"data-state":a?"visible":"hidden",...i,ref:t})})}),uF=A.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,i=Oo(Ic,e.__scopeScrollArea),a=A.useRef(null),s=A.useRef(0),[o,l]=A.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=ufe(o.viewport,o.content),u={...n,sizes:o,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:f=>s.current=f};function h(f,p){return $Je(f,s.current,o,p)}return r==="horizontal"?d.jsx(MJe,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const f=i.viewport.scrollLeft,p=dK(f,o,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=h(f,i.dir))}}):r==="vertical"?d.jsx(PJe,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const f=i.viewport.scrollTop,p=dK(f,o);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=h(f))}}):null}),MJe=A.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=Oo(Ic,e.__scopeScrollArea),[s,o]=A.useState(),l=A.useRef(null),c=sr(t,l,a.onScrollbarXChange);return A.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),d.jsx(ofe,{"data-orientation":"horizontal",...i,ref:c,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":yA(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(a.viewport){const f=a.viewport.scrollLeft+u.deltaX;e.onWheelScroll(f),hfe(f,h)&&u.preventDefault()}},onResize:()=>{l.current&&a.viewport&&s&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:nN(s.paddingLeft),paddingEnd:nN(s.paddingRight)}})}})}),PJe=A.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=Oo(Ic,e.__scopeScrollArea),[s,o]=A.useState(),l=A.useRef(null),c=sr(t,l,a.onScrollbarYChange);return A.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),d.jsx(ofe,{"data-orientation":"vertical",...i,ref:c,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":yA(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(a.viewport){const f=a.viewport.scrollTop+u.deltaY;e.onWheelScroll(f),hfe(f,h)&&u.preventDefault()}},onResize:()=>{l.current&&a.viewport&&s&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:nN(s.paddingTop),paddingEnd:nN(s.paddingBottom)}})}})}),[LJe,sfe]=tfe(Ic),ofe=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:s,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:h,...f}=e,p=Oo(Ic,r),[g,v]=A.useState(null),m=sr(t,E=>v(E)),y=A.useRef(null),x=A.useRef(""),_=p.viewport,b=n.content-n.viewport,w=xi(u),S=xi(l),k=xA(h,10);function C(E){if(y.current){const T=E.clientX-y.current.left,N=E.clientY-y.current.top;c({x:T,y:N})}}return A.useEffect(()=>{const E=T=>{const N=T.target;(g==null?void 0:g.contains(N))&&w(T,b)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[_,g,b,w]),A.useEffect(S,[n,S]),zv(g,k),zv(p.content,k),d.jsx(LJe,{scope:r,scrollbar:g,hasThumb:i,onThumbChange:xi(a),onThumbPointerUp:xi(s),onThumbPositionChange:S,onThumbPointerDown:xi(o),children:d.jsx(f1.div,{...f,ref:m,style:{position:"absolute",...f.style},onPointerDown:Ut(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),y.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(E))}),onPointerMove:Ut(e.onPointerMove,C),onPointerUp:Ut(e.onPointerUp,E=>{const T=E.target;T.hasPointerCapture(E.pointerId)&&T.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),rN="ScrollAreaThumb",lfe=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=sfe(rN,e.__scopeScrollArea);return d.jsx(p1,{present:r||i.hasThumb,children:d.jsx(DJe,{ref:t,...n})})}),DJe=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...i}=e,a=Oo(rN,r),s=sfe(rN,r),{onThumbPositionChange:o}=s,l=sr(t,h=>s.onThumbChange(h)),c=A.useRef(void 0),u=xA(()=>{c.current&&(c.current(),c.current=void 0)},100);return A.useEffect(()=>{const h=a.viewport;if(h){const f=()=>{if(u(),!c.current){const p=BJe(h,o);c.current=p,o()}};return o(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[a.viewport,u,o]),d.jsx(f1.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ut(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),g=h.clientX-p.left,v=h.clientY-p.top;s.onThumbPointerDown({x:g,y:v})}),onPointerUp:Ut(e.onPointerUp,s.onThumbPointerUp)})});lfe.displayName=rN;var dF="ScrollAreaCorner",cfe=A.forwardRef((e,t)=>{const r=Oo(dF,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?d.jsx(OJe,{...e,ref:t}):null});cfe.displayName=dF;var OJe=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,i=Oo(dF,r),[a,s]=A.useState(0),[o,l]=A.useState(0),c=!!(a&&o);return zv(i.scrollbarX,()=>{var h;const u=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),zv(i.scrollbarY,()=>{var h;const u=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(u),s(u)}),c?d.jsx(f1.div,{...n,ref:t,style:{width:a,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function nN(e){return e?parseInt(e,10):0}function ufe(e,t){const r=e/t;return isNaN(r)?0:r}function yA(e){const t=ufe(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function $Je(e,t,r,n="ltr"){const i=yA(r),a=i/2,s=t||a,o=i-s,l=r.scrollbar.paddingStart+s,c=r.scrollbar.size-r.scrollbar.paddingEnd-o,u=r.content-r.viewport,h=n==="ltr"?[0,u]:[u*-1,0];return dfe([l,c],h)(e)}function dK(e,t,r="ltr"){const n=yA(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,s=t.content-t.viewport,o=a-n,l=r==="ltr"?[0,s]:[s*-1,0],c=_O(e,l);return dfe([0,s],[0,o])(c)}function dfe(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function hfe(e,t){return e>0&&e<t}var BJe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},s=r.left!==a.left,o=r.top!==a.top;(s||o)&&t(),r=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function xA(e,t){const r=xi(e),n=A.useRef(0);return A.useEffect(()=>()=>window.clearTimeout(n.current),[]),A.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function zv(e,t){const r=xi(t);Fn(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}var ffe=rfe,FJe=ife,zJe=cfe;const g1=A.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(ffe,{ref:n,className:nr("relative overflow-hidden",e),...r,children:[d.jsx(FJe,{className:"h-full w-full rounded-[inherit]",children:t}),d.jsx(pfe,{}),d.jsx(zJe,{})]}));g1.displayName=ffe.displayName;const pfe=A.forwardRef(({className:e,orientation:t="vertical",...r},n)=>d.jsx(cF,{ref:n,orientation:t,className:nr("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 border-t border-t-transparent p-[1px]",e),...r,children:d.jsx(lfe,{className:"relative flex-1 rounded-full bg-slate-200 dark:bg-slate-800"})}));pfe.displayName=cF.displayName;const UJe=({devices:e,selectedDevice:t,isLoadingDevices:r,onSelectDevice:n,onRefreshDevices:i})=>{const[a,s]=A.useState(""),o=A.useMemo(()=>{if(!a.trim())return e;const l=a.toLowerCase();return e.filter(c=>c.hostname&&c.hostname.toLowerCase().includes(l)||c.ip_address.toLowerCase().includes(l)||c.role&&c.role.toLowerCase().includes(l))},[e,a]);return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Network Devices"}),d.jsx(Fe,{variant:"outline",size:"icon",onClick:i,disabled:r,className:"h-8 w-8",children:r?d.jsx(Kt,{className:"h-4 w-4 animate-spin"}):d.jsx(mo,{className:"h-4 w-4"})})]}),d.jsxs("div",{className:"relative mb-2",children:[d.jsx(li,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 h-3.5 w-3.5 text-gray-400"}),d.jsx(cr,{placeholder:"Search Devices...",value:a,onChange:l=>s(l.target.value),className:"pl-8 py-1 h-9 text-sm rounded-md border-slate-200 focus-visible:ring-slate-400"})]}),d.jsxs(cn,{onValueChange:l=>{const c=e.find(u=>u.id===l||u.ip_address===l);c&&n(c)},value:(t==null?void 0:t.id)||(t==null?void 0:t.ip_address),children:[d.jsx(nn,{className:"w-full",children:d.jsx(un,{placeholder:"Select device..."})}),d.jsx(an,{className:"max-h-[300px] w-full",position:"popper",children:d.jsx(g1,{className:"h-[280px] pr-0",children:o.length>0?o.map((l,c)=>d.jsx(Ed,{children:d.jsxs(Qo,{children:[d.jsx(el,{asChild:!0,children:d.jsx(qe,{value:l.id||l.ip_address,className:"pl-2 pr-1 py-0.5 mb-1.5 rounded border-0 hover:border-0 focus:border-0",children:d.jsxs("div",{className:"flex items-center justify-between w-full",children:[d.jsx("div",{className:"truncate min-w-[70px] max-w-[120px] text-sm mr-1",children:l.hostname||"Unknown"}),d.jsx("div",{className:"text-xs text-gray-600 font-mono whitespace-nowrap overflow-visible",children:l.ip_address||l.ip})]})})}),d.jsx(xo,{side:"right",align:"start",className:"bg-white p-2 shadow-lg border z-50",children:d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold",children:l.hostname||"Unknown"}),d.jsx("p",{className:"text-xs font-mono",children:l.ip_address||l.ip}),d.jsxs("p",{className:"text-xs mt-1",children:[l.vendor_hw||l.vendor," | ",l.role]})]})})]})},l.id||l.ip_address||c)):d.jsx("div",{className:"p-2 text-center text-gray-500",children:a?"没有找到匹配的设备":"没有设备"})})})]}),t&&d.jsx(Ed,{children:d.jsx(Xe,{className:"mt-3 overflow-hidden border border-gray-100 rounded-lg shadow-sm bg-white",children:d.jsxs(Je,{className:"p-0",children:[d.jsx("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[d.jsx(z5,{className:"h-4 w-4 text-gray-500 flex-shrink-0"}),d.jsxs(Qo,{children:[d.jsx(el,{asChild:!0,children:d.jsx("h3",{className:"text-sm font-medium truncate text-gray-800",children:t.hostname||"Unknown"})}),d.jsx(xo,{side:"top",children:d.jsx("p",{children:t.hostname||"Unknown"})})]})]}),d.jsx("div",{className:"text-gray-500 text-xs",children:t.ip_address||t.ip})]})}),d.jsx("div",{className:"p-4",children:d.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx(bv,{className:"h-3.5 w-3.5 text-gray-400 mr-1.5 mt-0.5"}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"text-xs text-gray-500 mb-0.5",children:"Vendor"}),d.jsxs(Qo,{children:[d.jsx(el,{asChild:!0,children:d.jsx("div",{className:"text-sm truncate font-medium text-gray-800",children:t.vendor_hw||t.vendor})}),d.jsx(xo,{side:"bottom",children:d.jsx("p",{children:t.vendor_hw||t.vendor})})]})]})]}),d.jsxs("div",{className:"flex items-start",children:[d.jsx(B5,{className:"h-3.5 w-3.5 text-gray-400 mr-1.5 mt-0.5"}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"text-xs text-gray-500 mb-0.5",children:"OS"}),d.jsxs(Qo,{children:[d.jsx(el,{asChild:!0,children:d.jsx("div",{className:"text-sm truncate font-medium text-gray-800",children:t.vendor_sw||t.os})}),d.jsx(xo,{side:"bottom",className:"max-w-[300px]",children:d.jsx("p",{children:t.vendor_sw||t.os})})]})]})]}),d.jsxs("div",{className:"flex items-center col-span-2 mt-1",children:[d.jsx(E_e,{className:"h-3.5 w-3.5 text-gray-400 mr-1.5"}),d.jsx("span",{className:"text-xs text-gray-500 mr-2",children:"Role"}),d.jsx(Ce,{variant:"outline",className:"rounded-full px-2.5 py-0.5 text-xs font-normal bg-blue-50 text-blue-700 border-blue-100",children:t.role})]})]})})]})})})]})},HJe=({sessions:e,onSelectSession:t,onCreateNewSession:r})=>{const[n,i]=en.useState(""),a=e.filter(s=>s.title.toLowerCase().includes(n.toLowerCase()));return d.jsxs("div",{className:"space-y-3 h-full flex flex-col",children:[d.jsxs("div",{className:"relative",children:[d.jsx(li,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx(cr,{placeholder:"Search conversations...",className:"pl-8 border-gray-200 rounded-lg",value:n,onChange:s=>i(s.target.value)})]}),d.jsxs("button",{onClick:r,className:"w-full py-2.5 px-3 rounded-xl bg-gradient-to-br from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 text-blue-700 transition-all text-sm font-medium flex items-center justify-center border border-blue-200 shadow-sm",children:[d.jsx($a,{className:"h-4 w-4 mr-2"}),"New conversation"]}),d.jsx(g1,{className:"flex-1 pr-1",children:d.jsx("div",{className:"space-y-2 pb-2",children:a.length>0?a.map(s=>d.jsx("button",{className:`w-full text-left p-3 rounded-xl transition-all border shadow-sm ${s.active?"bg-gradient-to-br from-blue-50 to-blue-100 text-blue-800 border-blue-200":"hover:bg-gray-50 text-gray-700 border-gray-200 hover:border-blue-200 hover:shadow-md"}`,onClick:()=>t(s.id),children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center mr-2 flex-shrink-0 ${s.active?"bg-blue-100 border border-blue-200":"bg-gray-100 border border-gray-200"}`,children:d.jsx($a,{className:`h-4 w-4 ${s.active?"text-blue-600":"text-gray-500"}`})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium truncate",children:s.title}),d.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500",children:[d.jsx(XN,{className:"h-3 w-3 mr-1"}),new Date(s.timestamp).toLocaleDateString()]})]})]})},s.id)):d.jsxs("div",{className:"text-center py-8 text-gray-500 rounded-xl border border-gray-200 bg-gray-50 shadow-sm",children:[d.jsx($a,{className:"h-10 w-10 mx-auto mb-3 text-gray-300"}),d.jsx("p",{className:"text-sm font-medium",children:"No conversations found"}),d.jsx("p",{className:"text-xs mt-1 text-gray-400",children:"Start a new conversation to see it here"})]})})})]})},VJe=({configSessions:e,onSelectConfig:t})=>{const[r,n]=en.useState(""),i=e.filter(a=>a.intent.toLowerCase().includes(r.toLowerCase()));return d.jsxs("div",{className:"space-y-3 h-full flex flex-col",children:[d.jsxs("div",{className:"relative",children:[d.jsx(li,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx(cr,{placeholder:"Search snippets...",className:"pl-8 border-gray-200 rounded-lg",value:r,onChange:a=>n(a.target.value)})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(wv,{className:"h-4 w-4 text-gray-500 mr-2"}),d.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Saved Configurations"})]}),d.jsx(g1,{className:"flex-1 pr-1",children:d.jsx("div",{className:"space-y-2 pb-2",children:i.length>0?i.map(a=>d.jsx("button",{className:"w-full text-left p-3 rounded-xl transition-all border border-gray-200 hover:border-green-200 hover:bg-green-50 shadow-sm hover:shadow-md",onClick:()=>t(a),children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-50 to-green-100 rounded-lg flex items-center justify-center mr-2 flex-shrink-0 border border-green-200",children:d.jsx(h_e,{className:"h-4 w-4 text-green-600"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:a.intent}),d.jsxs("div",{className:"flex items-center mt-1",children:[d.jsxs(Ce,{variant:"outline",className:"text-xs bg-green-50 text-green-700 mr-2 rounded-full px-2 py-0.5 border-green-200",children:[a.steps.filter(s=>s.isVisible).length," steps"]}),a.timestamp&&d.jsx("span",{className:"text-xs text-gray-500",children:new Date(parseInt(a.id.split("-")[1])).toLocaleDateString()})]})]})]}),d.jsx(u_e,{className:"h-4 w-4 text-gray-400"})]})},a.id)):d.jsxs("div",{className:"text-center py-8 text-gray-500 rounded-xl border border-gray-200 bg-gray-50 shadow-sm",children:[d.jsx(wv,{className:"h-10 w-10 mx-auto mb-3 text-gray-300"}),d.jsx("p",{className:"text-sm font-medium",children:"No config snippets found"}),d.jsx("p",{className:"text-xs mt-1 text-gray-400",children:"Save CLI configurations to see them here"})]})})})]})};function WJe(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const GJe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qJe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,YJe={};function hK(e,t){return(YJe.jsx?qJe:GJe).test(e)}const KJe=/[ \t\n\f\r]/g;function XJe(e){return typeof e=="object"?e.type==="text"?fK(e.value):!1:fK(e)}function fK(e){return e.replace(KJe,"")===""}class m1{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}m1.prototype.normal={};m1.prototype.property={};m1.prototype.space=void 0;function gfe(e,t){const r={},n={};for(const i of e)Object.assign(r,i.property),Object.assign(n,i.normal);return new m1(r,n,t)}function qO(e){return e.toLowerCase()}class ws{constructor(t,r){this.attribute=r,this.property=t}}ws.prototype.attribute="";ws.prototype.booleanish=!1;ws.prototype.boolean=!1;ws.prototype.commaOrSpaceSeparated=!1;ws.prototype.commaSeparated=!1;ws.prototype.defined=!1;ws.prototype.mustUseProperty=!1;ws.prototype.number=!1;ws.prototype.overloadedBoolean=!1;ws.prototype.property="";ws.prototype.spaceSeparated=!1;ws.prototype.space=void 0;let ZJe=0;const Sr=cg(),mi=cg(),YO=cg(),Ge=cg(),On=cg(),lv=cg(),js=cg();function cg(){return 2**++ZJe}const KO=Object.freeze(Object.defineProperty({__proto__:null,boolean:Sr,booleanish:mi,commaOrSpaceSeparated:js,commaSeparated:lv,number:Ge,overloadedBoolean:YO,spaceSeparated:On},Symbol.toStringTag,{value:"Module"})),mM=Object.keys(KO);class hF extends ws{constructor(t,r,n,i){let a=-1;if(super(t,r),pK(this,"space",i),typeof n=="number")for(;++a<mM.length;){const s=mM[a];pK(this,mM[a],(n&KO[s])===KO[s])}}}hF.prototype.defined=!0;function pK(e,t,r){r&&(e[t]=r)}function L0(e){const t={},r={};for(const[n,i]of Object.entries(e.properties)){const a=new hF(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(a.mustUseProperty=!0),t[n]=a,r[qO(n)]=n,r[qO(a.attribute)]=n}return new m1(t,r,e.space)}const mfe=L0({properties:{ariaActiveDescendant:null,ariaAtomic:mi,ariaAutoComplete:null,ariaBusy:mi,ariaChecked:mi,ariaColCount:Ge,ariaColIndex:Ge,ariaColSpan:Ge,ariaControls:On,ariaCurrent:null,ariaDescribedBy:On,ariaDetails:null,ariaDisabled:mi,ariaDropEffect:On,ariaErrorMessage:null,ariaExpanded:mi,ariaFlowTo:On,ariaGrabbed:mi,ariaHasPopup:null,ariaHidden:mi,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:On,ariaLevel:Ge,ariaLive:null,ariaModal:mi,ariaMultiLine:mi,ariaMultiSelectable:mi,ariaOrientation:null,ariaOwns:On,ariaPlaceholder:null,ariaPosInSet:Ge,ariaPressed:mi,ariaReadOnly:mi,ariaRelevant:null,ariaRequired:mi,ariaRoleDescription:On,ariaRowCount:Ge,ariaRowIndex:Ge,ariaRowSpan:Ge,ariaSelected:mi,ariaSetSize:Ge,ariaSort:null,ariaValueMax:Ge,ariaValueMin:Ge,ariaValueNow:Ge,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function vfe(e,t){return t in e?e[t]:t}function yfe(e,t){return vfe(e,t.toLowerCase())}const JJe=L0({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:lv,acceptCharset:On,accessKey:On,action:null,allow:null,allowFullScreen:Sr,allowPaymentRequest:Sr,allowUserMedia:Sr,alt:null,as:null,async:Sr,autoCapitalize:null,autoComplete:On,autoFocus:Sr,autoPlay:Sr,blocking:On,capture:null,charSet:null,checked:Sr,cite:null,className:On,cols:Ge,colSpan:null,content:null,contentEditable:mi,controls:Sr,controlsList:On,coords:Ge|lv,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Sr,defer:Sr,dir:null,dirName:null,disabled:Sr,download:YO,draggable:mi,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Sr,formTarget:null,headers:On,height:Ge,hidden:YO,high:Ge,href:null,hrefLang:null,htmlFor:On,httpEquiv:On,id:null,imageSizes:null,imageSrcSet:null,inert:Sr,inputMode:null,integrity:null,is:null,isMap:Sr,itemId:null,itemProp:On,itemRef:On,itemScope:Sr,itemType:On,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Sr,low:Ge,manifest:null,max:null,maxLength:Ge,media:null,method:null,min:null,minLength:Ge,multiple:Sr,muted:Sr,name:null,nonce:null,noModule:Sr,noValidate:Sr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Sr,optimum:Ge,pattern:null,ping:On,placeholder:null,playsInline:Sr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Sr,referrerPolicy:null,rel:On,required:Sr,reversed:Sr,rows:Ge,rowSpan:Ge,sandbox:On,scope:null,scoped:Sr,seamless:Sr,selected:Sr,shadowRootClonable:Sr,shadowRootDelegatesFocus:Sr,shadowRootMode:null,shape:null,size:Ge,sizes:null,slot:null,span:Ge,spellCheck:mi,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ge,step:null,style:null,tabIndex:Ge,target:null,title:null,translate:null,type:null,typeMustMatch:Sr,useMap:null,value:mi,width:Ge,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:On,axis:null,background:null,bgColor:null,border:Ge,borderColor:null,bottomMargin:Ge,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Sr,declare:Sr,event:null,face:null,frame:null,frameBorder:null,hSpace:Ge,leftMargin:Ge,link:null,longDesc:null,lowSrc:null,marginHeight:Ge,marginWidth:Ge,noResize:Sr,noHref:Sr,noShade:Sr,noWrap:Sr,object:null,profile:null,prompt:null,rev:null,rightMargin:Ge,rules:null,scheme:null,scrolling:mi,standby:null,summary:null,text:null,topMargin:Ge,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ge,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Sr,disableRemotePlayback:Sr,prefix:null,property:null,results:Ge,security:null,unselectable:null},space:"html",transform:yfe}),QJe=L0({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:js,accentHeight:Ge,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ge,amplitude:Ge,arabicForm:null,ascent:Ge,attributeName:null,attributeType:null,azimuth:Ge,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ge,by:null,calcMode:null,capHeight:Ge,className:On,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ge,diffuseConstant:Ge,direction:null,display:null,dur:null,divisor:Ge,dominantBaseline:null,download:Sr,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ge,enableBackground:null,end:null,event:null,exponent:Ge,externalResourcesRequired:null,fill:null,fillOpacity:Ge,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:lv,g2:lv,glyphName:lv,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ge,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ge,horizOriginX:Ge,horizOriginY:Ge,id:null,ideographic:Ge,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ge,k:Ge,k1:Ge,k2:Ge,k3:Ge,k4:Ge,kernelMatrix:js,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ge,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ge,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ge,overlineThickness:Ge,paintOrder:null,panose1:null,path:null,pathLength:Ge,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:On,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ge,pointsAtY:Ge,pointsAtZ:Ge,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:js,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:js,rev:js,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:js,requiredFeatures:js,requiredFonts:js,requiredFormats:js,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ge,specularExponent:Ge,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ge,strikethroughThickness:Ge,string:null,stroke:null,strokeDashArray:js,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ge,strokeOpacity:Ge,strokeWidth:null,style:null,surfaceScale:Ge,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:js,tabIndex:Ge,tableValues:null,target:null,targetX:Ge,targetY:Ge,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:js,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ge,underlineThickness:Ge,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ge,values:null,vAlphabetic:Ge,vMathematical:Ge,vectorEffect:null,vHanging:Ge,vIdeographic:Ge,version:null,vertAdvY:Ge,vertOriginX:Ge,vertOriginY:Ge,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ge,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:vfe}),xfe=L0({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),_fe=L0({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:yfe}),bfe=L0({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),eQe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},tQe=/[A-Z]/g,gK=/-[a-z]/g,rQe=/^data[-\w.:]+$/i;function nQe(e,t){const r=qO(t);let n=t,i=ws;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&rQe.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(gK,aQe);n="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!gK.test(a)){let s=a.replace(tQe,iQe);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=hF}return new i(n,t)}function iQe(e){return"-"+e.toLowerCase()}function aQe(e){return e.charAt(1).toUpperCase()}const sQe=gfe([mfe,JJe,xfe,_fe,bfe],"html"),fF=gfe([mfe,QJe,xfe,_fe,bfe],"svg");function oQe(e){return e.join(" ").trim()}var pF={},mK=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,lQe=/\n/g,cQe=/^\s*/,uQe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,dQe=/^:\s*/,hQe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,fQe=/^[;\s]*/,pQe=/^\s+|\s+$/g,gQe=`
`,vK="/",yK="*",Of="",mQe="comment",vQe="declaration",yQe=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,n=1;function i(g){var v=g.match(lQe);v&&(r+=v.length);var m=g.lastIndexOf(gQe);n=~m?g.length-m:n+g.length}function a(){var g={line:r,column:n};return function(v){return v.position=new s(g),c(),v}}function s(g){this.start=g,this.end={line:r,column:n},this.source=t.source}s.prototype.content=e;function o(g){var v=new Error(t.source+":"+r+":"+n+": "+g);if(v.reason=g,v.filename=t.source,v.line=r,v.column=n,v.source=e,!t.silent)throw v}function l(g){var v=g.exec(e);if(v){var m=v[0];return i(m),e=e.slice(m.length),v}}function c(){l(cQe)}function u(g){var v;for(g=g||[];v=h();)v!==!1&&g.push(v);return g}function h(){var g=a();if(!(vK!=e.charAt(0)||yK!=e.charAt(1))){for(var v=2;Of!=e.charAt(v)&&(yK!=e.charAt(v)||vK!=e.charAt(v+1));)++v;if(v+=2,Of===e.charAt(v-1))return o("End of comment missing");var m=e.slice(2,v-2);return n+=2,i(m),e=e.slice(v),n+=2,g({type:mQe,comment:m})}}function f(){var g=a(),v=l(uQe);if(v){if(h(),!l(dQe))return o("property missing ':'");var m=l(hQe),y=g({type:vQe,property:xK(v[0].replace(mK,Of)),value:m?xK(m[0].replace(mK,Of)):Of});return l(fQe),y}}function p(){var g=[];u(g);for(var v;v=f();)v!==!1&&(g.push(v),u(g));return g}return c(),p()};function xK(e){return e?e.replace(pQe,Of):Of}var xQe=ya&&ya.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pF,"__esModule",{value:!0});pF.default=bQe;var _Qe=xQe(yQe);function bQe(e,t){var r=null;if(!e||typeof e!="string")return r;var n=(0,_Qe.default)(e),i=typeof t=="function";return n.forEach(function(a){if(a.type==="declaration"){var s=a.property,o=a.value;i?t(s,o,a):o&&(r=r||{},r[s]=o)}}),r}var _A={};Object.defineProperty(_A,"__esModule",{value:!0});_A.camelCase=void 0;var wQe=/^--[a-zA-Z0-9_-]+$/,SQe=/-([a-z])/g,CQe=/^[^-]+$/,kQe=/^-(webkit|moz|ms|o|khtml)-/,EQe=/^-(ms)-/,TQe=function(e){return!e||CQe.test(e)||wQe.test(e)},NQe=function(e,t){return t.toUpperCase()},_K=function(e,t){return"".concat(t,"-")},AQe=function(e,t){return t===void 0&&(t={}),TQe(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(EQe,_K):e=e.replace(kQe,_K),e.replace(SQe,NQe))};_A.camelCase=AQe;var jQe=ya&&ya.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},RQe=jQe(pF),IQe=_A;function XO(e,t){var r={};return!e||typeof e!="string"||(0,RQe.default)(e,function(n,i){n&&i&&(r[(0,IQe.camelCase)(n,t)]=i)}),r}XO.default=XO;var MQe=XO;const PQe=t0(MQe),wfe=Sfe("end"),gF=Sfe("start");function Sfe(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function LQe(e){const t=gF(e),r=wfe(e);if(t&&r)return{start:t,end:r}}function O_(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?bK(e.position):"start"in e||"end"in e?bK(e):"line"in e||"column"in e?ZO(e):""}function ZO(e){return wK(e&&e.line)+":"+wK(e&&e.column)}function bK(e){return ZO(e&&e.start)+"-"+ZO(e&&e.end)}function wK(e){return e&&typeof e=="number"?e:1}class Ca extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",a={},s=!1;if(r&&("line"in r&&"column"in r?a={place:r}:"start"in r&&"end"in r?a={place:r}:"type"in r?a={ancestors:[r],place:r.position}:a={...r}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?a.ruleId=n:(a.source=n.slice(0,l),a.ruleId=n.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=o?o.line:void 0,this.name=O_(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}Ca.prototype.file="";Ca.prototype.name="";Ca.prototype.reason="";Ca.prototype.message="";Ca.prototype.stack="";Ca.prototype.column=void 0;Ca.prototype.line=void 0;Ca.prototype.ancestors=void 0;Ca.prototype.cause=void 0;Ca.prototype.fatal=void 0;Ca.prototype.place=void 0;Ca.prototype.ruleId=void 0;Ca.prototype.source=void 0;const mF={}.hasOwnProperty,DQe=new Map,OQe=/[A-Z]/g,$Qe=new Set(["table","tbody","thead","tfoot","tr"]),BQe=new Set(["td","th"]),Cfe="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function FQe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=YQe(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=qQe(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?fF:sQe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=kfe(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function kfe(e,t,r){if(t.type==="element")return zQe(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return UQe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return VQe(e,t,r);if(t.type==="mdxjsEsm")return HQe(e,t);if(t.type==="root")return WQe(e,t,r);if(t.type==="text")return GQe(e,t)}function zQe(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=fF,e.schema=i),e.ancestors.push(t);const a=Tfe(e,t.tagName,!1),s=KQe(e,t);let o=yF(e,t);return $Qe.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!XJe(l):!0})),Efe(e,s,a,t),vF(s,o),e.ancestors.pop(),e.schema=n,e.create(t,a,s,r)}function UQe(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}tw(e,t.position)}function HQe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);tw(e,t.position)}function VQe(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=fF,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:Tfe(e,t.name,!0),s=XQe(e,t),o=yF(e,t);return Efe(e,s,a,t),vF(s,o),e.ancestors.pop(),e.schema=n,e.create(t,a,s,r)}function WQe(e,t,r){const n={};return vF(n,yF(e,t)),e.create(t,e.Fragment,n,r)}function GQe(e,t){return t.value}function Efe(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function vF(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function qQe(e,t,r){return n;function n(i,a,s,o){const c=Array.isArray(s.children)?r:t;return o?c(a,s,o):c(a,s)}}function YQe(e,t){return r;function r(n,i,a,s){const o=Array.isArray(a.children),l=gF(n);return t(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function KQe(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&mF.call(t.properties,i)){const a=ZQe(e,i,t.properties[i]);if(a){const[s,o]=a;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&BQe.has(t.tagName)?n=o:r[s]=o}}if(n){const a=r.style||(r.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function XQe(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const a=n.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(r,e.evaluater.evaluateExpression(o.argument))}else tw(e,t.position);else{const i=n.name;let a;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const o=n.value.data.estree.body[0];o.type,a=e.evaluater.evaluateExpression(o.expression)}else tw(e,t.position);else a=n.value===null?!0:n.value;r[i]=a}return r}function yF(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:DQe;for(;++n<t.children.length;){const a=t.children[n];let s;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;s=l+"-"+c,i.set(l,c+1)}}const o=kfe(e,a,s);o!==void 0&&r.push(o)}return r}function ZQe(e,t,r){const n=nQe(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?WJe(r):oQe(r)),n.property==="style"){let i=typeof r=="object"?r:JQe(e,String(r));return e.stylePropertyNameCase==="css"&&(i=QQe(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?eQe[n.property]||n.property:n.attribute,r]}}function JQe(e,t){try{return PQe(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,i=new Ca("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Cfe+"#cannot-parse-style-attribute",i}}function Tfe(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const o=hK(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}n=s}else n=hK(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return mF.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);tw(e)}function tw(e,t){const r=new Ca("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=Cfe+"#cannot-handle-mdx-estrees-without-createevaluater",r}function QQe(e){const t={};let r;for(r in e)mF.call(e,r)&&(t[eet(r)]=e[r]);return t}function eet(e){let t=e.replace(OQe,tet);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function tet(e){return"-"+e.toLowerCase()}const vM={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},ret={};function xF(e,t){const r=ret,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return Nfe(e,n,i)}function Nfe(e,t,r){if(net(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return SK(e.children,t,r)}return Array.isArray(e)?SK(e,t,r):""}function SK(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=Nfe(e[i],t,r);return n.join("")}function net(e){return!!(e&&typeof e=="object")}const CK=document.createElement("i");function _F(e){const t="&"+e+";";CK.innerHTML=t;const r=CK.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function Us(e,t,r,n){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)s=Array.from(n),s.unshift(t,r),e.splice(...s);else for(r&&e.splice(t,r);a<n.length;)s=n.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function _o(e,t){return e.length>0?(Us(e,e.length,0,t),e):t}const kK={}.hasOwnProperty;function Afe(e){const t={};let r=-1;for(;++r<e.length;)iet(t,e[r]);return t}function iet(e,t){let r;for(r in t){const i=(kK.call(e,r)?e[r]:void 0)||(e[r]={}),a=t[r];let s;if(a)for(s in a){kK.call(i,s)||(i[s]=[]);const o=a[s];aet(i[s],Array.isArray(o)?o:o?[o]:[])}}}function aet(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);Us(e,0,0,n)}function jfe(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"�":String.fromCodePoint(r)}function ul(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Oa=Fh(/[A-Za-z]/),va=Fh(/[\dA-Za-z]/),set=Fh(/[#-'*+\--9=?A-Z^-~]/);function iN(e){return e!==null&&(e<32||e===127)}const JO=Fh(/\d/),oet=Fh(/[\dA-Fa-f]/),cet=Fh(/[!-/:-@[-`{-~]/);function zt(e){return e!==null&&e<-2}function In(e){return e!==null&&(e<0||e===32)}function Pr(e){return e===-2||e===-1||e===32}const bA=Fh(new RegExp("\\p{P}|\\p{S}","u")),Fp=Fh(/\s/);function Fh(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function D0(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const a=e.charCodeAt(r);let s="";if(a===37&&va(e.charCodeAt(r+1))&&va(e.charCodeAt(r+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(r+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s="�"}else s=String.fromCharCode(a);s&&(t.push(e.slice(n,r),encodeURIComponent(s)),n=r+i+1,s=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function Xr(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return Pr(l)?(e.enter(r),o(l)):t(l)}function o(l){return Pr(l)&&a++<i?(e.consume(l),o):(e.exit(r),t(l))}}const uet={tokenize:det};function det(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Xr(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return zt(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const het={tokenize:fet},EK={tokenize:pet};function fet(e){const t=this,r=[];let n=0,i,a,s;return o;function o(_){if(n<r.length){const b=r[n];return t.containerState=b[1],e.attempt(b[0].continuation,l,c)(_)}return c(_)}function l(_){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const b=t.events.length;let w=b,S;for(;w--;)if(t.events[w][0]==="exit"&&t.events[w][1].type==="chunkFlow"){S=t.events[w][1].end;break}y(n);let k=b;for(;k<t.events.length;)t.events[k][1].end={...S},k++;return Us(t.events,w+1,0,t.events.slice(b)),t.events.length=k,c(_)}return o(_)}function c(_){if(n===r.length){if(!i)return f(_);if(i.currentConstruct&&i.currentConstruct.concrete)return g(_);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(EK,u,h)(_)}function u(_){return i&&x(),y(n),f(_)}function h(_){return t.parser.lazy[t.now().line]=n!==r.length,s=t.now().offset,g(_)}function f(_){return t.containerState={},e.attempt(EK,p,g)(_)}function p(_){return n++,r.push([t.currentConstruct,t.containerState]),f(_)}function g(_){if(_===null){i&&x(),y(0),e.consume(_);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),v(_)}function v(_){if(_===null){m(e.exit("chunkFlow"),!0),y(0),e.consume(_);return}return zt(_)?(e.consume(_),m(e.exit("chunkFlow")),n=0,t.interrupt=void 0,o):(e.consume(_),v)}function m(_,b){const w=t.sliceStream(_);if(b&&w.push(null),_.previous=a,a&&(a.next=_),a=_,i.defineSkip(_.start),i.write(w),t.parser.lazy[_.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<s&&(!i.events[S][1].end||i.events[S][1].end.offset>s))return;const k=t.events.length;let C=k,E,T;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){if(E){T=t.events[C][1].end;break}E=!0}for(y(n),S=k;S<t.events.length;)t.events[S][1].end={...T},S++;Us(t.events,C+1,0,t.events.slice(k)),t.events.length=S}}function y(_){let b=r.length;for(;b-- >_;){const w=r[b];t.containerState=w[1],w[0].exit.call(t,e)}r.length=_}function x(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function pet(e,t,r){return Xr(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Uv(e){if(e===null||In(e)||Fp(e))return 1;if(bA(e))return 2}function wA(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!n.includes(a)&&(t=a(t,r),n.push(a))}return t}const QO={name:"attention",resolveAll:get,tokenize:met};function get(e,t){let r=-1,n,i,a,s,o,l,c,u;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;l=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const h={...e[n][1].end},f={...e[r][1].start};TK(h,-l),TK(f,l),s={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...e[n][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:f},a={type:l>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[n][1].end={...s.start},e[r][1].start={...o.end},c=[],e[n][1].end.offset-e[n][1].start.offset&&(c=_o(c,[["enter",e[n][1],t],["exit",e[n][1],t]])),c=_o(c,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),c=_o(c,wA(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),c=_o(c,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(u=2,c=_o(c,[["enter",e[r][1],t],["exit",e[r][1],t]])):u=0,Us(e,n-1,r-n+3,c),r=n+c.length-u-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function met(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=Uv(n);let a;return s;function s(l){return a=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===a)return e.consume(l),o;const c=e.exit("attentionSequence"),u=Uv(l),h=!u||u===2&&i||r.includes(l),f=!i||i===2&&u||r.includes(n);return c._open=!!(a===42?h:h&&(i||!f)),c._close=!!(a===42?f:f&&(u||!h)),t(l)}}function TK(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const vet={name:"autolink",tokenize:yet};function yet(e,t,r){let n=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(p){return Oa(p)?(e.consume(p),s):p===64?r(p):c(p)}function s(p){return p===43||p===45||p===46||va(p)?(n=1,o(p)):c(p)}function o(p){return p===58?(e.consume(p),n=0,l):(p===43||p===45||p===46||va(p))&&n++<32?(e.consume(p),o):(n=0,c(p))}function l(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||iN(p)?r(p):(e.consume(p),l)}function c(p){return p===64?(e.consume(p),u):set(p)?(e.consume(p),c):r(p)}function u(p){return va(p)?h(p):r(p)}function h(p){return p===46?(e.consume(p),n=0,u):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):f(p)}function f(p){if((p===45||va(p))&&n++<63){const g=p===45?f:h;return e.consume(p),g}return r(p)}}const v1={partial:!0,tokenize:xet};function xet(e,t,r){return n;function n(a){return Pr(a)?Xr(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||zt(a)?t(a):r(a)}}const Rfe={continuation:{tokenize:bet},exit:wet,name:"blockQuote",tokenize:_et};function _et(e,t,r){const n=this;return i;function i(s){if(s===62){const o=n.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return r(s)}function a(s){return Pr(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function bet(e,t,r){const n=this;return i;function i(s){return Pr(s)?Xr(e,a,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(Rfe,t,r)(s)}}function wet(e){e.exit("blockQuote")}const Ife={name:"characterEscape",tokenize:Cet};function Cet(e,t,r){return n;function n(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return cet(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(a)}}const Mfe={name:"characterReference",tokenize:ket};function ket(e,t,r){const n=this;let i=0,a,s;return o;function o(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),l}function l(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,s=va,u(h))}function c(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=oet,u):(e.enter("characterReferenceValue"),a=7,s=JO,u(h))}function u(h){if(h===59&&i){const f=e.exit("characterReferenceValue");return s===va&&!_F(n.sliceSerialize(f))?r(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(h)&&i++<a?(e.consume(h),u):r(h)}}const NK={partial:!0,tokenize:Tet},AK={concrete:!0,name:"codeFenced",tokenize:Eet};function Eet(e,t,r){const n=this,i={partial:!0,tokenize:w};let a=0,s=0,o;return l;function l(S){return c(S)}function c(S){const k=n.events[n.events.length-1];return a=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,o=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(S)}function u(S){return S===o?(s++,e.consume(S),u):s<3?r(S):(e.exit("codeFencedFenceSequence"),Pr(S)?Xr(e,h,"whitespace")(S):h(S))}function h(S){return S===null||zt(S)?(e.exit("codeFencedFence"),n.interrupt?t(S):e.check(NK,v,b)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(S))}function f(S){return S===null||zt(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(S)):Pr(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Xr(e,p,"whitespace")(S)):S===96&&S===o?r(S):(e.consume(S),f)}function p(S){return S===null||zt(S)?h(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(S))}function g(S){return S===null||zt(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(S)):S===96&&S===o?r(S):(e.consume(S),g)}function v(S){return e.attempt(i,b,m)(S)}function m(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),y}function y(S){return a>0&&Pr(S)?Xr(e,x,"linePrefix",a+1)(S):x(S)}function x(S){return S===null||zt(S)?e.check(NK,v,b)(S):(e.enter("codeFlowValue"),_(S))}function _(S){return S===null||zt(S)?(e.exit("codeFlowValue"),x(S)):(e.consume(S),_)}function b(S){return e.exit("codeFenced"),t(S)}function w(S,k,C){let E=0;return T;function T($){return S.enter("lineEnding"),S.consume($),S.exit("lineEnding"),N}function N($){return S.enter("codeFencedFence"),Pr($)?Xr(S,I,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):I($)}function I($){return $===o?(S.enter("codeFencedFenceSequence"),P($)):C($)}function P($){return $===o?(E++,S.consume($),P):E>=s?(S.exit("codeFencedFenceSequence"),Pr($)?Xr(S,D,"whitespace")($):D($)):C($)}function D($){return $===null||zt($)?(S.exit("codeFencedFence"),k($)):C($)}}}function Tet(e,t,r){const n=this;return i;function i(s){return s===null?r(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return n.parser.lazy[n.now().line]?r(s):t(s)}}const yM={name:"codeIndented",tokenize:Aet},Net={partial:!0,tokenize:jet};function Aet(e,t,r){const n=this;return i;function i(c){return e.enter("codeIndented"),Xr(e,a,"linePrefix",5)(c)}function a(c){const u=n.events[n.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?s(c):r(c)}function s(c){return c===null?l(c):zt(c)?e.attempt(Net,s,l)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||zt(c)?(e.exit("codeFlowValue"),s(c)):(e.consume(c),o)}function l(c){return e.exit("codeIndented"),t(c)}}function jet(e,t,r){const n=this;return i;function i(s){return n.parser.lazy[n.now().line]?r(s):zt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):Xr(e,a,"linePrefix",5)(s)}function a(s){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):zt(s)?i(s):r(s)}}const Ret={name:"codeText",previous:Met,resolve:Iet,tokenize:Pet};function Iet(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function Met(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Pet(e,t,r){let n=0,i,a;return s;function s(h){return e.enter("codeText"),e.enter("codeTextSequence"),o(h)}function o(h){return h===96?(e.consume(h),n++,o):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?r(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):h===96?(a=e.enter("codeTextSequence"),i=0,u(h)):zt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||zt(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),c)}function u(h){return h===96?(e.consume(h),i++,u):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(a.type="codeTextData",c(h))}}class Let{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&gx(this.left,n),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),gx(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),gx(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);gx(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);gx(this.left,r.reverse())}}}function gx(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function Pfe(e){const t={};let r=-1,n,i,a,s,o,l,c;const u=new Let(e);for(;++r<u.length;){for(;r in t;)r=t[r];if(n=u.get(r),r&&n[1].type==="chunkFlow"&&u.get(r-1)[1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,Det(u,r)),r=t[r],c=!0);else if(n[1]._container){for(a=r,i=void 0;a--;)if(s=u.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(n[1].end={...u.get(i)[1].start},o=u.slice(i,r),o.unshift(n),u.splice(i,r-i+1,o))}}return Us(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function Det(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const a=[];let s=r._tokenizer;s||(s=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],c={};let u,h,f=-1,p=r,g=0,v=0;const m=[v];for(;p;){for(;e.get(++i)[1]!==p;);a.push(i),p._tokenizer||(u=n.sliceStream(p),p.next||u.push(null),h&&s.defineSkip(p.start),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(u),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),h=p,p=p.next}for(p=r;++f<o.length;)o[f][0]==="exit"&&o[f-1][0]==="enter"&&o[f][1].type===o[f-1][1].type&&o[f][1].start.line!==o[f][1].end.line&&(v=f+1,m.push(v),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(s.events=[],p?(p._tokenizer=void 0,p.previous=void 0):m.pop(),f=m.length;f--;){const y=o.slice(m[f],m[f+1]),x=a.pop();l.push([x,x+y.length-1]),e.splice(x,2,y)}for(l.reverse(),f=-1;++f<l.length;)c[g+l[f][0]]=g+l[f][1],g+=l[f][1]-l[f][0]-1;return c}const Oet={resolve:Bet,tokenize:Fet},$et={partial:!0,tokenize:zet};function Bet(e){return Pfe(e),e}function Fet(e,t){let r;return n;function n(o){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):zt(o)?e.check($et,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function zet(e,t,r){const n=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Xr(e,a,"linePrefix")}function a(s){if(s===null||zt(s))return r(s);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(n.parser.constructs.flow,r,t)(s)}}function Lfe(e,t,r,n,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return h;function h(y){return y===60?(e.enter(n),e.enter(i),e.enter(a),e.consume(y),e.exit(a),f):y===null||y===32||y===41||iN(y)?r(y):(e.enter(n),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),v(y))}function f(y){return y===62?(e.enter(a),e.consume(y),e.exit(a),e.exit(i),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===62?(e.exit("chunkString"),e.exit(o),f(y)):y===null||y===60||zt(y)?r(y):(e.consume(y),y===92?g:p)}function g(y){return y===60||y===62||y===92?(e.consume(y),p):p(y)}function v(y){return!u&&(y===null||y===41||In(y))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(n),t(y)):u<c&&y===40?(e.consume(y),u++,v):y===41?(e.consume(y),u--,v):y===null||y===32||y===40||iN(y)?r(y):(e.consume(y),y===92?m:v)}function m(y){return y===40||y===41||y===92?(e.consume(y),v):v(y)}}function Dfe(e,t,r,n,i,a){const s=this;let o=0,l;return c;function c(p){return e.enter(n),e.enter(i),e.consume(p),e.exit(i),e.enter(a),u}function u(p){return o>999||p===null||p===91||p===93&&!l||p===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?r(p):p===93?(e.exit(a),e.enter(i),e.consume(p),e.exit(i),e.exit(n),t):zt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===null||p===91||p===93||zt(p)||o++>999?(e.exit("chunkString"),u(p)):(e.consume(p),l||(l=!Pr(p)),p===92?f:h)}function f(p){return p===91||p===92||p===93?(e.consume(p),o++,h):h(p)}}function Ofe(e,t,r,n,i,a){let s;return o;function o(f){return f===34||f===39||f===40?(e.enter(n),e.enter(i),e.consume(f),e.exit(i),s=f===40?41:f,l):r(f)}function l(f){return f===s?(e.enter(i),e.consume(f),e.exit(i),e.exit(n),t):(e.enter(a),c(f))}function c(f){return f===s?(e.exit(a),l(s)):f===null?r(f):zt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),Xr(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(f))}function u(f){return f===s||f===null||zt(f)?(e.exit("chunkString"),c(f)):(e.consume(f),f===92?h:u)}function h(f){return f===s||f===92?(e.consume(f),u):u(f)}}function $_(e,t){let r;return n;function n(i){return zt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):Pr(i)?Xr(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const Uet={name:"definition",tokenize:Vet},Het={partial:!0,tokenize:Wet};function Vet(e,t,r){const n=this;let i;return a;function a(p){return e.enter("definition"),s(p)}function s(p){return Dfe.call(n,e,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return i=ul(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),l):r(p)}function l(p){return In(p)?$_(e,c)(p):c(p)}function c(p){return Lfe(e,u,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function u(p){return e.attempt(Het,h,h)(p)}function h(p){return Pr(p)?Xr(e,f,"whitespace")(p):f(p)}function f(p){return p===null||zt(p)?(e.exit("definition"),n.parser.defined.push(i),t(p)):r(p)}}function Wet(e,t,r){return n;function n(o){return In(o)?$_(e,i)(o):r(o)}function i(o){return Ofe(e,a,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return Pr(o)?Xr(e,s,"whitespace")(o):s(o)}function s(o){return o===null||zt(o)?t(o):r(o)}}const Get={name:"hardBreakEscape",tokenize:qet};function qet(e,t,r){return n;function n(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return zt(a)?(e.exit("hardBreakEscape"),t(a)):r(a)}}const Yet={name:"headingAtx",resolve:Ket,tokenize:Xet};function Ket(e,t){let r=e.length-2,n=3,i,a;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},a={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},Us(e,n,r-n+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function Xet(e,t,r){let n=0;return i;function i(u){return e.enter("atxHeading"),a(u)}function a(u){return e.enter("atxHeadingSequence"),s(u)}function s(u){return u===35&&n++<6?(e.consume(u),s):u===null||In(u)?(e.exit("atxHeadingSequence"),o(u)):r(u)}function o(u){return u===35?(e.enter("atxHeadingSequence"),l(u)):u===null||zt(u)?(e.exit("atxHeading"),t(u)):Pr(u)?Xr(e,o,"whitespace")(u):(e.enter("atxHeadingText"),c(u))}function l(u){return u===35?(e.consume(u),l):(e.exit("atxHeadingSequence"),o(u))}function c(u){return u===null||u===35||In(u)?(e.exit("atxHeadingText"),o(u)):(e.consume(u),c)}}const Zet=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],jK=["pre","script","style","textarea"],Jet={concrete:!0,name:"htmlFlow",resolveTo:ttt,tokenize:rtt},Qet={partial:!0,tokenize:itt},ett={partial:!0,tokenize:ntt};function ttt(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function rtt(e,t,r){const n=this;let i,a,s,o,l;return c;function c(F){return u(F)}function u(F){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(F),h}function h(F){return F===33?(e.consume(F),f):F===47?(e.consume(F),a=!0,v):F===63?(e.consume(F),i=3,n.interrupt?t:R):Oa(F)?(e.consume(F),s=String.fromCharCode(F),m):r(F)}function f(F){return F===45?(e.consume(F),i=2,p):F===91?(e.consume(F),i=5,o=0,g):Oa(F)?(e.consume(F),i=4,n.interrupt?t:R):r(F)}function p(F){return F===45?(e.consume(F),n.interrupt?t:R):r(F)}function g(F){const G="CDATA[";return F===G.charCodeAt(o++)?(e.consume(F),o===G.length?n.interrupt?t:I:g):r(F)}function v(F){return Oa(F)?(e.consume(F),s=String.fromCharCode(F),m):r(F)}function m(F){if(F===null||F===47||F===62||In(F)){const G=F===47,q=s.toLowerCase();return!G&&!a&&jK.includes(q)?(i=1,n.interrupt?t(F):I(F)):Zet.includes(s.toLowerCase())?(i=6,G?(e.consume(F),y):n.interrupt?t(F):I(F)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(F):a?x(F):_(F))}return F===45||va(F)?(e.consume(F),s+=String.fromCharCode(F),m):r(F)}function y(F){return F===62?(e.consume(F),n.interrupt?t:I):r(F)}function x(F){return Pr(F)?(e.consume(F),x):T(F)}function _(F){return F===47?(e.consume(F),T):F===58||F===95||Oa(F)?(e.consume(F),b):Pr(F)?(e.consume(F),_):T(F)}function b(F){return F===45||F===46||F===58||F===95||va(F)?(e.consume(F),b):w(F)}function w(F){return F===61?(e.consume(F),S):Pr(F)?(e.consume(F),w):_(F)}function S(F){return F===null||F===60||F===61||F===62||F===96?r(F):F===34||F===39?(e.consume(F),l=F,k):Pr(F)?(e.consume(F),S):C(F)}function k(F){return F===l?(e.consume(F),l=null,E):F===null||zt(F)?r(F):(e.consume(F),k)}function C(F){return F===null||F===34||F===39||F===47||F===60||F===61||F===62||F===96||In(F)?w(F):(e.consume(F),C)}function E(F){return F===47||F===62||Pr(F)?_(F):r(F)}function T(F){return F===62?(e.consume(F),N):r(F)}function N(F){return F===null||zt(F)?I(F):Pr(F)?(e.consume(F),N):r(F)}function I(F){return F===45&&i===2?(e.consume(F),L):F===60&&i===1?(e.consume(F),O):F===62&&i===4?(e.consume(F),z):F===63&&i===3?(e.consume(F),R):F===93&&i===5?(e.consume(F),M):zt(F)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Qet,U,P)(F)):F===null||zt(F)?(e.exit("htmlFlowData"),P(F)):(e.consume(F),I)}function P(F){return e.check(ett,D,U)(F)}function D(F){return e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),$}function $(F){return F===null||zt(F)?P(F):(e.enter("htmlFlowData"),I(F))}function L(F){return F===45?(e.consume(F),R):I(F)}function O(F){return F===47?(e.consume(F),s="",j):I(F)}function j(F){if(F===62){const G=s.toLowerCase();return jK.includes(G)?(e.consume(F),z):I(F)}return Oa(F)&&s.length<8?(e.consume(F),s+=String.fromCharCode(F),j):I(F)}function M(F){return F===93?(e.consume(F),R):I(F)}function R(F){return F===62?(e.consume(F),z):F===45&&i===2?(e.consume(F),R):I(F)}function z(F){return F===null||zt(F)?(e.exit("htmlFlowData"),U(F)):(e.consume(F),z)}function U(F){return e.exit("htmlFlow"),t(F)}}function ntt(e,t,r){const n=this;return i;function i(s){return zt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):r(s)}function a(s){return n.parser.lazy[n.now().line]?r(s):t(s)}}function itt(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(v1,t,r)}}const att={name:"htmlText",tokenize:stt};function stt(e,t,r){const n=this;let i,a,s;return o;function o(R){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(R),l}function l(R){return R===33?(e.consume(R),c):R===47?(e.consume(R),w):R===63?(e.consume(R),_):Oa(R)?(e.consume(R),C):r(R)}function c(R){return R===45?(e.consume(R),u):R===91?(e.consume(R),a=0,g):Oa(R)?(e.consume(R),x):r(R)}function u(R){return R===45?(e.consume(R),p):r(R)}function h(R){return R===null?r(R):R===45?(e.consume(R),f):zt(R)?(s=h,O(R)):(e.consume(R),h)}function f(R){return R===45?(e.consume(R),p):h(R)}function p(R){return R===62?L(R):R===45?f(R):h(R)}function g(R){const z="CDATA[";return R===z.charCodeAt(a++)?(e.consume(R),a===z.length?v:g):r(R)}function v(R){return R===null?r(R):R===93?(e.consume(R),m):zt(R)?(s=v,O(R)):(e.consume(R),v)}function m(R){return R===93?(e.consume(R),y):v(R)}function y(R){return R===62?L(R):R===93?(e.consume(R),y):v(R)}function x(R){return R===null||R===62?L(R):zt(R)?(s=x,O(R)):(e.consume(R),x)}function _(R){return R===null?r(R):R===63?(e.consume(R),b):zt(R)?(s=_,O(R)):(e.consume(R),_)}function b(R){return R===62?L(R):_(R)}function w(R){return Oa(R)?(e.consume(R),S):r(R)}function S(R){return R===45||va(R)?(e.consume(R),S):k(R)}function k(R){return zt(R)?(s=k,O(R)):Pr(R)?(e.consume(R),k):L(R)}function C(R){return R===45||va(R)?(e.consume(R),C):R===47||R===62||In(R)?E(R):r(R)}function E(R){return R===47?(e.consume(R),L):R===58||R===95||Oa(R)?(e.consume(R),T):zt(R)?(s=E,O(R)):Pr(R)?(e.consume(R),E):L(R)}function T(R){return R===45||R===46||R===58||R===95||va(R)?(e.consume(R),T):N(R)}function N(R){return R===61?(e.consume(R),I):zt(R)?(s=N,O(R)):Pr(R)?(e.consume(R),N):E(R)}function I(R){return R===null||R===60||R===61||R===62||R===96?r(R):R===34||R===39?(e.consume(R),i=R,P):zt(R)?(s=I,O(R)):Pr(R)?(e.consume(R),I):(e.consume(R),D)}function P(R){return R===i?(e.consume(R),i=void 0,$):R===null?r(R):zt(R)?(s=P,O(R)):(e.consume(R),P)}function D(R){return R===null||R===34||R===39||R===60||R===61||R===96?r(R):R===47||R===62||In(R)?E(R):(e.consume(R),D)}function $(R){return R===47||R===62||In(R)?E(R):r(R)}function L(R){return R===62?(e.consume(R),e.exit("htmlTextData"),e.exit("htmlText"),t):r(R)}function O(R){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),j}function j(R){return Pr(R)?Xr(e,M,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):M(R)}function M(R){return e.enter("htmlTextData"),s(R)}}const bF={name:"labelEnd",resolveAll:utt,resolveTo:dtt,tokenize:htt},ott={tokenize:ftt},ltt={tokenize:ptt},ctt={tokenize:gtt};function utt(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==r.length&&Us(e,0,e.length,r),e}function dtt(e,t){let r=e.length,n=0,i,a,s,o;for(;r--;)if(i=e[r][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(s=r);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},u={type:"labelText",start:{...e[a+n+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",l,t],["enter",c,t]],o=_o(o,e.slice(a+1,a+n+3)),o=_o(o,[["enter",u,t]]),o=_o(o,wA(t.parser.constructs.insideSpan.null,e.slice(a+n+4,s-3),t)),o=_o(o,[["exit",u,t],e[s-2],e[s-1],["exit",c,t]]),o=_o(o,e.slice(s+1)),o=_o(o,[["exit",l,t]]),Us(e,a,e.length,o),e}function htt(e,t,r){const n=this;let i=n.events.length,a,s;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){a=n.events[i][1];break}return o;function o(f){return a?a._inactive?h(f):(s=n.parser.defined.includes(ul(n.sliceSerialize({start:a.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):r(f)}function l(f){return f===40?e.attempt(ott,u,s?u:h)(f):f===91?e.attempt(ltt,u,s?c:h)(f):s?u(f):h(f)}function c(f){return e.attempt(ctt,u,h)(f)}function u(f){return t(f)}function h(f){return a._balanced=!0,r(f)}}function ftt(e,t,r){return n;function n(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return In(h)?$_(e,a)(h):a(h)}function a(h){return h===41?u(h):Lfe(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function s(h){return In(h)?$_(e,l)(h):u(h)}function o(h){return r(h)}function l(h){return h===34||h===39||h===40?Ofe(e,c,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):u(h)}function c(h){return In(h)?$_(e,u)(h):u(h)}function u(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):r(h)}}function ptt(e,t,r){const n=this;return i;function i(o){return Dfe.call(n,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return n.parser.defined.includes(ul(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(o):r(o)}function s(o){return r(o)}}function gtt(e,t,r){return n;function n(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):r(a)}}const mtt={name:"labelStartImage",resolveAll:bF.resolveAll,tokenize:vtt};function vtt(e,t,r){const n=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):r(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const ytt={name:"labelStartLink",resolveAll:bF.resolveAll,tokenize:xtt};function xtt(e,t,r){const n=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(s):t(s)}}const xM={name:"lineEnding",tokenize:_tt};function _tt(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Xr(e,t,"linePrefix")}}const iE={name:"thematicBreak",tokenize:btt};function btt(e,t,r){let n=0,i;return a;function a(c){return e.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):n>=3&&(c===null||zt(c))?(e.exit("thematicBreak"),t(c)):r(c)}function l(c){return c===i?(e.consume(c),n++,l):(e.exit("thematicBreakSequence"),Pr(c)?Xr(e,o,"whitespace")(c):o(c))}}const ns={continuation:{tokenize:ktt},exit:Ttt,name:"list",tokenize:Ctt},wtt={partial:!0,tokenize:Ntt},Stt={partial:!0,tokenize:Ett};function Ctt(e,t,r){const n=this,i=n.events[n.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(p){const g=n.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!n.containerState.marker||p===n.containerState.marker:JO(p)){if(n.containerState.type||(n.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(iE,r,c)(p):c(p);if(!n.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(p)}return r(p)}function l(p){return JO(p)&&++s<10?(e.consume(p),l):(!n.interrupt||s<2)&&(n.containerState.marker?p===n.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),c(p)):r(p)}function c(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||p,e.check(v1,n.interrupt?r:u,e.attempt(wtt,f,h))}function u(p){return n.containerState.initialBlankLine=!0,a++,f(p)}function h(p){return Pr(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),f):r(p)}function f(p){return n.containerState.size=a+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function ktt(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(v1,i,a);function i(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,Xr(e,t,"listItemIndent",n.containerState.size+1)(o)}function a(o){return n.containerState.furtherBlankLines||!Pr(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,s(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(Stt,t,s)(o))}function s(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,Xr(e,e.attempt(ns,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Ett(e,t,r){const n=this;return Xr(e,i,"listItemIndent",n.containerState.size+1);function i(a){const s=n.events[n.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===n.containerState.size?t(a):r(a)}}function Ttt(e){e.exit(this.containerState.type)}function Ntt(e,t,r){const n=this;return Xr(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=n.events[n.events.length-1];return!Pr(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):r(a)}}const RK={name:"setextUnderline",resolveTo:Att,tokenize:jtt};function Att(e,t){let r=e.length,n,i,a;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!a&&e[r][1].type==="definition"&&(a=r);const s={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[n][1],t]),e[n][1].end={...e[a][1].end}):e[n][1]=s,e.push(["exit",s,t]),e}function jtt(e,t,r){const n=this;let i;return a;function a(c){let u=n.events.length,h;for(;u--;)if(n.events[u][1].type!=="lineEnding"&&n.events[u][1].type!=="linePrefix"&&n.events[u][1].type!=="content"){h=n.events[u][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||h)?(e.enter("setextHeadingLine"),i=c,s(c)):r(c)}function s(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),Pr(c)?Xr(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||zt(c)?(e.exit("setextHeadingLine"),t(c)):r(c)}}const Rtt={tokenize:Itt};function Itt(e){const t=this,r=e.attempt(v1,n,e.attempt(this.parser.constructs.flowInitial,i,Xr(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Oet,i)),"linePrefix")));return r;function n(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const Mtt={resolveAll:Bfe()},Ptt=$fe("string"),Ltt=$fe("text");function $fe(e){return{resolveAll:Bfe(e==="text"?Dtt:void 0),tokenize:t};function t(r){const n=this,i=this.parser.constructs[e],a=r.attempt(i,s,o);return s;function s(u){return c(u)?a(u):o(u)}function o(u){if(u===null){r.consume(u);return}return r.enter("data"),r.consume(u),l}function l(u){return c(u)?(r.exit("data"),a(u)):(r.consume(u),l)}function c(u){if(u===null)return!0;const h=i[u];let f=-1;if(h)for(;++f<h.length;){const p=h[f];if(!p.previous||p.previous.call(n,n.previous))return!0}return!1}}}function Bfe(e){return t;function t(r,n){let i=-1,a;for(;++i<=r.length;)a===void 0?r[i]&&r[i][1].type==="data"&&(a=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==a+2&&(r[a][1].end=r[i-1][1].end,r.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(r,n):r}}function Dtt(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(o=0),o){const c={type:r===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:n.start._bufferIndex+s,_index:n.start._index+a,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...c.start},n.start.offset===n.end.offset?Object.assign(n,c):(e.splice(r,0,["enter",c,t],["exit",c,t]),r+=2)}r++}return e}const Ott={42:ns,43:ns,45:ns,48:ns,49:ns,50:ns,51:ns,52:ns,53:ns,54:ns,55:ns,56:ns,57:ns,62:Rfe},$tt={91:Uet},Btt={[-2]:yM,[-1]:yM,32:yM},Ftt={35:Yet,42:iE,45:[RK,iE],60:Jet,61:RK,95:iE,96:AK,126:AK},ztt={38:Mfe,92:Ife},Utt={[-5]:xM,[-4]:xM,[-3]:xM,33:mtt,38:Mfe,42:QO,60:[vet,att],91:ytt,92:[Get,Ife],93:bF,95:QO,96:Ret},Htt={null:[QO,Mtt]},Vtt={null:[42,95]},Wtt={null:[]},Gtt=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Vtt,contentInitial:$tt,disable:Wtt,document:Ott,flow:Ftt,flowInitial:Btt,insideSpan:Htt,string:ztt,text:Utt},Symbol.toStringTag,{value:"Module"}));function qtt(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:k(w),check:k(S),consume:x,enter:_,exit:b,interrupt:k(S,{interrupt:!0})},c={code:null,containerState:{},defineSkip:v,events:[],now:g,parser:e,previous:null,sliceSerialize:f,sliceStream:p,write:h};let u=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function h(N){return s=_o(s,N),m(),s[s.length-1]!==null?[]:(C(t,0),c.events=wA(a,c.events,c),c.events)}function f(N,I){return Ktt(p(N),I)}function p(N){return Ytt(s,N)}function g(){const{_bufferIndex:N,_index:I,line:P,column:D,offset:$}=n;return{_bufferIndex:N,_index:I,line:P,column:D,offset:$}}function v(N){i[N.line]=N.column,T()}function m(){let N;for(;n._index<s.length;){const I=s[n._index];if(typeof I=="string")for(N=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===N&&n._bufferIndex<I.length;)y(I.charCodeAt(n._bufferIndex));else y(I)}}function y(N){u=u(N)}function x(N){zt(N)?(n.line++,n.column=1,n.offset+=N===-3?2:1,T()):N!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===s[n._index].length&&(n._bufferIndex=-1,n._index++)),c.previous=N}function _(N,I){const P=I||{};return P.type=N,P.start=g(),c.events.push(["enter",P,c]),o.push(P),P}function b(N){const I=o.pop();return I.end=g(),c.events.push(["exit",I,c]),I}function w(N,I){C(N,I.from)}function S(N,I){I.restore()}function k(N,I){return P;function P(D,$,L){let O,j,M,R;return Array.isArray(D)?U(D):"tokenize"in D?U([D]):z(D);function z(K){return B;function B(W){const Y=W!==null&&K[W],Z=W!==null&&K.null,Q=[...Array.isArray(Y)?Y:Y?[Y]:[],...Array.isArray(Z)?Z:Z?[Z]:[]];return U(Q)(W)}}function U(K){return O=K,j=0,K.length===0?L:F(K[j])}function F(K){return B;function B(W){return R=E(),M=K,K.partial||(c.currentConstruct=K),K.name&&c.parser.constructs.disable.null.includes(K.name)?q():K.tokenize.call(I?Object.assign(Object.create(c),I):c,l,G,q)(W)}}function G(K){return N(M,R),$}function q(K){return R.restore(),++j<O.length?F(O[j]):L}}}function C(N,I){N.resolveAll&&!a.includes(N)&&a.push(N),N.resolve&&Us(c.events,I,c.events.length-I,N.resolve(c.events.slice(I),c)),N.resolveTo&&(c.events=N.resolveTo(c.events,c))}function E(){const N=g(),I=c.previous,P=c.currentConstruct,D=c.events.length,$=Array.from(o);return{from:D,restore:L};function L(){n=N,c.previous=I,c.currentConstruct=P,c.events.length=D,o=$,T()}}function T(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function Ytt(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(r===i)s=[e[r].slice(n,a)];else{if(s=e.slice(r,i),n>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(n):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function Ktt(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const a=e[r];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,n.push(s)}return n.join("")}function Xtt(e){const n={constructs:Afe([Gtt,...(e||{}).extensions||[]]),content:i(uet),defined:[],document:i(het),flow:i(Rtt),lazy:{},string:i(Ptt),text:i(Ltt)};return n;function i(a){return s;function s(o){return qtt(n,a,o)}}}function Ztt(e){for(;!Pfe(e););return e}const IK=/[\0\t\n\r]/g;function Jtt(){let e=1,t="",r=!0,n;return i;function i(a,s,o){const l=[];let c,u,h,f,p;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),h=0,t="",r&&(a.charCodeAt(0)===65279&&h++,r=void 0);h<a.length;){if(IK.lastIndex=h,c=IK.exec(a),f=c&&c.index!==void 0?c.index:a.length,p=a.charCodeAt(f),!c){t=a.slice(h);break}if(p===10&&h===f&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),h<f&&(l.push(a.slice(h,f)),e+=f-h),p){case 0:{l.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,l.push(-2);e++<u;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:n=!0,e=1}h=f+1}return o&&(n&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Qtt=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ert(e){return e.replace(Qtt,trt)}function trt(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),a=i===120||i===88;return jfe(r.slice(a?2:1),a?16:10)}return _F(r)||e}const Ffe={}.hasOwnProperty;function rrt(e,t,r){return typeof t!="string"&&(r=t,t=void 0),nrt(r)(Ztt(Xtt(r).document().write(Jtt()(e,t,!0))))}function nrt(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(bt),autolinkProtocol:E,autolinkEmail:E,atxHeading:a(Ne),blockQuote:a(Z),characterEscape:E,characterReference:E,codeFenced:a(Q),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(Q,s),codeText:a(re,s),codeTextData:E,data:E,codeFlowValue:E,definition:a(me),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(Ee),hardBreakEscape:a(Me),hardBreakTrailing:a(Me),htmlFlow:a(Ae,s),htmlFlowData:E,htmlText:a(Ae,s),htmlTextData:E,image:a(Ie),label:s,link:a(bt),listItem:a(fe),listItemValue:f,listOrdered:a(pt,h),listUnordered:a(pt),paragraph:a(et),reference:F,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(Ne),strong:a(He),thematicBreak:a(tt)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:Y,autolinkProtocol:W,blockQuote:l(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:q,characterReferenceMarkerNumeric:q,characterReferenceValue:K,characterReference:B,codeFenced:l(m),codeFencedFence:v,codeFencedFenceInfo:p,codeFencedFenceMeta:g,codeFlowValue:T,codeIndented:l(y),codeText:l($),codeTextData:T,data:T,definition:l(),definitionDestinationString:b,definitionLabelString:x,definitionTitleString:_,emphasis:l(),hardBreakEscape:l(I),hardBreakTrailing:l(I),htmlFlow:l(P),htmlFlowData:T,htmlText:l(D),htmlTextData:T,image:l(O),label:M,labelText:j,lineEnding:N,link:l(L),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:G,resourceDestinationString:R,resourceTitleString:z,resource:U,setextHeading:l(C),setextHeadingLineSequence:k,setextHeadingText:S,strong:l(),thematicBreak:l()}};zfe(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(ee){let se={type:"root",children:[]};const J={stack:[se],tokenStack:[],config:t,enter:o,exit:c,buffer:s,resume:u,data:r},ne=[];let le=-1;for(;++le<ee.length;)if(ee[le][1].type==="listOrdered"||ee[le][1].type==="listUnordered")if(ee[le][0]==="enter")ne.push(le);else{const Re=ne.pop();le=i(ee,Re,le)}for(le=-1;++le<ee.length;){const Re=t[ee[le][0]];Ffe.call(Re,ee[le][1].type)&&Re[ee[le][1].type].call(Object.assign({sliceSerialize:ee[le][2].sliceSerialize},J),ee[le][1])}if(J.tokenStack.length>0){const Re=J.tokenStack[J.tokenStack.length-1];(Re[1]||MK).call(J,void 0,Re[0])}for(se.position={start:ld(ee.length>0?ee[0][1].start:{line:1,column:1,offset:0}),end:ld(ee.length>0?ee[ee.length-2][1].end:{line:1,column:1,offset:0})},le=-1;++le<t.transforms.length;)se=t.transforms[le](se)||se;return se}function i(ee,se,J){let ne=se-1,le=-1,Re=!1,ze,Te,Dt,It;for(;++ne<=J;){const gr=ee[ne];switch(gr[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{gr[0]==="enter"?le++:le--,It=void 0;break}case"lineEndingBlank":{gr[0]==="enter"&&(ze&&!It&&!le&&!Dt&&(Dt=ne),It=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:It=void 0}if(!le&&gr[0]==="enter"&&gr[1].type==="listItemPrefix"||le===-1&&gr[0]==="exit"&&(gr[1].type==="listUnordered"||gr[1].type==="listOrdered")){if(ze){let Mt=ne;for(Te=void 0;Mt--;){const qt=ee[Mt];if(qt[1].type==="lineEnding"||qt[1].type==="lineEndingBlank"){if(qt[0]==="exit")continue;Te&&(ee[Te][1].type="lineEndingBlank",Re=!0),qt[1].type="lineEnding",Te=Mt}else if(!(qt[1].type==="linePrefix"||qt[1].type==="blockQuotePrefix"||qt[1].type==="blockQuotePrefixWhitespace"||qt[1].type==="blockQuoteMarker"||qt[1].type==="listItemIndent"))break}Dt&&(!Te||Dt<Te)&&(ze._spread=!0),ze.end=Object.assign({},Te?ee[Te][1].start:gr[1].end),ee.splice(Te||ne,0,["exit",ze,gr[2]]),ne++,J++}if(gr[1].type==="listItemPrefix"){const Mt={type:"listItem",_spread:!1,start:Object.assign({},gr[1].start),end:void 0};ze=Mt,ee.splice(ne,0,["enter",Mt,gr[2]]),ne++,J++,Dt=void 0,It=!0}}}return ee[se][1]._spread=Re,J}function a(ee,se){return J;function J(ne){o.call(this,ee(ne),ne),se&&se.call(this,ne)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(ee,se,J){this.stack[this.stack.length-1].children.push(ee),this.stack.push(ee),this.tokenStack.push([se,J||void 0]),ee.position={start:ld(se.start),end:void 0}}function l(ee){return se;function se(J){ee&&ee.call(this,J),c.call(this,J)}}function c(ee,se){const J=this.stack.pop(),ne=this.tokenStack.pop();if(ne)ne[0].type!==ee.type&&(se?se.call(this,ee,ne[0]):(ne[1]||MK).call(this,ee,ne[0]));else throw new Error("Cannot close `"+ee.type+"` ("+O_({start:ee.start,end:ee.end})+"): it’s not open");J.position.end=ld(ee.end)}function u(){return xF(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(ee){if(this.data.expectingFirstListItemValue){const se=this.stack[this.stack.length-2];se.start=Number.parseInt(this.sliceSerialize(ee),10),this.data.expectingFirstListItemValue=void 0}}function p(){const ee=this.resume(),se=this.stack[this.stack.length-1];se.lang=ee}function g(){const ee=this.resume(),se=this.stack[this.stack.length-1];se.meta=ee}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function m(){const ee=this.resume(),se=this.stack[this.stack.length-1];se.value=ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const ee=this.resume(),se=this.stack[this.stack.length-1];se.value=ee.replace(/(\r?\n|\r)$/g,"")}function x(ee){const se=this.resume(),J=this.stack[this.stack.length-1];J.label=se,J.identifier=ul(this.sliceSerialize(ee)).toLowerCase()}function _(){const ee=this.resume(),se=this.stack[this.stack.length-1];se.title=ee}function b(){const ee=this.resume(),se=this.stack[this.stack.length-1];se.url=ee}function w(ee){const se=this.stack[this.stack.length-1];if(!se.depth){const J=this.sliceSerialize(ee).length;se.depth=J}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function k(ee){const se=this.stack[this.stack.length-1];se.depth=this.sliceSerialize(ee).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function E(ee){const J=this.stack[this.stack.length-1].children;let ne=J[J.length-1];(!ne||ne.type!=="text")&&(ne=Gt(),ne.position={start:ld(ee.start),end:void 0},J.push(ne)),this.stack.push(ne)}function T(ee){const se=this.stack.pop();se.value+=this.sliceSerialize(ee),se.position.end=ld(ee.end)}function N(ee){const se=this.stack[this.stack.length-1];if(this.data.atHardBreak){const J=se.children[se.children.length-1];J.position.end=ld(ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(se.type)&&(E.call(this,ee),T.call(this,ee))}function I(){this.data.atHardBreak=!0}function P(){const ee=this.resume(),se=this.stack[this.stack.length-1];se.value=ee}function D(){const ee=this.resume(),se=this.stack[this.stack.length-1];se.value=ee}function $(){const ee=this.resume(),se=this.stack[this.stack.length-1];se.value=ee}function L(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const se=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=se,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function O(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const se=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=se,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function j(ee){const se=this.sliceSerialize(ee),J=this.stack[this.stack.length-2];J.label=ert(se),J.identifier=ul(se).toLowerCase()}function M(){const ee=this.stack[this.stack.length-1],se=this.resume(),J=this.stack[this.stack.length-1];if(this.data.inReference=!0,J.type==="link"){const ne=ee.children;J.children=ne}else J.alt=se}function R(){const ee=this.resume(),se=this.stack[this.stack.length-1];se.url=ee}function z(){const ee=this.resume(),se=this.stack[this.stack.length-1];se.title=ee}function U(){this.data.inReference=void 0}function F(){this.data.referenceType="collapsed"}function G(ee){const se=this.resume(),J=this.stack[this.stack.length-1];J.label=se,J.identifier=ul(this.sliceSerialize(ee)).toLowerCase(),this.data.referenceType="full"}function q(ee){this.data.characterReferenceType=ee.type}function K(ee){const se=this.sliceSerialize(ee),J=this.data.characterReferenceType;let ne;J?(ne=jfe(se,J==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ne=_F(se);const le=this.stack[this.stack.length-1];le.value+=ne}function B(ee){const se=this.stack.pop();se.position.end=ld(ee.end)}function W(ee){T.call(this,ee);const se=this.stack[this.stack.length-1];se.url=this.sliceSerialize(ee)}function Y(ee){T.call(this,ee);const se=this.stack[this.stack.length-1];se.url="mailto:"+this.sliceSerialize(ee)}function Z(){return{type:"blockquote",children:[]}}function Q(){return{type:"code",lang:null,meta:null,value:""}}function re(){return{type:"inlineCode",value:""}}function me(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ee(){return{type:"emphasis",children:[]}}function Ne(){return{type:"heading",depth:0,children:[]}}function Me(){return{type:"break"}}function Ae(){return{type:"html",value:""}}function Ie(){return{type:"image",title:null,url:"",alt:null}}function bt(){return{type:"link",title:null,url:"",children:[]}}function pt(ee){return{type:"list",ordered:ee.type==="listOrdered",start:null,spread:ee._spread,children:[]}}function fe(ee){return{type:"listItem",spread:ee._spread,checked:null,children:[]}}function et(){return{type:"paragraph",children:[]}}function He(){return{type:"strong",children:[]}}function Gt(){return{type:"text",value:""}}function tt(){return{type:"thematicBreak"}}}function ld(e){return{line:e.line,column:e.column,offset:e.offset}}function zfe(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?zfe(e,n):irt(e,n)}}function irt(e,t){let r;for(r in t)if(Ffe.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function MK(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+O_({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+O_({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+O_({start:t.start,end:t.end})+") is still open")}function art(e){const t=this;t.parser=r;function r(n){return rrt(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function srt(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function ort(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function lrt(e,t){const r=t.value?t.value+`
`:"",n={};t.lang&&(n.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function crt(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function urt(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function drt(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=D0(n.toLowerCase()),a=e.footnoteOrder.indexOf(n);let s,o=e.footnoteCounts.get(n);o===void 0?(o=0,e.footnoteOrder.push(n),s=e.footnoteOrder.length):s=a+1,o+=1,e.footnoteCounts.set(n,o);const l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function hrt(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function frt(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function Ufe(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=n:i.push({type:"text",value:n}),i}function prt(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return Ufe(e,t);const i={src:D0(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function grt(e,t){const r={src:D0(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function mrt(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function vrt(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return Ufe(e,t);const i={href:D0(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function yrt(e,t){const r={href:D0(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xrt(e,t,r){const n=e.all(t),i=r?_rt(r):Hfe(t),a={},s=[];if(typeof t.checked=="boolean"){const u=n[0];let h;u&&u.type==="element"&&u.tagName==="p"?h=u:(h={type:"element",tagName:"p",properties:{},children:[]},n.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const u=n[o];(i||o!==0||u.type!=="element"||u.tagName!=="p")&&s.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?s.push(...u.children):s.push(u)}const l=n[n.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,c),e.applyData(t,c)}function _rt(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=Hfe(r[n])}return t}function Hfe(e){const t=e.spread;return t??e.children.length>1}function brt(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const s=n[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,a),e.applyData(t,a)}function wrt(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Srt(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function Crt(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function krt(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],s),i.push(s)}if(r.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},o=gF(t.children[1]),l=wfe(t.children[t.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function Ert(e,t,r){const n=r?r.children:void 0,a=(n?n.indexOf(t):1)===0?"th":"td",s=r&&r.type==="table"?r.align:void 0,o=s?s.length:t.children.length;let l=-1;const c=[];for(;++l<o;){const h=t.children[l],f={},p=s?s[l]:void 0;p&&(f.align=p);let g={type:"element",tagName:a,properties:f,children:[]};h&&(g.children=e.all(h),e.patch(h,g),g=e.applyData(h,g)),c.push(g)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,u),e.applyData(t,u)}function Trt(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const PK=9,LK=32;function Nrt(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const a=[];for(;n;)a.push(DK(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return a.push(DK(t.slice(i),i>0,!1)),a.join("")}function DK(e,t,r){let n=0,i=e.length;if(t){let a=e.codePointAt(n);for(;a===PK||a===LK;)n++,a=e.codePointAt(n)}if(r){let a=e.codePointAt(i-1);for(;a===PK||a===LK;)i--,a=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function Art(e,t){const r={type:"text",value:Nrt(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function jrt(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const Rrt={blockquote:srt,break:ort,code:lrt,delete:crt,emphasis:urt,footnoteReference:drt,heading:hrt,html:frt,imageReference:prt,image:grt,inlineCode:mrt,linkReference:vrt,link:yrt,listItem:xrt,list:brt,paragraph:wrt,root:Srt,strong:Crt,table:krt,tableCell:Trt,tableRow:Ert,text:Art,thematicBreak:jrt,toml:GC,yaml:GC,definition:GC,footnoteDefinition:GC};function GC(){}const Vfe=-1,SA=0,B_=1,aN=2,wF=3,SF=4,CF=5,kF=6,Wfe=7,Gfe=8,OK=typeof self=="object"?self:globalThis,Irt=(e,t)=>{const r=(i,a)=>(e.set(a,i),i),n=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case SA:case Vfe:return r(s,i);case B_:{const o=r([],i);for(const l of s)o.push(n(l));return o}case aN:{const o=r({},i);for(const[l,c]of s)o[n(l)]=n(c);return o}case wF:return r(new Date(s),i);case SF:{const{source:o,flags:l}=s;return r(new RegExp(o,l),i)}case CF:{const o=r(new Map,i);for(const[l,c]of s)o.set(n(l),n(c));return o}case kF:{const o=r(new Set,i);for(const l of s)o.add(n(l));return o}case Wfe:{const{name:o,message:l}=s;return r(new OK[o](l),i)}case Gfe:return r(BigInt(s),i);case"BigInt":return r(Object(BigInt(s)),i);case"ArrayBuffer":return r(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return r(new DataView(o),s)}}return r(new OK[a](s),i)};return n},$K=e=>Irt(new Map,e)(0),tm="",{toString:Mrt}={},{keys:Prt}=Object,mx=e=>{const t=typeof e;if(t!=="object"||!e)return[SA,t];const r=Mrt.call(e).slice(8,-1);switch(r){case"Array":return[B_,tm];case"Object":return[aN,tm];case"Date":return[wF,tm];case"RegExp":return[SF,tm];case"Map":return[CF,tm];case"Set":return[kF,tm];case"DataView":return[B_,r]}return r.includes("Array")?[B_,r]:r.includes("Error")?[Wfe,r]:[aN,r]},qC=([e,t])=>e===SA&&(t==="function"||t==="symbol"),Lrt=(e,t,r,n)=>{const i=(s,o)=>{const l=n.push(s)-1;return r.set(o,l),l},a=s=>{if(r.has(s))return r.get(s);let[o,l]=mx(s);switch(o){case SA:{let u=s;switch(l){case"bigint":o=Gfe,u=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([Vfe],s)}return i([o,u],s)}case B_:{if(l){let f=s;return l==="DataView"?f=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(s)),i([l,[...f]],s)}const u=[],h=i([o,u],s);for(const f of s)u.push(a(f));return h}case aN:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const u=[],h=i([o,u],s);for(const f of Prt(s))(e||!qC(mx(s[f])))&&u.push([a(f),a(s[f])]);return h}case wF:return i([o,s.toISOString()],s);case SF:{const{source:u,flags:h}=s;return i([o,{source:u,flags:h}],s)}case CF:{const u=[],h=i([o,u],s);for(const[f,p]of s)(e||!(qC(mx(f))||qC(mx(p))))&&u.push([a(f),a(p)]);return h}case kF:{const u=[],h=i([o,u],s);for(const f of s)(e||!qC(mx(f)))&&u.push(a(f));return h}}const{message:c}=s;return i([o,{name:l,message:c}],s)};return a},BK=(e,{json:t,lossy:r}={})=>{const n=[];return Lrt(!(t||r),!!t,new Map,n)(e),n},sN=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?$K(BK(e,t)):structuredClone(e):(e,t)=>$K(BK(e,t));function Drt(e,t){const r=[{type:"text",value:"↩"}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function Ort(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function $rt(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||Drt,n=e.options.footnoteBackLabel||Ort,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const u=e.all(c),h=String(c.identifier).toUpperCase(),f=D0(h.toLowerCase());let p=0;const g=[],v=e.footnoteCounts.get(h);for(;v!==void 0&&++p<=v;){g.length>0&&g.push({type:"text",value:" "});let x=typeof r=="string"?r:r(l,p);typeof x=="string"&&(x={type:"text",value:x}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(l,p),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const m=u[u.length-1];if(m&&m.type==="element"&&m.tagName==="p"){const x=m.children[m.children.length-1];x&&x.type==="text"?x.value+=" ":m.children.push({type:"text",value:" "}),m.children.push(...g)}else u.push(...g);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(u,!0)};e.patch(c,y),o.push(y)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...sN(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const y1=function(e){if(e==null)return Urt;if(typeof e=="function")return CA(e);if(typeof e=="object")return Array.isArray(e)?Brt(e):Frt(e);if(typeof e=="string")return zrt(e);throw new Error("Expected function, string, or object as test")};function Brt(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=y1(e[r]);return CA(n);function n(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function Frt(e){const t=e;return CA(r);function r(n){const i=n;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function zrt(e){return CA(t);function t(r){return r&&r.type===e}}function CA(e){return t;function t(r,n,i){return!!(Hrt(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function Urt(){return!0}function Hrt(e){return e!==null&&typeof e=="object"&&"type"in e}const qfe=[],Vrt=!0,e3=!1,Wrt="skip";function Yfe(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const a=y1(i),s=n?-1:1;o(e,void 0,[])();function o(l,c,u){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const p=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=qfe,g,v,m;if((!t||a(l,c,u[u.length-1]||void 0))&&(p=Grt(r(l,u)),p[0]===e3))return p;if("children"in l&&l.children){const y=l;if(y.children&&p[0]!==Wrt)for(v=(n?y.children.length:-1)+s,m=u.concat(y);v>-1&&v<y.children.length;){const x=y.children[v];if(g=o(x,v,m)(),g[0]===e3)return g;v=typeof g[1]=="number"?g[1]:v+s}}return p}}}function Grt(e){return Array.isArray(e)?e:typeof e=="number"?[Vrt,e]:e==null?qfe:[e]}function kA(e,t,r,n){let i,a,s;typeof t=="function"&&typeof r!="function"?(a=void 0,s=t,i=r):(a=t,s=r,i=n),Yfe(e,a,o,i);function o(l,c){const u=c[c.length-1],h=u?u.children.indexOf(l):void 0;return s(l,h,u)}}const t3={}.hasOwnProperty,qrt={};function Yrt(e,t){const r=t||qrt,n=new Map,i=new Map,a=new Map,s={...Rrt,...r.handlers},o={all:c,applyData:Xrt,definitionById:n,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:r,patch:Krt,wrap:Jrt};return kA(e,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const h=u.type==="definition"?n:i,f=String(u.identifier).toUpperCase();h.has(f)||h.set(f,u)}}),o;function l(u,h){const f=u.type,p=o.handlers[f];if(t3.call(o.handlers,f)&&p)return p(o,u,h);if(o.options.passThrough&&o.options.passThrough.includes(f)){if("children"in u){const{children:v,...m}=u,y=sN(m);return y.children=o.all(u),y}return sN(u)}return(o.options.unknownHandler||Zrt)(o,u,h)}function c(u){const h=[];if("children"in u){const f=u.children;let p=-1;for(;++p<f.length;){const g=o.one(f[p],u);if(g){if(p&&f[p-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=FK(g.value)),!Array.isArray(g)&&g.type==="element")){const v=g.children[0];v&&v.type==="text"&&(v.value=FK(v.value))}Array.isArray(g)?h.push(...g):h.push(g)}}}return h}}function Krt(e,t){e.position&&(t.position=LQe(e))}function Xrt(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const s="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:s}}r.type==="element"&&a&&Object.assign(r.properties,sN(a)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function Zrt(e,t){const r=t.data||{},n="value"in t&&!(t3.call(r,"hProperties")||t3.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Jrt(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function FK(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function zK(e,t){const r=Yrt(e,t),n=r.one(e,void 0),i=$rt(r),a=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function Qrt(e,t){return e&&"run"in e?async function(r,n){const i=zK(r,{file:n,...t});await e.run(i,n)}:function(r,n){return zK(r,{file:n,...e||t})}}function UK(e){if(e)throw e}var aE=Object.prototype.hasOwnProperty,Kfe=Object.prototype.toString,HK=Object.defineProperty,VK=Object.getOwnPropertyDescriptor,WK=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Kfe.call(t)==="[object Array]"},GK=function(t){if(!t||Kfe.call(t)!=="[object Object]")return!1;var r=aE.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&aE.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var i;for(i in t);return typeof i>"u"||aE.call(t,i)},qK=function(t,r){HK&&r.name==="__proto__"?HK(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},YK=function(t,r){if(r==="__proto__")if(aE.call(t,r)){if(VK)return VK(t,r).value}else return;return t[r]},ent=function e(){var t,r,n,i,a,s,o=arguments[0],l=1,c=arguments.length,u=!1;for(typeof o=="boolean"&&(u=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(t=arguments[l],t!=null)for(r in t)n=YK(o,r),i=YK(t,r),o!==i&&(u&&i&&(GK(i)||(a=WK(i)))?(a?(a=!1,s=n&&WK(n)?n:[]):s=n&&GK(n)?n:{},qK(o,{name:r,newValue:e(u,s,i)})):typeof i<"u"&&qK(o,{name:r,newValue:i}));return o};const _M=t0(ent);function r3(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function tnt(){const e=[],t={run:r,use:n};return t;function r(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const u=e[++a];let h=-1;if(l){s(l);return}for(;++h<i.length;)(c[h]===null||c[h]===void 0)&&(c[h]=i[h]);i=c,u?rnt(u,o)(...c):s(null,...c)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function rnt(e,t){let r;return n;function n(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(c){const u=c;if(o&&r)throw u;return i(u)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){r||(r=!0,t(s,...o))}function a(s){i(null,s)}}const Gl={basename:nnt,dirname:int,extname:ant,join:snt,sep:"/"};function nnt(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');x1(e);let r=0,n=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){r=i+1;break}}else n<0&&(a=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){r=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(n=i):(o=-1,n=s));return r===n?n=s:n<0&&(n=e.length),e.slice(r,n)}function int(e){if(x1(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function ant(e){x1(e);let t=e.length,r=-1,n=0,i=-1,a=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){n=t+1;break}continue}r<0&&(s=!0,r=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||r<0||a===0||a===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function snt(...e){let t=-1,r;for(;++t<e.length;)x1(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":ont(r)}function ont(e){x1(e);const t=e.codePointAt(0)===47;let r=lnt(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function lnt(e,t){let r="",n=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=s,a=0;continue}}else if(r.length>0){r="",n=0,i=s,a=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,s):r=e.slice(i+1,s),n=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return r}function x1(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const cnt={cwd:unt};function unt(){return"/"}function n3(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function dnt(e){if(typeof e=="string")e=new URL(e);else if(!n3(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return hnt(e)}function hnt(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const bM=["history","path","basename","stem","extname","dirname"];class Xfe{constructor(t){let r;t?n3(t)?r={path:t}:typeof t=="string"||fnt(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":cnt.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<bM.length;){const a=bM[n];a in r&&r[a]!==void 0&&r[a]!==null&&(this[a]=a==="history"?[...r[a]]:r[a])}let i;for(i in r)bM.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?Gl.basename(this.path):void 0}set basename(t){SM(t,"basename"),wM(t,"basename"),this.path=Gl.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Gl.dirname(this.path):void 0}set dirname(t){KK(this.basename,"dirname"),this.path=Gl.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Gl.extname(this.path):void 0}set extname(t){if(wM(t,"extname"),KK(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Gl.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){n3(t)&&(t=dnt(t)),SM(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Gl.basename(this.path,this.extname):void 0}set stem(t){SM(t,"stem"),wM(t,"stem"),this.path=Gl.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new Ca(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function wM(e,t){if(e&&e.includes(Gl.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Gl.sep+"`")}function SM(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function KK(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function fnt(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const pnt=function(e){const n=this.constructor.prototype,i=n[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,n),a},gnt={}.hasOwnProperty;class EF extends pnt{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=tnt()}copy(){const t=new EF;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(_M(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(EM("data",this.frozen),this.namespace[t]=r,this):gnt.call(this.namespace,t)&&this.namespace[t]||void 0:t?(EM("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=YC(t),n=this.parser||this.Parser;return CM("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),CM("process",this.parser||this.Parser),kM("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(a,s){const o=YC(t),l=n.parse(o);n.run(l,o,function(u,h,f){if(u||!h||!f)return c(u);const p=h,g=n.stringify(p,f);ynt(g)?f.value=g:f.result=g,c(u,f)});function c(u,h){u||!h?s(u):a?a(h):r(void 0,h)}}}processSync(t){let r=!1,n;return this.freeze(),CM("processSync",this.parser||this.Parser),kM("processSync",this.compiler||this.Compiler),this.process(t,i),ZK("processSync","process",r),n;function i(a,s){r=!0,UK(a),n=s}}run(t,r,n){XK(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?a(void 0,n):new Promise(a);function a(s,o){const l=YC(r);i.run(t,l,c);function c(u,h,f){const p=h||t;u?o(u):s?s(p):n(void 0,p,f)}}}runSync(t,r){let n=!1,i;return this.run(t,r,a),ZK("runSync","run",n),i;function a(s,o){UK(s),i=o,n=!0}}stringify(t,r){this.freeze();const n=YC(r),i=this.compiler||this.Compiler;return kM("stringify",i),XK(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(EM("use",this.frozen),t!=null)if(typeof t=="function")l(t,r);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...h]=c;l(u,h)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=_M(!0,i.settings,c.settings))}function o(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const h=c[u];a(h)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let h=-1,f=-1;for(;++h<n.length;)if(n[h][0]===c){f=h;break}if(f===-1)n.push([c,...u]);else if(u.length>0){let[p,...g]=u;const v=n[f][1];r3(v)&&r3(p)&&(p=_M(!0,v,p)),n[f]=[c,p,...g]}}}}const mnt=new EF().freeze();function CM(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function kM(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function EM(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function XK(e){if(!r3(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function ZK(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function YC(e){return vnt(e)?e:new Xfe(e)}function vnt(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function ynt(e){return typeof e=="string"||xnt(e)}function xnt(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const _nt="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",JK=[],QK={allowDangerousHtml:!0},bnt=/^(https?|ircs?|mailto|xmpp)$/i,wnt=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Snt(e){const t=Cnt(e),r=knt(e);return Ent(t.runSync(t.parse(r),r),e)}function Cnt(e){const t=e.rehypePlugins||JK,r=e.remarkPlugins||JK,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...QK}:QK;return mnt().use(art).use(r).use(Qrt,n).use(t)}function knt(e){const t=e.children||"",r=new Xfe;return typeof t=="string"&&(r.value=t),r}function Ent(e,t){const r=t.allowedElements,n=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||Tnt;for(const u of wnt)Object.hasOwn(t,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+_nt+u.id,void 0);return kA(e,c),FQe(e,{Fragment:d.Fragment,components:i,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function c(u,h,f){if(u.type==="raw"&&f&&typeof h=="number")return s?f.children.splice(h,1):f.children[h]={type:"text",value:u.value},h;if(u.type==="element"){let p;for(p in vM)if(Object.hasOwn(vM,p)&&Object.hasOwn(u.properties,p)){const g=u.properties[p],v=vM[p];(v===null||v.includes(u.tagName))&&(u.properties[p]=l(String(g||""),p,u))}}if(u.type==="element"){let p=r?!r.includes(u.tagName):a?a.includes(u.tagName):!1;if(!p&&n&&typeof h=="number"&&(p=!n(u,h,f)),p&&f&&typeof h=="number")return o&&u.children?f.children.splice(h,1,...u.children):f.children.splice(h,1),h}}}function Tnt(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||r!==-1&&t>r||n!==-1&&t>n||bnt.test(e.slice(0,t))?e:""}function eX(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(t);for(;i!==-1;)n++,i=r.indexOf(t,i+t.length);return n}function Nnt(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Ant(e,t,r){const i=y1((r||{}).ignore||[]),a=jnt(t);let s=-1;for(;++s<a.length;)Yfe(e,"text",o);function o(c,u){let h=-1,f;for(;++h<u.length;){const p=u[h],g=f?f.children:void 0;if(i(p,g?g.indexOf(p):void 0,f))return;f=p}if(f)return l(c,u)}function l(c,u){const h=u[u.length-1],f=a[s][0],p=a[s][1];let g=0;const m=h.children.indexOf(c);let y=!1,x=[];f.lastIndex=0;let _=f.exec(c.value);for(;_;){const b=_.index,w={index:_.index,input:_.input,stack:[...u,c]};let S=p(..._,w);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=b+1:(g!==b&&x.push({type:"text",value:c.value.slice(g,b)}),Array.isArray(S)?x.push(...S):S&&x.push(S),g=b+_[0].length,y=!0),!f.global)break;_=f.exec(c.value)}return y?(g<c.value.length&&x.push({type:"text",value:c.value.slice(g)}),h.children.splice(m,1,...x)):x=[c],m+x.length}}function jnt(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const i=r[n];t.push([Rnt(i[0]),Int(i[1])])}return t}function Rnt(e){return typeof e=="string"?new RegExp(Nnt(e),"g"):e}function Int(e){return typeof e=="function"?e:function(){return e}}const TM="phrasing",NM=["autolink","link","image","label"];function Mnt(){return{transforms:[Fnt],enter:{literalAutolink:Lnt,literalAutolinkEmail:AM,literalAutolinkHttp:AM,literalAutolinkWww:AM},exit:{literalAutolink:Bnt,literalAutolinkEmail:$nt,literalAutolinkHttp:Dnt,literalAutolinkWww:Ont}}}function Pnt(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:TM,notInConstruct:NM},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:TM,notInConstruct:NM},{character:":",before:"[ps]",after:"\\/",inConstruct:TM,notInConstruct:NM}]}}function Lnt(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function AM(e){this.config.enter.autolinkProtocol.call(this,e)}function Dnt(e){this.config.exit.autolinkProtocol.call(this,e)}function Ont(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function $nt(e){this.config.exit.autolinkEmail.call(this,e)}function Bnt(e){this.exit(e)}function Fnt(e){Ant(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,znt],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Unt]],{ignore:["link","linkReference"]})}function znt(e,t,r,n,i){let a="";if(!Zfe(i)||(/^w/i.test(t)&&(r=t+r,t="",a="http://"),!Hnt(r)))return!1;const s=Vnt(r+n);if(!s[0])return!1;const o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function Unt(e,t,r,n){return!Zfe(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function Hnt(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Vnt(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const i=eX(e,"(");let a=eX(e,")");for(;n!==-1&&i>a;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),a++;return[e,r]}function Zfe(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||Fp(r)||bA(r))&&(!t||r!==47)}Jfe.peek=Qnt;function Wnt(){this.buffer()}function Gnt(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function qnt(){this.buffer()}function Ynt(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Knt(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=ul(this.sliceSerialize(e)).toLowerCase(),r.label=t}function Xnt(e){this.exit(e)}function Znt(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=ul(this.sliceSerialize(e)).toLowerCase(),r.label=t}function Jnt(e){this.exit(e)}function Qnt(){return"["}function Jfe(e,t,r,n){const i=r.createTracker(n);let a=i.move("[^");const s=r.enter("footnoteReference"),o=r.enter("reference");return a+=i.move(r.safe(r.associationId(e),{after:"]",before:a})),o(),s(),a+=i.move("]"),a}function eit(){return{enter:{gfmFootnoteCallString:Wnt,gfmFootnoteCall:Gnt,gfmFootnoteDefinitionLabelString:qnt,gfmFootnoteDefinition:Ynt},exit:{gfmFootnoteCallString:Knt,gfmFootnoteCall:Xnt,gfmFootnoteDefinitionLabelString:Znt,gfmFootnoteDefinition:Jnt}}}function tit(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:Jfe},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,i,a,s){const o=a.createTracker(s);let l=o.move("[^");const c=a.enter("footnoteDefinition"),u=a.enter("label");return l+=o.move(a.safe(a.associationId(n),{before:l,after:"]"})),u(),l+=o.move("]:"),n.children&&n.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+a.indentLines(a.containerFlow(n,o.current()),t?Qfe:rit))),c(),l}}function rit(e,t,r){return t===0?e:Qfe(e,t,r)}function Qfe(e,t,r){return(r?"":"    ")+e}const nit=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];epe.peek=lit;function iit(){return{canContainEols:["delete"],enter:{strikethrough:sit},exit:{strikethrough:oit}}}function ait(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:nit}],handlers:{delete:epe}}}function sit(e){this.enter({type:"delete",children:[]},e)}function oit(e){this.exit(e)}function epe(e,t,r,n){const i=r.createTracker(n),a=r.enter("strikethrough");let s=i.move("~~");return s+=r.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function lit(){return"~"}function cit(e){return e.length}function uit(e,t){const r=t||{},n=(r.align||[]).concat(),i=r.stringLength||cit,a=[],s=[],o=[],l=[];let c=0,u=-1;for(;++u<e.length;){const v=[],m=[];let y=-1;for(e[u].length>c&&(c=e[u].length);++y<e[u].length;){const x=dit(e[u][y]);if(r.alignDelimiters!==!1){const _=i(x);m[y]=_,(l[y]===void 0||_>l[y])&&(l[y]=_)}v.push(x)}s[u]=v,o[u]=m}let h=-1;if(typeof n=="object"&&"length"in n)for(;++h<c;)a[h]=tX(n[h]);else{const v=tX(n);for(;++h<c;)a[h]=v}h=-1;const f=[],p=[];for(;++h<c;){const v=a[h];let m="",y="";v===99?(m=":",y=":"):v===108?m=":":v===114&&(y=":");let x=r.alignDelimiters===!1?1:Math.max(1,l[h]-m.length-y.length);const _=m+"-".repeat(x)+y;r.alignDelimiters!==!1&&(x=m.length+x+y.length,x>l[h]&&(l[h]=x),p[h]=x),f[h]=_}s.splice(1,0,f),o.splice(1,0,p),u=-1;const g=[];for(;++u<s.length;){const v=s[u],m=o[u];h=-1;const y=[];for(;++h<c;){const x=v[h]||"";let _="",b="";if(r.alignDelimiters!==!1){const w=l[h]-(m[h]||0),S=a[h];S===114?_=" ".repeat(w):S===99?w%2?(_=" ".repeat(w/2+.5),b=" ".repeat(w/2-.5)):(_=" ".repeat(w/2),b=_):b=" ".repeat(w)}r.delimiterStart!==!1&&!h&&y.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&x==="")&&(r.delimiterStart!==!1||h)&&y.push(" "),r.alignDelimiters!==!1&&y.push(_),y.push(x),r.alignDelimiters!==!1&&y.push(b),r.padding!==!1&&y.push(" "),(r.delimiterEnd!==!1||h!==c-1)&&y.push("|")}g.push(r.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return g.join(`
`)}function dit(e){return e==null?"":String(e)}function tX(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function hit(e,t,r,n){const i=r.enter("blockquote"),a=r.createTracker(n);a.move("> "),a.shift(2);const s=r.indentLines(r.containerFlow(e,a.current()),fit);return i(),s}function fit(e,t,r){return">"+(r?"":" ")+e}function pit(e,t){return rX(e,t.inConstruct,!0)&&!rX(e,t.notInConstruct,!1)}function rX(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function nX(e,t,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&pit(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function git(e,t){const r=String(e);let n=r.indexOf(t),i=n,a=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++a>s&&(s=a):a=1,i=n+t.length,n=r.indexOf(t,i);return s}function mit(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function vit(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function yit(e,t,r,n){const i=vit(r),a=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(mit(e,r)){const h=r.enter("codeIndented"),f=r.indentLines(a,xit);return h(),f}const o=r.createTracker(n),l=i.repeat(Math.max(git(a,i)+1,3)),c=r.enter("codeFenced");let u=o.move(l);if(e.lang){const h=r.enter(`codeFencedLang${s}`);u+=o.move(r.safe(e.lang,{before:u,after:" ",encode:["`"],...o.current()})),h()}if(e.lang&&e.meta){const h=r.enter(`codeFencedMeta${s}`);u+=o.move(" "),u+=o.move(r.safe(e.meta,{before:u,after:`
`,encode:["`"],...o.current()})),h()}return u+=o.move(`
`),a&&(u+=o.move(a+`
`)),u+=o.move(l),c(),u}function xit(e,t,r){return(r?"":"    ")+e}function TF(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function _it(e,t,r,n){const i=TF(r),a=i==='"'?"Quote":"Apostrophe",s=r.enter("definition");let o=r.enter("label");const l=r.createTracker(n);let c=l.move("[");return c+=l.move(r.safe(r.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(r.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=r.enter("destinationRaw"),c+=l.move(r.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=r.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(r.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),s(),c}function bit(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function rw(e){return"&#x"+e.toString(16).toUpperCase()+";"}function oN(e,t,r){const n=Uv(e),i=Uv(t);return n===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}tpe.peek=wit;function tpe(e,t,r,n){const i=bit(r),a=r.enter("emphasis"),s=r.createTracker(n),o=s.move(i);let l=s.move(r.containerPhrasing(e,{after:i,before:o,...s.current()}));const c=l.charCodeAt(0),u=oN(n.before.charCodeAt(n.before.length-1),c,i);u.inside&&(l=rw(c)+l.slice(1));const h=l.charCodeAt(l.length-1),f=oN(n.after.charCodeAt(0),h,i);f.inside&&(l=l.slice(0,-1)+rw(h));const p=s.move(i);return a(),r.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},o+l+p}function wit(e,t,r){return r.options.emphasis||"*"}function Sit(e,t){let r=!1;return kA(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,e3}),!!((!e.depth||e.depth<3)&&xF(e)&&(t.options.setext||r))}function Cit(e,t,r,n){const i=Math.max(Math.min(6,e.depth||1),1),a=r.createTracker(n);if(Sit(e,r)){const u=r.enter("headingSetext"),h=r.enter("phrasing"),f=r.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return h(),u(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const s="#".repeat(i),o=r.enter("headingAtx"),l=r.enter("phrasing");a.move(s+" ");let c=r.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(c)&&(c=rw(c.charCodeAt(0))+c.slice(1)),c=c?s+" "+c:s,r.options.closeAtx&&(c+=" "+s),l(),o(),c}rpe.peek=kit;function rpe(e){return e.value||""}function kit(){return"<"}npe.peek=Eit;function npe(e,t,r,n){const i=TF(r),a=i==='"'?"Quote":"Apostrophe",s=r.enter("image");let o=r.enter("label");const l=r.createTracker(n);let c=l.move("![");return c+=l.move(r.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(r.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=r.enter("destinationRaw"),c+=l.move(r.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=r.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(r.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),c+=l.move(")"),s(),c}function Eit(){return"!"}ipe.peek=Tit;function ipe(e,t,r,n){const i=e.referenceType,a=r.enter("imageReference");let s=r.enter("label");const o=r.createTracker(n);let l=o.move("![");const c=r.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const u=r.stack;r.stack=[],s=r.enter("reference");const h=r.safe(r.associationId(e),{before:l,after:"]",...o.current()});return s(),r.stack=u,a(),i==="full"||!c||c!==h?l+=o.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Tit(){return"!"}ape.peek=Nit;function ape(e,t,r){let n=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++a<r.unsafe.length;){const s=r.unsafe[a],o=r.compilePattern(s);let l;if(s.atBreak)for(;l=o.exec(n);){let c=l.index;n.charCodeAt(c)===10&&n.charCodeAt(c-1)===13&&c--,n=n.slice(0,c)+" "+n.slice(l.index+1)}}return i+n+i}function Nit(){return"`"}function spe(e,t){const r=xF(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}ope.peek=Ait;function ope(e,t,r,n){const i=TF(r),a=i==='"'?"Quote":"Apostrophe",s=r.createTracker(n);let o,l;if(spe(e,r)){const u=r.stack;r.stack=[],o=r.enter("autolink");let h=s.move("<");return h+=s.move(r.containerPhrasing(e,{before:h,after:">",...s.current()})),h+=s.move(">"),o(),r.stack=u,h}o=r.enter("link"),l=r.enter("label");let c=s.move("[");return c+=s.move(r.containerPhrasing(e,{before:c,after:"](",...s.current()})),c+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(r.safe(e.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(l=r.enter("destinationRaw"),c+=s.move(r.safe(e.url,{before:c,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=r.enter(`title${a}`),c+=s.move(" "+i),c+=s.move(r.safe(e.title,{before:c,after:i,...s.current()})),c+=s.move(i),l()),c+=s.move(")"),o(),c}function Ait(e,t,r){return spe(e,r)?"<":"["}lpe.peek=jit;function lpe(e,t,r,n){const i=e.referenceType,a=r.enter("linkReference");let s=r.enter("label");const o=r.createTracker(n);let l=o.move("[");const c=r.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const u=r.stack;r.stack=[],s=r.enter("reference");const h=r.safe(r.associationId(e),{before:l,after:"]",...o.current()});return s(),r.stack=u,a(),i==="full"||!c||c!==h?l+=o.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function jit(){return"["}function NF(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Rit(e){const t=NF(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function Iit(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function cpe(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Mit(e,t,r,n){const i=r.enter("list"),a=r.bulletCurrent;let s=e.ordered?Iit(r):NF(r);const o=e.ordered?s==="."?")":".":Rit(r);let l=t&&r.bulletLastUsed?s===r.bulletLastUsed:!1;if(!e.ordered){const u=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&u&&(!u.children||!u.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(l=!0),cpe(r)===s&&u){let h=-1;for(;++h<e.children.length;){const f=e.children[h];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=o),r.bulletCurrent=s;const c=r.containerFlow(e,n);return r.bulletLastUsed=s,r.bulletCurrent=a,i(),c}function Pit(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Lit(e,t,r,n){const i=Pit(r);let a=r.bulletCurrent||NF(r);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=r.createTracker(n);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=r.enter("listItem"),c=r.indentLines(r.containerFlow(e,o.current()),u);return l(),c;function u(h,f,p){return f?(p?"":" ".repeat(s))+h:(p?a:a+" ".repeat(s-a.length))+h}}function Dit(e,t,r,n){const i=r.enter("paragraph"),a=r.enter("phrasing"),s=r.containerPhrasing(e,n);return a(),i(),s}const Oit=y1(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function $it(e,t,r,n){return(e.children.some(function(s){return Oit(s)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function Bit(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}upe.peek=Fit;function upe(e,t,r,n){const i=Bit(r),a=r.enter("strong"),s=r.createTracker(n),o=s.move(i+i);let l=s.move(r.containerPhrasing(e,{after:i,before:o,...s.current()}));const c=l.charCodeAt(0),u=oN(n.before.charCodeAt(n.before.length-1),c,i);u.inside&&(l=rw(c)+l.slice(1));const h=l.charCodeAt(l.length-1),f=oN(n.after.charCodeAt(0),h,i);f.inside&&(l=l.slice(0,-1)+rw(h));const p=s.move(i+i);return a(),r.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},o+l+p}function Fit(e,t,r){return r.options.strong||"*"}function zit(e,t,r,n){return r.safe(e.value,n)}function Uit(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Hit(e,t,r){const n=(cpe(r)+(r.options.ruleSpaces?" ":"")).repeat(Uit(r));return r.options.ruleSpaces?n.slice(0,-1):n}const dpe={blockquote:hit,break:nX,code:yit,definition:_it,emphasis:tpe,hardBreak:nX,heading:Cit,html:rpe,image:npe,imageReference:ipe,inlineCode:ape,link:ope,linkReference:lpe,list:Mit,listItem:Lit,paragraph:Dit,root:$it,strong:upe,text:zit,thematicBreak:Hit};function Vit(){return{enter:{table:Wit,tableData:iX,tableHeader:iX,tableRow:qit},exit:{codeText:Yit,table:Git,tableData:jM,tableHeader:jM,tableRow:jM}}}function Wit(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function Git(e){this.exit(e),this.data.inTable=void 0}function qit(e){this.enter({type:"tableRow",children:[]},e)}function jM(e){this.exit(e)}function iX(e){this.enter({type:"tableCell",children:[]},e)}function Yit(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Kit));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function Kit(e,t){return t==="|"?t:e}function Xit(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,i=t.stringLength,a=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:s,tableCell:l,tableRow:o}};function s(p,g,v,m){return c(u(p,v,m),p.align)}function o(p,g,v,m){const y=h(p,v,m),x=c([y]);return x.slice(0,x.indexOf(`
`))}function l(p,g,v,m){const y=v.enter("tableCell"),x=v.enter("phrasing"),_=v.containerPhrasing(p,{...m,before:a,after:a});return x(),y(),_}function c(p,g){return uit(p,{align:g,alignDelimiters:n,padding:r,stringLength:i})}function u(p,g,v){const m=p.children;let y=-1;const x=[],_=g.enter("table");for(;++y<m.length;)x[y]=h(m[y],g,v);return _(),x}function h(p,g,v){const m=p.children;let y=-1;const x=[],_=g.enter("tableRow");for(;++y<m.length;)x[y]=l(m[y],p,g,v);return _(),x}function f(p,g,v){let m=dpe.inlineCode(p,g,v);return v.stack.includes("tableCell")&&(m=m.replace(/\|/g,"\\$&")),m}}function Zit(){return{exit:{taskListCheckValueChecked:aX,taskListCheckValueUnchecked:aX,paragraph:Qit}}}function Jit(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:eat}}}function aX(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Qit(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function eat(e,t,r,n){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=r.createTracker(n);a&&o.move(s);let l=dpe.listItem(e,t,r,{...n,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+s}}function tat(){return[Mnt(),eit(),iit(),Vit(),Zit()]}function rat(e){return{extensions:[Pnt(),tit(e),ait(),Xit(e),Jit()]}}const nat={tokenize:cat,partial:!0},hpe={tokenize:uat,partial:!0},fpe={tokenize:dat,partial:!0},ppe={tokenize:hat,partial:!0},iat={tokenize:fat,partial:!0},gpe={name:"wwwAutolink",tokenize:oat,previous:vpe},mpe={name:"protocolAutolink",tokenize:lat,previous:ype},Hu={name:"emailAutolink",tokenize:sat,previous:xpe},Mc={};function aat(){return{text:Mc}}let xf=48;for(;xf<123;)Mc[xf]=Hu,xf++,xf===58?xf=65:xf===91&&(xf=97);Mc[43]=Hu;Mc[45]=Hu;Mc[46]=Hu;Mc[95]=Hu;Mc[72]=[Hu,mpe];Mc[104]=[Hu,mpe];Mc[87]=[Hu,gpe];Mc[119]=[Hu,gpe];function sat(e,t,r){const n=this;let i,a;return s;function s(h){return!i3(h)||!xpe.call(n,n.previous)||AF(n.events)?r(h):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(h))}function o(h){return i3(h)?(e.consume(h),o):h===64?(e.consume(h),l):r(h)}function l(h){return h===46?e.check(iat,u,c)(h):h===45||h===95||va(h)?(a=!0,e.consume(h),l):u(h)}function c(h){return e.consume(h),i=!0,l}function u(h){return a&&i&&Oa(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(h)):r(h)}}function oat(e,t,r){const n=this;return i;function i(s){return s!==87&&s!==119||!vpe.call(n,n.previous)||AF(n.events)?r(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(nat,e.attempt(hpe,e.attempt(fpe,a),r),r)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function lat(e,t,r){const n=this;let i="",a=!1;return s;function s(h){return(h===72||h===104)&&ype.call(n,n.previous)&&!AF(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),e.consume(h),o):r(h)}function o(h){if(Oa(h)&&i.length<5)return i+=String.fromCodePoint(h),e.consume(h),o;if(h===58){const f=i.toLowerCase();if(f==="http"||f==="https")return e.consume(h),l}return r(h)}function l(h){return h===47?(e.consume(h),a?c:(a=!0,l)):r(h)}function c(h){return h===null||iN(h)||In(h)||Fp(h)||bA(h)?r(h):e.attempt(hpe,e.attempt(fpe,u),r)(h)}function u(h){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(h)}}function cat(e,t,r){let n=0;return i;function i(s){return(s===87||s===119)&&n<3?(n++,e.consume(s),i):s===46&&n===3?(e.consume(s),a):r(s)}function a(s){return s===null?r(s):t(s)}}function uat(e,t,r){let n,i,a;return s;function s(c){return c===46||c===95?e.check(ppe,l,o)(c):c===null||In(c)||Fp(c)||c!==45&&bA(c)?l(c):(a=!0,e.consume(c),s)}function o(c){return c===95?n=!0:(i=n,n=void 0),e.consume(c),s}function l(c){return i||n||!a?r(c):t(c)}}function dat(e,t){let r=0,n=0;return i;function i(s){return s===40?(r++,e.consume(s),i):s===41&&n<r?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(ppe,t,a)(s):s===null||In(s)||Fp(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&n++,e.consume(s),i}}function hat(e,t,r){return n;function n(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),n):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||In(o)||Fp(o)?t(o):r(o)}function i(o){return o===null||o===40||o===91||In(o)||Fp(o)?t(o):n(o)}function a(o){return Oa(o)?s(o):r(o)}function s(o){return o===59?(e.consume(o),n):Oa(o)?(e.consume(o),s):r(o)}}function fat(e,t,r){return n;function n(a){return e.consume(a),i}function i(a){return va(a)?r(a):t(a)}}function vpe(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||In(e)}function ype(e){return!Oa(e)}function xpe(e){return!(e===47||i3(e))}function i3(e){return e===43||e===45||e===46||e===95||va(e)}function AF(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const pat={tokenize:wat,partial:!0};function gat(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:xat,continuation:{tokenize:_at},exit:bat}},text:{91:{name:"gfmFootnoteCall",tokenize:yat},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:mat,resolveTo:vat}}}}function mat(e,t,r){const n=this;let i=n.events.length;const a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s;for(;i--;){const l=n.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return r(l);const c=ul(n.sliceSerialize({start:s.end,end:n.now()}));return c.codePointAt(0)!==94||!a.includes(c.slice(1))?r(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function vat(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...o),e}function yat(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a=0,s;return o;function o(h){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),l}function l(h){return h!==94?r(h):(e.enter("gfmFootnoteCallMarker"),e.consume(h),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(h){if(a>999||h===93&&!s||h===null||h===91||In(h))return r(h);if(h===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return i.includes(ul(n.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(h)}return In(h)||(s=!0),a++,e.consume(h),h===92?u:c}function u(h){return h===91||h===92||h===93?(e.consume(h),a++,c):c(h)}}function xat(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",u):r(g)}function u(g){if(s>999||g===93&&!o||g===null||g===91||In(g))return r(g);if(g===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return a=ul(n.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return In(g)||(o=!0),s++,e.consume(g),g===92?h:u}function h(g){return g===91||g===92||g===93?(e.consume(g),s++,u):u(g)}function f(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),i.includes(a)||i.push(a),Xr(e,p,"gfmFootnoteDefinitionWhitespace")):r(g)}function p(g){return t(g)}}function _at(e,t,r){return e.check(v1,t,e.attempt(pat,t,r))}function bat(e){e.exit("gfmFootnoteDefinition")}function wat(e,t,r){const n=this;return Xr(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const s=n.events[n.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):r(a)}}function Sat(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:a,resolveAll:i};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let c=l;for(;c--;)if(s[c][0]==="exit"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[c][1].end.offset-s[c][1].start.offset){s[l][1].type="strikethroughSequence",s[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},s[c][1].start),end:Object.assign({},s[l][1].end)},h={type:"strikethroughText",start:Object.assign({},s[c][1].end),end:Object.assign({},s[l][1].start)},f=[["enter",u,o],["enter",s[c][1],o],["exit",s[c][1],o],["enter",h,o]],p=o.parser.constructs.insideSpan.null;p&&Us(f,f.length,0,wA(p,s.slice(c+1,l),o)),Us(f,f.length,0,[["exit",h,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",u,o]]),Us(s,c-1,l-c+3,f),l=c+f.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const c=this.previous,u=this.events;let h=0;return f;function f(g){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(g):(s.enter("strikethroughSequenceTemporary"),p(g))}function p(g){const v=Uv(c);if(g===126)return h>1?l(g):(s.consume(g),h++,p);if(h<2&&!r)return l(g);const m=s.exit("strikethroughSequenceTemporary"),y=Uv(g);return m._open=!y||y===2&&!!v,m._close=!v||v===2&&!!y,o(g)}}}class Cat{constructor(){this.map=[]}add(t,r,n){kat(this,t,r,n)}consume(t){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let i=n.pop();for(;i;){for(const a of i)t.push(a);i=n.pop()}this.map.length=0}}function kat(e,t,r,n){let i=0;if(!(r===0&&n.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=r,e.map[i][2].push(...n);return}i+=1}e.map.push([t,r,n])}}function Eat(e,t){let r=!1;const n=[];for(;t<e.length;){const i=e[t];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=n.length-1;n[a]=n[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function Tat(){return{flow:{null:{name:"table",tokenize:Nat,resolveAll:Aat}}}}function Nat(e,t,r){const n=this;let i=0,a=0,s;return o;function o(T){let N=n.events.length-1;for(;N>-1;){const D=n.events[N][1].type;if(D==="lineEnding"||D==="linePrefix")N--;else break}const I=N>-1?n.events[N][1].type:null,P=I==="tableHead"||I==="tableRow"?S:l;return P===S&&n.parser.lazy[n.now().line]?r(T):P(T)}function l(T){return e.enter("tableHead"),e.enter("tableRow"),c(T)}function c(T){return T===124||(s=!0,a+=1),u(T)}function u(T){return T===null?r(T):zt(T)?a>1?(a=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),p):r(T):Pr(T)?Xr(e,u,"whitespace")(T):(a+=1,s&&(s=!1,i+=1),T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),s=!0,u):(e.enter("data"),h(T)))}function h(T){return T===null||T===124||In(T)?(e.exit("data"),u(T)):(e.consume(T),T===92?f:h)}function f(T){return T===92||T===124?(e.consume(T),h):h(T)}function p(T){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(T):(e.enter("tableDelimiterRow"),s=!1,Pr(T)?Xr(e,g,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):g(T))}function g(T){return T===45||T===58?m(T):T===124?(s=!0,e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),v):w(T)}function v(T){return Pr(T)?Xr(e,m,"whitespace")(T):m(T)}function m(T){return T===58?(a+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),y):T===45?(a+=1,y(T)):T===null||zt(T)?b(T):w(T)}function y(T){return T===45?(e.enter("tableDelimiterFiller"),x(T)):w(T)}function x(T){return T===45?(e.consume(T),x):T===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),_):(e.exit("tableDelimiterFiller"),_(T))}function _(T){return Pr(T)?Xr(e,b,"whitespace")(T):b(T)}function b(T){return T===124?g(T):T===null||zt(T)?!s||i!==a?w(T):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(T)):w(T)}function w(T){return r(T)}function S(T){return e.enter("tableRow"),k(T)}function k(T){return T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),k):T===null||zt(T)?(e.exit("tableRow"),t(T)):Pr(T)?Xr(e,k,"whitespace")(T):(e.enter("data"),C(T))}function C(T){return T===null||T===124||In(T)?(e.exit("data"),k(T)):(e.consume(T),T===92?E:C)}function E(T){return T===92||T===124?(e.consume(T),C):C(T)}}function Aat(e,t){let r=-1,n=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,c,u,h;const f=new Cat;for(;++r<e.length;){const p=e[r],g=p[1];p[0]==="enter"?g.type==="tableHead"?(o=!1,l!==0&&(sX(f,t,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(r,0,[["enter",c,t]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(n=!0,h=void 0,a=[0,0,0,0],s=[0,r+1,0,0],o&&(o=!1,u={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(r,0,[["enter",u,t]])),i=g.type==="tableDelimiterRow"?2:u?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(n=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],h=KC(f,t,a,i,void 0,h),a=[0,0,0,0]),s[2]=r)):g.type==="tableCellDivider"&&(n?n=!1:(a[1]!==0&&(s[0]=s[1],h=KC(f,t,a,i,void 0,h)),a=s,s=[a[1],r,0,0])):g.type==="tableHead"?(o=!0,l=r):g.type==="tableRow"||g.type==="tableDelimiterRow"?(l=r,a[1]!==0?(s[0]=s[1],h=KC(f,t,a,i,r,h)):s[1]!==0&&(h=KC(f,t,s,i,r,h)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(s[3]=r)}for(l!==0&&sX(f,t,l,c,u),f.consume(t.events),r=-1;++r<t.events.length;){const p=t.events[r];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=Eat(t.events,r))}return e}function KC(e,t,r,n,i,a){const s=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",o="tableContent";r[0]!==0&&(a.end=Object.assign({},gm(t.events,r[0])),e.add(r[0],0,[["exit",a,t]]));const l=gm(t.events,r[1]);if(a={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(r[1],0,[["enter",a,t]]),r[2]!==0){const c=gm(t.events,r[2]),u=gm(t.events,r[3]),h={type:o,start:Object.assign({},c),end:Object.assign({},u)};if(e.add(r[2],0,[["enter",h,t]]),n!==2){const f=t.events[r[2]],p=t.events[r[3]];if(f[1].end=Object.assign({},p[1].end),f[1].type="chunkText",f[1].contentType="text",r[3]>r[2]+1){const g=r[2]+1,v=r[3]-r[2]-1;e.add(g,v,[])}}e.add(r[3]+1,0,[["exit",h,t]])}return i!==void 0&&(a.end=Object.assign({},gm(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function sX(e,t,r,n,i){const a=[],s=gm(t.events,r);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),n.end=Object.assign({},s),a.push(["exit",n,t]),e.add(r+1,0,a)}function gm(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const jat={name:"tasklistCheck",tokenize:Iat};function Rat(){return{text:{91:jat}}}function Iat(e,t,r){const n=this;return i;function i(l){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return In(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):r(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):r(l)}function o(l){return zt(l)?t(l):Pr(l)?e.check({tokenize:Mat},t,r)(l):r(l)}}function Mat(e,t,r){return Xr(e,n,"whitespace");function n(i){return i===null?r(i):t(i)}}function Pat(e){return Afe([aat(),gat(),Sat(e),Tat(),Rat()])}const Lat={};function Dat(e){const t=this,r=e||Lat,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),a=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),s=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(Pat(r)),a.push(tat()),s.push(rat(r))}const oX=function(e,t,r){const n=y1(r);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(n(e.children[t],t,e))return e.children[t]},ug=function(e){if(e==null)return Bat;if(typeof e=="string")return $at(e);if(typeof e=="object")return Oat(e);if(typeof e=="function")return jF(e);throw new Error("Expected function, string, or array as `test`")};function Oat(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=ug(e[r]);return jF(n);function n(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function $at(e){return jF(t);function t(r){return r.tagName===e}}function jF(e){return t;function t(r,n,i){return!!(Fat(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function Bat(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function Fat(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const lX=/\n/g,cX=/[\t ]+/g,a3=ug("br"),uX=ug(Yat),zat=ug("p"),dX=ug("tr"),Uat=ug(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",qat,Kat]),_pe=ug(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function Hat(e,t){const r=t||{},n="children"in e?e.children:[],i=_pe(e),a=Spe(e,{whitespace:r.whitespace||"normal"}),s=[];(e.type==="text"||e.type==="comment")&&s.push(...wpe(e,{breakBefore:!0,breakAfter:!0}));let o=-1;for(;++o<n.length;)s.push(...bpe(n[o],e,{whitespace:a,breakBefore:o?void 0:i,breakAfter:o<n.length-1?a3(n[o+1]):i}));const l=[];let c;for(o=-1;++o<s.length;){const u=s[o];typeof u=="number"?c!==void 0&&u>c&&(c=u):u&&(c!==void 0&&c>-1&&l.push(`
`.repeat(c)||" "),c=-1,l.push(u))}return l.join("")}function bpe(e,t,r){return e.type==="element"?Vat(e,t,r):e.type==="text"?r.whitespace==="normal"?wpe(e,r):Wat(e):[]}function Vat(e,t,r){const n=Spe(e,r),i=e.children||[];let a=-1,s=[];if(Uat(e))return s;let o,l;for(a3(e)||dX(e)&&oX(t,e,dX)?l=`
`:zat(e)?(o=2,l=2):_pe(e)&&(o=1,l=1);++a<i.length;)s=s.concat(bpe(i[a],e,{whitespace:n,breakBefore:a?void 0:o,breakAfter:a<i.length-1?a3(i[a+1]):l}));return uX(e)&&oX(t,e,uX)&&s.push("	"),o&&s.unshift(o),l&&s.push(l),s}function wpe(e,t){const r=String(e.value),n=[],i=[];let a=0;for(;a<=r.length;){lX.lastIndex=a;const l=lX.exec(r),c=l&&"index"in l?l.index:r.length;n.push(Gat(r.slice(a,c).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),a===0?t.breakBefore:!0,c===r.length?t.breakAfter:!0)),a=c+1}let s=-1,o;for(;++s<n.length;)n[s].charCodeAt(n[s].length-1)===8203||s<n.length-1&&n[s+1].charCodeAt(0)===8203?(i.push(n[s]),o=void 0):n[s]?(typeof o=="number"&&i.push(o),i.push(n[s]),o=0):(s===0||s===n.length-1)&&i.push(0);return i}function Wat(e){return[String(e.value)]}function Gat(e,t,r){const n=[];let i=0,a;for(;i<e.length;){cX.lastIndex=i;const s=cX.exec(e);a=s?s.index:e.length,!i&&!a&&s&&!t&&n.push(""),i!==a&&n.push(e.slice(i,a)),i=s?a+s[0].length:a}return i!==a&&!r&&n.push(""),n.join(" ")}function Spe(e,t){if(e.type==="element"){const r=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return r.wrap?"pre-wrap":"pre";case"td":case"th":return r.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function qat(e){return!!(e.properties||{}).hidden}function Yat(e){return e.tagName==="td"||e.tagName==="th"}function Kat(e){return e.tagName==="dialog"&&!(e.properties||{}).open}function Xat(e){const t=e.regex,r=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",s="(?!struct)("+n+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",o={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},r,e.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},p=t.optional(i)+e.IDENT_RE+"\\s*\\(",g=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],v=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],m=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],b={type:v,keyword:g,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:m},w={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},S=[w,h,o,r,e.C_BLOCK_COMMENT_MODE,u,c],k={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:b,contains:S.concat([{begin:/\(/,end:/\)/,keywords:b,contains:S.concat(["self"]),relevance:0}]),relevance:0},C={className:"function",begin:"("+s+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:b,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:b,relevance:0},{begin:p,returnBegin:!0,contains:[f],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,u]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:b,relevance:0,contains:[r,e.C_BLOCK_COMMENT_MODE,c,u,o,{begin:/\(/,end:/\)/,keywords:b,relevance:0,contains:["self",r,e.C_BLOCK_COMMENT_MODE,c,u,o]}]},o,r,e.C_BLOCK_COMMENT_MODE,h]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:b,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(k,C,w,S,[h,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:b,contains:["self",o]},{begin:e.IDENT_RE+"::",keywords:b},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function Zat(e){const t={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},r=Xat(e),n=r.keywords;return n.type=[...n.type,...t.type],n.literal=[...n.literal,...t.literal],n.built_in=[...n.built_in,...t.built_in],n._hints=t._hints,r.name="Arduino",r.aliases=["ino"],r.supersetOf="cpp",r}function Jat(e){const t=e.regex,r={},n={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[r]}]};Object.assign(r,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},n]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},a=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),s={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},o={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,r,i]};i.contains.push(o);const l={match:/\\"/},c={className:"string",begin:/'/,end:/'/},u={match:/\\'/},h={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,r]},f=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],p=e.SHEBANG({binary:`(${f.join("|")})`,relevance:10}),g={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},v=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],m=["true","false"],y={match:/(\/[a-z._-]+)+/},x=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],_=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],b=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],w=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:v,literal:m,built_in:[...x,..._,"set","shopt",...b,...w]},contains:[p,e.SHEBANG(),g,h,a,s,y,o,l,c,u,r]}}function Qat(e){const t=e.regex,r=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",s="("+n+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",o={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},r,e.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},p=t.optional(i)+e.IDENT_RE+"\\s*\\(",m={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},y=[h,o,r,e.C_BLOCK_COMMENT_MODE,u,c],x={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:m,contains:y.concat([{begin:/\(/,end:/\)/,keywords:m,contains:y.concat(["self"]),relevance:0}]),relevance:0},_={begin:"("+s+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:m,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:m,relevance:0},{begin:p,returnBegin:!0,contains:[e.inherit(f,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:m,relevance:0,contains:[r,e.C_BLOCK_COMMENT_MODE,c,u,o,{begin:/\(/,end:/\)/,keywords:m,relevance:0,contains:["self",r,e.C_BLOCK_COMMENT_MODE,c,u,o]}]},o,r,e.C_BLOCK_COMMENT_MODE,h]};return{name:"C",aliases:["h"],keywords:m,disableAutodetect:!0,illegal:"</",contains:[].concat(x,_,y,[h,{begin:e.IDENT_RE+"::",keywords:m},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:h,strings:c,keywords:m}}}function est(e){const t=e.regex,r=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",s="(?!struct)("+n+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",o={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},r,e.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},p=t.optional(i)+e.IDENT_RE+"\\s*\\(",g=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],v=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],m=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],b={type:v,keyword:g,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:m},w={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},S=[w,h,o,r,e.C_BLOCK_COMMENT_MODE,u,c],k={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:b,contains:S.concat([{begin:/\(/,end:/\)/,keywords:b,contains:S.concat(["self"]),relevance:0}]),relevance:0},C={className:"function",begin:"("+s+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:b,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:b,relevance:0},{begin:p,returnBegin:!0,contains:[f],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,u]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:b,relevance:0,contains:[r,e.C_BLOCK_COMMENT_MODE,c,u,o,{begin:/\(/,end:/\)/,keywords:b,relevance:0,contains:["self",r,e.C_BLOCK_COMMENT_MODE,c,u,o]}]},o,r,e.C_BLOCK_COMMENT_MODE,h]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:b,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(k,C,w,S,[h,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:b,contains:["self",o]},{begin:e.IDENT_RE+"::",keywords:b},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function tst(e){const t=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],r=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],n=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],a=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],s={keyword:i.concat(a),built_in:t,literal:n},o=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},c={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},u={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},h=e.inherit(u,{illegal:/\n/}),f={className:"subst",begin:/\{/,end:/\}/,keywords:s},p=e.inherit(f,{illegal:/\n/}),g={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,p]},v={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},f]},m=e.inherit(v,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},p]});f.contains=[v,g,u,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,l,e.C_BLOCK_COMMENT_MODE],p.contains=[m,g,h,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,l,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const y={variants:[c,v,g,u,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},x={begin:"<",end:">",contains:[{beginKeywords:"in out"},o]},_=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",b={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:s,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},y,l,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},o,x,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[o,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[o,x,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+_+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:s,contains:[{beginKeywords:r.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,x],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,relevance:0,contains:[y,l,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},b]}}const rst=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),nst=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],ist=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],ast=[...nst,...ist],sst=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),ost=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),lst=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),cst=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function ust(e){const t=e.regex,r=rst(e),n={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",a=/@-?\w[\w]*(-\w+)*/,s="[a-zA-Z-][a-zA-Z0-9_-]*",o=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[r.BLOCK_COMMENT,n,r.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+s,relevance:0},r.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+ost.join("|")+")"},{begin:":(:)?("+lst.join("|")+")"}]},r.CSS_VARIABLE,{className:"attribute",begin:"\\b("+cst.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[r.BLOCK_COMMENT,r.HEXCOLOR,r.IMPORTANT,r.CSS_NUMBER_MODE,...o,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...o,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},r.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:a},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:sst.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...o,r.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+ast.join("|")+")\\b"}]}}function dst(e){const t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function hst(e){const a={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:a,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:a,illegal:/["']/}]}]}}function fst(e){const t=e.regex,r=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:t.concat(r,t.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function pst(e){const t=e.regex,r={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},n=e.COMMENT();n.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},a={className:"literal",begin:/\bon|off|true|false|yes|no\b/},s={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},o={begin:/\[/,end:/\]/,contains:[n,a,i,s,r,"self"],relevance:0},l=/[A-Za-z0-9_-]+/,c=/"(\\"|[^"])*"/,u=/'[^']*'/,h=t.either(l,c,u),f=t.concat(h,"(\\s*\\.\\s*",h,")*",t.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[n,{className:"section",begin:/\[+/,end:/\]+/},{begin:f,className:"attr",starts:{end:/$/,contains:[n,o,a,i,s,r]}}]}}var mm="[0-9](_*[0-9])*",XC=`\\.(${mm})`,ZC="[0-9a-fA-F](_*[0-9a-fA-F])*",hX={className:"number",variants:[{begin:`(\\b(${mm})((${XC})|\\.)?|(${XC}))[eE][+-]?(${mm})[fFdD]?\\b`},{begin:`\\b(${mm})((${XC})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${XC})[fFdD]?\\b`},{begin:`\\b(${mm})[fFdD]\\b`},{begin:`\\b0[xX]((${ZC})\\.?|(${ZC})?\\.(${ZC}))[pP][+-]?(${mm})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${ZC})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Cpe(e,t,r){return r===-1?"":e.replace(t,n=>Cpe(e,t,r-1))}function gst(e){const t=e.regex,r="[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",n=r+Cpe("(?:<"+r+"~~~(?:\\s*,\\s*"+r+"~~~)*>)?",/~~~/g,2),l={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},c={className:"meta",begin:"@"+r,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},u={className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:l,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,r),/\s+/,r,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,r],className:{1:"keyword",3:"title.class"},contains:[u,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+n+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:l,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[c,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,hX,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},hX,c]}}const fX="[A-Za-z$_][0-9A-Za-z$_]*",mst=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],vst=["true","false","null","undefined","NaN","Infinity"],kpe=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Epe=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Tpe=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],yst=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],xst=[].concat(Tpe,kpe,Epe);function _st(e){const t=e.regex,r=(j,{after:M})=>{const R="</"+j[0].slice(1);return j.input.indexOf(R,M)!==-1},n=fX,i={begin:"<>",end:"</>"},a=/<[A-Za-z0-9\\._:-]+\s*\/>/,s={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(j,M)=>{const R=j[0].length+j.index,z=j.input[R];if(z==="<"||z===","){M.ignoreMatch();return}z===">"&&(r(j,{after:R})||M.ignoreMatch());let U;const F=j.input.substring(R);if(U=F.match(/^\s*=/)){M.ignoreMatch();return}if((U=F.match(/^\s+extends\s+/))&&U.index===0){M.ignoreMatch();return}}},o={$pattern:fX,keyword:mst,literal:vst,built_in:xst,"variable.language":yst},l="[0-9](_?[0-9])*",c=`\\.(${l})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${u})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${u})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},g={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"css"}},v={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},m={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,f]},x={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},_=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,g,v,m,{match:/\$\d+/},h];f.contains=_.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(_)});const b=[].concat(x,f.contains),w=b.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(b)}]),S={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:w},k={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},C={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...kpe,...Epe]}},E={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},T={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[S],illegal:/%/},N={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function I(j){return t.concat("(?!",j.join("|"),")")}const P={match:t.concat(/\b/,I([...Tpe,"super","import"].map(j=>`${j}\\s*\\(`)),n,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},D={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},$={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},S]},L="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",O={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(L)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[S]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:w,CLASS_REFERENCE:C},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),E,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,g,v,m,x,{match:/\$\d+/},h,C,{scope:"attr",match:n+t.lookahead(":"),relevance:0},O,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[x,e.REGEXP_MODE,{className:"function",begin:L,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:w}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:a},{begin:s.begin,"on:begin":s.isTrulyOpeningTag,end:s.end}],subLanguage:"xml",contains:[{begin:s.begin,end:s.end,skip:!0,contains:["self"]}]}]},T,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[S,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},D,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[S]},P,N,k,$,{match:/\$[(.]/}]}}function bst(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},r={match:/[{}[\],:]/,className:"punctuation",relevance:0},n=["true","false","null"],i={scope:"literal",beginKeywords:n.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:n},contains:[t,r,e.QUOTE_STRING_MODE,i,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var vm="[0-9](_*[0-9])*",JC=`\\.(${vm})`,QC="[0-9a-fA-F](_*[0-9a-fA-F])*",wst={className:"number",variants:[{begin:`(\\b(${vm})((${JC})|\\.)?|(${JC}))[eE][+-]?(${vm})[fFdD]?\\b`},{begin:`\\b(${vm})((${JC})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${JC})[fFdD]?\\b`},{begin:`\\b(${vm})[fFdD]\\b`},{begin:`\\b0[xX]((${QC})\\.?|(${QC})?\\.(${QC}))[pP][+-]?(${vm})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${QC})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Sst(e){const t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},r={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},n={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},a={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},s={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[a,i]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,a,i]}]};i.contains.push(s);const o={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},l={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(s,{className:"string"}),"self"]}]},c=wst,u=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),h={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},f=h;return f.variants[1].contains=[h],h.variants[1].contains=[f],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,u,r,n,o,l,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[h,e.C_LINE_COMMENT_MODE,u],relevance:0},e.C_LINE_COMMENT_MODE,u,o,l,s,e.C_NUMBER_MODE]},u]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},o,l]},s,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},c]}}const Cst=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),kst=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Est=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Tst=[...kst,...Est],Nst=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Npe=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Ape=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Ast=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),jst=Npe.concat(Ape).sort().reverse();function Rst(e){const t=Cst(e),r=jst,n="and or not only",i="[\\w-]+",a="("+i+"|@\\{"+i+"\\})",s=[],o=[],l=function(_){return{className:"string",begin:"~?"+_+".*?"+_}},c=function(_,b,w){return{className:_,begin:b,relevance:w}},u={$pattern:/[a-z-]+/,keyword:n,attribute:Nst.join(" ")},h={begin:"\\(",end:"\\)",contains:o,keywords:u,relevance:0};o.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,l("'"),l('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,h,c("variable","@@?"+i,10),c("variable","@\\{"+i+"\\}"),c("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const f=o.concat({begin:/\{/,end:/\}/,contains:s}),p={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(o)},g={begin:a+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Ast.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:o}}]},v={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:u,returnEnd:!0,contains:o,relevance:0}},m={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:f}},y={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:a,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,p,c("keyword","all\\b"),c("variable","@\\{"+i+"\\}"),{begin:"\\b("+Tst.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,c("selector-tag",a,0),c("selector-id","#"+a),c("selector-class","\\."+a,0),c("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+Npe.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+Ape.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:f},{begin:"!important"},t.FUNCTION_DISPATCH]},x={begin:i+`:(:)?(${r.join("|")})`,returnBegin:!0,contains:[y]};return s.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,v,m,x,g,y,p,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:s}}function Ist(e){const t="\\[=*\\[",r="\\]=*\\]",n={begin:t,end:r,contains:["self"]},i=[e.COMMENT("--(?!"+t+")","$"),e.COMMENT("--"+t,r,{contains:[n],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:t,end:r,contains:[n],relevance:5}])}}function Mst(e){const t={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},r={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t]},n={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[t,r]},i={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},a={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},s={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[t]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,t,r,n,i,a,s]}}function Pst(e){const t=e.regex,r={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},n={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},a={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},s={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},o=/[A-Za-z][A-Za-z0-9+.-]*/,l={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,o,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},c={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},u={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},h=e.inherit(c,{contains:[]}),f=e.inherit(u,{contains:[]});c.contains.push(f),u.contains.push(h);let p=[r,l];return[c,u,h,f].forEach(y=>{y.contains=y.contains.concat(p)}),p=p.concat(c,u),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:p},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:p}]}]},r,a,c,u,{className:"quote",begin:"^>\\s+",contains:p,end:"$"},i,n,l,s,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function Lst(e){const t={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},r=/[a-zA-Z@][a-zA-Z0-9_]*/,o={"variable.language":["this","super"],$pattern:r,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},l={$pattern:r,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:o,illegal:"</",contains:[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+l.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:l,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}function Dst(e){const t=e.regex,r=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],n=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:r.join(" ")},a={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},s={begin:/->\{/,end:/\}/},o={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},l={scope:"variable",variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[o]},c={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},u=[e.BACKSLASH_ESCAPE,a,l],h=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],f=(v,m,y="\\1")=>{const x=y==="\\1"?y:t.concat(y,m);return t.concat(t.concat("(?:",v,")"),m,/(?:\\.|[^\\\/])*?/,x,/(?:\\.|[^\\\/])*?/,y,n)},p=(v,m,y)=>t.concat(t.concat("(?:",v,")"),m,/(?:\\.|[^\\\/])*?/,y,n),g=[l,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),s,{className:"string",contains:u,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},c,{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:f("s|tr|y",t.either(...h,{capture:!0}))},{begin:f("s|tr|y","\\(","\\)")},{begin:f("s|tr|y","\\[","\\]")},{begin:f("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:p("(?:m|qr)?",/\//,/\//)},{begin:p("m|qr",t.either(...h,{capture:!0}),/\1/)},{begin:p("m|qr",/\(/,/\)/)},{begin:p("m|qr",/\[/,/\]/)},{begin:p("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,o]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,o,c]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return a.contains=g,s.contains=g,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:g}}function Ost(e){const t=e.regex,r=/(?![A-Za-z0-9])(?![$])/,n=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,r),i=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,r),a=t.concat(/[A-Z]+/,r),s={scope:"variable",match:"\\$+"+n},o={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},l={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},c=e.inherit(e.APOS_STRING_MODE,{illegal:null}),u=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(l)}),h={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(l),"on:begin":(D,$)=>{$.data._beginMatch=D[1]||D[2]},"on:end":(D,$)=>{$.data._beginMatch!==D[1]&&$.ignoreMatch()}},f=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),p=`[ 	
]`,g={scope:"string",variants:[u,c,h,f]},v={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},m=["false","null","true"],y=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],x=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],b={keyword:y,literal:(D=>{const $=[];return D.forEach(L=>{$.push(L),L.toLowerCase()===L?$.push(L.toUpperCase()):$.push(L.toLowerCase())}),$})(m),built_in:x},w=D=>D.map($=>$.replace(/\|\d+$/,"")),S={variants:[{match:[/new/,t.concat(p,"+"),t.concat("(?!",w(x).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},k=t.concat(n,"\\b(?!\\()"),C={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),k],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,t.concat(/::/,t.lookahead(/(?!class\b)/)),k],scope:{1:"title.class",3:"variable.constant"}},{match:[i,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},E={scope:"attr",match:t.concat(n,t.lookahead(":"),t.lookahead(/(?!::)/))},T={relevance:0,begin:/\(/,end:/\)/,keywords:b,contains:[E,s,C,e.C_BLOCK_COMMENT_MODE,g,v,S]},N={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",w(y).join("\\b|"),"|",w(x).join("\\b|"),"\\b)"),n,t.concat(p,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[T]};T.contains.push(N);const I=[E,C,e.C_BLOCK_COMMENT_MODE,g,v,S],P={begin:t.concat(/#\[\s*\\?/,t.either(i,a)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:m,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:m,keyword:["new","array"]},contains:["self",...I]},...I,{scope:"meta",variants:[{match:i},{match:a}]}]};return{case_insensitive:!1,keywords:b,contains:[P,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},o,{scope:"variable.language",match:/\$this\b/},s,N,C,{match:[/const/,/\s/,n],scope:{1:"keyword",3:"variable.constant"}},S,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:b,contains:["self",P,s,C,e.C_BLOCK_COMMENT_MODE,g,v]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},g,v]}}function $st(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function Bst(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function Fst(e){const t=e.regex,r=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),n=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],o={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:n,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},c={className:"subst",begin:/\{/,end:/\}/,keywords:o,illegal:/#/},u={begin:/\{\{/,relevance:0},h={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l,u,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l,u,c]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,u,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,u,c]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},f="[0-9](_?[0-9])*",p=`(\\b(${f}))?\\.(${f})|\\b(${f})\\.`,g=`\\b|${n.join("|")}`,v={className:"number",relevance:0,variants:[{begin:`(\\b(${f})|(${p}))[eE][+-]?(${f})[jJ]?(?=${g})`},{begin:`(${p})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${g})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${g})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${g})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${g})`},{begin:`\\b(${f})[jJ](?=${g})`}]},m={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:o,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},y={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:["self",l,v,h,e.HASH_COMMENT_MODE]}]};return c.contains=[h,v,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:o,illegal:/(<\/|\?)|=>/,contains:[l,v,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},h,m,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,r],scope:{1:"keyword",3:"title.function"},contains:[y]},{variants:[{match:[/\bclass/,/\s+/,r,/\s*/,/\(\s*/,r,/\s*\)/]},{match:[/\bclass/,/\s+/,r]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[v,y,h]}]}}function zst(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function Ust(e){const t=e.regex,r=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,n=t.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,a=t.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:r,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:t.lookahead(t.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:r},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,n]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,n]},{scope:{1:"punctuation",2:"number"},match:[a,n]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,n]}]},{scope:{3:"operator"},match:[r,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:a},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function Hst(e){const t=e.regex,r="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",n=t.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=t.concat(n,/(::\w+)*/),s={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},o={className:"doctag",begin:"@[A-Za-z]+"},l={begin:"#<",end:">"},c=[e.COMMENT("#","$",{contains:[o]}),e.COMMENT("^=begin","^=end",{contains:[o],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],u={className:"subst",begin:/#\{/,end:/\}/,keywords:s},h={className:"string",contains:[e.BACKSLASH_ESCAPE,u],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:t.concat(/<<[-~]?'?/,t.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,u]})]}]},f="[1-9](_?[0-9])*|0",p="[0-9](_?[0-9])*",g={className:"number",relevance:0,variants:[{begin:`\\b(${f})(\\.(${p}))?([eE][+-]?(${p})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},v={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:s}]},S=[h,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:s},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:s},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:n,scope:"title.class"},{match:[/def/,/\s+/,r],scope:{1:"keyword",3:"title.function"},contains:[v]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[h,{begin:r}],relevance:0},g,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:s},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,u],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(l,c),relevance:0}].concat(l,c);u.contains=S,v.contains=S;const T=[{begin:/^\s*=>/,starts:{end:"$",contains:S}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:s,contains:S}}];return c.unshift(l),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:s,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(T).concat(c).concat(S)}}function Vst(e){const t=e.regex,r=/(r#)?/,n=t.concat(r,e.UNDERSCORE_IDENT_RE),i=t.concat(r,e.IDENT_RE),a={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,t.lookahead(/\s*\(/))},s="([ui](8|16|32|64|128|size)|f(32|64))?",o=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],l=["true","false","Some","None","Ok","Err"],c=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],u=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:u,keyword:o,literal:l,built_in:c},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+s},{begin:"\\b0o([0-7_]+)"+s},{begin:"\\b0x([A-Fa-f0-9_]+)"+s},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+s}],relevance:0},{begin:[/fn/,/\s+/,n],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,n],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,n,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:c,type:u}},{className:"punctuation",begin:"->"},a]}}const Wst=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Gst=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],qst=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Yst=[...Gst,...qst],Kst=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Xst=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Zst=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Jst=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function Qst(e){const t=Wst(e),r=Zst,n=Xst,i="@[a-z-]+",a="and or not only",o={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+Yst.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+n.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+r.join("|")+")"},o,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Jst.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,o,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:a,attribute:Kst.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},o,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}}function eot(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function tot(e){const t=e.regex,r=e.COMMENT("--","$"),n={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},a=["true","false","unknown"],s=["double precision","large object","with timezone","without timezone"],o=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],l=["add","asc","collation","desc","final","first","last","view"],c=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],u=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],h=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],f=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],p=u,g=[...c,...l].filter(w=>!u.includes(w)),v={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},m={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},y={match:t.concat(/\b/,t.either(...p),/\s*\(/),relevance:0,keywords:{built_in:p}};function x(w){return t.concat(/\b/,t.either(...w.map(S=>S.replace(/\s+/,"\\s+"))),/\b/)}const _={scope:"keyword",match:x(f),relevance:0};function b(w,{exceptions:S,when:k}={}){const C=k;return S=S||[],w.map(E=>E.match(/\|\d+$/)||S.includes(E)?E:C(E)?`${E}|0`:E)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:b(g,{when:w=>w.length<3}),literal:a,type:o,built_in:h},contains:[{scope:"type",match:x(s)},_,y,v,n,i,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,r,m]}}function jpe(e){return e?typeof e=="string"?e:e.source:null}function vx(e){return Sn("(?=",e,")")}function Sn(...e){return e.map(r=>jpe(r)).join("")}function rot(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function Ra(...e){return"("+(rot(e).capture?"":"?:")+e.map(n=>jpe(n)).join("|")+")"}const RF=e=>Sn(/\b/,e,/\w$/.test(e)?/\b/:/\B/),not=["Protocol","Type"].map(RF),pX=["init","self"].map(RF),iot=["Any","Self"],RM=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],gX=["false","nil","true"],aot=["assignment","associativity","higherThan","left","lowerThan","none","right"],sot=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],mX=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],Rpe=Ra(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),Ipe=Ra(Rpe,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),IM=Sn(Rpe,Ipe,"*"),Mpe=Ra(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),lN=Ra(Mpe,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Hl=Sn(Mpe,lN,"*"),ek=Sn(/[A-Z]/,lN,"*"),oot=["attached","autoclosure",Sn(/convention\(/,Ra("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",Sn(/objc\(/,Hl,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],lot=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function cot(e){const t={match:/\s+/,relevance:0},r=e.COMMENT("/\\*","\\*/",{contains:["self"]}),n=[e.C_LINE_COMMENT_MODE,r],i={match:[/\./,Ra(...not,...pX)],className:{2:"keyword"}},a={match:Sn(/\./,Ra(...RM)),relevance:0},s=RM.filter(Me=>typeof Me=="string").concat(["_|0"]),o=RM.filter(Me=>typeof Me!="string").concat(iot).map(RF),l={variants:[{className:"keyword",match:Ra(...o,...pX)}]},c={$pattern:Ra(/\b\w+/,/#\w+/),keyword:s.concat(sot),literal:gX},u=[i,a,l],h={match:Sn(/\./,Ra(...mX)),relevance:0},f={className:"built_in",match:Sn(/\b/,Ra(...mX),/(?=\()/)},p=[h,f],g={match:/->/,relevance:0},v={className:"operator",relevance:0,variants:[{match:IM},{match:`\\.(\\.|${Ipe})+`}]},m=[g,v],y="([0-9]_*)+",x="([0-9a-fA-F]_*)+",_={className:"number",relevance:0,variants:[{match:`\\b(${y})(\\.(${y}))?([eE][+-]?(${y}))?\\b`},{match:`\\b0x(${x})(\\.(${x}))?([pP][+-]?(${y}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},b=(Me="")=>({className:"subst",variants:[{match:Sn(/\\/,Me,/[0\\tnr"']/)},{match:Sn(/\\/,Me,/u\{[0-9a-fA-F]{1,8}\}/)}]}),w=(Me="")=>({className:"subst",match:Sn(/\\/,Me,/[\t ]*(?:[\r\n]|\r\n)/)}),S=(Me="")=>({className:"subst",label:"interpol",begin:Sn(/\\/,Me,/\(/),end:/\)/}),k=(Me="")=>({begin:Sn(Me,/"""/),end:Sn(/"""/,Me),contains:[b(Me),w(Me),S(Me)]}),C=(Me="")=>({begin:Sn(Me,/"/),end:Sn(/"/,Me),contains:[b(Me),S(Me)]}),E={className:"string",variants:[k(),k("#"),k("##"),k("###"),C(),C("#"),C("##"),C("###")]},T=[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}],N={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:T},I=Me=>{const Ae=Sn(Me,/\//),Ie=Sn(/\//,Me);return{begin:Ae,end:Ie,contains:[...T,{scope:"comment",begin:`#(?!.*${Ie})`,end:/$/}]}},P={scope:"regexp",variants:[I("###"),I("##"),I("#"),N]},D={match:Sn(/`/,Hl,/`/)},$={className:"variable",match:/\$\d+/},L={className:"variable",match:`\\$${lN}+`},O=[D,$,L],j={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:lot,contains:[...m,_,E]}]}},M={scope:"keyword",match:Sn(/@/,Ra(...oot),vx(Ra(/\(/,/\s+/)))},R={scope:"meta",match:Sn(/@/,Hl)},z=[j,M,R],U={match:vx(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:Sn(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,lN,"+")},{className:"type",match:ek,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:Sn(/\s+&\s+/,vx(ek)),relevance:0}]},F={begin:/</,end:/>/,keywords:c,contains:[...n,...u,...z,g,U]};U.contains.push(F);const G={match:Sn(Hl,/\s*:/),keywords:"_|0",relevance:0},q={begin:/\(/,end:/\)/,relevance:0,keywords:c,contains:["self",G,...n,P,...u,...p,...m,_,E,...O,...z,U]},K={begin:/</,end:/>/,keywords:"repeat each",contains:[...n,U]},B={begin:Ra(vx(Sn(Hl,/\s*:/)),vx(Sn(Hl,/\s+/,Hl,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Hl}]},W={begin:/\(/,end:/\)/,keywords:c,contains:[B,...n,...u,...m,_,E,...z,U,q],endsParent:!0,illegal:/["']/},Y={match:[/(func|macro)/,/\s+/,Ra(D.match,Hl,IM)],className:{1:"keyword",3:"title.function"},contains:[K,W,t],illegal:[/\[/,/%/]},Z={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[K,W,t],illegal:/\[|%/},Q={match:[/operator/,/\s+/,IM],className:{1:"keyword",3:"title"}},re={begin:[/precedencegroup/,/\s+/,ek],className:{1:"keyword",3:"title"},contains:[U],keywords:[...aot,...gX],end:/}/},me={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},Ee={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},Ne={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,Hl,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:c,contains:[K,...u,{begin:/:/,end:/\{/,keywords:c,contains:[{scope:"title.class.inherited",match:ek},...u],relevance:0}]};for(const Me of E.variants){const Ae=Me.contains.find(bt=>bt.label==="interpol");Ae.keywords=c;const Ie=[...u,...p,...m,_,E,...O];Ae.contains=[...Ie,{begin:/\(/,end:/\)/,contains:["self",...Ie]}]}return{name:"Swift",keywords:c,contains:[...n,Y,Z,me,Ee,Ne,Q,re,{beginKeywords:"import",end:/$/,contains:[...n],relevance:0},P,...u,...p,...m,_,E,...O,...z,U,q]}}const cN="[A-Za-z$_][0-9A-Za-z$_]*",Ppe=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Lpe=["true","false","null","undefined","NaN","Infinity"],Dpe=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Ope=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],$pe=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Bpe=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Fpe=[].concat($pe,Dpe,Ope);function uot(e){const t=e.regex,r=(j,{after:M})=>{const R="</"+j[0].slice(1);return j.input.indexOf(R,M)!==-1},n=cN,i={begin:"<>",end:"</>"},a=/<[A-Za-z0-9\\._:-]+\s*\/>/,s={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(j,M)=>{const R=j[0].length+j.index,z=j.input[R];if(z==="<"||z===","){M.ignoreMatch();return}z===">"&&(r(j,{after:R})||M.ignoreMatch());let U;const F=j.input.substring(R);if(U=F.match(/^\s*=/)){M.ignoreMatch();return}if((U=F.match(/^\s+extends\s+/))&&U.index===0){M.ignoreMatch();return}}},o={$pattern:cN,keyword:Ppe,literal:Lpe,built_in:Fpe,"variable.language":Bpe},l="[0-9](_?[0-9])*",c=`\\.(${l})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${u})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${u})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},g={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"css"}},v={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},m={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,f]},x={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},_=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,g,v,m,{match:/\$\d+/},h];f.contains=_.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(_)});const b=[].concat(x,f.contains),w=b.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(b)}]),S={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:w},k={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},C={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Dpe,...Ope]}},E={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},T={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[S],illegal:/%/},N={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function I(j){return t.concat("(?!",j.join("|"),")")}const P={match:t.concat(/\b/,I([...$pe,"super","import"].map(j=>`${j}\\s*\\(`)),n,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},D={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},$={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},S]},L="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",O={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(L)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[S]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:w,CLASS_REFERENCE:C},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),E,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,g,v,m,x,{match:/\$\d+/},h,C,{scope:"attr",match:n+t.lookahead(":"),relevance:0},O,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[x,e.REGEXP_MODE,{className:"function",begin:L,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:w}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:a},{begin:s.begin,"on:begin":s.isTrulyOpeningTag,end:s.end}],subLanguage:"xml",contains:[{begin:s.begin,end:s.end,skip:!0,contains:["self"]}]}]},T,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[S,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},D,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[S]},P,N,k,$,{match:/\$[(.]/}]}}function dot(e){const t=e.regex,r=uot(e),n=cN,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],a={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},s={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[r.exports.CLASS_REFERENCE]},o={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},l=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],c={$pattern:cN,keyword:Ppe.concat(l),literal:Lpe,built_in:Fpe.concat(i),"variable.language":Bpe},u={className:"meta",begin:"@"+n},h=(v,m,y)=>{const x=v.contains.findIndex(_=>_.label===m);if(x===-1)throw new Error("can not find mode to replace");v.contains.splice(x,1,y)};Object.assign(r.keywords,c),r.exports.PARAMS_CONTAINS.push(u);const f=r.contains.find(v=>v.scope==="attr"),p=Object.assign({},f,{match:t.concat(n,t.lookahead(/\s*\?:/))});r.exports.PARAMS_CONTAINS.push([r.exports.CLASS_REFERENCE,f,p]),r.contains=r.contains.concat([u,a,s,p]),h(r,"shebang",e.SHEBANG()),h(r,"use_strict",o);const g=r.contains.find(v=>v.label==="func.def");return g.relevance=0,Object.assign(r,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),r}function hot(e){const t=e.regex,r={className:"string",begin:/"(""|[^/n])"C\b/},n={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,a=/\d{4}-\d{1,2}-\d{1,2}/,s=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,o=/\d{1,2}(:\d{1,2}){1,2}/,l={className:"literal",variants:[{begin:t.concat(/# */,t.either(a,i),/ *#/)},{begin:t.concat(/# */,o,/ *#/)},{begin:t.concat(/# */,s,/ *#/)},{begin:t.concat(/# */,t.either(a,i),/ +/,t.either(s,o),/ *#/)}]},c={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},u={className:"label",begin:/^\w+:/},h=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),f=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[r,n,l,c,u,h,f,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[f]}]}}function fot(e){e.regex;const t=e.COMMENT(/\(;/,/;\)/);t.contains.push("self");const r=e.COMMENT(/;;/,/$/),n=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},a={className:"variable",begin:/\$[\w_]+/},s={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},o={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},l={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},c={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:n},contains:[r,t,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},a,s,i,e.QUOTE_STRING_MODE,l,c,o]}}function pot(e){const t=e.regex,r=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),n=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},a={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},s=e.inherit(a,{begin:/\(/,end:/\)/}),o=e.inherit(e.APOS_STRING_MODE,{className:"string"}),l=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:n,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[a,l,o,s,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[a,s,l,o]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(r,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:r,relevance:0,starts:c}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(r,/>/))),contains:[{className:"name",begin:r,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function got(e){const t="true false yes no null",r="[\\w#;/?:@&=+$,.~*'()[\\]]+",n={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},a={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},s={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,i]},o=e.inherit(s,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),f={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},p={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},g={begin:/\{/,end:/\}/,contains:[p],illegal:"\\n",relevance:0},v={begin:"\\[",end:"\\]",contains:[p],illegal:"\\n",relevance:0},m=[n,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+r},{className:"type",begin:"!<"+r+">"},{className:"type",begin:"!"+r},{className:"type",begin:"!!"+r},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},f,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},g,v,a,s],y=[...m];return y.pop(),y.push(o),p.contains=y,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:m}}const mot={arduino:Zat,bash:Jat,c:Qat,cpp:est,csharp:tst,css:ust,diff:dst,go:hst,graphql:fst,ini:pst,java:gst,javascript:_st,json:bst,kotlin:Sst,less:Rst,lua:Ist,makefile:Mst,markdown:Pst,objectivec:Lst,perl:Dst,php:Ost,"php-template":$st,plaintext:Bst,python:Fst,"python-repl":zst,r:Ust,ruby:Hst,rust:Vst,scss:Qst,shell:eot,sql:tot,swift:cot,typescript:dot,vbnet:hot,wasm:fot,xml:pot,yaml:got};function zpe(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const r=e[t],n=typeof r;(n==="object"||n==="function")&&!Object.isFrozen(r)&&zpe(r)}),e}let vX=class{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function Upe(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function zd(e,...t){const r=Object.create(null);for(const n in e)r[n]=e[n];return t.forEach(function(n){for(const i in n)r[i]=n[i]}),r}const vot="</span>",yX=e=>!!e.scope,yot=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const r=e.split(".");return[`${t}${r.shift()}`,...r.map((n,i)=>`${n}${"_".repeat(i+1)}`)].join(" ")}return`${t}${e}`};class xot{constructor(t,r){this.buffer="",this.classPrefix=r.classPrefix,t.walk(this)}addText(t){this.buffer+=Upe(t)}openNode(t){if(!yX(t))return;const r=yot(t.scope,{prefix:this.classPrefix});this.span(r)}closeNode(t){yX(t)&&(this.buffer+=vot)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const xX=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class IF{constructor(){this.rootNode=xX(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const r=xX({scope:t});this.add(r),this.stack.push(r)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,r){return typeof r=="string"?t.addText(r):r.children&&(t.openNode(r),r.children.forEach(n=>this._walk(t,n)),t.closeNode(r)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(r=>typeof r=="string")?t.children=[t.children.join("")]:t.children.forEach(r=>{IF._collapse(r)}))}}class _ot extends IF{constructor(t){super(),this.options=t}addText(t){t!==""&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,r){const n=t.root;r&&(n.scope=`language:${r}`),this.add(n)}toHTML(){return new xot(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function nw(e){return e?typeof e=="string"?e:e.source:null}function Hpe(e){return dg("(?=",e,")")}function bot(e){return dg("(?:",e,")*")}function wot(e){return dg("(?:",e,")?")}function dg(...e){return e.map(r=>nw(r)).join("")}function Sot(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function MF(...e){return"("+(Sot(e).capture?"":"?:")+e.map(n=>nw(n)).join("|")+")"}function Vpe(e){return new RegExp(e.toString()+"|").exec("").length-1}function Cot(e,t){const r=e&&e.exec(t);return r&&r.index===0}const kot=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function PF(e,{joinWith:t}){let r=0;return e.map(n=>{r+=1;const i=r;let a=nw(n),s="";for(;a.length>0;){const o=kot.exec(a);if(!o){s+=a;break}s+=a.substring(0,o.index),a=a.substring(o.index+o[0].length),o[0][0]==="\\"&&o[1]?s+="\\"+String(Number(o[1])+i):(s+=o[0],o[0]==="("&&r++)}return s}).map(n=>`(${n})`).join(t)}const Eot=/\b\B/,Wpe="[a-zA-Z]\\w*",LF="[a-zA-Z_]\\w*",Gpe="\\b\\d+(\\.\\d+)?",qpe="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Ype="\\b(0b[01]+)",Tot="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",Not=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=dg(t,/.*\b/,e.binary,/\b.*/)),zd({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(r,n)=>{r.index!==0&&n.ignoreMatch()}},e)},iw={begin:"\\\\[\\s\\S]",relevance:0},Aot={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[iw]},jot={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[iw]},Rot={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},EA=function(e,t,r={}){const n=zd({scope:"comment",begin:e,end:t,contains:[]},r);n.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=MF("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return n.contains.push({begin:dg(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),n},Iot=EA("//","$"),Mot=EA("/\\*","\\*/"),Pot=EA("#","$"),Lot={scope:"number",begin:Gpe,relevance:0},Dot={scope:"number",begin:qpe,relevance:0},Oot={scope:"number",begin:Ype,relevance:0},$ot={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[iw,{begin:/\[/,end:/\]/,relevance:0,contains:[iw]}]},Bot={scope:"title",begin:Wpe,relevance:0},Fot={scope:"title",begin:LF,relevance:0},zot={begin:"\\.\\s*"+LF,relevance:0},Uot=function(e){return Object.assign(e,{"on:begin":(t,r)=>{r.data._beginMatch=t[1]},"on:end":(t,r)=>{r.data._beginMatch!==t[1]&&r.ignoreMatch()}})};var tk=Object.freeze({__proto__:null,APOS_STRING_MODE:Aot,BACKSLASH_ESCAPE:iw,BINARY_NUMBER_MODE:Oot,BINARY_NUMBER_RE:Ype,COMMENT:EA,C_BLOCK_COMMENT_MODE:Mot,C_LINE_COMMENT_MODE:Iot,C_NUMBER_MODE:Dot,C_NUMBER_RE:qpe,END_SAME_AS_BEGIN:Uot,HASH_COMMENT_MODE:Pot,IDENT_RE:Wpe,MATCH_NOTHING_RE:Eot,METHOD_GUARD:zot,NUMBER_MODE:Lot,NUMBER_RE:Gpe,PHRASAL_WORDS_MODE:Rot,QUOTE_STRING_MODE:jot,REGEXP_MODE:$ot,RE_STARTERS_RE:Tot,SHEBANG:Not,TITLE_MODE:Bot,UNDERSCORE_IDENT_RE:LF,UNDERSCORE_TITLE_MODE:Fot});function Hot(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function Vot(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function Wot(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=Hot,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function Got(e,t){Array.isArray(e.illegal)&&(e.illegal=MF(...e.illegal))}function qot(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function Yot(e,t){e.relevance===void 0&&(e.relevance=1)}const Kot=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const r=Object.assign({},e);Object.keys(e).forEach(n=>{delete e[n]}),e.keywords=r.keywords,e.begin=dg(r.beforeMatch,Hpe(r.begin)),e.starts={relevance:0,contains:[Object.assign(r,{endsParent:!0})]},e.relevance=0,delete r.beforeMatch},Xot=["of","and","for","in","not","or","if","then","parent","list","value"],Zot="keyword";function Kpe(e,t,r=Zot){const n=Object.create(null);return typeof e=="string"?i(r,e.split(" ")):Array.isArray(e)?i(r,e):Object.keys(e).forEach(function(a){Object.assign(n,Kpe(e[a],t,a))}),n;function i(a,s){t&&(s=s.map(o=>o.toLowerCase())),s.forEach(function(o){const l=o.split("|");n[l[0]]=[a,Jot(l[0],l[1])]})}}function Jot(e,t){return t?Number(t):Qot(e)?0:1}function Qot(e){return Xot.includes(e.toLowerCase())}const _X={},vp=e=>{console.error(e)},bX=(e,...t)=>{console.log(`WARN: ${e}`,...t)},rm=(e,t)=>{_X[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),_X[`${e}/${t}`]=!0)},uN=new Error;function Xpe(e,t,{key:r}){let n=0;const i=e[r],a={},s={};for(let o=1;o<=t.length;o++)s[o+n]=i[o],a[o+n]=!0,n+=Vpe(t[o-1]);e[r]=s,e[r]._emit=a,e[r]._multi=!0}function elt(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw vp("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),uN;if(typeof e.beginScope!="object"||e.beginScope===null)throw vp("beginScope must be object"),uN;Xpe(e,e.begin,{key:"beginScope"}),e.begin=PF(e.begin,{joinWith:""})}}function tlt(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw vp("skip, excludeEnd, returnEnd not compatible with endScope: {}"),uN;if(typeof e.endScope!="object"||e.endScope===null)throw vp("endScope must be object"),uN;Xpe(e,e.end,{key:"endScope"}),e.end=PF(e.end,{joinWith:""})}}function rlt(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function nlt(e){rlt(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),elt(e),tlt(e)}function ilt(e){function t(s,o){return new RegExp(nw(s),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(o?"g":""))}class r{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(o,l){l.position=this.position++,this.matchIndexes[this.matchAt]=l,this.regexes.push([l,o]),this.matchAt+=Vpe(o)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const o=this.regexes.map(l=>l[1]);this.matcherRe=t(PF(o,{joinWith:"|"}),!0),this.lastIndex=0}exec(o){this.matcherRe.lastIndex=this.lastIndex;const l=this.matcherRe.exec(o);if(!l)return null;const c=l.findIndex((h,f)=>f>0&&h!==void 0),u=this.matchIndexes[c];return l.splice(0,c),Object.assign(l,u)}}class n{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(o){if(this.multiRegexes[o])return this.multiRegexes[o];const l=new r;return this.rules.slice(o).forEach(([c,u])=>l.addRule(c,u)),l.compile(),this.multiRegexes[o]=l,l}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(o,l){this.rules.push([o,l]),l.type==="begin"&&this.count++}exec(o){const l=this.getMatcher(this.regexIndex);l.lastIndex=this.lastIndex;let c=l.exec(o);if(this.resumingScanAtSamePosition()&&!(c&&c.index===this.lastIndex)){const u=this.getMatcher(0);u.lastIndex=this.lastIndex+1,c=u.exec(o)}return c&&(this.regexIndex+=c.position+1,this.regexIndex===this.count&&this.considerAll()),c}}function i(s){const o=new n;return s.contains.forEach(l=>o.addRule(l.begin,{rule:l,type:"begin"})),s.terminatorEnd&&o.addRule(s.terminatorEnd,{type:"end"}),s.illegal&&o.addRule(s.illegal,{type:"illegal"}),o}function a(s,o){const l=s;if(s.isCompiled)return l;[Vot,qot,nlt,Kot].forEach(u=>u(s,o)),e.compilerExtensions.forEach(u=>u(s,o)),s.__beforeBegin=null,[Wot,Got,Yot].forEach(u=>u(s,o)),s.isCompiled=!0;let c=null;return typeof s.keywords=="object"&&s.keywords.$pattern&&(s.keywords=Object.assign({},s.keywords),c=s.keywords.$pattern,delete s.keywords.$pattern),c=c||/\w+/,s.keywords&&(s.keywords=Kpe(s.keywords,e.case_insensitive)),l.keywordPatternRe=t(c,!0),o&&(s.begin||(s.begin=/\B|\b/),l.beginRe=t(l.begin),!s.end&&!s.endsWithParent&&(s.end=/\B|\b/),s.end&&(l.endRe=t(l.end)),l.terminatorEnd=nw(l.end)||"",s.endsWithParent&&o.terminatorEnd&&(l.terminatorEnd+=(s.end?"|":"")+o.terminatorEnd)),s.illegal&&(l.illegalRe=t(s.illegal)),s.contains||(s.contains=[]),s.contains=[].concat(...s.contains.map(function(u){return alt(u==="self"?s:u)})),s.contains.forEach(function(u){a(u,l)}),s.starts&&a(s.starts,o),l.matcher=i(l),l}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=zd(e.classNameAliases||{}),a(e)}function Zpe(e){return e?e.endsWithParent||Zpe(e.starts):!1}function alt(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return zd(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:Zpe(e)?zd(e,{starts:e.starts?zd(e.starts):null}):Object.isFrozen(e)?zd(e):e}var slt="11.11.1";class olt extends Error{constructor(t,r){super(t),this.name="HTMLInjectionError",this.html=r}}const MM=Upe,wX=zd,SX=Symbol("nomatch"),llt=7,Jpe=function(e){const t=Object.create(null),r=Object.create(null),n=[];let i=!0;const a="Could not find the language '{}', did you forget to load/include a language module?",s={disableAutodetect:!0,name:"Plain text",contains:[]};let o={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:_ot};function l(L){return o.noHighlightRe.test(L)}function c(L){let O=L.className+" ";O+=L.parentNode?L.parentNode.className:"";const j=o.languageDetectRe.exec(O);if(j){const M=C(j[1]);return M||(bX(a.replace("{}",j[1])),bX("Falling back to no-highlight mode for this block.",L)),M?j[1]:"no-highlight"}return O.split(/\s+/).find(M=>l(M)||C(M))}function u(L,O,j){let M="",R="";typeof O=="object"?(M=L,j=O.ignoreIllegals,R=O.language):(rm("10.7.0","highlight(lang, code, ...args) has been deprecated."),rm("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),R=L,M=O),j===void 0&&(j=!0);const z={code:M,language:R};D("before:highlight",z);const U=z.result?z.result:h(z.language,z.code,j);return U.code=z.code,D("after:highlight",U),U}function h(L,O,j,M){const R=Object.create(null);function z(ee,se){return ee.keywords[se]}function U(){if(!Ie.keywords){pt.addText(fe);return}let ee=0;Ie.keywordPatternRe.lastIndex=0;let se=Ie.keywordPatternRe.exec(fe),J="";for(;se;){J+=fe.substring(ee,se.index);const ne=Ne.case_insensitive?se[0].toLowerCase():se[0],le=z(Ie,ne);if(le){const[Re,ze]=le;if(pt.addText(J),J="",R[ne]=(R[ne]||0)+1,R[ne]<=llt&&(et+=ze),Re.startsWith("_"))J+=se[0];else{const Te=Ne.classNameAliases[Re]||Re;q(se[0],Te)}}else J+=se[0];ee=Ie.keywordPatternRe.lastIndex,se=Ie.keywordPatternRe.exec(fe)}J+=fe.substring(ee),pt.addText(J)}function F(){if(fe==="")return;let ee=null;if(typeof Ie.subLanguage=="string"){if(!t[Ie.subLanguage]){pt.addText(fe);return}ee=h(Ie.subLanguage,fe,!0,bt[Ie.subLanguage]),bt[Ie.subLanguage]=ee._top}else ee=p(fe,Ie.subLanguage.length?Ie.subLanguage:null);Ie.relevance>0&&(et+=ee.relevance),pt.__addSublanguage(ee._emitter,ee.language)}function G(){Ie.subLanguage!=null?F():U(),fe=""}function q(ee,se){ee!==""&&(pt.startScope(se),pt.addText(ee),pt.endScope())}function K(ee,se){let J=1;const ne=se.length-1;for(;J<=ne;){if(!ee._emit[J]){J++;continue}const le=Ne.classNameAliases[ee[J]]||ee[J],Re=se[J];le?q(Re,le):(fe=Re,U(),fe=""),J++}}function B(ee,se){return ee.scope&&typeof ee.scope=="string"&&pt.openNode(Ne.classNameAliases[ee.scope]||ee.scope),ee.beginScope&&(ee.beginScope._wrap?(q(fe,Ne.classNameAliases[ee.beginScope._wrap]||ee.beginScope._wrap),fe=""):ee.beginScope._multi&&(K(ee.beginScope,se),fe="")),Ie=Object.create(ee,{parent:{value:Ie}}),Ie}function W(ee,se,J){let ne=Cot(ee.endRe,J);if(ne){if(ee["on:end"]){const le=new vX(ee);ee["on:end"](se,le),le.isMatchIgnored&&(ne=!1)}if(ne){for(;ee.endsParent&&ee.parent;)ee=ee.parent;return ee}}if(ee.endsWithParent)return W(ee.parent,se,J)}function Y(ee){return Ie.matcher.regexIndex===0?(fe+=ee[0],1):(tt=!0,0)}function Z(ee){const se=ee[0],J=ee.rule,ne=new vX(J),le=[J.__beforeBegin,J["on:begin"]];for(const Re of le)if(Re&&(Re(ee,ne),ne.isMatchIgnored))return Y(se);return J.skip?fe+=se:(J.excludeBegin&&(fe+=se),G(),!J.returnBegin&&!J.excludeBegin&&(fe=se)),B(J,ee),J.returnBegin?0:se.length}function Q(ee){const se=ee[0],J=O.substring(ee.index),ne=W(Ie,ee,J);if(!ne)return SX;const le=Ie;Ie.endScope&&Ie.endScope._wrap?(G(),q(se,Ie.endScope._wrap)):Ie.endScope&&Ie.endScope._multi?(G(),K(Ie.endScope,ee)):le.skip?fe+=se:(le.returnEnd||le.excludeEnd||(fe+=se),G(),le.excludeEnd&&(fe=se));do Ie.scope&&pt.closeNode(),!Ie.skip&&!Ie.subLanguage&&(et+=Ie.relevance),Ie=Ie.parent;while(Ie!==ne.parent);return ne.starts&&B(ne.starts,ee),le.returnEnd?0:se.length}function re(){const ee=[];for(let se=Ie;se!==Ne;se=se.parent)se.scope&&ee.unshift(se.scope);ee.forEach(se=>pt.openNode(se))}let me={};function Ee(ee,se){const J=se&&se[0];if(fe+=ee,J==null)return G(),0;if(me.type==="begin"&&se.type==="end"&&me.index===se.index&&J===""){if(fe+=O.slice(se.index,se.index+1),!i){const ne=new Error(`0 width match regex (${L})`);throw ne.languageName=L,ne.badRule=me.rule,ne}return 1}if(me=se,se.type==="begin")return Z(se);if(se.type==="illegal"&&!j){const ne=new Error('Illegal lexeme "'+J+'" for mode "'+(Ie.scope||"<unnamed>")+'"');throw ne.mode=Ie,ne}else if(se.type==="end"){const ne=Q(se);if(ne!==SX)return ne}if(se.type==="illegal"&&J==="")return fe+=`
`,1;if(Gt>1e5&&Gt>se.index*3)throw new Error("potential infinite loop, way more iterations than matches");return fe+=J,J.length}const Ne=C(L);if(!Ne)throw vp(a.replace("{}",L)),new Error('Unknown language: "'+L+'"');const Me=ilt(Ne);let Ae="",Ie=M||Me;const bt={},pt=new o.__emitter(o);re();let fe="",et=0,He=0,Gt=0,tt=!1;try{if(Ne.__emitTokens)Ne.__emitTokens(O,pt);else{for(Ie.matcher.considerAll();;){Gt++,tt?tt=!1:Ie.matcher.considerAll(),Ie.matcher.lastIndex=He;const ee=Ie.matcher.exec(O);if(!ee)break;const se=O.substring(He,ee.index),J=Ee(se,ee);He=ee.index+J}Ee(O.substring(He))}return pt.finalize(),Ae=pt.toHTML(),{language:L,value:Ae,relevance:et,illegal:!1,_emitter:pt,_top:Ie}}catch(ee){if(ee.message&&ee.message.includes("Illegal"))return{language:L,value:MM(O),illegal:!0,relevance:0,_illegalBy:{message:ee.message,index:He,context:O.slice(He-100,He+100),mode:ee.mode,resultSoFar:Ae},_emitter:pt};if(i)return{language:L,value:MM(O),illegal:!1,relevance:0,errorRaised:ee,_emitter:pt,_top:Ie};throw ee}}function f(L){const O={value:MM(L),illegal:!1,relevance:0,_top:s,_emitter:new o.__emitter(o)};return O._emitter.addText(L),O}function p(L,O){O=O||o.languages||Object.keys(t);const j=f(L),M=O.filter(C).filter(T).map(G=>h(G,L,!1));M.unshift(j);const R=M.sort((G,q)=>{if(G.relevance!==q.relevance)return q.relevance-G.relevance;if(G.language&&q.language){if(C(G.language).supersetOf===q.language)return 1;if(C(q.language).supersetOf===G.language)return-1}return 0}),[z,U]=R,F=z;return F.secondBest=U,F}function g(L,O,j){const M=O&&r[O]||j;L.classList.add("hljs"),L.classList.add(`language-${M}`)}function v(L){let O=null;const j=c(L);if(l(j))return;if(D("before:highlightElement",{el:L,language:j}),L.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",L);return}if(L.children.length>0&&(o.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(L)),o.throwUnescapedHTML))throw new olt("One of your code blocks includes unescaped HTML.",L.innerHTML);O=L;const M=O.textContent,R=j?u(M,{language:j,ignoreIllegals:!0}):p(M);L.innerHTML=R.value,L.dataset.highlighted="yes",g(L,j,R.language),L.result={language:R.language,re:R.relevance,relevance:R.relevance},R.secondBest&&(L.secondBest={language:R.secondBest.language,relevance:R.secondBest.relevance}),D("after:highlightElement",{el:L,result:R,text:M})}function m(L){o=wX(o,L)}const y=()=>{b(),rm("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function x(){b(),rm("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let _=!1;function b(){function L(){b()}if(document.readyState==="loading"){_||window.addEventListener("DOMContentLoaded",L,!1),_=!0;return}document.querySelectorAll(o.cssSelector).forEach(v)}function w(L,O){let j=null;try{j=O(e)}catch(M){if(vp("Language definition for '{}' could not be registered.".replace("{}",L)),i)vp(M);else throw M;j=s}j.name||(j.name=L),t[L]=j,j.rawDefinition=O.bind(null,e),j.aliases&&E(j.aliases,{languageName:L})}function S(L){delete t[L];for(const O of Object.keys(r))r[O]===L&&delete r[O]}function k(){return Object.keys(t)}function C(L){return L=(L||"").toLowerCase(),t[L]||t[r[L]]}function E(L,{languageName:O}){typeof L=="string"&&(L=[L]),L.forEach(j=>{r[j.toLowerCase()]=O})}function T(L){const O=C(L);return O&&!O.disableAutodetect}function N(L){L["before:highlightBlock"]&&!L["before:highlightElement"]&&(L["before:highlightElement"]=O=>{L["before:highlightBlock"](Object.assign({block:O.el},O))}),L["after:highlightBlock"]&&!L["after:highlightElement"]&&(L["after:highlightElement"]=O=>{L["after:highlightBlock"](Object.assign({block:O.el},O))})}function I(L){N(L),n.push(L)}function P(L){const O=n.indexOf(L);O!==-1&&n.splice(O,1)}function D(L,O){const j=L;n.forEach(function(M){M[j]&&M[j](O)})}function $(L){return rm("10.7.0","highlightBlock will be removed entirely in v12.0"),rm("10.7.0","Please use highlightElement now."),v(L)}Object.assign(e,{highlight:u,highlightAuto:p,highlightAll:b,highlightElement:v,highlightBlock:$,configure:m,initHighlighting:y,initHighlightingOnLoad:x,registerLanguage:w,unregisterLanguage:S,listLanguages:k,getLanguage:C,registerAliases:E,autoDetection:T,inherit:wX,addPlugin:I,removePlugin:P}),e.debugMode=function(){i=!1},e.safeMode=function(){i=!0},e.versionString=slt,e.regex={concat:dg,lookahead:Hpe,either:MF,optional:wot,anyNumberOfTimes:bot};for(const L in tk)typeof tk[L]=="object"&&zpe(tk[L]);return Object.assign(e,tk),e},Hv=Jpe({});Hv.newInstance=()=>Jpe({});var clt=Hv;Hv.HighlightJS=Hv;Hv.default=Hv;const ult=t0(clt),CX={},dlt="hljs-";function hlt(e){const t=ult.newInstance();return e&&a(e),{highlight:r,highlightAuto:n,listLanguages:i,register:a,registerAlias:s,registered:o};function r(l,c,u){const h=u||CX,f=typeof h.prefix=="string"?h.prefix:dlt;if(!t.getLanguage(l))throw new Error("Unknown language: `"+l+"` is not registered");t.configure({__emitter:flt,classPrefix:f});const p=t.highlight(c,{ignoreIllegals:!0,language:l});if(p.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:p.errorRaised});const g=p._emitter.root,v=g.data;return v.language=p.language,v.relevance=p.relevance,g}function n(l,c){const h=(c||CX).subset||i();let f=-1,p=0,g;for(;++f<h.length;){const v=h[f];if(!t.getLanguage(v))continue;const m=r(v,l,c);m.data&&m.data.relevance!==void 0&&m.data.relevance>p&&(p=m.data.relevance,g=m)}return g||{type:"root",children:[],data:{language:void 0,relevance:p}}}function i(){return t.listLanguages()}function a(l,c){if(typeof l=="string")t.registerLanguage(l,c);else{let u;for(u in l)Object.hasOwn(l,u)&&t.registerLanguage(u,l[u])}}function s(l,c){if(typeof l=="string")t.registerAliases(typeof c=="string"?c:[...c],{languageName:l});else{let u;for(u in l)if(Object.hasOwn(l,u)){const h=l[u];t.registerAliases(typeof h=="string"?h:[...h],{languageName:u})}}}function o(l){return!!t.getLanguage(l)}}class flt{constructor(t){this.options=t,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(t){if(t==="")return;const r=this.stack[this.stack.length-1],n=r.children[r.children.length-1];n&&n.type==="text"?n.value+=t:r.children.push({type:"text",value:t})}startScope(t){this.openNode(String(t))}endScope(){this.closeNode()}__addSublanguage(t,r){const n=this.stack[this.stack.length-1],i=t.root.children;r?n.children.push({type:"element",tagName:"span",properties:{className:[r]},children:i}):n.children.push(...i)}openNode(t){const r=this,n=t.split(".").map(function(s,o){return o?s+"_".repeat(o):r.options.classPrefix+s}),i=this.stack[this.stack.length-1],a={type:"element",tagName:"span",properties:{className:n},children:[]};i.children.push(a),this.stack.push(a)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const plt={};function glt(e){const t=e||plt,r=t.aliases,n=t.detect||!1,i=t.languages||mot,a=t.plainText,s=t.prefix,o=t.subset;let l="hljs";const c=hlt(i);if(r&&c.registerAlias(r),s){const u=s.indexOf("-");l=u===-1?s:s.slice(0,u)}return function(u,h){kA(u,"element",function(f,p,g){if(f.tagName!=="code"||!g||g.type!=="element"||g.tagName!=="pre")return;const v=mlt(f);if(v===!1||!v&&!n||v&&a&&a.includes(v))return;Array.isArray(f.properties.className)||(f.properties.className=[]),f.properties.className.includes(l)||f.properties.className.unshift(l);const m=Hat(f,{whitespace:"pre"});let y;try{y=v?c.highlight(v,m,{prefix:s}):c.highlightAuto(m,{prefix:s,subset:o})}catch(x){const _=x;if(v&&/Unknown language/.test(_.message)){h.message("Cannot highlight as `"+v+"`, it’s not registered",{ancestors:[g,f],cause:_,place:f.position,ruleId:"missing-language",source:"rehype-highlight"});return}throw _}!v&&y.data&&y.data.language&&f.properties.className.push("language-"+y.data.language),y.children.length>0&&(f.children=y.children)})}}function mlt(e){const t=e.properties.className;let r=-1;if(!Array.isArray(t))return;let n;for(;++r<t.length;){const i=String(t[r]);if(i==="no-highlight"||i==="nohighlight")return!1;!n&&i.slice(0,5)==="lang-"&&(n=i.slice(5)),!n&&i.slice(0,9)==="language-"&&(n=i.slice(9))}return n}const vlt=({role:e,content:t,timestamp:r,context:n,steps:i,copiedId:a,suggestions:s,onUseSuggestion:o,onCopyCommand:l,onExecuteCommand:c,onSaveSnippet:u})=>{const[h,f]=A.useState(!1);return A.useEffect(()=>{e==="assistant"&&console.log("收到的完整原始内容:",t)},[e,t]),d.jsxs("div",{className:`p-4 rounded-xl shadow-sm animate-fadeIn mb-4 ${e==="user"?"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200":"bg-white border border-gray-200"}`,children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center mr-2 ${e==="user"?"bg-blue-600":"bg-gray-800"}`,children:e==="user"?d.jsx(Ree,{className:"w-4 h-4 text-white"}):d.jsx($a,{className:"w-4 h-4 text-white"})}),d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"font-medium text-gray-900",children:e==="user"?"You":"Network Assistant"}),d.jsx("span",{className:"text-xs text-gray-500 ml-2",children:new Date(r).toLocaleTimeString()}),n&&d.jsx(Ce,{variant:"outline",className:"ml-2 text-xs bg-blue-50 text-blue-700",children:n}),e==="assistant"&&d.jsxs("button",{onClick:()=>f(!h),className:"ml-auto text-xs text-gray-500 hover:text-gray-700 flex items-center",title:"查看/隐藏原始内容",children:[d.jsx(fo,{className:"h-3 w-3 mr-1"}),h?"隐藏原始内容":"查看原始内容"]})]})})]}),e==="assistant"&&h&&d.jsx("div",{className:"mb-4 p-3 bg-gray-100 rounded text-xs overflow-auto max-h-40",children:d.jsx("pre",{className:"whitespace-pre-wrap",children:t})}),d.jsx("div",{className:"text-gray-700 mb-3 overflow-hidden max-w-full",children:e==="user"?d.jsx("div",{className:"whitespace-pre-line",children:t}):d.jsx("div",{className:"markdown-body overflow-x-hidden w-full",children:d.jsx(Snt,{remarkPlugins:[Dat],rehypePlugins:[glt],components:{code:({className:p,children:g,...v})=>{var x;const m=p==null?void 0:p.includes("language-"),y=((x=p==null?void 0:p.match(/language-(\w+)/))==null?void 0:x[1])||"";return m?d.jsx("pre",{className:`rounded-md my-3 w-full ${y==="bash"?"language-bash":""}`,children:d.jsx("code",{className:p,...v,children:g})}):d.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-red-600",...v,children:g})},p:({children:p})=>{let g=!1;return en.Children.forEach(p,v=>{typeof v=="object"&&en.isValidElement(v)&&v.type==="code"&&v.props.children&&typeof v.props.children=="string"&&v.props.children.length>50&&(g=!0)}),d.jsx("p",{className:`mb-3 break-words ${g?"whitespace-normal":""}`,children:p})},ul:({children:p})=>d.jsx("ul",{className:"list-disc pl-5 mb-3 space-y-1",children:p}),ol:({children:p})=>d.jsx("ol",{className:"list-decimal pl-5 mb-3 space-y-1",children:p}),li:({children:p})=>d.jsx("li",{className:"break-words",children:p}),strong:({children:p})=>{const g=typeof p=="string"?p:"";return g.includes("Summary:")?d.jsx("strong",{className:"font-bold summary-text",children:p}):g.includes("Intent:")?d.jsx("strong",{className:"font-bold intent-text",children:p}):d.jsx("strong",{className:"font-bold text-gray-900",children:p})}},children:t})})}),e==="assistant"&&i&&i.length>0&&d.jsxs("div",{className:"mt-5 pt-5 border-t border-gray-200",children:[d.jsx("div",{className:"config-steps-header",children:d.jsxs("h4",{className:"font-medium text-gray-700 text-sm flex items-center",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Configuration Steps"]})}),i.filter(p=>p.isVisible).map(p=>d.jsxs("div",{className:"step-card",children:[d.jsx("div",{className:"step-card-header",children:d.jsxs("div",{className:"flex items-center",children:[d.jsxs(Ce,{variant:"outline",className:"mr-2 bg-white border-gray-200 text-gray-700",children:["Step ",p.id]}),d.jsx("h5",{className:"text-sm font-medium text-gray-700",children:p.description})]})}),d.jsx("pre",{className:"step-card-content",children:p.command})]},p.id))]}),e==="assistant"&&s&&s.length>0&&d.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"You might want to ask:"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:s.map((p,g)=>d.jsxs(Ce,{variant:"outline",className:"bg-white hover:bg-blue-50 cursor-pointer py-1.5 px-3",onClick:()=>o&&o(p),children:[p,d.jsx(f_e,{className:"ml-1 h-3 w-3"})]},g))})]})]})},ylt=({value:e,onChange:t,onSend:r,isLoading:n,isDisabled:i,mode:a,onModeChange:s})=>{const[o,l]=A.useState(!1),c=A.useRef(null),u=h=>{o||h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),!n&&e.trim()&&!i&&r())};return d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"text-xs font-medium text-gray-600 mr-2",children:"Mode:"}),d.jsxs(sF,{value:a,onValueChange:h=>s(h),className:"flex space-x-4",children:[d.jsxs("div",{className:"flex items-center space-x-1 opacity-40 cursor-not-allowed",children:[d.jsx(ew,{value:"strict",id:"strict",className:"h-3 w-3",disabled:!0}),d.jsx("label",{htmlFor:"strict",className:"text-xs text-gray-400",children:"Strict"})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(ew,{value:"sparse",id:"sparse",className:"h-3 w-3"}),d.jsx("label",{htmlFor:"sparse",className:"text-xs cursor-pointer",children:"Sparse"})]})]})]}),d.jsx("div",{className:"text-xs text-gray-500",children:e.length>0&&`${e.length} chars`})]}),d.jsxs("div",{className:"relative border border-gray-300 rounded-md overflow-hidden focus-within:ring-1 focus-within:ring-blue-500 focus-within:border-blue-500",children:[d.jsx(efe,{ref:c,value:e,onChange:h=>t(h.target.value),onKeyDown:u,onCompositionStart:()=>l(!0),onCompositionEnd:()=>l(!1),placeholder:"Describe what you want to configure... (Enter to send)",className:"w-full py-2 pl-3 pr-9 border-0 focus:outline-none resize-none text-sm bg-white overflow-y-auto max-h-32",minRows:1,maxRows:5,disabled:n||i,style:{scrollbarWidth:"thin"}}),d.jsx("button",{className:`absolute right-2 top-1/2 transform -translate-y-1/2 p-1 rounded-full transition-colors ${i||n||!e.trim()?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,onClick:r,disabled:n||i||!e.trim(),children:n?d.jsx(Kt,{className:"h-3.5 w-3.5 animate-spin"}):d.jsx(Nee,{className:"h-3.5 w-3.5"})})]}),i?d.jsx("div",{className:"text-xs text-red-500",children:"Please select a device to continue"}):d.jsx("div",{className:"text-xs text-gray-500",children:"Press Enter to send"})]})},xlt=()=>d.jsxs("div",{className:"loading-bubble",children:[d.jsx("div",{className:"icon",children:d.jsx($a,{className:"w-4 h-4 text-white"})}),d.jsxs("div",{className:"dots",children:[d.jsx("div",{className:"dot"}),d.jsx("div",{className:"dot"}),d.jsx("div",{className:"dot"})]})]});var Qpe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(self,()=>(()=>{var r={4567:function(s,o,l){var c=this&&this.__decorate||function(_,b,w,S){var k,C=arguments.length,E=C<3?b:S===null?S=Object.getOwnPropertyDescriptor(b,w):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(_,b,w,S);else for(var T=_.length-1;T>=0;T--)(k=_[T])&&(E=(C<3?k(E):C>3?k(b,w,E):k(b,w))||E);return C>3&&E&&Object.defineProperty(b,w,E),E},u=this&&this.__param||function(_,b){return function(w,S){b(w,S,_)}};Object.defineProperty(o,"__esModule",{value:!0}),o.AccessibilityManager=void 0;const h=l(9042),f=l(6114),p=l(9924),g=l(844),v=l(5596),m=l(4725),y=l(3656);let x=o.AccessibilityManager=class extends g.Disposable{constructor(_,b){super(),this._terminal=_,this._renderService=b,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let w=0;w<this._terminal.rows;w++)this._rowElements[w]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[w]);if(this._topBoundaryFocusListener=w=>this._handleBoundaryFocus(w,0),this._bottomBoundaryFocusListener=w=>this._handleBoundaryFocus(w,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new p.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(w=>this._handleResize(w.rows))),this.register(this._terminal.onRender(w=>this._refreshRows(w.start,w.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(w=>this._handleChar(w))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(w=>this._handleTab(w))),this.register(this._terminal.onKey(w=>this._handleKey(w.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new v.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,y.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,g.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(_){for(let b=0;b<_;b++)this._handleChar(" ")}_handleChar(_){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==_&&(this._charsToAnnounce+=_):this._charsToAnnounce+=_,_===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=h.tooMuchOutput)),f.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,f.isMac&&this._liveRegion.remove()}_handleKey(_){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(_)||this._charsToConsume.push(_)}_refreshRows(_,b){this._liveRegionDebouncer.refresh(_,b,this._terminal.rows)}_renderRows(_,b){const w=this._terminal.buffer,S=w.lines.length.toString();for(let k=_;k<=b;k++){const C=w.translateBufferLineToString(w.ydisp+k,!0),E=(w.ydisp+k+1).toString(),T=this._rowElements[k];T&&(C.length===0?T.innerText=" ":T.textContent=C,T.setAttribute("aria-posinset",E),T.setAttribute("aria-setsize",S))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(_,b){const w=_.target,S=this._rowElements[b===0?1:this._rowElements.length-2];if(w.getAttribute("aria-posinset")===(b===0?"1":`${this._terminal.buffer.lines.length}`)||_.relatedTarget!==S)return;let k,C;if(b===0?(k=w,C=this._rowElements.pop(),this._rowContainer.removeChild(C)):(k=this._rowElements.shift(),C=w,this._rowContainer.removeChild(k)),k.removeEventListener("focus",this._topBoundaryFocusListener),C.removeEventListener("focus",this._bottomBoundaryFocusListener),b===0){const E=this._createAccessibilityTreeNode();this._rowElements.unshift(E),this._rowContainer.insertAdjacentElement("afterbegin",E)}else{const E=this._createAccessibilityTreeNode();this._rowElements.push(E),this._rowContainer.appendChild(E)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(b===0?-1:1),this._rowElements[b===0?1:this._rowElements.length-2].focus(),_.preventDefault(),_.stopImmediatePropagation()}_handleResize(_){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let b=this._rowContainer.children.length;b<this._terminal.rows;b++)this._rowElements[b]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[b]);for(;this._rowElements.length>_;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const _=document.createElement("div");return _.setAttribute("role","listitem"),_.tabIndex=-1,this._refreshRowDimensions(_),_}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let _=0;_<this._terminal.rows;_++)this._refreshRowDimensions(this._rowElements[_])}}_refreshRowDimensions(_){_.style.height=`${this._renderService.dimensions.css.cell.height}px`}};o.AccessibilityManager=x=c([u(1,m.IRenderService)],x)},3614:(s,o)=>{function l(f){return f.replace(/\r?\n/g,"\r")}function c(f,p){return p?"\x1B[200~"+f+"\x1B[201~":f}function u(f,p,g,v){f=c(f=l(f),g.decPrivateModes.bracketedPasteMode&&v.rawOptions.ignoreBracketedPasteMode!==!0),g.triggerDataEvent(f,!0),p.value=""}function h(f,p,g){const v=g.getBoundingClientRect(),m=f.clientX-v.left-10,y=f.clientY-v.top-10;p.style.width="20px",p.style.height="20px",p.style.left=`${m}px`,p.style.top=`${y}px`,p.style.zIndex="1000",p.focus()}Object.defineProperty(o,"__esModule",{value:!0}),o.rightClickHandler=o.moveTextAreaUnderMouseCursor=o.paste=o.handlePasteEvent=o.copyHandler=o.bracketTextForPaste=o.prepareTextForTerminal=void 0,o.prepareTextForTerminal=l,o.bracketTextForPaste=c,o.copyHandler=function(f,p){f.clipboardData&&f.clipboardData.setData("text/plain",p.selectionText),f.preventDefault()},o.handlePasteEvent=function(f,p,g,v){f.stopPropagation(),f.clipboardData&&u(f.clipboardData.getData("text/plain"),p,g,v)},o.paste=u,o.moveTextAreaUnderMouseCursor=h,o.rightClickHandler=function(f,p,g,v,m){h(f,p,g),m&&v.rightClickSelect(f),p.value=v.selectionText,p.select()}},7239:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorContrastCache=void 0;const c=l(1505);o.ColorContrastCache=class{constructor(){this._color=new c.TwoKeyMap,this._css=new c.TwoKeyMap}setCss(u,h,f){this._css.set(u,h,f)}getCss(u,h){return this._css.get(u,h)}setColor(u,h,f){this._color.set(u,h,f)}getColor(u,h){return this._color.get(u,h)}clear(){this._color.clear(),this._css.clear()}}},3656:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.addDisposableDomListener=void 0,o.addDisposableDomListener=function(l,c,u,h){l.addEventListener(c,u,h);let f=!1;return{dispose:()=>{f||(f=!0,l.removeEventListener(c,u,h))}}}},6465:function(s,o,l){var c=this&&this.__decorate||function(m,y,x,_){var b,w=arguments.length,S=w<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,x):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(m,y,x,_);else for(var k=m.length-1;k>=0;k--)(b=m[k])&&(S=(w<3?b(S):w>3?b(y,x,S):b(y,x))||S);return w>3&&S&&Object.defineProperty(y,x,S),S},u=this&&this.__param||function(m,y){return function(x,_){y(x,_,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Linkifier2=void 0;const h=l(3656),f=l(8460),p=l(844),g=l(2585);let v=o.Linkifier2=class extends p.Disposable{get currentLink(){return this._currentLink}constructor(m){super(),this._bufferService=m,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new f.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new f.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,p.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,p.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(m){return this._linkProviders.push(m),{dispose:()=>{const y=this._linkProviders.indexOf(m);y!==-1&&this._linkProviders.splice(y,1)}}}attachToDom(m,y,x){this._element=m,this._mouseService=y,this._renderService=x,this.register((0,h.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,h.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(m){if(this._lastMouseEvent=m,!this._element||!this._mouseService)return;const y=this._positionFromMouseEvent(m,this._element,this._mouseService);if(!y)return;this._isMouseOut=!1;const x=m.composedPath();for(let _=0;_<x.length;_++){const b=x[_];if(b.classList.contains("xterm"))break;if(b.classList.contains("xterm-hover"))return}this._lastBufferCell&&y.x===this._lastBufferCell.x&&y.y===this._lastBufferCell.y||(this._handleHover(y),this._lastBufferCell=y)}_handleHover(m){if(this._activeLine!==m.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(m,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,m)||(this._clearCurrentLink(),this._askForLink(m,!0))}_askForLink(m,y){var x,_;this._activeProviderReplies&&y||((x=this._activeProviderReplies)===null||x===void 0||x.forEach(w=>{w==null||w.forEach(S=>{S.link.dispose&&S.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=m.y);let b=!1;for(const[w,S]of this._linkProviders.entries())y?!((_=this._activeProviderReplies)===null||_===void 0)&&_.get(w)&&(b=this._checkLinkProviderResult(w,m,b)):S.provideLinks(m.y,k=>{var C,E;if(this._isMouseOut)return;const T=k==null?void 0:k.map(N=>({link:N}));(C=this._activeProviderReplies)===null||C===void 0||C.set(w,T),b=this._checkLinkProviderResult(w,m,b),((E=this._activeProviderReplies)===null||E===void 0?void 0:E.size)===this._linkProviders.length&&this._removeIntersectingLinks(m.y,this._activeProviderReplies)})}_removeIntersectingLinks(m,y){const x=new Set;for(let _=0;_<y.size;_++){const b=y.get(_);if(b)for(let w=0;w<b.length;w++){const S=b[w],k=S.link.range.start.y<m?0:S.link.range.start.x,C=S.link.range.end.y>m?this._bufferService.cols:S.link.range.end.x;for(let E=k;E<=C;E++){if(x.has(E)){b.splice(w--,1);break}x.add(E)}}}}_checkLinkProviderResult(m,y,x){var _;if(!this._activeProviderReplies)return x;const b=this._activeProviderReplies.get(m);let w=!1;for(let S=0;S<m;S++)this._activeProviderReplies.has(S)&&!this._activeProviderReplies.get(S)||(w=!0);if(!w&&b){const S=b.find(k=>this._linkAtPosition(k.link,y));S&&(x=!0,this._handleNewLink(S))}if(this._activeProviderReplies.size===this._linkProviders.length&&!x)for(let S=0;S<this._activeProviderReplies.size;S++){const k=(_=this._activeProviderReplies.get(S))===null||_===void 0?void 0:_.find(C=>this._linkAtPosition(C.link,y));if(k){x=!0,this._handleNewLink(k);break}}return x}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(m){if(!this._element||!this._mouseService||!this._currentLink)return;const y=this._positionFromMouseEvent(m,this._element,this._mouseService);y&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,y)&&this._currentLink.link.activate(m,this._currentLink.link.text)}_clearCurrentLink(m,y){this._element&&this._currentLink&&this._lastMouseEvent&&(!m||!y||this._currentLink.link.range.start.y>=m&&this._currentLink.link.range.end.y<=y)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,p.disposeArray)(this._linkCacheDisposables))}_handleNewLink(m){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const y=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);y&&this._linkAtPosition(m.link,y)&&(this._currentLink=m,this._currentLink.state={decorations:{underline:m.link.decorations===void 0||m.link.decorations.underline,pointerCursor:m.link.decorations===void 0||m.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,m.link,this._lastMouseEvent),m.link.decorations={},Object.defineProperties(m.link.decorations,{pointerCursor:{get:()=>{var x,_;return(_=(x=this._currentLink)===null||x===void 0?void 0:x.state)===null||_===void 0?void 0:_.decorations.pointerCursor},set:x=>{var _,b;!((_=this._currentLink)===null||_===void 0)&&_.state&&this._currentLink.state.decorations.pointerCursor!==x&&(this._currentLink.state.decorations.pointerCursor=x,this._currentLink.state.isHovered&&((b=this._element)===null||b===void 0||b.classList.toggle("xterm-cursor-pointer",x)))}},underline:{get:()=>{var x,_;return(_=(x=this._currentLink)===null||x===void 0?void 0:x.state)===null||_===void 0?void 0:_.decorations.underline},set:x=>{var _,b,w;!((_=this._currentLink)===null||_===void 0)&&_.state&&((w=(b=this._currentLink)===null||b===void 0?void 0:b.state)===null||w===void 0?void 0:w.decorations.underline)!==x&&(this._currentLink.state.decorations.underline=x,this._currentLink.state.isHovered&&this._fireUnderlineEvent(m.link,x))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(x=>{if(!this._currentLink)return;const _=x.start===0?0:x.start+1+this._bufferService.buffer.ydisp,b=this._bufferService.buffer.ydisp+1+x.end;if(this._currentLink.link.range.start.y>=_&&this._currentLink.link.range.end.y<=b&&(this._clearCurrentLink(_,b),this._lastMouseEvent&&this._element)){const w=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);w&&this._askForLink(w,!1)}})))}_linkHover(m,y,x){var _;!((_=this._currentLink)===null||_===void 0)&&_.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(y,!0),this._currentLink.state.decorations.pointerCursor&&m.classList.add("xterm-cursor-pointer")),y.hover&&y.hover(x,y.text)}_fireUnderlineEvent(m,y){const x=m.range,_=this._bufferService.buffer.ydisp,b=this._createLinkUnderlineEvent(x.start.x-1,x.start.y-_-1,x.end.x,x.end.y-_-1,void 0);(y?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(b)}_linkLeave(m,y,x){var _;!((_=this._currentLink)===null||_===void 0)&&_.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(y,!1),this._currentLink.state.decorations.pointerCursor&&m.classList.remove("xterm-cursor-pointer")),y.leave&&y.leave(x,y.text)}_linkAtPosition(m,y){const x=m.range.start.y*this._bufferService.cols+m.range.start.x,_=m.range.end.y*this._bufferService.cols+m.range.end.x,b=y.y*this._bufferService.cols+y.x;return x<=b&&b<=_}_positionFromMouseEvent(m,y,x){const _=x.getCoords(m,y,this._bufferService.cols,this._bufferService.rows);if(_)return{x:_[0],y:_[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(m,y,x,_,b){return{x1:m,y1:y,x2:x,y2:_,cols:this._bufferService.cols,fg:b}}};o.Linkifier2=v=c([u(0,g.IBufferService)],v)},9042:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tooMuchOutput=o.promptLabel=void 0,o.promptLabel="Terminal input",o.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(s,o,l){var c=this&&this.__decorate||function(v,m,y,x){var _,b=arguments.length,w=b<3?m:x===null?x=Object.getOwnPropertyDescriptor(m,y):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(v,m,y,x);else for(var S=v.length-1;S>=0;S--)(_=v[S])&&(w=(b<3?_(w):b>3?_(m,y,w):_(m,y))||w);return b>3&&w&&Object.defineProperty(m,y,w),w},u=this&&this.__param||function(v,m){return function(y,x){m(y,x,v)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkProvider=void 0;const h=l(511),f=l(2585);let p=o.OscLinkProvider=class{constructor(v,m,y){this._bufferService=v,this._optionsService=m,this._oscLinkService=y}provideLinks(v,m){var y;const x=this._bufferService.buffer.lines.get(v-1);if(!x)return void m(void 0);const _=[],b=this._optionsService.rawOptions.linkHandler,w=new h.CellData,S=x.getTrimmedLength();let k=-1,C=-1,E=!1;for(let T=0;T<S;T++)if(C!==-1||x.hasContent(T)){if(x.loadCell(T,w),w.hasExtendedAttrs()&&w.extended.urlId){if(C===-1){C=T,k=w.extended.urlId;continue}E=w.extended.urlId!==k}else C!==-1&&(E=!0);if(E||C!==-1&&T===S-1){const N=(y=this._oscLinkService.getLinkData(k))===null||y===void 0?void 0:y.uri;if(N){const I={start:{x:C+1,y:v},end:{x:T+(E||T!==S-1?0:1),y:v}};let P=!1;if(!(b!=null&&b.allowNonHttpProtocols))try{const D=new URL(N);["http:","https:"].includes(D.protocol)||(P=!0)}catch{P=!0}P||_.push({text:N,range:I,activate:(D,$)=>b?b.activate(D,$,I):g(0,$),hover:(D,$)=>{var L;return(L=b==null?void 0:b.hover)===null||L===void 0?void 0:L.call(b,D,$,I)},leave:(D,$)=>{var L;return(L=b==null?void 0:b.leave)===null||L===void 0?void 0:L.call(b,D,$,I)}})}E=!1,w.hasExtendedAttrs()&&w.extended.urlId?(C=T,k=w.extended.urlId):(C=-1,k=-1)}}m(_)}};function g(v,m){if(confirm(`Do you want to navigate to ${m}?

WARNING: This link could potentially be dangerous`)){const y=window.open();if(y){try{y.opener=null}catch{}y.location.href=m}else console.warn("Opening link blocked as opener could not be cleared")}}o.OscLinkProvider=p=c([u(0,f.IBufferService),u(1,f.IOptionsService),u(2,f.IOscLinkService)],p)},6193:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RenderDebouncer=void 0,o.RenderDebouncer=class{constructor(l,c){this._parentWindow=l,this._renderCallback=c,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(l){return this._refreshCallbacks.push(l),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(l,c,u){this._rowCount=u,l=l!==void 0?l:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const l=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,c),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const l of this._refreshCallbacks)l(0);this._refreshCallbacks=[]}}},5596:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ScreenDprMonitor=void 0;const c=l(844);class u extends c.Disposable{constructor(f){super(),this._parentWindow=f,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,c.toDisposable)(()=>{this.clearListener()}))}setListener(f){this._listener&&this.clearListener(),this._listener=f,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var f;this._outerListener&&((f=this._resolutionMediaMatchList)===null||f===void 0||f.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}o.ScreenDprMonitor=u},3236:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Terminal=void 0;const c=l(3614),u=l(3656),h=l(6465),f=l(9042),p=l(3730),g=l(1680),v=l(3107),m=l(5744),y=l(2950),x=l(1296),_=l(428),b=l(4269),w=l(5114),S=l(8934),k=l(3230),C=l(9312),E=l(4725),T=l(6731),N=l(8055),I=l(8969),P=l(8460),D=l(844),$=l(6114),L=l(8437),O=l(2584),j=l(7399),M=l(5941),R=l(9074),z=l(2585),U=l(5435),F=l(4567),G=typeof window<"u"?window.document:null;class q extends I.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(B={}){super(B),this.browser=$,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new D.MutableDisposable),this._onCursorMove=this.register(new P.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new P.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new P.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new P.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new P.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new P.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new P.EventEmitter),this._onBlur=this.register(new P.EventEmitter),this._onA11yCharEmitter=this.register(new P.EventEmitter),this._onA11yTabEmitter=this.register(new P.EventEmitter),this._onWillOpen=this.register(new P.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(h.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(p.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(R.DecorationService),this._instantiationService.setService(z.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((W,Y)=>this.refresh(W,Y))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(W=>this._reportWindowsOptions(W))),this.register(this._inputHandler.onColor(W=>this._handleColorEvent(W))),this.register((0,P.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,P.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,P.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,P.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(W=>this._afterResize(W.cols,W.rows))),this.register((0,D.toDisposable)(()=>{var W,Y;this._customKeyEventHandler=void 0,(Y=(W=this.element)===null||W===void 0?void 0:W.parentNode)===null||Y===void 0||Y.removeChild(this.element)}))}_handleColorEvent(B){if(this._themeService)for(const W of B){let Y,Z="";switch(W.index){case 256:Y="foreground",Z="10";break;case 257:Y="background",Z="11";break;case 258:Y="cursor",Z="12";break;default:Y="ansi",Z="4;"+W.index}switch(W.type){case 0:const Q=N.color.toColorRGB(Y==="ansi"?this._themeService.colors.ansi[W.index]:this._themeService.colors[Y]);this.coreService.triggerDataEvent(`${O.C0.ESC}]${Z};${(0,M.toRgbString)(Q)}${O.C1_ESCAPED.ST}`);break;case 1:if(Y==="ansi")this._themeService.modifyColors(re=>re.ansi[W.index]=N.rgba.toColor(...W.color));else{const re=Y;this._themeService.modifyColors(me=>me[re]=N.rgba.toColor(...W.color))}break;case 2:this._themeService.restoreColor(W.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(B){B?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(F.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(B){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(O.C0.ESC+"[I"),this.updateCursorStyle(B),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var B;return(B=this.textarea)===null||B===void 0?void 0:B.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(O.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const B=this.buffer.ybase+this.buffer.y,W=this.buffer.lines.get(B);if(!W)return;const Y=Math.min(this.buffer.x,this.cols-1),Z=this._renderService.dimensions.css.cell.height,Q=W.getWidth(Y),re=this._renderService.dimensions.css.cell.width*Q,me=this.buffer.y*this._renderService.dimensions.css.cell.height,Ee=Y*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Ee+"px",this.textarea.style.top=me+"px",this.textarea.style.width=re+"px",this.textarea.style.height=Z+"px",this.textarea.style.lineHeight=Z+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,u.addDisposableDomListener)(this.element,"copy",W=>{this.hasSelection()&&(0,c.copyHandler)(W,this._selectionService)}));const B=W=>(0,c.handlePasteEvent)(W,this.textarea,this.coreService,this.optionsService);this.register((0,u.addDisposableDomListener)(this.textarea,"paste",B)),this.register((0,u.addDisposableDomListener)(this.element,"paste",B)),$.isFirefox?this.register((0,u.addDisposableDomListener)(this.element,"mousedown",W=>{W.button===2&&(0,c.rightClickHandler)(W,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,u.addDisposableDomListener)(this.element,"contextmenu",W=>{(0,c.rightClickHandler)(W,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),$.isLinux&&this.register((0,u.addDisposableDomListener)(this.element,"auxclick",W=>{W.button===1&&(0,c.moveTextAreaUnderMouseCursor)(W,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,u.addDisposableDomListener)(this.textarea,"keyup",B=>this._keyUp(B),!0)),this.register((0,u.addDisposableDomListener)(this.textarea,"keydown",B=>this._keyDown(B),!0)),this.register((0,u.addDisposableDomListener)(this.textarea,"keypress",B=>this._keyPress(B),!0)),this.register((0,u.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,u.addDisposableDomListener)(this.textarea,"compositionupdate",B=>this._compositionHelper.compositionupdate(B))),this.register((0,u.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,u.addDisposableDomListener)(this.textarea,"input",B=>this._inputEvent(B),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(B){var W;if(!B)throw new Error("Terminal requires a parent element.");B.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=B.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),B.appendChild(this.element);const Y=G.createDocumentFragment();this._viewportElement=G.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),Y.appendChild(this._viewportElement),this._viewportScrollArea=G.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=G.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=G.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),Y.appendChild(this.screenElement),this.textarea=G.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",f.promptLabel),$.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(w.CoreBrowserService,this.textarea,(W=this._document.defaultView)!==null&&W!==void 0?W:window),this._instantiationService.setService(E.ICoreBrowserService,this._coreBrowserService),this.register((0,u.addDisposableDomListener)(this.textarea,"focus",Z=>this._handleTextAreaFocus(Z))),this.register((0,u.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(_.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(E.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(T.ThemeService),this._instantiationService.setService(E.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(b.CharacterJoinerService),this._instantiationService.setService(E.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(k.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(E.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(Z=>this._onRender.fire(Z))),this.onResize(Z=>this._renderService.resize(Z.cols,Z.rows)),this._compositionView=G.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(y.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(Y);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(S.MouseService),this._instantiationService.setService(E.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(g.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(Z=>this.scrollLines(Z.amount,Z.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(C.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(E.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(Z=>this.scrollLines(Z.amount,Z.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(Z=>this._renderService.handleSelectionChanged(Z.start,Z.end,Z.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(Z=>{this.textarea.value=Z,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(Z=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,u.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(v.BufferDecorationRenderer,this.screenElement)),this.register((0,u.addDisposableDomListener)(this.element,"mousedown",Z=>this._selectionService.handleMouseDown(Z))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(F.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",Z=>this._handleScreenReaderModeOptionChange(Z))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(m.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",Z=>{!this._overviewRulerRenderer&&Z&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(m.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(x.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const B=this,W=this.element;function Y(re){const me=B._mouseService.getMouseReportCoords(re,B.screenElement);if(!me)return!1;let Ee,Ne;switch(re.overrideType||re.type){case"mousemove":Ne=32,re.buttons===void 0?(Ee=3,re.button!==void 0&&(Ee=re.button<3?re.button:3)):Ee=1&re.buttons?0:4&re.buttons?1:2&re.buttons?2:3;break;case"mouseup":Ne=0,Ee=re.button<3?re.button:3;break;case"mousedown":Ne=1,Ee=re.button<3?re.button:3;break;case"wheel":if(B.viewport.getLinesScrolled(re)===0)return!1;Ne=re.deltaY<0?0:1,Ee=4;break;default:return!1}return!(Ne===void 0||Ee===void 0||Ee>4)&&B.coreMouseService.triggerMouseEvent({col:me.col,row:me.row,x:me.x,y:me.y,button:Ee,action:Ne,ctrl:re.ctrlKey,alt:re.altKey,shift:re.shiftKey})}const Z={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Q={mouseup:re=>(Y(re),re.buttons||(this._document.removeEventListener("mouseup",Z.mouseup),Z.mousedrag&&this._document.removeEventListener("mousemove",Z.mousedrag)),this.cancel(re)),wheel:re=>(Y(re),this.cancel(re,!0)),mousedrag:re=>{re.buttons&&Y(re)},mousemove:re=>{re.buttons||Y(re)}};this.register(this.coreMouseService.onProtocolChange(re=>{re?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(re)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&re?Z.mousemove||(W.addEventListener("mousemove",Q.mousemove),Z.mousemove=Q.mousemove):(W.removeEventListener("mousemove",Z.mousemove),Z.mousemove=null),16&re?Z.wheel||(W.addEventListener("wheel",Q.wheel,{passive:!1}),Z.wheel=Q.wheel):(W.removeEventListener("wheel",Z.wheel),Z.wheel=null),2&re?Z.mouseup||(W.addEventListener("mouseup",Q.mouseup),Z.mouseup=Q.mouseup):(this._document.removeEventListener("mouseup",Z.mouseup),W.removeEventListener("mouseup",Z.mouseup),Z.mouseup=null),4&re?Z.mousedrag||(Z.mousedrag=Q.mousedrag):(this._document.removeEventListener("mousemove",Z.mousedrag),Z.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,u.addDisposableDomListener)(W,"mousedown",re=>{if(re.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(re))return Y(re),Z.mouseup&&this._document.addEventListener("mouseup",Z.mouseup),Z.mousedrag&&this._document.addEventListener("mousemove",Z.mousedrag),this.cancel(re)})),this.register((0,u.addDisposableDomListener)(W,"wheel",re=>{if(!Z.wheel){if(!this.buffer.hasScrollback){const me=this.viewport.getLinesScrolled(re);if(me===0)return;const Ee=O.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(re.deltaY<0?"A":"B");let Ne="";for(let Me=0;Me<Math.abs(me);Me++)Ne+=Ee;return this.coreService.triggerDataEvent(Ne,!0),this.cancel(re,!0)}return this.viewport.handleWheel(re)?this.cancel(re):void 0}},{passive:!1})),this.register((0,u.addDisposableDomListener)(W,"touchstart",re=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(re),this.cancel(re)},{passive:!0})),this.register((0,u.addDisposableDomListener)(W,"touchmove",re=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(re)?void 0:this.cancel(re)},{passive:!1}))}refresh(B,W){var Y;(Y=this._renderService)===null||Y===void 0||Y.refreshRows(B,W)}updateCursorStyle(B){var W;!((W=this._selectionService)===null||W===void 0)&&W.shouldColumnSelect(B)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(B,W,Y=0){var Z;Y===1?(super.scrollLines(B,W,Y),this.refresh(0,this.rows-1)):(Z=this.viewport)===null||Z===void 0||Z.scrollLines(B)}paste(B){(0,c.paste)(B,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(B){this._customKeyEventHandler=B}registerLinkProvider(B){return this.linkifier2.registerLinkProvider(B)}registerCharacterJoiner(B){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const W=this._characterJoinerService.register(B);return this.refresh(0,this.rows-1),W}deregisterCharacterJoiner(B){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(B)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(B){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+B)}registerDecoration(B){return this._decorationService.registerDecoration(B)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(B,W,Y){this._selectionService.setSelection(B,W,Y)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var B;(B=this._selectionService)===null||B===void 0||B.clearSelection()}selectAll(){var B;(B=this._selectionService)===null||B===void 0||B.selectAll()}selectLines(B,W){var Y;(Y=this._selectionService)===null||Y===void 0||Y.selectLines(B,W)}_keyDown(B){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1)return!1;const W=this.browser.isMac&&this.options.macOptionIsMeta&&B.altKey;if(!W&&!this._compositionHelper.keydown(B))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;W||B.key!=="Dead"&&B.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const Y=(0,j.evaluateKeyboardEvent)(B,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(B),Y.type===3||Y.type===2){const Z=this.rows-1;return this.scrollLines(Y.type===2?-Z:Z),this.cancel(B,!0)}return Y.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,B)||(Y.cancel&&this.cancel(B,!0),!Y.key||!!(B.key&&!B.ctrlKey&&!B.altKey&&!B.metaKey&&B.key.length===1&&B.key.charCodeAt(0)>=65&&B.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(Y.key!==O.C0.ETX&&Y.key!==O.C0.CR||(this.textarea.value=""),this._onKey.fire({key:Y.key,domEvent:B}),this._showCursor(),this.coreService.triggerDataEvent(Y.key,!0),!this.optionsService.rawOptions.screenReaderMode||B.altKey||B.ctrlKey?this.cancel(B,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(B,W){const Y=B.isMac&&!this.options.macOptionIsMeta&&W.altKey&&!W.ctrlKey&&!W.metaKey||B.isWindows&&W.altKey&&W.ctrlKey&&!W.metaKey||B.isWindows&&W.getModifierState("AltGraph");return W.type==="keypress"?Y:Y&&(!W.keyCode||W.keyCode>47)}_keyUp(B){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1||(function(W){return W.keyCode===16||W.keyCode===17||W.keyCode===18}(B)||this.focus(),this.updateCursorStyle(B),this._keyPressHandled=!1)}_keyPress(B){let W;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1)return!1;if(this.cancel(B),B.charCode)W=B.charCode;else if(B.which===null||B.which===void 0)W=B.keyCode;else{if(B.which===0||B.charCode===0)return!1;W=B.which}return!(!W||(B.altKey||B.ctrlKey||B.metaKey)&&!this._isThirdLevelShift(this.browser,B)||(W=String.fromCharCode(W),this._onKey.fire({key:W,domEvent:B}),this._showCursor(),this.coreService.triggerDataEvent(W,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(B){if(B.data&&B.inputType==="insertText"&&(!B.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const W=B.data;return this.coreService.triggerDataEvent(W,!0),this.cancel(B),!0}return!1}resize(B,W){B!==this.cols||W!==this.rows?super.resize(B,W):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(B,W){var Y,Z;(Y=this._charSizeService)===null||Y===void 0||Y.measure(),(Z=this.viewport)===null||Z===void 0||Z.syncScrollArea(!0)}clear(){var B;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let W=1;W<this.rows;W++)this.buffer.lines.push(this.buffer.getBlankLine(L.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(B=this.viewport)===null||B===void 0||B.reset(),this.refresh(0,this.rows-1)}}reset(){var B,W;this.options.rows=this.rows,this.options.cols=this.cols;const Y=this._customKeyEventHandler;this._setup(),super.reset(),(B=this._selectionService)===null||B===void 0||B.reset(),this._decorationService.reset(),(W=this.viewport)===null||W===void 0||W.reset(),this._customKeyEventHandler=Y,this.refresh(0,this.rows-1)}clearTextureAtlas(){var B;(B=this._renderService)===null||B===void 0||B.clearTextureAtlas()}_reportFocus(){var B;!((B=this.element)===null||B===void 0)&&B.classList.contains("focus")?this.coreService.triggerDataEvent(O.C0.ESC+"[I"):this.coreService.triggerDataEvent(O.C0.ESC+"[O")}_reportWindowsOptions(B){if(this._renderService)switch(B){case U.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const W=this._renderService.dimensions.css.canvas.width.toFixed(0),Y=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${O.C0.ESC}[4;${Y};${W}t`);break;case U.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const Z=this._renderService.dimensions.css.cell.width.toFixed(0),Q=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${O.C0.ESC}[6;${Q};${Z}t`)}}cancel(B,W){if(this.options.cancelEvents||W)return B.preventDefault(),B.stopPropagation(),!1}}o.Terminal=q},9924:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TimeBasedDebouncer=void 0,o.TimeBasedDebouncer=class{constructor(l,c=1e3){this._renderCallback=l,this._debounceThresholdMS=c,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(l,c,u){this._rowCount=u,l=l!==void 0?l:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c;const h=Date.now();if(h-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=h,this._innerRefresh();else if(!this._additionalRefreshRequested){const f=h-this._lastRefreshMs,p=this._debounceThresholdMS-f;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},p)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const l=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,c)}}},1680:function(s,o,l){var c=this&&this.__decorate||function(y,x,_,b){var w,S=arguments.length,k=S<3?x:b===null?b=Object.getOwnPropertyDescriptor(x,_):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(y,x,_,b);else for(var C=y.length-1;C>=0;C--)(w=y[C])&&(k=(S<3?w(k):S>3?w(x,_,k):w(x,_))||k);return S>3&&k&&Object.defineProperty(x,_,k),k},u=this&&this.__param||function(y,x){return function(_,b){x(_,b,y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Viewport=void 0;const h=l(3656),f=l(4725),p=l(8460),g=l(844),v=l(2585);let m=o.Viewport=class extends g.Disposable{constructor(y,x,_,b,w,S,k,C){super(),this._viewportElement=y,this._scrollArea=x,this._bufferService=_,this._optionsService=b,this._charSizeService=w,this._renderService=S,this._coreBrowserService=k,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new p.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,h.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(E=>this._activeBuffer=E.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(E=>this._renderDimensions=E)),this._handleThemeChange(C.colors),this.register(C.onChangeColors(E=>this._handleThemeChange(E))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(y){this._viewportElement.style.backgroundColor=y.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(y){if(y)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const x=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==x&&(this._lastRecordedBufferHeight=x,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const y=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==y&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=y),this._refreshAnimationFrame=null}syncScrollArea(y=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(y);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(y)}_handleScroll(y){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const x=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:x,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const y=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(y*(this._smoothScrollState.target-this._smoothScrollState.origin)),y<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(y,x){const _=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(x<0&&this._viewportElement.scrollTop!==0||x>0&&_<this._lastRecordedBufferHeight)||(y.cancelable&&y.preventDefault(),!1)}handleWheel(y){const x=this._getPixelsScrolled(y);return x!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+x:this._smoothScrollState.target+=x,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=x,this._bubbleScroll(y,x))}scrollLines(y){if(y!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const x=y*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+x,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:y,suppressScrollEvent:!1})}_getPixelsScrolled(y){if(y.deltaY===0||y.shiftKey)return 0;let x=this._applyScrollModifier(y.deltaY,y);return y.deltaMode===WheelEvent.DOM_DELTA_LINE?x*=this._currentRowHeight:y.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(x*=this._currentRowHeight*this._bufferService.rows),x}getBufferElements(y,x){var _;let b,w="";const S=[],k=x??this._bufferService.buffer.lines.length,C=this._bufferService.buffer.lines;for(let E=y;E<k;E++){const T=C.get(E);if(!T)continue;const N=(_=C.get(E+1))===null||_===void 0?void 0:_.isWrapped;if(w+=T.translateToString(!N),!N||E===C.length-1){const I=document.createElement("div");I.textContent=w,S.push(I),w.length>0&&(b=I),w=""}}return{bufferElements:S,cursorElement:b}}getLinesScrolled(y){if(y.deltaY===0||y.shiftKey)return 0;let x=this._applyScrollModifier(y.deltaY,y);return y.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(x/=this._currentRowHeight+0,this._wheelPartialScroll+=x,x=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):y.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(x*=this._bufferService.rows),x}_applyScrollModifier(y,x){const _=this._optionsService.rawOptions.fastScrollModifier;return _==="alt"&&x.altKey||_==="ctrl"&&x.ctrlKey||_==="shift"&&x.shiftKey?y*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:y*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(y){this._lastTouchY=y.touches[0].pageY}handleTouchMove(y){const x=this._lastTouchY-y.touches[0].pageY;return this._lastTouchY=y.touches[0].pageY,x!==0&&(this._viewportElement.scrollTop+=x,this._bubbleScroll(y,x))}};o.Viewport=m=c([u(2,v.IBufferService),u(3,v.IOptionsService),u(4,f.ICharSizeService),u(5,f.IRenderService),u(6,f.ICoreBrowserService),u(7,f.IThemeService)],m)},3107:function(s,o,l){var c=this&&this.__decorate||function(m,y,x,_){var b,w=arguments.length,S=w<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,x):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(m,y,x,_);else for(var k=m.length-1;k>=0;k--)(b=m[k])&&(S=(w<3?b(S):w>3?b(y,x,S):b(y,x))||S);return w>3&&S&&Object.defineProperty(y,x,S),S},u=this&&this.__param||function(m,y){return function(x,_){y(x,_,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferDecorationRenderer=void 0;const h=l(3656),f=l(4725),p=l(844),g=l(2585);let v=o.BufferDecorationRenderer=class extends p.Disposable{constructor(m,y,x,_){super(),this._screenElement=m,this._bufferService=y,this._decorationService=x,this._renderService=_,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,h.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(b=>this._removeDecoration(b))),this.register((0,p.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const m of this._decorationService.decorations)this._renderDecoration(m);this._dimensionsChanged=!1}_renderDecoration(m){this._refreshStyle(m),this._dimensionsChanged&&this._refreshXPosition(m)}_createElement(m){var y,x;const _=document.createElement("div");_.classList.add("xterm-decoration"),_.classList.toggle("xterm-decoration-top-layer",((y=m==null?void 0:m.options)===null||y===void 0?void 0:y.layer)==="top"),_.style.width=`${Math.round((m.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,_.style.height=(m.options.height||1)*this._renderService.dimensions.css.cell.height+"px",_.style.top=(m.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",_.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const b=(x=m.options.x)!==null&&x!==void 0?x:0;return b&&b>this._bufferService.cols&&(_.style.display="none"),this._refreshXPosition(m,_),_}_refreshStyle(m){const y=m.marker.line-this._bufferService.buffers.active.ydisp;if(y<0||y>=this._bufferService.rows)m.element&&(m.element.style.display="none",m.onRenderEmitter.fire(m.element));else{let x=this._decorationElements.get(m);x||(x=this._createElement(m),m.element=x,this._decorationElements.set(m,x),this._container.appendChild(x),m.onDispose(()=>{this._decorationElements.delete(m),x.remove()})),x.style.top=y*this._renderService.dimensions.css.cell.height+"px",x.style.display=this._altBufferIsActive?"none":"block",m.onRenderEmitter.fire(x)}}_refreshXPosition(m,y=m.element){var x;if(!y)return;const _=(x=m.options.x)!==null&&x!==void 0?x:0;(m.options.anchor||"left")==="right"?y.style.right=_?_*this._renderService.dimensions.css.cell.width+"px":"":y.style.left=_?_*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(m){var y;(y=this._decorationElements.get(m))===null||y===void 0||y.remove(),this._decorationElements.delete(m),m.dispose()}};o.BufferDecorationRenderer=v=c([u(1,g.IBufferService),u(2,g.IDecorationService),u(3,f.IRenderService)],v)},5871:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorZoneStore=void 0,o.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(l){if(l.options.overviewRulerOptions){for(const c of this._zones)if(c.color===l.options.overviewRulerOptions.color&&c.position===l.options.overviewRulerOptions.position){if(this._lineIntersectsZone(c,l.marker.line))return;if(this._lineAdjacentToZone(c,l.marker.line,l.options.overviewRulerOptions.position))return void this._addLineToZone(c,l.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=l.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=l.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=l.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=l.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:l.options.overviewRulerOptions.color,position:l.options.overviewRulerOptions.position,startBufferLine:l.marker.line,endBufferLine:l.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(l){this._linePadding=l}_lineIntersectsZone(l,c){return c>=l.startBufferLine&&c<=l.endBufferLine}_lineAdjacentToZone(l,c,u){return c>=l.startBufferLine-this._linePadding[u||"full"]&&c<=l.endBufferLine+this._linePadding[u||"full"]}_addLineToZone(l,c){l.startBufferLine=Math.min(l.startBufferLine,c),l.endBufferLine=Math.max(l.endBufferLine,c)}}},5744:function(s,o,l){var c=this&&this.__decorate||function(b,w,S,k){var C,E=arguments.length,T=E<3?w:k===null?k=Object.getOwnPropertyDescriptor(w,S):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(b,w,S,k);else for(var N=b.length-1;N>=0;N--)(C=b[N])&&(T=(E<3?C(T):E>3?C(w,S,T):C(w,S))||T);return E>3&&T&&Object.defineProperty(w,S,T),T},u=this&&this.__param||function(b,w){return function(S,k){w(S,k,b)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OverviewRulerRenderer=void 0;const h=l(5871),f=l(3656),p=l(4725),g=l(844),v=l(2585),m={full:0,left:0,center:0,right:0},y={full:0,left:0,center:0,right:0},x={full:0,left:0,center:0,right:0};let _=o.OverviewRulerRenderer=class extends g.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(b,w,S,k,C,E,T){var N;super(),this._viewportElement=b,this._screenElement=w,this._bufferService=S,this._decorationService=k,this._renderService=C,this._optionsService=E,this._coreBrowseService=T,this._colorZoneStore=new h.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(N=this._viewportElement.parentElement)===null||N===void 0||N.insertBefore(this._canvas,this._viewportElement);const I=this._canvas.getContext("2d");if(!I)throw new Error("Ctx cannot be null");this._ctx=I,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,g.toDisposable)(()=>{var P;(P=this._canvas)===null||P===void 0||P.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,f.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const b=Math.floor(this._canvas.width/3),w=Math.ceil(this._canvas.width/3);y.full=this._canvas.width,y.left=b,y.center=w,y.right=b,this._refreshDrawHeightConstants(),x.full=0,x.left=0,x.center=y.left,x.right=y.left+y.center}_refreshDrawHeightConstants(){m.full=Math.round(2*this._coreBrowseService.dpr);const b=this._canvas.height/this._bufferService.buffer.lines.length,w=Math.round(Math.max(Math.min(b,12),6)*this._coreBrowseService.dpr);m.left=w,m.center=w,m.right=w}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const w of this._decorationService.decorations)this._colorZoneStore.addDecoration(w);this._ctx.lineWidth=1;const b=this._colorZoneStore.zones;for(const w of b)w.position!=="full"&&this._renderColorZone(w);for(const w of b)w.position==="full"&&this._renderColorZone(w);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(b){this._ctx.fillStyle=b.color,this._ctx.fillRect(x[b.position||"full"],Math.round((this._canvas.height-1)*(b.startBufferLine/this._bufferService.buffers.active.lines.length)-m[b.position||"full"]/2),y[b.position||"full"],Math.round((this._canvas.height-1)*((b.endBufferLine-b.startBufferLine)/this._bufferService.buffers.active.lines.length)+m[b.position||"full"]))}_queueRefresh(b,w){this._shouldUpdateDimensions=b||this._shouldUpdateDimensions,this._shouldUpdateAnchor=w||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};o.OverviewRulerRenderer=_=c([u(2,v.IBufferService),u(3,v.IDecorationService),u(4,p.IRenderService),u(5,v.IOptionsService),u(6,p.ICoreBrowserService)],_)},2950:function(s,o,l){var c=this&&this.__decorate||function(v,m,y,x){var _,b=arguments.length,w=b<3?m:x===null?x=Object.getOwnPropertyDescriptor(m,y):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(v,m,y,x);else for(var S=v.length-1;S>=0;S--)(_=v[S])&&(w=(b<3?_(w):b>3?_(m,y,w):_(m,y))||w);return b>3&&w&&Object.defineProperty(m,y,w),w},u=this&&this.__param||function(v,m){return function(y,x){m(y,x,v)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CompositionHelper=void 0;const h=l(4725),f=l(2585),p=l(2584);let g=o.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(v,m,y,x,_,b){this._textarea=v,this._compositionView=m,this._bufferService=y,this._optionsService=x,this._coreService=_,this._renderService=b,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(v){this._compositionView.textContent=v.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(v){if(this._isComposing||this._isSendingComposition){if(v.keyCode===229||v.keyCode===16||v.keyCode===17||v.keyCode===18)return!1;this._finalizeComposition(!1)}return v.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(v){if(this._compositionView.classList.remove("active"),this._isComposing=!1,v){const m={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let y;this._isSendingComposition=!1,m.start+=this._dataAlreadySent.length,y=this._isComposing?this._textarea.value.substring(m.start,m.end):this._textarea.value.substring(m.start),y.length>0&&this._coreService.triggerDataEvent(y,!0)}},0)}else{this._isSendingComposition=!1;const m=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(m,!0)}}_handleAnyTextareaChanges(){const v=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const m=this._textarea.value,y=m.replace(v,"");this._dataAlreadySent=y,m.length>v.length?this._coreService.triggerDataEvent(y,!0):m.length<v.length?this._coreService.triggerDataEvent(`${p.C0.DEL}`,!0):m.length===v.length&&m!==v&&this._coreService.triggerDataEvent(m,!0)}},0)}updateCompositionElements(v){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const m=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),y=this._renderService.dimensions.css.cell.height,x=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,_=m*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=_+"px",this._compositionView.style.top=x+"px",this._compositionView.style.height=y+"px",this._compositionView.style.lineHeight=y+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const b=this._compositionView.getBoundingClientRect();this._textarea.style.left=_+"px",this._textarea.style.top=x+"px",this._textarea.style.width=Math.max(b.width,1)+"px",this._textarea.style.height=Math.max(b.height,1)+"px",this._textarea.style.lineHeight=b.height+"px"}v||setTimeout(()=>this.updateCompositionElements(!0),0)}}};o.CompositionHelper=g=c([u(2,f.IBufferService),u(3,f.IOptionsService),u(4,f.ICoreService),u(5,h.IRenderService)],g)},9806:(s,o)=>{function l(c,u,h){const f=h.getBoundingClientRect(),p=c.getComputedStyle(h),g=parseInt(p.getPropertyValue("padding-left")),v=parseInt(p.getPropertyValue("padding-top"));return[u.clientX-f.left-g,u.clientY-f.top-v]}Object.defineProperty(o,"__esModule",{value:!0}),o.getCoords=o.getCoordsRelativeToElement=void 0,o.getCoordsRelativeToElement=l,o.getCoords=function(c,u,h,f,p,g,v,m,y){if(!g)return;const x=l(c,u,h);return x?(x[0]=Math.ceil((x[0]+(y?v/2:0))/v),x[1]=Math.ceil(x[1]/m),x[0]=Math.min(Math.max(x[0],1),f+(y?1:0)),x[1]=Math.min(Math.max(x[1],1),p),x):void 0}},9504:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.moveToCellSequence=void 0;const c=l(2584);function u(m,y,x,_){const b=m-h(m,x),w=y-h(y,x),S=Math.abs(b-w)-function(k,C,E){let T=0;const N=k-h(k,E),I=C-h(C,E);for(let P=0;P<Math.abs(N-I);P++){const D=f(k,C)==="A"?-1:1,$=E.buffer.lines.get(N+D*P);$!=null&&$.isWrapped&&T++}return T}(m,y,x);return v(S,g(f(m,y),_))}function h(m,y){let x=0,_=y.buffer.lines.get(m),b=_==null?void 0:_.isWrapped;for(;b&&m>=0&&m<y.rows;)x++,_=y.buffer.lines.get(--m),b=_==null?void 0:_.isWrapped;return x}function f(m,y){return m>y?"A":"B"}function p(m,y,x,_,b,w){let S=m,k=y,C="";for(;S!==x||k!==_;)S+=b?1:-1,b&&S>w.cols-1?(C+=w.buffer.translateBufferLineToString(k,!1,m,S),S=0,m=0,k++):!b&&S<0&&(C+=w.buffer.translateBufferLineToString(k,!1,0,m+1),S=w.cols-1,m=S,k--);return C+w.buffer.translateBufferLineToString(k,!1,m,S)}function g(m,y){const x=y?"O":"[";return c.C0.ESC+x+m}function v(m,y){m=Math.floor(m);let x="";for(let _=0;_<m;_++)x+=y;return x}o.moveToCellSequence=function(m,y,x,_){const b=x.buffer.x,w=x.buffer.y;if(!x.buffer.hasScrollback)return function(C,E,T,N,I,P){return u(E,N,I,P).length===0?"":v(p(C,E,C,E-h(E,I),!1,I).length,g("D",P))}(b,w,0,y,x,_)+u(w,y,x,_)+function(C,E,T,N,I,P){let D;D=u(E,N,I,P).length>0?N-h(N,I):E;const $=N,L=function(O,j,M,R,z,U){let F;return F=u(M,R,z,U).length>0?R-h(R,z):j,O<M&&F<=R||O>=M&&F<R?"C":"D"}(C,E,T,N,I,P);return v(p(C,D,T,$,L==="C",I).length,g(L,P))}(b,w,m,y,x,_);let S;if(w===y)return S=b>m?"D":"C",v(Math.abs(b-m),g(S,_));S=w>y?"D":"C";const k=Math.abs(w-y);return v(function(C,E){return E.cols-C}(w>y?m:b,x)+(k-1)*x.cols+1+((w>y?b:m)-1),g(S,_))}},1296:function(s,o,l){var c=this&&this.__decorate||function(I,P,D,$){var L,O=arguments.length,j=O<3?P:$===null?$=Object.getOwnPropertyDescriptor(P,D):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(I,P,D,$);else for(var M=I.length-1;M>=0;M--)(L=I[M])&&(j=(O<3?L(j):O>3?L(P,D,j):L(P,D))||j);return O>3&&j&&Object.defineProperty(P,D,j),j},u=this&&this.__param||function(I,P){return function(D,$){P(D,$,I)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRenderer=void 0;const h=l(3787),f=l(2550),p=l(2223),g=l(6171),v=l(4725),m=l(8055),y=l(8460),x=l(844),_=l(2585),b="xterm-dom-renderer-owner-",w="xterm-rows",S="xterm-fg-",k="xterm-bg-",C="xterm-focus",E="xterm-selection";let T=1,N=o.DomRenderer=class extends x.Disposable{constructor(I,P,D,$,L,O,j,M,R,z){super(),this._element=I,this._screenElement=P,this._viewportElement=D,this._linkifier2=$,this._charSizeService=O,this._optionsService=j,this._bufferService=M,this._coreBrowserService=R,this._themeService=z,this._terminalClass=T++,this._rowElements=[],this.onRequestRedraw=this.register(new y.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(w),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(E),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,g.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(U=>this._injectCss(U))),this._injectCss(this._themeService.colors),this._rowFactory=L.createInstance(h.DomRendererRowFactory,document),this._element.classList.add(b+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(U=>this._handleLinkHover(U))),this.register(this._linkifier2.onHideLinkUnderline(U=>this._handleLinkLeave(U))),this.register((0,x.toDisposable)(()=>{this._element.classList.remove(b+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new f.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const I=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*I,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*I),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/I),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/I),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const D of this._rowElements)D.style.width=`${this.dimensions.css.canvas.width}px`,D.style.height=`${this.dimensions.css.cell.height}px`,D.style.lineHeight=`${this.dimensions.css.cell.height}px`,D.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const P=`${this._terminalSelector} .${w} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=P,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(I){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let P=`${this._terminalSelector} .${w} { color: ${I.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;P+=`${this._terminalSelector} .${w} .xterm-dim { color: ${m.color.multiplyOpacity(I.foreground,.5).css};}`,P+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,P+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",P+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${I.cursor.css};  color: ${I.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${I.cursor.css}; }}`,P+=`${this._terminalSelector} .${w}.${C} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${w}.${C} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-block { background-color: ${I.cursor.css}; color: ${I.cursorAccent.css};}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${I.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${I.cursor.css} inset;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${I.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,P+=`${this._terminalSelector} .${E} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${E} div { position: absolute; background-color: ${I.selectionBackgroundOpaque.css};}${this._terminalSelector} .${E} div { position: absolute; background-color: ${I.selectionInactiveBackgroundOpaque.css};}`;for(const[D,$]of I.ansi.entries())P+=`${this._terminalSelector} .${S}${D} { color: ${$.css}; }${this._terminalSelector} .${S}${D}.xterm-dim { color: ${m.color.multiplyOpacity($,.5).css}; }${this._terminalSelector} .${k}${D} { background-color: ${$.css}; }`;P+=`${this._terminalSelector} .${S}${p.INVERTED_DEFAULT_COLOR} { color: ${m.color.opaque(I.background).css}; }${this._terminalSelector} .${S}${p.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${m.color.multiplyOpacity(m.color.opaque(I.background),.5).css}; }${this._terminalSelector} .${k}${p.INVERTED_DEFAULT_COLOR} { background-color: ${I.foreground.css}; }`,this._themeStyleElement.textContent=P}_setDefaultSpacing(){const I=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${I}px`,this._rowFactory.defaultSpacing=I}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(I,P){for(let D=this._rowElements.length;D<=P;D++){const $=document.createElement("div");this._rowContainer.appendChild($),this._rowElements.push($)}for(;this._rowElements.length>P;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(I,P){this._refreshRowElements(I,P),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(C)}handleFocus(){this._rowContainer.classList.add(C),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(I,P,D){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(I,P,D),this.renderRows(0,this._bufferService.rows-1),!I||!P)return;const $=I[1]-this._bufferService.buffer.ydisp,L=P[1]-this._bufferService.buffer.ydisp,O=Math.max($,0),j=Math.min(L,this._bufferService.rows-1);if(O>=this._bufferService.rows||j<0)return;const M=document.createDocumentFragment();if(D){const R=I[0]>P[0];M.appendChild(this._createSelectionElement(O,R?P[0]:I[0],R?I[0]:P[0],j-O+1))}else{const R=$===O?I[0]:0,z=O===L?P[0]:this._bufferService.cols;M.appendChild(this._createSelectionElement(O,R,z));const U=j-O-1;if(M.appendChild(this._createSelectionElement(O+1,0,this._bufferService.cols,U)),O!==j){const F=L===j?P[0]:this._bufferService.cols;M.appendChild(this._createSelectionElement(j,0,F))}}this._selectionContainer.appendChild(M)}_createSelectionElement(I,P,D,$=1){const L=document.createElement("div");return L.style.height=$*this.dimensions.css.cell.height+"px",L.style.top=I*this.dimensions.css.cell.height+"px",L.style.left=P*this.dimensions.css.cell.width+"px",L.style.width=this.dimensions.css.cell.width*(D-P)+"px",L}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const I of this._rowElements)I.replaceChildren()}renderRows(I,P){const D=this._bufferService.buffer,$=D.ybase+D.y,L=Math.min(D.x,this._bufferService.cols-1),O=this._optionsService.rawOptions.cursorBlink,j=this._optionsService.rawOptions.cursorStyle,M=this._optionsService.rawOptions.cursorInactiveStyle;for(let R=I;R<=P;R++){const z=R+D.ydisp,U=this._rowElements[R],F=D.lines.get(z);if(!U||!F)break;U.replaceChildren(...this._rowFactory.createRow(F,z,z===$,j,M,L,O,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${b}${this._terminalClass}`}_handleLinkHover(I){this._setCellUnderline(I.x1,I.x2,I.y1,I.y2,I.cols,!0)}_handleLinkLeave(I){this._setCellUnderline(I.x1,I.x2,I.y1,I.y2,I.cols,!1)}_setCellUnderline(I,P,D,$,L,O){D<0&&(I=0),$<0&&(P=0);const j=this._bufferService.rows-1;D=Math.max(Math.min(D,j),0),$=Math.max(Math.min($,j),0),L=Math.min(L,this._bufferService.cols);const M=this._bufferService.buffer,R=M.ybase+M.y,z=Math.min(M.x,L-1),U=this._optionsService.rawOptions.cursorBlink,F=this._optionsService.rawOptions.cursorStyle,G=this._optionsService.rawOptions.cursorInactiveStyle;for(let q=D;q<=$;++q){const K=q+M.ydisp,B=this._rowElements[q],W=M.lines.get(K);if(!B||!W)break;B.replaceChildren(...this._rowFactory.createRow(W,K,K===R,F,G,z,U,this.dimensions.css.cell.width,this._widthCache,O?q===D?I:0:-1,O?(q===$?P:L)-1:-1))}}};o.DomRenderer=N=c([u(4,_.IInstantiationService),u(5,v.ICharSizeService),u(6,_.IOptionsService),u(7,_.IBufferService),u(8,v.ICoreBrowserService),u(9,v.IThemeService)],N)},3787:function(s,o,l){var c=this&&this.__decorate||function(S,k,C,E){var T,N=arguments.length,I=N<3?k:E===null?E=Object.getOwnPropertyDescriptor(k,C):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(S,k,C,E);else for(var P=S.length-1;P>=0;P--)(T=S[P])&&(I=(N<3?T(I):N>3?T(k,C,I):T(k,C))||I);return N>3&&I&&Object.defineProperty(k,C,I),I},u=this&&this.__param||function(S,k){return function(C,E){k(C,E,S)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRendererRowFactory=void 0;const h=l(2223),f=l(643),p=l(511),g=l(2585),v=l(8055),m=l(4725),y=l(4269),x=l(6171),_=l(3734);let b=o.DomRendererRowFactory=class{constructor(S,k,C,E,T,N,I){this._document=S,this._characterJoinerService=k,this._optionsService=C,this._coreBrowserService=E,this._coreService=T,this._decorationService=N,this._themeService=I,this._workCell=new p.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(S,k,C){this._selectionStart=S,this._selectionEnd=k,this._columnSelectMode=C}createRow(S,k,C,E,T,N,I,P,D,$,L){const O=[],j=this._characterJoinerService.getJoinedCharacters(k),M=this._themeService.colors;let R,z=S.getNoBgTrimmedLength();C&&z<N+1&&(z=N+1);let U=0,F="",G=0,q=0,K=0,B=!1,W=0,Y=!1,Z=0;const Q=[],re=$!==-1&&L!==-1;for(let me=0;me<z;me++){S.loadCell(me,this._workCell);let Ee=this._workCell.getWidth();if(Ee===0)continue;let Ne=!1,Me=me,Ae=this._workCell;if(j.length>0&&me===j[0][0]){Ne=!0;const ze=j.shift();Ae=new y.JoinedCellData(this._workCell,S.translateToString(!0,ze[0],ze[1]),ze[1]-ze[0]),Me=ze[1]-1,Ee=Ae.getWidth()}const Ie=this._isCellInSelection(me,k),bt=C&&me===N,pt=re&&me>=$&&me<=L;let fe=!1;this._decorationService.forEachDecorationAtCell(me,k,void 0,ze=>{fe=!0});let et=Ae.getChars()||f.WHITESPACE_CELL_CHAR;if(et===" "&&(Ae.isUnderline()||Ae.isOverline())&&(et=" "),Z=Ee*P-D.get(et,Ae.isBold(),Ae.isItalic()),R){if(U&&(Ie&&Y||!Ie&&!Y&&Ae.bg===G)&&(Ie&&Y&&M.selectionForeground||Ae.fg===q)&&Ae.extended.ext===K&&pt===B&&Z===W&&!bt&&!Ne&&!fe){F+=et,U++;continue}U&&(R.textContent=F),R=this._document.createElement("span"),U=0,F=""}else R=this._document.createElement("span");if(G=Ae.bg,q=Ae.fg,K=Ae.extended.ext,B=pt,W=Z,Y=Ie,Ne&&N>=me&&N<=Me&&(N=me),!this._coreService.isCursorHidden&&bt){if(Q.push("xterm-cursor"),this._coreBrowserService.isFocused)I&&Q.push("xterm-cursor-blink"),Q.push(E==="bar"?"xterm-cursor-bar":E==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(T)switch(T){case"outline":Q.push("xterm-cursor-outline");break;case"block":Q.push("xterm-cursor-block");break;case"bar":Q.push("xterm-cursor-bar");break;case"underline":Q.push("xterm-cursor-underline")}}if(Ae.isBold()&&Q.push("xterm-bold"),Ae.isItalic()&&Q.push("xterm-italic"),Ae.isDim()&&Q.push("xterm-dim"),F=Ae.isInvisible()?f.WHITESPACE_CELL_CHAR:Ae.getChars()||f.WHITESPACE_CELL_CHAR,Ae.isUnderline()&&(Q.push(`xterm-underline-${Ae.extended.underlineStyle}`),F===" "&&(F=" "),!Ae.isUnderlineColorDefault()))if(Ae.isUnderlineColorRGB())R.style.textDecorationColor=`rgb(${_.AttributeData.toColorRGB(Ae.getUnderlineColor()).join(",")})`;else{let ze=Ae.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&Ae.isBold()&&ze<8&&(ze+=8),R.style.textDecorationColor=M.ansi[ze].css}Ae.isOverline()&&(Q.push("xterm-overline"),F===" "&&(F=" ")),Ae.isStrikethrough()&&Q.push("xterm-strikethrough"),pt&&(R.style.textDecoration="underline");let He=Ae.getFgColor(),Gt=Ae.getFgColorMode(),tt=Ae.getBgColor(),ee=Ae.getBgColorMode();const se=!!Ae.isInverse();if(se){const ze=He;He=tt,tt=ze;const Te=Gt;Gt=ee,ee=Te}let J,ne,le,Re=!1;switch(this._decorationService.forEachDecorationAtCell(me,k,void 0,ze=>{ze.options.layer!=="top"&&Re||(ze.backgroundColorRGB&&(ee=50331648,tt=ze.backgroundColorRGB.rgba>>8&16777215,J=ze.backgroundColorRGB),ze.foregroundColorRGB&&(Gt=50331648,He=ze.foregroundColorRGB.rgba>>8&16777215,ne=ze.foregroundColorRGB),Re=ze.options.layer==="top")}),!Re&&Ie&&(J=this._coreBrowserService.isFocused?M.selectionBackgroundOpaque:M.selectionInactiveBackgroundOpaque,tt=J.rgba>>8&16777215,ee=50331648,Re=!0,M.selectionForeground&&(Gt=50331648,He=M.selectionForeground.rgba>>8&16777215,ne=M.selectionForeground)),Re&&Q.push("xterm-decoration-top"),ee){case 16777216:case 33554432:le=M.ansi[tt],Q.push(`xterm-bg-${tt}`);break;case 50331648:le=v.rgba.toColor(tt>>16,tt>>8&255,255&tt),this._addStyle(R,`background-color:#${w((tt>>>0).toString(16),"0",6)}`);break;default:se?(le=M.foreground,Q.push(`xterm-bg-${h.INVERTED_DEFAULT_COLOR}`)):le=M.background}switch(J||Ae.isDim()&&(J=v.color.multiplyOpacity(le,.5)),Gt){case 16777216:case 33554432:Ae.isBold()&&He<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(He+=8),this._applyMinimumContrast(R,le,M.ansi[He],Ae,J,void 0)||Q.push(`xterm-fg-${He}`);break;case 50331648:const ze=v.rgba.toColor(He>>16&255,He>>8&255,255&He);this._applyMinimumContrast(R,le,ze,Ae,J,ne)||this._addStyle(R,`color:#${w(He.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(R,le,M.foreground,Ae,J,void 0)||se&&Q.push(`xterm-fg-${h.INVERTED_DEFAULT_COLOR}`)}Q.length&&(R.className=Q.join(" "),Q.length=0),bt||Ne||fe?R.textContent=F:U++,Z!==this.defaultSpacing&&(R.style.letterSpacing=`${Z}px`),O.push(R),me=Me}return R&&U&&(R.textContent=F),O}_applyMinimumContrast(S,k,C,E,T,N){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,x.excludeFromContrastRatioDemands)(E.getCode()))return!1;const I=this._getContrastCache(E);let P;if(T||N||(P=I.getColor(k.rgba,C.rgba)),P===void 0){const D=this._optionsService.rawOptions.minimumContrastRatio/(E.isDim()?2:1);P=v.color.ensureContrastRatio(T||k,N||C,D),I.setColor((T||k).rgba,(N||C).rgba,P??null)}return!!P&&(this._addStyle(S,`color:${P.css}`),!0)}_getContrastCache(S){return S.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(S,k){S.setAttribute("style",`${S.getAttribute("style")||""}${k};`)}_isCellInSelection(S,k){const C=this._selectionStart,E=this._selectionEnd;return!(!C||!E)&&(this._columnSelectMode?C[0]<=E[0]?S>=C[0]&&k>=C[1]&&S<E[0]&&k<=E[1]:S<C[0]&&k>=C[1]&&S>=E[0]&&k<=E[1]:k>C[1]&&k<E[1]||C[1]===E[1]&&k===C[1]&&S>=C[0]&&S<E[0]||C[1]<E[1]&&k===E[1]&&S<E[0]||C[1]<E[1]&&k===C[1]&&S>=C[0])}};function w(S,k,C){for(;S.length<C;)S=k+S;return S}o.DomRendererRowFactory=b=c([u(1,m.ICharacterJoinerService),u(2,g.IOptionsService),u(3,m.ICoreBrowserService),u(4,g.ICoreService),u(5,g.IDecorationService),u(6,m.IThemeService)],b)},2550:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WidthCache=void 0,o.WidthCache=class{constructor(l){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=l.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const c=l.createElement("span"),u=l.createElement("span");u.style.fontWeight="bold";const h=l.createElement("span");h.style.fontStyle="italic";const f=l.createElement("span");f.style.fontWeight="bold",f.style.fontStyle="italic",this._measureElements=[c,u,h,f],this._container.appendChild(c),this._container.appendChild(u),this._container.appendChild(h),this._container.appendChild(f),l.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(l,c,u,h){l===this._font&&c===this._fontSize&&u===this._weight&&h===this._weightBold||(this._font=l,this._fontSize=c,this._weight=u,this._weightBold=h,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${u}`,this._measureElements[1].style.fontWeight=`${h}`,this._measureElements[2].style.fontWeight=`${u}`,this._measureElements[3].style.fontWeight=`${h}`,this.clear())}get(l,c,u){let h=0;if(!c&&!u&&l.length===1&&(h=l.charCodeAt(0))<256)return this._flat[h]!==-9999?this._flat[h]:this._flat[h]=this._measure(l,0);let f=l;c&&(f+="B"),u&&(f+="I");let p=this._holey.get(f);if(p===void 0){let g=0;c&&(g|=1),u&&(g|=2),p=this._measure(l,g),this._holey.set(f,p)}return p}_measure(l,c){const u=this._measureElements[c];return u.textContent=l.repeat(32),u.offsetWidth/32}}},2223:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TEXT_BASELINE=o.DIM_OPACITY=o.INVERTED_DEFAULT_COLOR=void 0;const c=l(6114);o.INVERTED_DEFAULT_COLOR=257,o.DIM_OPACITY=.5,o.TEXT_BASELINE=c.isFirefox||c.isLegacyEdge?"bottom":"ideographic"},6171:(s,o)=>{function l(c){return 57508<=c&&c<=57558}Object.defineProperty(o,"__esModule",{value:!0}),o.createRenderDimensions=o.excludeFromContrastRatioDemands=o.isRestrictedPowerlineGlyph=o.isPowerlineGlyph=o.throwIfFalsy=void 0,o.throwIfFalsy=function(c){if(!c)throw new Error("value must not be falsy");return c},o.isPowerlineGlyph=l,o.isRestrictedPowerlineGlyph=function(c){return 57520<=c&&c<=57527},o.excludeFromContrastRatioDemands=function(c){return l(c)||function(u){return 9472<=u&&u<=9631}(c)},o.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionModel=void 0,o.SelectionModel=class{constructor(l){this._bufferService=l,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?l%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)-1]:[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[l,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[Math.max(l,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const l=this.selectionStart,c=this.selectionEnd;return!(!l||!c)&&(l[1]>c[1]||l[1]===c[1]&&l[0]>c[0])}handleTrim(l){return this.selectionStart&&(this.selectionStart[1]-=l),this.selectionEnd&&(this.selectionEnd[1]-=l),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(s,o,l){var c=this&&this.__decorate||function(m,y,x,_){var b,w=arguments.length,S=w<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,x):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(m,y,x,_);else for(var k=m.length-1;k>=0;k--)(b=m[k])&&(S=(w<3?b(S):w>3?b(y,x,S):b(y,x))||S);return w>3&&S&&Object.defineProperty(y,x,S),S},u=this&&this.__param||function(m,y){return function(x,_){y(x,_,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharSizeService=void 0;const h=l(2585),f=l(8460),p=l(844);let g=o.CharSizeService=class extends p.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(m,y,x){super(),this._optionsService=x,this.width=0,this.height=0,this._onCharSizeChange=this.register(new f.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new v(m,y,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const m=this._measureStrategy.measure();m.width===this.width&&m.height===this.height||(this.width=m.width,this.height=m.height,this._onCharSizeChange.fire())}};o.CharSizeService=g=c([u(2,h.IOptionsService)],g);class v{constructor(y,x,_){this._document=y,this._parentElement=x,this._optionsService=_,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const y={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return y.width!==0&&y.height!==0&&(this._result.width=y.width/32,this._result.height=Math.ceil(y.height)),this._result}}},4269:function(s,o,l){var c=this&&this.__decorate||function(y,x,_,b){var w,S=arguments.length,k=S<3?x:b===null?b=Object.getOwnPropertyDescriptor(x,_):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(y,x,_,b);else for(var C=y.length-1;C>=0;C--)(w=y[C])&&(k=(S<3?w(k):S>3?w(x,_,k):w(x,_))||k);return S>3&&k&&Object.defineProperty(x,_,k),k},u=this&&this.__param||function(y,x){return function(_,b){x(_,b,y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharacterJoinerService=o.JoinedCellData=void 0;const h=l(3734),f=l(643),p=l(511),g=l(2585);class v extends h.AttributeData{constructor(x,_,b){super(),this.content=0,this.combinedData="",this.fg=x.fg,this.bg=x.bg,this.combinedData=_,this._width=b}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(x){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.JoinedCellData=v;let m=o.CharacterJoinerService=class ege{constructor(x){this._bufferService=x,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new p.CellData}register(x){const _={id:this._nextCharacterJoinerId++,handler:x};return this._characterJoiners.push(_),_.id}deregister(x){for(let _=0;_<this._characterJoiners.length;_++)if(this._characterJoiners[_].id===x)return this._characterJoiners.splice(_,1),!0;return!1}getJoinedCharacters(x){if(this._characterJoiners.length===0)return[];const _=this._bufferService.buffer.lines.get(x);if(!_||_.length===0)return[];const b=[],w=_.translateToString(!0);let S=0,k=0,C=0,E=_.getFg(0),T=_.getBg(0);for(let N=0;N<_.getTrimmedLength();N++)if(_.loadCell(N,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==E||this._workCell.bg!==T){if(N-S>1){const I=this._getJoinedRanges(w,C,k,_,S);for(let P=0;P<I.length;P++)b.push(I[P])}S=N,C=k,E=this._workCell.fg,T=this._workCell.bg}k+=this._workCell.getChars().length||f.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-S>1){const N=this._getJoinedRanges(w,C,k,_,S);for(let I=0;I<N.length;I++)b.push(N[I])}return b}_getJoinedRanges(x,_,b,w,S){const k=x.substring(_,b);let C=[];try{C=this._characterJoiners[0].handler(k)}catch(E){console.error(E)}for(let E=1;E<this._characterJoiners.length;E++)try{const T=this._characterJoiners[E].handler(k);for(let N=0;N<T.length;N++)ege._mergeRanges(C,T[N])}catch(T){console.error(T)}return this._stringRangesToCellRanges(C,w,S),C}_stringRangesToCellRanges(x,_,b){let w=0,S=!1,k=0,C=x[w];if(C){for(let E=b;E<this._bufferService.cols;E++){const T=_.getWidth(E),N=_.getString(E).length||f.WHITESPACE_CELL_CHAR.length;if(T!==0){if(!S&&C[0]<=k&&(C[0]=E,S=!0),C[1]<=k){if(C[1]=E,C=x[++w],!C)break;C[0]<=k?(C[0]=E,S=!0):S=!1}k+=N}}C&&(C[1]=this._bufferService.cols)}}static _mergeRanges(x,_){let b=!1;for(let w=0;w<x.length;w++){const S=x[w];if(b){if(_[1]<=S[0])return x[w-1][1]=_[1],x;if(_[1]<=S[1])return x[w-1][1]=Math.max(_[1],S[1]),x.splice(w,1),x;x.splice(w,1),w--}else{if(_[1]<=S[0])return x.splice(w,0,_),x;if(_[1]<=S[1])return S[0]=Math.min(_[0],S[0]),x;_[0]<S[1]&&(S[0]=Math.min(_[0],S[0]),b=!0)}}return b?x[x.length-1][1]=_[1]:x.push(_),x}};o.CharacterJoinerService=m=c([u(0,g.IBufferService)],m)},5114:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreBrowserService=void 0,o.CoreBrowserService=class{constructor(l,c){this._textarea=l,this.window=c,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(s,o,l){var c=this&&this.__decorate||function(g,v,m,y){var x,_=arguments.length,b=_<3?v:y===null?y=Object.getOwnPropertyDescriptor(v,m):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(g,v,m,y);else for(var w=g.length-1;w>=0;w--)(x=g[w])&&(b=(_<3?x(b):_>3?x(v,m,b):x(v,m))||b);return _>3&&b&&Object.defineProperty(v,m,b),b},u=this&&this.__param||function(g,v){return function(m,y){v(m,y,g)}};Object.defineProperty(o,"__esModule",{value:!0}),o.MouseService=void 0;const h=l(4725),f=l(9806);let p=o.MouseService=class{constructor(g,v){this._renderService=g,this._charSizeService=v}getCoords(g,v,m,y,x){return(0,f.getCoords)(window,g,v,m,y,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,x)}getMouseReportCoords(g,v){const m=(0,f.getCoordsRelativeToElement)(window,g,v);if(this._charSizeService.hasValidSize)return m[0]=Math.min(Math.max(m[0],0),this._renderService.dimensions.css.canvas.width-1),m[1]=Math.min(Math.max(m[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(m[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(m[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(m[0]),y:Math.floor(m[1])}}};o.MouseService=p=c([u(0,h.IRenderService),u(1,h.ICharSizeService)],p)},3230:function(s,o,l){var c=this&&this.__decorate||function(b,w,S,k){var C,E=arguments.length,T=E<3?w:k===null?k=Object.getOwnPropertyDescriptor(w,S):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(b,w,S,k);else for(var N=b.length-1;N>=0;N--)(C=b[N])&&(T=(E<3?C(T):E>3?C(w,S,T):C(w,S))||T);return E>3&&T&&Object.defineProperty(w,S,T),T},u=this&&this.__param||function(b,w){return function(S,k){w(S,k,b)}};Object.defineProperty(o,"__esModule",{value:!0}),o.RenderService=void 0;const h=l(3656),f=l(6193),p=l(5596),g=l(4725),v=l(8460),m=l(844),y=l(7226),x=l(2585);let _=o.RenderService=class extends m.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(b,w,S,k,C,E,T,N){if(super(),this._rowCount=b,this._charSizeService=k,this._renderer=this.register(new m.MutableDisposable),this._pausedResizeTask=new y.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new v.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new v.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new v.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new v.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new f.RenderDebouncer(T.window,(I,P)=>this._renderRows(I,P)),this.register(this._renderDebouncer),this._screenDprMonitor=new p.ScreenDprMonitor(T.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(E.onResize(()=>this._fullRefresh())),this.register(E.buffers.onBufferActivate(()=>{var I;return(I=this._renderer.value)===null||I===void 0?void 0:I.clear()})),this.register(S.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(C.onDecorationRegistered(()=>this._fullRefresh())),this.register(C.onDecorationRemoved(()=>this._fullRefresh())),this.register(S.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(E.cols,E.rows),this._fullRefresh()})),this.register(S.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(E.buffer.y,E.buffer.y,!0))),this.register((0,h.addDisposableDomListener)(T.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(N.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in T.window){const I=new T.window.IntersectionObserver(P=>this._handleIntersectionChange(P[P.length-1]),{threshold:0});I.observe(w),this.register({dispose:()=>I.disconnect()})}}_handleIntersectionChange(b){this._isPaused=b.isIntersecting===void 0?b.intersectionRatio===0:!b.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(b,w,S=!1){this._isPaused?this._needsFullRefresh=!0:(S||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(b,w,this._rowCount))}_renderRows(b,w){this._renderer.value&&(b=Math.min(b,this._rowCount-1),w=Math.min(w,this._rowCount-1),this._renderer.value.renderRows(b,w),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:b,end:w}),this._onRender.fire({start:b,end:w}),this._isNextRenderRedrawOnly=!0)}resize(b,w){this._rowCount=w,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(b){this._renderer.value=b,this._renderer.value.onRequestRedraw(w=>this.refreshRows(w.start,w.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(b){return this._renderDebouncer.addRefreshCallback(b)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var b,w;this._renderer.value&&((w=(b=this._renderer.value).clearTextureAtlas)===null||w===void 0||w.call(b),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(b,w){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(b,w)):this._renderer.value.handleResize(b,w),this._fullRefresh())}handleCharSizeChanged(){var b;(b=this._renderer.value)===null||b===void 0||b.handleCharSizeChanged()}handleBlur(){var b;(b=this._renderer.value)===null||b===void 0||b.handleBlur()}handleFocus(){var b;(b=this._renderer.value)===null||b===void 0||b.handleFocus()}handleSelectionChanged(b,w,S){var k;this._selectionState.start=b,this._selectionState.end=w,this._selectionState.columnSelectMode=S,(k=this._renderer.value)===null||k===void 0||k.handleSelectionChanged(b,w,S)}handleCursorMove(){var b;(b=this._renderer.value)===null||b===void 0||b.handleCursorMove()}clear(){var b;(b=this._renderer.value)===null||b===void 0||b.clear()}};o.RenderService=_=c([u(2,x.IOptionsService),u(3,g.ICharSizeService),u(4,x.IDecorationService),u(5,x.IBufferService),u(6,g.ICoreBrowserService),u(7,g.IThemeService)],_)},9312:function(s,o,l){var c=this&&this.__decorate||function(C,E,T,N){var I,P=arguments.length,D=P<3?E:N===null?N=Object.getOwnPropertyDescriptor(E,T):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(C,E,T,N);else for(var $=C.length-1;$>=0;$--)(I=C[$])&&(D=(P<3?I(D):P>3?I(E,T,D):I(E,T))||D);return P>3&&D&&Object.defineProperty(E,T,D),D},u=this&&this.__param||function(C,E){return function(T,N){E(T,N,C)}};Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionService=void 0;const h=l(9806),f=l(9504),p=l(456),g=l(4725),v=l(8460),m=l(844),y=l(6114),x=l(4841),_=l(511),b=l(2585),w=" ",S=new RegExp(w,"g");let k=o.SelectionService=class extends m.Disposable{constructor(C,E,T,N,I,P,D,$,L){super(),this._element=C,this._screenElement=E,this._linkifier=T,this._bufferService=N,this._coreService=I,this._mouseService=P,this._optionsService=D,this._renderService=$,this._coreBrowserService=L,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new _.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new v.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new v.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new v.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new v.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=O=>this._handleMouseMove(O),this._mouseUpListener=O=>this._handleMouseUp(O),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(O=>this._handleTrim(O)),this.register(this._bufferService.buffers.onBufferActivate(O=>this._handleBufferActivate(O))),this.enable(),this._model=new p.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,m.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const C=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;return!(!C||!E||C[0]===E[0]&&C[1]===E[1])}get selectionText(){const C=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;if(!C||!E)return"";const T=this._bufferService.buffer,N=[];if(this._activeSelectionMode===3){if(C[0]===E[0])return"";const I=C[0]<E[0]?C[0]:E[0],P=C[0]<E[0]?E[0]:C[0];for(let D=C[1];D<=E[1];D++){const $=T.translateBufferLineToString(D,!0,I,P);N.push($)}}else{const I=C[1]===E[1]?E[0]:void 0;N.push(T.translateBufferLineToString(C[1],!0,C[0],I));for(let P=C[1]+1;P<=E[1]-1;P++){const D=T.lines.get(P),$=T.translateBufferLineToString(P,!0);D!=null&&D.isWrapped?N[N.length-1]+=$:N.push($)}if(C[1]!==E[1]){const P=T.lines.get(E[1]),D=T.translateBufferLineToString(E[1],!0,0,E[0]);P&&P.isWrapped?N[N.length-1]+=D:N.push(D)}}return N.map(I=>I.replace(S," ")).join(y.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(C){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),y.isLinux&&C&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(C){const E=this._getMouseBufferCoords(C),T=this._model.finalSelectionStart,N=this._model.finalSelectionEnd;return!!(T&&N&&E)&&this._areCoordsInSelection(E,T,N)}isCellInSelection(C,E){const T=this._model.finalSelectionStart,N=this._model.finalSelectionEnd;return!(!T||!N)&&this._areCoordsInSelection([C,E],T,N)}_areCoordsInSelection(C,E,T){return C[1]>E[1]&&C[1]<T[1]||E[1]===T[1]&&C[1]===E[1]&&C[0]>=E[0]&&C[0]<T[0]||E[1]<T[1]&&C[1]===T[1]&&C[0]<T[0]||E[1]<T[1]&&C[1]===E[1]&&C[0]>=E[0]}_selectWordAtCursor(C,E){var T,N;const I=(N=(T=this._linkifier.currentLink)===null||T===void 0?void 0:T.link)===null||N===void 0?void 0:N.range;if(I)return this._model.selectionStart=[I.start.x-1,I.start.y-1],this._model.selectionStartLength=(0,x.getRangeLength)(I,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const P=this._getMouseBufferCoords(C);return!!P&&(this._selectWordAt(P,E),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(C,E){this._model.clearSelection(),C=Math.max(C,0),E=Math.min(E,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,C],this._model.selectionEnd=[this._bufferService.cols,E],this.refresh(),this._onSelectionChange.fire()}_handleTrim(C){this._model.handleTrim(C)&&this.refresh()}_getMouseBufferCoords(C){const E=this._mouseService.getCoords(C,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(E)return E[0]--,E[1]--,E[1]+=this._bufferService.buffer.ydisp,E}_getMouseEventScrollAmount(C){let E=(0,h.getCoordsRelativeToElement)(this._coreBrowserService.window,C,this._screenElement)[1];const T=this._renderService.dimensions.css.canvas.height;return E>=0&&E<=T?0:(E>T&&(E-=T),E=Math.min(Math.max(E,-50),50),E/=50,E/Math.abs(E)+Math.round(14*E))}shouldForceSelection(C){return y.isMac?C.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:C.shiftKey}handleMouseDown(C){if(this._mouseDownTimeStamp=C.timeStamp,(C.button!==2||!this.hasSelection)&&C.button===0){if(!this._enabled){if(!this.shouldForceSelection(C))return;C.stopPropagation()}C.preventDefault(),this._dragScrollAmount=0,this._enabled&&C.shiftKey?this._handleIncrementalClick(C):C.detail===1?this._handleSingleClick(C):C.detail===2?this._handleDoubleClick(C):C.detail===3&&this._handleTripleClick(C),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(C){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(C))}_handleSingleClick(C){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(C)?3:0,this._model.selectionStart=this._getMouseBufferCoords(C),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const E=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);E&&E.length!==this._model.selectionStart[0]&&E.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(C){this._selectWordAtCursor(C,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(C){const E=this._getMouseBufferCoords(C);E&&(this._activeSelectionMode=2,this._selectLineAt(E[1]))}shouldColumnSelect(C){return C.altKey&&!(y.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(C){if(C.stopImmediatePropagation(),!this._model.selectionStart)return;const E=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(C),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(C),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const T=this._bufferService.buffer;if(this._model.selectionEnd[1]<T.lines.length){const N=T.lines.get(this._model.selectionEnd[1]);N&&N.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}E&&E[0]===this._model.selectionEnd[0]&&E[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const C=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(C.ydisp+this._bufferService.rows,C.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=C.ydisp),this.refresh()}}_handleMouseUp(C){const E=C.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&E<500&&C.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const T=this._mouseService.getCoords(C,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(T&&T[0]!==void 0&&T[1]!==void 0){const N=(0,f.moveToCellSequence)(T[0]-1,T[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(N,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const C=this._model.finalSelectionStart,E=this._model.finalSelectionEnd,T=!(!C||!E||C[0]===E[0]&&C[1]===E[1]);T?C&&E&&(this._oldSelectionStart&&this._oldSelectionEnd&&C[0]===this._oldSelectionStart[0]&&C[1]===this._oldSelectionStart[1]&&E[0]===this._oldSelectionEnd[0]&&E[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(C,E,T)):this._oldHasSelection&&this._fireOnSelectionChange(C,E,T)}_fireOnSelectionChange(C,E,T){this._oldSelectionStart=C,this._oldSelectionEnd=E,this._oldHasSelection=T,this._onSelectionChange.fire()}_handleBufferActivate(C){this.clearSelection(),this._trimListener.dispose(),this._trimListener=C.activeBuffer.lines.onTrim(E=>this._handleTrim(E))}_convertViewportColToCharacterIndex(C,E){let T=E;for(let N=0;E>=N;N++){const I=C.loadCell(N,this._workCell).getChars().length;this._workCell.getWidth()===0?T--:I>1&&E!==N&&(T+=I-1)}return T}setSelection(C,E,T){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[C,E],this._model.selectionStartLength=T,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(C){this._isClickInSelection(C)||(this._selectWordAtCursor(C,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(C,E,T=!0,N=!0){if(C[0]>=this._bufferService.cols)return;const I=this._bufferService.buffer,P=I.lines.get(C[1]);if(!P)return;const D=I.translateBufferLineToString(C[1],!1);let $=this._convertViewportColToCharacterIndex(P,C[0]),L=$;const O=C[0]-$;let j=0,M=0,R=0,z=0;if(D.charAt($)===" "){for(;$>0&&D.charAt($-1)===" ";)$--;for(;L<D.length&&D.charAt(L+1)===" ";)L++}else{let G=C[0],q=C[0];P.getWidth(G)===0&&(j++,G--),P.getWidth(q)===2&&(M++,q++);const K=P.getString(q).length;for(K>1&&(z+=K-1,L+=K-1);G>0&&$>0&&!this._isCharWordSeparator(P.loadCell(G-1,this._workCell));){P.loadCell(G-1,this._workCell);const B=this._workCell.getChars().length;this._workCell.getWidth()===0?(j++,G--):B>1&&(R+=B-1,$-=B-1),$--,G--}for(;q<P.length&&L+1<D.length&&!this._isCharWordSeparator(P.loadCell(q+1,this._workCell));){P.loadCell(q+1,this._workCell);const B=this._workCell.getChars().length;this._workCell.getWidth()===2?(M++,q++):B>1&&(z+=B-1,L+=B-1),L++,q++}}L++;let U=$+O-j+R,F=Math.min(this._bufferService.cols,L-$+j+M-R-z);if(E||D.slice($,L).trim()!==""){if(T&&U===0&&P.getCodePoint(0)!==32){const G=I.lines.get(C[1]-1);if(G&&P.isWrapped&&G.getCodePoint(this._bufferService.cols-1)!==32){const q=this._getWordAt([this._bufferService.cols-1,C[1]-1],!1,!0,!1);if(q){const K=this._bufferService.cols-q.start;U-=K,F+=K}}}if(N&&U+F===this._bufferService.cols&&P.getCodePoint(this._bufferService.cols-1)!==32){const G=I.lines.get(C[1]+1);if(G!=null&&G.isWrapped&&G.getCodePoint(0)!==32){const q=this._getWordAt([0,C[1]+1],!1,!1,!0);q&&(F+=q.length)}}return{start:U,length:F}}}_selectWordAt(C,E){const T=this._getWordAt(C,E);if(T){for(;T.start<0;)T.start+=this._bufferService.cols,C[1]--;this._model.selectionStart=[T.start,C[1]],this._model.selectionStartLength=T.length}}_selectToWordAt(C){const E=this._getWordAt(C,!0);if(E){let T=C[1];for(;E.start<0;)E.start+=this._bufferService.cols,T--;if(!this._model.areSelectionValuesReversed())for(;E.start+E.length>this._bufferService.cols;)E.length-=this._bufferService.cols,T++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?E.start:E.start+E.length,T]}}_isCharWordSeparator(C){return C.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(C.getChars())>=0}_selectLineAt(C){const E=this._bufferService.buffer.getWrappedRangeForLine(C),T={start:{x:0,y:E.first},end:{x:this._bufferService.cols-1,y:E.last}};this._model.selectionStart=[0,E.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,x.getRangeLength)(T,this._bufferService.cols)}};o.SelectionService=k=c([u(3,b.IBufferService),u(4,b.ICoreService),u(5,g.IMouseService),u(6,b.IOptionsService),u(7,g.IRenderService),u(8,g.ICoreBrowserService)],k)},4725:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IThemeService=o.ICharacterJoinerService=o.ISelectionService=o.IRenderService=o.IMouseService=o.ICoreBrowserService=o.ICharSizeService=void 0;const c=l(8343);o.ICharSizeService=(0,c.createDecorator)("CharSizeService"),o.ICoreBrowserService=(0,c.createDecorator)("CoreBrowserService"),o.IMouseService=(0,c.createDecorator)("MouseService"),o.IRenderService=(0,c.createDecorator)("RenderService"),o.ISelectionService=(0,c.createDecorator)("SelectionService"),o.ICharacterJoinerService=(0,c.createDecorator)("CharacterJoinerService"),o.IThemeService=(0,c.createDecorator)("ThemeService")},6731:function(s,o,l){var c=this&&this.__decorate||function(k,C,E,T){var N,I=arguments.length,P=I<3?C:T===null?T=Object.getOwnPropertyDescriptor(C,E):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(k,C,E,T);else for(var D=k.length-1;D>=0;D--)(N=k[D])&&(P=(I<3?N(P):I>3?N(C,E,P):N(C,E))||P);return I>3&&P&&Object.defineProperty(C,E,P),P},u=this&&this.__param||function(k,C){return function(E,T){C(E,T,k)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ThemeService=o.DEFAULT_ANSI_COLORS=void 0;const h=l(7239),f=l(8055),p=l(8460),g=l(844),v=l(2585),m=f.css.toColor("#ffffff"),y=f.css.toColor("#000000"),x=f.css.toColor("#ffffff"),_=f.css.toColor("#000000"),b={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};o.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const k=[f.css.toColor("#2e3436"),f.css.toColor("#cc0000"),f.css.toColor("#4e9a06"),f.css.toColor("#c4a000"),f.css.toColor("#3465a4"),f.css.toColor("#75507b"),f.css.toColor("#06989a"),f.css.toColor("#d3d7cf"),f.css.toColor("#555753"),f.css.toColor("#ef2929"),f.css.toColor("#8ae234"),f.css.toColor("#fce94f"),f.css.toColor("#729fcf"),f.css.toColor("#ad7fa8"),f.css.toColor("#34e2e2"),f.css.toColor("#eeeeec")],C=[0,95,135,175,215,255];for(let E=0;E<216;E++){const T=C[E/36%6|0],N=C[E/6%6|0],I=C[E%6];k.push({css:f.channels.toCss(T,N,I),rgba:f.channels.toRgba(T,N,I)})}for(let E=0;E<24;E++){const T=8+10*E;k.push({css:f.channels.toCss(T,T,T),rgba:f.channels.toRgba(T,T,T)})}return k})());let w=o.ThemeService=class extends g.Disposable{get colors(){return this._colors}constructor(k){super(),this._optionsService=k,this._contrastCache=new h.ColorContrastCache,this._halfContrastCache=new h.ColorContrastCache,this._onChangeColors=this.register(new p.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:m,background:y,cursor:x,cursorAccent:_,selectionForeground:void 0,selectionBackgroundTransparent:b,selectionBackgroundOpaque:f.color.blend(y,b),selectionInactiveBackgroundTransparent:b,selectionInactiveBackgroundOpaque:f.color.blend(y,b),ansi:o.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(k={}){const C=this._colors;if(C.foreground=S(k.foreground,m),C.background=S(k.background,y),C.cursor=S(k.cursor,x),C.cursorAccent=S(k.cursorAccent,_),C.selectionBackgroundTransparent=S(k.selectionBackground,b),C.selectionBackgroundOpaque=f.color.blend(C.background,C.selectionBackgroundTransparent),C.selectionInactiveBackgroundTransparent=S(k.selectionInactiveBackground,C.selectionBackgroundTransparent),C.selectionInactiveBackgroundOpaque=f.color.blend(C.background,C.selectionInactiveBackgroundTransparent),C.selectionForeground=k.selectionForeground?S(k.selectionForeground,f.NULL_COLOR):void 0,C.selectionForeground===f.NULL_COLOR&&(C.selectionForeground=void 0),f.color.isOpaque(C.selectionBackgroundTransparent)&&(C.selectionBackgroundTransparent=f.color.opacity(C.selectionBackgroundTransparent,.3)),f.color.isOpaque(C.selectionInactiveBackgroundTransparent)&&(C.selectionInactiveBackgroundTransparent=f.color.opacity(C.selectionInactiveBackgroundTransparent,.3)),C.ansi=o.DEFAULT_ANSI_COLORS.slice(),C.ansi[0]=S(k.black,o.DEFAULT_ANSI_COLORS[0]),C.ansi[1]=S(k.red,o.DEFAULT_ANSI_COLORS[1]),C.ansi[2]=S(k.green,o.DEFAULT_ANSI_COLORS[2]),C.ansi[3]=S(k.yellow,o.DEFAULT_ANSI_COLORS[3]),C.ansi[4]=S(k.blue,o.DEFAULT_ANSI_COLORS[4]),C.ansi[5]=S(k.magenta,o.DEFAULT_ANSI_COLORS[5]),C.ansi[6]=S(k.cyan,o.DEFAULT_ANSI_COLORS[6]),C.ansi[7]=S(k.white,o.DEFAULT_ANSI_COLORS[7]),C.ansi[8]=S(k.brightBlack,o.DEFAULT_ANSI_COLORS[8]),C.ansi[9]=S(k.brightRed,o.DEFAULT_ANSI_COLORS[9]),C.ansi[10]=S(k.brightGreen,o.DEFAULT_ANSI_COLORS[10]),C.ansi[11]=S(k.brightYellow,o.DEFAULT_ANSI_COLORS[11]),C.ansi[12]=S(k.brightBlue,o.DEFAULT_ANSI_COLORS[12]),C.ansi[13]=S(k.brightMagenta,o.DEFAULT_ANSI_COLORS[13]),C.ansi[14]=S(k.brightCyan,o.DEFAULT_ANSI_COLORS[14]),C.ansi[15]=S(k.brightWhite,o.DEFAULT_ANSI_COLORS[15]),k.extendedAnsi){const E=Math.min(C.ansi.length-16,k.extendedAnsi.length);for(let T=0;T<E;T++)C.ansi[T+16]=S(k.extendedAnsi[T],o.DEFAULT_ANSI_COLORS[T+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(k){this._restoreColor(k),this._onChangeColors.fire(this.colors)}_restoreColor(k){if(k!==void 0)switch(k){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[k]=this._restoreColors.ansi[k]}else for(let C=0;C<this._restoreColors.ansi.length;++C)this._colors.ansi[C]=this._restoreColors.ansi[C]}modifyColors(k){k(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function S(k,C){if(k!==void 0)try{return f.css.toColor(k)}catch{}return C}o.ThemeService=w=c([u(0,v.IOptionsService)],w)},6349:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CircularList=void 0;const c=l(8460),u=l(844);class h extends u.Disposable{constructor(p){super(),this._maxLength=p,this.onDeleteEmitter=this.register(new c.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new c.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new c.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(p){if(this._maxLength===p)return;const g=new Array(p);for(let v=0;v<Math.min(p,this.length);v++)g[v]=this._array[this._getCyclicIndex(v)];this._array=g,this._maxLength=p,this._startIndex=0}get length(){return this._length}set length(p){if(p>this._length)for(let g=this._length;g<p;g++)this._array[g]=void 0;this._length=p}get(p){return this._array[this._getCyclicIndex(p)]}set(p,g){this._array[this._getCyclicIndex(p)]=g}push(p){this._array[this._getCyclicIndex(this._length)]=p,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(p,g,...v){if(g){for(let m=p;m<this._length-g;m++)this._array[this._getCyclicIndex(m)]=this._array[this._getCyclicIndex(m+g)];this._length-=g,this.onDeleteEmitter.fire({index:p,amount:g})}for(let m=this._length-1;m>=p;m--)this._array[this._getCyclicIndex(m+v.length)]=this._array[this._getCyclicIndex(m)];for(let m=0;m<v.length;m++)this._array[this._getCyclicIndex(p+m)]=v[m];if(v.length&&this.onInsertEmitter.fire({index:p,amount:v.length}),this._length+v.length>this._maxLength){const m=this._length+v.length-this._maxLength;this._startIndex+=m,this._length=this._maxLength,this.onTrimEmitter.fire(m)}else this._length+=v.length}trimStart(p){p>this._length&&(p=this._length),this._startIndex+=p,this._length-=p,this.onTrimEmitter.fire(p)}shiftElements(p,g,v){if(!(g<=0)){if(p<0||p>=this._length)throw new Error("start argument out of range");if(p+v<0)throw new Error("Cannot shift elements in list beyond index 0");if(v>0){for(let y=g-1;y>=0;y--)this.set(p+y+v,this.get(p+y));const m=p+g+v-this._length;if(m>0)for(this._length+=m;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let m=0;m<g;m++)this.set(p+m+v,this.get(p+m))}}_getCyclicIndex(p){return(this._startIndex+p)%this._maxLength}}o.CircularList=h},1439:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.clone=void 0,o.clone=function l(c,u=5){if(typeof c!="object")return c;const h=Array.isArray(c)?[]:{};for(const f in c)h[f]=u<=1?c[f]:c[f]&&l(c[f],u-1);return h}},8055:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.contrastRatio=o.toPaddedHex=o.rgba=o.rgb=o.css=o.color=o.channels=o.NULL_COLOR=void 0;const c=l(6114);let u=0,h=0,f=0,p=0;var g,v,m,y,x;function _(w){const S=w.toString(16);return S.length<2?"0"+S:S}function b(w,S){return w<S?(S+.05)/(w+.05):(w+.05)/(S+.05)}o.NULL_COLOR={css:"#00000000",rgba:0},function(w){w.toCss=function(S,k,C,E){return E!==void 0?`#${_(S)}${_(k)}${_(C)}${_(E)}`:`#${_(S)}${_(k)}${_(C)}`},w.toRgba=function(S,k,C,E=255){return(S<<24|k<<16|C<<8|E)>>>0}}(g||(o.channels=g={})),function(w){function S(k,C){return p=Math.round(255*C),[u,h,f]=x.toChannels(k.rgba),{css:g.toCss(u,h,f,p),rgba:g.toRgba(u,h,f,p)}}w.blend=function(k,C){if(p=(255&C.rgba)/255,p===1)return{css:C.css,rgba:C.rgba};const E=C.rgba>>24&255,T=C.rgba>>16&255,N=C.rgba>>8&255,I=k.rgba>>24&255,P=k.rgba>>16&255,D=k.rgba>>8&255;return u=I+Math.round((E-I)*p),h=P+Math.round((T-P)*p),f=D+Math.round((N-D)*p),{css:g.toCss(u,h,f),rgba:g.toRgba(u,h,f)}},w.isOpaque=function(k){return(255&k.rgba)==255},w.ensureContrastRatio=function(k,C,E){const T=x.ensureContrastRatio(k.rgba,C.rgba,E);if(T)return x.toColor(T>>24&255,T>>16&255,T>>8&255)},w.opaque=function(k){const C=(255|k.rgba)>>>0;return[u,h,f]=x.toChannels(C),{css:g.toCss(u,h,f),rgba:C}},w.opacity=S,w.multiplyOpacity=function(k,C){return p=255&k.rgba,S(k,p*C/255)},w.toColorRGB=function(k){return[k.rgba>>24&255,k.rgba>>16&255,k.rgba>>8&255]}}(v||(o.color=v={})),function(w){let S,k;if(!c.isNode){const C=document.createElement("canvas");C.width=1,C.height=1;const E=C.getContext("2d",{willReadFrequently:!0});E&&(S=E,S.globalCompositeOperation="copy",k=S.createLinearGradient(0,0,1,1))}w.toColor=function(C){if(C.match(/#[\da-f]{3,8}/i))switch(C.length){case 4:return u=parseInt(C.slice(1,2).repeat(2),16),h=parseInt(C.slice(2,3).repeat(2),16),f=parseInt(C.slice(3,4).repeat(2),16),x.toColor(u,h,f);case 5:return u=parseInt(C.slice(1,2).repeat(2),16),h=parseInt(C.slice(2,3).repeat(2),16),f=parseInt(C.slice(3,4).repeat(2),16),p=parseInt(C.slice(4,5).repeat(2),16),x.toColor(u,h,f,p);case 7:return{css:C,rgba:(parseInt(C.slice(1),16)<<8|255)>>>0};case 9:return{css:C,rgba:parseInt(C.slice(1),16)>>>0}}const E=C.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(E)return u=parseInt(E[1]),h=parseInt(E[2]),f=parseInt(E[3]),p=Math.round(255*(E[5]===void 0?1:parseFloat(E[5]))),x.toColor(u,h,f,p);if(!S||!k)throw new Error("css.toColor: Unsupported css format");if(S.fillStyle=k,S.fillStyle=C,typeof S.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(S.fillRect(0,0,1,1),[u,h,f,p]=S.getImageData(0,0,1,1).data,p!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:g.toRgba(u,h,f,p),css:C}}}(m||(o.css=m={})),function(w){function S(k,C,E){const T=k/255,N=C/255,I=E/255;return .2126*(T<=.03928?T/12.92:Math.pow((T+.055)/1.055,2.4))+.7152*(N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4))+.0722*(I<=.03928?I/12.92:Math.pow((I+.055)/1.055,2.4))}w.relativeLuminance=function(k){return S(k>>16&255,k>>8&255,255&k)},w.relativeLuminance2=S}(y||(o.rgb=y={})),function(w){function S(C,E,T){const N=C>>24&255,I=C>>16&255,P=C>>8&255;let D=E>>24&255,$=E>>16&255,L=E>>8&255,O=b(y.relativeLuminance2(D,$,L),y.relativeLuminance2(N,I,P));for(;O<T&&(D>0||$>0||L>0);)D-=Math.max(0,Math.ceil(.1*D)),$-=Math.max(0,Math.ceil(.1*$)),L-=Math.max(0,Math.ceil(.1*L)),O=b(y.relativeLuminance2(D,$,L),y.relativeLuminance2(N,I,P));return(D<<24|$<<16|L<<8|255)>>>0}function k(C,E,T){const N=C>>24&255,I=C>>16&255,P=C>>8&255;let D=E>>24&255,$=E>>16&255,L=E>>8&255,O=b(y.relativeLuminance2(D,$,L),y.relativeLuminance2(N,I,P));for(;O<T&&(D<255||$<255||L<255);)D=Math.min(255,D+Math.ceil(.1*(255-D))),$=Math.min(255,$+Math.ceil(.1*(255-$))),L=Math.min(255,L+Math.ceil(.1*(255-L))),O=b(y.relativeLuminance2(D,$,L),y.relativeLuminance2(N,I,P));return(D<<24|$<<16|L<<8|255)>>>0}w.ensureContrastRatio=function(C,E,T){const N=y.relativeLuminance(C>>8),I=y.relativeLuminance(E>>8);if(b(N,I)<T){if(I<N){const $=S(C,E,T),L=b(N,y.relativeLuminance($>>8));if(L<T){const O=k(C,E,T);return L>b(N,y.relativeLuminance(O>>8))?$:O}return $}const P=k(C,E,T),D=b(N,y.relativeLuminance(P>>8));if(D<T){const $=S(C,E,T);return D>b(N,y.relativeLuminance($>>8))?P:$}return P}},w.reduceLuminance=S,w.increaseLuminance=k,w.toChannels=function(C){return[C>>24&255,C>>16&255,C>>8&255,255&C]},w.toColor=function(C,E,T,N){return{css:g.toCss(C,E,T,N),rgba:g.toRgba(C,E,T,N)}}}(x||(o.rgba=x={})),o.toPaddedHex=_,o.contrastRatio=b},8969:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreTerminal=void 0;const c=l(844),u=l(2585),h=l(4348),f=l(7866),p=l(744),g=l(7302),v=l(6975),m=l(8460),y=l(1753),x=l(1480),_=l(7994),b=l(9282),w=l(5435),S=l(5981),k=l(2660);let C=!1;class E extends c.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new m.EventEmitter),this._onScroll.event(N=>{var I;(I=this._onScrollApi)===null||I===void 0||I.fire(N.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(N){for(const I in N)this.optionsService.options[I]=N[I]}constructor(N){super(),this._windowsWrappingHeuristics=this.register(new c.MutableDisposable),this._onBinary=this.register(new m.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new m.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new m.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new m.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new m.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new m.EventEmitter),this._instantiationService=new h.InstantiationService,this.optionsService=this.register(new g.OptionsService(N)),this._instantiationService.setService(u.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(p.BufferService)),this._instantiationService.setService(u.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(f.LogService)),this._instantiationService.setService(u.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(v.CoreService)),this._instantiationService.setService(u.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(y.CoreMouseService)),this._instantiationService.setService(u.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(x.UnicodeService)),this._instantiationService.setService(u.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(_.CharsetService),this._instantiationService.setService(u.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(k.OscLinkService),this._instantiationService.setService(u.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new w.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,m.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,m.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,m.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,m.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(I=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(I=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new S.WriteBuffer((I,P)=>this._inputHandler.parse(I,P))),this.register((0,m.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(N,I){this._writeBuffer.write(N,I)}writeSync(N,I){this._logService.logLevel<=u.LogLevelEnum.WARN&&!C&&(this._logService.warn("writeSync is unreliable and will be removed soon."),C=!0),this._writeBuffer.writeSync(N,I)}resize(N,I){isNaN(N)||isNaN(I)||(N=Math.max(N,p.MINIMUM_COLS),I=Math.max(I,p.MINIMUM_ROWS),this._bufferService.resize(N,I))}scroll(N,I=!1){this._bufferService.scroll(N,I)}scrollLines(N,I,P){this._bufferService.scrollLines(N,I,P)}scrollPages(N){this.scrollLines(N*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(N){const I=N-this._bufferService.buffer.ydisp;I!==0&&this.scrollLines(I)}registerEscHandler(N,I){return this._inputHandler.registerEscHandler(N,I)}registerDcsHandler(N,I){return this._inputHandler.registerDcsHandler(N,I)}registerCsiHandler(N,I){return this._inputHandler.registerCsiHandler(N,I)}registerOscHandler(N,I){return this._inputHandler.registerOscHandler(N,I)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let N=!1;const I=this.optionsService.rawOptions.windowsPty;I&&I.buildNumber!==void 0&&I.buildNumber!==void 0?N=I.backend==="conpty"&&I.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(N=!0),N?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const N=[];N.push(this.onLineFeed(b.updateWindowsModeWrappedState.bind(null,this._bufferService))),N.push(this.registerCsiHandler({final:"H"},()=>((0,b.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,c.toDisposable)(()=>{for(const I of N)I.dispose()})}}}o.CoreTerminal=E},8460:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.forwardEvent=o.EventEmitter=void 0,o.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=l=>(this._listeners.push(l),{dispose:()=>{if(!this._disposed){for(let c=0;c<this._listeners.length;c++)if(this._listeners[c]===l)return void this._listeners.splice(c,1)}}})),this._event}fire(l,c){const u=[];for(let h=0;h<this._listeners.length;h++)u.push(this._listeners[h]);for(let h=0;h<u.length;h++)u[h].call(void 0,l,c)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},o.forwardEvent=function(l,c){return l(u=>c.fire(u))}},5435:function(s,o,l){var c=this&&this.__decorate||function(O,j,M,R){var z,U=arguments.length,F=U<3?j:R===null?R=Object.getOwnPropertyDescriptor(j,M):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(O,j,M,R);else for(var G=O.length-1;G>=0;G--)(z=O[G])&&(F=(U<3?z(F):U>3?z(j,M,F):z(j,M))||F);return U>3&&F&&Object.defineProperty(j,M,F),F},u=this&&this.__param||function(O,j){return function(M,R){j(M,R,O)}};Object.defineProperty(o,"__esModule",{value:!0}),o.InputHandler=o.WindowsOptionsReportType=void 0;const h=l(2584),f=l(7116),p=l(2015),g=l(844),v=l(482),m=l(8437),y=l(8460),x=l(643),_=l(511),b=l(3734),w=l(2585),S=l(6242),k=l(6351),C=l(5941),E={"(":0,")":1,"*":2,"+":3,"-":1,".":2},T=131072;function N(O,j){if(O>24)return j.setWinLines||!1;switch(O){case 1:return!!j.restoreWin;case 2:return!!j.minimizeWin;case 3:return!!j.setWinPosition;case 4:return!!j.setWinSizePixels;case 5:return!!j.raiseWin;case 6:return!!j.lowerWin;case 7:return!!j.refreshWin;case 8:return!!j.setWinSizeChars;case 9:return!!j.maximizeWin;case 10:return!!j.fullscreenWin;case 11:return!!j.getWinState;case 13:return!!j.getWinPosition;case 14:return!!j.getWinSizePixels;case 15:return!!j.getScreenSizePixels;case 16:return!!j.getCellSizePixels;case 18:return!!j.getWinSizeChars;case 19:return!!j.getScreenSizeChars;case 20:return!!j.getIconTitle;case 21:return!!j.getWinTitle;case 22:return!!j.pushTitle;case 23:return!!j.popTitle;case 24:return!!j.setWinLines}return!1}var I;(function(O){O[O.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",O[O.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(I||(o.WindowsOptionsReportType=I={}));let P=0;class D extends g.Disposable{getAttrData(){return this._curAttrData}constructor(j,M,R,z,U,F,G,q,K=new p.EscapeSequenceParser){super(),this._bufferService=j,this._charsetService=M,this._coreService=R,this._logService=z,this._optionsService=U,this._oscLinkService=F,this._coreMouseService=G,this._unicodeService=q,this._parser=K,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new v.StringToUtf32,this._utf8Decoder=new v.Utf8ToUtf32,this._workCell=new _.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=m.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new y.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new y.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new y.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new y.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new y.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new y.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new y.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new y.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new y.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new y.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new y.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new y.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new y.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new $(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(B=>this._activeBuffer=B.activeBuffer)),this._parser.setCsiHandlerFallback((B,W)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(B),params:W.toArray()})}),this._parser.setEscHandlerFallback(B=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(B)})}),this._parser.setExecuteHandlerFallback(B=>{this._logService.debug("Unknown EXECUTE code: ",{code:B})}),this._parser.setOscHandlerFallback((B,W,Y)=>{this._logService.debug("Unknown OSC code: ",{identifier:B,action:W,data:Y})}),this._parser.setDcsHandlerFallback((B,W,Y)=>{W==="HOOK"&&(Y=Y.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(B),action:W,payload:Y})}),this._parser.setPrintHandler((B,W,Y)=>this.print(B,W,Y)),this._parser.registerCsiHandler({final:"@"},B=>this.insertChars(B)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},B=>this.scrollLeft(B)),this._parser.registerCsiHandler({final:"A"},B=>this.cursorUp(B)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},B=>this.scrollRight(B)),this._parser.registerCsiHandler({final:"B"},B=>this.cursorDown(B)),this._parser.registerCsiHandler({final:"C"},B=>this.cursorForward(B)),this._parser.registerCsiHandler({final:"D"},B=>this.cursorBackward(B)),this._parser.registerCsiHandler({final:"E"},B=>this.cursorNextLine(B)),this._parser.registerCsiHandler({final:"F"},B=>this.cursorPrecedingLine(B)),this._parser.registerCsiHandler({final:"G"},B=>this.cursorCharAbsolute(B)),this._parser.registerCsiHandler({final:"H"},B=>this.cursorPosition(B)),this._parser.registerCsiHandler({final:"I"},B=>this.cursorForwardTab(B)),this._parser.registerCsiHandler({final:"J"},B=>this.eraseInDisplay(B,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},B=>this.eraseInDisplay(B,!0)),this._parser.registerCsiHandler({final:"K"},B=>this.eraseInLine(B,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},B=>this.eraseInLine(B,!0)),this._parser.registerCsiHandler({final:"L"},B=>this.insertLines(B)),this._parser.registerCsiHandler({final:"M"},B=>this.deleteLines(B)),this._parser.registerCsiHandler({final:"P"},B=>this.deleteChars(B)),this._parser.registerCsiHandler({final:"S"},B=>this.scrollUp(B)),this._parser.registerCsiHandler({final:"T"},B=>this.scrollDown(B)),this._parser.registerCsiHandler({final:"X"},B=>this.eraseChars(B)),this._parser.registerCsiHandler({final:"Z"},B=>this.cursorBackwardTab(B)),this._parser.registerCsiHandler({final:"`"},B=>this.charPosAbsolute(B)),this._parser.registerCsiHandler({final:"a"},B=>this.hPositionRelative(B)),this._parser.registerCsiHandler({final:"b"},B=>this.repeatPrecedingCharacter(B)),this._parser.registerCsiHandler({final:"c"},B=>this.sendDeviceAttributesPrimary(B)),this._parser.registerCsiHandler({prefix:">",final:"c"},B=>this.sendDeviceAttributesSecondary(B)),this._parser.registerCsiHandler({final:"d"},B=>this.linePosAbsolute(B)),this._parser.registerCsiHandler({final:"e"},B=>this.vPositionRelative(B)),this._parser.registerCsiHandler({final:"f"},B=>this.hVPosition(B)),this._parser.registerCsiHandler({final:"g"},B=>this.tabClear(B)),this._parser.registerCsiHandler({final:"h"},B=>this.setMode(B)),this._parser.registerCsiHandler({prefix:"?",final:"h"},B=>this.setModePrivate(B)),this._parser.registerCsiHandler({final:"l"},B=>this.resetMode(B)),this._parser.registerCsiHandler({prefix:"?",final:"l"},B=>this.resetModePrivate(B)),this._parser.registerCsiHandler({final:"m"},B=>this.charAttributes(B)),this._parser.registerCsiHandler({final:"n"},B=>this.deviceStatus(B)),this._parser.registerCsiHandler({prefix:"?",final:"n"},B=>this.deviceStatusPrivate(B)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},B=>this.softReset(B)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},B=>this.setCursorStyle(B)),this._parser.registerCsiHandler({final:"r"},B=>this.setScrollRegion(B)),this._parser.registerCsiHandler({final:"s"},B=>this.saveCursor(B)),this._parser.registerCsiHandler({final:"t"},B=>this.windowOptions(B)),this._parser.registerCsiHandler({final:"u"},B=>this.restoreCursor(B)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},B=>this.insertColumns(B)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},B=>this.deleteColumns(B)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},B=>this.selectProtected(B)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},B=>this.requestMode(B,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},B=>this.requestMode(B,!1)),this._parser.setExecuteHandler(h.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(h.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(h.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(h.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(h.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(h.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(h.C1.IND,()=>this.index()),this._parser.setExecuteHandler(h.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(h.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new S.OscHandler(B=>(this.setTitle(B),this.setIconName(B),!0))),this._parser.registerOscHandler(1,new S.OscHandler(B=>this.setIconName(B))),this._parser.registerOscHandler(2,new S.OscHandler(B=>this.setTitle(B))),this._parser.registerOscHandler(4,new S.OscHandler(B=>this.setOrReportIndexedColor(B))),this._parser.registerOscHandler(8,new S.OscHandler(B=>this.setHyperlink(B))),this._parser.registerOscHandler(10,new S.OscHandler(B=>this.setOrReportFgColor(B))),this._parser.registerOscHandler(11,new S.OscHandler(B=>this.setOrReportBgColor(B))),this._parser.registerOscHandler(12,new S.OscHandler(B=>this.setOrReportCursorColor(B))),this._parser.registerOscHandler(104,new S.OscHandler(B=>this.restoreIndexedColor(B))),this._parser.registerOscHandler(110,new S.OscHandler(B=>this.restoreFgColor(B))),this._parser.registerOscHandler(111,new S.OscHandler(B=>this.restoreBgColor(B))),this._parser.registerOscHandler(112,new S.OscHandler(B=>this.restoreCursorColor(B))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const B in f.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:B},()=>this.selectCharset("("+B)),this._parser.registerEscHandler({intermediates:")",final:B},()=>this.selectCharset(")"+B)),this._parser.registerEscHandler({intermediates:"*",final:B},()=>this.selectCharset("*"+B)),this._parser.registerEscHandler({intermediates:"+",final:B},()=>this.selectCharset("+"+B)),this._parser.registerEscHandler({intermediates:"-",final:B},()=>this.selectCharset("-"+B)),this._parser.registerEscHandler({intermediates:".",final:B},()=>this.selectCharset("."+B)),this._parser.registerEscHandler({intermediates:"/",final:B},()=>this.selectCharset("/"+B));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(B=>(this._logService.error("Parsing error: ",B),B)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new k.DcsHandler((B,W)=>this.requestStatusString(B,W)))}_preserveStack(j,M,R,z){this._parseStack.paused=!0,this._parseStack.cursorStartX=j,this._parseStack.cursorStartY=M,this._parseStack.decodedLength=R,this._parseStack.position=z}_logSlowResolvingAsync(j){this._logService.logLevel<=w.LogLevelEnum.WARN&&Promise.race([j,new Promise((M,R)=>setTimeout(()=>R("#SLOW_TIMEOUT"),5e3))]).catch(M=>{if(M!=="#SLOW_TIMEOUT")throw M;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(j,M){let R,z=this._activeBuffer.x,U=this._activeBuffer.y,F=0;const G=this._parseStack.paused;if(G){if(R=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,M))return this._logSlowResolvingAsync(R),R;z=this._parseStack.cursorStartX,U=this._parseStack.cursorStartY,this._parseStack.paused=!1,j.length>T&&(F=this._parseStack.position+T)}if(this._logService.logLevel<=w.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof j=="string"?` "${j}"`:` "${Array.prototype.map.call(j,q=>String.fromCharCode(q)).join("")}"`),typeof j=="string"?j.split("").map(q=>q.charCodeAt(0)):j),this._parseBuffer.length<j.length&&this._parseBuffer.length<T&&(this._parseBuffer=new Uint32Array(Math.min(j.length,T))),G||this._dirtyRowTracker.clearRange(),j.length>T)for(let q=F;q<j.length;q+=T){const K=q+T<j.length?q+T:j.length,B=typeof j=="string"?this._stringDecoder.decode(j.substring(q,K),this._parseBuffer):this._utf8Decoder.decode(j.subarray(q,K),this._parseBuffer);if(R=this._parser.parse(this._parseBuffer,B))return this._preserveStack(z,U,B,q),this._logSlowResolvingAsync(R),R}else if(!G){const q=typeof j=="string"?this._stringDecoder.decode(j,this._parseBuffer):this._utf8Decoder.decode(j,this._parseBuffer);if(R=this._parser.parse(this._parseBuffer,q))return this._preserveStack(z,U,q,0),this._logSlowResolvingAsync(R),R}this._activeBuffer.x===z&&this._activeBuffer.y===U||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(j,M,R){let z,U;const F=this._charsetService.charset,G=this._optionsService.rawOptions.screenReaderMode,q=this._bufferService.cols,K=this._coreService.decPrivateModes.wraparound,B=this._coreService.modes.insertMode,W=this._curAttrData;let Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&R-M>0&&Y.getWidth(this._activeBuffer.x-1)===2&&Y.setCellFromCodePoint(this._activeBuffer.x-1,0,1,W.fg,W.bg,W.extended);for(let Z=M;Z<R;++Z){if(z=j[Z],U=this._unicodeService.wcwidth(z),z<127&&F){const Q=F[String.fromCharCode(z)];Q&&(z=Q.charCodeAt(0))}if(G&&this._onA11yChar.fire((0,v.stringFromCodePoint)(z)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),U||!this._activeBuffer.x){if(this._activeBuffer.x+U-1>=q){if(K){for(;this._activeBuffer.x<q;)Y.setCellFromCodePoint(this._activeBuffer.x++,0,1,W.fg,W.bg,W.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=q-1,U===2)continue}if(B&&(Y.insertCells(this._activeBuffer.x,U,this._activeBuffer.getNullCell(W),W),Y.getWidth(q-1)===2&&Y.setCellFromCodePoint(q-1,x.NULL_CELL_CODE,x.NULL_CELL_WIDTH,W.fg,W.bg,W.extended)),Y.setCellFromCodePoint(this._activeBuffer.x++,z,U,W.fg,W.bg,W.extended),U>0)for(;--U;)Y.setCellFromCodePoint(this._activeBuffer.x++,0,0,W.fg,W.bg,W.extended)}else Y.getWidth(this._activeBuffer.x-1)?Y.addCodepointToCell(this._activeBuffer.x-1,z):Y.addCodepointToCell(this._activeBuffer.x-2,z)}R-M>0&&(Y.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<q&&R-M>0&&Y.getWidth(this._activeBuffer.x)===0&&!Y.hasContent(this._activeBuffer.x)&&Y.setCellFromCodePoint(this._activeBuffer.x,0,1,W.fg,W.bg,W.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(j,M){return j.final!=="t"||j.prefix||j.intermediates?this._parser.registerCsiHandler(j,M):this._parser.registerCsiHandler(j,R=>!N(R.params[0],this._optionsService.rawOptions.windowOptions)||M(R))}registerDcsHandler(j,M){return this._parser.registerDcsHandler(j,new k.DcsHandler(M))}registerEscHandler(j,M){return this._parser.registerEscHandler(j,M)}registerOscHandler(j,M){return this._parser.registerOscHandler(j,new S.OscHandler(M))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var j;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((j=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||j===void 0)&&j.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);M.hasWidth(this._activeBuffer.x)&&!M.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const j=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-j),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(j=this._bufferService.cols-1){this._activeBuffer.x=Math.min(j,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(j,M){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=j,this._activeBuffer.y=this._activeBuffer.scrollTop+M):(this._activeBuffer.x=j,this._activeBuffer.y=M),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(j,M){this._restrictCursor(),this._setCursor(this._activeBuffer.x+j,this._activeBuffer.y+M)}cursorUp(j){const M=this._activeBuffer.y-this._activeBuffer.scrollTop;return M>=0?this._moveCursor(0,-Math.min(M,j.params[0]||1)):this._moveCursor(0,-(j.params[0]||1)),!0}cursorDown(j){const M=this._activeBuffer.scrollBottom-this._activeBuffer.y;return M>=0?this._moveCursor(0,Math.min(M,j.params[0]||1)):this._moveCursor(0,j.params[0]||1),!0}cursorForward(j){return this._moveCursor(j.params[0]||1,0),!0}cursorBackward(j){return this._moveCursor(-(j.params[0]||1),0),!0}cursorNextLine(j){return this.cursorDown(j),this._activeBuffer.x=0,!0}cursorPrecedingLine(j){return this.cursorUp(j),this._activeBuffer.x=0,!0}cursorCharAbsolute(j){return this._setCursor((j.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(j){return this._setCursor(j.length>=2?(j.params[1]||1)-1:0,(j.params[0]||1)-1),!0}charPosAbsolute(j){return this._setCursor((j.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(j){return this._moveCursor(j.params[0]||1,0),!0}linePosAbsolute(j){return this._setCursor(this._activeBuffer.x,(j.params[0]||1)-1),!0}vPositionRelative(j){return this._moveCursor(0,j.params[0]||1),!0}hVPosition(j){return this.cursorPosition(j),!0}tabClear(j){const M=j.params[0];return M===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:M===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(j){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let M=j.params[0]||1;for(;M--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(j){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let M=j.params[0]||1;for(;M--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(j){const M=j.params[0];return M===1&&(this._curAttrData.bg|=536870912),M!==2&&M!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(j,M,R,z=!1,U=!1){const F=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);F.replaceCells(M,R,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),U),z&&(F.isWrapped=!1)}_resetBufferLine(j,M=!1){const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);R&&(R.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),M),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+j),R.isWrapped=!1)}eraseInDisplay(j,M=!1){let R;switch(this._restrictCursor(this._bufferService.cols),j.params[0]){case 0:for(R=this._activeBuffer.y,this._dirtyRowTracker.markDirty(R),this._eraseInBufferLine(R++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,M);R<this._bufferService.rows;R++)this._resetBufferLine(R,M);this._dirtyRowTracker.markDirty(R);break;case 1:for(R=this._activeBuffer.y,this._dirtyRowTracker.markDirty(R),this._eraseInBufferLine(R,0,this._activeBuffer.x+1,!0,M),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(R+1).isWrapped=!1);R--;)this._resetBufferLine(R,M);this._dirtyRowTracker.markDirty(0);break;case 2:for(R=this._bufferService.rows,this._dirtyRowTracker.markDirty(R-1);R--;)this._resetBufferLine(R,M);this._dirtyRowTracker.markDirty(0);break;case 3:const z=this._activeBuffer.lines.length-this._bufferService.rows;z>0&&(this._activeBuffer.lines.trimStart(z),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-z,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-z,0),this._onScroll.fire(0))}return!0}eraseInLine(j,M=!1){switch(this._restrictCursor(this._bufferService.cols),j.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,M);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,M);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,M)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(j){this._restrictCursor();let M=j.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=this._activeBuffer.ybase+this._activeBuffer.y,z=this._bufferService.rows-1-this._activeBuffer.scrollBottom,U=this._bufferService.rows-1+this._activeBuffer.ybase-z+1;for(;M--;)this._activeBuffer.lines.splice(U-1,1),this._activeBuffer.lines.splice(R,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(j){this._restrictCursor();let M=j.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=this._activeBuffer.ybase+this._activeBuffer.y;let z;for(z=this._bufferService.rows-1-this._activeBuffer.scrollBottom,z=this._bufferService.rows-1+this._activeBuffer.ybase-z;M--;)this._activeBuffer.lines.splice(R,1),this._activeBuffer.lines.splice(z,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(j){this._restrictCursor();const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.insertCells(this._activeBuffer.x,j.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(j){this._restrictCursor();const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.deleteCells(this._activeBuffer.x,j.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(j){let M=j.params[0]||1;for(;M--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(j){let M=j.params[0]||1;for(;M--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(m.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(j){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=j.params[0]||1;for(let R=this._activeBuffer.scrollTop;R<=this._activeBuffer.scrollBottom;++R){const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);z.deleteCells(0,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),z.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(j){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=j.params[0]||1;for(let R=this._activeBuffer.scrollTop;R<=this._activeBuffer.scrollBottom;++R){const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);z.insertCells(0,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),z.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(j){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=j.params[0]||1;for(let R=this._activeBuffer.scrollTop;R<=this._activeBuffer.scrollBottom;++R){const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);z.insertCells(this._activeBuffer.x,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),z.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(j){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=j.params[0]||1;for(let R=this._activeBuffer.scrollTop;R<=this._activeBuffer.scrollBottom;++R){const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);z.deleteCells(this._activeBuffer.x,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),z.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(j){this._restrictCursor();const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(j.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(j){if(!this._parser.precedingCodepoint)return!0;const M=j.params[0]||1,R=new Uint32Array(M);for(let z=0;z<M;++z)R[z]=this._parser.precedingCodepoint;return this.print(R,0,R.length),!0}sendDeviceAttributesPrimary(j){return j.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(h.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(h.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(j){return j.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(h.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(h.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(j.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(h.C0.ESC+"[>83;40003;0c")),!0}_is(j){return(this._optionsService.rawOptions.termName+"").indexOf(j)===0}setMode(j){for(let M=0;M<j.length;M++)switch(j.params[M]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(j){for(let M=0;M<j.length;M++)switch(j.params[M]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,f.DEFAULT_CHARSET),this._charsetService.setgCharset(1,f.DEFAULT_CHARSET),this._charsetService.setgCharset(2,f.DEFAULT_CHARSET),this._charsetService.setgCharset(3,f.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(j){for(let M=0;M<j.length;M++)switch(j.params[M]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(j){for(let M=0;M<j.length;M++)switch(j.params[M]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),j.params[M]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(j,M){const R=this._coreService.decPrivateModes,{activeProtocol:z,activeEncoding:U}=this._coreMouseService,F=this._coreService,{buffers:G,cols:q}=this._bufferService,{active:K,alt:B}=G,W=this._optionsService.rawOptions,Y=me=>me?1:2,Z=j.params[0];return Q=Z,re=M?Z===2?4:Z===4?Y(F.modes.insertMode):Z===12?3:Z===20?Y(W.convertEol):0:Z===1?Y(R.applicationCursorKeys):Z===3?W.windowOptions.setWinLines?q===80?2:q===132?1:0:0:Z===6?Y(R.origin):Z===7?Y(R.wraparound):Z===8?3:Z===9?Y(z==="X10"):Z===12?Y(W.cursorBlink):Z===25?Y(!F.isCursorHidden):Z===45?Y(R.reverseWraparound):Z===66?Y(R.applicationKeypad):Z===67?4:Z===1e3?Y(z==="VT200"):Z===1002?Y(z==="DRAG"):Z===1003?Y(z==="ANY"):Z===1004?Y(R.sendFocus):Z===1005?4:Z===1006?Y(U==="SGR"):Z===1015?4:Z===1016?Y(U==="SGR_PIXELS"):Z===1048?1:Z===47||Z===1047||Z===1049?Y(K===B):Z===2004?Y(R.bracketedPasteMode):0,F.triggerDataEvent(`${h.C0.ESC}[${M?"":"?"}${Q};${re}$y`),!0;var Q,re}_updateAttrColor(j,M,R,z,U){return M===2?(j|=50331648,j&=-16777216,j|=b.AttributeData.fromColorRGB([R,z,U])):M===5&&(j&=-50331904,j|=33554432|255&R),j}_extractColor(j,M,R){const z=[0,0,-1,0,0,0];let U=0,F=0;do{if(z[F+U]=j.params[M+F],j.hasSubParams(M+F)){const G=j.getSubParams(M+F);let q=0;do z[1]===5&&(U=1),z[F+q+1+U]=G[q];while(++q<G.length&&q+F+1+U<z.length);break}if(z[1]===5&&F+U>=2||z[1]===2&&F+U>=5)break;z[1]&&(U=1)}while(++F+M<j.length&&F+U<z.length);for(let G=2;G<z.length;++G)z[G]===-1&&(z[G]=0);switch(z[0]){case 38:R.fg=this._updateAttrColor(R.fg,z[1],z[3],z[4],z[5]);break;case 48:R.bg=this._updateAttrColor(R.bg,z[1],z[3],z[4],z[5]);break;case 58:R.extended=R.extended.clone(),R.extended.underlineColor=this._updateAttrColor(R.extended.underlineColor,z[1],z[3],z[4],z[5])}return F}_processUnderline(j,M){M.extended=M.extended.clone(),(!~j||j>5)&&(j=1),M.extended.underlineStyle=j,M.fg|=268435456,j===0&&(M.fg&=-268435457),M.updateExtended()}_processSGR0(j){j.fg=m.DEFAULT_ATTR_DATA.fg,j.bg=m.DEFAULT_ATTR_DATA.bg,j.extended=j.extended.clone(),j.extended.underlineStyle=0,j.extended.underlineColor&=-67108864,j.updateExtended()}charAttributes(j){if(j.length===1&&j.params[0]===0)return this._processSGR0(this._curAttrData),!0;const M=j.length;let R;const z=this._curAttrData;for(let U=0;U<M;U++)R=j.params[U],R>=30&&R<=37?(z.fg&=-50331904,z.fg|=16777216|R-30):R>=40&&R<=47?(z.bg&=-50331904,z.bg|=16777216|R-40):R>=90&&R<=97?(z.fg&=-50331904,z.fg|=16777224|R-90):R>=100&&R<=107?(z.bg&=-50331904,z.bg|=16777224|R-100):R===0?this._processSGR0(z):R===1?z.fg|=134217728:R===3?z.bg|=67108864:R===4?(z.fg|=268435456,this._processUnderline(j.hasSubParams(U)?j.getSubParams(U)[0]:1,z)):R===5?z.fg|=536870912:R===7?z.fg|=67108864:R===8?z.fg|=1073741824:R===9?z.fg|=2147483648:R===2?z.bg|=134217728:R===21?this._processUnderline(2,z):R===22?(z.fg&=-134217729,z.bg&=-134217729):R===23?z.bg&=-67108865:R===24?(z.fg&=-268435457,this._processUnderline(0,z)):R===25?z.fg&=-536870913:R===27?z.fg&=-67108865:R===28?z.fg&=-1073741825:R===29?z.fg&=2147483647:R===39?(z.fg&=-67108864,z.fg|=16777215&m.DEFAULT_ATTR_DATA.fg):R===49?(z.bg&=-67108864,z.bg|=16777215&m.DEFAULT_ATTR_DATA.bg):R===38||R===48||R===58?U+=this._extractColor(j,U,z):R===53?z.bg|=1073741824:R===55?z.bg&=-1073741825:R===59?(z.extended=z.extended.clone(),z.extended.underlineColor=-1,z.updateExtended()):R===100?(z.fg&=-67108864,z.fg|=16777215&m.DEFAULT_ATTR_DATA.fg,z.bg&=-67108864,z.bg|=16777215&m.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",R);return!0}deviceStatus(j){switch(j.params[0]){case 5:this._coreService.triggerDataEvent(`${h.C0.ESC}[0n`);break;case 6:const M=this._activeBuffer.y+1,R=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${h.C0.ESC}[${M};${R}R`)}return!0}deviceStatusPrivate(j){if(j.params[0]===6){const M=this._activeBuffer.y+1,R=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${h.C0.ESC}[?${M};${R}R`)}return!0}softReset(j){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(j){const M=j.params[0]||1;switch(M){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const R=M%2==1;return this._optionsService.options.cursorBlink=R,!0}setScrollRegion(j){const M=j.params[0]||1;let R;return(j.length<2||(R=j.params[1])>this._bufferService.rows||R===0)&&(R=this._bufferService.rows),R>M&&(this._activeBuffer.scrollTop=M-1,this._activeBuffer.scrollBottom=R-1,this._setCursor(0,0)),!0}windowOptions(j){if(!N(j.params[0],this._optionsService.rawOptions.windowOptions))return!0;const M=j.length>1?j.params[1]:0;switch(j.params[0]){case 14:M!==2&&this._onRequestWindowsOptionsReport.fire(I.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(I.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${h.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:M!==0&&M!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),M!==0&&M!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:M!==0&&M!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),M!==0&&M!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(j){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(j){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(j){return this._windowTitle=j,this._onTitleChange.fire(j),!0}setIconName(j){return this._iconName=j,!0}setOrReportIndexedColor(j){const M=[],R=j.split(";");for(;R.length>1;){const z=R.shift(),U=R.shift();if(/^\d+$/.exec(z)){const F=parseInt(z);if(L(F))if(U==="?")M.push({type:0,index:F});else{const G=(0,C.parseColor)(U);G&&M.push({type:1,index:F,color:G})}}}return M.length&&this._onColor.fire(M),!0}setHyperlink(j){const M=j.split(";");return!(M.length<2)&&(M[1]?this._createHyperlink(M[0],M[1]):!M[0]&&this._finishHyperlink())}_createHyperlink(j,M){this._getCurrentLinkId()&&this._finishHyperlink();const R=j.split(":");let z;const U=R.findIndex(F=>F.startsWith("id="));return U!==-1&&(z=R[U].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:z,uri:M}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(j,M){const R=j.split(";");for(let z=0;z<R.length&&!(M>=this._specialColors.length);++z,++M)if(R[z]==="?")this._onColor.fire([{type:0,index:this._specialColors[M]}]);else{const U=(0,C.parseColor)(R[z]);U&&this._onColor.fire([{type:1,index:this._specialColors[M],color:U}])}return!0}setOrReportFgColor(j){return this._setOrReportSpecialColor(j,0)}setOrReportBgColor(j){return this._setOrReportSpecialColor(j,1)}setOrReportCursorColor(j){return this._setOrReportSpecialColor(j,2)}restoreIndexedColor(j){if(!j)return this._onColor.fire([{type:2}]),!0;const M=[],R=j.split(";");for(let z=0;z<R.length;++z)if(/^\d+$/.exec(R[z])){const U=parseInt(R[z]);L(U)&&M.push({type:2,index:U})}return M.length&&this._onColor.fire(M),!0}restoreFgColor(j){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(j){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(j){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,f.DEFAULT_CHARSET),!0}selectCharset(j){return j.length!==2?(this.selectDefaultCharset(),!0):(j[0]==="/"||this._charsetService.setgCharset(E[j[0]],f.CHARSETS[j[1]]||f.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const j=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,j,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=m.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(j){return this._charsetService.setgLevel(j),!0}screenAlignmentPattern(){const j=new _.CellData;j.content=4194373,j.fg=this._curAttrData.fg,j.bg=this._curAttrData.bg,this._setCursor(0,0);for(let M=0;M<this._bufferService.rows;++M){const R=this._activeBuffer.ybase+this._activeBuffer.y+M,z=this._activeBuffer.lines.get(R);z&&(z.fill(j),z.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(j,M){const R=this._bufferService.buffer,z=this._optionsService.rawOptions;return(U=>(this._coreService.triggerDataEvent(`${h.C0.ESC}${U}${h.C0.ESC}\\`),!0))(j==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:j==='"p'?'P1$r61;1"p':j==="r"?`P1$r${R.scrollTop+1};${R.scrollBottom+1}r`:j==="m"?"P1$r0m":j===" q"?`P1$r${{block:2,underline:4,bar:6}[z.cursorStyle]-(z.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(j,M){this._dirtyRowTracker.markRangeDirty(j,M)}}o.InputHandler=D;let $=class{constructor(O){this._bufferService=O,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(O){O<this.start?this.start=O:O>this.end&&(this.end=O)}markRangeDirty(O,j){O>j&&(P=O,O=j,j=P),O<this.start&&(this.start=O),j>this.end&&(this.end=j)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function L(O){return 0<=O&&O<256}$=c([u(0,w.IBufferService)],$)},844:(s,o)=>{function l(c){for(const u of c)u.dispose();c.length=0}Object.defineProperty(o,"__esModule",{value:!0}),o.getDisposeArrayDisposable=o.disposeArray=o.toDisposable=o.MutableDisposable=o.Disposable=void 0,o.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const c of this._disposables)c.dispose();this._disposables.length=0}register(c){return this._disposables.push(c),c}unregister(c){const u=this._disposables.indexOf(c);u!==-1&&this._disposables.splice(u,1)}},o.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(c){var u;this._isDisposed||c===this._value||((u=this._value)===null||u===void 0||u.dispose(),this._value=c)}clear(){this.value=void 0}dispose(){var c;this._isDisposed=!0,(c=this._value)===null||c===void 0||c.dispose(),this._value=void 0}},o.toDisposable=function(c){return{dispose:c}},o.disposeArray=l,o.getDisposeArrayDisposable=function(c){return{dispose:()=>l(c)}}},1505:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FourKeyMap=o.TwoKeyMap=void 0;class l{constructor(){this._data={}}set(u,h,f){this._data[u]||(this._data[u]={}),this._data[u][h]=f}get(u,h){return this._data[u]?this._data[u][h]:void 0}clear(){this._data={}}}o.TwoKeyMap=l,o.FourKeyMap=class{constructor(){this._data=new l}set(c,u,h,f,p){this._data.get(c,u)||this._data.set(c,u,new l),this._data.get(c,u).set(h,f,p)}get(c,u,h,f){var p;return(p=this._data.get(c,u))===null||p===void 0?void 0:p.get(h,f)}clear(){this._data.clear()}}},6114:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isChromeOS=o.isLinux=o.isWindows=o.isIphone=o.isIpad=o.isMac=o.getSafariVersion=o.isSafari=o.isLegacyEdge=o.isFirefox=o.isNode=void 0,o.isNode=typeof navigator>"u";const l=o.isNode?"node":navigator.userAgent,c=o.isNode?"node":navigator.platform;o.isFirefox=l.includes("Firefox"),o.isLegacyEdge=l.includes("Edge"),o.isSafari=/^((?!chrome|android).)*safari/i.test(l),o.getSafariVersion=function(){if(!o.isSafari)return 0;const u=l.match(/Version\/(\d+)/);return u===null||u.length<2?0:parseInt(u[1])},o.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(c),o.isIpad=c==="iPad",o.isIphone=c==="iPhone",o.isWindows=["Windows","Win16","Win32","WinCE"].includes(c),o.isLinux=c.indexOf("Linux")>=0,o.isChromeOS=/\bCrOS\b/.test(l)},6106:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SortedList=void 0;let l=0;o.SortedList=class{constructor(c){this._getKey=c,this._array=[]}clear(){this._array.length=0}insert(c){this._array.length!==0?(l=this._search(this._getKey(c)),this._array.splice(l,0,c)):this._array.push(c)}delete(c){if(this._array.length===0)return!1;const u=this._getKey(c);if(u===void 0||(l=this._search(u),l===-1)||this._getKey(this._array[l])!==u)return!1;do if(this._array[l]===c)return this._array.splice(l,1),!0;while(++l<this._array.length&&this._getKey(this._array[l])===u);return!1}*getKeyIterator(c){if(this._array.length!==0&&(l=this._search(c),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===c))do yield this._array[l];while(++l<this._array.length&&this._getKey(this._array[l])===c)}forEachByKey(c,u){if(this._array.length!==0&&(l=this._search(c),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===c))do u(this._array[l]);while(++l<this._array.length&&this._getKey(this._array[l])===c)}values(){return[...this._array].values()}_search(c){let u=0,h=this._array.length-1;for(;h>=u;){let f=u+h>>1;const p=this._getKey(this._array[f]);if(p>c)h=f-1;else{if(!(p<c)){for(;f>0&&this._getKey(this._array[f-1])===c;)f--;return f}u=f+1}}return u}}},7226:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DebouncedIdleTask=o.IdleTaskQueue=o.PriorityTaskQueue=void 0;const c=l(6114);class u{constructor(){this._tasks=[],this._i=0}enqueue(p){this._tasks.push(p),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(p){this._idleCallback=void 0;let g=0,v=0,m=p.timeRemaining(),y=0;for(;this._i<this._tasks.length;){if(g=Date.now(),this._tasks[this._i]()||this._i++,g=Math.max(1,Date.now()-g),v=Math.max(g,v),y=p.timeRemaining(),1.5*v>y)return m-g<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(m-g))}ms`),void this._start();m=y}this.clear()}}class h extends u{_requestCallback(p){return setTimeout(()=>p(this._createDeadline(16)))}_cancelCallback(p){clearTimeout(p)}_createDeadline(p){const g=Date.now()+p;return{timeRemaining:()=>Math.max(0,g-Date.now())}}}o.PriorityTaskQueue=h,o.IdleTaskQueue=!c.isNode&&"requestIdleCallback"in window?class extends u{_requestCallback(f){return requestIdleCallback(f)}_cancelCallback(f){cancelIdleCallback(f)}}:h,o.DebouncedIdleTask=class{constructor(){this._queue=new o.IdleTaskQueue}set(f){this._queue.clear(),this._queue.enqueue(f)}flush(){this._queue.flush()}}},9282:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.updateWindowsModeWrappedState=void 0;const c=l(643);o.updateWindowsModeWrappedState=function(u){const h=u.buffer.lines.get(u.buffer.ybase+u.buffer.y-1),f=h==null?void 0:h.get(u.cols-1),p=u.buffer.lines.get(u.buffer.ybase+u.buffer.y);p&&f&&(p.isWrapped=f[c.CHAR_DATA_CODE_INDEX]!==c.NULL_CELL_CODE&&f[c.CHAR_DATA_CODE_INDEX]!==c.WHITESPACE_CELL_CODE)}},3734:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ExtendedAttrs=o.AttributeData=void 0;class l{constructor(){this.fg=0,this.bg=0,this.extended=new c}static toColorRGB(h){return[h>>>16&255,h>>>8&255,255&h]}static fromColorRGB(h){return(255&h[0])<<16|(255&h[1])<<8|255&h[2]}clone(){const h=new l;return h.fg=this.fg,h.bg=this.bg,h.extended=this.extended.clone(),h}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}o.AttributeData=l;class c{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(h){this._ext=h}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(h){this._ext&=-469762049,this._ext|=h<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(h){this._ext&=-67108864,this._ext|=67108863&h}get urlId(){return this._urlId}set urlId(h){this._urlId=h}constructor(h=0,f=0){this._ext=0,this._urlId=0,this._ext=h,this._urlId=f}clone(){return new c(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}o.ExtendedAttrs=c},9092:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Buffer=o.MAX_BUFFER_SIZE=void 0;const c=l(6349),u=l(7226),h=l(3734),f=l(8437),p=l(4634),g=l(511),v=l(643),m=l(4863),y=l(7116);o.MAX_BUFFER_SIZE=4294967295,o.Buffer=class{constructor(x,_,b){this._hasScrollback=x,this._optionsService=_,this._bufferService=b,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=f.DEFAULT_ATTR_DATA.clone(),this.savedCharset=y.DEFAULT_CHARSET,this.markers=[],this._nullCell=g.CellData.fromCharData([0,v.NULL_CELL_CHAR,v.NULL_CELL_WIDTH,v.NULL_CELL_CODE]),this._whitespaceCell=g.CellData.fromCharData([0,v.WHITESPACE_CELL_CHAR,v.WHITESPACE_CELL_WIDTH,v.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new u.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new c.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(x){return x?(this._nullCell.fg=x.fg,this._nullCell.bg=x.bg,this._nullCell.extended=x.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new h.ExtendedAttrs),this._nullCell}getWhitespaceCell(x){return x?(this._whitespaceCell.fg=x.fg,this._whitespaceCell.bg=x.bg,this._whitespaceCell.extended=x.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new h.ExtendedAttrs),this._whitespaceCell}getBlankLine(x,_){return new f.BufferLine(this._bufferService.cols,this.getNullCell(x),_)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const x=this.ybase+this.y-this.ydisp;return x>=0&&x<this._rows}_getCorrectBufferLength(x){if(!this._hasScrollback)return x;const _=x+this._optionsService.rawOptions.scrollback;return _>o.MAX_BUFFER_SIZE?o.MAX_BUFFER_SIZE:_}fillViewportRows(x){if(this.lines.length===0){x===void 0&&(x=f.DEFAULT_ATTR_DATA);let _=this._rows;for(;_--;)this.lines.push(this.getBlankLine(x))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new c.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(x,_){const b=this.getNullCell(f.DEFAULT_ATTR_DATA);let w=0;const S=this._getCorrectBufferLength(_);if(S>this.lines.maxLength&&(this.lines.maxLength=S),this.lines.length>0){if(this._cols<x)for(let C=0;C<this.lines.length;C++)w+=+this.lines.get(C).resize(x,b);let k=0;if(this._rows<_)for(let C=this._rows;C<_;C++)this.lines.length<_+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new f.BufferLine(x,b)):this.ybase>0&&this.lines.length<=this.ybase+this.y+k+1?(this.ybase--,k++,this.ydisp>0&&this.ydisp--):this.lines.push(new f.BufferLine(x,b)));else for(let C=this._rows;C>_;C--)this.lines.length>_+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(S<this.lines.maxLength){const C=this.lines.length-S;C>0&&(this.lines.trimStart(C),this.ybase=Math.max(this.ybase-C,0),this.ydisp=Math.max(this.ydisp-C,0),this.savedY=Math.max(this.savedY-C,0)),this.lines.maxLength=S}this.x=Math.min(this.x,x-1),this.y=Math.min(this.y,_-1),k&&(this.y+=k),this.savedX=Math.min(this.savedX,x-1),this.scrollTop=0}if(this.scrollBottom=_-1,this._isReflowEnabled&&(this._reflow(x,_),this._cols>x))for(let k=0;k<this.lines.length;k++)w+=+this.lines.get(k).resize(x,b);this._cols=x,this._rows=_,this._memoryCleanupQueue.clear(),w>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let x=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,x=!1);let _=0;for(;this._memoryCleanupPosition<this.lines.length;)if(_+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),_>100)return!0;return x}get _isReflowEnabled(){const x=this._optionsService.rawOptions.windowsPty;return x&&x.buildNumber?this._hasScrollback&&x.backend==="conpty"&&x.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(x,_){this._cols!==x&&(x>this._cols?this._reflowLarger(x,_):this._reflowSmaller(x,_))}_reflowLarger(x,_){const b=(0,p.reflowLargerGetLinesToRemove)(this.lines,this._cols,x,this.ybase+this.y,this.getNullCell(f.DEFAULT_ATTR_DATA));if(b.length>0){const w=(0,p.reflowLargerCreateNewLayout)(this.lines,b);(0,p.reflowLargerApplyNewLayout)(this.lines,w.layout),this._reflowLargerAdjustViewport(x,_,w.countRemoved)}}_reflowLargerAdjustViewport(x,_,b){const w=this.getNullCell(f.DEFAULT_ATTR_DATA);let S=b;for(;S-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<_&&this.lines.push(new f.BufferLine(x,w))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-b,0)}_reflowSmaller(x,_){const b=this.getNullCell(f.DEFAULT_ATTR_DATA),w=[];let S=0;for(let k=this.lines.length-1;k>=0;k--){let C=this.lines.get(k);if(!C||!C.isWrapped&&C.getTrimmedLength()<=x)continue;const E=[C];for(;C.isWrapped&&k>0;)C=this.lines.get(--k),E.unshift(C);const T=this.ybase+this.y;if(T>=k&&T<k+E.length)continue;const N=E[E.length-1].getTrimmedLength(),I=(0,p.reflowSmallerGetNewLineLengths)(E,this._cols,x),P=I.length-E.length;let D;D=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+P):Math.max(0,this.lines.length-this.lines.maxLength+P);const $=[];for(let z=0;z<P;z++){const U=this.getBlankLine(f.DEFAULT_ATTR_DATA,!0);$.push(U)}$.length>0&&(w.push({start:k+E.length+S,newLines:$}),S+=$.length),E.push(...$);let L=I.length-1,O=I[L];O===0&&(L--,O=I[L]);let j=E.length-P-1,M=N;for(;j>=0;){const z=Math.min(M,O);if(E[L]===void 0)break;if(E[L].copyCellsFrom(E[j],M-z,O-z,z,!0),O-=z,O===0&&(L--,O=I[L]),M-=z,M===0){j--;const U=Math.max(j,0);M=(0,p.getWrappedLineTrimmedLength)(E,U,this._cols)}}for(let z=0;z<E.length;z++)I[z]<x&&E[z].setCell(I[z],b);let R=P-D;for(;R-- >0;)this.ybase===0?this.y<_-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+S)-_&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+P,this.ybase+_-1)}if(w.length>0){const k=[],C=[];for(let L=0;L<this.lines.length;L++)C.push(this.lines.get(L));const E=this.lines.length;let T=E-1,N=0,I=w[N];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+S);let P=0;for(let L=Math.min(this.lines.maxLength-1,E+S-1);L>=0;L--)if(I&&I.start>T+P){for(let O=I.newLines.length-1;O>=0;O--)this.lines.set(L--,I.newLines[O]);L++,k.push({index:T+1,amount:I.newLines.length}),P+=I.newLines.length,I=w[++N]}else this.lines.set(L,C[T--]);let D=0;for(let L=k.length-1;L>=0;L--)k[L].index+=D,this.lines.onInsertEmitter.fire(k[L]),D+=k[L].amount;const $=Math.max(0,E+S-this.lines.maxLength);$>0&&this.lines.onTrimEmitter.fire($)}}translateBufferLineToString(x,_,b=0,w){const S=this.lines.get(x);return S?S.translateToString(_,b,w):""}getWrappedRangeForLine(x){let _=x,b=x;for(;_>0&&this.lines.get(_).isWrapped;)_--;for(;b+1<this.lines.length&&this.lines.get(b+1).isWrapped;)b++;return{first:_,last:b}}setupTabStops(x){for(x!=null?this.tabs[x]||(x=this.prevStop(x)):(this.tabs={},x=0);x<this._cols;x+=this._optionsService.rawOptions.tabStopWidth)this.tabs[x]=!0}prevStop(x){for(x==null&&(x=this.x);!this.tabs[--x]&&x>0;);return x>=this._cols?this._cols-1:x<0?0:x}nextStop(x){for(x==null&&(x=this.x);!this.tabs[++x]&&x<this._cols;);return x>=this._cols?this._cols-1:x<0?0:x}clearMarkers(x){this._isClearing=!0;for(let _=0;_<this.markers.length;_++)this.markers[_].line===x&&(this.markers[_].dispose(),this.markers.splice(_--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let x=0;x<this.markers.length;x++)this.markers[x].dispose(),this.markers.splice(x--,1);this._isClearing=!1}addMarker(x){const _=new m.Marker(x);return this.markers.push(_),_.register(this.lines.onTrim(b=>{_.line-=b,_.line<0&&_.dispose()})),_.register(this.lines.onInsert(b=>{_.line>=b.index&&(_.line+=b.amount)})),_.register(this.lines.onDelete(b=>{_.line>=b.index&&_.line<b.index+b.amount&&_.dispose(),_.line>b.index&&(_.line-=b.amount)})),_.register(_.onDispose(()=>this._removeMarker(_))),_}_removeMarker(x){this._isClearing||this.markers.splice(this.markers.indexOf(x),1)}}},8437:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLine=o.DEFAULT_ATTR_DATA=void 0;const c=l(3734),u=l(511),h=l(643),f=l(482);o.DEFAULT_ATTR_DATA=Object.freeze(new c.AttributeData);let p=0;class g{constructor(m,y,x=!1){this.isWrapped=x,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*m);const _=y||u.CellData.fromCharData([0,h.NULL_CELL_CHAR,h.NULL_CELL_WIDTH,h.NULL_CELL_CODE]);for(let b=0;b<m;++b)this.setCell(b,_);this.length=m}get(m){const y=this._data[3*m+0],x=2097151&y;return[this._data[3*m+1],2097152&y?this._combined[m]:x?(0,f.stringFromCodePoint)(x):"",y>>22,2097152&y?this._combined[m].charCodeAt(this._combined[m].length-1):x]}set(m,y){this._data[3*m+1]=y[h.CHAR_DATA_ATTR_INDEX],y[h.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[m]=y[1],this._data[3*m+0]=2097152|m|y[h.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*m+0]=y[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|y[h.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(m){return this._data[3*m+0]>>22}hasWidth(m){return 12582912&this._data[3*m+0]}getFg(m){return this._data[3*m+1]}getBg(m){return this._data[3*m+2]}hasContent(m){return 4194303&this._data[3*m+0]}getCodePoint(m){const y=this._data[3*m+0];return 2097152&y?this._combined[m].charCodeAt(this._combined[m].length-1):2097151&y}isCombined(m){return 2097152&this._data[3*m+0]}getString(m){const y=this._data[3*m+0];return 2097152&y?this._combined[m]:2097151&y?(0,f.stringFromCodePoint)(2097151&y):""}isProtected(m){return 536870912&this._data[3*m+2]}loadCell(m,y){return p=3*m,y.content=this._data[p+0],y.fg=this._data[p+1],y.bg=this._data[p+2],2097152&y.content&&(y.combinedData=this._combined[m]),268435456&y.bg&&(y.extended=this._extendedAttrs[m]),y}setCell(m,y){2097152&y.content&&(this._combined[m]=y.combinedData),268435456&y.bg&&(this._extendedAttrs[m]=y.extended),this._data[3*m+0]=y.content,this._data[3*m+1]=y.fg,this._data[3*m+2]=y.bg}setCellFromCodePoint(m,y,x,_,b,w){268435456&b&&(this._extendedAttrs[m]=w),this._data[3*m+0]=y|x<<22,this._data[3*m+1]=_,this._data[3*m+2]=b}addCodepointToCell(m,y){let x=this._data[3*m+0];2097152&x?this._combined[m]+=(0,f.stringFromCodePoint)(y):(2097151&x?(this._combined[m]=(0,f.stringFromCodePoint)(2097151&x)+(0,f.stringFromCodePoint)(y),x&=-2097152,x|=2097152):x=y|4194304,this._data[3*m+0]=x)}insertCells(m,y,x,_){if((m%=this.length)&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),y<this.length-m){const b=new u.CellData;for(let w=this.length-m-y-1;w>=0;--w)this.setCell(m+y+w,this.loadCell(m+w,b));for(let w=0;w<y;++w)this.setCell(m+w,x)}else for(let b=m;b<this.length;++b)this.setCell(b,x);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs)}deleteCells(m,y,x,_){if(m%=this.length,y<this.length-m){const b=new u.CellData;for(let w=0;w<this.length-m-y;++w)this.setCell(m+w,this.loadCell(m+y+w,b));for(let w=this.length-y;w<this.length;++w)this.setCell(w,x)}else for(let b=m;b<this.length;++b)this.setCell(b,x);m&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),this.getWidth(m)!==0||this.hasContent(m)||this.setCellFromCodePoint(m,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs)}replaceCells(m,y,x,_,b=!1){if(b)for(m&&this.getWidth(m-1)===2&&!this.isProtected(m-1)&&this.setCellFromCodePoint(m-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),y<this.length&&this.getWidth(y-1)===2&&!this.isProtected(y)&&this.setCellFromCodePoint(y,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs);m<y&&m<this.length;)this.isProtected(m)||this.setCell(m,x),m++;else for(m&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),y<this.length&&this.getWidth(y-1)===2&&this.setCellFromCodePoint(y,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs);m<y&&m<this.length;)this.setCell(m++,x)}resize(m,y){if(m===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const x=3*m;if(m>this.length){if(this._data.buffer.byteLength>=4*x)this._data=new Uint32Array(this._data.buffer,0,x);else{const _=new Uint32Array(x);_.set(this._data),this._data=_}for(let _=this.length;_<m;++_)this.setCell(_,y)}else{this._data=this._data.subarray(0,x);const _=Object.keys(this._combined);for(let w=0;w<_.length;w++){const S=parseInt(_[w],10);S>=m&&delete this._combined[S]}const b=Object.keys(this._extendedAttrs);for(let w=0;w<b.length;w++){const S=parseInt(b[w],10);S>=m&&delete this._extendedAttrs[S]}}return this.length=m,4*x*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const m=new Uint32Array(this._data.length);return m.set(this._data),this._data=m,1}return 0}fill(m,y=!1){if(y)for(let x=0;x<this.length;++x)this.isProtected(x)||this.setCell(x,m);else{this._combined={},this._extendedAttrs={};for(let x=0;x<this.length;++x)this.setCell(x,m)}}copyFrom(m){this.length!==m.length?this._data=new Uint32Array(m._data):this._data.set(m._data),this.length=m.length,this._combined={};for(const y in m._combined)this._combined[y]=m._combined[y];this._extendedAttrs={};for(const y in m._extendedAttrs)this._extendedAttrs[y]=m._extendedAttrs[y];this.isWrapped=m.isWrapped}clone(){const m=new g(0);m._data=new Uint32Array(this._data),m.length=this.length;for(const y in this._combined)m._combined[y]=this._combined[y];for(const y in this._extendedAttrs)m._extendedAttrs[y]=this._extendedAttrs[y];return m.isWrapped=this.isWrapped,m}getTrimmedLength(){for(let m=this.length-1;m>=0;--m)if(4194303&this._data[3*m+0])return m+(this._data[3*m+0]>>22);return 0}getNoBgTrimmedLength(){for(let m=this.length-1;m>=0;--m)if(4194303&this._data[3*m+0]||50331648&this._data[3*m+2])return m+(this._data[3*m+0]>>22);return 0}copyCellsFrom(m,y,x,_,b){const w=m._data;if(b)for(let k=_-1;k>=0;k--){for(let C=0;C<3;C++)this._data[3*(x+k)+C]=w[3*(y+k)+C];268435456&w[3*(y+k)+2]&&(this._extendedAttrs[x+k]=m._extendedAttrs[y+k])}else for(let k=0;k<_;k++){for(let C=0;C<3;C++)this._data[3*(x+k)+C]=w[3*(y+k)+C];268435456&w[3*(y+k)+2]&&(this._extendedAttrs[x+k]=m._extendedAttrs[y+k])}const S=Object.keys(m._combined);for(let k=0;k<S.length;k++){const C=parseInt(S[k],10);C>=y&&(this._combined[C-y+x]=m._combined[C])}}translateToString(m=!1,y=0,x=this.length){m&&(x=Math.min(x,this.getTrimmedLength()));let _="";for(;y<x;){const b=this._data[3*y+0],w=2097151&b;_+=2097152&b?this._combined[y]:w?(0,f.stringFromCodePoint)(w):h.WHITESPACE_CELL_CHAR,y+=b>>22||1}return _}}o.BufferLine=g},4841:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getRangeLength=void 0,o.getRangeLength=function(l,c){if(l.start.y>l.end.y)throw new Error(`Buffer range end (${l.end.x}, ${l.end.y}) cannot be before start (${l.start.x}, ${l.start.y})`);return c*(l.end.y-l.start.y)+(l.end.x-l.start.x+1)}},4634:(s,o)=>{function l(c,u,h){if(u===c.length-1)return c[u].getTrimmedLength();const f=!c[u].hasContent(h-1)&&c[u].getWidth(h-1)===1,p=c[u+1].getWidth(0)===2;return f&&p?h-1:h}Object.defineProperty(o,"__esModule",{value:!0}),o.getWrappedLineTrimmedLength=o.reflowSmallerGetNewLineLengths=o.reflowLargerApplyNewLayout=o.reflowLargerCreateNewLayout=o.reflowLargerGetLinesToRemove=void 0,o.reflowLargerGetLinesToRemove=function(c,u,h,f,p){const g=[];for(let v=0;v<c.length-1;v++){let m=v,y=c.get(++m);if(!y.isWrapped)continue;const x=[c.get(v)];for(;m<c.length&&y.isWrapped;)x.push(y),y=c.get(++m);if(f>=v&&f<m){v+=x.length-1;continue}let _=0,b=l(x,_,u),w=1,S=0;for(;w<x.length;){const C=l(x,w,u),E=C-S,T=h-b,N=Math.min(E,T);x[_].copyCellsFrom(x[w],S,b,N,!1),b+=N,b===h&&(_++,b=0),S+=N,S===C&&(w++,S=0),b===0&&_!==0&&x[_-1].getWidth(h-1)===2&&(x[_].copyCellsFrom(x[_-1],h-1,b++,1,!1),x[_-1].setCell(h-1,p))}x[_].replaceCells(b,h,p);let k=0;for(let C=x.length-1;C>0&&(C>_||x[C].getTrimmedLength()===0);C--)k++;k>0&&(g.push(v+x.length-k),g.push(k)),v+=x.length-1}return g},o.reflowLargerCreateNewLayout=function(c,u){const h=[];let f=0,p=u[f],g=0;for(let v=0;v<c.length;v++)if(p===v){const m=u[++f];c.onDeleteEmitter.fire({index:v-g,amount:m}),v+=m-1,g+=m,p=u[++f]}else h.push(v);return{layout:h,countRemoved:g}},o.reflowLargerApplyNewLayout=function(c,u){const h=[];for(let f=0;f<u.length;f++)h.push(c.get(u[f]));for(let f=0;f<h.length;f++)c.set(f,h[f]);c.length=u.length},o.reflowSmallerGetNewLineLengths=function(c,u,h){const f=[],p=c.map((y,x)=>l(c,x,u)).reduce((y,x)=>y+x);let g=0,v=0,m=0;for(;m<p;){if(p-m<h){f.push(p-m);break}g+=h;const y=l(c,v,u);g>y&&(g-=y,v++);const x=c[v].getWidth(g-1)===2;x&&g--;const _=x?h-1:h;f.push(_),m+=_}return f},o.getWrappedLineTrimmedLength=l},5295:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferSet=void 0;const c=l(8460),u=l(844),h=l(9092);class f extends u.Disposable{constructor(g,v){super(),this._optionsService=g,this._bufferService=v,this._onBufferActivate=this.register(new c.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new h.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new h.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(g){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(g),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(g,v){this._normal.resize(g,v),this._alt.resize(g,v),this.setupTabStops(g)}setupTabStops(g){this._normal.setupTabStops(g),this._alt.setupTabStops(g)}}o.BufferSet=f},511:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CellData=void 0;const c=l(482),u=l(643),h=l(3734);class f extends h.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new h.ExtendedAttrs,this.combinedData=""}static fromCharData(g){const v=new f;return v.setFromCharData(g),v}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,c.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(g){this.fg=g[u.CHAR_DATA_ATTR_INDEX],this.bg=0;let v=!1;if(g[u.CHAR_DATA_CHAR_INDEX].length>2)v=!0;else if(g[u.CHAR_DATA_CHAR_INDEX].length===2){const m=g[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=m&&m<=56319){const y=g[u.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=y&&y<=57343?this.content=1024*(m-55296)+y-56320+65536|g[u.CHAR_DATA_WIDTH_INDEX]<<22:v=!0}else v=!0}else this.content=g[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|g[u.CHAR_DATA_WIDTH_INDEX]<<22;v&&(this.combinedData=g[u.CHAR_DATA_CHAR_INDEX],this.content=2097152|g[u.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.CellData=f},643:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WHITESPACE_CELL_CODE=o.WHITESPACE_CELL_WIDTH=o.WHITESPACE_CELL_CHAR=o.NULL_CELL_CODE=o.NULL_CELL_WIDTH=o.NULL_CELL_CHAR=o.CHAR_DATA_CODE_INDEX=o.CHAR_DATA_WIDTH_INDEX=o.CHAR_DATA_CHAR_INDEX=o.CHAR_DATA_ATTR_INDEX=o.DEFAULT_EXT=o.DEFAULT_ATTR=o.DEFAULT_COLOR=void 0,o.DEFAULT_COLOR=0,o.DEFAULT_ATTR=256|o.DEFAULT_COLOR<<9,o.DEFAULT_EXT=0,o.CHAR_DATA_ATTR_INDEX=0,o.CHAR_DATA_CHAR_INDEX=1,o.CHAR_DATA_WIDTH_INDEX=2,o.CHAR_DATA_CODE_INDEX=3,o.NULL_CELL_CHAR="",o.NULL_CELL_WIDTH=1,o.NULL_CELL_CODE=0,o.WHITESPACE_CELL_CHAR=" ",o.WHITESPACE_CELL_WIDTH=1,o.WHITESPACE_CELL_CODE=32},4863:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Marker=void 0;const c=l(8460),u=l(844);class h{get id(){return this._id}constructor(p){this.line=p,this.isDisposed=!1,this._disposables=[],this._id=h._nextId++,this._onDispose=this.register(new c.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,u.disposeArray)(this._disposables),this._disposables.length=0)}register(p){return this._disposables.push(p),p}}o.Marker=h,h._nextId=1},7116:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DEFAULT_CHARSET=o.CHARSETS=void 0,o.CHARSETS={},o.DEFAULT_CHARSET=o.CHARSETS.B,o.CHARSETS[0]={"`":"◆",a:"▒",b:"␉",c:"␌",d:"␍",e:"␊",f:"°",g:"±",h:"␤",i:"␋",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},o.CHARSETS.A={"#":"£"},o.CHARSETS.B=void 0,o.CHARSETS[4]={"#":"£","@":"¾","[":"ij","\\":"½","]":"|","{":"¨","|":"f","}":"¼","~":"´"},o.CHARSETS.C=o.CHARSETS[5]={"[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},o.CHARSETS.R={"#":"£","@":"à","[":"°","\\":"ç","]":"§","{":"é","|":"ù","}":"è","~":"¨"},o.CHARSETS.Q={"@":"à","[":"â","\\":"ç","]":"ê","^":"î","`":"ô","{":"é","|":"ù","}":"è","~":"û"},o.CHARSETS.K={"@":"§","[":"Ä","\\":"Ö","]":"Ü","{":"ä","|":"ö","}":"ü","~":"ß"},o.CHARSETS.Y={"#":"£","@":"§","[":"°","\\":"ç","]":"é","`":"ù","{":"à","|":"ò","}":"è","~":"ì"},o.CHARSETS.E=o.CHARSETS[6]={"@":"Ä","[":"Æ","\\":"Ø","]":"Å","^":"Ü","`":"ä","{":"æ","|":"ø","}":"å","~":"ü"},o.CHARSETS.Z={"#":"£","@":"§","[":"¡","\\":"Ñ","]":"¿","{":"°","|":"ñ","}":"ç"},o.CHARSETS.H=o.CHARSETS[7]={"@":"É","[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},o.CHARSETS["="]={"#":"ù","@":"à","[":"é","\\":"ç","]":"ê","^":"î",_:"è","`":"ô","{":"ä","|":"ö","}":"ü","~":"û"}},2584:(s,o)=>{var l,c,u;Object.defineProperty(o,"__esModule",{value:!0}),o.C1_ESCAPED=o.C1=o.C0=void 0,function(h){h.NUL="\0",h.SOH="",h.STX="",h.ETX="",h.EOT="",h.ENQ="",h.ACK="",h.BEL="\x07",h.BS="\b",h.HT="	",h.LF=`
`,h.VT="\v",h.FF="\f",h.CR="\r",h.SO="",h.SI="",h.DLE="",h.DC1="",h.DC2="",h.DC3="",h.DC4="",h.NAK="",h.SYN="",h.ETB="",h.CAN="",h.EM="",h.SUB="",h.ESC="\x1B",h.FS="",h.GS="",h.RS="",h.US="",h.SP=" ",h.DEL=""}(l||(o.C0=l={})),function(h){h.PAD="",h.HOP="",h.BPH="",h.NBH="",h.IND="",h.NEL="",h.SSA="",h.ESA="",h.HTS="",h.HTJ="",h.VTS="",h.PLD="",h.PLU="",h.RI="",h.SS2="",h.SS3="",h.DCS="",h.PU1="",h.PU2="",h.STS="",h.CCH="",h.MW="",h.SPA="",h.EPA="",h.SOS="",h.SGCI="",h.SCI="",h.CSI="",h.ST="",h.OSC="",h.PM="",h.APC=""}(c||(o.C1=c={})),function(h){h.ST=`${l.ESC}\\`}(u||(o.C1_ESCAPED=u={}))},7399:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.evaluateKeyboardEvent=void 0;const c=l(2584),u={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};o.evaluateKeyboardEvent=function(h,f,p,g){const v={type:0,cancel:!1,key:void 0},m=(h.shiftKey?1:0)|(h.altKey?2:0)|(h.ctrlKey?4:0)|(h.metaKey?8:0);switch(h.keyCode){case 0:h.key==="UIKeyInputUpArrow"?v.key=f?c.C0.ESC+"OA":c.C0.ESC+"[A":h.key==="UIKeyInputLeftArrow"?v.key=f?c.C0.ESC+"OD":c.C0.ESC+"[D":h.key==="UIKeyInputRightArrow"?v.key=f?c.C0.ESC+"OC":c.C0.ESC+"[C":h.key==="UIKeyInputDownArrow"&&(v.key=f?c.C0.ESC+"OB":c.C0.ESC+"[B");break;case 8:if(h.altKey){v.key=c.C0.ESC+c.C0.DEL;break}v.key=c.C0.DEL;break;case 9:if(h.shiftKey){v.key=c.C0.ESC+"[Z";break}v.key=c.C0.HT,v.cancel=!0;break;case 13:v.key=h.altKey?c.C0.ESC+c.C0.CR:c.C0.CR,v.cancel=!0;break;case 27:v.key=c.C0.ESC,h.altKey&&(v.key=c.C0.ESC+c.C0.ESC),v.cancel=!0;break;case 37:if(h.metaKey)break;m?(v.key=c.C0.ESC+"[1;"+(m+1)+"D",v.key===c.C0.ESC+"[1;3D"&&(v.key=c.C0.ESC+(p?"b":"[1;5D"))):v.key=f?c.C0.ESC+"OD":c.C0.ESC+"[D";break;case 39:if(h.metaKey)break;m?(v.key=c.C0.ESC+"[1;"+(m+1)+"C",v.key===c.C0.ESC+"[1;3C"&&(v.key=c.C0.ESC+(p?"f":"[1;5C"))):v.key=f?c.C0.ESC+"OC":c.C0.ESC+"[C";break;case 38:if(h.metaKey)break;m?(v.key=c.C0.ESC+"[1;"+(m+1)+"A",p||v.key!==c.C0.ESC+"[1;3A"||(v.key=c.C0.ESC+"[1;5A")):v.key=f?c.C0.ESC+"OA":c.C0.ESC+"[A";break;case 40:if(h.metaKey)break;m?(v.key=c.C0.ESC+"[1;"+(m+1)+"B",p||v.key!==c.C0.ESC+"[1;3B"||(v.key=c.C0.ESC+"[1;5B")):v.key=f?c.C0.ESC+"OB":c.C0.ESC+"[B";break;case 45:h.shiftKey||h.ctrlKey||(v.key=c.C0.ESC+"[2~");break;case 46:v.key=m?c.C0.ESC+"[3;"+(m+1)+"~":c.C0.ESC+"[3~";break;case 36:v.key=m?c.C0.ESC+"[1;"+(m+1)+"H":f?c.C0.ESC+"OH":c.C0.ESC+"[H";break;case 35:v.key=m?c.C0.ESC+"[1;"+(m+1)+"F":f?c.C0.ESC+"OF":c.C0.ESC+"[F";break;case 33:h.shiftKey?v.type=2:h.ctrlKey?v.key=c.C0.ESC+"[5;"+(m+1)+"~":v.key=c.C0.ESC+"[5~";break;case 34:h.shiftKey?v.type=3:h.ctrlKey?v.key=c.C0.ESC+"[6;"+(m+1)+"~":v.key=c.C0.ESC+"[6~";break;case 112:v.key=m?c.C0.ESC+"[1;"+(m+1)+"P":c.C0.ESC+"OP";break;case 113:v.key=m?c.C0.ESC+"[1;"+(m+1)+"Q":c.C0.ESC+"OQ";break;case 114:v.key=m?c.C0.ESC+"[1;"+(m+1)+"R":c.C0.ESC+"OR";break;case 115:v.key=m?c.C0.ESC+"[1;"+(m+1)+"S":c.C0.ESC+"OS";break;case 116:v.key=m?c.C0.ESC+"[15;"+(m+1)+"~":c.C0.ESC+"[15~";break;case 117:v.key=m?c.C0.ESC+"[17;"+(m+1)+"~":c.C0.ESC+"[17~";break;case 118:v.key=m?c.C0.ESC+"[18;"+(m+1)+"~":c.C0.ESC+"[18~";break;case 119:v.key=m?c.C0.ESC+"[19;"+(m+1)+"~":c.C0.ESC+"[19~";break;case 120:v.key=m?c.C0.ESC+"[20;"+(m+1)+"~":c.C0.ESC+"[20~";break;case 121:v.key=m?c.C0.ESC+"[21;"+(m+1)+"~":c.C0.ESC+"[21~";break;case 122:v.key=m?c.C0.ESC+"[23;"+(m+1)+"~":c.C0.ESC+"[23~";break;case 123:v.key=m?c.C0.ESC+"[24;"+(m+1)+"~":c.C0.ESC+"[24~";break;default:if(!h.ctrlKey||h.shiftKey||h.altKey||h.metaKey)if(p&&!g||!h.altKey||h.metaKey)!p||h.altKey||h.ctrlKey||h.shiftKey||!h.metaKey?h.key&&!h.ctrlKey&&!h.altKey&&!h.metaKey&&h.keyCode>=48&&h.key.length===1?v.key=h.key:h.key&&h.ctrlKey&&(h.key==="_"&&(v.key=c.C0.US),h.key==="@"&&(v.key=c.C0.NUL)):h.keyCode===65&&(v.type=1);else{const y=u[h.keyCode],x=y==null?void 0:y[h.shiftKey?1:0];if(x)v.key=c.C0.ESC+x;else if(h.keyCode>=65&&h.keyCode<=90){const _=h.ctrlKey?h.keyCode-64:h.keyCode+32;let b=String.fromCharCode(_);h.shiftKey&&(b=b.toUpperCase()),v.key=c.C0.ESC+b}else if(h.keyCode===32)v.key=c.C0.ESC+(h.ctrlKey?c.C0.NUL:" ");else if(h.key==="Dead"&&h.code.startsWith("Key")){let _=h.code.slice(3,4);h.shiftKey||(_=_.toLowerCase()),v.key=c.C0.ESC+_,v.cancel=!0}}else h.keyCode>=65&&h.keyCode<=90?v.key=String.fromCharCode(h.keyCode-64):h.keyCode===32?v.key=c.C0.NUL:h.keyCode>=51&&h.keyCode<=55?v.key=String.fromCharCode(h.keyCode-51+27):h.keyCode===56?v.key=c.C0.DEL:h.keyCode===219?v.key=c.C0.ESC:h.keyCode===220?v.key=c.C0.FS:h.keyCode===221&&(v.key=c.C0.GS)}return v}},482:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Utf8ToUtf32=o.StringToUtf32=o.utf32ToString=o.stringFromCodePoint=void 0,o.stringFromCodePoint=function(l){return l>65535?(l-=65536,String.fromCharCode(55296+(l>>10))+String.fromCharCode(l%1024+56320)):String.fromCharCode(l)},o.utf32ToString=function(l,c=0,u=l.length){let h="";for(let f=c;f<u;++f){let p=l[f];p>65535?(p-=65536,h+=String.fromCharCode(55296+(p>>10))+String.fromCharCode(p%1024+56320)):h+=String.fromCharCode(p)}return h},o.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(l,c){const u=l.length;if(!u)return 0;let h=0,f=0;if(this._interim){const p=l.charCodeAt(f++);56320<=p&&p<=57343?c[h++]=1024*(this._interim-55296)+p-56320+65536:(c[h++]=this._interim,c[h++]=p),this._interim=0}for(let p=f;p<u;++p){const g=l.charCodeAt(p);if(55296<=g&&g<=56319){if(++p>=u)return this._interim=g,h;const v=l.charCodeAt(p);56320<=v&&v<=57343?c[h++]=1024*(g-55296)+v-56320+65536:(c[h++]=g,c[h++]=v)}else g!==65279&&(c[h++]=g)}return h}},o.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(l,c){const u=l.length;if(!u)return 0;let h,f,p,g,v=0,m=0,y=0;if(this.interim[0]){let b=!1,w=this.interim[0];w&=(224&w)==192?31:(240&w)==224?15:7;let S,k=0;for(;(S=63&this.interim[++k])&&k<4;)w<<=6,w|=S;const C=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,E=C-k;for(;y<E;){if(y>=u)return 0;if(S=l[y++],(192&S)!=128){y--,b=!0;break}this.interim[k++]=S,w<<=6,w|=63&S}b||(C===2?w<128?y--:c[v++]=w:C===3?w<2048||w>=55296&&w<=57343||w===65279||(c[v++]=w):w<65536||w>1114111||(c[v++]=w)),this.interim.fill(0)}const x=u-4;let _=y;for(;_<u;){for(;!(!(_<x)||128&(h=l[_])||128&(f=l[_+1])||128&(p=l[_+2])||128&(g=l[_+3]));)c[v++]=h,c[v++]=f,c[v++]=p,c[v++]=g,_+=4;if(h=l[_++],h<128)c[v++]=h;else if((224&h)==192){if(_>=u)return this.interim[0]=h,v;if(f=l[_++],(192&f)!=128){_--;continue}if(m=(31&h)<<6|63&f,m<128){_--;continue}c[v++]=m}else if((240&h)==224){if(_>=u)return this.interim[0]=h,v;if(f=l[_++],(192&f)!=128){_--;continue}if(_>=u)return this.interim[0]=h,this.interim[1]=f,v;if(p=l[_++],(192&p)!=128){_--;continue}if(m=(15&h)<<12|(63&f)<<6|63&p,m<2048||m>=55296&&m<=57343||m===65279)continue;c[v++]=m}else if((248&h)==240){if(_>=u)return this.interim[0]=h,v;if(f=l[_++],(192&f)!=128){_--;continue}if(_>=u)return this.interim[0]=h,this.interim[1]=f,v;if(p=l[_++],(192&p)!=128){_--;continue}if(_>=u)return this.interim[0]=h,this.interim[1]=f,this.interim[2]=p,v;if(g=l[_++],(192&g)!=128){_--;continue}if(m=(7&h)<<18|(63&f)<<12|(63&p)<<6|63&g,m<65536||m>1114111)continue;c[v++]=m}}return v}}},225:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeV6=void 0;const l=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],c=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let u;o.UnicodeV6=class{constructor(){if(this.version="6",!u){u=new Uint8Array(65536),u.fill(1),u[0]=0,u.fill(0,1,32),u.fill(0,127,160),u.fill(2,4352,4448),u[9001]=2,u[9002]=2,u.fill(2,11904,42192),u[12351]=1,u.fill(2,44032,55204),u.fill(2,63744,64256),u.fill(2,65040,65050),u.fill(2,65072,65136),u.fill(2,65280,65377),u.fill(2,65504,65511);for(let h=0;h<l.length;++h)u.fill(0,l[h][0],l[h][1]+1)}}wcwidth(h){return h<32?0:h<127?1:h<65536?u[h]:function(f,p){let g,v=0,m=p.length-1;if(f<p[0][0]||f>p[m][1])return!1;for(;m>=v;)if(g=v+m>>1,f>p[g][1])v=g+1;else{if(!(f<p[g][0]))return!0;m=g-1}return!1}(h,c)?0:h>=131072&&h<=196605||h>=196608&&h<=262141?2:1}}},5981:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WriteBuffer=void 0;const c=l(8460),u=l(844);class h extends u.Disposable{constructor(p){super(),this._action=p,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new c.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(p,g){if(g!==void 0&&this._syncCalls>g)return void(this._syncCalls=0);if(this._pendingData+=p.length,this._writeBuffer.push(p),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let v;for(this._isSyncWriting=!0;v=this._writeBuffer.shift();){this._action(v);const m=this._callbacks.shift();m&&m()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(p,g){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=p.length,this._writeBuffer.push(p),this._callbacks.push(g),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=p.length,this._writeBuffer.push(p),this._callbacks.push(g)}_innerWrite(p=0,g=!0){const v=p||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const m=this._writeBuffer[this._bufferOffset],y=this._action(m,g);if(y){const _=b=>Date.now()-v>=12?setTimeout(()=>this._innerWrite(0,b)):this._innerWrite(v,b);return void y.catch(b=>(queueMicrotask(()=>{throw b}),Promise.resolve(!1))).then(_)}const x=this._callbacks[this._bufferOffset];if(x&&x(),this._bufferOffset++,this._pendingData-=m.length,Date.now()-v>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}o.WriteBuffer=h},5941:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.toRgbString=o.parseColor=void 0;const l=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,c=/^[\da-f]+$/;function u(h,f){const p=h.toString(16),g=p.length<2?"0"+p:p;switch(f){case 4:return p[0];case 8:return g;case 12:return(g+g).slice(0,3);default:return g+g}}o.parseColor=function(h){if(!h)return;let f=h.toLowerCase();if(f.indexOf("rgb:")===0){f=f.slice(4);const p=l.exec(f);if(p){const g=p[1]?15:p[4]?255:p[7]?4095:65535;return[Math.round(parseInt(p[1]||p[4]||p[7]||p[10],16)/g*255),Math.round(parseInt(p[2]||p[5]||p[8]||p[11],16)/g*255),Math.round(parseInt(p[3]||p[6]||p[9]||p[12],16)/g*255)]}}else if(f.indexOf("#")===0&&(f=f.slice(1),c.exec(f)&&[3,6,9,12].includes(f.length))){const p=f.length/3,g=[0,0,0];for(let v=0;v<3;++v){const m=parseInt(f.slice(p*v,p*v+p),16);g[v]=p===1?m<<4:p===2?m:p===3?m>>4:m>>8}return g}},o.toRgbString=function(h,f=16){const[p,g,v]=h;return`rgb:${u(p,f)}/${u(g,f)}/${u(v,f)}`}},5770:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PAYLOAD_LIMIT=void 0,o.PAYLOAD_LIMIT=1e7},6351:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DcsHandler=o.DcsParser=void 0;const c=l(482),u=l(8742),h=l(5770),f=[];o.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=f,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=f}registerHandler(g,v){this._handlers[g]===void 0&&(this._handlers[g]=[]);const m=this._handlers[g];return m.push(v),{dispose:()=>{const y=m.indexOf(v);y!==-1&&m.splice(y,1)}}}clearHandler(g){this._handlers[g]&&delete this._handlers[g]}setHandlerFallback(g){this._handlerFb=g}reset(){if(this._active.length)for(let g=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;g>=0;--g)this._active[g].unhook(!1);this._stack.paused=!1,this._active=f,this._ident=0}hook(g,v){if(this.reset(),this._ident=g,this._active=this._handlers[g]||f,this._active.length)for(let m=this._active.length-1;m>=0;m--)this._active[m].hook(v);else this._handlerFb(this._ident,"HOOK",v)}put(g,v,m){if(this._active.length)for(let y=this._active.length-1;y>=0;y--)this._active[y].put(g,v,m);else this._handlerFb(this._ident,"PUT",(0,c.utf32ToString)(g,v,m))}unhook(g,v=!0){if(this._active.length){let m=!1,y=this._active.length-1,x=!1;if(this._stack.paused&&(y=this._stack.loopPosition-1,m=v,x=this._stack.fallThrough,this._stack.paused=!1),!x&&m===!1){for(;y>=0&&(m=this._active[y].unhook(g),m!==!0);y--)if(m instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!1,m;y--}for(;y>=0;y--)if(m=this._active[y].unhook(!1),m instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!0,m}else this._handlerFb(this._ident,"UNHOOK",g);this._active=f,this._ident=0}};const p=new u.Params;p.addParam(0),o.DcsHandler=class{constructor(g){this._handler=g,this._data="",this._params=p,this._hitLimit=!1}hook(g){this._params=g.length>1||g.params[0]?g.clone():p,this._data="",this._hitLimit=!1}put(g,v,m){this._hitLimit||(this._data+=(0,c.utf32ToString)(g,v,m),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(g){let v=!1;if(this._hitLimit)v=!1;else if(g&&(v=this._handler(this._data,this._params),v instanceof Promise))return v.then(m=>(this._params=p,this._data="",this._hitLimit=!1,m));return this._params=p,this._data="",this._hitLimit=!1,v}}},2015:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.EscapeSequenceParser=o.VT500_TRANSITION_TABLE=o.TransitionTable=void 0;const c=l(844),u=l(8742),h=l(6242),f=l(6351);class p{constructor(y){this.table=new Uint8Array(y)}setDefault(y,x){this.table.fill(y<<4|x)}add(y,x,_,b){this.table[x<<8|y]=_<<4|b}addMany(y,x,_,b){for(let w=0;w<y.length;w++)this.table[x<<8|y[w]]=_<<4|b}}o.TransitionTable=p;const g=160;o.VT500_TRANSITION_TABLE=function(){const m=new p(4095),y=Array.apply(null,Array(256)).map((k,C)=>C),x=(k,C)=>y.slice(k,C),_=x(32,127),b=x(0,24);b.push(25),b.push.apply(b,x(28,32));const w=x(0,14);let S;for(S in m.setDefault(1,0),m.addMany(_,0,2,0),w)m.addMany([24,26,153,154],S,3,0),m.addMany(x(128,144),S,3,0),m.addMany(x(144,152),S,3,0),m.add(156,S,0,0),m.add(27,S,11,1),m.add(157,S,4,8),m.addMany([152,158,159],S,0,7),m.add(155,S,11,3),m.add(144,S,11,9);return m.addMany(b,0,3,0),m.addMany(b,1,3,1),m.add(127,1,0,1),m.addMany(b,8,0,8),m.addMany(b,3,3,3),m.add(127,3,0,3),m.addMany(b,4,3,4),m.add(127,4,0,4),m.addMany(b,6,3,6),m.addMany(b,5,3,5),m.add(127,5,0,5),m.addMany(b,2,3,2),m.add(127,2,0,2),m.add(93,1,4,8),m.addMany(_,8,5,8),m.add(127,8,5,8),m.addMany([156,27,24,26,7],8,6,0),m.addMany(x(28,32),8,0,8),m.addMany([88,94,95],1,0,7),m.addMany(_,7,0,7),m.addMany(b,7,0,7),m.add(156,7,0,0),m.add(127,7,0,7),m.add(91,1,11,3),m.addMany(x(64,127),3,7,0),m.addMany(x(48,60),3,8,4),m.addMany([60,61,62,63],3,9,4),m.addMany(x(48,60),4,8,4),m.addMany(x(64,127),4,7,0),m.addMany([60,61,62,63],4,0,6),m.addMany(x(32,64),6,0,6),m.add(127,6,0,6),m.addMany(x(64,127),6,0,0),m.addMany(x(32,48),3,9,5),m.addMany(x(32,48),5,9,5),m.addMany(x(48,64),5,0,6),m.addMany(x(64,127),5,7,0),m.addMany(x(32,48),4,9,5),m.addMany(x(32,48),1,9,2),m.addMany(x(32,48),2,9,2),m.addMany(x(48,127),2,10,0),m.addMany(x(48,80),1,10,0),m.addMany(x(81,88),1,10,0),m.addMany([89,90,92],1,10,0),m.addMany(x(96,127),1,10,0),m.add(80,1,11,9),m.addMany(b,9,0,9),m.add(127,9,0,9),m.addMany(x(28,32),9,0,9),m.addMany(x(32,48),9,9,12),m.addMany(x(48,60),9,8,10),m.addMany([60,61,62,63],9,9,10),m.addMany(b,11,0,11),m.addMany(x(32,128),11,0,11),m.addMany(x(28,32),11,0,11),m.addMany(b,10,0,10),m.add(127,10,0,10),m.addMany(x(28,32),10,0,10),m.addMany(x(48,60),10,8,10),m.addMany([60,61,62,63],10,0,11),m.addMany(x(32,48),10,9,12),m.addMany(b,12,0,12),m.add(127,12,0,12),m.addMany(x(28,32),12,0,12),m.addMany(x(32,48),12,9,12),m.addMany(x(48,64),12,0,11),m.addMany(x(64,127),12,12,13),m.addMany(x(64,127),10,12,13),m.addMany(x(64,127),9,12,13),m.addMany(b,13,13,13),m.addMany(_,13,13,13),m.add(127,13,0,13),m.addMany([27,156,24,26],13,14,0),m.add(g,0,2,0),m.add(g,8,5,8),m.add(g,6,0,6),m.add(g,11,0,11),m.add(g,13,13,13),m}();class v extends c.Disposable{constructor(y=o.VT500_TRANSITION_TABLE){super(),this._transitions=y,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new u.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(x,_,b)=>{},this._executeHandlerFb=x=>{},this._csiHandlerFb=(x,_)=>{},this._escHandlerFb=x=>{},this._errorHandlerFb=x=>x,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,c.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new h.OscParser),this._dcsParser=this.register(new f.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(y,x=[64,126]){let _=0;if(y.prefix){if(y.prefix.length>1)throw new Error("only one byte as prefix supported");if(_=y.prefix.charCodeAt(0),_&&60>_||_>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(y.intermediates){if(y.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let w=0;w<y.intermediates.length;++w){const S=y.intermediates.charCodeAt(w);if(32>S||S>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");_<<=8,_|=S}}if(y.final.length!==1)throw new Error("final must be a single byte");const b=y.final.charCodeAt(0);if(x[0]>b||b>x[1])throw new Error(`final must be in range ${x[0]} .. ${x[1]}`);return _<<=8,_|=b,_}identToString(y){const x=[];for(;y;)x.push(String.fromCharCode(255&y)),y>>=8;return x.reverse().join("")}setPrintHandler(y){this._printHandler=y}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(y,x){const _=this._identifier(y,[48,126]);this._escHandlers[_]===void 0&&(this._escHandlers[_]=[]);const b=this._escHandlers[_];return b.push(x),{dispose:()=>{const w=b.indexOf(x);w!==-1&&b.splice(w,1)}}}clearEscHandler(y){this._escHandlers[this._identifier(y,[48,126])]&&delete this._escHandlers[this._identifier(y,[48,126])]}setEscHandlerFallback(y){this._escHandlerFb=y}setExecuteHandler(y,x){this._executeHandlers[y.charCodeAt(0)]=x}clearExecuteHandler(y){this._executeHandlers[y.charCodeAt(0)]&&delete this._executeHandlers[y.charCodeAt(0)]}setExecuteHandlerFallback(y){this._executeHandlerFb=y}registerCsiHandler(y,x){const _=this._identifier(y);this._csiHandlers[_]===void 0&&(this._csiHandlers[_]=[]);const b=this._csiHandlers[_];return b.push(x),{dispose:()=>{const w=b.indexOf(x);w!==-1&&b.splice(w,1)}}}clearCsiHandler(y){this._csiHandlers[this._identifier(y)]&&delete this._csiHandlers[this._identifier(y)]}setCsiHandlerFallback(y){this._csiHandlerFb=y}registerDcsHandler(y,x){return this._dcsParser.registerHandler(this._identifier(y),x)}clearDcsHandler(y){this._dcsParser.clearHandler(this._identifier(y))}setDcsHandlerFallback(y){this._dcsParser.setHandlerFallback(y)}registerOscHandler(y,x){return this._oscParser.registerHandler(y,x)}clearOscHandler(y){this._oscParser.clearHandler(y)}setOscHandlerFallback(y){this._oscParser.setHandlerFallback(y)}setErrorHandler(y){this._errorHandler=y}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(y,x,_,b,w){this._parseStack.state=y,this._parseStack.handlers=x,this._parseStack.handlerPos=_,this._parseStack.transition=b,this._parseStack.chunkPos=w}parse(y,x,_){let b,w=0,S=0,k=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,k=this._parseStack.chunkPos+1;else{if(_===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const C=this._parseStack.handlers;let E=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(_===!1&&E>-1){for(;E>=0&&(b=C[E](this._params),b!==!0);E--)if(b instanceof Promise)return this._parseStack.handlerPos=E,b}this._parseStack.handlers=[];break;case 4:if(_===!1&&E>-1){for(;E>=0&&(b=C[E](),b!==!0);E--)if(b instanceof Promise)return this._parseStack.handlerPos=E,b}this._parseStack.handlers=[];break;case 6:if(w=y[this._parseStack.chunkPos],b=this._dcsParser.unhook(w!==24&&w!==26,_),b)return b;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(w=y[this._parseStack.chunkPos],b=this._oscParser.end(w!==24&&w!==26,_),b)return b;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,k=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let C=k;C<x;++C){switch(w=y[C],S=this._transitions.table[this.currentState<<8|(w<160?w:g)],S>>4){case 2:for(let P=C+1;;++P){if(P>=x||(w=y[P])<32||w>126&&w<g){this._printHandler(y,C,P),C=P-1;break}if(++P>=x||(w=y[P])<32||w>126&&w<g){this._printHandler(y,C,P),C=P-1;break}if(++P>=x||(w=y[P])<32||w>126&&w<g){this._printHandler(y,C,P),C=P-1;break}if(++P>=x||(w=y[P])<32||w>126&&w<g){this._printHandler(y,C,P),C=P-1;break}}break;case 3:this._executeHandlers[w]?this._executeHandlers[w]():this._executeHandlerFb(w),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:C,code:w,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const E=this._csiHandlers[this._collect<<8|w];let T=E?E.length-1:-1;for(;T>=0&&(b=E[T](this._params),b!==!0);T--)if(b instanceof Promise)return this._preserveStack(3,E,T,S,C),b;T<0&&this._csiHandlerFb(this._collect<<8|w,this._params),this.precedingCodepoint=0;break;case 8:do switch(w){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(w-48)}while(++C<x&&(w=y[C])>47&&w<60);C--;break;case 9:this._collect<<=8,this._collect|=w;break;case 10:const N=this._escHandlers[this._collect<<8|w];let I=N?N.length-1:-1;for(;I>=0&&(b=N[I](),b!==!0);I--)if(b instanceof Promise)return this._preserveStack(4,N,I,S,C),b;I<0&&this._escHandlerFb(this._collect<<8|w),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|w,this._params);break;case 13:for(let P=C+1;;++P)if(P>=x||(w=y[P])===24||w===26||w===27||w>127&&w<g){this._dcsParser.put(y,C,P),C=P-1;break}break;case 14:if(b=this._dcsParser.unhook(w!==24&&w!==26),b)return this._preserveStack(6,[],0,S,C),b;w===27&&(S|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let P=C+1;;P++)if(P>=x||(w=y[P])<32||w>127&&w<g){this._oscParser.put(y,C,P),C=P-1;break}break;case 6:if(b=this._oscParser.end(w!==24&&w!==26),b)return this._preserveStack(5,[],0,S,C),b;w===27&&(S|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&S}}}o.EscapeSequenceParser=v},6242:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OscHandler=o.OscParser=void 0;const c=l(5770),u=l(482),h=[];o.OscParser=class{constructor(){this._state=0,this._active=h,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(f,p){this._handlers[f]===void 0&&(this._handlers[f]=[]);const g=this._handlers[f];return g.push(p),{dispose:()=>{const v=g.indexOf(p);v!==-1&&g.splice(v,1)}}}clearHandler(f){this._handlers[f]&&delete this._handlers[f]}setHandlerFallback(f){this._handlerFb=f}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=h}reset(){if(this._state===2)for(let f=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;f>=0;--f)this._active[f].end(!1);this._stack.paused=!1,this._active=h,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||h,this._active.length)for(let f=this._active.length-1;f>=0;f--)this._active[f].start();else this._handlerFb(this._id,"START")}_put(f,p,g){if(this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].put(f,p,g);else this._handlerFb(this._id,"PUT",(0,u.utf32ToString)(f,p,g))}start(){this.reset(),this._state=1}put(f,p,g){if(this._state!==3){if(this._state===1)for(;p<g;){const v=f[p++];if(v===59){this._state=2,this._start();break}if(v<48||57<v)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+v-48}this._state===2&&g-p>0&&this._put(f,p,g)}}end(f,p=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let g=!1,v=this._active.length-1,m=!1;if(this._stack.paused&&(v=this._stack.loopPosition-1,g=p,m=this._stack.fallThrough,this._stack.paused=!1),!m&&g===!1){for(;v>=0&&(g=this._active[v].end(f),g!==!0);v--)if(g instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=v,this._stack.fallThrough=!1,g;v--}for(;v>=0;v--)if(g=this._active[v].end(!1),g instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=v,this._stack.fallThrough=!0,g}else this._handlerFb(this._id,"END",f);this._active=h,this._id=-1,this._state=0}}},o.OscHandler=class{constructor(f){this._handler=f,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(f,p,g){this._hitLimit||(this._data+=(0,u.utf32ToString)(f,p,g),this._data.length>c.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(f){let p=!1;if(this._hitLimit)p=!1;else if(f&&(p=this._handler(this._data),p instanceof Promise))return p.then(g=>(this._data="",this._hitLimit=!1,g));return this._data="",this._hitLimit=!1,p}}},8742:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Params=void 0;const l=2147483647;class c{static fromArray(h){const f=new c;if(!h.length)return f;for(let p=Array.isArray(h[0])?1:0;p<h.length;++p){const g=h[p];if(Array.isArray(g))for(let v=0;v<g.length;++v)f.addSubParam(g[v]);else f.addParam(g)}return f}constructor(h=32,f=32){if(this.maxLength=h,this.maxSubParamsLength=f,f>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(h),this.length=0,this._subParams=new Int32Array(f),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(h),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const h=new c(this.maxLength,this.maxSubParamsLength);return h.params.set(this.params),h.length=this.length,h._subParams.set(this._subParams),h._subParamsLength=this._subParamsLength,h._subParamsIdx.set(this._subParamsIdx),h._rejectDigits=this._rejectDigits,h._rejectSubDigits=this._rejectSubDigits,h._digitIsSub=this._digitIsSub,h}toArray(){const h=[];for(let f=0;f<this.length;++f){h.push(this.params[f]);const p=this._subParamsIdx[f]>>8,g=255&this._subParamsIdx[f];g-p>0&&h.push(Array.prototype.slice.call(this._subParams,p,g))}return h}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(h){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=h>l?l:h}}addSubParam(h){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=h>l?l:h,this._subParamsIdx[this.length-1]++}}hasSubParams(h){return(255&this._subParamsIdx[h])-(this._subParamsIdx[h]>>8)>0}getSubParams(h){const f=this._subParamsIdx[h]>>8,p=255&this._subParamsIdx[h];return p-f>0?this._subParams.subarray(f,p):null}getSubParamsAll(){const h={};for(let f=0;f<this.length;++f){const p=this._subParamsIdx[f]>>8,g=255&this._subParamsIdx[f];g-p>0&&(h[f]=this._subParams.slice(p,g))}return h}addDigit(h){let f;if(this._rejectDigits||!(f=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const p=this._digitIsSub?this._subParams:this.params,g=p[f-1];p[f-1]=~g?Math.min(10*g+h,l):h}}o.Params=c},5741:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AddonManager=void 0,o.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let l=this._addons.length-1;l>=0;l--)this._addons[l].instance.dispose()}loadAddon(l,c){const u={instance:c,dispose:c.dispose,isDisposed:!1};this._addons.push(u),c.dispose=()=>this._wrappedAddonDispose(u),c.activate(l)}_wrappedAddonDispose(l){if(l.isDisposed)return;let c=-1;for(let u=0;u<this._addons.length;u++)if(this._addons[u]===l){c=u;break}if(c===-1)throw new Error("Could not dispose an addon that has not been loaded");l.isDisposed=!0,l.dispose.apply(l.instance),this._addons.splice(c,1)}}},8771:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferApiView=void 0;const c=l(3785),u=l(511);o.BufferApiView=class{constructor(h,f){this._buffer=h,this.type=f}init(h){return this._buffer=h,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(h){const f=this._buffer.lines.get(h);if(f)return new c.BufferLineApiView(f)}getNullCell(){return new u.CellData}}},3785:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLineApiView=void 0;const c=l(511);o.BufferLineApiView=class{constructor(u){this._line=u}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(u,h){if(!(u<0||u>=this._line.length))return h?(this._line.loadCell(u,h),h):this._line.loadCell(u,new c.CellData)}translateToString(u,h,f){return this._line.translateToString(u,h,f)}}},8285:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferNamespaceApi=void 0;const c=l(8771),u=l(8460),h=l(844);class f extends h.Disposable{constructor(g){super(),this._core=g,this._onBufferChange=this.register(new u.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new c.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new c.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}o.BufferNamespaceApi=f},7975:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ParserApi=void 0,o.ParserApi=class{constructor(l){this._core=l}registerCsiHandler(l,c){return this._core.registerCsiHandler(l,u=>c(u.toArray()))}addCsiHandler(l,c){return this.registerCsiHandler(l,c)}registerDcsHandler(l,c){return this._core.registerDcsHandler(l,(u,h)=>c(u,h.toArray()))}addDcsHandler(l,c){return this.registerDcsHandler(l,c)}registerEscHandler(l,c){return this._core.registerEscHandler(l,c)}addEscHandler(l,c){return this.registerEscHandler(l,c)}registerOscHandler(l,c){return this._core.registerOscHandler(l,c)}addOscHandler(l,c){return this.registerOscHandler(l,c)}}},7090:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeApi=void 0,o.UnicodeApi=class{constructor(l){this._core=l}register(l){this._core.unicodeService.register(l)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(l){this._core.unicodeService.activeVersion=l}}},744:function(s,o,l){var c=this&&this.__decorate||function(m,y,x,_){var b,w=arguments.length,S=w<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,x):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(m,y,x,_);else for(var k=m.length-1;k>=0;k--)(b=m[k])&&(S=(w<3?b(S):w>3?b(y,x,S):b(y,x))||S);return w>3&&S&&Object.defineProperty(y,x,S),S},u=this&&this.__param||function(m,y){return function(x,_){y(x,_,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferService=o.MINIMUM_ROWS=o.MINIMUM_COLS=void 0;const h=l(8460),f=l(844),p=l(5295),g=l(2585);o.MINIMUM_COLS=2,o.MINIMUM_ROWS=1;let v=o.BufferService=class extends f.Disposable{get buffer(){return this.buffers.active}constructor(m){super(),this.isUserScrolling=!1,this._onResize=this.register(new h.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new h.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(m.rawOptions.cols||0,o.MINIMUM_COLS),this.rows=Math.max(m.rawOptions.rows||0,o.MINIMUM_ROWS),this.buffers=this.register(new p.BufferSet(m,this))}resize(m,y){this.cols=m,this.rows=y,this.buffers.resize(m,y),this._onResize.fire({cols:m,rows:y})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(m,y=!1){const x=this.buffer;let _;_=this._cachedBlankLine,_&&_.length===this.cols&&_.getFg(0)===m.fg&&_.getBg(0)===m.bg||(_=x.getBlankLine(m,y),this._cachedBlankLine=_),_.isWrapped=y;const b=x.ybase+x.scrollTop,w=x.ybase+x.scrollBottom;if(x.scrollTop===0){const S=x.lines.isFull;w===x.lines.length-1?S?x.lines.recycle().copyFrom(_):x.lines.push(_.clone()):x.lines.splice(w+1,0,_.clone()),S?this.isUserScrolling&&(x.ydisp=Math.max(x.ydisp-1,0)):(x.ybase++,this.isUserScrolling||x.ydisp++)}else{const S=w-b+1;x.lines.shiftElements(b+1,S-1,-1),x.lines.set(w,_.clone())}this.isUserScrolling||(x.ydisp=x.ybase),this._onScroll.fire(x.ydisp)}scrollLines(m,y,x){const _=this.buffer;if(m<0){if(_.ydisp===0)return;this.isUserScrolling=!0}else m+_.ydisp>=_.ybase&&(this.isUserScrolling=!1);const b=_.ydisp;_.ydisp=Math.max(Math.min(_.ydisp+m,_.ybase),0),b!==_.ydisp&&(y||this._onScroll.fire(_.ydisp))}};o.BufferService=v=c([u(0,g.IOptionsService)],v)},7994:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CharsetService=void 0,o.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(l){this.glevel=l,this.charset=this._charsets[l]}setgCharset(l,c){this._charsets[l]=c,this.glevel===l&&(this.charset=c)}}},1753:function(s,o,l){var c=this&&this.__decorate||function(_,b,w,S){var k,C=arguments.length,E=C<3?b:S===null?S=Object.getOwnPropertyDescriptor(b,w):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(_,b,w,S);else for(var T=_.length-1;T>=0;T--)(k=_[T])&&(E=(C<3?k(E):C>3?k(b,w,E):k(b,w))||E);return C>3&&E&&Object.defineProperty(b,w,E),E},u=this&&this.__param||function(_,b){return function(w,S){b(w,S,_)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreMouseService=void 0;const h=l(2585),f=l(8460),p=l(844),g={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:_=>_.button!==4&&_.action===1&&(_.ctrl=!1,_.alt=!1,_.shift=!1,!0)},VT200:{events:19,restrict:_=>_.action!==32},DRAG:{events:23,restrict:_=>_.action!==32||_.button!==3},ANY:{events:31,restrict:_=>!0}};function v(_,b){let w=(_.ctrl?16:0)|(_.shift?4:0)|(_.alt?8:0);return _.button===4?(w|=64,w|=_.action):(w|=3&_.button,4&_.button&&(w|=64),8&_.button&&(w|=128),_.action===32?w|=32:_.action!==0||b||(w|=3)),w}const m=String.fromCharCode,y={DEFAULT:_=>{const b=[v(_,!1)+32,_.col+32,_.row+32];return b[0]>255||b[1]>255||b[2]>255?"":`\x1B[M${m(b[0])}${m(b[1])}${m(b[2])}`},SGR:_=>{const b=_.action===0&&_.button!==4?"m":"M";return`\x1B[<${v(_,!0)};${_.col};${_.row}${b}`},SGR_PIXELS:_=>{const b=_.action===0&&_.button!==4?"m":"M";return`\x1B[<${v(_,!0)};${_.x};${_.y}${b}`}};let x=o.CoreMouseService=class extends p.Disposable{constructor(_,b){super(),this._bufferService=_,this._coreService=b,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new f.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const w of Object.keys(g))this.addProtocol(w,g[w]);for(const w of Object.keys(y))this.addEncoding(w,y[w]);this.reset()}addProtocol(_,b){this._protocols[_]=b}addEncoding(_,b){this._encodings[_]=b}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(_){if(!this._protocols[_])throw new Error(`unknown protocol "${_}"`);this._activeProtocol=_,this._onProtocolChange.fire(this._protocols[_].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(_){if(!this._encodings[_])throw new Error(`unknown encoding "${_}"`);this._activeEncoding=_}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(_){if(_.col<0||_.col>=this._bufferService.cols||_.row<0||_.row>=this._bufferService.rows||_.button===4&&_.action===32||_.button===3&&_.action!==32||_.button!==4&&(_.action===2||_.action===3)||(_.col++,_.row++,_.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,_,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(_))return!1;const b=this._encodings[this._activeEncoding](_);return b&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(b):this._coreService.triggerDataEvent(b,!0)),this._lastEvent=_,!0}explainEvents(_){return{down:!!(1&_),up:!!(2&_),drag:!!(4&_),move:!!(8&_),wheel:!!(16&_)}}_equalEvents(_,b,w){if(w){if(_.x!==b.x||_.y!==b.y)return!1}else if(_.col!==b.col||_.row!==b.row)return!1;return _.button===b.button&&_.action===b.action&&_.ctrl===b.ctrl&&_.alt===b.alt&&_.shift===b.shift}};o.CoreMouseService=x=c([u(0,h.IBufferService),u(1,h.ICoreService)],x)},6975:function(s,o,l){var c=this&&this.__decorate||function(x,_,b,w){var S,k=arguments.length,C=k<3?_:w===null?w=Object.getOwnPropertyDescriptor(_,b):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(x,_,b,w);else for(var E=x.length-1;E>=0;E--)(S=x[E])&&(C=(k<3?S(C):k>3?S(_,b,C):S(_,b))||C);return k>3&&C&&Object.defineProperty(_,b,C),C},u=this&&this.__param||function(x,_){return function(b,w){_(b,w,x)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreService=void 0;const h=l(1439),f=l(8460),p=l(844),g=l(2585),v=Object.freeze({insertMode:!1}),m=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let y=o.CoreService=class extends p.Disposable{constructor(x,_,b){super(),this._bufferService=x,this._logService=_,this._optionsService=b,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new f.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new f.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new f.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new f.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,h.clone)(v),this.decPrivateModes=(0,h.clone)(m)}reset(){this.modes=(0,h.clone)(v),this.decPrivateModes=(0,h.clone)(m)}triggerDataEvent(x,_=!1){if(this._optionsService.rawOptions.disableStdin)return;const b=this._bufferService.buffer;_&&this._optionsService.rawOptions.scrollOnUserInput&&b.ybase!==b.ydisp&&this._onRequestScrollToBottom.fire(),_&&this._onUserInput.fire(),this._logService.debug(`sending data "${x}"`,()=>x.split("").map(w=>w.charCodeAt(0))),this._onData.fire(x)}triggerBinaryEvent(x){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${x}"`,()=>x.split("").map(_=>_.charCodeAt(0))),this._onBinary.fire(x))}};o.CoreService=y=c([u(0,g.IBufferService),u(1,g.ILogService),u(2,g.IOptionsService)],y)},9074:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DecorationService=void 0;const c=l(8055),u=l(8460),h=l(844),f=l(6106);let p=0,g=0;class v extends h.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new f.SortedList(x=>x==null?void 0:x.marker.line),this._onDecorationRegistered=this.register(new u.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new u.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,h.toDisposable)(()=>this.reset()))}registerDecoration(x){if(x.marker.isDisposed)return;const _=new m(x);if(_){const b=_.marker.onDispose(()=>_.dispose());_.onDispose(()=>{_&&(this._decorations.delete(_)&&this._onDecorationRemoved.fire(_),b.dispose())}),this._decorations.insert(_),this._onDecorationRegistered.fire(_)}return _}reset(){for(const x of this._decorations.values())x.dispose();this._decorations.clear()}*getDecorationsAtCell(x,_,b){var w,S,k;let C=0,E=0;for(const T of this._decorations.getKeyIterator(_))C=(w=T.options.x)!==null&&w!==void 0?w:0,E=C+((S=T.options.width)!==null&&S!==void 0?S:1),x>=C&&x<E&&(!b||((k=T.options.layer)!==null&&k!==void 0?k:"bottom")===b)&&(yield T)}forEachDecorationAtCell(x,_,b,w){this._decorations.forEachByKey(_,S=>{var k,C,E;p=(k=S.options.x)!==null&&k!==void 0?k:0,g=p+((C=S.options.width)!==null&&C!==void 0?C:1),x>=p&&x<g&&(!b||((E=S.options.layer)!==null&&E!==void 0?E:"bottom")===b)&&w(S)})}}o.DecorationService=v;class m extends h.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=c.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=c.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(x){super(),this.options=x,this.onRenderEmitter=this.register(new u.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new u.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=x.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.InstantiationService=o.ServiceCollection=void 0;const c=l(2585),u=l(8343);class h{constructor(...p){this._entries=new Map;for(const[g,v]of p)this.set(g,v)}set(p,g){const v=this._entries.get(p);return this._entries.set(p,g),v}forEach(p){for(const[g,v]of this._entries.entries())p(g,v)}has(p){return this._entries.has(p)}get(p){return this._entries.get(p)}}o.ServiceCollection=h,o.InstantiationService=class{constructor(){this._services=new h,this._services.set(c.IInstantiationService,this)}setService(f,p){this._services.set(f,p)}getService(f){return this._services.get(f)}createInstance(f,...p){const g=(0,u.getServiceDependencies)(f).sort((y,x)=>y.index-x.index),v=[];for(const y of g){const x=this._services.get(y.id);if(!x)throw new Error(`[createInstance] ${f.name} depends on UNKNOWN service ${y.id}.`);v.push(x)}const m=g.length>0?g[0].index:p.length;if(p.length!==m)throw new Error(`[createInstance] First service dependency of ${f.name} at position ${m+1} conflicts with ${p.length} static arguments`);return new f(...p,...v)}}},7866:function(s,o,l){var c=this&&this.__decorate||function(m,y,x,_){var b,w=arguments.length,S=w<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,x):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(m,y,x,_);else for(var k=m.length-1;k>=0;k--)(b=m[k])&&(S=(w<3?b(S):w>3?b(y,x,S):b(y,x))||S);return w>3&&S&&Object.defineProperty(y,x,S),S},u=this&&this.__param||function(m,y){return function(x,_){y(x,_,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.traceCall=o.setTraceLogger=o.LogService=void 0;const h=l(844),f=l(2585),p={trace:f.LogLevelEnum.TRACE,debug:f.LogLevelEnum.DEBUG,info:f.LogLevelEnum.INFO,warn:f.LogLevelEnum.WARN,error:f.LogLevelEnum.ERROR,off:f.LogLevelEnum.OFF};let g,v=o.LogService=class extends h.Disposable{get logLevel(){return this._logLevel}constructor(m){super(),this._optionsService=m,this._logLevel=f.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),g=this}_updateLogLevel(){this._logLevel=p[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(m){for(let y=0;y<m.length;y++)typeof m[y]=="function"&&(m[y]=m[y]())}_log(m,y,x){this._evalLazyOptionalParams(x),m.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+y,...x)}trace(m,...y){var x,_;this._logLevel<=f.LogLevelEnum.TRACE&&this._log((_=(x=this._optionsService.options.logger)===null||x===void 0?void 0:x.trace.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.log,m,y)}debug(m,...y){var x,_;this._logLevel<=f.LogLevelEnum.DEBUG&&this._log((_=(x=this._optionsService.options.logger)===null||x===void 0?void 0:x.debug.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.log,m,y)}info(m,...y){var x,_;this._logLevel<=f.LogLevelEnum.INFO&&this._log((_=(x=this._optionsService.options.logger)===null||x===void 0?void 0:x.info.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.info,m,y)}warn(m,...y){var x,_;this._logLevel<=f.LogLevelEnum.WARN&&this._log((_=(x=this._optionsService.options.logger)===null||x===void 0?void 0:x.warn.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.warn,m,y)}error(m,...y){var x,_;this._logLevel<=f.LogLevelEnum.ERROR&&this._log((_=(x=this._optionsService.options.logger)===null||x===void 0?void 0:x.error.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.error,m,y)}};o.LogService=v=c([u(0,f.IOptionsService)],v),o.setTraceLogger=function(m){g=m},o.traceCall=function(m,y,x){if(typeof x.value!="function")throw new Error("not supported");const _=x.value;x.value=function(...b){if(g.logLevel!==f.LogLevelEnum.TRACE)return _.apply(this,b);g.trace(`GlyphRenderer#${_.name}(${b.map(S=>JSON.stringify(S)).join(", ")})`);const w=_.apply(this,b);return g.trace(`GlyphRenderer#${_.name} return`,w),w}}},7302:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OptionsService=o.DEFAULT_OPTIONS=void 0;const c=l(8460),u=l(844),h=l(6114);o.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:h.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const f=["normal","bold","100","200","300","400","500","600","700","800","900"];class p extends u.Disposable{constructor(v){super(),this._onOptionChange=this.register(new c.EventEmitter),this.onOptionChange=this._onOptionChange.event;const m=Object.assign({},o.DEFAULT_OPTIONS);for(const y in v)if(y in m)try{const x=v[y];m[y]=this._sanitizeAndValidateOption(y,x)}catch(x){console.error(x)}this.rawOptions=m,this.options=Object.assign({},m),this._setupOptions()}onSpecificOptionChange(v,m){return this.onOptionChange(y=>{y===v&&m(this.rawOptions[v])})}onMultipleOptionChange(v,m){return this.onOptionChange(y=>{v.indexOf(y)!==-1&&m()})}_setupOptions(){const v=y=>{if(!(y in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${y}"`);return this.rawOptions[y]},m=(y,x)=>{if(!(y in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${y}"`);x=this._sanitizeAndValidateOption(y,x),this.rawOptions[y]!==x&&(this.rawOptions[y]=x,this._onOptionChange.fire(y))};for(const y in this.rawOptions){const x={get:v.bind(this,y),set:m.bind(this,y)};Object.defineProperty(this.options,y,x)}}_sanitizeAndValidateOption(v,m){switch(v){case"cursorStyle":if(m||(m=o.DEFAULT_OPTIONS[v]),!function(y){return y==="block"||y==="underline"||y==="bar"}(m))throw new Error(`"${m}" is not a valid value for ${v}`);break;case"wordSeparator":m||(m=o.DEFAULT_OPTIONS[v]);break;case"fontWeight":case"fontWeightBold":if(typeof m=="number"&&1<=m&&m<=1e3)break;m=f.includes(m)?m:o.DEFAULT_OPTIONS[v];break;case"cursorWidth":m=Math.floor(m);case"lineHeight":case"tabStopWidth":if(m<1)throw new Error(`${v} cannot be less than 1, value: ${m}`);break;case"minimumContrastRatio":m=Math.max(1,Math.min(21,Math.round(10*m)/10));break;case"scrollback":if((m=Math.min(m,4294967295))<0)throw new Error(`${v} cannot be less than 0, value: ${m}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(m<=0)throw new Error(`${v} cannot be less than or equal to 0, value: ${m}`);break;case"rows":case"cols":if(!m&&m!==0)throw new Error(`${v} must be numeric, value: ${m}`);break;case"windowsPty":m=m??{}}return m}}o.OptionsService=p},2660:function(s,o,l){var c=this&&this.__decorate||function(p,g,v,m){var y,x=arguments.length,_=x<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,v):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(p,g,v,m);else for(var b=p.length-1;b>=0;b--)(y=p[b])&&(_=(x<3?y(_):x>3?y(g,v,_):y(g,v))||_);return x>3&&_&&Object.defineProperty(g,v,_),_},u=this&&this.__param||function(p,g){return function(v,m){g(v,m,p)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkService=void 0;const h=l(2585);let f=o.OscLinkService=class{constructor(p){this._bufferService=p,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(p){const g=this._bufferService.buffer;if(p.id===void 0){const b=g.addMarker(g.ybase+g.y),w={data:p,id:this._nextId++,lines:[b]};return b.onDispose(()=>this._removeMarkerFromLink(w,b)),this._dataByLinkId.set(w.id,w),w.id}const v=p,m=this._getEntryIdKey(v),y=this._entriesWithId.get(m);if(y)return this.addLineToLink(y.id,g.ybase+g.y),y.id;const x=g.addMarker(g.ybase+g.y),_={id:this._nextId++,key:this._getEntryIdKey(v),data:v,lines:[x]};return x.onDispose(()=>this._removeMarkerFromLink(_,x)),this._entriesWithId.set(_.key,_),this._dataByLinkId.set(_.id,_),_.id}addLineToLink(p,g){const v=this._dataByLinkId.get(p);if(v&&v.lines.every(m=>m.line!==g)){const m=this._bufferService.buffer.addMarker(g);v.lines.push(m),m.onDispose(()=>this._removeMarkerFromLink(v,m))}}getLinkData(p){var g;return(g=this._dataByLinkId.get(p))===null||g===void 0?void 0:g.data}_getEntryIdKey(p){return`${p.id};;${p.uri}`}_removeMarkerFromLink(p,g){const v=p.lines.indexOf(g);v!==-1&&(p.lines.splice(v,1),p.lines.length===0&&(p.data.id!==void 0&&this._entriesWithId.delete(p.key),this._dataByLinkId.delete(p.id)))}};o.OscLinkService=f=c([u(0,h.IBufferService)],f)},8343:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createDecorator=o.getServiceDependencies=o.serviceRegistry=void 0;const l="di$target",c="di$dependencies";o.serviceRegistry=new Map,o.getServiceDependencies=function(u){return u[c]||[]},o.createDecorator=function(u){if(o.serviceRegistry.has(u))return o.serviceRegistry.get(u);const h=function(f,p,g){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(v,m,y){m[l]===m?m[c].push({id:v,index:y}):(m[c]=[{id:v,index:y}],m[l]=m)})(h,f,g)};return h.toString=()=>u,o.serviceRegistry.set(u,h),h}},2585:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IDecorationService=o.IUnicodeService=o.IOscLinkService=o.IOptionsService=o.ILogService=o.LogLevelEnum=o.IInstantiationService=o.ICharsetService=o.ICoreService=o.ICoreMouseService=o.IBufferService=void 0;const c=l(8343);var u;o.IBufferService=(0,c.createDecorator)("BufferService"),o.ICoreMouseService=(0,c.createDecorator)("CoreMouseService"),o.ICoreService=(0,c.createDecorator)("CoreService"),o.ICharsetService=(0,c.createDecorator)("CharsetService"),o.IInstantiationService=(0,c.createDecorator)("InstantiationService"),function(h){h[h.TRACE=0]="TRACE",h[h.DEBUG=1]="DEBUG",h[h.INFO=2]="INFO",h[h.WARN=3]="WARN",h[h.ERROR=4]="ERROR",h[h.OFF=5]="OFF"}(u||(o.LogLevelEnum=u={})),o.ILogService=(0,c.createDecorator)("LogService"),o.IOptionsService=(0,c.createDecorator)("OptionsService"),o.IOscLinkService=(0,c.createDecorator)("OscLinkService"),o.IUnicodeService=(0,c.createDecorator)("UnicodeService"),o.IDecorationService=(0,c.createDecorator)("DecorationService")},1480:(s,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeService=void 0;const c=l(8460),u=l(225);o.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new c.EventEmitter,this.onChange=this._onChange.event;const h=new u.UnicodeV6;this.register(h),this._active=h.version,this._activeProvider=h}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(h){if(!this._providers[h])throw new Error(`unknown Unicode version "${h}"`);this._active=h,this._activeProvider=this._providers[h],this._onChange.fire(h)}register(h){this._providers[h.version]=h}wcwidth(h){return this._activeProvider.wcwidth(h)}getStringCellWidth(h){let f=0;const p=h.length;for(let g=0;g<p;++g){let v=h.charCodeAt(g);if(55296<=v&&v<=56319){if(++g>=p)return f+this.wcwidth(v);const m=h.charCodeAt(g);56320<=m&&m<=57343?v=1024*(v-55296)+m-56320+65536:f+=this.wcwidth(m)}f+=this.wcwidth(v)}return f}}}},n={};function i(s){var o=n[s];if(o!==void 0)return o.exports;var l=n[s]={exports:{}};return r[s].call(l.exports,l,l.exports,i),l.exports}var a={};return(()=>{var s=a;Object.defineProperty(s,"__esModule",{value:!0}),s.Terminal=void 0;const o=i(9042),l=i(3236),c=i(844),u=i(5741),h=i(8285),f=i(7975),p=i(7090),g=["cols","rows"];class v extends c.Disposable{constructor(y){super(),this._core=this.register(new l.Terminal(y)),this._addonManager=this.register(new u.AddonManager),this._publicOptions=Object.assign({},this._core.options);const x=b=>this._core.options[b],_=(b,w)=>{this._checkReadonlyOptions(b),this._core.options[b]=w};for(const b in this._core.options){const w={get:x.bind(this,b),set:_.bind(this,b)};Object.defineProperty(this._publicOptions,b,w)}}_checkReadonlyOptions(y){if(g.includes(y))throw new Error(`Option "${y}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new f.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new p.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new h.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const y=this._core.coreService.decPrivateModes;let x="none";switch(this._core.coreMouseService.activeProtocol){case"X10":x="x10";break;case"VT200":x="vt200";break;case"DRAG":x="drag";break;case"ANY":x="any"}return{applicationCursorKeysMode:y.applicationCursorKeys,applicationKeypadMode:y.applicationKeypad,bracketedPasteMode:y.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:x,originMode:y.origin,reverseWraparoundMode:y.reverseWraparound,sendFocusMode:y.sendFocus,wraparoundMode:y.wraparound}}get options(){return this._publicOptions}set options(y){for(const x in y)this._publicOptions[x]=y[x]}blur(){this._core.blur()}focus(){this._core.focus()}resize(y,x){this._verifyIntegers(y,x),this._core.resize(y,x)}open(y){this._core.open(y)}attachCustomKeyEventHandler(y){this._core.attachCustomKeyEventHandler(y)}registerLinkProvider(y){return this._core.registerLinkProvider(y)}registerCharacterJoiner(y){return this._checkProposedApi(),this._core.registerCharacterJoiner(y)}deregisterCharacterJoiner(y){this._checkProposedApi(),this._core.deregisterCharacterJoiner(y)}registerMarker(y=0){return this._verifyIntegers(y),this._core.registerMarker(y)}registerDecoration(y){var x,_,b;return this._checkProposedApi(),this._verifyPositiveIntegers((x=y.x)!==null&&x!==void 0?x:0,(_=y.width)!==null&&_!==void 0?_:0,(b=y.height)!==null&&b!==void 0?b:0),this._core.registerDecoration(y)}hasSelection(){return this._core.hasSelection()}select(y,x,_){this._verifyIntegers(y,x,_),this._core.select(y,x,_)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(y,x){this._verifyIntegers(y,x),this._core.selectLines(y,x)}dispose(){super.dispose()}scrollLines(y){this._verifyIntegers(y),this._core.scrollLines(y)}scrollPages(y){this._verifyIntegers(y),this._core.scrollPages(y)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(y){this._verifyIntegers(y),this._core.scrollToLine(y)}clear(){this._core.clear()}write(y,x){this._core.write(y,x)}writeln(y,x){this._core.write(y),this._core.write(`\r
`,x)}paste(y){this._core.paste(y)}refresh(y,x){this._verifyIntegers(y,x),this._core.refresh(y,x)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(y){this._addonManager.loadAddon(this,y)}static get strings(){return o}_verifyIntegers(...y){for(const x of y)if(x===1/0||isNaN(x)||x%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...y){for(const x of y)if(x&&(x===1/0||isNaN(x)||x%1!=0||x<0))throw new Error("This API only accepts positive integers")}}s.Terminal=v})(),a})())})(Qpe);var _lt=Qpe.exports,tge={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(self,()=>(()=>{var r={};return(()=>{var n=r;Object.defineProperty(n,"__esModule",{value:!0}),n.FitAddon=void 0,n.FitAddon=class{activate(i){this._terminal=i}dispose(){}fit(){const i=this.proposeDimensions();if(!i||!this._terminal||isNaN(i.cols)||isNaN(i.rows))return;const a=this._terminal._core;this._terminal.rows===i.rows&&this._terminal.cols===i.cols||(a._renderService.clear(),this._terminal.resize(i.cols,i.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const i=this._terminal._core,a=i._renderService.dimensions;if(a.css.cell.width===0||a.css.cell.height===0)return;const s=this._terminal.options.scrollback===0?0:i.viewport.scrollBarWidth,o=window.getComputedStyle(this._terminal.element.parentElement),l=parseInt(o.getPropertyValue("height")),c=Math.max(0,parseInt(o.getPropertyValue("width"))),u=window.getComputedStyle(this._terminal.element),h=l-(parseInt(u.getPropertyValue("padding-top"))+parseInt(u.getPropertyValue("padding-bottom"))),f=c-(parseInt(u.getPropertyValue("padding-right"))+parseInt(u.getPropertyValue("padding-left")))-s;return{cols:Math.max(2,Math.floor(f/a.css.cell.width)),rows:Math.max(1,Math.floor(h/a.css.cell.height))}}}})(),r})())})(tge);var blt=tge.exports,rge={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(self,()=>(()=>{var r={6:(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.LinkComputer=o.WebLinkProvider=void 0,o.WebLinkProvider=class{constructor(c,u,h,f={}){this._terminal=c,this._regex=u,this._handler=h,this._options=f}provideLinks(c,u){const h=l.computeLink(c,this._regex,this._terminal,this._handler);u(this._addCallbacks(h))}_addCallbacks(c){return c.map(u=>(u.leave=this._options.leave,u.hover=(h,f)=>{if(this._options.hover){const{range:p}=u;this._options.hover(h,f,p)}},u))}};class l{static computeLink(u,h,f,p){const g=new RegExp(h.source,(h.flags||"")+"g"),[v,m]=l._getWindowedLineStrings(u-1,f),y=v.join("");let x;const _=[];for(;x=g.exec(y);){const b=x[0];try{const T=new URL(b),N=decodeURI(T.toString());if(b!==N&&b+"/"!==N)continue}catch{continue}const[w,S]=l._mapStrIdx(f,m,0,x.index),[k,C]=l._mapStrIdx(f,w,S,b.length);if(w===-1||S===-1||k===-1||C===-1)continue;const E={start:{x:S+1,y:w+1},end:{x:C,y:k+1}};_.push({range:E,text:b,activate:p})}return _}static _getWindowedLineStrings(u,h){let f,p=u,g=u,v=0,m="";const y=[];if(f=h.buffer.active.getLine(u)){const x=f.translateToString(!0);if(f.isWrapped&&x[0]!==" "){for(v=0;(f=h.buffer.active.getLine(--p))&&v<2048&&(m=f.translateToString(!0),v+=m.length,y.push(m),f.isWrapped&&m.indexOf(" ")===-1););y.reverse()}for(y.push(x),v=0;(f=h.buffer.active.getLine(++g))&&f.isWrapped&&v<2048&&(m=f.translateToString(!0),v+=m.length,y.push(m),m.indexOf(" ")===-1););}return[y,p]}static _mapStrIdx(u,h,f,p){const g=u.buffer.active,v=g.getNullCell();let m=f;for(;p;){const y=g.getLine(h);if(!y)return[-1,-1];for(let x=m;x<y.length;++x){y.getCell(x,v);const _=v.getChars();if(v.getWidth()&&(p-=_.length||1,x===y.length-1&&_==="")){const b=g.getLine(h+1);b&&b.isWrapped&&(b.getCell(0,v),v.getWidth()===2&&(p+=1))}if(p<0)return[h,x]}h++,m=0}return[h,m]}}o.LinkComputer=l}},n={};function i(s){var o=n[s];if(o!==void 0)return o.exports;var l=n[s]={exports:{}};return r[s](l,l.exports,i),l.exports}var a={};return(()=>{var s=a;Object.defineProperty(s,"__esModule",{value:!0}),s.WebLinksAddon=void 0;const o=i(6),l=/https?:[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function c(u,h){const f=window.open();if(f){try{f.opener=null}catch{}f.location.href=h}else console.warn("Opening link blocked as opener could not be cleared")}s.WebLinksAddon=class{constructor(u=c,h={}){this._handler=u,this._options=h}activate(u){this._terminal=u;const h=this._options,f=h.urlRegex||l;this._linkProvider=this._terminal.registerLinkProvider(new o.WebLinkProvider(this._terminal,f,this._handler,h))}dispose(){var u;(u=this._linkProvider)===null||u===void 0||u.dispose()}}})(),a})())})(rge);var wlt=rge.exports;const Slt=A.forwardRef(({className:e="",onReady:t,deviceIp:r="",deviceName:n=""},i)=>{var G;const a=A.useRef(null),s=A.useRef(null),o=A.useRef(null),l=A.useRef(null),c=A.useRef(null),[u,h]=A.useState(!1),[f,p]=A.useState(null),[g,v]=A.useState(!1),[m,y]=A.useState(!1),[x,_]=A.useState(!1),[b,w]=A.useState([]),[S,k]=A.useState(""),[C,E]=A.useState(""),[T,N]=A.useState(""),I=A.useRef(null),P=A.useRef(!1),D=()=>{if(!S||!s.current)return;const q=s.current.buffer.active,K=[];for(let Y=0;Y<q.length;Y++){let Z="";const Q=q.getLine(Y);if(Q)for(let re=0;re<Q.length;re++){const me=Q.getCell(re);me&&me.getChars()&&(Z+=me.getChars())}K.push(Z)}const B=K.join(`
`),W=b.map(Y=>Y.id===S?{...Y,history:B}:Y);w(W),$(W)};A.useEffect(()=>{if(S&&u&&s.current)return I.current&&clearInterval(I.current),I.current=setInterval(D,5e3),()=>{I.current&&clearInterval(I.current)}},[S,u]),A.useEffect(()=>{const q=localStorage.getItem("terminal_sessions"),K=localStorage.getItem("current_terminal_session");if(q)try{const W=JSON.parse(q).map(Y=>({id:Y.id||`term_${Date.now()}_${Math.random()}`,name:Y.name||"Unknown Device",deviceIp:Y.deviceIp||"",connected:Y.connected||!1,lastUsed:Y.lastUsed?new Date(Y.lastUsed):new Date,history:Y.history||""}));if(w(W),K){const Y=W.find(Z=>Z.id===K);Y&&k(Y.id)}else if(r){const Y=W.find(Z=>Z.deviceIp===r);Y&&(k(Y.id),localStorage.setItem("current_terminal_session",Y.id))}}catch(B){console.error("Error loading terminal sessions",B),w([])}},[]),A.useEffect(()=>{r&&r!==C&&E(r)},[r]),A.useEffect(()=>{const q=K=>{c.current&&!c.current.contains(K.target)&&_(!1)};return document.addEventListener("mousedown",q),()=>{document.removeEventListener("mousedown",q)}},[]);const $=q=>{try{const K=q.map(B=>({...B,lastUsed:B.lastUsed instanceof Date?B.lastUsed.toISOString():B.lastUsed}));localStorage.setItem("terminal_sessions",JSON.stringify(K))}catch(K){console.error("无法保存终端会话:",K)}},L=()=>{if(!r)return;const q=b.find(Y=>Y.deviceIp===r);if(q){const Y=b.map(Z=>Z.deviceIp===r?{...Z,connected:!0,lastUsed:new Date}:Z);w(Y),k(q.id),localStorage.setItem("current_terminal_session",q.id),$(Y);return}const K=`term_${Date.now()}`,B={id:K,name:n||r,deviceIp:r,connected:!0,lastUsed:new Date,history:""},W=[...b,B];w(W),k(K),localStorage.setItem("current_terminal_session",K),$(W)},O=q=>{if(!l.current||l.current.readyState!==WebSocket.OPEN){p("Terminal not connected");return}l.current.send(JSON.stringify({type:"input",data:q+"\r"}))},j=()=>{y(!m),setTimeout(()=>{if(o.current&&(o.current.fit(),m&&setTimeout(()=>{o.current&&(o.current.fit(),s.current&&(s.current.buffer.active.cursorX,s.current.buffer.active.cursorY,o.current.fit(),l.current&&l.current.readyState===WebSocket.OPEN&&l.current.send(JSON.stringify({type:"resize",rows:s.current.rows,cols:s.current.cols}))))},250),l.current&&l.current.readyState===WebSocket.OPEN&&s.current)){const{rows:q,cols:K}=s.current;l.current.send(JSON.stringify({type:"resize",rows:q,cols:K}))}},150)};A.useImperativeHandle(i,()=>({executeCommand:O}));const M=q=>{v(!0),q.clear(),q.writeln("\x1B[1;33mConnected to Terminal...\x1B[0m"),l.current&&l.current.close();try{const K=window.location.protocol==="https:"?"wss:":"ws:",B=window.location.host,W=new WebSocket(`${K}//${B}/terminal`);l.current=W,W.onopen=()=>{if(h(!0),p(null),q.writeln("\x1B[1;32mConnected to Terminal Service\x1B[0m"),r&&q.writeln(`\x1B[1;34mConnected to Device: ${n||r}\x1B[0m`),v(!1),r&&L(),!P.current){P.current=!0;const Z=b.find(Q=>Q.id===S);Z&&Z.history&&setTimeout(()=>{q.clear(),q.write(Z.history)},500)}},W.onmessage=Z=>{try{const Q=JSON.parse(Z.data);Q.type==="output"?(q.write(Q.data),N(re=>re+Q.data)):Q.type==="terminal-id"&&console.log(`Connected to terminal ID: ${Q.id}`)}catch(Q){console.error("Error parsing WebSocket message:",Q),q.writeln(`\r
\x1B[1;31mError parsing server message\x1B[0m`)}},W.onerror=Z=>{console.error("WebSocket error:",Z),p("Connection error. Using fallback terminal."),q.writeln(`\r
\x1B[1;31mWebSocket connection error. Using fallback terminal.\x1B[0m`),q.writeln("Note: Commands will be simulated and not executed on a real shell."),q.write(`\r
$ `),z(q),v(!1)},W.onclose=()=>{if(u&&(h(!1),q.writeln(`\r
\x1B[1;31mDisconnected from shell\x1B[0m`),D(),S)){const Z=b.map(Q=>Q.id===S?{...Q,connected:!1}:Q);w(Z),$(Z)}v(!1)},q.onData(Z=>{W.readyState===WebSocket.OPEN&&W.send(JSON.stringify({type:"input",data:Z}))});const Y=()=>{var Z;if((Z=o.current)==null||Z.fit(),W.readyState===WebSocket.OPEN){const{rows:Q,cols:re}=q;W.send(JSON.stringify({type:"resize",rows:Q,cols:re}))}};return window.addEventListener("resize",Y),Y(),()=>{window.removeEventListener("resize",Y)}}catch(K){console.error("Failed to connect to WebSocket server:",K),p("Failed to connect. Using fallback terminal."),q.writeln(`\r
\x1B[1;31mFailed to connect to Terminal Service. Using fallback terminal.\x1B[0m`),q.writeln("Note: Commands will be simulated and not executed on a real device."),q.write(`\r
$ `),z(q),v(!1)}},R=()=>{s.current&&!g&&(D(),M(s.current))};A.useEffect(()=>{if(!a.current)return;const q=new _lt.Terminal({cursorBlink:!0,fontSize:14,fontFamily:'Menlo, Monaco, "Courier New", monospace',theme:{background:"#ffffff",foreground:"#333333",cursor:"#333333",selectionBackground:"#c1c1c1"},convertEol:!0,scrollback:5e3,allowTransparency:!0}),K=new blt.FitAddon,B=new wlt.WebLinksAddon;q.loadAddon(K),q.loadAddon(B),q.open(a.current),K.fit(),s.current=q,o.current=K;const W=M(q);return q.onScroll(()=>{}),t&&t(q),()=>{D(),I.current&&clearInterval(I.current),W&&W(),l.current&&l.current.close(),s.current&&s.current.dispose()}},[t]);const z=q=>{let K="";q.onKey(({key:B,domEvent:W})=>{const Y=!W.altKey&&!W.ctrlKey&&!W.metaKey;if(W.key==="Enter"){q.write(`\r
`);const Z=K;K="",Z.trim()?setTimeout(()=>{q.writeln(`Simulating: ${Z}`),q.writeln("Command simulated (not actually executed)."),q.write(`\r
$ `)},100):q.write("$ ")}else W.key==="Backspace"?K.length>0&&(K=K.slice(0,-1),q.write("\b \b")):Y&&(K+=B,q.write(B))})},U=m?{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,backgroundColor:"white",display:"flex",flexDirection:"column",transition:"all 0.2s ease-in-out",width:"100vw",height:"100vh",overflow:"hidden"}:{transition:"all 0.2s ease-in-out"},F=()=>{if(b.length<=10)return;const K=[...b].sort((B,W)=>new Date(W.lastUsed).getTime()-new Date(B.lastUsed).getTime()).slice(0,10);w(K),$(K)};return A.useEffect(()=>{b.length>0&&($(b),F())},[b]),A.useEffect(()=>{const q=()=>{if(o.current&&s.current&&(o.current.fit(),l.current&&l.current.readyState===WebSocket.OPEN)){const{rows:K,cols:B}=s.current;l.current.send(JSON.stringify({type:"resize",rows:K,cols:B}))}};return window.addEventListener("resize",q),o.current&&o.current.fit(),()=>{window.removeEventListener("resize",q)}},[m]),d.jsxs("div",{className:`flex flex-col h-full ${m?"fullscreen-terminal":""}`,style:U,children:[d.jsxs("div",{className:"bg-gray-100 p-2 border-b flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:`h-2 w-2 rounded-full mr-2 ${u?"bg-green-500":"bg-red-500"}`}),d.jsx("span",{className:"text-sm font-medium",children:u?"Connected to Shell":"Disconnected"}),S&&d.jsx("span",{className:"ml-2 text-xs text-gray-600",children:((G=b.find(q=>q.id===S))==null?void 0:G.name)||"Terminal"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[m&&d.jsx("button",{onClick:j,className:"text-xs bg-gray-200 hover:bg-gray-300 px-2 py-0.5 rounded text-gray-700",children:"Exit Fullscreen"}),d.jsx("button",{onClick:R,disabled:g,className:`flex items-center justify-center p-1 rounded hover:bg-gray-200 ${g?"opacity-50 cursor-not-allowed":""}`,title:"Refresh terminal connection",children:d.jsx(mo,{className:`h-4 w-4 text-gray-600 ${g?"animate-spin":""}`})}),d.jsx("button",{onClick:j,className:"flex items-center justify-center p-1 rounded hover:bg-gray-200",title:m?"Exit fullscreen":"Enter fullscreen mode",children:m?d.jsx(S_e,{className:"h-4 w-4 text-gray-600"}):d.jsx(b_e,{className:"h-4 w-4 text-gray-600"})})]})]}),f&&d.jsxs("div",{className:"bg-yellow-100 text-yellow-800 px-4 py-2 text-sm border-b border-yellow-200",children:[f," - To use a real shell, run the terminal server: ",d.jsx("code",{children:"cd server && npm install && npm start"})]}),d.jsx("div",{ref:a,className:`terminal-container flex-1 w-full bg-white ${e}`,style:{position:"relative"}})]})}),kX=()=>crypto.randomUUID?crypto.randomUUID():`session_${Date.now()}_${Math.random().toString(36).substring(2,15)}`,nge=A.createContext({terminalRef:null,handleTerminalReady:()=>{}}),Clt=en.memo(()=>{const{terminalRef:e,handleTerminalReady:t}=A.useContext(nge),[r]=A.useState(()=>`terminal-${Date.now()}`);return d.jsx("div",{className:"w-[30.4%] flex flex-col overflow-hidden flex-shrink-0",children:d.jsx("div",{className:"flex-1 mx-4 my-4 overflow-hidden bg-white rounded-xl shadow-sm border border-gray-200 terminal-container-wrapper",style:{zIndex:1},children:d.jsx(Slt,{onReady:t,className:"h-full rounded-xl terminal-main",style:{fontSize:"12px"}},r)})})},()=>!0),klt=()=>{const[e,t]=A.useState([]),[r,n]=A.useState(null),[i,a]=A.useState([]),[s,o]=A.useState([]),[l,c]=A.useState({}),[u,h]=A.useState(""),[f,p]=A.useState(!1),[g,v]=A.useState(!1),[m,y]=A.useState("sparse"),[x,_]=A.useState([]),[b,w]=A.useState(""),[S,k]=A.useState(()=>localStorage.getItem("olaola_session_id")||kX()),[C,E]=A.useState(null),[T,N]=A.useState([]),[I,P]=A.useState(""),[D,$]=A.useState([]),[L,O]=A.useState(5),[j,M]=A.useState(!1),R=A.useRef(null),z=A.useRef(null);A.useEffect(()=>{U(),F()},[]),A.useEffect(()=>{Me()},[s]);const U=async()=>{v(!0);try{const fe=await $t.get("/webhook/api/network-devices");if(fe.data&&fe.data.status==="success"&&Array.isArray(fe.data.data)){const et=fe.data.data.map((He,Gt)=>({id:Gt.toString(),ip_address:He.ip_address,ip:He.ip_address,hostname:He.hostname||`Device-${Gt}`,vendor:He.vendor_hw||"Unknown",os:He.vendor_sw||"Unknown",role:"Network Device",hw_sku:He.hw_sku,vendor_hw:He.vendor_hw,vendor_sw:He.vendor_sw}));t(et)}else console.error("Invalid API response format",fe.data)}catch(fe){console.error("Failed to fetch devices:",fe)}finally{v(!1)}},F=()=>{const fe=localStorage.getItem("olaola_saved_configs");if(fe)try{const tt=JSON.parse(fe);_(tt)}catch(tt){console.error("Error parsing saved configs:",tt)}let et={};const He=localStorage.getItem("olaola_session_messages");if(He)try{et=JSON.parse(He),c(et)}catch(tt){console.error("Error parsing saved messages:",tt)}const Gt=localStorage.getItem("olaola_sessions");if(Gt)try{const tt=JSON.parse(Gt);a(tt);const ee=tt.find(se=>se.active);if(ee){k(ee.id);const se=et[ee.id]||[];o(se)}}catch(tt){console.error("Error parsing saved sessions:",tt)}else q()},G=(fe,et)=>{try{localStorage.setItem(fe,JSON.stringify(et))}catch(He){console.error(`Error saving ${fe} to localStorage:`,He)}},q=()=>{const fe=kX();let et="New Conversation";r&&(et=`${r.hostname||r.ip_address}`,b&&b.trim()!==""&&(et+=` ↔ ${b}`));const He={id:fe,title:et,timestamp:new Date().toISOString(),active:!0};S&&s.length>0&&c(ee=>({...ee,[S]:s}));const Gt=[...i.map(ee=>({...ee,active:!1})),He];a(Gt),o([]),N([]),h(""),P(""),$([]),k(fe),localStorage.setItem("olaola_session_id",fe),O(5),M(!1),G("olaola_sessions",Gt);const tt={...l,[fe]:[]};G("olaola_session_messages",tt),c(tt)},K=fe=>{if(S===fe)return;const et={...l,[S]:s};G("olaola_session_messages",et);const He=i.map(ee=>({...ee,active:ee.id===fe}));G("olaola_sessions",He),a(He),k(fe),c(et);const Gt=et[fe]||[];o(Gt),O(5),M(Gt.length>5);const tt=Gt.filter(ee=>ee.role==="assistant"&&ee.steps&&ee.steps.length>0).pop();tt&&tt.steps?N(tt.steps):N([]),h(""),P(""),$([]),localStorage.setItem("olaola_session_id",fe)},B=fe=>{z.current&&console.log("Saving terminal session before switching device"),n(fe);const et=i.find(He=>He.active);if(et&&et.title==="New Conversation"){const He=i.map(Gt=>Gt.active?{...Gt,title:`${fe.hostname||fe.ip_address}`}:Gt);a(He),G("olaola_sessions",He)}console.log(`Switched to device: ${fe.hostname||fe.ip_address} (${fe.ip_address||fe.ip})`)},W=async()=>{var tt;if(!r||!u.trim())return;p(!0);const fe=new Date().toISOString(),et={id:`msg-${Date.now()}`,role:"user",content:u,timestamp:fe,context:I,relatedToTask:!0,sessionId:S},He=[...s,et];o(He),h(""),He.length>L&&O(Math.min(L+2,He.length));const Gt={...l,[S]:He};c(Gt),G("olaola_session_messages",Gt);try{const ee={sessionId:S,action:"sendMessage",chatInput:u,device:{ip:r.ip_address||r.ip,vendor:r.vendor_hw||r.vendor,os:r.vendor_sw||r.os,hostname:r.hostname},intent:u,mode:m==="strict"?"strict":"sparse"};b&&b.trim()!==""&&(ee.device.peerIp=b.trim());const se=await $t.post("/webhook/olaola/orchestrator",ee,{headers:{"Content-Type":"application/json"}});if(se.data&&Array.isArray(se.data)&&se.data.length>0){console.log("原始API响应：",se.data);let J="",ne="",le="",Re=[];const ze=se.data.find(it=>it.summary);ze&&ze.summary&&(le=ze.summary);const Te=se.data.find(it=>it.intent),Dt=se.data.find(it=>it.markdown),It=se.data.find(it=>it.output);if(Te&&Te.steps&&Array.isArray(Te.steps)&&(Re=Te.steps.map((it,oe)=>({id:it.step||oe+1,description:it.description||`Step ${oe+1}`,command:it.cli||"",isVisible:!0})),N(Re)),Te&&Te.intent&&(ne=Te.intent),Dt&&Dt.markdown){J=Dt.markdown;let it="";le&&(it+=`**Summary:** ${le}

`),ne&&(it+=`**Intent:** ${ne}

`),it&&(J=it+J),J=J.replace(/```bash\s*([\s\S]*?)```/g,(oe,be)=>`\`${be.trim()}\``),console.log("使用markdown字段：",J)}else if(It&&It.output){let it=It.output;it=it.replace(/```bash\s*([\s\S]*?)```/g,(be,Ye)=>`\`${Ye.trim()}\``);let oe="";le&&(oe+=`**Summary:** ${le}

`),ne&&(oe+=`**Intent:** ${ne}

`),J=oe?oe+it:it,console.log("使用output字段：",J)}else if(Te&&Te.response){let it=Te.response;it=it.replace(/```bash\s*([\s\S]*?)```/g,(be,Ye)=>`\`${Ye.trim()}\``);let oe="";le&&(oe+=`**Summary:** ${le}

`),ne&&(oe+=`**Intent:** ${ne}

`),J=oe?oe+it:it}else if(ne||le){let it="";le&&(it+=`**Summary:** ${le}

`),ne?(it+=`**Intent:** ${ne}

`,it+=`I'll help you with "${ne}"`):it+=`I'll help you with "${u}"`,J=it}else J=`I'll help you with "${u}"`;if(ne&&r){const it=Y(ne,r);P(it)}const gr=Re.length>0,Mt=Z(ne||u,gr);$(Mt);const qt={id:`msg-${Date.now()+1}`,role:"assistant",content:J,timestamp:new Date().toISOString(),context:I,relatedToTask:!0,suggestions:Mt,steps:gr?Re:void 0,sessionId:S},on=[...He,qt];o(on),on.length>L&&O(Math.min(L+2,on.length));const Di={...Gt,[S]:on};if(c(Di),G("olaola_session_messages",Di),((tt=i.find(it=>it.id===S))==null?void 0:tt.title)==="New Conversation"&&ne){let it=ne.substr(0,30)+(ne.length>30?"...":"");b&&b.trim()!==""&&r&&(it=`${`${r.hostname||r.ip_address} ↔ ${b}`}: ${it}`);const oe=i.map(be=>be.id===S?{...be,title:it}:be);a(oe),G("olaola_sessions",oe)}if(ne&&Re.length>0){const it={id:`config-${Date.now()}`,intent:ne,steps:Re,additional_checks:(Te==null?void 0:Te.additional_checks)||[],success_criteria:(Te==null?void 0:Te.success_criteria)||[],troubleshooting:(Te==null?void 0:Te.troubleshooting)||{},rawData:se.data,timestamp:new Date().toISOString()};Q(it)}}}catch(ee){console.error("API request failed:",ee);const se={id:`msg-${Date.now()+1}`,role:"assistant",content:"Sorry, there was an error processing your request. Please try again.",timestamp:new Date().toISOString(),context:I,relatedToTask:!0,sessionId:S},J=[...He,se];o(J);const ne={...Gt,[S]:J};c(ne),G("olaola_session_messages",ne)}finally{p(!1),Me()}},Y=(fe,et)=>!fe||!et?"":fe.toLowerCase().includes("ospf")?`OSPF Configuration (${et.hostname||et.ip_address})`:fe.toLowerCase().includes("bgp")?`BGP Configuration (${et.hostname||et.ip_address})`:fe.toLowerCase().includes("route")?`Routing Configuration (${et.hostname||et.ip_address})`:fe.toLowerCase().includes("interface")?`Interface Configuration (${et.hostname||et.ip_address})`:`Network Configuration (${et.hostname||et.ip_address})`,Z=(fe,et)=>{const He=[];return fe.toLowerCase().includes("ospf")?et?(He.push("Verify OSPF neighbor status"),He.push("Check OSPF database"),He.push("Troubleshoot why OSPF neighbors are not forming")):(He.push("How do I configure OSPF authentication?"),He.push("What are the differences between OSPF area types?")):fe.toLowerCase().includes("bgp")?et?(He.push("Verify BGP neighbor status"),He.push("Check BGP routes"),He.push("How do I apply BGP routing policies?")):(He.push("How does BGP load balancing work?"),He.push("How do I configure BGP community attributes?")):et&&(He.push("How can I verify the configuration?"),He.push("Save configuration to startup-config"),He.push("What are common troubleshooting methods?")),He},Q=fe=>{const et=[...x,fe];_(et),G("olaola_saved_configs",et)},re=fe=>{N(fe.steps),P(Y(fe.intent,r||{ip_address:"",hostname:null}));const et={id:`msg-${Date.now()}`,role:"assistant",content:`Loaded configuration: "${fe.intent}"`,timestamp:new Date().toISOString(),context:Y(fe.intent,r||{ip_address:"",hostname:null}),relatedToTask:!0,steps:fe.steps,sessionId:S},He=[...s,et];o(He);const Gt={...l,[S]:He};c(Gt),G("olaola_session_messages",Gt),Me()},me=(fe,et)=>{navigator.clipboard.writeText(fe),E(et),setTimeout(()=>E(null),2e3)},Ee=fe=>{z.current&&z.current.executeCommand(fe)},Ne=fe=>{const et={id:`snippet-${Date.now()}`,intent:fe.description,steps:[fe],additional_checks:[],success_criteria:[],troubleshooting:{},timestamp:new Date().toISOString()};Q(et)},Me=()=>{setTimeout(()=>{R.current&&R.current.scrollIntoView({behavior:"smooth"})},100)},Ae=A.useCallback(fe=>{},[]),Ie=fe=>{h(fe)},bt=A.useMemo(()=>({terminalRef:z,handleTerminalReady:Ae}),[Ae]);A.useEffect(()=>()=>{if(S&&s.length>0){const fe={...l,[S]:s};localStorage.setItem("olaola_session_messages",JSON.stringify(fe))}},[S,s,l]);const pt=()=>{const fe=document.querySelector(".scroll-area-viewport"),et=(fe==null?void 0:fe.scrollHeight)||0,He=(fe==null?void 0:fe.scrollTop)||0;O(Gt=>{const tt=Gt+5;return setTimeout(()=>{if(fe){const se=fe.scrollHeight-et;fe.scrollTop=He+se}},50),tt})};return A.useEffect(()=>{M(s.length>L)},[s,L]),A.useEffect(()=>{O(5)},[S]),d.jsx("div",{className:"flex h-full bg-gray-50 p-4 overflow-hidden",children:d.jsxs("div",{className:"flex w-full h-full bg-white rounded-xl shadow-sm border border-gray-200",style:{position:"relative",overflow:"hidden"},children:[d.jsx("div",{className:"w-[275px] flex-shrink-0 border-r border-gray-200 flex flex-col overflow-hidden",children:d.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:d.jsxs(u0,{defaultValue:"devices",className:"h-full flex flex-col",children:[d.jsxs(d0,{className:"grid grid-cols-3 mx-1 my-2 mt-4",children:[d.jsx(qr,{value:"devices",children:"Devices"}),d.jsx(qr,{value:"history",children:"History"}),d.jsx(qr,{value:"snippets",children:"Snippets"})]}),d.jsxs(Yr,{value:"devices",className:"flex-1 overflow-hidden p-4",children:[d.jsx(UJe,{devices:e,selectedDevice:r,isLoadingDevices:g,onSelectDevice:B,onRefreshDevices:U}),r&&d.jsxs("div",{className:"mt-4",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center justify-between",children:[d.jsx("span",{children:"Peer IP (Optional)"}),b&&b.trim()!==""&&d.jsxs("span",{className:"text-xs text-green-600 font-normal flex items-center",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"sent together"]})]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",value:b,onChange:fe=>w(fe.target.value),placeholder:"Enter Peer Device IP",className:`w-full p-2 border rounded-md text-sm ${b&&b.trim()!==""?"border-green-300 bg-green-50":"border-gray-300"}`}),b&&b.trim()!==""&&d.jsx("button",{onClick:()=>w(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",title:"Clear Peer IP",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Used to configure bidirectional network connections"})]})]}),d.jsx(Yr,{value:"history",className:"flex-1 overflow-hidden p-4",children:d.jsx(HJe,{sessions:i,onSelectSession:K,onCreateNewSession:q})}),d.jsx(Yr,{value:"snippets",className:"flex-1 overflow-hidden p-4",children:d.jsx(VJe,{configSessions:x,onSelectConfig:fe=>re(fe)})})]})})}),d.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-w-0",style:{width:"calc(69.6% - 275px)",maxWidth:"calc(69.6% - 275px)"},children:[s.length>0?d.jsx("div",{className:"flex-1 overflow-hidden",children:d.jsx(g1,{className:"h-full px-4 pt-4",style:{maxWidth:"100%"},children:d.jsxs("div",{className:"space-y-4 pb-4 max-w-full",style:{width:"100%",maxWidth:"100%",boxSizing:"border-box"},children:[j&&d.jsx("div",{className:"flex justify-center mb-4",children:d.jsxs("button",{onClick:pt,className:"text-sm px-4 py-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-700 transition-colors border border-gray-200 flex items-center shadow-sm",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11l5-5m0 0l5 5m-5-5v12"})}),"Load More History"]})}),s.slice(-L).map(fe=>d.jsx(vlt,{id:fe.id,role:fe.role,content:fe.content,timestamp:fe.timestamp,context:fe.context,steps:fe.steps,onCopyCommand:me,onExecuteCommand:Ee,onSaveSnippet:Ne,copiedId:C,suggestions:fe.suggestions,onUseSuggestion:Ie},fe.id)),f&&d.jsx(xlt,{}),d.jsx("div",{ref:R})]})})}):d.jsx("div",{className:"flex-1 flex items-center justify-center overflow-hidden",children:d.jsxs("div",{className:"text-center max-w-md",children:[d.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-100 to-blue-200 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-sm",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),d.jsx("h3",{className:"text-lg font-medium mb-2",children:"Start Network Configuration"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select a device from the left panel and describe what you want to configure."}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{className:"bg-white p-3 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all",children:[d.jsx("h4",{className:"font-medium text-gray-800 text-sm",children:"Configure OSPF"}),d.jsx("p",{className:"text-xs text-gray-600",children:"Set up OSPF routing"})]}),d.jsxs("div",{className:"bg-white p-3 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all",children:[d.jsx("h4",{className:"font-medium text-gray-800 text-sm",children:"Setup BGP"}),d.jsx("p",{className:"text-xs text-gray-600",children:"Establish BGP peering"})]}),d.jsxs("div",{className:"bg-white p-3 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all",children:[d.jsx("h4",{className:"font-medium text-gray-800 text-sm",children:"Configure VLANs"}),d.jsx("p",{className:"text-xs text-gray-600",children:"VLAN management"})]}),d.jsxs("div",{className:"bg-white p-3 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all",children:[d.jsx("h4",{className:"font-medium text-gray-800 text-sm",children:"Setup ACLs"}),d.jsx("p",{className:"text-xs text-gray-600",children:"Access control lists"})]})]})]})}),d.jsx("div",{className:"py-2 px-4 border-t border-gray-200 bg-white",children:d.jsx(ylt,{value:u,onChange:h,onSend:W,isLoading:f,isDisabled:!r,mode:m,onModeChange:y})})]}),d.jsx(nge.Provider,{value:bt,children:d.jsx(Clt,{})})]})})},Aa=({children:e})=>{const{user:t,loading:r}=YB(),n=Ph();return r?d.jsx("div",{className:"flex items-center justify-center h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t?d.jsx(d.Fragment,{children:e}):d.jsx(rL,{to:"/login",state:{from:n},replace:!0})},Elt=()=>d.jsxs(Yxe,{children:[d.jsx($i,{path:"/login",element:d.jsx(gKe,{})}),d.jsx($i,{path:"/",element:d.jsx(Aa,{children:d.jsx(rL,{to:"/network-deployment",replace:!0})})}),d.jsx($i,{path:"/module-monitor",element:d.jsx(Aa,{children:d.jsx(Qa,{children:d.jsx("div",{children:"模块监控内容"})})})}),d.jsx($i,{path:"/network-telemetry",element:d.jsx(Aa,{children:d.jsx(Qa,{children:d.jsx(dKe,{})})})}),d.jsx($i,{path:"/network-deployment",element:d.jsx(Aa,{children:d.jsx(Qa,{children:d.jsx(aXe,{})})})}),d.jsx($i,{path:"/hd-telemetry",element:d.jsx(Aa,{children:d.jsx(Qa,{children:d.jsx(vZe,{})})})}),d.jsx($i,{path:"/network-wizard",element:d.jsx(Aa,{children:d.jsx(Qa,{children:d.jsx(XKe,{})})})}),d.jsx($i,{path:"/datasource-config",element:d.jsx(Aa,{children:d.jsx(Qa,{children:d.jsx(Nlt,{})})})}),d.jsx($i,{path:"/user-management",element:d.jsx(Aa,{children:d.jsx(Qa,{children:d.jsx(xZe,{})})})}),d.jsx($i,{path:"/dynamic-dashboard",element:d.jsx(Aa,{children:d.jsx(Qa,{children:d.jsx("div",{children:"动态仪表盘内容"})})})}),d.jsx($i,{path:"/mcp-monitor",element:d.jsx(Aa,{children:d.jsx(Qa,{children:d.jsx("div",{children:"MCP监控内容"})})})}),d.jsx($i,{path:"/settings",element:d.jsx(Aa,{children:d.jsx(Qa,{children:d.jsx("div",{children:"系统设置内容"})})})}),d.jsx($i,{path:"/test",element:d.jsx(Aa,{children:d.jsx(Qa,{children:d.jsx(yKe,{})})})}),d.jsx($i,{path:"/telemetry-info",element:d.jsx(Aa,{children:d.jsx(Qa,{children:d.jsx(fKe,{})})})}),d.jsx($i,{path:"/olaolacopilot",element:d.jsx(Aa,{children:d.jsx(Qa,{children:d.jsx(yJe,{})})})}),d.jsx($i,{path:"/olaolacopilot-v3",element:d.jsx(Aa,{children:d.jsx(Qa,{children:d.jsx(klt,{})})})}),d.jsx($i,{path:"*",element:d.jsx(rL,{to:"/",replace:!0})})]}),Tlt=()=>d.jsx(pKe,{children:d.jsx(Hwe,{children:d.jsx(Elt,{})})}),Nlt=()=>{const[e,t]=A.useState("datasources"),[r,n]=A.useState({prometheus:localStorage.getItem("datasource_prometheus")||"",loki:localStorage.getItem("datasource_loki")||"",elasticsearch:localStorage.getItem("datasource_elasticsearch")||"",influxdb:localStorage.getItem("datasource_influxdb")||""}),[i,a]=A.useState({prometheus:localStorage.getItem("datasource_prometheus_enabled")!=="false",loki:localStorage.getItem("datasource_loki_enabled")==="true",elasticsearch:localStorage.getItem("datasource_elasticsearch_enabled")==="true",influxdb:localStorage.getItem("datasource_influxdb_enabled")==="true"}),[s,o]=A.useState({}),[l,c]=A.useState(!1),[u,h]=A.useState(!1),f=(m,y)=>{n(x=>({...x,[m]:y})),o(x=>{const _={...x};return delete _[m],_})},p=m=>{a(y=>{const x={...y,[m]:!y[m]};localStorage.setItem(`datasource_${m}_enabled`,x[m].toString());const _=new CustomEvent("datasource-change",{detail:{source:m,enabled:x[m]}});return window.dispatchEvent(_),x})},g=async m=>{if(!r[m]){o(x=>({...x,[m]:{success:!1,message:"请输入URL"}}));return}try{o(_=>({..._,[m]:{success:!1,message:"正在测试连接..."}})),await new Promise(_=>setTimeout(_,1e3)),!0&&(o(_=>({..._,[m]:{success:!0,message:"连接成功！"}})),a(_=>({..._,[m]:!0})))}catch(x){o(_=>({..._,[m]:{success:!1,message:"连接测试出错: "+(x instanceof Error?x.message:String(x))}}))}},v=()=>{c(!0),Object.entries(r).forEach(([m,y])=>{y?localStorage.setItem(`datasource_${m}`,y):localStorage.removeItem(`datasource_${m}`)}),Object.entries(i).forEach(([m,y])=>{localStorage.setItem(`datasource_${m}_enabled`,y.toString())}),setTimeout(()=>{c(!1),h(!0),setTimeout(()=>{h(!1)},3e3)},800)};return d.jsx("div",{className:"p-6 bg-white rounded-lg shadow",children:d.jsxs(u0,{value:e,onValueChange:t,children:[d.jsxs(d0,{className:"mb-6",children:[d.jsx(qr,{value:"datasources",children:"数据源配置"}),d.jsx(qr,{value:"gnmi-mapping",children:"gNMI路径指标映射表"})]}),d.jsxs(Yr,{value:"datasources",children:[d.jsx("h2",{className:"text-2xl font-bold mb-6",children:"数据源配置"}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"p-4 border rounded-md",children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsxs("h3",{className:"text-lg font-medium",children:["Prometheus ",d.jsx("span",{className:"text-gray-400",children:"(建议)"})]}),d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx("span",{className:"mr-2",children:"状态:"}),d.jsx("button",{onClick:()=>p("prometheus"),className:"flex items-center text-blue-600 hover:text-blue-800",children:i.prometheus?d.jsxs(d.Fragment,{children:[d.jsx(Mx,{className:"w-6 h-6 text-green-500"}),d.jsx("span",{className:"ml-1 text-green-500 font-medium",children:"已启用"})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ix,{className:"w-6 h-6 text-gray-400"}),d.jsx("span",{className:"ml-1 text-gray-500 font-medium",children:"已禁用"})]})})]})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("input",{type:"text",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md",placeholder:"http://prometheus:9090",value:r.prometheus,onChange:m=>f("prometheus",m.target.value)}),d.jsx("button",{className:`px-4 py-2 text-white rounded-md ${r.prometheus?"bg-blue-500 hover:bg-blue-600":"bg-gray-400 cursor-not-allowed"}`,disabled:!r.prometheus,onClick:()=>g("prometheus"),children:"测试连接"})]}),s.prometheus&&d.jsx("div",{className:`mt-2 text-sm ${s.prometheus.success?"text-green-600":"text-red-600"}`,children:s.prometheus.message})]}),d.jsxs("div",{className:"p-4 border rounded-md",children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsxs("h3",{className:"text-lg font-medium",children:["Loki ",d.jsx("span",{className:"text-gray-400",children:"(可选)"})]}),d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx("span",{className:"mr-2",children:"状态:"}),d.jsx("button",{onClick:()=>p("loki"),className:"flex items-center text-blue-600 hover:text-blue-800",children:i.loki?d.jsxs(d.Fragment,{children:[d.jsx(Mx,{className:"w-6 h-6 text-green-500"}),d.jsx("span",{className:"ml-1 text-green-500 font-medium",children:"已启用"})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ix,{className:"w-6 h-6 text-gray-400"}),d.jsx("span",{className:"ml-1 text-gray-500 font-medium",children:"已禁用"})]})})]})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("input",{type:"text",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md",placeholder:"http://loki:3100",value:r.loki,onChange:m=>f("loki",m.target.value)}),d.jsx("button",{className:`px-4 py-2 text-white rounded-md ${r.loki?"bg-blue-500 hover:bg-blue-600":"bg-gray-400 cursor-not-allowed"}`,disabled:!r.loki,onClick:()=>g("loki"),children:"测试连接"})]}),s.loki&&d.jsx("div",{className:`mt-2 text-sm ${s.loki.success?"text-green-600":"text-red-600"}`,children:s.loki.message})]}),d.jsxs("div",{className:"p-4 border rounded-md",children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsxs("h3",{className:"text-lg font-medium",children:["Elasticsearch ",d.jsx("span",{className:"text-gray-400",children:"(可选)"})]}),d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx("span",{className:"mr-2",children:"状态:"}),d.jsx("button",{onClick:()=>p("elasticsearch"),className:"flex items-center text-blue-600 hover:text-blue-800",children:i.elasticsearch?d.jsxs(d.Fragment,{children:[d.jsx(Mx,{className:"w-6 h-6 text-green-500"}),d.jsx("span",{className:"ml-1 text-green-500 font-medium",children:"已启用"})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ix,{className:"w-6 h-6 text-gray-400"}),d.jsx("span",{className:"ml-1 text-gray-500 font-medium",children:"已禁用"})]})})]})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("input",{type:"text",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md",placeholder:"http://elasticsearch:9200",value:r.elasticsearch,onChange:m=>f("elasticsearch",m.target.value)}),d.jsx("button",{className:`px-4 py-2 text-white rounded-md ${r.elasticsearch?"bg-blue-500 hover:bg-blue-600":"bg-gray-400 cursor-not-allowed"}`,disabled:!r.elasticsearch,onClick:()=>g("elasticsearch"),children:"测试连接"})]}),s.elasticsearch&&d.jsx("div",{className:`mt-2 text-sm ${s.elasticsearch.success?"text-green-600":"text-red-600"}`,children:s.elasticsearch.message})]}),d.jsxs("div",{className:"p-4 border rounded-md",children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsxs("h3",{className:"text-lg font-medium",children:["InfluxDB ",d.jsx("span",{className:"text-gray-400",children:"(可选)"})]}),d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx("span",{className:"mr-2",children:"状态:"}),d.jsx("button",{onClick:()=>p("influxdb"),className:"flex items-center text-blue-600 hover:text-blue-800",children:i.influxdb?d.jsxs(d.Fragment,{children:[d.jsx(Mx,{className:"w-6 h-6 text-green-500"}),d.jsx("span",{className:"ml-1 text-green-500 font-medium",children:"已启用"})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ix,{className:"w-6 h-6 text-gray-400"}),d.jsx("span",{className:"ml-1 text-gray-500 font-medium",children:"已禁用"})]})})]})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("input",{type:"text",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md",placeholder:"http://influxdb:8086",value:r.influxdb,onChange:m=>f("influxdb",m.target.value)}),d.jsx("button",{className:`px-4 py-2 text-white rounded-md ${r.influxdb?"bg-blue-500 hover:bg-blue-600":"bg-gray-400 cursor-not-allowed"}`,disabled:!r.influxdb,onClick:()=>g("influxdb"),children:"测试连接"})]}),s.influxdb&&d.jsx("div",{className:`mt-2 text-sm ${s.influxdb.success?"text-green-600":"text-red-600"}`,children:s.influxdb.message})]}),d.jsxs("div",{className:"bg-blue-50 border-blue-200 border p-4 rounded-md text-sm text-blue-800",children:[d.jsx("p",{className:"font-semibold",children:"注意事项:"}),d.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[d.jsx("li",{children:"Prometheus 是推荐的数据源，用于采集和查询设备状态与性能数据"}),d.jsx("li",{children:"可以根据您的需求启用或禁用任意数据源"}),d.jsx("li",{children:"禁用某数据源后，相关功能将不可用，但不会影响应用其他部分"}),d.jsx("li",{children:"所有配置信息将保存在浏览器本地存储中"})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{className:`px-4 py-2 rounded-md text-white ${l?"bg-gray-400":u?"bg-green-500":"bg-green-600 hover:bg-green-700"}`,disabled:l,onClick:v,children:l?"保存中...":u?"✓ 已保存":"保存配置"})})]})]}),d.jsx(Yr,{value:"gnmi-mapping",children:d.jsx(yZe,{})})]})})};var Alt={},_1,Er,ige,$f,EX,age,sge,oge,DF,s3,o3,lge,aw={},cge=[],jlt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,b1=Array.isArray;function sc(e,t){for(var r in t)e[r]=t[r];return e}function OF(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function na(e,t,r){var n,i,a,s={};for(a in t)a=="key"?n=t[a]:a=="ref"?i=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?_1.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)s[a]==null&&(s[a]=e.defaultProps[a]);return F_(e,s,n,i,null)}function F_(e,t,r,n,i){var a={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++ige,__i:-1,__u:0};return i==null&&Er.vnode!=null&&Er.vnode(a),a}function dN(){return{current:null}}function bi(e){return e.children}function dl(e,t){this.props=e,this.context=t}function Vv(e,t){if(t==null)return e.__?Vv(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?Vv(e):null}function uge(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return uge(e)}}function l3(e){(!e.__d&&(e.__d=!0)&&$f.push(e)&&!hN.__r++||EX!=Er.debounceRendering)&&((EX=Er.debounceRendering)||age)(hN)}function hN(){for(var e,t,r,n,i,a,s,o=1;$f.length;)$f.length>o&&$f.sort(sge),e=$f.shift(),o=$f.length,e.__d&&(r=void 0,i=(n=(t=e).__v).__e,a=[],s=[],t.__P&&((r=sc({},n)).__v=n.__v+1,Er.vnode&&Er.vnode(r),$F(t.__P,r,n,t.__n,t.__P.namespaceURI,32&n.__u?[i]:null,a,i??Vv(n),!!(32&n.__u),s),r.__v=n.__v,r.__.__k[r.__i]=r,fge(a,r,s),r.__e!=i&&uge(r)));hN.__r=0}function dge(e,t,r,n,i,a,s,o,l,c,u){var h,f,p,g,v,m,y=n&&n.__k||cge,x=t.length;for(l=Rlt(r,t,y,l,x),h=0;h<x;h++)(p=r.__k[h])!=null&&(f=p.__i==-1?aw:y[p.__i]||aw,p.__i=h,m=$F(e,p,f,i,a,s,o,l,c,u),g=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&BF(f.ref,null,p),u.push(p.ref,p.__c||g,p)),v==null&&g!=null&&(v=g),4&p.__u||f.__k===p.__k?l=hge(p,l,e):typeof p.type=="function"&&m!==void 0?l=m:g&&(l=g.nextSibling),p.__u&=-7);return r.__e=v,l}function Rlt(e,t,r,n,i){var a,s,o,l,c,u=r.length,h=u,f=0;for(e.__k=new Array(i),a=0;a<i;a++)(s=t[a])!=null&&typeof s!="boolean"&&typeof s!="function"?(l=a+f,(s=e.__k[a]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?F_(null,s,null,null,null):b1(s)?F_(bi,{children:s},null,null,null):s.constructor==null&&s.__b>0?F_(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=e,s.__b=e.__b+1,o=null,(c=s.__i=Ilt(s,r,l,h))!=-1&&(h--,(o=r[c])&&(o.__u|=2)),o==null||o.__v==null?(c==-1&&(i>u?f--:i<u&&f++),typeof s.type!="function"&&(s.__u|=4)):c!=l&&(c==l-1?f--:c==l+1?f++:(c>l?f--:f++,s.__u|=4))):e.__k[a]=null;if(h)for(a=0;a<u;a++)(o=r[a])!=null&&!(2&o.__u)&&(o.__e==n&&(n=Vv(o)),gge(o,o));return n}function hge(e,t,r){var n,i;if(typeof e.type=="function"){for(n=e.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=e,t=hge(n[i],t,r));return t}e.__e!=t&&(t&&e.type&&!r.contains(t)&&(t=Vv(e)),r.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function vu(e,t){return t=t||[],e==null||typeof e=="boolean"||(b1(e)?e.some(function(r){vu(r,t)}):t.push(e)),t}function Ilt(e,t,r,n){var i,a,s=e.key,o=e.type,l=t[r];if(l===null&&e.key==null||l&&s==l.key&&o==l.type&&!(2&l.__u))return r;if(n>(l!=null&&!(2&l.__u)?1:0))for(i=r-1,a=r+1;i>=0||a<t.length;){if(i>=0){if((l=t[i])&&!(2&l.__u)&&s==l.key&&o==l.type)return i;i--}if(a<t.length){if((l=t[a])&&!(2&l.__u)&&s==l.key&&o==l.type)return a;a++}}return-1}function TX(e,t,r){t[0]=="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||jlt.test(t)?r:r+"px"}function rk(e,t,r,n,i){var a;e:if(t=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||TX(e.style,t,"");if(r)for(t in r)n&&r[t]==n[t]||TX(e.style,t,r[t])}else if(t[0]=="o"&&t[1]=="n")a=t!=(t=t.replace(oge,"$1")),t=t.toLowerCase()in e||t=="onFocusOut"||t=="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=r,r?n?r.u=n.u:(r.u=DF,e.addEventListener(t,a?o3:s3,a)):e.removeEventListener(t,a?o3:s3,a);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&r==1?"":r))}}function NX(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.t==null)t.t=DF++;else if(t.t<r.u)return;return r(Er.event?Er.event(t):t)}}}function $F(e,t,r,n,i,a,s,o,l,c){var u,h,f,p,g,v,m,y,x,_,b,w,S,k,C,E,T,N=t.type;if(t.constructor!=null)return null;128&r.__u&&(l=!!(32&r.__u),a=[o=t.__e=r.__e]),(u=Er.__b)&&u(t);e:if(typeof N=="function")try{if(y=t.props,x="prototype"in N&&N.prototype.render,_=(u=N.contextType)&&n[u.__c],b=u?_?_.props.value:u.__:n,r.__c?m=(h=t.__c=r.__c).__=h.__E:(x?t.__c=h=new N(y,b):(t.__c=h=new dl(y,b),h.constructor=N,h.render=Plt),_&&_.sub(h),h.props=y,h.state||(h.state={}),h.context=b,h.__n=n,f=h.__d=!0,h.__h=[],h._sb=[]),x&&h.__s==null&&(h.__s=h.state),x&&N.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=sc({},h.__s)),sc(h.__s,N.getDerivedStateFromProps(y,h.__s))),p=h.props,g=h.state,h.__v=t,f)x&&N.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),x&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(x&&N.getDerivedStateFromProps==null&&y!==p&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(y,b),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(y,h.__s,b)===!1||t.__v==r.__v){for(t.__v!=r.__v&&(h.props=y,h.state=h.__s,h.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(I){I&&(I.__=t)}),w=0;w<h._sb.length;w++)h.__h.push(h._sb[w]);h._sb=[],h.__h.length&&s.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(y,h.__s,b),x&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(p,g,v)})}if(h.context=b,h.props=y,h.__P=e,h.__e=!1,S=Er.__r,k=0,x){for(h.state=h.__s,h.__d=!1,S&&S(t),u=h.render(h.props,h.state,h.context),C=0;C<h._sb.length;C++)h.__h.push(h._sb[C]);h._sb=[]}else do h.__d=!1,S&&S(t),u=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++k<25);h.state=h.__s,h.getChildContext!=null&&(n=sc(sc({},n),h.getChildContext())),x&&!f&&h.getSnapshotBeforeUpdate!=null&&(v=h.getSnapshotBeforeUpdate(p,g)),E=u,u!=null&&u.type===bi&&u.key==null&&(E=pge(u.props.children)),o=dge(e,b1(E)?E:[E],t,r,n,i,a,s,o,l,c),h.base=t.__e,t.__u&=-161,h.__h.length&&s.push(h),m&&(h.__E=h.__=null)}catch(I){if(t.__v=null,l||a!=null)if(I.then){for(t.__u|=l?160:128;o&&o.nodeType==8&&o.nextSibling;)o=o.nextSibling;a[a.indexOf(o)]=null,t.__e=o}else for(T=a.length;T--;)OF(a[T]);else t.__e=r.__e,t.__k=r.__k;Er.__e(I,t,r)}else a==null&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):o=t.__e=Mlt(r.__e,t,r,n,i,a,s,l,c);return(u=Er.diffed)&&u(t),128&t.__u?void 0:o}function fge(e,t,r){for(var n=0;n<r.length;n++)BF(r[n],r[++n],r[++n]);Er.__c&&Er.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(a){a.call(i)})}catch(a){Er.__e(a,i.__v)}})}function pge(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:b1(e)?e.map(pge):sc({},e)}function Mlt(e,t,r,n,i,a,s,o,l){var c,u,h,f,p,g,v,m=r.props,y=t.props,x=t.type;if(x=="svg"?i="http://www.w3.org/2000/svg":x=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),a!=null){for(c=0;c<a.length;c++)if((p=a[c])&&"setAttribute"in p==!!x&&(x?p.localName==x:p.nodeType==3)){e=p,a[c]=null;break}}if(e==null){if(x==null)return document.createTextNode(y);e=document.createElementNS(i,x,y.is&&y),o&&(Er.__m&&Er.__m(t,a),o=!1),a=null}if(x==null)m===y||o&&e.data==y||(e.data=y);else{if(a=a&&_1.call(e.childNodes),m=r.props||aw,!o&&a!=null)for(m={},c=0;c<e.attributes.length;c++)m[(p=e.attributes[c]).name]=p.value;for(c in m)if(p=m[c],c!="children"){if(c=="dangerouslySetInnerHTML")h=p;else if(!(c in y)){if(c=="value"&&"defaultValue"in y||c=="checked"&&"defaultChecked"in y)continue;rk(e,c,null,p,i)}}for(c in y)p=y[c],c=="children"?f=p:c=="dangerouslySetInnerHTML"?u=p:c=="value"?g=p:c=="checked"?v=p:o&&typeof p!="function"||m[c]===p||rk(e,c,p,m[c],i);if(u)o||h&&(u.__html==h.__html||u.__html==e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(h&&(e.innerHTML=""),dge(t.type=="template"?e.content:e,b1(f)?f:[f],t,r,n,x=="foreignObject"?"http://www.w3.org/1999/xhtml":i,a,s,a?a[0]:r.__k&&Vv(r,0),o,l),a!=null)for(c=a.length;c--;)OF(a[c]);o||(c="value",x=="progress"&&g==null?e.removeAttribute("value"):g!=null&&(g!==e[c]||x=="progress"&&!g||x=="option"&&g!=m[c])&&rk(e,c,g,m[c],i),c="checked",v!=null&&v!=e[c]&&rk(e,c,v,m[c],i))}return e}function BF(e,t,r){try{if(typeof e=="function"){var n=typeof e.__u=="function";n&&e.__u(),n&&t==null||(e.__u=e(t))}else e.current=t}catch(i){Er.__e(i,r)}}function gge(e,t,r){var n,i;if(Er.unmount&&Er.unmount(e),(n=e.ref)&&(n.current&&n.current!=e.__e||BF(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){Er.__e(a,t)}n.base=n.__P=null}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&gge(n[i],t,r||typeof e.type!="function");r||OF(e.__e),e.__c=e.__=e.__e=void 0}function Plt(e,t,r){return this.constructor(e,r)}function Wv(e,t,r){var n,i,a,s;t==document&&(t=document.documentElement),Er.__&&Er.__(e,t),i=(n=typeof r=="function")?null:r&&r.__k||t.__k,a=[],s=[],$F(t,e=(!n&&r||t).__k=na(bi,null,[e]),i||aw,aw,t.namespaceURI,!n&&r?[r]:i?null:t.firstChild?_1.call(t.childNodes):null,a,!n&&r?r:i?i.__e:t.firstChild,n,s),fge(a,e,s)}function mge(e,t){Wv(e,t,mge)}function Llt(e,t,r){var n,i,a,s,o=sc({},e.props);for(a in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)a=="key"?n=t[a]:a=="ref"?i=t[a]:o[a]=t[a]==null&&s!=null?s[a]:t[a];return arguments.length>2&&(o.children=arguments.length>3?_1.call(arguments,2):r),F_(e.type,o,n||e.key,i||e.ref,null)}function Ci(e){function t(r){var n,i;return this.getChildContext||(n=new Set,(i={})[t.__c]=this,this.getChildContext=function(){return i},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(a){this.props.value!=a.value&&n.forEach(function(s){s.__e=!0,l3(s)})},this.sub=function(a){n.add(a);var s=a.componentWillUnmount;a.componentWillUnmount=function(){n&&n.delete(a),s&&s.call(a)}}),r.children}return t.__c="__cC"+lge++,t.__=e,t.Provider=t.__l=(t.Consumer=function(r,n){return r.children(n)}).contextType=t,t}_1=cge.slice,Er={__e:function(e,t,r,n){for(var i,a,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(e)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,n||{}),s=i.__d),s)return i.__E=i}catch(o){e=o}throw e}},ige=0,dl.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=sc({},this.state),typeof e=="function"&&(e=e(sc({},r),this.props)),e&&sc(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),l3(this))},dl.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),l3(this))},dl.prototype.render=bi,$f=[],age=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,sge=function(e,t){return e.__v.__b-t.__v.__b},hN.__r=0,oge=/(PointerCapture)$|Capture$/i,DF=0,s3=NX(!1),o3=NX(!0),lge=0;const Dlt=`/*! tailwindcss v4.1.5 | MIT License | https://tailwindcss.com */
@layer properties{@supports ((-webkit-hyphens:none) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){stagewise-companion-anchor *,stagewise-companion-anchor :before,stagewise-companion-anchor :after,stagewise-companion-anchor ::backdrop{--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-border-style:solid;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-font-weight:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial;--tw-duration:initial}}}@layer theme{stagewise-companion-anchor,stagewise-companion-anchor{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-600:oklch(57.7% .245 27.325);--color-green-600:oklch(62.7% .194 149.214);--color-teal-500:oklch(70.4% .14 182.503);--color-blue-500:oklch(62.3% .214 259.815);--color-blue-600:oklch(54.6% .245 262.881);--color-indigo-700:oklch(45.7% .24 277.023);--color-indigo-950:oklch(25.7% .09 281.288);--color-rose-600:oklch(58.6% .253 17.585);--color-zinc-50:oklch(98.5% 0 0);--color-zinc-100:oklch(96.7% .001 286.375);--color-zinc-500:oklch(55.2% .016 285.938);--color-zinc-600:oklch(44.2% .017 285.786);--color-zinc-700:oklch(37% .013 285.805);--color-zinc-900:oklch(21% .006 285.885);--color-zinc-950:oklch(14.1% .005 285.823);--color-black:#000;--color-white:#fff;--spacing:.25rem;--container-sm:24rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-base:1rem;--text-base--line-height:calc(1.5/1);--font-weight-normal:400;--font-weight-semibold:600;--font-weight-bold:700;--radius-md:.375rem;--radius-lg:.5rem;--radius-xl:.75rem;--radius-2xl:1rem;--radius-3xl:1.5rem;--drop-shadow-xs:0 1px 1px #0000000d;--drop-shadow-md:0 3px 3px #0000001f;--drop-shadow-xl:0 9px 7px #0000001a;--animate-pulse:pulse 2s cubic-bezier(.4,0,.6,1)infinite;--blur-xs:4px;--blur-sm:8px;--blur-md:12px;--blur-lg:16px;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono);--color-background:var(--color-white);--color-foreground:var(--color-zinc-950);--color-muted-foreground:var(--color-zinc-700);--color-border:var(--color-zinc-500)}}@layer base{stagewise-companion-anchor *,stagewise-companion-anchor :after,stagewise-companion-anchor :before,stagewise-companion-anchor ::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}stagewise-companion-anchor ::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}:where(stagewise-companion-anchor),stagewise-companion-anchor{-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}stagewise-companion-anchor hr{height:0;color:inherit;border-top-width:1px}stagewise-companion-anchor abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}stagewise-companion-anchor h1,stagewise-companion-anchor h2,stagewise-companion-anchor h3,stagewise-companion-anchor h4,stagewise-companion-anchor h5,stagewise-companion-anchor h6{font-size:inherit;font-weight:inherit}stagewise-companion-anchor a{color:inherit;-webkit-text-decoration:inherit;-webkit-text-decoration:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}stagewise-companion-anchor b,stagewise-companion-anchor strong{font-weight:bolder}stagewise-companion-anchor code,stagewise-companion-anchor kbd,stagewise-companion-anchor samp,stagewise-companion-anchor pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}stagewise-companion-anchor small{font-size:80%}stagewise-companion-anchor sub,stagewise-companion-anchor sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}stagewise-companion-anchor sub{bottom:-.25em}stagewise-companion-anchor sup{top:-.5em}stagewise-companion-anchor table{text-indent:0;border-color:inherit;border-collapse:collapse}stagewise-companion-anchor :-moz-focusring{outline:auto}stagewise-companion-anchor progress{vertical-align:baseline}stagewise-companion-anchor summary{display:list-item}stagewise-companion-anchor ol,stagewise-companion-anchor ul,stagewise-companion-anchor menu{list-style:none}stagewise-companion-anchor img,stagewise-companion-anchor svg,stagewise-companion-anchor video,stagewise-companion-anchor canvas,stagewise-companion-anchor audio,stagewise-companion-anchor iframe,stagewise-companion-anchor embed,stagewise-companion-anchor object{vertical-align:middle;display:block}stagewise-companion-anchor img,stagewise-companion-anchor video{max-width:100%;height:auto}stagewise-companion-anchor button,stagewise-companion-anchor input,stagewise-companion-anchor select,stagewise-companion-anchor optgroup,stagewise-companion-anchor textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}stagewise-companion-anchor ::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}stagewise-companion-anchor :where(select:is([multiple],[size])) optgroup{font-weight:bolder}stagewise-companion-anchor :where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}stagewise-companion-anchor ::file-selector-button{margin-inline-end:4px}stagewise-companion-anchor ::-moz-placeholder{opacity:1}stagewise-companion-anchor ::placeholder{opacity:1}@supports (not (-webkit-appearance:-apple-pay-button)) or (contain-intrinsic-size:1px){stagewise-companion-anchor ::-moz-placeholder{color:currentColor}stagewise-companion-anchor ::placeholder{color:currentColor}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor ::-moz-placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}stagewise-companion-anchor ::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}stagewise-companion-anchor textarea{resize:vertical}stagewise-companion-anchor ::-webkit-search-decoration{-webkit-appearance:none}stagewise-companion-anchor ::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}stagewise-companion-anchor ::-webkit-datetime-edit{display:inline-flex}stagewise-companion-anchor ::-webkit-datetime-edit-fields-wrapper{padding:0}stagewise-companion-anchor ::-webkit-datetime-edit{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-year-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-month-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-day-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-hour-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-minute-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-second-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-millisecond-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-meridiem-field{padding-block:0}stagewise-companion-anchor :-moz-ui-invalid{box-shadow:none}stagewise-companion-anchor button,stagewise-companion-anchor input:where([type=button],[type=reset],[type=submit]){-webkit-appearance:button;-moz-appearance:button;appearance:button}stagewise-companion-anchor ::file-selector-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}stagewise-companion-anchor ::-webkit-inner-spin-button{height:auto}stagewise-companion-anchor ::-webkit-outer-spin-button{height:auto}stagewise-companion-anchor [hidden]:where(:not([hidden=until-found])){display:none!important}stagewise-companion-anchor stagewise-companion-anchor *{min-width:0;min-height:0;position:relative}}@layer components;@layer utilities{stagewise-companion-anchor .pointer-events-auto{pointer-events:auto!important}stagewise-companion-anchor .pointer-events-none{pointer-events:none!important}stagewise-companion-anchor .visible{visibility:visible!important}stagewise-companion-anchor .absolute{position:absolute!important}stagewise-companion-anchor .fixed{position:fixed!important}stagewise-companion-anchor .relative{position:relative!important}stagewise-companion-anchor .inset-0{inset:calc(var(--spacing)*0)!important}stagewise-companion-anchor .inset-4{inset:calc(var(--spacing)*4)!important}stagewise-companion-anchor .top-0{top:calc(var(--spacing)*0)!important}stagewise-companion-anchor .top-1\\/2{top:50%!important}stagewise-companion-anchor .top-\\[-20\\%\\]{top:-20%!important}stagewise-companion-anchor .top-\\[25\\%\\]{top:25%!important}stagewise-companion-anchor .-right-1{right:calc(var(--spacing)*-1)!important}stagewise-companion-anchor .right-0{right:calc(var(--spacing)*0)!important}stagewise-companion-anchor .right-1\\/2{right:50%!important}stagewise-companion-anchor .right-2{right:calc(var(--spacing)*2)!important}stagewise-companion-anchor .-bottom-0\\.5{bottom:calc(var(--spacing)*-.5)!important}stagewise-companion-anchor .bottom-1\\/2{bottom:50%!important}stagewise-companion-anchor .bottom-3{bottom:calc(var(--spacing)*3)!important}stagewise-companion-anchor .left-0{left:calc(var(--spacing)*0)!important}stagewise-companion-anchor .left-1\\/2{left:50%!important}stagewise-companion-anchor .left-3{left:calc(var(--spacing)*3)!important}stagewise-companion-anchor .left-\\[-10\\%\\]{left:-10%!important}stagewise-companion-anchor .left-\\[25\\%\\]{left:25%!important}stagewise-companion-anchor .z-50{z-index:50!important}stagewise-companion-anchor .container{width:100%!important}@media (min-width:40rem){stagewise-companion-anchor .container{max-width:40rem!important}}@media (min-width:48rem){stagewise-companion-anchor .container{max-width:48rem!important}}@media (min-width:64rem){stagewise-companion-anchor .container{max-width:64rem!important}}@media (min-width:80rem){stagewise-companion-anchor .container{max-width:80rem!important}}@media (min-width:96rem){stagewise-companion-anchor .container{max-width:96rem!important}}stagewise-companion-anchor .block{display:block!important}stagewise-companion-anchor .contents{display:contents!important}stagewise-companion-anchor .flex{display:flex!important}stagewise-companion-anchor .hidden{display:none!important}stagewise-companion-anchor .inline{display:inline!important}stagewise-companion-anchor .aspect-square{aspect-ratio:1!important}stagewise-companion-anchor .size-0{width:calc(var(--spacing)*0)!important;height:calc(var(--spacing)*0)!important}stagewise-companion-anchor .size-1\\.5{width:calc(var(--spacing)*1.5)!important;height:calc(var(--spacing)*1.5)!important}stagewise-companion-anchor .size-2\\/3{width:66.6667%!important;height:66.6667%!important}stagewise-companion-anchor .size-3{width:calc(var(--spacing)*3)!important;height:calc(var(--spacing)*3)!important}stagewise-companion-anchor .size-4{width:calc(var(--spacing)*4)!important;height:calc(var(--spacing)*4)!important}stagewise-companion-anchor .size-5{width:calc(var(--spacing)*5)!important;height:calc(var(--spacing)*5)!important}stagewise-companion-anchor .size-6{width:calc(var(--spacing)*6)!important;height:calc(var(--spacing)*6)!important}stagewise-companion-anchor .size-8{width:calc(var(--spacing)*8)!important;height:calc(var(--spacing)*8)!important}stagewise-companion-anchor .size-9\\/12{width:75%!important;height:75%!important}stagewise-companion-anchor .size-12{width:calc(var(--spacing)*12)!important;height:calc(var(--spacing)*12)!important}stagewise-companion-anchor .size-\\[120\\%\\]{width:120%!important;height:120%!important}stagewise-companion-anchor .size-full{width:100%!important;height:100%!important}stagewise-companion-anchor .h-4{height:calc(var(--spacing)*4)!important}stagewise-companion-anchor .h-5{height:calc(var(--spacing)*5)!important}stagewise-companion-anchor .h-6{height:calc(var(--spacing)*6)!important}stagewise-companion-anchor .h-8{height:calc(var(--spacing)*8)!important}stagewise-companion-anchor .h-\\[4\\.5em\\]{height:4.5em!important}stagewise-companion-anchor .h-\\[50\\%\\]{height:50%!important}stagewise-companion-anchor .h-\\[120\\%\\]{height:120%!important}stagewise-companion-anchor .h-auto{height:auto!important}stagewise-companion-anchor .h-fit{height:-moz-fit-content!important;height:fit-content!important}stagewise-companion-anchor .h-full{height:100%!important}stagewise-companion-anchor .h-screen{height:100vh!important}stagewise-companion-anchor .max-h-\\[50vh\\]{max-height:50vh!important}stagewise-companion-anchor .max-h-full{max-height:100%!important}stagewise-companion-anchor .w-0{width:calc(var(--spacing)*0)!important}stagewise-companion-anchor .w-6{width:calc(var(--spacing)*6)!important}stagewise-companion-anchor .w-80{width:calc(var(--spacing)*80)!important}stagewise-companion-anchor .w-96{width:calc(var(--spacing)*96)!important}stagewise-companion-anchor .w-\\[50\\%\\]{width:50%!important}stagewise-companion-anchor .w-fit{width:-moz-fit-content!important;width:fit-content!important}stagewise-companion-anchor .w-full{width:100%!important}stagewise-companion-anchor .w-max{width:-moz-max-content!important;width:max-content!important}stagewise-companion-anchor .w-screen{width:100vw!important}stagewise-companion-anchor .max-w-8{max-width:calc(var(--spacing)*8)!important}stagewise-companion-anchor .max-w-48{max-width:calc(var(--spacing)*48)!important}stagewise-companion-anchor .max-w-90{max-width:calc(var(--spacing)*90)!important}stagewise-companion-anchor .max-w-\\[80\\%\\]{max-width:80%!important}stagewise-companion-anchor .max-w-\\[80vw\\]{max-width:80vw!important}stagewise-companion-anchor .max-w-sm{max-width:var(--container-sm)!important}stagewise-companion-anchor .min-w-4{min-width:calc(var(--spacing)*4)!important}stagewise-companion-anchor .min-w-24{min-width:calc(var(--spacing)*24)!important}stagewise-companion-anchor .flex-1{flex:1!important}stagewise-companion-anchor .flex-shrink-0,stagewise-companion-anchor .shrink-0{flex-shrink:0!important}stagewise-companion-anchor .origin-center{transform-origin:50%!important}stagewise-companion-anchor .transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)!important}stagewise-companion-anchor .animate-pulse{animation:var(--animate-pulse)!important}stagewise-companion-anchor .cursor-grab{cursor:grab!important}stagewise-companion-anchor .cursor-pointer{cursor:pointer!important}stagewise-companion-anchor .resize{resize:both!important}stagewise-companion-anchor .resize-none{resize:none!important}stagewise-companion-anchor .snap-start{scroll-snap-align:start!important}stagewise-companion-anchor .flex-col{flex-direction:column!important}stagewise-companion-anchor .flex-row{flex-direction:row!important}stagewise-companion-anchor .items-center{align-items:center!important}stagewise-companion-anchor .items-end{align-items:flex-end!important}stagewise-companion-anchor .items-start{align-items:flex-start!important}stagewise-companion-anchor .items-stretch{align-items:stretch!important}stagewise-companion-anchor .justify-between{justify-content:space-between!important}stagewise-companion-anchor .justify-center{justify-content:center!important}stagewise-companion-anchor .justify-end{justify-content:flex-end!important}stagewise-companion-anchor .justify-start{justify-content:flex-start!important}stagewise-companion-anchor .gap-1{gap:calc(var(--spacing)*1)!important}stagewise-companion-anchor .gap-2{gap:calc(var(--spacing)*2)!important}stagewise-companion-anchor .gap-3{gap:calc(var(--spacing)*3)!important}stagewise-companion-anchor .truncate{text-overflow:ellipsis!important;white-space:nowrap!important;overflow:hidden!important}stagewise-companion-anchor .overflow-hidden{overflow:hidden!important}stagewise-companion-anchor .overflow-visible{overflow:visible!important}stagewise-companion-anchor .overflow-x-auto{overflow-x:auto!important}stagewise-companion-anchor .overflow-x-hidden{overflow-x:hidden!important}stagewise-companion-anchor .overflow-y-auto{overflow-y:auto!important}stagewise-companion-anchor .overflow-y-visible{overflow-y:visible!important}stagewise-companion-anchor .rounded{border-radius:.25rem!important}stagewise-companion-anchor .rounded-2xl{border-radius:var(--radius-2xl)!important}stagewise-companion-anchor .rounded-3xl{border-radius:var(--radius-3xl)!important}stagewise-companion-anchor .rounded-full{border-radius:3.40282e38px!important}stagewise-companion-anchor .rounded-lg{border-radius:var(--radius-lg)!important}stagewise-companion-anchor .rounded-md{border-radius:var(--radius-md)!important}stagewise-companion-anchor .rounded-xl{border-radius:var(--radius-xl)!important}stagewise-companion-anchor .rounded-t-3xl{border-top-left-radius:var(--radius-3xl)!important;border-top-right-radius:var(--radius-3xl)!important}stagewise-companion-anchor .border{border-style:var(--tw-border-style)!important;border-width:1px!important}stagewise-companion-anchor .border-2{border-style:var(--tw-border-style)!important;border-width:2px!important}stagewise-companion-anchor .border-x{border-inline-style:var(--tw-border-style)!important;border-inline-width:1px!important}stagewise-companion-anchor .border-t{border-top-style:var(--tw-border-style)!important;border-top-width:1px!important}stagewise-companion-anchor .border-r{border-right-style:var(--tw-border-style)!important;border-right-width:1px!important}stagewise-companion-anchor .border-solid{--tw-border-style:solid!important;border-style:solid!important}stagewise-companion-anchor .border-blue-600\\/80{border-color:#155dfccc!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .border-blue-600\\/80{border-color:color-mix(in oklab,var(--color-blue-600)80%,transparent)!important}}stagewise-companion-anchor .border-border\\/10{border-color:#71717b1a!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .border-border\\/10{border-color:color-mix(in oklab,var(--color-border)10%,transparent)!important}}stagewise-companion-anchor .border-border\\/20{border-color:#71717b33!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .border-border\\/20{border-color:color-mix(in oklab,var(--color-border)20%,transparent)!important}}stagewise-companion-anchor .border-border\\/30{border-color:#71717b4d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .border-border\\/30{border-color:color-mix(in oklab,var(--color-border)30%,transparent)!important}}stagewise-companion-anchor .border-green-600\\/80{border-color:#00a544cc!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .border-green-600\\/80{border-color:color-mix(in oklab,var(--color-green-600)80%,transparent)!important}}stagewise-companion-anchor .border-r-border\\/30{border-right-color:#71717b4d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .border-r-border\\/30{border-right-color:color-mix(in oklab,var(--color-border)30%,transparent)!important}}stagewise-companion-anchor .border-l-transparent{border-left-color:#0000!important}stagewise-companion-anchor .bg-background\\/40{background-color:#fff6!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-background\\/40{background-color:color-mix(in oklab,var(--color-background)40%,transparent)!important}}stagewise-companion-anchor .bg-background\\/60{background-color:#fff9!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-background\\/60{background-color:color-mix(in oklab,var(--color-background)60%,transparent)!important}}stagewise-companion-anchor .bg-blue-600{background-color:var(--color-blue-600)!important}stagewise-companion-anchor .bg-blue-600\\/20{background-color:#155dfc33!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-blue-600\\/20{background-color:color-mix(in oklab,var(--color-blue-600)20%,transparent)!important}}stagewise-companion-anchor .bg-green-600\\/5{background-color:#00a5440d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-green-600\\/5{background-color:color-mix(in oklab,var(--color-green-600)5%,transparent)!important}}stagewise-companion-anchor .bg-rose-600{background-color:var(--color-rose-600)!important}stagewise-companion-anchor .bg-transparent{background-color:#0000!important}stagewise-companion-anchor .bg-white\\/60{background-color:#fff9!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-white\\/60{background-color:color-mix(in oklab,var(--color-white)60%,transparent)!important}}stagewise-companion-anchor .bg-zinc-50\\/80{background-color:#fafafacc!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-zinc-50\\/80{background-color:color-mix(in oklab,var(--color-zinc-50)80%,transparent)!important}}stagewise-companion-anchor .bg-zinc-500{background-color:var(--color-zinc-500)!important}stagewise-companion-anchor .bg-zinc-500\\/10{background-color:#71717b1a!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-zinc-500\\/10{background-color:color-mix(in oklab,var(--color-zinc-500)10%,transparent)!important}}stagewise-companion-anchor .bg-zinc-600{background-color:var(--color-zinc-600)!important}stagewise-companion-anchor .bg-zinc-950\\/5{background-color:#09090b0d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-zinc-950\\/5{background-color:color-mix(in oklab,var(--color-zinc-950)5%,transparent)!important}}stagewise-companion-anchor .bg-gradient-to-tr{--tw-gradient-position:to top right in oklab!important;background-image:linear-gradient(var(--tw-gradient-stops))!important}stagewise-companion-anchor .bg-\\[radial-gradient\\(circle\\,rgba\\(55\\,48\\,163\\,0\\)_55\\%\\,rgba\\(55\\,48\\,163\\,0\\.35\\)_73\\%\\)\\]{background-image:radial-gradient(circle,#3730a300 55%,#3730a359 73%)!important}stagewise-companion-anchor .bg-\\[radial-gradient\\(circle\\,rgba\\(219\\,39\\,119\\,0\\.2\\)_0\\%\\,rgba\\(219\\,39\\,119\\,0\\)_100\\%\\)\\]{background-image:radial-gradient(circle,#db277733 0%,#db277700 100%)!important}stagewise-companion-anchor .bg-\\[radial-gradient\\(circle\\,rgba\\(255\\,255\\,255\\,0\\)_60\\%\\,rgba\\(255\\,255\\,255\\,0\\.2\\)_70\\%\\)\\]{background-image:radial-gradient(circle,#fff0 60%,#fff3 70%)!important}stagewise-companion-anchor .from-indigo-700{--tw-gradient-from:var(--color-indigo-700)!important;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))!important}stagewise-companion-anchor .via-blue-500{--tw-gradient-via:var(--color-blue-500)!important;--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position)!important;--tw-gradient-stops:var(--tw-gradient-via-stops)!important}stagewise-companion-anchor .to-teal-500{--tw-gradient-to:var(--color-teal-500)!important;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))!important}stagewise-companion-anchor .fill-current{fill:currentColor!important}stagewise-companion-anchor .fill-white{fill:var(--color-white)!important}stagewise-companion-anchor .fill-zinc-500\\/50{fill:#71717b80!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .fill-zinc-500\\/50{fill:color-mix(in oklab,var(--color-zinc-500)50%,transparent)!important}}stagewise-companion-anchor .fill-zinc-950{fill:var(--color-zinc-950)!important}stagewise-companion-anchor .stroke-black\\/30{stroke:#0000004d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .stroke-black\\/30{stroke:color-mix(in oklab,var(--color-black)30%,transparent)!important}}stagewise-companion-anchor .stroke-none{stroke:none!important}stagewise-companion-anchor .stroke-1{stroke-width:1px!important}stagewise-companion-anchor .p-0{padding:calc(var(--spacing)*0)!important}stagewise-companion-anchor .p-0\\.5{padding:calc(var(--spacing)*.5)!important}stagewise-companion-anchor .p-1{padding:calc(var(--spacing)*1)!important}stagewise-companion-anchor .p-1\\.5{padding:calc(var(--spacing)*1.5)!important}stagewise-companion-anchor .p-2{padding:calc(var(--spacing)*2)!important}stagewise-companion-anchor .p-3{padding:calc(var(--spacing)*3)!important}stagewise-companion-anchor .px-0\\.5{padding-inline:calc(var(--spacing)*.5)!important}stagewise-companion-anchor .px-1{padding-inline:calc(var(--spacing)*1)!important}stagewise-companion-anchor .px-2{padding-inline:calc(var(--spacing)*2)!important}stagewise-companion-anchor .px-3{padding-inline:calc(var(--spacing)*3)!important}stagewise-companion-anchor .py-0{padding-block:calc(var(--spacing)*0)!important}stagewise-companion-anchor .py-1{padding-block:calc(var(--spacing)*1)!important}stagewise-companion-anchor .pt-2{padding-top:calc(var(--spacing)*2)!important}stagewise-companion-anchor .pr-6{padding-right:calc(var(--spacing)*6)!important}stagewise-companion-anchor .pb-0{padding-bottom:calc(var(--spacing)*0)!important}stagewise-companion-anchor .pb-2{padding-bottom:calc(var(--spacing)*2)!important}stagewise-companion-anchor .pl-2{padding-left:calc(var(--spacing)*2)!important}stagewise-companion-anchor .text-base{font-size:var(--text-base)!important;line-height:var(--tw-leading,var(--text-base--line-height))!important}stagewise-companion-anchor .text-sm{font-size:var(--text-sm)!important;line-height:var(--tw-leading,var(--text-sm--line-height))!important}stagewise-companion-anchor .text-xs{font-size:var(--text-xs)!important;line-height:var(--tw-leading,var(--text-xs--line-height))!important}stagewise-companion-anchor .font-bold{--tw-font-weight:var(--font-weight-bold)!important;font-weight:var(--font-weight-bold)!important}stagewise-companion-anchor .font-normal{--tw-font-weight:var(--font-weight-normal)!important;font-weight:var(--font-weight-normal)!important}stagewise-companion-anchor .font-semibold{--tw-font-weight:var(--font-weight-semibold)!important;font-weight:var(--font-weight-semibold)!important}stagewise-companion-anchor .text-border\\/60{color:#71717b99!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .text-border\\/60{color:color-mix(in oklab,var(--color-border)60%,transparent)!important}}stagewise-companion-anchor .text-foreground{color:var(--color-foreground)!important}stagewise-companion-anchor .text-muted-foreground{color:var(--color-muted-foreground)!important}stagewise-companion-anchor .text-muted-foreground\\/30{color:#3f3f464d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .text-muted-foreground\\/30{color:color-mix(in oklab,var(--color-muted-foreground)30%,transparent)!important}}stagewise-companion-anchor .text-transparent{color:#0000!important}stagewise-companion-anchor .text-white{color:var(--color-white)!important}stagewise-companion-anchor .text-zinc-50{color:var(--color-zinc-50)!important}stagewise-companion-anchor .text-zinc-950{color:var(--color-zinc-950)!important}stagewise-companion-anchor .text-zinc-950\\/50{color:#09090b80!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .text-zinc-950\\/50{color:color-mix(in oklab,var(--color-zinc-950)50%,transparent)!important}}stagewise-companion-anchor .opacity-20{opacity:.2!important}stagewise-companion-anchor .opacity-50{opacity:.5!important}stagewise-companion-anchor .opacity-80{opacity:.8!important}stagewise-companion-anchor .opacity-100{opacity:1!important}stagewise-companion-anchor .shadow{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a)!important;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)!important}stagewise-companion-anchor .shadow-inner{--tw-shadow:inset 0 2px 4px 0 var(--tw-shadow-color,#0000000d)!important;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)!important}stagewise-companion-anchor .shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a)!important;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)!important}stagewise-companion-anchor .shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a)!important;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)!important}stagewise-companion-anchor .ring-2{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor)!important;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)!important}stagewise-companion-anchor .shadow-black\\/50{--tw-shadow-color:#00000080!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .shadow-black\\/50{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-black)50%,transparent)var(--tw-shadow-alpha),transparent)!important}}stagewise-companion-anchor .shadow-blue-600\\/50{--tw-shadow-color:#155dfc80!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .shadow-blue-600\\/50{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-blue-600)50%,transparent)var(--tw-shadow-alpha),transparent)!important}}stagewise-companion-anchor .ring-blue-600{--tw-ring-color:var(--color-blue-600)!important}stagewise-companion-anchor .blur{--tw-blur:blur(8px)!important;filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)!important}stagewise-companion-anchor .drop-shadow-md{--tw-drop-shadow-size:drop-shadow(0 3px 3px var(--tw-drop-shadow-color,#0000001f))!important;--tw-drop-shadow:drop-shadow(var(--drop-shadow-md))!important;filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)!important}stagewise-companion-anchor .drop-shadow-xl{--tw-drop-shadow-size:drop-shadow(0 9px 7px var(--tw-drop-shadow-color,#0000001a))!important;--tw-drop-shadow:drop-shadow(var(--drop-shadow-xl))!important;filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)!important}stagewise-companion-anchor .drop-shadow-xs{--tw-drop-shadow-size:drop-shadow(0 1px 1px var(--tw-drop-shadow-color,#0000000d))!important;--tw-drop-shadow:drop-shadow(var(--drop-shadow-xs))!important;filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)!important}stagewise-companion-anchor .drop-shadow-black{--tw-drop-shadow-color:#000!important;--tw-drop-shadow:var(--tw-drop-shadow-size)!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .drop-shadow-black{--tw-drop-shadow-color:color-mix(in oklab,var(--color-black)var(--tw-drop-shadow-alpha),transparent)!important}}stagewise-companion-anchor .drop-shadow-indigo-950{--tw-drop-shadow-color:oklch(25.7% .09 281.288)!important;--tw-drop-shadow:var(--tw-drop-shadow-size)!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .drop-shadow-indigo-950{--tw-drop-shadow-color:color-mix(in oklab,var(--color-indigo-950)var(--tw-drop-shadow-alpha),transparent)!important}}stagewise-companion-anchor .filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)!important}stagewise-companion-anchor .backdrop-blur-lg{--tw-backdrop-blur:blur(var(--blur-lg))!important;-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important;backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important}stagewise-companion-anchor .backdrop-blur-md{--tw-backdrop-blur:blur(var(--blur-md))!important;-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important;backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important}stagewise-companion-anchor .backdrop-blur-xs{--tw-backdrop-blur:blur(var(--blur-xs))!important;-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important;backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important}stagewise-companion-anchor .backdrop-saturate-150{--tw-backdrop-saturate:saturate(150%)!important;-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important;backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important}stagewise-companion-anchor .transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,visibility,content-visibility,overlay,pointer-events!important;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function))!important;transition-duration:var(--tw-duration,var(--default-transition-duration))!important}stagewise-companion-anchor .transition-all{transition-property:all!important;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function))!important;transition-duration:var(--tw-duration,var(--default-transition-duration))!important}stagewise-companion-anchor .transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to!important;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function))!important;transition-duration:var(--tw-duration,var(--default-transition-duration))!important}stagewise-companion-anchor .duration-0{--tw-duration:0s!important;transition-duration:0s!important}stagewise-companion-anchor .duration-100{--tw-duration:.1s!important;transition-duration:.1s!important}stagewise-companion-anchor .duration-150{--tw-duration:.15s!important;transition-duration:.15s!important}stagewise-companion-anchor .duration-500{--tw-duration:.5s!important;transition-duration:.5s!important}stagewise-companion-anchor .outline-none{--tw-outline-style:none!important;outline-style:none!important}stagewise-companion-anchor .select-none{-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important}stagewise-companion-anchor .placeholder\\:text-zinc-950\\/50::-moz-placeholder{color:#09090b80!important}stagewise-companion-anchor .placeholder\\:text-zinc-950\\/50::placeholder{color:#09090b80!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .placeholder\\:text-zinc-950\\/50::-moz-placeholder{color:color-mix(in oklab,var(--color-zinc-950)50%,transparent)!important}stagewise-companion-anchor .placeholder\\:text-zinc-950\\/50::placeholder{color:color-mix(in oklab,var(--color-zinc-950)50%,transparent)!important}}stagewise-companion-anchor .placeholder\\:text-zinc-950\\/70::-moz-placeholder{color:#09090bb3!important}stagewise-companion-anchor .placeholder\\:text-zinc-950\\/70::placeholder{color:#09090bb3!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .placeholder\\:text-zinc-950\\/70::-moz-placeholder{color:color-mix(in oklab,var(--color-zinc-950)70%,transparent)!important}stagewise-companion-anchor .placeholder\\:text-zinc-950\\/70::placeholder{color:color-mix(in oklab,var(--color-zinc-950)70%,transparent)!important}}stagewise-companion-anchor .first\\:border-none:first-child{--tw-border-style:none!important;border-style:none!important}stagewise-companion-anchor .first\\:pl-0:first-child{padding-left:calc(var(--spacing)*0)!important}stagewise-companion-anchor .last\\:border-r-transparent:last-child{border-right-color:#0000!important}stagewise-companion-anchor .last\\:pr-0:last-child{padding-right:calc(var(--spacing)*0)!important}@media (hover:hover){stagewise-companion-anchor .hover\\:border-red-600\\/80:hover{border-color:#e40014cc!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .hover\\:border-red-600\\/80:hover{border-color:color-mix(in oklab,var(--color-red-600)80%,transparent)!important}}stagewise-companion-anchor .hover\\:bg-red-600\\/20:hover{background-color:#e4001433!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .hover\\:bg-red-600\\/20:hover{background-color:color-mix(in oklab,var(--color-red-600)20%,transparent)!important}}stagewise-companion-anchor .hover\\:bg-zinc-950\\/5:hover{background-color:#09090b0d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .hover\\:bg-zinc-950\\/5:hover{background-color:color-mix(in oklab,var(--color-zinc-950)5%,transparent)!important}}stagewise-companion-anchor .hover\\:bg-zinc-950\\/10:hover{background-color:#09090b1a!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .hover\\:bg-zinc-950\\/10:hover{background-color:color-mix(in oklab,var(--color-zinc-950)10%,transparent)!important}}stagewise-companion-anchor .hover\\:text-muted-foreground:hover{color:var(--color-muted-foreground)!important}stagewise-companion-anchor .hover\\:text-white:hover{color:var(--color-white)!important}stagewise-companion-anchor .hover\\:opacity-100:hover{opacity:1!important}stagewise-companion-anchor .hover\\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a)!important;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)!important}stagewise-companion-anchor .hover\\:backdrop-blur-sm:hover{--tw-backdrop-blur:blur(var(--blur-sm))!important;-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important;backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important}}stagewise-companion-anchor .focus\\:cursor-grabbing:focus{cursor:grabbing!important}stagewise-companion-anchor .focus\\:text-zinc-900:focus{color:var(--color-zinc-900)!important}stagewise-companion-anchor .focus\\:outline-none:focus,stagewise-companion-anchor .data-focus\\:outline-none[data-focus]{--tw-outline-style:none!important;outline-style:none!important}}stagewise-companion-anchor stagewise-companion-anchor{all:initial;interpolate-size:allow-keywords;transform:translate(0);color:var(--color-zinc-950)!important;letter-spacing:normal!important;text-rendering:auto!important;font-family:Inter,Noto Color Emoji,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,SF Compact,SF Pro,Helvetica Neue,sans-serif!important;font-weight:400!important;line-height:normal!important}@supports (font-variation-settings:normal){stagewise-companion-anchor stagewise-companion-anchor{font-optical-sizing:auto!important;font-family:InterVariable,Noto Color Emoji,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,SF Compact,SF Pro,Helvetica Neue,sans-serif!important}}stagewise-companion-anchor #headlessui-portal-root{z-index:50!important;width:100vw!important;height:100vh!important;position:fixed!important}stagewise-companion-anchor #headlessui-portal-root>*{pointer-events:auto!important}@property --tw-rotate-x{syntax:"*";inherits:false}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-gradient-position{syntax:"*";inherits:false}@property --tw-gradient-from{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-via{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-to{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-stops{syntax:"*";inherits:false}@property --tw-gradient-via-stops{syntax:"*";inherits:false}@property --tw-gradient-from-position{syntax:"<length-percentage>";inherits:false;initial-value:0%}@property --tw-gradient-via-position{syntax:"<length-percentage>";inherits:false;initial-value:50%}@property --tw-gradient-to-position{syntax:"<length-percentage>";inherits:false;initial-value:100%}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}@property --tw-backdrop-blur{syntax:"*";inherits:false}@property --tw-backdrop-brightness{syntax:"*";inherits:false}@property --tw-backdrop-contrast{syntax:"*";inherits:false}@property --tw-backdrop-grayscale{syntax:"*";inherits:false}@property --tw-backdrop-hue-rotate{syntax:"*";inherits:false}@property --tw-backdrop-invert{syntax:"*";inherits:false}@property --tw-backdrop-opacity{syntax:"*";inherits:false}@property --tw-backdrop-saturate{syntax:"*";inherits:false}@property --tw-backdrop-sepia{syntax:"*";inherits:false}@property --tw-duration{syntax:"*";inherits:false}@keyframes pulse{50%{opacity:.5}}
`;var Olt=0;function De(e,t,r,n,i,a){t||(t={});var s,o,l=t;if("ref"in l)for(o in l={},t)o=="ref"?s=t[o]:l[o]=t[o];var c={type:e,props:l,key:r,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Olt,__i:-1,__u:0,__source:i,__self:a};if(typeof e=="function"&&(s=e.defaultProps))for(o in s)l[o]===void 0&&(l[o]=s[o]);return Er.vnode&&Er.vnode(c),c}var Lu,jn,PM,AX,Gv=0,vge=[],Zn=Er,jX=Zn.__b,RX=Zn.__r,IX=Zn.diffed,MX=Zn.__c,PX=Zn.unmount,LX=Zn.__;function hg(e,t){Zn.__h&&Zn.__h(jn,e,Gv||t),Gv=0;var r=jn.__H||(jn.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function pr(e){return Gv=1,w1(yge,e)}function w1(e,t,r){var n=hg(Lu++,2);if(n.t=e,!n.__c&&(n.__=[r?r(t):yge(void 0,t),function(o){var l=n.__N?n.__N[0]:n.__[0],c=n.t(l,o);l!==c&&(n.__N=[c,n.__[1]],n.__c.setState({}))}],n.__c=jn,!jn.__f)){var i=function(o,l,c){if(!n.__c.__H)return!0;var u=n.__c.__H.__.filter(function(f){return!!f.__c});if(u.every(function(f){return!f.__N}))return!a||a.call(this,o,l,c);var h=n.__c.props!==o;return u.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(h=!0)}}),a&&a.call(this,o,l,c)||h};jn.__f=!0;var a=jn.shouldComponentUpdate,s=jn.componentWillUpdate;jn.componentWillUpdate=function(o,l,c){if(this.__e){var u=a;a=void 0,i(o,l,c),a=u}s&&s.call(this,o,l,c)},jn.shouldComponentUpdate=i}return n.__N||n.__}function Fr(e,t){var r=hg(Lu++,3);!Zn.__s&&UF(r.__H,t)&&(r.__=e,r.u=t,jn.__H.__h.push(r))}function Vu(e,t){var r=hg(Lu++,4);!Zn.__s&&UF(r.__H,t)&&(r.__=e,r.u=t,jn.__h.push(r))}function St(e){return Gv=5,Ht(function(){return{current:e}},[])}function FF(e,t,r){Gv=6,Vu(function(){if(typeof e=="function"){var n=e(t());return function(){e(null),n&&typeof n=="function"&&n()}}if(e)return e.current=t(),function(){return e.current=null}},r==null?r:r.concat(e))}function Ht(e,t){var r=hg(Lu++,7);return UF(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function ot(e,t){return Gv=8,Ht(function(){return e},t)}function zn(e){var t=jn.context[e.__c],r=hg(Lu++,9);return r.c=e,t?(r.__==null&&(r.__=!0,t.sub(jn)),t.props.value):e.__}function zF(e,t){Zn.useDebugValue&&Zn.useDebugValue(t?t(e):e)}function $lt(e){var t=hg(Lu++,10),r=pr();return t.__=e,jn.componentDidCatch||(jn.componentDidCatch=function(n,i){t.__&&t.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function kl(){var e=hg(Lu++,11);if(!e.__){for(var t=jn.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var r=t.__m||(t.__m=[0,0]);e.__="P"+r[0]+"-"+r[1]++}return e.__}function Blt(){for(var e;e=vge.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(sE),e.__H.__h.forEach(c3),e.__H.__h=[]}catch(t){e.__H.__h=[],Zn.__e(t,e.__v)}}Zn.__b=function(e){jn=null,jX&&jX(e)},Zn.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),LX&&LX(e,t)},Zn.__r=function(e){RX&&RX(e),Lu=0;var t=(jn=e.__c).__H;t&&(PM===jn?(t.__h=[],jn.__h=[],t.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(t.__h.forEach(sE),t.__h.forEach(c3),t.__h=[],Lu=0)),PM=jn},Zn.diffed=function(e){IX&&IX(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(vge.push(t)!==1&&AX===Zn.requestAnimationFrame||((AX=Zn.requestAnimationFrame)||Flt)(Blt)),t.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),PM=jn=null},Zn.__c=function(e,t){t.some(function(r){try{r.__h.forEach(sE),r.__h=r.__h.filter(function(n){return!n.__||c3(n)})}catch(n){t.some(function(i){i.__h&&(i.__h=[])}),t=[],Zn.__e(n,r.__v)}}),MX&&MX(e,t)},Zn.unmount=function(e){PX&&PX(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{sE(n)}catch(i){t=i}}),r.__H=void 0,t&&Zn.__e(t,r.__v))};var DX=typeof requestAnimationFrame=="function";function Flt(e){var t,r=function(){clearTimeout(n),DX&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);DX&&(t=requestAnimationFrame(r))}function sE(e){var t=jn,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),jn=t}function c3(e){var t=jn;e.__c=e.__(),jn=t}function UF(e,t){return!e||e.length!==t.length||t.some(function(r,n){return r!==e[n]})}function yge(e,t){return typeof t=="function"?t(e):t}const xge=Ci([]);function zlt({children:e,plugins:t}){return De(xge.Provider,{value:t,children:e})}function Ult(){const e=zn(xge);return e||[]}function _ge(e,t){for(var r in t)e[r]=t[r];return e}function u3(e,t){for(var r in e)if(r!=="__source"&&!(r in t))return!0;for(var n in t)if(n!=="__source"&&e[n]!==t[n])return!0;return!1}function TA(e,t){var r=t(),n=pr({t:{__:r,u:t}}),i=n[0].t,a=n[1];return Vu(function(){i.__=r,i.u=t,LM(i)&&a({t:i})},[e,r,t]),Fr(function(){return LM(i)&&a({t:i}),e(function(){LM(i)&&a({t:i})})},[e]),r}function LM(e){var t,r,n=e.u,i=e.__;try{var a=n();return!((t=i)===(r=a)&&(t!==0||1/t==1/r)||t!=t&&r!=r)}catch{return!0}}function HF(e){e()}function VF(e){return e}function WF(){return[!1,HF]}var GF=Vu;function fN(e,t){this.props=e,this.context=t}function fg(e,t){function r(i){var a=this.props.ref,s=a==i.ref;return!s&&a&&(a.call?a(null):a.current=null),t?!t(this.props,i)||!s:u3(this.props,i)}function n(i){return this.shouldComponentUpdate=r,na(e,i)}return n.displayName="Memo("+(e.displayName||e.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}(fN.prototype=new dl).isPureReactComponent=!0,fN.prototype.shouldComponentUpdate=function(e,t){return u3(this.props,e)||u3(this.state,t)};var OX=Er.__b;Er.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),OX&&OX(e)};var Hlt=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Pc(e){function t(r){var n=_ge({},r);return delete n.ref,e(n,r.ref||null)}return t.$$typeof=Hlt,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var $X=function(e,t){return e==null?null:vu(vu(e).map(t))},bge={map:$X,forEach:$X,count:function(e){return e?vu(e).length:0},only:function(e){var t=vu(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:vu},Vlt=Er.__e;Er.__e=function(e,t,r,n){if(e.then){for(var i,a=t;a=a.__;)if((i=a.__c)&&i.__c)return t.__e==null&&(t.__e=r.__e,t.__k=r.__k),i.__c(e,t)}Vlt(e,t,r,n)};var BX=Er.unmount;function wge(e,t,r){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),e.__c.__H=null),(e=_ge({},e)).__c!=null&&(e.__c.__P===r&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(n){return wge(n,t,r)})),e}function Sge(e,t,r){return e&&r&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(n){return Sge(n,t,r)}),e.__c&&e.__c.__P===t&&(e.__e&&r.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=r)),e}function z_(){this.__u=0,this.o=null,this.__b=null}function Cge(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function kge(e){var t,r,n;function i(a){if(t||(t=e()).then(function(s){r=s.default||s},function(s){n=s}),n)throw n;if(!r)throw t;return na(r,a)}return i.displayName="Lazy",i.__f=!0,i}function zm(){this.i=null,this.l=null}Er.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),BX&&BX(e)},(z_.prototype=new dl).__c=function(e,t){var r=t.__c,n=this;n.o==null&&(n.o=[]),n.o.push(r);var i=Cge(n.__v),a=!1,s=function(){a||(a=!0,r.__R=null,i?i(o):o())};r.__R=s;var o=function(){if(!--n.__u){if(n.state.__a){var l=n.state.__a;n.__v.__k[0]=Sge(l,l.__c.__P,l.__c.__O)}var c;for(n.setState({__a:n.__b=null});c=n.o.pop();)c.forceUpdate()}};n.__u++||32&t.__u||n.setState({__a:n.__b=n.__v.__k[0]}),e.then(s,s)},z_.prototype.componentWillUnmount=function(){this.o=[]},z_.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=wge(this.__b,r,n.__O=n.__P)}this.__b=null}var i=t.__a&&na(bi,null,e.fallback);return i&&(i.__u&=-33),[na(bi,null,t.__a?null:e.children),i]};var FX=function(e,t,r){if(++r[1]===r[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(r=e.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;e.i=r=r[2]}};function Wlt(e){return this.getChildContext=function(){return e.context},e.children}function Glt(e){var t=this,r=e.h;if(t.componentWillUnmount=function(){Wv(null,t.v),t.v=null,t.h=null},t.h&&t.h!==r&&t.componentWillUnmount(),!t.v){for(var n=t.__v;n!==null&&!n.__m&&n.__!==null;)n=n.__;t.h=r,t.v={nodeType:1,parentNode:r,childNodes:[],__k:{__m:n.__m},contains:function(){return!0},appendChild:function(i){this.childNodes.push(i),t.h.appendChild(i)},insertBefore:function(i,a){this.childNodes.push(i),t.h.insertBefore(i,a)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),t.h.removeChild(i)}}}Wv(na(Wlt,{context:t.context},e.__v),t.v)}function qF(e,t){var r=na(Glt,{__v:e,h:t});return r.containerInfo=t,r}(zm.prototype=new dl).__a=function(e){var t=this,r=Cge(t.__v),n=t.l.get(e);return n[0]++,function(i){var a=function(){t.props.revealOrder?(n.push(i),FX(t,e,n)):i()};r?r(a):a()}},zm.prototype.render=function(e){this.i=null,this.l=new Map;var t=vu(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var r=t.length;r--;)this.l.set(t[r],this.i=[1,0,this.i]);return e.children},zm.prototype.componentDidUpdate=zm.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,r){FX(e,r,t)})};var Ege=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,qlt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ylt=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Klt=/[A-Z0-9]/g,Xlt=typeof document<"u",Zlt=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function Tge(e,t,r){return t.__k==null&&(t.textContent=""),Wv(e,t),typeof r=="function"&&r(),e?e.__c:null}function Nge(e,t,r){return mge(e,t),typeof r=="function"&&r(),e?e.__c:null}dl.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(dl.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var zX=Er.event;function Jlt(){}function Qlt(){return this.cancelBubble}function ect(){return this.defaultPrevented}Er.event=function(e){return zX&&(e=zX(e)),e.persist=Jlt,e.isPropagationStopped=Qlt,e.isDefaultPrevented=ect,e.nativeEvent=e};var YF,tct={enumerable:!1,configurable:!0,get:function(){return this.class}},UX=Er.vnode;Er.vnode=function(e){typeof e.type=="string"&&function(t){var r=t.props,n=t.type,i={},a=n.indexOf("-")===-1;for(var s in r){var o=r[s];if(!(s==="value"&&"defaultValue"in r&&o==null||Xlt&&s==="children"&&n==="noscript"||s==="class"||s==="className")){var l=s.toLowerCase();s==="defaultValue"&&"value"in r&&r.value==null?s="value":s==="download"&&o===!0?o="":l==="translate"&&o==="no"?o=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?s="ondblclick":l!=="onchange"||n!=="input"&&n!=="textarea"||Zlt(r.type)?l==="onfocus"?s="onfocusin":l==="onblur"?s="onfocusout":Ylt.test(s)&&(s=l):l=s="oninput":a&&qlt.test(s)?s=s.replace(Klt,"-$&").toLowerCase():o===null&&(o=void 0),l==="oninput"&&i[s=l]&&(s="oninputCapture"),i[s]=o}}n=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=vu(r.children).forEach(function(c){c.props.selected=i.value.indexOf(c.props.value)!=-1})),n=="select"&&i.defaultValue!=null&&(i.value=vu(r.children).forEach(function(c){c.props.selected=i.multiple?i.defaultValue.indexOf(c.props.value)!=-1:i.defaultValue==c.props.value})),r.class&&!r.className?(i.class=r.class,Object.defineProperty(i,"className",tct)):(r.className&&!r.class||r.class&&r.className)&&(i.class=i.className=r.className),t.props=i}(e),e.$$typeof=Ege,UX&&UX(e)};var HX=Er.__r;Er.__r=function(e){HX&&HX(e),YF=e.__c};var VX=Er.diffed;Er.diffed=function(e){VX&&VX(e);var t=e.props,r=e.__e;r!=null&&e.type==="textarea"&&"value"in t&&t.value!==r.value&&(r.value=t.value==null?"":t.value),YF=null};var Age={ReactCurrentDispatcher:{current:{readContext:function(e){return YF.__n[e.__c].props.value},useCallback:ot,useContext:zn,useDebugValue:zF,useDeferredValue:VF,useEffect:Fr,useId:kl,useImperativeHandle:FF,useInsertionEffect:GF,useLayoutEffect:Vu,useMemo:Ht,useReducer:w1,useRef:St,useState:pr,useSyncExternalStore:TA,useTransition:WF}}},rct="18.3.1";function jge(e){return na.bind(null,e)}function O0(e){return!!e&&e.$$typeof===Ege}function Rge(e){return O0(e)&&e.type===bi}function Ige(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function KF(e){return O0(e)?Llt.apply(null,arguments):e}function Mge(e){return!!e.__k&&(Wv(null,e),!0)}function Pge(e){return e&&(e.base||e.nodeType===1&&e)||null}var Lge=function(e,t){return e(t)},Du=function(e,t){return e(t)},Dge=bi,Oge=O0,Vi={useState:pr,useId:kl,useReducer:w1,useEffect:Fr,useLayoutEffect:Vu,useInsertionEffect:GF,useTransition:WF,useDeferredValue:VF,useSyncExternalStore:TA,startTransition:HF,useRef:St,useImperativeHandle:FF,useMemo:Ht,useCallback:ot,useContext:zn,useDebugValue:zF,version:"18.3.1",Children:bge,render:Tge,hydrate:Nge,unmountComponentAtNode:Mge,createPortal:qF,createElement:na,createContext:Ci,createFactory:jge,cloneElement:KF,createRef:dN,Fragment:bi,isValidElement:O0,isElement:Oge,isFragment:Rge,isMemo:Ige,findDOMNode:Pge,Component:dl,PureComponent:fN,memo:fg,forwardRef:Pc,flushSync:Du,unstable_batchedUpdates:Lge,StrictMode:Dge,Suspense:z_,SuspenseList:zm,lazy:kge,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Age};const pN=Object.freeze(Object.defineProperty({__proto__:null,Children:bge,Component:dl,Fragment:bi,PureComponent:fN,StrictMode:Dge,Suspense:z_,SuspenseList:zm,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Age,cloneElement:KF,createContext:Ci,createElement:na,createFactory:jge,createPortal:qF,createRef:dN,default:Vi,findDOMNode:Pge,flushSync:Du,forwardRef:Pc,hydrate:Nge,isElement:Oge,isFragment:Rge,isMemo:Ige,isValidElement:O0,lazy:kge,memo:fg,render:Tge,startTransition:HF,unmountComponentAtNode:Mge,unstable_batchedUpdates:Lge,useCallback:ot,useContext:zn,useDebugValue:zF,useDeferredValue:VF,useEffect:Fr,useErrorBoundary:$lt,useId:kl,useImperativeHandle:FF,useInsertionEffect:GF,useLayoutEffect:Vu,useMemo:Ht,useReducer:w1,useRef:St,useState:pr,useSyncExternalStore:TA,useTransition:WF,version:rct},Symbol.toStringTag,{value:"Module"}));var $ge=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),nct={maxReconnectAttempts:5,reconnectDelay:1e3,requestTimeout:3e4},ict=class{constructor(e={}){this.ws=null,this.pendingRequests=new Map,this.reconnectAttempts=0,this.methods={},this.isIntentionalClose=!1,this.options={...nct,...e}}register(e){Object.entries(e).forEach(([t,r])=>{this.methods[t]={handler:r}})}callMethod(e,t,r){if(!this.ws)throw new Error("WebSocket is not connected");const n=crypto.randomUUID(),i={id:n,messageType:"request",method:e,payload:t};return new Promise((a,s)=>{var o;const l=setTimeout(()=>{this.pendingRequests.delete(n),s(new Error(`Request timed out: ${e}`))},this.options.requestTimeout);this.pendingRequests.set(n,{resolve:a,reject:s,timeout:l,onUpdate:r}),(o=this.ws)==null||o.send(JSON.stringify(i))})}setupWebSocketHandlers(e){e.onmessage=t=>{try{const r=JSON.parse(t.data);this.handleMessage(r)}catch(r){console.error("Error handling WebSocket message:",r)}},e.onclose=()=>{console.log("WebSocket disconnected"),this.handleDisconnect()},e.onerror=t=>{console.error("WebSocket error:",t)}}handleMessage(e){const{messageType:t,id:r}=e;switch(t){case"request":this.handleRequest(e);break;case"response":this.handleResponse(r,e.payload);break;case"update":this.handleUpdate(r,e.payload);break;case"error":this.handleError(r,e.error.message);break;default:console.warn(`Unknown message type: ${t}`)}}async handleRequest(e){const{id:t,method:r,payload:n}=e;if(!r){this.sendError(t,"Method name is required");return}const i=this.methods[r];if(!i){this.sendError(t,`Method not found: ${r}`);return}try{const a=o=>{this.sendUpdate(t,r,o)},s=await i.handler(n,a);this.sendResponse(t,r,s)}catch(a){this.sendError(t,a instanceof Error?a.message:String(a))}}handleResponse(e,t){const r=this.pendingRequests.get(e);if(!r){console.warn(`Received response for unknown request ID: ${e}`);return}clearTimeout(r.timeout),this.pendingRequests.delete(e),r.resolve(t)}handleUpdate(e,t){const r=this.pendingRequests.get(e);if(!r||!r.onUpdate){console.warn(`Received update for unknown request ID: ${e}`);return}r.onUpdate(t)}handleError(e,t){const r=this.pendingRequests.get(e);if(!r){console.warn(`Received error for unknown request ID: ${e}`);return}clearTimeout(r.timeout),this.pendingRequests.delete(e),r.reject(new Error(t))}sendResponse(e,t,r){if(!this.ws)throw new Error("WebSocket is not connected");const n={id:e,messageType:"response",method:t,payload:r};this.ws.send(JSON.stringify(n))}sendUpdate(e,t,r){if(!this.ws)throw new Error("WebSocket is not connected");const n={id:e,messageType:"update",method:t,payload:r};this.ws.send(JSON.stringify(n))}sendError(e,t){if(!this.ws)throw new Error("WebSocket is not connected");const r={id:e,messageType:"error",error:{message:t}};this.ws.send(JSON.stringify(r))}handleDisconnect(){if(this.isIntentionalClose){console.log("WebSocket closed intentionally, not attempting to reconnect"),this.clearPendingRequests(new Error("Connection closed by user"));return}this.reconnectAttempts<this.options.maxReconnectAttempts?(this.reconnectAttempts++,console.log(`Attempting to reconnect (${this.reconnectAttempts}/${this.options.maxReconnectAttempts})...`),setTimeout(()=>this.reconnect(),this.options.reconnectDelay*this.reconnectAttempts)):(console.error("Max reconnection attempts reached"),this.clearPendingRequests(new Error("Connection closed")))}clearPendingRequests(e){this.pendingRequests.forEach(({reject:t})=>{t(e)}),this.pendingRequests.clear()}async close(){this.isIntentionalClose=!0,this.ws&&(this.ws.close(),this.ws=null),this.clearPendingRequests(new Error("Connection closed by user"))}};typeof window<"u"?window.WebSocket:$ge("ws").WebSocket;function nm(e,t,r,n=!1){const i=e.safeParse(t);if(!i.success){const a=new Error(`Validation failed for ${r}: ${i.error.message}`);if(n)return console.error(a),t;throw a}return i.data}var act=typeof window<"u"?window.WebSocket:$ge("ws").WebSocket,sct=class{constructor(e,t){this.bridge=e,this.contract=t,this.call=new Proxy({},{get:(r,n)=>(i,a)=>this.callMethod(n,i,a)})}async callMethod(e,t,r){const n=this.contract.consumes[e];if(!n)throw new Error(`Method ${String(e)} not found in contract`);const i=nm(n.request,t,`request for method ${String(e)}`),a=r!=null&&r.onUpdate&&n.update?o=>{var l;if(n.update)try{const c=nm(n.update,o,`update for method ${String(e)}`,!0);(l=r.onUpdate)==null||l.call(r,c)}catch(c){console.error("Update validation failed:",c)}}:void 0,s=await this.bridge.callMethod(e,i,a);return nm(n.response,s,`response for method ${String(e)}`)}register(e){const t={};for(const[r,n]of Object.entries(e)){const i=this.contract.serves[r];if(!i)throw new Error(`Method ${r} not found in contract`);t[r]=async(a,s)=>{const o=nm(i.request,a,`request for method ${r}`),l=i.update&&s?u=>{if(i.update)try{const h=nm(i.update,u,`update for method ${r}`,!0);s(h)}catch(h){console.error("Update validation failed:",h)}}:void 0,c=await n(o,{sendUpdate:l});return nm(i.response,c,`response for method ${r}`)}}this.bridge.register(t)}async close(){await this.bridge.close()}},oct=class extends ict{constructor(e,t){super(t),this.reconnectTimer=null,this.url=e}call(e,t,r){return this.callMethod(e,t,r)}reconnect(){this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout(async()=>{try{await this.connect()}catch{this.reconnect()}},this.options.reconnectDelay)}connect(){return new Promise((e,t)=>{try{const r=new act(this.url);r.onopen=()=>{this.ws=r,this.setupWebSocketHandlers(r),e()},r.onerror=()=>{t(new Error("Failed to connect to WebSocket server"))}}catch(r){t(r)}})}},lct=class extends sct{constructor(e,t,r){super(new oct(e,r),{serves:t.client||{},consumes:t.server||{}})}connect(){return this.bridge.connect()}};function cct(e,t,r){return new lct(e,t,r)}var Kr;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},e.find=(i,a)=>{for(const s of i)if(a(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Kr||(Kr={}));var d3;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(d3||(d3={}));const ct=Kr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Qc=e=>{switch(typeof e){case"undefined":return ct.undefined;case"string":return ct.string;case"number":return isNaN(e)?ct.nan:ct.number;case"boolean":return ct.boolean;case"function":return ct.function;case"bigint":return ct.bigint;case"symbol":return ct.symbol;case"object":return Array.isArray(e)?ct.array:e===null?ct.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ct.promise:typeof Map<"u"&&e instanceof Map?ct.map:typeof Set<"u"&&e instanceof Set?ct.set:typeof Date<"u"&&e instanceof Date?ct.date:ct.object;default:return ct.unknown}},Ue=Kr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),uct=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Hs extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(s))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),n}static assert(t){if(!(t instanceof Hs))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Kr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Hs.create=e=>new Hs(e);const qv=(e,t)=>{let r;switch(e.code){case Ue.invalid_type:e.received===ct.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ue.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Kr.jsonStringifyReplacer)}`;break;case Ue.unrecognized_keys:r=`Unrecognized key(s) in object: ${Kr.joinValues(e.keys,", ")}`;break;case Ue.invalid_union:r="Invalid input";break;case Ue.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Kr.joinValues(e.options)}`;break;case Ue.invalid_enum_value:r=`Invalid enum value. Expected ${Kr.joinValues(e.options)}, received '${e.received}'`;break;case Ue.invalid_arguments:r="Invalid function arguments";break;case Ue.invalid_return_type:r="Invalid function return type";break;case Ue.invalid_date:r="Invalid date";break;case Ue.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Kr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ue.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ue.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ue.custom:r="Invalid input";break;case Ue.invalid_intersection_types:r="Intersection results could not be merged";break;case Ue.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ue.not_finite:r="Number must be finite";break;default:r=t.defaultError,Kr.assertNever(e)}return{message:r}};let Bge=qv;function dct(e){Bge=e}function gN(){return Bge}const mN=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)o=c(s,{data:t,defaultError:o}).message;return{...i,path:a,message:o}},hct=[];function at(e,t){const r=gN(),n=mN({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===qv?void 0:qv].filter(i=>!!i)});e.common.issues.push(n)}class wa{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return Qt;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return wa.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return Qt;a.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:t.value,value:n}}}const Qt=Object.freeze({status:"aborted"}),Um=e=>({status:"dirty",value:e}),Ka=e=>({status:"valid",value:e}),h3=e=>e.status==="aborted",f3=e=>e.status==="dirty",zp=e=>e.status==="valid",sw=e=>typeof Promise<"u"&&e instanceof Promise;function vN(e,t,r,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function Fge(e,t,r,n,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var kt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(kt||(kt={}));var Qx,e_;class Cc{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const WX=(e,t)=>{if(zp(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Hs(e.common.issues);return this._error=r,this._error}}};function yr(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,o)=>{var l,c;const{message:u}=e;return s.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(l=u??n)!==null&&l!==void 0?l:o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:(c=u??r)!==null&&c!==void 0?c:o.defaultError}},description:i}}class Ar{get description(){return this._def.description}_getType(t){return Qc(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Qc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new wa,ctx:{common:t.parent.common,data:t.data,parsedType:Qc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(sw(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Qc(t)},a=this._parseSync({data:t,path:i.path,parent:i});return WX(i,a)}"~validate"(t){var r,n;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Qc(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:i});return zp(a)?{value:a.value}:{issues:i.common.issues}}catch(a){!((n=(r=a==null?void 0:a.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:i}).then(a=>zp(a)?{value:a.value}:{issues:i.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Qc(t)},i=this._parse({data:t,path:n.path,parent:n}),a=await(sw(i)?i:Promise.resolve(i));return WX(n,a)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=t(i),o=()=>a.addIssue({code:Ue.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new yl({schema:this,typeName:Xt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return mc.create(this,this._def)}nullable(){return kh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return hl.create(this)}promise(){return Kv.create(this,this._def)}or(t){return uw.create([this,t],this._def)}and(t){return dw.create(this,t,this._def)}transform(t){return new yl({...yr(this._def),schema:this,typeName:Xt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new mw({...yr(this._def),innerType:this,defaultValue:r,typeName:Xt.ZodDefault})}brand(){return new XF({typeName:Xt.ZodBranded,type:this,...yr(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new vw({...yr(this._def),innerType:this,catchValue:r,typeName:Xt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return S1.create(this,t)}readonly(){return yw.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const fct=/^c[^\s-]{8,}$/i,pct=/^[0-9a-z]+$/,gct=/^[0-9A-HJKMNP-TV-Z]{26}$/i,mct=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,vct=/^[a-z0-9_-]{21}$/i,yct=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,xct=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,_ct=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,bct="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let DM;const wct=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Sct=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Cct=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,kct=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ect=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Tct=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,zge="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Nct=new RegExp(`^${zge}$`);function Uge(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Act(e){return new RegExp(`^${Uge(e)}$`)}function Hge(e){let t=`${zge}T${Uge(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function jct(e,t){return!!((t==="v4"||!t)&&wct.test(e)||(t==="v6"||!t)&&Cct.test(e))}function Rct(e,t){if(!yct.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||t&&i.alg!==t)}catch{return!1}}function Ict(e,t){return!!((t==="v4"||!t)&&Sct.test(e)||(t==="v6"||!t)&&kct.test(e))}class al extends Ar{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ct.string){const a=this._getOrReturnCtx(t);return at(a,{code:Ue.invalid_type,expected:ct.string,received:a.parsedType}),Qt}const n=new wa;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),at(i,{code:Ue.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),at(i,{code:Ue.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=t.data.length>a.value,o=t.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(t,i),s?at(i,{code:Ue.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&at(i,{code:Ue.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")_ct.test(t.data)||(i=this._getOrReturnCtx(t,i),at(i,{validation:"email",code:Ue.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")DM||(DM=new RegExp(bct,"u")),DM.test(t.data)||(i=this._getOrReturnCtx(t,i),at(i,{validation:"emoji",code:Ue.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")mct.test(t.data)||(i=this._getOrReturnCtx(t,i),at(i,{validation:"uuid",code:Ue.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")vct.test(t.data)||(i=this._getOrReturnCtx(t,i),at(i,{validation:"nanoid",code:Ue.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")fct.test(t.data)||(i=this._getOrReturnCtx(t,i),at(i,{validation:"cuid",code:Ue.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")pct.test(t.data)||(i=this._getOrReturnCtx(t,i),at(i,{validation:"cuid2",code:Ue.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")gct.test(t.data)||(i=this._getOrReturnCtx(t,i),at(i,{validation:"ulid",code:Ue.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),at(i,{validation:"url",code:Ue.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),at(i,{validation:"regex",code:Ue.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),at(i,{code:Ue.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),at(i,{code:Ue.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),at(i,{code:Ue.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?Hge(a).test(t.data)||(i=this._getOrReturnCtx(t,i),at(i,{code:Ue.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?Nct.test(t.data)||(i=this._getOrReturnCtx(t,i),at(i,{code:Ue.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?Act(a).test(t.data)||(i=this._getOrReturnCtx(t,i),at(i,{code:Ue.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?xct.test(t.data)||(i=this._getOrReturnCtx(t,i),at(i,{validation:"duration",code:Ue.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?jct(t.data,a.version)||(i=this._getOrReturnCtx(t,i),at(i,{validation:"ip",code:Ue.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?Rct(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),at(i,{validation:"jwt",code:Ue.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?Ict(t.data,a.version)||(i=this._getOrReturnCtx(t,i),at(i,{validation:"cidr",code:Ue.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?Ect.test(t.data)||(i=this._getOrReturnCtx(t,i),at(i,{validation:"base64",code:Ue.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?Tct.test(t.data)||(i=this._getOrReturnCtx(t,i),at(i,{validation:"base64url",code:Ue.invalid_string,message:a.message}),n.dirty()):Kr.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:Ue.invalid_string,...kt.errToObj(n)})}_addCheck(t){return new al({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...kt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...kt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...kt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...kt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...kt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...kt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...kt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...kt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...kt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...kt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...kt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...kt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...kt.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...kt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...kt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...kt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...kt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...kt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...kt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...kt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...kt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...kt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...kt.errToObj(r)})}nonempty(t){return this.min(1,kt.errToObj(t))}trim(){return new al({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new al({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new al({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}al.create=e=>{var t;return new al({checks:[],typeName:Xt.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...yr(e)})};function Mct(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,a=parseInt(e.toFixed(i).replace(".","")),s=parseInt(t.toFixed(i).replace(".",""));return a%s/Math.pow(10,i)}class wh extends Ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ct.number){const a=this._getOrReturnCtx(t);return at(a,{code:Ue.invalid_type,expected:ct.number,received:a.parsedType}),Qt}let n;const i=new wa;for(const a of this._def.checks)a.kind==="int"?Kr.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),at(n,{code:Ue.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),at(n,{code:Ue.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),at(n,{code:Ue.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?Mct(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),at(n,{code:Ue.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),at(n,{code:Ue.not_finite,message:a.message}),i.dirty()):Kr.assertNever(a);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,kt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,kt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,kt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,kt.toString(r))}setLimit(t,r,n,i){return new wh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:kt.toString(i)}]})}_addCheck(t){return new wh({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:kt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:kt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:kt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:kt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:kt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:kt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:kt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:kt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:kt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Kr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}wh.create=e=>new wh({checks:[],typeName:Xt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...yr(e)});class Sh extends Ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ct.bigint)return this._getInvalidInput(t);let n;const i=new wa;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),at(n,{code:Ue.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),at(n,{code:Ue.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),at(n,{code:Ue.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Kr.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return at(r,{code:Ue.invalid_type,expected:ct.bigint,received:r.parsedType}),Qt}gte(t,r){return this.setLimit("min",t,!0,kt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,kt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,kt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,kt.toString(r))}setLimit(t,r,n,i){return new Sh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:kt.toString(i)}]})}_addCheck(t){return new Sh({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:kt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:kt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:kt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:kt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:kt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Sh.create=e=>{var t;return new Sh({checks:[],typeName:Xt.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...yr(e)})};class ow extends Ar{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ct.boolean){const n=this._getOrReturnCtx(t);return at(n,{code:Ue.invalid_type,expected:ct.boolean,received:n.parsedType}),Qt}return Ka(t.data)}}ow.create=e=>new ow({typeName:Xt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...yr(e)});class Up extends Ar{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ct.date){const a=this._getOrReturnCtx(t);return at(a,{code:Ue.invalid_type,expected:ct.date,received:a.parsedType}),Qt}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return at(a,{code:Ue.invalid_date}),Qt}const n=new wa;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),at(i,{code:Ue.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),at(i,{code:Ue.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Kr.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Up({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:kt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:kt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Up.create=e=>new Up({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Xt.ZodDate,...yr(e)});class yN extends Ar{_parse(t){if(this._getType(t)!==ct.symbol){const n=this._getOrReturnCtx(t);return at(n,{code:Ue.invalid_type,expected:ct.symbol,received:n.parsedType}),Qt}return Ka(t.data)}}yN.create=e=>new yN({typeName:Xt.ZodSymbol,...yr(e)});class lw extends Ar{_parse(t){if(this._getType(t)!==ct.undefined){const n=this._getOrReturnCtx(t);return at(n,{code:Ue.invalid_type,expected:ct.undefined,received:n.parsedType}),Qt}return Ka(t.data)}}lw.create=e=>new lw({typeName:Xt.ZodUndefined,...yr(e)});class cw extends Ar{_parse(t){if(this._getType(t)!==ct.null){const n=this._getOrReturnCtx(t);return at(n,{code:Ue.invalid_type,expected:ct.null,received:n.parsedType}),Qt}return Ka(t.data)}}cw.create=e=>new cw({typeName:Xt.ZodNull,...yr(e)});class Yv extends Ar{constructor(){super(...arguments),this._any=!0}_parse(t){return Ka(t.data)}}Yv.create=e=>new Yv({typeName:Xt.ZodAny,...yr(e)});class yp extends Ar{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ka(t.data)}}yp.create=e=>new yp({typeName:Xt.ZodUnknown,...yr(e)});class Ou extends Ar{_parse(t){const r=this._getOrReturnCtx(t);return at(r,{code:Ue.invalid_type,expected:ct.never,received:r.parsedType}),Qt}}Ou.create=e=>new Ou({typeName:Xt.ZodNever,...yr(e)});class xN extends Ar{_parse(t){if(this._getType(t)!==ct.undefined){const n=this._getOrReturnCtx(t);return at(n,{code:Ue.invalid_type,expected:ct.void,received:n.parsedType}),Qt}return Ka(t.data)}}xN.create=e=>new xN({typeName:Xt.ZodVoid,...yr(e)});class hl extends Ar{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==ct.array)return at(r,{code:Ue.invalid_type,expected:ct.array,received:r.parsedType}),Qt;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&(at(r,{code:s?Ue.too_big:Ue.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(at(r,{code:Ue.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(at(r,{code:Ue.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new Cc(r,s,r.path,o)))).then(s=>wa.mergeArray(n,s));const a=[...r.data].map((s,o)=>i.type._parseSync(new Cc(r,s,r.path,o)));return wa.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new hl({...this._def,minLength:{value:t,message:kt.toString(r)}})}max(t,r){return new hl({...this._def,maxLength:{value:t,message:kt.toString(r)}})}length(t,r){return new hl({...this._def,exactLength:{value:t,message:kt.toString(r)}})}nonempty(t){return this.min(1,t)}}hl.create=(e,t)=>new hl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Xt.ZodArray,...yr(t)});function ym(e){if(e instanceof Jn){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=mc.create(ym(n))}return new Jn({...e._def,shape:()=>t})}else return e instanceof hl?new hl({...e._def,type:ym(e.element)}):e instanceof mc?mc.create(ym(e.unwrap())):e instanceof kh?kh.create(ym(e.unwrap())):e instanceof kc?kc.create(e.items.map(t=>ym(t))):e}class Jn extends Ar{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Kr.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==ct.object){const c=this._getOrReturnCtx(t);return at(c,{code:Ue.invalid_type,expected:ct.object,received:c.parsedType}),Qt}const{status:n,ctx:i}=this._processInputParams(t),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof Ou&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||o.push(c);const l=[];for(const c of s){const u=a[c],h=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Cc(i,h,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Ou){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")o.length>0&&(at(i,{code:Ue.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const h=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Cc(i,h,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const h=await u.key,f=await u.value;c.push({key:h,value:f,alwaysSet:u.alwaysSet})}return c}).then(c=>wa.mergeObjectSync(n,c)):wa.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return kt.errToObj,new Jn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,a,s,o;const l=(s=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=kt.errToObj(t).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new Jn({...this._def,unknownKeys:"strip"})}passthrough(){return new Jn({...this._def,unknownKeys:"passthrough"})}extend(t){return new Jn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Jn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Xt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Jn({...this._def,catchall:t})}pick(t){const r={};return Kr.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Jn({...this._def,shape:()=>r})}omit(t){const r={};return Kr.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Jn({...this._def,shape:()=>r})}deepPartial(){return ym(this)}partial(t){const r={};return Kr.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}),new Jn({...this._def,shape:()=>r})}required(t){const r={};return Kr.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof mc;)a=a._def.innerType;r[n]=a}}),new Jn({...this._def,shape:()=>r})}keyof(){return Vge(Kr.objectKeys(this.shape))}}Jn.create=(e,t)=>new Jn({shape:()=>e,unknownKeys:"strip",catchall:Ou.create(),typeName:Xt.ZodObject,...yr(t)});Jn.strictCreate=(e,t)=>new Jn({shape:()=>e,unknownKeys:"strict",catchall:Ou.create(),typeName:Xt.ZodObject,...yr(t)});Jn.lazycreate=(e,t)=>new Jn({shape:e,unknownKeys:"strip",catchall:Ou.create(),typeName:Xt.ZodObject,...yr(t)});class uw extends Ar{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new Hs(o.ctx.common.issues));return at(r,{code:Ue.invalid_union,unionErrors:s}),Qt}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(l=>new Hs(l));return at(r,{code:Ue.invalid_union,unionErrors:o}),Qt}}get options(){return this._def.options}}uw.create=(e,t)=>new uw({options:e,typeName:Xt.ZodUnion,...yr(t)});const Wc=e=>e instanceof fw?Wc(e.schema):e instanceof yl?Wc(e.innerType()):e instanceof pw?[e.value]:e instanceof Ch?e.options:e instanceof gw?Kr.objectValues(e.enum):e instanceof mw?Wc(e._def.innerType):e instanceof lw?[void 0]:e instanceof cw?[null]:e instanceof mc?[void 0,...Wc(e.unwrap())]:e instanceof kh?[null,...Wc(e.unwrap())]:e instanceof XF||e instanceof yw?Wc(e.unwrap()):e instanceof vw?Wc(e._def.innerType):[];class NA extends Ar{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ct.object)return at(r,{code:Ue.invalid_type,expected:ct.object,received:r.parsedType}),Qt;const n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(at(r,{code:Ue.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Qt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const i=new Map;for(const a of r){const s=Wc(a.shape[t]);if(!s.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const o of s){if(i.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);i.set(o,a)}}return new NA({typeName:Xt.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...yr(n)})}}function p3(e,t){const r=Qc(e),n=Qc(t);if(e===t)return{valid:!0,data:e};if(r===ct.object&&n===ct.object){const i=Kr.objectKeys(t),a=Kr.objectKeys(e).filter(o=>i.indexOf(o)!==-1),s={...e,...t};for(const o of a){const l=p3(e[o],t[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(r===ct.array&&n===ct.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const s=e[a],o=t[a],l=p3(s,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===ct.date&&n===ct.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class dw extends Ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(a,s)=>{if(h3(a)||h3(s))return Qt;const o=p3(a.value,s.value);return o.valid?((f3(a)||f3(s))&&r.dirty(),{status:r.value,value:o.data}):(at(n,{code:Ue.invalid_intersection_types}),Qt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}dw.create=(e,t,r)=>new dw({left:e,right:t,typeName:Xt.ZodIntersection,...yr(r)});class kc extends Ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ct.array)return at(n,{code:Ue.invalid_type,expected:ct.array,received:n.parsedType}),Qt;if(n.data.length<this._def.items.length)return at(n,{code:Ue.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Qt;!this._def.rest&&n.data.length>this._def.items.length&&(at(n,{code:Ue.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Cc(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>wa.mergeArray(r,s)):wa.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new kc({...this._def,rest:t})}}kc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new kc({items:e,typeName:Xt.ZodTuple,rest:null,...yr(t)})};class hw extends Ar{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ct.object)return at(n,{code:Ue.invalid_type,expected:ct.object,received:n.parsedType}),Qt;const i=[],a=this._def.keyType,s=this._def.valueType;for(const o in n.data)i.push({key:a._parse(new Cc(n,o,n.path,o)),value:s._parse(new Cc(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?wa.mergeObjectAsync(r,i):wa.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Ar?new hw({keyType:t,valueType:r,typeName:Xt.ZodRecord,...yr(n)}):new hw({keyType:al.create(),valueType:t,typeName:Xt.ZodRecord,...yr(r)})}}class _N extends Ar{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ct.map)return at(n,{code:Ue.invalid_type,expected:ct.map,received:n.parsedType}),Qt;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,l],c)=>({key:i._parse(new Cc(n,o,n.path,[c,"key"])),value:a._parse(new Cc(n,l,n.path,[c,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Qt;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of s){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Qt;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}}}}_N.create=(e,t,r)=>new _N({valueType:t,keyType:e,typeName:Xt.ZodMap,...yr(r)});class Hp extends Ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ct.set)return at(n,{code:Ue.invalid_type,expected:ct.set,received:n.parsedType}),Qt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(at(n,{code:Ue.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(at(n,{code:Ue.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Qt;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const o=[...n.data.values()].map((l,c)=>a._parse(new Cc(n,l,n.path,c)));return n.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(t,r){return new Hp({...this._def,minSize:{value:t,message:kt.toString(r)}})}max(t,r){return new Hp({...this._def,maxSize:{value:t,message:kt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Hp.create=(e,t)=>new Hp({valueType:e,minSize:null,maxSize:null,typeName:Xt.ZodSet,...yr(t)});class cv extends Ar{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ct.function)return at(r,{code:Ue.invalid_type,expected:ct.function,received:r.parsedType}),Qt;function n(o,l){return mN({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,gN(),qv].filter(c=>!!c),issueData:{code:Ue.invalid_arguments,argumentsError:l}})}function i(o,l){return mN({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,gN(),qv].filter(c=>!!c),issueData:{code:Ue.invalid_return_type,returnTypeError:l}})}const a={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof Kv){const o=this;return Ka(async function(...l){const c=new Hs([]),u=await o._def.args.parseAsync(l,a).catch(p=>{throw c.addIssue(n(l,p)),c}),h=await Reflect.apply(s,this,u);return await o._def.returns._def.type.parseAsync(h,a).catch(p=>{throw c.addIssue(i(h,p)),c})})}else{const o=this;return Ka(function(...l){const c=o._def.args.safeParse(l,a);if(!c.success)throw new Hs([n(l,c.error)]);const u=Reflect.apply(s,this,c.data),h=o._def.returns.safeParse(u,a);if(!h.success)throw new Hs([i(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new cv({...this._def,args:kc.create(t).rest(yp.create())})}returns(t){return new cv({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new cv({args:t||kc.create([]).rest(yp.create()),returns:r||yp.create(),typeName:Xt.ZodFunction,...yr(n)})}}class fw extends Ar{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}fw.create=(e,t)=>new fw({getter:e,typeName:Xt.ZodLazy,...yr(t)});class pw extends Ar{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return at(r,{received:r.data,code:Ue.invalid_literal,expected:this._def.value}),Qt}return{status:"valid",value:t.data}}get value(){return this._def.value}}pw.create=(e,t)=>new pw({value:e,typeName:Xt.ZodLiteral,...yr(t)});function Vge(e,t){return new Ch({values:e,typeName:Xt.ZodEnum,...yr(t)})}class Ch extends Ar{constructor(){super(...arguments),Qx.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return at(r,{expected:Kr.joinValues(n),received:r.parsedType,code:Ue.invalid_type}),Qt}if(vN(this,Qx)||Fge(this,Qx,new Set(this._def.values)),!vN(this,Qx).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return at(r,{received:r.data,code:Ue.invalid_enum_value,options:n}),Qt}return Ka(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Ch.create(t,{...this._def,...r})}exclude(t,r=this._def){return Ch.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Qx=new WeakMap;Ch.create=Vge;class gw extends Ar{constructor(){super(...arguments),e_.set(this,void 0)}_parse(t){const r=Kr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ct.string&&n.parsedType!==ct.number){const i=Kr.objectValues(r);return at(n,{expected:Kr.joinValues(i),received:n.parsedType,code:Ue.invalid_type}),Qt}if(vN(this,e_)||Fge(this,e_,new Set(Kr.getValidEnumValues(this._def.values))),!vN(this,e_).has(t.data)){const i=Kr.objectValues(r);return at(n,{received:n.data,code:Ue.invalid_enum_value,options:i}),Qt}return Ka(t.data)}get enum(){return this._def.values}}e_=new WeakMap;gw.create=(e,t)=>new gw({values:e,typeName:Xt.ZodNativeEnum,...yr(t)});class Kv extends Ar{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ct.promise&&r.common.async===!1)return at(r,{code:Ue.invalid_type,expected:ct.promise,received:r.parsedType}),Qt;const n=r.parsedType===ct.promise?r.data:Promise.resolve(r.data);return Ka(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Kv.create=(e,t)=>new Kv({type:e,typeName:Xt.ZodPromise,...yr(t)});class yl extends Ar{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Xt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:s=>{at(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return Qt;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?Qt:l.status==="dirty"||r.value==="dirty"?Um(l.value):l});{if(r.value==="aborted")return Qt;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?Qt:o.status==="dirty"||r.value==="dirty"?Um(o.value):o}}if(i.type==="refinement"){const s=o=>{const l=i.refinement(o,a);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Qt:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Qt:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!zp(s))return s;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>zp(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):s);Kr.assertNever(i)}}yl.create=(e,t,r)=>new yl({schema:e,typeName:Xt.ZodEffects,effect:t,...yr(r)});yl.createWithPreprocess=(e,t,r)=>new yl({schema:t,effect:{type:"preprocess",transform:e},typeName:Xt.ZodEffects,...yr(r)});class mc extends Ar{_parse(t){return this._getType(t)===ct.undefined?Ka(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}mc.create=(e,t)=>new mc({innerType:e,typeName:Xt.ZodOptional,...yr(t)});class kh extends Ar{_parse(t){return this._getType(t)===ct.null?Ka(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}kh.create=(e,t)=>new kh({innerType:e,typeName:Xt.ZodNullable,...yr(t)});class mw extends Ar{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ct.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}mw.create=(e,t)=>new mw({innerType:e,typeName:Xt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...yr(t)});class vw extends Ar{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return sw(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Hs(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Hs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}vw.create=(e,t)=>new vw({innerType:e,typeName:Xt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...yr(t)});class bN extends Ar{_parse(t){if(this._getType(t)!==ct.nan){const n=this._getOrReturnCtx(t);return at(n,{code:Ue.invalid_type,expected:ct.nan,received:n.parsedType}),Qt}return{status:"valid",value:t.data}}}bN.create=e=>new bN({typeName:Xt.ZodNaN,...yr(e)});const Pct=Symbol("zod_brand");class XF extends Ar{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class S1 extends Ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Qt:a.status==="dirty"?(r.dirty(),Um(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Qt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new S1({in:t,out:r,typeName:Xt.ZodPipeline})}}class yw extends Ar{_parse(t){const r=this._def.innerType._parse(t),n=i=>(zp(i)&&(i.value=Object.freeze(i.value)),i);return sw(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}yw.create=(e,t)=>new yw({innerType:e,typeName:Xt.ZodReadonly,...yr(t)});function GX(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function Wge(e,t={},r){return e?Yv.create().superRefine((n,i)=>{var a,s;const o=e(n);if(o instanceof Promise)return o.then(l=>{var c,u;if(!l){const h=GX(t,n),f=(u=(c=h.fatal)!==null&&c!==void 0?c:r)!==null&&u!==void 0?u:!0;i.addIssue({code:"custom",...h,fatal:f})}});if(!o){const l=GX(t,n),c=(s=(a=l.fatal)!==null&&a!==void 0?a:r)!==null&&s!==void 0?s:!0;i.addIssue({code:"custom",...l,fatal:c})}}):Yv.create()}const Lct={object:Jn.lazycreate};var Xt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Xt||(Xt={}));const Dct=(e,t={message:`Input not instance of ${e.name}`})=>Wge(r=>r instanceof e,t),Gge=al.create,qge=wh.create,Oct=bN.create,$ct=Sh.create,Yge=ow.create,Bct=Up.create,Fct=yN.create,zct=lw.create,Uct=cw.create,Hct=Yv.create,Vct=yp.create,Wct=Ou.create,Gct=xN.create,qct=hl.create,Yct=Jn.create,Kct=Jn.strictCreate,Xct=uw.create,Zct=NA.create,Jct=dw.create,Qct=kc.create,eut=hw.create,tut=_N.create,rut=Hp.create,nut=cv.create,iut=fw.create,aut=pw.create,sut=Ch.create,out=gw.create,lut=Kv.create,qX=yl.create,cut=mc.create,uut=kh.create,dut=yl.createWithPreprocess,hut=S1.create,fut=()=>Gge().optional(),put=()=>qge().optional(),gut=()=>Yge().optional(),mut={string:e=>al.create({...e,coerce:!0}),number:e=>wh.create({...e,coerce:!0}),boolean:e=>ow.create({...e,coerce:!0}),bigint:e=>Sh.create({...e,coerce:!0}),date:e=>Up.create({...e,coerce:!0})},vut=Qt;var Hc=Object.freeze({__proto__:null,defaultErrorMap:qv,setErrorMap:dct,getErrorMap:gN,makeIssue:mN,EMPTY_PATH:hct,addIssueToContext:at,ParseStatus:wa,INVALID:Qt,DIRTY:Um,OK:Ka,isAborted:h3,isDirty:f3,isValid:zp,isAsync:sw,get util(){return Kr},get objectUtil(){return d3},ZodParsedType:ct,getParsedType:Qc,ZodType:Ar,datetimeRegex:Hge,ZodString:al,ZodNumber:wh,ZodBigInt:Sh,ZodBoolean:ow,ZodDate:Up,ZodSymbol:yN,ZodUndefined:lw,ZodNull:cw,ZodAny:Yv,ZodUnknown:yp,ZodNever:Ou,ZodVoid:xN,ZodArray:hl,ZodObject:Jn,ZodUnion:uw,ZodDiscriminatedUnion:NA,ZodIntersection:dw,ZodTuple:kc,ZodRecord:hw,ZodMap:_N,ZodSet:Hp,ZodFunction:cv,ZodLazy:fw,ZodLiteral:pw,ZodEnum:Ch,ZodNativeEnum:gw,ZodPromise:Kv,ZodEffects:yl,ZodTransformer:yl,ZodOptional:mc,ZodNullable:kh,ZodDefault:mw,ZodCatch:vw,ZodNaN:bN,BRAND:Pct,ZodBranded:XF,ZodPipeline:S1,ZodReadonly:yw,custom:Wge,Schema:Ar,ZodSchema:Ar,late:Lct,get ZodFirstPartyTypeKind(){return Xt},coerce:mut,any:Hct,array:qct,bigint:$ct,boolean:Yge,date:Bct,discriminatedUnion:Zct,effect:qX,enum:sut,function:nut,instanceof:Dct,intersection:Jct,lazy:iut,literal:aut,map:tut,nan:Oct,nativeEnum:out,never:Wct,null:Uct,nullable:uut,number:qge,object:Yct,oboolean:gut,onumber:put,optional:cut,ostring:fut,pipeline:hut,preprocess:dut,promise:lut,record:eut,set:rut,strictObject:Kct,string:Gge,symbol:Fct,transformer:qX,tuple:Qct,undefined:zct,union:Xct,unknown:Vct,void:Gct,NEVER:vut,ZodIssueCode:Ue,quotelessJson:uct,ZodError:Hs}),yut=5746,xut="/ping/stagewise",_ut="stagewise",but={server:{triggerAgentPrompt:{request:Hc.object({prompt:Hc.string()}),response:Hc.object({result:Hc.object({success:Hc.boolean(),error:Hc.string().optional(),output:Hc.string().optional()})}),update:Hc.object({updateText:Hc.string()})}}};async function wut(e=10,t=300){for(let r=0;r<e;r++){const n=yut+r;try{const i=new AbortController,a=setTimeout(()=>i.abort(),t);try{const s=await fetch(`http://localhost:${n}${xut}`,{signal:i.signal});if(clearTimeout(a),s.ok&&await s.text()===_ut)return n}catch{clearTimeout(a);continue}}catch{continue}}return null}const Kge=Ci({bridge:null,isConnecting:!1,error:null});function Sut({children:e}){const[t,r]=pr({bridge:null,isConnecting:!0,error:null});return Fr(()=>{async function n(){try{const i=await wut(),a=cct(`ws://localhost:${i}`,but);await a.connect(),r({bridge:a,isConnecting:!1,error:null})}catch(i){r({bridge:null,isConnecting:!1,error:i instanceof Error?i:new Error(String(i))})}}n()},[]),De(Kge.Provider,{value:t,children:e})}function Cut(){const e=zn(Kge);if(!e)throw new Error("useSRPCBridge must be used within an SRPCBridgeProvider");return e}function kut(e){const t={},r=["id","class","name","type","href","src","alt","for","placeholder"],n=[];for(let i=0;i<e.attributes.length;i++){const a=e.attributes[i];a.name.startsWith("data-")?n.push({name:a.name,value:a.value}):(r.includes(a.name.toLowerCase())||a.name.toLowerCase()!=="style")&&(t[a.name]=a.value)}return n.forEach(i=>{t[i.name]=i.value}),t}function Eut(e,t){var r;let n=`<element index="${t+1}">
`;n+=`  <tag>${e.tagName.toLowerCase()}</tag>
`;const i=e.id;i&&(n+=`  <id>${i}</id>
`);const a=Array.from(e.classList).join(", ");a&&(n+=`  <classes>${a}</classes>
`);const s=kut(e);if(Object.keys(s).length>0){n+=`  <attributes>
`;for(const[l,c]of Object.entries(s))(l.toLowerCase()!=="class"||!a)&&(n+=`    <${l}>${c}</${l}>
`);n+=`  </attributes>
`}const o=(r=e.innerText)==null?void 0:r.trim();if(o&&(n+=`  <text>${o.length>100?`${o.substring(0,100)}...`:o}</text>
`),n+=`  <structural_context>
`,e.parentElement){const l=e.parentElement;n+=`    <parent>
`,n+=`      <tag>${l.tagName.toLowerCase()}</tag>
`,l.id&&(n+=`      <id>${l.id}</id>
`);const c=Array.from(l.classList).join(", ");c&&(n+=`      <classes>${c}</classes>
`),n+=`    </parent>
`}else n+=`    <parent>No parent element found (likely root or disconnected)</parent>
`;n+=`  </structural_context>
`;try{const l=window.getComputedStyle(e),c={color:l.color,backgroundColor:l.backgroundColor,fontSize:l.fontSize,fontWeight:l.fontWeight,display:l.display};n+=`  <styles>
`;for(const[u,h]of Object.entries(c))n+=`    <${u}>${h}</${u}>
`;n+=`  </styles>
`}catch{n+=`  <styles>Could not retrieve computed styles</styles>
`}return n+=`</element>
`,n}function Tut(e,t,r){if(!e||e.length===0)return`
    <request>
      <user_goal>${t}</user_goal>
      <url>${r}</url>
  <context>No specific element was selected on the page. Please analyze the page code in general or ask for clarification.</context>
</request>`.trim();let n="";return e.forEach((i,a)=>{n+=Eut(i,a)}),`
<request>
  <user_goal>${t}</user_goal>
  <url>${r}</url>
  <selected_elements>
    ${n.trim()}
  </selected_elements>
</request>`.trim()}const Nut={BOTTOM_CENTER:4},YX=e=>{let t;const r=new Set,n=(c,u)=>{const h=typeof c=="function"?c(t):c;if(!Object.is(h,t)){const f=t;t=u??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(p=>p(t,f))}},i=()=>t,o={setState:n,getState:i,getInitialState:()=>l,subscribe:c=>(r.add(c),()=>r.delete(c))},l=t=e(n,i,o);return o},Aut=e=>e?YX(e):YX,jut=e=>e;function Rut(e,t=jut){const r=Vi.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return Vi.useDebugValue(r),r}const KX=e=>{const t=Aut(e),r=n=>Rut(t,n);return Object.assign(r,t),r},Iut=e=>e?KX(e):KX;class Mut{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(t,r){this.keyToValue.set(t,r),this.valueToKey.set(r,t)}getByKey(t){return this.keyToValue.get(t)}getByValue(t){return this.valueToKey.get(t)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class Xge{constructor(t){this.generateIdentifier=t,this.kv=new Mut}register(t,r){this.kv.getByValue(t)||(r||(r=this.generateIdentifier(t)),this.kv.set(r,t))}clear(){this.kv.clear()}getIdentifier(t){return this.kv.getByValue(t)}getValue(t){return this.kv.getByKey(t)}}class Put extends Xge{constructor(){super(t=>t.name),this.classToAllowedProps=new Map}register(t,r){typeof r=="object"?(r.allowProps&&this.classToAllowedProps.set(t,r.allowProps),super.register(t,r.identifier)):super.register(t,r)}getAllowedProps(t){return this.classToAllowedProps.get(t)}}function Lut(e){if("values"in Object)return Object.values(e);const t=[];for(const r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t}function Dut(e,t){const r=Lut(e);if("find"in r)return r.find(t);const n=r;for(let i=0;i<n.length;i++){const a=n[i];if(t(a))return a}}function Xv(e,t){Object.entries(e).forEach(([r,n])=>t(n,r))}function oE(e,t){return e.indexOf(t)!==-1}function XX(e,t){for(let r=0;r<e.length;r++){const n=e[r];if(t(n))return n}}class Out{constructor(){this.transfomers={}}register(t){this.transfomers[t.name]=t}findApplicable(t){return Dut(this.transfomers,r=>r.isApplicable(t))}findByName(t){return this.transfomers[t]}}const $ut=e=>Object.prototype.toString.call(e).slice(8,-1),Zge=e=>typeof e>"u",But=e=>e===null,xw=e=>typeof e!="object"||e===null||e===Object.prototype?!1:Object.getPrototypeOf(e)===null?!0:Object.getPrototypeOf(e)===Object.prototype,g3=e=>xw(e)&&Object.keys(e).length===0,Eh=e=>Array.isArray(e),Fut=e=>typeof e=="string",zut=e=>typeof e=="number"&&!isNaN(e),Uut=e=>typeof e=="boolean",Hut=e=>e instanceof RegExp,_w=e=>e instanceof Map,bw=e=>e instanceof Set,Jge=e=>$ut(e)==="Symbol",Vut=e=>e instanceof Date&&!isNaN(e.valueOf()),Wut=e=>e instanceof Error,ZX=e=>typeof e=="number"&&isNaN(e),Gut=e=>Uut(e)||But(e)||Zge(e)||zut(e)||Fut(e)||Jge(e),qut=e=>typeof e=="bigint",Yut=e=>e===1/0||e===-1/0,Kut=e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),Xut=e=>e instanceof URL,Qge=e=>e.replace(/\./g,"\\."),OM=e=>e.map(String).map(Qge).join("."),U_=e=>{const t=[];let r="";for(let i=0;i<e.length;i++){let a=e.charAt(i);if(a==="\\"&&e.charAt(i+1)==="."){r+=".",i++;continue}if(a==="."){t.push(r),r="";continue}r+=a}const n=r;return t.push(n),t};function $l(e,t,r,n){return{isApplicable:e,annotation:t,transform:r,untransform:n}}const eme=[$l(Zge,"undefined",()=>null,()=>{}),$l(qut,"bigint",e=>e.toString(),e=>typeof BigInt<"u"?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),$l(Vut,"Date",e=>e.toISOString(),e=>new Date(e)),$l(Wut,"Error",(e,t)=>{const r={name:e.name,message:e.message};return t.allowedErrorProps.forEach(n=>{r[n]=e[n]}),r},(e,t)=>{const r=new Error(e.message);return r.name=e.name,r.stack=e.stack,t.allowedErrorProps.forEach(n=>{r[n]=e[n]}),r}),$l(Hut,"regexp",e=>""+e,e=>{const t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}),$l(bw,"set",e=>[...e.values()],e=>new Set(e)),$l(_w,"map",e=>[...e.entries()],e=>new Map(e)),$l(e=>ZX(e)||Yut(e),"number",e=>ZX(e)?"NaN":e>0?"Infinity":"-Infinity",Number),$l(e=>e===0&&1/e===-1/0,"number",()=>"-0",Number),$l(Xut,"URL",e=>e.toString(),e=>new URL(e))];function AA(e,t,r,n){return{isApplicable:e,annotation:t,transform:r,untransform:n}}const tme=AA((e,t)=>Jge(e)?!!t.symbolRegistry.getIdentifier(e):!1,(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,r)=>{const n=r.symbolRegistry.getValue(t[1]);if(!n)throw new Error("Trying to deserialize unknown symbol");return n}),Zut=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),rme=AA(Kut,e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{const r=Zut[t[1]];if(!r)throw new Error("Trying to deserialize unknown typed array");return new r(e)});function nme(e,t){return e!=null&&e.constructor?!!t.classRegistry.getIdentifier(e.constructor):!1}const ime=AA(nme,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{const r=t.classRegistry.getAllowedProps(e.constructor);if(!r)return{...e};const n={};return r.forEach(i=>{n[i]=e[i]}),n},(e,t,r)=>{const n=r.classRegistry.getValue(t[1]);if(!n)throw new Error(`Trying to deserialize unknown class '${t[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(n.prototype),e)}),ame=AA((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,r)=>{const n=r.customTransformerRegistry.findByName(t[1]);if(!n)throw new Error("Trying to deserialize unknown custom value");return n.deserialize(e)}),Jut=[ime,tme,ame,rme],JX=(e,t)=>{const r=XX(Jut,i=>i.isApplicable(e,t));if(r)return{value:r.transform(e,t),type:r.annotation(e,t)};const n=XX(eme,i=>i.isApplicable(e,t));if(n)return{value:n.transform(e,t),type:n.annotation}},sme={};eme.forEach(e=>{sme[e.annotation]=e});const Qut=(e,t,r)=>{if(Eh(t))switch(t[0]){case"symbol":return tme.untransform(e,t,r);case"class":return ime.untransform(e,t,r);case"custom":return ame.untransform(e,t,r);case"typed-array":return rme.untransform(e,t,r);default:throw new Error("Unknown transformation: "+t)}else{const n=sme[t];if(!n)throw new Error("Unknown transformation: "+t);return n.untransform(e,r)}},Hm=(e,t)=>{if(t>e.size)throw new Error("index out of bounds");const r=e.keys();for(;t>0;)r.next(),t--;return r.next().value};function ome(e){if(oE(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(oE(e,"prototype"))throw new Error("prototype is not allowed as a property");if(oE(e,"constructor"))throw new Error("constructor is not allowed as a property")}const edt=(e,t)=>{ome(t);for(let r=0;r<t.length;r++){const n=t[r];if(bw(e))e=Hm(e,+n);else if(_w(e)){const i=+n,a=+t[++r]==0?"key":"value",s=Hm(e,i);switch(a){case"key":e=s;break;case"value":e=e.get(s);break}}else e=e[n]}return e},m3=(e,t,r)=>{if(ome(t),t.length===0)return r(e);let n=e;for(let a=0;a<t.length-1;a++){const s=t[a];if(Eh(n)){const o=+s;n=n[o]}else if(xw(n))n=n[s];else if(bw(n)){const o=+s;n=Hm(n,o)}else if(_w(n)){if(a===t.length-2)break;const l=+s,c=+t[++a]==0?"key":"value",u=Hm(n,l);switch(c){case"key":n=u;break;case"value":n=n.get(u);break}}}const i=t[t.length-1];if(Eh(n)?n[+i]=r(n[+i]):xw(n)&&(n[i]=r(n[i])),bw(n)){const a=Hm(n,+i),s=r(a);a!==s&&(n.delete(a),n.add(s))}if(_w(n)){const a=+t[t.length-2],s=Hm(n,a);switch(+i==0?"key":"value"){case"key":{const l=r(s);n.set(l,n.get(s)),l!==s&&n.delete(s);break}case"value":{n.set(s,r(n.get(s)));break}}}return e};function v3(e,t,r=[]){if(!e)return;if(!Eh(e)){Xv(e,(a,s)=>v3(a,t,[...r,...U_(s)]));return}const[n,i]=e;i&&Xv(i,(a,s)=>{v3(a,t,[...r,...U_(s)])}),t(n,r)}function tdt(e,t,r){return v3(t,(n,i)=>{e=m3(e,i,a=>Qut(a,n,r))}),e}function rdt(e,t){function r(n,i){const a=edt(e,U_(i));n.map(U_).forEach(s=>{e=m3(e,s,()=>a)})}if(Eh(t)){const[n,i]=t;n.forEach(a=>{e=m3(e,U_(a),()=>e)}),i&&Xv(i,r)}else Xv(t,r);return e}const ndt=(e,t)=>xw(e)||Eh(e)||_w(e)||bw(e)||nme(e,t);function idt(e,t,r){const n=r.get(e);n?n.push(t):r.set(e,[t])}function adt(e,t){const r={};let n;return e.forEach(i=>{if(i.length<=1)return;t||(i=i.map(o=>o.map(String)).sort((o,l)=>o.length-l.length));const[a,...s]=i;a.length===0?n=s.map(OM):r[OM(a)]=s.map(OM)}),n?g3(r)?[n]:[n,r]:g3(r)?void 0:r}const lme=(e,t,r,n,i=[],a=[],s=new Map)=>{const o=Gut(e);if(!o){idt(e,i,t);const p=s.get(e);if(p)return n?{transformedValue:null}:p}if(!ndt(e,r)){const p=JX(e,r),g=p?{transformedValue:p.value,annotations:[p.type]}:{transformedValue:e};return o||s.set(e,g),g}if(oE(a,e))return{transformedValue:null};const l=JX(e,r),c=(l==null?void 0:l.value)??e,u=Eh(c)?[]:{},h={};Xv(c,(p,g)=>{if(g==="__proto__"||g==="constructor"||g==="prototype")throw new Error(`Detected property ${g}. This is a prototype pollution risk, please remove it from your object.`);const v=lme(p,t,r,n,[...i,g],[...a,e],s);u[g]=v.transformedValue,Eh(v.annotations)?h[g]=v.annotations:xw(v.annotations)&&Xv(v.annotations,(m,y)=>{h[Qge(g)+"."+y]=m})});const f=g3(h)?{transformedValue:u,annotations:l?[l.type]:void 0}:{transformedValue:u,annotations:l?[l.type,h]:h};return o||s.set(e,f),f};function cme(e){return Object.prototype.toString.call(e).slice(8,-1)}function QX(e){return cme(e)==="Array"}function sdt(e){if(cme(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}function odt(e,t,r,n,i){const a={}.propertyIsEnumerable.call(n,t)?"enumerable":"nonenumerable";a==="enumerable"&&(e[t]=r),i&&a==="nonenumerable"&&Object.defineProperty(e,t,{value:r,enumerable:!1,writable:!0,configurable:!0})}function y3(e,t={}){if(QX(e))return e.map(i=>y3(i,t));if(!sdt(e))return e;const r=Object.getOwnPropertyNames(e),n=Object.getOwnPropertySymbols(e);return[...r,...n].reduce((i,a)=>{if(QX(t.props)&&!t.props.includes(a))return i;const s=e[a],o=y3(s,t);return odt(i,a,o,e,t.nonenumerable),i},{})}class zr{constructor({dedupe:t=!1}={}){this.classRegistry=new Put,this.symbolRegistry=new Xge(r=>r.description??""),this.customTransformerRegistry=new Out,this.allowedErrorProps=[],this.dedupe=t}serialize(t){const r=new Map,n=lme(t,r,this,this.dedupe),i={json:n.transformedValue};n.annotations&&(i.meta={...i.meta,values:n.annotations});const a=adt(r,this.dedupe);return a&&(i.meta={...i.meta,referentialEqualities:a}),i}deserialize(t){const{json:r,meta:n}=t;let i=y3(r);return n!=null&&n.values&&(i=tdt(i,n.values,this)),n!=null&&n.referentialEqualities&&(i=rdt(i,n.referentialEqualities)),i}stringify(t){return JSON.stringify(this.serialize(t))}parse(t){return this.deserialize(JSON.parse(t))}registerClass(t,r){this.classRegistry.register(t,r)}registerSymbol(t,r){this.symbolRegistry.register(t,r)}registerCustom(t,r){this.customTransformerRegistry.register({name:r,...t})}allowErrorProps(...t){this.allowedErrorProps.push(...t)}}zr.defaultInstance=new zr;zr.serialize=zr.defaultInstance.serialize.bind(zr.defaultInstance);zr.deserialize=zr.defaultInstance.deserialize.bind(zr.defaultInstance);zr.stringify=zr.defaultInstance.stringify.bind(zr.defaultInstance);zr.parse=zr.defaultInstance.parse.bind(zr.defaultInstance);zr.registerClass=zr.defaultInstance.registerClass.bind(zr.defaultInstance);zr.registerSymbol=zr.defaultInstance.registerSymbol.bind(zr.defaultInstance);zr.registerCustom=zr.defaultInstance.registerCustom.bind(zr.defaultInstance);zr.allowErrorProps=zr.defaultInstance.allowErrorProps.bind(zr.defaultInstance);zr.serialize;zr.deserialize;zr.stringify;zr.parse;zr.registerClass;zr.registerCustom;zr.registerSymbol;zr.allowErrorProps;function ldt(e,t){let r;try{r=e()}catch{return}return{getItem:i=>{var a;const s=l=>l===null?null:JSON.parse(l,void 0),o=(a=r.getItem(i))!=null?a:null;return o instanceof Promise?o.then(s):s(o)},setItem:(i,a)=>r.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>r.removeItem(i)}}const x3=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return x3(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return x3(n)(r)}}}},cdt=(e,t)=>(r,n,i)=>{let a={storage:ldt(()=>localStorage),partialize:v=>v,version:0,merge:(v,m)=>({...m,...v}),...t},s=!1;const o=new Set,l=new Set;let c=a.storage;if(!c)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...v)},n,i);const u=()=>{const v=a.partialize({...n()});return c.setItem(a.name,{state:v,version:a.version})},h=i.setState;i.setState=(v,m)=>{h(v,m),u()};const f=e((...v)=>{r(...v),u()},n,i);i.getInitialState=()=>f;let p;const g=()=>{var v,m;if(!c)return;s=!1,o.forEach(x=>{var _;return x((_=n())!=null?_:f)});const y=((m=a.onRehydrateStorage)==null?void 0:m.call(a,(v=n())!=null?v:f))||void 0;return x3(c.getItem.bind(c))(a.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==a.version){if(a.migrate){const _=a.migrate(x.state,x.version);return _ instanceof Promise?_.then(b=>[!0,b]):[!0,_]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var _;const[b,w]=x;if(p=a.merge(w,(_=n())!=null?_:f),r(p,!0),b)return u()}).then(()=>{y==null||y(p,void 0),p=n(),s=!0,l.forEach(x=>x(p))}).catch(x=>{y==null||y(void 0,x)})};return i.persist={setOptions:v=>{a={...a,...v},v.storage&&(c=v.storage)},clearStorage:()=>{c==null||c.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>s,onHydrate:v=>(o.add(v),()=>{o.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},a.skipHydration||g(),p||f},udt=cdt,ddt=e=>{const t=e;return{appBlockRequestList:[],appUnblockRequestList:[],lastBlockRequestNumber:0,lastUnblockRequestNumber:0,isMainAppBlocked:!1,requestMainAppBlock:()=>{let r=0;return t(n=>(r=n.lastBlockRequestNumber+1,{appBlockRequestList:[...n.appBlockRequestList,r],lastBlockRequestNumber:r,isMainAppBlocked:n.appUnblockRequestList.length===0})),r},requestMainAppUnblock:()=>{let r=0;return t(n=>(r=n.lastUnblockRequestNumber+1,{appUnblockRequestList:[...n.appUnblockRequestList,r],lastUnblockRequestNumber:r,isMainAppBlocked:!1})),r},discardMainAppBlock:r=>{t(n=>{const i=n.appBlockRequestList.filter(a=>a!==r);return{appBlockRequestList:i,isMainAppBlocked:i.length>0&&n.appUnblockRequestList.length===0}})},discardMainAppUnblock:r=>{t(n=>{const i=n.appUnblockRequestList.filter(a=>a!==r);return{appUnblockRequestList:i,isMainAppBlocked:n.appBlockRequestList.length>0&&i.length===0}})},toolbarPosition:Nut.BOTTOM_CENTER,setToolbarPosition:r=>t(()=>({toolbarPosition:r})),toolbarBoxRef:dN(),setToolbarBoxRef:r=>t(()=>({toolbarBoxRef:r})),unsetToolbarBoxRef:()=>t(()=>({toolbarBoxRef:dN()})),minimized:!1,minimize:()=>t(()=>({minimized:!0})),expand:()=>t(()=>({minimized:!1})),promotedOnStartup:!1,promotionFinished:()=>t(()=>({promotedOnStartup:!0}))}};function hdt(e){return{getItem:t=>{const r=e.getItem(t);return r?zr.parse(r):null},setItem:(t,r)=>{e.setItem(t,zr.stringify(r))},removeItem:t=>e.removeItem(t)}}const C1=Iut(udt(ddt,{name:"stgws:companion",storage:hdt(sessionStorage),partialize:e=>({toolbarPosition:e.toolbarPosition})})),ume=Ci({chats:[],currentChatId:null,createChat:()=>"",deleteChat:()=>{},setCurrentChat:()=>{},setChatInput:()=>{},addChatDomContext:()=>{},removeChatDomContext:()=>{},addMessage:()=>{},chatAreaState:"hidden",setChatAreaState:()=>{},isPromptCreationActive:!1,startPromptCreation:()=>{},stopPromptCreation:()=>{}}),fdt=({children:e})=>{const[t,r]=pr([{id:"new_chat",messages:[],title:"New chat",inputValue:"",domContextElements:[]}]),[n,i]=pr("new_chat"),[a,s]=pr("hidden"),[o,l]=pr(!1),c=C1(S=>S.minimized);Fr(()=>{c&&(l(!1),s("hidden"))},[c]);const{bridge:u}=Cut(),h=ot(()=>{const S=crypto.randomUUID(),k={id:S,title:null,messages:[],inputValue:"",domContextElements:[]};return r(C=>[...C,k]),i(S),S},[]),f=ot(S=>{r(k=>{const C=k.filter(E=>E.id!==S);return C.length===0?[{id:"new_chat",messages:[],title:"New chat",inputValue:"",domContextElements:[]}]:C}),n===S&&r(k=>(i(k[0].id),k))},[n]),p=ot(S=>{i(S)},[]),g=ot((S,k)=>{r(C=>C.map(E=>E.id===S?{...E,inputValue:k}:E))},[]),v=ot(()=>{l(!0),a==="hidden"&&s("compact")},[a]),m=ot(()=>{l(!1),r(S=>S.map(k=>k.id===n?{...k,domContextElements:[]}:k)),a==="compact"&&s("hidden")},[n,a]),y=ot(S=>{s(S),S==="hidden"&&m()},[s,m]),x=ot((S,k)=>{r(C=>C.map(E=>E.id===S?{...E,domContextElements:[...E.domContextElements,k]}:E))},[]),_=ot((S,k)=>{r(C=>C.map(E=>E.id===S?{...E,domContextElements:E.domContextElements.filter(T=>T!==k)}:E))},[]),b=ot((S,k)=>{if(!k.trim())return;const C=t.find(I=>I.id===S),E=Tut(C==null?void 0:C.domContextElements,k,window.location.href),T={id:crypto.randomUUID(),content:k.trim(),sender:"user",type:"regular",timestamp:new Date};async function N(){u&&await u.call.triggerAgentPrompt({prompt:E},{onUpdate:I=>{}})}N(),l(!1),a==="hidden"&&s("compact"),r(I=>I.map(P=>P.id===S?{...P,messages:[...P.messages,T],inputValue:"",domContextElements:[]}:P))},[a,u,t,l,s]),w={chats:t,currentChatId:n,createChat:h,deleteChat:f,setCurrentChat:p,setChatInput:g,addMessage:b,chatAreaState:a,setChatAreaState:y,isPromptCreationActive:o,startPromptCreation:v,stopPromptCreation:m,addChatDomContext:x,removeChatDomContext:_};return De(ume.Provider,{value:w,children:e})};function pg(){const e=zn(ume);if(!e)throw new Error("useChatState must be used within a ChatStateProvider");return e}function ZF(e,t){const r=St(void 0),n=Ht(()=>t&&t>0?1e3/t:0,[t]),i=St(0),a=ot(s=>{s-i.current>=n&&(e(),i.current=s),r.current=requestAnimationFrame(a)},[e,n]);Fr(()=>((!t||t>0)&&(r.current=requestAnimationFrame(a)),()=>{r.current&&(cancelAnimationFrame(r.current),r.current=void 0)}),[t,a])}const pdt=Ci(new URL(window.location.href));function gdt({children:e}){const[t,r]=pr(new URL(window.location.href)),n=ot(()=>{r(new URL(window.location.href))},[]);return ZF(n,15),De(pdt.Provider,{value:t,children:e})}function mdt({children:e,config:t}){return De(gdt,{children:De(Sut,{children:De(zlt,{plugins:(t==null?void 0:t.plugins)||[],children:De(fdt,{children:e})})})})}function wN(e,t,r,n=window){Fr(()=>{if(!(typeof window>"u")&&n)return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)},[e,t,n,r])}function dme(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=dme(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function vdt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=dme(e))&&(n&&(n+=" "),n+=t);return n}const JF="-",ydt=e=>{const t=_dt(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const o=s.split(JF);return o[0]===""&&o.length!==1&&o.shift(),hme(o,t)||xdt(s)},getConflictingClassGroupIds:(s,o)=>{const l=r[s]||[];return o&&n[s]?[...l,...n[s]]:l}}},hme=(e,t)=>{var r;if(e.length===0)return t.classGroupId;const n=e[0],i=t.nextPart.get(n),a=i?hme(e.slice(1),i):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(JF);return(r=t.validators.find(({validator:o})=>o(s)))==null?void 0:r.classGroupId},eZ=/^\[(.+)\]$/,xdt=e=>{if(eZ.test(e)){const t=eZ.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},_dt=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const i in r)_3(r[i],n,i,t);return n},_3=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:tZ(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(bdt(i)){_3(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,s])=>{_3(s,tZ(t,a),r,n)})})},tZ=(e,t)=>{let r=e;return t.split(JF).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},bdt=e=>e.isThemeGetter,wdt=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,s)=>{r.set(a,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let s=r.get(a);if(s!==void 0)return s;if((s=n.get(a))!==void 0)return i(a,s),s},set(a,s){r.has(a)?r.set(a,s):i(a,s)}}},b3="!",w3=":",Sdt=w3.length,Cdt=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=i=>{const a=[];let s=0,o=0,l=0,c;for(let g=0;g<i.length;g++){let v=i[g];if(s===0&&o===0){if(v===w3){a.push(i.slice(l,g)),l=g+Sdt;continue}if(v==="/"){c=g;continue}}v==="["?s++:v==="]"?s--:v==="("?o++:v===")"&&o--}const u=a.length===0?i:i.substring(l),h=kdt(u),f=h!==u,p=c&&c>l?c-l:void 0;return{modifiers:a,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}};if(t){const i=t+w3,a=n;n=s=>s.startsWith(i)?a(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=a=>r({className:a,parseClassName:i})}return n},kdt=e=>e.endsWith(b3)?e.substring(0,e.length-1):e.startsWith(b3)?e.substring(1):e,Edt=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let a=[];return n.forEach(s=>{s[0]==="["||t[s]?(i.push(...a.sort(),s),a=[]):a.push(s)}),i.push(...a.sort()),i}},Tdt=e=>({cache:wdt(e.cacheSize),parseClassName:Cdt(e),sortModifiers:Edt(e),...ydt(e)}),Ndt=/\s+/,Adt=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:a}=t,s=[],o=e.trim().split(Ndt);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{isExternal:h,modifiers:f,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:v}=r(u);if(h){l=u+(l.length>0?" "+l:l);continue}let m=!!v,y=n(m?g.substring(0,v):g);if(!y){if(!m){l=u+(l.length>0?" "+l:l);continue}if(y=n(g),!y){l=u+(l.length>0?" "+l:l);continue}m=!1}const x=a(f).join(":"),_=p?x+b3:x,b=_+y;if(s.includes(b))continue;s.push(b);const w=i(y,m);for(let S=0;S<w.length;++S){const k=w[S];s.push(_+k)}l=u+(l.length>0?" "+l:l)}return l};function jdt(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=fme(t))&&(n&&(n+=" "),n+=r);return n}const fme=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=fme(e[n]))&&(r&&(r+=" "),r+=t);return r};function rZ(e,...t){let r,n,i,a=s;function s(l){const c=t.reduce((u,h)=>h(u),e());return r=Tdt(c),n=r.cache.get,i=r.cache.set,a=o,o(l)}function o(l){const c=n(l);if(c)return c;const u=Adt(l,r);return i(l,u),u}return function(){return a(jdt.apply(null,arguments))}}const ki=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},pme=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,gme=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Rdt=/^\d+\/\d+$/,Idt=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Mdt=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Pdt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ldt=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ddt=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,im=e=>Rdt.test(e),jr=e=>!!e&&!Number.isNaN(Number(e)),cd=e=>!!e&&Number.isInteger(Number(e)),$M=e=>e.endsWith("%")&&jr(e.slice(0,-1)),Vc=e=>Idt.test(e),Odt=()=>!0,$dt=e=>Mdt.test(e)&&!Pdt.test(e),mme=()=>!1,Bdt=e=>Ldt.test(e),Fdt=e=>Ddt.test(e),zdt=e=>!yt(e)&&!xt(e),Udt=e=>$0(e,xme,mme),yt=e=>pme.test(e),_f=e=>$0(e,_me,$dt),BM=e=>$0(e,qdt,jr),nZ=e=>$0(e,vme,mme),Hdt=e=>$0(e,yme,Fdt),nk=e=>$0(e,bme,Bdt),xt=e=>gme.test(e),yx=e=>B0(e,_me),Vdt=e=>B0(e,Ydt),iZ=e=>B0(e,vme),Wdt=e=>B0(e,xme),Gdt=e=>B0(e,yme),ik=e=>B0(e,bme,!0),$0=(e,t,r)=>{const n=pme.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},B0=(e,t,r=!1)=>{const n=gme.exec(e);return n?n[1]?t(n[1]):r:!1},vme=e=>e==="position"||e==="percentage",yme=e=>e==="image"||e==="url",xme=e=>e==="length"||e==="size"||e==="bg-size",_me=e=>e==="length",qdt=e=>e==="number",Ydt=e=>e==="family-name",bme=e=>e==="shadow",aZ=()=>{const e=ki("color"),t=ki("font"),r=ki("text"),n=ki("font-weight"),i=ki("tracking"),a=ki("leading"),s=ki("breakpoint"),o=ki("container"),l=ki("spacing"),c=ki("radius"),u=ki("shadow"),h=ki("inset-shadow"),f=ki("text-shadow"),p=ki("drop-shadow"),g=ki("blur"),v=ki("perspective"),m=ki("aspect"),y=ki("ease"),x=ki("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],w=()=>[...b(),xt,yt],S=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],C=()=>[xt,yt,l],E=()=>[im,"full","auto",...C()],T=()=>[cd,"none","subgrid",xt,yt],N=()=>["auto",{span:["full",cd,xt,yt]},cd,xt,yt],I=()=>[cd,"auto",xt,yt],P=()=>["auto","min","max","fr",xt,yt],D=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...C()],O=()=>[im,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],j=()=>[e,xt,yt],M=()=>[...b(),iZ,nZ,{position:[xt,yt]}],R=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",Wdt,Udt,{size:[xt,yt]}],U=()=>[$M,yx,_f],F=()=>["","none","full",c,xt,yt],G=()=>["",jr,yx,_f],q=()=>["solid","dashed","dotted","double"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>[jr,$M,iZ,nZ],W=()=>["","none",g,xt,yt],Y=()=>["none",jr,xt,yt],Z=()=>["none",jr,xt,yt],Q=()=>[jr,xt,yt],re=()=>[im,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vc],breakpoint:[Vc],color:[Odt],container:[Vc],"drop-shadow":[Vc],ease:["in","out","in-out"],font:[zdt],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vc],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vc],shadow:[Vc],spacing:["px",jr],text:[Vc],"text-shadow":[Vc],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",im,yt,xt,m]}],container:["container"],columns:[{columns:[jr,yt,xt,o]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:w()}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[cd,"auto",xt,yt]}],basis:[{basis:[im,"full","auto",o,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[jr,im,"auto","initial","none",yt]}],grow:[{grow:["",jr,xt,yt]}],shrink:[{shrink:["",jr,xt,yt]}],order:[{order:[cd,"first","last","none",xt,yt]}],"grid-cols":[{"grid-cols":T()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":T()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...D(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...D()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":D()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:O()}],w:[{w:[o,"screen",...O()]}],"min-w":[{"min-w":[o,"screen","none",...O()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[s]},...O()]}],h:[{h:["screen",...O()]}],"min-h":[{"min-h":["screen","none",...O()]}],"max-h":[{"max-h":["screen",...O()]}],"font-size":[{text:["base",r,yx,_f]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,xt,BM]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",$M,yt]}],"font-family":[{font:[Vdt,yt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,xt,yt]}],"line-clamp":[{"line-clamp":[jr,"none",xt,BM]}],leading:[{leading:[a,...C()]}],"list-image":[{"list-image":["none",xt,yt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",xt,yt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:[jr,"from-font","auto",xt,_f]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[jr,"auto",xt,yt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xt,yt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xt,yt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:M()}],"bg-repeat":[{bg:R()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},cd,xt,yt],radial:["",xt,yt],conic:[cd,xt,yt]},Gdt,Hdt]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:F()}],"rounded-s":[{"rounded-s":F()}],"rounded-e":[{"rounded-e":F()}],"rounded-t":[{"rounded-t":F()}],"rounded-r":[{"rounded-r":F()}],"rounded-b":[{"rounded-b":F()}],"rounded-l":[{"rounded-l":F()}],"rounded-ss":[{"rounded-ss":F()}],"rounded-se":[{"rounded-se":F()}],"rounded-ee":[{"rounded-ee":F()}],"rounded-es":[{"rounded-es":F()}],"rounded-tl":[{"rounded-tl":F()}],"rounded-tr":[{"rounded-tr":F()}],"rounded-br":[{"rounded-br":F()}],"rounded-bl":[{"rounded-bl":F()}],"border-w":[{border:G()}],"border-w-x":[{"border-x":G()}],"border-w-y":[{"border-y":G()}],"border-w-s":[{"border-s":G()}],"border-w-e":[{"border-e":G()}],"border-w-t":[{"border-t":G()}],"border-w-r":[{"border-r":G()}],"border-w-b":[{"border-b":G()}],"border-w-l":[{"border-l":G()}],"divide-x":[{"divide-x":G()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":G()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...q(),"hidden","none"]}],"divide-style":[{divide:[...q(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[jr,xt,yt]}],"outline-w":[{outline:["",jr,yx,_f]}],"outline-color":[{outline:j()}],shadow:[{shadow:["","none",u,ik,nk]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",h,ik,nk]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[jr,_f]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":G()}],"inset-ring-color":[{"inset-ring":j()}],"text-shadow":[{"text-shadow":["none",f,ik,nk]}],"text-shadow-color":[{"text-shadow":j()}],opacity:[{opacity:[jr,xt,yt]}],"mix-blend":[{"mix-blend":[...K(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":K()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[jr]}],"mask-image-linear-from-pos":[{"mask-linear-from":B()}],"mask-image-linear-to-pos":[{"mask-linear-to":B()}],"mask-image-linear-from-color":[{"mask-linear-from":j()}],"mask-image-linear-to-color":[{"mask-linear-to":j()}],"mask-image-t-from-pos":[{"mask-t-from":B()}],"mask-image-t-to-pos":[{"mask-t-to":B()}],"mask-image-t-from-color":[{"mask-t-from":j()}],"mask-image-t-to-color":[{"mask-t-to":j()}],"mask-image-r-from-pos":[{"mask-r-from":B()}],"mask-image-r-to-pos":[{"mask-r-to":B()}],"mask-image-r-from-color":[{"mask-r-from":j()}],"mask-image-r-to-color":[{"mask-r-to":j()}],"mask-image-b-from-pos":[{"mask-b-from":B()}],"mask-image-b-to-pos":[{"mask-b-to":B()}],"mask-image-b-from-color":[{"mask-b-from":j()}],"mask-image-b-to-color":[{"mask-b-to":j()}],"mask-image-l-from-pos":[{"mask-l-from":B()}],"mask-image-l-to-pos":[{"mask-l-to":B()}],"mask-image-l-from-color":[{"mask-l-from":j()}],"mask-image-l-to-color":[{"mask-l-to":j()}],"mask-image-x-from-pos":[{"mask-x-from":B()}],"mask-image-x-to-pos":[{"mask-x-to":B()}],"mask-image-x-from-color":[{"mask-x-from":j()}],"mask-image-x-to-color":[{"mask-x-to":j()}],"mask-image-y-from-pos":[{"mask-y-from":B()}],"mask-image-y-to-pos":[{"mask-y-to":B()}],"mask-image-y-from-color":[{"mask-y-from":j()}],"mask-image-y-to-color":[{"mask-y-to":j()}],"mask-image-radial":[{"mask-radial":[xt,yt]}],"mask-image-radial-from-pos":[{"mask-radial-from":B()}],"mask-image-radial-to-pos":[{"mask-radial-to":B()}],"mask-image-radial-from-color":[{"mask-radial-from":j()}],"mask-image-radial-to-color":[{"mask-radial-to":j()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":b()}],"mask-image-conic-pos":[{"mask-conic":[jr]}],"mask-image-conic-from-pos":[{"mask-conic-from":B()}],"mask-image-conic-to-pos":[{"mask-conic-to":B()}],"mask-image-conic-from-color":[{"mask-conic-from":j()}],"mask-image-conic-to-color":[{"mask-conic-to":j()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:M()}],"mask-repeat":[{mask:R()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",xt,yt]}],filter:[{filter:["","none",xt,yt]}],blur:[{blur:W()}],brightness:[{brightness:[jr,xt,yt]}],contrast:[{contrast:[jr,xt,yt]}],"drop-shadow":[{"drop-shadow":["","none",p,ik,nk]}],"drop-shadow-color":[{"drop-shadow":j()}],grayscale:[{grayscale:["",jr,xt,yt]}],"hue-rotate":[{"hue-rotate":[jr,xt,yt]}],invert:[{invert:["",jr,xt,yt]}],saturate:[{saturate:[jr,xt,yt]}],sepia:[{sepia:["",jr,xt,yt]}],"backdrop-filter":[{"backdrop-filter":["","none",xt,yt]}],"backdrop-blur":[{"backdrop-blur":W()}],"backdrop-brightness":[{"backdrop-brightness":[jr,xt,yt]}],"backdrop-contrast":[{"backdrop-contrast":[jr,xt,yt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",jr,xt,yt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[jr,xt,yt]}],"backdrop-invert":[{"backdrop-invert":["",jr,xt,yt]}],"backdrop-opacity":[{"backdrop-opacity":[jr,xt,yt]}],"backdrop-saturate":[{"backdrop-saturate":[jr,xt,yt]}],"backdrop-sepia":[{"backdrop-sepia":["",jr,xt,yt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",xt,yt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[jr,"initial",xt,yt]}],ease:[{ease:["linear","initial",y,xt,yt]}],delay:[{delay:[jr,xt,yt]}],animate:[{animate:["none",x,xt,yt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,xt,yt]}],"perspective-origin":[{"perspective-origin":w()}],rotate:[{rotate:Y()}],"rotate-x":[{"rotate-x":Y()}],"rotate-y":[{"rotate-y":Y()}],"rotate-z":[{"rotate-z":Y()}],scale:[{scale:Z()}],"scale-x":[{"scale-x":Z()}],"scale-y":[{"scale-y":Z()}],"scale-z":[{"scale-z":Z()}],"scale-3d":["scale-3d"],skew:[{skew:Q()}],"skew-x":[{"skew-x":Q()}],"skew-y":[{"skew-y":Q()}],transform:[{transform:[xt,yt,"","none","gpu","cpu"]}],"transform-origin":[{origin:w()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:re()}],"translate-x":[{"translate-x":re()}],"translate-y":[{"translate-y":re()}],"translate-z":[{"translate-z":re()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xt,yt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xt,yt]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[jr,yx,_f,BM]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Kdt=(e,{cacheSize:t,prefix:r,experimentalParseClassName:n,extend:i={},override:a={}})=>(t_(e,"cacheSize",t),t_(e,"prefix",r),t_(e,"experimentalParseClassName",n),ak(e.theme,a.theme),ak(e.classGroups,a.classGroups),ak(e.conflictingClassGroups,a.conflictingClassGroups),ak(e.conflictingClassGroupModifiers,a.conflictingClassGroupModifiers),t_(e,"orderSensitiveModifiers",a.orderSensitiveModifiers),sk(e.theme,i.theme),sk(e.classGroups,i.classGroups),sk(e.conflictingClassGroups,i.conflictingClassGroups),sk(e.conflictingClassGroupModifiers,i.conflictingClassGroupModifiers),wme(e,i,"orderSensitiveModifiers"),e),t_=(e,t,r)=>{r!==void 0&&(e[t]=r)},ak=(e,t)=>{if(t)for(const r in t)t_(e,r,t[r])},sk=(e,t)=>{if(t)for(const r in t)wme(e,t,r)},wme=(e,t,r)=>{const n=t[r];n!==void 0&&(e[r]=e[r]?e[r].concat(n):n)},Xdt=(e,...t)=>typeof e=="function"?rZ(aZ,e,...t):rZ(()=>Kdt(aZ(),e),...t),ww="stagewise-companion-anchor";function Zdt(e,t){return document.elementsFromPoint(e,t).find(i=>i.nodeName!=="STAGEWISE-COMPANION-ANCHOR"&&!i.closest(ww)&&!i.closest("svg")&&Jdt(i,e,t))||document.body}const Jdt=(e,t,r)=>{const n=e.getBoundingClientRect(),i=t>n.left&&t<n.left+n.width,a=r>n.top&&r<n.top+n.height;return i&&a};var SN=(e=>(e[e.ESC=0]="ESC",e[e.CTRL_ALT_C=1]="CTRL_ALT_C",e))(SN||{});const S3={0:{keyComboDefault:"Esc",keyComboMac:"esc",isEventMatching:e=>e.code==="Escape"},1:{keyComboDefault:"Ctrl+Alt+C",keyComboMac:"⌘+⌥+C",isEventMatching:e=>e.code==="KeyC"&&(e.ctrlKey||e.metaKey)&&e.altKey}},Qdt=Xdt({extend:{classGroups:{"bg-image":["bg-gradient","bg-gradient-light-1","bg-gradient-light-2","bg-gradient-light-3"]}}});function jo(...e){return Qdt(vdt(e))}function eht(){const{startPromptCreation:e,stopPromptCreation:t}=pg(),r=Ht(()=>({[SN.CTRL_ALT_C]:()=>{e()},[SN.ESC]:()=>{t()}}),[e,t]),n=ot(i=>{for(const[a,s]of Object.entries(S3))if(s.isEventMatching(i)){i.preventDefault(),i.stopPropagation(),r[a]();break}},[r]);return wN("keydown",n,{capture:!0}),null}const Sme=typeof document<"u"?Vi.useLayoutEffect:()=>{};function tht(e){const t=St(null);return Sme(()=>{t.current=e},[e]),ot((...r)=>{const n=t.current;return n==null?void 0:n(...r)},[])}const zh=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},tp=e=>e&&"window"in e&&e.window===e?e:zh(e).defaultView||window;function Cme(e,t){return t&&e?e.contains(t):!1}const C3=(e=document)=>e.activeElement;function kme(e){return e.target}function rht(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function nht(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Eme(e){let t=null;return()=>(t==null&&(t=e()),t)}const iht=Eme(function(){return nht(/^Mac/i)}),aht=Eme(function(){return rht(/Android/i)});function Tme(){let e=St(new Map),t=ot((i,a,s,o)=>{let l=o!=null&&o.once?(...c)=>{e.current.delete(s),s(...c)}:s;e.current.set(s,{type:a,eventTarget:i,fn:l,options:o}),i.addEventListener(a,l,o)},[]),r=ot((i,a,s,o)=>{var l;let c=((l=e.current.get(s))===null||l===void 0?void 0:l.fn)||s;i.removeEventListener(a,c,o),e.current.delete(s)},[]),n=ot(()=>{e.current.forEach((i,a)=>{r(i.eventTarget,i.type,a,i.options)})},[r]);return Fr(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function sht(e){return e.mozInputSource===0&&e.isTrusted?!0:aht()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Nme(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function oht(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function Ame(e){let t=St({isFocused:!1,observer:null});Sme(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=tht(n=>{e==null||e(n)});return ot(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=n.target,a=s=>{if(t.current.isFocused=!1,i.disabled){let o=Nme(s);r(o)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",a,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){var s;(s=t.current.observer)===null||s===void 0||s.disconnect();let o=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:o})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:o}))}}),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let lht=!1,k1=null,k3=new Set,H_=new Map,Vp=!1,E3=!1;const cht={Tab:!0,Escape:!0};function QF(e,t){for(let r of k3)r(e,t)}function uht(e){return!(e.metaKey||!iht()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function CN(e){Vp=!0,uht(e)&&(k1="keyboard",QF("keyboard",e))}function uv(e){k1="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Vp=!0,QF("pointer",e))}function jme(e){sht(e)&&(Vp=!0,k1="virtual")}function Rme(e){e.target===window||e.target===document||lht||!e.isTrusted||(!Vp&&!E3&&(k1="virtual",QF("virtual",e)),Vp=!1,E3=!1)}function Ime(){Vp=!1,E3=!0}function T3(e){if(typeof window>"u"||H_.get(tp(e)))return;const t=tp(e),r=zh(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Vp=!0,n.apply(this,arguments)},r.addEventListener("keydown",CN,!0),r.addEventListener("keyup",CN,!0),r.addEventListener("click",jme,!0),t.addEventListener("focus",Rme,!0),t.addEventListener("blur",Ime,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",uv,!0),r.addEventListener("pointermove",uv,!0),r.addEventListener("pointerup",uv,!0)),t.addEventListener("beforeunload",()=>{Mme(e)},{once:!0}),H_.set(t,{focus:n})}const Mme=(e,t)=>{const r=tp(e),n=zh(e);t&&n.removeEventListener("DOMContentLoaded",t),H_.has(r)&&(r.HTMLElement.prototype.focus=H_.get(r).focus,n.removeEventListener("keydown",CN,!0),n.removeEventListener("keyup",CN,!0),n.removeEventListener("click",jme,!0),r.removeEventListener("focus",Rme,!0),r.removeEventListener("blur",Ime,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",uv,!0),n.removeEventListener("pointermove",uv,!0),n.removeEventListener("pointerup",uv,!0)),H_.delete(r))};function dht(e){const t=zh(e);let r;return t.readyState!=="loading"?T3(e):(r=()=>{T3(e)},t.addEventListener("DOMContentLoaded",r)),()=>Mme(e,r)}typeof document<"u"&&dht();function Pme(){return k1!=="pointer"}const hht=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function fht(e,t,r){let n=zh(r==null?void 0:r.target);const i=typeof window<"u"?tp(r==null?void 0:r.target).HTMLInputElement:HTMLInputElement,a=typeof window<"u"?tp(r==null?void 0:r.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?tp(r==null?void 0:r.target).HTMLElement:HTMLElement,o=typeof window<"u"?tp(r==null?void 0:r.target).KeyboardEvent:KeyboardEvent;return e=e||n.activeElement instanceof i&&!hht.has(n.activeElement.type)||n.activeElement instanceof a||n.activeElement instanceof s&&n.activeElement.isContentEditable,!(e&&t==="keyboard"&&r instanceof o&&!cht[r.key])}function pht(e,t,r){T3(),Fr(()=>{let n=(i,a)=>{fht(!!(r!=null&&r.isTextInput),i,a)&&e(Pme())};return k3.add(n),()=>{k3.delete(n)}},t)}function ght(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:i}=e;const a=ot(l=>{if(l.target===l.currentTarget)return n&&n(l),i&&i(!1),!0},[n,i]),s=Ame(a),o=ot(l=>{const c=zh(l.target),u=c?C3(c):C3();l.target===l.currentTarget&&u===kme(l.nativeEvent)&&(r&&r(l),i&&i(!0),s(l))},[i,r,s]);return{focusProps:{onFocus:!t&&(r||i||n)?o:void 0,onBlur:!t&&(n||i)?a:void 0}}}function mht(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:i}=e,a=St({isFocusWithin:!1}),{addGlobalListener:s,removeAllGlobalListeners:o}=Tme(),l=ot(h=>{h.currentTarget.contains(h.target)&&a.current.isFocusWithin&&!h.currentTarget.contains(h.relatedTarget)&&(a.current.isFocusWithin=!1,o(),r&&r(h),i&&i(!1))},[r,i,a,o]),c=Ame(l),u=ot(h=>{if(!h.currentTarget.contains(h.target))return;const f=zh(h.target),p=C3(f);if(!a.current.isFocusWithin&&p===kme(h.nativeEvent)){n&&n(h),i&&i(!0),a.current.isFocusWithin=!0,c(h);let g=h.currentTarget;s(f,"focus",v=>{if(a.current.isFocusWithin&&!Cme(g,v.target)){let m=new f.defaultView.FocusEvent("blur",{relatedTarget:v.target});oht(m,g);let y=Nme(m);l(y)}},{capture:!0})}},[n,i,c,s,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:l}}}let N3=!1,FM=0;function vht(){N3=!0,setTimeout(()=>{N3=!1},50)}function sZ(e){e.pointerType==="touch"&&vht()}function yht(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",sZ),FM++,()=>{FM--,!(FM>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",sZ)}}function e6(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:i}=e,[a,s]=pr(!1),o=St({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;Fr(yht,[]);let{addGlobalListener:l,removeAllGlobalListeners:c}=Tme(),{hoverProps:u,triggerHoverEnd:h}=Ht(()=>{let f=(v,m)=>{if(o.pointerType=m,i||m==="touch"||o.isHovered||!v.currentTarget.contains(v.target))return;o.isHovered=!0;let y=v.currentTarget;o.target=y,l(zh(v.target),"pointerover",x=>{o.isHovered&&o.target&&!Cme(o.target,x.target)&&p(x,x.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:y,pointerType:m}),r&&r(!0),s(!0)},p=(v,m)=>{let y=o.target;o.pointerType="",o.target=null,!(m==="touch"||!o.isHovered||!y)&&(o.isHovered=!1,c(),n&&n({type:"hoverend",target:y,pointerType:m}),r&&r(!1),s(!1))},g={};return typeof PointerEvent<"u"&&(g.onPointerEnter=v=>{N3&&v.pointerType==="mouse"||f(v,v.pointerType)},g.onPointerLeave=v=>{!i&&v.currentTarget.contains(v.target)&&p(v,v.pointerType)}),{hoverProps:g,triggerHoverEnd:p}},[t,r,n,i,o,l,c]);return Fr(()=>{i&&h({currentTarget:o.target},o.pointerType)},[i]),{hoverProps:u,isHovered:a}}function t6(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,i=St({isFocused:!1,isFocusVisible:t||Pme()}),[a,s]=pr(!1),[o,l]=pr(()=>i.current.isFocused&&i.current.isFocusVisible),c=ot(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),u=ot(p=>{i.current.isFocused=p,s(p),c()},[c]);pht(p=>{i.current.isFocusVisible=p,c()},[],{isTextInput:r});let{focusProps:h}=ght({isDisabled:n,onFocusChange:u}),{focusWithinProps:f}=mht({isDisabled:!n,onFocusWithinChange:u});return{isFocused:a,isFocusVisible:o,focusProps:n?f:h}}var xht=Object.defineProperty,_ht=(e,t,r)=>t in e?xht(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,zM=(e,t,r)=>(_ht(e,typeof t!="symbol"?t+"":t,r),r);let bht=class{constructor(){zM(this,"current",this.detect()),zM(this,"handoffState","pending"),zM(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},xp=new bht;function F0(e){var t,r;return xp.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(r=(t=e.current)==null?void 0:t.ownerDocument)!=null?r:document:null:document}function Lme(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function El(){let e=[],t={addEventListener(r,n,i,a){return r.addEventListener(n,i,a),t.add(()=>r.removeEventListener(n,i,a))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return Lme(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,i){let a=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:a})})},group(r){let n=El();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let i of e.splice(n,1))i()}},dispose(){for(let r of e.splice(0))r()}};return t}function jA(){let[e]=pr(El);return Fr(()=>()=>e.dispose(),[e]),e}let wi=(e,t)=>{xp.isServer?Fr(e,t):Vu(e,t)};function E1(e){let t=St(e);return wi(()=>{t.current=e},[e]),t}let Cn=function(e){let t=E1(e);return Vi.useCallback((...r)=>t.current(...r),[t])};function wht(e){let t=e.width/2,r=e.height/2;return{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function Sht(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function Dme({disabled:e=!1}={}){let t=St(null),[r,n]=pr(!1),i=jA(),a=Cn(()=>{t.current=null,n(!1),i.dispose()}),s=Cn(o=>{if(i.dispose(),t.current===null){t.current=o.currentTarget,n(!0);{let l=F0(o.currentTarget);i.addEventListener(l,"pointerup",a,!1),i.addEventListener(l,"pointermove",c=>{if(t.current){let u=wht(c);n(Sht(u,t.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",a,!1)}}});return{pressed:r,pressProps:e?{}:{onPointerDown:s,onPointerUp:a,onClick:a}}}let Cht=Ci(void 0);function RA(){return zn(Cht)}function oZ(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function T1(e,t,...r){if(e in t){let i=t[e];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,T1),n}var A3=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(A3||{}),kht=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(kht||{});function Ss(){let e=Tht();return ot(t=>Eht({mergeRefs:e,...t}),[e])}function Eht({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:i,visible:a=!0,name:s,mergeRefs:o}){o=o??Nht;let l=Ome(t,e);if(a)return ok(l,r,n,s,o);let c=i??0;if(c&2){let{static:u=!1,...h}=l;if(u)return ok(h,r,n,s,o)}if(c&1){let{unmount:u=!0,...h}=l;return T1(u?0:1,{0(){return null},1(){return ok({...h,hidden:!0,style:{display:"none"}},r,n,s,o)}})}return ok(l,r,n,s,o)}function ok(e,t={},r,n,i){let{as:a=r,children:s,refName:o="ref",...l}=UM(e,["unmount","static"]),c=e.ref!==void 0?{[o]:e.ref}:{},u=typeof s=="function"?s(t):s;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(t){let f=!1,p=[];for(let[g,v]of Object.entries(t))typeof v=="boolean"&&(f=!0),v===!0&&p.push(g.replace(/([A-Z])/g,m=>`-${m.toLowerCase()}`));if(f){h["data-headlessui-state"]=p.join(" ");for(let g of p)h[`data-${g}`]=""}}if(a===bi&&(Object.keys(am(l)).length>0||Object.keys(am(h)).length>0))if(!O0(u)||Array.isArray(u)&&u.length>1){if(Object.keys(am(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(am(l)).concat(Object.keys(am(h))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=u.props,p=f==null?void 0:f.className,g=typeof p=="function"?(...y)=>oZ(p(...y),l.className):oZ(p,l.className),v=g?{className:g}:{},m=Ome(u.props,am(UM(l,["ref"])));for(let y in h)y in m&&delete h[y];return KF(u,Object.assign({},m,h,c,{ref:i(Aht(u),c.ref)},v))}return na(a,Object.assign({},UM(l,["ref"]),a!==bi&&c,a!==bi&&h),u)}function Tht(){let e=St([]),t=ot(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function Nht(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function Ome(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):t[i]=n[i];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[i=>{var a;return(a=i==null?void 0:i.preventDefault)==null?void 0:a.call(i)}]);for(let n in r)Object.assign(t,{[n](i,...a){let s=r[n];for(let o of s){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;o(i,...a)}}});return t}function IA(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):t[i]=n[i];for(let n in r)Object.assign(t,{[n](...i){let a=r[n];for(let s of a)s==null||s(...i)}});return t}function Cs(e){var t;return Object.assign(Pc(e),{displayName:(t=e.displayName)!=null?t:e.name})}function am(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function UM(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function Aht(e){return Vi.version.split(".")[0]>="19"?e.props.ref:e.ref}let jht="button";function Rht(e,t){var r;let n=RA(),{disabled:i=n||!1,autoFocus:a=!1,...s}=e,{isFocusVisible:o,focusProps:l}=t6({autoFocus:a}),{isHovered:c,hoverProps:u}=e6({isDisabled:i}),{pressed:h,pressProps:f}=Dme({disabled:i}),p=IA({ref:t,type:(r=s.type)!=null?r:"button",disabled:i||void 0,autoFocus:a},l,u,f),g=Ht(()=>({disabled:i,hover:c,focus:o,active:h,autofocus:a}),[i,c,o,h,a]);return Ss()({ourProps:p,theirProps:s,slot:g,defaultTag:jht,name:"Button"})}let Wp=Cs(Rht),Iht=Ci(void 0);function $me(){return zn(Iht)}function Mht(e){let t=e.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let n=(t==null?void 0:t.getAttribute("disabled"))==="";return n&&Pht(r)?!1:n}function Pht(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let Bme=Symbol();function Lht(e,t=!0){return Object.assign(e,{[Bme]:t})}function Wu(...e){let t=St(e);Fr(()=>{t.current=e},[e]);let r=Cn(n=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return e.every(n=>n==null||(n==null?void 0:n[Bme]))?void 0:r}let MA=Ci(null);MA.displayName="DescriptionContext";function Fme(){let e=zn(MA);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Fme),t}return e}function Dht(){var e,t;return(t=(e=zn(MA))==null?void 0:e.value)!=null?t:void 0}function Oht(){let[e,t]=pr([]);return[e.length>0?e.join(" "):void 0,Ht(()=>function(r){let n=Cn(a=>(t(s=>[...s,a]),()=>t(s=>{let o=s.slice(),l=o.indexOf(a);return l!==-1&&o.splice(l,1),o}))),i=Ht(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return Vi.createElement(MA.Provider,{value:i},r.children)},[t])]}let $ht="p";function Bht(e,t){let r=kl(),n=RA(),{id:i=`headlessui-description-${r}`,...a}=e,s=Fme(),o=Wu(t);wi(()=>s.register(i),[i,s.register]);let l=n||!1,c=Ht(()=>({...s.slot,disabled:l}),[s.slot,l]),u={ref:o,...s.props,id:i};return Ss()({ourProps:u,theirProps:a,slot:c,defaultTag:$ht,name:s.name||"Description"})}let Fht=Cs(Bht);Object.assign(Fht,{});var Ki=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Ki||{});let PA=Ci(null);PA.displayName="LabelContext";function r6(){let e=zn(PA);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,r6),t}return e}function zme(e){var t,r,n;let i=(r=(t=zn(PA))==null?void 0:t.value)!=null?r:void 0;return((n=void 0)!=null?n:0)>0?[i,...e].filter(Boolean).join(" "):i}function Ume({inherit:e=!1}={}){let t=zme(),[r,n]=pr([]),i=e?[t,...r].filter(Boolean):r;return[i.length>0?i.join(" "):void 0,Ht(()=>function(a){let s=Cn(l=>(n(c=>[...c,l]),()=>n(c=>{let u=c.slice(),h=u.indexOf(l);return h!==-1&&u.splice(h,1),u}))),o=Ht(()=>({register:s,slot:a.slot,name:a.name,props:a.props,value:a.value}),[s,a.slot,a.name,a.props,a.value]);return Vi.createElement(PA.Provider,{value:o},a.children)},[n])]}let zht="label";function Uht(e,t){var r;let n=kl(),i=r6(),a=$me(),s=RA(),{id:o=`headlessui-label-${n}`,htmlFor:l=a??((r=i.props)==null?void 0:r.htmlFor),passive:c=!1,...u}=e,h=Wu(t);wi(()=>i.register(o),[o,i.register]);let f=Cn(m=>{let y=m.currentTarget;if(y instanceof HTMLLabelElement&&m.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(m),y instanceof HTMLLabelElement){let x=document.getElementById(y.htmlFor);if(x){let _=x.getAttribute("disabled");if(_==="true"||_==="")return;let b=x.getAttribute("aria-disabled");if(b==="true"||b==="")return;(x instanceof HTMLInputElement&&(x.type==="radio"||x.type==="checkbox")||x.role==="radio"||x.role==="checkbox"||x.role==="switch")&&x.click(),x.focus({preventScroll:!0})}}}),p=s||!1,g=Ht(()=>({...i.slot,disabled:p}),[i.slot,p]),v={ref:h,...i.props,id:o,htmlFor:l,onClick:f};return c&&("onClick"in v&&(delete v.htmlFor,delete v.onClick),"onClick"in u&&delete u.onClick),Ss()({ourProps:v,theirProps:u,slot:g,defaultTag:l?zht:"div",name:i.name||"Label"})}let Hht=Cs(Uht);Object.assign(Hht,{});function Vht(e){if(e===null)return{width:0,height:0};let{width:t,height:r}=e.getBoundingClientRect();return{width:t,height:r}}function Wht(e,t=!1){let[r,n]=w1(()=>({}),{}),i=Ht(()=>Vht(e),[e,r]);return wi(()=>{if(!e)return;let a=new ResizeObserver(n);return a.observe(e),()=>{a.disconnect()}},[e]),t?{width:`${i.width}px`,height:`${i.height}px`}:i}let Hme=class extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t),this.set(t,r)),r}};function Vme(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(i){return n.add(i),()=>n.delete(i)},dispatch(i,...a){let s=t[i].call(r,...a);s&&(r=s,n.forEach(o=>o()))}}}function Wme(e){return TA(e.subscribe,e.getSnapshot,e.getSnapshot)}let Ght=new Hme(()=>Vme(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let r=this.slice();return r.splice(t,1),r}}));function n6(e,t){let r=Ght.get(t),n=kl(),i=Wme(r);if(wi(()=>{if(e)return r.dispatch("ADD",n),()=>r.dispatch("REMOVE",n)},[r,e]),!e)return!1;let a=i.indexOf(n),s=i.length;return a===-1&&(a=s,s+=1),a===s-1}let j3=new Map,V_=new Map;function lZ(e){var t;let r=(t=V_.get(e))!=null?t:0;return V_.set(e,r+1),r!==0?()=>cZ(e):(j3.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>cZ(e))}function cZ(e){var t;let r=(t=V_.get(e))!=null?t:1;if(r===1?V_.delete(e):V_.set(e,r-1),r!==1)return;let n=j3.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,j3.delete(e))}function qht(e,{allowed:t,disallowed:r}={}){let n=n6(e,"inert-others");wi(()=>{var i,a;if(!n)return;let s=El();for(let l of(i=r==null?void 0:r())!=null?i:[])l&&s.add(lZ(l));let o=(a=t==null?void 0:t())!=null?a:[];for(let l of o){if(!l)continue;let c=F0(l);if(!c)continue;let u=l.parentElement;for(;u&&u!==c.body;){for(let h of u.children)o.some(f=>h.contains(f))||s.add(lZ(h));u=u.parentElement}}return s.dispose},[n,t,r])}function Yht(e,t,r){let n=E1(i=>{let a=i.getBoundingClientRect();a.x===0&&a.y===0&&a.width===0&&a.height===0&&r()});Fr(()=>{if(!e)return;let i=t===null?null:t instanceof HTMLElement?t:t.current;if(!i)return;let a=El();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>n.current(i));s.observe(i),a.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>n.current(i));s.observe(i),a.add(()=>s.disconnect())}return()=>a.dispose()},[t,n,e])}let R3=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Kht=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var I3=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(I3||{}),Xht=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Xht||{}),Zht=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Zht||{});function Gme(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(R3)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function Jht(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Kht)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var i6=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(i6||{});function a6(e,t=0){var r;return e===((r=F0(e))==null?void 0:r.body)?!1:T1(t,{0(){return e.matches(R3)},1(){let n=e;for(;n!==null;){if(n.matches(R3))return!0;n=n.parentElement}return!1}})}function qme(e){let t=F0(e);El().nextFrame(()=>{t&&!a6(t.activeElement,0)&&eft(e)})}var Qht=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Qht||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function eft(e){e==null||e.focus({preventScroll:!0})}let tft=["textarea","input"].join(",");function rft(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,tft))!=null?r:!1}function Yme(e,t=r=>r){return e.slice().sort((r,n)=>{let i=t(r),a=t(n);if(i===null||a===null)return 0;let s=i.compareDocumentPosition(a);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function nft(e,t){return ift(Gme(),t,{relativeTo:e})}function ift(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){let a=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?r?Yme(e):e:t&64?Jht(e):Gme(e);i.length>0&&s.length>1&&(s=s.filter(p=>!i.some(g=>g!=null&&"current"in g?(g==null?void 0:g.current)===p:g===p))),n=n??a.activeElement;let o=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,s.indexOf(n))-1;if(t&4)return Math.max(0,s.indexOf(n))+1;if(t&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=t&32?{preventScroll:!0}:{},u=0,h=s.length,f;do{if(u>=h||u+h<=0)return 0;let p=l+u;if(t&16)p=(p+h)%h;else{if(p<0)return 3;if(p>=h)return 1}f=s[p],f==null||f.focus(c),u+=o}while(f!==a.activeElement);return t&6&&rft(f)&&f.select(),2}function Kme(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function aft(){return/Android/gi.test(window.navigator.userAgent)}function sft(){return Kme()||aft()}function xx(e,t,r,n){let i=E1(r);Fr(()=>{if(!e)return;function a(s){i.current(s)}return document.addEventListener(t,a,n),()=>document.removeEventListener(t,a,n)},[e,t,n])}function oft(e,t,r,n){let i=E1(r);Fr(()=>{if(!e)return;function a(s){i.current(s)}return window.addEventListener(t,a,n),()=>window.removeEventListener(t,a,n)},[e,t,n])}const uZ=30;function lft(e,t,r){let n=n6(e,"outside-click"),i=E1(r),a=ot(function(l,c){if(l.defaultPrevented)return;let u=c(l);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let h=function f(p){return typeof p=="function"?f(p()):Array.isArray(p)||p instanceof Set?p:[p]}(t);for(let f of h)if(f!==null&&(f.contains(u)||l.composed&&l.composedPath().includes(f)))return;return!a6(u,i6.Loose)&&u.tabIndex!==-1&&l.preventDefault(),i.current(l,u)},[i,t]),s=St(null);xx(n,"pointerdown",l=>{var c,u;s.current=((u=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:u[0])||l.target},!0),xx(n,"mousedown",l=>{var c,u;s.current=((u=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:u[0])||l.target},!0),xx(n,"click",l=>{sft()||s.current&&(a(l,()=>s.current),s.current=null)},!0);let o=St({x:0,y:0});xx(n,"touchstart",l=>{o.current.x=l.touches[0].clientX,o.current.y=l.touches[0].clientY},!0),xx(n,"touchend",l=>{let c={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(c.x-o.current.x)>=uZ||Math.abs(c.y-o.current.y)>=uZ))return a(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),oft(n,"blur",l=>a(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function M3(...e){return Ht(()=>F0(...e),[...e])}function cft(e,t){return Ht(()=>{var r;if(e.type)return e.type;let n=(r=e.as)!=null?r:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function uft(){let e;return{before({doc:t}){var r;let n=t.documentElement,i=(r=t.defaultView)!=null?r:window;e=Math.max(0,i.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,i=Math.max(0,n.clientWidth-n.offsetWidth),a=Math.max(0,e-i);r.style(n,"paddingRight",`${a}px`)}}}function dft(){return Kme()?{before({doc:e,d:t,meta:r}){function n(i){return r.containers.flatMap(a=>a()).some(a=>a.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let o=El();o.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>o.dispose()))}let a=(i=window.scrollY)!=null?i:window.pageYOffset,s=null;t.addEventListener(e,"click",o=>{if(o.target instanceof HTMLElement)try{let l=o.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),u=e.querySelector(c);u&&!n(u)&&(s=u)}catch{}},!0),t.addEventListener(e,"touchstart",o=>{if(o.target instanceof HTMLElement)if(n(o.target)){let l=o.target;for(;l.parentElement&&n(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(o.target,"touchAction","none")}),t.addEventListener(e,"touchmove",o=>{if(o.target instanceof HTMLElement){if(o.target.tagName==="INPUT")return;if(n(o.target)){let l=o.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&o.preventDefault()}else o.preventDefault()}},{passive:!1}),t.add(()=>{var o;let l=(o=window.scrollY)!=null?o:window.pageYOffset;a!==l&&window.scrollTo(0,a),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function hft(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function fft(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let rp=Vme(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:El(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n={doc:e,d:t,meta:fft(r)},i=[dft(),uft(),hft()];i.forEach(({before:a})=>a==null?void 0:a(n)),i.forEach(({after:a})=>a==null?void 0:a(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});rp.subscribe(()=>{let e=rp.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",i=r.count!==0;(i&&!n||!i&&n)&&rp.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&rp.dispatch("TEARDOWN",r)}});function pft(e,t,r=()=>({containers:[]})){let n=Wme(rp),i=t?n.get(t):void 0,a=i?i.count>0:!1;return wi(()=>{if(!(!t||!e))return rp.dispatch("PUSH",t,r),()=>rp.dispatch("POP",t,r)},[e,t]),a}function gft(e,t,r=()=>[document.body]){let n=n6(e,"scroll-lock");pft(n,t,i=>{var a;return{containers:[...(a=i.containers)!=null?a:[],r]}})}function dZ(e){return[e.screenX,e.screenY]}function mft(){let e=St([-1,-1]);return{wasMoved(t){let r=dZ(t);return e.current[0]===r[0]&&e.current[1]===r[1]?!1:(e.current=r,!0)},update(t){e.current=dZ(t)}}}function vft(e=0){let[t,r]=pr(e),n=ot(l=>r(l),[t]),i=ot(l=>r(c=>c|l),[t]),a=ot(l=>(t&l)===l,[t]),s=ot(l=>r(c=>c&~l),[r]),o=ot(l=>r(c=>c^l),[r]);return{flags:t,setFlag:n,addFlag:i,hasFlag:a,removeFlag:s,toggleFlag:o}}var hZ,fZ;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((hZ=process==null?void 0:Alt)==null?void 0:hZ.NODE_ENV)==="test"&&typeof((fZ=Element==null?void 0:Element.prototype)==null?void 0:fZ.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var yft=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(yft||{});function xft(e){let t={};for(let r in e)e[r]===!0&&(t[`data-${r}`]="");return t}function _ft(e,t,r,n){let[i,a]=pr(r),{hasFlag:s,addFlag:o,removeFlag:l}=vft(e&&i?3:0),c=St(!1),u=St(!1),h=jA();return wi(()=>{var f;if(e){if(r&&a(!0),!t){r&&o(3);return}return(f=void 0)==null||f.call(n,r),bft(t,{inFlight:c,prepare(){u.current?u.current=!1:u.current=c.current,c.current=!0,!u.current&&(r?(o(3),l(4)):(o(4),l(2)))},run(){u.current?r?(l(3),o(4)):(l(4),o(3)):r?l(1):o(1)},done(){var p;u.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(c.current=!1,l(7),r||a(!1),(p=void 0)==null||p.call(n,r))}})}},[e,r,t,h]),e?[i,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function bft(e,{prepare:t,run:r,done:n,inFlight:i}){let a=El();return Sft(e,{prepare:t,inFlight:i}),a.nextFrame(()=>{r(),a.requestAnimationFrame(()=>{a.add(wft(e,n))})}),a.dispose}function wft(e,t){var r,n;let i=El();if(!e)return i.dispose;let a=!1;i.add(()=>{a=!0});let s=(n=(r=e.getAnimations)==null?void 0:r.call(e).filter(o=>o instanceof CSSTransition))!=null?n:[];return s.length===0?(t(),i.dispose):(Promise.allSettled(s.map(o=>o.finished)).then(()=>{a||t()}),i.dispose)}function Sft(e,{inFlight:t,prepare:r}){if(t!=null&&t.current){r();return}let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}function Cft(e,{container:t,accept:r,walk:n}){let i=St(r),a=St(n);Fr(()=>{i.current=r,a.current=n},[r,n]),wi(()=>{if(!t||!e)return;let s=F0(t);if(!s)return;let o=i.current,l=a.current,c=Object.assign(h=>o(h),{acceptNode:o}),u=s.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,c,!1);for(;u.nextNode();)l(u.currentNode)},[t,e,i,a])}function LA(){return typeof window<"u"}function z0(e){return Xme(e)?(e.nodeName||"").toLowerCase():"#document"}function Vs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Lc(e){var t;return(t=(Xme(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Xme(e){return LA()?e instanceof Node||e instanceof Vs(e).Node:!1}function Fa(e){return LA()?e instanceof Element||e instanceof Vs(e).Element:!1}function Ec(e){return LA()?e instanceof HTMLElement||e instanceof Vs(e).HTMLElement:!1}function pZ(e){return!LA()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Vs(e).ShadowRoot}function N1(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=xl(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function kft(e){return["table","td","th"].includes(z0(e))}function DA(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function s6(e){const t=o6(),r=Fa(e)?xl(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Eft(e){let t=Th(e);for(;Ec(t)&&!Zv(t);){if(s6(t))return t;if(DA(t))return null;t=Th(t)}return null}function o6(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zv(e){return["html","body","#document"].includes(z0(e))}function xl(e){return Vs(e).getComputedStyle(e)}function OA(e){return Fa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Th(e){if(z0(e)==="html")return e;const t=e.assignedSlot||e.parentNode||pZ(e)&&e.host||Lc(e);return pZ(t)?t.host:t}function Zme(e){const t=Th(e);return Zv(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ec(t)&&N1(t)?t:Zme(t)}function Sw(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=Zme(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),s=Vs(i);if(a){const o=P3(s);return t.concat(s,s.visualViewport||[],N1(i)?i:[],o&&r?Sw(o):[])}return t.concat(i,Sw(i,[],r))}function P3(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Tft(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:r,version:n}=t;return r+"/"+n}).join(" "):navigator.userAgent}const Gp=Math.min,ga=Math.max,Cw=Math.round,lk=Math.floor,vc=e=>({x:e,y:e}),Nft={left:"right",right:"left",bottom:"top",top:"bottom"},Aft={start:"end",end:"start"};function gZ(e,t,r){return ga(e,Gp(t,r))}function U0(e,t){return typeof e=="function"?e(t):e}function Nh(e){return e.split("-")[0]}function A1(e){return e.split("-")[1]}function Jme(e){return e==="x"?"y":"x"}function Qme(e){return e==="y"?"height":"width"}function oh(e){return["top","bottom"].includes(Nh(e))?"y":"x"}function eve(e){return Jme(oh(e))}function jft(e,t,r){r===void 0&&(r=!1);const n=A1(e),i=eve(e),a=Qme(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=kN(s)),[s,kN(s)]}function Rft(e){const t=kN(e);return[L3(e),t,L3(t)]}function L3(e){return e.replace(/start|end/g,t=>Aft[t])}function Ift(e,t,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?a:s;default:return[]}}function Mft(e,t,r,n){const i=A1(e);let a=Ift(Nh(e),r==="start",n);return i&&(a=a.map(s=>s+"-"+i),t&&(a=a.concat(a.map(L3)))),a}function kN(e){return e.replace(/left|right|bottom|top/g,t=>Nft[t])}function Pft(e){return{top:0,right:0,bottom:0,left:0,...e}}function Lft(e){return typeof e!="number"?Pft(e):{top:e,right:e,bottom:e,left:e}}function EN(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function mZ(e,t,r){let{reference:n,floating:i}=e;const a=oh(t),s=eve(t),o=Qme(s),l=Nh(t),c=a==="y",u=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,f=n[o]/2-i[o]/2;let p;switch(l){case"top":p={x:u,y:n.y-i.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-i.width,y:h};break;default:p={x:n.x,y:n.y}}switch(A1(t)){case"start":p[s]-=f*(r&&c?-1:1);break;case"end":p[s]+=f*(r&&c?-1:1);break}return p}const Dft=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=r,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:h}=mZ(c,n,l),f=n,p={},g=0;for(let v=0;v<o.length;v++){const{name:m,fn:y}=o[v],{x,y:_,data:b,reset:w}=await y({x:u,y:h,initialPlacement:n,placement:f,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:e,floating:t}});u=x??u,h=_??h,p={...p,[m]:{...p[m],...b}},w&&g<=50&&(g++,typeof w=="object"&&(w.placement&&(f=w.placement),w.rects&&(c=w.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):w.rects),{x:u,y:h}=mZ(c,f,l)),v=-1)}return{x:u,y:h,placement:f,strategy:i,middlewareData:p}};async function $A(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:s,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=U0(t,e),g=Lft(p),m=o[f?h==="floating"?"reference":"floating":h],y=EN(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(m)))==null||r?m:m.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),x=h==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),b=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},w=EN(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:_,strategy:l}):x);return{top:(y.top-w.top+g.top)/b.y,bottom:(w.bottom-y.bottom+g.bottom)/b.y,left:(y.left-w.left+g.left)/b.x,right:(w.right-y.right+g.right)/b.x}}const Oft=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...m}=U0(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=Nh(i),x=oh(o),_=Nh(o)===o,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=f||(_||!v?[kN(o)]:Rft(o)),S=g!=="none";!f&&S&&w.push(...Mft(o,v,g,b));const k=[o,...w],C=await $A(t,m),E=[];let T=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&E.push(C[y]),h){const $=jft(i,s,b);E.push(C[$[0]],C[$[1]])}if(T=[...T,{placement:i,overflows:E}],!E.every($=>$<=0)){var N,I;const $=(((N=a.flip)==null?void 0:N.index)||0)+1,L=k[$];if(L){var P;const j=h==="alignment"?x!==oh(L):!1,M=((P=T[0])==null?void 0:P.overflows[0])>0;if(!j||M)return{data:{index:$,overflows:T},reset:{placement:L}}}let O=(I=T.filter(j=>j.overflows[0]<=0).sort((j,M)=>j.overflows[1]-M.overflows[1])[0])==null?void 0:I.placement;if(!O)switch(p){case"bestFit":{var D;const j=(D=T.filter(M=>{if(S){const R=oh(M.placement);return R===x||R==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(R=>R>0).reduce((R,z)=>R+z,0)]).sort((M,R)=>M[1]-R[1])[0])==null?void 0:D[0];j&&(O=j);break}case"initialPlacement":O=o;break}if(i!==O)return{reset:{placement:O}}}return{}}}};async function $ft(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=Nh(r),o=A1(r),l=oh(r)==="y",c=["left","top"].includes(s)?-1:1,u=a&&l?-1:1,h=U0(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const Bft=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:s,middlewareData:o}=t,l=await $ft(t,e);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}},Fft=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:m=>{let{x:y,y:x}=m;return{x:y,y:x}}},...l}=U0(e,t),c={x:r,y:n},u=await $A(t,l),h=oh(Nh(i)),f=Jme(h);let p=c[f],g=c[h];if(a){const m=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=p+u[m],_=p-u[y];p=gZ(x,p,_)}if(s){const m=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=g+u[m],_=g-u[y];g=gZ(x,g,_)}const v=o.fn({...t,[f]:p,[h]:g});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[f]:a,[h]:s}}}}}},zft=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:s,elements:o}=t,{apply:l=()=>{},...c}=U0(e,t),u=await $A(t,c),h=Nh(i),f=A1(i),p=oh(i)==="y",{width:g,height:v}=a.floating;let m,y;h==="top"||h==="bottom"?(m=h,y=f===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(y=h,m=f==="end"?"top":"bottom");const x=v-u.top-u.bottom,_=g-u.left-u.right,b=Gp(v-u[m],x),w=Gp(g-u[y],_),S=!t.middlewareData.shift;let k=b,C=w;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=_),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=x),S&&!f){const T=ga(u.left,0),N=ga(u.right,0),I=ga(u.top,0),P=ga(u.bottom,0);p?C=g-2*(T!==0||N!==0?T+N:ga(u.left,u.right)):k=v-2*(I!==0||P!==0?I+P:ga(u.top,u.bottom))}await l({...t,availableWidth:C,availableHeight:k});const E=await s.getDimensions(o.floating);return g!==E.width||v!==E.height?{reset:{rects:!0}}:{}}}};function tve(e){const t=xl(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Ec(e),a=i?e.offsetWidth:r,s=i?e.offsetHeight:n,o=Cw(r)!==a||Cw(n)!==s;return o&&(r=a,n=s),{width:r,height:n,$:o}}function l6(e){return Fa(e)?e:e.contextElement}function dv(e){const t=l6(e);if(!Ec(t))return vc(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=tve(t);let s=(a?Cw(r.width):r.width)/n,o=(a?Cw(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const Uft=vc(0);function rve(e){const t=Vs(e);return!o6()||!t.visualViewport?Uft:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Hft(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Vs(e)?!1:t}function qp(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=l6(e);let s=vc(1);t&&(n?Fa(n)&&(s=dv(n)):s=dv(e));const o=Hft(a,r,n)?rve(a):vc(0);let l=(i.left+o.x)/s.x,c=(i.top+o.y)/s.y,u=i.width/s.x,h=i.height/s.y;if(a){const f=Vs(a),p=n&&Fa(n)?Vs(n):n;let g=f,v=P3(g);for(;v&&n&&p!==g;){const m=dv(v),y=v.getBoundingClientRect(),x=xl(v),_=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*m.x,b=y.top+(v.clientTop+parseFloat(x.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,h*=m.y,l+=_,c+=b,g=Vs(v),v=P3(g)}}return EN({width:u,height:h,x:l,y:c})}function c6(e,t){const r=OA(e).scrollLeft;return t?t.left+r:qp(Lc(e)).left+r}function nve(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:c6(e,n)),a=n.top+t.scrollTop;return{x:i,y:a}}function Vft(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",s=Lc(n),o=t?DA(t.floating):!1;if(n===s||o&&a)return r;let l={scrollLeft:0,scrollTop:0},c=vc(1);const u=vc(0),h=Ec(n);if((h||!h&&!a)&&((z0(n)!=="body"||N1(s))&&(l=OA(n)),Ec(n))){const p=qp(n);c=dv(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const f=s&&!h&&!a?nve(s,l,!0):vc(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:r.y*c.y-l.scrollTop*c.y+u.y+f.y}}function Wft(e){return Array.from(e.getClientRects())}function Gft(e){const t=Lc(e),r=OA(e),n=e.ownerDocument.body,i=ga(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=ga(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+c6(e);const o=-r.scrollTop;return xl(n).direction==="rtl"&&(s+=ga(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:o}}function qft(e,t){const r=Vs(e),n=Lc(e),i=r.visualViewport;let a=n.clientWidth,s=n.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const c=o6();(!c||c&&t==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}function Yft(e,t){const r=qp(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=Ec(e)?dv(e):vc(1),s=e.clientWidth*a.x,o=e.clientHeight*a.y,l=i*a.x,c=n*a.y;return{width:s,height:o,x:l,y:c}}function vZ(e,t,r){let n;if(t==="viewport")n=qft(e,r);else if(t==="document")n=Gft(Lc(e));else if(Fa(t))n=Yft(t,r);else{const i=rve(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return EN(n)}function ive(e,t){const r=Th(e);return r===t||!Fa(r)||Zv(r)?!1:xl(r).position==="fixed"||ive(r,t)}function Kft(e,t){const r=t.get(e);if(r)return r;let n=Sw(e,[],!1).filter(o=>Fa(o)&&z0(o)!=="body"),i=null;const a=xl(e).position==="fixed";let s=a?Th(e):e;for(;Fa(s)&&!Zv(s);){const o=xl(s),l=s6(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||N1(s)&&!l&&ive(e,s))?n=n.filter(u=>u!==s):i=o,s=Th(s)}return t.set(e,n),n}function Xft(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const s=[...r==="clippingAncestors"?DA(t)?[]:Kft(t,this._c):[].concat(r),n],o=s[0],l=s.reduce((c,u)=>{const h=vZ(t,u,i);return c.top=ga(h.top,c.top),c.right=Gp(h.right,c.right),c.bottom=Gp(h.bottom,c.bottom),c.left=ga(h.left,c.left),c},vZ(t,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Zft(e){const{width:t,height:r}=tve(e);return{width:t,height:r}}function Jft(e,t,r){const n=Ec(t),i=Lc(t),a=r==="fixed",s=qp(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const l=vc(0);function c(){l.x=c6(i)}if(n||!n&&!a)if((z0(t)!=="body"||N1(i))&&(o=OA(t)),n){const p=qp(t,!0,a,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else i&&c();a&&!n&&i&&c();const u=i&&!n&&!a?nve(i,o):vc(0),h=s.left+o.scrollLeft-l.x-u.x,f=s.top+o.scrollTop-l.y-u.y;return{x:h,y:f,width:s.width,height:s.height}}function HM(e){return xl(e).position==="static"}function yZ(e,t){if(!Ec(e)||xl(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Lc(e)===r&&(r=r.ownerDocument.body),r}function ave(e,t){const r=Vs(e);if(DA(e))return r;if(!Ec(e)){let i=Th(e);for(;i&&!Zv(i);){if(Fa(i)&&!HM(i))return i;i=Th(i)}return r}let n=yZ(e,t);for(;n&&kft(n)&&HM(n);)n=yZ(n,t);return n&&Zv(n)&&HM(n)&&!s6(n)?r:n||Eft(e)||r}const Qft=async function(e){const t=this.getOffsetParent||ave,r=this.getDimensions,n=await r(e.floating);return{reference:Jft(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function ept(e){return xl(e).direction==="rtl"}const tpt={convertOffsetParentRelativeRectToViewportRelativeRect:Vft,getDocumentElement:Lc,getClippingRect:Xft,getOffsetParent:ave,getElementRects:Qft,getClientRects:Wft,getDimensions:Zft,getScale:dv,isElement:Fa,isRTL:ept};function sve(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function rpt(e,t){let r=null,n;const i=Lc(e);function a(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const c=e.getBoundingClientRect(),{left:u,top:h,width:f,height:p}=c;if(o||t(),!f||!p)return;const g=lk(h),v=lk(i.clientWidth-(u+f)),m=lk(i.clientHeight-(h+p)),y=lk(u),_={rootMargin:-g+"px "+-v+"px "+-m+"px "+-y+"px",threshold:ga(0,Gp(1,l))||1};let b=!0;function w(S){const k=S[0].intersectionRatio;if(k!==l){if(!b)return s();k?s(!1,k):n=setTimeout(()=>{s(!1,1e-7)},1e3)}k===1&&!sve(c,e.getBoundingClientRect())&&s(),b=!1}try{r=new IntersectionObserver(w,{..._,root:i.ownerDocument})}catch{r=new IntersectionObserver(w,_)}r.observe(e)}return s(!0),a}function npt(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=l6(e),u=i||a?[...c?Sw(c):[],...Sw(t)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const h=c&&o?rpt(c,r):null;let f=-1,p=null;s&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(t)})),r()}),c&&!l&&p.observe(c),p.observe(t));let g,v=l?qp(e):null;l&&m();function m(){const y=qp(e);v&&!sve(v,y)&&r(),v=y,g=requestAnimationFrame(m)}return r(),()=>{var y;u.forEach(x=>{i&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const VM=$A,ipt=Bft,apt=Fft,spt=Oft,opt=zft,lpt=(e,t,r)=>{const n=new Map,i={platform:tpt,...r},a={...i.platform,_c:n};return Dft(e,t,{...i,platform:a})};var lE=typeof document<"u"?Vu:Fr;function TN(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!TN(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!TN(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function ove(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function xZ(e,t){const r=ove(e);return Math.round(t*r)/r}function WM(e){const t=St(e);return lE(()=>{t.current=e}),t}function cpt(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:c}=e,[u,h]=pr({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=pr(n);TN(f,n)||p(n);const[g,v]=pr(null),[m,y]=pr(null),x=ot(j=>{j!==S.current&&(S.current=j,v(j))},[]),_=ot(j=>{j!==k.current&&(k.current=j,y(j))},[]),b=a||g,w=s||m,S=St(null),k=St(null),C=St(u),E=l!=null,T=WM(l),N=WM(i),I=WM(c),P=ot(()=>{if(!S.current||!k.current)return;const j={placement:t,strategy:r,middleware:f};N.current&&(j.platform=N.current),lpt(S.current,k.current,j).then(M=>{const R={...M,isPositioned:I.current!==!1};D.current&&!TN(C.current,R)&&(C.current=R,Du(()=>{h(R)}))})},[f,t,r,N,I]);lE(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[c]);const D=St(!1);lE(()=>(D.current=!0,()=>{D.current=!1}),[]),lE(()=>{if(b&&(S.current=b),w&&(k.current=w),b&&w){if(T.current)return T.current(b,w,P);P()}},[b,w,P,T,E]);const $=Ht(()=>({reference:S,floating:k,setReference:x,setFloating:_}),[x,_]),L=Ht(()=>({reference:b,floating:w}),[b,w]),O=Ht(()=>{const j={position:r,left:0,top:0};if(!L.floating)return j;const M=xZ(L.floating,u.x),R=xZ(L.floating,u.y);return o?{...j,transform:"translate("+M+"px, "+R+"px)",...ove(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:R}},[r,o,L.floating,u.x,u.y]);return Ht(()=>({...u,update:P,refs:$,elements:L,floatingStyles:O}),[u,P,$,L,O])}const lve=(e,t)=>({...ipt(e),options:[e,t]}),upt=(e,t)=>({...apt(e),options:[e,t]}),dpt=(e,t)=>({...spt(e),options:[e,t]}),hpt=(e,t)=>({...opt(e),options:[e,t]}),cve={...pN},fpt=cve.useInsertionEffect,ppt=fpt||(e=>e());function uve(e){const t=St(()=>{});return ppt(()=>{t.current=e}),ot(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}var D3=typeof document<"u"?Vu:Fr;let _Z=!1,gpt=0;const bZ=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+gpt++;function mpt(){const[e,t]=pr(()=>_Z?bZ():void 0);return D3(()=>{e==null&&t(bZ())},[]),Fr(()=>{_Z=!0},[]),e}const vpt=cve.useId,ypt=vpt||mpt;function xpt(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(i=>i(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(i=>i!==r))||[])}}}const _pt=Ci(null),bpt=Ci(null),wpt=()=>{var e;return((e=zn(_pt))==null?void 0:e.id)||null},Spt=()=>zn(bpt),Cpt="data-floating-ui-focusable";function kpt(e){const{open:t=!1,onOpenChange:r,elements:n}=e,i=ypt(),a=St({}),[s]=pr(()=>xpt()),o=wpt()!=null,[l,c]=pr(n.reference),u=uve((p,g,v)=>{a.current.openEvent=p?g:void 0,s.emit("openchange",{open:p,event:g,reason:v,nested:o}),r==null||r(p,g,v)}),h=Ht(()=>({setPositionReference:c}),[]),f=Ht(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return Ht(()=>({dataRef:a,open:t,onOpenChange:u,elements:f,events:s,floatingId:i,refs:h}),[t,u,f,s,i,h])}function Ept(e){e===void 0&&(e={});const{nodeId:t}=e,r=kpt({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,i=n.elements,[a,s]=pr(null),[o,l]=pr(null),u=(i==null?void 0:i.domReference)||a,h=St(null),f=Spt();D3(()=>{u&&(h.current=u)},[u]);const p=cpt({...e,elements:{...i,...o&&{reference:o}}}),g=ot(_=>{const b=Fa(_)?{getBoundingClientRect:()=>_.getBoundingClientRect(),contextElement:_}:_;l(b),p.refs.setReference(b)},[p.refs]),v=ot(_=>{(Fa(_)||_===null)&&(h.current=_,s(_)),(Fa(p.refs.reference.current)||p.refs.reference.current===null||_!==null&&!Fa(_))&&p.refs.setReference(_)},[p.refs]),m=Ht(()=>({...p.refs,setReference:v,setPositionReference:g,domReference:h}),[p.refs,v,g]),y=Ht(()=>({...p.elements,domReference:u}),[p.elements,u]),x=Ht(()=>({...p,...n,refs:m,elements:y,nodeId:t}),[p,m,y,t,n]);return D3(()=>{n.dataRef.current.floatingContext=x;const _=f==null?void 0:f.nodesRef.current.find(b=>b.id===t);_&&(_.context=x)}),Ht(()=>({...p,context:x,refs:m,elements:y}),[p,m,y,x])}const wZ="active",SZ="selected";function GM(e,t,r){const n=new Map,i=r==="item";let a=e;if(i&&e){const{[wZ]:s,[SZ]:o,...l}=e;a=l}return{...r==="floating"&&{tabIndex:-1,[Cpt]:""},...a,...t.map(s=>{const o=s?s[r]:null;return typeof o=="function"?e?o(e):null:o}).concat(e).reduce((s,o)=>(o&&Object.entries(o).forEach(l=>{let[c,u]=l;if(!(i&&[wZ,SZ].includes(c)))if(c.indexOf("on")===0){if(n.has(c)||n.set(c,[]),typeof u=="function"){var h;(h=n.get(c))==null||h.push(u),s[c]=function(){for(var f,p=arguments.length,g=new Array(p),v=0;v<p;v++)g[v]=arguments[v];return(f=n.get(c))==null?void 0:f.map(m=>m(...g)).find(m=>m!==void 0)}}}else s[c]=u}),s),{})}}function Tpt(e){e===void 0&&(e=[]);const t=e.map(o=>o==null?void 0:o.reference),r=e.map(o=>o==null?void 0:o.floating),n=e.map(o=>o==null?void 0:o.item),i=ot(o=>GM(o,e,"reference"),t),a=ot(o=>GM(o,e,"floating"),r),s=ot(o=>GM(o,e,"item"),n);return Ht(()=>({getReferenceProps:i,getFloatingProps:a,getItemProps:s}),[i,a,s])}function CZ(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const Npt=e=>({name:"inner",options:e,async fn(t){const{listRef:r,overflowRef:n,onFallbackChange:i,offset:a=0,index:s=0,minItemsVisible:o=4,referenceOverflowThreshold:l=0,scrollRef:c,...u}=U0(e,t),{rects:h,elements:{floating:f}}=t,p=r.current[s],g=(c==null?void 0:c.current)||f,v=f.clientTop||g.clientTop,m=f.clientTop!==0,y=g.clientTop!==0,x=f===g;if(!p)return{};const _={...t,...await lve(-p.offsetTop-f.clientTop-h.reference.height/2-p.offsetHeight/2-a).fn(t)},b=await VM(CZ(_,g.scrollHeight+v+f.clientTop),u),w=await VM(_,{...u,elementContext:"reference"}),S=ga(0,b.top),k=_.y+S,T=(g.scrollHeight>g.clientHeight?N=>N:Cw)(ga(0,g.scrollHeight+(m&&x||y?v*2:0)-S-ga(0,b.bottom)));if(g.style.maxHeight=T+"px",g.scrollTop=S,i){const N=g.offsetHeight<p.offsetHeight*Gp(o,r.current.length)-1||w.top>=-l||w.bottom>=-l;Du(()=>i(N))}return n&&(n.current=await VM(CZ({..._,y:k},g.offsetHeight+v+f.clientTop),u)),{y:k}}});function Apt(e,t){const{open:r,elements:n}=e,{enabled:i=!0,overflowRef:a,scrollRef:s,onChange:o}=t,l=uve(o),c=St(!1),u=St(null),h=St(null);Fr(()=>{if(!i)return;function p(v){if(v.ctrlKey||!g||a.current==null)return;const m=v.deltaY,y=a.current.top>=-.5,x=a.current.bottom>=-.5,_=g.scrollHeight-g.clientHeight,b=m<0?-1:1,w=m<0?"max":"min";g.scrollHeight<=g.clientHeight||(!y&&m>0||!x&&m<0?(v.preventDefault(),Du(()=>{l(S=>S+Math[w](m,_*b))})):/firefox/i.test(Tft())&&(g.scrollTop+=m))}const g=(s==null?void 0:s.current)||n.floating;if(r&&g)return g.addEventListener("wheel",p),requestAnimationFrame(()=>{u.current=g.scrollTop,a.current!=null&&(h.current={...a.current})}),()=>{u.current=null,h.current=null,g.removeEventListener("wheel",p)}},[i,r,n.floating,a,s,l]);const f=Ht(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const p=(s==null?void 0:s.current)||n.floating;if(!(!a.current||!p||!c.current)){if(u.current!==null){const g=p.scrollTop-u.current;(a.current.bottom<-.5&&g<-1||a.current.top<-.5&&g>1)&&Du(()=>l(v=>v+g))}requestAnimationFrame(()=>{u.current=p.scrollTop})}}}),[n.floating,l,a,s]);return Ht(()=>i?{floating:f}:{},[i,f])}let H0=Ci({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});H0.displayName="FloatingContext";let u6=Ci(null);u6.displayName="PlacementContext";function jpt(e){return Ht(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function Rpt(){return zn(H0).setReference}function Ipt(){return zn(H0).getReferenceProps}function Mpt(){let{getFloatingProps:e,slot:t}=zn(H0);return ot((...r)=>Object.assign({},e(...r),{"data-anchor":t.anchor}),[e,t])}function Ppt(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=zn(u6),r=Ht(()=>e,[JSON.stringify(e,(i,a)=>{var s;return(s=a==null?void 0:a.outerHTML)!=null?s:a})]);wi(()=>{t==null||t(r??null)},[t,r]);let n=zn(H0);return Ht(()=>[n.setFloating,e?n.styles:{}],[n.setFloating,e,n.styles])}let kZ=4;function Lpt({children:e,enabled:t=!0}){let[r,n]=pr(null),[i,a]=pr(0),s=St(null),[o,l]=pr(null);Dpt(o);let c=t&&r!==null&&o!==null,{to:u="bottom",gap:h=0,offset:f=0,padding:p=0,inner:g}=Opt(r,o),[v,m="center"]=u.split(" ");wi(()=>{c&&a(0)},[c]);let{refs:y,floatingStyles:x,context:_}=Ept({open:c,placement:v==="selection"?m==="center"?"bottom":`bottom-${m}`:m==="center"?`${v}`:`${v}-${m}`,strategy:"absolute",transform:!1,middleware:[lve({mainAxis:v==="selection"?0:h,crossAxis:f}),upt({padding:p}),v!=="selection"&&dpt({padding:p}),v==="selection"&&g?Npt({...g,padding:p,overflowRef:s,offset:i,minItemsVisible:kZ,referenceOverflowThreshold:p,onFallbackChange(N){var I,P;if(!N)return;let D=_.elements.floating;if(!D)return;let $=parseFloat(getComputedStyle(D).scrollPaddingBottom)||0,L=Math.min(kZ,D.childElementCount),O=0,j=0;for(let M of(P=(I=_.elements.floating)==null?void 0:I.childNodes)!=null?P:[])if(M instanceof HTMLElement){let R=M.offsetTop,z=R+M.clientHeight+$,U=D.scrollTop,F=U+D.clientHeight;if(R>=U&&z<=F)L--;else{j=Math.max(0,Math.min(z,F)-Math.max(R,U)),O=M.clientHeight;break}}L>=1&&a(M=>{let R=O*L-j+$;return M>=R?M:R})}}):null,hpt({padding:p,apply({availableWidth:N,availableHeight:I,elements:P}){Object.assign(P.floating.style,{overflow:"auto",maxWidth:`${N}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${I}px)`})}})].filter(Boolean),whileElementsMounted:npt}),[b=v,w=m]=_.placement.split("-");v==="selection"&&(b="selection");let S=Ht(()=>({anchor:[b,w].filter(Boolean).join(" ")}),[b,w]),k=Apt(_,{overflowRef:s,onChange:a}),{getReferenceProps:C,getFloatingProps:E}=Tpt([k]),T=Cn(N=>{l(N),y.setFloating(N)});return na(u6.Provider,{value:n},na(H0.Provider,{value:{setFloating:T,setReference:y.setReference,styles:x,getReferenceProps:C,getFloatingProps:E,slot:S}},e))}function Dpt(e){wi(()=>{if(!e)return;let t=new MutationObserver(()=>{let r=window.getComputedStyle(e).maxHeight,n=parseFloat(r);if(isNaN(n))return;let i=parseInt(r);isNaN(i)||n!==i&&(e.style.maxHeight=`${Math.ceil(n)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function Opt(e,t){var r,n,i;let a=qM((r=e==null?void 0:e.gap)!=null?r:"var(--anchor-gap, 0)",t),s=qM((n=e==null?void 0:e.offset)!=null?n:"var(--anchor-offset, 0)",t),o=qM((i=e==null?void 0:e.padding)!=null?i:"var(--anchor-padding, 0)",t);return{...e,gap:a,offset:s,padding:o}}function qM(e,t,r=void 0){let n=jA(),i=Cn((l,c)=>{if(l==null)return[r,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!c)return[r,null];let u=EZ(l,c);return[u,h=>{let f=dve(l);{let p=f.map(g=>window.getComputedStyle(c).getPropertyValue(g));n.requestAnimationFrame(function g(){n.nextFrame(g);let v=!1;for(let[y,x]of f.entries()){let _=window.getComputedStyle(c).getPropertyValue(x);if(p[y]!==_){p[y]=_,v=!0;break}}if(!v)return;let m=EZ(l,c);u!==m&&(h(m),u=m)})}return n.dispose}]}return[r,null]}),a=Ht(()=>i(e,t)[0],[e,t]),[s=a,o]=pr();return wi(()=>{let[l,c]=i(e,t);if(o(l),!!c)return c(o)},[e,t]),s}function dve(e){let t=/var\((.*)\)/.exec(e);if(t){let r=t[1].indexOf(",");if(r===-1)return[t[1]];let n=t[1].slice(0,r).trim(),i=t[1].slice(r+1).trim();return i?[n,...dve(i)]:[n]}return[]}function EZ(e,t){let r=document.createElement("div");t.appendChild(r),r.style.setProperty("margin-top","0px","important"),r.style.setProperty("margin-top",e,"important");let n=parseFloat(window.getComputedStyle(r).marginTop)||0;return t.removeChild(r),n}let d6=Ci(null);d6.displayName="OpenClosedContext";var kw=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(kw||{});function $pt(){return zn(d6)}function Bpt({value:e,children:t}){return Vi.createElement(d6.Provider,{value:e},t)}var YM={exports:{}},KM={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TZ;function Fpt(){if(TZ)return KM;TZ=1;var e=pN;function t(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,s=e.useMemo,o=e.useDebugValue;return KM.useSyncExternalStoreWithSelector=function(l,c,u,h,f){var p=i(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=s(function(){function m(w){if(!y){if(y=!0,x=w,w=h(w),f!==void 0&&g.hasValue){var S=g.value;if(f(S,w))return _=S}return _=w}if(S=_,r(x,w))return S;var k=h(w);return f!==void 0&&f(S,k)?(x=w,S):(x=w,_=k)}var y=!1,x,_,b=u===void 0?null:u;return[function(){return m(c())},b===null?void 0:function(){return m(b())}]},[c,u,h,f]);var v=n(l,p[0],p[1]);return a(function(){g.hasValue=!0,g.value=v},[v]),o(v),v},KM}var NZ;function zpt(){return NZ||(NZ=1,YM.exports=Fpt()),YM.exports}var Upt=zpt(),hve=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Ho=(e,t,r)=>(hve(e,t,"read from private field"),r?r.call(e):t.get(e)),XM=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},AZ=(e,t,r,n)=>(hve(e,t,"write to private field"),t.set(e,r),r),Gc,r_,n_;class Hpt{constructor(t){XM(this,Gc,{}),XM(this,r_,new Hme(()=>new Set)),XM(this,n_,new Set),AZ(this,Gc,t)}get state(){return Ho(this,Gc)}subscribe(t,r){let n={selector:t,callback:r,current:t(Ho(this,Gc))};return Ho(this,n_).add(n),()=>{Ho(this,n_).delete(n)}}on(t,r){return Ho(this,r_).get(t).add(r),()=>{Ho(this,r_).get(t).delete(r)}}send(t){AZ(this,Gc,this.reduce(Ho(this,Gc),t));for(let r of Ho(this,n_)){let n=r.selector(Ho(this,Gc));fve(r.current,n)||(r.current=n,r.callback(n))}for(let r of Ho(this,r_).get(t.type))r(Ho(this,Gc),t)}}Gc=new WeakMap,r_=new WeakMap,n_=new WeakMap;function fve(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:ZM(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:ZM(e.entries(),t.entries()):jZ(e)&&jZ(t)?ZM(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function ZM(e,t){do{let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function jZ(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}function RZ(e){let[t,r]=e(),n=El();return(...i)=>{t(...i),n.dispose(),n.microTask(r)}}function Ud(e,t,r=fve){return Upt.useSyncExternalStoreWithSelector(Cn(n=>e.subscribe(Vpt,n)),Cn(()=>e.state),Cn(()=>e.state),Cn(t),r)}function Vpt(e){return e}function Wpt(e){throw new Error("Unexpected object: "+e)}var ci=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(ci||{});function ck(e,t){let r=t.resolveItems();if(r.length<=0)return null;let n=t.resolveActiveIndex(),i=n??-1;switch(e.focus){case 0:{for(let a=0;a<r.length;++a)if(!t.resolveDisabled(r[a],a,r))return a;return n}case 1:{i===-1&&(i=r.length);for(let a=i-1;a>=0;--a)if(!t.resolveDisabled(r[a],a,r))return a;return n}case 2:{for(let a=i+1;a<r.length;++a)if(!t.resolveDisabled(r[a],a,r))return a;return n}case 3:{for(let a=r.length-1;a>=0;--a)if(!t.resolveDisabled(r[a],a,r))return a;return n}case 4:{for(let a=0;a<r.length;++a)if(t.resolveId(r[a],a,r)===e.id)return a;return n}case 5:return null;default:Wpt(e)}}function Gpt(e){let t=Cn(e),r=St(!1);Fr(()=>(r.current=!1,()=>{r.current=!0,Lme(()=>{r.current&&t()})}),[t])}function qpt(){let e=typeof document>"u";return"useSyncExternalStore"in pN?(t=>t.useSyncExternalStore)(pN)(()=>()=>{},()=>!1,()=>!e):!1}function Ypt(){let e=qpt(),[t,r]=pr(xp.isHandoffComplete);return t&&xp.isHandoffComplete===!1&&r(!1),Fr(()=>{t!==!0&&r(!0)},[t]),Fr(()=>xp.handoff(),[]),e?!1:t}let Kpt=Ci(!1);function Xpt(){return zn(Kpt)}function Zpt(e){let t=Xpt(),r=zn(gve),[n,i]=pr(()=>{var a,s;if(!t&&r!==null)return(a=r.current)!=null?a:null;if(xp.isServer)return null;let o=e==null?void 0:e.getElementById("stagewise-toolbar-portal-root");if(o)return o;if(e===null)return null;let l=e.createElement("div");return l.setAttribute("id","stagewise-toolbar-portal-root"),l.style.pointerEvents="auto",((s=e.querySelector("stagewise-companion-anchor"))!=null?s:e.body).appendChild(l)});return Fr(()=>{var a;if(n===null)return;const s=(a=e==null?void 0:e.querySelector("stagewise-companion-anchor"))!=null?a:e==null?void 0:e.body;s!=null&&s.contains(n)||s==null||s.appendChild(n)},[n,e]),Fr(()=>{t||r!==null&&i(r.current)},[r,i,t]),n}let pve=bi,Jpt=Cs(function(e,t){let{ownerDocument:r=null,...n}=e,i=St(null),a=Wu(Lht(p=>{i.current=p}),t),s=M3(i),o=r??s,l=Zpt(o),[c]=pr(()=>{var p;return xp.isServer?null:(p=o==null?void 0:o.createElement("div"))!=null?p:null}),u=zn(rgt),h=Ypt();wi(()=>{!l||!c||l.contains(c)||(c.setAttribute("data-headlessui-portal",""),l.appendChild(c))},[l,c]),wi(()=>{if(c&&u)return u.register(c)},[u,c]),Gpt(()=>{var p;!l||!c||(c instanceof Node&&l.contains(c)&&l.removeChild(c),l.childNodes.length<=0&&((p=l.parentElement)==null||p.removeChild(l)))});let f=Ss();return h?!l||!c?null:qF(f({ourProps:{ref:a},theirProps:n,slot:{},defaultTag:pve,name:"Portal"}),c):null});function Qpt(e,t){let r=Wu(t),{enabled:n=!0,ownerDocument:i,...a}=e,s=Ss();return n?Vi.createElement(Jpt,{...a,ownerDocument:i,ref:r}):s({ourProps:{ref:r},theirProps:a,slot:{},defaultTag:pve,name:"Portal"})}let egt=bi,gve=Ci(null);function tgt(e,t){let{target:r,...n}=e,i={ref:Wu(t)},a=Ss();return Vi.createElement(gve.Provider,{value:r},a({ourProps:i,theirProps:n,defaultTag:egt,name:"Popover.Group"}))}let rgt=Ci(null),ngt=Cs(Qpt),igt=Cs(tgt),agt=Object.assign(ngt,{Group:igt});function sgt(e,t){let r=St({left:0,top:0});if(wi(()=>{if(!t)return;let i=t.getBoundingClientRect();i&&(r.current=i)},[e,t]),t==null||!e||t===document.activeElement)return!1;let n=t.getBoundingClientRect();return n.top!==r.current.top||n.left!==r.current.left}let IZ=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function MZ(e){var t,r;let n=(t=e.innerText)!=null?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return n;let a=!1;for(let o of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),a=!0;let s=a?(r=i.innerText)!=null?r:"":n;return IZ.test(s)&&(s=s.replace(IZ,"")),s}function ogt(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let r=e.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(i=>{let a=document.getElementById(i);if(a){let s=a.getAttribute("aria-label");return typeof s=="string"?s.trim():MZ(a).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return MZ(e).trim()}function lgt(e){let t=St(""),r=St("");return Cn(()=>{let n=e.current;if(!n)return"";let i=n.innerText;if(t.current===i)return r.current;let a=ogt(n).trim().toLowerCase();return t.current=i,r.current=a,a})}var cgt=Object.defineProperty,ugt=(e,t,r)=>t in e?cgt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,PZ=(e,t,r)=>(ugt(e,typeof t!="symbol"?t+"":t,r),r),Xi=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Xi||{}),NN=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(NN||{}),An=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItems=5]="RegisterItems",e[e.UnregisterItems=6]="UnregisterItems",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e[e.SortItems=9]="SortItems",e))(An||{});function LZ(e,t=r=>r){let r=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,n=Yme(t(e.items.slice()),a=>a.dataRef.current.domRef.current),i=r?n.indexOf(r):null;return i===-1&&(i=null),{items:n,activeItemIndex:i}}let dgt={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,pendingFocus:{focus:ci.Nothing},menuState:1}},0(e,t){return e.menuState===0?e:{...e,__demoMode:!1,pendingFocus:t.focus,menuState:0}},2:(e,t)=>{var r,n,i,a,s;if(e.menuState===1)return e;let o={...e,searchQuery:"",activationTrigger:(r=t.trigger)!=null?r:1,__demoMode:!1};if(t.focus===ci.Nothing)return{...o,activeItemIndex:null};if(t.focus===ci.Specific)return{...o,activeItemIndex:e.items.findIndex(u=>u.id===t.id)};if(t.focus===ci.Previous){let u=e.activeItemIndex;if(u!==null){let h=e.items[u].dataRef.current.domRef,f=ck(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(f!==null){let p=e.items[f].dataRef.current.domRef;if(((n=h.current)==null?void 0:n.previousElementSibling)===p.current||((i=p.current)==null?void 0:i.previousElementSibling)===null)return{...o,activeItemIndex:f}}}}else if(t.focus===ci.Next){let u=e.activeItemIndex;if(u!==null){let h=e.items[u].dataRef.current.domRef,f=ck(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(f!==null){let p=e.items[f].dataRef.current.domRef;if(((a=h.current)==null?void 0:a.nextElementSibling)===p.current||((s=p.current)==null?void 0:s.nextElementSibling)===null)return{...o,activeItemIndex:f}}}}let l=LZ(e),c=ck(t,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});return{...o,...l,activeItemIndex:c}},3:(e,t)=>{let r=e.searchQuery!==""?0:1,n=e.searchQuery+t.value.toLowerCase(),i=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(s=>{var o;return((o=s.dataRef.current.textValue)==null?void 0:o.startsWith(n))&&!s.dataRef.current.disabled}),a=i?e.items.indexOf(i):-1;return a===-1||a===e.activeItemIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeItemIndex:a,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let r=e.items.concat(t.items.map(i=>i)),n=e.activeItemIndex;return e.pendingFocus.focus!==ci.Nothing&&(n=ck(e.pendingFocus,{resolveItems:()=>r,resolveActiveIndex:()=>e.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...e,items:r,activeItemIndex:n,pendingFocus:{focus:ci.Nothing},pendingShouldSort:!0}},6:(e,t)=>{let r=e.items,n=[],i=new Set(t.items);for(let[a,s]of r.entries())if(i.has(s.id)&&(n.push(a),i.delete(s.id),i.size===0))break;if(n.length>0){r=r.slice();for(let a of n.reverse())r.splice(a,1)}return{...e,items:r,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element},9:e=>e.pendingShouldSort?{...e,...LZ(e),pendingShouldSort:!1}:e};class h6 extends Hpt{constructor(t){super(t),PZ(this,"actions",{registerItem:RZ(()=>{let r=[],n=new Set;return[(i,a)=>{n.has(a)||(n.add(a),r.push({id:i,dataRef:a}))},()=>(n.clear(),this.send({type:5,items:r.splice(0)}))]}),unregisterItem:RZ(()=>{let r=[];return[n=>r.push(n),()=>this.send({type:6,items:r.splice(0)})]})}),PZ(this,"selectors",{activeDescendantId(r){var n;let i=r.activeItemIndex,a=r.items;return i===null||(n=a[i])==null?void 0:n.id},isActive(r,n){var i;let a=r.activeItemIndex,s=r.items;return a!==null?((i=s[a])==null?void 0:i.id)===n:!1},shouldScrollIntoView(r,n){return r.__demoMode||r.menuState!==0||r.activationTrigger===0?!1:this.isActive(r,n)}}),this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})})}static new({__demoMode:t=!1}={}){return new h6({__demoMode:t,menuState:t?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:ci.Nothing}})}reduce(t,r){return T1(r.type,dgt,t,r)}}const mve=Ci(null);function f6(e){let t=zn(mve);if(t===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,vve),r}return t}function vve({__demoMode:e=!1}={}){return Ht(()=>h6.new({__demoMode:e}),[])}let hgt=bi;function fgt(e,t){let{__demoMode:r=!1,...n}=e,i=vve({__demoMode:r}),[a,s,o]=Ud(i,g=>[g.menuState,g.itemsElement,g.buttonElement]),l=Wu(t),c=a===Xi.Open;lft(c,[o,s],(g,v)=>{var m;i.send({type:An.CloseMenu}),a6(v,i6.Loose)||(g.preventDefault(),(m=i.state.buttonElement)==null||m.focus())});let u=Cn(()=>{i.send({type:An.CloseMenu})}),h=Ht(()=>({open:a===Xi.Open,close:u}),[a,u]),f={ref:l},p=Ss();return Vi.createElement(Lpt,null,Vi.createElement(mve.Provider,{value:i},Vi.createElement(Bpt,{value:T1(a,{[Xi.Open]:kw.Open,[Xi.Closed]:kw.Closed})},p({ourProps:f,theirProps:n,slot:h,defaultTag:hgt,name:"Menu"}))))}let pgt="button";function ggt(e,t){let r=f6("Menu.Button"),n=kl(),{id:i=`headlessui-menu-button-${n}`,disabled:a=!1,autoFocus:s=!1,...o}=e,l=St(null),c=Ipt(),u=Wu(t,l,Rpt(),Cn(C=>r.send({type:An.SetButtonElement,element:C}))),h=Cn(C=>{switch(C.key){case Ki.Space:case Ki.Enter:case Ki.ArrowDown:C.preventDefault(),C.stopPropagation(),r.send({type:An.OpenMenu,focus:{focus:ci.First}});break;case Ki.ArrowUp:C.preventDefault(),C.stopPropagation(),r.send({type:An.OpenMenu,focus:{focus:ci.Last}});break}}),f=Cn(C=>{switch(C.key){case Ki.Space:C.preventDefault();break}}),[p,g]=Ud(r,C=>[C.menuState,C.itemsElement]),v=Cn(C=>{var E;if(C.button===0){if(Mht(C.currentTarget))return C.preventDefault();a||(p===Xi.Open?(Du(()=>r.send({type:An.CloseMenu})),(E=l.current)==null||E.focus({preventScroll:!0})):(C.preventDefault(),r.send({type:An.OpenMenu,focus:{focus:ci.Nothing},trigger:NN.Pointer})))}}),{isFocusVisible:m,focusProps:y}=t6({autoFocus:s}),{isHovered:x,hoverProps:_}=e6({isDisabled:a}),{pressed:b,pressProps:w}=Dme({disabled:a}),S=Ht(()=>({open:p===Xi.Open,active:b||p===Xi.Open,disabled:a,hover:x,focus:m,autofocus:s}),[p,x,m,b,a,s]),k=IA(c(),{ref:u,id:i,type:cft(e,l.current),"aria-haspopup":"menu","aria-controls":g==null?void 0:g.id,"aria-expanded":p===Xi.Open,disabled:a||void 0,autoFocus:s,onKeyDown:h,onKeyUp:f,onMouseDown:v},y,_,w);return Ss()({ourProps:k,theirProps:o,slot:S,defaultTag:pgt,name:"Menu.Button"})}let mgt="div",vgt=A3.RenderStrategy|A3.Static;function ygt(e,t){let r=kl(),{id:n=`headlessui-menu-items-${r}`,anchor:i,portal:a=!1,modal:s=!0,transition:o=!1,...l}=e,c=jpt(i),u=f6("Menu.Items"),[h,f]=Ppt(c),p=Mpt(),[g,v]=pr(null),m=Wu(t,c?h:null,Cn(M=>u.send({type:An.SetItemsElement,element:M})),v),[y,x]=Ud(u,M=>[M.menuState,M.buttonElement]),_=M3(x),b=M3(g);c&&(a=!0);let w=$pt(),[S,k]=_ft(o,g,w!==null?(w&kw.Open)===kw.Open:y===Xi.Open);Yht(S,x,()=>{u.send({type:An.CloseMenu})});let C=Ud(u,M=>M.__demoMode),E=C?!1:s&&y===Xi.Open;gft(E,b);let T=C?!1:s&&y===Xi.Open;qht(T,{allowed:ot(()=>[x,g],[x,g])});let N=y!==Xi.Open,I=sgt(N,x)?!1:S;Fr(()=>{let M=g;M&&y===Xi.Open&&M!==(b==null?void 0:b.activeElement)&&M.focus({preventScroll:!0})},[y,g,b]),Cft(y===Xi.Open,{container:g,accept(M){return M.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:M.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(M){M.setAttribute("role","none")}});let P=jA(),D=Cn(M=>{var R,z,U;switch(P.dispose(),M.key){case Ki.Space:if(u.state.searchQuery!=="")return M.preventDefault(),M.stopPropagation(),u.send({type:An.Search,value:M.key});case Ki.Enter:if(M.preventDefault(),M.stopPropagation(),u.state.activeItemIndex!==null){let{dataRef:F}=u.state.items[u.state.activeItemIndex];(z=(R=F.current)==null?void 0:R.domRef.current)==null||z.click()}u.send({type:An.CloseMenu}),qme(u.state.buttonElement);break;case Ki.ArrowDown:return M.preventDefault(),M.stopPropagation(),u.send({type:An.GoToItem,focus:ci.Next});case Ki.ArrowUp:return M.preventDefault(),M.stopPropagation(),u.send({type:An.GoToItem,focus:ci.Previous});case Ki.Home:case Ki.PageUp:return M.preventDefault(),M.stopPropagation(),u.send({type:An.GoToItem,focus:ci.First});case Ki.End:case Ki.PageDown:return M.preventDefault(),M.stopPropagation(),u.send({type:An.GoToItem,focus:ci.Last});case Ki.Escape:M.preventDefault(),M.stopPropagation(),Du(()=>u.send({type:An.CloseMenu})),(U=u.state.buttonElement)==null||U.focus({preventScroll:!0});break;case Ki.Tab:M.preventDefault(),M.stopPropagation(),Du(()=>u.send({type:An.CloseMenu})),nft(u.state.buttonElement,M.shiftKey?I3.Previous:I3.Next);break;default:M.key.length===1&&(u.send({type:An.Search,value:M.key}),P.setTimeout(()=>u.send({type:An.ClearSearch}),350));break}}),$=Cn(M=>{switch(M.key){case Ki.Space:M.preventDefault();break}}),L=Ht(()=>({open:y===Xi.Open}),[y]),O=IA(c?p():{},{"aria-activedescendant":Ud(u,u.selectors.activeDescendantId),"aria-labelledby":Ud(u,M=>{var R;return(R=M.buttonElement)==null?void 0:R.id}),id:n,onKeyDown:D,onKeyUp:$,role:"menu",tabIndex:y===Xi.Open?0:void 0,ref:m,style:{...l.style,...f,"--button-width":Wht(x,!0).width},...xft(k)}),j=Ss();return Vi.createElement(agt,{enabled:a?e.static||S:!1,ownerDocument:_},j({ourProps:O,theirProps:l,slot:L,defaultTag:mgt,features:vgt,visible:I,name:"Menu.Items"}))}let xgt=bi;function _gt(e,t){let r=kl(),{id:n=`headlessui-menu-item-${r}`,disabled:i=!1,...a}=e,s=f6("Menu.Item"),o=Ud(s,N=>s.selectors.isActive(N,n)),l=St(null),c=Wu(t,l),u=Ud(s,N=>s.selectors.shouldScrollIntoView(N,n));wi(()=>{if(u)return El().requestAnimationFrame(()=>{var N,I;(I=(N=l.current)==null?void 0:N.scrollIntoView)==null||I.call(N,{block:"nearest"})})},[u,l]);let h=lgt(l),f=St({disabled:i,domRef:l,get textValue(){return h()}});wi(()=>{f.current.disabled=i},[f,i]),wi(()=>(s.actions.registerItem(n,f),()=>s.actions.unregisterItem(n)),[f,n]);let p=Cn(()=>{s.send({type:An.CloseMenu})}),g=Cn(N=>{if(i)return N.preventDefault();s.send({type:An.CloseMenu}),qme(s.state.buttonElement)}),v=Cn(()=>{if(i)return s.send({type:An.GoToItem,focus:ci.Nothing});s.send({type:An.GoToItem,focus:ci.Specific,id:n})}),m=mft(),y=Cn(N=>{m.update(N),!i&&(o||s.send({type:An.GoToItem,focus:ci.Specific,id:n,trigger:NN.Pointer}))}),x=Cn(N=>{m.wasMoved(N)&&(i||o||s.send({type:An.GoToItem,focus:ci.Specific,id:n,trigger:NN.Pointer}))}),_=Cn(N=>{m.wasMoved(N)&&(i||o&&s.send({type:An.GoToItem,focus:ci.Nothing}))}),[b,w]=Ume(),[S,k]=Oht(),C=Ht(()=>({active:o,focus:o,disabled:i,close:p}),[o,i,p]),E={id:n,ref:c,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":b,"aria-describedby":S,disabled:void 0,onClick:g,onFocus:v,onPointerEnter:y,onMouseEnter:y,onPointerMove:x,onMouseMove:x,onPointerLeave:_,onMouseLeave:_},T=Ss();return Vi.createElement(w,null,Vi.createElement(k,null,T({ourProps:E,theirProps:a,slot:C,defaultTag:xgt,name:"Menu.Item"})))}let bgt="div";function wgt(e,t){let[r,n]=Ume(),i=e,a={ref:t,"aria-labelledby":r,role:"group"},s=Ss();return Vi.createElement(n,null,s({ourProps:a,theirProps:i,slot:{},defaultTag:bgt,name:"Menu.Section"}))}let Sgt="header";function Cgt(e,t){let r=kl(),{id:n=`headlessui-menu-heading-${r}`,...i}=e,a=r6();wi(()=>a.register(n),[n,a.register]);let s={id:n,ref:t,role:"presentation",...a.props};return Ss()({ourProps:s,theirProps:i,slot:{},defaultTag:Sgt,name:"Menu.Heading"})}let kgt="div";function Egt(e,t){let r=e,n={ref:t,role:"separator"};return Ss()({ourProps:n,theirProps:r,slot:{},defaultTag:kgt,name:"Menu.Separator"})}let Tgt=Cs(fgt),yve=Cs(ggt),xve=Cs(ygt),p6=Cs(_gt),Ngt=Cs(wgt),Agt=Cs(Cgt),jgt=Cs(Egt),Rgt=Object.assign(Tgt,{Button:yve,Items:xve,Item:p6,Section:Ngt,Heading:Agt,Separator:jgt}),Igt="textarea";function Mgt(e,t){let r=kl(),n=$me(),i=RA(),{id:a=n||`headlessui-textarea-${r}`,disabled:s=i||!1,autoFocus:o=!1,invalid:l=!1,...c}=e,u=zme(),h=Dht(),{isFocused:f,focusProps:p}=t6({autoFocus:o}),{isHovered:g,hoverProps:v}=e6({isDisabled:s}),m=IA({ref:t,id:a,"aria-labelledby":u,"aria-describedby":h,"aria-invalid":l?"true":void 0,disabled:s||void 0,autoFocus:o},p,v),y=Ht(()=>({disabled:s,invalid:l,hover:g,focus:f,autofocus:o}),[s,l,g,f,o]);return Ss()({ourProps:m,theirProps:c,slot:y,defaultTag:Igt,name:"Textarea"})}let Pgt=Cs(Mgt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lgt=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Dgt=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),DZ=e=>{const t=Dgt(e);return t.charAt(0).toUpperCase()+t.slice(1)},_ve=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),Ogt=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $gt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bgt=Pc(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...o},l)=>na("svg",{ref:l,...$gt,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:_ve("lucide",i),...!a&&!Ogt(o)&&{"aria-hidden":"true"},...o},[...s.map(([c,u])=>na(c,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=(e,t)=>{const r=Pc(({className:n,...i},a)=>na(Bgt,{ref:a,iconNode:t,className:_ve(`lucide-${Lgt(DZ(e))}`,`lucide-${e}`,n),...i}));return r.displayName=DZ(e),r};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fgt=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zgt=gg("chevron-down",Fgt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ugt=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Hgt=gg("chevron-up",Ugt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vgt=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Wgt=gg("ellipsis",Vgt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ggt=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],qgt=gg("minimize-2",Ggt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ygt=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bve=gg("plus",Ygt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kgt=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Xgt=gg("send",Kgt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zgt=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Jgt=gg("trash-2",Zgt),Qgt=fg(()=>{const{chatAreaState:e}=pg();return e==="hidden"?null:De(emt,{children:[De(tmt,{}),e==="compact"&&De(rmt,{}),e==="expanded"&&De(nmt,{})]})}),emt=fg(({children:e})=>De("div",{className:"h-auto w-full overflow-x-hidden",children:e})),tmt=fg(()=>{const{chatAreaState:e,setChatAreaState:t,stopPromptCreation:r}=pg(),n=ot(()=>{t(e==="compact"?"expanded":"compact")},[e,t]),i=ot(()=>{r(),t("hidden")},[t,r]);return De("div",{className:"flex w-full flex-row items-center justify-center rounded-t-3xl px-3 py-1",children:[De(Wp,{className:"size-5 bg-transparent text-muted-foreground/30 transition-colors duration-100 hover:text-muted-foreground",onClick:n,children:e==="compact"?De(Hgt,{className:"size-5"}):De(zgt,{className:"size-5"})}),De(Wp,{className:"absolute right-2 flex h-fit w-fit flex-row items-center gap-1 bg-transparent p-1 text-xs text-zinc-950 opacity-50 transition-all duration-100 hover:opacity-100",onClick:i,children:["Close menu",De("div",{className:"rounded-md bg-zinc-600 px-0.5 py-0 text-xs text-zinc-50",children:"esc"})]})]})}),rmt=fg(()=>De("div",{className:"flex w-full flex-col gap-1 p-3",children:De("span",{className:"text-sm text-zinc-950/50",children:"This is the compact chat area... Showing just the last response from the assistant."})})),nmt=fg(()=>{const{chats:e,currentChatId:t,setCurrentChat:r,createChat:n}=pg(),i=e.find(l=>l.id===t),a=e.some(l=>l.id==="new_chat"),s=ot(()=>{n()},[n]),o=ot(l=>{r(l)},[r]);return De("div",{className:"flex max-h-[50vh] w-full flex-col gap-3 p-3 pb-0",children:[De("div",{className:"flex flex-1 flex-col gap-2 overflow-y-auto p-1",children:i==null?void 0:i.messages.map(l=>De("div",{className:`flex ${l.sender==="assistant"?"justify-start":"justify-end"}`,children:De("div",{className:`max-w-[80%] rounded-xl px-2 py-1 text-sm ${l.sender==="assistant"?"bg-zinc-950/5 text-zinc-950":"bg-blue-600 text-white"}`,children:l.content})},l.id))}),De("div",{className:"flex flex-row items-center justify-start gap-2 overflow-x-auto overflow-y-visible border-border/10 border-t pt-2 pb-2",children:[!a&&De(Wp,{className:"h-6 flex-shrink-0 rounded-full bg-zinc-950/5 px-2 font-semibold text-foreground text-xs",onClick:s,children:De(bve,{className:"size-3"})}),e.map(l=>De(Wp,{className:jo("h-5 max-w-48 flex-shrink-0 overflow-hidden truncate rounded-full bg-zinc-950/5 px-2 text-muted-foreground text-xs",l.id===t&&"bg-white/60 text-zinc-950 shadow-blue-600/50 shadow-sm"),onClick:()=>o(l.id),children:l.title||"New chat"},l.id))]})]})});var imt="2.0.3",O3=500,OZ="user-agent",Jv="",$Z="?",AN="function",Hd="undefined",Qv="object",$3="string",is="browser",tu="cpu",Yl="device",tl="engine",bo="os",hv="result",Oe="name",ke="type",Pe="vendor",Be="version",as="architecture",Ew="major",je="model",i_="console",mr="mobile",wn="tablet",gi="smarttv",Vl="wearable",JM="xr",a_="embedded",_x="inapp",g6="brands",Bf="formFactors",m6="fullVersionList",fv="platform",v6="platformVersion",BA="bitness",Uh="sec-ch-ua",amt=Uh+"-full-version-list",smt=Uh+"-arch",omt=Uh+"-"+BA,lmt=Uh+"-form-factors",cmt=Uh+"-"+mr,umt=Uh+"-"+je,wve=Uh+"-"+fv,dmt=wve+"-version",Sve=[g6,m6,mr,je,fv,v6,as,Bf,BA],uk="Amazon",sm="Apple",BZ="ASUS",FZ="BlackBerry",bf="Google",zZ="Huawei",UZ="Lenovo",HZ="Honor",dk="LG",QM="Microsoft",eP="Motorola",tP="Nvidia",VZ="OnePlus",rP="OPPO",bx="Samsung",WZ="Sharp",Sx="Sony",nP="Xiaomi",iP="Zebra",GZ="Chrome",qZ="Chromium",ud="Chromecast",hmt="Edge",Cx="Firefox",kx="Opera",aP="Facebook",YZ="Sogou",om="Mobile ",Ex=" Browser",B3="Windows",fmt=typeof window!==Hd,ss=fmt&&window.navigator?window.navigator:void 0,Td=ss&&ss.userAgentData?ss.userAgentData:void 0,pmt=function(e,t){var r={},n=t;if(!jN(t)){n={};for(var i in t)for(var a in t[i])n[a]=t[i][a].concat(n[a]?n[a]:[])}for(var s in e)r[s]=n[s]&&n[s].length%2===0?n[s].concat(e[s]):e[s];return r},FA=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},F3=function(e,t){if(typeof e===Qv&&e.length>0){for(var r in e)if(cu(e[r])==cu(t))return!0;return!1}return V0(e)?cu(t).indexOf(cu(e))!==-1:!1},jN=function(e,t){for(var r in e)return/^(browser|cpu|device|engine|os)$/.test(r)||(t?jN(e[r]):!1)},V0=function(e){return typeof e===$3},sP=function(e){if(e){for(var t=[],r=e0(/\\?\"/g,e).split(","),n=0;n<r.length;n++)if(r[n].indexOf(";")>-1){var i=Tw(r[n]).split(";v=");t[n]={brand:i[0],version:i[1]}}else t[n]=Tw(r[n]);return t}},cu=function(e){return V0(e)?e.toLowerCase():e},oP=function(e){return V0(e)?e0(/[^\d\.]/g,e).split(".")[0]:void 0},uu=function(e){for(var t in e){var r=e[t];typeof r==Qv&&r.length==2?this[r[0]]=r[1]:this[r]=void 0}return this},e0=function(e,t){return V0(t)?t.replace(e,Jv):t},Tx=function(e){return e0(/\\?\"/g,e)},Tw=function(e,t){if(V0(e))return e=e0(/^\s\s*/,e),typeof t===Hd?e:e.substring(0,O3)},lP=function(e,t){if(!(!e||!t))for(var r=0,n,i,a,s,o,l;r<t.length&&!o;){var c=t[r],u=t[r+1];for(n=i=0;n<c.length&&!o&&c[n];)if(o=c[n++].exec(e),o)for(a=0;a<u.length;a++)l=o[++i],s=u[a],typeof s===Qv&&s.length>0?s.length===2?typeof s[1]==AN?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:s.length===3?typeof s[1]===AN&&!(s[1].exec&&s[1].test)?this[s[0]]=l?s[1].call(this,l,s[2]):void 0:this[s[0]]=l?l.replace(s[1],s[2]):void 0:s.length===4&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):void 0):this[s]=l||void 0;r+=2}},Nd=function(e,t){for(var r in t)if(typeof t[r]===Qv&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(F3(t[r][n],e))return r===$Z?void 0:r}else if(F3(t[r],e))return r===$Z?void 0:r;return t.hasOwnProperty("*")?t["*"]:e},KZ={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},XZ={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},ZZ={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[Be,[Oe,om+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[Be,[Oe,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[Oe,Be],[/opios[\/ ]+([\w\.]+)/i],[Be,[Oe,kx+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[Be,[Oe,kx+" GX"]],[/\bopr\/([\w\.]+)/i],[Be,[Oe,kx]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[Be,[Oe,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[Be,[Oe,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon|otter|dooble|(?:lg |qute)browser)\/([-\w\.]+)/i,/(heytap|ovi|115|surf)browser\/([\d\.]+)/i,/(ecosia|weibo)(?:__| \w+@)([\d\.]+)/i],[Oe,Be],[/quark(?:pc)?\/([-\w\.]+)/i],[Be,[Oe,"Quark"]],[/\bddg\/([\w\.]+)/i],[Be,[Oe,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[Be,[Oe,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[Be,[Oe,"WeChat"]],[/konqueror\/([\w\.]+)/i],[Be,[Oe,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[Be,[Oe,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[Be,[Oe,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[Be,[Oe,"Smart "+UZ+Ex]],[/(avast|avg)\/([\w\.]+)/i],[[Oe,/(.+)/,"$1 Secure"+Ex],Be],[/\bfocus\/([\w\.]+)/i],[Be,[Oe,Cx+" Focus"]],[/\bopt\/([\w\.]+)/i],[Be,[Oe,kx+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[Be,[Oe,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[Be,[Oe,"Dolphin"]],[/coast\/([\w\.]+)/i],[Be,[Oe,kx+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[Be,[Oe,"MIUI"+Ex]],[/fxios\/([\w\.-]+)/i],[Be,[Oe,om+Cx]],[/\bqihoobrowser\/?([\w\.]*)/i],[Be,[Oe,"360"]],[/\b(qq)\/([\w\.]+)/i],[[Oe,/(.+)/,"$1Browser"],Be],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[Oe,/(.+)/,"$1"+Ex],Be],[/samsungbrowser\/([\w\.]+)/i],[Be,[Oe,bx+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[Be,[Oe,YZ+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[Oe,YZ+" Mobile"],Be],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[Oe,Be],[/(lbbrowser|rekonq)/i],[Oe],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[Be,Oe],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[Oe,aP],Be,[ke,_x]],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat)[\/ ]([-\w\.]+)/i],[Oe,Be,[ke,_x]],[/\bgsa\/([\w\.]+) .*safari\//i],[Be,[Oe,"GSA"],[ke,_x]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[Be,[Oe,"TikTok"],[ke,_x]],[/\[(linkedin)app\]/i],[Oe,[ke,_x]],[/(chromium)[\/ ]([-\w\.]+)/i],[Oe,Be],[/headlesschrome(?:\/([\w\.]+)| )/i],[Be,[Oe,GZ+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[Oe,GZ+" WebView"],Be],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[Be,[Oe,"Android"+Ex]],[/chrome\/([\w\.]+) mobile/i],[Be,[Oe,om+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[Oe,Be],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[Be,[Oe,om+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[Oe,om+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[Be,Oe],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[Oe,[Be,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[Oe,Be],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[Oe,om+Cx],Be],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[Oe,"Netscape"],Be],[/(wolvic|librewolf)\/([\w\.]+)/i],[Oe,Be],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[Be,[Oe,Cx+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[Oe,[Be,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[Oe,[Be,/[^\d\.]+./,Jv]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[as,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[as,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[as,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[as,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[as,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[as,/ower/,Jv,cu]],[/ sun4\w[;\)]/i],[[as,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[as,cu]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[je,[Pe,bx],[ke,wn]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[je,[Pe,bx],[ke,mr]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[je,[Pe,sm],[ke,mr]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[je,[Pe,sm],[ke,wn]],[/(macintosh);/i],[je,[Pe,sm]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[je,[Pe,WZ],[ke,mr]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[je,[Pe,HZ],[ke,wn]],[/honor([-\w ]+)[;\)]/i],[je,[Pe,HZ],[ke,mr]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[je,[Pe,zZ],[ke,wn]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[je,[Pe,zZ],[ke,mr]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[je,/_/g," "],[Pe,nP],[ke,wn]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[je,/_/g," "],[Pe,nP],[ke,mr]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[je,[Pe,rP],[ke,mr]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[je,[Pe,Nd,{OnePlus:["304","403","203"],"*":rP}],[ke,wn]],[/(vivo (5r?|6|8l?|go|one|s|x[il]?[2-4]?)[\w\+ ]*)(?: bui|\))/i],[je,[Pe,"BLU"],[ke,mr]],[/; vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[je,[Pe,"Vivo"],[ke,mr]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[je,[Pe,"Realme"],[ke,mr]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[je,[Pe,eP],[ke,mr]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[je,[Pe,eP],[ke,wn]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[je,[Pe,dk],[ke,wn]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+(?!.*(?:browser|netcast|android tv|watch))(\w+)/i,/\blg-?([\d\w]+) bui/i],[je,[Pe,dk],[ke,mr]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[je,[Pe,UZ],[ke,wn]],[/(nokia) (t[12][01])/i],[Pe,je,[ke,wn]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[je,/_/g," "],[ke,mr],[Pe,"Nokia"]],[/(pixel (c|tablet))\b/i],[je,[Pe,bf],[ke,wn]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[je,[Pe,bf],[ke,mr]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[je,[Pe,Sx],[ke,mr]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[je,"Xperia Tablet"],[Pe,Sx],[ke,wn]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[je,[Pe,VZ],[ke,mr]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[je,[Pe,uk],[ke,wn]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[je,/(.+)/g,"Fire Phone $1"],[Pe,uk],[ke,mr]],[/(playbook);[-\w\),; ]+(rim)/i],[je,Pe,[ke,wn]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[je,[Pe,FZ],[ke,mr]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[je,[Pe,BZ],[ke,wn]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[je,[Pe,BZ],[ke,mr]],[/(nexus 9)/i],[je,[Pe,"HTC"],[ke,wn]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[Pe,[je,/_/g," "],[ke,mr]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[je,[Pe,"TCL"],[ke,wn]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[je,[Pe,"TCL"],[ke,mr]],[/(itel) ((\w+))/i],[[Pe,cu],je,[ke,Nd,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[je,[Pe,"Acer"],[ke,wn]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[je,[Pe,"Meizu"],[ke,mr]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[je,[Pe,"Ulefone"],[ke,mr]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[je,[Pe,"Energizer"],[ke,mr]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[je,[Pe,"Cat"],[ke,mr]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[je,[Pe,"Smartfren"],[ke,mr]],[/droid.+; (a(?:015|06[35]|142p?))/i],[je,[Pe,"Nothing"],[ke,mr]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[je,[Pe,"Archos"],[ke,wn]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[je,[Pe,"Archos"],[ke,mr]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[Pe,je,[ke,wn]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (blu|hmd|imo|tcl)[_ ]([\w\+ ]+?)(?: bui|\)|; r)/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[Pe,je,[ke,mr]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[Pe,je,[ke,wn]],[/(surface duo)/i],[je,[Pe,QM],[ke,wn]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[je,[Pe,"Fairphone"],[ke,mr]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[je,[Pe,tP],[ke,wn]],[/(sprint) (\w+)/i],[Pe,je,[ke,mr]],[/(kin\.[onetw]{3})/i],[[je,/\./g," "],[Pe,QM],[ke,mr]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[je,[Pe,iP],[ke,wn]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[je,[Pe,iP],[ke,mr]],[/smart-tv.+(samsung)/i],[Pe,[ke,gi]],[/hbbtv.+maple;(\d+)/i],[[je,/^/,"SmartTV"],[Pe,bx],[ke,gi]],[/tcast.+(lg)e?. ([-\w]+)/i],[Pe,je,[ke,gi]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[Pe,dk],[ke,gi]],[/(apple) ?tv/i],[Pe,[je,sm+" TV"],[ke,gi]],[/crkey.*devicetype\/chromecast/i],[[je,ud+" Third Generation"],[Pe,bf],[ke,gi]],[/crkey.*devicetype\/([^/]*)/i],[[je,/^/,"Chromecast "],[Pe,bf],[ke,gi]],[/fuchsia.*crkey/i],[[je,ud+" Nest Hub"],[Pe,bf],[ke,gi]],[/crkey/i],[[je,ud],[Pe,bf],[ke,gi]],[/(portaltv)/i],[je,[Pe,aP],[ke,gi]],[/droid.+aft(\w+)( bui|\))/i],[je,[Pe,uk],[ke,gi]],[/(shield \w+ tv)/i],[je,[Pe,tP],[ke,gi]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[je,[Pe,WZ],[ke,gi]],[/(bravia[\w ]+)( bui|\))/i],[je,[Pe,Sx],[ke,gi]],[/(mi(tv|box)-?\w+) bui/i],[je,[Pe,nP],[ke,gi]],[/Hbbtv.*(technisat) (.*);/i],[Pe,je,[ke,gi]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[Pe,Tw],[je,Tw],[ke,gi]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[je,[ke,gi]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[ke,gi]],[/(ouya)/i,/(nintendo) (\w+)/i],[Pe,je,[ke,i_]],[/droid.+; (shield)( bui|\))/i],[je,[Pe,tP],[ke,i_]],[/(playstation \w+)/i],[je,[Pe,Sx],[ke,i_]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[je,[Pe,QM],[ke,i_]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[je,[Pe,bx],[ke,Vl]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[Pe,je,[ke,Vl]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[je,[Pe,rP],[ke,Vl]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[je,[Pe,sm],[ke,Vl]],[/(opwwe\d{3})/i],[je,[Pe,VZ],[ke,Vl]],[/(moto 360)/i],[je,[Pe,eP],[ke,Vl]],[/(smartwatch 3)/i],[je,[Pe,Sx],[ke,Vl]],[/(g watch r)/i],[je,[Pe,dk],[ke,Vl]],[/droid.+; (wt63?0{2,3})\)/i],[je,[Pe,iP],[ke,Vl]],[/droid.+; (glass) \d/i],[je,[Pe,bf],[ke,JM]],[/(pico) (4|neo3(?: link|pro)?)/i],[Pe,je,[ke,JM]],[/(quest( \d| pro)?s?).+vr/i],[je,[Pe,aP],[ke,JM]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[Pe,[ke,a_]],[/(aeobc)\b/i],[je,[Pe,uk],[ke,a_]],[/(homepod).+mac os/i],[je,[Pe,sm],[ke,a_]],[/windows iot/i],[[ke,a_]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+?(mobile|vr|\d) safari/i],[je,[ke,Nd,{mobile:"Mobile",xr:"VR","*":wn}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[ke,wn]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[ke,mr]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[je,[Pe,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[Be,[Oe,hmt+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[Oe,Be],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[Be,[Oe,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[Oe,Be],[/ladybird\//i],[[Oe,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[Be,Oe]],os:[[/microsoft (windows) (vista|xp)/i],[Oe,Be],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[Oe,[Be,Nd,KZ]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[Be,Nd,KZ],[Oe,B3]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[Be,/_/g,"."],[Oe,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[Oe,"macOS"],[Be,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[Be,[Oe,ud+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[Be,[Oe,ud+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[Be,[Oe,ud+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[Be,[Oe,ud+" Linux"]],[/crkey\/([\d\.]+)/i],[Be,[Oe,ud]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[Be,Oe],[/(ubuntu) ([\w\.]+) like android/i],[[Oe,/(.+)/,"$1 Touch"],Be],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/\.; ]?([\d\.]*)/i],[Oe,Be],[/\(bb(10);/i],[Be,[Oe,FZ]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[Be,[Oe,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[Be,[Oe,Cx+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[Be,[Oe,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[Be,[Oe,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[Oe,"Chrome OS"],Be],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[Oe,Be],[/(sunos) ?([\w\.\d]*)/i],[[Oe,"Solaris"],Be],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[Oe,Be]]},hk=function(){var e={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}};return uu.call(e.init,[[is,[Oe,Be,Ew,ke]],[tu,[as]],[Yl,[ke,je,Pe]],[tl,[Oe,Be]],[bo,[Oe,Be]]]),uu.call(e.isIgnore,[[is,[Be,Ew]],[tl,[Be]],[bo,[Be]]]),uu.call(e.isIgnoreRgx,[[is,/ ?browser$/i],[bo,/ ?os$/i]]),uu.call(e.toString,[[is,[Oe,Be]],[tu,[as]],[Yl,[Pe,je]],[tl,[Oe,Be]],[bo,[Oe,Be]]]),e}(),gmt=function(e,t){var r=hk.init[t],n=hk.isIgnore[t]||0,i=hk.isIgnoreRgx[t]||0,a=hk.toString[t]||0;function s(){uu.call(this,r)}return s.prototype.getItem=function(){return e},s.prototype.withClientHints=function(){return Td?Td.getHighEntropyValues(Sve).then(function(o){return e.setCH(new Cve(o,!1)).parseCH().get()}):e.parseCH().get()},s.prototype.withFeatureCheck=function(){return e.detectFeature().get()},t!=hv&&(s.prototype.is=function(o){var l=!1;for(var c in this)if(this.hasOwnProperty(c)&&!F3(n,c)&&cu(i?e0(i,this[c]):this[c])==cu(i?e0(i,o):o)){if(l=!0,o!=Hd)break}else if(o==Hd&&l){l=!l;break}return l},s.prototype.toString=function(){var o=Jv;for(var l in a)typeof this[a[l]]!==Hd&&(o+=(o?" ":Jv)+this[a[l]]);return o||Hd}),Td||(s.prototype.then=function(o){var l=this,c=function(){for(var h in l)l.hasOwnProperty(h)&&(this[h]=l[h])};c.prototype={is:s.prototype.is,toString:s.prototype.toString};var u=new c;return o(u),u}),new s};function Cve(e,t){if(e=e||{},uu.call(this,Sve),t)uu.call(this,[[g6,sP(e[Uh])],[m6,sP(e[amt])],[mr,/\?1/.test(e[cmt])],[je,Tx(e[umt])],[fv,Tx(e[wve])],[v6,Tx(e[dmt])],[as,Tx(e[smt])],[Bf,sP(e[lmt])],[BA,Tx(e[omt])]]);else for(var r in e)this.hasOwnProperty(r)&&typeof e[r]!==Hd&&(this[r]=e[r])}function JZ(e,t,r,n){return this.get=function(i){return i?this.data.hasOwnProperty(i)?this.data[i]:void 0:this.data},this.set=function(i,a){return this.data[i]=a,this},this.setCH=function(i){return this.uaCH=i,this},this.detectFeature=function(){if(ss&&ss.userAgent==this.ua)switch(this.itemType){case is:ss.brave&&typeof ss.brave.isBrave==AN&&this.set(Oe,"Brave");break;case Yl:!this.get(ke)&&Td&&Td[mr]&&this.set(ke,mr),this.get(je)=="Macintosh"&&ss&&typeof ss.standalone!==Hd&&ss.maxTouchPoints&&ss.maxTouchPoints>2&&this.set(je,"iPad").set(ke,wn);break;case bo:!this.get(Oe)&&Td&&Td[fv]&&this.set(Oe,Td[fv]);break;case hv:var i=this.data,a=function(s){return i[s].getItem().detectFeature().get()};this.set(is,a(is)).set(tu,a(tu)).set(Yl,a(Yl)).set(tl,a(tl)).set(bo,a(bo))}return this},this.parseUA=function(){return this.itemType!=hv&&lP.call(this.data,this.ua,this.rgxMap),this.itemType==is&&this.set(Ew,oP(this.get(Be))),this},this.parseCH=function(){var i=this.uaCH,a=this.rgxMap;switch(this.itemType){case is:case tl:var s=i[m6]||i[g6],o;if(s)for(var l in s){var c=s[l].brand||s[l],u=s[l].version;this.itemType==is&&!/not.a.brand/i.test(c)&&(!o||/chrom/i.test(o)&&c!=qZ)&&(c=Nd(c,{Chrome:"Google Chrome",Edge:"Microsoft Edge","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome","Huawei Browser":"HuaweiBrowser","MIUI Browser":"Miui Browser","Opera Mobi":"OperaMobile",Yandex:"YaBrowser"}),this.set(Oe,c).set(Be,u).set(Ew,oP(u)),o=c),this.itemType==tl&&c==qZ&&this.set(Be,u)}break;case tu:var h=i[as];h&&(h&&i[BA]=="64"&&(h+="64"),lP.call(this.data,h+";",a));break;case Yl:if(i[mr]&&this.set(ke,mr),i[je]&&(this.set(je,i[je]),!this.get(ke)||!this.get(Pe))){var f={};lP.call(f,"droid 9; "+i[je]+")",a),!this.get(ke)&&f.type&&this.set(ke,f.type),!this.get(Pe)&&f.vendor&&this.set(Pe,f.vendor)}if(i[Bf]){var p;if(typeof i[Bf]!="string")for(var g=0;!p&&g<i[Bf].length;)p=Nd(i[Bf][g++],XZ);else p=Nd(i[Bf],XZ);this.set(ke,p)}break;case bo:var v=i[fv];if(v){var m=i[v6];v==B3&&(m=parseInt(oP(m),10)>=13?"11":"10"),this.set(Oe,v).set(Be,m)}this.get(Oe)==B3&&i[je]=="Xbox"&&this.set(Oe,"Xbox").set(Be,void 0);break;case hv:var y=this.data,x=function(_){return y[_].getItem().setCH(i).parseCH().get()};this.set(is,x(is)).set(tu,x(tu)).set(Yl,x(Yl)).set(tl,x(tl)).set(bo,x(bo))}return this},uu.call(this,[["itemType",e],["ua",t],["uaCH",n],["rgxMap",r],["data",gmt(this,e)]]),this}function $u(e,t,r){if(typeof e===Qv?(jN(e,!0)?(typeof t===Qv&&(r=t),t=e):(r=e,t=void 0),e=void 0):typeof e===$3&&!jN(t,!0)&&(r=t,t=void 0),r&&typeof r.append===AN){var n={};r.forEach(function(l,c){n[c]=l}),r=n}if(!(this instanceof $u))return new $u(e,t,r).getResult();var i=typeof e===$3?e:r&&r[OZ]?r[OZ]:ss&&ss.userAgent?ss.userAgent:Jv,a=new Cve(r,!0),s=t?pmt(ZZ,t):ZZ,o=function(l){return l==hv?function(){return new JZ(l,i,s,a).set("ua",i).set(is,this.getBrowser()).set(tu,this.getCPU()).set(Yl,this.getDevice()).set(tl,this.getEngine()).set(bo,this.getOS()).get()}:function(){return new JZ(l,i,s[l],a).parseUA().get()}};return uu.call(this,[["getBrowser",o(is)],["getCPU",o(tu)],["getDevice",o(Yl)],["getEngine",o(tl)],["getOS",o(bo)],["getResult",o(hv)],["getUA",function(){return i}],["setUA",function(l){return V0(l)&&(i=l.length>O3?Tw(l,O3):l),this}]]).setUA(i),this}$u.VERSION=imt;$u.BROWSER=FA([Oe,Be,Ew,ke]);$u.CPU=FA([as]);$u.DEVICE=FA([je,Pe,ke,i_,mr,gi,wn,Vl,a_]);$u.ENGINE=$u.OS=FA([Oe,Be]);const mmt=()=>Ht(()=>{{const r=new $u().getResult();return{browser:r.browser,engine:r.engine,os:r.os,device:r.device,cpu:r.cpu}}},[]);function vmt(e){return mmt().os.name.toLowerCase().includes("mac")?S3[e].keyComboMac:S3[e].keyComboDefault}function ymt(){const e=pg(),t=Ht(()=>e.chats.find(h=>h.id===e.currentChatId),[e.chats,e.currentChatId]),r=Ht(()=>(t==null?void 0:t.inputValue)||"",[t==null?void 0:t.inputValue]),n=Ht(()=>r.split(`
`).length>1||r.length>30,[r]),i=ot(h=>{e.setChatInput(e.currentChatId,h)},[e.setChatInput,e.currentChatId]),a=ot(()=>{!t||!r.trim()||e.addMessage(t.id,r)},[t,r,e.addMessage]),s=ot(h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),a())},[a]),o=St(null);Fr(()=>{var h,f,p;const g=()=>{var v;return(v=o.current)==null?void 0:v.focus()};return e.isPromptCreationActive?((h=o.current)==null||h.focus(),(f=o.current)==null||f.addEventListener("blur",g)):(p=o.current)==null||p.blur(),()=>{var v;(v=o.current)==null||v.removeEventListener("blur",g)}},[e.isPromptCreationActive]);const l=Ht(()=>jo("flex size-6 items-center justify-center rounded-full bg-transparent p-1 text-zinc-950 opacity-20",r.length>0&&"bg-blue-600 text-white opacity-100"),[r.length]),c=Ht(()=>jo("w-full flex-1 resize-none bg-transparent text-zinc-950 placeholder:text-zinc-950/50 focus:outline-none",n?"h-[4.5em]":"h-6"),[n]),u=vmt(SN.CTRL_ALT_C);return De("div",{className:jo("flex h-fit w-80 flex-1 flex-row items-end gap-1 rounded-2xl border border-border/10 bg-zinc-950/5 p-1.5 pl-2 text-sm text-zinc-950 shadow-inner transition-all duration-150 placeholder:text-zinc-950/70",e.isPromptCreationActive&&"ring-2 ring-blue-600"),onClick:()=>e.startPromptCreation(),role:"button",tabIndex:0,children:[De(Pgt,{ref:o,className:c,rows:n?4:1,value:r,onChange:h=>i(h.currentTarget.value),onKeyDown:s,placeholder:e.isPromptCreationActive?"Enter prompt...":`What do you want to change? (${u})`}),De(Wp,{className:l,disabled:r.length===0,onClick:a,children:De(Xgt,{className:"size-3"})})]})}const xmt=Rgt,_mt=Pc((e,t)=>De(yve,{as:bi,ref:t,...e})),bmt=Pc((e,t)=>De(xve,{ref:t,anchor:"bottom",transition:!0,portal:!0,...e,className:jo("z-50 flex w-fit min-w-24 max-w-90 flex-col items-stretch justify-start gap-1 rounded-lg border border-border/30 border-solid bg-background/60 p-1 shadow-black/50 shadow-lg outline-none backdrop-blur-md data-focus:outline-none",e.className)})),kve="w-full flex flex-row select-none items-center justify-start gap-2 p-2 pr-6 truncate overflow-hidden rounded-md hover:bg-zinc-950/10 focus:text-zinc-900 cursor-pointer transition-color duration-150 text-sm font-normal text-foreground",QZ=Pc((e,t)=>De(p6,{ref:t,children:De(Wp,{...e,className:jo(kve,e.className)})}));Pc((e,t)=>De(p6,{ref:t,children:De("a",{...e,className:jo(kve,e.className)})}));function wmt(e){return De("div",{className:"flex h-full shrink-0 items-center justify-center",children:[e.children,e.badgeContent&&De("div",{className:jo("bg-blue-600 text-white",e.badgeClassName,"-bottom-0.5 -right-1 pointer-events-none absolute flex h-4 w-max min-w-4 max-w-8 select-none items-center justify-center truncate rounded-full px-1 font-semibold text-xs"),children:e.badgeContent}),e.statusDot&&De("div",{className:jo("bg-rose-600",e.statusDotClassName,"pointer-events-none absolute top-0 right-0 size-1.5 rounded-full")})]})}const Eve=Pc(({badgeContent:e,badgeClassName:t,statusDot:r,statusDotClassName:n,tooltipHint:i,variant:a="default",...s},o)=>{const l=De(Wp,{ref:o,...s,className:jo("flex items-center justify-center rounded-full p-1 text-zinc-950 hover:bg-zinc-950/5",a==="default"?"size-8":"h-8 rounded-full")});return De(wmt,{badgeContent:e,badgeClassName:t,statusDot:r,statusDotClassName:n,children:l})});Eve.displayName="ToolbarButton";function Smt({children:e}){return De("div",{className:"fade-in slide-in-from-bottom-2 flex max-h-full max-w-sm animate-in snap-start flex-row items-center justify-between gap-2 border-x border-r-border/30 border-l-transparent px-3 first:pl-0 last:border-r-transparent last:pr-0",children:e})}function Cmt(){const e=C1(n=>n.minimize),t=Ult(),r=Ht(()=>t.flatMap(n=>n.actions),[t]);return De(Smt,{children:De(xmt,{children:[De(_mt,{children:De(Eve,{children:De(Wgt,{className:"size-4"})})}),De(bmt,{children:[r.map(n=>De(QZ,{onClick:n.execute,children:n.name})),De(QZ,{onClick:e,children:[De(qgt,{className:"size-4"}),"Minimize companion"]})]})]})})}const y6=Ci(null),kmt=({containerRef:e,children:t,snapAreas:r,onDragStart:n,onDragEnd:i})=>{const[a,s]=pr({top:0,left:0,right:0,bottom:0}),o=St(new Set),l=St(new Set),c=ot(g=>(o.current.add(g),()=>o.current.delete(g)),[]),u=ot(g=>(l.current.add(g),()=>l.current.delete(g)),[]),h=ot(()=>{n&&n(),o.current.forEach(g=>g())},[n]),f=ot(()=>{i&&i(),l.current.forEach(g=>g())},[i]),p={borderLocation:a,snapAreas:r,registerDragStart:c,registerDragEnd:u,emitDragStart:h,emitDragEnd:f};return Fr(()=>{if(!e.current)return;const g=()=>{const x=e.current.getBoundingClientRect();s({top:x.top,left:x.left,right:x.right,bottom:x.bottom})};g();const v=new ResizeObserver(g);v.observe(e.current);const m=()=>{requestAnimationFrame(g)};window.addEventListener("scroll",m,!0);let y=e.current.parentElement;for(;y;)y.addEventListener("scroll",m),y=y.parentElement;return()=>{var x;for(v.disconnect(),window.removeEventListener("scroll",m,!0),y=(x=e.current)==null?void 0:x.parentElement;y;)y.removeEventListener("scroll",m),y=y.parentElement}},[e]),De(y6.Provider,{value:p,children:t})};function Emt(e){const t=zn(y6),r=St(t);Fr(()=>{r.current=t},[t]);const n=St(null),i=St(null),[a,s]=pr(null),[o,l]=pr(null),c=St(null),u=St(null),h=St(null),f=St(!1),p=St(e.initialRelativeCenter),[g,v]=pr(null),{startThreshold:m=3,areaSnapThreshold:y=60,onDragStart:x,onDragEnd:_,initialSnapArea:b,springStiffness:w=.3,springDampness:S=.5}=e,k=St(null),C=St({x:0,y:0}),E=St(!1);Fr(()=>{if(b&&t&&t.borderLocation&&t.snapAreas&&t.snapAreas[b]&&!f.current){const{top:O,left:j,right:M,bottom:R}=t.borderLocation,z=M-j,U=R-O,G={topLeft:{x:j,y:O},topCenter:{x:j+z/2,y:O},topRight:{x:M,y:O},centerLeft:{x:j,y:O+U/2},center:{x:j+z/2,y:O+U/2},centerRight:{x:M,y:O+U/2},bottomLeft:{x:j,y:R},bottomCenter:{x:j+z/2,y:R},bottomRight:{x:M,y:R}}[b];if(G&&window.innerWidth>0&&window.innerHeight>0){const q=(G.x-j)/(M-j),K=(G.y-O)/(R-O);p.current={x:q,y:K}}}},[b,t]);function T(O){const{top:j,left:M,right:R,bottom:z}=O,U=R-M,F=z-j;return{topLeft:{x:M,y:j},topCenter:{x:M+U/2,y:j},topRight:{x:R,y:j},centerLeft:{x:M,y:j+F/2},center:{x:M+U/2,y:j+F/2},centerRight:{x:R,y:j+F/2},bottomLeft:{x:M,y:z},bottomCenter:{x:M+U/2,y:z},bottomRight:{x:R,y:z}}}const N=ot(()=>{var O,j;const M=n.current;if(!M)return;const R=M.offsetWidth,z=M.offsetHeight,U=M.offsetParent;let F=0,G=0,q=window.innerWidth,K=window.innerHeight;if(U){const ee=U.getBoundingClientRect();F=ee.left,G=ee.top,q=U.offsetWidth||window.innerWidth,K=U.offsetHeight||window.innerHeight}let B=null,W=null;const Y=p.current;let Z=null,Q=null;const re=r.current;if(f.current&&c.current&&h.current&&re&&re.borderLocation&&re.snapAreas){const ee={x:h.current.x-c.current.x,y:h.current.y-c.current.y},se=T(re.borderLocation);let J=Number.POSITIVE_INFINITY,ne=null,le=null;for(const Re in re.snapAreas)if(re.snapAreas[Re]){const ze=se[Re];if(!ze)continue;const Te=Math.hypot(ze.x-ee.x,ze.y-ee.y);Te<J&&(J=Te,ne=Re,le=ze)}ne&&le&&J<=y&&(Z=ne,Q=le)}if(f.current&&Q)B=Q.x,W=Q.y,v(Z);else if(f.current&&c.current&&h.current)B=h.current.x-c.current.x,W=h.current.y-c.current.y,v(null);else{if(Y&&q>0&&K>0){const ee=Y.y<=.5;if(Y.x<=.5){const J=q*Y.x;B=F+J}else{const J=q*(1-Y.x);B=F+q-J}if(ee){const J=K*Y.y;W=G+J}else{const J=K*(1-Y.y);W=G+K-J}}else{!((O=n.current)!=null&&O.style.left)&&!((j=n.current)!=null&&j.style.top)&&console.warn("useDraggable: Cannot determine position. Parent has no dimensions or initialRelativeCenter was not effectively set.");return}v(null)}if(B===null||W===null)return;const{borderLocation:me}=r.current||{borderLocation:void 0};if(me&&R>0&&z>0){const ee=me.right-me.left,se=me.bottom-me.top;let J=B,ne=W;if(R>=ee)J=me.left+ee/2;else{const le=me.left+R/2,Re=me.right-R/2;J=Math.max(le,Math.min(J,Re))}if(z>=se)ne=me.top+se/2;else{const le=me.top+z/2,Re=me.bottom-z/2;ne=Math.max(le,Math.min(ne,Re))}B=J,W=ne}if(!k.current){k.current={x:B,y:W},C.current={x:0,y:0};const ee=B-R/2,se=W-z/2,J=Y?Y.y<=.5:!0,ne=Y?Y.x<=.5:!0,le=M.style;if(le.right="",le.bottom="",le.left="",le.top="",ne){const Re=ee-F;le.left=q>0?`${(Re/q*100).toFixed(2)}%`:"0px",le.right=""}else{const Re=F+q-(ee+R);le.right=q>0?`${(Re/q*100).toFixed(2)}%`:"0px",le.left=""}if(J){const Re=se-G;le.top=K>0?`${(Re/K*100).toFixed(2)}%`:"0px",le.bottom=""}else{const Re=G+K-(se+z);le.bottom=K>0?`${(Re/K*100).toFixed(2)}%`:"0px",le.top=""}E.current=!0;return}if(!E.current){E.current=!0;return}const Ee=k.current,Ne=C.current,Me=B-Ee.x,Ae=W-Ee.y,Ie=w*Me-S*Ne.x,bt=w*Ae-S*Ne.y;Ne.x+=Ie,Ne.y+=bt,Ee.x+=Ne.x,Ee.y+=Ne.y;const pt=.5;Math.abs(Me)<pt&&Math.abs(Ae)<pt&&Math.abs(Ne.x)<pt&&Math.abs(Ne.y)<pt&&(Ee.x=B,Ee.y=W,Ne.x=0,Ne.y=0),k.current={...Ee},C.current={...Ne};const fe=Ee.x-R/2,et=Ee.y-z/2,He=Y?Y.y<=.5:!0,Gt=Y?Y.x<=.5:!0,tt=M.style;if(tt.right="",tt.bottom="",tt.left="",tt.top="",Gt){const ee=fe-F;tt.left=q>0?`${(ee/q*100).toFixed(2)}%`:"0px",tt.right=""}else{const ee=F+q-(fe+R);tt.right=q>0?`${(ee/q*100).toFixed(2)}%`:"0px",tt.left=""}if(He){const ee=et-G;tt.top=K>0?`${(ee/K*100).toFixed(2)}%`:"0px",tt.bottom=""}else{const ee=G+K-(et+z);tt.bottom=K>0?`${(ee/K*100).toFixed(2)}%`:"0px",tt.top=""}(Math.abs(Ee.x-B)>pt||Math.abs(Ee.y-W)>pt||Math.abs(Ne.x)>pt||Math.abs(Ne.y)>pt||f.current)&&requestAnimationFrame(N)},[y,w,S]),I=ot(O=>{var j;if(f.current){_&&_(),(j=r.current)!=null&&j.emitDragEnd&&r.current.emitDragEnd();const M=n.current,R=r.current;if(M&&R&&R.borderLocation){const z=M.offsetWidth,U=M.offsetHeight,F=M.offsetParent;let G=0,q=0,K=window.innerWidth,B=window.innerHeight;if(F){const bt=F.getBoundingClientRect();G=bt.left,q=bt.top,K=F.offsetWidth||window.innerWidth,B=F.offsetHeight||window.innerHeight}let W=0,Y=0;h.current&&c.current?(W=h.current.x-c.current.x,Y=h.current.y-c.current.y):k.current&&(W=k.current.x,Y=k.current.y);const Z=R.borderLocation,Q=Z.left+z/2,re=Z.right-z/2,me=Z.top+U/2,Ee=Z.bottom-U/2;W=Math.max(Q,Math.min(W,re)),Y=Math.max(me,Math.min(Y,Ee));const Ne=T(Z);let Me=Number.POSITIVE_INFINITY,Ae=null,Ie=null;for(const bt in R.snapAreas)if(R.snapAreas[bt]){const pt=Ne[bt];if(!pt)continue;const fe=Math.hypot(pt.x-W,pt.y-Y);fe<Me&&(Me=fe,Ae=bt,Ie=pt)}if(Ae&&Ie&&Me<=y){v(Ae);const bt=(Ie.x-G)/K,pt=(Ie.y-q)/B;p.current={x:bt,y:pt}}else{v(null);const bt=(W-G)/K,pt=(Y-q)/B;p.current={x:bt,y:pt}}}}u.current=null,f.current=!1,console.log("Stop moving"),window.removeEventListener("mousemove",P,{capture:!0}),window.removeEventListener("mouseup",I,{capture:!0}),n.current&&(n.current.style.userSelect=""),document.body.style.userSelect="",document.body.style.cursor=""},[_,y]),P=ot(O=>{var j;if(!u.current)return;Math.hypot(O.clientX-u.current.x,O.clientY-u.current.y)>m&&!f.current&&(f.current=!0,n.current&&(n.current.style.userSelect="none"),document.body.style.userSelect="none",document.body.style.cursor="grabbing",x&&x(),(j=r.current)!=null&&j.emitDragStart&&r.current.emitDragStart(),requestAnimationFrame(N),console.log("Start dragging")),h.current={x:O.clientX,y:O.clientY}},[m,x,N]),D=ot(O=>{if(console.log("Mouse down on draggable/handle area"),O.button!==0)return;const j=i.current,M=n.current;if(j){if(!j.contains(O.target)&&O.target!==j){console.log("Mousedown was not on the handle element or its children. Current target:",O.target,"Expected handle:",j,"Ignoring drag start.");return}}else if(M){if(!M.contains(O.target)&&O.target!==M){console.log("Mousedown was not on the draggable item or its children (no handle specified). Current target:",O.target,"Expected draggable item:",M,"Ignoring drag start.");return}}else{console.error("Draggable element or handle ref not set in mouseDownHandler");return}if(console.log("Valid drag target. Proceeding with drag setup."),u.current={x:O.clientX,y:O.clientY},!n.current){console.error("Draggable element ref not set in mouseDownHandler");return}const R=n.current.getBoundingClientRect(),z=R.left+R.width/2,U=R.top+R.height/2;c.current={x:O.clientX-z,y:O.clientY-U},window.addEventListener("mousemove",P,{capture:!0}),window.addEventListener("mouseup",I,{capture:!0})},[P,I]);Fr(()=>{const O=o||a;return O&&O.addEventListener("mousedown",D),()=>{O&&O.removeEventListener("mousedown",D),f.current&&(_&&_(),f.current=!1,a&&(a.style.userSelect=""),document.body.style.userSelect="",document.body.style.cursor="",window.removeEventListener("mousemove",P,{capture:!0}),window.removeEventListener("mouseup",I,{capture:!0}))}},[a,o,D,_,P,I]),Fr(()=>{a&&p.current&&!f.current&&requestAnimationFrame(N)},[a,t,p,N]);const $=ot(O=>{s(O),n.current=O},[]),L=ot(O=>{l(O),i.current=O},[]);return{draggableRef:$,handleRef:L,position:{snapArea:g,isTopHalf:p.current?p.current.y<=.5:!0,isLeftHalf:p.current?p.current.x<=.5:!0}}}function Tmt(){const e=zn(y6),t=e==null?void 0:e.borderLocation,r=!!t&&t.right-t.left>0&&t.bottom-t.top>0,n=Emt({startThreshold:10,initialSnapArea:"bottomCenter"});return r?De("div",{ref:n.draggableRef,className:"pointer-events-auto absolute p-0.5",children:De("div",{className:"pointer-events-auto flex w-96 max-w-[80vw] flex-col items-start justify-center rounded-3xl border border-border/30 border-solid bg-zinc-50/80 p-0 shadow-lg backdrop-blur-lg transition-colors",children:[De(Qgt,{}),De("div",{ref:n.handleRef,className:"flex w-full flex-row items-center justify-center rounded-3xl border-border/30 border-t bg-background/40 p-1.5 shadow-lg transition-colors first:border-none",children:[De(ymt,{}),De(Cmt,{})]})]})}):null}function Nmt(){const e=St(null);return De("div",{className:"absolute size-full",children:De("div",{className:"absolute inset-4",ref:e,children:De(kmt,{containerRef:e,snapAreas:{topLeft:!0,topCenter:!0,topRight:!0,centerLeft:!0,center:!0,centerRight:!0,bottomLeft:!0,bottomCenter:!0,bottomRight:!0},children:De(Tmt,{})})})})}const Amt=({color:e="default",loading:t=!1,loadingSpeed:r="slow",...n})=>{const i={default:"fill-stagewise-700 stroke-none",black:"fill-zinc-950 stroke-none",white:"fill-white stroke-none",gray:"fill-zinc-500/50 stroke-none",current:"fill-current stroke-none",gradient:"fill-white stroke-black/30 stroke-1"};return De("div",{className:`relative ${e==="gradient"?"overflow-hidden rounded-full":"overflow-visible"} ${n.className||""} ${t?"drop-shadow-xl":""} aspect-square`,children:[e==="gradient"&&De("div",{className:"absolute inset-0",children:[De("div",{className:"absolute inset-0 size-full bg-gradient-to-tr from-indigo-700 via-blue-500 to-teal-500"}),De("div",{className:"absolute top-1/2 left-1/2 size-9/12 bg-[radial-gradient(circle,rgba(219,39,119,0.2)_0%,rgba(219,39,119,0)_100%)]"}),De("div",{className:"absolute right-1/2 bottom-1/2 size-full bg-[radial-gradient(circle,rgba(219,39,119,0.2)_0%,rgba(219,39,119,0)_100%)]"}),De("div",{className:"absolute top-0 left-[-10%] size-[120%] bg-[radial-gradient(circle,rgba(255,255,255,0)_60%,rgba(255,255,255,0.2)_70%)]"}),De("div",{className:"absolute top-[-20%] left-0 h-[120%] w-full bg-[radial-gradient(circle,rgba(55,48,163,0)_55%,rgba(55,48,163,0.35)_73%)]"})]}),De("svg",{className:`absolute overflow-visible ${e==="gradient"?"top-[25%] left-[25%] h-[50%] w-[50%] drop-shadow-indigo-950 drop-shadow-xs":"top-0 left-0 h-full w-full"}`,viewBox:"0 0 2048 2048",children:[De("title",{children:"stagewise"}),De("ellipse",{className:i[e]+(t?" animate-pulse":""),id:"path3",ry:"624",rx:"624",cy:"1024",cx:"1024"})]}),De("svg",{className:`absolute overflow-visible ${e==="gradient"?"top-[25%] left-[25%] h-[50%] w-[50%]":"top-0 left-0 h-full w-full"}`,viewBox:"0 0 2048 2048",children:De("path",{id:"path4",className:`origin-center ${i[e]}${t?r==="fast"?" animate-spin-fast":" animate-spin-slow":""}`,d:"M 1024 0 A 1024 1024 0 0 0 0 1024 A 1024 1024 0 0 0 1024 2048 L 1736 2048 L 1848 2048 C 1958.7998 2048 2048 1958.7998 2048 1848 L 2048 1736 L 2048 1024 A 1024 1024 0 0 0 1024 0 z M 1024.9414 200 A 824 824 0 0 1 1848.9414 1024 A 824 824 0 0 1 1024.9414 1848 A 824 824 0 0 1 200.94141 1024 A 824 824 0 0 1 1024.9414 200 z "})})]})};function jmt(){const e=C1(t=>t.expand);return De("button",{type:"button",onClick:()=>e(),className:"pointer-events-auto absolute bottom-3 left-3 size-12 rounded-full bg-transparent opacity-80 shadow-sm transition-all duration-500 hover:opacity-100 hover:shadow-lg",children:De(Amt,{color:"gradient"})})}function Rmt(e){const t=St(null),r=ot(a=>{if(a.target.closest(".companion"))return;const o=Zdt(a.clientX,a.clientY);e.ignoreList.includes(o)||t.current!==o&&(t.current=o,e.onElementHovered(o))},[e]),n=ot(()=>{t.current=null,e.onElementUnhovered()},[e]),i=ot(()=>{t.current&&(e.ignoreList.includes(t.current)||e.onElementSelected(t.current))},[e]);return De("div",{className:"pointer-events-auto fixed inset-0 h-screen w-screen",onMouseMove:r,onMouseLeave:n,onClick:i,role:"button",tabIndex:0})}function Tve(){const[e,t]=pr({width:window.innerWidth,height:window.innerHeight}),r=ot(()=>t({width:window.innerWidth,height:window.innerHeight}),[]);return wN("resize",r),e}function Imt({refElement:e,...t}){const r=St(null),n=Tve(),i=ot(()=>{if(r.current)if(e){const a=e.getBoundingClientRect();r.current.style.top=`${a.top}px`,r.current.style.left=`${a.left}px`,r.current.style.width=`${a.width}px`,r.current.style.height=`${a.height}px`,r.current.style.display=void 0}else r.current.style.height="0px",r.current.style.width="0px",r.current.style.top=`${n.height/2}px`,r.current.style.left=`${n.width/2}px`,r.current.style.display="none"},[e,n.height,n.width]);return ZF(i,30),De("div",{...t,className:"fixed flex items-center justify-center overflow-hidden rounded-lg border-2 border-blue-600/80 bg-blue-600/20 text-white backdrop-blur-xs transition-all duration-100",ref:r,children:De(bve,{className:"size-6 drop-shadow-black drop-shadow-md"})})}function Mmt({refElement:e,...t}){const r=St(null),n=Tve(),i=ot(()=>{if(r.current)if(e){const o=e.getBoundingClientRect();r.current.style.top=`${o.top}px`,r.current.style.left=`${o.left}px`,r.current.style.width=`${o.width}px`,r.current.style.height=`${o.height}px`,r.current.style.display=void 0}else r.current.style.height="0px",r.current.style.width="0px",r.current.style.top=`${n.height/2}px`,r.current.style.left=`${n.width/2}px`,r.current.style.display="none"},[e,n.height,n.width]);ZF(i,30);const a=pg(),s=ot(()=>{a.removeChatDomContext(a.currentChatId,e)},[a,e]);return De("div",{...t,className:"pointer-events-auto fixed flex cursor-pointer items-center justify-center overflow-hidden rounded-lg border-2 border-green-600/80 bg-green-600/5 text-transparent transition-all duration-0 hover:border-red-600/80 hover:bg-red-600/20 hover:text-white hover:backdrop-blur-sm",ref:r,onClick:s,role:"button",tabIndex:0,children:De(Jgt,{className:"size-6 drop-shadow-black drop-shadow-md"})})}function Pmt(){const{chats:e,currentChatId:t,addChatDomContext:r,isPromptCreationActive:n}=pg(),i=Ht(()=>e.find(u=>u.id===t),[t,e]),a=n,s=Ht(()=>(i==null?void 0:i.domContextElements)||[],[i]),[o,l]=pr(null),c=ot(u=>{r(t,u)},[r,t]);return a?De(bi,{children:[o&&De(Imt,{refElement:o}),De(Rmt,{ignoreList:s,onElementHovered:l,onElementSelected:c,onElementUnhovered:()=>l(null)}),s.map(u=>De(Mmt,{refElement:u}))]}):null}function Lmt(){const e=C1(t=>t.minimized);return De("div",{className:jo("fixed inset-0 h-screen w-screen"),children:[De(Pmt,{}),!e&&De(Nmt,{}),e&&De(jmt,{})]})}function Dmt(e){return De("div",{className:jo(typeof e.enable>"u"||e.enable?"pointer-events-auto":"pointer-events-none",e.className),onClick:e.onClick,role:"button",tabIndex:0})}function Omt(){const e=St(!1);return Fr(()=>{const t=HTMLElement.prototype.focus;return HTMLElement.prototype.focus=function(...r){const n=this.getRootNode();!(n instanceof ShadowRoot&&n.host instanceof HTMLElement&&n.host.nodeName==="STAGEWISE-COMPANION-ANCHOR")&&e.current||t.apply(this,r)},()=>{HTMLElement.prototype.focus=t}},[]),wN("focusin",t=>{t.target.localName===ww&&(e.current=!0)},{capture:!0}),wN("focusout",t=>{t.target.localName===ww&&(e.current=!1)},{capture:!0}),null}function $mt({children:e}){return e}function Bmt(e){const t=C1(r=>r.isMainAppBlocked);return De(bi,{children:[De(Omt,{}),De(Dmt,{className:"fixed inset-0 h-screen w-screen",enable:t}),De(mdt,{config:e,children:[De(eht,{}),De($mt,{children:De(Lmt,{})})]})]})}function Fmt(e){if(!document.body)throw new Error("stagewise companion cannot find document.body");if(document.body.querySelector(ww))throw console.warn("A stagewise companion anchor already exists. Aborting this instance."),new Error("A stagewise companion anchor already exists.");const t=document.createElement(ww);t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.right="0px",t.style.bottom="0px",t.style.pointerEvents="none",t.style.zIndex="2147483647";const r=a=>{a.stopPropagation()};t.onclick=r,t.onmousedown=r,t.onmouseup=r,t.onmousemove=r,t.ondblclick=r,t.oncontextmenu=r,t.onwheel=r,t.onfocus=r,t.onblur=r,document.body.appendChild(t);const n=document.createElement("link");n.rel="stylesheet",n.href="https://rsms.me/inter/inter.css",document.head.appendChild(n);const i=document.createElement("style");i.append(document.createTextNode(Dlt)),document.head.appendChild(i),Wv(na(Bmt,e),t)}function zmt({config:e}){const t=A.useRef(!1);return A.useEffect(()=>{t.current||(t.current=!0,Fmt(e))},[e]),null}window.addEventListener("error",e=>{console.error("Global error caught:",e.error)});window.addEventListener("unhandledrejection",e=>{console.error("Unhandled Promise rejection:",e.reason)});{const e=document.createElement("div");e.id="stagewise-toolbar-container",document.body.appendChild(e);const t={plugins:[]};cE.createRoot(e).render(d.jsx(zmt,{config:t}))}cE.createRoot(document.getElementById("root")).render(d.jsx(en.StrictMode,{children:d.jsx(t_e,{children:d.jsx(Tlt,{})})}));export{t0 as g};
