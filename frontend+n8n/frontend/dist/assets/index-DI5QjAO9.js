var Gge=Object.defineProperty;var qge=(e,t,r)=>t in e?Gge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var xn=(e,t,r)=>qge(e,typeof t!="symbol"?t+"":t,r);function Yge(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var cs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Kge(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var NZ={exports:{}},MT={},AZ={exports:{}},Tr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db=Symbol.for("react.element"),Zge=Symbol.for("react.portal"),Xge=Symbol.for("react.fragment"),Jge=Symbol.for("react.strict_mode"),Qge=Symbol.for("react.profiler"),eme=Symbol.for("react.provider"),tme=Symbol.for("react.context"),rme=Symbol.for("react.forward_ref"),nme=Symbol.for("react.suspense"),ime=Symbol.for("react.memo"),sme=Symbol.for("react.lazy"),a6=Symbol.iterator;function ame(e){return e===null||typeof e!="object"?null:(e=a6&&e[a6]||e["@@iterator"],typeof e=="function"?e:null)}var jZ={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RZ=Object.assign,IZ={};function wv(e,t,r){this.props=e,this.context=t,this.refs=IZ,this.updater=r||jZ}wv.prototype.isReactComponent={};wv.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wv.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function MZ(){}MZ.prototype=wv.prototype;function PO(e,t,r){this.props=e,this.context=t,this.refs=IZ,this.updater=r||jZ}var LO=PO.prototype=new MZ;LO.constructor=PO;RZ(LO,wv.prototype);LO.isPureReactComponent=!0;var o6=Array.isArray,PZ=Object.prototype.hasOwnProperty,DO={current:null},LZ={key:!0,ref:!0,__self:!0,__source:!0};function DZ(e,t,r){var n,i={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)PZ.call(t,n)&&!LZ.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Db,type:e,key:s,ref:a,props:i,_owner:DO.current}}function ome(e,t){return{$$typeof:Db,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function OO(e){return typeof e=="object"&&e!==null&&e.$$typeof===Db}function lme(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var l6=/\/+/g;function V2(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lme(""+e.key):t.toString(36)}function xC(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Db:case Zge:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+V2(a,0):n,o6(i)?(r="",e!=null&&(r=e.replace(l6,"$&/")+"/"),xC(i,t,r,"",function(c){return c})):i!=null&&(OO(i)&&(i=ome(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(l6,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",o6(e))for(var o=0;o<e.length;o++){s=e[o];var l=n+V2(s,o);a+=xC(s,t,r,l,i)}else if(l=ame(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=n+V2(s,o++),a+=xC(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function c1(e,t,r){if(e==null)return e;var n=[],i=0;return xC(e,n,"","",function(s){return t.call(r,s,i++)}),n}function cme(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Us={current:null},_C={transition:null},ume={ReactCurrentDispatcher:Us,ReactCurrentBatchConfig:_C,ReactCurrentOwner:DO};function OZ(){throw Error("act(...) is not supported in production builds of React.")}Tr.Children={map:c1,forEach:function(e,t,r){c1(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return c1(e,function(){t++}),t},toArray:function(e){return c1(e,function(t){return t})||[]},only:function(e){if(!OO(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Tr.Component=wv;Tr.Fragment=Xge;Tr.Profiler=Qge;Tr.PureComponent=PO;Tr.StrictMode=Jge;Tr.Suspense=nme;Tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ume;Tr.act=OZ;Tr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=RZ({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=DO.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)PZ.call(t,l)&&!LZ.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Db,type:e.type,key:i,ref:s,props:n,_owner:a}};Tr.createContext=function(e){return e={$$typeof:tme,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:eme,_context:e},e.Consumer=e};Tr.createElement=DZ;Tr.createFactory=function(e){var t=DZ.bind(null,e);return t.type=e,t};Tr.createRef=function(){return{current:null}};Tr.forwardRef=function(e){return{$$typeof:rme,render:e}};Tr.isValidElement=OO;Tr.lazy=function(e){return{$$typeof:sme,_payload:{_status:-1,_result:e},_init:cme}};Tr.memo=function(e,t){return{$$typeof:ime,type:e,compare:t===void 0?null:t}};Tr.startTransition=function(e){var t=_C.transition;_C.transition={};try{e()}finally{_C.transition=t}};Tr.unstable_act=OZ;Tr.useCallback=function(e,t){return Us.current.useCallback(e,t)};Tr.useContext=function(e){return Us.current.useContext(e)};Tr.useDebugValue=function(){};Tr.useDeferredValue=function(e){return Us.current.useDeferredValue(e)};Tr.useEffect=function(e,t){return Us.current.useEffect(e,t)};Tr.useId=function(){return Us.current.useId()};Tr.useImperativeHandle=function(e,t,r){return Us.current.useImperativeHandle(e,t,r)};Tr.useInsertionEffect=function(e,t){return Us.current.useInsertionEffect(e,t)};Tr.useLayoutEffect=function(e,t){return Us.current.useLayoutEffect(e,t)};Tr.useMemo=function(e,t){return Us.current.useMemo(e,t)};Tr.useReducer=function(e,t,r){return Us.current.useReducer(e,t,r)};Tr.useRef=function(e){return Us.current.useRef(e)};Tr.useState=function(e){return Us.current.useState(e)};Tr.useSyncExternalStore=function(e,t,r){return Us.current.useSyncExternalStore(e,t,r)};Tr.useTransition=function(){return Us.current.useTransition()};Tr.version="18.3.1";AZ.exports=Tr;var A=AZ.exports;const Wr=bv(A),PT=Yge({__proto__:null,default:Wr},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dme=A,hme=Symbol.for("react.element"),fme=Symbol.for("react.fragment"),pme=Object.prototype.hasOwnProperty,gme=dme.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mme={key:!0,ref:!0,__self:!0,__source:!0};function $Z(e,t,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)pme.call(t,n)&&!mme.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:hme,type:e,key:s,ref:a,props:i,_owner:gme.current}}MT.Fragment=fme;MT.jsx=$Z;MT.jsxs=$Z;NZ.exports=MT;var u=NZ.exports,rM={},BZ={exports:{}},La={},FZ={exports:{}},zZ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,M){var I=j.length;j.push(M);e:for(;0<I;){var z=I-1>>>1,U=j[z];if(0<i(U,M))j[z]=M,j[I]=U,I=z;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var M=j[0],I=j.pop();if(I!==M){j[0]=I;e:for(var z=0,U=j.length,F=U>>>1;z<F;){var G=2*(z+1)-1,Y=j[G],Z=G+1,B=j[Z];if(0>i(Y,I))Z<U&&0>i(B,Y)?(j[z]=B,j[Z]=I,z=Z):(j[z]=Y,j[G]=I,z=G);else if(Z<U&&0>i(B,I))j[z]=B,j[Z]=I,z=Z;else break e}}return M}function i(j,M){var I=j.sortIndex-M.sortIndex;return I!==0?I:j.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,h=null,f=3,p=!1,g=!1,v=!1,m=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(j){for(var M=r(c);M!==null;){if(M.callback===null)n(c);else if(M.startTime<=j)n(c),M.sortIndex=M.expirationTime,t(l,M);else break;M=r(c)}}function b(j){if(v=!1,_(j),!g)if(r(l)!==null)g=!0,L(w);else{var M=r(c);M!==null&&O(b,M.startTime-j)}}function w(j,M){g=!1,v&&(v=!1,y(C),C=-1),p=!0;var I=f;try{for(_(M),h=r(l);h!==null&&(!(h.expirationTime>M)||j&&!N());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var U=z(h.expirationTime<=M);M=e.unstable_now(),typeof U=="function"?h.callback=U:h===r(l)&&n(l),_(M)}else n(l);h=r(l)}if(h!==null)var F=!0;else{var G=r(c);G!==null&&O(b,G.startTime-M),F=!1}return F}finally{h=null,f=I,p=!1}}var S=!1,k=null,C=-1,E=5,T=-1;function N(){return!(e.unstable_now()-T<E)}function R(){if(k!==null){var j=e.unstable_now();T=j;var M=!0;try{M=k(!0,j)}finally{M?P():(S=!1,k=null)}}else S=!1}var P;if(typeof x=="function")P=function(){x(R)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,$=D.port2;D.port1.onmessage=R,P=function(){$.postMessage(null)}}else P=function(){m(R,0)};function L(j){k=j,S||(S=!0,P())}function O(j,M){C=m(function(){j(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,L(w))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(j){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var I=f;f=M;try{return j()}finally{f=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,M){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var I=f;f=j;try{return M()}finally{f=I}},e.unstable_scheduleCallback=function(j,M,I){var z=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?z+I:z):I=z,j){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=I+U,j={id:d++,callback:M,priorityLevel:j,startTime:I,expirationTime:U,sortIndex:-1},I>z?(j.sortIndex=I,t(c,j),r(l)===null&&j===r(c)&&(v?(y(C),C=-1):v=!0,O(b,I-z))):(j.sortIndex=U,t(l,j),g||p||(g=!0,L(w))),j},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(j){var M=f;return function(){var I=f;f=M;try{return j.apply(this,arguments)}finally{f=I}}}})(zZ);FZ.exports=zZ;var vme=FZ.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yme=A,Pa=vme;function Le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UZ=new Set,t_={};function Sp(e,t){Om(e,t),Om(e+"Capture",t)}function Om(e,t){for(t_[e]=t,e=0;e<t.length;e++)UZ.add(t[e])}var eu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nM=Object.prototype.hasOwnProperty,xme=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c6={},u6={};function _me(e){return nM.call(u6,e)?!0:nM.call(c6,e)?!1:xme.test(e)?u6[e]=!0:(c6[e]=!0,!1)}function bme(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wme(e,t,r,n){if(t===null||typeof t>"u"||bme(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Hs(e,t,r,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Gi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Gi[e]=new Hs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Gi[t]=new Hs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Gi[e]=new Hs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Gi[e]=new Hs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Gi[e]=new Hs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Gi[e]=new Hs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Gi[e]=new Hs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Gi[e]=new Hs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Gi[e]=new Hs(e,5,!1,e.toLowerCase(),null,!1,!1)});var $O=/[\-:]([a-z])/g;function BO(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($O,BO);Gi[t]=new Hs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($O,BO);Gi[t]=new Hs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($O,BO);Gi[t]=new Hs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Gi[e]=new Hs(e,1,!1,e.toLowerCase(),null,!1,!1)});Gi.xlinkHref=new Hs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Gi[e]=new Hs(e,1,!1,e.toLowerCase(),null,!0,!0)});function FO(e,t,r,n){var i=Gi.hasOwnProperty(t)?Gi[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wme(t,r,i,n)&&(r=null),n||i===null?_me(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var _u=yme.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u1=Symbol.for("react.element"),Vg=Symbol.for("react.portal"),Wg=Symbol.for("react.fragment"),zO=Symbol.for("react.strict_mode"),iM=Symbol.for("react.profiler"),HZ=Symbol.for("react.provider"),VZ=Symbol.for("react.context"),UO=Symbol.for("react.forward_ref"),sM=Symbol.for("react.suspense"),aM=Symbol.for("react.suspense_list"),HO=Symbol.for("react.memo"),Xu=Symbol.for("react.lazy"),WZ=Symbol.for("react.offscreen"),d6=Symbol.iterator;function F0(e){return e===null||typeof e!="object"?null:(e=d6&&e[d6]||e["@@iterator"],typeof e=="function"?e:null)}var Yn=Object.assign,W2;function By(e){if(W2===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);W2=t&&t[1]||""}return`
`+W2+e}var G2=!1;function q2(e,t){if(!e||G2)return"";G2=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{G2=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?By(e):""}function Sme(e){switch(e.tag){case 5:return By(e.type);case 16:return By("Lazy");case 13:return By("Suspense");case 19:return By("SuspenseList");case 0:case 2:case 15:return e=q2(e.type,!1),e;case 11:return e=q2(e.type.render,!1),e;case 1:return e=q2(e.type,!0),e;default:return""}}function oM(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wg:return"Fragment";case Vg:return"Portal";case iM:return"Profiler";case zO:return"StrictMode";case sM:return"Suspense";case aM:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case VZ:return(e.displayName||"Context")+".Consumer";case HZ:return(e._context.displayName||"Context")+".Provider";case UO:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case HO:return t=e.displayName||null,t!==null?t:oM(e.type)||"Memo";case Xu:t=e._payload,e=e._init;try{return oM(e(t))}catch{}}return null}function Cme(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oM(t);case 8:return t===zO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fd(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function GZ(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kme(e){var t=GZ(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function d1(e){e._valueTracker||(e._valueTracker=kme(e))}function qZ(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=GZ(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function gk(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lM(e,t){var r=t.checked;return Yn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function h6(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Fd(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function YZ(e,t){t=t.checked,t!=null&&FO(e,"checked",t,!1)}function cM(e,t){YZ(e,t);var r=Fd(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?uM(e,t.type,r):t.hasOwnProperty("defaultValue")&&uM(e,t.type,Fd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function f6(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function uM(e,t,r){(t!=="number"||gk(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Fy=Array.isArray;function gm(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Fd(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function dM(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Le(91));return Yn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function p6(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Le(92));if(Fy(r)){if(1<r.length)throw Error(Le(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Fd(r)}}function KZ(e,t){var r=Fd(t.value),n=Fd(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function g6(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ZZ(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hM(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ZZ(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var h1,XZ=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(h1=h1||document.createElement("div"),h1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=h1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function r_(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var gx={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Eme=["Webkit","ms","Moz","O"];Object.keys(gx).forEach(function(e){Eme.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gx[t]=gx[e]})});function JZ(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||gx.hasOwnProperty(e)&&gx[e]?(""+t).trim():t+"px"}function QZ(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=JZ(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Tme=Yn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fM(e,t){if(t){if(Tme[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Le(62))}}function pM(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gM=null;function VO(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mM=null,mm=null,vm=null;function m6(e){if(e=Bb(e)){if(typeof mM!="function")throw Error(Le(280));var t=e.stateNode;t&&(t=BT(t),mM(e.stateNode,e.type,t))}}function eX(e){mm?vm?vm.push(e):vm=[e]:mm=e}function tX(){if(mm){var e=mm,t=vm;if(vm=mm=null,m6(e),t)for(e=0;e<t.length;e++)m6(t[e])}}function rX(e,t){return e(t)}function nX(){}var Y2=!1;function iX(e,t,r){if(Y2)return e(t,r);Y2=!0;try{return rX(e,t,r)}finally{Y2=!1,(mm!==null||vm!==null)&&(nX(),tX())}}function n_(e,t){var r=e.stateNode;if(r===null)return null;var n=BT(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Le(231,t,typeof r));return r}var vM=!1;if(eu)try{var z0={};Object.defineProperty(z0,"passive",{get:function(){vM=!0}}),window.addEventListener("test",z0,z0),window.removeEventListener("test",z0,z0)}catch{vM=!1}function Nme(e,t,r,n,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var mx=!1,mk=null,vk=!1,yM=null,Ame={onError:function(e){mx=!0,mk=e}};function jme(e,t,r,n,i,s,a,o,l){mx=!1,mk=null,Nme.apply(Ame,arguments)}function Rme(e,t,r,n,i,s,a,o,l){if(jme.apply(this,arguments),mx){if(mx){var c=mk;mx=!1,mk=null}else throw Error(Le(198));vk||(vk=!0,yM=c)}}function Cp(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function sX(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v6(e){if(Cp(e)!==e)throw Error(Le(188))}function Ime(e){var t=e.alternate;if(!t){if(t=Cp(e),t===null)throw Error(Le(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return v6(i),e;if(s===n)return v6(i),t;s=s.sibling}throw Error(Le(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(Le(189))}}if(r.alternate!==n)throw Error(Le(190))}if(r.tag!==3)throw Error(Le(188));return r.stateNode.current===r?e:t}function aX(e){return e=Ime(e),e!==null?oX(e):null}function oX(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oX(e);if(t!==null)return t;e=e.sibling}return null}var lX=Pa.unstable_scheduleCallback,y6=Pa.unstable_cancelCallback,Mme=Pa.unstable_shouldYield,Pme=Pa.unstable_requestPaint,ni=Pa.unstable_now,Lme=Pa.unstable_getCurrentPriorityLevel,WO=Pa.unstable_ImmediatePriority,cX=Pa.unstable_UserBlockingPriority,yk=Pa.unstable_NormalPriority,Dme=Pa.unstable_LowPriority,uX=Pa.unstable_IdlePriority,LT=null,Gl=null;function Ome(e){if(Gl&&typeof Gl.onCommitFiberRoot=="function")try{Gl.onCommitFiberRoot(LT,e,void 0,(e.current.flags&128)===128)}catch{}}var qo=Math.clz32?Math.clz32:Fme,$me=Math.log,Bme=Math.LN2;function Fme(e){return e>>>=0,e===0?32:31-($me(e)/Bme|0)|0}var f1=64,p1=4194304;function zy(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xk(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=zy(o):(s&=a,s!==0&&(n=zy(s)))}else a=r&~i,a!==0?n=zy(a):s!==0&&(n=zy(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-qo(t),i=1<<r,n|=e[r],t&=~i;return n}function zme(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ume(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-qo(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=zme(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function xM(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dX(){var e=f1;return f1<<=1,!(f1&4194240)&&(f1=64),e}function K2(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ob(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qo(t),e[t]=r}function Hme(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-qo(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function GO(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-qo(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var hn=0;function hX(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fX,qO,pX,gX,mX,_M=!1,g1=[],wd=null,Sd=null,Cd=null,i_=new Map,s_=new Map,id=[],Vme="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function x6(e,t){switch(e){case"focusin":case"focusout":wd=null;break;case"dragenter":case"dragleave":Sd=null;break;case"mouseover":case"mouseout":Cd=null;break;case"pointerover":case"pointerout":i_.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":s_.delete(t.pointerId)}}function U0(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Bb(t),t!==null&&qO(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Wme(e,t,r,n,i){switch(t){case"focusin":return wd=U0(wd,e,t,r,n,i),!0;case"dragenter":return Sd=U0(Sd,e,t,r,n,i),!0;case"mouseover":return Cd=U0(Cd,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return i_.set(s,U0(i_.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,s_.set(s,U0(s_.get(s)||null,e,t,r,n,i)),!0}return!1}function vX(e){var t=gf(e.target);if(t!==null){var r=Cp(t);if(r!==null){if(t=r.tag,t===13){if(t=sX(r),t!==null){e.blockedOn=t,mX(e.priority,function(){pX(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bC(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=bM(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);gM=n,r.target.dispatchEvent(n),gM=null}else return t=Bb(r),t!==null&&qO(t),e.blockedOn=r,!1;t.shift()}return!0}function _6(e,t,r){bC(e)&&r.delete(t)}function Gme(){_M=!1,wd!==null&&bC(wd)&&(wd=null),Sd!==null&&bC(Sd)&&(Sd=null),Cd!==null&&bC(Cd)&&(Cd=null),i_.forEach(_6),s_.forEach(_6)}function H0(e,t){e.blockedOn===t&&(e.blockedOn=null,_M||(_M=!0,Pa.unstable_scheduleCallback(Pa.unstable_NormalPriority,Gme)))}function a_(e){function t(i){return H0(i,e)}if(0<g1.length){H0(g1[0],e);for(var r=1;r<g1.length;r++){var n=g1[r];n.blockedOn===e&&(n.blockedOn=null)}}for(wd!==null&&H0(wd,e),Sd!==null&&H0(Sd,e),Cd!==null&&H0(Cd,e),i_.forEach(t),s_.forEach(t),r=0;r<id.length;r++)n=id[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<id.length&&(r=id[0],r.blockedOn===null);)vX(r),r.blockedOn===null&&id.shift()}var ym=_u.ReactCurrentBatchConfig,_k=!0;function qme(e,t,r,n){var i=hn,s=ym.transition;ym.transition=null;try{hn=1,YO(e,t,r,n)}finally{hn=i,ym.transition=s}}function Yme(e,t,r,n){var i=hn,s=ym.transition;ym.transition=null;try{hn=4,YO(e,t,r,n)}finally{hn=i,ym.transition=s}}function YO(e,t,r,n){if(_k){var i=bM(e,t,r,n);if(i===null)sA(e,t,n,bk,r),x6(e,n);else if(Wme(i,e,t,r,n))n.stopPropagation();else if(x6(e,n),t&4&&-1<Vme.indexOf(e)){for(;i!==null;){var s=Bb(i);if(s!==null&&fX(s),s=bM(e,t,r,n),s===null&&sA(e,t,n,bk,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else sA(e,t,n,null,r)}}var bk=null;function bM(e,t,r,n){if(bk=null,e=VO(n),e=gf(e),e!==null)if(t=Cp(e),t===null)e=null;else if(r=t.tag,r===13){if(e=sX(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bk=e,null}function yX(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lme()){case WO:return 1;case cX:return 4;case yk:case Dme:return 16;case uX:return 536870912;default:return 16}default:return 16}}var ld=null,KO=null,wC=null;function xX(){if(wC)return wC;var e,t=KO,r=t.length,n,i="value"in ld?ld.value:ld.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[s-n];n++);return wC=i.slice(e,1<n?1-n:void 0)}function SC(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function m1(){return!0}function b6(){return!1}function Da(e){function t(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?m1:b6,this.isPropagationStopped=b6,this}return Yn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=m1)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=m1)},persist:function(){},isPersistent:m1}),t}var Sv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ZO=Da(Sv),$b=Yn({},Sv,{view:0,detail:0}),Kme=Da($b),Z2,X2,V0,DT=Yn({},$b,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:XO,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==V0&&(V0&&e.type==="mousemove"?(Z2=e.screenX-V0.screenX,X2=e.screenY-V0.screenY):X2=Z2=0,V0=e),Z2)},movementY:function(e){return"movementY"in e?e.movementY:X2}}),w6=Da(DT),Zme=Yn({},DT,{dataTransfer:0}),Xme=Da(Zme),Jme=Yn({},$b,{relatedTarget:0}),J2=Da(Jme),Qme=Yn({},Sv,{animationName:0,elapsedTime:0,pseudoElement:0}),eve=Da(Qme),tve=Yn({},Sv,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rve=Da(tve),nve=Yn({},Sv,{data:0}),S6=Da(nve),ive={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sve={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ave={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ove(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ave[e])?!!t[e]:!1}function XO(){return ove}var lve=Yn({},$b,{key:function(e){if(e.key){var t=ive[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=SC(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sve[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:XO,charCode:function(e){return e.type==="keypress"?SC(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?SC(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cve=Da(lve),uve=Yn({},DT,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C6=Da(uve),dve=Yn({},$b,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:XO}),hve=Da(dve),fve=Yn({},Sv,{propertyName:0,elapsedTime:0,pseudoElement:0}),pve=Da(fve),gve=Yn({},DT,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mve=Da(gve),vve=[9,13,27,32],JO=eu&&"CompositionEvent"in window,vx=null;eu&&"documentMode"in document&&(vx=document.documentMode);var yve=eu&&"TextEvent"in window&&!vx,_X=eu&&(!JO||vx&&8<vx&&11>=vx),k6=" ",E6=!1;function bX(e,t){switch(e){case"keyup":return vve.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wX(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gg=!1;function xve(e,t){switch(e){case"compositionend":return wX(t);case"keypress":return t.which!==32?null:(E6=!0,k6);case"textInput":return e=t.data,e===k6&&E6?null:e;default:return null}}function _ve(e,t){if(Gg)return e==="compositionend"||!JO&&bX(e,t)?(e=xX(),wC=KO=ld=null,Gg=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _X&&t.locale!=="ko"?null:t.data;default:return null}}var bve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bve[e.type]:t==="textarea"}function SX(e,t,r,n){eX(n),t=wk(t,"onChange"),0<t.length&&(r=new ZO("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var yx=null,o_=null;function wve(e){PX(e,0)}function OT(e){var t=Kg(e);if(qZ(t))return e}function Sve(e,t){if(e==="change")return t}var CX=!1;if(eu){var Q2;if(eu){var eA="oninput"in document;if(!eA){var N6=document.createElement("div");N6.setAttribute("oninput","return;"),eA=typeof N6.oninput=="function"}Q2=eA}else Q2=!1;CX=Q2&&(!document.documentMode||9<document.documentMode)}function A6(){yx&&(yx.detachEvent("onpropertychange",kX),o_=yx=null)}function kX(e){if(e.propertyName==="value"&&OT(o_)){var t=[];SX(t,o_,e,VO(e)),iX(wve,t)}}function Cve(e,t,r){e==="focusin"?(A6(),yx=t,o_=r,yx.attachEvent("onpropertychange",kX)):e==="focusout"&&A6()}function kve(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return OT(o_)}function Eve(e,t){if(e==="click")return OT(t)}function Tve(e,t){if(e==="input"||e==="change")return OT(t)}function Nve(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var el=typeof Object.is=="function"?Object.is:Nve;function l_(e,t){if(el(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!nM.call(t,i)||!el(e[i],t[i]))return!1}return!0}function j6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function R6(e,t){var r=j6(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=j6(r)}}function EX(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?EX(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function TX(){for(var e=window,t=gk();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=gk(e.document)}return t}function QO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ave(e){var t=TX(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&EX(r.ownerDocument.documentElement,r)){if(n!==null&&QO(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=R6(r,s);var a=R6(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jve=eu&&"documentMode"in document&&11>=document.documentMode,qg=null,wM=null,xx=null,SM=!1;function I6(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;SM||qg==null||qg!==gk(n)||(n=qg,"selectionStart"in n&&QO(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xx&&l_(xx,n)||(xx=n,n=wk(wM,"onSelect"),0<n.length&&(t=new ZO("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=qg)))}function v1(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Yg={animationend:v1("Animation","AnimationEnd"),animationiteration:v1("Animation","AnimationIteration"),animationstart:v1("Animation","AnimationStart"),transitionend:v1("Transition","TransitionEnd")},tA={},NX={};eu&&(NX=document.createElement("div").style,"AnimationEvent"in window||(delete Yg.animationend.animation,delete Yg.animationiteration.animation,delete Yg.animationstart.animation),"TransitionEvent"in window||delete Yg.transitionend.transition);function $T(e){if(tA[e])return tA[e];if(!Yg[e])return e;var t=Yg[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in NX)return tA[e]=t[r];return e}var AX=$T("animationend"),jX=$T("animationiteration"),RX=$T("animationstart"),IX=$T("transitionend"),MX=new Map,M6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oh(e,t){MX.set(e,t),Sp(t,[e])}for(var rA=0;rA<M6.length;rA++){var nA=M6[rA],Rve=nA.toLowerCase(),Ive=nA[0].toUpperCase()+nA.slice(1);oh(Rve,"on"+Ive)}oh(AX,"onAnimationEnd");oh(jX,"onAnimationIteration");oh(RX,"onAnimationStart");oh("dblclick","onDoubleClick");oh("focusin","onFocus");oh("focusout","onBlur");oh(IX,"onTransitionEnd");Om("onMouseEnter",["mouseout","mouseover"]);Om("onMouseLeave",["mouseout","mouseover"]);Om("onPointerEnter",["pointerout","pointerover"]);Om("onPointerLeave",["pointerout","pointerover"]);Sp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sp("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mve=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uy));function P6(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Rme(n,t,void 0,e),e.currentTarget=null}function PX(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;P6(i,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;P6(i,o,c),s=l}}}if(vk)throw e=yM,vk=!1,yM=null,e}function Pn(e,t){var r=t[NM];r===void 0&&(r=t[NM]=new Set);var n=e+"__bubble";r.has(n)||(LX(t,e,2,!1),r.add(n))}function iA(e,t,r){var n=0;t&&(n|=4),LX(r,e,n,t)}var y1="_reactListening"+Math.random().toString(36).slice(2);function c_(e){if(!e[y1]){e[y1]=!0,UZ.forEach(function(r){r!=="selectionchange"&&(Mve.has(r)||iA(r,!1,e),iA(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[y1]||(t[y1]=!0,iA("selectionchange",!1,t))}}function LX(e,t,r,n){switch(yX(t)){case 1:var i=qme;break;case 4:i=Yme;break;default:i=YO}r=i.bind(null,t,r,e),i=void 0,!vM||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function sA(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=gf(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}iX(function(){var c=s,d=VO(r),h=[];e:{var f=MX.get(e);if(f!==void 0){var p=ZO,g=e;switch(e){case"keypress":if(SC(r)===0)break e;case"keydown":case"keyup":p=cve;break;case"focusin":g="focus",p=J2;break;case"focusout":g="blur",p=J2;break;case"beforeblur":case"afterblur":p=J2;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=w6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Xme;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=hve;break;case AX:case jX:case RX:p=eve;break;case IX:p=pve;break;case"scroll":p=Kme;break;case"wheel":p=mve;break;case"copy":case"cut":case"paste":p=rve;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=C6}var v=(t&4)!==0,m=!v&&e==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var x=c,_;x!==null;){_=x;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,y!==null&&(b=n_(x,y),b!=null&&v.push(u_(x,b,_)))),m)break;x=x.return}0<v.length&&(f=new p(f,g,null,r,d),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==gM&&(g=r.relatedTarget||r.fromElement)&&(gf(g)||g[tu]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?gf(g):null,g!==null&&(m=Cp(g),g!==m||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(v=w6,b="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=C6,b="onPointerLeave",y="onPointerEnter",x="pointer"),m=p==null?f:Kg(p),_=g==null?f:Kg(g),f=new v(b,x+"leave",p,r,d),f.target=m,f.relatedTarget=_,b=null,gf(d)===c&&(v=new v(y,x+"enter",g,r,d),v.target=_,v.relatedTarget=m,b=v),m=b,p&&g)t:{for(v=p,y=g,x=0,_=v;_;_=Xp(_))x++;for(_=0,b=y;b;b=Xp(b))_++;for(;0<x-_;)v=Xp(v),x--;for(;0<_-x;)y=Xp(y),_--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=Xp(v),y=Xp(y)}v=null}else v=null;p!==null&&L6(h,f,p,v,!1),g!==null&&m!==null&&L6(h,m,g,v,!0)}}e:{if(f=c?Kg(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var w=Sve;else if(T6(f))if(CX)w=Tve;else{w=kve;var S=Cve}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=Eve);if(w&&(w=w(e,c))){SX(h,w,r,d);break e}S&&S(e,f,c),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&uM(f,"number",f.value)}switch(S=c?Kg(c):window,e){case"focusin":(T6(S)||S.contentEditable==="true")&&(qg=S,wM=c,xx=null);break;case"focusout":xx=wM=qg=null;break;case"mousedown":SM=!0;break;case"contextmenu":case"mouseup":case"dragend":SM=!1,I6(h,r,d);break;case"selectionchange":if(jve)break;case"keydown":case"keyup":I6(h,r,d)}var k;if(JO)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Gg?bX(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(_X&&r.locale!=="ko"&&(Gg||C!=="onCompositionStart"?C==="onCompositionEnd"&&Gg&&(k=xX()):(ld=d,KO="value"in ld?ld.value:ld.textContent,Gg=!0)),S=wk(c,C),0<S.length&&(C=new S6(C,e,null,r,d),h.push({event:C,listeners:S}),k?C.data=k:(k=wX(r),k!==null&&(C.data=k)))),(k=yve?xve(e,r):_ve(e,r))&&(c=wk(c,"onBeforeInput"),0<c.length&&(d=new S6("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=k))}PX(h,t)})}function u_(e,t,r){return{instance:e,listener:t,currentTarget:r}}function wk(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=n_(e,r),s!=null&&n.unshift(u_(e,s,i)),s=n_(e,t),s!=null&&n.push(u_(e,s,i))),e=e.return}return n}function Xp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function L6(e,t,r,n,i){for(var s=t._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=n_(r,s),l!=null&&a.unshift(u_(r,l,o))):i||(l=n_(r,s),l!=null&&a.push(u_(r,l,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Pve=/\r\n?/g,Lve=/\u0000|\uFFFD/g;function D6(e){return(typeof e=="string"?e:""+e).replace(Pve,`
`).replace(Lve,"")}function x1(e,t,r){if(t=D6(t),D6(e)!==t&&r)throw Error(Le(425))}function Sk(){}var CM=null,kM=null;function EM(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var TM=typeof setTimeout=="function"?setTimeout:void 0,Dve=typeof clearTimeout=="function"?clearTimeout:void 0,O6=typeof Promise=="function"?Promise:void 0,Ove=typeof queueMicrotask=="function"?queueMicrotask:typeof O6<"u"?function(e){return O6.resolve(null).then(e).catch($ve)}:TM;function $ve(e){setTimeout(function(){throw e})}function aA(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),a_(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);a_(t)}function kd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Cv=Math.random().toString(36).slice(2),Pl="__reactFiber$"+Cv,d_="__reactProps$"+Cv,tu="__reactContainer$"+Cv,NM="__reactEvents$"+Cv,Bve="__reactListeners$"+Cv,Fve="__reactHandles$"+Cv;function gf(e){var t=e[Pl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[tu]||r[Pl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=$6(e);e!==null;){if(r=e[Pl])return r;e=$6(e)}return t}e=r,r=e.parentNode}return null}function Bb(e){return e=e[Pl]||e[tu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kg(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Le(33))}function BT(e){return e[d_]||null}var AM=[],Zg=-1;function lh(e){return{current:e}}function Ln(e){0>Zg||(e.current=AM[Zg],AM[Zg]=null,Zg--)}function jn(e,t){Zg++,AM[Zg]=e.current,e.current=t}var zd={},us=lh(zd),sa=lh(!1),Kf=zd;function $m(e,t){var r=e.type.contextTypes;if(!r)return zd;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function aa(e){return e=e.childContextTypes,e!=null}function Ck(){Ln(sa),Ln(us)}function B6(e,t,r){if(us.current!==zd)throw Error(Le(168));jn(us,t),jn(sa,r)}function DX(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Le(108,Cme(e)||"Unknown",i));return Yn({},r,n)}function kk(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zd,Kf=us.current,jn(us,e),jn(sa,sa.current),!0}function F6(e,t,r){var n=e.stateNode;if(!n)throw Error(Le(169));r?(e=DX(e,t,Kf),n.__reactInternalMemoizedMergedChildContext=e,Ln(sa),Ln(us),jn(us,e)):Ln(sa),jn(sa,r)}var Oc=null,FT=!1,oA=!1;function OX(e){Oc===null?Oc=[e]:Oc.push(e)}function zve(e){FT=!0,OX(e)}function ch(){if(!oA&&Oc!==null){oA=!0;var e=0,t=hn;try{var r=Oc;for(hn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Oc=null,FT=!1}catch(i){throw Oc!==null&&(Oc=Oc.slice(e+1)),lX(WO,ch),i}finally{hn=t,oA=!1}}return null}var Xg=[],Jg=0,Ek=null,Tk=0,ro=[],no=0,Zf=null,Fc=1,zc="";function Xh(e,t){Xg[Jg++]=Tk,Xg[Jg++]=Ek,Ek=e,Tk=t}function $X(e,t,r){ro[no++]=Fc,ro[no++]=zc,ro[no++]=Zf,Zf=e;var n=Fc;e=zc;var i=32-qo(n)-1;n&=~(1<<i),r+=1;var s=32-qo(t)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Fc=1<<32-qo(t)+i|r<<i|n,zc=s+e}else Fc=1<<s|r<<i|n,zc=e}function e3(e){e.return!==null&&(Xh(e,1),$X(e,1,0))}function t3(e){for(;e===Ek;)Ek=Xg[--Jg],Xg[Jg]=null,Tk=Xg[--Jg],Xg[Jg]=null;for(;e===Zf;)Zf=ro[--no],ro[no]=null,zc=ro[--no],ro[no]=null,Fc=ro[--no],ro[no]=null}var ka=null,Sa=null,Fn=!1,Fo=null;function BX(e,t){var r=ho(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function z6(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ka=e,Sa=kd(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ka=e,Sa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Zf!==null?{id:Fc,overflow:zc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ho(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ka=e,Sa=null,!0):!1;default:return!1}}function jM(e){return(e.mode&1)!==0&&(e.flags&128)===0}function RM(e){if(Fn){var t=Sa;if(t){var r=t;if(!z6(e,t)){if(jM(e))throw Error(Le(418));t=kd(r.nextSibling);var n=ka;t&&z6(e,t)?BX(n,r):(e.flags=e.flags&-4097|2,Fn=!1,ka=e)}}else{if(jM(e))throw Error(Le(418));e.flags=e.flags&-4097|2,Fn=!1,ka=e}}}function U6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ka=e}function _1(e){if(e!==ka)return!1;if(!Fn)return U6(e),Fn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!EM(e.type,e.memoizedProps)),t&&(t=Sa)){if(jM(e))throw FX(),Error(Le(418));for(;t;)BX(e,t),t=kd(t.nextSibling)}if(U6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Sa=kd(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Sa=null}}else Sa=ka?kd(e.stateNode.nextSibling):null;return!0}function FX(){for(var e=Sa;e;)e=kd(e.nextSibling)}function Bm(){Sa=ka=null,Fn=!1}function r3(e){Fo===null?Fo=[e]:Fo.push(e)}var Uve=_u.ReactCurrentBatchConfig;function W0(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Le(309));var n=r.stateNode}if(!n)throw Error(Le(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(Le(284));if(!r._owner)throw Error(Le(290,e))}return e}function b1(e,t){throw e=Object.prototype.toString.call(t),Error(Le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function H6(e){var t=e._init;return t(e._payload)}function zX(e){function t(y,x){if(e){var _=y.deletions;_===null?(y.deletions=[x],y.flags|=16):_.push(x)}}function r(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Ad(y,x),y.index=0,y.sibling=null,y}function s(y,x,_){return y.index=_,e?(_=y.alternate,_!==null?(_=_.index,_<x?(y.flags|=2,x):_):(y.flags|=2,x)):(y.flags|=1048576,x)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,x,_,b){return x===null||x.tag!==6?(x=pA(_,y.mode,b),x.return=y,x):(x=i(x,_),x.return=y,x)}function l(y,x,_,b){var w=_.type;return w===Wg?d(y,x,_.props.children,b,_.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Xu&&H6(w)===x.type)?(b=i(x,_.props),b.ref=W0(y,x,_),b.return=y,b):(b=jC(_.type,_.key,_.props,null,y.mode,b),b.ref=W0(y,x,_),b.return=y,b)}function c(y,x,_,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=gA(_,y.mode,b),x.return=y,x):(x=i(x,_.children||[]),x.return=y,x)}function d(y,x,_,b,w){return x===null||x.tag!==7?(x=Mf(_,y.mode,b,w),x.return=y,x):(x=i(x,_),x.return=y,x)}function h(y,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=pA(""+x,y.mode,_),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case u1:return _=jC(x.type,x.key,x.props,null,y.mode,_),_.ref=W0(y,null,x),_.return=y,_;case Vg:return x=gA(x,y.mode,_),x.return=y,x;case Xu:var b=x._init;return h(y,b(x._payload),_)}if(Fy(x)||F0(x))return x=Mf(x,y.mode,_,null),x.return=y,x;b1(y,x)}return null}function f(y,x,_,b){var w=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return w!==null?null:o(y,x,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case u1:return _.key===w?l(y,x,_,b):null;case Vg:return _.key===w?c(y,x,_,b):null;case Xu:return w=_._init,f(y,x,w(_._payload),b)}if(Fy(_)||F0(_))return w!==null?null:d(y,x,_,b,null);b1(y,_)}return null}function p(y,x,_,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(_)||null,o(x,y,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case u1:return y=y.get(b.key===null?_:b.key)||null,l(x,y,b,w);case Vg:return y=y.get(b.key===null?_:b.key)||null,c(x,y,b,w);case Xu:var S=b._init;return p(y,x,_,S(b._payload),w)}if(Fy(b)||F0(b))return y=y.get(_)||null,d(x,y,b,w,null);b1(x,b)}return null}function g(y,x,_,b){for(var w=null,S=null,k=x,C=x=0,E=null;k!==null&&C<_.length;C++){k.index>C?(E=k,k=null):E=k.sibling;var T=f(y,k,_[C],b);if(T===null){k===null&&(k=E);break}e&&k&&T.alternate===null&&t(y,k),x=s(T,x,C),S===null?w=T:S.sibling=T,S=T,k=E}if(C===_.length)return r(y,k),Fn&&Xh(y,C),w;if(k===null){for(;C<_.length;C++)k=h(y,_[C],b),k!==null&&(x=s(k,x,C),S===null?w=k:S.sibling=k,S=k);return Fn&&Xh(y,C),w}for(k=n(y,k);C<_.length;C++)E=p(k,y,C,_[C],b),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?C:E.key),x=s(E,x,C),S===null?w=E:S.sibling=E,S=E);return e&&k.forEach(function(N){return t(y,N)}),Fn&&Xh(y,C),w}function v(y,x,_,b){var w=F0(_);if(typeof w!="function")throw Error(Le(150));if(_=w.call(_),_==null)throw Error(Le(151));for(var S=w=null,k=x,C=x=0,E=null,T=_.next();k!==null&&!T.done;C++,T=_.next()){k.index>C?(E=k,k=null):E=k.sibling;var N=f(y,k,T.value,b);if(N===null){k===null&&(k=E);break}e&&k&&N.alternate===null&&t(y,k),x=s(N,x,C),S===null?w=N:S.sibling=N,S=N,k=E}if(T.done)return r(y,k),Fn&&Xh(y,C),w;if(k===null){for(;!T.done;C++,T=_.next())T=h(y,T.value,b),T!==null&&(x=s(T,x,C),S===null?w=T:S.sibling=T,S=T);return Fn&&Xh(y,C),w}for(k=n(y,k);!T.done;C++,T=_.next())T=p(k,y,C,T.value,b),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?C:T.key),x=s(T,x,C),S===null?w=T:S.sibling=T,S=T);return e&&k.forEach(function(R){return t(y,R)}),Fn&&Xh(y,C),w}function m(y,x,_,b){if(typeof _=="object"&&_!==null&&_.type===Wg&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case u1:e:{for(var w=_.key,S=x;S!==null;){if(S.key===w){if(w=_.type,w===Wg){if(S.tag===7){r(y,S.sibling),x=i(S,_.props.children),x.return=y,y=x;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Xu&&H6(w)===S.type){r(y,S.sibling),x=i(S,_.props),x.ref=W0(y,S,_),x.return=y,y=x;break e}r(y,S);break}else t(y,S);S=S.sibling}_.type===Wg?(x=Mf(_.props.children,y.mode,b,_.key),x.return=y,y=x):(b=jC(_.type,_.key,_.props,null,y.mode,b),b.ref=W0(y,x,_),b.return=y,y=b)}return a(y);case Vg:e:{for(S=_.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){r(y,x.sibling),x=i(x,_.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else t(y,x);x=x.sibling}x=gA(_,y.mode,b),x.return=y,y=x}return a(y);case Xu:return S=_._init,m(y,x,S(_._payload),b)}if(Fy(_))return g(y,x,_,b);if(F0(_))return v(y,x,_,b);b1(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(r(y,x.sibling),x=i(x,_),x.return=y,y=x):(r(y,x),x=pA(_,y.mode,b),x.return=y,y=x),a(y)):r(y,x)}return m}var Fm=zX(!0),UX=zX(!1),Nk=lh(null),Ak=null,Qg=null,n3=null;function i3(){n3=Qg=Ak=null}function s3(e){var t=Nk.current;Ln(Nk),e._currentValue=t}function IM(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function xm(e,t){Ak=e,n3=Qg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ra=!0),e.firstContext=null)}function yo(e){var t=e._currentValue;if(n3!==e)if(e={context:e,memoizedValue:t,next:null},Qg===null){if(Ak===null)throw Error(Le(308));Qg=e,Ak.dependencies={lanes:0,firstContext:e}}else Qg=Qg.next=e;return t}var mf=null;function a3(e){mf===null?mf=[e]:mf.push(e)}function HX(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,a3(t)):(r.next=i.next,i.next=r),t.interleaved=r,ru(e,n)}function ru(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ju=!1;function o3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VX(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ed(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Gr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,ru(e,r)}return i=n.interleaved,i===null?(t.next=t,a3(n)):(t.next=i.next,i.next=t),n.interleaved=t,ru(e,r)}function CC(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,GO(e,r)}}function V6(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function jk(e,t,r,n){var i=e.updateQueue;Ju=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,d=c=l=null,o=s;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,v=o;switch(f=t,p=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=Yn({},h,f);break e;case 2:Ju=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Jf|=a,e.lanes=a,e.memoizedState=h}}function W6(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Le(191,i));i.call(n)}}}var Fb={},ql=lh(Fb),h_=lh(Fb),f_=lh(Fb);function vf(e){if(e===Fb)throw Error(Le(174));return e}function l3(e,t){switch(jn(f_,t),jn(h_,e),jn(ql,Fb),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hM(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hM(t,e)}Ln(ql),jn(ql,t)}function zm(){Ln(ql),Ln(h_),Ln(f_)}function WX(e){vf(f_.current);var t=vf(ql.current),r=hM(t,e.type);t!==r&&(jn(h_,e),jn(ql,r))}function c3(e){h_.current===e&&(Ln(ql),Ln(h_))}var Wn=lh(0);function Rk(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lA=[];function u3(){for(var e=0;e<lA.length;e++)lA[e]._workInProgressVersionPrimary=null;lA.length=0}var kC=_u.ReactCurrentDispatcher,cA=_u.ReactCurrentBatchConfig,Xf=0,qn=null,vi=null,Ri=null,Ik=!1,_x=!1,p_=0,Hve=0;function Ji(){throw Error(Le(321))}function d3(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!el(e[r],t[r]))return!1;return!0}function h3(e,t,r,n,i,s){if(Xf=s,qn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,kC.current=e===null||e.memoizedState===null?qve:Yve,e=r(n,i),_x){s=0;do{if(_x=!1,p_=0,25<=s)throw Error(Le(301));s+=1,Ri=vi=null,t.updateQueue=null,kC.current=Kve,e=r(n,i)}while(_x)}if(kC.current=Mk,t=vi!==null&&vi.next!==null,Xf=0,Ri=vi=qn=null,Ik=!1,t)throw Error(Le(300));return e}function f3(){var e=p_!==0;return p_=0,e}function Rl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ri===null?qn.memoizedState=Ri=e:Ri=Ri.next=e,Ri}function xo(){if(vi===null){var e=qn.alternate;e=e!==null?e.memoizedState:null}else e=vi.next;var t=Ri===null?qn.memoizedState:Ri.next;if(t!==null)Ri=t,vi=e;else{if(e===null)throw Error(Le(310));vi=e,e={memoizedState:vi.memoizedState,baseState:vi.baseState,baseQueue:vi.baseQueue,queue:vi.queue,next:null},Ri===null?qn.memoizedState=Ri=e:Ri=Ri.next=e}return Ri}function g_(e,t){return typeof t=="function"?t(e):t}function uA(e){var t=xo(),r=t.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=e;var n=vi,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,c=s;do{var d=c.lane;if((Xf&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,qn.lanes|=d,Jf|=d}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,el(n,t.memoizedState)||(ra=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,qn.lanes|=s,Jf|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function dA(e){var t=xo(),r=t.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);el(s,t.memoizedState)||(ra=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function GX(){}function qX(e,t){var r=qn,n=xo(),i=t(),s=!el(n.memoizedState,i);if(s&&(n.memoizedState=i,ra=!0),n=n.queue,p3(ZX.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Ri!==null&&Ri.memoizedState.tag&1){if(r.flags|=2048,m_(9,KX.bind(null,r,n,i,t),void 0,null),Pi===null)throw Error(Le(349));Xf&30||YX(r,t,i)}return i}function YX(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=qn.updateQueue,t===null?(t={lastEffect:null,stores:null},qn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function KX(e,t,r,n){t.value=r,t.getSnapshot=n,XX(t)&&JX(e)}function ZX(e,t,r){return r(function(){XX(t)&&JX(e)})}function XX(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!el(e,r)}catch{return!0}}function JX(e){var t=ru(e,1);t!==null&&Yo(t,e,1,-1)}function G6(e){var t=Rl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:g_,lastRenderedState:e},t.queue=e,e=e.dispatch=Gve.bind(null,qn,e),[t.memoizedState,e]}function m_(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=qn.updateQueue,t===null?(t={lastEffect:null,stores:null},qn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function QX(){return xo().memoizedState}function EC(e,t,r,n){var i=Rl();qn.flags|=e,i.memoizedState=m_(1|t,r,void 0,n===void 0?null:n)}function zT(e,t,r,n){var i=xo();n=n===void 0?null:n;var s=void 0;if(vi!==null){var a=vi.memoizedState;if(s=a.destroy,n!==null&&d3(n,a.deps)){i.memoizedState=m_(t,r,s,n);return}}qn.flags|=e,i.memoizedState=m_(1|t,r,s,n)}function q6(e,t){return EC(8390656,8,e,t)}function p3(e,t){return zT(2048,8,e,t)}function eJ(e,t){return zT(4,2,e,t)}function tJ(e,t){return zT(4,4,e,t)}function rJ(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nJ(e,t,r){return r=r!=null?r.concat([e]):null,zT(4,4,rJ.bind(null,t,e),r)}function g3(){}function iJ(e,t){var r=xo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&d3(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function sJ(e,t){var r=xo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&d3(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function aJ(e,t,r){return Xf&21?(el(r,t)||(r=dX(),qn.lanes|=r,Jf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ra=!0),e.memoizedState=r)}function Vve(e,t){var r=hn;hn=r!==0&&4>r?r:4,e(!0);var n=cA.transition;cA.transition={};try{e(!1),t()}finally{hn=r,cA.transition=n}}function oJ(){return xo().memoizedState}function Wve(e,t,r){var n=Nd(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},lJ(e))cJ(t,r);else if(r=HX(e,t,r,n),r!==null){var i=Ms();Yo(r,e,n,i),uJ(r,t,n)}}function Gve(e,t,r){var n=Nd(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(lJ(e))cJ(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,el(o,a)){var l=t.interleaved;l===null?(i.next=i,a3(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=HX(e,t,i,n),r!==null&&(i=Ms(),Yo(r,e,n,i),uJ(r,t,n))}}function lJ(e){var t=e.alternate;return e===qn||t!==null&&t===qn}function cJ(e,t){_x=Ik=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function uJ(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,GO(e,r)}}var Mk={readContext:yo,useCallback:Ji,useContext:Ji,useEffect:Ji,useImperativeHandle:Ji,useInsertionEffect:Ji,useLayoutEffect:Ji,useMemo:Ji,useReducer:Ji,useRef:Ji,useState:Ji,useDebugValue:Ji,useDeferredValue:Ji,useTransition:Ji,useMutableSource:Ji,useSyncExternalStore:Ji,useId:Ji,unstable_isNewReconciler:!1},qve={readContext:yo,useCallback:function(e,t){return Rl().memoizedState=[e,t===void 0?null:t],e},useContext:yo,useEffect:q6,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,EC(4194308,4,rJ.bind(null,t,e),r)},useLayoutEffect:function(e,t){return EC(4194308,4,e,t)},useInsertionEffect:function(e,t){return EC(4,2,e,t)},useMemo:function(e,t){var r=Rl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Rl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Wve.bind(null,qn,e),[n.memoizedState,e]},useRef:function(e){var t=Rl();return e={current:e},t.memoizedState=e},useState:G6,useDebugValue:g3,useDeferredValue:function(e){return Rl().memoizedState=e},useTransition:function(){var e=G6(!1),t=e[0];return e=Vve.bind(null,e[1]),Rl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=qn,i=Rl();if(Fn){if(r===void 0)throw Error(Le(407));r=r()}else{if(r=t(),Pi===null)throw Error(Le(349));Xf&30||YX(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,q6(ZX.bind(null,n,s,e),[e]),n.flags|=2048,m_(9,KX.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Rl(),t=Pi.identifierPrefix;if(Fn){var r=zc,n=Fc;r=(n&~(1<<32-qo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=p_++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Hve++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Yve={readContext:yo,useCallback:iJ,useContext:yo,useEffect:p3,useImperativeHandle:nJ,useInsertionEffect:eJ,useLayoutEffect:tJ,useMemo:sJ,useReducer:uA,useRef:QX,useState:function(){return uA(g_)},useDebugValue:g3,useDeferredValue:function(e){var t=xo();return aJ(t,vi.memoizedState,e)},useTransition:function(){var e=uA(g_)[0],t=xo().memoizedState;return[e,t]},useMutableSource:GX,useSyncExternalStore:qX,useId:oJ,unstable_isNewReconciler:!1},Kve={readContext:yo,useCallback:iJ,useContext:yo,useEffect:p3,useImperativeHandle:nJ,useInsertionEffect:eJ,useLayoutEffect:tJ,useMemo:sJ,useReducer:dA,useRef:QX,useState:function(){return dA(g_)},useDebugValue:g3,useDeferredValue:function(e){var t=xo();return vi===null?t.memoizedState=e:aJ(t,vi.memoizedState,e)},useTransition:function(){var e=dA(g_)[0],t=xo().memoizedState;return[e,t]},useMutableSource:GX,useSyncExternalStore:qX,useId:oJ,unstable_isNewReconciler:!1};function Do(e,t){if(e&&e.defaultProps){t=Yn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function MM(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Yn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var UT={isMounted:function(e){return(e=e._reactInternals)?Cp(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ms(),i=Nd(e),s=qc(n,i);s.payload=t,r!=null&&(s.callback=r),t=Ed(e,s,i),t!==null&&(Yo(t,e,i,n),CC(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ms(),i=Nd(e),s=qc(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Ed(e,s,i),t!==null&&(Yo(t,e,i,n),CC(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ms(),n=Nd(e),i=qc(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ed(e,i,n),t!==null&&(Yo(t,e,n,r),CC(t,e,n))}};function Y6(e,t,r,n,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!l_(r,n)||!l_(i,s):!0}function dJ(e,t,r){var n=!1,i=zd,s=t.contextType;return typeof s=="object"&&s!==null?s=yo(s):(i=aa(t)?Kf:us.current,n=t.contextTypes,s=(n=n!=null)?$m(e,i):zd),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=UT,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function K6(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&UT.enqueueReplaceState(t,t.state,null)}function PM(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},o3(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=yo(s):(s=aa(t)?Kf:us.current,i.context=$m(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(MM(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&UT.enqueueReplaceState(i,i.state,null),jk(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Um(e,t){try{var r="",n=t;do r+=Sme(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function hA(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function LM(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Zve=typeof WeakMap=="function"?WeakMap:Map;function hJ(e,t,r){r=qc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Lk||(Lk=!0,WM=n),LM(e,t)},r}function fJ(e,t,r){r=qc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){LM(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){LM(e,t),typeof n!="function"&&(Td===null?Td=new Set([this]):Td.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Z6(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Zve;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=u0e.bind(null,e,t,r),t.then(e,e))}function X6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function J6(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=qc(-1,1),t.tag=2,Ed(r,t,1))),r.lanes|=1),e)}var Xve=_u.ReactCurrentOwner,ra=!1;function Cs(e,t,r,n){t.child=e===null?UX(t,null,r,n):Fm(t,e.child,r,n)}function Q6(e,t,r,n,i){r=r.render;var s=t.ref;return xm(t,i),n=h3(e,t,r,n,s,i),r=f3(),e!==null&&!ra?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,nu(e,t,i)):(Fn&&r&&e3(t),t.flags|=1,Cs(e,t,n,i),t.child)}function ez(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!S3(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,pJ(e,t,s,n,i)):(e=jC(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:l_,r(a,n)&&e.ref===t.ref)return nu(e,t,i)}return t.flags|=1,e=Ad(s,n),e.ref=t.ref,e.return=t,t.child=e}function pJ(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(l_(s,n)&&e.ref===t.ref)if(ra=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(ra=!0);else return t.lanes=e.lanes,nu(e,t,i)}return DM(e,t,r,n,i)}function gJ(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},jn(tm,ba),ba|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,jn(tm,ba),ba|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,jn(tm,ba),ba|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,jn(tm,ba),ba|=n;return Cs(e,t,i,r),t.child}function mJ(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function DM(e,t,r,n,i){var s=aa(r)?Kf:us.current;return s=$m(t,s),xm(t,i),r=h3(e,t,r,n,s,i),n=f3(),e!==null&&!ra?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,nu(e,t,i)):(Fn&&n&&e3(t),t.flags|=1,Cs(e,t,r,i),t.child)}function tz(e,t,r,n,i){if(aa(r)){var s=!0;kk(t)}else s=!1;if(xm(t,i),t.stateNode===null)TC(e,t),dJ(t,r,n),PM(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=yo(c):(c=aa(r)?Kf:us.current,c=$m(t,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&K6(t,a,n,c),Ju=!1;var f=t.memoizedState;a.state=f,jk(t,n,a,i),l=t.memoizedState,o!==n||f!==l||sa.current||Ju?(typeof d=="function"&&(MM(t,r,d,n),l=t.memoizedState),(o=Ju||Y6(t,r,o,n,f,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,VX(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Do(t.type,o),a.props=c,h=t.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=yo(l):(l=aa(r)?Kf:us.current,l=$m(t,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&K6(t,a,n,l),Ju=!1,f=t.memoizedState,a.state=f,jk(t,n,a,i);var g=t.memoizedState;o!==h||f!==g||sa.current||Ju?(typeof p=="function"&&(MM(t,r,p,n),g=t.memoizedState),(c=Ju||Y6(t,r,c,n,f,g,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),a.props=n,a.state=g,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return OM(e,t,r,n,s,i)}function OM(e,t,r,n,i,s){mJ(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&F6(t,r,!1),nu(e,t,s);n=t.stateNode,Xve.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Fm(t,e.child,null,s),t.child=Fm(t,null,o,s)):Cs(e,t,o,s),t.memoizedState=n.state,i&&F6(t,r,!0),t.child}function vJ(e){var t=e.stateNode;t.pendingContext?B6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&B6(e,t.context,!1),l3(e,t.containerInfo)}function rz(e,t,r,n,i){return Bm(),r3(i),t.flags|=256,Cs(e,t,r,n),t.child}var $M={dehydrated:null,treeContext:null,retryLane:0};function BM(e){return{baseLanes:e,cachePool:null,transitions:null}}function yJ(e,t,r){var n=t.pendingProps,i=Wn.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),jn(Wn,i&1),e===null)return RM(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=WT(a,n,0,null),e=Mf(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=BM(r),t.memoizedState=$M,e):m3(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Jve(e,t,a,n,o,i,r);if(s){s=n.fallback,a=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Ad(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Ad(o,s):(s=Mf(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=e.child.memoizedState,a=a===null?BM(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=$M,n}return s=e.child,e=s.sibling,n=Ad(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function m3(e,t){return t=WT({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function w1(e,t,r,n){return n!==null&&r3(n),Fm(t,e.child,null,r),e=m3(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jve(e,t,r,n,i,s,a){if(r)return t.flags&256?(t.flags&=-257,n=hA(Error(Le(422))),w1(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=WT({mode:"visible",children:n.children},i,0,null),s=Mf(s,i,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Fm(t,e.child,null,a),t.child.memoizedState=BM(a),t.memoizedState=$M,s);if(!(t.mode&1))return w1(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Le(419)),n=hA(s,n,void 0),w1(e,t,a,n)}if(o=(a&e.childLanes)!==0,ra||o){if(n=Pi,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ru(e,i),Yo(n,e,i,-1))}return w3(),n=hA(Error(Le(421))),w1(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=d0e.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Sa=kd(i.nextSibling),ka=t,Fn=!0,Fo=null,e!==null&&(ro[no++]=Fc,ro[no++]=zc,ro[no++]=Zf,Fc=e.id,zc=e.overflow,Zf=t),t=m3(t,n.children),t.flags|=4096,t)}function nz(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),IM(e.return,t,r)}function fA(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function xJ(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Cs(e,t,n.children,r),n=Wn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nz(e,r,t);else if(e.tag===19)nz(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(jn(Wn,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Rk(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),fA(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Rk(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}fA(t,!0,r,null,s);break;case"together":fA(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function TC(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nu(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Jf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Le(153));if(t.child!==null){for(e=t.child,r=Ad(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ad(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Qve(e,t,r){switch(t.tag){case 3:vJ(t),Bm();break;case 5:WX(t);break;case 1:aa(t.type)&&kk(t);break;case 4:l3(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;jn(Nk,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(jn(Wn,Wn.current&1),t.flags|=128,null):r&t.child.childLanes?yJ(e,t,r):(jn(Wn,Wn.current&1),e=nu(e,t,r),e!==null?e.sibling:null);jn(Wn,Wn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return xJ(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),jn(Wn,Wn.current),n)break;return null;case 22:case 23:return t.lanes=0,gJ(e,t,r)}return nu(e,t,r)}var _J,FM,bJ,wJ;_J=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};FM=function(){};bJ=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,vf(ql.current);var s=null;switch(r){case"input":i=lM(e,i),n=lM(e,n),s=[];break;case"select":i=Yn({},i,{value:void 0}),n=Yn({},n,{value:void 0}),s=[];break;case"textarea":i=dM(e,i),n=dM(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Sk)}fM(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(t_.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(t_.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Pn("scroll",e),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};wJ=function(e,t,r,n){r!==n&&(t.flags|=4)};function G0(e,t){if(!Fn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Qi(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function e0e(e,t,r){var n=t.pendingProps;switch(t3(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qi(t),null;case 1:return aa(t.type)&&Ck(),Qi(t),null;case 3:return n=t.stateNode,zm(),Ln(sa),Ln(us),u3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(_1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Fo!==null&&(YM(Fo),Fo=null))),FM(e,t),Qi(t),null;case 5:c3(t);var i=vf(f_.current);if(r=t.type,e!==null&&t.stateNode!=null)bJ(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Le(166));return Qi(t),null}if(e=vf(ql.current),_1(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Pl]=t,n[d_]=s,e=(t.mode&1)!==0,r){case"dialog":Pn("cancel",n),Pn("close",n);break;case"iframe":case"object":case"embed":Pn("load",n);break;case"video":case"audio":for(i=0;i<Uy.length;i++)Pn(Uy[i],n);break;case"source":Pn("error",n);break;case"img":case"image":case"link":Pn("error",n),Pn("load",n);break;case"details":Pn("toggle",n);break;case"input":h6(n,s),Pn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Pn("invalid",n);break;case"textarea":p6(n,s),Pn("invalid",n)}fM(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&x1(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&x1(n.textContent,o,e),i=["children",""+o]):t_.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Pn("scroll",n)}switch(r){case"input":d1(n),f6(n,s,!0);break;case"textarea":d1(n),g6(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Sk)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ZZ(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Pl]=t,e[d_]=n,_J(e,t,!1,!1),t.stateNode=e;e:{switch(a=pM(r,n),r){case"dialog":Pn("cancel",e),Pn("close",e),i=n;break;case"iframe":case"object":case"embed":Pn("load",e),i=n;break;case"video":case"audio":for(i=0;i<Uy.length;i++)Pn(Uy[i],e);i=n;break;case"source":Pn("error",e),i=n;break;case"img":case"image":case"link":Pn("error",e),Pn("load",e),i=n;break;case"details":Pn("toggle",e),i=n;break;case"input":h6(e,n),i=lM(e,n),Pn("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Yn({},n,{value:void 0}),Pn("invalid",e);break;case"textarea":p6(e,n),i=dM(e,n),Pn("invalid",e);break;default:i=n}fM(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?QZ(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XZ(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&r_(e,l):typeof l=="number"&&r_(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(t_.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Pn("scroll",e):l!=null&&FO(e,s,l,a))}switch(r){case"input":d1(e),f6(e,n,!1);break;case"textarea":d1(e),g6(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Fd(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?gm(e,!!n.multiple,s,!1):n.defaultValue!=null&&gm(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Sk)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qi(t),null;case 6:if(e&&t.stateNode!=null)wJ(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Le(166));if(r=vf(f_.current),vf(ql.current),_1(t)){if(n=t.stateNode,r=t.memoizedProps,n[Pl]=t,(s=n.nodeValue!==r)&&(e=ka,e!==null))switch(e.tag){case 3:x1(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&x1(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Pl]=t,t.stateNode=n}return Qi(t),null;case 13:if(Ln(Wn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fn&&Sa!==null&&t.mode&1&&!(t.flags&128))FX(),Bm(),t.flags|=98560,s=!1;else if(s=_1(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Le(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Le(317));s[Pl]=t}else Bm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qi(t),s=!1}else Fo!==null&&(YM(Fo),Fo=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Wn.current&1?_i===0&&(_i=3):w3())),t.updateQueue!==null&&(t.flags|=4),Qi(t),null);case 4:return zm(),FM(e,t),e===null&&c_(t.stateNode.containerInfo),Qi(t),null;case 10:return s3(t.type._context),Qi(t),null;case 17:return aa(t.type)&&Ck(),Qi(t),null;case 19:if(Ln(Wn),s=t.memoizedState,s===null)return Qi(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)G0(s,!1);else{if(_i!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Rk(e),a!==null){for(t.flags|=128,G0(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return jn(Wn,Wn.current&1|2),t.child}e=e.sibling}s.tail!==null&&ni()>Hm&&(t.flags|=128,n=!0,G0(s,!1),t.lanes=4194304)}else{if(!n)if(e=Rk(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),G0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Fn)return Qi(t),null}else 2*ni()-s.renderingStartTime>Hm&&r!==1073741824&&(t.flags|=128,n=!0,G0(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(r=s.last,r!==null?r.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ni(),t.sibling=null,r=Wn.current,jn(Wn,n?r&1|2:r&1),t):(Qi(t),null);case 22:case 23:return b3(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ba&1073741824&&(Qi(t),t.subtreeFlags&6&&(t.flags|=8192)):Qi(t),null;case 24:return null;case 25:return null}throw Error(Le(156,t.tag))}function t0e(e,t){switch(t3(t),t.tag){case 1:return aa(t.type)&&Ck(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zm(),Ln(sa),Ln(us),u3(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return c3(t),null;case 13:if(Ln(Wn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Le(340));Bm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ln(Wn),null;case 4:return zm(),null;case 10:return s3(t.type._context),null;case 22:case 23:return b3(),null;case 24:return null;default:return null}}var S1=!1,ss=!1,r0e=typeof WeakSet=="function"?WeakSet:Set,ot=null;function em(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Kn(e,t,n)}else r.current=null}function zM(e,t,r){try{r()}catch(n){Kn(e,t,n)}}var iz=!1;function n0e(e,t){if(CM=_k,e=TX(),QO(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++c===i&&(o=a),f===s&&++d===n&&(l=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(kM={focusedElem:e,selectionRange:r},_k=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){t=ot;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,m=g.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:Do(t.type,v),m);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Le(163))}}catch(b){Kn(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}return g=iz,iz=!1,g}function bx(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&zM(t,r,s)}i=i.next}while(i!==n)}}function HT(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function UM(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function SJ(e){var t=e.alternate;t!==null&&(e.alternate=null,SJ(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pl],delete t[d_],delete t[NM],delete t[Bve],delete t[Fve])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function CJ(e){return e.tag===5||e.tag===3||e.tag===4}function sz(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||CJ(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function HM(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Sk));else if(n!==4&&(e=e.child,e!==null))for(HM(e,t,r),e=e.sibling;e!==null;)HM(e,t,r),e=e.sibling}function VM(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(VM(e,t,r),e=e.sibling;e!==null;)VM(e,t,r),e=e.sibling}var Bi=null,$o=!1;function Ru(e,t,r){for(r=r.child;r!==null;)kJ(e,t,r),r=r.sibling}function kJ(e,t,r){if(Gl&&typeof Gl.onCommitFiberUnmount=="function")try{Gl.onCommitFiberUnmount(LT,r)}catch{}switch(r.tag){case 5:ss||em(r,t);case 6:var n=Bi,i=$o;Bi=null,Ru(e,t,r),Bi=n,$o=i,Bi!==null&&($o?(e=Bi,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Bi.removeChild(r.stateNode));break;case 18:Bi!==null&&($o?(e=Bi,r=r.stateNode,e.nodeType===8?aA(e.parentNode,r):e.nodeType===1&&aA(e,r),a_(e)):aA(Bi,r.stateNode));break;case 4:n=Bi,i=$o,Bi=r.stateNode.containerInfo,$o=!0,Ru(e,t,r),Bi=n,$o=i;break;case 0:case 11:case 14:case 15:if(!ss&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&zM(r,t,a),i=i.next}while(i!==n)}Ru(e,t,r);break;case 1:if(!ss&&(em(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Kn(r,t,o)}Ru(e,t,r);break;case 21:Ru(e,t,r);break;case 22:r.mode&1?(ss=(n=ss)||r.memoizedState!==null,Ru(e,t,r),ss=n):Ru(e,t,r);break;default:Ru(e,t,r)}}function az(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new r0e),t.forEach(function(n){var i=h0e.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Eo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Bi=o.stateNode,$o=!1;break e;case 3:Bi=o.stateNode.containerInfo,$o=!0;break e;case 4:Bi=o.stateNode.containerInfo,$o=!0;break e}o=o.return}if(Bi===null)throw Error(Le(160));kJ(s,a,i),Bi=null,$o=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Kn(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)EJ(t,e),t=t.sibling}function EJ(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Eo(t,e),yl(e),n&4){try{bx(3,e,e.return),HT(3,e)}catch(v){Kn(e,e.return,v)}try{bx(5,e,e.return)}catch(v){Kn(e,e.return,v)}}break;case 1:Eo(t,e),yl(e),n&512&&r!==null&&em(r,r.return);break;case 5:if(Eo(t,e),yl(e),n&512&&r!==null&&em(r,r.return),e.flags&32){var i=e.stateNode;try{r_(i,"")}catch(v){Kn(e,e.return,v)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=r!==null?r.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&YZ(i,s),pM(o,a);var c=pM(o,s);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?QZ(i,h):d==="dangerouslySetInnerHTML"?XZ(i,h):d==="children"?r_(i,h):FO(i,d,h,c)}switch(o){case"input":cM(i,s);break;case"textarea":KZ(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?gm(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?gm(i,!!s.multiple,s.defaultValue,!0):gm(i,!!s.multiple,s.multiple?[]:"",!1))}i[d_]=s}catch(v){Kn(e,e.return,v)}}break;case 6:if(Eo(t,e),yl(e),n&4){if(e.stateNode===null)throw Error(Le(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){Kn(e,e.return,v)}}break;case 3:if(Eo(t,e),yl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{a_(t.containerInfo)}catch(v){Kn(e,e.return,v)}break;case 4:Eo(t,e),yl(e);break;case 13:Eo(t,e),yl(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(x3=ni())),n&4&&az(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ss=(c=ss)||d,Eo(t,e),ss=c):Eo(t,e),yl(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(ot=e,d=e.child;d!==null;){for(h=ot=d;ot!==null;){switch(f=ot,p=f.child,f.tag){case 0:case 11:case 14:case 15:bx(4,f,f.return);break;case 1:em(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){Kn(n,r,v)}}break;case 5:em(f,f.return);break;case 22:if(f.memoizedState!==null){lz(h);continue}}p!==null?(p.return=f,ot=p):lz(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=JZ("display",a))}catch(v){Kn(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){Kn(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Eo(t,e),yl(e),n&4&&az(e);break;case 21:break;default:Eo(t,e),yl(e)}}function yl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(CJ(r)){var n=r;break e}r=r.return}throw Error(Le(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(r_(i,""),n.flags&=-33);var s=sz(e);VM(e,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=sz(e);HM(e,o,a);break;default:throw Error(Le(161))}}catch(l){Kn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function i0e(e,t,r){ot=e,TJ(e)}function TJ(e,t,r){for(var n=(e.mode&1)!==0;ot!==null;){var i=ot,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||S1;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||ss;o=S1;var c=ss;if(S1=a,(ss=l)&&!c)for(ot=i;ot!==null;)a=ot,l=a.child,a.tag===22&&a.memoizedState!==null?cz(i):l!==null?(l.return=a,ot=l):cz(i);for(;s!==null;)ot=s,TJ(s),s=s.sibling;ot=i,S1=o,ss=c}oz(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ot=s):oz(e)}}function oz(e){for(;ot!==null;){var t=ot;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ss||HT(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ss)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Do(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&W6(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}W6(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&a_(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Le(163))}ss||t.flags&512&&UM(t)}catch(f){Kn(t,t.return,f)}}if(t===e){ot=null;break}if(r=t.sibling,r!==null){r.return=t.return,ot=r;break}ot=t.return}}function lz(e){for(;ot!==null;){var t=ot;if(t===e){ot=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ot=r;break}ot=t.return}}function cz(e){for(;ot!==null;){var t=ot;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{HT(4,t)}catch(l){Kn(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Kn(t,i,l)}}var s=t.return;try{UM(t)}catch(l){Kn(t,s,l)}break;case 5:var a=t.return;try{UM(t)}catch(l){Kn(t,a,l)}}}catch(l){Kn(t,t.return,l)}if(t===e){ot=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ot=o;break}ot=t.return}}var s0e=Math.ceil,Pk=_u.ReactCurrentDispatcher,v3=_u.ReactCurrentOwner,mo=_u.ReactCurrentBatchConfig,Gr=0,Pi=null,ci=null,Hi=0,ba=0,tm=lh(0),_i=0,v_=null,Jf=0,VT=0,y3=0,Sx=null,Zs=null,x3=0,Hm=1/0,Ic=null,Lk=!1,WM=null,Td=null,C1=!1,cd=null,Dk=0,Cx=0,GM=null,NC=-1,AC=0;function Ms(){return Gr&6?ni():NC!==-1?NC:NC=ni()}function Nd(e){return e.mode&1?Gr&2&&Hi!==0?Hi&-Hi:Uve.transition!==null?(AC===0&&(AC=dX()),AC):(e=hn,e!==0||(e=window.event,e=e===void 0?16:yX(e.type)),e):1}function Yo(e,t,r,n){if(50<Cx)throw Cx=0,GM=null,Error(Le(185));Ob(e,r,n),(!(Gr&2)||e!==Pi)&&(e===Pi&&(!(Gr&2)&&(VT|=r),_i===4&&sd(e,Hi)),oa(e,n),r===1&&Gr===0&&!(t.mode&1)&&(Hm=ni()+500,FT&&ch()))}function oa(e,t){var r=e.callbackNode;Ume(e,t);var n=xk(e,e===Pi?Hi:0);if(n===0)r!==null&&y6(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&y6(r),t===1)e.tag===0?zve(uz.bind(null,e)):OX(uz.bind(null,e)),Ove(function(){!(Gr&6)&&ch()}),r=null;else{switch(hX(n)){case 1:r=WO;break;case 4:r=cX;break;case 16:r=yk;break;case 536870912:r=uX;break;default:r=yk}r=LJ(r,NJ.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function NJ(e,t){if(NC=-1,AC=0,Gr&6)throw Error(Le(327));var r=e.callbackNode;if(_m()&&e.callbackNode!==r)return null;var n=xk(e,e===Pi?Hi:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ok(e,n);else{t=n;var i=Gr;Gr|=2;var s=jJ();(Pi!==e||Hi!==t)&&(Ic=null,Hm=ni()+500,If(e,t));do try{l0e();break}catch(o){AJ(e,o)}while(!0);i3(),Pk.current=s,Gr=i,ci!==null?t=0:(Pi=null,Hi=0,t=_i)}if(t!==0){if(t===2&&(i=xM(e),i!==0&&(n=i,t=qM(e,i))),t===1)throw r=v_,If(e,0),sd(e,n),oa(e,ni()),r;if(t===6)sd(e,n);else{if(i=e.current.alternate,!(n&30)&&!a0e(i)&&(t=Ok(e,n),t===2&&(s=xM(e),s!==0&&(n=s,t=qM(e,s))),t===1))throw r=v_,If(e,0),sd(e,n),oa(e,ni()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Le(345));case 2:Jh(e,Zs,Ic);break;case 3:if(sd(e,n),(n&130023424)===n&&(t=x3+500-ni(),10<t)){if(xk(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ms(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=TM(Jh.bind(null,e,Zs,Ic),t);break}Jh(e,Zs,Ic);break;case 4:if(sd(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-qo(n);s=1<<a,a=t[a],a>i&&(i=a),n&=~s}if(n=i,n=ni()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*s0e(n/1960))-n,10<n){e.timeoutHandle=TM(Jh.bind(null,e,Zs,Ic),n);break}Jh(e,Zs,Ic);break;case 5:Jh(e,Zs,Ic);break;default:throw Error(Le(329))}}}return oa(e,ni()),e.callbackNode===r?NJ.bind(null,e):null}function qM(e,t){var r=Sx;return e.current.memoizedState.isDehydrated&&(If(e,t).flags|=256),e=Ok(e,t),e!==2&&(t=Zs,Zs=r,t!==null&&YM(t)),e}function YM(e){Zs===null?Zs=e:Zs.push.apply(Zs,e)}function a0e(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!el(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sd(e,t){for(t&=~y3,t&=~VT,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-qo(t),n=1<<r;e[r]=-1,t&=~n}}function uz(e){if(Gr&6)throw Error(Le(327));_m();var t=xk(e,0);if(!(t&1))return oa(e,ni()),null;var r=Ok(e,t);if(e.tag!==0&&r===2){var n=xM(e);n!==0&&(t=n,r=qM(e,n))}if(r===1)throw r=v_,If(e,0),sd(e,t),oa(e,ni()),r;if(r===6)throw Error(Le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jh(e,Zs,Ic),oa(e,ni()),null}function _3(e,t){var r=Gr;Gr|=1;try{return e(t)}finally{Gr=r,Gr===0&&(Hm=ni()+500,FT&&ch())}}function Qf(e){cd!==null&&cd.tag===0&&!(Gr&6)&&_m();var t=Gr;Gr|=1;var r=mo.transition,n=hn;try{if(mo.transition=null,hn=1,e)return e()}finally{hn=n,mo.transition=r,Gr=t,!(Gr&6)&&ch()}}function b3(){ba=tm.current,Ln(tm)}function If(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Dve(r)),ci!==null)for(r=ci.return;r!==null;){var n=r;switch(t3(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ck();break;case 3:zm(),Ln(sa),Ln(us),u3();break;case 5:c3(n);break;case 4:zm();break;case 13:Ln(Wn);break;case 19:Ln(Wn);break;case 10:s3(n.type._context);break;case 22:case 23:b3()}r=r.return}if(Pi=e,ci=e=Ad(e.current,null),Hi=ba=t,_i=0,v_=null,y3=VT=Jf=0,Zs=Sx=null,mf!==null){for(t=0;t<mf.length;t++)if(r=mf[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}mf=null}return e}function AJ(e,t){do{var r=ci;try{if(i3(),kC.current=Mk,Ik){for(var n=qn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ik=!1}if(Xf=0,Ri=vi=qn=null,_x=!1,p_=0,v3.current=null,r===null||r.return===null){_i=1,v_=t,ci=null;break}e:{var s=e,a=r.return,o=r,l=t;if(t=Hi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=X6(a);if(p!==null){p.flags&=-257,J6(p,a,o,s,t),p.mode&1&&Z6(s,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var v=new Set;v.add(l),t.updateQueue=v}else g.add(l);break e}else{if(!(t&1)){Z6(s,c,t),w3();break e}l=Error(Le(426))}}else if(Fn&&o.mode&1){var m=X6(a);if(m!==null){!(m.flags&65536)&&(m.flags|=256),J6(m,a,o,s,t),r3(Um(l,o));break e}}s=l=Um(l,o),_i!==4&&(_i=2),Sx===null?Sx=[s]:Sx.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=hJ(s,l,t);V6(s,y);break e;case 1:o=l;var x=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Td===null||!Td.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var b=fJ(s,o,t);V6(s,b);break e}}s=s.return}while(s!==null)}IJ(r)}catch(w){t=w,ci===r&&r!==null&&(ci=r=r.return);continue}break}while(!0)}function jJ(){var e=Pk.current;return Pk.current=Mk,e===null?Mk:e}function w3(){(_i===0||_i===3||_i===2)&&(_i=4),Pi===null||!(Jf&268435455)&&!(VT&268435455)||sd(Pi,Hi)}function Ok(e,t){var r=Gr;Gr|=2;var n=jJ();(Pi!==e||Hi!==t)&&(Ic=null,If(e,t));do try{o0e();break}catch(i){AJ(e,i)}while(!0);if(i3(),Gr=r,Pk.current=n,ci!==null)throw Error(Le(261));return Pi=null,Hi=0,_i}function o0e(){for(;ci!==null;)RJ(ci)}function l0e(){for(;ci!==null&&!Mme();)RJ(ci)}function RJ(e){var t=PJ(e.alternate,e,ba);e.memoizedProps=e.pendingProps,t===null?IJ(e):ci=t,v3.current=null}function IJ(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=t0e(r,t),r!==null){r.flags&=32767,ci=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_i=6,ci=null;return}}else if(r=e0e(r,t,ba),r!==null){ci=r;return}if(t=t.sibling,t!==null){ci=t;return}ci=t=e}while(t!==null);_i===0&&(_i=5)}function Jh(e,t,r){var n=hn,i=mo.transition;try{mo.transition=null,hn=1,c0e(e,t,r,n)}finally{mo.transition=i,hn=n}return null}function c0e(e,t,r,n){do _m();while(cd!==null);if(Gr&6)throw Error(Le(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Le(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(Hme(e,s),e===Pi&&(ci=Pi=null,Hi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||C1||(C1=!0,LJ(yk,function(){return _m(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=mo.transition,mo.transition=null;var a=hn;hn=1;var o=Gr;Gr|=4,v3.current=null,n0e(e,r),EJ(r,e),Ave(kM),_k=!!CM,kM=CM=null,e.current=r,i0e(r),Pme(),Gr=o,hn=a,mo.transition=s}else e.current=r;if(C1&&(C1=!1,cd=e,Dk=i),s=e.pendingLanes,s===0&&(Td=null),Ome(r.stateNode),oa(e,ni()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Lk)throw Lk=!1,e=WM,WM=null,e;return Dk&1&&e.tag!==0&&_m(),s=e.pendingLanes,s&1?e===GM?Cx++:(Cx=0,GM=e):Cx=0,ch(),null}function _m(){if(cd!==null){var e=hX(Dk),t=mo.transition,r=hn;try{if(mo.transition=null,hn=16>e?16:e,cd===null)var n=!1;else{if(e=cd,cd=null,Dk=0,Gr&6)throw Error(Le(331));var i=Gr;for(Gr|=4,ot=e.current;ot!==null;){var s=ot,a=s.child;if(ot.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(ot=c;ot!==null;){var d=ot;switch(d.tag){case 0:case 11:case 15:bx(8,d,s)}var h=d.child;if(h!==null)h.return=d,ot=h;else for(;ot!==null;){d=ot;var f=d.sibling,p=d.return;if(SJ(d),d===c){ot=null;break}if(f!==null){f.return=p,ot=f;break}ot=p}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(v!==null)}}ot=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ot=a;else e:for(;ot!==null;){if(s=ot,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bx(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ot=y;break e}ot=s.return}}var x=e.current;for(ot=x;ot!==null;){a=ot;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,ot=_;else e:for(a=x;ot!==null;){if(o=ot,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:HT(9,o)}}catch(w){Kn(o,o.return,w)}if(o===a){ot=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,ot=b;break e}ot=o.return}}if(Gr=i,ch(),Gl&&typeof Gl.onPostCommitFiberRoot=="function")try{Gl.onPostCommitFiberRoot(LT,e)}catch{}n=!0}return n}finally{hn=r,mo.transition=t}}return!1}function dz(e,t,r){t=Um(r,t),t=hJ(e,t,1),e=Ed(e,t,1),t=Ms(),e!==null&&(Ob(e,1,t),oa(e,t))}function Kn(e,t,r){if(e.tag===3)dz(e,e,r);else for(;t!==null;){if(t.tag===3){dz(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Td===null||!Td.has(n))){e=Um(r,e),e=fJ(t,e,1),t=Ed(t,e,1),e=Ms(),t!==null&&(Ob(t,1,e),oa(t,e));break}}t=t.return}}function u0e(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ms(),e.pingedLanes|=e.suspendedLanes&r,Pi===e&&(Hi&r)===r&&(_i===4||_i===3&&(Hi&130023424)===Hi&&500>ni()-x3?If(e,0):y3|=r),oa(e,t)}function MJ(e,t){t===0&&(e.mode&1?(t=p1,p1<<=1,!(p1&130023424)&&(p1=4194304)):t=1);var r=Ms();e=ru(e,t),e!==null&&(Ob(e,t,r),oa(e,r))}function d0e(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),MJ(e,r)}function h0e(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Le(314))}n!==null&&n.delete(t),MJ(e,r)}var PJ;PJ=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||sa.current)ra=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ra=!1,Qve(e,t,r);ra=!!(e.flags&131072)}else ra=!1,Fn&&t.flags&1048576&&$X(t,Tk,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;TC(e,t),e=t.pendingProps;var i=$m(t,us.current);xm(t,r),i=h3(null,t,n,e,i,r);var s=f3();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,aa(n)?(s=!0,kk(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,o3(t),i.updater=UT,t.stateNode=i,i._reactInternals=t,PM(t,n,e,r),t=OM(null,t,n,!0,s,r)):(t.tag=0,Fn&&s&&e3(t),Cs(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(TC(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=p0e(n),e=Do(n,e),i){case 0:t=DM(null,t,n,e,r);break e;case 1:t=tz(null,t,n,e,r);break e;case 11:t=Q6(null,t,n,e,r);break e;case 14:t=ez(null,t,n,Do(n.type,e),r);break e}throw Error(Le(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Do(n,i),DM(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Do(n,i),tz(e,t,n,i,r);case 3:e:{if(vJ(t),e===null)throw Error(Le(387));n=t.pendingProps,s=t.memoizedState,i=s.element,VX(e,t),jk(t,n,null,r);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Um(Error(Le(423)),t),t=rz(e,t,n,r,i);break e}else if(n!==i){i=Um(Error(Le(424)),t),t=rz(e,t,n,r,i);break e}else for(Sa=kd(t.stateNode.containerInfo.firstChild),ka=t,Fn=!0,Fo=null,r=UX(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Bm(),n===i){t=nu(e,t,r);break e}Cs(e,t,n,r)}t=t.child}return t;case 5:return WX(t),e===null&&RM(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,EM(n,i)?a=null:s!==null&&EM(n,s)&&(t.flags|=32),mJ(e,t),Cs(e,t,a,r),t.child;case 6:return e===null&&RM(t),null;case 13:return yJ(e,t,r);case 4:return l3(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Fm(t,null,n,r):Cs(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Do(n,i),Q6(e,t,n,i,r);case 7:return Cs(e,t,t.pendingProps,r),t.child;case 8:return Cs(e,t,t.pendingProps.children,r),t.child;case 12:return Cs(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,jn(Nk,n._currentValue),n._currentValue=a,s!==null)if(el(s.value,a)){if(s.children===i.children&&!sa.current){t=nu(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=qc(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),IM(s.return,r,t),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Le(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),IM(a,r,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Cs(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,xm(t,r),i=yo(i),n=n(i),t.flags|=1,Cs(e,t,n,r),t.child;case 14:return n=t.type,i=Do(n,t.pendingProps),i=Do(n.type,i),ez(e,t,n,i,r);case 15:return pJ(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Do(n,i),TC(e,t),t.tag=1,aa(n)?(e=!0,kk(t)):e=!1,xm(t,r),dJ(t,n,i),PM(t,n,i,r),OM(null,t,n,!0,e,r);case 19:return xJ(e,t,r);case 22:return gJ(e,t,r)}throw Error(Le(156,t.tag))};function LJ(e,t){return lX(e,t)}function f0e(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ho(e,t,r,n){return new f0e(e,t,r,n)}function S3(e){return e=e.prototype,!(!e||!e.isReactComponent)}function p0e(e){if(typeof e=="function")return S3(e)?1:0;if(e!=null){if(e=e.$$typeof,e===UO)return 11;if(e===HO)return 14}return 2}function Ad(e,t){var r=e.alternate;return r===null?(r=ho(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function jC(e,t,r,n,i,s){var a=2;if(n=e,typeof e=="function")S3(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Wg:return Mf(r.children,i,s,t);case zO:a=8,i|=8;break;case iM:return e=ho(12,r,t,i|2),e.elementType=iM,e.lanes=s,e;case sM:return e=ho(13,r,t,i),e.elementType=sM,e.lanes=s,e;case aM:return e=ho(19,r,t,i),e.elementType=aM,e.lanes=s,e;case WZ:return WT(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case HZ:a=10;break e;case VZ:a=9;break e;case UO:a=11;break e;case HO:a=14;break e;case Xu:a=16,n=null;break e}throw Error(Le(130,e==null?e:typeof e,""))}return t=ho(a,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function Mf(e,t,r,n){return e=ho(7,e,n,t),e.lanes=r,e}function WT(e,t,r,n){return e=ho(22,e,n,t),e.elementType=WZ,e.lanes=r,e.stateNode={isHidden:!1},e}function pA(e,t,r){return e=ho(6,e,null,t),e.lanes=r,e}function gA(e,t,r){return t=ho(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function g0e(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=K2(0),this.expirationTimes=K2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=K2(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function C3(e,t,r,n,i,s,a,o,l){return e=new g0e(e,t,r,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ho(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},o3(s),e}function m0e(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vg,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function DJ(e){if(!e)return zd;e=e._reactInternals;e:{if(Cp(e)!==e||e.tag!==1)throw Error(Le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(aa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Le(171))}if(e.tag===1){var r=e.type;if(aa(r))return DX(e,r,t)}return t}function OJ(e,t,r,n,i,s,a,o,l){return e=C3(r,n,!0,e,i,s,a,o,l),e.context=DJ(null),r=e.current,n=Ms(),i=Nd(r),s=qc(n,i),s.callback=t??null,Ed(r,s,i),e.current.lanes=i,Ob(e,i,n),oa(e,n),e}function GT(e,t,r,n){var i=t.current,s=Ms(),a=Nd(i);return r=DJ(r),t.context===null?t.context=r:t.pendingContext=r,t=qc(s,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ed(i,t,a),e!==null&&(Yo(e,i,a,s),CC(e,i,a)),a}function $k(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hz(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function k3(e,t){hz(e,t),(e=e.alternate)&&hz(e,t)}function v0e(){return null}var $J=typeof reportError=="function"?reportError:function(e){console.error(e)};function E3(e){this._internalRoot=e}qT.prototype.render=E3.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Le(409));GT(e,t,null,null)};qT.prototype.unmount=E3.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qf(function(){GT(null,e,null,null)}),t[tu]=null}};function qT(e){this._internalRoot=e}qT.prototype.unstable_scheduleHydration=function(e){if(e){var t=gX();e={blockedOn:null,target:e,priority:t};for(var r=0;r<id.length&&t!==0&&t<id[r].priority;r++);id.splice(r,0,e),r===0&&vX(e)}};function T3(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function YT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fz(){}function y0e(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=$k(a);s.call(c)}}var a=OJ(t,n,e,0,null,!1,!1,"",fz);return e._reactRootContainer=a,e[tu]=a.current,c_(e.nodeType===8?e.parentNode:e),Qf(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=$k(l);o.call(c)}}var l=C3(e,0,!1,null,null,!1,!1,"",fz);return e._reactRootContainer=l,e[tu]=l.current,c_(e.nodeType===8?e.parentNode:e),Qf(function(){GT(t,l,r,n)}),l}function KT(e,t,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=$k(a);o.call(l)}}GT(t,a,e,i)}else a=y0e(r,t,e,i,n);return $k(a)}fX=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=zy(t.pendingLanes);r!==0&&(GO(t,r|1),oa(t,ni()),!(Gr&6)&&(Hm=ni()+500,ch()))}break;case 13:Qf(function(){var n=ru(e,1);if(n!==null){var i=Ms();Yo(n,e,1,i)}}),k3(e,1)}};qO=function(e){if(e.tag===13){var t=ru(e,134217728);if(t!==null){var r=Ms();Yo(t,e,134217728,r)}k3(e,134217728)}};pX=function(e){if(e.tag===13){var t=Nd(e),r=ru(e,t);if(r!==null){var n=Ms();Yo(r,e,t,n)}k3(e,t)}};gX=function(){return hn};mX=function(e,t){var r=hn;try{return hn=e,t()}finally{hn=r}};mM=function(e,t,r){switch(t){case"input":if(cM(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=BT(n);if(!i)throw Error(Le(90));qZ(n),cM(n,i)}}}break;case"textarea":KZ(e,r);break;case"select":t=r.value,t!=null&&gm(e,!!r.multiple,t,!1)}};rX=_3;nX=Qf;var x0e={usingClientEntryPoint:!1,Events:[Bb,Kg,BT,eX,tX,_3]},q0={findFiberByHostInstance:gf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_0e={bundleType:q0.bundleType,version:q0.version,rendererPackageName:q0.rendererPackageName,rendererConfig:q0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_u.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=aX(e),e===null?null:e.stateNode},findFiberByHostInstance:q0.findFiberByHostInstance||v0e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var k1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!k1.isDisabled&&k1.supportsFiber)try{LT=k1.inject(_0e),Gl=k1}catch{}}La.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x0e;La.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T3(t))throw Error(Le(200));return m0e(e,t,null,r)};La.createRoot=function(e,t){if(!T3(e))throw Error(Le(299));var r=!1,n="",i=$J;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=C3(e,1,!1,null,null,r,!1,n,i),e[tu]=t.current,c_(e.nodeType===8?e.parentNode:e),new E3(t)};La.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Le(188)):(e=Object.keys(e).join(","),Error(Le(268,e)));return e=aX(t),e=e===null?null:e.stateNode,e};La.flushSync=function(e){return Qf(e)};La.hydrate=function(e,t,r){if(!YT(t))throw Error(Le(200));return KT(null,e,t,!0,r)};La.hydrateRoot=function(e,t,r){if(!T3(e))throw Error(Le(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=$J;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=OJ(t,null,e,1,r??null,i,!1,s,a),e[tu]=t.current,c_(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new qT(t)};La.render=function(e,t,r){if(!YT(t))throw Error(Le(200));return KT(null,e,t,!1,r)};La.unmountComponentAtNode=function(e){if(!YT(e))throw Error(Le(40));return e._reactRootContainer?(Qf(function(){KT(null,null,e,!1,function(){e._reactRootContainer=null,e[tu]=null})}),!0):!1};La.unstable_batchedUpdates=_3;La.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!YT(r))throw Error(Le(200));if(e==null||e._reactInternals===void 0)throw Error(Le(38));return KT(e,t,r,!1,n)};La.version="18.3.1-next-f1338f8080-20240426";function BJ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BJ)}catch(e){console.error(e)}}BJ(),BZ.exports=La;var kp=BZ.exports;const b0e=bv(kp);var pz=kp;rM.createRoot=pz.createRoot,rM.hydrateRoot=pz.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y_.apply(this,arguments)}var ud;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ud||(ud={}));const gz="popstate";function w0e(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:a,hash:o}=n.location;return KM("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Bk(i)}return C0e(t,r,null,e)}function si(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function FJ(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function S0e(){return Math.random().toString(36).substr(2,8)}function mz(e,t){return{usr:e.state,key:e.key,idx:t}}function KM(e,t,r,n){return r===void 0&&(r=null),y_({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?kv(t):t,{state:r,key:t&&t.key||n||S0e()})}function Bk(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function kv(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function C0e(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=ud.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(y_({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=ud.Pop;let m=d(),y=m==null?null:m-c;c=m,l&&l({action:o,location:v.location,delta:y})}function f(m,y){o=ud.Push;let x=KM(v.location,m,y);c=d()+1;let _=mz(x,c),b=v.createHref(x);try{a.pushState(_,"",b)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(b)}s&&l&&l({action:o,location:v.location,delta:1})}function p(m,y){o=ud.Replace;let x=KM(v.location,m,y);c=d();let _=mz(x,c),b=v.createHref(x);a.replaceState(_,"",b),s&&l&&l({action:o,location:v.location,delta:0})}function g(m){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof m=="string"?m:Bk(m);return x=x.replace(/ $/,"%20"),si(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let v={get action(){return o},get location(){return e(i,a)},listen(m){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(gz,h),l=m,()=>{i.removeEventListener(gz,h),l=null}},createHref(m){return t(i,m)},createURL:g,encodeLocation(m){let y=g(m);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(m){return a.go(m)}};return v}var vz;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(vz||(vz={}));function k0e(e,t,r){return r===void 0&&(r="/"),E0e(e,t,r)}function E0e(e,t,r,n){let i=typeof t=="string"?kv(t):t,s=N3(i.pathname||"/",r);if(s==null)return null;let a=zJ(e);T0e(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=B0e(s);o=D0e(a[l],c)}return o}function zJ(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(si(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=jd([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(si(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),zJ(s.children,t,d,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:P0e(c,s.index),routesMeta:d})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of UJ(s.path))i(s,a,l)}),t}function UJ(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=UJ(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function T0e(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:L0e(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const N0e=/^:[\w-]+$/,A0e=3,j0e=2,R0e=1,I0e=10,M0e=-2,yz=e=>e==="*";function P0e(e,t){let r=e.split("/"),n=r.length;return r.some(yz)&&(n+=M0e),t&&(n+=j0e),r.filter(i=>!yz(i)).reduce((i,s)=>i+(N0e.test(s)?A0e:s===""?R0e:I0e),n)}function L0e(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function D0e(e,t,r){let{routesMeta:n}=e,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",h=O0e({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:jd([s,h.pathname]),pathnameBase:H0e(jd([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=jd([s,h.pathnameBase]))}return a}function O0e(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=$0e(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let v=o[h]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=o[h];return p&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:e}}function $0e(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),FJ(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function B0e(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return FJ(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function N3(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function F0e(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?kv(e):e;return{pathname:r?r.startsWith("/")?r:z0e(r,t):t,search:V0e(n),hash:W0e(i)}}function z0e(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function mA(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function U0e(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function A3(e,t){let r=U0e(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function j3(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=kv(e):(i=y_({},e),si(!i.pathname||!i.pathname.includes("?"),mA("?","pathname","search",i)),si(!i.pathname||!i.pathname.includes("#"),mA("#","pathname","hash",i)),si(!i.search||!i.search.includes("#"),mA("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?t[h]:"/"}let l=F0e(i,o),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const jd=e=>e.join("/").replace(/\/\/+/g,"/"),H0e=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V0e=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,W0e=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function G0e(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const HJ=["post","put","patch","delete"];new Set(HJ);const q0e=["get",...HJ];new Set(q0e);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function x_(){return x_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x_.apply(this,arguments)}const R3=A.createContext(null),Y0e=A.createContext(null),uh=A.createContext(null),ZT=A.createContext(null),dh=A.createContext({outlet:null,matches:[],isDataRoute:!1}),VJ=A.createContext(null);function K0e(e,t){let{relative:r}=t===void 0?{}:t;Ev()||si(!1);let{basename:n,navigator:i}=A.useContext(uh),{hash:s,pathname:a,search:o}=GJ(e,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:jd([n,a])),i.createHref({pathname:l,search:o,hash:s})}function Ev(){return A.useContext(ZT)!=null}function hh(){return Ev()||si(!1),A.useContext(ZT).location}function WJ(e){A.useContext(uh).static||A.useLayoutEffect(e)}function XT(){let{isDataRoute:e}=A.useContext(dh);return e?lye():Z0e()}function Z0e(){Ev()||si(!1);let e=A.useContext(R3),{basename:t,future:r,navigator:n}=A.useContext(uh),{matches:i}=A.useContext(dh),{pathname:s}=hh(),a=JSON.stringify(A3(i,r.v7_relativeSplatPath)),o=A.useRef(!1);return WJ(()=>{o.current=!0}),A.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=j3(c,JSON.parse(a),s,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:jd([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,s,e])}function GJ(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=A.useContext(uh),{matches:i}=A.useContext(dh),{pathname:s}=hh(),a=JSON.stringify(A3(i,n.v7_relativeSplatPath));return A.useMemo(()=>j3(e,JSON.parse(a),s,r==="path"),[e,a,s,r])}function X0e(e,t){return J0e(e,t)}function J0e(e,t,r,n){Ev()||si(!1);let{navigator:i,static:s}=A.useContext(uh),{matches:a}=A.useContext(dh),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=hh(),h;if(t){var f;let y=typeof t=="string"?kv(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||si(!1),h=y}else h=d;let p=h.pathname||"/",g=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=k0e(e,{pathname:g}),m=nye(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:jd([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:jd([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n);return t&&m?A.createElement(ZT.Provider,{value:{location:x_({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ud.Pop}},m):m}function Q0e(){let e=oye(),t=G0e(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),r?A.createElement("pre",{style:i},r):null,null)}const eye=A.createElement(Q0e,null);class tye extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?A.createElement(dh.Provider,{value:this.props.routeContext},A.createElement(VJ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rye(e){let{routeContext:t,match:r,children:n}=e,i=A.useContext(R3);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),A.createElement(dh.Provider,{value:t},n)}function nye(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||si(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:p}=r,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,g=!1,v=null,m=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||eye,l&&(c<0&&f===0?(cye("route-fallback"),g=!0,m=null):c===f&&(g=!0,m=h.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,f+1)),x=()=>{let _;return p?_=v:g?_=m:h.route.Component?_=A.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=d,A.createElement(rye,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:_})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?A.createElement(tye,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var qJ=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qJ||{}),YJ=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(YJ||{});function iye(e){let t=A.useContext(R3);return t||si(!1),t}function sye(e){let t=A.useContext(Y0e);return t||si(!1),t}function aye(e){let t=A.useContext(dh);return t||si(!1),t}function KJ(e){let t=aye(),r=t.matches[t.matches.length-1];return r.route.id||si(!1),r.route.id}function oye(){var e;let t=A.useContext(VJ),r=sye(),n=KJ();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function lye(){let{router:e}=iye(qJ.UseNavigateStable),t=KJ(YJ.UseNavigateStable),r=A.useRef(!1);return WJ(()=>{r.current=!0}),A.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,x_({fromRouteId:t},s)))},[e,t])}const xz={};function cye(e,t,r){xz[e]||(xz[e]=!0)}function uye(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ZM(e){let{to:t,replace:r,state:n,relative:i}=e;Ev()||si(!1);let{future:s,static:a}=A.useContext(uh),{matches:o}=A.useContext(dh),{pathname:l}=hh(),c=XT(),d=j3(t,A3(o,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return A.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:i}),[c,h,i,r,n]),null}function Ai(e){si(!1)}function dye(e){let{basename:t="/",children:r=null,location:n,navigationType:i=ud.Pop,navigator:s,static:a=!1,future:o}=e;Ev()&&si(!1);let l=t.replace(/^\/*/,"/"),c=A.useMemo(()=>({basename:l,navigator:s,static:a,future:x_({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=kv(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:g="default"}=n,v=A.useMemo(()=>{let m=N3(d,l);return m==null?null:{location:{pathname:m,search:h,hash:f,state:p,key:g},navigationType:i}},[l,d,h,f,p,g,i]);return v==null?null:A.createElement(uh.Provider,{value:c},A.createElement(ZT.Provider,{children:r,value:v}))}function hye(e){let{children:t,location:r}=e;return X0e(XM(t),r)}new Promise(()=>{});function XM(e,t){t===void 0&&(t=[]);let r=[];return A.Children.forEach(e,(n,i)=>{if(!A.isValidElement(n))return;let s=[...t,i];if(n.type===A.Fragment){r.push.apply(r,XM(n.props.children,s));return}n.type!==Ai&&si(!1),!n.props.index||!n.props.children||si(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=XM(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function JM(){return JM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JM.apply(this,arguments)}function fye(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function pye(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gye(e,t){return e.button===0&&(!t||t==="_self")&&!pye(e)}const mye=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vye="6";try{window.__reactRouterVersion=vye}catch{}const yye="startTransition",_z=PT[yye];function xye(e){let{basename:t,children:r,future:n,window:i}=e,s=A.useRef();s.current==null&&(s.current=w0e({window:i,v5Compat:!0}));let a=s.current,[o,l]=A.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=A.useCallback(h=>{c&&_z?_z(()=>l(h)):l(h)},[l,c]);return A.useLayoutEffect(()=>a.listen(d),[a,d]),A.useEffect(()=>uye(n),[n]),A.createElement(dye,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const _ye=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bye=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZJ=A.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:h}=t,f=fye(t,mye),{basename:p}=A.useContext(uh),g,v=!1;if(typeof c=="string"&&bye.test(c)&&(g=c,_ye))try{let _=new URL(window.location.href),b=c.startsWith("//")?new URL(_.protocol+c):new URL(c),w=N3(b.pathname,p);b.origin===_.origin&&w!=null?c=w+b.search+b.hash:v=!0}catch{}let m=K0e(c,{relative:i}),y=wye(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h});function x(_){n&&n(_),_.defaultPrevented||y(_)}return A.createElement("a",JM({},f,{href:g||m,onClick:v||s?n:x,ref:r,target:l}))});var bz;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(bz||(bz={}));var wz;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wz||(wz={}));function wye(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=t===void 0?{}:t,l=XT(),c=hh(),d=GJ(e,{relative:a});return A.useCallback(h=>{if(gye(h,r)){h.preventDefault();let f=n!==void 0?n:Bk(c)===Bk(d);l(e,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,d,n,i,r,e,s,a,o])}var Sye={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Cye=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qe=(e,t)=>{const r=A.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,children:o,...l},c)=>A.createElement("svg",{ref:c,...Sye,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:`lucide lucide-${Cye(e)}`,...l},[...t.map(([d,h])=>A.createElement(d,h)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${e}`,r},Rd=Qe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),kye=Qe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),bi=Qe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Fk=Qe("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]),Ka=Qe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),XJ=Qe("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]),Sz=Qe("ArrowUpToLine",[["path",{d:"M5 3h14",key:"7usisc"}],["path",{d:"m18 13-6-6-6 6",key:"1kf1n9"}],["path",{d:"M12 7v14",key:"1akyts"}]]),Cz=Qe("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),Mg=Qe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),JJ=Qe("BarChartBig",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["rect",{width:"4",height:"7",x:"7",y:"10",rx:"1",key:"14u6mf"}],["rect",{width:"4",height:"12",x:"15",y:"5",rx:"1",key:"b3pek6"}]]),Eye=Qe("BatteryFull",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}],["line",{x1:"10",x2:"10",y1:"11",y2:"13",key:"haxvl5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"13",key:"c6fn6x"}]]),js=Qe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),Y0=Qe("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Tye=Qe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),JT=Qe("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),zk=Qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Nye=Qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Aye=Qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),kx=Qe("CircuitBoard",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M11 9h4a2 2 0 0 0 2-2V3",key:"1ve2rv"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"M7 21v-4a2 2 0 0 1 2-2h4",key:"1fwkro"}],["circle",{cx:"15",cy:"15",r:"2",key:"3i40o0"}]]),QT=Qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),jye=Qe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),Rye=Qe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Vm=Qe("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),Wm=Qe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Yl=Qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Iye=Qe("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Mye=Qe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),QM=Qe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),kz=Qe("Fan",[["path",{d:"M10.827 16.379a6.082 6.082 0 0 1-8.618-7.002l5.412 1.45a6.082 6.082 0 0 1 7.002-8.618l-1.45 5.412a6.082 6.082 0 0 1 8.618 7.002l-5.412-1.45a6.082 6.082 0 0 1-7.002 8.618l1.45-5.412Z",key:"484a7f"}],["path",{d:"M12 12v.01",key:"u5ubse"}]]),Pye=Qe("FileJson",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]),to=Qe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Lye=Qe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Dye=Qe("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),Oye=Qe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Ez=Qe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),I3=Qe("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),$ye=Qe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),eP=Qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Bye=Qe("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]),__=Qe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),M3=Qe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),vA=Qe("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),$t=Qe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Tz=Qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Fye=Qe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),zye=Qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Uye=Qe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),ea=Qe("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]),Nz=Qe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),Hye=Qe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),QJ=Qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Az=Qe("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]),io=Qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Uk=Qe("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]),eQ=Qe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),ti=Qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),tQ=Qe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),P3=Qe("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),Vye=Qe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Wye=Qe("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Gye=Qe("TerminalSquare",[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]]),qye=Qe("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]),rQ=Qe("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),Hy=Qe("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]),Vy=Qe("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),Yye=Qe("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),Kye=Qe("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]),nQ=Qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),iQ=Qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Zye=Qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Wy=Qe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ps=Qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Xye=Qe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Jye=Qe("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function sQ(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=sQ(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function aQ(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=sQ(e))&&(n&&(n+=" "),n+=t);return n}const jz=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Rz=aQ,L3=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Rz(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(c=>{const d=r==null?void 0:r[c],h=s==null?void 0:s[c];if(d===null)return null;const f=jz(d)||jz(h);return i[c][f]}),o=r&&Object.entries(r).reduce((c,d)=>{let[h,f]=d;return f===void 0||(c[h]=f),c},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(g=>{let[v,m]=g;return Array.isArray(m)?m.includes({...s,...o}[v]):{...s,...o}[v]===m})?[...c,h,f]:c},[]);return Rz(e,a,l,r==null?void 0:r.class,r==null?void 0:r.className)},D3="-",Qye=e=>{const t=txe(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const o=a.split(D3);return o[0]===""&&o.length!==1&&o.shift(),oQ(o,t)||exe(a)},getConflictingClassGroupIds:(a,o)=>{const l=r[a]||[];return o&&n[a]?[...l,...n[a]]:l}}},oQ=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?oQ(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(D3);return(a=t.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},Iz=/^\[(.+)\]$/,exe=e=>{if(Iz.test(e)){const t=Iz.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},txe=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return nxe(Object.entries(e.classGroups),r).forEach(([s,a])=>{tP(a,n,s,t)}),n},tP=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:Mz(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(rxe(i)){tP(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{tP(a,Mz(t,s),r,n)})})},Mz=(e,t)=>{let r=e;return t.split(D3).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},rxe=e=>e.isThemeGetter,nxe=(e,t)=>t?e.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[t+a,o])):s);return[r,i]}):e,ixe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(s,a)=>{r.set(s,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},lQ="!",sxe=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],s=t.length,a=o=>{const l=[];let c=0,d=0,h;for(let m=0;m<o.length;m++){let y=o[m];if(c===0){if(y===i&&(n||o.slice(m,m+s)===t)){l.push(o.slice(d,m)),d=m+s;continue}if(y==="/"){h=m;continue}}y==="["?c++:y==="]"&&c--}const f=l.length===0?o:o.substring(d),p=f.startsWith(lQ),g=p?f.substring(1):f,v=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:v}};return r?o=>r({className:o,parseClassName:a}):a},axe=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},oxe=e=>({cache:ixe(e.cacheSize),parseClassName:sxe(e),...Qye(e)}),lxe=/\s+/,cxe=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,s=[],a=e.trim().split(lxe);let o="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=r(c);let g=!!p,v=n(g?f.substring(0,p):f);if(!v){if(!g){o=c+(o.length>0?" "+o:o);continue}if(v=n(f),!v){o=c+(o.length>0?" "+o:o);continue}g=!1}const m=axe(d).join(":"),y=h?m+lQ:m,x=y+v;if(s.includes(x))continue;s.push(x);const _=i(v,g);for(let b=0;b<_.length;++b){const w=_[b];s.push(y+w)}o=c+(o.length>0?" "+o:o)}return o};function uxe(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=cQ(t))&&(n&&(n+=" "),n+=r);return n}const cQ=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=cQ(e[n]))&&(r&&(r+=" "),r+=t);return r};function dxe(e,...t){let r,n,i,s=a;function a(l){const c=t.reduce((d,h)=>h(d),e());return r=oxe(c),n=r.cache.get,i=r.cache.set,s=o,o(l)}function o(l){const c=n(l);if(c)return c;const d=cxe(l,r);return i(l,d),d}return function(){return s(uxe.apply(null,arguments))}}const Mn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},uQ=/^\[(?:([a-z-]+):)?(.+)\]$/i,hxe=/^\d+\/\d+$/,fxe=new Set(["px","full","screen"]),pxe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gxe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mxe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vxe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yxe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sc=e=>bm(e)||fxe.has(e)||hxe.test(e),Iu=e=>Tv(e,"length",Exe),bm=e=>!!e&&!Number.isNaN(Number(e)),yA=e=>Tv(e,"number",bm),K0=e=>!!e&&Number.isInteger(Number(e)),xxe=e=>e.endsWith("%")&&bm(e.slice(0,-1)),dr=e=>uQ.test(e),Mu=e=>pxe.test(e),_xe=new Set(["length","size","percentage"]),bxe=e=>Tv(e,_xe,dQ),wxe=e=>Tv(e,"position",dQ),Sxe=new Set(["image","url"]),Cxe=e=>Tv(e,Sxe,Nxe),kxe=e=>Tv(e,"",Txe),Z0=()=>!0,Tv=(e,t,r)=>{const n=uQ.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Exe=e=>gxe.test(e)&&!mxe.test(e),dQ=()=>!1,Txe=e=>vxe.test(e),Nxe=e=>yxe.test(e),Axe=()=>{const e=Mn("colors"),t=Mn("spacing"),r=Mn("blur"),n=Mn("brightness"),i=Mn("borderColor"),s=Mn("borderRadius"),a=Mn("borderSpacing"),o=Mn("borderWidth"),l=Mn("contrast"),c=Mn("grayscale"),d=Mn("hueRotate"),h=Mn("invert"),f=Mn("gap"),p=Mn("gradientColorStops"),g=Mn("gradientColorStopPositions"),v=Mn("inset"),m=Mn("margin"),y=Mn("opacity"),x=Mn("padding"),_=Mn("saturate"),b=Mn("scale"),w=Mn("sepia"),S=Mn("skew"),k=Mn("space"),C=Mn("translate"),E=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",dr,t],R=()=>[dr,t],P=()=>["",Sc,Iu],D=()=>["auto",bm,dr],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",dr],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[bm,dr];return{cacheSize:500,separator:":",theme:{colors:[Z0],spacing:[Sc,Iu],blur:["none","",Mu,dr],brightness:z(),borderColor:[e],borderRadius:["none","","full",Mu,dr],borderSpacing:R(),borderWidth:P(),contrast:z(),grayscale:M(),hueRotate:z(),invert:M(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[xxe,Iu],inset:N(),margin:N(),opacity:z(),padding:R(),saturate:z(),scale:z(),sepia:M(),skew:z(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",dr]}],container:["container"],columns:[{columns:[Mu]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),dr]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",K0,dr]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",dr]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",K0,dr]}],"grid-cols":[{"grid-cols":[Z0]}],"col-start-end":[{col:["auto",{span:["full",K0,dr]},dr]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Z0]}],"row-start-end":[{row:["auto",{span:[K0,dr]},dr]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",dr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",dr]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",dr,t]}],"min-w":[{"min-w":[dr,t,"min","max","fit"]}],"max-w":[{"max-w":[dr,t,"none","full","min","max","fit","prose",{screen:[Mu]},Mu]}],h:[{h:[dr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[dr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[dr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[dr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Mu,Iu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yA]}],"font-family":[{font:[Z0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",dr]}],"line-clamp":[{"line-clamp":["none",bm,yA]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sc,dr]}],"list-image":[{"list-image":["none",dr]}],"list-style-type":[{list:["none","disc","decimal",dr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sc,Iu]}],"underline-offset":[{"underline-offset":["auto",Sc,dr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",dr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",dr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),wxe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bxe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Cxe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:L()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Sc,dr]}],"outline-w":[{outline:[Sc,Iu]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Sc,Iu]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Mu,kxe]}],"shadow-color":[{shadow:[Z0]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Mu,dr]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[_]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",dr]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",dr]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",dr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[K0,dr]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",dr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",dr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",dr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Sc,Iu,yA]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jxe=dxe(Axe);function Yt(...e){return jxe(aQ(e))}function ep(e,t=2){if(e===0)return"0 B";const r=1024,n=t<0?0:t,i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(r));return`${parseFloat((e/Math.pow(r,s)).toFixed(n))} ${i[s]}`}function E1(e,t=1){return`${(e*100).toFixed(t)}%`}const Rxe=L3("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ce({className:e,variant:t,...r}){return u.jsx("div",{className:Yt(Rxe({variant:t}),e),...r})}function hQ(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ixe}=Object.prototype,{getPrototypeOf:O3}=Object,eN=(e=>t=>{const r=Ixe.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ol=e=>(e=e.toLowerCase(),t=>eN(t)===e),tN=e=>t=>typeof t===e,{isArray:Nv}=Array,b_=tN("undefined");function Mxe(e){return e!==null&&!b_(e)&&e.constructor!==null&&!b_(e.constructor)&&Ea(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const fQ=ol("ArrayBuffer");function Pxe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&fQ(e.buffer),t}const Lxe=tN("string"),Ea=tN("function"),pQ=tN("number"),rN=e=>e!==null&&typeof e=="object",Dxe=e=>e===!0||e===!1,RC=e=>{if(eN(e)!=="object")return!1;const t=O3(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Oxe=ol("Date"),$xe=ol("File"),Bxe=ol("Blob"),Fxe=ol("FileList"),zxe=e=>rN(e)&&Ea(e.pipe),Uxe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ea(e.append)&&((t=eN(e))==="formdata"||t==="object"&&Ea(e.toString)&&e.toString()==="[object FormData]"))},Hxe=ol("URLSearchParams"),[Vxe,Wxe,Gxe,qxe]=["ReadableStream","Request","Response","Headers"].map(ol),Yxe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zb(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),Nv(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const s=r?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let o;for(n=0;n<a;n++)o=s[n],t.call(null,e[o],o,e)}}function gQ(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const yf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mQ=e=>!b_(e)&&e!==yf;function rP(){const{caseless:e}=mQ(this)&&this||{},t={},r=(n,i)=>{const s=e&&gQ(t,i)||i;RC(t[s])&&RC(n)?t[s]=rP(t[s],n):RC(n)?t[s]=rP({},n):Nv(n)?t[s]=n.slice():t[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&zb(arguments[n],r);return t}const Kxe=(e,t,r,{allOwnKeys:n}={})=>(zb(t,(i,s)=>{r&&Ea(i)?e[s]=hQ(i,r):e[s]=i},{allOwnKeys:n}),e),Zxe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Xxe=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Jxe=(e,t,r,n)=>{let i,s,a;const o={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],(!n||n(a,e,t))&&!o[a]&&(t[a]=e[a],o[a]=!0);e=r!==!1&&O3(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Qxe=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},e_e=e=>{if(!e)return null;if(Nv(e))return e;let t=e.length;if(!pQ(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},t_e=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&O3(Uint8Array)),r_e=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},n_e=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},i_e=ol("HTMLFormElement"),s_e=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),Pz=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),a_e=ol("RegExp"),vQ=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};zb(r,(i,s)=>{let a;(a=t(i,s,e))!==!1&&(n[s]=a||i)}),Object.defineProperties(e,n)},o_e=e=>{vQ(e,(t,r)=>{if(Ea(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Ea(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},l_e=(e,t)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Nv(e)?n(e):n(String(e).split(t)),r},c_e=()=>{},u_e=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function d_e(e){return!!(e&&Ea(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const h_e=e=>{const t=new Array(10),r=(n,i)=>{if(rN(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const s=Nv(n)?[]:{};return zb(n,(a,o)=>{const l=r(a,i+1);!b_(l)&&(s[o]=l)}),t[i]=void 0,s}}return n};return r(e,0)},f_e=ol("AsyncFunction"),p_e=e=>e&&(rN(e)||Ea(e))&&Ea(e.then)&&Ea(e.catch),yQ=((e,t)=>e?setImmediate:t?((r,n)=>(yf.addEventListener("message",({source:i,data:s})=>{i===yf&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),yf.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ea(yf.postMessage)),g_e=typeof queueMicrotask<"u"?queueMicrotask.bind(yf):typeof process<"u"&&process.nextTick||yQ,ye={isArray:Nv,isArrayBuffer:fQ,isBuffer:Mxe,isFormData:Uxe,isArrayBufferView:Pxe,isString:Lxe,isNumber:pQ,isBoolean:Dxe,isObject:rN,isPlainObject:RC,isReadableStream:Vxe,isRequest:Wxe,isResponse:Gxe,isHeaders:qxe,isUndefined:b_,isDate:Oxe,isFile:$xe,isBlob:Bxe,isRegExp:a_e,isFunction:Ea,isStream:zxe,isURLSearchParams:Hxe,isTypedArray:t_e,isFileList:Fxe,forEach:zb,merge:rP,extend:Kxe,trim:Yxe,stripBOM:Zxe,inherits:Xxe,toFlatObject:Jxe,kindOf:eN,kindOfTest:ol,endsWith:Qxe,toArray:e_e,forEachEntry:r_e,matchAll:n_e,isHTMLForm:i_e,hasOwnProperty:Pz,hasOwnProp:Pz,reduceDescriptors:vQ,freezeMethods:o_e,toObjectSet:l_e,toCamelCase:s_e,noop:c_e,toFiniteNumber:u_e,findKey:gQ,global:yf,isContextDefined:mQ,isSpecCompliantForm:d_e,toJSONObject:h_e,isAsyncFn:f_e,isThenable:p_e,setImmediate:yQ,asap:g_e};function ar(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}ye.inherits(ar,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ye.toJSONObject(this.config),code:this.code,status:this.status}}});const xQ=ar.prototype,_Q={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{_Q[e]={value:e}});Object.defineProperties(ar,_Q);Object.defineProperty(xQ,"isAxiosError",{value:!0});ar.from=(e,t,r,n,i,s)=>{const a=Object.create(xQ);return ye.toFlatObject(e,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),ar.call(a,e.message,t,r,n,i),a.cause=e,a.name=e.name,s&&Object.assign(a,s),a};const m_e=null;function nP(e){return ye.isPlainObject(e)||ye.isArray(e)}function bQ(e){return ye.endsWith(e,"[]")?e.slice(0,-2):e}function Lz(e,t,r){return e?e.concat(t).map(function(i,s){return i=bQ(i),!r&&s?"["+i+"]":i}).join(r?".":""):t}function v_e(e){return ye.isArray(e)&&!e.some(nP)}const y_e=ye.toFlatObject(ye,{},null,function(t){return/^is[A-Z]/.test(t)});function nN(e,t,r){if(!ye.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ye.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,m){return!ye.isUndefined(m[v])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&ye.isSpecCompliantForm(t);if(!ye.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(ye.isDate(g))return g.toISOString();if(!l&&ye.isBlob(g))throw new ar("Blob is not supported. Use a Buffer instead.");return ye.isArrayBuffer(g)||ye.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,v,m){let y=g;if(g&&!m&&typeof g=="object"){if(ye.endsWith(v,"{}"))v=n?v:v.slice(0,-2),g=JSON.stringify(g);else if(ye.isArray(g)&&v_e(g)||(ye.isFileList(g)||ye.endsWith(v,"[]"))&&(y=ye.toArray(g)))return v=bQ(v),y.forEach(function(_,b){!(ye.isUndefined(_)||_===null)&&t.append(a===!0?Lz([v],b,s):a===null?v:v+"[]",c(_))}),!1}return nP(g)?!0:(t.append(Lz(m,v,s),c(g)),!1)}const h=[],f=Object.assign(y_e,{defaultVisitor:d,convertValue:c,isVisitable:nP});function p(g,v){if(!ye.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(g),ye.forEach(g,function(y,x){(!(ye.isUndefined(y)||y===null)&&i.call(t,y,ye.isString(x)?x.trim():x,v,f))===!0&&p(y,v?v.concat(x):[x])}),h.pop()}}if(!ye.isObject(e))throw new TypeError("data must be an object");return p(e),t}function Dz(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function $3(e,t){this._pairs=[],e&&nN(e,this,t)}const wQ=$3.prototype;wQ.append=function(t,r){this._pairs.push([t,r])};wQ.toString=function(t){const r=t?function(n){return t.call(this,n,Dz)}:Dz;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function x_e(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function SQ(e,t,r){if(!t)return e;const n=r&&r.encode||x_e;ye.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(t,r):s=ye.isURLSearchParams(t)?t.toString():new $3(t,r).toString(n),s){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class Oz{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ye.forEach(this.handlers,function(n){n!==null&&t(n)})}}const CQ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},__e=typeof URLSearchParams<"u"?URLSearchParams:$3,b_e=typeof FormData<"u"?FormData:null,w_e=typeof Blob<"u"?Blob:null,S_e={isBrowser:!0,classes:{URLSearchParams:__e,FormData:b_e,Blob:w_e},protocols:["http","https","file","blob","url","data"]},B3=typeof window<"u"&&typeof document<"u",iP=typeof navigator=="object"&&navigator||void 0,C_e=B3&&(!iP||["ReactNative","NativeScript","NS"].indexOf(iP.product)<0),k_e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",E_e=B3&&window.location.href||"http://localhost",T_e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:B3,hasStandardBrowserEnv:C_e,hasStandardBrowserWebWorkerEnv:k_e,navigator:iP,origin:E_e},Symbol.toStringTag,{value:"Module"})),os={...T_e,...S_e};function N_e(e,t){return nN(e,new os.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return os.isNode&&ye.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function A_e(e){return ye.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function j_e(e){const t={},r=Object.keys(e);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],t[s]=e[s];return t}function kQ(e){function t(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&ye.isArray(i)?i.length:a,l?(ye.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!ye.isObject(i[a]))&&(i[a]=[]),t(r,n,i[a],s)&&ye.isArray(i[a])&&(i[a]=j_e(i[a])),!o)}if(ye.isFormData(e)&&ye.isFunction(e.entries)){const r={};return ye.forEachEntry(e,(n,i)=>{t(A_e(n),i,r,0)}),r}return null}function R_e(e,t,r){if(ye.isString(e))try{return(t||JSON.parse)(e),ye.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Ub={transitional:CQ,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=ye.isObject(t);if(s&&ye.isHTMLForm(t)&&(t=new FormData(t)),ye.isFormData(t))return i?JSON.stringify(kQ(t)):t;if(ye.isArrayBuffer(t)||ye.isBuffer(t)||ye.isStream(t)||ye.isFile(t)||ye.isBlob(t)||ye.isReadableStream(t))return t;if(ye.isArrayBufferView(t))return t.buffer;if(ye.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return N_e(t,this.formSerializer).toString();if((o=ye.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return nN(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),R_e(t)):t}],transformResponse:[function(t){const r=this.transitional||Ub.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(ye.isResponse(t)||ye.isReadableStream(t))return t;if(t&&ye.isString(t)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(o){if(a)throw o.name==="SyntaxError"?ar.from(o,ar.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:os.classes.FormData,Blob:os.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ye.forEach(["delete","get","head","post","put","patch"],e=>{Ub.headers[e]={}});const I_e=ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),M_e=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||t[r]&&I_e[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},$z=Symbol("internals");function X0(e){return e&&String(e).trim().toLowerCase()}function IC(e){return e===!1||e==null?e:ye.isArray(e)?e.map(IC):String(e)}function P_e(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const L_e=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function xA(e,t,r,n,i){if(ye.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!ye.isString(t)){if(ye.isString(n))return t.indexOf(n)!==-1;if(ye.isRegExp(n))return n.test(t)}}function D_e(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function O_e(e,t){const r=ye.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,s,a){return this[n].call(this,t,i,s,a)},configurable:!0})})}let la=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function s(o,l,c){const d=X0(l);if(!d)throw new Error("header name must be a non-empty string");const h=ye.findKey(i,d);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=IC(o))}const a=(o,l)=>ye.forEach(o,(c,d)=>s(c,d,l));if(ye.isPlainObject(t)||t instanceof this.constructor)a(t,r);else if(ye.isString(t)&&(t=t.trim())&&!L_e(t))a(M_e(t),r);else if(ye.isHeaders(t))for(const[o,l]of t.entries())s(l,o,n);else t!=null&&s(r,t,n);return this}get(t,r){if(t=X0(t),t){const n=ye.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return P_e(i);if(ye.isFunction(r))return r.call(this,i,n);if(ye.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=X0(t),t){const n=ye.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||xA(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function s(a){if(a=X0(a),a){const o=ye.findKey(n,a);o&&(!r||xA(n,n[o],o,r))&&(delete n[o],i=!0)}}return ye.isArray(t)?t.forEach(s):s(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!t||xA(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const r=this,n={};return ye.forEach(this,(i,s)=>{const a=ye.findKey(n,s);if(a){r[a]=IC(i),delete r[s];return}const o=t?D_e(s):String(s).trim();o!==s&&delete r[s],r[o]=IC(i),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ye.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&ye.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[$z]=this[$z]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=X0(a);n[o]||(O_e(i,a),n[o]=!0)}return ye.isArray(t)?t.forEach(s):s(t),this}};la.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ye.reduceDescriptors(la.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});ye.freezeMethods(la);function _A(e,t){const r=this||Ub,n=t||r,i=la.from(n.headers);let s=n.data;return ye.forEach(e,function(o){s=o.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function EQ(e){return!!(e&&e.__CANCEL__)}function Av(e,t,r){ar.call(this,e??"canceled",ar.ERR_CANCELED,t,r),this.name="CanceledError"}ye.inherits(Av,ar,{__CANCEL__:!0});function TQ(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ar("Request failed with status code "+r.status,[ar.ERR_BAD_REQUEST,ar.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function $_e(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function B_e(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,s=0,a;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),d=n[s];a||(a=c),r[i]=l,n[i]=c;let h=s,f=0;for(;h!==i;)f+=r[h++],h=h%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),c-a<t)return;const p=d&&c-d;return p?Math.round(f*1e3/p):void 0}}function F_e(e,t){let r=0,n=1e3/t,i,s;const a=(c,d=Date.now())=>{r=d,i=null,s&&(clearTimeout(s),s=null),e.apply(null,c)};return[(...c)=>{const d=Date.now(),h=d-r;h>=n?a(c,d):(i=c,s||(s=setTimeout(()=>{s=null,a(i)},n-h)))},()=>i&&a(i)]}const Hk=(e,t,r=3)=>{let n=0;const i=B_e(50,250);return F_e(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,c=i(l),d=a<=o;n=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&d?(o-a)/c:void 0,event:s,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(h)},r)},Bz=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Fz=e=>(...t)=>ye.asap(()=>e(...t)),z_e=os.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,os.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(os.origin),os.navigator&&/(msie|trident)/i.test(os.navigator.userAgent)):()=>!0,U_e=os.hasStandardBrowserEnv?{write(e,t,r,n,i,s){const a=[e+"="+encodeURIComponent(t)];ye.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),ye.isString(n)&&a.push("path="+n),ye.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function H_e(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function V_e(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function NQ(e,t,r){let n=!H_e(t);return e&&(n||r==!1)?V_e(e,t):t}const zz=e=>e instanceof la?{...e}:e;function tp(e,t){t=t||{};const r={};function n(c,d,h,f){return ye.isPlainObject(c)&&ye.isPlainObject(d)?ye.merge.call({caseless:f},c,d):ye.isPlainObject(d)?ye.merge({},d):ye.isArray(d)?d.slice():d}function i(c,d,h,f){if(ye.isUndefined(d)){if(!ye.isUndefined(c))return n(void 0,c,h,f)}else return n(c,d,h,f)}function s(c,d){if(!ye.isUndefined(d))return n(void 0,d)}function a(c,d){if(ye.isUndefined(d)){if(!ye.isUndefined(c))return n(void 0,c)}else return n(void 0,d)}function o(c,d,h){if(h in t)return n(c,d);if(h in e)return n(void 0,c)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,d,h)=>i(zz(c),zz(d),h,!0)};return ye.forEach(Object.keys(Object.assign({},e,t)),function(d){const h=l[d]||i,f=h(e[d],t[d],d);ye.isUndefined(f)&&h!==o||(r[d]=f)}),r}const AQ=e=>{const t=tp({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=t;t.headers=a=la.from(a),t.url=SQ(NQ(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(ye.isFormData(r)){if(os.hasStandardBrowserEnv||os.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[c,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...d].join("; "))}}if(os.hasStandardBrowserEnv&&(n&&ye.isFunction(n)&&(n=n(t)),n||n!==!1&&z_e(t.url))){const c=i&&s&&U_e.read(s);c&&a.set(i,c)}return t},W_e=typeof XMLHttpRequest<"u",G_e=W_e&&function(e){return new Promise(function(r,n){const i=AQ(e);let s=i.data;const a=la.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=i,d,h,f,p,g;function v(){p&&p(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let m=new XMLHttpRequest;m.open(i.method.toUpperCase(),i.url,!0),m.timeout=i.timeout;function y(){if(!m)return;const _=la.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:_,config:e,request:m};TQ(function(k){r(k),v()},function(k){n(k),v()},w),m=null}"onloadend"in m?m.onloadend=y:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(y)},m.onabort=function(){m&&(n(new ar("Request aborted",ar.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new ar("Network Error",ar.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const w=i.transitional||CQ;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),n(new ar(b,w.clarifyTimeoutError?ar.ETIMEDOUT:ar.ECONNABORTED,e,m)),m=null},s===void 0&&a.setContentType(null),"setRequestHeader"in m&&ye.forEach(a.toJSON(),function(b,w){m.setRequestHeader(w,b)}),ye.isUndefined(i.withCredentials)||(m.withCredentials=!!i.withCredentials),o&&o!=="json"&&(m.responseType=i.responseType),c&&([f,g]=Hk(c,!0),m.addEventListener("progress",f)),l&&m.upload&&([h,p]=Hk(l),m.upload.addEventListener("progress",h),m.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=_=>{m&&(n(!_||_.type?new Av(null,e,m):_),m.abort(),m=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const x=$_e(i.url);if(x&&os.protocols.indexOf(x)===-1){n(new ar("Unsupported protocol "+x+":",ar.ERR_BAD_REQUEST,e));return}m.send(s||null)})},q_e=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const s=function(c){if(!i){i=!0,o();const d=c instanceof Error?c:this.reason;n.abort(d instanceof ar?d:new Av(d instanceof Error?d.message:d))}};let a=t&&setTimeout(()=>{a=null,s(new ar(`timeout ${t} of ms exceeded`,ar.ETIMEDOUT))},t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),e=null)};e.forEach(c=>c.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>ye.asap(o),l}},Y_e=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},K_e=async function*(e,t){for await(const r of Z_e(e))yield*Y_e(r,t)},Z_e=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Uz=(e,t,r,n)=>{const i=K_e(e,t);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await i.next();if(c){o(),l.close();return}let h=d.byteLength;if(r){let f=s+=h;r(f)}l.enqueue(new Uint8Array(d))}catch(c){throw o(c),c}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},iN=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",jQ=iN&&typeof ReadableStream=="function",X_e=iN&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),RQ=(e,...t)=>{try{return!!e(...t)}catch{return!1}},J_e=jQ&&RQ(()=>{let e=!1;const t=new Request(os.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Hz=64*1024,sP=jQ&&RQ(()=>ye.isReadableStream(new Response("").body)),Vk={stream:sP&&(e=>e.body)};iN&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Vk[t]&&(Vk[t]=ye.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new ar(`Response type '${t}' is not supported`,ar.ERR_NOT_SUPPORT,n)})})})(new Response);const Q_e=async e=>{if(e==null)return 0;if(ye.isBlob(e))return e.size;if(ye.isSpecCompliantForm(e))return(await new Request(os.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ye.isArrayBufferView(e)||ye.isArrayBuffer(e))return e.byteLength;if(ye.isURLSearchParams(e)&&(e=e+""),ye.isString(e))return(await X_e(e)).byteLength},ebe=async(e,t)=>{const r=ye.toFiniteNumber(e.getContentLength());return r??Q_e(t)},tbe=iN&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:d,withCredentials:h="same-origin",fetchOptions:f}=AQ(e);c=c?(c+"").toLowerCase():"text";let p=q_e([i,s&&s.toAbortSignal()],a),g;const v=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let m;try{if(l&&J_e&&r!=="get"&&r!=="head"&&(m=await ebe(d,n))!==0){let w=new Request(t,{method:"POST",body:n,duplex:"half"}),S;if(ye.isFormData(n)&&(S=w.headers.get("content-type"))&&d.setContentType(S),w.body){const[k,C]=Bz(m,Hk(Fz(l)));n=Uz(w.body,Hz,k,C)}}ye.isString(h)||(h=h?"include":"omit");const y="credentials"in Request.prototype;g=new Request(t,{...f,signal:p,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:y?h:void 0});let x=await fetch(g);const _=sP&&(c==="stream"||c==="response");if(sP&&(o||_&&v)){const w={};["status","statusText","headers"].forEach(E=>{w[E]=x[E]});const S=ye.toFiniteNumber(x.headers.get("content-length")),[k,C]=o&&Bz(S,Hk(Fz(o),!0))||[];x=new Response(Uz(x.body,Hz,k,()=>{C&&C(),v&&v()}),w)}c=c||"text";let b=await Vk[ye.findKey(Vk,c)||"text"](x,e);return!_&&v&&v(),await new Promise((w,S)=>{TQ(w,S,{data:b,headers:la.from(x.headers),status:x.status,statusText:x.statusText,config:e,request:g})})}catch(y){throw v&&v(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new ar("Network Error",ar.ERR_NETWORK,e,g),{cause:y.cause||y}):ar.from(y,y&&y.code,e,g)}}),aP={http:m_e,xhr:G_e,fetch:tbe};ye.forEach(aP,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Vz=e=>`- ${e}`,rbe=e=>ye.isFunction(e)||e===null||e===!1,IQ={getAdapter:e=>{e=ye.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let s=0;s<t;s++){r=e[s];let a;if(n=r,!rbe(r)&&(n=aP[(a=String(r)).toLowerCase()],n===void 0))throw new ar(`Unknown adapter '${a}'`);if(n)break;i[a||"#"+s]=n}if(!n){const s=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=t?s.length>1?`since :
`+s.map(Vz).join(`
`):" "+Vz(s[0]):"as no adapter specified";throw new ar("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:aP};function bA(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Av(null,e)}function Wz(e){return bA(e),e.headers=la.from(e.headers),e.data=_A.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),IQ.getAdapter(e.adapter||Ub.adapter)(e).then(function(n){return bA(e),n.data=_A.call(e,e.transformResponse,n),n.headers=la.from(n.headers),n},function(n){return EQ(n)||(bA(e),n&&n.response&&(n.response.data=_A.call(e,e.transformResponse,n.response),n.response.headers=la.from(n.response.headers))),Promise.reject(n)})}const MQ="1.8.4",sN={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{sN[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Gz={};sN.transitional=function(t,r,n){function i(s,a){return"[Axios v"+MQ+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(t===!1)throw new ar(i(a," has been removed"+(r?" in "+r:"")),ar.ERR_DEPRECATED);return r&&!Gz[a]&&(Gz[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,a,o):!0}};sN.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function nbe(e,t,r){if(typeof e!="object")throw new ar("options must be an object",ar.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const s=n[i],a=t[s];if(a){const o=e[s],l=o===void 0||a(o,s,e);if(l!==!0)throw new ar("option "+s+" must be "+l,ar.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ar("Unknown option "+s,ar.ERR_BAD_OPTION)}}const MC={assertOptions:nbe,validators:sN},xl=MC.validators;let Pf=class{constructor(t){this.defaults=t,this.interceptors={request:new Oz,response:new Oz}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=tp(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&MC.assertOptions(n,{silentJSONParsing:xl.transitional(xl.boolean),forcedJSONParsing:xl.transitional(xl.boolean),clarifyTimeoutError:xl.transitional(xl.boolean)},!1),i!=null&&(ye.isFunction(i)?r.paramsSerializer={serialize:i}:MC.assertOptions(i,{encode:xl.function,serialize:xl.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),MC.assertOptions(r,{baseUrl:xl.spelling("baseURL"),withXsrfToken:xl.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&ye.merge(s.common,s[r.method]);s&&ye.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),r.headers=la.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(l=l&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let d,h=0,f;if(!l){const g=[Wz.bind(this),void 0];for(g.unshift.apply(g,o),g.push.apply(g,c),f=g.length,d=Promise.resolve(r);h<f;)d=d.then(g[h++],g[h++]);return d}f=o.length;let p=r;for(h=0;h<f;){const g=o[h++],v=o[h++];try{p=g(p)}catch(m){v.call(this,m);break}}try{d=Wz.call(this,p)}catch(g){return Promise.reject(g)}for(h=0,f=c.length;h<f;)d=d.then(c[h++],c[h++]);return d}getUri(t){t=tp(this.defaults,t);const r=NQ(t.baseURL,t.url,t.allowAbsoluteUrls);return SQ(r,t.params,t.paramsSerializer)}};ye.forEach(["delete","get","head","options"],function(t){Pf.prototype[t]=function(r,n){return this.request(tp(n||{},{method:t,url:r,data:(n||{}).data}))}});ye.forEach(["post","put","patch"],function(t){function r(n){return function(s,a,o){return this.request(tp(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Pf.prototype[t]=r(),Pf.prototype[t+"Form"]=r(!0)});let ibe=class PQ{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},t(function(s,a,o){n.reason||(n.reason=new Av(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new PQ(function(i){t=i}),cancel:t}}};function sbe(e){return function(r){return e.apply(null,r)}}function abe(e){return ye.isObject(e)&&e.isAxiosError===!0}const oP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(oP).forEach(([e,t])=>{oP[t]=e});function LQ(e){const t=new Pf(e),r=hQ(Pf.prototype.request,t);return ye.extend(r,Pf.prototype,t,{allOwnKeys:!0}),ye.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return LQ(tp(e,i))},r}const Nt=LQ(Ub);Nt.Axios=Pf;Nt.CanceledError=Av;Nt.CancelToken=ibe;Nt.isCancel=EQ;Nt.VERSION=MQ;Nt.toFormData=nN;Nt.AxiosError=ar;Nt.Cancel=Nt.CanceledError;Nt.all=function(t){return Promise.all(t)};Nt.spread=sbe;Nt.isAxiosError=abe;Nt.mergeConfig=tp;Nt.AxiosHeaders=la;Nt.formToJSON=e=>kQ(ye.isHTMLForm(e)?new FormData(e):e);Nt.getAdapter=IQ.getAdapter;Nt.HttpStatusCode=oP;Nt.default=Nt;const{Axios:spt,AxiosError:apt,CanceledError:opt,isCancel:lpt,CancelToken:cpt,VERSION:upt,all:dpt,Cancel:hpt,isAxiosError:fpt,spread:ppt,toFormData:gpt,AxiosHeaders:mpt,HttpStatusCode:vpt,formToJSON:ypt,getAdapter:xpt,mergeConfig:_pt}=Nt,obe=({userId:e,isOpen:t,onClose:r})=>{const[n,i]=A.useState(!1);return t?u.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 animate-fade-in",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md mx-4 overflow-hidden animate-zoom-in",onClick:s=>s.stopPropagation(),children:[u.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[u.jsxs("h3",{className:"text-lg font-medium text-gray-800 flex items-center",children:[u.jsx("span",{className:"mr-2",children:"🔑"})," Your User ID"]}),u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-500 focus:outline-none transition-colors",children:u.jsx(Ps,{size:18})})]}),u.jsxs("div",{className:"px-6 py-5",children:[u.jsx("div",{className:"bg-gray-50 rounded-md p-4 mb-4 border border-gray-100",children:u.jsx("div",{className:"flex items-center justify-between",children:u.jsx("code",{className:"text-sm font-mono text-gray-800 break-all",children:e})})}),u.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[u.jsx("p",{children:"Used to activate OlaOla AI package features."}),u.jsxs("p",{children:["Please visit ",u.jsx("a",{href:"https://olaola.dev",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline",children:"olaola.dev"})," to bind this ID."]})]})]}),u.jsx("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:u.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm rounded-md transition-colors",children:"Close"})})]})}):null},DQ=A.createContext({language:"en",setLanguage:()=>{},t:e=>e}),Gy={en:{networkDeploy:"OlaOla Network Deploy",telemetry:"OlaOla Telemetry",networkCopilot:"Network Copilot",logout:"Logout",slogan:"A Network That Understands You.",systemUpdate:"System Update: O-intec Optima v3.1 released",newDevice:"New network device connected",toggleLaungage:"Switch to Chinese",refreshDevice:"Refresh Devices",role:"Role",selectRole:"Select Role",leaf:"Leaf",spine:"Spine",superspine:"SuperSpine",generationFailure:"Topology Generation Failed",getLLDPFailure:"Failed to Get LLDP",json:"JSON",cancel:"Cancel",save:"Save",saving:"Saving...",deviceConfig:"Device Configuration",downloadJSON:"Download JSON",debugInfo:"Debug Info",viewAllData:"View All Data",number:"No.",ip:"IP Address",saveFailure:"Save Failed",showAllRecords:"Showing all {0} records",currentRecords:"Showing {0} - {1} of {2} records",totalRecords:"Total records: {0}",currentPage:"Current page: {0}",recordsPerPage:"Records per page: {0}",dataType:"Data type: {0}",currentPageData:"Current page data: {0}",filteredData:"Filtered data: {0}",array:"Array",object:"Object",deviceDiscovery:"Device Discovery",deviceList:"Device List",neighborDiscovery:"Neighbor Discovery",topologyGeneration:"Topology Generation",configManagement:"Config Management",configSnapshot:"Config Snapshot",snapshotHistory:"Snapshot History",scanSubnet:"Scan",scanning:"Scanning",searchDevices:"Search devices...",noDevicesFound:"No devices found",supportSNMP:"Please scan the network and ensure devices support SNMP | SNMP community public is configured",ipAddress:"IP Address",hostname:"Hostname",vendor:"Vendor",hwModel:"Hardware Model",operatingSystem:"Operating System",unknown:"Unknown",nextPage:"Next Page",prevPage:"Previous Page",page:"Page",of:"of",refresh:"Refresh",noDatabaseDevices:"No devices in database",selectDevice:"Select Device",selectAll:"Select All",deselectAll:"Deselect All",getLLDP:"Get LLDP",getting:"Getting",lldpInfo:"LLDP Information",selectDeviceFirst:"Please select a device and click the 'Get LLDP' button",noLLDPNeighbors:"No LLDP neighbors found for this device",localPort:"Local Port",neighborDevice:"Neighbor Device",neighborPort:"Neighbor Port",neighborPortDesc:"Neighbor Port Description",selectDeviceRole:"Select devices and specify roles",generate:"Generate",generating:"Generating",roleNotSpecified:"Role not specified",pleaseSpecifyRoles:"Please specify a role for all selected devices",generatedTopology:"Generated Topology",saveTopology:"Save Topology",credentials:"Credentials",username:"Username",password:"Password",extractResults:"Extraction Results",total:"Total",success:"Success",failure:"Failure",status:"Status",message:"Message",extractionTime:"Extraction Time",actions:"Actions",noConfig:"No config",extractConfig:"Extract Config",extracting:"Extracting",noDevicesSelected:"No devices selected",createSnapshot:"Create snapshot",creating:"Creating",noSnapshots:"No available snapshots",clickToCreateSnapshot:"Click 'Create Snapshot' button to create a new snapshot",snapshotTime:"Snapshot Time",versionTag:"Version Tag",showAll:"Show All",noHistoryAvailable:"No history available",noSnapshotHistory:"No snapshot history found",deviceModel:"Device Model",portLayout:"Port Layout",chip:"Chipset",bufferSize:"Buffer Size",inlet:"Inlet",asic:"ASIC",outflow:"Outflow",newConversation:"New Conversation",savedConfigs:"Saved Configs",enterNetworkTask:"Describe the network task you want to accomplish...",pressEnterToSend:"Press Enter to send, Shift+Enter for a new line",sendingResponse:"Generating response...",bluetransfer:"Blue: Data Transfer",redDrop:"Red: Dropped Data",progressBarInfo:"(Progress bar shows transfer and drop ratio)",transmission:"Transmission",packets:"Packets",totalTransfer:"Total Transfer",deviceDiscoveryDesc:"Scan specified subnet to automatically discover network devices via Ping+SNMP",deviceListDesc:"Display all discovered devices stored in the database",deviceCountDisplay:"Currently showing {0} devices, total of {1} devices",neighborDiscoveryDesc:"Discover network neighbor relationships through LLDP protocol, select device to get neighbor information",topologyGenerationDesc:"Generate network topology based on discovered neighbor relationships",configManagementDesc:"Extract and manage device configurations",configSnapshotDesc:"Create and view device configuration snapshots, default backup time is once per day",snapshotHistoryDesc:"View history of device configuration snapshots ({0} records)",subnetRange:"Subnet Range",selectLabel:"Select",noNeighborsCap:"No Neighbors",zoomTip:"Tip: Zoom in to see more details",nodeRoles:"Node Roles",saveTopologyDesc:"Save current topology for use in other interfaces",topologyNameRequired:"Topology Name*",description:"Description",creator:"Creator",topologyNamePlaceholder:"Example: pod1, pod2",topologyDescPlaceholder:"Brief description of the topology",noValidNeighbors:"No valid neighbor connections",connectionError:"Unable to connect to device",snapshotDefaultText:"Default snapshot backup time is once per day, you can also click the button to create a snapshot immediately.",searchSnapshot:"Search snapshots...",searchSnapshotHistory:"Search snapshot history...",originalRole:"Original Setting",pageOf:"Page {0} of {1}",prevPageText:"Previous Page",nextPageText:"Next Page",totalDevices:"Currently showing {0} devices, total of {1} devices",subnetExample:"Example: 192.168.1.0/24",neighborConnectionsText:"Neighbor Connections ({0}):",noNeighborsText:"No Neighbors",connectionFailure:"Connection Failed",saveTopologyTitle:"Save Topology",noDataToDisplay:"No data to display. Please check filters or refresh the page.",roleText:"Role",networkTopology:"Network Topology",devicePanel:"Device Panel",hardwareMonitoring:"Hardware Monitoring",bandwidthAnalysis:"Bandwidth Analysis",routingTable:"Routing Table",bgpStatus:"BGP Status",qosPolicy:"QoS Policy",l2Forwarding:"L2 Forwarding",systemProcess:"System Process",searchDevice:"Search Device",networkTopologyMap:"Network Topology Map",currentDisplay:"Current Display",selectTopology:"Select Topology",refreshList:"Refresh List",topologyName:"Topology Name",creationTime:"Creation Time",loading:"Loading...",loadingFailed:"Loading Failed",selectTopologyPlaceholder:"Select topology to display",hardwareMonitoringTitle:"Hardware Monitoring",deviceInfoText:"Device: {0} Hardware Status Monitoring",temperatureMonitoring:"Temperature Monitoring",otherSensors:"Other Sensors",asicTemperature:"ASIC Chip Temperature",inletTemperature:"Inlet Temperature",outletTemperature:"Outlet Temperature",temperatureThreshold:"Threshold: {0}°C",normalStatus:"Normal",temperatureDistribution:"Device Temperature Distribution",outlet:"Outlet",timeUnknown:"Time Unknown",updatedAgo:"Updated {0}",attention:"Attention",devicePanelTitle:"Device Panel",deviceInfoLabel:"Device: {0}({1})",refreshDeviceButton:"Refresh Device",loadingDeviceInfo:"Loading device information...",deviceModelLabel:"Device Model",portLayoutLabel:"Port Layout",chipLabel:"Chipset",buffer:"Buffer",portStatus:"Port Status",physicalPort:"Physical Port",logicalPort:"Logical Port",statusColumn:"Status",speed:"Speed",inboundDiscards:"Inbound Discards (CRC/FCS)",inboundPolicyDiscards:"Inbound Policy Discards (ACL/QOS)",outboundPolicyDiscards:"Outbound Policy Discards (ACL/QOS)",outboundDiscards:"Outbound Discards (CRC/FCS)",totalReceivedPackets:"Total Received Packets",totalSentPackets:"Total Sent Packets",online:"Online",offline:"Offline",refreshing:"Refreshing",enterIpToSearch:"Please enter IP to search for device",deviceOffline:"Device Offline",deviceOfflineMessage:"The device with the IP address you searched for is offline. Please check if the IP address is correct.",noDeviceSelected:"No Device Selected",enterIpAddressToSearch:"Please enter IP address to search for device",enterIpForBandwidth:"Please enter IP address to search for device to view bandwidth analysis",enterIpForRouting:"Please enter IP address to search for device to view routing table information",enterIpForBgp:"Please enter IP address to search for device to view BGP status information",enterIpForQos:"Please enter IP address to search for device to view QoS policy information",enterIpForL2:"Please enter IP address to search for device to view L2 forwarding information",enterIpForSystem:"Please enter IP address to search for device to view system process information",noHardwareInfo:"No Hardware Information",hardwareNotSupported:"This device may not support hardware monitoring or has not returned relevant data",noBandwidthData:"Unable to get bandwidth data",bandwidthDataError:"Failed to get bandwidth analysis data from the device. Please check the device connection status",noRoutingTable:"Unable to get routing table",routingTableError:"Failed to get routing table data from the device. Please check the device connection status",noBgpStatusData:"Unable to get BGP status data",bgpStatusError:"Failed to get BGP status data from the device. Please check the device connection status or if BGP is configured on the device",noQoSPolicyData:"Unable to get QoS policy data",qosPolicyError:"Failed to get QoS policy data from the device. Please check the device connection status or if QoS is configured on the device",noL2ForwardingData:"Unable to get L2 forwarding data",l2ForwardingError:"Failed to get L2 forwarding data from the device. Please check the device connection status",noSystemData:"Unable to get system data",systemDataError:"Failed to get system data from the device. Please check the device connection status",loadingTopology:"Loading topology...",loadingHardwareInfo:"Loading hardware information...",loadingRoutingTable:"Loading routing table information...",loadingBgpStatus:"Loading BGP status information...",loadingQosPolicy:"Loading QoS policy information...",loadingL2Forwarding:"Loading L2 forwarding information...",loadingSystemProcess:"Loading system process information...",unsupportedOSType:"Unsupported operating system type: Unknown",llmAgentDeployDesc:"Deploy OlaOla LLM Agent script to multiple SONiC devices with one click",aiServerIp:"AI Copilot Server IP",deployLLMAgent:"Deploy LLM Agent",deploying:"Deploying",deploymentComplete:"Deployment Complete",deploymentSuccess:"All devices deployed successfully!",deploymentPartialFailure:"Some devices failed to deploy. Please check the results.",deploymentError:"Deployment Error",deploymentErrorDesc:"Failed to deploy LLM Agent. Please try again.",deploymentResults:"Deployment Results",timestamp:"Timestamp",deployedAgentsList:"Deployed LLM Agent List"},zh:{networkDeploy:"网络部署",telemetry:"OlaOla Telemetry",networkCopilot:"Network Copilot",logout:"退出登录",slogan:"共生网络，让网络第一次开口说话",systemUpdate:"系统升级通知：O-intec Optima v3.1已发布",newDevice:"检测到新的网络设备已接入",toggleLanguage:"切换为英文",refreshDevice:"刷新设备",role:"角色",selectRole:"选择角色",leaf:"Leaf",spine:"Spine",superspine:"SuperSpine",generationFailure:"生成拓扑失败",getLLDPFailure:"获取LLDP失败",json:"JSON",cancel:"取消",save:"保存",saving:"保存中",deviceConfig:"设备配置",downloadJSON:"下载JSON",debugInfo:"调试信息",viewAllData:"查看所有数据",number:"序号",ip:"IP地址",saveFailure:"保存失败",showAllRecords:"显示全部 {0} 条记录",currentRecords:"当前显示第 {0} - {1} 条，共 {2} 条记录",totalRecords:"数据总数: {0}",currentPage:"当前页: {0}",recordsPerPage:"每页显示: {0}",dataType:"数据类型: {0}",currentPageData:"当前页数据数量: {0}",filteredData:"过滤后数据数量: {0}",array:"数组",object:"对象",deviceDiscovery:"设备发现",deviceList:"设备列表",neighborDiscovery:"邻居发现",topologyGeneration:"拓扑生成",configManagement:"配置管理",configSnapshot:"配置快照",snapshotHistory:"快照历史",scanSubnet:"开始扫描",scanning:"扫描中",searchDevices:"搜索设备...",noDevicesFound:"未发现任何设备",supportSNMP:"请扫描网络且确保设备支持SNMP | SNMP community public已配置",ipAddress:"IP地址",hostname:"主机名",vendor:"厂商品牌",hwModel:"硬件型号",operatingSystem:"操作系统",unknown:"未知",nextPage:"下一页",prevPage:"上一页",page:"第",of:"页 / 共",refresh:"刷新",noDatabaseDevices:"数据库中没有设备",selectDevice:"选择设备",selectAll:"全选",deselectAll:"取消全选",getLLDP:"获取LLDP",getting:"获取中",lldpInfo:"LLDP信息",selectDeviceFirst:'请选择设备并点击"获取LLDP"按钮',noLLDPNeighbors:"该设备未发现任何LLDP邻居",localPort:"本地端口",neighborDevice:"邻居设备",neighborPort:"邻居端口",neighborPortDesc:"邻居端口描述",selectDeviceRole:"选择设备并指定角色",generate:"生成拓扑",generating:"生成中",roleNotSpecified:"角色未指定",pleaseSpecifyRoles:"请为所有选中设备指定角色",generatedTopology:"生成的拓扑图",saveTopology:"保存拓扑",credentials:"SSH凭证",username:"用户名",password:"密码",extractResults:"配置提取结果",total:"总计",success:"成功",failure:"失败",status:"状态",message:"消息",extractionTime:"提取时间",actions:"操作",noConfig:"无配置",extractConfig:"提取配置",extracting:"提取中",noDevicesSelected:"请选择设备",createSnapshot:"配置快照备份",creating:"创建中",noSnapshots:"没有可用的配置快照",clickToCreateSnapshot:'点击"配置快照备份"按钮创建新的配置快照',snapshotTime:"快照时间",versionTag:"版本标签",showAll:"显示全部",noHistoryAvailable:"没有可用的快照历史",noSnapshotHistory:"暂无快照历史记录",deviceModel:"设备型号",portLayout:"端口布局",chip:"芯片组",bufferSize:"缓存大小",inlet:"进风",asic:"ASIC芯片",outflow:"出风",newConversation:"新会话",savedConfigs:"已保存配置",enterNetworkTask:"描述你想要完成的网络任务...",pressEnterToSend:"按 Enter 发送，Shift+Enter 换行",sendingResponse:"正在生成回复...",bluetransfer:"蓝色: 传输数据",redDrop:"红色: 丢弃数据",progressBarInfo:"(进度条显示传输与丢包比例)",transmission:"传输",packets:"包数",totalTransfer:"总传输",deviceDiscoveryDesc:"扫描指定网段，通过Ping+SNMP自动发现网络设备",deviceListDesc:"显示所有存储在数据库中的已发现设备",deviceCountDisplay:"当前显示 {0} 台设备，共 {1} 台设备",neighborDiscoveryDesc:"通过LLDP协议发现网络邻居关系，选择设备后获取其邻居信息",topologyGenerationDesc:"基于已发现的邻居关系生成网络拓扑图",configManagementDesc:"提取设备配置，管理配置文件",configSnapshotDesc:"创建和查看设备配置快照，默认快照备份时间为每天备份一次",snapshotHistoryDesc:"查看设备配置快照的历史记录（共 {0} 条）",subnetRange:"子网范围",selectLabel:"选择",noNeighborsCap:"无邻居",zoomTip:"提示：放大查看更多详细信息",nodeRoles:"节点角色",saveTopologyDesc:"保存当前拓扑以便在其他界面中使用",topologyNameRequired:"拓扑名称*",description:"描述",creator:"创建者",topologyNamePlaceholder:"例如：pod1、pod2",topologyDescPlaceholder:"拓扑的简要描述",noValidNeighbors:"无有效邻居连接",connectionError:"无法连接设备",snapshotDefaultText:"默认快照备份时间为每天备份一次，也可以手动点击按钮立即创建配置快照。",searchSnapshot:"搜索快照...",searchSnapshotHistory:"搜索快照历史...",originalRole:"原始设置",pageOf:"第 {0} 页 / 共 {1} 页",prevPageText:"上一页",nextPageText:"下一页",totalDevices:"当前显示 {0} 台设备，共 {1} 台设备",subnetExample:"例如: 192.168.1.0/24",neighborConnectionsText:"邻居连接 ({0}个):",noNeighborsText:"无邻居",connectionFailure:"无法连接设备",saveTopologyTitle:"保存当前拓扑",noDataToDisplay:"没有数据可显示。请检查过滤条件或刷新页面。",roleText:"角色",networkTopology:"网络拓扑",devicePanel:"设备面板",hardwareMonitoring:"硬件监控",bandwidthAnalysis:"带宽分析",routingTable:"路由表",bgpStatus:"BGP状态",qosPolicy:"QoS策略",l2Forwarding:"二层转发",systemProcess:"系统进程",searchDevice:"搜索设备",networkTopologyMap:"网络拓扑图",currentDisplay:"当前显示",selectTopology:"选择拓扑",refreshList:"刷新列表",topologyName:"拓扑名称",creationTime:"创建时间",loading:"加载中...",loadingFailed:"加载失败",selectTopologyPlaceholder:"选择要显示的拓扑",hardwareMonitoringTitle:"硬件监控",deviceInfoText:"设备: {0} 硬件状态监控",temperatureMonitoring:"温度监控",otherSensors:"其他传感器",asicTemperature:"ASIC芯片温度",inletTemperature:"进风温度",outletTemperature:"出风温度",temperatureThreshold:"阈值: {0}°C",normalStatus:"正常",temperatureDistribution:"设备温度分布",outlet:"出风",timeUnknown:"时间未知",updatedAgo:"更新于 {0}",attention:"注意",devicePanelTitle:"设备面板",deviceInfoLabel:"设备: {0}({1})",refreshDeviceButton:"刷新设备",loadingDeviceInfo:"加载设备信息中...",deviceModelLabel:"设备型号",portLayoutLabel:"端口布局",chipLabel:"芯片组",buffer:"缓存",portStatus:"端口状态",physicalPort:"物理口",logicalPort:"逻辑口",statusColumn:"状态",speed:"速率",inboundDiscards:"入向丢弃(CRC/FCS)",inboundPolicyDiscards:"入向策略丢弃(ACL/QOS)",outboundPolicyDiscards:"出向策略丢弃(ACL/QOS)",outboundDiscards:"出向丢弃(CRC/FCS)",totalReceivedPackets:"总收包",totalSentPackets:"总发包",online:"在线",offline:"离线",refreshing:"刷新中",enterIpToSearch:"请输入IP搜索设备",deviceOffline:"设备不在线",deviceOfflineMessage:"您搜索的IP地址设备不在线，请检查IP地址是否正确",noDeviceSelected:"未选择设备",enterIpAddressToSearch:"请输入IP地址搜索设备",enterIpForBandwidth:"请输入IP地址搜索设备以查看带宽分析",enterIpForRouting:"请输入IP地址搜索设备以查看路由表信息",enterIpForBgp:"请输入IP地址搜索设备以查看BGP状态信息",enterIpForQos:"请输入IP地址搜索设备以查看QoS策略信息",enterIpForL2:"请输入IP地址搜索设备以查看二层转发信息",enterIpForSystem:"请输入IP地址搜索设备以查看系统进程信息",noHardwareInfo:"未获取到硬件信息",hardwareNotSupported:"该设备可能不支持硬件监控或未返回相关数据",noBandwidthData:"无法获取带宽数据",bandwidthDataError:"未能从设备获取带宽分析数据，请检查设备连接状态",noRoutingTable:"无法获取路由表",routingTableError:"未能从设备获取路由表数据，请检查设备连接状态",noBgpStatusData:"无法获取BGP状态数据",bgpStatusError:"未能从设备获取BGP状态数据，请检查设备连接状态或设备是否配置了BGP",noQoSPolicyData:"无法获取QoS策略数据",qosPolicyError:"未能从设备获取QoS策略数据，请检查设备连接状态或设备是否配置了QoS",noL2ForwardingData:"未获取到二层转发数据",l2ForwardingError:"未能从设备获取二层转发数据，请检查设备连接状态",noSystemData:"未获取到系统数据",systemDataError:"未能从设备获取系统数据，请检查设备连接状态",loadingTopology:"加载拓扑中...",loadingHardwareInfo:"加载硬件信息中...",loadingRoutingTable:"加载路由表信息中...",loadingBgpStatus:"加载BGP状态信息中...",loadingQosPolicy:"加载QoS策略信息中...",loadingL2Forwarding:"加载二层转发信息中...",loadingSystemProcess:"加载系统进程信息中...",unsupportedOSType:"不支持的操作系统类型: 未知",llmAgentDeployDesc:"一键将 OlaOla LLM Agent 脚本部署到多个 SONiC 设备",aiServerIp:"AI Copilot 服务器 IP",deployLLMAgent:"部署 LLM Agent",deploying:"部署中",deploymentComplete:"部署完成",deploymentSuccess:"所有设备部署成功！",deploymentPartialFailure:"部分设备部署失败，请查看结果详情。",deploymentError:"部署错误",deploymentErrorDesc:"LLM Agent 部署失败，请重试。",deploymentResults:"部署结果",timestamp:"时间戳",deployedAgentsList:"已部署的 LLM Agent 列表"}},lbe=({children:e})=>{const[t,r]=A.useState("en");A.useEffect(()=>{const i=localStorage.getItem("language");i&&(i==="en"||i==="zh")&&r(i)},[]),A.useEffect(()=>{localStorage.setItem("language",t)},[t]);const n=(i,s)=>{let o=Gy[t][i]||i;return s&&s.forEach((l,c)=>{o=o.replace(`{${c}}`,String(l))}),o};return u.jsx(DQ.Provider,{value:{language:t,setLanguage:r,t:n},children:e})},F3=()=>A.useContext(DQ),Ws=({children:e})=>{const t=hh(),r=XT(),[n,i]=A.useState(!1),[s,a]=A.useState(!1),[o,l]=A.useState(""),[c,d]=A.useState(!1),{language:h,setLanguage:f,t:p}=F3(),[g,v]=A.useState([{id:"1",message:Gy[h].systemUpdate,read:!1},{id:"2",message:Gy[h].newDevice,read:!1}]);Wr.useEffect(()=>{v([{id:"1",message:Gy[h].systemUpdate,read:!1},{id:"2",message:Gy[h].newDevice,read:!1}])},[h]);const m=t.pathname,y=()=>{localStorage.removeItem("token"),r("/login")},x=()=>{i(!n)},_=()=>{f(h==="en"?"zh":"en")},b=async()=>{try{d(!0);const w=await Nt.post("/webhook/olaola/user_id");if(w.data&&Array.isArray(w.data)&&w.data.length>0){const S=w.data[0];if(S.stdout)try{const k=JSON.parse(S.stdout);if(k&&k.user_id){l(k.user_id),a(!0);return}}catch(k){console.error("Error parsing stdout JSON:",k)}}console.error("Invalid response format from user ID endpoint",w.data),l("Your User ID is unexpected"),a(!0)}catch(w){console.error("Failed to fetch user ID:",w),l("WebHook Error for Getting User ID."),a(!0)}finally{d(!1)}};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex h-screen bg-gray-100 overflow-hidden",children:[u.jsx("div",{className:"hidden md:flex md:flex-shrink-0",children:u.jsxs("div",{className:"flex flex-col w-16 bg-white shadow-lg",children:[u.jsx("div",{className:"flex-1 flex flex-col justify-center overflow-y-auto",children:u.jsxs("div",{className:"flex flex-col items-center space-y-10 mb-20",children:[u.jsx(wA,{to:"/network-deployment",icon:u.jsx(Nz,{size:22}),label:"",tooltip:p("networkDeploy"),active:m==="/network-deployment"}),u.jsx(wA,{to:"/hd-telemetry",icon:u.jsx(Cz,{size:22}),label:"",tooltip:p("telemetry"),active:m==="/hd-telemetry"}),u.jsx(wA,{to:"/olaolacopilot-v3",icon:u.jsx(js,{size:22}),label:"",tooltip:p("networkCopilot"),active:m==="/olaolacopilot-v3"})]})}),u.jsx("div",{className:"pb-8 flex justify-center",children:u.jsx("button",{onClick:y,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md transition-colors",title:p("logout"),children:u.jsx(Tz,{size:22})})})]})}),u.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[u.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:u.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("button",{type:"button",className:"md:hidden text-gray-500 hover:text-gray-600 p-2 rounded-md",onClick:x,children:n?u.jsx(Ps,{size:24}):u.jsx(zye,{size:24})}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"flex-shrink-0 w-9 h-9 flex items-center justify-center",children:u.jsx("span",{className:"text-xl",role:"img","aria-label":"brain",children:"🧠"})}),u.jsxs("div",{className:"hidden md:block",children:[u.jsx("h1",{className:"text-lg font-semibold text-gray-800 leading-tight",children:"OlaOla AI-v0.6 beta"}),u.jsx("p",{className:"text-xs text-gray-500",children:p("slogan")})]}),u.jsxs("div",{className:"md:hidden",children:[u.jsx("h1",{className:"text-base font-semibold text-gray-800",children:"OlaOla AI-v0.6 beta"}),u.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[140px]",children:h==="en"?p("slogan").split(",")[0]:p("slogan").split("，")[0]})]})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("button",{onClick:_,className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md transition-colors",title:p("toggleLanguage"),children:u.jsx(Oye,{size:20})}),u.jsx("div",{className:"relative",children:u.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md transition-colors",onClick:b,disabled:c,children:u.jsx("div",{className:"h-7 w-7 rounded-full bg-gray-100 flex items-center justify-center text-gray-600",children:c?u.jsx("div",{className:"h-3 w-3 rounded-full border-2 border-gray-400 border-t-transparent animate-spin"}):u.jsx(iQ,{size:16})})})})]})]})})}),n&&u.jsx("div",{className:"md:hidden bg-white w-full absolute z-10 shadow-lg border-b border-gray-200",children:u.jsxs("div",{className:"p-4 flex justify-around",children:[u.jsx(SA,{to:"/network-deployment",icon:u.jsx(Nz,{size:22}),label:"",active:m==="/network-deployment",onClick:()=>i(!1),tooltip:p("networkDeploy")}),u.jsx(SA,{to:"/hd-telemetry",icon:u.jsx(Cz,{size:22}),label:"",active:m==="/hd-telemetry",onClick:()=>i(!1),tooltip:p("telemetry")}),u.jsx(SA,{to:"/olaolacopilot-v3",icon:u.jsx(js,{size:22}),label:"",active:m==="/olaolacopilot-v3",onClick:()=>i(!1),tooltip:p("networkCopilot")}),u.jsx("button",{onClick:()=>{y(),i(!1)},className:"p-2 rounded-md text-gray-700 hover:bg-gray-100",title:p("logout"),children:u.jsx(Tz,{size:22})})]})}),u.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50 p-4 md:p-6",children:e})]})]}),u.jsx(obe,{userId:o,isOpen:s,onClose:()=>a(!1)})]})},wA=({to:e,icon:t,label:r,active:n,badge:i,tooltip:s})=>u.jsxs(ZJ,{to:e,className:`group flex items-center justify-center p-2 rounded-md ${n?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,title:s,children:[u.jsx("span",{className:`${n?"text-blue-600":"text-gray-500 group-hover:text-blue-600"}`,children:t}),r&&u.jsx("span",{className:"ml-3 flex-1",children:r}),i&&u.jsx(Ce,{variant:"default",className:"ml-auto",children:i})]}),SA=({to:e,icon:t,label:r,active:n,onClick:i,tooltip:s})=>u.jsx(ZJ,{to:e,className:`flex items-center justify-center p-3 rounded-md ${n?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50 hover:text-blue-600"}`,onClick:i,title:s,children:t}),cbe="modulepreload",ube=function(e){return"/"+e},qz={},iu=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=ube(l),l in qz)return;qz[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":cbe,c||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},z3=Wr.createContext({value:"",setValue:()=>{}}),jv=({defaultValue:e,value:t,onValueChange:r,className:n,children:i})=>{const[s,a]=Wr.useState(e||""),o=t!==void 0,l=o?t:s,c=Wr.useCallback(d=>{o||a(d),r&&r(d)},[o,r]);return u.jsx(z3.Provider,{value:{value:l,setValue:c},children:u.jsx("div",{className:Yt("w-full",n),children:i})})},Rv=({className:e,children:t})=>u.jsx("div",{className:Yt("flex space-x-1 border-b",e),children:t}),$r=({value:e,className:t,children:r,onClick:n})=>{const{value:i,setValue:s}=Wr.useContext(z3),a=i===e;return u.jsx("button",{className:Yt("px-4 py-2 text-sm font-medium border-b-2 transition-colors",a?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300",t),onClick:()=>{s(e),n&&n()},children:r})},Br=({value:e,className:t,children:r})=>{const{value:n}=Wr.useContext(z3);return n!==e?null:u.jsx("div",{className:Yt("py-4",t),children:r})};var dbe={value:()=>{}};function aN(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new PC(r)}function PC(e){this._=e}function hbe(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}PC.prototype=aN.prototype={constructor:PC,on:function(e,t){var r=this._,n=hbe(e+"",r),i,s=-1,a=n.length;if(arguments.length<2){for(;++s<a;)if((i=(e=n[s]).type)&&(i=fbe(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<a;)if(i=(e=n[s]).type)r[i]=Yz(r[i],e.name,t);else if(t==null)for(i in r)r[i]=Yz(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new PC(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,s;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,i=s.length;n<i;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,s=n.length;i<s;++i)n[i].value.apply(t,r)}};function fbe(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function Yz(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=dbe,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var lP="http://www.w3.org/1999/xhtml";const Kz={svg:"http://www.w3.org/2000/svg",xhtml:lP,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function oN(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Kz.hasOwnProperty(t)?{space:Kz[t],local:e}:e}function pbe(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===lP&&t.documentElement.namespaceURI===lP?t.createElement(e):t.createElementNS(r,e)}}function gbe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function OQ(e){var t=oN(e);return(t.local?gbe:pbe)(t)}function mbe(){}function U3(e){return e==null?mbe:function(){return this.querySelector(e)}}function vbe(e){typeof e!="function"&&(e=U3(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],a=s.length,o=n[i]=new Array(a),l,c,d=0;d<a;++d)(l=s[d])&&(c=e.call(l,l.__data__,d,s))&&("__data__"in l&&(c.__data__=l.__data__),o[d]=c);return new ca(n,this._parents)}function ybe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function xbe(){return[]}function $Q(e){return e==null?xbe:function(){return this.querySelectorAll(e)}}function _be(e){return function(){return ybe(e.apply(this,arguments))}}function bbe(e){typeof e=="function"?e=_be(e):e=$Q(e);for(var t=this._groups,r=t.length,n=[],i=[],s=0;s<r;++s)for(var a=t[s],o=a.length,l,c=0;c<o;++c)(l=a[c])&&(n.push(e.call(l,l.__data__,c,a)),i.push(l));return new ca(n,i)}function BQ(e){return function(){return this.matches(e)}}function FQ(e){return function(t){return t.matches(e)}}var wbe=Array.prototype.find;function Sbe(e){return function(){return wbe.call(this.children,e)}}function Cbe(){return this.firstElementChild}function kbe(e){return this.select(e==null?Cbe:Sbe(typeof e=="function"?e:FQ(e)))}var Ebe=Array.prototype.filter;function Tbe(){return Array.from(this.children)}function Nbe(e){return function(){return Ebe.call(this.children,e)}}function Abe(e){return this.selectAll(e==null?Tbe:Nbe(typeof e=="function"?e:FQ(e)))}function jbe(e){typeof e!="function"&&(e=BQ(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],a=s.length,o=n[i]=[],l,c=0;c<a;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&o.push(l);return new ca(n,this._parents)}function zQ(e){return new Array(e.length)}function Rbe(){return new ca(this._enter||this._groups.map(zQ),this._parents)}function Wk(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Wk.prototype={constructor:Wk,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ibe(e){return function(){return e}}function Mbe(e,t,r,n,i,s){for(var a=0,o,l=t.length,c=s.length;a<c;++a)(o=t[a])?(o.__data__=s[a],n[a]=o):r[a]=new Wk(e,s[a]);for(;a<l;++a)(o=t[a])&&(i[a]=o)}function Pbe(e,t,r,n,i,s,a){var o,l,c=new Map,d=t.length,h=s.length,f=new Array(d),p;for(o=0;o<d;++o)(l=t[o])&&(f[o]=p=a.call(l,l.__data__,o,t)+"",c.has(p)?i[o]=l:c.set(p,l));for(o=0;o<h;++o)p=a.call(e,s[o],o,s)+"",(l=c.get(p))?(n[o]=l,l.__data__=s[o],c.delete(p)):r[o]=new Wk(e,s[o]);for(o=0;o<d;++o)(l=t[o])&&c.get(f[o])===l&&(i[o]=l)}function Lbe(e){return e.__data__}function Dbe(e,t){if(!arguments.length)return Array.from(this,Lbe);var r=t?Pbe:Mbe,n=this._parents,i=this._groups;typeof e!="function"&&(e=Ibe(e));for(var s=i.length,a=new Array(s),o=new Array(s),l=new Array(s),c=0;c<s;++c){var d=n[c],h=i[c],f=h.length,p=Obe(e.call(d,d&&d.__data__,c,n)),g=p.length,v=o[c]=new Array(g),m=a[c]=new Array(g),y=l[c]=new Array(f);r(d,h,v,m,y,p,t);for(var x=0,_=0,b,w;x<g;++x)if(b=v[x]){for(x>=_&&(_=x+1);!(w=m[_])&&++_<g;);b._next=w||null}}return a=new ca(a,n),a._enter=o,a._exit=l,a}function Obe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $be(){return new ca(this._exit||this._groups.map(zQ),this._parents)}function Bbe(e,t,r){var n=this.enter(),i=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?s.remove():r(s),n&&i?n.merge(i).order():i}function Fbe(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,s=n.length,a=Math.min(i,s),o=new Array(i),l=0;l<a;++l)for(var c=r[l],d=n[l],h=c.length,f=o[l]=new Array(h),p,g=0;g<h;++g)(p=c[g]||d[g])&&(f[g]=p);for(;l<i;++l)o[l]=r[l];return new ca(o,this._parents)}function zbe(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,s=n[i],a;--i>=0;)(a=n[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function Ube(e){e||(e=Hbe);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s){for(var a=r[s],o=a.length,l=i[s]=new Array(o),c,d=0;d<o;++d)(c=a[d])&&(l[d]=c);l.sort(t)}return new ca(i,this._parents).order()}function Hbe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Vbe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Wbe(){return Array.from(this)}function Gbe(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length;i<s;++i){var a=n[i];if(a)return a}return null}function qbe(){let e=0;for(const t of this)++e;return e}function Ybe(){return!this.node()}function Kbe(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],s=0,a=i.length,o;s<a;++s)(o=i[s])&&e.call(o,o.__data__,s,i);return this}function Zbe(e){return function(){this.removeAttribute(e)}}function Xbe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Jbe(e,t){return function(){this.setAttribute(e,t)}}function Qbe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ewe(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function twe(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function rwe(e,t){var r=oN(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?Xbe:Zbe:typeof t=="function"?r.local?twe:ewe:r.local?Qbe:Jbe)(r,t))}function UQ(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function nwe(e){return function(){this.style.removeProperty(e)}}function iwe(e,t,r){return function(){this.style.setProperty(e,t,r)}}function swe(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function awe(e,t,r){return arguments.length>1?this.each((t==null?nwe:typeof t=="function"?swe:iwe)(e,t,r??"")):Gm(this.node(),e)}function Gm(e,t){return e.style.getPropertyValue(t)||UQ(e).getComputedStyle(e,null).getPropertyValue(t)}function owe(e){return function(){delete this[e]}}function lwe(e,t){return function(){this[e]=t}}function cwe(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function uwe(e,t){return arguments.length>1?this.each((t==null?owe:typeof t=="function"?cwe:lwe)(e,t)):this.node()[e]}function HQ(e){return e.trim().split(/^|\s+/)}function H3(e){return e.classList||new VQ(e)}function VQ(e){this._node=e,this._names=HQ(e.getAttribute("class")||"")}VQ.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function WQ(e,t){for(var r=H3(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function GQ(e,t){for(var r=H3(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function dwe(e){return function(){WQ(this,e)}}function hwe(e){return function(){GQ(this,e)}}function fwe(e,t){return function(){(t.apply(this,arguments)?WQ:GQ)(this,e)}}function pwe(e,t){var r=HQ(e+"");if(arguments.length<2){for(var n=H3(this.node()),i=-1,s=r.length;++i<s;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?fwe:t?dwe:hwe)(r,t))}function gwe(){this.textContent=""}function mwe(e){return function(){this.textContent=e}}function vwe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function ywe(e){return arguments.length?this.each(e==null?gwe:(typeof e=="function"?vwe:mwe)(e)):this.node().textContent}function xwe(){this.innerHTML=""}function _we(e){return function(){this.innerHTML=e}}function bwe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function wwe(e){return arguments.length?this.each(e==null?xwe:(typeof e=="function"?bwe:_we)(e)):this.node().innerHTML}function Swe(){this.nextSibling&&this.parentNode.appendChild(this)}function Cwe(){return this.each(Swe)}function kwe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ewe(){return this.each(kwe)}function Twe(e){var t=typeof e=="function"?e:OQ(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Nwe(){return null}function Awe(e,t){var r=typeof e=="function"?e:OQ(e),n=t==null?Nwe:typeof t=="function"?t:U3(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function jwe(){var e=this.parentNode;e&&e.removeChild(this)}function Rwe(){return this.each(jwe)}function Iwe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Mwe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Pwe(e){return this.select(e?Mwe:Iwe)}function Lwe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Dwe(e){return function(t){e.call(this,t,this.__data__)}}function Owe(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function $we(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,s;r<i;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function Bwe(e,t,r){return function(){var n=this.__on,i,s=Dwe(t);if(n){for(var a=0,o=n.length;a<o;++a)if((i=n[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=r),i.value=t;return}}this.addEventListener(e.type,s,r),i={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(i):this.__on=[i]}}function Fwe(e,t,r){var n=Owe(e+""),i,s=n.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,d;l<c;++l)for(i=0,d=o[l];i<s;++i)if((a=n[i]).type===d.type&&a.name===d.name)return d.value}return}for(o=t?Bwe:$we,i=0;i<s;++i)this.each(o(n[i],t,r));return this}function qQ(e,t,r){var n=UQ(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function zwe(e,t){return function(){return qQ(this,e,t)}}function Uwe(e,t){return function(){return qQ(this,e,t.apply(this,arguments))}}function Hwe(e,t){return this.each((typeof t=="function"?Uwe:zwe)(e,t))}function*Vwe(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length,a;i<s;++i)(a=n[i])&&(yield a)}var YQ=[null];function ca(e,t){this._groups=e,this._parents=t}function Hb(){return new ca([[document.documentElement]],YQ)}function Wwe(){return this}ca.prototype=Hb.prototype={constructor:ca,select:vbe,selectAll:bbe,selectChild:kbe,selectChildren:Abe,filter:jbe,data:Dbe,enter:Rbe,exit:$be,join:Bbe,merge:Fbe,selection:Wwe,order:zbe,sort:Ube,call:Vbe,nodes:Wbe,node:Gbe,size:qbe,empty:Ybe,each:Kbe,attr:rwe,style:awe,property:uwe,classed:pwe,text:ywe,html:wwe,raise:Cwe,lower:Ewe,append:Twe,insert:Awe,remove:Rwe,clone:Pwe,datum:Lwe,on:Fwe,dispatch:Hwe,[Symbol.iterator]:Vwe};function Or(e){return typeof e=="string"?new ca([[document.querySelector(e)]],[document.documentElement]):new ca([[e]],YQ)}function Gwe(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Mc(e,t){if(e=Gwe(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function KQ(e){return new ca([document.querySelectorAll(e)],[document.documentElement])}const qwe={passive:!1},w_={capture:!0,passive:!1};function CA(e){e.stopImmediatePropagation()}function wm(e){e.preventDefault(),e.stopImmediatePropagation()}function ZQ(e){var t=e.document.documentElement,r=Or(e).on("dragstart.drag",wm,w_);"onselectstart"in t?r.on("selectstart.drag",wm,w_):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function XQ(e,t){var r=e.document.documentElement,n=Or(e).on("dragstart.drag",null);t&&(n.on("click.drag",wm,w_),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const T1=e=>()=>e;function cP(e,{sourceEvent:t,subject:r,target:n,identifier:i,active:s,x:a,y:o,dx:l,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}cP.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Ywe(e){return!e.ctrlKey&&!e.button}function Kwe(){return this.parentNode}function Zwe(e,t){return t??{x:e.x,y:e.y}}function Xwe(){return navigator.maxTouchPoints||"ontouchstart"in this}function Jwe(){var e=Ywe,t=Kwe,r=Zwe,n=Xwe,i={},s=aN("start","drag","end"),a=0,o,l,c,d,h=0;function f(b){b.on("mousedown.drag",p).filter(n).on("touchstart.drag",m).on("touchmove.drag",y,qwe).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(b,w){if(!(d||!e.call(this,b,w))){var S=_(this,t.call(this,b,w),b,w,"mouse");S&&(Or(b.view).on("mousemove.drag",g,w_).on("mouseup.drag",v,w_),ZQ(b.view),CA(b),c=!1,o=b.clientX,l=b.clientY,S("start",b))}}function g(b){if(wm(b),!c){var w=b.clientX-o,S=b.clientY-l;c=w*w+S*S>h}i.mouse("drag",b)}function v(b){Or(b.view).on("mousemove.drag mouseup.drag",null),XQ(b.view,c),wm(b),i.mouse("end",b)}function m(b,w){if(e.call(this,b,w)){var S=b.changedTouches,k=t.call(this,b,w),C=S.length,E,T;for(E=0;E<C;++E)(T=_(this,k,b,w,S[E].identifier,S[E]))&&(CA(b),T("start",b,S[E]))}}function y(b){var w=b.changedTouches,S=w.length,k,C;for(k=0;k<S;++k)(C=i[w[k].identifier])&&(wm(b),C("drag",b,w[k]))}function x(b){var w=b.changedTouches,S=w.length,k,C;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),k=0;k<S;++k)(C=i[w[k].identifier])&&(CA(b),C("end",b,w[k]))}function _(b,w,S,k,C,E){var T=s.copy(),N=Mc(E||S,w),R,P,D;if((D=r.call(b,new cP("beforestart",{sourceEvent:S,target:f,identifier:C,active:a,x:N[0],y:N[1],dx:0,dy:0,dispatch:T}),k))!=null)return R=D.x-N[0]||0,P=D.y-N[1]||0,function $(L,O,j){var M=N,I;switch(L){case"start":i[C]=$,I=a++;break;case"end":delete i[C],--a;case"drag":N=Mc(j||O,w),I=a;break}T.call(L,b,new cP(L,{sourceEvent:O,subject:D,target:f,identifier:C,active:I,x:N[0]+R,y:N[1]+P,dx:N[0]-M[0],dy:N[1]-M[1],dispatch:T}),k)}}return f.filter=function(b){return arguments.length?(e=typeof b=="function"?b:T1(!!b),f):e},f.container=function(b){return arguments.length?(t=typeof b=="function"?b:T1(b),f):t},f.subject=function(b){return arguments.length?(r=typeof b=="function"?b:T1(b),f):r},f.touchable=function(b){return arguments.length?(n=typeof b=="function"?b:T1(!!b),f):n},f.on=function(){var b=s.on.apply(s,arguments);return b===s?f:b},f.clickDistance=function(b){return arguments.length?(h=(b=+b)*b,f):Math.sqrt(h)},f}function V3(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function JQ(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Vb(){}var S_=.7,Gk=1/S_,Sm="\\s*([+-]?\\d+)\\s*",C_="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qwe=/^#([0-9a-f]{3,8})$/,e1e=new RegExp(`^rgb\\(${Sm},${Sm},${Sm}\\)$`),t1e=new RegExp(`^rgb\\(${Kl},${Kl},${Kl}\\)$`),r1e=new RegExp(`^rgba\\(${Sm},${Sm},${Sm},${C_}\\)$`),n1e=new RegExp(`^rgba\\(${Kl},${Kl},${Kl},${C_}\\)$`),i1e=new RegExp(`^hsl\\(${C_},${Kl},${Kl}\\)$`),s1e=new RegExp(`^hsla\\(${C_},${Kl},${Kl},${C_}\\)$`),Zz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};V3(Vb,k_,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Xz,formatHex:Xz,formatHex8:a1e,formatHsl:o1e,formatRgb:Jz,toString:Jz});function Xz(){return this.rgb().formatHex()}function a1e(){return this.rgb().formatHex8()}function o1e(){return QQ(this).formatHsl()}function Jz(){return this.rgb().formatRgb()}function k_(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Qwe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Qz(t):r===3?new na(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?N1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?N1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=e1e.exec(e))?new na(t[1],t[2],t[3],1):(t=t1e.exec(e))?new na(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=r1e.exec(e))?N1(t[1],t[2],t[3],t[4]):(t=n1e.exec(e))?N1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=i1e.exec(e))?r8(t[1],t[2]/100,t[3]/100,1):(t=s1e.exec(e))?r8(t[1],t[2]/100,t[3]/100,t[4]):Zz.hasOwnProperty(e)?Qz(Zz[e]):e==="transparent"?new na(NaN,NaN,NaN,0):null}function Qz(e){return new na(e>>16&255,e>>8&255,e&255,1)}function N1(e,t,r,n){return n<=0&&(e=t=r=NaN),new na(e,t,r,n)}function l1e(e){return e instanceof Vb||(e=k_(e)),e?(e=e.rgb(),new na(e.r,e.g,e.b,e.opacity)):new na}function uP(e,t,r,n){return arguments.length===1?l1e(e):new na(e,t,r,n??1)}function na(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}V3(na,uP,JQ(Vb,{brighter(e){return e=e==null?Gk:Math.pow(Gk,e),new na(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?S_:Math.pow(S_,e),new na(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new na(Lf(this.r),Lf(this.g),Lf(this.b),qk(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:e8,formatHex:e8,formatHex8:c1e,formatRgb:t8,toString:t8}));function e8(){return`#${xf(this.r)}${xf(this.g)}${xf(this.b)}`}function c1e(){return`#${xf(this.r)}${xf(this.g)}${xf(this.b)}${xf((isNaN(this.opacity)?1:this.opacity)*255)}`}function t8(){const e=qk(this.opacity);return`${e===1?"rgb(":"rgba("}${Lf(this.r)}, ${Lf(this.g)}, ${Lf(this.b)}${e===1?")":`, ${e})`}`}function qk(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Lf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xf(e){return e=Lf(e),(e<16?"0":"")+e.toString(16)}function r8(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ho(e,t,r,n)}function QQ(e){if(e instanceof Ho)return new Ho(e.h,e.s,e.l,e.opacity);if(e instanceof Vb||(e=k_(e)),!e)return new Ho;if(e instanceof Ho)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),a=NaN,o=s-i,l=(s+i)/2;return o?(t===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-t)/o+2:a=(t-r)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Ho(a,o,l,e.opacity)}function u1e(e,t,r,n){return arguments.length===1?QQ(e):new Ho(e,t,r,n??1)}function Ho(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}V3(Ho,u1e,JQ(Vb,{brighter(e){return e=e==null?Gk:Math.pow(Gk,e),new Ho(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?S_:Math.pow(S_,e),new Ho(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new na(kA(e>=240?e-240:e+120,i,n),kA(e,i,n),kA(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Ho(n8(this.h),A1(this.s),A1(this.l),qk(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qk(this.opacity);return`${e===1?"hsl(":"hsla("}${n8(this.h)}, ${A1(this.s)*100}%, ${A1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function n8(e){return e=(e||0)%360,e<0?e+360:e}function A1(e){return Math.max(0,Math.min(1,e||0))}function kA(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const eee=e=>()=>e;function d1e(e,t){return function(r){return e+r*t}}function h1e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function f1e(e){return(e=+e)==1?tee:function(t,r){return r-t?h1e(t,r,e):eee(isNaN(t)?r:t)}}function tee(e,t){var r=t-e;return r?d1e(e,r):eee(isNaN(e)?t:e)}const i8=function e(t){var r=f1e(t);function n(i,s){var a=r((i=uP(i)).r,(s=uP(s)).r),o=r(i.g,s.g),l=r(i.b,s.b),c=tee(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return n.gamma=e,n}(1);function Qu(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var dP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,EA=new RegExp(dP.source,"g");function p1e(e){return function(){return e}}function g1e(e){return function(t){return e(t)+""}}function m1e(e,t){var r=dP.lastIndex=EA.lastIndex=0,n,i,s,a=-1,o=[],l=[];for(e=e+"",t=t+"";(n=dP.exec(e))&&(i=EA.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:Qu(n,i)})),r=EA.lastIndex;return r<t.length&&(s=t.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?g1e(l[0].x):p1e(t):(t=l.length,function(c){for(var d=0,h;d<t;++d)o[(h=l[d]).i]=h.x(c);return o.join("")})}var s8=180/Math.PI,hP={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ree(e,t,r,n,i,s){var a,o,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,l/=o),e*n<t*r&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*s8,skewX:Math.atan(l)*s8,scaleX:a,scaleY:o}}var j1;function v1e(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?hP:ree(t.a,t.b,t.c,t.d,t.e,t.f)}function y1e(e){return e==null||(j1||(j1=document.createElementNS("http://www.w3.org/2000/svg","g")),j1.setAttribute("transform",e),!(e=j1.transform.baseVal.consolidate()))?hP:(e=e.matrix,ree(e.a,e.b,e.c,e.d,e.e,e.f))}function nee(e,t,r,n){function i(c){return c.length?c.pop()+" ":""}function s(c,d,h,f,p,g){if(c!==h||d!==f){var v=p.push("translate(",null,t,null,r);g.push({i:v-4,x:Qu(c,h)},{i:v-2,x:Qu(d,f)})}else(h||f)&&p.push("translate("+h+t+f+r)}function a(c,d,h,f){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),f.push({i:h.push(i(h)+"rotate(",null,n)-2,x:Qu(c,d)})):d&&h.push(i(h)+"rotate("+d+n)}function o(c,d,h,f){c!==d?f.push({i:h.push(i(h)+"skewX(",null,n)-2,x:Qu(c,d)}):d&&h.push(i(h)+"skewX("+d+n)}function l(c,d,h,f,p,g){if(c!==h||d!==f){var v=p.push(i(p)+"scale(",null,",",null,")");g.push({i:v-4,x:Qu(c,h)},{i:v-2,x:Qu(d,f)})}else(h!==1||f!==1)&&p.push(i(p)+"scale("+h+","+f+")")}return function(c,d){var h=[],f=[];return c=e(c),d=e(d),s(c.translateX,c.translateY,d.translateX,d.translateY,h,f),a(c.rotate,d.rotate,h,f),o(c.skewX,d.skewX,h,f),l(c.scaleX,c.scaleY,d.scaleX,d.scaleY,h,f),c=d=null,function(p){for(var g=-1,v=f.length,m;++g<v;)h[(m=f[g]).i]=m.x(p);return h.join("")}}}var x1e=nee(v1e,"px, ","px)","deg)"),_1e=nee(y1e,", ",")",")"),b1e=1e-12;function a8(e){return((e=Math.exp(e))+1/e)/2}function w1e(e){return((e=Math.exp(e))-1/e)/2}function S1e(e){return((e=Math.exp(2*e))-1)/(e+1)}const C1e=function e(t,r,n){function i(s,a){var o=s[0],l=s[1],c=s[2],d=a[0],h=a[1],f=a[2],p=d-o,g=h-l,v=p*p+g*g,m,y;if(v<b1e)y=Math.log(f/c)/t,m=function(k){return[o+k*p,l+k*g,c*Math.exp(t*k*y)]};else{var x=Math.sqrt(v),_=(f*f-c*c+n*v)/(2*c*r*x),b=(f*f-c*c-n*v)/(2*f*r*x),w=Math.log(Math.sqrt(_*_+1)-_),S=Math.log(Math.sqrt(b*b+1)-b);y=(S-w)/t,m=function(k){var C=k*y,E=a8(w),T=c/(r*x)*(E*S1e(t*C+w)-w1e(w));return[o+T*p,l+T*g,c*E/a8(t*C+w)]}}return m.duration=y*1e3*t/Math.SQRT2,m}return i.rho=function(s){var a=Math.max(.001,+s),o=a*a,l=o*o;return e(a,o,l)},i}(Math.SQRT2,2,4);var qm=0,qy=0,J0=0,iee=1e3,Yk,Yy,Kk=0,rp=0,lN=0,E_=typeof performance=="object"&&performance.now?performance:Date,see=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function W3(){return rp||(see(k1e),rp=E_.now()+lN)}function k1e(){rp=0}function Zk(){this._call=this._time=this._next=null}Zk.prototype=aee.prototype={constructor:Zk,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?W3():+r)+(t==null?0:+t),!this._next&&Yy!==this&&(Yy?Yy._next=this:Yk=this,Yy=this),this._call=e,this._time=r,fP()},stop:function(){this._call&&(this._call=null,this._time=1/0,fP())}};function aee(e,t,r){var n=new Zk;return n.restart(e,t,r),n}function E1e(){W3(),++qm;for(var e=Yk,t;e;)(t=rp-e._time)>=0&&e._call.call(void 0,t),e=e._next;--qm}function o8(){rp=(Kk=E_.now())+lN,qm=qy=0;try{E1e()}finally{qm=0,N1e(),rp=0}}function T1e(){var e=E_.now(),t=e-Kk;t>iee&&(lN-=t,Kk=e)}function N1e(){for(var e,t=Yk,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Yk=r);Yy=e,fP(n)}function fP(e){if(!qm){qy&&(qy=clearTimeout(qy));var t=e-rp;t>24?(e<1/0&&(qy=setTimeout(o8,e-E_.now()-lN)),J0&&(J0=clearInterval(J0))):(J0||(Kk=E_.now(),J0=setInterval(T1e,iee)),qm=1,see(o8))}}function l8(e,t,r){var n=new Zk;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var A1e=aN("start","end","cancel","interrupt"),j1e=[],oee=0,c8=1,pP=2,LC=3,u8=4,gP=5,DC=6;function cN(e,t,r,n,i,s){var a=e.__transition;if(!a)e.__transition={};else if(r in a)return;R1e(e,r,{name:t,index:n,group:i,on:A1e,tween:j1e,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:oee})}function G3(e,t){var r=ll(e,t);if(r.state>oee)throw new Error("too late; already scheduled");return r}function hc(e,t){var r=ll(e,t);if(r.state>LC)throw new Error("too late; already running");return r}function ll(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function R1e(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=aee(s,0,r.time);function s(c){r.state=c8,r.timer.restart(a,r.delay,r.time),r.delay<=c&&a(c-r.delay)}function a(c){var d,h,f,p;if(r.state!==c8)return l();for(d in n)if(p=n[d],p.name===r.name){if(p.state===LC)return l8(a);p.state===u8?(p.state=DC,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[d]):+d<t&&(p.state=DC,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[d])}if(l8(function(){r.state===LC&&(r.state=u8,r.timer.restart(o,r.delay,r.time),o(c))}),r.state=pP,r.on.call("start",e,e.__data__,r.index,r.group),r.state===pP){for(r.state=LC,i=new Array(f=r.tween.length),d=0,h=-1;d<f;++d)(p=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(i[++h]=p);i.length=h+1}}function o(c){for(var d=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(l),r.state=gP,1),h=-1,f=i.length;++h<f;)i[h].call(e,d);r.state===gP&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=DC,r.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}function OC(e,t){var r=e.__transition,n,i,s=!0,a;if(r){t=t==null?null:t+"";for(a in r){if((n=r[a]).name!==t){s=!1;continue}i=n.state>pP&&n.state<gP,n.state=DC,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[a]}s&&delete e.__transition}}function I1e(e){return this.each(function(){OC(this,e)})}function M1e(e,t){var r,n;return function(){var i=hc(this,e),s=i.tween;if(s!==r){n=r=s;for(var a=0,o=n.length;a<o;++a)if(n[a].name===t){n=n.slice(),n.splice(a,1);break}}i.tween=n}}function P1e(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var s=hc(this,e),a=s.tween;if(a!==n){i=(n=a).slice();for(var o={name:t,value:r},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=o;break}l===c&&i.push(o)}s.tween=i}}function L1e(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=ll(this.node(),r).tween,i=0,s=n.length,a;i<s;++i)if((a=n[i]).name===e)return a.value;return null}return this.each((t==null?M1e:P1e)(r,e,t))}function q3(e,t,r){var n=e._id;return e.each(function(){var i=hc(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return ll(i,n).value[t]}}function lee(e,t){var r;return(typeof t=="number"?Qu:t instanceof k_?i8:(r=k_(t))?(t=r,i8):m1e)(e,t)}function D1e(e){return function(){this.removeAttribute(e)}}function O1e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function $1e(e,t,r){var n,i=r+"",s;return function(){var a=this.getAttribute(e);return a===i?null:a===n?s:s=t(n=a,r)}}function B1e(e,t,r){var n,i=r+"",s;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===n?s:s=t(n=a,r)}}function F1e(e,t,r){var n,i,s;return function(){var a,o=r(this),l;return o==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=o+"",a===l?null:a===n&&l===i?s:(i=l,s=t(n=a,o)))}}function z1e(e,t,r){var n,i,s;return function(){var a,o=r(this),l;return o==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=o+"",a===l?null:a===n&&l===i?s:(i=l,s=t(n=a,o)))}}function U1e(e,t){var r=oN(e),n=r==="transform"?_1e:lee;return this.attrTween(e,typeof t=="function"?(r.local?z1e:F1e)(r,n,q3(this,"attr."+e,t)):t==null?(r.local?O1e:D1e)(r):(r.local?B1e:$1e)(r,n,t))}function H1e(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function V1e(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function W1e(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&V1e(e,s)),r}return i._value=t,i}function G1e(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&H1e(e,s)),r}return i._value=t,i}function q1e(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=oN(e);return this.tween(r,(n.local?W1e:G1e)(n,t))}function Y1e(e,t){return function(){G3(this,e).delay=+t.apply(this,arguments)}}function K1e(e,t){return t=+t,function(){G3(this,e).delay=t}}function Z1e(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Y1e:K1e)(t,e)):ll(this.node(),t).delay}function X1e(e,t){return function(){hc(this,e).duration=+t.apply(this,arguments)}}function J1e(e,t){return t=+t,function(){hc(this,e).duration=t}}function Q1e(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?X1e:J1e)(t,e)):ll(this.node(),t).duration}function eSe(e,t){if(typeof t!="function")throw new Error;return function(){hc(this,e).ease=t}}function tSe(e){var t=this._id;return arguments.length?this.each(eSe(t,e)):ll(this.node(),t).ease}function rSe(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;hc(this,e).ease=r}}function nSe(e){if(typeof e!="function")throw new Error;return this.each(rSe(this._id,e))}function iSe(e){typeof e!="function"&&(e=BQ(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],a=s.length,o=n[i]=[],l,c=0;c<a;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&o.push(l);return new su(n,this._parents,this._name,this._id)}function sSe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,s=Math.min(n,i),a=new Array(n),o=0;o<s;++o)for(var l=t[o],c=r[o],d=l.length,h=a[o]=new Array(d),f,p=0;p<d;++p)(f=l[p]||c[p])&&(h[p]=f);for(;o<n;++o)a[o]=t[o];return new su(a,this._parents,this._name,this._id)}function aSe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function oSe(e,t,r){var n,i,s=aSe(t)?G3:hc;return function(){var a=s(this,e),o=a.on;o!==n&&(i=(n=o).copy()).on(t,r),a.on=i}}function lSe(e,t){var r=this._id;return arguments.length<2?ll(this.node(),r).on.on(e):this.each(oSe(r,e,t))}function cSe(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function uSe(){return this.on("end.remove",cSe(this._id))}function dSe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=U3(e));for(var n=this._groups,i=n.length,s=new Array(i),a=0;a<i;++a)for(var o=n[a],l=o.length,c=s[a]=new Array(l),d,h,f=0;f<l;++f)(d=o[f])&&(h=e.call(d,d.__data__,f,o))&&("__data__"in d&&(h.__data__=d.__data__),c[f]=h,cN(c[f],t,r,f,c,ll(d,r)));return new su(s,this._parents,t,r)}function hSe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=$Q(e));for(var n=this._groups,i=n.length,s=[],a=[],o=0;o<i;++o)for(var l=n[o],c=l.length,d,h=0;h<c;++h)if(d=l[h]){for(var f=e.call(d,d.__data__,h,l),p,g=ll(d,r),v=0,m=f.length;v<m;++v)(p=f[v])&&cN(p,t,r,v,f,g);s.push(f),a.push(d)}return new su(s,a,t,r)}var fSe=Hb.prototype.constructor;function pSe(){return new fSe(this._groups,this._parents)}function gSe(e,t){var r,n,i;return function(){var s=Gm(this,e),a=(this.style.removeProperty(e),Gm(this,e));return s===a?null:s===r&&a===n?i:i=t(r=s,n=a)}}function cee(e){return function(){this.style.removeProperty(e)}}function mSe(e,t,r){var n,i=r+"",s;return function(){var a=Gm(this,e);return a===i?null:a===n?s:s=t(n=a,r)}}function vSe(e,t,r){var n,i,s;return function(){var a=Gm(this,e),o=r(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(e),Gm(this,e))),a===l?null:a===n&&l===i?s:(i=l,s=t(n=a,o))}}function ySe(e,t){var r,n,i,s="style."+t,a="end."+s,o;return function(){var l=hc(this,e),c=l.on,d=l.value[s]==null?o||(o=cee(t)):void 0;(c!==r||i!==d)&&(n=(r=c).copy()).on(a,i=d),l.on=n}}function xSe(e,t,r){var n=(e+="")=="transform"?x1e:lee;return t==null?this.styleTween(e,gSe(e,n)).on("end.style."+e,cee(e)):typeof t=="function"?this.styleTween(e,vSe(e,n,q3(this,"style."+e,t))).each(ySe(this._id,e)):this.styleTween(e,mSe(e,n,t),r).on("end.style."+e,null)}function _Se(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function bSe(e,t,r){var n,i;function s(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&_Se(e,a,r)),n}return s._value=t,s}function wSe(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,bSe(e,t,r??""))}function SSe(e){return function(){this.textContent=e}}function CSe(e){return function(){var t=e(this);this.textContent=t??""}}function kSe(e){return this.tween("text",typeof e=="function"?CSe(q3(this,"text",e)):SSe(e==null?"":e+""))}function ESe(e){return function(t){this.textContent=e.call(this,t)}}function TSe(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&ESe(i)),t}return n._value=e,n}function NSe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,TSe(e))}function ASe(){for(var e=this._name,t=this._id,r=uee(),n=this._groups,i=n.length,s=0;s<i;++s)for(var a=n[s],o=a.length,l,c=0;c<o;++c)if(l=a[c]){var d=ll(l,t);cN(l,e,r,c,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new su(n,this._parents,e,r)}function jSe(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(s,a){var o={value:a},l={value:function(){--i===0&&s()}};r.each(function(){var c=hc(this,n),d=c.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),c.on=t}),i===0&&s()})}var RSe=0;function su(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function uee(){return++RSe}var Cc=Hb.prototype;su.prototype={constructor:su,select:dSe,selectAll:hSe,selectChild:Cc.selectChild,selectChildren:Cc.selectChildren,filter:iSe,merge:sSe,selection:pSe,transition:ASe,call:Cc.call,nodes:Cc.nodes,node:Cc.node,size:Cc.size,empty:Cc.empty,each:Cc.each,on:lSe,attr:U1e,attrTween:q1e,style:xSe,styleTween:wSe,text:kSe,textTween:NSe,remove:uSe,tween:L1e,delay:Z1e,duration:Q1e,ease:tSe,easeVarying:nSe,end:jSe,[Symbol.iterator]:Cc[Symbol.iterator]};function ISe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var MSe={time:null,delay:0,duration:250,ease:ISe};function PSe(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function LSe(e){var t,r;e instanceof su?(t=e._id,e=e._name):(t=uee(),(r=MSe).time=W3(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,s=0;s<i;++s)for(var a=n[s],o=a.length,l,c=0;c<o;++c)(l=a[c])&&cN(l,e,t,c,a,r||PSe(l,t));return new su(n,this._parents,e,t)}Hb.prototype.interrupt=I1e;Hb.prototype.transition=LSe;const mP=Math.PI,vP=2*mP,Qh=1e-6,DSe=vP-Qh;function dee(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function OSe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return dee;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}let $Se=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?dee:OSe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=n-t,c=i-r,d=a-t,h=o-r,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>Qh)if(!(Math.abs(h*l-c*d)>Qh)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-a,g=i-o,v=l*l+c*c,m=p*p+g*g,y=Math.sqrt(v),x=Math.sqrt(f),_=s*Math.tan((mP-Math.acos((v+f-m)/(2*y*x)))/2),b=_/x,w=_/y;Math.abs(b-1)>Qh&&this._append`L${t+b*d},${r+b*h}`,this._append`A${s},${s},0,0,${+(h*p>d*g)},${this._x1=t+w*l},${this._y1=r+w*c}`}}arc(t,r,n,i,s,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=t+o,d=r+l,h=1^a,f=a?i-s:s-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Qh||Math.abs(this._y1-d)>Qh)&&this._append`L${c},${d}`,n&&(f<0&&(f=f%vP+vP),f>DSe?this._append`A${n},${n},0,1,${h},${t-o},${r-l}A${n},${n},0,1,${h},${this._x1=c},${this._y1=d}`:f>Qh&&this._append`A${n},${n},0,${+(f>=mP)},${h},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}};function Jp(e){return function(){return e}}function BSe(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new $Se(t)}function FSe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hee(e){this._context=e}hee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function zSe(e){return new hee(e)}function USe(e){return e[0]}function HSe(e){return e[1]}function VSe(e,t){var r=Jp(!0),n=null,i=zSe,s=null,a=BSe(o);e=typeof e=="function"?e:e===void 0?USe:Jp(e),t=typeof t=="function"?t:t===void 0?HSe:Jp(t);function o(l){var c,d=(l=FSe(l)).length,h,f=!1,p;for(n==null&&(s=i(p=a())),c=0;c<=d;++c)!(c<d&&r(h=l[c],c,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+e(h,c,l),+t(h,c,l));if(p)return s=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Jp(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Jp(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Jp(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),o):n},o}function d8(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function fee(e){this._context=e}fee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:d8(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:d8(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function WSe(e){return new fee(e)}const R1=e=>()=>e;function GSe(e,{sourceEvent:t,target:r,transform:n,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:i}})}function Uc(e,t,r){this.k=e,this.x=t,this.y=r}Uc.prototype={constructor:Uc,scale:function(e){return e===1?this:new Uc(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Uc(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Bc=new Uc(1,0,0);Uc.prototype;function TA(e){e.stopImmediatePropagation()}function Q0(e){e.preventDefault(),e.stopImmediatePropagation()}function qSe(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function YSe(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function h8(){return this.__zoom||Bc}function KSe(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function ZSe(){return navigator.maxTouchPoints||"ontouchstart"in this}function XSe(e,t,r){var n=e.invertX(t[0][0])-r[0][0],i=e.invertX(t[1][0])-r[1][0],s=e.invertY(t[0][1])-r[0][1],a=e.invertY(t[1][1])-r[1][1];return e.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}function Y3(){var e=qSe,t=YSe,r=XSe,n=KSe,i=ZSe,s=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],o=250,l=C1e,c=aN("start","zoom","end"),d,h,f,p=500,g=150,v=0,m=10;function y(D){D.property("__zoom",h8).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",T).filter(i).on("touchstart.zoom",N).on("touchmove.zoom",R).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(D,$,L,O){var j=D.selection?D.selection():D;j.property("__zoom",h8),D!==j?w(D,$,L,O):j.interrupt().each(function(){S(this,arguments).event(O).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},y.scaleBy=function(D,$,L,O){y.scaleTo(D,function(){var j=this.__zoom.k,M=typeof $=="function"?$.apply(this,arguments):$;return j*M},L,O)},y.scaleTo=function(D,$,L,O){y.transform(D,function(){var j=t.apply(this,arguments),M=this.__zoom,I=L==null?b(j):typeof L=="function"?L.apply(this,arguments):L,z=M.invert(I),U=typeof $=="function"?$.apply(this,arguments):$;return r(_(x(M,U),I,z),j,a)},L,O)},y.translateBy=function(D,$,L,O){y.transform(D,function(){return r(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof L=="function"?L.apply(this,arguments):L),t.apply(this,arguments),a)},null,O)},y.translateTo=function(D,$,L,O,j){y.transform(D,function(){var M=t.apply(this,arguments),I=this.__zoom,z=O==null?b(M):typeof O=="function"?O.apply(this,arguments):O;return r(Bc.translate(z[0],z[1]).scale(I.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof L=="function"?-L.apply(this,arguments):-L),M,a)},O,j)};function x(D,$){return $=Math.max(s[0],Math.min(s[1],$)),$===D.k?D:new Uc($,D.x,D.y)}function _(D,$,L){var O=$[0]-L[0]*D.k,j=$[1]-L[1]*D.k;return O===D.x&&j===D.y?D:new Uc(D.k,O,j)}function b(D){return[(+D[0][0]+ +D[1][0])/2,(+D[0][1]+ +D[1][1])/2]}function w(D,$,L,O){D.on("start.zoom",function(){S(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(O).end()}).tween("zoom",function(){var j=this,M=arguments,I=S(j,M).event(O),z=t.apply(j,M),U=L==null?b(z):typeof L=="function"?L.apply(j,M):L,F=Math.max(z[1][0]-z[0][0],z[1][1]-z[0][1]),G=j.__zoom,Y=typeof $=="function"?$.apply(j,M):$,Z=l(G.invert(U).concat(F/G.k),Y.invert(U).concat(F/Y.k));return function(B){if(B===1)B=Y;else{var W=Z(B),K=F/W[2];B=new Uc(K,U[0]-W[0]*K,U[1]-W[1]*K)}I.zoom(null,B)}})}function S(D,$,L){return!L&&D.__zooming||new k(D,$)}function k(D,$){this.that=D,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(D,$),this.taps=0}k.prototype={event:function(D){return D&&(this.sourceEvent=D),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(D,$){return this.mouse&&D!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&D!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&D!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(D){var $=Or(this.that).datum();c.call(D,this.that,new GSe(D,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:c}),$)}};function C(D,...$){if(!e.apply(this,arguments))return;var L=S(this,$).event(D),O=this.__zoom,j=Math.max(s[0],Math.min(s[1],O.k*Math.pow(2,n.apply(this,arguments)))),M=Mc(D);if(L.wheel)(L.mouse[0][0]!==M[0]||L.mouse[0][1]!==M[1])&&(L.mouse[1]=O.invert(L.mouse[0]=M)),clearTimeout(L.wheel);else{if(O.k===j)return;L.mouse=[M,O.invert(M)],OC(this),L.start()}Q0(D),L.wheel=setTimeout(I,g),L.zoom("mouse",r(_(x(O,j),L.mouse[0],L.mouse[1]),L.extent,a));function I(){L.wheel=null,L.end()}}function E(D,...$){if(f||!e.apply(this,arguments))return;var L=D.currentTarget,O=S(this,$,!0).event(D),j=Or(D.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",F,!0),M=Mc(D,L),I=D.clientX,z=D.clientY;ZQ(D.view),TA(D),O.mouse=[M,this.__zoom.invert(M)],OC(this),O.start();function U(G){if(Q0(G),!O.moved){var Y=G.clientX-I,Z=G.clientY-z;O.moved=Y*Y+Z*Z>v}O.event(G).zoom("mouse",r(_(O.that.__zoom,O.mouse[0]=Mc(G,L),O.mouse[1]),O.extent,a))}function F(G){j.on("mousemove.zoom mouseup.zoom",null),XQ(G.view,O.moved),Q0(G),O.event(G).end()}}function T(D,...$){if(e.apply(this,arguments)){var L=this.__zoom,O=Mc(D.changedTouches?D.changedTouches[0]:D,this),j=L.invert(O),M=L.k*(D.shiftKey?.5:2),I=r(_(x(L,M),O,j),t.apply(this,$),a);Q0(D),o>0?Or(this).transition().duration(o).call(w,I,O,D):Or(this).call(y.transform,I,O,D)}}function N(D,...$){if(e.apply(this,arguments)){var L=D.touches,O=L.length,j=S(this,$,D.changedTouches.length===O).event(D),M,I,z,U;for(TA(D),I=0;I<O;++I)z=L[I],U=Mc(z,this),U=[U,this.__zoom.invert(U),z.identifier],j.touch0?!j.touch1&&j.touch0[2]!==U[2]&&(j.touch1=U,j.taps=0):(j.touch0=U,M=!0,j.taps=1+!!d);d&&(d=clearTimeout(d)),M&&(j.taps<2&&(h=U[0],d=setTimeout(function(){d=null},p)),OC(this),j.start())}}function R(D,...$){if(this.__zooming){var L=S(this,$).event(D),O=D.changedTouches,j=O.length,M,I,z,U;for(Q0(D),M=0;M<j;++M)I=O[M],z=Mc(I,this),L.touch0&&L.touch0[2]===I.identifier?L.touch0[0]=z:L.touch1&&L.touch1[2]===I.identifier&&(L.touch1[0]=z);if(I=L.that.__zoom,L.touch1){var F=L.touch0[0],G=L.touch0[1],Y=L.touch1[0],Z=L.touch1[1],B=(B=Y[0]-F[0])*B+(B=Y[1]-F[1])*B,W=(W=Z[0]-G[0])*W+(W=Z[1]-G[1])*W;I=x(I,Math.sqrt(B/W)),z=[(F[0]+Y[0])/2,(F[1]+Y[1])/2],U=[(G[0]+Z[0])/2,(G[1]+Z[1])/2]}else if(L.touch0)z=L.touch0[0],U=L.touch0[1];else return;L.zoom("touch",r(_(I,z,U),L.extent,a))}}function P(D,...$){if(this.__zooming){var L=S(this,$).event(D),O=D.changedTouches,j=O.length,M,I;for(TA(D),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),M=0;M<j;++M)I=O[M],L.touch0&&L.touch0[2]===I.identifier?delete L.touch0:L.touch1&&L.touch1[2]===I.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(I=Mc(I,this),Math.hypot(h[0]-I[0],h[1]-I[1])<m)){var z=Or(this).on("dblclick.zoom");z&&z.apply(this,arguments)}}}return y.wheelDelta=function(D){return arguments.length?(n=typeof D=="function"?D:R1(+D),y):n},y.filter=function(D){return arguments.length?(e=typeof D=="function"?D:R1(!!D),y):e},y.touchable=function(D){return arguments.length?(i=typeof D=="function"?D:R1(!!D),y):i},y.extent=function(D){return arguments.length?(t=typeof D=="function"?D:R1([[+D[0][0],+D[0][1]],[+D[1][0],+D[1][1]]]),y):t},y.scaleExtent=function(D){return arguments.length?(s[0]=+D[0],s[1]=+D[1],y):[s[0],s[1]]},y.translateExtent=function(D){return arguments.length?(a[0][0]=+D[0][0],a[1][0]=+D[1][0],a[0][1]=+D[0][1],a[1][1]=+D[1][1],y):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},y.constrain=function(D){return arguments.length?(r=D,y):r},y.duration=function(D){return arguments.length?(o=+D,y):o},y.interpolate=function(D){return arguments.length?(l=D,y):l},y.on=function(){var D=c.on.apply(c,arguments);return D===c?y:D},y.clickDistance=function(D){return arguments.length?(v=(D=+D)*D,y):Math.sqrt(v)},y.tapDistance=function(D){return arguments.length?(m=+D,y):m},y}const JSe=L3("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Re=A.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},s)=>u.jsx("button",{className:Yt(JSe({variant:t,size:r,className:e})),ref:s,...i}));Re.displayName="Button";const QSe=({visible:e,x:t,y:r,node:n,onClose:i,menuItems:s=[]})=>{const a=A.useRef(null);return A.useEffect(()=>{const o=l=>{a.current&&!a.current.contains(l.target)&&i()};return e&&document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[e,i]),!e||!n?null:u.jsxs("div",{ref:a,style:{position:"fixed",top:r,left:t,width:"200px",backgroundColor:"white",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",border:"1px solid #e5e7eb",zIndex:50},children:[u.jsxs("div",{className:"p-2 border-b border-gray-100",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-700",children:n.name}),u.jsxs("p",{className:"text-xs text-gray-500",children:[n.type," - ",n.status," ",n.ip&&`- ${n.ip}`]})]}),u.jsxs("div",{className:"py-1",children:[s.map(o=>u.jsxs("button",{onClick:()=>{o.disabled||(o.onClick(n),i())},disabled:o.disabled,className:`
              w-full px-4 py-2 text-left flex items-center gap-2 
              ${o.disabled?"opacity-50 cursor-not-allowed":"hover:bg-blue-50 active:bg-blue-100 cursor-pointer"}
            `,children:[u.jsx("span",{className:"text-gray-600",children:o.icon}),u.jsx("span",{className:"text-sm",children:o.label})]},o.id)),s.length===0&&u.jsx("div",{className:"px-4 py-2 text-sm text-gray-500 italic",children:"暂无可用操作"})]})]})},eCe=(e,t)=>[{id:"terminal",label:"打开终端 CLI",icon:u.jsx(qye,{size:16}),onClick:e},{id:"olaola",label:"OlaOla 配置助手",icon:u.jsx(js,{size:16}),onClick:t},{id:"refresh",label:"刷新设备状态",icon:u.jsx(io,{size:16}),onClick:r=>console.log("刷新设备状态:",r.id),disabled:!1},{id:"export",label:"导出设备配置",icon:u.jsx(Yl,{size:16}),onClick:r=>console.log("导出设备配置:",r.id),disabled:!1},{id:"mirror",label:"配置端口镜像",icon:u.jsx(Dye,{size:16}),onClick:r=>console.log("配置端口镜像:",r.id),disabled:!0}],tCe=({data:e,onNodeClick:t,viewMode:r,onNodeDoubleClick:n,highlightedNodeId:i=null,onOpenTerminal:s=()=>{},onOpenOlaOla:a=()=>{}})=>{const o=A.useRef(null),l=A.useRef(null),[c,d]=A.useState({width:1e3,height:600}),[h,f]=A.useState(1),[p,g]=A.useState(null),v=A.useRef(null),[m,y]=A.useState({visible:!1,x:0,y:0,node:null});A.useEffect(()=>{if(o.current){const{width:C,height:E}=o.current.getBoundingClientRect();d({width:C,height:E})}const k=()=>{if(o.current){const{width:C,height:E}=o.current.getBoundingClientRect();d({width:C,height:E})}};return window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]),A.useEffect(()=>{if(!o.current)return;const k=Or(o.current),C=()=>{y(E=>({...E,visible:!1}))};return k.on("click",C),()=>{k.on("click",null)}},[]),A.useEffect(()=>{if(!o.current||!l.current)return;const k=Or(o.current),C=Or(l.current),E=Y3().scaleExtent([.1,4]).on("zoom",P=>{C.attr("transform",P.transform.toString()),g(P.transform),f(P.transform.k)});k.call(E);const T=c.width,N=c.height,R=Bc.translate(T/2,N/4).scale(.9);return k.call(E.transform,R),window.topologyZoom=E,()=>{k.on(".zoom",null),delete window.topologyZoom}},[c]),A.useEffect(()=>{var Z;if(!o.current)return;const k=e||{nodes:[],links:[]};if(!k.nodes||!k.nodes.length)return;Or(o.current).selectAll("*").remove();const C=document.getElementById("topology-highlight-style");C&&((Z=C.parentNode)==null||Z.removeChild(C)),v.current&&(v.current=null);const E=k.nodes.filter(B=>!(B.type==="spine"&&!r.showSpine||B.type==="leaf"&&!r.showLeaf||B.type==="tor"&&!r.showTor||B.type==="client"&&!r.showClient)),T=new Set(E.map(B=>B.id)),N=k.links.filter(B=>T.has(B.source)&&T.has(B.target)),P=Or(o.current).append("g"),D={spine:E.filter(B=>B.type==="spine").length,leaf:E.filter(B=>B.type==="leaf").length,tor:E.filter(B=>B.type==="tor").length,client:E.filter(B=>B.type==="client").length},$=Object.values(D).filter(B=>B>0).length,O=c.height*.9/($+.5);let j=0;const M={spine:"#4361ee",leaf:"#3a0ca3",tor:"#7209b7",client:"#f72585"},I={};D.spine>0&&r.showSpine&&(I.spine=O*(j+.5),j++),D.leaf>0&&r.showLeaf&&(I.leaf=O*(j+.5),j++),D.tor>0&&r.showTor&&(I.tor=O*(j+.5),j++),D.client>0&&r.showClient&&(I.client=O*(j+.5)),E.forEach(B=>{I[B.type]!==void 0&&(B.y=I[B.type])});const z={spine:[],leaf:[],tor:[],client:[]};E.forEach(B=>{z[B.type].push(B)}),Object.entries(z).forEach(([B,W])=>{if(W.length>0){const K=c.width*.85,X=K/W.length,Q=(c.width-K)/2+X/2;W.forEach((re,Se)=>{re.x=Q+X*Se})}});const U=VSe().curve(WSe);P.selectAll(".link").data(N).enter().append("path").attr("class","link").attr("d",B=>{const W=E.find(Ie=>Ie.id===B.source),K=E.find(Ie=>Ie.id===B.target);if(!W||!K||!W.x||!K.x||!W.y||!K.y)return"";const X=W.y,Q=K.y,re=W.x,Se=K.x,Te=[[re,X],[re,X+(Q-X)/3],[Se,Q-(Q-X)/3],[Se,Q]];return U(Te)}).attr("fill","none").attr("stroke",B=>B.status==="down"?"#d3d3d3":B.status==="warning"?"#ffc107":B.utilization<.2?"#c1d3fe":B.utilization<.5?"#5390d9":B.utilization<.8?"#ff9e00":"#dc2f02").attr("stroke-width",B=>2+Math.max(1,B.utilization*5)).attr("opacity",.8);const F=B=>{switch(B){case"spine":return"M -15,-15 L 15,-15 L 15,15 L -15,15 Z";case"leaf":return"M -15,-15 L 15,-15 L 15,15 L -15,15 Z";case"tor":return"M -15,-15 L 15,-15 L 15,15 L -15,15 Z";case"client":return"M -18,-10 L 18,-10 L 18,10 L -18,10 Z"}return""},G=P.selectAll(".node").data(E).enter().append("g").attr("class","node").attr("transform",B=>`translate(${B.x||0}, ${B.y||0})`).on("click",(B,W)=>{B.stopPropagation(),console.log("节点被点击:",W.id),t(W)}).on("dblclick",(B,W)=>{B.stopPropagation(),console.log("节点被双击:",W.id),n&&n(W)}).on("contextmenu",(B,W)=>{B.preventDefault(),B.stopPropagation();const K=B.clientX,X=B.clientY;console.log("鼠标点击位置:",K,X),y({visible:!0,x:K,y:X,node:W}),console.log("节点右键菜单:",W.id)});G.append("path").attr("d",B=>F(B.type)).attr("fill",B=>B.status==="down"?"#ef4444":B.status==="warning"?"#f59e0b":M[B.type]).attr("stroke","#000").attr("stroke-width",1.5).style("pointer-events","auto"),G.filter(B=>B.type==="client").append("rect").attr("x",-14).attr("y",-6).attr("width",28).attr("height",4).attr("fill","#111").attr("rx",1),G.append("text").attr("dy",B=>{switch(B.type){case"spine":return 35;case"leaf":return 35;case"tor":return 35;case"client":return 26;default:return 35}}).attr("text-anchor","middle").attr("fill","black").attr("font-size","12px").text(B=>B.name).each(function(B){if(B.type==="client"){Or(this);const W=this.getBBox(),K=this.parentNode;K&&Or(K).insert("rect","text").attr("x",W.x-2).attr("y",W.y-1).attr("width",W.width+4).attr("height",W.height+2).attr("fill","white").attr("rx",2)}});const Y=Jwe().on("start",function(B,W){Or(this).raise().attr("stroke","black")}).on("drag",function(B,W){W.x=B.x,W.y=B.y,Or(this).attr("transform",`translate(${W.x}, ${W.y})`),P.selectAll(".link").filter(K=>K.source===W.id||K.target===W.id).attr("d",K=>{const X=E.find(Ee=>Ee.id===K.source),Q=E.find(Ee=>Ee.id===K.target);if(!X||!Q||!X.x||!Q.x||!X.y||!Q.y)return"";const re=X.y,Se=Q.y,Te=X.x,Ie=Q.x,Me=[[Te,re],[Te,re+(Se-re)/3],[Ie,Se-(Se-re)/3],[Ie,Se]];return U(Me)})}).on("end",function(B,W){Or(this).attr("stroke",null)});G.call(Y)},[e,c,r,t,n,p]),A.useEffect(()=>{if(!o.current)return;const k=e||{nodes:[]};if(!k.nodes.length||!i)return;console.log("尝试高亮节点:",i,"总节点数:",k.nodes.length);const C=Or(o.current),E=C.select("g");v.current&&(C.select(`#${v.current}`).remove(),v.current=null);const T=k.nodes.find(N=>N.id===i);if(T&&T.x!==void 0&&T.y!==void 0){console.log("找到高亮节点:",T.id,"在位置",T.x,T.y);const N=E.insert("g",":first-child").attr("class","highlight-layer").style("pointer-events","none");v.current=N.node();const R=T.type,P={spine:50,leaf:45,tor:40,client:35}[R];N.append("circle").attr("cx",T.x).attr("cy",T.y).attr("r",P*.9).attr("fill","none").attr("stroke","#ff9800").attr("stroke-width",5).attr("stroke-dasharray","5,3").attr("class","highlight-circle-1").style("pointer-events","none"),N.append("circle").attr("cx",T.x).attr("cy",T.y).attr("r",P*1.2).attr("fill","none").attr("stroke","#ff5722").attr("stroke-width",2).attr("class","highlight-circle-2").style("pointer-events","none");const D=document.createElement("style");if(D.id="topology-highlight-style",D.textContent=`
        .highlight-layer * {
          pointer-events: none !important;
        }
        @keyframes pulse {
          0% { transform: scale(1); opacity: 0.8; }
          50% { transform: scale(1.2); opacity: 0.4; }
          100% { transform: scale(1); opacity: 0.8; }
        }
        .highlight-circle-1 {
          animation: pulse 1.5s ease-in-out infinite;
        }
        .highlight-circle-2 {
          animation: pulse 1.5s ease-in-out infinite reverse;
        }
      `,document.head.appendChild(D),p){const $=c.width/2,L=c.height/2,O=$-(T.x*p.k+p.x),j=L-(T.y*p.k+p.y),M=Bc.translate(p.x+O,p.y+j).scale(p.k*1.2);C.transition().duration(750).call(window.topologyZoom.transform,M)}}else console.log("无法找到高亮节点或节点位置未定义:",i)},[i,e,c,p]),A.useEffect(()=>()=>{var C;const k=document.getElementById("topology-highlight-style");k&&((C=k.parentNode)==null||C.removeChild(k))},[]);const x=()=>{if(o.current){console.log("Zoom in clicked");try{const k=Or(o.current),C=window.topologyZoom;if(!C){console.error("Zoom behavior not found");return}const E=Math.min(4,(p?p.k:1)*1.2);console.log("Current zoom level:",p?p.k:1),console.log("New zoom level:",E);const T=Bc.translate(p?p.x:0,p?p.y:0).scale(E);k.transition().duration(300).call(C.transform,T),g(T),f(E)}catch(k){console.error("Error in zoom in:",k)}}},_=()=>{if(o.current){console.log("Zoom out clicked");try{const k=Or(o.current),C=window.topologyZoom;if(!C){console.error("Zoom behavior not found");return}const E=Math.max(.1,(p?p.k:1)/1.2);console.log("Current zoom level:",p?p.k:1),console.log("New zoom level:",E);const T=Bc.translate(p?p.x:0,p?p.y:0).scale(E);k.transition().duration(300).call(C.transform,T),g(T),f(E)}catch(k){console.error("Error in zoom out:",k)}}},b=()=>{if(!o.current)return;const k=Or(o.current),C=window.topologyZoom;if(C){const E=c.width,T=c.height;k.transition().duration(750).call(C.transform,Bc.translate(E/2,T/4).scale(.9))}},w=()=>{y(k=>({...k,visible:!1}))},S=eCe(k=>{console.log("打开终端:",k.id),s(k)},k=>{console.log("打开OlaOla配置助手:",k.id),a(k)});return u.jsxs("div",{className:"w-full h-full relative",children:[u.jsx("svg",{ref:o,className:"w-full h-full",children:u.jsx("g",{ref:l})}),u.jsx(QSe,{visible:m.visible,x:m.x,y:m.y,node:m.node,onClose:w,menuItems:S}),u.jsxs("div",{className:"absolute bottom-6 right-6 flex flex-col gap-2",children:[u.jsx(Re,{variant:"outline",size:"icon",onClick:x,className:"bg-white",title:"放大",children:u.jsx(Xye,{size:18})}),u.jsx(Re,{variant:"outline",size:"icon",onClick:_,className:"bg-white",title:"缩小",children:u.jsx(Jye,{size:18})}),u.jsx(Re,{variant:"outline",size:"icon",onClick:b,className:"bg-white",title:"重置视图",children:u.jsx(Kye,{size:18})})]})]})},rCe=({portDetails:e,onClose:t})=>{if(!e)return null;const r=(h,f)=>{const p=n(f);return p?h*8/p:0},n=h=>{try{const f=h.match(/(\d+)([GMK])bps/i);if(!f)return null;const p=parseInt(f[1],10);switch(f[2].toUpperCase()){case"G":return p*1e3*1e3*1e3;case"M":return p*1e3*1e3;case"K":return p*1e3;default:return null}}catch{return null}},i=h=>{switch(h.toLowerCase()){case"up":return"bg-green-100 text-green-800 border-green-300";case"down":return"bg-gray-100 text-gray-800 border-gray-300";case"warning":return"bg-amber-100 text-amber-800 border-amber-300";case"disabled":return"bg-gray-100 text-gray-600 border-gray-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},s=h=>`${ep(h)}/s`,a=h=>h<.3?"text-green-600":h<.6?"text-amber-500":h<.8?"text-orange-500":"text-red-600",o=e.inOctets,l=e.outOctets,c=r(o,e.speed),d=r(l,e.speed);return u.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden",children:[u.jsxs("div",{className:"bg-white border-b border-gray-200 text-gray-800 px-4 py-3 flex justify-between items-center",children:[u.jsxs("h3",{className:"font-semibold text-sm",children:["端口: ",e.name]}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-800 transition-colors",children:u.jsx(Ps,{size:18})})]}),u.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center",children:[u.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${i(e.status)}`,children:e.status.toUpperCase()}),u.jsx("div",{className:"ml-3 text-sm",children:e.speed}),e.inErrors>0&&u.jsxs("div",{className:"ml-auto text-xs text-red-600",children:[u.jsx("span",{className:"font-semibold",children:"CRC 错误:"})," ",e.inErrors]})]}),u.jsxs("div",{className:"p-4 text-sm divide-y divide-gray-200",children:[u.jsxs("div",{className:"pb-3",children:[u.jsxs("div",{className:"flex items-center mb-2",children:[u.jsx(Ka,{size:16,className:"text-blue-500 mr-2"}),u.jsx("span",{className:"font-medium text-gray-800",children:"流量信息"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"接收速率"}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{children:s(o)}),u.jsxs("div",{className:`text-xs ${a(c)}`,children:[Math.round(c*100),"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:u.jsx("div",{className:`h-1.5 rounded-full ${c<.3?"bg-green-500":c<.6?"bg-amber-500":c<.8?"bg-orange-500":"bg-red-500"}`,style:{width:`${Math.min(100,Math.round(c*100))}%`}})})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"发送速率"}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{children:s(l)}),u.jsxs("div",{className:`text-xs ${a(d)}`,children:[Math.round(d*100),"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:u.jsx("div",{className:`h-1.5 rounded-full ${d<.3?"bg-green-500":d<.6?"bg-amber-500":d<.8?"bg-orange-500":"bg-red-500"}`,style:{width:`${Math.min(100,Math.round(d*100))}%`}})})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-500",children:"MTU"}),u.jsxs("div",{children:[e.mtu," bytes"]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-500",children:"丢弃数量"}),u.jsxs("div",{children:["入: ",e.inDiscards,", 出: ",e.outDiscards]})]})]})]}),(e.vendor||e.serialNumber)&&u.jsxs("div",{className:"py-3",children:[u.jsxs("div",{className:"flex items-center mb-2",children:[u.jsx(Vm,{size:16,className:"text-blue-500 mr-2"}),u.jsx("span",{className:"font-medium text-gray-800",children:"光模块信息"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-500",children:"厂商"}),u.jsx("div",{className:"truncate",children:e.vendor||"未知"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-500",children:"序列号"}),u.jsx("div",{className:"truncate",children:e.serialNumber||"未知"})]})]})]}),(e.temperature||e.voltage||e.current||e.txPower||e.rxPower)&&u.jsxs("div",{className:"py-3",children:[u.jsxs("div",{className:"flex items-center mb-2",children:[u.jsx(rQ,{size:16,className:"text-blue-500 mr-2"}),u.jsx("span",{className:"font-medium text-gray-800",children:"DDM参数"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[e.temperature!==void 0&&u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-500",children:"温度"}),u.jsxs("div",{children:[e.temperature.toFixed(2),"°C"]})]}),e.voltage!==void 0&&u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-500",children:"电压"}),u.jsxs("div",{children:[e.voltage.toFixed(2),"V"]})]}),e.current!==void 0&&u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-500",children:"电流"}),u.jsxs("div",{children:[e.current.toFixed(2),"mA"]})]}),e.txPower!==void 0&&u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-500",children:"发送功率"}),u.jsxs("div",{children:[e.txPower.toFixed(2),"dBm"]})]}),e.rxPower!==void 0&&u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-500",children:"接收功率"}),u.jsxs("div",{children:[e.rxPower.toFixed(2),"dBm"]})]})]})]}),(e.inErrors!==void 0||e.outErrors!==void 0||e.fcsErrors!==void 0||e.flapCount!==void 0)&&u.jsxs("div",{className:"pt-3",children:[u.jsxs("div",{className:"flex items-center mb-2",children:[u.jsx(Rd,{size:16,className:"text-blue-500 mr-2"}),u.jsx("span",{className:"font-medium text-gray-800",children:"错误统计"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[(e.inErrors!==void 0||e.outErrors!==void 0)&&u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-500",children:"CRC错误"}),u.jsxs("div",{children:["入: ",e.inErrors||0,", 出: ",e.outErrors||0]})]}),e.fcsErrors!==void 0&&u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-500",children:"FCS错误"}),u.jsx("div",{children:e.fcsErrors})]}),e.flapCount!==void 0&&u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-500",children:"Flap次数"}),u.jsx("div",{children:e.flapCount})]})]})]})]})]})},Ur=A.forwardRef(({className:e,...t},r)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:r,className:Yt("w-full caption-bottom text-sm",e),...t})}));Ur.displayName="Table";const Hr=A.forwardRef(({className:e,...t},r)=>u.jsx("thead",{ref:r,className:Yt("[&_tr]:border-b",e),...t}));Hr.displayName="TableHeader";const Vr=A.forwardRef(({className:e,...t},r)=>u.jsx("tbody",{ref:r,className:Yt("[&_tr:last-child]:border-0",e),...t}));Vr.displayName="TableBody";const nCe=A.forwardRef(({className:e,...t},r)=>u.jsx("tfoot",{ref:r,className:Yt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));nCe.displayName="TableFooter";const Ke=A.forwardRef(({className:e,...t},r)=>u.jsx("tr",{ref:r,className:Yt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ke.displayName="TableRow";const ie=A.forwardRef(({className:e,...t},r)=>u.jsx("th",{ref:r,className:Yt("h-10 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ie.displayName="TableHead";const ee=A.forwardRef(({className:e,...t},r)=>u.jsx("td",{ref:r,className:Yt("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ee.displayName="TableCell";const iCe=A.forwardRef(({className:e,...t},r)=>u.jsx("caption",{ref:r,className:Yt("mt-4 text-sm text-muted-foreground",e),...t}));iCe.displayName="TableCaption";const sCe=({device:e,portDetails:t,onPortClick:r})=>{const[n,i]=A.useState(null),[s,a]=A.useState({x:0,y:0}),o=A.useRef(null),[l,c]=A.useState({width:0,height:0}),[d,h]=A.useState("visual"),[f,p]=A.useState(null),[g,v]=A.useState("asc"),[m,y]=A.useState("");A.useEffect(()=>{if(o.current){const{width:T,height:N}=o.current.getBoundingClientRect();c({width:T,height:N})}const E=()=>{if(o.current){const{width:T,height:N}=o.current.getBoundingClientRect();c({width:T,height:N})}};return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const x=E=>{switch(E){case"up":return"bg-green-500 border-green-700";case"down":return"bg-gray-400 border-gray-600";case"warning":return"bg-amber-500 border-amber-700";case"disabled":return"bg-gray-300 border-gray-500";default:return"bg-gray-400 border-gray-600"}},_=(E,T)=>{if(r(E),i(E===n?null:E),o.current){const N=o.current.getBoundingClientRect(),R=T.clientX-N.left,P=T.clientY-N.top;a({x:Math.min(R,N.width-320),y:Math.min(P,N.height-300)})}},b=()=>n&&t.find(E=>E.id===n)||null,w=E=>{switch(E){case"spine":return"spine-default.png";case"leaf":return"leaf-default.png";case"tor":return"tor-default.png";case"client":return"client-default.png";default:return"switch-default.png"}},S=()=>{let E=[...t];if(m){const T=m.toLowerCase();E=E.filter(N=>N.name.toLowerCase().includes(T)||N.status.toLowerCase().includes(T)||N.speed.toLowerCase().includes(T)||N.vendor&&N.vendor.toLowerCase().includes(T)||N.serialNumber&&N.serialNumber.toLowerCase().includes(T))}return f&&E.sort((T,N)=>{const R=T[f],P=N[f];return R===void 0?g==="asc"?1:-1:P===void 0?g==="asc"?-1:1:typeof R=="string"&&typeof P=="string"?g==="asc"?R.localeCompare(P):P.localeCompare(R):typeof R=="number"&&typeof P=="number"?g==="asc"?R-P:P-R:0}),E},k=E=>{f===E?v(g==="asc"?"desc":"asc"):(p(E),v("asc"))},C=()=>{const E=S(),N=[["端口名","状态","速率","光模块厂商","序列号","温度(°C)","电压(V)","电流(mA)","TX功率(dBm)","RX功率(dBm)","CRC错误","FCS错误","Flap次数"].join(","),...E.map($=>[$.name,$.status,$.speed,$.vendor||"",$.serialNumber||"",$.temperature||"",$.voltage||"",$.current||"",$.txPower||"",$.rxPower||"",$.inErrors||0,$.fcsErrors||0,$.flapCount||0].join(","))].join(`
`),R=new Blob([N],{type:"text/csv;charset=utf-8;"}),P=URL.createObjectURL(R),D=document.createElement("a");D.href=P,D.setAttribute("download",`${e.name}_ports_${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(D),D.click(),document.body.removeChild(D)};return u.jsxs("div",{ref:o,className:"relative w-full bg-white rounded-lg shadow-md flex flex-col border border-gray-200",style:{minHeight:"300px"},children:[u.jsxs("div",{className:"bg-white text-gray-800 p-4 border-b border-gray-200 flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("h3",{className:"text-xl font-semibold tracking-tight",children:e.name}),e.ipAddress&&u.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["IP: ",e.ipAddress]})]}),u.jsx("div",{className:`
          px-2 py-1 rounded-full text-xs font-medium text-white
          ${e.status==="up"?"bg-green-500":e.status==="warning"?"bg-amber-500":"bg-red-500"}
        `,children:e.status.toUpperCase()})]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"relative bg-gray-50 p-4 border-b border-gray-200",children:[u.jsx("h3",{className:"text-base font-medium text-gray-800 mb-2",children:"设备面板视图"}),u.jsx("img",{src:e.panelImage||`/images/${w(e.type)}`,alt:`${e.name} front panel`,className:"w-full object-contain mx-auto",style:{height:"300px",maxWidth:"100%"}}),e.ports.map(E=>{const T=E.id===n;return u.jsx("div",{className:`absolute border-2 ${x(E.status)} ${T?"ring-2 ring-blue-500":""} hover:opacity-80 cursor-pointer transition-all duration-200`,style:{left:`${E.x}%`,top:`${E.y}%`,width:`${E.width}%`,height:`${E.height}%`},onClick:N=>_(E.id,N),title:E.name,children:u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("span",{className:"text-xs font-bold text-white drop-shadow-md",children:E.name})})},E.id)})]}),n&&u.jsx("div",{className:"fixed z-50 shadow-xl bg-white rounded-lg border border-gray-200",style:{width:"350px",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:u.jsx(rCe,{portDetails:b(),onClose:()=>i(null)})}),u.jsxs("div",{className:"p-4 bg-white text-gray-800 border-b border-gray-200",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("h4",{className:"text-sm font-medium",children:["设备类型: ",e.type.toUpperCase()]}),u.jsxs("div",{className:"text-sm",children:[u.jsx("span",{className:"text-gray-500 mr-2",children:"端口数量:"}),u.jsx("span",{className:"font-medium",children:e.ports.length})]})]}),u.jsxs("div",{className:"flex mt-2 gap-5",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),u.jsxs("span",{className:"text-xs",children:["UP: ",e.ports.filter(E=>E.status==="up").length]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500 mr-2"}),u.jsxs("span",{className:"text-xs",children:["WARNING: ",e.ports.filter(E=>E.status==="warning").length]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400 mr-2"}),u.jsxs("span",{className:"text-xs",children:["DOWN: ",e.ports.filter(E=>E.status==="down").length]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-300 mr-2"}),u.jsxs("span",{className:"text-xs",children:["DISABLED: ",e.ports.filter(E=>E.status==="disabled").length]})]})]})]}),u.jsxs("div",{className:"bg-white",children:[u.jsxs("div",{className:"p-4 border-b border-gray-200",children:[u.jsx("h3",{className:"text-base font-medium text-gray-800 mb-2",children:"端口详情表格"}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Lye,{className:"h-4 w-4 text-gray-400 mr-2"}),u.jsx("input",{type:"search",placeholder:"搜索端口...",className:"bg-white text-gray-800 text-sm px-3 py-1 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-blue-500",value:m,onChange:E=>y(E.target.value)})]}),u.jsxs("button",{onClick:C,className:"flex items-center px-3 py-1 text-xs text-white bg-blue-600 hover:bg-blue-700 rounded transition-colors",children:[u.jsx(Yl,{className:"h-3 w-3 mr-1"}),"导出CSV"]})]})]}),u.jsx("div",{children:u.jsxs(Ur,{children:[u.jsx(Hr,{className:"bg-gray-50 sticky top-0",children:u.jsxs(Ke,{children:[u.jsx(ie,{className:"text-gray-700 cursor-pointer hover:text-blue-600",onClick:()=>k("name"),children:u.jsxs("div",{className:"flex items-center",children:["端口名",f==="name"&&u.jsx(Ka,{className:`ml-1 h-3 w-3 ${g==="desc"?"rotate-180":""}`})]})}),u.jsx(ie,{className:"text-gray-700 cursor-pointer hover:text-blue-600",onClick:()=>k("status"),children:u.jsxs("div",{className:"flex items-center",children:["状态",f==="status"&&u.jsx(Ka,{className:`ml-1 h-3 w-3 ${g==="desc"?"rotate-180":""}`})]})}),u.jsx(ie,{className:"text-gray-700 cursor-pointer hover:text-blue-600",onClick:()=>k("speed"),children:u.jsxs("div",{className:"flex items-center",children:["速率",f==="speed"&&u.jsx(Ka,{className:`ml-1 h-3 w-3 ${g==="desc"?"rotate-180":""}`})]})}),u.jsx(ie,{className:"text-gray-700 cursor-pointer hover:text-blue-600",onClick:()=>k("vendor"),children:u.jsxs("div",{className:"flex items-center",children:["光模块厂商",f==="vendor"&&u.jsx(Ka,{className:`ml-1 h-3 w-3 ${g==="desc"?"rotate-180":""}`})]})}),u.jsx(ie,{className:"text-gray-700 cursor-pointer hover:text-blue-600",onClick:()=>k("serialNumber"),children:u.jsxs("div",{className:"flex items-center",children:["序列号",f==="serialNumber"&&u.jsx(Ka,{className:`ml-1 h-3 w-3 ${g==="desc"?"rotate-180":""}`})]})}),u.jsx(ie,{className:"text-gray-700 cursor-pointer hover:text-blue-600",onClick:()=>k("temperature"),children:u.jsxs("div",{className:"flex items-center",children:["温度(°C)",f==="temperature"&&u.jsx(Ka,{className:`ml-1 h-3 w-3 ${g==="desc"?"rotate-180":""}`})]})}),u.jsx(ie,{className:"text-gray-700 cursor-pointer hover:text-blue-600",onClick:()=>k("txPower"),children:u.jsxs("div",{className:"flex items-center",children:["Optical_Module_TX(dBm)",f==="txPower"&&u.jsx(Ka,{className:`ml-1 h-3 w-3 ${g==="desc"?"rotate-180":""}`})]})}),u.jsx(ie,{className:"text-gray-700 cursor-pointer hover:text-blue-600",onClick:()=>k("rxPower"),children:u.jsxs("div",{className:"flex items-center",children:["Optical_Module_RX(dBm)",f==="rxPower"&&u.jsx(Ka,{className:`ml-1 h-3 w-3 ${g==="desc"?"rotate-180":""}`})]})}),u.jsx(ie,{className:"text-gray-700 cursor-pointer hover:text-blue-600",onClick:()=>k("inErrors"),children:u.jsxs("div",{className:"flex items-center",children:["CRC错误",f==="inErrors"&&u.jsx(Ka,{className:`ml-1 h-3 w-3 ${g==="desc"?"rotate-180":""}`})]})}),u.jsx(ie,{className:"text-gray-700 cursor-pointer hover:text-blue-600",onClick:()=>k("fcsErrors"),children:u.jsxs("div",{className:"flex items-center",children:["FCS错误",f==="fcsErrors"&&u.jsx(Ka,{className:`ml-1 h-3 w-3 ${g==="desc"?"rotate-180":""}`})]})}),u.jsx(ie,{className:"text-gray-700 cursor-pointer hover:text-blue-600",onClick:()=>k("flapCount"),children:u.jsxs("div",{className:"flex items-center",children:["Flaps",f==="flapCount"&&u.jsx(Ka,{className:`ml-1 h-3 w-3 ${g==="desc"?"rotate-180":""}`})]})}),u.jsx(ie,{className:"text-gray-700",children:"流量"})]})}),u.jsx(Vr,{children:S().map(E=>u.jsxs(Ke,{className:`
                      border-b border-gray-200 hover:bg-gray-100 cursor-pointer
                      ${E.id===n?"bg-blue-100":""}
                    `,onClick:()=>i(E.id===n?null:E.id),children:[u.jsx(ee,{className:"font-medium text-gray-800",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${E.status==="up"?"bg-green-500":E.status==="warning"?"bg-amber-500":"bg-gray-500"}`}),E.name]})}),u.jsx(ee,{className:"text-gray-800",children:E.status.toUpperCase()}),u.jsx(ee,{className:"text-gray-800",children:E.speed}),u.jsx(ee,{className:"text-gray-800",children:E.vendor||"-"}),u.jsx(ee,{className:"text-gray-800",children:u.jsx("span",{className:"text-xs",children:E.serialNumber||"-"})}),u.jsx(ee,{className:"text-gray-800",children:E.temperature!==void 0?`${E.temperature.toFixed(1)}`:"-"}),u.jsx(ee,{className:"text-gray-800",children:E.txPower!==void 0?`${E.txPower.toFixed(2)}`:"-"}),u.jsx(ee,{className:"text-gray-800",children:E.rxPower!==void 0?`${E.rxPower.toFixed(2)}`:"-"}),u.jsx(ee,{className:`text-gray-800 ${E.inErrors>0?"text-red-500":""}`,children:E.inErrors||0}),u.jsx(ee,{className:`text-gray-800 ${E.fcsErrors&&E.fcsErrors>0?"text-red-500":""}`,children:E.fcsErrors||0}),u.jsx(ee,{className:`text-gray-800 ${E.flapCount&&E.flapCount>0?"text-yellow-500":""}`,children:E.flapCount||0}),u.jsx(ee,{className:"text-gray-800",children:u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-gray-500",children:"入:"}),u.jsxs("span",{children:[ep(E.inOctets),"/s"]})]}),u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-gray-500",children:"出:"}),u.jsxs("span",{children:[ep(E.outOctets),"/s"]})]})]})})]},E.id))})]})})]})]})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yP=function(e,t){return yP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},yP(e,t)};function le(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");yP(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var aCe=function(){function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return e}(),oCe=function(){function e(){this.browser=new aCe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return e}(),Gt=new oCe;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Gt.wxa=!0,Gt.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Gt.worker=!0:!Gt.hasGlobalWindow||"Deno"in window?(Gt.node=!0,Gt.svgSupported=!0):lCe(navigator.userAgent,Gt);function lCe(e,t){var r=t.browser,n=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),s=e.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(e);n&&(r.firefox=!0,r.version=n[1]),i&&(r.ie=!0,r.version=i[1]),s&&(r.edge=!0,r.version=s[1],r.newEdge=+s[1].split(".")[0]>18),a&&(r.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,t.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),t.domSupported=typeof document<"u";var o=document.documentElement.style;t.transform3dSupported=(r.ie&&"transition"in o||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in o)&&!("OTransition"in o),t.transformSupported=t.transform3dSupported||r.ie&&+r.version>=9}var K3=12,pee="sans-serif",Ud=K3+"px "+pee,cCe=20,uCe=100,dCe="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function hCe(e){var t={};if(typeof JSON>"u")return t;for(var r=0;r<e.length;r++){var n=String.fromCharCode(r+32),i=(e.charCodeAt(r)-cCe)/uCe;t[n]=i}return t}var fCe=hCe(dCe),Hd={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var e,t;return function(r,n){if(!e){var i=Hd.createCanvas();e=i&&i.getContext("2d")}if(e)return t!==n&&(t=e.font=n||Ud),e.measureText(r);r=r||"",n=n||Ud;var s=/((?:\d+)?\.?\d*)px/.exec(n),a=s&&+s[1]||K3,o=0;if(n.indexOf("mono")>=0)o=a*r.length;else for(var l=0;l<r.length;l++){var c=fCe[r[l]];o+=c==null?a:c*a}return{width:o}}}(),loadImage:function(e,t,r){var n=new Image;return n.onload=t,n.onerror=r,n.src=e,n}},gee=nc(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(e,t){return e["[object "+t+"]"]=!0,e},{}),mee=nc(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(e,t){return e["[object "+t+"Array]"]=!0,e},{}),Iv=Object.prototype.toString,uN=Array.prototype,pCe=uN.forEach,gCe=uN.filter,Z3=uN.slice,mCe=uN.map,f8=(function(){}).constructor,I1=f8?f8.prototype:null,X3="__proto__",vCe=2311;function vee(){return vCe++}function J3(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];typeof console<"u"&&console.error.apply(console,e)}function lt(e){if(e==null||typeof e!="object")return e;var t=e,r=Iv.call(e);if(r==="[object Array]"){if(!Ex(e)){t=[];for(var n=0,i=e.length;n<i;n++)t[n]=lt(e[n])}}else if(mee[r]){if(!Ex(e)){var s=e.constructor;if(s.from)t=s.from(e);else{t=new s(e.length);for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}}}else if(!gee[r]&&!Ex(e)&&!Ym(e)){t={};for(var a in e)e.hasOwnProperty(a)&&a!==X3&&(t[a]=lt(e[a]))}return t}function Ct(e,t,r){if(!st(t)||!st(e))return r?lt(t):e;for(var n in t)if(t.hasOwnProperty(n)&&n!==X3){var i=e[n],s=t[n];st(s)&&st(i)&&!ve(s)&&!ve(i)&&!Ym(s)&&!Ym(i)&&!p8(s)&&!p8(i)&&!Ex(s)&&!Ex(i)?Ct(i,s,r):(r||!(n in e))&&(e[n]=lt(t[n]))}return e}function Q3(e,t){for(var r=e[0],n=1,i=e.length;n<i;n++)r=Ct(r,e[n],t);return r}function fe(e,t){if(Object.assign)Object.assign(e,t);else for(var r in t)t.hasOwnProperty(r)&&r!==X3&&(e[r]=t[r]);return e}function rt(e,t,r){for(var n=Zt(t),i=0,s=n.length;i<s;i++){var a=n[i];(r?t[a]!=null:e[a]==null)&&(e[a]=t[a])}return e}function Pt(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r}return-1}function yCe(e,t){var r=e.prototype;function n(){}n.prototype=t.prototype,e.prototype=new n;for(var i in r)r.hasOwnProperty(i)&&(e.prototype[i]=r[i]);e.prototype.constructor=e,e.superClass=t}function oi(e,t,r){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var s=n[i];s!=="constructor"&&(r?t[s]!=null:e[s]==null)&&(e[s]=t[s])}else rt(e,t,r)}function ds(e){return!e||typeof e=="string"?!1:typeof e.length=="number"}function V(e,t,r){if(e&&t)if(e.forEach&&e.forEach===pCe)e.forEach(t,r);else if(e.length===+e.length)for(var n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e);else for(var s in e)e.hasOwnProperty(s)&&t.call(r,e[s],s,e)}function xe(e,t,r){if(!e)return[];if(!t)return e5(e);if(e.map&&e.map===mCe)return e.map(t,r);for(var n=[],i=0,s=e.length;i<s;i++)n.push(t.call(r,e[i],i,e));return n}function nc(e,t,r,n){if(e&&t){for(var i=0,s=e.length;i<s;i++)r=t.call(n,r,e[i],i,e);return r}}function Rr(e,t,r){if(!e)return[];if(!t)return e5(e);if(e.filter&&e.filter===gCe)return e.filter(t,r);for(var n=[],i=0,s=e.length;i<s;i++)t.call(r,e[i],i,e)&&n.push(e[i]);return n}function xCe(e,t,r){if(e&&t){for(var n=0,i=e.length;n<i;n++)if(t.call(r,e[n],n,e))return e[n]}}function Zt(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}function _Ce(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return function(){return e.apply(t,r.concat(Z3.call(arguments)))}}var He=I1&&et(I1.bind)?I1.call.bind(I1.bind):_Ce;function xt(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(){return e.apply(this,t.concat(Z3.call(arguments)))}}function ve(e){return Array.isArray?Array.isArray(e):Iv.call(e)==="[object Array]"}function et(e){return typeof e=="function"}function De(e){return typeof e=="string"}function xP(e){return Iv.call(e)==="[object String]"}function xr(e){return typeof e=="number"}function st(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function p8(e){return!!gee[Iv.call(e)]}function ua(e){return!!mee[Iv.call(e)]}function Ym(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function dN(e){return e.colorStops!=null}function bCe(e){return e.image!=null}function wCe(e){return Iv.call(e)==="[object RegExp]"}function T_(e){return e!==e}function Mi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,n=e.length;r<n;r++)if(e[r]!=null)return e[r]}function mt(e,t){return e??t}function Zl(e,t,r){return e??t??r}function e5(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return Z3.apply(e,t)}function t5(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function Os(e,t){if(!e)throw new Error(t)}function Vo(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var yee="__ec_primitive__";function Xk(e){e[yee]=!0}function Ex(e){return e[yee]}var SCe=function(){function e(){this.data={}}return e.prototype.delete=function(t){var r=this.has(t);return r&&delete this.data[t],r},e.prototype.has=function(t){return this.data.hasOwnProperty(t)},e.prototype.get=function(t){return this.data[t]},e.prototype.set=function(t,r){return this.data[t]=r,this},e.prototype.keys=function(){return Zt(this.data)},e.prototype.forEach=function(t){var r=this.data;for(var n in r)r.hasOwnProperty(n)&&t(r[n],n)},e}(),xee=typeof Map=="function";function CCe(){return xee?new Map:new SCe}var kCe=function(){function e(t){var r=ve(t);this.data=CCe();var n=this;t instanceof e?t.each(i):t&&V(t,i);function i(s,a){r?n.set(s,a):n.set(a,s)}}return e.prototype.hasKey=function(t){return this.data.has(t)},e.prototype.get=function(t){return this.data.get(t)},e.prototype.set=function(t,r){return this.data.set(t,r),r},e.prototype.each=function(t,r){this.data.forEach(function(n,i){t.call(r,n,i)})},e.prototype.keys=function(){var t=this.data.keys();return xee?Array.from(t):t},e.prototype.removeKey=function(t){this.data.delete(t)},e}();function qe(e){return new kCe(e)}function N_(e,t){for(var r=new e.constructor(e.length+t.length),n=0;n<e.length;n++)r[n]=e[n];for(var i=e.length,n=0;n<t.length;n++)r[n+i]=t[n];return r}function hN(e,t){var r;if(Object.create)r=Object.create(e);else{var n=function(){};n.prototype=e,r=new n}return t&&fe(r,t),r}function _ee(e){var t=e.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function We(e,t){return e.hasOwnProperty(t)}function Xn(){}var $C=180/Math.PI;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _P=function(e,t){return _P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},_P(e,t)};function vn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");_P(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Ep(e,t){return e==null&&(e=0),t==null&&(t=0),[e,t]}function ws(e,t){return e[0]=t[0],e[1]=t[1],e}function Yc(e){return[e[0],e[1]]}function ECe(e,t,r){return e[0]=t,e[1]=r,e}function g8(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function bP(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function _f(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function wP(e){return Math.sqrt(TCe(e))}function TCe(e){return e[0]*e[0]+e[1]*e[1]}function BC(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function Mv(e,t){var r=wP(t);return r===0?(e[0]=0,e[1]=0):(e[0]=t[0]/r,e[1]=t[1]/r),e}function SP(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var dd=SP;function NCe(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var Df=NCe;function FC(e,t,r,n){return e[0]=t[0]+n*(r[0]-t[0]),e[1]=t[1]+n*(r[1]-t[1]),e}function Vi(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function hd(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function fd(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}var Qp=function(){function e(t,r){this.target=t,this.topTarget=r&&r.topTarget}return e}(),ACe=function(){function e(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(t){for(var r=t.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Qp(r,t),"dragstart",t.event))},e.prototype._drag=function(t){var r=this._draggingTarget;if(r){var n=t.offsetX,i=t.offsetY,s=n-this._x,a=i-this._y;this._x=n,this._y=i,r.drift(s,a,t),this.handler.dispatchToElement(new Qp(r,t),"drag",t.event);var o=this.handler.findHover(n,i,r).target,l=this._dropTarget;this._dropTarget=o,r!==o&&(l&&o!==l&&this.handler.dispatchToElement(new Qp(l,t),"dragleave",t.event),o&&o!==l&&this.handler.dispatchToElement(new Qp(o,t),"dragenter",t.event))}},e.prototype._dragEnd=function(t){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new Qp(r,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Qp(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},e}(),bo=function(){function e(t){t&&(this._$eventProcessor=t)}return e.prototype.on=function(t,r,n,i){this._$handlers||(this._$handlers={});var s=this._$handlers;if(typeof r=="function"&&(i=n,n=r,r=null),!n||!t)return this;var a=this._$eventProcessor;r!=null&&a&&a.normalizeQuery&&(r=a.normalizeQuery(r)),s[t]||(s[t]=[]);for(var o=0;o<s[t].length;o++)if(s[t][o].h===n)return this;var l={h:n,query:r,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},c=s[t].length-1,d=s[t][c];return d&&d.callAtLast?s[t].splice(c,0,l):s[t].push(l),this},e.prototype.isSilent=function(t){var r=this._$handlers;return!r||!r[t]||!r[t].length},e.prototype.off=function(t,r){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(r){if(n[t]){for(var i=[],s=0,a=n[t].length;s<a;s++)n[t][s].h!==r&&i.push(n[t][s]);n[t]=i}n[t]&&n[t].length===0&&delete n[t]}else delete n[t];return this},e.prototype.trigger=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],s=this._$eventProcessor;if(i)for(var a=r.length,o=i.length,l=0;l<o;l++){var c=i[l];if(!(s&&s.filter&&c.query!=null&&!s.filter(t,c.query)))switch(a){case 0:c.h.call(c.ctx);break;case 1:c.h.call(c.ctx,r[0]);break;case 2:c.h.call(c.ctx,r[0],r[1]);break;default:c.h.apply(c.ctx,r);break}}return s&&s.afterTrigger&&s.afterTrigger(t),this},e.prototype.triggerWithContext=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],s=this._$eventProcessor;if(i)for(var a=r.length,o=r[a-1],l=i.length,c=0;c<l;c++){var d=i[c];if(!(s&&s.filter&&d.query!=null&&!s.filter(t,d.query)))switch(a){case 0:d.h.call(o);break;case 1:d.h.call(o,r[0]);break;case 2:d.h.call(o,r[0],r[1]);break;default:d.h.apply(o,r.slice(1,a-1));break}}return s&&s.afterTrigger&&s.afterTrigger(t),this},e}(),jCe=Math.log(2);function CP(e,t,r,n,i,s){var a=n+"-"+i,o=e.length;if(s.hasOwnProperty(a))return s[a];if(t===1){var l=Math.round(Math.log((1<<o)-1&~i)/jCe);return e[r][l]}for(var c=n|1<<r,d=r+1;n&1<<d;)d++;for(var h=0,f=0,p=0;f<o;f++){var g=1<<f;g&i||(h+=(p%2?-1:1)*e[r][f]*CP(e,t-1,d,c,i|g,s),p++)}return s[a]=h,h}function m8(e,t){var r=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],n={},i=CP(r,8,0,0,0,n);if(i!==0){for(var s=[],a=0;a<8;a++)for(var o=0;o<8;o++)s[o]==null&&(s[o]=0),s[o]+=((a+o)%2?-1:1)*CP(r,7,a===0?1:0,1<<a,1<<o,n)/i*t[a];return function(l,c,d){var h=c*s[6]+d*s[7]+1;l[0]=(c*s[0]+d*s[1]+s[2])/h,l[1]=(c*s[3]+d*s[4]+s[5])/h}}}var v8="___zrEVENTSAVED",NA=[];function RCe(e,t,r,n,i){return kP(NA,t,n,i,!0)&&kP(e,r,NA[0],NA[1])}function kP(e,t,r,n,i){if(t.getBoundingClientRect&&Gt.domSupported&&!bee(t)){var s=t[v8]||(t[v8]={}),a=ICe(t,s),o=MCe(a,s,i);if(o)return o(e,r,n),!0}return!1}function ICe(e,t){var r=t.markers;if(r)return r;r=t.markers=[];for(var n=["left","right"],i=["top","bottom"],s=0;s<4;s++){var a=document.createElement("div"),o=a.style,l=s%2,c=(s>>1)%2;o.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",i[c]+":0",n[1-l]+":auto",i[1-c]+":auto",""].join("!important;"),e.appendChild(a),r.push(a)}return r}function MCe(e,t,r){for(var n=r?"invTrans":"trans",i=t[n],s=t.srcCoords,a=[],o=[],l=!0,c=0;c<4;c++){var d=e[c].getBoundingClientRect(),h=2*c,f=d.left,p=d.top;a.push(f,p),l=l&&s&&f===s[h]&&p===s[h+1],o.push(e[c].offsetLeft,e[c].offsetTop)}return l&&i?i:(t.srcCoords=a,t[n]=r?m8(o,a):m8(a,o))}function bee(e){return e.nodeName.toUpperCase()==="CANVAS"}var PCe=/([&<>"'])/g,LCe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ts(e){return e==null?"":(e+"").replace(PCe,function(t,r){return LCe[r]})}var DCe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,AA=[],OCe=Gt.browser.firefox&&+Gt.browser.version.split(".")[0]<39;function EP(e,t,r,n){return r=r||{},n?y8(e,t,r):OCe&&t.layerX!=null&&t.layerX!==t.offsetX?(r.zrX=t.layerX,r.zrY=t.layerY):t.offsetX!=null?(r.zrX=t.offsetX,r.zrY=t.offsetY):y8(e,t,r),r}function y8(e,t,r){if(Gt.domSupported&&e.getBoundingClientRect){var n=t.clientX,i=t.clientY;if(bee(e)){var s=e.getBoundingClientRect();r.zrX=n-s.left,r.zrY=i-s.top;return}else if(kP(AA,e,n,i)){r.zrX=AA[0],r.zrY=AA[1];return}}r.zrX=r.zrY=0}function r5(e){return e||window.event}function Xa(e,t,r){if(t=r5(t),t.zrX!=null)return t;var n=t.type,i=n&&n.indexOf("touch")>=0;if(i){var a=n!=="touchend"?t.targetTouches[0]:t.changedTouches[0];a&&EP(e,a,t,r)}else{EP(e,t,t,r);var s=$Ce(t);t.zrDelta=s?s/120:-(t.detail||0)/3}var o=t.button;return t.which==null&&o!==void 0&&DCe.test(t.type)&&(t.which=o&1?1:o&2?3:o&4?2:0),t}function $Ce(e){var t=e.wheelDelta;if(t)return t;var r=e.deltaX,n=e.deltaY;if(r==null||n==null)return t;var i=Math.abs(n!==0?n:r),s=n>0?-1:n<0?1:r>0?-1:1;return 3*i*s}function TP(e,t,r,n){e.addEventListener(t,r,n)}function BCe(e,t,r,n){e.removeEventListener(t,r,n)}var au=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0};function x8(e){return e.which===2||e.which===3}var FCe=function(){function e(){this._track=[]}return e.prototype.recognize=function(t,r,n){return this._doTrack(t,r,n),this._recognize(t)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(t,r,n){var i=t.touches;if(i){for(var s={points:[],touches:[],target:r,event:t},a=0,o=i.length;a<o;a++){var l=i[a],c=EP(n,l,{});s.points.push([c.zrX,c.zrY]),s.touches.push(l)}this._track.push(s)}},e.prototype._recognize=function(t){for(var r in jA)if(jA.hasOwnProperty(r)){var n=jA[r](this._track,t);if(n)return n}},e}();function _8(e){var t=e[1][0]-e[0][0],r=e[1][1]-e[0][1];return Math.sqrt(t*t+r*r)}function zCe(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var jA={pinch:function(e,t){var r=e.length;if(r){var n=(e[r-1]||{}).points,i=(e[r-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var s=_8(n)/_8(i);!isFinite(s)&&(s=1),t.pinchScale=s;var a=zCe(n);return t.pinchX=a[0],t.pinchY=a[1],{type:"pinch",target:e[0].target,event:t}}}}};function Ta(){return[1,0,0,1,0,0]}function fN(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function n5(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Kc(e,t,r){var n=t[0]*r[0]+t[2]*r[1],i=t[1]*r[0]+t[3]*r[1],s=t[0]*r[2]+t[2]*r[3],a=t[1]*r[2]+t[3]*r[3],o=t[0]*r[4]+t[2]*r[5]+t[4],l=t[1]*r[4]+t[3]*r[5]+t[5];return e[0]=n,e[1]=i,e[2]=s,e[3]=a,e[4]=o,e[5]=l,e}function ic(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+r[0],e[5]=t[5]+r[1],e}function Tp(e,t,r,n){n===void 0&&(n=[0,0]);var i=t[0],s=t[2],a=t[4],o=t[1],l=t[3],c=t[5],d=Math.sin(r),h=Math.cos(r);return e[0]=i*h+o*d,e[1]=-i*d+o*h,e[2]=s*h+l*d,e[3]=-s*d+h*l,e[4]=h*(a-n[0])+d*(c-n[1])+n[0],e[5]=h*(c-n[1])-d*(a-n[0])+n[1],e}function i5(e,t,r){var n=r[0],i=r[1];return e[0]=t[0]*n,e[1]=t[1]*i,e[2]=t[2]*n,e[3]=t[3]*i,e[4]=t[4]*n,e[5]=t[5]*i,e}function Pv(e,t){var r=t[0],n=t[2],i=t[4],s=t[1],a=t[3],o=t[5],l=r*a-s*n;return l?(l=1/l,e[0]=a*l,e[1]=-s*l,e[2]=-n*l,e[3]=r*l,e[4]=(n*o-a*i)*l,e[5]=(s*i-r*o)*l,e):null}function UCe(e){var t=Ta();return n5(t,e),t}var kt=function(){function e(t,r){this.x=t||0,this.y=r||0}return e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(t,r){return this.x=t,this.y=r,this},e.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},e.prototype.scale=function(t){this.x*=t,this.y*=t},e.prototype.scaleAndAdd=function(t,r){this.x+=t.x*r,this.y+=t.y*r},e.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},e.prototype.distance=function(t){var r=this.x-t.x,n=this.y-t.y;return Math.sqrt(r*r+n*n)},e.prototype.distanceSquare=function(t){var r=this.x-t.x,n=this.y-t.y;return r*r+n*n},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(t){if(t){var r=this.x,n=this.y;return this.x=t[0]*r+t[2]*n+t[4],this.y=t[1]*r+t[3]*n+t[5],this}},e.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},e.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},e.set=function(t,r,n){t.x=r,t.y=n},e.copy=function(t,r){t.x=r.x,t.y=r.y},e.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},e.lenSquare=function(t){return t.x*t.x+t.y*t.y},e.dot=function(t,r){return t.x*r.x+t.y*r.y},e.add=function(t,r,n){t.x=r.x+n.x,t.y=r.y+n.y},e.sub=function(t,r,n){t.x=r.x-n.x,t.y=r.y-n.y},e.scale=function(t,r,n){t.x=r.x*n,t.y=r.y*n},e.scaleAndAdd=function(t,r,n,i){t.x=r.x+n.x*i,t.y=r.y+n.y*i},e.lerp=function(t,r,n,i){var s=1-i;t.x=s*r.x+i*n.x,t.y=s*r.y+i*n.y},e}(),M1=Math.min,P1=Math.max,Sh=new kt,Ch=new kt,kh=new kt,Eh=new kt,ey=new kt,ty=new kt,At=function(){function e(t,r,n,i){n<0&&(t=t+n,n=-n),i<0&&(r=r+i,i=-i),this.x=t,this.y=r,this.width=n,this.height=i}return e.prototype.union=function(t){var r=M1(t.x,this.x),n=M1(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=P1(t.x+t.width,this.x+this.width)-r:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=P1(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=r,this.y=n},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(t){var r=this,n=t.width/r.width,i=t.height/r.height,s=Ta();return ic(s,s,[-r.x,-r.y]),i5(s,s,[n,i]),ic(s,s,[t.x,t.y]),s},e.prototype.intersect=function(t,r){if(!t)return!1;t instanceof e||(t=e.create(t));var n=this,i=n.x,s=n.x+n.width,a=n.y,o=n.y+n.height,l=t.x,c=t.x+t.width,d=t.y,h=t.y+t.height,f=!(s<l||c<i||o<d||h<a);if(r){var p=1/0,g=0,v=Math.abs(s-l),m=Math.abs(c-i),y=Math.abs(o-d),x=Math.abs(h-a),_=Math.min(v,m),b=Math.min(y,x);s<l||c<i?_>g&&(g=_,v<m?kt.set(ty,-v,0):kt.set(ty,m,0)):_<p&&(p=_,v<m?kt.set(ey,v,0):kt.set(ey,-m,0)),o<d||h<a?b>g&&(g=b,y<x?kt.set(ty,0,-y):kt.set(ty,0,x)):_<p&&(p=_,y<x?kt.set(ey,0,y):kt.set(ey,0,-x))}return r&&kt.copy(r,f?ey:ty),f},e.prototype.contain=function(t,r){var n=this;return t>=n.x&&t<=n.x+n.width&&r>=n.y&&r<=n.y+n.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return this.width===0||this.height===0},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(t,r){t.x=r.x,t.y=r.y,t.width=r.width,t.height=r.height},e.applyTransform=function(t,r,n){if(!n){t!==r&&e.copy(t,r);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],s=n[3],a=n[4],o=n[5];t.x=r.x*i+a,t.y=r.y*s+o,t.width=r.width*i,t.height=r.height*s,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}Sh.x=kh.x=r.x,Sh.y=Eh.y=r.y,Ch.x=Eh.x=r.x+r.width,Ch.y=kh.y=r.y+r.height,Sh.transform(n),Eh.transform(n),Ch.transform(n),kh.transform(n),t.x=M1(Sh.x,Ch.x,kh.x,Eh.x),t.y=M1(Sh.y,Ch.y,kh.y,Eh.y);var l=P1(Sh.x,Ch.x,kh.x,Eh.x),c=P1(Sh.y,Ch.y,kh.y,Eh.y);t.width=l-t.x,t.height=c-t.y},e}(),wee="silent";function HCe(e,t,r){return{type:e,event:r,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:VCe}}function VCe(){au(this.event)}var WCe=function(e){vn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.handler=null,r}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(bo),ry=function(){function e(t,r){this.x=t,this.y=r}return e}(),GCe=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],RA=new At(0,0,0,0),See=function(e){vn(t,e);function t(r,n,i,s,a){var o=e.call(this)||this;return o._hovered=new ry(0,0),o.storage=r,o.painter=n,o.painterRoot=s,o._pointerSize=a,i=i||new WCe,o.proxy=null,o.setHandlerProxy(i),o._draggingMgr=new ACe(o),o}return t.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(V(GCe,function(n){r.on&&r.on(n,this[n],this)},this),r.handler=this),this.proxy=r},t.prototype.mousemove=function(r){var n=r.zrX,i=r.zrY,s=Cee(this,n,i),a=this._hovered,o=a.target;o&&!o.__zr&&(a=this.findHover(a.x,a.y),o=a.target);var l=this._hovered=s?new ry(n,i):this.findHover(n,i),c=l.target,d=this.proxy;d.setCursor&&d.setCursor(c?c.cursor:"default"),o&&c!==o&&this.dispatchToElement(a,"mouseout",r),this.dispatchToElement(l,"mousemove",r),c&&c!==o&&this.dispatchToElement(l,"mouseover",r)},t.prototype.mouseout=function(r){var n=r.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},t.prototype.resize=function(){this._hovered=new ry(0,0)},t.prototype.dispatch=function(r,n){var i=this[r];i&&i.call(this,n)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(r){var n=this.proxy;n.setCursor&&n.setCursor(r)},t.prototype.dispatchToElement=function(r,n,i){r=r||{};var s=r.target;if(!(s&&s.silent)){for(var a="on"+n,o=HCe(n,r,i);s&&(s[a]&&(o.cancelBubble=!!s[a].call(s,o)),s.trigger(n,o),s=s.__hostTarget?s.__hostTarget:s.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(n,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[a]=="function"&&l[a].call(l,o),l.trigger&&l.trigger(n,o)}))}},t.prototype.findHover=function(r,n,i){var s=this.storage.getDisplayList(),a=new ry(r,n);if(b8(s,a,r,n,i),this._pointerSize&&!a.target){for(var o=[],l=this._pointerSize,c=l/2,d=new At(r-c,n-c,l,l),h=s.length-1;h>=0;h--){var f=s[h];f!==i&&!f.ignore&&!f.ignoreCoarsePointer&&(!f.parent||!f.parent.ignoreCoarsePointer)&&(RA.copy(f.getBoundingRect()),f.transform&&RA.applyTransform(f.transform),RA.intersect(d)&&o.push(f))}if(o.length)for(var p=4,g=Math.PI/12,v=Math.PI*2,m=0;m<c;m+=p)for(var y=0;y<v;y+=g){var x=r+m*Math.cos(y),_=n+m*Math.sin(y);if(b8(o,a,x,_,i),a.target)return a}}return a},t.prototype.processGesture=function(r,n){this._gestureMgr||(this._gestureMgr=new FCe);var i=this._gestureMgr;n==="start"&&i.clear();var s=i.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(n==="end"&&i.clear(),s){var a=s.type;r.gestureEvent=a;var o=new ry;o.target=s.target,this.dispatchToElement(o,a,s.event)}},t}(bo);V(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){See.prototype[e]=function(t){var r=t.zrX,n=t.zrY,i=Cee(this,r,n),s,a;if((e!=="mouseup"||!i)&&(s=this.findHover(r,n),a=s.target),e==="mousedown")this._downEl=a,this._downPoint=[t.zrX,t.zrY],this._upEl=a;else if(e==="mouseup")this._upEl=a;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||dd(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(s,e,t)}});function qCe(e,t,r){if(e[e.rectHover?"rectContain":"contain"](t,r)){for(var n=e,i=void 0,s=!1;n;){if(n.ignoreClip&&(s=!0),!s){var a=n.getClipPath();if(a&&!a.contain(t,r))return!1}n.silent&&(i=!0);var o=n.__hostTarget;n=o||n.parent}return i?wee:!0}return!1}function b8(e,t,r,n,i){for(var s=e.length-1;s>=0;s--){var a=e[s],o=void 0;if(a!==i&&!a.ignore&&(o=qCe(a,r,n))&&(!t.topTarget&&(t.topTarget=a),o!==wee)){t.target=a;break}}}function Cee(e,t,r){var n=e.painter;return t<0||t>n.getWidth()||r<0||r>n.getHeight()}var kee=32,ny=7;function YCe(e){for(var t=0;e>=kee;)t|=e&1,e>>=1;return e+t}function w8(e,t,r,n){var i=t+1;if(i===r)return 1;if(n(e[i++],e[t])<0){for(;i<r&&n(e[i],e[i-1])<0;)i++;KCe(e,t,i)}else for(;i<r&&n(e[i],e[i-1])>=0;)i++;return i-t}function KCe(e,t,r){for(r--;t<r;){var n=e[t];e[t++]=e[r],e[r--]=n}}function S8(e,t,r,n,i){for(n===t&&n++;n<r;n++){for(var s=e[n],a=t,o=n,l;a<o;)l=a+o>>>1,i(s,e[l])<0?o=l:a=l+1;var c=n-a;switch(c){case 3:e[a+3]=e[a+2];case 2:e[a+2]=e[a+1];case 1:e[a+1]=e[a];break;default:for(;c>0;)e[a+c]=e[a+c-1],c--}e[a]=s}}function IA(e,t,r,n,i,s){var a=0,o=0,l=1;if(s(e,t[r+i])>0){for(o=n-i;l<o&&s(e,t[r+i+l])>0;)a=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),a+=i,l+=i}else{for(o=i+1;l<o&&s(e,t[r+i-l])<=0;)a=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var c=a;a=i-l,l=i-c}for(a++;a<l;){var d=a+(l-a>>>1);s(e,t[r+d])>0?a=d+1:l=d}return l}function MA(e,t,r,n,i,s){var a=0,o=0,l=1;if(s(e,t[r+i])<0){for(o=i+1;l<o&&s(e,t[r+i-l])<0;)a=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var c=a;a=i-l,l=i-c}else{for(o=n-i;l<o&&s(e,t[r+i+l])>=0;)a=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),a+=i,l+=i}for(a++;a<l;){var d=a+(l-a>>>1);s(e,t[r+d])<0?l=d:a=d+1}return l}function ZCe(e,t){var r=ny,n,i,s=0,a=[];n=[],i=[];function o(p,g){n[s]=p,i[s]=g,s+=1}function l(){for(;s>1;){var p=s-2;if(p>=1&&i[p-1]<=i[p]+i[p+1]||p>=2&&i[p-2]<=i[p]+i[p-1])i[p-1]<i[p+1]&&p--;else if(i[p]>i[p+1])break;d(p)}}function c(){for(;s>1;){var p=s-2;p>0&&i[p-1]<i[p+1]&&p--,d(p)}}function d(p){var g=n[p],v=i[p],m=n[p+1],y=i[p+1];i[p]=v+y,p===s-3&&(n[p+1]=n[p+2],i[p+1]=i[p+2]),s--;var x=MA(e[m],e,g,v,0,t);g+=x,v-=x,v!==0&&(y=IA(e[g+v-1],e,m,y,y-1,t),y!==0&&(v<=y?h(g,v,m,y):f(g,v,m,y)))}function h(p,g,v,m){var y=0;for(y=0;y<g;y++)a[y]=e[p+y];var x=0,_=v,b=p;if(e[b++]=e[_++],--m===0){for(y=0;y<g;y++)e[b+y]=a[x+y];return}if(g===1){for(y=0;y<m;y++)e[b+y]=e[_+y];e[b+m]=a[x];return}for(var w=r,S,k,C;;){S=0,k=0,C=!1;do if(t(e[_],a[x])<0){if(e[b++]=e[_++],k++,S=0,--m===0){C=!0;break}}else if(e[b++]=a[x++],S++,k=0,--g===1){C=!0;break}while((S|k)<w);if(C)break;do{if(S=MA(e[_],a,x,g,0,t),S!==0){for(y=0;y<S;y++)e[b+y]=a[x+y];if(b+=S,x+=S,g-=S,g<=1){C=!0;break}}if(e[b++]=e[_++],--m===0){C=!0;break}if(k=IA(a[x],e,_,m,0,t),k!==0){for(y=0;y<k;y++)e[b+y]=e[_+y];if(b+=k,_+=k,m-=k,m===0){C=!0;break}}if(e[b++]=a[x++],--g===1){C=!0;break}w--}while(S>=ny||k>=ny);if(C)break;w<0&&(w=0),w+=2}if(r=w,r<1&&(r=1),g===1){for(y=0;y<m;y++)e[b+y]=e[_+y];e[b+m]=a[x]}else{if(g===0)throw new Error;for(y=0;y<g;y++)e[b+y]=a[x+y]}}function f(p,g,v,m){var y=0;for(y=0;y<m;y++)a[y]=e[v+y];var x=p+g-1,_=m-1,b=v+m-1,w=0,S=0;if(e[b--]=e[x--],--g===0){for(w=b-(m-1),y=0;y<m;y++)e[w+y]=a[y];return}if(m===1){for(b-=g,x-=g,S=b+1,w=x+1,y=g-1;y>=0;y--)e[S+y]=e[w+y];e[b]=a[_];return}for(var k=r;;){var C=0,E=0,T=!1;do if(t(a[_],e[x])<0){if(e[b--]=e[x--],C++,E=0,--g===0){T=!0;break}}else if(e[b--]=a[_--],E++,C=0,--m===1){T=!0;break}while((C|E)<k);if(T)break;do{if(C=g-MA(a[_],e,p,g,g-1,t),C!==0){for(b-=C,x-=C,g-=C,S=b+1,w=x+1,y=C-1;y>=0;y--)e[S+y]=e[w+y];if(g===0){T=!0;break}}if(e[b--]=a[_--],--m===1){T=!0;break}if(E=m-IA(e[x],a,0,m,m-1,t),E!==0){for(b-=E,_-=E,m-=E,S=b+1,w=_+1,y=0;y<E;y++)e[S+y]=a[w+y];if(m<=1){T=!0;break}}if(e[b--]=e[x--],--g===0){T=!0;break}k--}while(C>=ny||E>=ny);if(T)break;k<0&&(k=0),k+=2}if(r=k,r<1&&(r=1),m===1){for(b-=g,x-=g,S=b+1,w=x+1,y=g-1;y>=0;y--)e[S+y]=e[w+y];e[b]=a[_]}else{if(m===0)throw new Error;for(w=b-(m-1),y=0;y<m;y++)e[w+y]=a[y]}}return{mergeRuns:l,forceMergeRuns:c,pushRun:o}}function zC(e,t,r,n){r||(r=0),n||(n=e.length);var i=n-r;if(!(i<2)){var s=0;if(i<kee){s=w8(e,r,n,t),S8(e,r,n,r+s,t);return}var a=ZCe(e,t),o=YCe(i);do{if(s=w8(e,r,n,t),s<o){var l=i;l>o&&(l=o),S8(e,r,r+l,r+s,t),s=l}a.pushRun(r,s),a.mergeRuns(),i-=s,r+=s}while(i!==0);a.forceMergeRuns()}}var Xl=1,UC=2,Ky=4,C8=!1;function PA(){C8||(C8=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function k8(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var XCe=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=k8}return e.prototype.traverse=function(t,r){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,r)},e.prototype.getDisplayList=function(t,r){r=r||!1;var n=this._displayList;return(t||!n.length)&&this.updateDisplayList(r),n},e.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var r=this._roots,n=this._displayList,i=0,s=r.length;i<s;i++)this._updateAndAddDisplayable(r[i],null,t);n.length=this._displayListLen,zC(n,k8)},e.prototype._updateAndAddDisplayable=function(t,r,n){if(!(t.ignore&&!n)){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath();if(t.ignoreClip)r=null;else if(i){r?r=r.slice():r=[];for(var s=i,a=t;s;)s.parent=a,s.updateTransform(),r.push(s),a=s,s=s.getClipPath()}if(t.childrenRef){for(var o=t.childrenRef(),l=0;l<o.length;l++){var c=o[l];t.__dirty&&(c.__dirty|=Xl),this._updateAndAddDisplayable(c,r,n)}t.__dirty=0}else{var d=t;r&&r.length?d.__clipPaths=r:d.__clipPaths&&d.__clipPaths.length>0&&(d.__clipPaths=[]),isNaN(d.z)&&(PA(),d.z=0),isNaN(d.z2)&&(PA(),d.z2=0),isNaN(d.zlevel)&&(PA(),d.zlevel=0),this._displayList[this._displayListLen++]=d}var h=t.getDecalElement&&t.getDecalElement();h&&this._updateAndAddDisplayable(h,r,n);var f=t.getTextGuideLine();f&&this._updateAndAddDisplayable(f,r,n);var p=t.getTextContent();p&&this._updateAndAddDisplayable(p,r,n)}},e.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},e.prototype.delRoot=function(t){if(t instanceof Array){for(var r=0,n=t.length;r<n;r++)this.delRoot(t[r]);return}var i=Pt(this._roots,t);i>=0&&this._roots.splice(i,1)},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}(),Jk;Jk=Gt.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};var Tx={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)))},elasticOut:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},elasticInOut:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),(e*=2)<1?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)):r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-Tx.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?Tx.bounceIn(e*2)*.5:Tx.bounceOut(e*2-1)*.5+.5}},L1=Math.pow,Id=Math.sqrt,Eee=1e-8,Tee=1e-4,E8=Id(3),D1=1/3,Ll=Ep(),so=Ep(),Cm=Ep();function pd(e){return e>-1e-8&&e<Eee}function Nee(e){return e>Eee||e<-1e-8}function yi(e,t,r,n,i){var s=1-i;return s*s*(s*e+3*i*t)+i*i*(i*n+3*s*r)}function T8(e,t,r,n,i){var s=1-i;return 3*(((t-e)*s+2*(r-t)*i)*s+(n-r)*i*i)}function Qk(e,t,r,n,i,s){var a=n+3*(t-r)-e,o=3*(r-t*2+e),l=3*(t-e),c=e-i,d=o*o-3*a*l,h=o*l-9*a*c,f=l*l-3*o*c,p=0;if(pd(d)&&pd(h))if(pd(o))s[0]=0;else{var g=-l/o;g>=0&&g<=1&&(s[p++]=g)}else{var v=h*h-4*d*f;if(pd(v)){var m=h/d,g=-o/a+m,y=-m/2;g>=0&&g<=1&&(s[p++]=g),y>=0&&y<=1&&(s[p++]=y)}else if(v>0){var x=Id(v),_=d*o+1.5*a*(-h+x),b=d*o+1.5*a*(-h-x);_<0?_=-L1(-_,D1):_=L1(_,D1),b<0?b=-L1(-b,D1):b=L1(b,D1);var g=(-o-(_+b))/(3*a);g>=0&&g<=1&&(s[p++]=g)}else{var w=(2*d*o-3*a*h)/(2*Id(d*d*d)),S=Math.acos(w)/3,k=Id(d),C=Math.cos(S),g=(-o-2*k*C)/(3*a),y=(-o+k*(C+E8*Math.sin(S)))/(3*a),E=(-o+k*(C-E8*Math.sin(S)))/(3*a);g>=0&&g<=1&&(s[p++]=g),y>=0&&y<=1&&(s[p++]=y),E>=0&&E<=1&&(s[p++]=E)}}return p}function Aee(e,t,r,n,i){var s=6*r-12*t+6*e,a=9*t+3*n-3*e-9*r,o=3*t-3*e,l=0;if(pd(a)){if(Nee(s)){var c=-o/s;c>=0&&c<=1&&(i[l++]=c)}}else{var d=s*s-4*a*o;if(pd(d))i[0]=-s/(2*a);else if(d>0){var h=Id(d),c=(-s+h)/(2*a),f=(-s-h)/(2*a);c>=0&&c<=1&&(i[l++]=c),f>=0&&f<=1&&(i[l++]=f)}}return l}function Vd(e,t,r,n,i,s){var a=(t-e)*i+e,o=(r-t)*i+t,l=(n-r)*i+r,c=(o-a)*i+a,d=(l-o)*i+o,h=(d-c)*i+c;s[0]=e,s[1]=a,s[2]=c,s[3]=h,s[4]=h,s[5]=d,s[6]=l,s[7]=n}function jee(e,t,r,n,i,s,a,o,l,c,d){var h,f=.005,p=1/0,g,v,m,y;Ll[0]=l,Ll[1]=c;for(var x=0;x<1;x+=.05)so[0]=yi(e,r,i,a,x),so[1]=yi(t,n,s,o,x),m=Df(Ll,so),m<p&&(h=x,p=m);p=1/0;for(var _=0;_<32&&!(f<Tee);_++)g=h-f,v=h+f,so[0]=yi(e,r,i,a,g),so[1]=yi(t,n,s,o,g),m=Df(so,Ll),g>=0&&m<p?(h=g,p=m):(Cm[0]=yi(e,r,i,a,v),Cm[1]=yi(t,n,s,o,v),y=Df(Cm,Ll),v<=1&&y<p?(h=v,p=y):f*=.5);return d&&(d[0]=yi(e,r,i,a,h),d[1]=yi(t,n,s,o,h)),Id(p)}function JCe(e,t,r,n,i,s,a,o,l){for(var c=e,d=t,h=0,f=1/l,p=1;p<=l;p++){var g=p*f,v=yi(e,r,i,a,g),m=yi(t,n,s,o,g),y=v-c,x=m-d;h+=Math.sqrt(y*y+x*x),c=v,d=m}return h}function Ii(e,t,r,n){var i=1-n;return i*(i*e+2*n*t)+n*n*r}function NP(e,t,r,n){return 2*((1-n)*(t-e)+n*(r-t))}function QCe(e,t,r,n,i){var s=e-2*t+r,a=2*(t-e),o=e-n,l=0;if(pd(s)){if(Nee(a)){var c=-o/a;c>=0&&c<=1&&(i[l++]=c)}}else{var d=a*a-4*s*o;if(pd(d)){var c=-a/(2*s);c>=0&&c<=1&&(i[l++]=c)}else if(d>0){var h=Id(d),c=(-a+h)/(2*s),f=(-a-h)/(2*s);c>=0&&c<=1&&(i[l++]=c),f>=0&&f<=1&&(i[l++]=f)}}return l}function Ree(e,t,r){var n=e+r-2*t;return n===0?.5:(e-t)/n}function A_(e,t,r,n,i){var s=(t-e)*n+e,a=(r-t)*n+t,o=(a-s)*n+s;i[0]=e,i[1]=s,i[2]=o,i[3]=o,i[4]=a,i[5]=r}function Iee(e,t,r,n,i,s,a,o,l){var c,d=.005,h=1/0;Ll[0]=a,Ll[1]=o;for(var f=0;f<1;f+=.05){so[0]=Ii(e,r,i,f),so[1]=Ii(t,n,s,f);var p=Df(Ll,so);p<h&&(c=f,h=p)}h=1/0;for(var g=0;g<32&&!(d<Tee);g++){var v=c-d,m=c+d;so[0]=Ii(e,r,i,v),so[1]=Ii(t,n,s,v);var p=Df(so,Ll);if(v>=0&&p<h)c=v,h=p;else{Cm[0]=Ii(e,r,i,m),Cm[1]=Ii(t,n,s,m);var y=Df(Cm,Ll);m<=1&&y<h?(c=m,h=y):d*=.5}}return l&&(l[0]=Ii(e,r,i,c),l[1]=Ii(t,n,s,c)),Id(h)}function eke(e,t,r,n,i,s,a){for(var o=e,l=t,c=0,d=1/a,h=1;h<=a;h++){var f=h*d,p=Ii(e,r,i,f),g=Ii(t,n,s,f),v=p-o,m=g-l;c+=Math.sqrt(v*v+m*m),o=p,l=g}return c}var tke=/cubic-bezier\(([0-9,\.e ]+)\)/;function s5(e){var t=e&&tke.exec(e);if(t){var r=t[1].split(","),n=+Vo(r[0]),i=+Vo(r[1]),s=+Vo(r[2]),a=+Vo(r[3]);if(isNaN(n+i+s+a))return;var o=[];return function(l){return l<=0?0:l>=1?1:Qk(0,n,s,1,l,o)&&yi(0,i,a,1,o[0])}}}var rke=function(){function e(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||Xn,this.ondestroy=t.ondestroy||Xn,this.onrestart=t.onrestart||Xn,t.easing&&this.setEasing(t.easing)}return e.prototype.step=function(t,r){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var n=this._life,i=t-this._startTime-this._pausedTime,s=i/n;s<0&&(s=0),s=Math.min(s,1);var a=this.easingFunc,o=a?a(s):s;if(this.onframe(o),s===1)if(this.loop){var l=i%n;this._startTime=t-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(t){this.easing=t,this.easingFunc=et(t)?t:Tx[t]||s5(t)},e}(),Mee=function(){function e(t){this.value=t}return e}(),nke=function(){function e(){this._len=0}return e.prototype.insert=function(t){var r=new Mee(t);return this.insertEntry(r),r},e.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},e.prototype.remove=function(t){var r=t.prev,n=t.next;r?r.next=n:this.head=n,n?n.prev=r:this.tail=r,t.next=t.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),Wb=function(){function e(t){this._list=new nke,this._maxSize=10,this._map={},this._maxSize=t}return e.prototype.put=function(t,r){var n=this._list,i=this._map,s=null;if(i[t]==null){var a=n.len(),o=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var l=n.head;n.remove(l),delete i[l.key],s=l.value,this._lastRemovedEntry=l}o?o.value=r:o=new Mee(r),o.key=t,n.insertEntry(o),i[t]=o}return s},e.prototype.get=function(t){var r=this._map[t],n=this._list;if(r!=null)return r!==n.tail&&(n.remove(r),n.insertEntry(r)),r.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}(),N8={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Ko(e){return e=Math.round(e),e<0?0:e>255?255:e}function ike(e){return e=Math.round(e),e<0?0:e>360?360:e}function j_(e){return e<0?0:e>1?1:e}function LA(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?Ko(parseFloat(t)/100*255):Ko(parseInt(t,10))}function Of(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?j_(parseFloat(t)/100):j_(parseFloat(t))}function DA(e,t,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?e+(t-e)*r*6:r*2<1?t:r*3<2?e+(t-e)*(2/3-r)*6:e}function gd(e,t,r){return e+(t-e)*r}function Za(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function AP(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var Pee=new Wb(20),O1=null;function eg(e,t){O1&&AP(O1,t),O1=Pee.put(e,O1||t.slice())}function Na(e,t){if(e){t=t||[];var r=Pee.get(e);if(r)return AP(t,r);e=e+"";var n=e.replace(/ /g,"").toLowerCase();if(n in N8)return AP(t,N8[n]),eg(e,t),t;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var s=parseInt(n.slice(1,4),16);if(!(s>=0&&s<=4095)){Za(t,0,0,0,1);return}return Za(t,(s&3840)>>4|(s&3840)>>8,s&240|(s&240)>>4,s&15|(s&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),eg(e,t),t}else if(i===7||i===9){var s=parseInt(n.slice(1,7),16);if(!(s>=0&&s<=16777215)){Za(t,0,0,0,1);return}return Za(t,(s&16711680)>>16,(s&65280)>>8,s&255,i===9?parseInt(n.slice(7),16)/255:1),eg(e,t),t}return}var a=n.indexOf("("),o=n.indexOf(")");if(a!==-1&&o+1===i){var l=n.substr(0,a),c=n.substr(a+1,o-(a+1)).split(","),d=1;switch(l){case"rgba":if(c.length!==4)return c.length===3?Za(t,+c[0],+c[1],+c[2],1):Za(t,0,0,0,1);d=Of(c.pop());case"rgb":if(c.length>=3)return Za(t,LA(c[0]),LA(c[1]),LA(c[2]),c.length===3?d:Of(c[3])),eg(e,t),t;Za(t,0,0,0,1);return;case"hsla":if(c.length!==4){Za(t,0,0,0,1);return}return c[3]=Of(c[3]),jP(c,t),eg(e,t),t;case"hsl":if(c.length!==3){Za(t,0,0,0,1);return}return jP(c,t),eg(e,t),t;default:return}}Za(t,0,0,0,1)}}function jP(e,t){var r=(parseFloat(e[0])%360+360)%360/360,n=Of(e[1]),i=Of(e[2]),s=i<=.5?i*(n+1):i+n-i*n,a=i*2-s;return t=t||[],Za(t,Ko(DA(a,s,r+1/3)*255),Ko(DA(a,s,r)*255),Ko(DA(a,s,r-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function ske(e){if(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),a=s-i,o=(s+i)/2,l,c;if(a===0)l=0,c=0;else{o<.5?c=a/(s+i):c=a/(2-s-i);var d=((s-t)/6+a/2)/a,h=((s-r)/6+a/2)/a,f=((s-n)/6+a/2)/a;t===s?l=f-h:r===s?l=1/3+d-f:n===s&&(l=2/3+h-d),l<0&&(l+=1),l>1&&(l-=1)}var p=[l*360,c,o];return e[3]!=null&&p.push(e[3]),p}}function RP(e,t){var r=Na(e);if(r){for(var n=0;n<3;n++)t<0?r[n]=r[n]*(1-t)|0:r[n]=(255-r[n])*t+r[n]|0,r[n]>255?r[n]=255:r[n]<0&&(r[n]=0);return Zc(r,r.length===4?"rgba":"rgb")}}function OA(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){r=r||[];var n=e*(t.length-1),i=Math.floor(n),s=Math.ceil(n),a=t[i],o=t[s],l=n-i;return r[0]=Ko(gd(a[0],o[0],l)),r[1]=Ko(gd(a[1],o[1],l)),r[2]=Ko(gd(a[2],o[2],l)),r[3]=j_(gd(a[3],o[3],l)),r}}function ake(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var n=e*(t.length-1),i=Math.floor(n),s=Math.ceil(n),a=Na(t[i]),o=Na(t[s]),l=n-i,c=Zc([Ko(gd(a[0],o[0],l)),Ko(gd(a[1],o[1],l)),Ko(gd(a[2],o[2],l)),j_(gd(a[3],o[3],l))],"rgba");return r?{color:c,leftIndex:i,rightIndex:s,value:n}:c}}function Nx(e,t,r,n){var i=Na(e);if(e)return i=ske(i),t!=null&&(i[0]=ike(t)),r!=null&&(i[1]=Of(r)),n!=null&&(i[2]=Of(n)),Zc(jP(i),"rgba")}function eE(e,t){var r=Na(e);if(r&&t!=null)return r[3]=j_(t),Zc(r,"rgba")}function Zc(e,t){if(!(!e||!e.length)){var r=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(r+=","+e[3]),t+"("+r+")"}}function tE(e,t){var r=Na(e);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*t:0}var A8=new Wb(100);function IP(e){if(De(e)){var t=A8.get(e);return t||(t=RP(e,-.1),A8.put(e,t)),t}else if(dN(e)){var r=fe({},e);return r.colorStops=xe(e.colorStops,function(n){return{offset:n.offset,color:RP(n.color,-.1)}}),r}return e}var rE=Math.round;function R_(e){var t;if(!e||e==="transparent")e="none";else if(typeof e=="string"&&e.indexOf("rgba")>-1){var r=Na(e);r&&(e="rgb("+r[0]+","+r[1]+","+r[2]+")",t=r[3])}return{color:e,opacity:t??1}}var oke=1e-4;function md(e){return e<oke&&e>-1e-4}function $1(e){return rE(e*1e3)/1e3}function MP(e){return rE(e*1e4)/1e4}function lke(e){return"matrix("+$1(e[0])+","+$1(e[1])+","+$1(e[2])+","+$1(e[3])+","+MP(e[4])+","+MP(e[5])+")"}var cke={left:"start",right:"end",center:"middle",middle:"middle"};function uke(e,t,r){return r==="top"?e+=t/2:r==="bottom"&&(e-=t/2),e}function dke(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY)}function hke(e){var t=e.style,r=e.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),r[0],r[1]].join(",")}function Lee(e){return e&&!!e.image}function fke(e){return e&&!!e.svgElement}function a5(e){return Lee(e)||fke(e)}function Dee(e){return e.type==="linear"}function Oee(e){return e.type==="radial"}function $ee(e){return e&&(e.type==="linear"||e.type==="radial")}function pN(e){return"url(#"+e+")"}function Bee(e){var t=e.getGlobalScale(),r=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(r)/Math.log(10)),1)}function Fee(e){var t=e.x||0,r=e.y||0,n=(e.rotation||0)*$C,i=mt(e.scaleX,1),s=mt(e.scaleY,1),a=e.skewX||0,o=e.skewY||0,l=[];return(t||r)&&l.push("translate("+t+"px,"+r+"px)"),n&&l.push("rotate("+n+")"),(i!==1||s!==1)&&l.push("scale("+i+","+s+")"),(a||o)&&l.push("skew("+rE(a*$C)+"deg, "+rE(o*$C)+"deg)"),l.join(" ")}var pke=function(){return Gt.hasGlobalWindow&&et(window.btoa)?function(e){return window.btoa(unescape(encodeURIComponent(e)))}:typeof Buffer<"u"?function(e){return Buffer.from(e).toString("base64")}:function(e){return null}}(),PP=Array.prototype.slice;function Pc(e,t,r){return(t-e)*r+e}function $A(e,t,r,n){for(var i=t.length,s=0;s<i;s++)e[s]=Pc(t[s],r[s],n);return e}function gke(e,t,r,n){for(var i=t.length,s=i&&t[0].length,a=0;a<i;a++){e[a]||(e[a]=[]);for(var o=0;o<s;o++)e[a][o]=Pc(t[a][o],r[a][o],n)}return e}function B1(e,t,r,n){for(var i=t.length,s=0;s<i;s++)e[s]=t[s]+r[s]*n;return e}function j8(e,t,r,n){for(var i=t.length,s=i&&t[0].length,a=0;a<i;a++){e[a]||(e[a]=[]);for(var o=0;o<s;o++)e[a][o]=t[a][o]+r[a][o]*n}return e}function mke(e,t){for(var r=e.length,n=t.length,i=r>n?t:e,s=Math.min(r,n),a=i[s-1]||{color:[0,0,0,0],offset:0},o=s;o<Math.max(r,n);o++)i.push({offset:a.offset,color:a.color.slice()})}function vke(e,t,r){var n=e,i=t;if(!(!n.push||!i.push)){var s=n.length,a=i.length;if(s!==a){var o=s>a;if(o)n.length=a;else for(var l=s;l<a;l++)n.push(r===1?i[l]:PP.call(i[l]))}for(var c=n[0]&&n[0].length,l=0;l<n.length;l++)if(r===1)isNaN(n[l])&&(n[l]=i[l]);else for(var d=0;d<c;d++)isNaN(n[l][d])&&(n[l][d]=i[l][d])}}function Ax(e){if(ds(e)){var t=e.length;if(ds(e[0])){for(var r=[],n=0;n<t;n++)r.push(PP.call(e[n]));return r}return PP.call(e)}return e}function HC(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=e[3]==null?1:e[3],"rgba("+e.join(",")+")"}function yke(e){return ds(e&&e[0])?2:1}var F1=0,VC=1,zee=2,Zy=3,LP=4,DP=5,R8=6;function I8(e){return e===LP||e===DP}function z1(e){return e===VC||e===zee}var iy=[0,0,0,0],xke=function(){function e(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(t,r,n){this._needsSort=!0;var i=this.keyframes,s=i.length,a=!1,o=R8,l=r;if(ds(r)){var c=yke(r);o=c,(c===1&&!xr(r[0])||c===2&&!xr(r[0][0]))&&(a=!0)}else if(xr(r)&&!T_(r))o=F1;else if(De(r))if(!isNaN(+r))o=F1;else{var d=Na(r);d&&(l=d,o=Zy)}else if(dN(r)){var h=fe({},l);h.colorStops=xe(r.colorStops,function(p){return{offset:p.offset,color:Na(p.color)}}),Dee(r)?o=LP:Oee(r)&&(o=DP),l=h}s===0?this.valType=o:(o!==this.valType||o===R8)&&(a=!0),this.discrete=this.discrete||a;var f={time:t,value:l,rawValue:r,percent:0};return n&&(f.easing=n,f.easingFunc=et(n)?n:Tx[n]||s5(n)),i.push(f),f},e.prototype.prepare=function(t,r){var n=this.keyframes;this._needsSort&&n.sort(function(v,m){return v.time-m.time});for(var i=this.valType,s=n.length,a=n[s-1],o=this.discrete,l=z1(i),c=I8(i),d=0;d<s;d++){var h=n[d],f=h.value,p=a.value;h.percent=h.time/t,o||(l&&d!==s-1?vke(f,p,i):c&&mke(f.colorStops,p.colorStops))}if(!o&&i!==DP&&r&&this.needsAnimate()&&r.needsAnimate()&&i===r.valType&&!r._finished){this._additiveTrack=r;for(var g=n[0].value,d=0;d<s;d++)i===F1?n[d].additiveValue=n[d].value-g:i===Zy?n[d].additiveValue=B1([],n[d].value,g,-1):z1(i)&&(n[d].additiveValue=i===VC?B1([],n[d].value,g,-1):j8([],n[d].value,g,-1))}},e.prototype.step=function(t,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",s=this.valType,a=this.keyframes,o=a.length,l=this.propName,c=s===Zy,d,h=this._lastFr,f=Math.min,p,g;if(o===1)p=g=a[0];else{if(r<0)d=0;else if(r<this._lastFrP){var v=f(h+1,o-1);for(d=v;d>=0&&!(a[d].percent<=r);d--);d=f(d,o-2)}else{for(d=h;d<o&&!(a[d].percent>r);d++);d=f(d-1,o-2)}g=a[d+1],p=a[d]}if(p&&g){this._lastFr=d,this._lastFrP=r;var m=g.percent-p.percent,y=m===0?1:f((r-p.percent)/m,1);g.easingFunc&&(y=g.easingFunc(y));var x=n?this._additiveValue:c?iy:t[l];if((z1(s)||c)&&!x&&(x=this._additiveValue=[]),this.discrete)t[l]=y<1?p.rawValue:g.rawValue;else if(z1(s))s===VC?$A(x,p[i],g[i],y):gke(x,p[i],g[i],y);else if(I8(s)){var _=p[i],b=g[i],w=s===LP;t[l]={type:w?"linear":"radial",x:Pc(_.x,b.x,y),y:Pc(_.y,b.y,y),colorStops:xe(_.colorStops,function(k,C){var E=b.colorStops[C];return{offset:Pc(k.offset,E.offset,y),color:HC($A([],k.color,E.color,y))}}),global:b.global},w?(t[l].x2=Pc(_.x2,b.x2,y),t[l].y2=Pc(_.y2,b.y2,y)):t[l].r=Pc(_.r,b.r,y)}else if(c)$A(x,p[i],g[i],y),n||(t[l]=HC(x));else{var S=Pc(p[i],g[i],y);n?this._additiveValue=S:t[l]=S}n&&this._addToTarget(t)}}},e.prototype._addToTarget=function(t){var r=this.valType,n=this.propName,i=this._additiveValue;r===F1?t[n]=t[n]+i:r===Zy?(Na(t[n],iy),B1(iy,iy,i,1),t[n]=HC(iy)):r===VC?B1(t[n],t[n],i,1):r===zee&&j8(t[n],t[n],i,1)},e}(),o5=function(){function e(t,r,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=r,r&&i){J3("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(t){this._target=t},e.prototype.when=function(t,r,n){return this.whenWithKeys(t,r,Zt(r),n)},e.prototype.whenWithKeys=function(t,r,n,i){for(var s=this._tracks,a=0;a<n.length;a++){var o=n[a],l=s[o];if(!l){l=s[o]=new xke(o);var c=void 0,d=this._getAdditiveTrack(o);if(d){var h=d.keyframes,f=h[h.length-1];c=f&&f.value,d.valType===Zy&&c&&(c=HC(c))}else c=this._target[o];if(c==null)continue;t>0&&l.addKeyframe(0,Ax(c),i),this._trackKeys.push(o)}l.addKeyframe(t,Ax(r[o]),i)}return this._maxTime=Math.max(this._maxTime,t),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var r=t.length,n=0;n<r;n++)t[n].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,r=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,r)for(var n=0;n<r.length;n++)r[n].call(this)},e.prototype._setTracksFinished=function(){for(var t=this._tracks,r=this._trackKeys,n=0;n<r.length;n++)t[r[n]].setFinished()},e.prototype._getAdditiveTrack=function(t){var r,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var s=n[i].getTrack(t);s&&(r=s)}return r},e.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var r=this,n=[],i=this._maxTime||0,s=0;s<this._trackKeys.length;s++){var a=this._trackKeys[s],o=this._tracks[a],l=this._getAdditiveTrack(a),c=o.keyframes,d=c.length;if(o.prepare(i,l),o.needsAnimate())if(!this._allowDiscrete&&o.discrete){var h=c[d-1];h&&(r._target[o.propName]=h.rawValue),o.setFinished()}else n.push(o)}if(n.length||this._force){var f=new rke({life:i,loop:this._loop,delay:this._delay||0,onframe:function(p){r._started=2;var g=r._additiveAnimators;if(g){for(var v=!1,m=0;m<g.length;m++)if(g[m]._clip){v=!0;break}v||(r._additiveAnimators=null)}for(var m=0;m<n.length;m++)n[m].step(r._target,p);var y=r._onframeCbs;if(y)for(var m=0;m<y.length;m++)y[m](r._target,p)},ondestroy:function(){r._doneCallback()}});this._clip=f,this.animation&&this.animation.addClip(f),t&&f.setEasing(t)}else this._doneCallback();return this}},e.prototype.stop=function(t){if(this._clip){var r=this._clip;t&&r.onframe(1),this._abortedCallback()}},e.prototype.delay=function(t){return this._delay=t,this},e.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},e.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},e.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(t){return this._tracks[t]},e.prototype.getTracks=function(){var t=this;return xe(this._trackKeys,function(r){return t._tracks[r]})},e.prototype.stopTracks=function(t,r){if(!t.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,s=0;s<t.length;s++){var a=n[t[s]];a&&!a.isFinished()&&(r?a.step(this._target,1):this._started===1&&a.step(this._target,0),a.setFinished())}for(var o=!0,s=0;s<i.length;s++)if(!n[i[s]].isFinished()){o=!1;break}return o&&this._abortedCallback(),o},e.prototype.saveTo=function(t,r,n){if(t){r=r||this._trackKeys;for(var i=0;i<r.length;i++){var s=r[i],a=this._tracks[s];if(!(!a||a.isFinished())){var o=a.keyframes,l=o[n?0:o.length-1];l&&(t[s]=Ax(l.rawValue))}}}},e.prototype.__changeFinalValue=function(t,r){r=r||Zt(t);for(var n=0;n<r.length;n++){var i=r[n],s=this._tracks[i];if(s){var a=s.keyframes;if(a.length>1){var o=a.pop();s.addKeyframe(o.time,t[i]),s.prepare(this._maxTime,s.getAdditiveTrack())}}}},e}();function rm(){return new Date().getTime()}var _ke=function(e){vn(t,e);function t(r){var n=e.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,r=r||{},n.stage=r.stage||{},n}return t.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},t.prototype.addAnimator=function(r){r.animation=this;var n=r.getClip();n&&this.addClip(n)},t.prototype.removeClip=function(r){if(r.animation){var n=r.prev,i=r.next;n?n.next=i:this._head=i,i?i.prev=n:this._tail=n,r.next=r.prev=r.animation=null}},t.prototype.removeAnimator=function(r){var n=r.getClip();n&&this.removeClip(n),r.animation=null},t.prototype.update=function(r){for(var n=rm()-this._pausedTime,i=n-this._time,s=this._head;s;){var a=s.next,o=s.step(n,i);o&&(s.ondestroy(),this.removeClip(s)),s=a}this._time=n,r||(this.trigger("frame",i),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var r=this;this._running=!0;function n(){r._running&&(Jk(n),!r._paused&&r.update())}Jk(n)},t.prototype.start=function(){this._running||(this._time=rm(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=rm(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=rm()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var r=this._head;r;){var n=r.next;r.prev=r.next=r.animation=null,r=n}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(r,n){n=n||{},this.start();var i=new o5(r,n.loop);return this.addAnimator(i),i},t}(bo),bke=300,BA=Gt.domSupported,FA=function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=xe(e,function(i){var s=i.replace("mouse","pointer");return r.hasOwnProperty(s)?s:i});return{mouse:e,touch:t,pointer:n}}(),M8={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},P8=!1;function OP(e){var t=e.pointerType;return t==="pen"||t==="touch"}function wke(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function zA(e){e&&(e.zrByTouch=!0)}function Ske(e,t){return Xa(e.dom,new Cke(e,t),!0)}function Uee(e,t){for(var r=t,n=!1;r&&r.nodeType!==9&&!(n=r.domBelongToZr||r!==t&&r===e.painterRoot);)r=r.parentNode;return n}var Cke=function(){function e(t,r){this.stopPropagation=Xn,this.stopImmediatePropagation=Xn,this.preventDefault=Xn,this.type=r.type,this.target=this.currentTarget=t.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return e}(),Io={mousedown:function(e){e=Xa(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=Xa(this.dom,e);var t=this.__mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=Xa(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){e=Xa(this.dom,e);var t=e.toElement||e.relatedTarget;Uee(this,t)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){P8=!0,e=Xa(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){P8||(e=Xa(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){e=Xa(this.dom,e),zA(e),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),Io.mousemove.call(this,e),Io.mousedown.call(this,e)},touchmove:function(e){e=Xa(this.dom,e),zA(e),this.handler.processGesture(e,"change"),Io.mousemove.call(this,e)},touchend:function(e){e=Xa(this.dom,e),zA(e),this.handler.processGesture(e,"end"),Io.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<bke&&Io.click.call(this,e)},pointerdown:function(e){Io.mousedown.call(this,e)},pointermove:function(e){OP(e)||Io.mousemove.call(this,e)},pointerup:function(e){Io.mouseup.call(this,e)},pointerout:function(e){OP(e)||Io.mouseout.call(this,e)}};V(["click","dblclick","contextmenu"],function(e){Io[e]=function(t){t=Xa(this.dom,t),this.trigger(e,t)}});var $P={pointermove:function(e){OP(e)||$P.mousemove.call(this,e)},pointerup:function(e){$P.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function kke(e,t){var r=t.domHandlers;Gt.pointerEventsSupported?V(FA.pointer,function(n){WC(t,n,function(i){r[n].call(e,i)})}):(Gt.touchEventsSupported&&V(FA.touch,function(n){WC(t,n,function(i){r[n].call(e,i),wke(t)})}),V(FA.mouse,function(n){WC(t,n,function(i){i=r5(i),t.touching||r[n].call(e,i)})}))}function Eke(e,t){Gt.pointerEventsSupported?V(M8.pointer,r):Gt.touchEventsSupported||V(M8.mouse,r);function r(n){function i(s){s=r5(s),Uee(e,s.target)||(s=Ske(e,s),t.domHandlers[n].call(e,s))}WC(t,n,i,{capture:!0})}}function WC(e,t,r,n){e.mounted[t]=r,e.listenerOpts[t]=n,TP(e.domTarget,t,r,n)}function UA(e){var t=e.mounted;for(var r in t)t.hasOwnProperty(r)&&BCe(e.domTarget,r,t[r],e.listenerOpts[r]);e.mounted={}}var L8=function(){function e(t,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=r}return e}(),Tke=function(e){vn(t,e);function t(r,n){var i=e.call(this)||this;return i.__pointerCapturing=!1,i.dom=r,i.painterRoot=n,i._localHandlerScope=new L8(r,Io),BA&&(i._globalHandlerScope=new L8(document,$P)),kke(i,i._localHandlerScope),i}return t.prototype.dispose=function(){UA(this._localHandlerScope),BA&&UA(this._globalHandlerScope)},t.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},t.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,BA&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var n=this._globalHandlerScope;r?Eke(this,n):UA(n)}},t}(bo),Hee=1;Gt.hasGlobalWindow&&(Hee=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var nE=Hee,BP=.4,FP="#333",zP="#ccc",Nke="#eee",D8=fN,Ake=5e-5;function Th(e){return e>Ake||e<-5e-5}var Nh=[],tg=[],HA=Ta(),VA=Math.abs,Hc=function(){function e(){}return e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},e.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},e.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},e.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},e.prototype.needLocalTransform=function(){return Th(this.rotation)||Th(this.x)||Th(this.y)||Th(this.scaleX-1)||Th(this.scaleY-1)||Th(this.skewX)||Th(this.skewY)},e.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,r=this.needLocalTransform(),n=this.transform;if(!(r||t)){n&&(D8(n),this.invTransform=null);return}n=n||Ta(),r?this.getLocalTransform(n):D8(n),t&&(r?Kc(n,t,n):n5(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)},e.prototype._resolveGlobalScaleRatio=function(t){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(Nh);var n=Nh[0]<0?-1:1,i=Nh[1]<0?-1:1,s=((Nh[0]-n)*r+n)/Nh[0]||0,a=((Nh[1]-i)*r+i)/Nh[1]||0;t[0]*=s,t[1]*=s,t[2]*=a,t[3]*=a}this.invTransform=this.invTransform||Ta(),Pv(this.invTransform,t)},e.prototype.getComputedTransform=function(){for(var t=this,r=[];t;)r.push(t),t=t.parent;for(;t=r.pop();)t.updateTransform();return this.transform},e.prototype.setLocalTransform=function(t){if(t){var r=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],i=Math.atan2(t[1],t[0]),s=Math.PI/2+i-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(s),r=Math.sqrt(r),this.skewX=s,this.skewY=0,this.rotation=-i,this.x=+t[4],this.y=+t[5],this.scaleX=r,this.scaleY=n,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,r=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||Ta(),Kc(tg,t.invTransform,r),r=tg);var n=this.originX,i=this.originY;(n||i)&&(HA[4]=n,HA[5]=i,Kc(tg,r,HA),tg[4]-=n,tg[5]-=i,r=tg),this.setLocalTransform(r)}},e.prototype.getGlobalScale=function(t){var r=this.transform;return t=t||[],r?(t[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),t[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(t[0]=-t[0]),r[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},e.prototype.transformCoordToLocal=function(t,r){var n=[t,r],i=this.invTransform;return i&&Vi(n,n,i),n},e.prototype.transformCoordToGlobal=function(t,r){var n=[t,r],i=this.transform;return i&&Vi(n,n,i),n},e.prototype.getLineScale=function(){var t=this.transform;return t&&VA(t[0]-1)>1e-10&&VA(t[3]-1)>1e-10?Math.sqrt(VA(t[0]*t[3]-t[2]*t[1])):1},e.prototype.copyTransform=function(t){Vee(this,t)},e.getLocalTransform=function(t,r){r=r||[];var n=t.originX||0,i=t.originY||0,s=t.scaleX,a=t.scaleY,o=t.anchorX,l=t.anchorY,c=t.rotation||0,d=t.x,h=t.y,f=t.skewX?Math.tan(t.skewX):0,p=t.skewY?Math.tan(-t.skewY):0;if(n||i||o||l){var g=n+o,v=i+l;r[4]=-g*s-f*v*a,r[5]=-v*a-p*g*s}else r[4]=r[5]=0;return r[0]=s,r[3]=a,r[1]=p*s,r[2]=f*a,c&&Tp(r,r,c),r[4]+=n+d,r[5]+=i+h,r},e.initDefaultProps=function(){var t=e.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),e}(),sc=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function Vee(e,t){for(var r=0;r<sc.length;r++){var n=sc[r];e[n]=t[n]}}var O8={};function Aa(e,t){t=t||Ud;var r=O8[t];r||(r=O8[t]=new Wb(500));var n=r.get(e);return n==null&&(n=Hd.measureText(e,t).width,r.put(e,n)),n}function $8(e,t,r,n){var i=Aa(e,t),s=gN(t),a=Xy(0,i,r),o=Pg(0,s,n),l=new At(a,o,i,s);return l}function Gb(e,t,r,n){var i=((e||"")+"").split(`
`),s=i.length;if(s===1)return $8(i[0],t,r,n);for(var a=new At(0,0,0,0),o=0;o<i.length;o++){var l=$8(i[o],t,r,n);o===0?a.copy(l):a.union(l)}return a}function Xy(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function Pg(e,t,r){return r==="middle"?e-=t/2:r==="bottom"&&(e-=t),e}function gN(e){return Aa("国",e)}function tl(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function iE(e,t,r){var n=t.position||"inside",i=t.distance!=null?t.distance:5,s=r.height,a=r.width,o=s/2,l=r.x,c=r.y,d="left",h="top";if(n instanceof Array)l+=tl(n[0],r.width),c+=tl(n[1],r.height),d=null,h=null;else switch(n){case"left":l-=i,c+=o,d="right",h="middle";break;case"right":l+=i+a,c+=o,h="middle";break;case"top":l+=a/2,c-=i,d="center",h="bottom";break;case"bottom":l+=a/2,c+=s+i,d="center";break;case"inside":l+=a/2,c+=o,d="center",h="middle";break;case"insideLeft":l+=i,c+=o,h="middle";break;case"insideRight":l+=a-i,c+=o,d="right",h="middle";break;case"insideTop":l+=a/2,c+=i,d="center";break;case"insideBottom":l+=a/2,c+=s-i,d="center",h="bottom";break;case"insideTopLeft":l+=i,c+=i;break;case"insideTopRight":l+=a-i,c+=i,d="right";break;case"insideBottomLeft":l+=i,c+=s-i,h="bottom";break;case"insideBottomRight":l+=a-i,c+=s-i,d="right",h="bottom";break}return e=e||{},e.x=l,e.y=c,e.align=d,e.verticalAlign=h,e}var WA="__zr_normal__",GA=sc.concat(["ignore"]),jke=nc(sc,function(e,t){return e[t]=!0,e},{ignore:!1}),rg={},Rke=new At(0,0,0,0),mN=function(){function e(t){this.id=vee(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return e.prototype._init=function(t){this.attr(t)},e.prototype.drift=function(t,r,n){switch(this.draggable){case"horizontal":r=0;break;case"vertical":t=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=r,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(t){var r=this._textContent;if(r&&(!r.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,s=r.innerTransformable,a=void 0,o=void 0,l=!1;s.parent=i?this:null;var c=!1;if(s.copyTransform(r),n.position!=null){var d=Rke;n.layoutRect?d.copy(n.layoutRect):d.copy(this.getBoundingRect()),i||d.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(rg,n,d):iE(rg,n,d),s.x=rg.x,s.y=rg.y,a=rg.align,o=rg.verticalAlign;var h=n.origin;if(h&&n.rotation!=null){var f=void 0,p=void 0;h==="center"?(f=d.width*.5,p=d.height*.5):(f=tl(h[0],d.width),p=tl(h[1],d.height)),c=!0,s.originX=-s.x+f+(i?0:d.x),s.originY=-s.y+p+(i?0:d.y)}}n.rotation!=null&&(s.rotation=n.rotation);var g=n.offset;g&&(s.x+=g[0],s.y+=g[1],c||(s.originX=-g[0],s.originY=-g[1]));var v=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,m=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),y=void 0,x=void 0,_=void 0;v&&this.canBeInsideText()?(y=n.insideFill,x=n.insideStroke,(y==null||y==="auto")&&(y=this.getInsideTextFill()),(x==null||x==="auto")&&(x=this.getInsideTextStroke(y),_=!0)):(y=n.outsideFill,x=n.outsideStroke,(y==null||y==="auto")&&(y=this.getOutsideFill()),(x==null||x==="auto")&&(x=this.getOutsideStroke(y),_=!0)),y=y||"#000",(y!==m.fill||x!==m.stroke||_!==m.autoStroke||a!==m.align||o!==m.verticalAlign)&&(l=!0,m.fill=y,m.stroke=x,m.autoStroke=_,m.align=a,m.verticalAlign=o,r.setDefaultTextStyle(m)),r.__dirty|=Xl,l&&r.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(t){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?zP:FP},e.prototype.getOutsideStroke=function(t){var r=this.__zr&&this.__zr.getBackgroundColor(),n=typeof r=="string"&&Na(r);n||(n=[255,255,255,1]);for(var i=n[3],s=this.__zr.isDarkMode(),a=0;a<3;a++)n[a]=n[a]*i+(s?0:255)*(1-i);return n[3]=1,Zc(n,"rgba")},e.prototype.traverse=function(t,r){},e.prototype.attrKV=function(t,r){t==="textConfig"?this.setTextConfig(r):t==="textContent"?this.setTextContent(r):t==="clipPath"?this.setClipPath(r):t==="extra"?(this.extra=this.extra||{},fe(this.extra,r)):this[t]=r},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(t,r){if(typeof t=="string")this.attrKV(t,r);else if(st(t))for(var n=t,i=Zt(n),s=0;s<i.length;s++){var a=i[s];this.attrKV(a,t[a])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var r=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],s=i.__fromStateTransition;if(!(i.getLoop()||s&&s!==WA)){var a=i.targetName,o=a?r[a]:r;i.saveTo(o)}}},e.prototype._innerSaveToNormal=function(t){var r=this._normalState;r||(r=this._normalState={}),t.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(t,r,GA)},e.prototype._savePrimaryToNormal=function(t,r,n){for(var i=0;i<n.length;i++){var s=n[i];t[s]!=null&&!(s in r)&&(r[s]=this[s])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(t){return this.states[t]},e.prototype.ensureState=function(t){var r=this.states;return r[t]||(r[t]={}),r[t]},e.prototype.clearStates=function(t){this.useState(WA,!1,t)},e.prototype.useState=function(t,r,n,i){var s=t===WA,a=this.hasState();if(!(!a&&s)){var o=this.currentStates,l=this.stateTransition;if(!(Pt(o,t)>=0&&(r||o.length===1))){var c;if(this.stateProxy&&!s&&(c=this.stateProxy(t)),c||(c=this.states&&this.states[t]),!c&&!s){J3("State "+t+" not exists.");return}s||this.saveCurrentToNormalState(c);var d=!!(c&&c.hoverLayer||i);d&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,c,this._normalState,r,!n&&!this.__inHover&&l&&l.duration>0,l);var h=this._textContent,f=this._textGuide;return h&&h.useState(t,r,n,d),f&&f.useState(t,r,n,d),s?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!d&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),c}}},e.prototype.useStates=function(t,r,n){if(!t.length)this.clearStates();else{var i=[],s=this.currentStates,a=t.length,o=a===s.length;if(o){for(var l=0;l<a;l++)if(t[l]!==s[l]){o=!1;break}}if(o)return;for(var l=0;l<a;l++){var c=t[l],d=void 0;this.stateProxy&&(d=this.stateProxy(c,t)),d||(d=this.states[c]),d&&i.push(d)}var h=i[a-1],f=!!(h&&h.hoverLayer||n);f&&this._toggleHoverLayerFlag(!0);var p=this._mergeStates(i),g=this.stateTransition;this.saveCurrentToNormalState(p),this._applyStateObj(t.join(","),p,this._normalState,!1,!r&&!this.__inHover&&g&&g.duration>0,g);var v=this._textContent,m=this._textGuide;v&&v.useStates(t,r,f),m&&m.useStates(t,r,f),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}},e.prototype.isSilent=function(){for(var t=this.silent,r=this.parent;!t&&r;){if(r.silent){t=!0;break}r=r.parent}return t},e.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var r=this.animators[t];r.targetName&&r.changeTarget(this[r.targetName])}},e.prototype.removeState=function(t){var r=Pt(this.currentStates,t);if(r>=0){var n=this.currentStates.slice();n.splice(r,1),this.useStates(n)}},e.prototype.replaceState=function(t,r,n){var i=this.currentStates.slice(),s=Pt(i,t),a=Pt(i,r)>=0;s>=0?a?i.splice(s,1):i[s]=r:n&&!a&&i.push(r),this.useStates(i)},e.prototype.toggleState=function(t,r){r?this.useState(t,!0):this.removeState(t)},e.prototype._mergeStates=function(t){for(var r={},n,i=0;i<t.length;i++){var s=t[i];fe(r,s),s.textConfig&&(n=n||{},fe(n,s.textConfig))}return n&&(r.textConfig=n),r},e.prototype._applyStateObj=function(t,r,n,i,s,a){var o=!(r&&i);r&&r.textConfig?(this.textConfig=fe({},i?this.textConfig:n.textConfig),fe(this.textConfig,r.textConfig)):o&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},c=!1,d=0;d<GA.length;d++){var h=GA[d],f=s&&jke[h];r&&r[h]!=null?f?(c=!0,l[h]=r[h]):this[h]=r[h]:o&&n[h]!=null&&(f?(c=!0,l[h]=n[h]):this[h]=n[h])}if(!s)for(var d=0;d<this.animators.length;d++){var p=this.animators[d],g=p.targetName;p.getLoop()||p.__changeFinalValue(g?(r||n)[g]:r||n)}c&&this._transitionState(t,l,a)},e.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var r=this.__zr;r&&t.addSelfToZr(r),t.__zr=r,t.__hostTarget=this}},e.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},e.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(t){var r=this._textContent;r!==t&&(r&&r!==t&&this.removeTextContent(),t.innerTransformable=new Hc,this._attachComponent(t),this._textContent=t,this.markRedraw())},e.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),fe(this.textConfig,t),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=Xl;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var r=this._textContent,n=this._textGuide;r&&(r.__inHover=t),n&&(n.__inHover=t)},e.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var r=this.animators;if(r)for(var n=0;n<r.length;n++)t.animation.addAnimator(r[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var n=0;n<r.length;n++)t.animation.removeAnimator(r[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},e.prototype.animate=function(t,r,n){var i=t?this[t]:this,s=new o5(i,r,n);return t&&(s.targetName=t),this.addAnimator(s,t),s},e.prototype.addAnimator=function(t,r){var n=this.__zr,i=this;t.during(function(){i.updateDuringAnimation(r)}).done(function(){var s=i.animators,a=Pt(s,t);a>=0&&s.splice(a,1)}),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},e.prototype.updateDuringAnimation=function(t){this.markRedraw()},e.prototype.stopAnimation=function(t,r){for(var n=this.animators,i=n.length,s=[],a=0;a<i;a++){var o=n[a];!t||t===o.scope?o.stop(r):s.push(o)}return this.animators=s,this},e.prototype.animateTo=function(t,r,n){qA(this,t,r,n)},e.prototype.animateFrom=function(t,r,n){qA(this,t,r,n,!0)},e.prototype._transitionState=function(t,r,n,i){for(var s=qA(this,r,n,i),a=0;a<s.length;a++)s[a].__fromStateTransition=t},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=function(){var t=e.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=Xl;function r(n,i,s,a){Object.defineProperty(t,n,{get:function(){if(!this[i]){var l=this[i]=[];o(this,l)}return this[i]},set:function(l){this[s]=l[0],this[a]=l[1],this[i]=l,o(this,l)}});function o(l,c){Object.defineProperty(c,0,{get:function(){return l[s]},set:function(d){l[s]=d}}),Object.defineProperty(c,1,{get:function(){return l[a]},set:function(d){l[a]=d}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),e}();oi(mN,bo);oi(mN,Hc);function qA(e,t,r,n,i){r=r||{};var s=[];Wee(e,"",e,t,r,n,s,i);var a=s.length,o=!1,l=r.done,c=r.aborted,d=function(){o=!0,a--,a<=0&&(o?l&&l():c&&c())},h=function(){a--,a<=0&&(o?l&&l():c&&c())};a||l&&l(),s.length>0&&r.during&&s[0].during(function(g,v){r.during(v)});for(var f=0;f<s.length;f++){var p=s[f];d&&p.done(d),h&&p.aborted(h),r.force&&p.duration(r.duration),p.start(r.easing)}return s}function YA(e,t,r){for(var n=0;n<r;n++)e[n]=t[n]}function Ike(e){return ds(e[0])}function Mke(e,t,r){if(ds(t[r]))if(ds(e[r])||(e[r]=[]),ua(t[r])){var n=t[r].length;e[r].length!==n&&(e[r]=new t[r].constructor(n),YA(e[r],t[r],n))}else{var i=t[r],s=e[r],a=i.length;if(Ike(i))for(var o=i[0].length,l=0;l<a;l++)s[l]?YA(s[l],i[l],o):s[l]=Array.prototype.slice.call(i[l]);else YA(s,i,a);s.length=i.length}else e[r]=t[r]}function Pke(e,t){return e===t||ds(e)&&ds(t)&&Lke(e,t)}function Lke(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Wee(e,t,r,n,i,s,a,o){for(var l=Zt(n),c=i.duration,d=i.delay,h=i.additive,f=i.setToFinal,p=!st(s),g=e.animators,v=[],m=0;m<l.length;m++){var y=l[m],x=n[y];if(x!=null&&r[y]!=null&&(p||s[y]))if(st(x)&&!ds(x)&&!dN(x)){if(t){o||(r[y]=x,e.updateDuringAnimation(t));continue}Wee(e,y,r[y],x,i,s&&s[y],a,o)}else v.push(y);else o||(r[y]=x,e.updateDuringAnimation(t),v.push(y))}var _=v.length;if(!h&&_)for(var b=0;b<g.length;b++){var w=g[b];if(w.targetName===t){var S=w.stopTracks(v);if(S){var k=Pt(g,w);g.splice(k,1)}}}if(i.force||(v=Rr(v,function(N){return!Pke(n[N],r[N])}),_=v.length),_>0||i.force&&!a.length){var C=void 0,E=void 0,T=void 0;if(o){E={},f&&(C={});for(var b=0;b<_;b++){var y=v[b];E[y]=r[y],f?C[y]=n[y]:r[y]=n[y]}}else if(f){T={};for(var b=0;b<_;b++){var y=v[b];T[y]=Ax(r[y]),Mke(r,n,y)}}var w=new o5(r,!1,!1,h?Rr(g,function(R){return R.targetName===t}):null);w.targetName=t,i.scope&&(w.scope=i.scope),f&&C&&w.whenWithKeys(0,C,v),T&&w.whenWithKeys(0,T,v),w.whenWithKeys(c??500,o?E:n,v).delay(d||0),e.addAnimator(w,t),a.push(w)}}var ht=function(e){vn(t,e);function t(r){var n=e.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(r),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(r){return this._children[r]},t.prototype.childOfName=function(r){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===r)return n[i]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},t.prototype.addBefore=function(r,n){if(r&&r!==this&&r.parent!==this&&n&&n.parent===this){var i=this._children,s=i.indexOf(n);s>=0&&(i.splice(s,0,r),this._doAdd(r))}return this},t.prototype.replace=function(r,n){var i=Pt(this._children,r);return i>=0&&this.replaceAt(n,i),this},t.prototype.replaceAt=function(r,n){var i=this._children,s=i[n];if(r&&r!==this&&r.parent!==this&&r!==s){i[n]=r,s.parent=null;var a=this.__zr;a&&s.removeSelfFromZr(a),this._doAdd(r)}return this},t.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var n=this.__zr;n&&n!==r.__zr&&r.addSelfToZr(n),n&&n.refresh()},t.prototype.remove=function(r){var n=this.__zr,i=this._children,s=Pt(i,r);return s<0?this:(i.splice(s,1),r.parent=null,n&&r.removeSelfFromZr(n),n&&n.refresh(),this)},t.prototype.removeAll=function(){for(var r=this._children,n=this.__zr,i=0;i<r.length;i++){var s=r[i];n&&s.removeSelfFromZr(n),s.parent=null}return r.length=0,this},t.prototype.eachChild=function(r,n){for(var i=this._children,s=0;s<i.length;s++){var a=i[s];r.call(n,a,s)}return this},t.prototype.traverse=function(r,n){for(var i=0;i<this._children.length;i++){var s=this._children[i],a=r.call(n,s);s.isGroup&&!a&&s.traverse(r,n)}return this},t.prototype.addSelfToZr=function(r){e.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.addSelfToZr(r)}},t.prototype.removeSelfFromZr=function(r){e.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.removeSelfFromZr(r)}},t.prototype.getBoundingRect=function(r){for(var n=new At(0,0,0,0),i=r||this._children,s=[],a=null,o=0;o<i.length;o++){var l=i[o];if(!(l.ignore||l.invisible)){var c=l.getBoundingRect(),d=l.getLocalTransform(s);d?(At.applyTransform(n,c,d),a=a||n.clone(),a.union(n)):(a=a||c.clone(),a.union(c))}}return a||n},t}(mN);ht.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var GC={},Gee={};function Dke(e){delete Gee[e]}function Oke(e){if(!e)return!1;if(typeof e=="string")return tE(e,1)<BP;if(e.colorStops){for(var t=e.colorStops,r=0,n=t.length,i=0;i<n;i++)r+=tE(t[i].color,1);return r/=n,r<BP}return!1}var $ke=function(){function e(t,r,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=r,this.id=t;var s=new XCe,a=n.renderer||"canvas";GC[a]||(a=Zt(GC)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var o=new GC[a](r,s,n,t),l=n.ssr||o.ssrOnly;this.storage=s,this.painter=o;var c=!Gt.node&&!Gt.worker&&!l?new Tke(o.getViewportRoot(),o.root):null,d=n.useCoarsePointer,h=d==null||d==="auto"?Gt.touchEventsSupported:!!d,f=44,p;h&&(p=mt(n.pointerSize,f)),this.handler=new See(s,o,c,o.root,p),this.animation=new _ke({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return e.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},e.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(t,r){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,r),this.refresh())},e.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=Oke(t))},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(t){this._darkMode=t},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},e.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},e.prototype.flush=function(){this._disposed||this._flush(!1)},e.prototype._flush=function(t){var r,n=rm();this._needsRefresh&&(r=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var i=rm();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},e.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},e.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},e.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},e.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},e.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},e.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},e.prototype.findHover=function(t,r){if(!this._disposed)return this.handler.findHover(t,r)},e.prototype.on=function(t,r,n){return this._disposed||this.handler.on(t,r,n),this},e.prototype.off=function(t,r){this._disposed||this.handler.off(t,r)},e.prototype.trigger=function(t,r){this._disposed||this.handler.trigger(t,r)},e.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),r=0;r<t.length;r++)t[r]instanceof ht&&t[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},e.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,Dke(this.id))},e}();function B8(e,t){var r=new $ke(vee(),e,t);return Gee[r.id]=r,r}function Bke(e,t){GC[e]=t}var UP;function Fke(e){if(typeof UP=="function")return UP(e)}function zke(e){UP=e}var Uke=1e-4,qee=20;function Hke(e){return e.replace(/^\s+|\s+$/g,"")}function Pr(e,t,r,n){var i=t[0],s=t[1],a=r[0],o=r[1],l=s-i,c=o-a;if(l===0)return c===0?a:(a+o)/2;if(n)if(l>0){if(e<=i)return a;if(e>=s)return o}else{if(e>=i)return a;if(e<=s)return o}else{if(e===i)return a;if(e===s)return o}return(e-i)/l*c+a}function Ne(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}return De(e)?Hke(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):e==null?NaN:+e}function Gn(e,t,r){return t==null&&(t=10),t=Math.min(Math.max(0,t),qee),e=(+e).toFixed(t),r?e:+e}function fo(e){return e.sort(function(t,r){return t-r}),e}function $l(e){if(e=+e,isNaN(e))return 0;if(e>1e-14){for(var t=1,r=0;r<15;r++,t*=10)if(Math.round(e*t)/t===e)return r}return Vke(e)}function Vke(e){var t=e.toString().toLowerCase(),r=t.indexOf("e"),n=r>0?+t.slice(r+1):0,i=r>0?r:t.length,s=t.indexOf("."),a=s<0?0:i-1-s;return Math.max(0,a-n)}function Yee(e,t){var r=Math.log,n=Math.LN10,i=Math.floor(r(e[1]-e[0])/n),s=Math.round(r(Math.abs(t[1]-t[0]))/n),a=Math.min(Math.max(-i+s,0),20);return isFinite(a)?a:20}function Wke(e,t){var r=nc(e,function(p,g){return p+(isNaN(g)?0:g)},0);if(r===0)return[];for(var n=Math.pow(10,t),i=xe(e,function(p){return(isNaN(p)?0:p)/r*n*100}),s=n*100,a=xe(i,function(p){return Math.floor(p)}),o=nc(a,function(p,g){return p+g},0),l=xe(i,function(p,g){return p-a[g]});o<s;){for(var c=Number.NEGATIVE_INFINITY,d=null,h=0,f=l.length;h<f;++h)l[h]>c&&(c=l[h],d=h);++a[d],l[d]=0,++o}return xe(a,function(p){return p/n})}function Gke(e,t){var r=Math.max($l(e),$l(t)),n=e+t;return r>qee?n:Gn(n,r)}var F8=9007199254740991;function Kee(e){var t=Math.PI*2;return(e%t+t)%t}function I_(e){return e>-1e-4&&e<Uke}var qke=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function ac(e){if(e instanceof Date)return e;if(De(e)){var t=qke.exec(e);if(!t)return new Date(NaN);if(t[8]){var r=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(r-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,r,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(e==null)return new Date(NaN);return new Date(Math.round(e))}function Yke(e){return Math.pow(10,l5(e))}function l5(e){if(e===0)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function Zee(e,t){var r=l5(e),n=Math.pow(10,r),i=e/n,s;return i<1.5?s=1:i<2.5?s=2:i<4?s=3:i<7?s=5:s=10,e=s*n,r>=-20?+e.toFixed(r<0?-r:0):e}function KA(e,t){var r=(e.length-1)*t+1,n=Math.floor(r),i=+e[n-1],s=r-n;return s?i+s*(e[n]-i):i}function z8(e){e.sort(function(l,c){return o(l,c,0)?-1:1});for(var t=-1/0,r=1,n=0;n<e.length;){for(var i=e[n].interval,s=e[n].close,a=0;a<2;a++)i[a]<=t&&(i[a]=t,s[a]=a?1:1-r),t=i[a],r=s[a];i[0]===i[1]&&s[0]*s[1]!==1?e.splice(n,1):n++}return e;function o(l,c,d){return l.interval[d]<c.interval[d]||l.interval[d]===c.interval[d]&&(l.close[d]-c.close[d]===(d?-1:1)||!d&&o(l,c,1))}}function ou(e){var t=parseFloat(e);return t==e&&(t!==0||!De(e)||e.indexOf("x")<=0)?t:NaN}function Xee(e){return!isNaN(ou(e))}function Jee(){return Math.round(Math.random()*9)}function Qee(e,t){return t===0?e:Qee(t,e%t)}function U8(e,t){return e==null?t:t==null?e:e*t/Qee(e,t)}function jr(e){throw new Error(e)}function H8(e,t,r){return(t-e)*r+e}var ete="series\0",tte="\0_ec_\0";function Xr(e){return e instanceof Array?e:e==null?[]:[e]}function np(e,t,r){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var n=0,i=r.length;n<i;n++){var s=r[n];!e.emphasis[t].hasOwnProperty(s)&&e[t].hasOwnProperty(s)&&(e.emphasis[t][s]=e[t][s])}}}var V8=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Lv(e){return st(e)&&!ve(e)&&!(e instanceof Date)?e.value:e}function Kke(e){return st(e)&&!(e instanceof Array)}function rte(e,t,r){var n=r==="normalMerge",i=r==="replaceMerge",s=r==="replaceAll";e=e||[],t=(t||[]).slice();var a=qe();V(t,function(l,c){if(!st(l)){t[c]=null;return}});var o=Zke(e,a,r);return(n||i)&&Xke(o,e,a,t),n&&Jke(o,t),n||i?Qke(o,t,i):s&&eEe(o,t),tEe(o),o}function Zke(e,t,r){var n=[];if(r==="replaceAll")return n;for(var i=0;i<e.length;i++){var s=e[i];s&&s.id!=null&&t.set(s.id,i),n.push({existing:r==="replaceMerge"||M_(s)?null:s,newOption:null,keyInfo:null,brandNew:null})}return n}function Xke(e,t,r,n){V(n,function(i,s){if(!(!i||i.id==null)){var a=jx(i.id),o=r.get(a);if(o!=null){var l=e[o];Os(!l.newOption,'Duplicated option on id "'+a+'".'),l.newOption=i,l.existing=t[o],n[s]=null}}})}function Jke(e,t){V(t,function(r,n){if(!(!r||r.name==null))for(var i=0;i<e.length;i++){var s=e[i].existing;if(!e[i].newOption&&s&&(s.id==null||r.id==null)&&!M_(r)&&!M_(s)&&nte("name",s,r)){e[i].newOption=r,t[n]=null;return}}})}function Qke(e,t,r){V(t,function(n){if(n){for(var i,s=0;(i=e[s])&&(i.newOption||M_(i.existing)||i.existing&&n.id!=null&&!nte("id",n,i.existing));)s++;i?(i.newOption=n,i.brandNew=r):e.push({newOption:n,brandNew:r,existing:null,keyInfo:null}),s++}})}function eEe(e,t){V(t,function(r){e.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function tEe(e){var t=qe();V(e,function(r){var n=r.existing;n&&t.set(n.id,r)}),V(e,function(r){var n=r.newOption;Os(!n||n.id==null||!t.get(n.id)||t.get(n.id)===r,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&t.set(n.id,r),!r.keyInfo&&(r.keyInfo={})}),V(e,function(r,n){var i=r.existing,s=r.newOption,a=r.keyInfo;if(st(s)){if(a.name=s.name!=null?jx(s.name):i?i.name:ete+n,i)a.id=jx(i.id);else if(s.id!=null)a.id=jx(s.id);else{var o=0;do a.id="\0"+a.name+"\0"+o++;while(t.get(a.id))}t.set(a.id,r)}})}function nte(e,t,r){var n=hi(t[e],null),i=hi(r[e],null);return n!=null&&i!=null&&n===i}function jx(e){return hi(e,"")}function hi(e,t){return e==null?t:De(e)?e:xr(e)||xP(e)?e+"":t}function c5(e){var t=e.name;return!!(t&&t.indexOf(ete))}function M_(e){return e&&e.id!=null&&jx(e.id).indexOf(tte)===0}function rEe(e){return tte+e}function nEe(e,t,r){V(e,function(n){var i=n.newOption;st(i)&&(n.keyInfo.mainType=t,n.keyInfo.subType=iEe(t,i,n.existing,r))})}function iEe(e,t,r,n){var i=t.type?t.type:r?r.subType:n.determineSubType(e,t);return i}function sEe(e,t){var r={},n={};return i(e||[],r),i(t||[],n,r),[s(r),s(n)];function i(a,o,l){for(var c=0,d=a.length;c<d;c++){var h=hi(a[c].seriesId,null);if(h==null)return;for(var f=Xr(a[c].dataIndex),p=l&&l[h],g=0,v=f.length;g<v;g++){var m=f[g];p&&p[m]?p[m]=null:(o[h]||(o[h]={}))[m]=1}}}function s(a,o){var l=[];for(var c in a)if(a.hasOwnProperty(c)&&a[c]!=null)if(o)l.push(+c);else{var d=s(a[c],!0);d.length&&l.push({seriesId:c,dataIndex:d})}return l}}function ip(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return ve(t.dataIndex)?xe(t.dataIndex,function(r){return e.indexOfRawIndex(r)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return ve(t.name)?xe(t.name,function(r){return e.indexOfName(r)}):e.indexOfName(t.name)}function cr(){var e="__ec_inner_"+aEe++;return function(t){return t[e]||(t[e]={})}}var aEe=Jee();function Rx(e,t,r){var n=u5(t,r),i=n.mainTypeSpecified,s=n.queryOptionMap,a=n.others,o=a,l=r?r.defaultMainType:null;return!i&&l&&s.set(l,{}),s.each(function(c,d){var h=qb(e,d,c,{useDefault:l===d,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});o[d+"Models"]=h.models,o[d+"Model"]=h.models[0]}),o}function u5(e,t){var r;if(De(e)){var n={};n[e+"Index"]=0,r=n}else r=e;var i=qe(),s={},a=!1;return V(r,function(o,l){if(l==="dataIndex"||l==="dataIndexInside"){s[l]=o;return}var c=l.match(/^(\w+)(Index|Id|Name)$/)||[],d=c[1],h=(c[2]||"").toLowerCase();if(!(!d||!h||t&&t.includeMainTypes&&Pt(t.includeMainTypes,d)<0)){a=a||!!d;var f=i.get(d)||i.set(d,{});f[h]=o}}),{mainTypeSpecified:a,queryOptionMap:i,others:s}}var ii={useDefault:!0,enableAll:!1,enableNone:!1},oEe={useDefault:!1,enableAll:!0,enableNone:!0};function qb(e,t,r,n){n=n||ii;var i=r.index,s=r.id,a=r.name,o={models:null,specified:i!=null||s!=null||a!=null};if(!o.specified){var l=void 0;return o.models=n.useDefault&&(l=e.getComponent(t))?[l]:[],o}return i==="none"||i===!1?(Os(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),o.models=[],o):(i==="all"&&(Os(n.enableAll,'`"all"` is not a valid value on index option.'),i=s=a=null),o.models=e.queryComponents({mainType:t,index:i,id:s,name:a}),o)}function ite(e,t,r){e.setAttribute?e.setAttribute(t,r):e[t]=r}function lEe(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function cEe(e){return e==="auto"?Gt.domSupported?"html":"richText":e||"html"}function HP(e,t){var r=qe(),n=[];return V(e,function(i){var s=t(i);(r.get(s)||(n.push(s),r.set(s,[]))).push(i)}),{keys:n,buckets:r}}function ste(e,t,r,n,i){var s=t==null||t==="auto";if(n==null)return n;if(xr(n)){var a=H8(r||0,n,i);return Gn(a,s?Math.max($l(r||0),$l(n)):t)}else{if(De(n))return i<1?r:n;for(var o=[],l=r,c=n,d=Math.max(l?l.length:0,c.length),h=0;h<d;++h){var f=e.getDimensionInfo(h);if(f&&f.type==="ordinal")o[h]=(i<1&&l?l:c)[h];else{var p=l&&l[h]?l[h]:0,g=c[h],a=H8(p,g,i);o[h]=Gn(a,s?Math.max($l(p),$l(g)):t)}}return o}}var uEe=".",Ah="___EC__COMPONENT__CONTAINER___",ate="___EC__EXTENDED_CLASS___";function Bl(e){var t={main:"",sub:""};if(e){var r=e.split(uEe);t.main=r[0]||"",t.sub=r[1]||""}return t}function dEe(e){Os(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function hEe(e){return!!(e&&e[ate])}function d5(e,t){e.$constructor=e,e.extend=function(r){var n=this,i;return fEe(n)?i=function(s){le(a,s);function a(){return s.apply(this,arguments)||this}return a}(n):(i=function(){(r.$constructor||n).apply(this,arguments)},yCe(i,this)),fe(i.prototype,r),i[ate]=!0,i.extend=this.extend,i.superCall=mEe,i.superApply=vEe,i.superClass=n,i}}function fEe(e){return et(e)&&/^class\s/.test(Function.prototype.toString.call(e))}function ote(e,t){e.extend=t.extend}var pEe=Math.round(Math.random()*10);function gEe(e){var t=["__\0is_clz",pEe++].join("_");e.prototype[t]=!0,e.isInstance=function(r){return!!(r&&r[t])}}function mEe(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return this.superClass.prototype[t].apply(e,r)}function vEe(e,t,r){return this.superClass.prototype[t].apply(e,r)}function vN(e){var t={};e.registerClass=function(n){var i=n.type||n.prototype.type;if(i){dEe(i),n.prototype.type=i;var s=Bl(i);if(!s.sub)t[s.main]=n;else if(s.sub!==Ah){var a=r(s);a[s.sub]=n}}return n},e.getClass=function(n,i,s){var a=t[n];if(a&&a[Ah]&&(a=i?a[i]:null),s&&!a)throw new Error(i?"Component "+n+"."+(i||"")+" is used but not imported.":n+".type should be specified.");return a},e.getClassesByMainType=function(n){var i=Bl(n),s=[],a=t[i.main];return a&&a[Ah]?V(a,function(o,l){l!==Ah&&s.push(o)}):s.push(a),s},e.hasClass=function(n){var i=Bl(n);return!!t[i.main]},e.getAllClassMainTypes=function(){var n=[];return V(t,function(i,s){n.push(s)}),n},e.hasSubTypes=function(n){var i=Bl(n),s=t[i.main];return s&&s[Ah]};function r(n){var i=t[n.main];return(!i||!i[Ah])&&(i=t[n.main]={},i[Ah]=!0),i}}function sp(e,t){for(var r=0;r<e.length;r++)e[r][1]||(e[r][1]=e[r][0]);return t=t||!1,function(n,i,s){for(var a={},o=0;o<e.length;o++){var l=e[o][1];if(!(i&&Pt(i,l)>=0||s&&Pt(s,l)<0)){var c=n.getShallow(l,t);c!=null&&(a[e[o][0]]=c)}}return a}}var yEe=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],xEe=sp(yEe),_Ee=function(){function e(){}return e.prototype.getAreaStyle=function(t,r){return xEe(this,t,r)},e}(),VP=new Wb(50);function bEe(e){if(typeof e=="string"){var t=VP.get(e);return t&&t.image}else return e}function h5(e,t,r,n,i){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!r)return t;var s=VP.get(e),a={hostEl:r,cb:n,cbPayload:i};return s?(t=s.image,!yN(t)&&s.pending.push(a)):(t=Hd.loadImage(e,W8,W8),t.__zrImageSrc=e,VP.put(e,t.__cachedImgObj={image:t,pending:[a]})),t}else return e;else return t}function W8(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var r=e.pending[t],n=r.cb;n&&n(this,r.cbPayload),r.hostEl.dirty()}e.pending.length=0}function yN(e){return e&&e.width&&e.height}var ZA=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function wEe(e,t,r,n,i,s){if(!r){e.text="",e.isTruncated=!1;return}var a=(t+"").split(`
`);s=lte(r,n,i,s);for(var o=!1,l={},c=0,d=a.length;c<d;c++)cte(l,a[c],s),a[c]=l.textLine,o=o||l.isTruncated;e.text=a.join(`
`),e.isTruncated=o}function lte(e,t,r,n){n=n||{};var i=fe({},n);i.font=t,r=mt(r,"..."),i.maxIterations=mt(n.maxIterations,2);var s=i.minChar=mt(n.minChar,0);i.cnCharWidth=Aa("国",t);var a=i.ascCharWidth=Aa("a",t);i.placeholder=mt(n.placeholder,"");for(var o=e=Math.max(0,e-1),l=0;l<s&&o>=a;l++)o-=a;var c=Aa(r,t);return c>o&&(r="",c=0),o=e-c,i.ellipsis=r,i.ellipsisWidth=c,i.contentWidth=o,i.containerWidth=e,i}function cte(e,t,r){var n=r.containerWidth,i=r.font,s=r.contentWidth;if(!n){e.textLine="",e.isTruncated=!1;return}var a=Aa(t,i);if(a<=n){e.textLine=t,e.isTruncated=!1;return}for(var o=0;;o++){if(a<=s||o>=r.maxIterations){t+=r.ellipsis;break}var l=o===0?SEe(t,s,r.ascCharWidth,r.cnCharWidth):a>0?Math.floor(t.length*s/a):0;t=t.substr(0,l),a=Aa(t,i)}t===""&&(t=r.placeholder),e.textLine=t,e.isTruncated=!0}function SEe(e,t,r,n){for(var i=0,s=0,a=e.length;s<a&&i<t;s++){var o=e.charCodeAt(s);i+=0<=o&&o<=127?r:n}return s}function CEe(e,t){e!=null&&(e+="");var r=t.overflow,n=t.padding,i=t.font,s=r==="truncate",a=gN(i),o=mt(t.lineHeight,a),l=!!t.backgroundColor,c=t.lineOverflow==="truncate",d=!1,h=t.width,f;h!=null&&(r==="break"||r==="breakAll")?f=e?ute(e,t.font,h,r==="breakAll",0).lines:[]:f=e?e.split(`
`):[];var p=f.length*o,g=mt(t.height,p);if(p>g&&c){var v=Math.floor(g/o);d=d||f.length>v,f=f.slice(0,v)}if(e&&s&&h!=null)for(var m=lte(h,i,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),y={},x=0;x<f.length;x++)cte(y,f[x],m),f[x]=y.textLine,d=d||y.isTruncated;for(var _=g,b=0,x=0;x<f.length;x++)b=Math.max(Aa(f[x],i),b);h==null&&(h=b);var w=b;return n&&(_+=n[0]+n[2],w+=n[1]+n[3],h+=n[1]+n[3]),l&&(w=h),{lines:f,height:g,outerWidth:w,outerHeight:_,lineHeight:o,calculatedLineHeight:a,contentWidth:b,contentHeight:p,width:h,isTruncated:d}}var kEe=function(){function e(){}return e}(),G8=function(){function e(t){this.tokens=[],t&&(this.tokens=t)}return e}(),EEe=function(){function e(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return e}();function TEe(e,t){var r=new EEe;if(e!=null&&(e+=""),!e)return r;for(var n=t.width,i=t.height,s=t.overflow,a=(s==="break"||s==="breakAll")&&n!=null?{width:n,accumWidth:0,breakAll:s==="breakAll"}:null,o=ZA.lastIndex=0,l;(l=ZA.exec(e))!=null;){var c=l.index;c>o&&XA(r,e.substring(o,c),t,a),XA(r,l[2],t,a,l[1]),o=ZA.lastIndex}o<e.length&&XA(r,e.substring(o,e.length),t,a);var d=[],h=0,f=0,p=t.padding,g=s==="truncate",v=t.lineOverflow==="truncate",m={};function y(I,z,U){I.width=z,I.lineHeight=U,h+=U,f=Math.max(f,z)}e:for(var x=0;x<r.lines.length;x++){for(var _=r.lines[x],b=0,w=0,S=0;S<_.tokens.length;S++){var k=_.tokens[S],C=k.styleName&&t.rich[k.styleName]||{},E=k.textPadding=C.padding,T=E?E[1]+E[3]:0,N=k.font=C.font||t.font;k.contentHeight=gN(N);var R=mt(C.height,k.contentHeight);if(k.innerHeight=R,E&&(R+=E[0]+E[2]),k.height=R,k.lineHeight=Zl(C.lineHeight,t.lineHeight,R),k.align=C&&C.align||t.align,k.verticalAlign=C&&C.verticalAlign||"middle",v&&i!=null&&h+k.lineHeight>i){var P=r.lines.length;S>0?(_.tokens=_.tokens.slice(0,S),y(_,w,b),r.lines=r.lines.slice(0,x+1)):r.lines=r.lines.slice(0,x),r.isTruncated=r.isTruncated||r.lines.length<P;break e}var D=C.width,$=D==null||D==="auto";if(typeof D=="string"&&D.charAt(D.length-1)==="%")k.percentWidth=D,d.push(k),k.contentWidth=Aa(k.text,N);else{if($){var L=C.backgroundColor,O=L&&L.image;O&&(O=bEe(O),yN(O)&&(k.width=Math.max(k.width,O.width*R/O.height)))}var j=g&&n!=null?n-w:null;j!=null&&j<k.width?!$||j<T?(k.text="",k.width=k.contentWidth=0):(wEe(m,k.text,j-T,N,t.ellipsis,{minChar:t.truncateMinChar}),k.text=m.text,r.isTruncated=r.isTruncated||m.isTruncated,k.width=k.contentWidth=Aa(k.text,N)):k.contentWidth=Aa(k.text,N)}k.width+=T,w+=k.width,C&&(b=Math.max(b,k.lineHeight))}y(_,w,b)}r.outerWidth=r.width=mt(n,f),r.outerHeight=r.height=mt(i,h),r.contentHeight=h,r.contentWidth=f,p&&(r.outerWidth+=p[1]+p[3],r.outerHeight+=p[0]+p[2]);for(var x=0;x<d.length;x++){var k=d[x],M=k.percentWidth;k.width=parseInt(M,10)/100*r.width}return r}function XA(e,t,r,n,i){var s=t==="",a=i&&r.rich[i]||{},o=e.lines,l=a.font||r.font,c=!1,d,h;if(n){var f=a.padding,p=f?f[1]+f[3]:0;if(a.width!=null&&a.width!=="auto"){var g=tl(a.width,n.width)+p;o.length>0&&g+n.accumWidth>n.width&&(d=t.split(`
`),c=!0),n.accumWidth=g}else{var v=ute(t,l,n.width,n.breakAll,n.accumWidth);n.accumWidth=v.accumWidth+p,h=v.linesWidths,d=v.lines}}else d=t.split(`
`);for(var m=0;m<d.length;m++){var y=d[m],x=new kEe;if(x.styleName=i,x.text=y,x.isLineHolder=!y&&!s,typeof a.width=="number"?x.width=a.width:x.width=h?h[m]:Aa(y,l),!m&&!c){var _=(o[o.length-1]||(o[0]=new G8)).tokens,b=_.length;b===1&&_[0].isLineHolder?_[0]=x:(y||!b||s)&&_.push(x)}else o.push(new G8([x]))}}function NEe(e){var t=e.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var AEe=nc(",&?/;] ".split(""),function(e,t){return e[t]=!0,e},{});function jEe(e){return NEe(e)?!!AEe[e]:!0}function ute(e,t,r,n,i){for(var s=[],a=[],o="",l="",c=0,d=0,h=0;h<e.length;h++){var f=e.charAt(h);if(f===`
`){l&&(o+=l,d+=c),s.push(o),a.push(d),o="",l="",c=0,d=0;continue}var p=Aa(f,t),g=n?!1:!jEe(f);if(s.length?d+p>r:i+d+p>r){d?(o||l)&&(g?(o||(o=l,l="",c=0,d=c),s.push(o),a.push(d-c),l+=f,c+=p,o="",d=c):(l&&(o+=l,l="",c=0),s.push(o),a.push(d),o=f,d=p)):g?(s.push(l),a.push(c),l=f,c=p):(s.push(f),a.push(p));continue}d+=p,g?(l+=f,c+=p):(l&&(o+=l,l="",c=0),o+=f)}return!s.length&&!o&&(o=e,l="",c=0),l&&(o+=l),o&&(s.push(o),a.push(d)),s.length===1&&(d+=i),{accumWidth:d,lines:s,linesWidths:a}}var WP="__zr_style_"+Math.round(Math.random()*10),$f={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},xN={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};$f[WP]=!0;var q8=["z","z2","invisible"],REe=["invisible"],_o=function(e){vn(t,e);function t(r){return e.call(this,r)||this}return t.prototype._init=function(r){for(var n=Zt(r),i=0;i<n.length;i++){var s=n[i];s==="style"?this.useStyle(r[s]):e.prototype.attrKV.call(this,s,r[s])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(r,n,i,s){var a=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&IEe(this,r,n)||a&&!a[0]&&!a[3])return!1;if(i&&this.__clipPaths){for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1}if(s&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},t.prototype.contain=function(r,n){return this.rectContain(r,n)},t.prototype.traverse=function(r,n){r.call(n,this)},t.prototype.rectContain=function(r,n){var i=this.transformCoordToLocal(r,n),s=this.getBoundingRect();return s.contain(i[0],i[1])},t.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,i=this.getBoundingRect(),s=this.style,a=s.shadowBlur||0,o=s.shadowOffsetX||0,l=s.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new At(0,0,0,0)),n?At.applyTransform(r,i,n):r.copy(i),(a||o||l)&&(r.width+=a*2+Math.abs(o),r.height+=a*2+Math.abs(l),r.x=Math.min(r.x,r.x+o-a),r.y=Math.min(r.y,r.y+l-a));var c=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-c),r.y=Math.floor(r.y-c),r.width=Math.ceil(r.width+1+c*2),r.height=Math.ceil(r.height+1+c*2))}return r},t.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new At(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(r){return this.animate("style",r)},t.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(r,n){r!=="style"?e.prototype.attrKV.call(this,r,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(r,n){return typeof r=="string"?this.style[r]=n:fe(this.style,r),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=UC,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&UC)},t.prototype.styleUpdated=function(){this.__dirty&=-3},t.prototype.createStyle=function(r){return hN($f,r)},t.prototype.useStyle=function(r){r[WP]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},t.prototype.isStyleObject=function(r){return r[WP]},t.prototype._innerSaveToNormal=function(r){e.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,n,q8)},t.prototype._applyStateObj=function(r,n,i,s,a,o){e.prototype._applyStateObj.call(this,r,n,i,s,a,o);var l=!(n&&s),c;if(n&&n.style?a?s?c=n.style:(c=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(c,n.style)):(c=this._mergeStyle(this.createStyle(),s?this.style:i.style),this._mergeStyle(c,n.style)):l&&(c=i.style),c)if(a){var d=this.style;if(this.style=this.createStyle(l?{}:d),l)for(var h=Zt(d),f=0;f<h.length;f++){var p=h[f];p in c&&(c[p]=c[p],this.style[p]=d[p])}for(var g=Zt(c),f=0;f<g.length;f++){var p=g[f];this.style[p]=this.style[p]}this._transitionState(r,{style:c},o,this.getAnimationStyleProps())}else this.useStyle(c);for(var v=this.__inHover?REe:q8,f=0;f<v.length;f++){var p=v[f];n&&n[p]!=null?this[p]=n[p]:l&&i[p]!=null&&(this[p]=i[p])}},t.prototype._mergeStates=function(r){for(var n=e.prototype._mergeStates.call(this,r),i,s=0;s<r.length;s++){var a=r[s];a.style&&(i=i||{},this._mergeStyle(i,a.style))}return i&&(n.style=i),n},t.prototype._mergeStyle=function(r,n){return fe(r,n),r},t.prototype.getAnimationStyleProps=function(){return xN},t.initDefaultProps=function(){var r=t.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=Xl|UC}(),t}(mN),JA=new At(0,0,0,0),QA=new At(0,0,0,0);function IEe(e,t,r){return JA.copy(e.getBoundingRect()),e.transform&&JA.applyTransform(e.transform),QA.width=t,QA.height=r,!JA.intersect(QA)}var Xs=Math.min,Js=Math.max,ej=Math.sin,tj=Math.cos,jh=Math.PI*2,U1=Ep(),H1=Ep(),V1=Ep();function _N(e,t,r){if(e.length!==0){for(var n=e[0],i=n[0],s=n[0],a=n[1],o=n[1],l=1;l<e.length;l++)n=e[l],i=Xs(i,n[0]),s=Js(s,n[0]),a=Xs(a,n[1]),o=Js(o,n[1]);t[0]=i,t[1]=a,r[0]=s,r[1]=o}}function Y8(e,t,r,n,i,s){i[0]=Xs(e,r),i[1]=Xs(t,n),s[0]=Js(e,r),s[1]=Js(t,n)}var K8=[],Z8=[];function MEe(e,t,r,n,i,s,a,o,l,c){var d=Aee,h=yi,f=d(e,r,i,a,K8);l[0]=1/0,l[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var p=0;p<f;p++){var g=h(e,r,i,a,K8[p]);l[0]=Xs(g,l[0]),c[0]=Js(g,c[0])}f=d(t,n,s,o,Z8);for(var p=0;p<f;p++){var v=h(t,n,s,o,Z8[p]);l[1]=Xs(v,l[1]),c[1]=Js(v,c[1])}l[0]=Xs(e,l[0]),c[0]=Js(e,c[0]),l[0]=Xs(a,l[0]),c[0]=Js(a,c[0]),l[1]=Xs(t,l[1]),c[1]=Js(t,c[1]),l[1]=Xs(o,l[1]),c[1]=Js(o,c[1])}function PEe(e,t,r,n,i,s,a,o){var l=Ree,c=Ii,d=Js(Xs(l(e,r,i),1),0),h=Js(Xs(l(t,n,s),1),0),f=c(e,r,i,d),p=c(t,n,s,h);a[0]=Xs(e,i,f),a[1]=Xs(t,s,p),o[0]=Js(e,i,f),o[1]=Js(t,s,p)}function LEe(e,t,r,n,i,s,a,o,l){var c=hd,d=fd,h=Math.abs(i-s);if(h%jh<1e-4&&h>1e-4){o[0]=e-r,o[1]=t-n,l[0]=e+r,l[1]=t+n;return}if(U1[0]=tj(i)*r+e,U1[1]=ej(i)*n+t,H1[0]=tj(s)*r+e,H1[1]=ej(s)*n+t,c(o,U1,H1),d(l,U1,H1),i=i%jh,i<0&&(i=i+jh),s=s%jh,s<0&&(s=s+jh),i>s&&!a?s+=jh:i<s&&a&&(i+=jh),a){var f=s;s=i,i=f}for(var p=0;p<s;p+=Math.PI/2)p>i&&(V1[0]=tj(p)*r+e,V1[1]=ej(p)*n+t,c(o,V1,o),d(l,V1,l))}var on={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Rh=[],Ih=[],_l=[],Pu=[],bl=[],wl=[],rj=Math.min,nj=Math.max,Mh=Math.cos,Ph=Math.sin,kc=Math.abs,GP=Math.PI,Wu=GP*2,ij=typeof Float32Array<"u",sy=[];function sj(e){var t=Math.round(e/GP*1e8)/1e8;return t%2*GP}function f5(e,t){var r=sj(e[0]);r<0&&(r+=Wu);var n=r-e[0],i=e[1];i+=n,!t&&i-r>=Wu?i=r+Wu:t&&r-i>=Wu?i=r-Wu:!t&&r>i?i=r+(Wu-sj(r-i)):t&&r<i&&(i=r-(Wu-sj(i-r))),e[0]=r,e[1]=i}var oc=function(){function e(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(t,r,n){n=n||0,n>0&&(this._ux=kc(n/nE/t)||0,this._uy=kc(n/nE/r)||0)},e.prototype.setDPR=function(t){this.dpr=t},e.prototype.setContext=function(t){this._ctx=t},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(t,r){return this._drawPendingPt(),this.addData(on.M,t,r),this._ctx&&this._ctx.moveTo(t,r),this._x0=t,this._y0=r,this._xi=t,this._yi=r,this},e.prototype.lineTo=function(t,r){var n=kc(t-this._xi),i=kc(r-this._yi),s=n>this._ux||i>this._uy;if(this.addData(on.L,t,r),this._ctx&&s&&this._ctx.lineTo(t,r),s)this._xi=t,this._yi=r,this._pendingPtDist=0;else{var a=n*n+i*i;a>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=r,this._pendingPtDist=a)}return this},e.prototype.bezierCurveTo=function(t,r,n,i,s,a){return this._drawPendingPt(),this.addData(on.C,t,r,n,i,s,a),this._ctx&&this._ctx.bezierCurveTo(t,r,n,i,s,a),this._xi=s,this._yi=a,this},e.prototype.quadraticCurveTo=function(t,r,n,i){return this._drawPendingPt(),this.addData(on.Q,t,r,n,i),this._ctx&&this._ctx.quadraticCurveTo(t,r,n,i),this._xi=n,this._yi=i,this},e.prototype.arc=function(t,r,n,i,s,a){this._drawPendingPt(),sy[0]=i,sy[1]=s,f5(sy,a),i=sy[0],s=sy[1];var o=s-i;return this.addData(on.A,t,r,n,n,i,o,0,a?0:1),this._ctx&&this._ctx.arc(t,r,n,i,s,a),this._xi=Mh(s)*n+t,this._yi=Ph(s)*n+r,this},e.prototype.arcTo=function(t,r,n,i,s){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,r,n,i,s),this},e.prototype.rect=function(t,r,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,r,n,i),this.addData(on.R,t,r,n,i),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(on.Z);var t=this._ctx,r=this._x0,n=this._y0;return t&&t.closePath(),this._xi=r,this._yi=n,this},e.prototype.fill=function(t){t&&t.fill(),this.toStatic()},e.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(t){var r=t.length;!(this.data&&this.data.length===r)&&ij&&(this.data=new Float32Array(r));for(var n=0;n<r;n++)this.data[n]=t[n];this._len=r},e.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var r=t.length,n=0,i=this._len,s=0;s<r;s++)n+=t[s].len();ij&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(var s=0;s<r;s++)for(var a=t[s].data,o=0;o<a.length;o++)this.data[i++]=a[o];this._len=i},e.prototype.addData=function(t,r,n,i,s,a,o,l,c){if(this._saveData){var d=this.data;this._len+arguments.length>d.length&&(this._expandData(),d=this.data);for(var h=0;h<arguments.length;h++)d[this._len++]=arguments[h]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],r=0;r<this._len;r++)t[r]=this.data[r];this.data=t}},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,ij&&this._len>11&&(this.data=new Float32Array(t)))}},e.prototype.getBoundingRect=function(){_l[0]=_l[1]=bl[0]=bl[1]=Number.MAX_VALUE,Pu[0]=Pu[1]=wl[0]=wl[1]=-Number.MAX_VALUE;var t=this.data,r=0,n=0,i=0,s=0,a;for(a=0;a<this._len;){var o=t[a++],l=a===1;switch(l&&(r=t[a],n=t[a+1],i=r,s=n),o){case on.M:r=i=t[a++],n=s=t[a++],bl[0]=i,bl[1]=s,wl[0]=i,wl[1]=s;break;case on.L:Y8(r,n,t[a],t[a+1],bl,wl),r=t[a++],n=t[a++];break;case on.C:MEe(r,n,t[a++],t[a++],t[a++],t[a++],t[a],t[a+1],bl,wl),r=t[a++],n=t[a++];break;case on.Q:PEe(r,n,t[a++],t[a++],t[a],t[a+1],bl,wl),r=t[a++],n=t[a++];break;case on.A:var c=t[a++],d=t[a++],h=t[a++],f=t[a++],p=t[a++],g=t[a++]+p;a+=1;var v=!t[a++];l&&(i=Mh(p)*h+c,s=Ph(p)*f+d),LEe(c,d,h,f,p,g,v,bl,wl),r=Mh(g)*h+c,n=Ph(g)*f+d;break;case on.R:i=r=t[a++],s=n=t[a++];var m=t[a++],y=t[a++];Y8(i,s,i+m,s+y,bl,wl);break;case on.Z:r=i,n=s;break}hd(_l,_l,bl),fd(Pu,Pu,wl)}return a===0&&(_l[0]=_l[1]=Pu[0]=Pu[1]=0),new At(_l[0],_l[1],Pu[0]-_l[0],Pu[1]-_l[1])},e.prototype._calculateLength=function(){var t=this.data,r=this._len,n=this._ux,i=this._uy,s=0,a=0,o=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,d=0,h=0,f=0;f<r;){var p=t[f++],g=f===1;g&&(s=t[f],a=t[f+1],o=s,l=a);var v=-1;switch(p){case on.M:s=o=t[f++],a=l=t[f++];break;case on.L:{var m=t[f++],y=t[f++],x=m-s,_=y-a;(kc(x)>n||kc(_)>i||f===r-1)&&(v=Math.sqrt(x*x+_*_),s=m,a=y);break}case on.C:{var b=t[f++],w=t[f++],m=t[f++],y=t[f++],S=t[f++],k=t[f++];v=JCe(s,a,b,w,m,y,S,k,10),s=S,a=k;break}case on.Q:{var b=t[f++],w=t[f++],m=t[f++],y=t[f++];v=eke(s,a,b,w,m,y,10),s=m,a=y;break}case on.A:var C=t[f++],E=t[f++],T=t[f++],N=t[f++],R=t[f++],P=t[f++],D=P+R;f+=1,g&&(o=Mh(R)*T+C,l=Ph(R)*N+E),v=nj(T,N)*rj(Wu,Math.abs(P)),s=Mh(D)*T+C,a=Ph(D)*N+E;break;case on.R:{o=s=t[f++],l=a=t[f++];var $=t[f++],L=t[f++];v=$*2+L*2;break}case on.Z:{var x=o-s,_=l-a;v=Math.sqrt(x*x+_*_),s=o,a=l;break}}v>=0&&(c[h++]=v,d+=v)}return this._pathLen=d,d},e.prototype.rebuildPath=function(t,r){var n=this.data,i=this._ux,s=this._uy,a=this._len,o,l,c,d,h,f,p=r<1,g,v,m=0,y=0,x,_=0,b,w;if(!(p&&(this._pathSegLen||this._calculateLength(),g=this._pathSegLen,v=this._pathLen,x=r*v,!x)))e:for(var S=0;S<a;){var k=n[S++],C=S===1;switch(C&&(c=n[S],d=n[S+1],o=c,l=d),k!==on.L&&_>0&&(t.lineTo(b,w),_=0),k){case on.M:o=c=n[S++],l=d=n[S++],t.moveTo(c,d);break;case on.L:{h=n[S++],f=n[S++];var E=kc(h-c),T=kc(f-d);if(E>i||T>s){if(p){var N=g[y++];if(m+N>x){var R=(x-m)/N;t.lineTo(c*(1-R)+h*R,d*(1-R)+f*R);break e}m+=N}t.lineTo(h,f),c=h,d=f,_=0}else{var P=E*E+T*T;P>_&&(b=h,w=f,_=P)}break}case on.C:{var D=n[S++],$=n[S++],L=n[S++],O=n[S++],j=n[S++],M=n[S++];if(p){var N=g[y++];if(m+N>x){var R=(x-m)/N;Vd(c,D,L,j,R,Rh),Vd(d,$,O,M,R,Ih),t.bezierCurveTo(Rh[1],Ih[1],Rh[2],Ih[2],Rh[3],Ih[3]);break e}m+=N}t.bezierCurveTo(D,$,L,O,j,M),c=j,d=M;break}case on.Q:{var D=n[S++],$=n[S++],L=n[S++],O=n[S++];if(p){var N=g[y++];if(m+N>x){var R=(x-m)/N;A_(c,D,L,R,Rh),A_(d,$,O,R,Ih),t.quadraticCurveTo(Rh[1],Ih[1],Rh[2],Ih[2]);break e}m+=N}t.quadraticCurveTo(D,$,L,O),c=L,d=O;break}case on.A:var I=n[S++],z=n[S++],U=n[S++],F=n[S++],G=n[S++],Y=n[S++],Z=n[S++],B=!n[S++],W=U>F?U:F,K=kc(U-F)>.001,X=G+Y,Q=!1;if(p){var N=g[y++];m+N>x&&(X=G+Y*(x-m)/N,Q=!0),m+=N}if(K&&t.ellipse?t.ellipse(I,z,U,F,Z,G,X,B):t.arc(I,z,W,G,X,B),Q)break e;C&&(o=Mh(G)*U+I,l=Ph(G)*F+z),c=Mh(X)*U+I,d=Ph(X)*F+z;break;case on.R:o=c=n[S],l=d=n[S+1],h=n[S++],f=n[S++];var re=n[S++],Se=n[S++];if(p){var N=g[y++];if(m+N>x){var Te=x-m;t.moveTo(h,f),t.lineTo(h+rj(Te,re),f),Te-=re,Te>0&&t.lineTo(h+re,f+rj(Te,Se)),Te-=Se,Te>0&&t.lineTo(h+nj(re-Te,0),f+Se),Te-=re,Te>0&&t.lineTo(h,f+nj(Se-Te,0));break e}m+=N}t.rect(h,f,re,Se);break;case on.Z:if(p){var N=g[y++];if(m+N>x){var R=(x-m)/N;t.lineTo(c*(1-R)+o*R,d*(1-R)+l*R);break e}m+=N}t.closePath(),c=o,d=l}}},e.prototype.clone=function(){var t=new e,r=this.data;return t.data=r.slice?r.slice():Array.prototype.slice.call(r),t._len=this._len,t},e.CMD=on,e.initDefaultProps=function(){var t=e.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),e}();function ed(e,t,r,n,i,s,a){if(i===0)return!1;var o=i,l=0,c=e;if(a>t+o&&a>n+o||a<t-o&&a<n-o||s>e+o&&s>r+o||s<e-o&&s<r-o)return!1;if(e!==r)l=(t-n)/(e-r),c=(e*n-r*t)/(e-r);else return Math.abs(s-e)<=o/2;var d=l*s-a+c,h=d*d/(l*l+1);return h<=o/2*o/2}function DEe(e,t,r,n,i,s,a,o,l,c,d){if(l===0)return!1;var h=l;if(d>t+h&&d>n+h&&d>s+h&&d>o+h||d<t-h&&d<n-h&&d<s-h&&d<o-h||c>e+h&&c>r+h&&c>i+h&&c>a+h||c<e-h&&c<r-h&&c<i-h&&c<a-h)return!1;var f=jee(e,t,r,n,i,s,a,o,c,d,null);return f<=h/2}function dte(e,t,r,n,i,s,a,o,l){if(a===0)return!1;var c=a;if(l>t+c&&l>n+c&&l>s+c||l<t-c&&l<n-c&&l<s-c||o>e+c&&o>r+c&&o>i+c||o<e-c&&o<r-c&&o<i-c)return!1;var d=Iee(e,t,r,n,i,s,o,l,null);return d<=c/2}var X8=Math.PI*2;function Ca(e){return e%=X8,e<0&&(e+=X8),e}var ay=Math.PI*2;function OEe(e,t,r,n,i,s,a,o,l){if(a===0)return!1;var c=a;o-=e,l-=t;var d=Math.sqrt(o*o+l*l);if(d-c>r||d+c<r)return!1;if(Math.abs(n-i)%ay<1e-4)return!0;if(s){var h=n;n=Ca(i),i=Ca(h)}else n=Ca(n),i=Ca(i);n>i&&(i+=ay);var f=Math.atan2(l,o);return f<0&&(f+=ay),f>=n&&f<=i||f+ay>=n&&f+ay<=i}function Lc(e,t,r,n,i,s){if(s>t&&s>n||s<t&&s<n||n===t)return 0;var a=(s-t)/(n-t),o=n<t?1:-1;(a===1||a===0)&&(o=n<t?.5:-.5);var l=a*(r-e)+e;return l===i?1/0:l>i?o:0}var Lu=oc.CMD,Lh=Math.PI*2,$Ee=1e-4;function BEe(e,t){return Math.abs(e-t)<$Ee}var ks=[-1,-1,-1],Qa=[-1,-1];function FEe(){var e=Qa[0];Qa[0]=Qa[1],Qa[1]=e}function zEe(e,t,r,n,i,s,a,o,l,c){if(c>t&&c>n&&c>s&&c>o||c<t&&c<n&&c<s&&c<o)return 0;var d=Qk(t,n,s,o,c,ks);if(d===0)return 0;for(var h=0,f=-1,p=void 0,g=void 0,v=0;v<d;v++){var m=ks[v],y=m===0||m===1?.5:1,x=yi(e,r,i,a,m);x<l||(f<0&&(f=Aee(t,n,s,o,Qa),Qa[1]<Qa[0]&&f>1&&FEe(),p=yi(t,n,s,o,Qa[0]),f>1&&(g=yi(t,n,s,o,Qa[1]))),f===2?m<Qa[0]?h+=p<t?y:-y:m<Qa[1]?h+=g<p?y:-y:h+=o<g?y:-y:m<Qa[0]?h+=p<t?y:-y:h+=o<p?y:-y)}return h}function UEe(e,t,r,n,i,s,a,o){if(o>t&&o>n&&o>s||o<t&&o<n&&o<s)return 0;var l=QCe(t,n,s,o,ks);if(l===0)return 0;var c=Ree(t,n,s);if(c>=0&&c<=1){for(var d=0,h=Ii(t,n,s,c),f=0;f<l;f++){var p=ks[f]===0||ks[f]===1?.5:1,g=Ii(e,r,i,ks[f]);g<a||(ks[f]<c?d+=h<t?p:-p:d+=s<h?p:-p)}return d}else{var p=ks[0]===0||ks[0]===1?.5:1,g=Ii(e,r,i,ks[0]);return g<a?0:s<t?p:-p}}function HEe(e,t,r,n,i,s,a,o){if(o-=t,o>r||o<-r)return 0;var l=Math.sqrt(r*r-o*o);ks[0]=-l,ks[1]=l;var c=Math.abs(n-i);if(c<1e-4)return 0;if(c>=Lh-1e-4){n=0,i=Lh;var d=s?1:-1;return a>=ks[0]+e&&a<=ks[1]+e?d:0}if(n>i){var h=n;n=i,i=h}n<0&&(n+=Lh,i+=Lh);for(var f=0,p=0;p<2;p++){var g=ks[p];if(g+e>a){var v=Math.atan2(o,g),d=s?1:-1;v<0&&(v=Lh+v),(v>=n&&v<=i||v+Lh>=n&&v+Lh<=i)&&(v>Math.PI/2&&v<Math.PI*1.5&&(d=-d),f+=d)}}return f}function hte(e,t,r,n,i){for(var s=e.data,a=e.len(),o=0,l=0,c=0,d=0,h=0,f,p,g=0;g<a;){var v=s[g++],m=g===1;switch(v===Lu.M&&g>1&&(r||(o+=Lc(l,c,d,h,n,i))),m&&(l=s[g],c=s[g+1],d=l,h=c),v){case Lu.M:d=s[g++],h=s[g++],l=d,c=h;break;case Lu.L:if(r){if(ed(l,c,s[g],s[g+1],t,n,i))return!0}else o+=Lc(l,c,s[g],s[g+1],n,i)||0;l=s[g++],c=s[g++];break;case Lu.C:if(r){if(DEe(l,c,s[g++],s[g++],s[g++],s[g++],s[g],s[g+1],t,n,i))return!0}else o+=zEe(l,c,s[g++],s[g++],s[g++],s[g++],s[g],s[g+1],n,i)||0;l=s[g++],c=s[g++];break;case Lu.Q:if(r){if(dte(l,c,s[g++],s[g++],s[g],s[g+1],t,n,i))return!0}else o+=UEe(l,c,s[g++],s[g++],s[g],s[g+1],n,i)||0;l=s[g++],c=s[g++];break;case Lu.A:var y=s[g++],x=s[g++],_=s[g++],b=s[g++],w=s[g++],S=s[g++];g+=1;var k=!!(1-s[g++]);f=Math.cos(w)*_+y,p=Math.sin(w)*b+x,m?(d=f,h=p):o+=Lc(l,c,f,p,n,i);var C=(n-y)*b/_+y;if(r){if(OEe(y,x,b,w,w+S,k,t,C,i))return!0}else o+=HEe(y,x,b,w,w+S,k,C,i);l=Math.cos(w+S)*_+y,c=Math.sin(w+S)*b+x;break;case Lu.R:d=l=s[g++],h=c=s[g++];var E=s[g++],T=s[g++];if(f=d+E,p=h+T,r){if(ed(d,h,f,h,t,n,i)||ed(f,h,f,p,t,n,i)||ed(f,p,d,p,t,n,i)||ed(d,p,d,h,t,n,i))return!0}else o+=Lc(f,h,f,p,n,i),o+=Lc(d,p,d,h,n,i);break;case Lu.Z:if(r){if(ed(l,c,d,h,t,n,i))return!0}else o+=Lc(l,c,d,h,n,i);l=d,c=h;break}}return!r&&!BEe(c,h)&&(o+=Lc(l,c,d,h,n,i)||0),o!==0}function VEe(e,t,r){return hte(e,0,!1,t,r)}function WEe(e,t,r,n){return hte(e,t,!0,r,n)}var sE=rt({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},$f),GEe={style:rt({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},xN.style)},aj=sc.concat(["invisible","culling","z","z2","zlevel","parent"]),Vt=function(e){vn(t,e);function t(r){return e.call(this,r)||this}return t.prototype.update=function(){var r=this;e.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new t;i.buildPath===t.prototype.buildPath&&(i.buildPath=function(l){r.buildPath(l,r.shape)}),i.silent=!0;var s=i.style;for(var a in n)s[a]!==n[a]&&(s[a]=n[a]);s.fill=n.fill?n.decal:null,s.decal=null,s.shadowColor=null,n.strokeFirst&&(s.stroke=null);for(var o=0;o<aj.length;++o)i[aj[o]]=this[aj[o]];i.__dirty|=Xl}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(r){var n=Zt(r);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var s=0;s<n.length;s++){var a=n[s],o=r[a];a==="style"?this.style?fe(this.style,o):this.useStyle(o):a==="shape"?fe(this.shape,o):e.prototype.attrKV.call(this,a,o)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(De(r)){var n=tE(r,0);return n>.5?FP:n>.2?Nke:zP}else if(r)return zP}return FP},t.prototype.getInsideTextStroke=function(r){var n=this.style.fill;if(De(n)){var i=this.__zr,s=!!(i&&i.isDarkMode()),a=tE(r,0)<BP;if(s===a)return n}},t.prototype.buildPath=function(r,n,i){},t.prototype.pathUpdated=function(){this.__dirty&=-5},t.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},t.prototype.createPathProxy=function(){this.path=new oc(!1)},t.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return!(n==null||n==="none"||!(r.lineWidth>0))},t.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},t.prototype.getBoundingRect=function(){var r=this._rect,n=this.style,i=!r;if(i){var s=!1;this.path||(s=!0,this.createPathProxy());var a=this.path;(s||this.__dirty&Ky)&&(a.beginPath(),this.buildPath(a,this.shape,!1),this.pathUpdated()),r=a.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||i){o.copy(r);var l=n.strokeNoScale?this.getLineScale():1,c=n.lineWidth;if(!this.hasFill()){var d=this.strokeContainThreshold;c=Math.max(c,d??4)}l>1e-10&&(o.width+=c/l,o.height+=c/l,o.x-=c/l/2,o.y-=c/l/2)}return o}return r},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),s=this.getBoundingRect(),a=this.style;if(r=i[0],n=i[1],s.contain(r,n)){var o=this.path;if(this.hasStroke()){var l=a.lineWidth,c=a.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),WEe(o,l/c,r,n)))return!0}if(this.hasFill())return VEe(o,r,n)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=Ky,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(r){return this.animate("shape",r)},t.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(r,n){r==="shape"?this.setShape(n):e.prototype.attrKV.call(this,r,n)},t.prototype.setShape=function(r,n){var i=this.shape;return i||(i=this.shape={}),typeof r=="string"?i[r]=n:fe(i,r),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&Ky)},t.prototype.createStyle=function(r){return hN(sE,r)},t.prototype._innerSaveToNormal=function(r){e.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.shape&&!n.shape&&(n.shape=fe({},this.shape))},t.prototype._applyStateObj=function(r,n,i,s,a,o){e.prototype._applyStateObj.call(this,r,n,i,s,a,o);var l=!(n&&s),c;if(n&&n.shape?a?s?c=n.shape:(c=fe({},i.shape),fe(c,n.shape)):(c=fe({},s?this.shape:i.shape),fe(c,n.shape)):l&&(c=i.shape),c)if(a){this.shape=fe({},this.shape);for(var d={},h=Zt(c),f=0;f<h.length;f++){var p=h[f];typeof c[p]=="object"?this.shape[p]=c[p]:d[p]=c[p]}this._transitionState(r,{shape:d},o)}else this.shape=c,this.dirtyShape()},t.prototype._mergeStates=function(r){for(var n=e.prototype._mergeStates.call(this,r),i,s=0;s<r.length;s++){var a=r[s];a.shape&&(i=i||{},this._mergeStyle(i,a.shape))}return i&&(n.shape=i),n},t.prototype.getAnimationStyleProps=function(){return GEe},t.prototype.isZeroArea=function(){return!1},t.extend=function(r){var n=function(s){vn(a,s);function a(o){var l=s.call(this,o)||this;return r.init&&r.init.call(l,o),l}return a.prototype.getDefaultStyle=function(){return lt(r.style)},a.prototype.getDefaultShape=function(){return lt(r.shape)},a}(t);for(var i in r)typeof r[i]=="function"&&(n.prototype[i]=r[i]);return n},t.initDefaultProps=function(){var r=t.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=Xl|UC|Ky}(),t}(_o),qEe=rt({strokeFirst:!0,font:Ud,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},sE),Km=function(e){vn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return n!=null&&n!=="none"&&r.lineWidth>0},t.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},t.prototype.createStyle=function(r){return hN(qEe,r)},t.prototype.setBoundingRect=function(r){this._rect=r},t.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var n=r.text;n!=null?n+="":n="";var i=Gb(n,r.font,r.textAlign,r.textBaseline);if(i.x+=r.x||0,i.y+=r.y||0,this.hasStroke()){var s=r.lineWidth;i.x-=s/2,i.y-=s/2,i.width+=s,i.height+=s}this._rect=i}return this._rect},t.initDefaultProps=function(){var r=t.prototype;r.dirtyRectTolerance=10}(),t}(_o);Km.prototype.type="tspan";var YEe=rt({x:0,y:0},$f),KEe={style:rt({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},xN.style)};function ZEe(e){return!!(e&&typeof e!="string"&&e.width&&e.height)}var Oi=function(e){vn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.createStyle=function(r){return hN(YEe,r)},t.prototype._getSize=function(r){var n=this.style,i=n[r];if(i!=null)return i;var s=ZEe(n.image)?n.image:this.__image;if(!s)return 0;var a=r==="width"?"height":"width",o=n[a];return o==null?s[r]:s[r]/s[a]*o},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return KEe},t.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new At(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},t}(_o);Oi.prototype.type="image";function XEe(e,t){var r=t.x,n=t.y,i=t.width,s=t.height,a=t.r,o,l,c,d;i<0&&(r=r+i,i=-i),s<0&&(n=n+s,s=-s),typeof a=="number"?o=l=c=d=a:a instanceof Array?a.length===1?o=l=c=d=a[0]:a.length===2?(o=c=a[0],l=d=a[1]):a.length===3?(o=a[0],l=d=a[1],c=a[2]):(o=a[0],l=a[1],c=a[2],d=a[3]):o=l=c=d=0;var h;o+l>i&&(h=o+l,o*=i/h,l*=i/h),c+d>i&&(h=c+d,c*=i/h,d*=i/h),l+c>s&&(h=l+c,l*=s/h,c*=s/h),o+d>s&&(h=o+d,o*=s/h,d*=s/h),e.moveTo(r+o,n),e.lineTo(r+i-l,n),l!==0&&e.arc(r+i-l,n+l,l,-Math.PI/2,0),e.lineTo(r+i,n+s-c),c!==0&&e.arc(r+i-c,n+s-c,c,0,Math.PI/2),e.lineTo(r+d,n+s),d!==0&&e.arc(r+d,n+s-d,d,Math.PI/2,Math.PI),e.lineTo(r,n+o),o!==0&&e.arc(r+o,n+o,o,Math.PI,Math.PI*1.5)}var nm=Math.round;function fte(e,t,r){if(t){var n=t.x1,i=t.x2,s=t.y1,a=t.y2;e.x1=n,e.x2=i,e.y1=s,e.y2=a;var o=r&&r.lineWidth;return o&&(nm(n*2)===nm(i*2)&&(e.x1=e.x2=bf(n,o,!0)),nm(s*2)===nm(a*2)&&(e.y1=e.y2=bf(s,o,!0))),e}}function pte(e,t,r){if(t){var n=t.x,i=t.y,s=t.width,a=t.height;e.x=n,e.y=i,e.width=s,e.height=a;var o=r&&r.lineWidth;return o&&(e.x=bf(n,o,!0),e.y=bf(i,o,!0),e.width=Math.max(bf(n+s,o,!1)-e.x,s===0?0:1),e.height=Math.max(bf(i+a,o,!1)-e.y,a===0?0:1)),e}}function bf(e,t,r){if(!t)return e;var n=nm(e*2);return(n+nm(t))%2===0?n/2:(n+(r?1:-1))/2}var JEe=function(){function e(){this.x=0,this.y=0,this.width=0,this.height=0}return e}(),QEe={},lr=function(e){vn(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new JEe},t.prototype.buildPath=function(r,n){var i,s,a,o;if(this.subPixelOptimize){var l=pte(QEe,n,this.style);i=l.x,s=l.y,a=l.width,o=l.height,l.r=n.r,n=l}else i=n.x,s=n.y,a=n.width,o=n.height;n.r?XEe(r,n):r.rect(i,s,a,o)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(Vt);lr.prototype.type="rect";var J8={fill:"#000"},Q8=2,eTe={style:rt({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},xN.style)},pr=function(e){vn(t,e);function t(r){var n=e.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=J8,n.attr(r),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var n=this._children[r];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},t.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):e.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(r){var n=this.innerTransformable;return n?n.getLocalTransform(r):e.prototype.getLocalTransform.call(this,r)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,nTe(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(r){e.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=r},t.prototype.removeSelfFromZr=function(r){e.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new At(0,0,0,0),n=this._children,i=[],s=null,a=0;a<n.length;a++){var o=n[a],l=o.getBoundingRect(),c=o.getLocalTransform(i);c?(r.copy(l),r.applyTransform(c),s=s||r.clone(),s.union(r)):(s=s||l.clone(),s.union(l))}this._rect=s||r}return this._rect},t.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||J8},t.prototype.setTextContent=function(r){},t.prototype._mergeStyle=function(r,n){if(!n)return r;var i=n.rich,s=r.rich||i&&{};return fe(r,n),i&&s?(this._mergeRich(s,i),r.rich=s):s&&(r.rich=s),r},t.prototype._mergeRich=function(r,n){for(var i=Zt(n),s=0;s<i.length;s++){var a=i[s];r[a]=r[a]||{},fe(r[a],n[a])}},t.prototype.getAnimationStyleProps=function(){return eTe},t.prototype._getOrCreateChild=function(r){var n=this._children[this._childCursor];return(!n||!(n instanceof r))&&(n=new r),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},t.prototype._updatePlainTexts=function(){var r=this.style,n=r.font||Ud,i=r.padding,s=aU(r),a=CEe(s,r),o=oj(r),l=!!r.backgroundColor,c=a.outerHeight,d=a.outerWidth,h=a.contentWidth,f=a.lines,p=a.lineHeight,g=this._defaultStyle;this.isTruncated=!!a.isTruncated;var v=r.x||0,m=r.y||0,y=r.align||g.align||"left",x=r.verticalAlign||g.verticalAlign||"top",_=v,b=Pg(m,a.contentHeight,x);if(o||i){var w=Xy(v,d,y),S=Pg(m,c,x);o&&this._renderBackground(r,r,w,S,d,c)}b+=p/2,i&&(_=sU(v,y,i),x==="top"?b+=i[0]:x==="bottom"&&(b-=i[2]));for(var k=0,C=!1,E=iU("fill"in r?r.fill:(C=!0,g.fill)),T=nU("stroke"in r?r.stroke:!l&&(!g.autoStroke||C)?(k=Q8,g.stroke):null),N=r.textShadowBlur>0,R=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll"),P=a.calculatedLineHeight,D=0;D<f.length;D++){var $=this._getOrCreateChild(Km),L=$.createStyle();$.useStyle(L),L.text=f[D],L.x=_,L.y=b,L.textAlign=y,L.textBaseline="middle",L.opacity=r.opacity,L.strokeFirst=!0,N&&(L.shadowBlur=r.textShadowBlur||0,L.shadowColor=r.textShadowColor||"transparent",L.shadowOffsetX=r.textShadowOffsetX||0,L.shadowOffsetY=r.textShadowOffsetY||0),L.stroke=T,L.fill=E,T&&(L.lineWidth=r.lineWidth||k,L.lineDash=r.lineDash,L.lineDashOffset=r.lineDashOffset||0),L.font=n,tU(L,r),b+=p,R&&$.setBoundingRect(new At(Xy(L.x,h,L.textAlign),Pg(L.y,P,L.textBaseline),h,P))}},t.prototype._updateRichTexts=function(){var r=this.style,n=aU(r),i=TEe(n,r),s=i.width,a=i.outerWidth,o=i.outerHeight,l=r.padding,c=r.x||0,d=r.y||0,h=this._defaultStyle,f=r.align||h.align,p=r.verticalAlign||h.verticalAlign;this.isTruncated=!!i.isTruncated;var g=Xy(c,a,f),v=Pg(d,o,p),m=g,y=v;l&&(m+=l[3],y+=l[0]);var x=m+s;oj(r)&&this._renderBackground(r,r,g,v,a,o);for(var _=!!r.backgroundColor,b=0;b<i.lines.length;b++){for(var w=i.lines[b],S=w.tokens,k=S.length,C=w.lineHeight,E=w.width,T=0,N=m,R=x,P=k-1,D=void 0;T<k&&(D=S[T],!D.align||D.align==="left");)this._placeToken(D,r,C,y,N,"left",_),E-=D.width,N+=D.width,T++;for(;P>=0&&(D=S[P],D.align==="right");)this._placeToken(D,r,C,y,R,"right",_),E-=D.width,R-=D.width,P--;for(N+=(s-(N-m)-(x-R)-E)/2;T<=P;)D=S[T],this._placeToken(D,r,C,y,N+D.width/2,"center",_),N+=D.width,T++;y+=C}},t.prototype._placeToken=function(r,n,i,s,a,o,l){var c=n.rich[r.styleName]||{};c.text=r.text;var d=r.verticalAlign,h=s+i/2;d==="top"?h=s+r.height/2:d==="bottom"&&(h=s+i-r.height/2);var f=!r.isLineHolder&&oj(c);f&&this._renderBackground(c,n,o==="right"?a-r.width:o==="center"?a-r.width/2:a,h-r.height/2,r.width,r.height);var p=!!c.backgroundColor,g=r.textPadding;g&&(a=sU(a,o,g),h-=r.height/2-g[0]-r.innerHeight/2);var v=this._getOrCreateChild(Km),m=v.createStyle();v.useStyle(m);var y=this._defaultStyle,x=!1,_=0,b=iU("fill"in c?c.fill:"fill"in n?n.fill:(x=!0,y.fill)),w=nU("stroke"in c?c.stroke:"stroke"in n?n.stroke:!p&&!l&&(!y.autoStroke||x)?(_=Q8,y.stroke):null),S=c.textShadowBlur>0||n.textShadowBlur>0;m.text=r.text,m.x=a,m.y=h,S&&(m.shadowBlur=c.textShadowBlur||n.textShadowBlur||0,m.shadowColor=c.textShadowColor||n.textShadowColor||"transparent",m.shadowOffsetX=c.textShadowOffsetX||n.textShadowOffsetX||0,m.shadowOffsetY=c.textShadowOffsetY||n.textShadowOffsetY||0),m.textAlign=o,m.textBaseline="middle",m.font=r.font||Ud,m.opacity=Zl(c.opacity,n.opacity,1),tU(m,c),w&&(m.lineWidth=Zl(c.lineWidth,n.lineWidth,_),m.lineDash=mt(c.lineDash,n.lineDash),m.lineDashOffset=n.lineDashOffset||0,m.stroke=w),b&&(m.fill=b);var k=r.contentWidth,C=r.contentHeight;v.setBoundingRect(new At(Xy(m.x,k,m.textAlign),Pg(m.y,C,m.textBaseline),k,C))},t.prototype._renderBackground=function(r,n,i,s,a,o){var l=r.backgroundColor,c=r.borderWidth,d=r.borderColor,h=l&&l.image,f=l&&!h,p=r.borderRadius,g=this,v,m;if(f||r.lineHeight||c&&d){v=this._getOrCreateChild(lr),v.useStyle(v.createStyle()),v.style.fill=null;var y=v.shape;y.x=i,y.y=s,y.width=a,y.height=o,y.r=p,v.dirtyShape()}if(f){var x=v.style;x.fill=l||null,x.fillOpacity=mt(r.fillOpacity,1)}else if(h){m=this._getOrCreateChild(Oi),m.onload=function(){g.dirtyStyle()};var _=m.style;_.image=l.image,_.x=i,_.y=s,_.width=a,_.height=o}if(c&&d){var x=v.style;x.lineWidth=c,x.stroke=d,x.strokeOpacity=mt(r.strokeOpacity,1),x.lineDash=r.borderDash,x.lineDashOffset=r.borderDashOffset||0,v.strokeContainThreshold=0,v.hasFill()&&v.hasStroke()&&(x.strokeFirst=!0,x.lineWidth*=2)}var b=(v||m).style;b.shadowBlur=r.shadowBlur||0,b.shadowColor=r.shadowColor||"transparent",b.shadowOffsetX=r.shadowOffsetX||0,b.shadowOffsetY=r.shadowOffsetY||0,b.opacity=Zl(r.opacity,n.opacity,1)},t.makeFont=function(r){var n="";return mte(r)&&(n=[r.fontStyle,r.fontWeight,gte(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),n&&Vo(n)||r.textFont||r.font},t}(_o),tTe={left:!0,right:1,center:1},rTe={top:1,bottom:1,middle:1},eU=["fontStyle","fontWeight","fontSize","fontFamily"];function gte(e){return typeof e=="string"&&(e.indexOf("px")!==-1||e.indexOf("rem")!==-1||e.indexOf("em")!==-1)?e:isNaN(+e)?K3+"px":e+"px"}function tU(e,t){for(var r=0;r<eU.length;r++){var n=eU[r],i=t[n];i!=null&&(e[n]=i)}}function mte(e){return e.fontSize!=null||e.fontFamily||e.fontWeight}function nTe(e){return rU(e),V(e.rich,rU),e}function rU(e){if(e){e.font=pr.makeFont(e);var t=e.align;t==="middle"&&(t="center"),e.align=t==null||tTe[t]?t:"left";var r=e.verticalAlign;r==="center"&&(r="middle"),e.verticalAlign=r==null||rTe[r]?r:"top";var n=e.padding;n&&(e.padding=t5(e.padding))}}function nU(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function iU(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function sU(e,t,r){return t==="right"?e-r[1]:t==="center"?e+r[3]/2-r[1]/2:e+r[3]}function aU(e){var t=e.text;return t!=null&&(t+=""),t}function oj(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}var ft=cr(),qP=function(e,t,r,n){if(n){var i=ft(n);i.dataIndex=r,i.dataType=t,i.seriesIndex=e,i.ssrType="chart",n.type==="group"&&n.traverse(function(s){var a=ft(s);a.seriesIndex=e,a.dataIndex=r,a.dataType=t,a.ssrType="chart"})}},oU=1,lU={},vte=cr(),p5=cr(),g5=0,Yb=1,bN=2,$s=["emphasis","blur","select"],P_=["normal","emphasis","blur","select"],Dv=10,iTe=9,Bf="highlight",qC="downplay",Ix="select",YC="unselect",Mx="toggleSelect";function ng(e){return e!=null&&e!=="none"}function wN(e,t,r){e.onHoverStateChange&&(e.hoverState||0)!==r&&e.onHoverStateChange(t),e.hoverState=r}function yte(e){wN(e,"emphasis",bN)}function xte(e){e.hoverState===bN&&wN(e,"normal",g5)}function m5(e){wN(e,"blur",Yb)}function _te(e){e.hoverState===Yb&&wN(e,"normal",g5)}function sTe(e){e.selected=!0}function aTe(e){e.selected=!1}function cU(e,t,r){t(e,r)}function bu(e,t,r){cU(e,t,r),e.isGroup&&e.traverse(function(n){cU(n,t,r)})}function aE(e,t){switch(t){case"emphasis":e.hoverState=bN;break;case"normal":e.hoverState=g5;break;case"blur":e.hoverState=Yb;break;case"select":e.selected=!0}}function oTe(e,t,r,n){for(var i=e.style,s={},a=0;a<t.length;a++){var o=t[a],l=i[o];s[o]=l??(n&&n[o])}for(var a=0;a<e.animators.length;a++){var c=e.animators[a];c.__fromStateTransition&&c.__fromStateTransition.indexOf(r)<0&&c.targetName==="style"&&c.saveTo(s,t)}return s}function lTe(e,t,r,n){var i=r&&Pt(r,"select")>=0,s=!1;if(e instanceof Vt){var a=vte(e),o=i&&a.selectFill||a.normalFill,l=i&&a.selectStroke||a.normalStroke;if(ng(o)||ng(l)){n=n||{};var c=n.style||{};c.fill==="inherit"?(s=!0,n=fe({},n),c=fe({},c),c.fill=o):!ng(c.fill)&&ng(o)?(s=!0,n=fe({},n),c=fe({},c),c.fill=IP(o)):!ng(c.stroke)&&ng(l)&&(s||(n=fe({},n),c=fe({},c)),c.stroke=IP(l)),n.style=c}}if(n&&n.z2==null){s||(n=fe({},n));var d=e.z2EmphasisLift;n.z2=e.z2+(d??Dv)}return n}function cTe(e,t,r){if(r&&r.z2==null){r=fe({},r);var n=e.z2SelectLift;r.z2=e.z2+(n??iTe)}return r}function uTe(e,t,r){var n=Pt(e.currentStates,t)>=0,i=e.style.opacity,s=n?null:oTe(e,["opacity"],t,{opacity:1});r=r||{};var a=r.style||{};return a.opacity==null&&(r=fe({},r),a=fe({opacity:n?i:s.opacity*.1},a),r.style=a),r}function lj(e,t){var r=this.states[e];if(this.style){if(e==="emphasis")return lTe(this,e,t,r);if(e==="blur")return uTe(this,e,r);if(e==="select")return cTe(this,e,r)}return r}function ap(e){e.stateProxy=lj;var t=e.getTextContent(),r=e.getTextGuideLine();t&&(t.stateProxy=lj),r&&(r.stateProxy=lj)}function uU(e,t){!Cte(e,t)&&!e.__highByOuter&&bu(e,yte)}function dU(e,t){!Cte(e,t)&&!e.__highByOuter&&bu(e,xte)}function lu(e,t){e.__highByOuter|=1<<(t||0),bu(e,yte)}function cu(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&bu(e,xte)}function bte(e){bu(e,m5)}function v5(e){bu(e,_te)}function wte(e){bu(e,sTe)}function Ste(e){bu(e,aTe)}function Cte(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function kte(e){var t=e.getModel(),r=[],n=[];t.eachComponent(function(i,s){var a=p5(s),o=i==="series",l=o?e.getViewOfSeriesModel(s):e.getViewOfComponentModel(s);!o&&n.push(l),a.isBlured&&(l.group.traverse(function(c){_te(c)}),o&&r.push(s)),a.isBlured=!1}),V(n,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(r,!1,t)})}function YP(e,t,r,n){var i=n.getModel();r=r||"coordinateSystem";function s(c,d){for(var h=0;h<d.length;h++){var f=c.getItemGraphicEl(d[h]);f&&v5(f)}}if(e!=null&&!(!t||t==="none")){var a=i.getSeriesByIndex(e),o=a.coordinateSystem;o&&o.master&&(o=o.master);var l=[];i.eachSeries(function(c){var d=a===c,h=c.coordinateSystem;h&&h.master&&(h=h.master);var f=h&&o?h===o:d;if(!(r==="series"&&!d||r==="coordinateSystem"&&!f||t==="series"&&d)){var p=n.getViewOfSeriesModel(c);if(p.group.traverse(function(m){m.__highByOuter&&d&&t==="self"||m5(m)}),ds(t))s(c.getData(),t);else if(st(t))for(var g=Zt(t),v=0;v<g.length;v++)s(c.getData(g[v]),t[g[v]]);l.push(c),p5(c).isBlured=!0}}),i.eachComponent(function(c,d){if(c!=="series"){var h=n.getViewOfComponentModel(d);h&&h.toggleBlurSeries&&h.toggleBlurSeries(l,!0,i)}})}}function KP(e,t,r){if(!(e==null||t==null)){var n=r.getModel().getComponent(e,t);if(n){p5(n).isBlured=!0;var i=r.getViewOfComponentModel(n);!i||!i.focusBlurEnabled||i.group.traverse(function(s){m5(s)})}}}function dTe(e,t,r){var n=e.seriesIndex,i=e.getData(t.dataType);if(i){var s=ip(i,t);s=(ve(s)?s[0]:s)||0;var a=i.getItemGraphicEl(s);if(!a)for(var o=i.count(),l=0;!a&&l<o;)a=i.getItemGraphicEl(l++);if(a){var c=ft(a);YP(n,c.focus,c.blurScope,r)}else{var d=e.get(["emphasis","focus"]),h=e.get(["emphasis","blurScope"]);d!=null&&YP(n,d,h,r)}}}function y5(e,t,r,n){var i={focusSelf:!1,dispatchers:null};if(e==null||e==="series"||t==null||r==null)return i;var s=n.getModel().getComponent(e,t);if(!s)return i;var a=n.getViewOfComponentModel(s);if(!a||!a.findHighDownDispatchers)return i;for(var o=a.findHighDownDispatchers(r),l,c=0;c<o.length;c++)if(ft(o[c]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:o}}function hTe(e,t,r){var n=ft(e),i=y5(n.componentMainType,n.componentIndex,n.componentHighDownName,r),s=i.dispatchers,a=i.focusSelf;s?(a&&KP(n.componentMainType,n.componentIndex,r),V(s,function(o){return uU(o,t)})):(YP(n.seriesIndex,n.focus,n.blurScope,r),n.focus==="self"&&KP(n.componentMainType,n.componentIndex,r),uU(e,t))}function fTe(e,t,r){kte(r);var n=ft(e),i=y5(n.componentMainType,n.componentIndex,n.componentHighDownName,r).dispatchers;i?V(i,function(s){return dU(s,t)}):dU(e,t)}function pTe(e,t,r){if(XP(t)){var n=t.dataType,i=e.getData(n),s=ip(i,t);ve(s)||(s=[s]),e[t.type===Mx?"toggleSelect":t.type===Ix?"select":"unselect"](s,n)}}function hU(e){var t=e.getAllData();V(t,function(r){var n=r.data,i=r.type;n.eachItemGraphicEl(function(s,a){e.isSelected(a,i)?wte(s):Ste(s)})})}function gTe(e){var t=[];return e.eachSeries(function(r){var n=r.getAllData();V(n,function(i){i.data;var s=i.type,a=r.getSelectedDataIndices();if(a.length>0){var o={dataIndex:a,seriesIndex:r.seriesIndex};s!=null&&(o.dataType=s),t.push(o)}})}),t}function Ff(e,t,r){wf(e,!0),bu(e,ap),ZP(e,t,r)}function mTe(e){wf(e,!1)}function Dn(e,t,r,n){n?mTe(e):Ff(e,t,r)}function ZP(e,t,r){var n=ft(e);t!=null?(n.focus=t,n.blurScope=r):n.focus&&(n.focus=null)}var fU=["emphasis","blur","select"],vTe={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function qi(e,t,r,n){r=r||"itemStyle";for(var i=0;i<fU.length;i++){var s=fU[i],a=t.getModel([s,r]),o=e.ensureState(s);o.style=n?n(a):a[vTe[r]]()}}function wf(e,t){var r=t===!1,n=e;e.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=e.highDownSilentOnTouch),(!r||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!r)}function L_(e){return!!(e&&e.__highDownDispatcher)}function yTe(e,t,r){var n=ft(e);n.componentMainType=t.mainType,n.componentIndex=t.componentIndex,n.componentHighDownName=r}function xTe(e){var t=lU[e];return t==null&&oU<=32&&(t=lU[e]=oU++),t}function XP(e){var t=e.type;return t===Ix||t===YC||t===Mx}function pU(e){var t=e.type;return t===Bf||t===qC}function _Te(e){var t=vte(e);t.normalFill=e.style.fill,t.normalStroke=e.style.stroke;var r=e.states.select||{};t.selectFill=r.style&&r.style.fill||null,t.selectStroke=r.style&&r.style.stroke||null}var ig=oc.CMD,bTe=[[],[],[]],gU=Math.sqrt,wTe=Math.atan2;function Ete(e,t){if(t){var r=e.data,n=e.len(),i,s,a,o,l,c,d=ig.M,h=ig.C,f=ig.L,p=ig.R,g=ig.A,v=ig.Q;for(a=0,o=0;a<n;){switch(i=r[a++],o=a,s=0,i){case d:s=1;break;case f:s=1;break;case h:s=3;break;case v:s=2;break;case g:var m=t[4],y=t[5],x=gU(t[0]*t[0]+t[1]*t[1]),_=gU(t[2]*t[2]+t[3]*t[3]),b=wTe(-t[1]/_,t[0]/x);r[a]*=x,r[a++]+=m,r[a]*=_,r[a++]+=y,r[a++]*=x,r[a++]*=_,r[a++]+=b,r[a++]+=b,a+=2,o=a;break;case p:c[0]=r[a++],c[1]=r[a++],Vi(c,c,t),r[o++]=c[0],r[o++]=c[1],c[0]+=r[a++],c[1]+=r[a++],Vi(c,c,t),r[o++]=c[0],r[o++]=c[1]}for(l=0;l<s;l++){var w=bTe[l];w[0]=r[a++],w[1]=r[a++],Vi(w,w,t),r[o++]=w[0],r[o++]=w[1]}}e.increaseVersion()}}var cj=Math.sqrt,W1=Math.sin,G1=Math.cos,oy=Math.PI;function mU(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function JP(e,t){return(e[0]*t[0]+e[1]*t[1])/(mU(e)*mU(t))}function vU(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(JP(e,t))}function yU(e,t,r,n,i,s,a,o,l,c,d){var h=l*(oy/180),f=G1(h)*(e-r)/2+W1(h)*(t-n)/2,p=-1*W1(h)*(e-r)/2+G1(h)*(t-n)/2,g=f*f/(a*a)+p*p/(o*o);g>1&&(a*=cj(g),o*=cj(g));var v=(i===s?-1:1)*cj((a*a*(o*o)-a*a*(p*p)-o*o*(f*f))/(a*a*(p*p)+o*o*(f*f)))||0,m=v*a*p/o,y=v*-o*f/a,x=(e+r)/2+G1(h)*m-W1(h)*y,_=(t+n)/2+W1(h)*m+G1(h)*y,b=vU([1,0],[(f-m)/a,(p-y)/o]),w=[(f-m)/a,(p-y)/o],S=[(-1*f-m)/a,(-1*p-y)/o],k=vU(w,S);if(JP(w,S)<=-1&&(k=oy),JP(w,S)>=1&&(k=0),k<0){var C=Math.round(k/oy*1e6)/1e6;k=oy*2+C%2*oy}d.addData(c,x,_,a,o,b,k,h,s)}var STe=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,CTe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function kTe(e){var t=new oc;if(!e)return t;var r=0,n=0,i=r,s=n,a,o=oc.CMD,l=e.match(STe);if(!l)return t;for(var c=0;c<l.length;c++){for(var d=l[c],h=d.charAt(0),f=void 0,p=d.match(CTe)||[],g=p.length,v=0;v<g;v++)p[v]=parseFloat(p[v]);for(var m=0;m<g;){var y=void 0,x=void 0,_=void 0,b=void 0,w=void 0,S=void 0,k=void 0,C=r,E=n,T=void 0,N=void 0;switch(h){case"l":r+=p[m++],n+=p[m++],f=o.L,t.addData(f,r,n);break;case"L":r=p[m++],n=p[m++],f=o.L,t.addData(f,r,n);break;case"m":r+=p[m++],n+=p[m++],f=o.M,t.addData(f,r,n),i=r,s=n,h="l";break;case"M":r=p[m++],n=p[m++],f=o.M,t.addData(f,r,n),i=r,s=n,h="L";break;case"h":r+=p[m++],f=o.L,t.addData(f,r,n);break;case"H":r=p[m++],f=o.L,t.addData(f,r,n);break;case"v":n+=p[m++],f=o.L,t.addData(f,r,n);break;case"V":n=p[m++],f=o.L,t.addData(f,r,n);break;case"C":f=o.C,t.addData(f,p[m++],p[m++],p[m++],p[m++],p[m++],p[m++]),r=p[m-2],n=p[m-1];break;case"c":f=o.C,t.addData(f,p[m++]+r,p[m++]+n,p[m++]+r,p[m++]+n,p[m++]+r,p[m++]+n),r+=p[m-2],n+=p[m-1];break;case"S":y=r,x=n,T=t.len(),N=t.data,a===o.C&&(y+=r-N[T-4],x+=n-N[T-3]),f=o.C,C=p[m++],E=p[m++],r=p[m++],n=p[m++],t.addData(f,y,x,C,E,r,n);break;case"s":y=r,x=n,T=t.len(),N=t.data,a===o.C&&(y+=r-N[T-4],x+=n-N[T-3]),f=o.C,C=r+p[m++],E=n+p[m++],r+=p[m++],n+=p[m++],t.addData(f,y,x,C,E,r,n);break;case"Q":C=p[m++],E=p[m++],r=p[m++],n=p[m++],f=o.Q,t.addData(f,C,E,r,n);break;case"q":C=p[m++]+r,E=p[m++]+n,r+=p[m++],n+=p[m++],f=o.Q,t.addData(f,C,E,r,n);break;case"T":y=r,x=n,T=t.len(),N=t.data,a===o.Q&&(y+=r-N[T-4],x+=n-N[T-3]),r=p[m++],n=p[m++],f=o.Q,t.addData(f,y,x,r,n);break;case"t":y=r,x=n,T=t.len(),N=t.data,a===o.Q&&(y+=r-N[T-4],x+=n-N[T-3]),r+=p[m++],n+=p[m++],f=o.Q,t.addData(f,y,x,r,n);break;case"A":_=p[m++],b=p[m++],w=p[m++],S=p[m++],k=p[m++],C=r,E=n,r=p[m++],n=p[m++],f=o.A,yU(C,E,r,n,S,k,_,b,w,f,t);break;case"a":_=p[m++],b=p[m++],w=p[m++],S=p[m++],k=p[m++],C=r,E=n,r+=p[m++],n+=p[m++],f=o.A,yU(C,E,r,n,S,k,_,b,w,f,t);break}}(h==="z"||h==="Z")&&(f=o.Z,t.addData(f),r=i,n=s),a=f}return t.toStatic(),t}var Tte=function(e){vn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.applyTransform=function(r){},t}(Vt);function Nte(e){return e.setData!=null}function Ate(e,t){var r=kTe(e),n=fe({},t);return n.buildPath=function(i){if(Nte(i)){i.setData(r.data);var s=i.getContext();s&&i.rebuildPath(s,1)}else{var s=i;r.rebuildPath(s,1)}},n.applyTransform=function(i){Ete(r,i),this.dirtyShape()},n}function jte(e,t){return new Tte(Ate(e,t))}function ETe(e,t){var r=Ate(e,t),n=function(i){vn(s,i);function s(a){var o=i.call(this,a)||this;return o.applyTransform=r.applyTransform,o.buildPath=r.buildPath,o}return s}(Tte);return n}function TTe(e,t){for(var r=[],n=e.length,i=0;i<n;i++){var s=e[i];r.push(s.getUpdatedPathProxy(!0))}var a=new Vt(t);return a.createPathProxy(),a.buildPath=function(o){if(Nte(o)){o.appendPath(r);var l=o.getContext();l&&o.rebuildPath(l,1)}},a}function x5(e,t){t=t||{};var r=new Vt;return e.shape&&r.setShape(e.shape),r.setStyle(e.style),t.bakeTransform?Ete(r.path,e.getComputedTransform()):t.toLocal?r.setLocalTransform(e.getComputedTransform()):r.copyTransform(e),r.buildPath=e.buildPath,r.applyTransform=r.applyTransform,r.z=e.z,r.z2=e.z2,r.zlevel=e.zlevel,r}var NTe=function(){function e(){this.cx=0,this.cy=0,this.r=0}return e}(),wu=function(e){vn(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new NTe},t.prototype.buildPath=function(r,n){r.moveTo(n.cx+n.r,n.cy),r.arc(n.cx,n.cy,n.r,0,Math.PI*2)},t}(Vt);wu.prototype.type="circle";var ATe=function(){function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return e}(),SN=function(e){vn(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new ATe},t.prototype.buildPath=function(r,n){var i=.5522848,s=n.cx,a=n.cy,o=n.rx,l=n.ry,c=o*i,d=l*i;r.moveTo(s-o,a),r.bezierCurveTo(s-o,a-d,s-c,a-l,s,a-l),r.bezierCurveTo(s+c,a-l,s+o,a-d,s+o,a),r.bezierCurveTo(s+o,a+d,s+c,a+l,s,a+l),r.bezierCurveTo(s-c,a+l,s-o,a+d,s-o,a),r.closePath()},t}(Vt);SN.prototype.type="ellipse";var Rte=Math.PI,uj=Rte*2,Dh=Math.sin,sg=Math.cos,jTe=Math.acos,es=Math.atan2,xU=Math.abs,Px=Math.sqrt,Jy=Math.max,Sl=Math.min,Ro=1e-4;function RTe(e,t,r,n,i,s,a,o){var l=r-e,c=n-t,d=a-i,h=o-s,f=h*l-d*c;if(!(f*f<Ro))return f=(d*(t-s)-h*(e-i))/f,[e+f*l,t+f*c]}function q1(e,t,r,n,i,s,a){var o=e-r,l=t-n,c=(a?s:-s)/Px(o*o+l*l),d=c*l,h=-c*o,f=e+d,p=t+h,g=r+d,v=n+h,m=(f+g)/2,y=(p+v)/2,x=g-f,_=v-p,b=x*x+_*_,w=i-s,S=f*v-g*p,k=(_<0?-1:1)*Px(Jy(0,w*w*b-S*S)),C=(S*_-x*k)/b,E=(-S*x-_*k)/b,T=(S*_+x*k)/b,N=(-S*x+_*k)/b,R=C-m,P=E-y,D=T-m,$=N-y;return R*R+P*P>D*D+$*$&&(C=T,E=N),{cx:C,cy:E,x0:-d,y0:-h,x1:C*(i/w-1),y1:E*(i/w-1)}}function ITe(e){var t;if(ve(e)){var r=e.length;if(!r)return e;r===1?t=[e[0],e[0],0,0]:r===2?t=[e[0],e[0],e[1],e[1]]:r===3?t=e.concat(e[2]):t=e}else t=[e,e,e,e];return t}function MTe(e,t){var r,n=Jy(t.r,0),i=Jy(t.r0||0,0),s=n>0,a=i>0;if(!(!s&&!a)){if(s||(n=i,i=0),i>n){var o=n;n=i,i=o}var l=t.startAngle,c=t.endAngle;if(!(isNaN(l)||isNaN(c))){var d=t.cx,h=t.cy,f=!!t.clockwise,p=xU(c-l),g=p>uj&&p%uj;if(g>Ro&&(p=g),!(n>Ro))e.moveTo(d,h);else if(p>uj-Ro)e.moveTo(d+n*sg(l),h+n*Dh(l)),e.arc(d,h,n,l,c,!f),i>Ro&&(e.moveTo(d+i*sg(c),h+i*Dh(c)),e.arc(d,h,i,c,l,f));else{var v=void 0,m=void 0,y=void 0,x=void 0,_=void 0,b=void 0,w=void 0,S=void 0,k=void 0,C=void 0,E=void 0,T=void 0,N=void 0,R=void 0,P=void 0,D=void 0,$=n*sg(l),L=n*Dh(l),O=i*sg(c),j=i*Dh(c),M=p>Ro;if(M){var I=t.cornerRadius;I&&(r=ITe(I),v=r[0],m=r[1],y=r[2],x=r[3]);var z=xU(n-i)/2;if(_=Sl(z,y),b=Sl(z,x),w=Sl(z,v),S=Sl(z,m),E=k=Jy(_,b),T=C=Jy(w,S),(k>Ro||C>Ro)&&(N=n*sg(c),R=n*Dh(c),P=i*sg(l),D=i*Dh(l),p<Rte)){var U=RTe($,L,P,D,N,R,O,j);if(U){var F=$-U[0],G=L-U[1],Y=N-U[0],Z=R-U[1],B=1/Dh(jTe((F*Y+G*Z)/(Px(F*F+G*G)*Px(Y*Y+Z*Z)))/2),W=Px(U[0]*U[0]+U[1]*U[1]);E=Sl(k,(n-W)/(B+1)),T=Sl(C,(i-W)/(B-1))}}}if(!M)e.moveTo(d+$,h+L);else if(E>Ro){var K=Sl(y,E),X=Sl(x,E),Q=q1(P,D,$,L,n,K,f),re=q1(N,R,O,j,n,X,f);e.moveTo(d+Q.cx+Q.x0,h+Q.cy+Q.y0),E<k&&K===X?e.arc(d+Q.cx,h+Q.cy,E,es(Q.y0,Q.x0),es(re.y0,re.x0),!f):(K>0&&e.arc(d+Q.cx,h+Q.cy,K,es(Q.y0,Q.x0),es(Q.y1,Q.x1),!f),e.arc(d,h,n,es(Q.cy+Q.y1,Q.cx+Q.x1),es(re.cy+re.y1,re.cx+re.x1),!f),X>0&&e.arc(d+re.cx,h+re.cy,X,es(re.y1,re.x1),es(re.y0,re.x0),!f))}else e.moveTo(d+$,h+L),e.arc(d,h,n,l,c,!f);if(!(i>Ro)||!M)e.lineTo(d+O,h+j);else if(T>Ro){var K=Sl(v,T),X=Sl(m,T),Q=q1(O,j,N,R,i,-X,f),re=q1($,L,P,D,i,-K,f);e.lineTo(d+Q.cx+Q.x0,h+Q.cy+Q.y0),T<C&&K===X?e.arc(d+Q.cx,h+Q.cy,T,es(Q.y0,Q.x0),es(re.y0,re.x0),!f):(X>0&&e.arc(d+Q.cx,h+Q.cy,X,es(Q.y0,Q.x0),es(Q.y1,Q.x1),!f),e.arc(d,h,i,es(Q.cy+Q.y1,Q.cx+Q.x1),es(re.cy+re.y1,re.cx+re.x1),f),K>0&&e.arc(d+re.cx,h+re.cy,K,es(re.y1,re.x1),es(re.y0,re.x0),!f))}else e.lineTo(d+O,h+j),e.arc(d,h,i,c,l,f)}e.closePath()}}}var PTe=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return e}(),Bs=function(e){vn(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new PTe},t.prototype.buildPath=function(r,n){MTe(r,n)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(Vt);Bs.prototype.type="sector";var LTe=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return e}(),Kb=function(e){vn(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new LTe},t.prototype.buildPath=function(r,n){var i=n.cx,s=n.cy,a=Math.PI*2;r.moveTo(i+n.r,s),r.arc(i,s,n.r,0,a,!1),r.moveTo(i+n.r0,s),r.arc(i,s,n.r0,0,a,!0)},t}(Vt);Kb.prototype.type="ring";function DTe(e,t,r,n){var i=[],s=[],a=[],o=[],l,c,d,h;if(n){d=[1/0,1/0],h=[-1/0,-1/0];for(var f=0,p=e.length;f<p;f++)hd(d,d,e[f]),fd(h,h,e[f]);hd(d,d,n[0]),fd(h,h,n[1])}for(var f=0,p=e.length;f<p;f++){var g=e[f];if(r)l=e[f?f-1:p-1],c=e[(f+1)%p];else if(f===0||f===p-1){i.push(Yc(e[f]));continue}else l=e[f-1],c=e[f+1];_f(s,c,l),BC(s,s,t);var v=SP(g,l),m=SP(g,c),y=v+m;y!==0&&(v/=y,m/=y),BC(a,s,-v),BC(o,s,m);var x=g8([],g,a),_=g8([],g,o);n&&(fd(x,x,d),hd(x,x,h),fd(_,_,d),hd(_,_,h)),i.push(x),i.push(_)}return r&&i.push(i.shift()),i}function Ite(e,t,r){var n=t.smooth,i=t.points;if(i&&i.length>=2){if(n){var s=DTe(i,n,r,t.smoothConstraint);e.moveTo(i[0][0],i[0][1]);for(var a=i.length,o=0;o<(r?a:a-1);o++){var l=s[o*2],c=s[o*2+1],d=i[(o+1)%a];e.bezierCurveTo(l[0],l[1],c[0],c[1],d[0],d[1])}}else{e.moveTo(i[0][0],i[0][1]);for(var o=1,h=i.length;o<h;o++)e.lineTo(i[o][0],i[o][1])}r&&e.closePath()}}var OTe=function(){function e(){this.points=null,this.smooth=0,this.smoothConstraint=null}return e}(),Fs=function(e){vn(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new OTe},t.prototype.buildPath=function(r,n){Ite(r,n,!0)},t}(Vt);Fs.prototype.type="polygon";var $Te=function(){function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return e}(),Vs=function(e){vn(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new $Te},t.prototype.buildPath=function(r,n){Ite(r,n,!1)},t}(Vt);Vs.prototype.type="polyline";var BTe={},FTe=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}(),wi=function(e){vn(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new FTe},t.prototype.buildPath=function(r,n){var i,s,a,o;if(this.subPixelOptimize){var l=fte(BTe,n,this.style);i=l.x1,s=l.y1,a=l.x2,o=l.y2}else i=n.x1,s=n.y1,a=n.x2,o=n.y2;var c=n.percent;c!==0&&(r.moveTo(i,s),c<1&&(a=i*(1-c)+a*c,o=s*(1-c)+o*c),r.lineTo(a,o))},t.prototype.pointAt=function(r){var n=this.shape;return[n.x1*(1-r)+n.x2*r,n.y1*(1-r)+n.y2*r]},t}(Vt);wi.prototype.type="line";var Gs=[],zTe=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return e}();function _U(e,t,r){var n=e.cpx2,i=e.cpy2;return n!=null||i!=null?[(r?T8:yi)(e.x1,e.cpx1,e.cpx2,e.x2,t),(r?T8:yi)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(r?NP:Ii)(e.x1,e.cpx1,e.x2,t),(r?NP:Ii)(e.y1,e.cpy1,e.y2,t)]}var Zb=function(e){vn(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new zTe},t.prototype.buildPath=function(r,n){var i=n.x1,s=n.y1,a=n.x2,o=n.y2,l=n.cpx1,c=n.cpy1,d=n.cpx2,h=n.cpy2,f=n.percent;f!==0&&(r.moveTo(i,s),d==null||h==null?(f<1&&(A_(i,l,a,f,Gs),l=Gs[1],a=Gs[2],A_(s,c,o,f,Gs),c=Gs[1],o=Gs[2]),r.quadraticCurveTo(l,c,a,o)):(f<1&&(Vd(i,l,d,a,f,Gs),l=Gs[1],d=Gs[2],a=Gs[3],Vd(s,c,h,o,f,Gs),c=Gs[1],h=Gs[2],o=Gs[3]),r.bezierCurveTo(l,c,d,h,a,o)))},t.prototype.pointAt=function(r){return _U(this.shape,r,!1)},t.prototype.tangentAt=function(r){var n=_U(this.shape,r,!0);return Mv(n,n)},t}(Vt);Zb.prototype.type="bezier-curve";var UTe=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),CN=function(e){vn(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new UTe},t.prototype.buildPath=function(r,n){var i=n.cx,s=n.cy,a=Math.max(n.r,0),o=n.startAngle,l=n.endAngle,c=n.clockwise,d=Math.cos(o),h=Math.sin(o);r.moveTo(d*a+i,h*a+s),r.arc(i,s,a,o,l,!c)},t}(Vt);CN.prototype.type="arc";var _5=function(e){vn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="compound",r}return t.prototype._updatePathDirty=function(){for(var r=this.shape.paths,n=this.shapeChanged(),i=0;i<r.length;i++)n=n||r[i].shapeChanged();n&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],n=this.getGlobalScale(),i=0;i<r.length;i++)r[i].path||r[i].createPathProxy(),r[i].path.setScale(n[0],n[1],r[i].segmentIgnoreThreshold)},t.prototype.buildPath=function(r,n){for(var i=n.paths||[],s=0;s<i.length;s++)i[s].buildPath(r,i[s].shape,!0)},t.prototype.afterBrush=function(){for(var r=this.shape.paths||[],n=0;n<r.length;n++)r[n].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Vt.prototype.getBoundingRect.call(this)},t}(Vt),Mte=function(){function e(t){this.colorStops=t||[]}return e.prototype.addColorStop=function(t,r){this.colorStops.push({offset:t,color:r})},e}(),Xb=function(e){vn(t,e);function t(r,n,i,s,a,o){var l=e.call(this,a)||this;return l.x=r??0,l.y=n??0,l.x2=i??1,l.y2=s??0,l.type="linear",l.global=o||!1,l}return t}(Mte),Pte=function(e){vn(t,e);function t(r,n,i,s,a){var o=e.call(this,s)||this;return o.x=r??.5,o.y=n??.5,o.r=i??.5,o.type="radial",o.global=a||!1,o}return t}(Mte),Oh=[0,0],$h=[0,0],Y1=new kt,K1=new kt,oE=function(){function e(t,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new kt;for(var n=0;n<2;n++)this._axes[n]=new kt;t&&this.fromBoundingRect(t,r)}return e.prototype.fromBoundingRect=function(t,r){var n=this._corners,i=this._axes,s=t.x,a=t.y,o=s+t.width,l=a+t.height;if(n[0].set(s,a),n[1].set(o,a),n[2].set(o,l),n[3].set(s,l),r)for(var c=0;c<4;c++)n[c].transform(r);kt.sub(i[0],n[1],n[0]),kt.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(var c=0;c<2;c++)this._origin[c]=i[c].dot(n[0])},e.prototype.intersect=function(t,r){var n=!0,i=!r;return Y1.set(1/0,1/0),K1.set(0,0),!this._intersectCheckOneSide(this,t,Y1,K1,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(t,this,Y1,K1,i,-1)&&(n=!1,i)||i||kt.copy(r,n?Y1:K1),n},e.prototype._intersectCheckOneSide=function(t,r,n,i,s,a){for(var o=!0,l=0;l<2;l++){var c=this._axes[l];if(this._getProjMinMaxOnAxis(l,t._corners,Oh),this._getProjMinMaxOnAxis(l,r._corners,$h),Oh[1]<$h[0]||Oh[0]>$h[1]){if(o=!1,s)return o;var d=Math.abs($h[0]-Oh[1]),h=Math.abs(Oh[0]-$h[1]);Math.min(d,h)>i.len()&&(d<h?kt.scale(i,c,-d*a):kt.scale(i,c,h*a))}else if(n){var d=Math.abs($h[0]-Oh[1]),h=Math.abs(Oh[0]-$h[1]);Math.min(d,h)<n.len()&&(d<h?kt.scale(n,c,d*a):kt.scale(n,c,-h*a))}}return o},e.prototype._getProjMinMaxOnAxis=function(t,r,n){for(var i=this._axes[t],s=this._origin,a=r[0].dot(i)+s[t],o=a,l=a,c=1;c<r.length;c++){var d=r[c].dot(i)+s[t];o=Math.min(d,o),l=Math.max(d,l)}n[0]=o,n[1]=l},e}(),HTe=[],VTe=function(e){vn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return t.prototype.traverse=function(r,n){r.call(n,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(r,n){n?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},t.prototype.addDisplayables=function(r,n){n=n||!1;for(var i=0;i<r.length;i++)this.addDisplayable(r[i],n)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(r){for(var n=this._cursor;n<this._displayables.length;n++)r&&r(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)r&&r(this._temporaryDisplayables[n])},t.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var n=this._displayables[r];n.parent=this,n.update(),n.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var n=this._temporaryDisplayables[r];n.parent=this,n.update(),n.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new At(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var i=this._displayables[n],s=i.getBoundingRect().clone();i.needLocalTransform()&&s.applyTransform(i.getLocalTransform(HTe)),r.union(s)}this._rect=r}return this._rect},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),s=this.getBoundingRect();if(s.contain(i[0],i[1]))for(var a=0;a<this._displayables.length;a++){var o=this._displayables[a];if(o.contain(r,n))return!0}return!1},t}(_o),Lte=cr();function Ov(e,t,r,n,i){var s;if(t&&t.ecModel){var a=t.ecModel.getUpdatePayload();s=a&&a.animation}var o=t&&t.isAnimationEnabled(),l=e==="update";if(o){var c=void 0,d=void 0,h=void 0;n?(c=mt(n.duration,200),d=mt(n.easing,"cubicOut"),h=0):(c=t.getShallow(l?"animationDurationUpdate":"animationDuration"),d=t.getShallow(l?"animationEasingUpdate":"animationEasing"),h=t.getShallow(l?"animationDelayUpdate":"animationDelay")),s&&(s.duration!=null&&(c=s.duration),s.easing!=null&&(d=s.easing),s.delay!=null&&(h=s.delay)),et(h)&&(h=h(r,i)),et(c)&&(c=c(r));var f={duration:c||0,delay:h,easing:d};return f}else return null}function b5(e,t,r,n,i,s,a){var o=!1,l;et(i)?(a=s,s=i,i=null):st(i)&&(s=i.cb,a=i.during,o=i.isFrom,l=i.removeOpt,i=i.dataIndex);var c=e==="leave";c||t.stopAnimation("leave");var d=Ov(e,n,i,c?l||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(t,i):null);if(d&&d.duration>0){var h=d.duration,f=d.delay,p=d.easing,g={duration:h,delay:f||0,easing:p,done:s,force:!!s||!!a,setToFinal:!c,scope:e,during:a};o?t.animateFrom(r,g):t.animateTo(r,g)}else t.stopAnimation(),!o&&t.attr(r),a&&a(1),s&&s()}function wr(e,t,r,n,i,s){b5("update",e,t,r,n,i,s)}function Sn(e,t,r,n,i,s){b5("enter",e,t,r,n,i,s)}function km(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++){var r=e.animators[t];if(r.scope==="leave")return!0}return!1}function Wd(e,t,r,n,i,s){km(e)||b5("leave",e,t,r,n,i,s)}function bU(e,t,r,n){e.removeTextContent(),e.removeTextGuideLine(),Wd(e,{style:{opacity:0}},t,r,n)}function D_(e,t,r){function n(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse(function(i){i.isGroup||bU(i,t,r,n)}):bU(e,t,r,n)}function rl(e){Lte(e).oldStyle=e.style}function WTe(e){return Lte(e).oldStyle}var lE=Math.max,cE=Math.min,QP={};function GTe(e){return Vt.extend(e)}var qTe=ETe;function YTe(e,t){return qTe(e,t)}function cl(e,t){QP[e]=t}function w5(e){if(QP.hasOwnProperty(e))return QP[e]}function kN(e,t,r,n){var i=jte(e,t);return r&&(n==="center"&&(r=Ote(r,i.getBoundingRect())),$te(i,r)),i}function Dte(e,t,r){var n=new Oi({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){if(r==="center"){var s={width:i.width,height:i.height};n.setStyle(Ote(t,s))}}});return n}function Ote(e,t){var r=t.width/t.height,n=e.height*r,i;n<=e.width?i=e.height:(n=e.width,i=n/r);var s=e.x+e.width/2,a=e.y+e.height/2;return{x:s-n/2,y:a-i/2,width:n,height:i}}var co=TTe;function $te(e,t){if(e.applyTransform){var r=e.getBoundingRect(),n=r.calculateTransform(t);e.applyTransform(n)}}function Zm(e,t){return fte(e,e,{lineWidth:t}),e}function KTe(e){return pte(e.shape,e.shape,e.style),e}var KC=bf;function zf(e,t){for(var r=fN([]);e&&e!==t;)Kc(r,e.getLocalTransform(),r),e=e.parent;return r}function Zo(e,t,r){return t&&!ds(t)&&(t=Hc.getLocalTransform(t)),r&&(t=Pv([],t)),Vi([],e,t)}function EN(e,t,r){var n=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),i=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),s=[e==="left"?-n:e==="right"?n:0,e==="top"?-i:e==="bottom"?i:0];return s=Zo(s,t,r),Math.abs(s[0])>Math.abs(s[1])?s[0]>0?"right":"left":s[1]>0?"bottom":"top"}function wU(e){return!e.isGroup}function ZTe(e){return e.shape!=null}function Jb(e,t,r){if(!e||!t)return;function n(a){var o={};return a.traverse(function(l){wU(l)&&l.anid&&(o[l.anid]=l)}),o}function i(a){var o={x:a.x,y:a.y,rotation:a.rotation};return ZTe(a)&&(o.shape=fe({},a.shape)),o}var s=n(e);t.traverse(function(a){if(wU(a)&&a.anid){var o=s[a.anid];if(o){var l=i(a);a.attr(i(o)),wr(a,l,r,ft(a).dataIndex)}}})}function Bte(e,t){return xe(e,function(r){var n=r[0];n=lE(n,t.x),n=cE(n,t.x+t.width);var i=r[1];return i=lE(i,t.y),i=cE(i,t.y+t.height),[n,i]})}function XTe(e,t){var r=lE(e.x,t.x),n=cE(e.x+e.width,t.x+t.width),i=lE(e.y,t.y),s=cE(e.y+e.height,t.y+t.height);if(n>=r&&s>=i)return{x:r,y:i,width:n-r,height:s-i}}function Qb(e,t,r){var n=fe({rectHover:!0},t),i=n.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(i.image=e.slice(8),rt(i,r),new Oi(n)):kN(e.replace("path://",""),n,r,"center")}function Qy(e,t,r,n,i){for(var s=0,a=i[i.length-1];s<i.length;s++){var o=i[s];if(Fte(e,t,r,n,o[0],o[1],a[0],a[1]))return!0;a=o}}function Fte(e,t,r,n,i,s,a,o){var l=r-e,c=n-t,d=a-i,h=o-s,f=dj(d,h,l,c);if(JTe(f))return!1;var p=e-i,g=t-s,v=dj(p,g,l,c)/f;if(v<0||v>1)return!1;var m=dj(p,g,d,h)/f;return!(m<0||m>1)}function dj(e,t,r,n){return e*n-r*t}function JTe(e){return e<=1e-6&&e>=-1e-6}function Np(e){var t=e.itemTooltipOption,r=e.componentModel,n=e.itemName,i=De(t)?{formatter:t}:t,s=r.mainType,a=r.componentIndex,o={componentType:s,name:n,$vars:["name"]};o[s+"Index"]=a;var l=e.formatterParamsExtra;l&&V(Zt(l),function(d){We(o,d)||(o[d]=l[d],o.$vars.push(d))});var c=ft(e.el);c.componentMainType=s,c.componentIndex=a,c.tooltipConfig={name:n,option:rt({content:n,encodeHTMLContent:!0,formatterParams:o},i)}}function SU(e,t){var r;e.isGroup&&(r=t(e)),r||e.traverse(t)}function fh(e,t){if(e)if(ve(e))for(var r=0;r<e.length;r++)SU(e[r],t);else SU(e,t)}cl("circle",wu);cl("ellipse",SN);cl("sector",Bs);cl("ring",Kb);cl("polygon",Fs);cl("polyline",Vs);cl("rect",lr);cl("line",wi);cl("bezierCurve",Zb);cl("arc",CN);const Ap=Object.freeze(Object.defineProperty({__proto__:null,Arc:CN,BezierCurve:Zb,BoundingRect:At,Circle:wu,CompoundPath:_5,Ellipse:SN,Group:ht,Image:Oi,IncrementalDisplayable:VTe,Line:wi,LinearGradient:Xb,OrientedBoundingRect:oE,Path:Vt,Point:kt,Polygon:Fs,Polyline:Vs,RadialGradient:Pte,Rect:lr,Ring:Kb,Sector:Bs,Text:pr,applyTransform:Zo,clipPointsByRect:Bte,clipRectByRect:XTe,createIcon:Qb,extendPath:YTe,extendShape:GTe,getShapeClass:w5,getTransform:zf,groupTransition:Jb,initProps:Sn,isElementRemoved:km,lineLineIntersect:Fte,linePolygonIntersect:Qy,makeImage:Dte,makePath:kN,mergePath:co,registerShape:cl,removeElement:Wd,removeElementWithFadeOut:D_,resizePath:$te,setTooltipConfig:Np,subPixelOptimize:KC,subPixelOptimizeLine:Zm,subPixelOptimizeRect:KTe,transformDirection:EN,traverseElements:fh,updateProps:wr},Symbol.toStringTag,{value:"Module"}));var TN={};function zte(e,t){for(var r=0;r<$s.length;r++){var n=$s[r],i=t[n],s=e.ensureState(n);s.style=s.style||{},s.style.text=i}var a=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(a,!0)}function eL(e,t,r){var n=e.labelFetcher,i=e.labelDataIndex,s=e.labelDimIndex,a=t.normal,o;n&&(o=n.getFormattedLabel(i,"normal",null,s,a&&a.get("formatter"),r!=null?{interpolatedValue:r}:null)),o==null&&(o=et(e.defaultText)?e.defaultText(i,e,r):e.defaultText);for(var l={normal:o},c=0;c<$s.length;c++){var d=$s[c],h=t[d];l[d]=mt(n?n.getFormattedLabel(i,d,null,s,h&&h.get("formatter")):null,o)}return l}function Yi(e,t,r,n){r=r||TN;for(var i=e instanceof pr,s=!1,a=0;a<P_.length;a++){var o=t[P_[a]];if(o&&o.getShallow("show")){s=!0;break}}var l=i?e:e.getTextContent();if(s){i||(l||(l=new pr,e.setTextContent(l)),e.stateProxy&&(l.stateProxy=e.stateProxy));var c=eL(r,t),d=t.normal,h=!!d.getShallow("show"),f=dn(d,n&&n.normal,r,!1,!i);f.text=c.normal,i||e.setTextConfig(uE(d,r,!1));for(var a=0;a<$s.length;a++){var p=$s[a],o=t[p];if(o){var g=l.ensureState(p),v=!!mt(o.getShallow("show"),h);if(v!==h&&(g.ignore=!v),g.style=dn(o,n&&n[p],r,!0,!i),g.style.text=c[p],!i){var m=e.ensureState(p);m.textConfig=uE(o,r,!0)}}}l.silent=!!d.getShallow("silent"),l.style.x!=null&&(f.x=l.style.x),l.style.y!=null&&(f.y=l.style.y),l.ignore=!h,l.useStyle(f),l.dirty(),r.enableTextSetter&&($v(l).setLabelText=function(y){var x=eL(r,t,y);zte(l,x)})}else l&&(l.ignore=!0);e.dirty()}function ki(e,t){t=t||"label";for(var r={normal:e.getModel(t)},n=0;n<$s.length;n++){var i=$s[n];r[i]=e.getModel([i,t])}return r}function dn(e,t,r,n,i){var s={};return QTe(s,e,r,n,i),t&&fe(s,t),s}function uE(e,t,r){t=t||{};var n={},i,s=e.getShallow("rotate"),a=mt(e.getShallow("distance"),r?null:5),o=e.getShallow("offset");return i=e.getShallow("position")||(r?null:"inside"),i==="outside"&&(i=t.defaultOutsidePosition||"top"),i!=null&&(n.position=i),o!=null&&(n.offset=o),s!=null&&(s*=Math.PI/180,n.rotation=s),a!=null&&(n.distance=a),n.outsideFill=e.get("color")==="inherit"?t.inheritColor||null:"auto",n}function QTe(e,t,r,n,i){r=r||TN;var s=t.ecModel,a=s&&s.option.textStyle,o=eNe(t),l;if(o){l={};for(var c in o)if(o.hasOwnProperty(c)){var d=t.getModel(["rich",c]);TU(l[c]={},d,a,r,n,i,!1,!0)}}l&&(e.rich=l);var h=t.get("overflow");h&&(e.overflow=h);var f=t.get("minMargin");f!=null&&(e.margin=f),TU(e,t,a,r,n,i,!0,!1)}function eNe(e){for(var t;e&&e!==e.ecModel;){var r=(e.option||TN).rich;if(r){t=t||{};for(var n=Zt(r),i=0;i<n.length;i++){var s=n[i];t[s]=1}}e=e.parentModel}return t}var CU=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],kU=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],EU=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function TU(e,t,r,n,i,s,a,o){r=!i&&r||TN;var l=n&&n.inheritColor,c=t.getShallow("color"),d=t.getShallow("textBorderColor"),h=mt(t.getShallow("opacity"),r.opacity);(c==="inherit"||c==="auto")&&(l?c=l:c=null),(d==="inherit"||d==="auto")&&(l?d=l:d=null),s||(c=c||r.color,d=d||r.textBorderColor),c!=null&&(e.fill=c),d!=null&&(e.stroke=d);var f=mt(t.getShallow("textBorderWidth"),r.textBorderWidth);f!=null&&(e.lineWidth=f);var p=mt(t.getShallow("textBorderType"),r.textBorderType);p!=null&&(e.lineDash=p);var g=mt(t.getShallow("textBorderDashOffset"),r.textBorderDashOffset);g!=null&&(e.lineDashOffset=g),!i&&h==null&&!o&&(h=n&&n.defaultOpacity),h!=null&&(e.opacity=h),!i&&!s&&e.fill==null&&n.inheritColor&&(e.fill=n.inheritColor);for(var v=0;v<CU.length;v++){var m=CU[v],y=mt(t.getShallow(m),r[m]);y!=null&&(e[m]=y)}for(var v=0;v<kU.length;v++){var m=kU[v],y=t.getShallow(m);y!=null&&(e[m]=y)}if(e.verticalAlign==null){var x=t.getShallow("baseline");x!=null&&(e.verticalAlign=x)}if(!a||!n.disableBox){for(var v=0;v<EU.length;v++){var m=EU[v],y=t.getShallow(m);y!=null&&(e[m]=y)}var _=t.getShallow("borderType");_!=null&&(e.borderDash=_),(e.backgroundColor==="auto"||e.backgroundColor==="inherit")&&l&&(e.backgroundColor=l),(e.borderColor==="auto"||e.borderColor==="inherit")&&l&&(e.borderColor=l)}}function S5(e,t){var r=t&&t.getModel("textStyle");return Vo([e.fontStyle||r&&r.getShallow("fontStyle")||"",e.fontWeight||r&&r.getShallow("fontWeight")||"",(e.fontSize||r&&r.getShallow("fontSize")||12)+"px",e.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var $v=cr();function Ute(e,t,r,n){if(e){var i=$v(e);i.prevValue=i.value,i.value=r;var s=t.normal;i.valueAnimation=s.get("valueAnimation"),i.valueAnimation&&(i.precision=s.get("precision"),i.defaultInterpolatedText=n,i.statesModels=t)}}function Hte(e,t,r,n,i){var s=$v(e);if(!s.valueAnimation||s.prevValue===s.value)return;var a=s.defaultInterpolatedText,o=mt(s.interpolatedValue,s.prevValue),l=s.value;function c(d){var h=ste(r,s.precision,o,l,d);s.interpolatedValue=d===1?null:h;var f=eL({labelDataIndex:t,labelFetcher:i,defaultText:a?a(h):h+""},s.statesModels,h);zte(e,f)}e.percent=0,(s.prevValue==null?Sn:wr)(e,{percent:1},n,t,null,c)}var tNe=["textStyle","color"],hj=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],fj=new pr,rNe=function(){function e(){}return e.prototype.getTextColor=function(t){var r=this.ecModel;return this.getShallow("color")||(!t&&r?r.get(tNe):null)},e.prototype.getFont=function(){return S5({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(t){for(var r={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<hj.length;n++)r[hj[n]]=this.getShallow(hj[n]);return fj.useStyle(r),fj.update(),fj.getBoundingRect()},e}(),Vte=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],nNe=sp(Vte),iNe=function(){function e(){}return e.prototype.getLineStyle=function(t){return nNe(this,t)},e}(),Wte=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],sNe=sp(Wte),aNe=function(){function e(){}return e.prototype.getItemStyle=function(t,r){return sNe(this,t,r)},e}(),Lr=function(){function e(t,r,n){this.parentModel=r,this.ecModel=n,this.option=t}return e.prototype.init=function(t,r,n){},e.prototype.mergeOption=function(t,r){Ct(this.option,t,!0)},e.prototype.get=function(t,r){return t==null?this.option:this._doGet(this.parsePath(t),!r&&this.parentModel)},e.prototype.getShallow=function(t,r){var n=this.option,i=n==null?n:n[t];if(i==null&&!r){var s=this.parentModel;s&&(i=s.getShallow(t))}return i},e.prototype.getModel=function(t,r){var n=t!=null,i=n?this.parsePath(t):null,s=n?this._doGet(i):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new e(s,r,this.ecModel)},e.prototype.isEmpty=function(){return this.option==null},e.prototype.restoreData=function(){},e.prototype.clone=function(){var t=this.constructor;return new t(lt(this.option))},e.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},e.prototype.resolveParentPath=function(t){return t},e.prototype.isAnimationEnabled=function(){if(!Gt.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(t,r){var n=this.option;if(!t)return n;for(var i=0;i<t.length&&!(t[i]&&(n=n&&typeof n=="object"?n[t[i]]:null,n==null));i++);return n==null&&r&&(n=r._doGet(this.resolveParentPath(t),r.parentModel)),n},e}();d5(Lr);gEe(Lr);oi(Lr,iNe);oi(Lr,aNe);oi(Lr,_Ee);oi(Lr,rNe);var oNe=Math.round(Math.random()*10);function Bv(e){return[e||"",oNe++].join("_")}function lNe(e){var t={};e.registerSubTypeDefaulter=function(r,n){var i=Bl(r);t[i.main]=n},e.determineSubType=function(r,n){var i=n.type;if(!i){var s=Bl(r).main;e.hasSubTypes(r)&&t[s]&&(i=t[s](n))}return i}}function cNe(e,t){e.topologicalTravel=function(s,a,o,l){if(!s.length)return;var c=r(a),d=c.graph,h=c.noEntryList,f={};for(V(s,function(x){f[x]=!0});h.length;){var p=h.pop(),g=d[p],v=!!f[p];v&&(o.call(l,p,g.originalDeps.slice()),delete f[p]),V(g.successor,v?y:m)}V(f,function(){var x="";throw new Error(x)});function m(x){d[x].entryCount--,d[x].entryCount===0&&h.push(x)}function y(x){f[x]=!0,m(x)}};function r(s){var a={},o=[];return V(s,function(l){var c=n(a,l),d=c.originalDeps=t(l),h=i(d,s);c.entryCount=h.length,c.entryCount===0&&o.push(l),V(h,function(f){Pt(c.predecessor,f)<0&&c.predecessor.push(f);var p=n(a,f);Pt(p.successor,f)<0&&p.successor.push(l)})}),{graph:a,noEntryList:o}}function n(s,a){return s[a]||(s[a]={predecessor:[],successor:[]}),s[a]}function i(s,a){var o=[];return V(s,function(l){Pt(a,l)>=0&&o.push(l)}),o}}function ph(e,t){return Ct(Ct({},e,!0),t,!0)}const uNe={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},dNe={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图",custom:"自定义图表",chart:"图表"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var dE="ZH",C5="EN",Em=C5,ZC={},k5={},Gte=Gt.domSupported?function(){var e=(document.documentElement.lang||navigator.language||navigator.browserLanguage||Em).toUpperCase();return e.indexOf(dE)>-1?dE:Em}():Em;function qte(e,t){e=e.toUpperCase(),k5[e]=new Lr(t),ZC[e]=t}function hNe(e){if(De(e)){var t=ZC[e.toUpperCase()]||{};return e===dE||e===C5?lt(t):Ct(lt(t),lt(ZC[Em]),!1)}else return Ct(lt(e),lt(ZC[Em]),!1)}function tL(e){return k5[e]}function fNe(){return k5[Em]}qte(C5,uNe);qte(dE,dNe);var E5=1e3,T5=E5*60,Lx=T5*60,uo=Lx*24,NU=uo*365,ex={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Z1="{yyyy}-{MM}-{dd}",AU={year:"{yyyy}",month:"{yyyy}-{MM}",day:Z1,hour:Z1+" "+ex.hour,minute:Z1+" "+ex.minute,second:Z1+" "+ex.second,millisecond:ex.none},pj=["year","month","day","hour","minute","second","millisecond"],Yte=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Du(e,t){return e+="","0000".substr(0,t-e.length)+e}function Tm(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function pNe(e){return e===Tm(e)}function gNe(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function NN(e,t,r,n){var i=ac(e),s=i[N5(r)](),a=i[Nm(r)]()+1,o=Math.floor((a-1)/3)+1,l=i[AN(r)](),c=i["get"+(r?"UTC":"")+"Day"](),d=i[O_(r)](),h=(d-1)%12+1,f=i[jN(r)](),p=i[RN(r)](),g=i[IN(r)](),v=d>=12?"pm":"am",m=v.toUpperCase(),y=n instanceof Lr?n:tL(n||Gte)||fNe(),x=y.getModel("time"),_=x.get("month"),b=x.get("monthAbbr"),w=x.get("dayOfWeek"),S=x.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,v+"").replace(/{A}/g,m+"").replace(/{yyyy}/g,s+"").replace(/{yy}/g,Du(s%100+"",2)).replace(/{Q}/g,o+"").replace(/{MMMM}/g,_[a-1]).replace(/{MMM}/g,b[a-1]).replace(/{MM}/g,Du(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,Du(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,w[c]).replace(/{ee}/g,S[c]).replace(/{e}/g,c+"").replace(/{HH}/g,Du(d,2)).replace(/{H}/g,d+"").replace(/{hh}/g,Du(h+"",2)).replace(/{h}/g,h+"").replace(/{mm}/g,Du(f,2)).replace(/{m}/g,f+"").replace(/{ss}/g,Du(p,2)).replace(/{s}/g,p+"").replace(/{SSS}/g,Du(g,3)).replace(/{S}/g,g+"")}function mNe(e,t,r,n,i){var s=null;if(De(r))s=r;else if(et(r))s=r(e.value,t,{level:e.level});else{var a=fe({},ex);if(e.level>0)for(var o=0;o<pj.length;++o)a[pj[o]]="{primary|"+a[pj[o]]+"}";var l=r?r.inherit===!1?r:rt(r,a):a,c=Kte(e.value,i);if(l[c])s=l[c];else if(l.inherit){for(var d=Yte.indexOf(c),o=d-1;o>=0;--o)if(l[c]){s=l[c];break}s=s||a.none}if(ve(s)){var h=e.level==null?0:e.level>=0?e.level:s.length+e.level;h=Math.min(h,s.length-1),s=s[h]}}return NN(new Date(e.value),s,i,n)}function Kte(e,t){var r=ac(e),n=r[Nm(t)]()+1,i=r[AN(t)](),s=r[O_(t)](),a=r[jN(t)](),o=r[RN(t)](),l=r[IN(t)](),c=l===0,d=c&&o===0,h=d&&a===0,f=h&&s===0,p=f&&i===1,g=p&&n===1;return g?"year":p?"month":f?"day":h?"hour":d?"minute":c?"second":"millisecond"}function jU(e,t,r){var n=xr(e)?ac(e):e;switch(t=t||Kte(e,r),t){case"year":return n[N5(r)]();case"half-year":return n[Nm(r)]()>=6?1:0;case"quarter":return Math.floor((n[Nm(r)]()+1)/4);case"month":return n[Nm(r)]();case"day":return n[AN(r)]();case"half-day":return n[O_(r)]()/24;case"hour":return n[O_(r)]();case"minute":return n[jN(r)]();case"second":return n[RN(r)]();case"millisecond":return n[IN(r)]()}}function N5(e){return e?"getUTCFullYear":"getFullYear"}function Nm(e){return e?"getUTCMonth":"getMonth"}function AN(e){return e?"getUTCDate":"getDate"}function O_(e){return e?"getUTCHours":"getHours"}function jN(e){return e?"getUTCMinutes":"getMinutes"}function RN(e){return e?"getUTCSeconds":"getSeconds"}function IN(e){return e?"getUTCMilliseconds":"getMilliseconds"}function vNe(e){return e?"setUTCFullYear":"setFullYear"}function Zte(e){return e?"setUTCMonth":"setMonth"}function Xte(e){return e?"setUTCDate":"setDate"}function Jte(e){return e?"setUTCHours":"setHours"}function Qte(e){return e?"setUTCMinutes":"setMinutes"}function ere(e){return e?"setUTCSeconds":"setSeconds"}function tre(e){return e?"setUTCMilliseconds":"setMilliseconds"}function rre(e){if(!Xee(e))return De(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function nre(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(r,n){return n.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var Fv=t5;function rL(e,t,r){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(d){return d&&Vo(d)?d:"-"}function s(d){return!!(d!=null&&!isNaN(d)&&isFinite(d))}var a=t==="time",o=e instanceof Date;if(a||o){var l=a?ac(e):e;if(isNaN(+l)){if(o)return"-"}else return NN(l,n,r)}if(t==="ordinal")return xP(e)?i(e):xr(e)&&s(e)?e+"":"-";var c=ou(e);return s(c)?rre(c):xP(e)?i(e):typeof e=="boolean"?e+"":"-"}var RU=["a","b","c","d","e","f","g"],gj=function(e,t){return"{"+e+(t??"")+"}"};function ire(e,t,r){ve(t)||(t=[t]);var n=t.length;if(!n)return"";for(var i=t[0].$vars||[],s=0;s<i.length;s++){var a=RU[s];e=e.replace(gj(a),gj(a,0))}for(var o=0;o<n;o++)for(var l=0;l<i.length;l++){var c=t[o][i[l]];e=e.replace(gj(RU[l],o),r?Ts(c):c)}return e}function yNe(e,t,r){return V(t,function(n,i){e=e.replace("{"+i+"}",n)}),e}function xNe(e,t){var r=De(e)?{color:e,extraCssText:t}:e||{},n=r.color,i=r.type;t=r.extraCssText;var s=r.renderMode||"html";if(!n)return"";if(s==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Ts(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Ts(n)+";"+(t||"")+'"></span>';var a=r.markerId||"markerX";return{renderMode:s,content:"{"+a+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function op(e,t){return t=t||"transparent",De(e)?e:st(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}function hE(e,t){if(t==="_blank"||t==="blank"){var r=window.open();r.opener=null,r.location.href=e}else window.open(e,t)}var XC=V,sre=["left","right","top","bottom","width","height"],Sf=[["width","left","right"],["height","top","bottom"]];function A5(e,t,r,n,i){var s=0,a=0;n==null&&(n=1/0),i==null&&(i=1/0);var o=0;t.eachChild(function(l,c){var d=l.getBoundingRect(),h=t.childAt(c+1),f=h&&h.getBoundingRect(),p,g;if(e==="horizontal"){var v=d.width+(f?-f.x+d.x:0);p=s+v,p>n||l.newline?(s=0,p=v,a+=o+r,o=d.height):o=Math.max(o,d.height)}else{var m=d.height+(f?-f.y+d.y:0);g=a+m,g>i||l.newline?(s+=o+r,a=0,g=m,o=d.width):o=Math.max(o,d.width)}l.newline||(l.x=s,l.y=a,l.markRedraw(),e==="horizontal"?s=p+r:a=g+r)})}var Uf=A5;xt(A5,"vertical");xt(A5,"horizontal");function _Ne(e,t,r){var n=t.width,i=t.height,s=Ne(e.left,n),a=Ne(e.top,i),o=Ne(e.right,n),l=Ne(e.bottom,i);return(isNaN(s)||isNaN(parseFloat(e.left)))&&(s=0),(isNaN(o)||isNaN(parseFloat(e.right)))&&(o=n),(isNaN(a)||isNaN(parseFloat(e.top)))&&(a=0),(isNaN(l)||isNaN(parseFloat(e.bottom)))&&(l=i),r=Fv(r||0),{width:Math.max(o-s-r[1]-r[3],0),height:Math.max(l-a-r[0]-r[2],0)}}function pi(e,t,r){r=Fv(r||0);var n=t.width,i=t.height,s=Ne(e.left,n),a=Ne(e.top,i),o=Ne(e.right,n),l=Ne(e.bottom,i),c=Ne(e.width,n),d=Ne(e.height,i),h=r[2]+r[0],f=r[1]+r[3],p=e.aspect;switch(isNaN(c)&&(c=n-o-f-s),isNaN(d)&&(d=i-l-h-a),p!=null&&(isNaN(c)&&isNaN(d)&&(p>n/i?c=n*.8:d=i*.8),isNaN(c)&&(c=p*d),isNaN(d)&&(d=c/p)),isNaN(s)&&(s=n-o-c-f),isNaN(a)&&(a=i-l-d-h),e.left||e.right){case"center":s=n/2-c/2-r[3];break;case"right":s=n-c-f;break}switch(e.top||e.bottom){case"middle":case"center":a=i/2-d/2-r[0];break;case"bottom":a=i-d-h;break}s=s||0,a=a||0,isNaN(c)&&(c=n-f-s-(o||0)),isNaN(d)&&(d=i-h-a-(l||0));var g=new At(s+r[3],a+r[0],c,d);return g.margin=r,g}function MN(e,t,r,n,i,s){var a=!i||!i.hv||i.hv[0],o=!i||!i.hv||i.hv[1],l=i&&i.boundingMode||"all";if(s=s||e,s.x=e.x,s.y=e.y,!a&&!o)return!1;var c;if(l==="raw")c=e.type==="group"?new At(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(c=e.getBoundingRect(),e.needLocalTransform()){var d=e.getLocalTransform();c=c.clone(),c.applyTransform(d)}var h=pi(rt({width:c.width,height:c.height},t),r,n),f=a?h.x-c.x:0,p=o?h.y-c.y:0;return l==="raw"?(s.x=f,s.y=p):(s.x+=f,s.y+=p),s===e&&e.markRedraw(),!0}function bNe(e,t){return e[Sf[t][0]]!=null||e[Sf[t][1]]!=null&&e[Sf[t][2]]!=null}function $_(e){var t=e.layoutMode||e.constructor.layoutMode;return st(t)?t:t?{type:t}:null}function Gd(e,t,r){var n=r&&r.ignoreSize;!ve(n)&&(n=[n,n]);var i=a(Sf[0],0),s=a(Sf[1],1);c(Sf[0],e,i),c(Sf[1],e,s);function a(d,h){var f={},p=0,g={},v=0,m=2;if(XC(d,function(_){g[_]=e[_]}),XC(d,function(_){o(t,_)&&(f[_]=g[_]=t[_]),l(f,_)&&p++,l(g,_)&&v++}),n[h])return l(t,d[1])?g[d[2]]=null:l(t,d[2])&&(g[d[1]]=null),g;if(v===m||!p)return g;if(p>=m)return f;for(var y=0;y<d.length;y++){var x=d[y];if(!o(f,x)&&o(e,x)){f[x]=e[x];break}}return f}function o(d,h){return d.hasOwnProperty(h)}function l(d,h){return d[h]!=null&&d[h]!=="auto"}function c(d,h,f){XC(d,function(p){h[p]=f[p]})}}function zv(e){return are({},e)}function are(e,t){return t&&e&&XC(sre,function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e}var wNe=cr(),Kt=function(e){le(t,e);function t(r,n,i){var s=e.call(this,r,n,i)||this;return s.uid=Bv("ec_cpt_model"),s}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i)},t.prototype.mergeDefaultAndTheme=function(r,n){var i=$_(this),s=i?zv(r):{},a=n.getTheme();Ct(r,a.get(this.mainType)),Ct(r,this.getDefaultOption()),i&&Gd(r,s,i)},t.prototype.mergeOption=function(r,n){Ct(this.option,r,!0);var i=$_(this);i&&Gd(this.option,r,i)},t.prototype.optionUpdated=function(r,n){},t.prototype.getDefaultOption=function(){var r=this.constructor;if(!hEe(r))return r.defaultOption;var n=wNe(this);if(!n.defaultOption){for(var i=[],s=r;s;){var a=s.prototype.defaultOption;a&&i.push(a),s=s.superClass}for(var o={},l=i.length-1;l>=0;l--)o=Ct(o,i[l],!0);n.defaultOption=o}return n.defaultOption},t.prototype.getReferringComponents=function(r,n){var i=r+"Index",s=r+"Id";return qb(this.ecModel,r,{index:this.get(i,!0),id:this.get(s,!0)},n)},t.prototype.getBoxLayoutParams=function(){var r=this;return{left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(r){this.option.zlevel=r},t.protoInitialize=function(){var r=t.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0}(),t}(Lr);ote(Kt,Lr);vN(Kt);lNe(Kt);cNe(Kt,SNe);function SNe(e){var t=[];return V(Kt.getClassesByMainType(e),function(r){t=t.concat(r.dependencies||r.prototype.dependencies||[])}),t=xe(t,function(r){return Bl(r).main}),e!=="dataset"&&Pt(t,"dataset")<=0&&t.unshift("dataset"),t}var ore="";typeof navigator<"u"&&(ore=navigator.platform||"");var ag="rgba(0, 0, 0, 0.2)";const CNe={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:ag,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:ag,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:ag,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:ag,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:ag,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:ag,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:ore.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var lre=qe(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),wo="original",hs="arrayRows",So="objectRows",fc="keyedColumns",Md="typedArray",cre="unknown",Jl="column",Uv="row",Fi={Must:1,Might:2,Not:3},ure=cr();function kNe(e){ure(e).datasetMap=qe()}function dre(e,t,r){var n={},i=R5(t);if(!i||!e)return n;var s=[],a=[],o=t.ecModel,l=ure(o).datasetMap,c=i.uid+"_"+r.seriesLayoutBy,d,h;e=e.slice(),V(e,function(v,m){var y=st(v)?v:e[m]={name:v};y.type==="ordinal"&&d==null&&(d=m,h=g(y)),n[y.name]=[]});var f=l.get(c)||l.set(c,{categoryWayDim:h,valueWayDim:0});V(e,function(v,m){var y=v.name,x=g(v);if(d==null){var _=f.valueWayDim;p(n[y],_,x),p(a,_,x),f.valueWayDim+=x}else if(d===m)p(n[y],0,x),p(s,0,x);else{var _=f.categoryWayDim;p(n[y],_,x),p(a,_,x),f.categoryWayDim+=x}});function p(v,m,y){for(var x=0;x<y;x++)v.push(m+x)}function g(v){var m=v.dimsDef;return m?m.length:1}return s.length&&(n.itemName=s),a.length&&(n.seriesName=a),n}function j5(e,t,r){var n={},i=R5(e);if(!i)return n;var s=t.sourceFormat,a=t.dimensionsDefine,o;(s===So||s===fc)&&V(a,function(d,h){(st(d)?d.name:d)==="name"&&(o=h)});var l=function(){for(var d={},h={},f=[],p=0,g=Math.min(5,r);p<g;p++){var v=fre(t.data,s,t.seriesLayoutBy,a,t.startIndex,p);f.push(v);var m=v===Fi.Not;if(m&&d.v==null&&p!==o&&(d.v=p),(d.n==null||d.n===d.v||!m&&f[d.n]===Fi.Not)&&(d.n=p),y(d)&&f[d.n]!==Fi.Not)return d;m||(v===Fi.Might&&h.v==null&&p!==o&&(h.v=p),(h.n==null||h.n===h.v)&&(h.n=p))}function y(x){return x.v!=null&&x.n!=null}return y(d)?d:y(h)?h:null}();if(l){n.value=[l.v];var c=o??l.n;n.itemName=[c],n.seriesName=[c]}return n}function R5(e){var t=e.get("data",!0);if(!t)return qb(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},ii).models[0]}function ENe(e){return!e.get("transform",!0)&&!e.get("fromTransformResult",!0)?[]:qb(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},ii).models}function hre(e,t){return fre(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function fre(e,t,r,n,i,s){var a,o=5;if(ua(e))return Fi.Not;var l,c;if(n){var d=n[s];st(d)?(l=d.name,c=d.type):De(d)&&(l=d)}if(c!=null)return c==="ordinal"?Fi.Must:Fi.Not;if(t===hs){var h=e;if(r===Uv){for(var f=h[s],p=0;p<(f||[]).length&&p<o;p++)if((a=b(f[i+p]))!=null)return a}else for(var p=0;p<h.length&&p<o;p++){var g=h[i+p];if(g&&(a=b(g[s]))!=null)return a}}else if(t===So){var v=e;if(!l)return Fi.Not;for(var p=0;p<v.length&&p<o;p++){var m=v[p];if(m&&(a=b(m[l]))!=null)return a}}else if(t===fc){var y=e;if(!l)return Fi.Not;var f=y[l];if(!f||ua(f))return Fi.Not;for(var p=0;p<f.length&&p<o;p++)if((a=b(f[p]))!=null)return a}else if(t===wo)for(var x=e,p=0;p<x.length&&p<o;p++){var m=x[p],_=Lv(m);if(!ve(_))return Fi.Not;if((a=b(_[s]))!=null)return a}function b(w){var S=De(w);if(w!=null&&Number.isFinite(Number(w))&&w!=="")return S?Fi.Might:Fi.Not;if(S&&w!=="-")return Fi.Must}return Fi.Not}var nL=qe();function TNe(e,t){Os(nL.get(e)==null&&t),nL.set(e,t)}function NNe(e,t,r){var n=nL.get(t);if(!n)return r;var i=n(e);return i?r.concat(i):r}var IU=cr(),ANe=cr(),I5=function(){function e(){}return e.prototype.getColorFromPalette=function(t,r,n){var i=Xr(this.get("color",!0)),s=this.get("colorLayer",!0);return pre(this,IU,i,s,t,r,n)},e.prototype.clearColorPalette=function(){RNe(this,IU)},e}();function iL(e,t,r,n){var i=Xr(e.get(["aria","decal","decals"]));return pre(e,ANe,i,null,t,r,n)}function jNe(e,t){for(var r=e.length,n=0;n<r;n++)if(e[n].length>t)return e[n];return e[r-1]}function pre(e,t,r,n,i,s,a){s=s||e;var o=t(s),l=o.paletteIdx||0,c=o.paletteNameMap=o.paletteNameMap||{};if(c.hasOwnProperty(i))return c[i];var d=a==null||!n?r:jNe(n,a);if(d=d||r,!(!d||!d.length)){var h=d[l];return i&&(c[i]=h),o.paletteIdx=(l+1)%d.length,h}}function RNe(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}var X1,ly,MU,PU="\0_ec_inner",INe=1,M5=function(e){le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(r,n,i,s,a,o){s=s||{},this.option=null,this._theme=new Lr(s),this._locale=new Lr(a),this._optionManager=o},t.prototype.setOption=function(r,n,i){var s=OU(n);this._optionManager.setOption(r,i,s),this._resetOption(null,s)},t.prototype.resetOption=function(r,n){return this._resetOption(r,OU(n))},t.prototype._resetOption=function(r,n){var i=!1,s=this._optionManager;if(!r||r==="recreate"){var a=s.mountOption(r==="recreate");!this.option||r==="recreate"?MU(this,a):(this.restoreData(),this._mergeOption(a,n)),i=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var o=s.getTimelineOption(this);o&&(i=!0,this._mergeOption(o,n))}if(!r||r==="recreate"||r==="media"){var l=s.getMediaOption(this);l.length&&V(l,function(c){i=!0,this._mergeOption(c,n)},this)}return i},t.prototype.mergeOption=function(r){this._mergeOption(r,null)},t.prototype._mergeOption=function(r,n){var i=this.option,s=this._componentsMap,a=this._componentsCount,o=[],l=qe(),c=n&&n.replaceMergeMainTypeMap;kNe(this),V(r,function(h,f){h!=null&&(Kt.hasClass(f)?f&&(o.push(f),l.set(f,!0)):i[f]=i[f]==null?lt(h):Ct(i[f],h,!0))}),c&&c.each(function(h,f){Kt.hasClass(f)&&!l.get(f)&&(o.push(f),l.set(f,!0))}),Kt.topologicalTravel(o,Kt.getAllClassMainTypes(),d,this);function d(h){var f=NNe(this,h,Xr(r[h])),p=s.get(h),g=p?c&&c.get(h)?"replaceMerge":"normalMerge":"replaceAll",v=rte(p,f,g);nEe(v,h,Kt),i[h]=null,s.set(h,null),a.set(h,0);var m=[],y=[],x=0,_;V(v,function(b,w){var S=b.existing,k=b.newOption;if(!k)S&&(S.mergeOption({},this),S.optionUpdated({},!1));else{var C=h==="series",E=Kt.getClass(h,b.keyInfo.subType,!C);if(!E)return;if(h==="tooltip"){if(_)return;_=!0}if(S&&S.constructor===E)S.name=b.keyInfo.name,S.mergeOption(k,this),S.optionUpdated(k,!1);else{var T=fe({componentIndex:w},b.keyInfo);S=new E(k,this,this,T),fe(S,T),b.brandNew&&(S.__requireNewView=!0),S.init(k,this,this),S.optionUpdated(null,!0)}}S?(m.push(S.option),y.push(S),x++):(m.push(void 0),y.push(void 0))},this),i[h]=m,s.set(h,y),a.set(h,x),h==="series"&&X1(this)}this._seriesIndices||X1(this)},t.prototype.getOption=function(){var r=lt(this.option);return V(r,function(n,i){if(Kt.hasClass(i)){for(var s=Xr(n),a=s.length,o=!1,l=a-1;l>=0;l--)s[l]&&!M_(s[l])?o=!0:(s[l]=null,!o&&a--);s.length=a,r[i]=s}}),delete r[PU],r},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(r){this._payload=r},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(r,n){var i=this._componentsMap.get(r);if(i){var s=i[n||0];if(s)return s;if(n==null){for(var a=0;a<i.length;a++)if(i[a])return i[a]}}},t.prototype.queryComponents=function(r){var n=r.mainType;if(!n)return[];var i=r.index,s=r.id,a=r.name,o=this._componentsMap.get(n);if(!o||!o.length)return[];var l;return i!=null?(l=[],V(Xr(i),function(c){o[c]&&l.push(o[c])})):s!=null?l=LU("id",s,o):a!=null?l=LU("name",a,o):l=Rr(o,function(c){return!!c}),DU(l,r)},t.prototype.findComponents=function(r){var n=r.query,i=r.mainType,s=o(n),a=s?this.queryComponents(s):Rr(this._componentsMap.get(i),function(c){return!!c});return l(DU(a,r));function o(c){var d=i+"Index",h=i+"Id",f=i+"Name";return c&&(c[d]!=null||c[h]!=null||c[f]!=null)?{mainType:i,index:c[d],id:c[h],name:c[f]}:null}function l(c){return r.filter?Rr(c,r.filter):c}},t.prototype.eachComponent=function(r,n,i){var s=this._componentsMap;if(et(r)){var a=n,o=r;s.each(function(h,f){for(var p=0;h&&p<h.length;p++){var g=h[p];g&&o.call(a,f,g,g.componentIndex)}})}else for(var l=De(r)?s.get(r):st(r)?this.findComponents(r):null,c=0;l&&c<l.length;c++){var d=l[c];d&&n.call(i,d,d.componentIndex)}},t.prototype.getSeriesByName=function(r){var n=hi(r,null);return Rr(this._componentsMap.get("series"),function(i){return!!i&&n!=null&&i.name===n})},t.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},t.prototype.getSeriesByType=function(r){return Rr(this._componentsMap.get("series"),function(n){return!!n&&n.subType===r})},t.prototype.getSeries=function(){return Rr(this._componentsMap.get("series"),function(r){return!!r})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(r,n){ly(this),V(this._seriesIndices,function(i){var s=this._componentsMap.get("series")[i];r.call(n,s,i)},this)},t.prototype.eachRawSeries=function(r,n){V(this._componentsMap.get("series"),function(i){i&&r.call(n,i,i.componentIndex)})},t.prototype.eachSeriesByType=function(r,n,i){ly(this),V(this._seriesIndices,function(s){var a=this._componentsMap.get("series")[s];a.subType===r&&n.call(i,a,s)},this)},t.prototype.eachRawSeriesByType=function(r,n,i){return V(this.getSeriesByType(r),n,i)},t.prototype.isSeriesFiltered=function(r){return ly(this),this._seriesIndicesMap.get(r.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(r,n){ly(this);var i=[];V(this._seriesIndices,function(s){var a=this._componentsMap.get("series")[s];r.call(n,a,s)&&i.push(s)},this),this._seriesIndices=i,this._seriesIndicesMap=qe(i)},t.prototype.restoreData=function(r){X1(this);var n=this._componentsMap,i=[];n.each(function(s,a){Kt.hasClass(a)&&i.push(a)}),Kt.topologicalTravel(i,Kt.getAllClassMainTypes(),function(s){V(n.get(s),function(a){a&&(s!=="series"||!MNe(a,r))&&a.restoreData()})})},t.internalField=function(){X1=function(r){var n=r._seriesIndices=[];V(r._componentsMap.get("series"),function(i){i&&n.push(i.componentIndex)}),r._seriesIndicesMap=qe(n)},ly=function(r){},MU=function(r,n){r.option={},r.option[PU]=INe,r._componentsMap=qe({series:[]}),r._componentsCount=qe();var i=n.aria;st(i)&&i.enabled==null&&(i.enabled=!0),PNe(n,r._theme.option),Ct(n,CNe,!1),r._mergeOption(n,null)}}(),t}(Lr);function MNe(e,t){if(t){var r=t.seriesIndex,n=t.seriesId,i=t.seriesName;return r!=null&&e.componentIndex!==r||n!=null&&e.id!==n||i!=null&&e.name!==i}}function PNe(e,t){var r=e.color&&!e.colorLayer;V(t,function(n,i){i==="colorLayer"&&r||Kt.hasClass(i)||(typeof n=="object"?e[i]=e[i]?Ct(e[i],n,!1):lt(n):e[i]==null&&(e[i]=n))})}function LU(e,t,r){if(ve(t)){var n=qe();return V(t,function(s){if(s!=null){var a=hi(s,null);a!=null&&n.set(s,!0)}}),Rr(r,function(s){return s&&n.get(s[e])})}else{var i=hi(t,null);return Rr(r,function(s){return s&&i!=null&&s[e]===i})}}function DU(e,t){return t.hasOwnProperty("subType")?Rr(e,function(r){return r&&r.subType===t.subType}):e}function OU(e){var t=qe();return e&&V(Xr(e.replaceMerge),function(r){t.set(r,!0)}),{replaceMergeMainTypeMap:t}}oi(M5,I5);var LNe=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],gre=function(){function e(t){V(LNe,function(r){this[r]=He(t[r],t)},this)}return e}(),mj={},ew=function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(t,r){var n=[];V(mj,function(i,s){var a=i.create(t,r);n=n.concat(a||[])}),this._coordinateSystems=n},e.prototype.update=function(t,r){V(this._coordinateSystems,function(n){n.update&&n.update(t,r)})},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(t,r){mj[t]=r},e.get=function(t){return mj[t]},e}(),DNe=/^(min|max)?(.+)$/,ONe=function(){function e(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return e.prototype.setOption=function(t,r,n){t&&(V(Xr(t.series),function(a){a&&a.data&&ua(a.data)&&Xk(a.data)}),V(Xr(t.dataset),function(a){a&&a.source&&ua(a.source)&&Xk(a.source)})),t=lt(t);var i=this._optionBackup,s=$Ne(t,r,!i);this._newBaseOption=s.baseOption,i?(s.timelineOptions.length&&(i.timelineOptions=s.timelineOptions),s.mediaList.length&&(i.mediaList=s.mediaList),s.mediaDefault&&(i.mediaDefault=s.mediaDefault)):this._optionBackup=s},e.prototype.mountOption=function(t){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],lt(t?r.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(t){var r,n=this._timelineOptions;if(n.length){var i=t.getComponent("timeline");i&&(r=lt(n[i.getCurrentIndex()]))}return r},e.prototype.getMediaOption=function(t){var r=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,s=this._mediaDefault,a=[],o=[];if(!i.length&&!s)return o;for(var l=0,c=i.length;l<c;l++)BNe(i[l].query,r,n)&&a.push(l);return!a.length&&s&&(a=[-1]),a.length&&!zNe(a,this._currentMediaIndices)&&(o=xe(a,function(d){return lt(d===-1?s.option:i[d].option)})),this._currentMediaIndices=a,o},e}();function $Ne(e,t,r){var n=[],i,s,a=e.baseOption,o=e.timeline,l=e.options,c=e.media,d=!!e.media,h=!!(l||o||a&&a.timeline);a?(s=a,s.timeline||(s.timeline=o)):((h||d)&&(e.options=e.media=null),s=e),d&&ve(c)&&V(c,function(p){p&&p.option&&(p.query?n.push(p):i||(i=p))}),f(s),V(l,function(p){return f(p)}),V(n,function(p){return f(p.option)});function f(p){V(t,function(g){g(p,r)})}return{baseOption:s,timelineOptions:l||[],mediaDefault:i,mediaList:n}}function BNe(e,t,r){var n={width:t,height:r,aspectratio:t/r},i=!0;return V(e,function(s,a){var o=a.match(DNe);if(!(!o||!o[1]||!o[2])){var l=o[1],c=o[2].toLowerCase();FNe(n[c],s,l)||(i=!1)}}),i}function FNe(e,t,r){return r==="min"?e>=t:r==="max"?e<=t:e===t}function zNe(e,t){return e.join(",")===t.join(",")}var To=V,B_=st,$U=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function vj(e){var t=e&&e.itemStyle;if(t)for(var r=0,n=$U.length;r<n;r++){var i=$U[r],s=t.normal,a=t.emphasis;s&&s[i]&&(e[i]=e[i]||{},e[i].normal?Ct(e[i].normal,s[i]):e[i].normal=s[i],s[i]=null),a&&a[i]&&(e[i]=e[i]||{},e[i].emphasis?Ct(e[i].emphasis,a[i]):e[i].emphasis=a[i],a[i]=null)}}function ns(e,t,r){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var n=e[t].normal,i=e[t].emphasis;n&&(r?(e[t].normal=e[t].emphasis=null,rt(e[t],n)):e[t]=n),i&&(e.emphasis=e.emphasis||{},e.emphasis[t]=i,i.focus&&(e.emphasis.focus=i.focus),i.blurScope&&(e.emphasis.blurScope=i.blurScope))}}function tx(e){ns(e,"itemStyle"),ns(e,"lineStyle"),ns(e,"areaStyle"),ns(e,"label"),ns(e,"labelLine"),ns(e,"upperLabel"),ns(e,"edgeLabel")}function ei(e,t){var r=B_(e)&&e[t],n=B_(r)&&r.textStyle;if(n)for(var i=0,s=V8.length;i<s;i++){var a=V8[i];n.hasOwnProperty(a)&&(r[a]=n[a])}}function Ja(e){e&&(tx(e),ei(e,"label"),e.emphasis&&ei(e.emphasis,"label"))}function UNe(e){if(B_(e)){vj(e),tx(e),ei(e,"label"),ei(e,"upperLabel"),ei(e,"edgeLabel"),e.emphasis&&(ei(e.emphasis,"label"),ei(e.emphasis,"upperLabel"),ei(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(vj(t),Ja(t));var r=e.markLine;r&&(vj(r),Ja(r));var n=e.markArea;n&&Ja(n);var i=e.data;if(e.type==="graph"){i=i||e.nodes;var s=e.links||e.edges;if(s&&!ua(s))for(var a=0;a<s.length;a++)Ja(s[a]);V(e.categories,function(c){tx(c)})}if(i&&!ua(i))for(var a=0;a<i.length;a++)Ja(i[a]);if(t=e.markPoint,t&&t.data)for(var o=t.data,a=0;a<o.length;a++)Ja(o[a]);if(r=e.markLine,r&&r.data)for(var l=r.data,a=0;a<l.length;a++)ve(l[a])?(Ja(l[a][0]),Ja(l[a][1])):Ja(l[a]);e.type==="gauge"?(ei(e,"axisLabel"),ei(e,"title"),ei(e,"detail")):e.type==="treemap"?(ns(e.breadcrumb,"itemStyle"),V(e.levels,function(c){tx(c)})):e.type==="tree"&&tx(e.leaves)}}function Ec(e){return ve(e)?e:e?[e]:[]}function BU(e){return(ve(e)?e[0]:e)||{}}function HNe(e,t){To(Ec(e.series),function(n){B_(n)&&UNe(n)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),To(r,function(n){To(Ec(e[n]),function(i){i&&(ei(i,"axisLabel"),ei(i.axisPointer,"label"))})}),To(Ec(e.parallel),function(n){var i=n&&n.parallelAxisDefault;ei(i,"axisLabel"),ei(i&&i.axisPointer,"label")}),To(Ec(e.calendar),function(n){ns(n,"itemStyle"),ei(n,"dayLabel"),ei(n,"monthLabel"),ei(n,"yearLabel")}),To(Ec(e.radar),function(n){ei(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),To(Ec(e.geo),function(n){B_(n)&&(Ja(n),To(Ec(n.regions),function(i){Ja(i)}))}),To(Ec(e.timeline),function(n){Ja(n),ns(n,"label"),ns(n,"itemStyle"),ns(n,"controlStyle",!0);var i=n.data;ve(i)&&V(i,function(s){st(s)&&(ns(s,"label"),ns(s,"itemStyle"))})}),To(Ec(e.toolbox),function(n){ns(n,"iconStyle"),To(n.feature,function(i){ns(i,"iconStyle")})}),ei(BU(e.axisPointer),"label"),ei(BU(e.tooltip).axisPointer,"label")}function VNe(e,t){for(var r=t.split(","),n=e,i=0;i<r.length&&(n=n&&n[r[i]],n!=null);i++);return n}function WNe(e,t,r,n){for(var i=t.split(","),s=e,a,o=0;o<i.length-1;o++)a=i[o],s[a]==null&&(s[a]={}),s=s[a];s[i[o]]==null&&(s[i[o]]=r)}function FU(e){e&&V(GNe,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var GNe=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],qNe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],yj=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function cy(e){var t=e&&e.itemStyle;if(t)for(var r=0;r<yj.length;r++){var n=yj[r][1],i=yj[r][0];t[n]!=null&&(t[i]=t[n])}}function zU(e){e&&e.alignTo==="edge"&&e.margin!=null&&e.edgeDistance==null&&(e.edgeDistance=e.margin)}function UU(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function YNe(e){e&&e.focusNodeAdjacency!=null&&(e.emphasis=e.emphasis||{},e.emphasis.focus==null&&(e.emphasis.focus="adjacency"))}function mre(e,t){if(e)for(var r=0;r<e.length;r++)t(e[r]),e[r]&&mre(e[r].children,t)}function vre(e,t){HNe(e,t),e.series=Xr(e.series),V(e.series,function(r){if(st(r)){var n=r.type;if(n==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(n==="pie"||n==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise),zU(r.label);var i=r.data;if(i&&!ua(i))for(var s=0;s<i.length;s++)zU(i[s]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(r.emphasis.scaleSize=r.hoverOffset))}else if(n==="gauge"){var a=VNe(r,"pointer.color");a!=null&&WNe(r,"itemStyle.color",a)}else if(n==="bar"){cy(r),cy(r.backgroundStyle),cy(r.emphasis);var i=r.data;if(i&&!ua(i))for(var s=0;s<i.length;s++)typeof i[s]=="object"&&(cy(i[s]),cy(i[s]&&i[s].emphasis))}else if(n==="sunburst"){var o=r.highlightPolicy;o&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=o)),UU(r),mre(r.data,UU)}else n==="graph"||n==="sankey"?YNe(r):n==="map"&&(r.mapType&&!r.map&&(r.map=r.mapType),r.mapLocation&&rt(r,r.mapLocation));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(r.emphasis.scale=r.hoverAnimation)),FU(r)}}),e.dataRange&&(e.visualMap=e.dataRange),V(qNe,function(r){var n=e[r];n&&(ve(n)||(n=[n]),V(n,function(i){FU(i)}))})}function KNe(e){var t=qe();e.eachSeries(function(r){var n=r.get("stack");if(n){var i=t.get(n)||t.set(n,[]),s=r.getData(),a={stackResultDimension:s.getCalculationInfo("stackResultDimension"),stackedOverDimension:s.getCalculationInfo("stackedOverDimension"),stackedDimension:s.getCalculationInfo("stackedDimension"),stackedByDimension:s.getCalculationInfo("stackedByDimension"),isStackedByIndex:s.getCalculationInfo("isStackedByIndex"),data:s,seriesModel:r};if(!a.stackedDimension||!(a.isStackedByIndex||a.stackedByDimension))return;i.length&&s.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(a)}}),t.each(ZNe)}function ZNe(e){V(e,function(t,r){var n=[],i=[NaN,NaN],s=[t.stackResultDimension,t.stackedOverDimension],a=t.data,o=t.isStackedByIndex,l=t.seriesModel.get("stackStrategy")||"samesign";a.modify(s,function(c,d,h){var f=a.get(t.stackedDimension,h);if(isNaN(f))return i;var p,g;o?g=a.getRawIndex(h):p=a.get(t.stackedByDimension,h);for(var v=NaN,m=r-1;m>=0;m--){var y=e[m];if(o||(g=y.data.rawIndexOf(y.stackedByDimension,p)),g>=0){var x=y.data.getByRawIndex(y.stackResultDimension,g);if(l==="all"||l==="positive"&&x>0||l==="negative"&&x<0||l==="samesign"&&f>=0&&x>0||l==="samesign"&&f<=0&&x<0){f=Gke(f,x),v=x;break}}}return n[0]=f,n[1]=v,n})})}var PN=function(){function e(t){this.data=t.data||(t.sourceFormat===fc?{}:[]),this.sourceFormat=t.sourceFormat||cre,this.seriesLayoutBy=t.seriesLayoutBy||Jl,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var r=this.dimensionsDefine=t.dimensionsDefine;if(r)for(var n=0;n<r.length;n++){var i=r[n];i.type==null&&hre(this,n)===Fi.Must&&(i.type="ordinal")}}return e}();function P5(e){return e instanceof PN}function sL(e,t,r){r=r||yre(e);var n=t.seriesLayoutBy,i=JNe(e,r,n,t.sourceHeader,t.dimensions),s=new PN({data:e,sourceFormat:r,seriesLayoutBy:n,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:lt(t)});return s}function L5(e){return new PN({data:e,sourceFormat:ua(e)?Md:wo})}function XNe(e){return new PN({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:lt(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount})}function yre(e){var t=cre;if(ua(e))t=Md;else if(ve(e)){e.length===0&&(t=hs);for(var r=0,n=e.length;r<n;r++){var i=e[r];if(i!=null){if(ve(i)||ua(i)){t=hs;break}else if(st(i)){t=So;break}}}}else if(st(e)){for(var s in e)if(We(e,s)&&ds(e[s])){t=fc;break}}return t}function JNe(e,t,r,n,i){var s,a;if(!e)return{dimensionsDefine:HU(i),startIndex:a,dimensionsDetectedCount:s};if(t===hs){var o=e;n==="auto"||n==null?VU(function(c){c!=null&&c!=="-"&&(De(c)?a==null&&(a=1):a=0)},r,o,10):a=xr(n)?n:n?1:0,!i&&a===1&&(i=[],VU(function(c,d){i[d]=c!=null?c+"":""},r,o,1/0)),s=i?i.length:r===Uv?o.length:o[0]?o[0].length:null}else if(t===So)i||(i=QNe(e));else if(t===fc)i||(i=[],V(e,function(c,d){i.push(d)}));else if(t===wo){var l=Lv(e[0]);s=ve(l)&&l.length||1}return{startIndex:a,dimensionsDefine:HU(i),dimensionsDetectedCount:s}}function QNe(e){for(var t=0,r;t<e.length&&!(r=e[t++]););if(r)return Zt(r)}function HU(e){if(e){var t=qe();return xe(e,function(r,n){r=st(r)?r:{name:r};var i={name:r.name,displayName:r.displayName,type:r.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var s=t.get(i.name);return s?i.name+="-"+s.count++:t.set(i.name,{count:1}),i})}}function VU(e,t,r,n){if(t===Uv)for(var i=0;i<r.length&&i<n;i++)e(r[i]?r[i][0]:null,i);else for(var s=r[0]||[],i=0;i<s.length&&i<n;i++)e(s[i],i)}function xre(e){var t=e.sourceFormat;return t===So||t===fc}var Bh,Fh,zh,WU,GU,_re=function(){function e(t,r){var n=P5(t)?t:L5(t);this._source=n;var i=this._data=n.data;n.sourceFormat===Md&&(this._offset=0,this._dimSize=r,this._data=i),GU(this,i,n)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(t,r){},e.prototype.appendData=function(t){},e.prototype.clean=function(){},e.protoInitialize=function(){var t=e.prototype;t.pure=!1,t.persistent=!0}(),e.internalField=function(){var t;GU=function(a,o,l){var c=l.sourceFormat,d=l.seriesLayoutBy,h=l.startIndex,f=l.dimensionsDefine,p=WU[D5(c,d)];if(fe(a,p),c===Md)a.getItem=r,a.count=i,a.fillStorage=n;else{var g=bre(c,d);a.getItem=He(g,null,o,h,f);var v=wre(c,d);a.count=He(v,null,o,h,f)}};var r=function(a,o){a=a-this._offset,o=o||[];for(var l=this._data,c=this._dimSize,d=c*a,h=0;h<c;h++)o[h]=l[d+h];return o},n=function(a,o,l,c){for(var d=this._data,h=this._dimSize,f=0;f<h;f++){for(var p=c[f],g=p[0]==null?1/0:p[0],v=p[1]==null?-1/0:p[1],m=o-a,y=l[f],x=0;x<m;x++){var _=d[x*h+f];y[a+x]=_,_<g&&(g=_),_>v&&(v=_)}p[0]=g,p[1]=v}},i=function(){return this._data?this._data.length/this._dimSize:0};WU=(t={},t[hs+"_"+Jl]={pure:!0,appendData:s},t[hs+"_"+Uv]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[So]={pure:!0,appendData:s},t[fc]={pure:!0,appendData:function(a){var o=this._data;V(a,function(l,c){for(var d=o[c]||(o[c]=[]),h=0;h<(l||[]).length;h++)d.push(l[h])})}},t[wo]={appendData:s},t[Md]={persistent:!1,pure:!0,appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}},t);function s(a){for(var o=0;o<a.length;o++)this._data.push(a[o])}}(),e}(),qU=function(e,t,r,n){return e[n]},e2e=(Bh={},Bh[hs+"_"+Jl]=function(e,t,r,n){return e[n+t]},Bh[hs+"_"+Uv]=function(e,t,r,n,i){n+=t;for(var s=i||[],a=e,o=0;o<a.length;o++){var l=a[o];s[o]=l?l[n]:null}return s},Bh[So]=qU,Bh[fc]=function(e,t,r,n,i){for(var s=i||[],a=0;a<r.length;a++){var o=r[a].name,l=e[o];s[a]=l?l[n]:null}return s},Bh[wo]=qU,Bh);function bre(e,t){var r=e2e[D5(e,t)];return r}var YU=function(e,t,r){return e.length},t2e=(Fh={},Fh[hs+"_"+Jl]=function(e,t,r){return Math.max(0,e.length-t)},Fh[hs+"_"+Uv]=function(e,t,r){var n=e[0];return n?Math.max(0,n.length-t):0},Fh[So]=YU,Fh[fc]=function(e,t,r){var n=r[0].name,i=e[n];return i?i.length:0},Fh[wo]=YU,Fh);function wre(e,t){var r=t2e[D5(e,t)];return r}var xj=function(e,t,r){return e[t]},r2e=(zh={},zh[hs]=xj,zh[So]=function(e,t,r){return e[r]},zh[fc]=xj,zh[wo]=function(e,t,r){var n=Lv(e);return n instanceof Array?n[t]:n},zh[Md]=xj,zh);function Sre(e){var t=r2e[e];return t}function D5(e,t){return e===hs?e+"_"+t:e}function Xm(e,t,r){if(e){var n=e.getRawDataItem(t);if(n!=null){var i=e.getStore(),s=i.getSource().sourceFormat;if(r!=null){var a=e.getDimensionIndex(r),o=i.getDimensionProperty(a);return Sre(s)(n,a,o)}else{var l=n;return s===wo&&(l=Lv(n)),l}}}}var n2e=/\{@(.+?)\}/g,LN=function(){function e(){}return e.prototype.getDataParams=function(t,r){var n=this.getData(r),i=this.getRawValue(t,r),s=n.getRawIndex(t),a=n.getName(t),o=n.getRawDataItem(t),l=n.getItemVisual(t,"style"),c=l&&l[n.getItemVisual(t,"drawType")||"fill"],d=l&&l.stroke,h=this.mainType,f=h==="series",p=n.userOutput&&n.userOutput.get();return{componentType:h,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:a,dataIndex:s,data:o,dataType:r,value:i,color:c,borderColor:d,dimensionNames:p?p.fullDimensions:null,encode:p?p.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(t,r,n,i,s,a){r=r||"normal";var o=this.getData(n),l=this.getDataParams(t,n);if(a&&(l.value=a.interpolatedValue),i!=null&&ve(l.value)&&(l.value=l.value[i]),!s){var c=o.getItemModel(t);s=c.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(et(s))return l.status=r,l.dimensionIndex=i,s(l);if(De(s)){var d=ire(s,l);return d.replace(n2e,function(h,f){var p=f.length,g=f;g.charAt(0)==="["&&g.charAt(p-1)==="]"&&(g=+g.slice(1,p-1));var v=Xm(o,t,g);if(a&&ve(a.interpolatedValue)){var m=o.getDimensionIndex(g);m>=0&&(v=a.interpolatedValue[m])}return v!=null?v+"":""})}},e.prototype.getRawValue=function(t,r){return Xm(this.getData(r),t)},e.prototype.formatTooltip=function(t,r,n){},e}();function KU(e){var t,r;return st(e)?e.type&&(r=e):t=e,{text:t,frag:r}}function Dx(e){return new i2e(e)}var i2e=function(){function e(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return e.prototype.perform=function(t){var r=this._upstream,n=t&&t.skip;if(this._dirty&&r){var i=this.context;i.data=i.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var s;this._plan&&!n&&(s=this._plan(this.context));var a=d(this._modBy),o=this._modDataCount||0,l=d(t&&t.modBy),c=t&&t.modDataCount||0;(a!==l||o!==c)&&(s="reset");function d(x){return!(x>=1)&&(x=1),x}var h;(this._dirty||s==="reset")&&(this._dirty=!1,h=this._doReset(n)),this._modBy=l,this._modDataCount=c;var f=t&&t.step;if(r?this._dueEnd=r._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var p=this._dueIndex,g=Math.min(f!=null?this._dueIndex+f:1/0,this._dueEnd);if(!n&&(h||p<g)){var v=this._progress;if(ve(v))for(var m=0;m<v.length;m++)this._doProgress(v[m],p,g,l,c);else this._doProgress(v,p,g,l,c)}this._dueIndex=g;var y=this._settedOutputEnd!=null?this._settedOutputEnd:g;this._outputDueEnd=y}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(t,r,n,i,s){ZU.reset(r,n,i,s),this._callingProgress=t,this._callingProgress({start:r,end:n,count:n-r,next:ZU.next},this.context)},e.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,n;!t&&this._reset&&(r=this._reset(this.context),r&&r.progress&&(n=r.forceFirstProgress,r=r.progress),ve(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},e}(),ZU=function(){var e,t,r,n,i,s={reset:function(l,c,d,h){t=l,e=c,r=d,n=h,i=Math.ceil(n/r),s.next=r>1&&n>0?o:a}};return s;function a(){return t<e?t++:null}function o(){var l=t%i*r+Math.ceil(t/i),c=t>=e?null:l<n?l:t;return t++,c}}();function Pd(e,t){var r=t&&t.type;return r==="ordinal"?e:(r==="time"&&!xr(e)&&e!=null&&e!=="-"&&(e=+ac(e)),e==null||e===""?NaN:Number(e))}var s2e=qe({number:function(e){return parseFloat(e)},time:function(e){return+ac(e)},trim:function(e){return De(e)?Vo(e):e}});function Cre(e){return s2e.get(e)}var kre={lt:function(e,t){return e<t},lte:function(e,t){return e<=t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t}},a2e=function(){function e(t,r){if(!xr(r)){var n="";jr(n)}this._opFn=kre[t],this._rvalFloat=ou(r)}return e.prototype.evaluate=function(t){return xr(t)?this._opFn(t,this._rvalFloat):this._opFn(ou(t),this._rvalFloat)},e}(),Ere=function(){function e(t,r){var n=t==="desc";this._resultLT=n?1:-1,r==null&&(r=n?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return e.prototype.evaluate=function(t,r){var n=xr(t)?t:ou(t),i=xr(r)?r:ou(r),s=isNaN(n),a=isNaN(i);if(s&&(n=this._incomparable),a&&(i=this._incomparable),s&&a){var o=De(t),l=De(r);o&&(n=l?t:0),l&&(i=o?r:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},e}(),o2e=function(){function e(t,r){this._rval=r,this._isEQ=t,this._rvalTypeof=typeof r,this._rvalFloat=ou(r)}return e.prototype.evaluate=function(t){var r=t===this._rval;if(!r){var n=typeof t;n!==this._rvalTypeof&&(n==="number"||this._rvalTypeof==="number")&&(r=ou(t)===this._rvalFloat)}return this._isEQ?r:!r},e}();function l2e(e,t){return e==="eq"||e==="ne"?new o2e(e==="eq",t):We(kre,e)?new a2e(e,t):null}var c2e=function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(t){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(t){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(t,r){},e.prototype.retrieveValueFromItem=function(t,r){},e.prototype.convertValue=function(t,r){return Pd(t,r)},e}();function u2e(e,t){var r=new c2e,n=e.data,i=r.sourceFormat=e.sourceFormat,s=e.startIndex,a="";e.seriesLayoutBy!==Jl&&jr(a);var o=[],l={},c=e.dimensionsDefine;if(c)V(c,function(v,m){var y=v.name,x={index:m,name:y,displayName:v.displayName};if(o.push(x),y!=null){var _="";We(l,y)&&jr(_),l[y]=x}});else for(var d=0;d<e.dimensionsDetectedCount;d++)o.push({index:d});var h=bre(i,Jl);t.__isBuiltIn&&(r.getRawDataItem=function(v){return h(n,s,o,v)},r.getRawData=He(d2e,null,e)),r.cloneRawData=He(h2e,null,e);var f=wre(i,Jl);r.count=He(f,null,n,s,o);var p=Sre(i);r.retrieveValue=function(v,m){var y=h(n,s,o,v);return g(y,m)};var g=r.retrieveValueFromItem=function(v,m){if(v!=null){var y=o[m];if(y)return p(v,m,y.name)}};return r.getDimensionInfo=He(f2e,null,o,l),r.cloneAllDimensionInfo=He(p2e,null,o),r}function d2e(e){var t=e.sourceFormat;if(!O5(t)){var r="";jr(r)}return e.data}function h2e(e){var t=e.sourceFormat,r=e.data;if(!O5(t)){var n="";jr(n)}if(t===hs){for(var i=[],s=0,a=r.length;s<a;s++)i.push(r[s].slice());return i}else if(t===So){for(var i=[],s=0,a=r.length;s<a;s++)i.push(fe({},r[s]));return i}}function f2e(e,t,r){if(r!=null){if(xr(r)||!isNaN(r)&&!We(t,r))return e[r];if(We(t,r))return t[r]}}function p2e(e){return lt(e)}var Tre=qe();function g2e(e){e=lt(e);var t=e.type,r="";t||jr(r);var n=t.split(":");n.length!==2&&jr(r);var i=!1;n[0]==="echarts"&&(t=n[1],i=!0),e.__isBuiltIn=i,Tre.set(t,e)}function m2e(e,t,r){var n=Xr(e),i=n.length,s="";i||jr(s);for(var a=0,o=i;a<o;a++){var l=n[a];t=v2e(l,t),a!==o-1&&(t.length=Math.max(t.length,1))}return t}function v2e(e,t,r,n){var i="";t.length||jr(i),st(e)||jr(i);var s=e.type,a=Tre.get(s);a||jr(i);var o=xe(t,function(c){return u2e(c,a)}),l=Xr(a.transform({upstream:o[0],upstreamList:o,config:lt(e.config)}));return xe(l,function(c,d){var h="";st(c)||jr(h),c.data||jr(h);var f=yre(c.data);O5(f)||jr(h);var p,g=t[0];if(g&&d===0&&!c.dimensions){var v=g.startIndex;v&&(c.data=g.data.slice(0,v).concat(c.data)),p={seriesLayoutBy:Jl,sourceHeader:v,dimensions:g.metaRawOption.dimensions}}else p={seriesLayoutBy:Jl,sourceHeader:0,dimensions:c.dimensions};return sL(c.data,p,null)})}function O5(e){return e===hs||e===So}var DN="undefined",y2e=typeof Uint32Array===DN?Array:Uint32Array,x2e=typeof Uint16Array===DN?Array:Uint16Array,Nre=typeof Int32Array===DN?Array:Int32Array,XU=typeof Float64Array===DN?Array:Float64Array,Are={float:XU,int:Nre,ordinal:Array,number:Array,time:XU},_j;function og(e){return e>65535?y2e:x2e}function lg(){return[1/0,-1/0]}function _2e(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function JU(e,t,r,n,i){var s=Are[r||"float"];if(i){var a=e[t],o=a&&a.length;if(o!==n){for(var l=new s(n),c=0;c<o;c++)l[c]=a[c];e[t]=l}}else e[t]=new s(n)}var aL=function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=qe()}return e.prototype.initData=function(t,r,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource(),s=this.defaultDimValueGetter=_j[i.sourceFormat];this._dimValueGetter=n||s,this._rawExtent=[],xre(i),this._dimensions=xe(r,function(a){return{type:a.type,property:a.property}}),this._initDataFromProvider(0,t.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(t,r){var n=this._calcDimNameToIdx,i=this._dimensions,s=n.get(t);if(s!=null){if(i[s].type===r)return s}else s=i.length;return i[s]={type:r},n.set(t,s),this._chunks[s]=new Are[r||"float"](this._rawCount),this._rawExtent[s]=lg(),s},e.prototype.collectOrdinalMeta=function(t,r){var n=this._chunks[t],i=this._dimensions[t],s=this._rawExtent,a=i.ordinalOffset||0,o=n.length;a===0&&(s[t]=lg());for(var l=s[t],c=a;c<o;c++){var d=n[c]=r.parseAndCollect(n[c]);isNaN(d)||(l[0]=Math.min(d,l[0]),l[1]=Math.max(d,l[1]))}i.ordinalMeta=r,i.ordinalOffset=o,i.type="ordinal"},e.prototype.getOrdinalMeta=function(t){var r=this._dimensions[t],n=r.ordinalMeta;return n},e.prototype.getDimensionProperty=function(t){var r=this._dimensions[t];return r&&r.property},e.prototype.appendData=function(t){var r=this._provider,n=this.count();r.appendData(t);var i=r.count();return r.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},e.prototype.appendValues=function(t,r){for(var n=this._chunks,i=this._dimensions,s=i.length,a=this._rawExtent,o=this.count(),l=o+Math.max(t.length,r||0),c=0;c<s;c++){var d=i[c];JU(n,c,d.type,l,!0)}for(var h=[],f=o;f<l;f++)for(var p=f-o,g=0;g<s;g++){var d=i[g],v=_j.arrayRows.call(this,t[p]||h,d.property,p,g);n[g][f]=v;var m=a[g];v<m[0]&&(m[0]=v),v>m[1]&&(m[1]=v)}return this._rawCount=this._count=l,{start:o,end:l}},e.prototype._initDataFromProvider=function(t,r,n){for(var i=this._provider,s=this._chunks,a=this._dimensions,o=a.length,l=this._rawExtent,c=xe(a,function(x){return x.property}),d=0;d<o;d++){var h=a[d];l[d]||(l[d]=lg()),JU(s,d,h.type,r,n)}if(i.fillStorage)i.fillStorage(t,r,s,l);else for(var f=[],p=t;p<r;p++){f=i.getItem(p,f);for(var g=0;g<o;g++){var v=s[g],m=this._dimValueGetter(f,c[g],p,g);v[p]=m;var y=l[g];m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=r,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(t,r){if(!(r>=0&&r<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(r)]:NaN},e.prototype.getValues=function(t,r){var n=[],i=[];if(r==null){r=t,t=[];for(var s=0;s<this._dimensions.length;s++)i.push(s)}else i=t;for(var s=0,a=i.length;s<a;s++)n.push(this.get(i[s],r));return n},e.prototype.getByRawIndex=function(t,r){if(!(r>=0&&r<this._rawCount))return NaN;var n=this._chunks[t];return n?n[r]:NaN},e.prototype.getSum=function(t){var r=this._chunks[t],n=0;if(r)for(var i=0,s=this.count();i<s;i++){var a=this.get(t,i);isNaN(a)||(n+=a)}return n},e.prototype.getMedian=function(t){var r=[];this.each([t],function(s){isNaN(s)||r.push(s)});var n=r.sort(function(s,a){return s-a}),i=this.count();return i===0?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},e.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var r=this._indices,n=r[t];if(n!=null&&n<this._count&&n===t)return t;for(var i=0,s=this._count-1;i<=s;){var a=(i+s)/2|0;if(r[a]<t)i=a+1;else if(r[a]>t)s=a-1;else return a}return-1},e.prototype.indicesOfNearest=function(t,r,n){var i=this._chunks,s=i[t],a=[];if(!s)return a;n==null&&(n=1/0);for(var o=1/0,l=-1,c=0,d=0,h=this.count();d<h;d++){var f=this.getRawIndex(d),p=r-s[f],g=Math.abs(p);g<=n&&((g<o||g===o&&p>=0&&l<0)&&(o=g,l=p,c=0),p===l&&(a[c++]=d))}return a.length=c,a},e.prototype.getIndices=function(){var t,r=this._indices;if(r){var n=r.constructor,i=this._count;if(n===Array){t=new n(i);for(var s=0;s<i;s++)t[s]=r[s]}else t=new n(r.buffer,0,i)}else{var n=og(this._rawCount);t=new n(this.count());for(var s=0;s<t.length;s++)t[s]=s}return t},e.prototype.filter=function(t,r){if(!this._count)return this;for(var n=this.clone(),i=n.count(),s=og(n._rawCount),a=new s(i),o=[],l=t.length,c=0,d=t[0],h=n._chunks,f=0;f<i;f++){var p=void 0,g=n.getRawIndex(f);if(l===0)p=r(f);else if(l===1){var v=h[d][g];p=r(v,f)}else{for(var m=0;m<l;m++)o[m]=h[t[m]][g];o[m]=f,p=r.apply(null,o)}p&&(a[c++]=g)}return c<i&&(n._indices=a),n._count=c,n._extent=[],n._updateGetRawIdx(),n},e.prototype.selectRange=function(t){var r=this.clone(),n=r._count;if(!n)return this;var i=Zt(t),s=i.length;if(!s)return this;var a=r.count(),o=og(r._rawCount),l=new o(a),c=0,d=i[0],h=t[d][0],f=t[d][1],p=r._chunks,g=!1;if(!r._indices){var v=0;if(s===1){for(var m=p[i[0]],y=0;y<n;y++){var x=m[y];(x>=h&&x<=f||isNaN(x))&&(l[c++]=v),v++}g=!0}else if(s===2){for(var m=p[i[0]],_=p[i[1]],b=t[i[1]][0],w=t[i[1]][1],y=0;y<n;y++){var x=m[y],S=_[y];(x>=h&&x<=f||isNaN(x))&&(S>=b&&S<=w||isNaN(S))&&(l[c++]=v),v++}g=!0}}if(!g)if(s===1)for(var y=0;y<a;y++){var k=r.getRawIndex(y),x=p[i[0]][k];(x>=h&&x<=f||isNaN(x))&&(l[c++]=k)}else for(var y=0;y<a;y++){for(var C=!0,k=r.getRawIndex(y),E=0;E<s;E++){var T=i[E],x=p[T][k];(x<t[T][0]||x>t[T][1])&&(C=!1)}C&&(l[c++]=r.getRawIndex(y))}return c<a&&(r._indices=l),r._count=c,r._extent=[],r._updateGetRawIdx(),r},e.prototype.map=function(t,r){var n=this.clone(t);return this._updateDims(n,t,r),n},e.prototype.modify=function(t,r){this._updateDims(this,t,r)},e.prototype._updateDims=function(t,r,n){for(var i=t._chunks,s=[],a=r.length,o=t.count(),l=[],c=t._rawExtent,d=0;d<r.length;d++)c[r[d]]=lg();for(var h=0;h<o;h++){for(var f=t.getRawIndex(h),p=0;p<a;p++)l[p]=i[r[p]][f];l[a]=h;var g=n&&n.apply(null,l);if(g!=null){typeof g!="object"&&(s[0]=g,g=s);for(var d=0;d<g.length;d++){var v=r[d],m=g[d],y=c[v],x=i[v];x&&(x[f]=m),m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}}}},e.prototype.lttbDownSample=function(t,r){var n=this.clone([t],!0),i=n._chunks,s=i[t],a=this.count(),o=0,l=Math.floor(1/r),c=this.getRawIndex(0),d,h,f,p=new(og(this._rawCount))(Math.min((Math.ceil(a/l)+2)*2,a));p[o++]=c;for(var g=1;g<a-1;g+=l){for(var v=Math.min(g+l,a-1),m=Math.min(g+l*2,a),y=(m+v)/2,x=0,_=v;_<m;_++){var b=this.getRawIndex(_),w=s[b];isNaN(w)||(x+=w)}x/=m-v;var S=g,k=Math.min(g+l,a),C=g-1,E=s[c];d=-1,f=S;for(var T=-1,N=0,_=S;_<k;_++){var b=this.getRawIndex(_),w=s[b];if(isNaN(w)){N++,T<0&&(T=b);continue}h=Math.abs((C-y)*(w-E)-(C-_)*(x-E)),h>d&&(d=h,f=b)}N>0&&N<k-S&&(p[o++]=Math.min(T,f),f=Math.max(T,f)),p[o++]=f,c=f}return p[o++]=this.getRawIndex(a-1),n._count=o,n._indices=p,n.getRawIndex=this._getRawIdx,n},e.prototype.minmaxDownSample=function(t,r){for(var n=this.clone([t],!0),i=n._chunks,s=Math.floor(1/r),a=i[t],o=this.count(),l=new(og(this._rawCount))(Math.ceil(o/s)*2),c=0,d=0;d<o;d+=s){var h=d,f=a[this.getRawIndex(h)],p=d,g=a[this.getRawIndex(p)],v=s;d+s>o&&(v=o-d);for(var m=0;m<v;m++){var y=this.getRawIndex(d+m),x=a[y];x<f&&(f=x,h=d+m),x>g&&(g=x,p=d+m)}var _=this.getRawIndex(h),b=this.getRawIndex(p);h<p?(l[c++]=_,l[c++]=b):(l[c++]=b,l[c++]=_)}return n._count=c,n._indices=l,n._updateGetRawIdx(),n},e.prototype.downSample=function(t,r,n,i){for(var s=this.clone([t],!0),a=s._chunks,o=[],l=Math.floor(1/r),c=a[t],d=this.count(),h=s._rawExtent[t]=lg(),f=new(og(this._rawCount))(Math.ceil(d/l)),p=0,g=0;g<d;g+=l){l>d-g&&(l=d-g,o.length=l);for(var v=0;v<l;v++){var m=this.getRawIndex(g+v);o[v]=c[m]}var y=n(o),x=this.getRawIndex(Math.min(g+i(o,y)||0,d-1));c[x]=y,y<h[0]&&(h[0]=y),y>h[1]&&(h[1]=y),f[p++]=x}return s._count=p,s._indices=f,s._updateGetRawIdx(),s},e.prototype.each=function(t,r){if(this._count)for(var n=t.length,i=this._chunks,s=0,a=this.count();s<a;s++){var o=this.getRawIndex(s);switch(n){case 0:r(s);break;case 1:r(i[t[0]][o],s);break;case 2:r(i[t[0]][o],i[t[1]][o],s);break;default:for(var l=0,c=[];l<n;l++)c[l]=i[t[l]][o];c[l]=s,r.apply(null,c)}}},e.prototype.getDataExtent=function(t){var r=this._chunks[t],n=lg();if(!r)return n;var i=this.count(),s=!this._indices,a;if(s)return this._rawExtent[t].slice();if(a=this._extent[t],a)return a.slice();a=n;for(var o=a[0],l=a[1],c=0;c<i;c++){var d=this.getRawIndex(c),h=r[d];h<o&&(o=h),h>l&&(l=h)}return a=[o,l],this._extent[t]=a,a},e.prototype.getRawDataItem=function(t){var r=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(r);for(var n=[],i=this._chunks,s=0;s<i.length;s++)n.push(i[s][r]);return n},e.prototype.clone=function(t,r){var n=new e,i=this._chunks,s=t&&nc(t,function(o,l){return o[l]=!0,o},{});if(s)for(var a=0;a<i.length;a++)n._chunks[a]=s[a]?_2e(i[a]):i[a];else n._chunks=i;return this._copyCommonProps(n),r||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},e.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=lt(this._extent),t._rawExtent=lt(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,r=void 0;if(t===Array){var n=this._indices.length;r=new t(n);for(var i=0;i<n;i++)r[i]=this._indices[i]}else r=new t(this._indices);return r}return null},e.prototype._getRawIdxIdentity=function(t){return t},e.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=function(){function t(r,n,i,s){return Pd(r[s],this._dimensions[s])}_j={arrayRows:t,objectRows:function(r,n,i,s){return Pd(r[n],this._dimensions[s])},keyedColumns:t,original:function(r,n,i,s){var a=r&&(r.value==null?r:r.value);return Pd(a instanceof Array?a[s]:a,this._dimensions[s])},typedArray:function(r,n,i,s){return r[s]}}}(),e}(),jre=function(){function e(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(t,r){this._sourceList=t,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,r=this._getUpstreamSourceManagers(),n=!!r.length,i,s;if(J1(t)){var a=t,o=void 0,l=void 0,c=void 0;if(n){var d=r[0];d.prepareSource(),c=d.getSource(),o=c.data,l=c.sourceFormat,s=[d._getVersionSign()]}else o=a.get("data",!0),l=ua(o)?Md:wo,s=[];var h=this._getSourceMetaRawOption()||{},f=c&&c.metaRawOption||{},p=mt(h.seriesLayoutBy,f.seriesLayoutBy)||null,g=mt(h.sourceHeader,f.sourceHeader),v=mt(h.dimensions,f.dimensions),m=p!==f.seriesLayoutBy||!!g!=!!f.sourceHeader||v;i=m?[sL(o,{seriesLayoutBy:p,sourceHeader:g,dimensions:v},l)]:[]}else{var y=t;if(n){var x=this._applyTransform(r);i=x.sourceList,s=x.upstreamSignList}else{var _=y.get("source",!0);i=[sL(_,this._getSourceMetaRawOption(),null)],s=[]}}this._setLocalSource(i,s)},e.prototype._applyTransform=function(t){var r=this._sourceHost,n=r.get("transform",!0),i=r.get("fromTransformResult",!0);if(i!=null){var s="";t.length!==1&&eH(s)}var a,o=[],l=[];return V(t,function(c){c.prepareSource();var d=c.getSource(i||0),h="";i!=null&&!d&&eH(h),o.push(d),l.push(c._getVersionSign())}),n?a=m2e(n,o,{datasetIndex:r.componentIndex}):i!=null&&(a=[XNe(o[0])]),{sourceList:a,upstreamSignList:l}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),r=0;r<t.length;r++){var n=t[r];if(n._isDirty()||this._upstreamSignList[r]!==n._getVersionSign())return!0}},e.prototype.getSource=function(t){t=t||0;var r=this._sourceList[t];if(!r){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return r},e.prototype.getSharedDataStore=function(t){var r=t.makeStoreSchema();return this._innerGetDataStore(r.dimensions,t.source,r.hash)},e.prototype._innerGetDataStore=function(t,r,n){var i=0,s=this._storeList,a=s[i];a||(a=s[i]={});var o=a[n];if(!o){var l=this._getUpstreamSourceManagers()[0];J1(this._sourceHost)&&l?o=l._innerGetDataStore(t,r,n):(o=new aL,o.initData(new _re(r,t.length),t)),a[n]=o}return o},e.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(J1(t)){var r=R5(t);return r?[r.getSourceManager()]:[]}else return xe(ENe(t),function(n){return n.getSourceManager()})},e.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,r,n,i;if(J1(t))r=t.get("seriesLayoutBy",!0),n=t.get("sourceHeader",!0),i=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var s=t;r=s.get("seriesLayoutBy",!0),n=s.get("sourceHeader",!0),i=s.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:n,dimensions:i}},e}();function QU(e){var t=e.option.transform;t&&Xk(e.option.transform)}function J1(e){return e.mainType==="series"}function eH(e){throw new Error(e)}var b2e="line-height:1";function Rre(e){var t=e.lineHeight;return t==null?b2e:"line-height:"+Ts(t+"")+"px"}function Ire(e,t){var r=e.color||"#6e7079",n=e.fontSize||12,i=e.fontWeight||"400",s=e.color||"#464646",a=e.fontSize||14,o=e.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+Ts(n+"")+"px;color:"+Ts(r)+";font-weight:"+Ts(i+""),valueStyle:"font-size:"+Ts(a+"")+"px;color:"+Ts(s)+";font-weight:"+Ts(o+"")}:{nameStyle:{fontSize:n,fill:r,fontWeight:i},valueStyle:{fontSize:a,fill:s,fontWeight:o}}}var w2e=[0,10,20,30],S2e=["",`
`,`

`,`


`];function Ei(e,t){return t.type=e,t}function oL(e){return e.type==="section"}function Mre(e){return oL(e)?C2e:k2e}function Pre(e){if(oL(e)){var t=0,r=e.blocks.length,n=r>1||r>0&&!e.noHeader;return V(e.blocks,function(i){var s=Pre(i);s>=t&&(t=s+ +(n&&(!s||oL(i)&&!i.noHeader)))}),t}return 0}function C2e(e,t,r,n){var i=t.noHeader,s=E2e(Pre(t)),a=[],o=t.blocks||[];Os(!o||ve(o)),o=o||[];var l=e.orderMode;if(t.sortBlocks&&l){o=o.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(We(c,l)){var d=new Ere(c[l],null);o.sort(function(v,m){return d.evaluate(v.sortParam,m.sortParam)})}else l==="seriesDesc"&&o.reverse()}V(o,function(v,m){var y=t.valueFormatter,x=Mre(v)(y?fe(fe({},e),{valueFormatter:y}):e,v,m>0?s.html:0,n);x!=null&&a.push(x)});var h=e.renderMode==="richText"?a.join(s.richText):lL(n,a.join(""),i?r:s.html);if(i)return h;var f=rL(t.header,"ordinal",e.useUTC),p=Ire(n,e.renderMode).nameStyle,g=Rre(n);return e.renderMode==="richText"?Lre(e,f,p)+s.richText+h:lL(n,'<div style="'+p+";"+g+';">'+Ts(f)+"</div>"+h,r)}function k2e(e,t,r,n){var i=e.renderMode,s=t.noName,a=t.noValue,o=!t.markerType,l=t.name,c=e.useUTC,d=t.valueFormatter||e.valueFormatter||function(b){return b=ve(b)?b:[b],xe(b,function(w,S){return rL(w,ve(p)?p[S]:p,c)})};if(!(s&&a)){var h=o?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",i),f=s?"":rL(l,"ordinal",c),p=t.valueType,g=a?[]:d(t.value,t.dataIndex),v=!o||!s,m=!o&&s,y=Ire(n,i),x=y.nameStyle,_=y.valueStyle;return i==="richText"?(o?"":h)+(s?"":Lre(e,f,x))+(a?"":A2e(e,g,v,m,_)):lL(n,(o?"":h)+(s?"":T2e(f,!o,x))+(a?"":N2e(g,v,m,_)),r)}}function tH(e,t,r,n,i,s){if(e){var a=Mre(e),o={useUTC:i,renderMode:r,orderMode:n,markupStyleCreator:t,valueFormatter:e.valueFormatter};return a(o,e,0,s)}}function E2e(e){return{html:w2e[e],richText:S2e[e]}}function lL(e,t,r){var n='<div style="clear:both"></div>',i="margin: "+r+"px 0 0",s=Rre(e);return'<div style="'+i+";"+s+';">'+t+n+"</div>"}function T2e(e,t,r){var n=t?"margin-left:2px":"";return'<span style="'+r+";"+n+'">'+Ts(e)+"</span>"}function N2e(e,t,r,n){var i=r?"10px":"20px",s=t?"float:right;margin-left:"+i:"";return e=ve(e)?e:[e],'<span style="'+s+";"+n+'">'+xe(e,function(a){return Ts(a)}).join("&nbsp;&nbsp;")+"</span>"}function Lre(e,t,r){return e.markupStyleCreator.wrapRichTextStyle(t,r)}function A2e(e,t,r,n,i){var s=[i],a=n?10:20;return r&&s.push({padding:[0,0,0,a],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(ve(t)?t.join("  "):t,s)}function Dre(e,t){var r=e.getData().getItemVisual(t,"style"),n=r[e.visualDrawType];return op(n)}function Ore(e,t){var r=e.get("padding");return r??(t==="richText"?[8,10]:10)}var bj=function(){function e(){this.richTextStyles={},this._nextStyleNameId=Jee()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(t,r,n){var i=n==="richText"?this._generateStyleName():null,s=xNe({color:r,type:t,renderMode:n,markerId:i});return De(s)?s:(this.richTextStyles[i]=s.style,s.content)},e.prototype.wrapRichTextStyle=function(t,r){var n={};ve(r)?V(r,function(s){return fe(n,s)}):fe(n,r);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+t+"}"},e}();function $re(e){var t=e.series,r=e.dataIndex,n=e.multipleSeries,i=t.getData(),s=i.mapDimensionsAll("defaultedTooltip"),a=s.length,o=t.getRawValue(r),l=ve(o),c=Dre(t,r),d,h,f,p;if(a>1||l&&!a){var g=j2e(o,t,r,s,c);d=g.inlineValues,h=g.inlineValueTypes,f=g.blocks,p=g.inlineValues[0]}else if(a){var v=i.getDimensionInfo(s[0]);p=d=Xm(i,r,s[0]),h=v.type}else p=d=l?o[0]:o;var m=c5(t),y=m&&t.name||"",x=i.getName(r),_=n?y:x;return Ei("section",{header:y,noHeader:n||!m,sortParam:p,blocks:[Ei("nameValue",{markerType:"item",markerColor:c,name:_,noName:!Vo(_),value:d,valueType:h,dataIndex:r})].concat(f||[])})}function j2e(e,t,r,n,i){var s=t.getData(),a=nc(e,function(h,f,p){var g=s.getDimensionInfo(p);return h=h||g&&g.tooltip!==!1&&g.displayName!=null},!1),o=[],l=[],c=[];n.length?V(n,function(h){d(Xm(s,r,h),h)}):V(e,d);function d(h,f){var p=s.getDimensionInfo(f);!p||p.otherDims.tooltip===!1||(a?c.push(Ei("nameValue",{markerType:"subItem",markerColor:i,name:p.displayName,value:h,valueType:p.type})):(o.push(h),l.push(p.type)))}return{inlineValues:o,inlineValueTypes:l,blocks:c}}var Ou=cr();function Q1(e,t){return e.getName(t)||e.getId(t)}var JC="__universalTransitionEnabled",fn=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return t.prototype.init=function(r,n,i){this.seriesIndex=this.componentIndex,this.dataTask=Dx({count:I2e,reset:M2e}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,i);var s=Ou(this).sourceManager=new jre(this);s.prepareSource();var a=this.getInitialData(r,i);nH(a,this),this.dataTask.context.data=a,Ou(this).dataBeforeProcessed=a,rH(this),this._initSelectedMapFromData(a)},t.prototype.mergeDefaultAndTheme=function(r,n){var i=$_(this),s=i?zv(r):{},a=this.subType;Kt.hasClass(a)&&(a+="Series"),Ct(r,n.getTheme().get(this.subType)),Ct(r,this.getDefaultOption()),np(r,"label",["show"]),this.fillDataTextStyle(r.data),i&&Gd(r,s,i)},t.prototype.mergeOption=function(r,n){r=Ct(this.option,r,!0),this.fillDataTextStyle(r.data);var i=$_(this);i&&Gd(this.option,r,i);var s=Ou(this).sourceManager;s.dirty(),s.prepareSource();var a=this.getInitialData(r,n);nH(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,Ou(this).dataBeforeProcessed=a,rH(this),this._initSelectedMapFromData(a)},t.prototype.fillDataTextStyle=function(r){if(r&&!ua(r))for(var n=["show"],i=0;i<r.length;i++)r[i]&&r[i].label&&np(r[i],"label",n)},t.prototype.getInitialData=function(r,n){},t.prototype.appendData=function(r){var n=this.getRawData();n.appendData(r.data)},t.prototype.getData=function(r){var n=cL(this);if(n){var i=n.context.data;return r==null||!i.getLinkedData?i:i.getLinkedData(r)}else return Ou(this).data},t.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},t.prototype.setData=function(r){var n=cL(this);if(n){var i=n.context;i.outputData=r,n!==this.dataTask&&(i.data=r)}Ou(this).data=r},t.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return qe(r)},t.prototype.getSourceManager=function(){return Ou(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return Ou(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},t.prototype.formatTooltip=function(r,n,i){return $re({series:this,dataIndex:r,multipleSeries:n})},t.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(Gt.node&&!(r&&r.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(r,n,i){var s=this.ecModel,a=I5.prototype.getColorFromPalette.call(this,r,n,i);return a||(a=s.getColorFromPalette(r,n,i)),a},t.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(r,n){this._innerSelect(this.getData(n),r)},t.prototype.unselect=function(r,n){var i=this.option.selectedMap;if(i){var s=this.option.selectedMode,a=this.getData(n);if(s==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var o=0;o<r.length;o++){var l=r[o],c=Q1(a,l);i[c]=!1,this._selectedDataIndicesMap[c]=-1}}},t.prototype.toggleSelect=function(r,n){for(var i=[],s=0;s<r.length;s++)i[0]=r[s],this.isSelected(r[s],n)?this.unselect(i,n):this.select(i,n)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,n=Zt(r),i=[],s=0;s<n.length;s++){var a=r[n[s]];a>=0&&i.push(a)}return i},t.prototype.isSelected=function(r,n){var i=this.option.selectedMap;if(!i)return!1;var s=this.getData(n);return(i==="all"||i[Q1(s,r)])&&!s.getItemModel(r).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[JC])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},t.prototype._innerSelect=function(r,n){var i,s,a=this.option,o=a.selectedMode,l=n.length;if(!(!o||!l)){if(o==="series")a.selectedMap="all";else if(o==="multiple"){st(a.selectedMap)||(a.selectedMap={});for(var c=a.selectedMap,d=0;d<l;d++){var h=n[d],f=Q1(r,h);c[f]=!0,this._selectedDataIndicesMap[f]=r.getRawIndex(h)}}else if(o==="single"||o===!0){var p=n[l-1],f=Q1(r,p);a.selectedMap=(i={},i[f]=!0,i),this._selectedDataIndicesMap=(s={},s[f]=r.getRawIndex(p),s)}}},t.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var n=[];r.hasItemOption&&r.each(function(i){var s=r.getRawDataItem(i);s&&s.selected&&n.push(i)}),n.length>0&&this._innerSelect(r,n)}},t.registerClass=function(r){return Kt.registerClass(r)},t.protoInitialize=function(){var r=t.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"}(),t}(Kt);oi(fn,LN);oi(fn,I5);ote(fn,Kt);function rH(e){var t=e.name;c5(e)||(e.name=R2e(e)||t)}function R2e(e){var t=e.getRawData(),r=t.mapDimensionsAll("seriesName"),n=[];return V(r,function(i){var s=t.getDimensionInfo(i);s.displayName&&n.push(s.displayName)}),n.join(" ")}function I2e(e){return e.model.getRawData().count()}function M2e(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),P2e}function P2e(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function nH(e,t){V(N_(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),function(r){e.wrapMethod(r,xt(L2e,t))})}function L2e(e,t){var r=cL(e);return r&&r.setOutputEnd((t||this).count()),t}function cL(e){var t=(e.ecModel||{}).scheduler,r=t&&t.getPipeline(e.uid);if(r){var n=r.currentTask;if(n){var i=n.agentStubMap;i&&(n=i.get(e.uid))}return n}}var Rn=function(){function e(){this.group=new ht,this.uid=Bv("viewComponent")}return e.prototype.init=function(t,r){},e.prototype.render=function(t,r,n,i){},e.prototype.dispose=function(t,r){},e.prototype.updateView=function(t,r,n,i){},e.prototype.updateLayout=function(t,r,n,i){},e.prototype.updateVisual=function(t,r,n,i){},e.prototype.toggleBlurSeries=function(t,r,n){},e.prototype.eachRendered=function(t){var r=this.group;r&&r.traverse(t)},e}();d5(Rn);vN(Rn);function Hv(){var e=cr();return function(t){var r=e(t),n=t.pipelineContext,i=!!r.large,s=!!r.progressiveRender,a=r.large=!!(n&&n.large),o=r.progressiveRender=!!(n&&n.progressiveRender);return(i!==a||s!==o)&&"reset"}}var Bre=cr(),D2e=Hv(),nn=function(){function e(){this.group=new ht,this.uid=Bv("viewChart"),this.renderTask=Dx({plan:O2e,reset:$2e}),this.renderTask.context={view:this}}return e.prototype.init=function(t,r){},e.prototype.render=function(t,r,n,i){},e.prototype.highlight=function(t,r,n,i){var s=t.getData(i&&i.dataType);s&&sH(s,i,"emphasis")},e.prototype.downplay=function(t,r,n,i){var s=t.getData(i&&i.dataType);s&&sH(s,i,"normal")},e.prototype.remove=function(t,r){this.group.removeAll()},e.prototype.dispose=function(t,r){},e.prototype.updateView=function(t,r,n,i){this.render(t,r,n,i)},e.prototype.updateLayout=function(t,r,n,i){this.render(t,r,n,i)},e.prototype.updateVisual=function(t,r,n,i){this.render(t,r,n,i)},e.prototype.eachRendered=function(t){fh(this.group,t)},e.markUpdateMethod=function(t,r){Bre(t).updateMethod=r},e.protoInitialize=function(){var t=e.prototype;t.type="chart"}(),e}();function iH(e,t,r){e&&L_(e)&&(t==="emphasis"?lu:cu)(e,r)}function sH(e,t,r){var n=ip(e,t),i=t&&t.highlightKey!=null?xTe(t.highlightKey):null;n!=null?V(Xr(n),function(s){iH(e.getItemGraphicEl(s),r,i)}):e.eachItemGraphicEl(function(s){iH(s,r,i)})}d5(nn);vN(nn);function O2e(e){return D2e(e.model)}function $2e(e){var t=e.model,r=e.ecModel,n=e.api,i=e.payload,s=t.pipelineContext.progressiveRender,a=e.view,o=i&&Bre(i).updateMethod,l=s?"incrementalPrepareRender":o&&a[o]?o:"render";return l!=="render"&&a[l](t,r,n,i),B2e[l]}var B2e={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},fE="\0__throttleOriginMethod",aH="\0__throttleRate",oH="\0__throttleType";function $5(e,t,r){var n,i=0,s=0,a=null,o,l,c,d;t=t||0;function h(){s=new Date().getTime(),a=null,e.apply(l,c||[])}var f=function(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];n=new Date().getTime(),l=this,c=p;var v=d||t,m=d||r;d=null,o=n-(m?i:s)-v,clearTimeout(a),m?a=setTimeout(h,v):o>=0?h():a=setTimeout(h,-o),i=n};return f.clear=function(){a&&(clearTimeout(a),a=null)},f.debounceNextCall=function(p){d=p},f}function Vv(e,t,r,n){var i=e[t];if(i){var s=i[fE]||i,a=i[oH],o=i[aH];if(o!==r||a!==n){if(r==null||!n)return e[t]=s;i=e[t]=$5(s,r,n==="debounce"),i[fE]=s,i[oH]=n,i[aH]=r}return i}}function F_(e,t){var r=e[t];r&&r[fE]&&(r.clear&&r.clear(),e[t]=r[fE])}var lH=cr(),cH={itemStyle:sp(Wte,!0),lineStyle:sp(Vte,!0)},F2e={lineStyle:"stroke",itemStyle:"fill"};function Fre(e,t){var r=e.visualStyleMapper||cH[t];return r||(console.warn("Unknown style type '"+t+"'."),cH.itemStyle)}function zre(e,t){var r=e.visualDrawType||F2e[t];return r||(console.warn("Unknown style type '"+t+"'."),"fill")}var z2e={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData(),n=e.visualStyleAccessPath||"itemStyle",i=e.getModel(n),s=Fre(e,n),a=s(i),o=i.getShallow("decal");o&&(r.setVisual("decal",o),o.dirty=!0);var l=zre(e,n),c=a[l],d=et(c)?c:null,h=a.fill==="auto"||a.stroke==="auto";if(!a[l]||d||h){var f=e.getColorFromPalette(e.name,null,t.getSeriesCount());a[l]||(a[l]=f,r.setVisual("colorFromPalette",!0)),a.fill=a.fill==="auto"||et(a.fill)?f:a.fill,a.stroke=a.stroke==="auto"||et(a.stroke)?f:a.stroke}if(r.setVisual("style",a),r.setVisual("drawType",l),!t.isSeriesFiltered(e)&&d)return r.setVisual("colorFromPalette",!1),{dataEach:function(p,g){var v=e.getDataParams(g),m=fe({},a);m[l]=d(v),p.setItemVisual(g,"style",m)}}}},uy=new Lr,U2e={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!(e.ignoreStyleOnData||t.isSeriesFiltered(e))){var r=e.getData(),n=e.visualStyleAccessPath||"itemStyle",i=Fre(e,n),s=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(a,o){var l=a.getRawDataItem(o);if(l&&l[n]){uy.option=l[n];var c=i(uy),d=a.ensureUniqueItemVisual(o,"style");fe(d,c),uy.option.decal&&(a.setItemVisual(o,"decal",uy.option.decal),uy.option.decal.dirty=!0),s in c&&a.setItemVisual(o,"colorFromPalette",!1)}}:null}}}},H2e={performRawSeries:!0,overallReset:function(e){var t=qe();e.eachSeries(function(r){var n=r.getColorBy();if(!r.isColorBySeries()){var i=r.type+"-"+n,s=t.get(i);s||(s={},t.set(i,s)),lH(r).scope=s}}),e.eachSeries(function(r){if(!(r.isColorBySeries()||e.isSeriesFiltered(r))){var n=r.getRawData(),i={},s=r.getData(),a=lH(r).scope,o=r.visualStyleAccessPath||"itemStyle",l=zre(r,o);s.each(function(c){var d=s.getRawIndex(c);i[d]=c}),n.each(function(c){var d=i[c],h=s.getItemVisual(d,"colorFromPalette");if(h){var f=s.ensureUniqueItemVisual(d,"style"),p=n.getName(c)||c+"",g=n.count();f[l]=r.getColorFromPalette(p,a,g)}})}})}},eS=Math.PI;function V2e(e,t){t=t||{},rt(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new ht,n=new lr({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});r.add(n);var i=new pr({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),s=new lr({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});r.add(s);var a;return t.showSpinner&&(a=new CN({shape:{startAngle:-eS/2,endAngle:-eS/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),a.animateShape(!0).when(1e3,{endAngle:eS*3/2}).start("circularInOut"),a.animateShape(!0).when(1e3,{startAngle:eS*3/2}).delay(300).start("circularInOut"),r.add(a)),r.resize=function(){var o=i.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,c=(e.getWidth()-l*2-(t.showSpinner&&o?10:0)-o)/2-(t.showSpinner&&o?0:5+o/2)+(t.showSpinner?0:o/2)+(o?0:l),d=e.getHeight()/2;t.showSpinner&&a.setShape({cx:c,cy:d}),s.setShape({x:c-l,y:d-l,width:l*2,height:l*2}),n.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},r.resize(),r}var Ure=function(){function e(t,r,n,i){this._stageTaskMap=qe(),this.ecInstance=t,this.api=r,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return e.prototype.restoreData=function(t,r){t.restoreData(r),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},e.prototype.getPerformArgs=function(t,r){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,s=!r&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex,a=s?n.step:null,o=i&&i.modDataCount,l=o!=null?Math.ceil(o/a):null;return{step:a,modBy:l,modDataCount:o}}},e.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},e.prototype.updateStreamModes=function(t,r){var n=this._pipelineMap.get(t.uid),i=t.getData(),s=i.count(),a=n.progressiveEnabled&&r.incrementalPrepareRender&&s>=n.threshold,o=t.get("large")&&s>=t.get("largeThreshold"),l=t.get("progressiveChunkMode")==="mod"?s:null;t.pipelineContext=n.context={progressiveRender:a,modDataCount:l,large:o}},e.prototype.restorePipelines=function(t){var r=this,n=r._pipelineMap=qe();t.eachSeries(function(i){var s=i.getProgressive(),a=i.uid;n.set(a,{id:a,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:s&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(s||700),count:0}),r._pipe(i,i.dataTask)})},e.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,r=this.api.getModel(),n=this.api;V(this._allHandlers,function(i){var s=t.get(i.uid)||t.set(i.uid,{}),a="";Os(!(i.reset&&i.overallReset),a),i.reset&&this._createSeriesStageTask(i,s,r,n),i.overallReset&&this._createOverallStageTask(i,s,r,n)},this)},e.prototype.prepareView=function(t,r,n,i){var s=t.renderTask,a=s.context;a.model=r,a.ecModel=n,a.api=i,s.__block=!t.incrementalPrepareRender,this._pipe(r,s)},e.prototype.performDataProcessorTasks=function(t,r){this._performStageTasks(this._dataProcessorHandlers,t,r,{block:!0})},e.prototype.performVisualTasks=function(t,r,n){this._performStageTasks(this._visualHandlers,t,r,n)},e.prototype._performStageTasks=function(t,r,n,i){i=i||{};var s=!1,a=this;V(t,function(l,c){if(!(i.visualType&&i.visualType!==l.visualType)){var d=a._stageTaskMap.get(l.uid),h=d.seriesTaskMap,f=d.overallTask;if(f){var p,g=f.agentStubMap;g.each(function(m){o(i,m)&&(m.dirty(),p=!0)}),p&&f.dirty(),a.updatePayload(f,n);var v=a.getPerformArgs(f,i.block);g.each(function(m){m.perform(v)}),f.perform(v)&&(s=!0)}else h&&h.each(function(m,y){o(i,m)&&m.dirty();var x=a.getPerformArgs(m,i.block);x.skip=!l.performRawSeries&&r.isSeriesFiltered(m.context.model),a.updatePayload(m,n),m.perform(x)&&(s=!0)})}});function o(l,c){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(c.__pipeline.id))}this.unfinished=s||this.unfinished},e.prototype.performSeriesTasks=function(t){var r;t.eachSeries(function(n){r=n.dataTask.perform()||r}),this.unfinished=r||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each(function(t){var r=t.tail;do{if(r.__block){t.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},e.prototype.updatePayload=function(t,r){r!=="remain"&&(t.context.payload=r)},e.prototype._createSeriesStageTask=function(t,r,n,i){var s=this,a=r.seriesTaskMap,o=r.seriesTaskMap=qe(),l=t.seriesType,c=t.getTargetSeries;t.createOnAllSeries?n.eachRawSeries(d):l?n.eachRawSeriesByType(l,d):c&&c(n,i).each(d);function d(h){var f=h.uid,p=o.set(f,a&&a.get(f)||Dx({plan:K2e,reset:Z2e,count:J2e}));p.context={model:h,ecModel:n,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:s},s._pipe(h,p)}},e.prototype._createOverallStageTask=function(t,r,n,i){var s=this,a=r.overallTask=r.overallTask||Dx({reset:W2e});a.context={ecModel:n,api:i,overallReset:t.overallReset,scheduler:s};var o=a.agentStubMap,l=a.agentStubMap=qe(),c=t.seriesType,d=t.getTargetSeries,h=!0,f=!1,p="";Os(!t.createOnAllSeries,p),c?n.eachRawSeriesByType(c,g):d?d(n,i).each(g):(h=!1,V(n.getSeries(),g));function g(v){var m=v.uid,y=l.set(m,o&&o.get(m)||(f=!0,Dx({reset:G2e,onDirty:Y2e})));y.context={model:v,overallProgress:h},y.agent=a,y.__block=h,s._pipe(v,y)}f&&a.dirty()},e.prototype._pipe=function(t,r){var n=t.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=r),i.tail&&i.tail.pipe(r),i.tail=r,r.__idxInPipeline=i.count++,r.__pipeline=i},e.wrapStageHandler=function(t,r){return et(t)&&(t={overallReset:t,seriesType:Q2e(t)}),t.uid=Bv("stageHandler"),r&&(t.visualType=r),t},e}();function W2e(e){e.overallReset(e.ecModel,e.api,e.payload)}function G2e(e){return e.overallProgress&&q2e}function q2e(){this.agent.dirty(),this.getDownstream().dirty()}function Y2e(){this.agent&&this.agent.dirty()}function K2e(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function Z2e(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=Xr(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?xe(t,function(r,n){return Hre(n)}):X2e}var X2e=Hre(0);function Hre(e){return function(t,r){var n=r.data,i=r.resetDefines[e];if(i&&i.dataEach)for(var s=t.start;s<t.end;s++)i.dataEach(n,s);else i&&i.progress&&i.progress(t,n)}}function J2e(e){return e.data.count()}function Q2e(e){pE=null;try{e(z_,Vre)}catch{}return pE}var z_={},Vre={},pE;Wre(z_,M5);Wre(Vre,gre);z_.eachSeriesByType=z_.eachRawSeriesByType=function(e){pE=e};z_.eachComponent=function(e){e.mainType==="series"&&e.subType&&(pE=e.subType)};function Wre(e,t){for(var r in t.prototype)e[r]=Xn}var uH=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const eAe={color:uH,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],uH]};var rs="#B9B8CE",dH="#100C2A",tS=function(){return{axisLine:{lineStyle:{color:rs}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},hH=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Gre={darkMode:!0,color:hH,backgroundColor:dH,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:rs},pageTextStyle:{color:rs}},textStyle:{color:rs},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:rs}},dataZoom:{borderColor:"#71708A",textStyle:{color:rs},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:rs}},timeline:{lineStyle:{color:rs},label:{color:rs},controlStyle:{color:rs,borderColor:rs}},calendar:{itemStyle:{color:dH},dayLabel:{color:rs},monthLabel:{color:rs},yearLabel:{color:rs}},timeAxis:tS(),logAxis:tS(),valueAxis:tS(),categoryAxis:tS(),line:{symbol:"circle"},graph:{color:hH},gauge:{title:{color:rs},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:rs},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Gre.categoryAxis.splitLine.show=!1;var tAe=function(){function e(){}return e.prototype.normalizeQuery=function(t){var r={},n={},i={};if(De(t)){var s=Bl(t);r.mainType=s.main||null,r.subType=s.sub||null}else{var a=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};V(t,function(l,c){for(var d=!1,h=0;h<a.length;h++){var f=a[h],p=c.lastIndexOf(f);if(p>0&&p===c.length-f.length){var g=c.slice(0,p);g!=="data"&&(r.mainType=g,r[f.toLowerCase()]=l,d=!0)}}o.hasOwnProperty(c)&&(n[c]=l,d=!0),d||(i[c]=l)})}return{cptQuery:r,dataQuery:n,otherQuery:i}},e.prototype.filter=function(t,r){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,s=n.packedEvent,a=n.model,o=n.view;if(!a||!o)return!0;var l=r.cptQuery,c=r.dataQuery;return d(l,a,"mainType")&&d(l,a,"subType")&&d(l,a,"index","componentIndex")&&d(l,a,"name")&&d(l,a,"id")&&d(c,s,"name")&&d(c,s,"dataIndex")&&d(c,s,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(t,r.otherQuery,i,s));function d(h,f,p,g){return h[p]==null||f[g||p]===h[p]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),uL=["symbol","symbolSize","symbolRotate","symbolOffset"],fH=uL.concat(["symbolKeepAspect"]),rAe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData();if(e.legendIcon&&r.setVisual("legendIcon",e.legendIcon),!e.hasSymbolVisual)return;for(var n={},i={},s=!1,a=0;a<uL.length;a++){var o=uL[a],l=e.get(o);et(l)?(s=!0,i[o]=l):n[o]=l}if(n.symbol=n.symbol||e.defaultSymbol,r.setVisual(fe({legendIcon:e.legendIcon||n.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},n)),t.isSeriesFiltered(e))return;var c=Zt(i);function d(h,f){for(var p=e.getRawValue(f),g=e.getDataParams(f),v=0;v<c.length;v++){var m=c[v];h.setItemVisual(f,m,i[m](p,g))}}return{dataEach:s?d:null}}},nAe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.hasSymbolVisual||t.isSeriesFiltered(e))return;var r=e.getData();function n(i,s){for(var a=i.getItemModel(s),o=0;o<fH.length;o++){var l=fH[o],c=a.getShallow(l,!0);c!=null&&i.setItemVisual(s,l,c)}}return{dataEach:r.hasItemOption?n:null}}};function B5(e,t,r){switch(r){case"color":var n=e.getItemVisual(t,"style");return n[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,r)}}function tw(e,t){switch(t){case"color":var r=e.getVisual("style");return r[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t)}}function qre(e,t,r,n){switch(r){case"color":var i=e.ensureUniqueItemVisual(t,"style");i[e.getVisual("drawType")]=n,e.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":e.ensureUniqueItemVisual(t,"style").opacity=n;break;case"symbol":case"symbolSize":case"liftZ":e.setItemVisual(t,r,n);break}}function Yre(e,t){function r(n,i){var s=[];return n.eachComponent({mainType:"series",subType:e,query:i},function(a){s.push(a.seriesIndex)}),s}V([[e+"ToggleSelect","toggleSelect"],[e+"Select","select"],[e+"UnSelect","unselect"]],function(n){t(n[0],function(i,s,a){i=fe({},i),a.dispatchAction(fe(i,{type:n[1],seriesIndex:r(s,i)}))})})}function cg(e,t,r,n,i){var s=e+t;r.isSilent(s)||n.eachComponent({mainType:"series",subType:"pie"},function(a){for(var o=a.seriesIndex,l=a.option.selectedMap,c=i.selected,d=0;d<c.length;d++)if(c[d].seriesIndex===o){var h=a.getData(),f=ip(h,i.fromActionPayload);r.trigger(s,{type:s,seriesId:a.id,name:ve(f)?h.getName(f[0]):h.getName(f),selected:De(l)?l:fe({},l)})}})}function iAe(e,t,r){e.on("selectchanged",function(n){var i=r.getModel();n.isFromClick?(cg("map","selectchanged",t,i,n),cg("pie","selectchanged",t,i,n)):n.fromAction==="select"?(cg("map","selected",t,i,n),cg("pie","selected",t,i,n)):n.fromAction==="unselect"&&(cg("map","unselected",t,i,n),cg("pie","unselected",t,i,n))})}function Cf(e,t,r){for(var n;e&&!(t(e)&&(n=e,r));)e=e.__hostTarget||e.parent;return n}var sAe=Math.round(Math.random()*9),aAe=typeof Object.defineProperty=="function",oAe=function(){function e(){this._id="__ec_inner_"+sAe++}return e.prototype.get=function(t){return this._guard(t)[this._id]},e.prototype.set=function(t,r){var n=this._guard(t);return aAe?Object.defineProperty(n,this._id,{value:r,enumerable:!1,configurable:!0}):n[this._id]=r,this},e.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},e.prototype.has=function(t){return!!this._guard(t)[this._id]},e.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},e}(),lAe=Vt.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var r=t.cx,n=t.cy,i=t.width/2,s=t.height/2;e.moveTo(r,n-s),e.lineTo(r+i,n+s),e.lineTo(r-i,n+s),e.closePath()}}),cAe=Vt.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var r=t.cx,n=t.cy,i=t.width/2,s=t.height/2;e.moveTo(r,n-s),e.lineTo(r+i,n),e.lineTo(r,n+s),e.lineTo(r-i,n),e.closePath()}}),uAe=Vt.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var r=t.x,n=t.y,i=t.width/5*3,s=Math.max(i,t.height),a=i/2,o=a*a/(s-a),l=n-s+a+o,c=Math.asin(o/a),d=Math.cos(c)*a,h=Math.sin(c),f=Math.cos(c),p=a*.6,g=a*.7;e.moveTo(r-d,l+o),e.arc(r,l,a,Math.PI-c,Math.PI*2+c),e.bezierCurveTo(r+d-h*p,l+o+f*p,r,n-g,r,n),e.bezierCurveTo(r,n-g,r-d+h*p,l+o+f*p,r-d,l+o),e.closePath()}}),dAe=Vt.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var r=t.height,n=t.width,i=t.x,s=t.y,a=n/3*2;e.moveTo(i,s),e.lineTo(i+a,s+r),e.lineTo(i,s+r/4*3),e.lineTo(i-a,s+r),e.lineTo(i,s),e.closePath()}}),hAe={line:wi,rect:lr,roundRect:lr,square:lr,circle:wu,diamond:cAe,pin:uAe,arrow:dAe,triangle:lAe},fAe={line:function(e,t,r,n,i){i.x1=e,i.y1=t+n/2,i.x2=e+r,i.y2=t+n/2},rect:function(e,t,r,n,i){i.x=e,i.y=t,i.width=r,i.height=n},roundRect:function(e,t,r,n,i){i.x=e,i.y=t,i.width=r,i.height=n,i.r=Math.min(r,n)/4},square:function(e,t,r,n,i){var s=Math.min(r,n);i.x=e,i.y=t,i.width=s,i.height=s},circle:function(e,t,r,n,i){i.cx=e+r/2,i.cy=t+n/2,i.r=Math.min(r,n)/2},diamond:function(e,t,r,n,i){i.cx=e+r/2,i.cy=t+n/2,i.width=r,i.height=n},pin:function(e,t,r,n,i){i.x=e+r/2,i.y=t+n/2,i.width=r,i.height=n},arrow:function(e,t,r,n,i){i.x=e+r/2,i.y=t+n/2,i.width=r,i.height=n},triangle:function(e,t,r,n,i){i.cx=e+r/2,i.cy=t+n/2,i.width=r,i.height=n}},gE={};V(hAe,function(e,t){gE[t]=new e});var pAe=Vt.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,r){var n=iE(e,t,r),i=this.shape;return i&&i.symbolType==="pin"&&t.position==="inside"&&(n.y=r.y+r.height*.4),n},buildPath:function(e,t,r){var n=t.symbolType;if(n!=="none"){var i=gE[n];i||(n="rect",i=gE[n]),fAe[n](t.x,t.y,t.width,t.height,i.shape),i.buildPath(e,i.shape,r)}}});function gAe(e,t){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=e,r.fill=t||"#fff",r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=e:r.fill=e,this.markRedraw()}}function ai(e,t,r,n,i,s,a){var o=e.indexOf("empty")===0;o&&(e=e.substr(5,1).toLowerCase()+e.substr(6));var l;return e.indexOf("image://")===0?l=Dte(e.slice(8),new At(t,r,n,i),a?"center":"cover"):e.indexOf("path://")===0?l=kN(e.slice(7),{},new At(t,r,n,i),a?"center":"cover"):l=new pAe({shape:{symbolType:e,x:t,y:r,width:n,height:i}}),l.__isEmptyBrush=o,l.setColor=gAe,s&&l.setColor(s),l}function Wv(e){return ve(e)||(e=[+e,+e]),[e[0]||0,e[1]||0]}function jp(e,t){if(e!=null)return ve(e)||(e=[e,e]),[Ne(e[0],t[0])||0,Ne(mt(e[1],e[0]),t[1])||0]}function kf(e){return isFinite(e)}function mAe(e,t,r){var n=t.x==null?0:t.x,i=t.x2==null?1:t.x2,s=t.y==null?0:t.y,a=t.y2==null?0:t.y2;t.global||(n=n*r.width+r.x,i=i*r.width+r.x,s=s*r.height+r.y,a=a*r.height+r.y),n=kf(n)?n:0,i=kf(i)?i:1,s=kf(s)?s:0,a=kf(a)?a:0;var o=e.createLinearGradient(n,s,i,a);return o}function vAe(e,t,r){var n=r.width,i=r.height,s=Math.min(n,i),a=t.x==null?.5:t.x,o=t.y==null?.5:t.y,l=t.r==null?.5:t.r;t.global||(a=a*n+r.x,o=o*i+r.y,l=l*s),a=kf(a)?a:.5,o=kf(o)?o:.5,l=l>=0&&kf(l)?l:.5;var c=e.createRadialGradient(a,o,0,a,o,l);return c}function dL(e,t,r){for(var n=t.type==="radial"?vAe(e,t,r):mAe(e,t,r),i=t.colorStops,s=0;s<i.length;s++)n.addColorStop(i[s].offset,i[s].color);return n}function yAe(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!0;return!1}function rS(e){return parseInt(e,10)}function im(e,t,r){var n=["width","height"][t],i=["clientWidth","clientHeight"][t],s=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(r[n]!=null&&r[n]!=="auto")return parseFloat(r[n]);var o=document.defaultView.getComputedStyle(e);return(e[i]||rS(o[n])||rS(e.style[n]))-(rS(o[s])||0)-(rS(o[a])||0)|0}function xAe(e,t){return!e||e==="solid"||!(t>0)?null:e==="dashed"?[4*t,2*t]:e==="dotted"?[t]:xr(e)?[e]:ve(e)?e:null}function F5(e){var t=e.style,r=t.lineDash&&t.lineWidth>0&&xAe(t.lineDash,t.lineWidth),n=t.lineDashOffset;if(r){var i=t.strokeNoScale&&e.getLineScale?e.getLineScale():1;i&&i!==1&&(r=xe(r,function(s){return s/i}),n/=i)}return[r,n]}var _Ae=new oc(!0);function mE(e){var t=e.stroke;return!(t==null||t==="none"||!(e.lineWidth>0))}function pH(e){return typeof e=="string"&&e!=="none"}function vE(e){var t=e.fill;return t!=null&&t!=="none"}function gH(e,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var r=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=r}else e.fill()}function mH(e,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var r=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=r}else e.stroke()}function hL(e,t,r){var n=h5(t.image,t.__image,r);if(yN(n)){var i=e.createPattern(n,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var s=new DOMMatrix;s.translateSelf(t.x||0,t.y||0),s.rotateSelf(0,0,(t.rotation||0)*$C),s.scaleSelf(t.scaleX||1,t.scaleY||1),i.setTransform(s)}return i}}function bAe(e,t,r,n){var i,s=mE(r),a=vE(r),o=r.strokePercent,l=o<1,c=!t.path;(!t.silent||l)&&c&&t.createPathProxy();var d=t.path||_Ae,h=t.__dirty;if(!n){var f=r.fill,p=r.stroke,g=a&&!!f.colorStops,v=s&&!!p.colorStops,m=a&&!!f.image,y=s&&!!p.image,x=void 0,_=void 0,b=void 0,w=void 0,S=void 0;(g||v)&&(S=t.getBoundingRect()),g&&(x=h?dL(e,f,S):t.__canvasFillGradient,t.__canvasFillGradient=x),v&&(_=h?dL(e,p,S):t.__canvasStrokeGradient,t.__canvasStrokeGradient=_),m&&(b=h||!t.__canvasFillPattern?hL(e,f,t):t.__canvasFillPattern,t.__canvasFillPattern=b),y&&(w=h||!t.__canvasStrokePattern?hL(e,p,t):t.__canvasStrokePattern,t.__canvasStrokePattern=b),g?e.fillStyle=x:m&&(b?e.fillStyle=b:a=!1),v?e.strokeStyle=_:y&&(w?e.strokeStyle=w:s=!1)}var k=t.getGlobalScale();d.setScale(k[0],k[1],t.segmentIgnoreThreshold);var C,E;e.setLineDash&&r.lineDash&&(i=F5(t),C=i[0],E=i[1]);var T=!0;(c||h&Ky)&&(d.setDPR(e.dpr),l?d.setContext(null):(d.setContext(e),T=!1),d.reset(),t.buildPath(d,t.shape,n),d.toStatic(),t.pathUpdated()),T&&d.rebuildPath(e,l?o:1),C&&(e.setLineDash(C),e.lineDashOffset=E),n||(r.strokeFirst?(s&&mH(e,r),a&&gH(e,r)):(a&&gH(e,r),s&&mH(e,r))),C&&e.setLineDash([])}function wAe(e,t,r){var n=t.__image=h5(r.image,t.__image,t,t.onload);if(!(!n||!yN(n))){var i=r.x||0,s=r.y||0,a=t.getWidth(),o=t.getHeight(),l=n.width/n.height;if(a==null&&o!=null?a=o*l:o==null&&a!=null?o=a/l:a==null&&o==null&&(a=n.width,o=n.height),r.sWidth&&r.sHeight){var c=r.sx||0,d=r.sy||0;e.drawImage(n,c,d,r.sWidth,r.sHeight,i,s,a,o)}else if(r.sx&&r.sy){var c=r.sx,d=r.sy,h=a-c,f=o-d;e.drawImage(n,c,d,h,f,i,s,a,o)}else e.drawImage(n,i,s,a,o)}}function SAe(e,t,r){var n,i=r.text;if(i!=null&&(i+=""),i){e.font=r.font||Ud,e.textAlign=r.textAlign,e.textBaseline=r.textBaseline;var s=void 0,a=void 0;e.setLineDash&&r.lineDash&&(n=F5(t),s=n[0],a=n[1]),s&&(e.setLineDash(s),e.lineDashOffset=a),r.strokeFirst?(mE(r)&&e.strokeText(i,r.x,r.y),vE(r)&&e.fillText(i,r.x,r.y)):(vE(r)&&e.fillText(i,r.x,r.y),mE(r)&&e.strokeText(i,r.x,r.y)),s&&e.setLineDash([])}}var vH=["shadowBlur","shadowOffsetX","shadowOffsetY"],yH=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Kre(e,t,r,n,i){var s=!1;if(!n&&(r=r||{},t===r))return!1;if(n||t.opacity!==r.opacity){ta(e,i),s=!0;var a=Math.max(Math.min(t.opacity,1),0);e.globalAlpha=isNaN(a)?$f.opacity:a}(n||t.blend!==r.blend)&&(s||(ta(e,i),s=!0),e.globalCompositeOperation=t.blend||$f.blend);for(var o=0;o<vH.length;o++){var l=vH[o];(n||t[l]!==r[l])&&(s||(ta(e,i),s=!0),e[l]=e.dpr*(t[l]||0))}return(n||t.shadowColor!==r.shadowColor)&&(s||(ta(e,i),s=!0),e.shadowColor=t.shadowColor||$f.shadowColor),s}function xH(e,t,r,n,i){var s=U_(t,i.inHover),a=n?null:r&&U_(r,i.inHover)||{};if(s===a)return!1;var o=Kre(e,s,a,n,i);if((n||s.fill!==a.fill)&&(o||(ta(e,i),o=!0),pH(s.fill)&&(e.fillStyle=s.fill)),(n||s.stroke!==a.stroke)&&(o||(ta(e,i),o=!0),pH(s.stroke)&&(e.strokeStyle=s.stroke)),(n||s.opacity!==a.opacity)&&(o||(ta(e,i),o=!0),e.globalAlpha=s.opacity==null?1:s.opacity),t.hasStroke()){var l=s.lineWidth,c=l/(s.strokeNoScale&&t.getLineScale?t.getLineScale():1);e.lineWidth!==c&&(o||(ta(e,i),o=!0),e.lineWidth=c)}for(var d=0;d<yH.length;d++){var h=yH[d],f=h[0];(n||s[f]!==a[f])&&(o||(ta(e,i),o=!0),e[f]=s[f]||h[1])}return o}function CAe(e,t,r,n,i){return Kre(e,U_(t,i.inHover),r&&U_(r,i.inHover),n,i)}function Zre(e,t){var r=t.transform,n=e.dpr||1;r?e.setTransform(n*r[0],n*r[1],n*r[2],n*r[3],n*r[4],n*r[5]):e.setTransform(n,0,0,n,0,0)}function kAe(e,t,r){for(var n=!1,i=0;i<e.length;i++){var s=e[i];n=n||s.isZeroArea(),Zre(t,s),t.beginPath(),s.buildPath(t,s.shape),t.clip()}r.allClipped=n}function EAe(e,t){return e&&t?e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]:!(!e&&!t)}var _H=1,bH=2,wH=3,SH=4;function TAe(e){var t=vE(e),r=mE(e);return!(e.lineDash||!(+t^+r)||t&&typeof e.fill!="string"||r&&typeof e.stroke!="string"||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}function ta(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function U_(e,t){return t&&e.__hoverStyle||e.style}function Xre(e,t){Ef(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Ef(e,t,r,n){var i=t.transform;if(!t.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){t.__dirty&=-2,t.__isRendered=!1;return}var s=t.__clipPaths,a=r.prevElClipPaths,o=!1,l=!1;if((!a||yAe(s,a))&&(a&&a.length&&(ta(e,r),e.restore(),l=o=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),s&&s.length&&(ta(e,r),e.save(),kAe(s,e,r),o=!0),r.prevElClipPaths=s),r.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var c=r.prevEl;c||(l=o=!0);var d=t instanceof Vt&&t.autoBatch&&TAe(t.style);o||EAe(i,c.transform)?(ta(e,r),Zre(e,t)):d||ta(e,r);var h=U_(t,r.inHover);t instanceof Vt?(r.lastDrawType!==_H&&(l=!0,r.lastDrawType=_H),xH(e,t,c,l,r),(!d||!r.batchFill&&!r.batchStroke)&&e.beginPath(),bAe(e,t,h,d),d&&(r.batchFill=h.fill||"",r.batchStroke=h.stroke||"")):t instanceof Km?(r.lastDrawType!==wH&&(l=!0,r.lastDrawType=wH),xH(e,t,c,l,r),SAe(e,t,h)):t instanceof Oi?(r.lastDrawType!==bH&&(l=!0,r.lastDrawType=bH),CAe(e,t,c,l,r),wAe(e,t,h)):t.getTemporalDisplayables&&(r.lastDrawType!==SH&&(l=!0,r.lastDrawType=SH),NAe(e,t,r)),d&&n&&ta(e,r),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),r.prevEl=t,t.__dirty=0,t.__isRendered=!0}function NAe(e,t,r){var n=t.getDisplayables(),i=t.getTemporalDisplayables();e.save();var s={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},a,o;for(a=t.getCursor(),o=n.length;a<o;a++){var l=n[a];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Ef(e,l,s,a===o-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),s.prevEl=l}for(var c=0,d=i.length;c<d;c++){var l=i[c];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Ef(e,l,s,c===d-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),s.prevEl=l}t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}var wj=new oAe,CH=new Wb(100),kH=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Jm(e,t){if(e==="none")return null;var r=t.getDevicePixelRatio(),n=t.getZr(),i=n.painter.type==="svg";e.dirty&&wj.delete(e);var s=wj.get(e);if(s)return s;var a=rt(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});a.backgroundColor==="none"&&(a.backgroundColor=null);var o={repeat:"repeat"};return l(o),o.rotation=a.rotation,o.scaleX=o.scaleY=i?1:1/r,wj.set(e,o),e.dirty=!1,o;function l(c){for(var d=[r],h=!0,f=0;f<kH.length;++f){var p=a[kH[f]];if(p!=null&&!ve(p)&&!De(p)&&!xr(p)&&typeof p!="boolean"){h=!1;break}d.push(p)}var g;if(h){g=d.join(",")+(i?"-svg":"");var v=CH.get(g);v&&(i?c.svgElement=v:c.image=v)}var m=Qre(a.dashArrayX),y=AAe(a.dashArrayY),x=Jre(a.symbol),_=jAe(m),b=ene(y),w=!i&&Hd.createCanvas(),S=i&&{tag:"g",attrs:{},key:"dcl",children:[]},k=E(),C;w&&(w.width=k.width*r,w.height=k.height*r,C=w.getContext("2d")),T(),h&&CH.put(g,w||S),c.image=w,c.svgElement=S,c.svgWidth=k.width,c.svgHeight=k.height;function E(){for(var N=1,R=0,P=_.length;R<P;++R)N=U8(N,_[R]);for(var D=1,R=0,P=x.length;R<P;++R)D=U8(D,x[R].length);N*=D;var $=b*_.length*x.length;return{width:Math.max(1,Math.min(N,a.maxTileWidth)),height:Math.max(1,Math.min($,a.maxTileHeight))}}function T(){C&&(C.clearRect(0,0,w.width,w.height),a.backgroundColor&&(C.fillStyle=a.backgroundColor,C.fillRect(0,0,w.width,w.height)));for(var N=0,R=0;R<y.length;++R)N+=y[R];if(N<=0)return;for(var P=-b,D=0,$=0,L=0;P<k.height;){if(D%2===0){for(var O=$/2%x.length,j=0,M=0,I=0;j<k.width*2;){for(var z=0,R=0;R<m[L].length;++R)z+=m[L][R];if(z<=0)break;if(M%2===0){var U=(1-a.symbolSize)*.5,F=j+m[L][M]*U,G=P+y[D]*U,Y=m[L][M]*a.symbolSize,Z=y[D]*a.symbolSize,B=I/2%x[O].length;W(F,G,Y,Z,x[O][B])}j+=m[L][M],++I,++M,M===m[L].length&&(M=0)}++L,L===m.length&&(L=0)}P+=y[D],++$,++D,D===y.length&&(D=0)}function W(K,X,Q,re,Se){var Te=i?1:r,Ie=ai(Se,K*Te,X*Te,Q*Te,re*Te,a.color,a.symbolKeepAspect);if(i){var Me=n.painter.renderOneToVNode(Ie);Me&&S.children.push(Me)}else Xre(C,Ie)}}}}function Jre(e){if(!e||e.length===0)return[["rect"]];if(De(e))return[[e]];for(var t=!0,r=0;r<e.length;++r)if(!De(e[r])){t=!1;break}if(t)return Jre([e]);for(var n=[],r=0;r<e.length;++r)De(e[r])?n.push([e[r]]):n.push(e[r]);return n}function Qre(e){if(!e||e.length===0)return[[0,0]];if(xr(e)){var t=Math.ceil(e);return[[t,t]]}for(var r=!0,n=0;n<e.length;++n)if(!xr(e[n])){r=!1;break}if(r)return Qre([e]);for(var i=[],n=0;n<e.length;++n)if(xr(e[n])){var t=Math.ceil(e[n]);i.push([t,t])}else{var t=xe(e[n],function(o){return Math.ceil(o)});t.length%2===1?i.push(t.concat(t)):i.push(t)}return i}function AAe(e){if(!e||typeof e=="object"&&e.length===0)return[0,0];if(xr(e)){var t=Math.ceil(e);return[t,t]}var r=xe(e,function(n){return Math.ceil(n)});return e.length%2?r.concat(r):r}function jAe(e){return xe(e,function(t){return ene(t)})}function ene(e){for(var t=0,r=0;r<e.length;++r)t+=e[r];return e.length%2===1?t*2:t}function RAe(e,t){e.eachRawSeries(function(r){if(!e.isSeriesFiltered(r)){var n=r.getData();n.hasItemVisual()&&n.each(function(a){var o=n.getItemVisual(a,"decal");if(o){var l=n.ensureUniqueItemVisual(a,"style");l.decal=Jm(o,t)}});var i=n.getVisual("decal");if(i){var s=n.getVisual("style");s.decal=Jm(i,t)}}})}var Mo=new bo,tne={};function IAe(e,t){tne[e]=t}function MAe(e){return tne[e]}var PAe=1,LAe=800,DAe=900,OAe=1e3,$Ae=2e3,BAe=5e3,rne=1e3,FAe=1100,z5=2e3,nne=3e3,zAe=4e3,ON=4500,UAe=4600,HAe=5e3,VAe=6e3,ine=7e3,WAe={PROCESSOR:{FILTER:OAe,SERIES_FILTER:LAe,STATISTIC:BAe},VISUAL:{LAYOUT:rne,PROGRESSIVE_LAYOUT:FAe,GLOBAL:z5,CHART:nne,POST_CHART_LAYOUT:UAe,COMPONENT:zAe,BRUSH:HAe,CHART_ITEM:ON,ARIA:VAe,DECAL:ine}},ts="__flagInMainProcess",qs="__pendingUpdate",Sj="__needsUpdateStatus",EH=/^[a-zA-Z0-9_]+$/,Cj="__connectUpdateStatus",TH=0,GAe=1,qAe=2;function sne(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(this.isDisposed()){this.id;return}return one(this,e,t)}}function ane(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return one(this,e,t)}}function one(e,t,r){return r[0]=r[0]&&r[0].toLowerCase(),bo.prototype[t].apply(e,r)}var lne=function(e){le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(bo),cne=lne.prototype;cne.on=ane("on");cne.off=ane("off");var ug,kj,nS,$u,Ej,Tj,Nj,dy,hy,NH,AH,Aj,jH,iS,RH,une,Wa,IH,dne=function(e){le(t,e);function t(r,n,i){var s=e.call(this,new tAe)||this;s._chartsViews=[],s._chartsMap={},s._componentsViews=[],s._componentsMap={},s._pendingActions=[],i=i||{},De(n)&&(n=hne[n]),s._dom=r;var a="canvas",o="auto",l=!1;i.ssr&&zke(function(f){var p=ft(f),g=p.dataIndex;if(g!=null){var v=qe();return v.set("series_index",p.seriesIndex),v.set("data_index",g),p.ssrType&&v.set("ssr_type",p.ssrType),v}});var c=s._zr=B8(r,{renderer:i.renderer||a,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:mt(i.useDirtyRect,l),useCoarsePointer:mt(i.useCoarsePointer,o),pointerSize:i.pointerSize});s._ssr=i.ssr,s._throttledZrFlush=$5(He(c.flush,c),17),n=lt(n),n&&vre(n,!0),s._theme=n,s._locale=hNe(i.locale||Gte),s._coordSysMgr=new ew;var d=s._api=RH(s);function h(f,p){return f.__prio-p.__prio}return zC(xE,h),zC(fL,h),s._scheduler=new Ure(s,d,fL,xE),s._messageCenter=new lne,s._initEvents(),s.resize=He(s.resize,s),c.animation.on("frame",s._onframe,s),NH(c,s),AH(c,s),Xk(s),s}return t.prototype._onframe=function(){if(!this._disposed){IH(this);var r=this._scheduler;if(this[qs]){var n=this[qs].silent;this[ts]=!0;try{ug(this),$u.update.call(this,null,this[qs].updateParams)}catch(l){throw this[ts]=!1,this[qs]=null,l}this._zr.flush(),this[ts]=!1,this[qs]=null,dy.call(this,n),hy.call(this,n)}else if(r.unfinished){var i=PAe,s=this._model,a=this._api;r.unfinished=!1;do{var o=+new Date;r.performSeriesTasks(s),r.performDataProcessorTasks(s),Tj(this,s),r.performVisualTasks(s),iS(this,this._model,a,"remain",{}),i-=+new Date-o}while(i>0&&r.unfinished);r.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(r,n,i){if(!this[ts]){if(this._disposed){this.id;return}var s,a,o;if(st(n)&&(i=n.lazyUpdate,s=n.silent,a=n.replaceMerge,o=n.transition,n=n.notMerge),this[ts]=!0,!this._model||n){var l=new ONe(this._api),c=this._theme,d=this._model=new M5;d.scheduler=this._scheduler,d.ssr=this._ssr,d.init(null,null,null,c,this._locale,l)}this._model.setOption(r,{replaceMerge:a},pL);var h={seriesTransition:o,optionChanged:!0};if(i)this[qs]={silent:s,updateParams:h},this[ts]=!1,this.getZr().wakeUp();else{try{ug(this),$u.update.call(this,null,h)}catch(f){throw this[qs]=null,this[ts]=!1,f}this._ssr||this._zr.flush(),this[qs]=null,this[ts]=!1,dy.call(this,s),hy.call(this,s)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Gt.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(r){return this.renderToCanvas(r)},t.prototype.renderToCanvas=function(r){r=r||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(r){r=r||{};var n=this._zr.painter;return n.renderToString({useViewBox:r.useViewBox})},t.prototype.getSvgDataURL=function(){if(Gt.svgSupported){var r=this._zr,n=r.storage.getDisplayList();return V(n,function(i){i.stopAnimation(null,!0)}),r.painter.toDataURL()}},t.prototype.getDataURL=function(r){if(this._disposed){this.id;return}r=r||{};var n=r.excludeComponents,i=this._model,s=[],a=this;V(n,function(l){i.eachComponent({mainType:l},function(c){var d=a._componentsMap[c.__viewId];d.group.ignore||(s.push(d),d.group.ignore=!0)})});var o=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return V(s,function(l){l.group.ignore=!1}),o},t.prototype.getConnectedDataURL=function(r){if(this._disposed){this.id;return}var n=r.type==="svg",i=this.group,s=Math.min,a=Math.max,o=1/0;if(MH[i]){var l=o,c=o,d=-o,h=-o,f=[],p=r&&r.pixelRatio||this.getDevicePixelRatio();V($x,function(_,b){if(_.group===i){var w=n?_.getZr().painter.getSvgDom().innerHTML:_.renderToCanvas(lt(r)),S=_.getDom().getBoundingClientRect();l=s(S.left,l),c=s(S.top,c),d=a(S.right,d),h=a(S.bottom,h),f.push({dom:w,left:S.left,top:S.top})}}),l*=p,c*=p,d*=p,h*=p;var g=d-l,v=h-c,m=Hd.createCanvas(),y=B8(m,{renderer:n?"svg":"canvas"});if(y.resize({width:g,height:v}),n){var x="";return V(f,function(_){var b=_.left-l,w=_.top-c;x+='<g transform="translate('+b+","+w+')">'+_.dom+"</g>"}),y.painter.getSvgRoot().innerHTML=x,r.connectedBackgroundColor&&y.painter.setBackgroundColor(r.connectedBackgroundColor),y.refreshImmediately(),y.painter.toDataURL()}else return r.connectedBackgroundColor&&y.add(new lr({shape:{x:0,y:0,width:g,height:v},style:{fill:r.connectedBackgroundColor}})),V(f,function(_){var b=new Oi({style:{x:_.left*p-l,y:_.top*p-c,image:_.dom}});y.add(b)}),y.refreshImmediately(),m.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},t.prototype.convertToPixel=function(r,n){return Ej(this,"convertToPixel",r,n)},t.prototype.convertFromPixel=function(r,n){return Ej(this,"convertFromPixel",r,n)},t.prototype.containPixel=function(r,n){if(this._disposed){this.id;return}var i=this._model,s,a=Rx(i,r);return V(a,function(o,l){l.indexOf("Models")>=0&&V(o,function(c){var d=c.coordinateSystem;if(d&&d.containPoint)s=s||!!d.containPoint(n);else if(l==="seriesModels"){var h=this._chartsMap[c.__viewId];h&&h.containPoint&&(s=s||h.containPoint(n,c))}},this)},this),!!s},t.prototype.getVisual=function(r,n){var i=this._model,s=Rx(i,r,{defaultMainType:"series"}),a=s.seriesModel,o=a.getData(),l=s.hasOwnProperty("dataIndexInside")?s.dataIndexInside:s.hasOwnProperty("dataIndex")?o.indexOfRawIndex(s.dataIndex):null;return l!=null?B5(o,l,n):tw(o,n)},t.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},t.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},t.prototype._initEvents=function(){var r=this;V(YAe,function(n){var i=function(s){var a=r.getModel(),o=s.target,l,c=n==="globalout";if(c?l={}:o&&Cf(o,function(g){var v=ft(g);if(v&&v.dataIndex!=null){var m=v.dataModel||a.getSeriesByIndex(v.seriesIndex);return l=m&&m.getDataParams(v.dataIndex,v.dataType,o)||{},!0}else if(v.eventData)return l=fe({},v.eventData),!0},!0),l){var d=l.componentType,h=l.componentIndex;(d==="markLine"||d==="markPoint"||d==="markArea")&&(d="series",h=l.seriesIndex);var f=d&&h!=null&&a.getComponent(d,h),p=f&&r[f.mainType==="series"?"_chartsMap":"_componentsMap"][f.__viewId];l.event=s,l.type=n,r._$eventProcessor.eventInfo={targetEl:o,packedEvent:l,model:f,view:p},r.trigger(n,l)}};i.zrEventfulCallAtLast=!0,r._zr.on(n,i,r)}),V(Ox,function(n,i){r._messageCenter.on(i,function(s){this.trigger(i,s)},r)}),V(["selectchanged"],function(n){r._messageCenter.on(n,function(i){this.trigger(n,i)},r)}),iAe(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var r=this.getDom();r&&ite(this.getDom(),H5,"");var n=this,i=n._api,s=n._model;V(n._componentsViews,function(a){a.dispose(s,i)}),V(n._chartsViews,function(a){a.dispose(s,i)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete $x[n.id]},t.prototype.resize=function(r){if(!this[ts]){if(this._disposed){this.id;return}this._zr.resize(r);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var i=n.resetOption("media"),s=r&&r.silent;this[qs]&&(s==null&&(s=this[qs].silent),i=!0,this[qs]=null),this[ts]=!0;try{i&&ug(this),$u.update.call(this,{type:"resize",animation:fe({duration:0},r&&r.animation)})}catch(a){throw this[ts]=!1,a}this[ts]=!1,dy.call(this,s),hy.call(this,s)}}},t.prototype.showLoading=function(r,n){if(this._disposed){this.id;return}if(st(r)&&(n=r,r=""),r=r||"default",this.hideLoading(),!!gL[r]){var i=gL[r](this._api,n),s=this._zr;this._loadingFX=i,s.add(i)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(r){var n=fe({},r);return n.type=Ox[r.type],n},t.prototype.dispatchAction=function(r,n){if(this._disposed){this.id;return}if(st(n)||(n={silent:!!n}),!!yE[r.type]&&this._model){if(this[ts]){this._pendingActions.push(r);return}var i=n.silent;Nj.call(this,r,i);var s=n.flush;s?this._zr.flush():s!==!1&&Gt.browser.weChat&&this._throttledZrFlush(),dy.call(this,i),hy.call(this,i)}},t.prototype.updateLabelLayout=function(){Mo.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(r){if(this._disposed){this.id;return}var n=r.seriesIndex,i=this.getModel(),s=i.getSeriesByIndex(n);s.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=function(){ug=function(h){var f=h._scheduler;f.restorePipelines(h._model),f.prepareStageTasks(),kj(h,!0),kj(h,!1),f.plan()},kj=function(h,f){for(var p=h._model,g=h._scheduler,v=f?h._componentsViews:h._chartsViews,m=f?h._componentsMap:h._chartsMap,y=h._zr,x=h._api,_=0;_<v.length;_++)v[_].__alive=!1;f?p.eachComponent(function(S,k){S!=="series"&&b(k)}):p.eachSeries(b);function b(S){var k=S.__requireNewView;S.__requireNewView=!1;var C="_ec_"+S.id+"_"+S.type,E=!k&&m[C];if(!E){var T=Bl(S.type),N=f?Rn.getClass(T.main,T.sub):nn.getClass(T.sub);E=new N,E.init(p,x),m[C]=E,v.push(E),y.add(E.group)}S.__viewId=E.__id=C,E.__alive=!0,E.__model=S,E.group.__ecComponentInfo={mainType:S.mainType,index:S.componentIndex},!f&&g.prepareView(E,S,p,x)}for(var _=0;_<v.length;){var w=v[_];w.__alive?_++:(!f&&w.renderTask.dispose(),y.remove(w.group),w.dispose(p,x),v.splice(_,1),m[w.__id]===w&&delete m[w.__id],w.__id=w.group.__ecComponentInfo=null)}},nS=function(h,f,p,g,v){var m=h._model;if(m.setUpdatePayload(p),!g){V([].concat(h._componentsViews).concat(h._chartsViews),w);return}var y={};y[g+"Id"]=p[g+"Id"],y[g+"Index"]=p[g+"Index"],y[g+"Name"]=p[g+"Name"];var x={mainType:g,query:y};v&&(x.subType=v);var _=p.excludeSeriesId,b;_!=null&&(b=qe(),V(Xr(_),function(S){var k=hi(S,null);k!=null&&b.set(k,!0)})),m&&m.eachComponent(x,function(S){var k=b&&b.get(S.id)!=null;if(!k)if(pU(p))if(S instanceof fn)p.type===Bf&&!p.notBlur&&!S.get(["emphasis","disabled"])&&dTe(S,p,h._api);else{var C=y5(S.mainType,S.componentIndex,p.name,h._api),E=C.focusSelf,T=C.dispatchers;p.type===Bf&&E&&!p.notBlur&&KP(S.mainType,S.componentIndex,h._api),T&&V(T,function(N){p.type===Bf?lu(N):cu(N)})}else XP(p)&&S instanceof fn&&(pTe(S,p,h._api),hU(S),Wa(h))},h),m&&m.eachComponent(x,function(S){var k=b&&b.get(S.id)!=null;k||w(h[g==="series"?"_chartsMap":"_componentsMap"][S.__viewId])},h);function w(S){S&&S.__alive&&S[f]&&S[f](S.__model,m,h._api,p)}},$u={prepareAndUpdate:function(h){ug(this),$u.update.call(this,h,{optionChanged:h.newOption!=null})},update:function(h,f){var p=this._model,g=this._api,v=this._zr,m=this._coordSysMgr,y=this._scheduler;if(p){p.setUpdatePayload(h),y.restoreData(p,h),y.performSeriesTasks(p),m.create(p,g),y.performDataProcessorTasks(p,h),Tj(this,p),m.update(p,g),r(p),y.performVisualTasks(p,h),Aj(this,p,g,h,f);var x=p.get("backgroundColor")||"transparent",_=p.get("darkMode");v.setBackgroundColor(x),_!=null&&_!=="auto"&&v.setDarkMode(_),Mo.trigger("afterupdate",p,g)}},updateTransform:function(h){var f=this,p=this._model,g=this._api;if(p){p.setUpdatePayload(h);var v=[];p.eachComponent(function(y,x){if(y!=="series"){var _=f.getViewOfComponentModel(x);if(_&&_.__alive)if(_.updateTransform){var b=_.updateTransform(x,p,g,h);b&&b.update&&v.push(_)}else v.push(_)}});var m=qe();p.eachSeries(function(y){var x=f._chartsMap[y.__viewId];if(x.updateTransform){var _=x.updateTransform(y,p,g,h);_&&_.update&&m.set(y.uid,1)}else m.set(y.uid,1)}),r(p),this._scheduler.performVisualTasks(p,h,{setDirty:!0,dirtyMap:m}),iS(this,p,g,h,{},m),Mo.trigger("afterupdate",p,g)}},updateView:function(h){var f=this._model;f&&(f.setUpdatePayload(h),nn.markUpdateMethod(h,"updateView"),r(f),this._scheduler.performVisualTasks(f,h,{setDirty:!0}),Aj(this,f,this._api,h,{}),Mo.trigger("afterupdate",f,this._api))},updateVisual:function(h){var f=this,p=this._model;p&&(p.setUpdatePayload(h),p.eachSeries(function(g){g.getData().clearAllVisual()}),nn.markUpdateMethod(h,"updateVisual"),r(p),this._scheduler.performVisualTasks(p,h,{visualType:"visual",setDirty:!0}),p.eachComponent(function(g,v){if(g!=="series"){var m=f.getViewOfComponentModel(v);m&&m.__alive&&m.updateVisual(v,p,f._api,h)}}),p.eachSeries(function(g){var v=f._chartsMap[g.__viewId];v.updateVisual(g,p,f._api,h)}),Mo.trigger("afterupdate",p,this._api))},updateLayout:function(h){$u.update.call(this,h)}},Ej=function(h,f,p,g){if(h._disposed){h.id;return}for(var v=h._model,m=h._coordSysMgr.getCoordinateSystems(),y,x=Rx(v,p),_=0;_<m.length;_++){var b=m[_];if(b[f]&&(y=b[f](v,x,g))!=null)return y}},Tj=function(h,f){var p=h._chartsMap,g=h._scheduler;f.eachSeries(function(v){g.updateStreamModes(v,p[v.__viewId])})},Nj=function(h,f){var p=this,g=this.getModel(),v=h.type,m=h.escapeConnect,y=yE[v],x=y.actionInfo,_=(x.update||"update").split(":"),b=_.pop(),w=_[0]!=null&&Bl(_[0]);this[ts]=!0;var S=[h],k=!1;h.batch&&(k=!0,S=xe(h.batch,function(D){return D=rt(fe({},D),h),D.batch=null,D}));var C=[],E,T=XP(h),N=pU(h);if(N&&kte(this._api),V(S,function(D){if(E=y.action(D,p._model,p._api),E=E||fe({},D),E.type=x.event||E.type,C.push(E),N){var $=u5(h),L=$.queryOptionMap,O=$.mainTypeSpecified,j=O?L.keys()[0]:"series";nS(p,b,D,j),Wa(p)}else T?(nS(p,b,D,"series"),Wa(p)):w&&nS(p,b,D,w.main,w.sub)}),b!=="none"&&!N&&!T&&!w)try{this[qs]?(ug(this),$u.update.call(this,h),this[qs]=null):$u[b].call(this,h)}catch(D){throw this[ts]=!1,D}if(k?E={type:x.event||v,escapeConnect:m,batch:C}:E=C[0],this[ts]=!1,!f){var R=this._messageCenter;if(R.trigger(E.type,E),T){var P={type:"selectchanged",escapeConnect:m,selected:gTe(g),isFromClick:h.isFromClick||!1,fromAction:h.type,fromActionPayload:h};R.trigger(P.type,P)}}},dy=function(h){for(var f=this._pendingActions;f.length;){var p=f.shift();Nj.call(this,p,h)}},hy=function(h){!h&&this.trigger("updated")},NH=function(h,f){h.on("rendered",function(p){f.trigger("rendered",p),h.animation.isFinished()&&!f[qs]&&!f._scheduler.unfinished&&!f._pendingActions.length&&f.trigger("finished")})},AH=function(h,f){h.on("mouseover",function(p){var g=p.target,v=Cf(g,L_);v&&(hTe(v,p,f._api),Wa(f))}).on("mouseout",function(p){var g=p.target,v=Cf(g,L_);v&&(fTe(v,p,f._api),Wa(f))}).on("click",function(p){var g=p.target,v=Cf(g,function(x){return ft(x).dataIndex!=null},!0);if(v){var m=v.selected?"unselect":"select",y=ft(v);f._api.dispatchAction({type:m,dataType:y.dataType,dataIndexInside:y.dataIndex,seriesIndex:y.seriesIndex,isFromClick:!0})}})};function r(h){h.clearColorPalette(),h.eachSeries(function(f){f.clearColorPalette()})}function n(h){var f=[],p=[],g=!1;if(h.eachComponent(function(x,_){var b=_.get("zlevel")||0,w=_.get("z")||0,S=_.getZLevelKey();g=g||!!S,(x==="series"?p:f).push({zlevel:b,z:w,idx:_.componentIndex,type:x,key:S})}),g){var v=f.concat(p),m,y;zC(v,function(x,_){return x.zlevel===_.zlevel?x.z-_.z:x.zlevel-_.zlevel}),V(v,function(x){var _=h.getComponent(x.type,x.idx),b=x.zlevel,w=x.key;m!=null&&(b=Math.max(m,b)),w?(b===m&&w!==y&&b++,y=w):y&&(b===m&&b++,y=""),m=b,_.setZLevel(b)})}}Aj=function(h,f,p,g,v){n(f),jH(h,f,p,g,v),V(h._chartsViews,function(m){m.__alive=!1}),iS(h,f,p,g,v),V(h._chartsViews,function(m){m.__alive||m.remove(f,p)})},jH=function(h,f,p,g,v,m){V(m||h._componentsViews,function(y){var x=y.__model;c(x,y),y.render(x,f,p,g),o(x,y),d(x,y)})},iS=function(h,f,p,g,v,m){var y=h._scheduler;v=fe(v||{},{updatedSeries:f.getSeries()}),Mo.trigger("series:beforeupdate",f,p,v);var x=!1;f.eachSeries(function(_){var b=h._chartsMap[_.__viewId];b.__alive=!0;var w=b.renderTask;y.updatePayload(w,g),c(_,b),m&&m.get(_.uid)&&w.dirty(),w.perform(y.getPerformArgs(w))&&(x=!0),b.group.silent=!!_.get("silent"),a(_,b),hU(_)}),y.unfinished=x||y.unfinished,Mo.trigger("series:layoutlabels",f,p,v),Mo.trigger("series:transition",f,p,v),f.eachSeries(function(_){var b=h._chartsMap[_.__viewId];o(_,b),d(_,b)}),s(h,f),Mo.trigger("series:afterupdate",f,p,v)},Wa=function(h){h[Sj]=!0,h.getZr().wakeUp()},IH=function(h){h[Sj]&&(h.getZr().storage.traverse(function(f){km(f)||i(f)}),h[Sj]=!1)};function i(h){for(var f=[],p=h.currentStates,g=0;g<p.length;g++){var v=p[g];v==="emphasis"||v==="blur"||v==="select"||f.push(v)}h.selected&&h.states.select&&f.push("select"),h.hoverState===bN&&h.states.emphasis?f.push("emphasis"):h.hoverState===Yb&&h.states.blur&&f.push("blur"),h.useStates(f)}function s(h,f){var p=h._zr,g=p.storage,v=0;g.traverse(function(m){m.isGroup||v++}),v>f.get("hoverLayerThreshold")&&!Gt.node&&!Gt.worker&&f.eachSeries(function(m){if(!m.preventUsingHoverLayer){var y=h._chartsMap[m.__viewId];y.__alive&&y.eachRendered(function(x){x.states.emphasis&&(x.states.emphasis.hoverLayer=!0)})}})}function a(h,f){var p=h.get("blendMode")||null;f.eachRendered(function(g){g.isGroup||(g.style.blend=p)})}function o(h,f){if(!h.preventAutoZ){var p=h.get("z")||0,g=h.get("zlevel")||0;f.eachRendered(function(v){return l(v,p,g,-1/0),!0})}}function l(h,f,p,g){var v=h.getTextContent(),m=h.getTextGuideLine(),y=h.isGroup;if(y)for(var x=h.childrenRef(),_=0;_<x.length;_++)g=Math.max(l(x[_],f,p,g),g);else h.z=f,h.zlevel=p,g=Math.max(h.z2,g);if(v&&(v.z=f,v.zlevel=p,isFinite(g)&&(v.z2=g+2)),m){var b=h.textGuideLineConfig;m.z=f,m.zlevel=p,isFinite(g)&&(m.z2=g+(b&&b.showAbove?1:-1))}return g}function c(h,f){f.eachRendered(function(p){if(!km(p)){var g=p.getTextContent(),v=p.getTextGuideLine();p.stateTransition&&(p.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),p.hasState()?(p.prevStates=p.currentStates,p.clearStates()):p.prevStates&&(p.prevStates=null)}})}function d(h,f){var p=h.getModel("stateAnimation"),g=h.isAnimationEnabled(),v=p.get("duration"),m=v>0?{duration:v,delay:p.get("delay"),easing:p.get("easing")}:null;f.eachRendered(function(y){if(y.states&&y.states.emphasis){if(km(y))return;if(y instanceof Vt&&_Te(y),y.__dirty){var x=y.prevStates;x&&y.useStates(x)}if(g){y.stateTransition=m;var _=y.getTextContent(),b=y.getTextGuideLine();_&&(_.stateTransition=m),b&&(b.stateTransition=m)}y.__dirty&&i(y)}})}RH=function(h){return new(function(f){le(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.prototype.getCoordinateSystems=function(){return h._coordSysMgr.getCoordinateSystems()},p.prototype.getComponentByElement=function(g){for(;g;){var v=g.__ecComponentInfo;if(v!=null)return h._model.getComponent(v.mainType,v.index);g=g.parent}},p.prototype.enterEmphasis=function(g,v){lu(g,v),Wa(h)},p.prototype.leaveEmphasis=function(g,v){cu(g,v),Wa(h)},p.prototype.enterBlur=function(g){bte(g),Wa(h)},p.prototype.leaveBlur=function(g){v5(g),Wa(h)},p.prototype.enterSelect=function(g){wte(g),Wa(h)},p.prototype.leaveSelect=function(g){Ste(g),Wa(h)},p.prototype.getModel=function(){return h.getModel()},p.prototype.getViewOfComponentModel=function(g){return h.getViewOfComponentModel(g)},p.prototype.getViewOfSeriesModel=function(g){return h.getViewOfSeriesModel(g)},p}(gre))(h)},une=function(h){function f(p,g){for(var v=0;v<p.length;v++){var m=p[v];m[Cj]=g}}V(Ox,function(p,g){h._messageCenter.on(g,function(v){if(MH[h.group]&&h[Cj]!==TH){if(v&&v.escapeConnect)return;var m=h.makeActionFromEvent(v),y=[];V($x,function(x){x!==h&&x.group===h.group&&y.push(x)}),f(y,TH),V(y,function(x){x[Cj]!==GAe&&x.dispatchAction(m)}),f(y,qAe)}})})}}(),t}(bo),U5=dne.prototype;U5.on=sne("on");U5.off=sne("off");U5.one=function(e,t,r){var n=this;function i(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];t&&t.apply&&t.apply(this,s),n.off(e,i)}this.on.call(this,e,i,r)};var YAe=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var yE={},Ox={},fL=[],pL=[],xE=[],hne={},gL={},$x={},MH={},KAe=+new Date-0,H5="_echarts_instance_";function PH(e,t,r){{var n=ZAe(e);if(n)return n}var i=new dne(e,t,r);return i.id="ec_"+KAe++,$x[i.id]=i,ite(e,H5,i.id),une(i),Mo.trigger("afterinit",i),i}function ZAe(e){return $x[lEe(e,H5)]}function fne(e,t){hne[e]=t}function pne(e){Pt(pL,e)<0&&pL.push(e)}function gne(e,t){W5(fL,e,t,$Ae)}function XAe(e){V5("afterinit",e)}function JAe(e){V5("afterupdate",e)}function V5(e,t){Mo.on(e,t)}function pc(e,t,r){et(t)&&(r=t,t="");var n=st(e)?e.type:[e,e={event:t}][0];e.event=(e.event||n).toLowerCase(),t=e.event,!Ox[t]&&(Os(EH.test(n)&&EH.test(t)),yE[n]||(yE[n]={action:r,actionInfo:e}),Ox[t]=n)}function QAe(e,t){ew.register(e,t)}function eje(e,t){W5(xE,e,t,rne,"layout")}function Rp(e,t){W5(xE,e,t,nne,"visual")}var LH=[];function W5(e,t,r,n,i){if((et(t)||st(t))&&(r=t,t=n),!(Pt(LH,r)>=0)){LH.push(r);var s=Ure.wrapStageHandler(r,i);s.__prio=t,s.__raw=r,e.push(s)}}function mne(e,t){gL[e]=t}function tje(e,t,r){var n=MAe("registerMap");n&&n(e,t,r)}var rje=g2e;Rp(z5,z2e);Rp(ON,U2e);Rp(ON,H2e);Rp(z5,rAe);Rp(ON,nAe);Rp(ine,RAe);pne(vre);gne(DAe,KNe);mne("default",V2e);pc({type:Bf,event:Bf,update:Bf},Xn);pc({type:qC,event:qC,update:qC},Xn);pc({type:Ix,event:Ix,update:Ix},Xn);pc({type:YC,event:YC,update:YC},Xn);pc({type:Mx,event:Mx,update:Mx},Xn);fne("light",eAe);fne("dark",Gre);var DH=[],nje={registerPreprocessor:pne,registerProcessor:gne,registerPostInit:XAe,registerPostUpdate:JAe,registerUpdateLifecycle:V5,registerAction:pc,registerCoordinateSystem:QAe,registerLayout:eje,registerVisual:Rp,registerTransform:rje,registerLoading:mne,registerMap:tje,registerImpl:IAe,PRIORITY:WAe,ComponentModel:Kt,ComponentView:Rn,SeriesModel:fn,ChartView:nn,registerComponentModel:function(e){Kt.registerClass(e)},registerComponentView:function(e){Rn.registerClass(e)},registerSeriesModel:function(e){fn.registerClass(e)},registerChartView:function(e){nn.registerClass(e)},registerSubTypeDefaulter:function(e,t){Kt.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){Bke(e,t)}};function Ft(e){if(ve(e)){V(e,function(t){Ft(t)});return}Pt(DH,e)>=0||(DH.push(e),et(e)&&(e={install:e}),e.install(nje))}function fy(e){return e==null?0:e.length||1}function OH(e){return e}var uu=function(){function e(t,r,n,i,s,a){this._old=t,this._new=r,this._oldKeyGetter=n||OH,this._newKeyGetter=i||OH,this.context=s,this._diffModeMultiple=a==="multiple"}return e.prototype.add=function(t){return this._add=t,this},e.prototype.update=function(t){return this._update=t,this},e.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},e.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},e.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},e.prototype.remove=function(t){return this._remove=t,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var t=this._old,r=this._new,n={},i=new Array(t.length),s=new Array(r.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(r,n,s,"_newKeyGetter");for(var a=0;a<t.length;a++){var o=i[a],l=n[o],c=fy(l);if(c>1){var d=l.shift();l.length===1&&(n[o]=l[0]),this._update&&this._update(d,a)}else c===1?(n[o]=null,this._update&&this._update(l,a)):this._remove&&this._remove(a)}this._performRestAdd(s,n)},e.prototype._executeMultiple=function(){var t=this._old,r=this._new,n={},i={},s=[],a=[];this._initIndexMap(t,n,s,"_oldKeyGetter"),this._initIndexMap(r,i,a,"_newKeyGetter");for(var o=0;o<s.length;o++){var l=s[o],c=n[l],d=i[l],h=fy(c),f=fy(d);if(h>1&&f===1)this._updateManyToOne&&this._updateManyToOne(d,c),i[l]=null;else if(h===1&&f>1)this._updateOneToMany&&this._updateOneToMany(d,c),i[l]=null;else if(h===1&&f===1)this._update&&this._update(d,c),i[l]=null;else if(h>1&&f>1)this._updateManyToMany&&this._updateManyToMany(d,c),i[l]=null;else if(h>1)for(var p=0;p<h;p++)this._remove&&this._remove(c[p]);else this._remove&&this._remove(c)}this._performRestAdd(a,i)},e.prototype._performRestAdd=function(t,r){for(var n=0;n<t.length;n++){var i=t[n],s=r[i],a=fy(s);if(a>1)for(var o=0;o<a;o++)this._add&&this._add(s[o]);else a===1&&this._add&&this._add(s);r[i]=null}},e.prototype._initIndexMap=function(t,r,n,i){for(var s=this._diffModeMultiple,a=0;a<t.length;a++){var o="_ec_"+this[i](t[a],a);if(s||(n[a]=o),!!r){var l=r[o],c=fy(l);c===0?(r[o]=a,s&&n.push(o)):c===1?r[o]=[l,a]:l.push(a)}}},e}(),ije=function(){function e(t,r){this._encode=t,this._schema=r}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e}();function sje(e,t){var r={},n=r.encode={},i=qe(),s=[],a=[],o={};V(e.dimensions,function(f){var p=e.getDimensionInfo(f),g=p.coordDim;if(g){var v=p.coordDimIndex;jj(n,g)[v]=f,p.isExtraCoord||(i.set(g,1),aje(p.type)&&(s[0]=f),jj(o,g)[v]=e.getDimensionIndex(p.name)),p.defaultTooltip&&a.push(f)}lre.each(function(m,y){var x=jj(n,y),_=p.otherDims[y];_!=null&&_!==!1&&(x[_]=p.name)})});var l=[],c={};i.each(function(f,p){var g=n[p];c[p]=g[0],l=l.concat(g)}),r.dataDimsOnCoord=l,r.dataDimIndicesOnCoord=xe(l,function(f){return e.getDimensionInfo(f).storeDimIndex}),r.encodeFirstDimNotExtra=c;var d=n.label;d&&d.length&&(s=d.slice());var h=n.tooltip;return h&&h.length?a=h.slice():a.length||(a=s.slice()),n.defaultedLabel=s,n.defaultedTooltip=a,r.userOutput=new ije(o,t),r}function jj(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function _E(e){return e==="category"?"ordinal":e==="time"?"time":"float"}function aje(e){return!(e==="ordinal"||e==="time")}var QC=function(){function e(t){this.otherDims={},t!=null&&fe(this,t)}return e}(),oje=cr(),lje={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},vne=function(){function e(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=_ne(this.source)))},e.prototype.getSourceDimensionIndex=function(t){return mt(this._dimNameMap.get(t),-1)},e.prototype.getSourceDimension=function(t){var r=this.source.dimensionsDefine;if(r)return r[t]},e.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,r=xre(this.source),n=!bne(t),i="",s=[],a=0,o=0;a<t;a++){var l=void 0,c=void 0,d=void 0,h=this.dimensions[o];if(h&&h.storeDimIndex===a)l=r?h.name:null,c=h.type,d=h.ordinalMeta,o++;else{var f=this.getSourceDimension(a);f&&(l=r?f.name:null,c=f.type)}s.push({property:l,type:c,ordinalMeta:d}),r&&l!=null&&(!h||!h.isCalculationCoord)&&(i+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=lje[c]||"f",d&&(i+=d.uid),i+="$"}var p=this.source,g=[p.seriesLayoutBy,p.startIndex,i].join("$$");return{dimensions:s,hash:g}},e.prototype.makeOutputDimensionNames=function(){for(var t=[],r=0,n=0;r<this._fullDimCount;r++){var i=void 0,s=this.dimensions[n];if(s&&s.storeDimIndex===r)s.isCalculationCoord||(i=s.name),n++;else{var a=this.getSourceDimension(r);a&&(i=a.name)}t.push(i)}return t},e.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e}();function yne(e){return e instanceof vne}function xne(e){for(var t=qe(),r=0;r<(e||[]).length;r++){var n=e[r],i=st(n)?n.name:n;i!=null&&t.get(i)==null&&t.set(i,r)}return t}function _ne(e){var t=oje(e);return t.dimNameMap||(t.dimNameMap=xne(e.dimensionsDefine))}function bne(e){return e>30}var py=st,Bu=xe,cje=typeof Int32Array>"u"?Array:Int32Array,uje="e\0\0",$H=-1,dje=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],hje=["_approximateExtent"],BH,sS,gy,my,Rj,vy,Ij,Ls=function(){function e(t,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,i=!1;yne(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(i=!0,n=t),n=n||["x","y"];for(var s={},a=[],o={},l=!1,c={},d=0;d<n.length;d++){var h=n[d],f=De(h)?new QC({name:h}):h instanceof QC?h:new QC(h),p=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=p,f.coordDimIndex=0);var g=f.otherDims=f.otherDims||{};a.push(p),s[p]=f,c[p]!=null&&(l=!0),f.createInvertedIndices&&(o[p]=[]),g.itemName===0&&(this._nameDimIdx=d),g.itemId===0&&(this._idDimIdx=d),i&&(f.storeDimIndex=d)}if(this.dimensions=a,this._dimInfos=s,this._initGetDimensionInfo(l),this.hostModel=r,this._invertedIndicesMap=o,this._dimOmitted){var v=this._dimIdxToName=qe();V(a,function(m){v.set(s[m].storeDimIndex,m)})}}return e.prototype.getDimension=function(t){var r=this._recognizeDimIndex(t);if(r==null)return t;if(r=t,!this._dimOmitted)return this.dimensions[r];var n=this._dimIdxToName.get(r);if(n!=null)return n;var i=this._schema.getSourceDimension(r);if(i)return i.name},e.prototype.getDimensionIndex=function(t){var r=this._recognizeDimIndex(t);if(r!=null)return r;if(t==null)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},e.prototype._recognizeDimIndex=function(t){if(xr(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},e.prototype._getStoreDimIndex=function(t){var r=this.getDimensionIndex(t);return r},e.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},e.prototype._initGetDimensionInfo=function(t){var r=this._dimInfos;this._getDimInfo=t?function(n){return r.hasOwnProperty(n)?r[n]:void 0}:function(n){return r[n]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(t,r){var n=this._dimSummary;if(r==null)return n.encodeFirstDimNotExtra[t];var i=n.encode[t];return i?i[r]:null},e.prototype.mapDimensionsAll=function(t){var r=this._dimSummary,n=r.encode[t];return(n||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(t,r,n){var i=this,s;if(t instanceof aL&&(s=t),!s){var a=this.dimensions,o=P5(t)||ds(t)?new _re(t,a.length):t;s=new aL;var l=Bu(a,function(c){return{type:i._dimInfos[c].type,property:c}});s.initData(o,l,n)}this._store=s,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,s.count()),this._dimSummary=sje(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(t){var r=this._store.appendData(t);this._doInit(r[0],r[1])},e.prototype.appendValues=function(t,r){var n=this._store.appendValues(t,r&&r.length),i=n.start,s=n.end,a=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var o=i;o<s;o++){var l=o-i;this._nameList[o]=r[l],a&&Ij(this,o)}},e.prototype._updateOrdinalMeta=function(){for(var t=this._store,r=this.dimensions,n=0;n<r.length;n++){var i=this._dimInfos[r[n]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==Md&&!t.fillStorage},e.prototype._doInit=function(t,r){if(!(t>=r)){var n=this._store,i=n.getProvider();this._updateOrdinalMeta();var s=this._nameList,a=this._idList,o=i.getSource().sourceFormat,l=o===wo;if(l&&!i.pure)for(var c=[],d=t;d<r;d++){var h=i.getItem(d,c);if(!this.hasItemOption&&Kke(h)&&(this.hasItemOption=!0),h){var f=h.name;s[d]==null&&f!=null&&(s[d]=hi(f,null));var p=h.id;a[d]==null&&p!=null&&(a[d]=hi(p,null))}}if(this._shouldMakeIdFromName())for(var d=t;d<r;d++)Ij(this,d);BH(this)}},e.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.setApproximateExtent=function(t,r){r=this.getDimension(r),this._approximateExtent[r]=t.slice()},e.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},e.prototype.setCalculationInfo=function(t,r){py(t)?fe(this._calculationInfo,t):this._calculationInfo[t]=r},e.prototype.getName=function(t){var r=this.getRawIndex(t),n=this._nameList[r];return n==null&&this._nameDimIdx!=null&&(n=gy(this,this._nameDimIdx,r)),n==null&&(n=""),n},e.prototype._getCategory=function(t,r){var n=this._store.get(t,r),i=this._store.getOrdinalMeta(t);return i?i.categories[n]:n},e.prototype.getId=function(t){return sS(this,this.getRawIndex(t))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(t,r){var n=this._store,i=this._dimInfos[t];if(i)return n.get(i.storeDimIndex,r)},e.prototype.getByRawIndex=function(t,r){var n=this._store,i=this._dimInfos[t];if(i)return n.getByRawIndex(i.storeDimIndex,r)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},e.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},e.prototype.getValues=function(t,r){var n=this,i=this._store;return ve(t)?i.getValues(Bu(t,function(s){return n._getStoreDimIndex(s)}),r):i.getValues(t)},e.prototype.hasValue=function(t){for(var r=this._dimSummary.dataDimIndicesOnCoord,n=0,i=r.length;n<i;n++)if(isNaN(this._store.get(r[n],t)))return!1;return!0},e.prototype.indexOfName=function(t){for(var r=0,n=this._store.count();r<n;r++)if(this.getName(r)===t)return r;return-1},e.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},e.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},e.prototype.rawIndexOf=function(t,r){var n=t&&this._invertedIndicesMap[t],i=n&&n[r];return i==null||isNaN(i)?$H:i},e.prototype.indicesOfNearest=function(t,r,n){return this._store.indicesOfNearest(this._getStoreDimIndex(t),r,n)},e.prototype.each=function(t,r,n){et(t)&&(n=r,r=t,t=[]);var i=n||this,s=Bu(my(t),this._getStoreDimIndex,this);this._store.each(s,i?He(r,i):r)},e.prototype.filterSelf=function(t,r,n){et(t)&&(n=r,r=t,t=[]);var i=n||this,s=Bu(my(t),this._getStoreDimIndex,this);return this._store=this._store.filter(s,i?He(r,i):r),this},e.prototype.selectRange=function(t){var r=this,n={},i=Zt(t);return V(i,function(s){var a=r._getStoreDimIndex(s);n[a]=t[s]}),this._store=this._store.selectRange(n),this},e.prototype.mapArray=function(t,r,n){et(t)&&(n=r,r=t,t=[]),n=n||this;var i=[];return this.each(t,function(){i.push(r&&r.apply(this,arguments))},n),i},e.prototype.map=function(t,r,n,i){var s=n||i||this,a=Bu(my(t),this._getStoreDimIndex,this),o=vy(this);return o._store=this._store.map(a,s?He(r,s):r),o},e.prototype.modify=function(t,r,n,i){var s=n||i||this,a=Bu(my(t),this._getStoreDimIndex,this);this._store.modify(a,s?He(r,s):r)},e.prototype.downSample=function(t,r,n,i){var s=vy(this);return s._store=this._store.downSample(this._getStoreDimIndex(t),r,n,i),s},e.prototype.minmaxDownSample=function(t,r){var n=vy(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),r),n},e.prototype.lttbDownSample=function(t,r){var n=vy(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),r),n},e.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},e.prototype.getItemModel=function(t){var r=this.hostModel,n=this.getRawDataItem(t);return new Lr(n,r,r&&r.ecModel)},e.prototype.diff=function(t){var r=this;return new uu(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(n){return sS(t,n)},function(n){return sS(r,n)})},e.prototype.getVisual=function(t){var r=this._visual;return r&&r[t]},e.prototype.setVisual=function(t,r){this._visual=this._visual||{},py(t)?fe(this._visual,t):this._visual[t]=r},e.prototype.getItemVisual=function(t,r){var n=this._itemVisuals[t],i=n&&n[r];return i??this.getVisual(r)},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(t,r){var n=this._itemVisuals,i=n[t];i||(i=n[t]={});var s=i[r];return s==null&&(s=this.getVisual(r),ve(s)?s=s.slice():py(s)&&(s=fe({},s)),i[r]=s),s},e.prototype.setItemVisual=function(t,r,n){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,py(r)?fe(i,r):i[r]=n},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(t,r){py(t)?fe(this._layout,t):this._layout[t]=r},e.prototype.getLayout=function(t){return this._layout[t]},e.prototype.getItemLayout=function(t){return this._itemLayouts[t]},e.prototype.setItemLayout=function(t,r,n){this._itemLayouts[t]=n?fe(this._itemLayouts[t]||{},r):r},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(t,r){var n=this.hostModel&&this.hostModel.seriesIndex;qP(n,this.dataType,t,r),this._graphicEls[t]=r},e.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},e.prototype.eachItemGraphicEl=function(t,r){V(this._graphicEls,function(n,i){n&&t&&t.call(r,n,i)})},e.prototype.cloneShallow=function(t){return t||(t=new e(this._schema?this._schema:Bu(this.dimensions,this._getDimInfo,this),this.hostModel)),Rj(t,this),t._store=this._store,t},e.prototype.wrapMethod=function(t,r){var n=this[t];et(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var i=n.apply(this,arguments);return r.apply(this,[i].concat(e5(arguments)))})},e.internalField=function(){BH=function(t){var r=t._invertedIndicesMap;V(r,function(n,i){var s=t._dimInfos[i],a=s.ordinalMeta,o=t._store;if(a){n=r[i]=new cje(a.categories.length);for(var l=0;l<n.length;l++)n[l]=$H;for(var l=0;l<o.count();l++)n[o.get(s.storeDimIndex,l)]=l}})},gy=function(t,r,n){return hi(t._getCategory(r,n),null)},sS=function(t,r){var n=t._idList[r];return n==null&&t._idDimIdx!=null&&(n=gy(t,t._idDimIdx,r)),n==null&&(n=uje+r),n},my=function(t){return ve(t)||(t=t!=null?[t]:[]),t},vy=function(t){var r=new e(t._schema?t._schema:Bu(t.dimensions,t._getDimInfo,t),t.hostModel);return Rj(r,t),r},Rj=function(t,r){V(dje.concat(r.__wrappedMethods||[]),function(n){r.hasOwnProperty(n)&&(t[n]=r[n])}),t.__wrappedMethods=r.__wrappedMethods,V(hje,function(n){t[n]=lt(r[n])}),t._calculationInfo=fe({},r._calculationInfo)},Ij=function(t,r){var n=t._nameList,i=t._idList,s=t._nameDimIdx,a=t._idDimIdx,o=n[r],l=i[r];if(o==null&&s!=null&&(n[r]=o=gy(t,s,r)),l==null&&a!=null&&(i[r]=l=gy(t,a,r)),l==null&&o!=null){var c=t._nameRepeatCount,d=c[o]=(c[o]||0)+1;l=o,d>1&&(l+="__ec__"+d),i[r]=l}}}(),e}();function rw(e,t){P5(e)||(e=L5(e)),t=t||{};var r=t.coordDimensions||[],n=t.dimensionsDefine||e.dimensionsDefine||[],i=qe(),s=[],a=pje(e,r,n,t.dimensionsCount),o=t.canOmitUnusedDimensions&&bne(a),l=n===e.dimensionsDefine,c=l?_ne(e):xne(n),d=t.encodeDefine;!d&&t.encodeDefaulter&&(d=t.encodeDefaulter(e,a));for(var h=qe(d),f=new Nre(a),p=0;p<f.length;p++)f[p]=-1;function g(E){var T=f[E];if(T<0){var N=n[E],R=st(N)?N:{name:N},P=new QC,D=R.name;D!=null&&c.get(D)!=null&&(P.name=P.displayName=D),R.type!=null&&(P.type=R.type),R.displayName!=null&&(P.displayName=R.displayName);var $=s.length;return f[E]=$,P.storeDimIndex=E,s.push(P),P}return s[T]}if(!o)for(var p=0;p<a;p++)g(p);h.each(function(E,T){var N=Xr(E).slice();if(N.length===1&&!De(N[0])&&N[0]<0){h.set(T,!1);return}var R=h.set(T,[]);V(N,function(P,D){var $=De(P)?c.get(P):P;$!=null&&$<a&&(R[D]=$,m(g($),T,D))})});var v=0;V(r,function(E){var T,N,R,P;if(De(E))T=E,P={};else{P=E,T=P.name;var D=P.ordinalMeta;P.ordinalMeta=null,P=fe({},P),P.ordinalMeta=D,N=P.dimsDef,R=P.otherDims,P.name=P.coordDim=P.coordDimIndex=P.dimsDef=P.otherDims=null}var $=h.get(T);if($!==!1){if($=Xr($),!$.length)for(var L=0;L<(N&&N.length||1);L++){for(;v<a&&g(v).coordDim!=null;)v++;v<a&&$.push(v++)}V($,function(O,j){var M=g(O);if(l&&P.type!=null&&(M.type=P.type),m(rt(M,P),T,j),M.name==null&&N){var I=N[j];!st(I)&&(I={name:I}),M.name=M.displayName=I.name,M.defaultTooltip=I.defaultTooltip}R&&rt(M.otherDims,R)})}});function m(E,T,N){lre.get(T)!=null?E.otherDims[T]=N:(E.coordDim=T,E.coordDimIndex=N,i.set(T,!0))}var y=t.generateCoord,x=t.generateCoordCount,_=x!=null;x=y?x||1:0;var b=y||"value";function w(E){E.name==null&&(E.name=E.coordDim)}if(o)V(s,function(E){w(E)}),s.sort(function(E,T){return E.storeDimIndex-T.storeDimIndex});else for(var S=0;S<a;S++){var k=g(S),C=k.coordDim;C==null&&(k.coordDim=gje(b,i,_),k.coordDimIndex=0,(!y||x<=0)&&(k.isExtraCoord=!0),x--),w(k),k.type==null&&(hre(e,S)===Fi.Must||k.isExtraCoord&&(k.otherDims.itemName!=null||k.otherDims.seriesName!=null))&&(k.type="ordinal")}return fje(s),new vne({source:e,dimensions:s,fullDimensionCount:a,dimensionOmitted:o})}function fje(e){for(var t=qe(),r=0;r<e.length;r++){var n=e[r],i=n.name,s=t.get(i)||0;s>0&&(n.name=i+(s-1)),s++,t.set(i,s)}}function pje(e,t,r,n){var i=Math.max(e.dimensionsDetectedCount||1,t.length,r.length,n||0);return V(t,function(s){var a;st(s)&&(a=s.dimsDef)&&(i=Math.max(i,a.length))}),i}function gje(e,t,r){if(r||t.hasKey(e)){for(var n=0;t.hasKey(e+n);)n++;e+=n}return t.set(e,!0),e}var mje=function(){function e(t){this.coordSysDims=[],this.axisMap=qe(),this.categoryAxisMap=qe(),this.coordSysName=t}return e}();function vje(e){var t=e.get("coordinateSystem"),r=new mje(t),n=yje[t];if(n)return n(e,r,r.axisMap,r.categoryAxisMap),r}var yje={cartesian2d:function(e,t,r,n){var i=e.getReferringComponents("xAxis",ii).models[0],s=e.getReferringComponents("yAxis",ii).models[0];t.coordSysDims=["x","y"],r.set("x",i),r.set("y",s),dg(i)&&(n.set("x",i),t.firstCategoryDimIndex=0),dg(s)&&(n.set("y",s),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,r,n){var i=e.getReferringComponents("singleAxis",ii).models[0];t.coordSysDims=["single"],r.set("single",i),dg(i)&&(n.set("single",i),t.firstCategoryDimIndex=0)},polar:function(e,t,r,n){var i=e.getReferringComponents("polar",ii).models[0],s=i.findAxisModel("radiusAxis"),a=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],r.set("radius",s),r.set("angle",a),dg(s)&&(n.set("radius",s),t.firstCategoryDimIndex=0),dg(a)&&(n.set("angle",a),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(e,t,r,n){t.coordSysDims=["lng","lat"]},parallel:function(e,t,r,n){var i=e.ecModel,s=i.getComponent("parallel",e.get("parallelIndex")),a=t.coordSysDims=s.dimensions.slice();V(s.parallelAxisIndex,function(o,l){var c=i.getComponent("parallelAxis",o),d=a[l];r.set(d,c),dg(c)&&(n.set(d,c),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=l))})}};function dg(e){return e.get("type")==="category"}function xje(e,t,r){r=r||{};var n=r.byIndex,i=r.stackedCoordDimension,s,a,o;_je(t)?s=t:(a=t.schema,s=a.dimensions,o=t.store);var l=!!(e&&e.get("stack")),c,d,h,f;if(V(s,function(x,_){De(x)&&(s[_]=x={name:x}),l&&!x.isExtraCoord&&(!n&&!c&&x.ordinalMeta&&(c=x),!d&&x.type!=="ordinal"&&x.type!=="time"&&(!i||i===x.coordDim)&&(d=x))}),d&&!n&&!c&&(n=!0),d){h="__\0ecstackresult_"+e.id,f="__\0ecstackedover_"+e.id,c&&(c.createInvertedIndices=!0);var p=d.coordDim,g=d.type,v=0;V(s,function(x){x.coordDim===p&&v++});var m={name:h,coordDim:p,coordDimIndex:v,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:s.length},y={name:f,coordDim:f,coordDimIndex:v+1,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:s.length+1};a?(o&&(m.storeDimIndex=o.ensureCalculationDimension(f,g),y.storeDimIndex=o.ensureCalculationDimension(h,g)),a.appendCalculationDimension(m),a.appendCalculationDimension(y)):(s.push(m),s.push(y))}return{stackedDimension:d&&d.name,stackedByDimension:c&&c.name,isStackedByIndex:n,stackedOverDimension:f,stackResultDimension:h}}function _je(e){return!yne(e.schema)}function qd(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function wne(e,t){return qd(e,t)?e.getCalculationInfo("stackResultDimension"):t}function bje(e,t){var r=e.get("coordinateSystem"),n=ew.get(r),i;return t&&t.coordSysDims&&(i=xe(t.coordSysDims,function(s){var a={name:s},o=t.axisMap.get(s);if(o){var l=o.get("type");a.type=_E(l)}return a})),i||(i=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),i}function wje(e,t,r){var n,i;return r&&V(e,function(s,a){var o=s.coordDim,l=r.categoryAxisMap.get(o);l&&(n==null&&(n=a),s.ordinalMeta=l.getOrdinalMeta(),t&&(s.createInvertedIndices=!0)),s.otherDims.itemName!=null&&(i=!0)}),!i&&n!=null&&(e[n].otherDims.itemName=0),n}function Su(e,t,r){r=r||{};var n=t.getSourceManager(),i,s=!1;e?(s=!0,i=L5(e)):(i=n.getSource(),s=i.sourceFormat===wo);var a=vje(t),o=bje(t,a),l=r.useEncodeDefaulter,c=et(l)?l:l?xt(dre,o,t):null,d={coordDimensions:o,generateCoord:r.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!s},h=rw(i,d),f=wje(h.dimensions,r.createInvertedIndices,a),p=s?null:n.getSharedDataStore(h),g=xje(t,{schema:h,store:p}),v=new Ls(h,t);v.setCalculationInfo(g);var m=f!=null&&Sje(i)?function(y,x,_,b){return b===f?_:this.defaultDimValueGetter(y,x,_,b)}:null;return v.hasItemOption=!1,v.initData(s?i:p,null,m),v}function Sje(e){if(e.sourceFormat===wo){var t=Cje(e.data||[]);return!ve(Lv(t))}}function Cje(e){for(var t=0;t<e.length&&e[t]==null;)t++;return e[t]}var gc=function(){function e(t){this._setting=t||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(t){return this._setting[t]},e.prototype.unionExtent=function(t){var r=this._extent;t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1])},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(t,r){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(r)||(n[1]=r)},e.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(t){this._isBlank=t},e}();vN(gc);var kje=0,mL=function(){function e(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++kje}return e.createByAxisModel=function(t){var r=t.option,n=r.data,i=n&&xe(n,Eje);return new e({categories:i,needCollect:!i,deduplication:r.dedplication!==!1})},e.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},e.prototype.parseAndCollect=function(t){var r,n=this._needCollect;if(!De(t)&&!n)return t;if(n&&!this._deduplication)return r=this.categories.length,this.categories[r]=t,r;var i=this._getOrCreateMap();return r=i.get(t),r==null&&(n?(r=this.categories.length,this.categories[r]=t,i.set(t,r)):r=NaN),r},e.prototype._getOrCreateMap=function(){return this._map||(this._map=qe(this.categories))},e}();function Eje(e){return st(e)&&e.value!=null?e.value:e+""}function vL(e){return e.type==="interval"||e.type==="log"}function Tje(e,t,r,n){var i={},s=e[1]-e[0],a=i.interval=Zee(s/t);r!=null&&a<r&&(a=i.interval=r),n!=null&&a>n&&(a=i.interval=n);var o=i.intervalPrecision=Sne(a),l=i.niceTickExtent=[Gn(Math.ceil(e[0]/a)*a,o),Gn(Math.floor(e[1]/a)*a,o)];return Nje(l,e),i}function Mj(e){var t=Math.pow(10,l5(e)),r=e/t;return r?r===2?r=3:r===3?r=5:r*=2:r=1,Gn(r*t)}function Sne(e){return $l(e)+2}function FH(e,t,r){e[t]=Math.max(Math.min(e[t],r[1]),r[0])}function Nje(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),FH(e,0,t),FH(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function $N(e,t){return e>=t[0]&&e<=t[1]}function BN(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function FN(e,t){return e*(t[1]-t[0])+t[0]}var zN=function(e){le(t,e);function t(r){var n=e.call(this,r)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new mL({})),ve(i)&&(i=new mL({categories:xe(i,function(s){return st(s)?s.value:s})})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return t.prototype.parse=function(r){return r==null?NaN:De(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)},t.prototype.contain=function(r){return r=this.parse(r),$N(r,this._extent)&&this._ordinalMeta.categories[r]!=null},t.prototype.normalize=function(r){return r=this._getTickNumber(this.parse(r)),BN(r,this._extent)},t.prototype.scale=function(r){return r=Math.round(FN(r,this._extent)),this.getRawOrdinalNumber(r)},t.prototype.getTicks=function(){for(var r=[],n=this._extent,i=n[0];i<=n[1];)r.push({value:i}),i++;return r},t.prototype.getMinorTicks=function(r){},t.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=r.ordinalNumbers,i=this._ordinalNumbersByTick=[],s=this._ticksByOrdinalNumber=[],a=0,o=this._ordinalMeta.categories.length,l=Math.min(o,n.length);a<l;++a){var c=n[a];i[a]=c,s[c]=a}for(var d=0;a<o;++a){for(;s[d]!=null;)d++;i.push(d),s[d]=a}},t.prototype._getTickNumber=function(r){var n=this._ticksByOrdinalNumber;return n&&r>=0&&r<n.length?n[r]:r},t.prototype.getRawOrdinalNumber=function(r){var n=this._ordinalNumbersByTick;return n&&r>=0&&r<n.length?n[r]:r},t.prototype.getLabel=function(r){if(!this.isBlank()){var n=this.getRawOrdinalNumber(r.value),i=this._ordinalMeta.categories[n];return i==null?"":i+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},t.prototype.isInExtentRange=function(r){return r=this._getTickNumber(r),this._extent[0]<=r&&this._extent[1]>=r},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(gc);gc.registerClass(zN);var Uh=Gn,du=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return t.prototype.parse=function(r){return r},t.prototype.contain=function(r){return $N(r,this._extent)},t.prototype.normalize=function(r){return BN(r,this._extent)},t.prototype.scale=function(r){return FN(r,this._extent)},t.prototype.setExtent=function(r,n){var i=this._extent;isNaN(r)||(i[0]=parseFloat(r)),isNaN(n)||(i[1]=parseFloat(n))},t.prototype.unionExtent=function(r){var n=this._extent;r[0]<n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1]),this.setExtent(n[0],n[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(r){this._interval=r,this._niceExtent=this._extent.slice(),this._intervalPrecision=Sne(r)},t.prototype.getTicks=function(r){var n=this._interval,i=this._extent,s=this._niceExtent,a=this._intervalPrecision,o=[];if(!n)return o;var l=1e4;i[0]<s[0]&&(r?o.push({value:Uh(s[0]-n,a)}):o.push({value:i[0]}));for(var c=s[0];c<=s[1]&&(o.push({value:c}),c=Uh(c+n,a),c!==o[o.length-1].value);)if(o.length>l)return[];var d=o.length?o[o.length-1].value:s[1];return i[1]>d&&(r?o.push({value:Uh(d+n,a)}):o.push({value:i[1]})),o},t.prototype.getMinorTicks=function(r){for(var n=this.getTicks(!0),i=[],s=this.getExtent(),a=1;a<n.length;a++){for(var o=n[a],l=n[a-1],c=0,d=[],h=o.value-l.value,f=h/r;c<r-1;){var p=Uh(l.value+(c+1)*f);p>s[0]&&p<s[1]&&d.push(p),c++}i.push(d)}return i},t.prototype.getLabel=function(r,n){if(r==null)return"";var i=n&&n.precision;i==null?i=$l(r.value)||0:i==="auto"&&(i=this._intervalPrecision);var s=Uh(r.value,i,!0);return rre(s)},t.prototype.calcNiceTicks=function(r,n,i){r=r||5;var s=this._extent,a=s[1]-s[0];if(isFinite(a)){a<0&&(a=-a,s.reverse());var o=Tje(s,r,n,i);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},t.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1])if(n[0]!==0){var i=Math.abs(n[0]);r.fixMax||(n[1]+=i/2),n[0]-=i/2}else n[1]=1;var s=n[1]-n[0];isFinite(s)||(n[0]=0,n[1]=1),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var a=this._interval;r.fixMin||(n[0]=Uh(Math.floor(n[0]/a)*a)),r.fixMax||(n[1]=Uh(Math.ceil(n[1]/a)*a))},t.prototype.setNiceExtent=function(r,n){this._niceExtent=[r,n]},t.type="interval",t}(gc);gc.registerClass(du);var Cne=typeof Float32Array<"u",Aje=Cne?Float32Array:Array;function Fl(e){return ve(e)?Cne?new Float32Array(e):e:new Aje(e)}var yL="__ec_stack_";function kne(e){return e.get("stack")||yL+e.seriesIndex}function G5(e){return e.dim+e.index}function jje(e){var t=[],r=e.axis,n="axis0";if(r.type==="category"){for(var i=r.getBandWidth(),s=0;s<e.count;s++)t.push(rt({bandWidth:i,axisKey:n,stackId:yL+s},e));for(var a=Nne(t),o=[],s=0;s<e.count;s++){var l=a[n][yL+s];l.offsetCenter=l.offset+l.width/2,o.push(l)}return o}}function Ene(e,t){var r=[];return t.eachSeriesByType(e,function(n){Rne(n)&&r.push(n)}),r}function Rje(e){var t={};V(e,function(l){var c=l.coordinateSystem,d=c.getBaseAxis();if(!(d.type!=="time"&&d.type!=="value"))for(var h=l.getData(),f=d.dim+"_"+d.index,p=h.getDimensionIndex(h.mapDimension(d.dim)),g=h.getStore(),v=0,m=g.count();v<m;++v){var y=g.get(p,v);t[f]?t[f].push(y):t[f]=[y]}});var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(i){i.sort(function(l,c){return l-c});for(var s=null,a=1;a<i.length;++a){var o=i[a]-i[a-1];o>0&&(s=s===null?o:Math.min(s,o))}r[n]=s}}return r}function Tne(e){var t=Rje(e),r=[];return V(e,function(n){var i=n.coordinateSystem,s=i.getBaseAxis(),a=s.getExtent(),o;if(s.type==="category")o=s.getBandWidth();else if(s.type==="value"||s.type==="time"){var l=s.dim+"_"+s.index,c=t[l],d=Math.abs(a[1]-a[0]),h=s.scale.getExtent(),f=Math.abs(h[1]-h[0]);o=c?d/f*c:d}else{var p=n.getData();o=Math.abs(a[1]-a[0])/p.count()}var g=Ne(n.get("barWidth"),o),v=Ne(n.get("barMaxWidth"),o),m=Ne(n.get("barMinWidth")||(Ine(n)?.5:1),o),y=n.get("barGap"),x=n.get("barCategoryGap");r.push({bandWidth:o,barWidth:g,barMaxWidth:v,barMinWidth:m,barGap:y,barCategoryGap:x,axisKey:G5(s),stackId:kne(n)})}),Nne(r)}function Nne(e){var t={};V(e,function(n,i){var s=n.axisKey,a=n.bandWidth,o=t[s]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=o.stacks;t[s]=o;var c=n.stackId;l[c]||o.autoWidthCount++,l[c]=l[c]||{width:0,maxWidth:0};var d=n.barWidth;d&&!l[c].width&&(l[c].width=d,d=Math.min(o.remainedWidth,d),o.remainedWidth-=d);var h=n.barMaxWidth;h&&(l[c].maxWidth=h);var f=n.barMinWidth;f&&(l[c].minWidth=f);var p=n.barGap;p!=null&&(o.gap=p);var g=n.barCategoryGap;g!=null&&(o.categoryGap=g)});var r={};return V(t,function(n,i){r[i]={};var s=n.stacks,a=n.bandWidth,o=n.categoryGap;if(o==null){var l=Zt(s).length;o=Math.max(35-l*4,15)+"%"}var c=Ne(o,a),d=Ne(n.gap,1),h=n.remainedWidth,f=n.autoWidthCount,p=(h-c)/(f+(f-1)*d);p=Math.max(p,0),V(s,function(y){var x=y.maxWidth,_=y.minWidth;if(y.width){var b=y.width;x&&(b=Math.min(b,x)),_&&(b=Math.max(b,_)),y.width=b,h-=b+d*b,f--}else{var b=p;x&&x<b&&(b=Math.min(x,h)),_&&_>b&&(b=_),b!==p&&(y.width=b,h-=b+d*b,f--)}}),p=(h-c)/(f+(f-1)*d),p=Math.max(p,0);var g=0,v;V(s,function(y,x){y.width||(y.width=p),v=y,g+=y.width*(1+d)}),v&&(g-=v.width*d);var m=-g/2;V(s,function(y,x){r[i][x]=r[i][x]||{bandWidth:a,offset:m,width:y.width},m+=y.width*(1+d)})}),r}function Ije(e,t,r){if(e&&t){var n=e[G5(t)];return n}}function Ane(e,t){var r=Ene(e,t),n=Tne(r);V(r,function(i){var s=i.getData(),a=i.coordinateSystem,o=a.getBaseAxis(),l=kne(i),c=n[G5(o)][l],d=c.offset,h=c.width;s.setLayout({bandWidth:c.bandWidth,offset:d,size:h})})}function jne(e){return{seriesType:e,plan:Hv(),reset:function(t){if(Rne(t)){var r=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),s=n.getOtherAxis(i),a=r.getDimensionIndex(r.mapDimension(s.dim)),o=r.getDimensionIndex(r.mapDimension(i.dim)),l=t.get("showBackground",!0),c=r.mapDimension(s.dim),d=r.getCalculationInfo("stackResultDimension"),h=qd(r,c)&&!!r.getCalculationInfo("stackedOnSeries"),f=s.isHorizontal(),p=Mje(i,s),g=Ine(t),v=t.get("barMinHeight")||0,m=d&&r.getDimensionIndex(d),y=r.getLayout("size"),x=r.getLayout("offset");return{progress:function(_,b){for(var w=_.count,S=g&&Fl(w*3),k=g&&l&&Fl(w*3),C=g&&Fl(w),E=n.master.getRect(),T=f?E.width:E.height,N,R=b.getStore(),P=0;(N=_.next())!=null;){var D=R.get(h?m:a,N),$=R.get(o,N),L=p,O=void 0;h&&(O=+D-R.get(a,N));var j=void 0,M=void 0,I=void 0,z=void 0;if(f){var U=n.dataToPoint([D,$]);if(h){var F=n.dataToPoint([O,$]);L=F[0]}j=L,M=U[1]+x,I=U[0]-L,z=y,Math.abs(I)<v&&(I=(I<0?-1:1)*v)}else{var U=n.dataToPoint([$,D]);if(h){var F=n.dataToPoint([$,O]);L=F[1]}j=U[0]+x,M=L,I=y,z=U[1]-L,Math.abs(z)<v&&(z=(z<=0?-1:1)*v)}g?(S[P]=j,S[P+1]=M,S[P+2]=f?I:z,k&&(k[P]=f?E.x:j,k[P+1]=f?M:E.y,k[P+2]=T),C[N]=N):b.setItemLayout(N,{x:j,y:M,width:I,height:z}),P+=3}g&&b.setLayout({largePoints:S,largeDataIndices:C,largeBackgroundPoints:k,valueAxisHorizontal:f})}}}}}}function Rne(e){return e.coordinateSystem&&e.coordinateSystem.type==="cartesian2d"}function Ine(e){return e.pipelineContext&&e.pipelineContext.large}function Mje(e,t){var r=t.model.get("startValue");return r||(r=0),t.toGlobalCoord(t.dataToCoord(t.type==="log"?r>0?r:1:r))}var Pje=function(e,t,r,n){for(;r<n;){var i=r+n>>>1;e[i][1]<t?r=i+1:n=i}return r},q5=function(e){le(t,e);function t(r){var n=e.call(this,r)||this;return n.type="time",n}return t.prototype.getLabel=function(r){var n=this.getSetting("useUTC");return NN(r.value,AU[gNe(Tm(this._minLevelUnit))]||AU.second,n,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(r,n,i){var s=this.getSetting("useUTC"),a=this.getSetting("locale");return mNe(r,n,i,a,s)},t.prototype.getTicks=function(){var r=this._interval,n=this._extent,i=[];if(!r)return i;i.push({value:n[0],level:0});var s=this.getSetting("useUTC"),a=zje(this._minLevelUnit,this._approxInterval,s,n);return i=i.concat(a),i.push({value:n[1],level:0}),i},t.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1]&&(n[0]-=uo,n[1]+=uo),n[1]===-1/0&&n[0]===1/0){var i=new Date;n[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),n[0]=n[1]-uo}this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)},t.prototype.calcNiceTicks=function(r,n,i){r=r||10;var s=this._extent,a=s[1]-s[0];this._approxInterval=a/r,n!=null&&this._approxInterval<n&&(this._approxInterval=n),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var o=aS.length,l=Math.min(Pje(aS,this._approxInterval,0,o),o-1);this._interval=aS[l][1],this._minLevelUnit=aS[Math.max(l-1,0)][0]},t.prototype.parse=function(r){return xr(r)?r:+ac(r)},t.prototype.contain=function(r){return $N(this.parse(r),this._extent)},t.prototype.normalize=function(r){return BN(this.parse(r),this._extent)},t.prototype.scale=function(r){return FN(r,this._extent)},t.type="time",t}(du),aS=[["second",E5],["minute",T5],["hour",Lx],["quarter-day",Lx*6],["half-day",Lx*12],["day",uo*1.2],["half-week",uo*3.5],["week",uo*7],["month",uo*31],["quarter",uo*95],["half-year",NU/2],["year",NU]];function Lje(e,t,r,n){var i=ac(t),s=ac(r),a=function(g){return jU(i,g,n)===jU(s,g,n)},o=function(){return a("year")},l=function(){return o()&&a("month")},c=function(){return l()&&a("day")},d=function(){return c()&&a("hour")},h=function(){return d()&&a("minute")},f=function(){return h()&&a("second")},p=function(){return f()&&a("millisecond")};switch(e){case"year":return o();case"month":return l();case"day":return c();case"hour":return d();case"minute":return h();case"second":return f();case"millisecond":return p()}}function Dje(e,t){return e/=uo,e>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function Oje(e){var t=30*uo;return e/=t,e>6?6:e>3?3:e>2?2:1}function $je(e){return e/=Lx,e>12?12:e>6?6:e>3.5?4:e>2?2:1}function zH(e,t){return e/=t?T5:E5,e>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function Bje(e){return Zee(e)}function Fje(e,t,r){var n=new Date(e);switch(Tm(t)){case"year":case"month":n[Zte(r)](0);case"day":n[Xte(r)](1);case"hour":n[Jte(r)](0);case"minute":n[Qte(r)](0);case"second":n[ere(r)](0),n[tre(r)](0)}return n.getTime()}function zje(e,t,r,n){var i=1e4,s=Yte,a=0;function o(T,N,R,P,D,$,L){for(var O=new Date(N),j=N,M=O[P]();j<R&&j<=n[1];)L.push({value:j}),M+=T,O[D](M),j=O.getTime();L.push({value:j,notAdd:!0})}function l(T,N,R){var P=[],D=!N.length;if(!Lje(Tm(T),n[0],n[1],r)){D&&(N=[{value:Fje(new Date(n[0]),T,r)},{value:n[1]}]);for(var $=0;$<N.length-1;$++){var L=N[$].value,O=N[$+1].value;if(L!==O){var j=void 0,M=void 0,I=void 0,z=!1;switch(T){case"year":j=Math.max(1,Math.round(t/uo/365)),M=N5(r),I=vNe(r);break;case"half-year":case"quarter":case"month":j=Oje(t),M=Nm(r),I=Zte(r);break;case"week":case"half-week":case"day":j=Dje(t),M=AN(r),I=Xte(r),z=!0;break;case"half-day":case"quarter-day":case"hour":j=$je(t),M=O_(r),I=Jte(r);break;case"minute":j=zH(t,!0),M=jN(r),I=Qte(r);break;case"second":j=zH(t,!1),M=RN(r),I=ere(r);break;case"millisecond":j=Bje(t),M=IN(r),I=tre(r);break}o(j,L,O,M,I,z,P),T==="year"&&R.length>1&&$===0&&R.unshift({value:R[0].value-j})}}for(var $=0;$<P.length;$++)R.push(P[$]);return P}}for(var c=[],d=[],h=0,f=0,p=0;p<s.length&&a++<i;++p){var g=Tm(s[p]);if(pNe(s[p])){l(s[p],c[c.length-1]||[],d);var v=s[p+1]?Tm(s[p+1]):null;if(g!==v){if(d.length){f=h,d.sort(function(T,N){return T.value-N.value});for(var m=[],y=0;y<d.length;++y){var x=d[y].value;(y===0||d[y-1].value!==x)&&(m.push(d[y]),x>=n[0]&&x<=n[1]&&h++)}var _=(n[1]-n[0])/t;if(h>_*1.5&&f>_/1.5||(c.push(m),h>_||e===s[p]))break}d=[]}}}for(var b=Rr(xe(c,function(T){return Rr(T,function(N){return N.value>=n[0]&&N.value<=n[1]&&!N.notAdd})}),function(T){return T.length>0}),w=[],S=b.length-1,p=0;p<b.length;++p)for(var k=b[p],C=0;C<k.length;++C)w.push({value:k[C].value,level:S-p});w.sort(function(T,N){return T.value-N.value});for(var E=[],p=0;p<w.length;++p)(p===0||w[p].value!==w[p-1].value)&&E.push(w[p]);return E}gc.registerClass(q5);var UH=gc.prototype,Bx=du.prototype,Uje=Gn,Hje=Math.floor,Vje=Math.ceil,oS=Math.pow,No=Math.log,Y5=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new du,r._interval=0,r}return t.prototype.getTicks=function(r){var n=this._originalScale,i=this._extent,s=n.getExtent(),a=Bx.getTicks.call(this,r);return xe(a,function(o){var l=o.value,c=Gn(oS(this.base,l));return c=l===i[0]&&this._fixMin?lS(c,s[0]):c,c=l===i[1]&&this._fixMax?lS(c,s[1]):c,{value:c}},this)},t.prototype.setExtent=function(r,n){var i=No(this.base);r=No(Math.max(0,r))/i,n=No(Math.max(0,n))/i,Bx.setExtent.call(this,r,n)},t.prototype.getExtent=function(){var r=this.base,n=UH.getExtent.call(this);n[0]=oS(r,n[0]),n[1]=oS(r,n[1]);var i=this._originalScale,s=i.getExtent();return this._fixMin&&(n[0]=lS(n[0],s[0])),this._fixMax&&(n[1]=lS(n[1],s[1])),n},t.prototype.unionExtent=function(r){this._originalScale.unionExtent(r);var n=this.base;r[0]=No(r[0])/No(n),r[1]=No(r[1])/No(n),UH.unionExtent.call(this,r)},t.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},t.prototype.calcNiceTicks=function(r){r=r||10;var n=this._extent,i=n[1]-n[0];if(!(i===1/0||i<=0)){var s=Yke(i),a=r/i*s;for(a<=.5&&(s*=10);!isNaN(s)&&Math.abs(s)<1&&Math.abs(s)>0;)s*=10;var o=[Gn(Vje(n[0]/s)*s),Gn(Hje(n[1]/s)*s)];this._interval=s,this._niceExtent=o}},t.prototype.calcNiceExtent=function(r){Bx.calcNiceExtent.call(this,r),this._fixMin=r.fixMin,this._fixMax=r.fixMax},t.prototype.parse=function(r){return r},t.prototype.contain=function(r){return r=No(r)/No(this.base),$N(r,this._extent)},t.prototype.normalize=function(r){return r=No(r)/No(this.base),BN(r,this._extent)},t.prototype.scale=function(r){return r=FN(r,this._extent),oS(this.base,r)},t.type="log",t}(gc),Mne=Y5.prototype;Mne.getMinorTicks=Bx.getMinorTicks;Mne.getLabel=Bx.getLabel;function lS(e,t){return Uje(e,$l(t))}gc.registerClass(Y5);var Wje=function(){function e(t,r,n){this._prepareParams(t,r,n)}return e.prototype._prepareParams=function(t,r,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&r.getNeedCrossZero&&r.getNeedCrossZero();var s=r.get("min",!0);s==null&&(s=r.get("startValue",!0));var a=this._modelMinRaw=s;et(a)?this._modelMinNum=cS(t,a({min:n[0],max:n[1]})):a!=="dataMin"&&(this._modelMinNum=cS(t,a));var o=this._modelMaxRaw=r.get("max",!0);if(et(o)?this._modelMaxNum=cS(t,o({min:n[0],max:n[1]})):o!=="dataMax"&&(this._modelMaxNum=cS(t,o)),i)this._axisDataLen=r.getCategories().length;else{var l=r.get("boundaryGap"),c=ve(l)?l:[l||0,l||0];typeof c[0]=="boolean"||typeof c[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[tl(c[0],1),tl(c[1],1)]}},e.prototype.calculate=function(){var t=this._isOrdinal,r=this._dataMin,n=this._dataMax,i=this._axisDataLen,s=this._boundaryGapInner,a=t?null:n-r||Math.abs(r),o=this._modelMinRaw==="dataMin"?r:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,c=o!=null,d=l!=null;o==null&&(o=t?i?0:NaN:r-s[0]*a),l==null&&(l=t?i?i-1:NaN:n+s[1]*a),(o==null||!isFinite(o))&&(o=NaN),(l==null||!isFinite(l))&&(l=NaN);var h=T_(o)||T_(l)||t&&!i;this._needCrossZero&&(o>0&&l>0&&!c&&(o=0),o<0&&l<0&&!d&&(l=0));var f=this._determinedMin,p=this._determinedMax;return f!=null&&(o=f,c=!0),p!=null&&(l=p,d=!0),{min:o,max:l,minFixed:c,maxFixed:d,isBlank:h}},e.prototype.modifyDataMinMax=function(t,r){this[qje[t]]=r},e.prototype.setDeterminedMinMax=function(t,r){var n=Gje[t];this[n]=r},e.prototype.freeze=function(){this.frozen=!0},e}(),Gje={min:"_determinedMin",max:"_determinedMax"},qje={min:"_dataMin",max:"_dataMax"};function Pne(e,t,r){var n=e.rawExtentInfo;return n||(n=new Wje(e,t,r),e.rawExtentInfo=n,n)}function cS(e,t){return t==null?null:T_(t)?NaN:e.parse(t)}function Lne(e,t){var r=e.type,n=Pne(e,t,e.getExtent()).calculate();e.setBlank(n.isBlank);var i=n.min,s=n.max,a=t.ecModel;if(a&&r==="time"){var o=Ene("bar",a),l=!1;if(V(o,function(h){l=l||h.getBaseAxis()===t.axis}),l){var c=Tne(o),d=Yje(i,s,t,c);i=d.min,s=d.max}}return{extent:[i,s],fixMin:n.minFixed,fixMax:n.maxFixed}}function Yje(e,t,r,n){var i=r.axis.getExtent(),s=Math.abs(i[1]-i[0]),a=Ije(n,r.axis);if(a===void 0)return{min:e,max:t};var o=1/0;V(a,function(p){o=Math.min(p.offset,o)});var l=-1/0;V(a,function(p){l=Math.max(p.offset+p.width,l)}),o=Math.abs(o),l=Math.abs(l);var c=o+l,d=t-e,h=1-(o+l)/s,f=d/h-d;return t+=f*(l/c),e-=f*(o/c),{min:e,max:t}}function Qm(e,t){var r=t,n=Lne(e,r),i=n.extent,s=r.get("splitNumber");e instanceof Y5&&(e.base=r.get("logBase"));var a=e.type,o=r.get("interval"),l=a==="interval"||a==="time";e.setExtent(i[0],i[1]),e.calcNiceExtent({splitNumber:s,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?r.get("minInterval"):null,maxInterval:l?r.get("maxInterval"):null}),o!=null&&e.setInterval&&e.setInterval(o)}function UN(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new zN({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new q5({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(gc.getClass(t)||du)}}function Kje(e){var t=e.scale.getExtent(),r=t[0],n=t[1];return!(r>0&&n>0||r<0&&n<0)}function Gv(e){var t=e.getLabelModel().get("formatter"),r=e.type==="category"?e.scale.getExtent()[0]:null;return e.scale.type==="time"?function(n){return function(i,s){return e.scale.getFormattedLabel(i,s,n)}}(t):De(t)?function(n){return function(i){var s=e.scale.getLabel(i),a=n.replace("{value}",s??"");return a}}(t):et(t)?function(n){return function(i,s){return r!=null&&(s=i.value-r),n(K5(e,i),s,i.level!=null?{level:i.level}:null)}}(t):function(n){return e.scale.getLabel(n)}}function K5(e,t){return e.type==="category"?e.scale.getLabel(t):t.value}function Zje(e){var t=e.model,r=e.scale;if(!(!t.get(["axisLabel","show"])||r.isBlank())){var n,i,s=r.getExtent();r instanceof zN?i=r.count():(n=r.getTicks(),i=n.length);var a=e.getLabelModel(),o=Gv(e),l,c=1;i>40&&(c=Math.ceil(i/40));for(var d=0;d<i;d+=c){var h=n?n[d]:{value:s[0]+d},f=o(h,d),p=a.getTextRect(f),g=Xje(p,a.get("rotate")||0);l?l.union(g):l=g}return l}}function Xje(e,t){var r=t*Math.PI/180,n=e.width,i=e.height,s=n*Math.abs(Math.cos(r))+Math.abs(i*Math.sin(r)),a=n*Math.abs(Math.sin(r))+Math.abs(i*Math.cos(r)),o=new At(e.x,e.y,s,a);return o}function Z5(e){var t=e.get("interval");return t??"auto"}function Dne(e){return e.type==="category"&&Z5(e.getLabelModel())===0}function bE(e,t){var r={};return V(e.mapDimensionsAll(t),function(n){r[wne(e,n)]=!0}),Zt(r)}function Jje(e,t,r){t&&V(bE(t,r),function(n){var i=t.getApproximateExtent(n);i[0]<e[0]&&(e[0]=i[0]),i[1]>e[1]&&(e[1]=i[1])})}var nw=function(){function e(){}return e.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},e.prototype.getCoordSysModel=function(){},e}(),Qje=1e-8;function HH(e,t){return Math.abs(e-t)<Qje}function lf(e,t,r){var n=0,i=e[0];if(!i)return!1;for(var s=1;s<e.length;s++){var a=e[s];n+=Lc(i[0],i[1],a[0],a[1],t,r),i=a}var o=e[0];return(!HH(i[0],o[0])||!HH(i[1],o[1]))&&(n+=Lc(i[0],i[1],o[0],o[1],t,r)),n!==0}var eRe=[];function Pj(e,t){for(var r=0;r<e.length;r++)Vi(e[r],e[r],t)}function VH(e,t,r,n){for(var i=0;i<e.length;i++){var s=e[i];n&&(s=n.project(s)),s&&isFinite(s[0])&&isFinite(s[1])&&(hd(t,t,s),fd(r,r,s))}}function tRe(e){for(var t=0,r=0,n=0,i=e.length,s=e[i-1][0],a=e[i-1][1],o=0;o<i;o++){var l=e[o][0],c=e[o][1],d=s*c-l*a;t+=d,r+=(s+l)*d,n+=(a+c)*d,s=l,a=c}return t?[r/t/3,n/t/3,t]:[e[0][0]||0,e[0][1]||0]}var One=function(){function e(t){this.name=t}return e.prototype.setCenter=function(t){this._center=t},e.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},e}(),WH=function(){function e(t,r){this.type="polygon",this.exterior=t,this.interiors=r}return e}(),GH=function(){function e(t){this.type="linestring",this.points=t}return e}(),$ne=function(e){le(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.type="geoJSON",s.geometries=n,s._center=i&&[i[0],i[1]],s}return t.prototype.calcCenter=function(){for(var r=this.geometries,n,i=0,s=0;s<r.length;s++){var a=r[s],o=a.exterior,l=o&&o.length;l>i&&(n=a,i=l)}if(n)return tRe(n.exterior);var c=this.getBoundingRect();return[c.x+c.width/2,c.y+c.height/2]},t.prototype.getBoundingRect=function(r){var n=this._rect;if(n&&!r)return n;var i=[1/0,1/0],s=[-1/0,-1/0],a=this.geometries;return V(a,function(o){o.type==="polygon"?VH(o.exterior,i,s,r):V(o.points,function(l){VH(l,i,s,r)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(s[0])&&isFinite(s[1])||(i[0]=i[1]=s[0]=s[1]=0),n=new At(i[0],i[1],s[0]-i[0],s[1]-i[1]),r||(this._rect=n),n},t.prototype.contain=function(r){var n=this.getBoundingRect(),i=this.geometries;if(!n.contain(r[0],r[1]))return!1;e:for(var s=0,a=i.length;s<a;s++){var o=i[s];if(o.type==="polygon"){var l=o.exterior,c=o.interiors;if(lf(l,r[0],r[1])){for(var d=0;d<(c?c.length:0);d++)if(lf(c[d],r[0],r[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(r,n,i,s){var a=this.getBoundingRect(),o=a.width/a.height;i?s||(s=i/o):i=o*s;for(var l=new At(r,n,i,s),c=a.calculateTransform(l),d=this.geometries,h=0;h<d.length;h++){var f=d[h];f.type==="polygon"?(Pj(f.exterior,c),V(f.interiors,function(p){Pj(p,c)})):V(f.points,function(p){Pj(p,c)})}a=this._rect,a.copy(l),this._center=[a.x+a.width/2,a.y+a.height/2]},t.prototype.cloneShallow=function(r){r==null&&(r=this.name);var n=new t(r,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},t}(One),rRe=function(e){le(t,e);function t(r,n){var i=e.call(this,r)||this;return i.type="geoSVG",i._elOnlyForCalculate=n,i}return t.prototype.calcCenter=function(){for(var r=this._elOnlyForCalculate,n=r.getBoundingRect(),i=[n.x+n.width/2,n.y+n.height/2],s=fN(eRe),a=r;a&&!a.isGeoSVGGraphicRoot;)Kc(s,a.getLocalTransform(),s),a=a.parent;return Pv(s,s),Vi(i,i,s),i},t}(One);function nRe(e){if(!e.UTF8Encoding)return e;var t=e,r=t.UTF8Scale;r==null&&(r=1024);var n=t.features;return V(n,function(i){var s=i.geometry,a=s.encodeOffsets,o=s.coordinates;if(a)switch(s.type){case"LineString":s.coordinates=Bne(o,a,r);break;case"Polygon":Lj(o,a,r);break;case"MultiLineString":Lj(o,a,r);break;case"MultiPolygon":V(o,function(l,c){return Lj(l,a[c],r)})}}),t.UTF8Encoding=!1,t}function Lj(e,t,r){for(var n=0;n<e.length;n++)e[n]=Bne(e[n],t[n],r)}function Bne(e,t,r){for(var n=[],i=t[0],s=t[1],a=0;a<e.length;a+=2){var o=e.charCodeAt(a)-64,l=e.charCodeAt(a+1)-64;o=o>>1^-(o&1),l=l>>1^-(l&1),o+=i,l+=s,i=o,s=l,n.push([o/r,l/r])}return n}function iRe(e,t){return e=nRe(e),xe(Rr(e.features,function(r){return r.geometry&&r.properties&&r.geometry.coordinates.length>0}),function(r){var n=r.properties,i=r.geometry,s=[];switch(i.type){case"Polygon":var a=i.coordinates;s.push(new WH(a[0],a.slice(1)));break;case"MultiPolygon":V(i.coordinates,function(l){l[0]&&s.push(new WH(l[0],l.slice(1)))});break;case"LineString":s.push(new GH([i.coordinates]));break;case"MultiLineString":s.push(new GH(i.coordinates))}var o=new $ne(n[t||"name"],s,n.cp);return o.properties=n,o})}var H_=cr();function Fne(e,t){var r=xe(t,function(n){return e.scale.parse(n)});return e.type==="time"&&r.length>0&&(r.sort(),r.unshift(r[0]),r.push(r[r.length-1])),r}function sRe(e){var t=e.getLabelModel().get("customValues");if(t){var r=Gv(e),n=e.scale.getExtent(),i=Fne(e,t),s=Rr(i,function(a){return a>=n[0]&&a<=n[1]});return{labels:xe(s,function(a){var o={value:a};return{formattedLabel:r(o),rawLabel:e.scale.getLabel(o),tickValue:a}})}}return e.type==="category"?oRe(e):cRe(e)}function aRe(e,t){var r=e.getTickModel().get("customValues");if(r){var n=e.scale.getExtent(),i=Fne(e,r);return{ticks:Rr(i,function(s){return s>=n[0]&&s<=n[1]})}}return e.type==="category"?lRe(e,t):{ticks:xe(e.scale.getTicks(),function(s){return s.value})}}function oRe(e){var t=e.getLabelModel(),r=zne(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function zne(e,t){var r=Une(e,"labels"),n=Z5(t),i=Hne(r,n);if(i)return i;var s,a;return et(n)?s=Gne(e,n):(a=n==="auto"?uRe(e):n,s=Wne(e,a)),Vne(r,n,{labels:s,labelCategoryInterval:a})}function lRe(e,t){var r=Une(e,"ticks"),n=Z5(t),i=Hne(r,n);if(i)return i;var s,a;if((!t.get("show")||e.scale.isBlank())&&(s=[]),et(n))s=Gne(e,n,!0);else if(n==="auto"){var o=zne(e,e.getLabelModel());a=o.labelCategoryInterval,s=xe(o.labels,function(l){return l.tickValue})}else a=n,s=Wne(e,a,!0);return Vne(r,n,{ticks:s,tickCategoryInterval:a})}function cRe(e){var t=e.scale.getTicks(),r=Gv(e);return{labels:xe(t,function(n,i){return{level:n.level,formattedLabel:r(n,i),rawLabel:e.scale.getLabel(n),tickValue:n.value}})}}function Une(e,t){return H_(e)[t]||(H_(e)[t]=[])}function Hne(e,t){for(var r=0;r<e.length;r++)if(e[r].key===t)return e[r].value}function Vne(e,t,r){return e.push({key:t,value:r}),r}function uRe(e){var t=H_(e).autoInterval;return t??(H_(e).autoInterval=e.calculateCategoryInterval())}function dRe(e){var t=hRe(e),r=Gv(e),n=(t.axisRotate-t.labelRotate)/180*Math.PI,i=e.scale,s=i.getExtent(),a=i.count();if(s[1]-s[0]<1)return 0;var o=1;a>40&&(o=Math.max(1,Math.floor(a/40)));for(var l=s[0],c=e.dataToCoord(l+1)-e.dataToCoord(l),d=Math.abs(c*Math.cos(n)),h=Math.abs(c*Math.sin(n)),f=0,p=0;l<=s[1];l+=o){var g=0,v=0,m=Gb(r({value:l}),t.font,"center","top");g=m.width*1.3,v=m.height*1.3,f=Math.max(f,g,7),p=Math.max(p,v,7)}var y=f/d,x=p/h;isNaN(y)&&(y=1/0),isNaN(x)&&(x=1/0);var _=Math.max(0,Math.floor(Math.min(y,x))),b=H_(e.model),w=e.getExtent(),S=b.lastAutoInterval,k=b.lastTickCount;return S!=null&&k!=null&&Math.abs(S-_)<=1&&Math.abs(k-a)<=1&&S>_&&b.axisExtent0===w[0]&&b.axisExtent1===w[1]?_=S:(b.lastTickCount=a,b.lastAutoInterval=_,b.axisExtent0=w[0],b.axisExtent1=w[1]),_}function hRe(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function Wne(e,t,r){var n=Gv(e),i=e.scale,s=i.getExtent(),a=e.getLabelModel(),o=[],l=Math.max((t||0)+1,1),c=s[0],d=i.count();c!==0&&l>1&&d/l>2&&(c=Math.round(Math.ceil(c/l)*l));var h=Dne(e),f=a.get("showMinLabel")||h,p=a.get("showMaxLabel")||h;f&&c!==s[0]&&v(s[0]);for(var g=c;g<=s[1];g+=l)v(g);p&&g-l!==s[1]&&v(s[1]);function v(m){var y={value:m};o.push(r?m:{formattedLabel:n(y),rawLabel:i.getLabel(y),tickValue:m})}return o}function Gne(e,t,r){var n=e.scale,i=Gv(e),s=[];return V(n.getTicks(),function(a){var o=n.getLabel(a),l=a.value;t(a.value,o)&&s.push(r?l:{formattedLabel:i(a),rawLabel:o,tickValue:l})}),s}var qH=[0,1],ul=function(){function e(t,r,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=r,this._extent=n||[0,0]}return e.prototype.contain=function(t){var r=this._extent,n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return t>=n&&t<=i},e.prototype.containData=function(t){return this.scale.contain(t)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(t){return Yee(t||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(t,r){var n=this._extent;n[0]=t,n[1]=r},e.prototype.dataToCoord=function(t,r){var n=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&i.type==="ordinal"&&(n=n.slice(),YH(n,i.count())),Pr(t,qH,n,r)},e.prototype.coordToData=function(t,r){var n=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(n=n.slice(),YH(n,i.count()));var s=Pr(t,n,qH,r);return this.scale.scale(s)},e.prototype.pointToData=function(t,r){},e.prototype.getTicksCoords=function(t){t=t||{};var r=t.tickModel||this.getTickModel(),n=aRe(this,r),i=n.ticks,s=xe(i,function(o){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(o):o),tickValue:o}},this),a=r.get("alignWithLabel");return fRe(this,s,a,t.clamp),s},e.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),r=t.get("splitNumber");r>0&&r<100||(r=5);var n=this.scale.getMinorTicks(r),i=xe(n,function(s){return xe(s,function(a){return{coord:this.dataToCoord(a),tickValue:a}},this)},this);return i},e.prototype.getViewLabels=function(){return sRe(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var t=this._extent,r=this.scale.getExtent(),n=r[1]-r[0]+(this.onBand?1:0);n===0&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},e.prototype.calculateCategoryInterval=function(){return dRe(this)},e}();function YH(e,t){var r=e[1]-e[0],n=t,i=r/n/2;e[0]+=i,e[1]-=i}function fRe(e,t,r,n){var i=t.length;if(!e.onBand||r||!i)return;var s=e.getExtent(),a,o;if(i===1)t[0].coord=s[0],a=t[1]={coord:s[1],tickValue:t[0].tickValue};else{var l=t[i-1].tickValue-t[0].tickValue,c=(t[i-1].coord-t[0].coord)/l;V(t,function(p){p.coord-=c/2});var d=e.scale.getExtent();o=1+d[1]-t[i-1].tickValue,a={coord:t[i-1].coord+c*o,tickValue:d[1]+1},t.push(a)}var h=s[0]>s[1];f(t[0].coord,s[0])&&(n?t[0].coord=s[0]:t.shift()),n&&f(s[0],t[0].coord)&&t.unshift({coord:s[0]}),f(s[1],a.coord)&&(n?a.coord=s[1]:t.pop()),n&&f(a.coord,s[1])&&t.push({coord:s[1]});function f(p,g){return p=Gn(p),g=Gn(g),h?p>g:p<g}}var yy=Math.PI*2,Hh=oc.CMD,pRe=["top","right","bottom","left"];function gRe(e,t,r,n,i){var s=r.width,a=r.height;switch(e){case"top":n.set(r.x+s/2,r.y-t),i.set(0,-1);break;case"bottom":n.set(r.x+s/2,r.y+a+t),i.set(0,1);break;case"left":n.set(r.x-t,r.y+a/2),i.set(-1,0);break;case"right":n.set(r.x+s+t,r.y+a/2),i.set(1,0);break}}function mRe(e,t,r,n,i,s,a,o,l){a-=e,o-=t;var c=Math.sqrt(a*a+o*o);a/=c,o/=c;var d=a*r+e,h=o*r+t;if(Math.abs(n-i)%yy<1e-4)return l[0]=d,l[1]=h,c-r;if(s){var f=n;n=Ca(i),i=Ca(f)}else n=Ca(n),i=Ca(i);n>i&&(i+=yy);var p=Math.atan2(o,a);if(p<0&&(p+=yy),p>=n&&p<=i||p+yy>=n&&p+yy<=i)return l[0]=d,l[1]=h,c-r;var g=r*Math.cos(n)+e,v=r*Math.sin(n)+t,m=r*Math.cos(i)+e,y=r*Math.sin(i)+t,x=(g-a)*(g-a)+(v-o)*(v-o),_=(m-a)*(m-a)+(y-o)*(y-o);return x<_?(l[0]=g,l[1]=v,Math.sqrt(x)):(l[0]=m,l[1]=y,Math.sqrt(_))}function wE(e,t,r,n,i,s,a,o){var l=i-e,c=s-t,d=r-e,h=n-t,f=Math.sqrt(d*d+h*h);d/=f,h/=f;var p=l*d+c*h,g=p/f;o&&(g=Math.min(Math.max(g,0),1)),g*=f;var v=a[0]=e+g*d,m=a[1]=t+g*h;return Math.sqrt((v-i)*(v-i)+(m-s)*(m-s))}function qne(e,t,r,n,i,s,a){r<0&&(e=e+r,r=-r),n<0&&(t=t+n,n=-n);var o=e+r,l=t+n,c=a[0]=Math.min(Math.max(i,e),o),d=a[1]=Math.min(Math.max(s,t),l);return Math.sqrt((c-i)*(c-i)+(d-s)*(d-s))}var Oo=[];function vRe(e,t,r){var n=qne(t.x,t.y,t.width,t.height,e.x,e.y,Oo);return r.set(Oo[0],Oo[1]),n}function yRe(e,t,r){for(var n=0,i=0,s=0,a=0,o,l,c=1/0,d=t.data,h=e.x,f=e.y,p=0;p<d.length;){var g=d[p++];p===1&&(n=d[p],i=d[p+1],s=n,a=i);var v=c;switch(g){case Hh.M:s=d[p++],a=d[p++],n=s,i=a;break;case Hh.L:v=wE(n,i,d[p],d[p+1],h,f,Oo,!0),n=d[p++],i=d[p++];break;case Hh.C:v=jee(n,i,d[p++],d[p++],d[p++],d[p++],d[p],d[p+1],h,f,Oo),n=d[p++],i=d[p++];break;case Hh.Q:v=Iee(n,i,d[p++],d[p++],d[p],d[p+1],h,f,Oo),n=d[p++],i=d[p++];break;case Hh.A:var m=d[p++],y=d[p++],x=d[p++],_=d[p++],b=d[p++],w=d[p++];p+=1;var S=!!(1-d[p++]);o=Math.cos(b)*x+m,l=Math.sin(b)*_+y,p<=1&&(s=o,a=l);var k=(h-m)*_/x+m;v=mRe(m,y,_,b,b+w,S,k,f,Oo),n=Math.cos(b+w)*x+m,i=Math.sin(b+w)*_+y;break;case Hh.R:s=n=d[p++],a=i=d[p++];var C=d[p++],E=d[p++];v=qne(s,a,C,E,h,f,Oo);break;case Hh.Z:v=wE(n,i,s,a,h,f,Oo,!0),n=s,i=a;break}v<c&&(c=v,r.set(Oo[0],Oo[1]))}return c}var Wo=new kt,cn=new kt,Zn=new kt,zl=new kt,Dl=new kt;function KH(e,t){if(e){var r=e.getTextGuideLine(),n=e.getTextContent();if(n&&r){var i=e.textGuideLineConfig||{},s=[[0,0],[0,0],[0,0]],a=i.candidates||pRe,o=n.getBoundingRect().clone();o.applyTransform(n.getComputedTransform());var l=1/0,c=i.anchor,d=e.getComputedTransform(),h=d&&Pv([],d),f=t.get("length2")||0;c&&Zn.copy(c);for(var p=0;p<a.length;p++){var g=a[p];gRe(g,0,o,Wo,zl),kt.scaleAndAdd(cn,Wo,zl,f),cn.transform(h);var v=e.getBoundingRect(),m=c?c.distance(cn):e instanceof Vt?yRe(cn,e.path,Zn):vRe(cn,v,Zn);m<l&&(l=m,cn.transform(d),Zn.transform(d),Zn.toArray(s[0]),cn.toArray(s[1]),Wo.toArray(s[2]))}Yne(s,t.get("minTurnAngle")),r.setShape({points:s})}}}var SE=[],Es=new kt;function Yne(e,t){if(t<=180&&t>0){t=t/180*Math.PI,Wo.fromArray(e[0]),cn.fromArray(e[1]),Zn.fromArray(e[2]),kt.sub(zl,Wo,cn),kt.sub(Dl,Zn,cn);var r=zl.len(),n=Dl.len();if(!(r<.001||n<.001)){zl.scale(1/r),Dl.scale(1/n);var i=zl.dot(Dl),s=Math.cos(t);if(s<i){var a=wE(cn.x,cn.y,Zn.x,Zn.y,Wo.x,Wo.y,SE,!1);Es.fromArray(SE),Es.scaleAndAdd(Dl,a/Math.tan(Math.PI-t));var o=Zn.x!==cn.x?(Es.x-cn.x)/(Zn.x-cn.x):(Es.y-cn.y)/(Zn.y-cn.y);if(isNaN(o))return;o<0?kt.copy(Es,cn):o>1&&kt.copy(Es,Zn),Es.toArray(e[1])}}}}function xRe(e,t,r){if(r<=180&&r>0){r=r/180*Math.PI,Wo.fromArray(e[0]),cn.fromArray(e[1]),Zn.fromArray(e[2]),kt.sub(zl,cn,Wo),kt.sub(Dl,Zn,cn);var n=zl.len(),i=Dl.len();if(!(n<.001||i<.001)){zl.scale(1/n),Dl.scale(1/i);var s=zl.dot(t),a=Math.cos(r);if(s<a){var o=wE(cn.x,cn.y,Zn.x,Zn.y,Wo.x,Wo.y,SE,!1);Es.fromArray(SE);var l=Math.PI/2,c=Math.acos(Dl.dot(t)),d=l+c-r;if(d>=l)kt.copy(Es,Zn);else{Es.scaleAndAdd(Dl,o/Math.tan(Math.PI/2-d));var h=Zn.x!==cn.x?(Es.x-cn.x)/(Zn.x-cn.x):(Es.y-cn.y)/(Zn.y-cn.y);if(isNaN(h))return;h<0?kt.copy(Es,cn):h>1&&kt.copy(Es,Zn)}Es.toArray(e[1])}}}}function Dj(e,t,r,n){var i=r==="normal",s=i?e:e.ensureState(r);s.ignore=t;var a=n.get("smooth");a&&a===!0&&(a=.3),s.shape=s.shape||{},a>0&&(s.shape.smooth=a);var o=n.getModel("lineStyle").getLineStyle();i?e.useStyle(o):s.style=o}function _Re(e,t){var r=t.smooth,n=t.points;if(n)if(e.moveTo(n[0][0],n[0][1]),r>0&&n.length>=3){var i=dd(n[0],n[1]),s=dd(n[1],n[2]);if(!i||!s){e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]);return}var a=Math.min(i,s)*r,o=FC([],n[1],n[0],a/i),l=FC([],n[1],n[2],a/s),c=FC([],o,l,.5);e.bezierCurveTo(o[0],o[1],o[0],o[1],c[0],c[1]),e.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var d=1;d<n.length;d++)e.lineTo(n[d][0],n[d][1])}function X5(e,t,r){var n=e.getTextGuideLine(),i=e.getTextContent();if(!i){n&&e.removeTextGuideLine();return}for(var s=t.normal,a=s.get("show"),o=i.ignore,l=0;l<P_.length;l++){var c=P_[l],d=t[c],h=c==="normal";if(d){var f=d.get("show"),p=h?o:mt(i.states[c]&&i.states[c].ignore,o);if(p||!mt(f,a)){var g=h?n:n&&n.states[c];g&&(g.ignore=!0),n&&Dj(n,!0,c,d);continue}n||(n=new Vs,e.setTextGuideLine(n),!h&&(o||!a)&&Dj(n,!0,"normal",t.normal),e.stateProxy&&(n.stateProxy=e.stateProxy)),Dj(n,!1,c,d)}}if(n){rt(n.style,r),n.style.fill=null;var v=s.get("showAbove"),m=e.textGuideLineConfig=e.textGuideLineConfig||{};m.showAbove=v||!1,n.buildPath=_Re}}function J5(e,t){t=t||"labelLine";for(var r={normal:e.getModel(t)},n=0;n<$s.length;n++){var i=$s[n];r[i]=e.getModel([i,t])}return r}function Kne(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(!n.defaultAttr.ignore){var i=n.label,s=i.getComputedTransform(),a=i.getBoundingRect(),o=!s||s[1]<1e-5&&s[2]<1e-5,l=i.style.margin||0,c=a.clone();c.applyTransform(s),c.x-=l/2,c.y-=l/2,c.width+=l,c.height+=l;var d=o?new oE(a,s):null;t.push({label:i,labelLine:n.labelLine,rect:c,localRect:a,obb:d,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:o,transform:s})}}return t}function Zne(e,t,r,n,i,s){var a=e.length;if(a<2)return;e.sort(function(S,k){return S.rect[t]-k.rect[t]});for(var o=0,l,c=!1,d=0;d<a;d++){var h=e[d],f=h.rect;l=f[t]-o,l<0&&(f[t]-=l,h.label[t]-=l,c=!0),o=f[t]+f[r]}var p=e[0],g=e[a-1],v,m;y(),v<0&&b(-v,.8),m<0&&b(m,.8),y(),x(v,m,1),x(m,v,-1),y(),v<0&&w(-v),m<0&&w(m);function y(){v=p.rect[t]-n,m=i-g.rect[t]-g.rect[r]}function x(S,k,C){if(S<0){var E=Math.min(k,-S);if(E>0){_(E*C,0,a);var T=E+S;T<0&&b(-T*C,1)}else b(-S*C,1)}}function _(S,k,C){S!==0&&(c=!0);for(var E=k;E<C;E++){var T=e[E],N=T.rect;N[t]+=S,T.label[t]+=S}}function b(S,k){for(var C=[],E=0,T=1;T<a;T++){var N=e[T-1].rect,R=Math.max(e[T].rect[t]-N[t]-N[r],0);C.push(R),E+=R}if(E){var P=Math.min(Math.abs(S)/E,k);if(S>0)for(var T=0;T<a-1;T++){var D=C[T]*P;_(D,0,T+1)}else for(var T=a-1;T>0;T--){var D=C[T-1]*P;_(-D,T,a)}}}function w(S){var k=S<0?-1:1;S=Math.abs(S);for(var C=Math.ceil(S/(a-1)),E=0;E<a-1;E++)if(k>0?_(C,0,E+1):_(-C,a-E-1,a),S-=C,S<=0)return}return c}function bRe(e,t,r,n){return Zne(e,"x","width",t,r)}function Xne(e,t,r,n){return Zne(e,"y","height",t,r)}function Jne(e){var t=[];e.sort(function(v,m){return m.priority-v.priority});var r=new At(0,0,0,0);function n(v){if(!v.ignore){var m=v.ensureState("emphasis");m.ignore==null&&(m.ignore=!1)}v.ignore=!0}for(var i=0;i<e.length;i++){var s=e[i],a=s.axisAligned,o=s.localRect,l=s.transform,c=s.label,d=s.labelLine;r.copy(s.rect),r.width-=.1,r.height-=.1,r.x+=.05,r.y+=.05;for(var h=s.obb,f=!1,p=0;p<t.length;p++){var g=t[p];if(r.intersect(g.rect)){if(a&&g.axisAligned){f=!0;break}if(g.obb||(g.obb=new oE(g.localRect,g.transform)),h||(h=new oE(o,l)),h.intersect(g.obb)){f=!0;break}}}f?(n(c),d&&n(d)):(c.attr("ignore",s.defaultAttr.ignore),d&&d.attr("ignore",s.defaultAttr.labelGuideIgnore),t.push(s))}}function wRe(e){if(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].slice());return t}}function SRe(e,t){var r=e.label,n=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:r.style.align,verticalAlign:r.style.verticalAlign,labelLinePoints:wRe(n&&n.shape.points)}}var ZH=["align","verticalAlign","width","height","fontSize"],xs=new Hc,Oj=cr(),CRe=cr();function uS(e,t,r){for(var n=0;n<r.length;n++){var i=r[n];t[i]!=null&&(e[i]=t[i])}}var dS=["x","y","rotation"],kRe=function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(t,r,n,i,s){var a=i.style,o=i.__hostTarget,l=o.textConfig||{},c=i.getComputedTransform(),d=i.getBoundingRect().plain();At.applyTransform(d,d,c),c?xs.setLocalTransform(c):(xs.x=xs.y=xs.rotation=xs.originX=xs.originY=0,xs.scaleX=xs.scaleY=1),xs.rotation=Ca(xs.rotation);var h=i.__hostTarget,f;if(h){f=h.getBoundingRect().plain();var p=h.getComputedTransform();At.applyTransform(f,f,p)}var g=f&&h.getTextGuideLine();this._labelList.push({label:i,labelLine:g,seriesModel:n,dataIndex:t,dataType:r,layoutOption:s,computedLayoutOption:null,rect:d,hostRect:f,priority:f?f.width*f.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:g&&g.ignore,x:xs.x,y:xs.y,scaleX:xs.scaleX,scaleY:xs.scaleY,rotation:xs.rotation,style:{x:a.x,y:a.y,align:a.align,verticalAlign:a.verticalAlign,width:a.width,height:a.height,fontSize:a.fontSize},cursor:i.cursor,attachedPos:l.position,attachedRot:l.rotation}})},e.prototype.addLabelsOfSeries=function(t){var r=this;this._chartViewList.push(t);var n=t.__model,i=n.get("labelLayout");(et(i)||Zt(i).length)&&t.group.traverse(function(s){if(s.ignore)return!0;var a=s.getTextContent(),o=ft(s);a&&!a.disableLabelLayout&&r._addLabel(o.dataIndex,o.dataType,n,a,i)})},e.prototype.updateLayoutConfig=function(t){var r=t.getWidth(),n=t.getHeight();function i(_,b){return function(){KH(_,b)}}for(var s=0;s<this._labelList.length;s++){var a=this._labelList[s],o=a.label,l=o.__hostTarget,c=a.defaultAttr,d=void 0;et(a.layoutOption)?d=a.layoutOption(SRe(a,l)):d=a.layoutOption,d=d||{},a.computedLayoutOption=d;var h=Math.PI/180;l&&l.setTextConfig({local:!1,position:d.x!=null||d.y!=null?null:c.attachedPos,rotation:d.rotate!=null?d.rotate*h:c.attachedRot,offset:[d.dx||0,d.dy||0]});var f=!1;if(d.x!=null?(o.x=Ne(d.x,r),o.setStyle("x",0),f=!0):(o.x=c.x,o.setStyle("x",c.style.x)),d.y!=null?(o.y=Ne(d.y,n),o.setStyle("y",0),f=!0):(o.y=c.y,o.setStyle("y",c.style.y)),d.labelLinePoints){var p=l.getTextGuideLine();p&&(p.setShape({points:d.labelLinePoints}),f=!1)}var g=Oj(o);g.needsUpdateLabelLine=f,o.rotation=d.rotate!=null?d.rotate*h:c.rotation,o.scaleX=c.scaleX,o.scaleY=c.scaleY;for(var v=0;v<ZH.length;v++){var m=ZH[v];o.setStyle(m,d[m]!=null?d[m]:c.style[m])}if(d.draggable){if(o.draggable=!0,o.cursor="move",l){var y=a.seriesModel;if(a.dataIndex!=null){var x=a.seriesModel.getData(a.dataType);y=x.getItemModel(a.dataIndex)}o.on("drag",i(l,y.getModel("labelLine")))}}else o.off("drag"),o.cursor=c.cursor}},e.prototype.layout=function(t){var r=t.getWidth(),n=t.getHeight(),i=Kne(this._labelList),s=Rr(i,function(l){return l.layoutOption.moveOverlap==="shiftX"}),a=Rr(i,function(l){return l.layoutOption.moveOverlap==="shiftY"});bRe(s,0,r),Xne(a,0,n);var o=Rr(i,function(l){return l.layoutOption.hideOverlap});Jne(o)},e.prototype.processLabelsOverall=function(){var t=this;V(this._chartViewList,function(r){var n=r.__model,i=r.ignoreLabelLineUpdate,s=n.isAnimationEnabled();r.group.traverse(function(a){if(a.ignore&&!a.forceLabelAnimation)return!0;var o=!i,l=a.getTextContent();!o&&l&&(o=Oj(l).needsUpdateLabelLine),o&&t._updateLabelLine(a,n),s&&t._animateLabels(a,n)})})},e.prototype._updateLabelLine=function(t,r){var n=t.getTextContent(),i=ft(t),s=i.dataIndex;if(n&&s!=null){var a=r.getData(i.dataType),o=a.getItemModel(s),l={},c=a.getItemVisual(s,"style");if(c){var d=a.getVisual("drawType");l.stroke=c[d]}var h=o.getModel("labelLine");X5(t,J5(o),l),KH(t,h)}},e.prototype._animateLabels=function(t,r){var n=t.getTextContent(),i=t.getTextGuideLine();if(n&&(t.forceLabelAnimation||!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!km(t))){var s=Oj(n),a=s.oldLayout,o=ft(t),l=o.dataIndex,c={x:n.x,y:n.y,rotation:n.rotation},d=r.getData(o.dataType);if(a){n.attr(a);var f=t.prevStates;f&&(Pt(f,"select")>=0&&n.attr(s.oldLayoutSelect),Pt(f,"emphasis")>=0&&n.attr(s.oldLayoutEmphasis)),wr(n,c,r,l)}else if(n.attr(c),!$v(n).valueAnimation){var h=mt(n.style.opacity,1);n.style.opacity=0,Sn(n,{style:{opacity:h}},r,l)}if(s.oldLayout=c,n.states.select){var p=s.oldLayoutSelect={};uS(p,c,dS),uS(p,n.states.select,dS)}if(n.states.emphasis){var g=s.oldLayoutEmphasis={};uS(g,c,dS),uS(g,n.states.emphasis,dS)}Hte(n,l,d,r,r)}if(i&&!i.ignore&&!i.invisible){var s=CRe(i),a=s.oldLayout,v={points:i.shape.points};a?(i.attr({shape:a}),wr(i,{shape:v},r)):(i.setShape(v),i.style.strokePercent=0,Sn(i,{style:{strokePercent:1}},r)),s.oldLayout=v}},e}(),$j=cr();function ERe(e){e.registerUpdateLifecycle("series:beforeupdate",function(t,r,n){var i=$j(r).labelManager;i||(i=$j(r).labelManager=new kRe),i.clearLabels()}),e.registerUpdateLifecycle("series:layoutlabels",function(t,r,n){var i=$j(r).labelManager;n.updatedSeries.forEach(function(s){i.addLabelsOfSeries(r.getViewOfSeriesModel(s))}),i.updateLayoutConfig(r),i.layout(r),i.processLabelsOverall()})}var Bj=Math.sin,Fj=Math.cos,Qne=Math.PI,Vh=Math.PI*2,TRe=180/Qne,eie=function(){function e(){}return e.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},e.prototype.moveTo=function(t,r){this._add("M",t,r)},e.prototype.lineTo=function(t,r){this._add("L",t,r)},e.prototype.bezierCurveTo=function(t,r,n,i,s,a){this._add("C",t,r,n,i,s,a)},e.prototype.quadraticCurveTo=function(t,r,n,i){this._add("Q",t,r,n,i)},e.prototype.arc=function(t,r,n,i,s,a){this.ellipse(t,r,n,n,0,i,s,a)},e.prototype.ellipse=function(t,r,n,i,s,a,o,l){var c=o-a,d=!l,h=Math.abs(c),f=md(h-Vh)||(d?c>=Vh:-c>=Vh),p=c>0?c%Vh:c%Vh+Vh,g=!1;f?g=!0:md(h)?g=!1:g=p>=Qne==!!d;var v=t+n*Fj(a),m=r+i*Bj(a);this._start&&this._add("M",v,m);var y=Math.round(s*TRe);if(f){var x=1/this._p,_=(d?1:-1)*(Vh-x);this._add("A",n,i,y,1,+d,t+n*Fj(a+_),r+i*Bj(a+_)),x>.01&&this._add("A",n,i,y,0,+d,v,m)}else{var b=t+n*Fj(o),w=r+i*Bj(o);this._add("A",n,i,y,+g,+d,b,w)}},e.prototype.rect=function(t,r,n,i){this._add("M",t,r),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},e.prototype.closePath=function(){this._d.length>0&&this._add("Z")},e.prototype._add=function(t,r,n,i,s,a,o,l,c){for(var d=[],h=this._p,f=1;f<arguments.length;f++){var p=arguments[f];if(isNaN(p)){this._invalid=!0;return}d.push(Math.round(p*h)/h)}this._d.push(t+d.join(" ")),this._start=t==="Z"},e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},e.prototype.getStr=function(){return this._str},e}(),Q5="none",NRe=Math.round;function ARe(e){var t=e.fill;return t!=null&&t!==Q5}function jRe(e){var t=e.stroke;return t!=null&&t!==Q5}var xL=["lineCap","miterLimit","lineJoin"],RRe=xe(xL,function(e){return"stroke-"+e.toLowerCase()});function IRe(e,t,r,n){var i=t.opacity==null?1:t.opacity;if(r instanceof Oi){e("opacity",i);return}if(ARe(t)){var s=R_(t.fill);e("fill",s.color);var a=t.fillOpacity!=null?t.fillOpacity*s.opacity*i:s.opacity*i;a<1&&e("fill-opacity",a)}else e("fill",Q5);if(jRe(t)){var o=R_(t.stroke);e("stroke",o.color);var l=t.strokeNoScale?r.getLineScale():1,c=l?(t.lineWidth||0)/l:0,d=t.strokeOpacity!=null?t.strokeOpacity*o.opacity*i:o.opacity*i,h=t.strokeFirst;if(c!==1&&e("stroke-width",c),h&&e("paint-order",h?"stroke":"fill"),d<1&&e("stroke-opacity",d),t.lineDash){var f=F5(r),p=f[0],g=f[1];p&&(g=NRe(g||0),e("stroke-dasharray",p.join(",")),(g||n)&&e("stroke-dashoffset",g))}for(var v=0;v<xL.length;v++){var m=xL[v];if(t[m]!==sE[m]){var y=t[m]||sE[m];y&&e(RRe[v],y)}}}}var tie="http://www.w3.org/2000/svg",rie="http://www.w3.org/1999/xlink",MRe="http://www.w3.org/2000/xmlns/",PRe="http://www.w3.org/XML/1998/namespace",XH="ecmeta_";function nie(e){return document.createElementNS(tie,e)}function Si(e,t,r,n,i){return{tag:e,attrs:r||{},children:n,text:i,key:t}}function LRe(e,t){var r=[];if(t)for(var n in t){var i=t[n],s=n;i!==!1&&(i!==!0&&i!=null&&(s+='="'+i+'"'),r.push(s))}return"<"+e+" "+r.join(" ")+">"}function DRe(e){return"</"+e+">"}function e4(e,t){t=t||{};var r=t.newline?`
`:"";function n(i){var s=i.children,a=i.tag,o=i.attrs,l=i.text;return LRe(a,o)+(a!=="style"?Ts(l):l||"")+(s?""+r+xe(s,function(c){return n(c)}).join(r)+r:"")+DRe(a)}return n(e)}function ORe(e,t,r){r=r||{};var n=r.newline?`
`:"",i=" {"+n,s=n+"}",a=xe(Zt(e),function(l){return l+i+xe(Zt(e[l]),function(c){return c+":"+e[l][c]+";"}).join(n)+s}).join(n),o=xe(Zt(t),function(l){return"@keyframes "+l+i+xe(Zt(t[l]),function(c){return c+i+xe(Zt(t[l][c]),function(d){var h=t[l][c][d];return d==="d"&&(h='path("'+h+'")'),d+":"+h+";"}).join(n)+s}).join(n)+s}).join(n);return!a&&!o?"":["<![CDATA[",a,o,"]]>"].join(n)}function _L(e){return{zrId:e,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function JH(e,t,r,n){return Si("svg","root",{width:e,height:t,xmlns:tie,"xmlns:xlink":rie,version:"1.1",baseProfile:"full",viewBox:n?"0 0 "+e+" "+t:!1},r)}var $Re=0;function iie(){return $Re++}var QH={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},ef="transform-origin";function BRe(e,t,r){var n=fe({},e.shape);fe(n,t),e.buildPath(r,n);var i=new eie;return i.reset(Bee(e)),r.rebuildPath(i,1),i.generateStr(),i.getStr()}function FRe(e,t){var r=t.originX,n=t.originY;(r||n)&&(e[ef]=r+"px "+n+"px")}var zRe={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function sie(e,t){var r=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[r]=e,r}function URe(e,t,r){var n=e.shape.paths,i={},s,a;if(V(n,function(l){var c=_L(r.zrId);c.animation=!0,HN(l,{},c,!0);var d=c.cssAnims,h=c.cssNodes,f=Zt(d),p=f.length;if(p){a=f[p-1];var g=d[a];for(var v in g){var m=g[v];i[v]=i[v]||{d:""},i[v].d+=m.d||""}for(var y in h){var x=h[y].animation;x.indexOf(a)>=0&&(s=x)}}}),!!s){t.d=!1;var o=sie(i,r);return s.replace(a,o)}}function eV(e){return De(e)?QH[e]?"cubic-bezier("+QH[e]+")":s5(e)?e:"":""}function HN(e,t,r,n){var i=e.animators,s=i.length,a=[];if(e instanceof _5){var o=URe(e,t,r);if(o)a.push(o);else if(!s)return}else if(!s)return;for(var l={},c=0;c<s;c++){var d=i[c],h=[d.getMaxTime()/1e3+"s"],f=eV(d.getClip().easing),p=d.getDelay();f?h.push(f):h.push("linear"),p&&h.push(p/1e3+"s"),d.getLoop()&&h.push("infinite");var g=h.join(" ");l[g]=l[g]||[g,[]],l[g][1].push(d)}function v(x){var _=x[1],b=_.length,w={},S={},k={},C="animation-timing-function";function E(W,K,X){for(var Q=W.getTracks(),re=W.getMaxTime(),Se=0;Se<Q.length;Se++){var Te=Q[Se];if(Te.needsAnimate()){var Ie=Te.keyframes,Me=Te.propName;if(X&&(Me=X(Me)),Me)for(var Ee=0;Ee<Ie.length;Ee++){var Ae=Ie[Ee],Lt=Math.round(Ae.time/re*100)+"%",zt=eV(Ae.easing),ge=Ae.rawValue;(De(ge)||xr(ge))&&(K[Lt]=K[Lt]||{},K[Lt][Me]=Ae.rawValue,zt&&(K[Lt][C]=zt))}}}}for(var T=0;T<b;T++){var N=_[T],R=N.targetName;R?R==="shape"&&E(N,S):!n&&E(N,w)}for(var P in w){var D={};Vee(D,e),fe(D,w[P]);var $=Fee(D),L=w[P][C];k[P]=$?{transform:$}:{},FRe(k[P],D),L&&(k[P][C]=L)}var O,j=!0;for(var P in S){k[P]=k[P]||{};var M=!O,L=S[P][C];M&&(O=new oc);var I=O.len();O.reset(),k[P].d=BRe(e,S[P],O);var z=O.len();if(!M&&I!==z){j=!1;break}L&&(k[P][C]=L)}if(!j)for(var P in k)delete k[P].d;if(!n)for(var T=0;T<b;T++){var N=_[T],R=N.targetName;R==="style"&&E(N,k,function(Q){return zRe[Q]})}for(var U=Zt(k),F=!0,G,T=1;T<U.length;T++){var Y=U[T-1],Z=U[T];if(k[Y][ef]!==k[Z][ef]){F=!1;break}G=k[Y][ef]}if(F&&G){for(var P in k)k[P][ef]&&delete k[P][ef];t[ef]=G}if(Rr(U,function(W){return Zt(k[W]).length>0}).length){var B=sie(k,r);return B+" "+x[0]+" both"}}for(var m in l){var o=v(l[m]);o&&a.push(o)}if(a.length){var y=r.zrId+"-cls-"+iie();r.cssNodes["."+y]={animation:a.join(",")},t.class=y}}function HRe(e,t,r){if(!e.ignore)if(e.isSilent()){var n={"pointer-events":"none"};tV(n,t,r)}else{var i=e.states.emphasis&&e.states.emphasis.style?e.states.emphasis.style:{},s=i.fill;if(!s){var a=e.style&&e.style.fill,o=e.states.select&&e.states.select.style&&e.states.select.style.fill,l=e.currentStates.indexOf("select")>=0&&o||a;l&&(s=IP(l))}var c=i.lineWidth;if(c){var d=!i.strokeNoScale&&e.transform?e.transform[0]:1;c=c/d}var n={cursor:"pointer"};s&&(n.fill=s),i.stroke&&(n.stroke=i.stroke),c&&(n["stroke-width"]=c),tV(n,t,r)}}function tV(e,t,r,n){var i=JSON.stringify(e),s=r.cssStyleCache[i];s||(s=r.zrId+"-cls-"+iie(),r.cssStyleCache[i]=s,r.cssNodes["."+s+":hover"]=e),t.class=t.class?t.class+" "+s:s}var V_=Math.round;function aie(e){return e&&De(e.src)}function oie(e){return e&&et(e.toDataURL)}function t4(e,t,r,n){IRe(function(i,s){var a=i==="fill"||i==="stroke";a&&$ee(s)?cie(t,e,i,n):a&&a5(s)?uie(r,e,i,n):e[i]=s,a&&n.ssr&&s==="none"&&(e["pointer-events"]="visible")},t,r,!1),ZRe(r,e,n)}function r4(e,t){var r=Fke(t);r&&(r.each(function(n,i){n!=null&&(e[(XH+i).toLowerCase()]=n+"")}),t.isSilent()&&(e[XH+"silent"]="true"))}function rV(e){return md(e[0]-1)&&md(e[1])&&md(e[2])&&md(e[3]-1)}function VRe(e){return md(e[4])&&md(e[5])}function n4(e,t,r){if(t&&!(VRe(t)&&rV(t))){var n=1e4;e.transform=rV(t)?"translate("+V_(t[4]*n)/n+" "+V_(t[5]*n)/n+")":lke(t)}}function nV(e,t,r){for(var n=e.points,i=[],s=0;s<n.length;s++)i.push(V_(n[s][0]*r)/r),i.push(V_(n[s][1]*r)/r);t.points=i.join(" ")}function iV(e){return!e.smooth}function WRe(e){var t=xe(e,function(r){return typeof r=="string"?[r,r]:r});return function(r,n,i){for(var s=0;s<t.length;s++){var a=t[s],o=r[a[0]];o!=null&&(n[a[1]]=V_(o*i)/i)}}}var GRe={circle:[WRe(["cx","cy","r"])],polyline:[nV,iV],polygon:[nV,iV]};function qRe(e){for(var t=e.animators,r=0;r<t.length;r++)if(t[r].targetName==="shape")return!0;return!1}function lie(e,t){var r=e.style,n=e.shape,i=GRe[e.type],s={},a=t.animation,o="path",l=e.style.strokePercent,c=t.compress&&Bee(e)||4;if(i&&!t.willUpdate&&!(i[1]&&!i[1](n))&&!(a&&qRe(e))&&!(l<1)){o=e.type;var d=Math.pow(10,c);i[0](n,s,d)}else{var h=!e.path||e.shapeChanged();e.path||e.createPathProxy();var f=e.path;h&&(f.beginPath(),e.buildPath(f,e.shape),e.pathUpdated());var p=f.getVersion(),g=e,v=g.__svgPathBuilder;(g.__svgPathVersion!==p||!v||l!==g.__svgPathStrokePercent)&&(v||(v=g.__svgPathBuilder=new eie),v.reset(c),f.rebuildPath(v,l),v.generateStr(),g.__svgPathVersion=p,g.__svgPathStrokePercent=l),s.d=v.getStr()}return n4(s,e.transform),t4(s,r,e,t),r4(s,e),t.animation&&HN(e,s,t),t.emphasis&&HRe(e,s,t),Si(o,e.id+"",s)}function YRe(e,t){var r=e.style,n=r.image;if(n&&!De(n)&&(aie(n)?n=n.src:oie(n)&&(n=n.toDataURL())),!!n){var i=r.x||0,s=r.y||0,a=r.width,o=r.height,l={href:n,width:a,height:o};return i&&(l.x=i),s&&(l.y=s),n4(l,e.transform),t4(l,r,e,t),r4(l,e),t.animation&&HN(e,l,t),Si("image",e.id+"",l)}}function KRe(e,t){var r=e.style,n=r.text;if(n!=null&&(n+=""),!(!n||isNaN(r.x)||isNaN(r.y))){var i=r.font||Ud,s=r.x||0,a=uke(r.y||0,gN(i),r.textBaseline),o=cke[r.textAlign]||r.textAlign,l={"dominant-baseline":"central","text-anchor":o};if(mte(r)){var c="",d=r.fontStyle,h=gte(r.fontSize);if(!parseFloat(h))return;var f=r.fontFamily||pee,p=r.fontWeight;c+="font-size:"+h+";font-family:"+f+";",d&&d!=="normal"&&(c+="font-style:"+d+";"),p&&p!=="normal"&&(c+="font-weight:"+p+";"),l.style=c}else l.style="font: "+i;return n.match(/\s/)&&(l["xml:space"]="preserve"),s&&(l.x=s),a&&(l.y=a),n4(l,e.transform),t4(l,r,e,t),r4(l,e),t.animation&&HN(e,l,t),Si("text",e.id+"",l,void 0,n)}}function sV(e,t){if(e instanceof Vt)return lie(e,t);if(e instanceof Oi)return YRe(e,t);if(e instanceof Km)return KRe(e,t)}function ZRe(e,t,r){var n=e.style;if(dke(n)){var i=hke(e),s=r.shadowCache,a=s[i];if(!a){var o=e.getGlobalScale(),l=o[0],c=o[1];if(!l||!c)return;var d=n.shadowOffsetX||0,h=n.shadowOffsetY||0,f=n.shadowBlur,p=R_(n.shadowColor),g=p.opacity,v=p.color,m=f/2/l,y=f/2/c,x=m+" "+y;a=r.zrId+"-s"+r.shadowIdx++,r.defs[a]=Si("filter",a,{id:a,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Si("feDropShadow","",{dx:d/l,dy:h/c,stdDeviation:x,"flood-color":v,"flood-opacity":g})]),s[i]=a}t.filter=pN(a)}}function cie(e,t,r,n){var i=e[r],s,a={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(Dee(i))s="linearGradient",a.x1=i.x,a.y1=i.y,a.x2=i.x2,a.y2=i.y2;else if(Oee(i))s="radialGradient",a.cx=mt(i.x,.5),a.cy=mt(i.y,.5),a.r=mt(i.r,.5);else return;for(var o=i.colorStops,l=[],c=0,d=o.length;c<d;++c){var h=MP(o[c].offset)*100+"%",f=o[c].color,p=R_(f),g=p.color,v=p.opacity,m={offset:h};m["stop-color"]=g,v<1&&(m["stop-opacity"]=v),l.push(Si("stop",c+"",m))}var y=Si(s,"",a,l),x=e4(y),_=n.gradientCache,b=_[x];b||(b=n.zrId+"-g"+n.gradientIdx++,_[x]=b,a.id=b,n.defs[b]=Si(s,b,a,l)),t[r]=pN(b)}function uie(e,t,r,n){var i=e.style[r],s=e.getBoundingRect(),a={},o=i.repeat,l=o==="no-repeat",c=o==="repeat-x",d=o==="repeat-y",h;if(Lee(i)){var f=i.imageWidth,p=i.imageHeight,g=void 0,v=i.image;if(De(v)?g=v:aie(v)?g=v.src:oie(v)&&(g=v.toDataURL()),typeof Image>"u"){var m="Image width/height must been given explictly in svg-ssr renderer.";Os(f,m),Os(p,m)}else if(f==null||p==null){var y=function(T,N){if(T){var R=T.elm,P=f||N.width,D=p||N.height;T.tag==="pattern"&&(c?(D=1,P/=s.width):d&&(P=1,D/=s.height)),T.attrs.width=P,T.attrs.height=D,R&&(R.setAttribute("width",P),R.setAttribute("height",D))}},x=h5(g,null,e,function(T){l||y(S,T),y(h,T)});x&&x.width&&x.height&&(f=f||x.width,p=p||x.height)}h=Si("image","img",{href:g,width:f,height:p}),a.width=f,a.height=p}else i.svgElement&&(h=lt(i.svgElement),a.width=i.svgWidth,a.height=i.svgHeight);if(h){var _,b;l?_=b=1:c?(b=1,_=a.width/s.width):d?(_=1,b=a.height/s.height):a.patternUnits="userSpaceOnUse",_!=null&&!isNaN(_)&&(a.width=_),b!=null&&!isNaN(b)&&(a.height=b);var w=Fee(i);w&&(a.patternTransform=w);var S=Si("pattern","",a,[h]),k=e4(S),C=n.patternCache,E=C[k];E||(E=n.zrId+"-p"+n.patternIdx++,C[k]=E,a.id=E,S=n.defs[E]=Si("pattern",E,a,[h])),t[r]=pN(E)}}function XRe(e,t,r){var n=r.clipPathCache,i=r.defs,s=n[e.id];if(!s){s=r.zrId+"-c"+r.clipPathIdx++;var a={id:s};n[e.id]=s,i[s]=Si("clipPath",s,a,[lie(e,r)])}t["clip-path"]=pN(s)}function aV(e){return document.createTextNode(e)}function cf(e,t,r){e.insertBefore(t,r)}function oV(e,t){e.removeChild(t)}function lV(e,t){e.appendChild(t)}function die(e){return e.parentNode}function hie(e){return e.nextSibling}function zj(e,t){e.textContent=t}var cV=58,JRe=120,QRe=Si("","");function bL(e){return e===void 0}function Ml(e){return e!==void 0}function eIe(e,t,r){for(var n={},i=t;i<=r;++i){var s=e[i].key;s!==void 0&&(n[s]=i)}return n}function rx(e,t){var r=e.key===t.key,n=e.tag===t.tag;return n&&r}function W_(e){var t,r=e.children,n=e.tag;if(Ml(n)){var i=e.elm=nie(n);if(i4(QRe,e),ve(r))for(t=0;t<r.length;++t){var s=r[t];s!=null&&lV(i,W_(s))}else Ml(e.text)&&!st(e.text)&&lV(i,aV(e.text))}else e.elm=aV(e.text);return e.elm}function fie(e,t,r,n,i){for(;n<=i;++n){var s=r[n];s!=null&&cf(e,W_(s),t)}}function CE(e,t,r,n){for(;r<=n;++r){var i=t[r];if(i!=null)if(Ml(i.tag)){var s=die(i.elm);oV(s,i.elm)}else oV(e,i.elm)}}function i4(e,t){var r,n=t.elm,i=e&&e.attrs||{},s=t.attrs||{};if(i!==s){for(r in s){var a=s[r],o=i[r];o!==a&&(a===!0?n.setAttribute(r,""):a===!1?n.removeAttribute(r):r==="style"?n.style.cssText=a:r.charCodeAt(0)!==JRe?n.setAttribute(r,a):r==="xmlns:xlink"||r==="xmlns"?n.setAttributeNS(MRe,r,a):r.charCodeAt(3)===cV?n.setAttributeNS(PRe,r,a):r.charCodeAt(5)===cV?n.setAttributeNS(rie,r,a):n.setAttribute(r,a))}for(r in i)r in s||n.removeAttribute(r)}}function tIe(e,t,r){for(var n=0,i=0,s=t.length-1,a=t[0],o=t[s],l=r.length-1,c=r[0],d=r[l],h,f,p,g;n<=s&&i<=l;)a==null?a=t[++n]:o==null?o=t[--s]:c==null?c=r[++i]:d==null?d=r[--l]:rx(a,c)?(Lg(a,c),a=t[++n],c=r[++i]):rx(o,d)?(Lg(o,d),o=t[--s],d=r[--l]):rx(a,d)?(Lg(a,d),cf(e,a.elm,hie(o.elm)),a=t[++n],d=r[--l]):rx(o,c)?(Lg(o,c),cf(e,o.elm,a.elm),o=t[--s],c=r[++i]):(bL(h)&&(h=eIe(t,n,s)),f=h[c.key],bL(f)?cf(e,W_(c),a.elm):(p=t[f],p.tag!==c.tag?cf(e,W_(c),a.elm):(Lg(p,c),t[f]=void 0,cf(e,p.elm,a.elm))),c=r[++i]);(n<=s||i<=l)&&(n>s?(g=r[l+1]==null?null:r[l+1].elm,fie(e,g,r,i,l)):CE(e,t,n,s))}function Lg(e,t){var r=t.elm=e.elm,n=e.children,i=t.children;e!==t&&(i4(e,t),bL(t.text)?Ml(n)&&Ml(i)?n!==i&&tIe(r,n,i):Ml(i)?(Ml(e.text)&&zj(r,""),fie(r,null,i,0,i.length-1)):Ml(n)?CE(r,n,0,n.length-1):Ml(e.text)&&zj(r,""):e.text!==t.text&&(Ml(n)&&CE(r,n,0,n.length-1),zj(r,t.text)))}function rIe(e,t){if(rx(e,t))Lg(e,t);else{var r=e.elm,n=die(r);W_(t),n!==null&&(cf(n,t.elm,hie(r)),CE(n,[e],0,0))}return t}var nIe=0,iIe=function(){function e(t,r,n){if(this.type="svg",this.refreshHover=uV(),this.configLayer=uV(),this.storage=r,this._opts=n=fe({},n),this.root=t,this._id="zr"+nIe++,this._oldVNode=JH(n.width,n.height),t&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var s=this._svgDom=this._oldVNode.elm=nie("svg");i4(null,this._oldVNode),i.appendChild(s),t.appendChild(i)}this.resize(n.width,n.height)}return e.prototype.getType=function(){return this.type},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",rIe(this._oldVNode,t),this._oldVNode=t}},e.prototype.renderOneToVNode=function(t){return sV(t,_L(this._id))},e.prototype.renderToVNode=function(t){t=t||{};var r=this.storage.getDisplayList(!0),n=this._width,i=this._height,s=_L(this._id);s.animation=t.animation,s.willUpdate=t.willUpdate,s.compress=t.compress,s.emphasis=t.emphasis,s.ssr=this._opts.ssr;var a=[],o=this._bgVNode=sIe(n,i,this._backgroundColor,s);o&&a.push(o);var l=t.compress?null:this._mainVNode=Si("g","main",{},[]);this._paintList(r,s,l?l.children:a),l&&a.push(l);var c=xe(Zt(s.defs),function(f){return s.defs[f]});if(c.length&&a.push(Si("defs","defs",{},c)),t.animation){var d=ORe(s.cssNodes,s.cssAnims,{newline:!0});if(d){var h=Si("style","stl",{},[],d);a.push(h)}}return JH(n,i,a,t.useViewBox)},e.prototype.renderToString=function(t){return t=t||{},e4(this.renderToVNode({animation:mt(t.cssAnimation,!0),emphasis:mt(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:mt(t.useViewBox,!0)}),{newline:!0})},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t},e.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},e.prototype._paintList=function(t,r,n){for(var i=t.length,s=[],a=0,o,l,c=0,d=0;d<i;d++){var h=t[d];if(!h.invisible){var f=h.__clipPaths,p=f&&f.length||0,g=l&&l.length||0,v=void 0;for(v=Math.max(p-1,g-1);v>=0&&!(f&&l&&f[v]===l[v]);v--);for(var m=g-1;m>v;m--)a--,o=s[a-1];for(var y=v+1;y<p;y++){var x={};XRe(f[y],x,r);var _=Si("g","clip-g-"+c++,x,[]);(o?o.children:n).push(_),s[a++]=_,o=_}l=f;var b=sV(h,r);b&&(o?o.children:n).push(b)}}},e.prototype.resize=function(t,r){var n=this._opts,i=this.root,s=this._viewport;if(t!=null&&(n.width=t),r!=null&&(n.height=r),i&&s&&(s.style.display="none",t=im(i,0,n),r=im(i,1,n),s.style.display=""),this._width!==t||this._height!==r){if(this._width=t,this._height=r,s){var a=s.style;a.width=t+"px",a.height=r+"px"}if(a5(this._backgroundColor))this.refresh();else{var o=this._svgDom;o&&(o.setAttribute("width",t),o.setAttribute("height",r));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",t),l.setAttribute("height",r))}}},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},e.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},e.prototype.toDataURL=function(t){var r=this.renderToString(),n="data:image/svg+xml;";return t?(r=pke(r),r&&n+"base64,"+r):n+"charset=UTF-8,"+encodeURIComponent(r)},e}();function uV(e){return function(){}}function sIe(e,t,r,n){var i;if(r&&r!=="none")if(i=Si("rect","bg",{width:e,height:t,x:"0",y:"0"}),$ee(r))cie({fill:r},i.attrs,"fill",n);else if(a5(r))uie({style:{fill:r},dirty:Xn,getBoundingRect:function(){return{width:e,height:t}}},i.attrs,"fill",n);else{var s=R_(r),a=s.color,o=s.opacity;i.attrs.fill=a,o<1&&(i.attrs["fill-opacity"]=o)}return i}function aIe(e){e.registerPainter("svg",iIe)}function dV(e,t,r){var n=Hd.createCanvas(),i=t.getWidth(),s=t.getHeight(),a=n.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=i+"px",a.height=s+"px",n.setAttribute("data-zr-dom-id",e)),n.width=i*r,n.height=s*r,n}var Uj=function(e){vn(t,e);function t(r,n,i){var s=e.call(this)||this;s.motionBlur=!1,s.lastFrameAlpha=.7,s.dpr=1,s.virtual=!1,s.config={},s.incremental=!1,s.zlevel=0,s.maxRepaintRectCount=5,s.__dirty=!0,s.__firstTimePaint=!0,s.__used=!1,s.__drawIndex=0,s.__startIndex=0,s.__endIndex=0,s.__prevStartIndex=null,s.__prevEndIndex=null;var a;i=i||nE,typeof r=="string"?a=dV(r,n,i):st(r)&&(a=r,r=a.id),s.id=r,s.dom=a;var o=a.style;return o&&(_ee(a),a.onselectstart=function(){return!1},o.padding="0",o.margin="0",o.borderWidth="0"),s.painter=n,s.dpr=i,s}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=dV("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},t.prototype.createRepaintRects=function(r,n,i,s){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var a=[],o=this.maxRepaintRectCount,l=!1,c=new At(0,0,0,0);function d(x){if(!(!x.isFinite()||x.isZero()))if(a.length===0){var _=new At(0,0,0,0);_.copy(x),a.push(_)}else{for(var b=!1,w=1/0,S=0,k=0;k<a.length;++k){var C=a[k];if(C.intersect(x)){var E=new At(0,0,0,0);E.copy(C),E.union(x),a[k]=E,b=!0;break}else if(l){c.copy(x),c.union(C);var T=x.width*x.height,N=C.width*C.height,R=c.width*c.height,P=R-T-N;P<w&&(w=P,S=k)}}if(l&&(a[S].union(x),b=!0),!b){var _=new At(0,0,0,0);_.copy(x),a.push(_)}l||(l=a.length>=o)}}for(var h=this.__startIndex;h<this.__endIndex;++h){var f=r[h];if(f){var p=f.shouldBePainted(i,s,!0,!0),g=f.__isRendered&&(f.__dirty&Xl||!p)?f.getPrevPaintRect():null;g&&d(g);var v=p&&(f.__dirty&Xl||!f.__isRendered)?f.getPaintRect():null;v&&d(v)}}for(var h=this.__prevStartIndex;h<this.__prevEndIndex;++h){var f=n[h],p=f&&f.shouldBePainted(i,s,!0,!0);if(f&&(!p||!f.__zr)&&f.__isRendered){var g=f.getPrevPaintRect();g&&d(g)}}var m;do{m=!1;for(var h=0;h<a.length;){if(a[h].isZero()){a.splice(h,1);continue}for(var y=h+1;y<a.length;)a[h].intersect(a[y])?(m=!0,a[h].union(a[y]),a.splice(y,1)):y++;h++}}while(m);return this._paintRects=a,a},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(r,n){var i=this.dpr,s=this.dom,a=s.style,o=this.domBack;a&&(a.width=r+"px",a.height=n+"px"),s.width=r*i,s.height=n*i,o&&(o.width=r*i,o.height=n*i,i!==1&&this.ctxBack.scale(i,i))},t.prototype.clear=function(r,n,i){var s=this.dom,a=this.ctx,o=s.width,l=s.height;n=n||this.clearColor;var c=this.motionBlur&&!r,d=this.lastFrameAlpha,h=this.dpr,f=this;c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(s,0,0,o/h,l/h));var p=this.domBack;function g(v,m,y,x){if(a.clearRect(v,m,y,x),n&&n!=="transparent"){var _=void 0;if(dN(n)){var b=n.global||n.__width===y&&n.__height===x;_=b&&n.__canvasGradient||dL(a,n,{x:0,y:0,width:y,height:x}),n.__canvasGradient=_,n.__width=y,n.__height=x}else bCe(n)&&(n.scaleX=n.scaleX||h,n.scaleY=n.scaleY||h,_=hL(a,n,{dirty:function(){f.setUnpainted(),f.painter.refresh()}}));a.save(),a.fillStyle=_||n,a.fillRect(v,m,y,x),a.restore()}c&&(a.save(),a.globalAlpha=d,a.drawImage(p,v,m,y,x),a.restore())}!i||c?g(0,0,o,l):i.length&&V(i,function(v){g(v.x*h,v.y*h,v.width*h,v.height*h)})},t}(bo),hV=1e5,Wh=314159,hS=.01,oIe=.001;function lIe(e){return e?e.__builtin__?!0:!(typeof e.resize!="function"||typeof e.refresh!="function"):!1}function cIe(e,t){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var uIe=function(){function e(t,r,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var s=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=n=fe({},n||{}),this.dpr=n.devicePixelRatio||nE,this._singleCanvas=s,this.root=t;var a=t.style;a&&(_ee(t),t.innerHTML=""),this.storage=r;var o=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(s){var d=t,h=d.width,f=d.height;n.width!=null&&(h=n.width),n.height!=null&&(f=n.height),this.dpr=n.devicePixelRatio||1,d.width=h*this.dpr,d.height=f*this.dpr,this._width=h,this._height=f;var p=new Uj(d,this,this.dpr);p.__builtin__=!0,p.initContext(),l[Wh]=p,p.zlevel=Wh,o.push(Wh),this._domRoot=t}else{this._width=im(t,0,n),this._height=im(t,1,n);var c=this._domRoot=cIe(this._width,this._height);t.appendChild(c)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.refresh=function(t){var r=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,n,t,this._redrawId);for(var s=0;s<i.length;s++){var a=i[s],o=this._layers[a];if(!o.__builtin__&&o.refresh){var l=s===0?this._backgroundColor:null;o.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(t){var r=t.length,n=this._hoverlayer;if(n&&n.clear(),!!r){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},s,a=0;a<r;a++){var o=t[a];o.__inHover&&(n||(n=this._hoverlayer=this.getLayer(hV)),s||(s=n.ctx,s.save()),Ef(s,o,i,a===r-1))}s&&s.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(hV)},e.prototype.paintOne=function(t,r){Xre(t,r)},e.prototype._paintList=function(t,r,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(t);var s=this._doPaintList(t,r,n),a=s.finished,o=s.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),o&&this._paintHoverList(t),a)this.eachLayer(function(c){c.afterBrush&&c.afterBrush()});else{var l=this;Jk(function(){l._paintList(t,r,n,i)})}}},e.prototype._compositeManually=function(){var t=this.getLayer(Wh).ctx,r=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,r,n),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,r,n)})},e.prototype._doPaintList=function(t,r,n){for(var i=this,s=[],a=this._opts.useDirtyRect,o=0;o<this._zlevelList.length;o++){var l=this._zlevelList[o],c=this._layers[l];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||n)&&s.push(c)}for(var d=!0,h=!1,f=function(v){var m=s[v],y=m.ctx,x=a&&m.createRepaintRects(t,r,p._width,p._height),_=n?m.__startIndex:m.__drawIndex,b=!n&&m.incremental&&Date.now,w=b&&Date.now(),S=m.zlevel===p._zlevelList[0]?p._backgroundColor:null;if(m.__startIndex===m.__endIndex)m.clear(!1,S,x);else if(_===m.__startIndex){var k=t[_];(!k.incremental||!k.notClear||n)&&m.clear(!1,S,x)}_===-1&&(console.error("For some unknown reason. drawIndex is -1"),_=m.__startIndex);var C,E=function(P){var D={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(C=_;C<m.__endIndex;C++){var $=t[C];if($.__inHover&&(h=!0),i._doPaintEl($,m,a,P,D,C===m.__endIndex-1),b){var L=Date.now()-w;if(L>15)break}}D.prevElClipPaths&&y.restore()};if(x)if(x.length===0)C=m.__endIndex;else for(var T=p.dpr,N=0;N<x.length;++N){var R=x[N];y.save(),y.beginPath(),y.rect(R.x*T,R.y*T,R.width*T,R.height*T),y.clip(),E(R),y.restore()}else y.save(),E(),y.restore();m.__drawIndex=C,m.__drawIndex<m.__endIndex&&(d=!1)},p=this,g=0;g<s.length;g++)f(g);return Gt.wxa&&V(this._layers,function(v){v&&v.ctx&&v.ctx.draw&&v.ctx.draw()}),{finished:d,needsRefreshHover:h}},e.prototype._doPaintEl=function(t,r,n,i,s,a){var o=r.ctx;if(n){var l=t.getPaintRect();(!i||l&&l.intersect(i))&&(Ef(o,t,s,a),t.setPrevPaintRect(l))}else Ef(o,t,s,a)},e.prototype.getLayer=function(t,r){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Wh);var n=this._layers[t];return n||(n=new Uj("zr_"+t,this,this.dpr),n.zlevel=t,n.__builtin__=!0,this._layerConfig[t]?Ct(n,this._layerConfig[t],!0):this._layerConfig[t-hS]&&Ct(n,this._layerConfig[t-hS],!0),r&&(n.virtual=r),this.insertLayer(t,n),n.initContext()),n},e.prototype.insertLayer=function(t,r){var n=this._layers,i=this._zlevelList,s=i.length,a=this._domRoot,o=null,l=-1;if(!n[t]&&lIe(r)){if(s>0&&t>i[0]){for(l=0;l<s-1&&!(i[l]<t&&i[l+1]>t);l++);o=n[i[l]]}if(i.splice(l+1,0,t),n[t]=r,!r.virtual)if(o){var c=o.dom;c.nextSibling?a.insertBefore(r.dom,c.nextSibling):a.appendChild(r.dom)}else a.firstChild?a.insertBefore(r.dom,a.firstChild):a.appendChild(r.dom);r.painter||(r.painter=this)}},e.prototype.eachLayer=function(t,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var s=n[i];t.call(r,this._layers[s],s)}},e.prototype.eachBuiltinLayer=function(t,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var s=n[i],a=this._layers[s];a.__builtin__&&t.call(r,a,s)}},e.prototype.eachOtherLayer=function(t,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var s=n[i],a=this._layers[s];a.__builtin__||t.call(r,a,s)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(h,f){h.__dirty=h.__used=!1});function r(h){s&&(s.__endIndex!==h&&(s.__dirty=!0),s.__endIndex=h)}if(this._singleCanvas)for(var n=1;n<t.length;n++){var i=t[n];if(i.zlevel!==t[n-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var s=null,a=0,o,l;for(l=0;l<t.length;l++){var i=t[l],c=i.zlevel,d=void 0;o!==c&&(o=c,a=0),i.incremental?(d=this.getLayer(c+oIe,this._needsManuallyCompositing),d.incremental=!0,a=1):d=this.getLayer(c+(a>0?hS:0),this._needsManuallyCompositing),d.__builtin__||J3("ZLevel "+c+" has been used by unkown layer "+d.id),d!==s&&(d.__used=!0,d.__startIndex!==l&&(d.__dirty=!0),d.__startIndex=l,d.incremental?d.__drawIndex=-1:d.__drawIndex=l,r(l),s=d),i.__dirty&Xl&&!i.__inHover&&(d.__dirty=!0,d.incremental&&d.__drawIndex<0&&(d.__drawIndex=l))}r(l),this.eachBuiltinLayer(function(h,f){!h.__used&&h.getElementCount()>0&&(h.__dirty=!0,h.__startIndex=h.__endIndex=h.__drawIndex=0),h.__dirty&&h.__drawIndex<0&&(h.__drawIndex=h.__startIndex)})},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(t){t.clear()},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t,V(this._layers,function(r){r.setUnpainted()})},e.prototype.configLayer=function(t,r){if(r){var n=this._layerConfig;n[t]?Ct(n[t],r,!0):n[t]=r;for(var i=0;i<this._zlevelList.length;i++){var s=this._zlevelList[i];if(s===t||s===t+hS){var a=this._layers[s];Ct(a,n[t],!0)}}}},e.prototype.delLayer=function(t){var r=this._layers,n=this._zlevelList,i=r[t];i&&(i.dom.parentNode.removeChild(i.dom),delete r[t],n.splice(Pt(n,t),1))},e.prototype.resize=function(t,r){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,s=this.root;if(t!=null&&(i.width=t),r!=null&&(i.height=r),t=im(s,0,i),r=im(s,1,i),n.style.display="",this._width!==t||r!==this._height){n.style.width=t+"px",n.style.height=r+"px";for(var a in this._layers)this._layers.hasOwnProperty(a)&&this._layers[a].resize(t,r);this.refresh(!0)}this._width=t,this._height=r}else{if(t==null||r==null)return;this._width=t,this._height=r,this.getLayer(Wh).resize(t,r)}return this},e.prototype.clearLayer=function(t){var r=this._layers[t];r&&r.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[Wh].dom;var r=new Uj("image",this,t.pixelRatio||this.dpr);r.initContext(),r.clear(!1,t.backgroundColor||this._backgroundColor);var n=r.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=r.dom.width,s=r.dom.height;this.eachLayer(function(h){h.__builtin__?n.drawImage(h.dom,0,0,i,s):h.renderToCanvas&&(n.save(),h.renderToCanvas(n),n.restore())})}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},o=this.storage.getDisplayList(!0),l=0,c=o.length;l<c;l++){var d=o[l];Ef(n,d,a,l===c-1)}return r.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e}();function dIe(e){e.registerPainter("canvas",uIe)}var hIe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.getInitialData=function(r){return Su(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(r){var n=new ht,i=ai("line",0,r.itemHeight/2,r.itemWidth,0,r.lineStyle.stroke,!1);n.add(i),i.setStyle(r.lineStyle);var s=this.getData().getVisual("symbol"),a=this.getData().getVisual("symbolRotate"),o=s==="none"?"circle":s,l=r.itemHeight*.8,c=ai(o,(r.itemWidth-l)/2,(r.itemHeight-l)/2,l,l,r.itemStyle.fill);n.add(c),c.setStyle(r.itemStyle);var d=r.iconRotate==="inherit"?a:r.iconRotate||0;return c.rotation=d*Math.PI/180,c.setOrigin([r.itemWidth/2,r.itemHeight/2]),o.indexOf("empty")>-1&&(c.style.stroke=c.style.fill,c.style.fill="#fff",c.style.lineWidth=2),n},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(fn);function ev(e,t){var r=e.mapDimensionsAll("defaultedLabel"),n=r.length;if(n===1){var i=Xm(e,t,r[0]);return i!=null?i+"":null}else if(n){for(var s=[],a=0;a<r.length;a++)s.push(Xm(e,t,r[a]));return s.join(" ")}}function pie(e,t){var r=e.mapDimensionsAll("defaultedLabel");if(!ve(t))return t+"";for(var n=[],i=0;i<r.length;i++){var s=e.getDimensionIndex(r[i]);s>=0&&n.push(t[s])}return n.join(" ")}var iw=function(e){le(t,e);function t(r,n,i,s){var a=e.call(this)||this;return a.updateData(r,n,i,s),a}return t.prototype._createSymbol=function(r,n,i,s,a){this.removeAll();var o=ai(r,-1,-1,2,2,null,a);o.attr({z2:100,culling:!0,scaleX:s[0]/2,scaleY:s[1]/2}),o.drift=fIe,this._symbolType=r,this.add(o)},t.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){lu(this.childAt(0))},t.prototype.downplay=function(){cu(this.childAt(0))},t.prototype.setZ=function(r,n){var i=this.childAt(0);i.zlevel=r,i.z=n},t.prototype.setDraggable=function(r,n){var i=this.childAt(0);i.draggable=r,i.cursor=!n&&r?"move":i.cursor},t.prototype.updateData=function(r,n,i,s){this.silent=!1;var a=r.getItemVisual(n,"symbol")||"circle",o=r.hostModel,l=t.getSymbolSize(r,n),c=a!==this._symbolType,d=s&&s.disableAnimation;if(c){var h=r.getItemVisual(n,"symbolKeepAspect");this._createSymbol(a,r,n,l,h)}else{var f=this.childAt(0);f.silent=!1;var p={scaleX:l[0]/2,scaleY:l[1]/2};d?f.attr(p):wr(f,p,o,n),rl(f)}if(this._updateCommon(r,n,l,i,s),c){var f=this.childAt(0);if(!d){var p={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,Sn(f,p,o,n)}}d&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(r,n,i,s,a){var o=this.childAt(0),l=r.hostModel,c,d,h,f,p,g,v,m,y;if(s&&(c=s.emphasisItemStyle,d=s.blurItemStyle,h=s.selectItemStyle,f=s.focus,p=s.blurScope,v=s.labelStatesModels,m=s.hoverScale,y=s.cursorStyle,g=s.emphasisDisabled),!s||r.hasItemOption){var x=s&&s.itemModel?s.itemModel:r.getItemModel(n),_=x.getModel("emphasis");c=_.getModel("itemStyle").getItemStyle(),h=x.getModel(["select","itemStyle"]).getItemStyle(),d=x.getModel(["blur","itemStyle"]).getItemStyle(),f=_.get("focus"),p=_.get("blurScope"),g=_.get("disabled"),v=ki(x),m=_.getShallow("scale"),y=x.getShallow("cursor")}var b=r.getItemVisual(n,"symbolRotate");o.attr("rotation",(b||0)*Math.PI/180||0);var w=jp(r.getItemVisual(n,"symbolOffset"),i);w&&(o.x=w[0],o.y=w[1]),y&&o.attr("cursor",y);var S=r.getItemVisual(n,"style"),k=S.fill;if(o instanceof Oi){var C=o.style;o.useStyle(fe({image:C.image,x:C.x,y:C.y,width:C.width,height:C.height},S))}else o.__isEmptyBrush?o.useStyle(fe({},S)):o.useStyle(S),o.style.decal=null,o.setColor(k,a&&a.symbolInnerColor),o.style.strokeNoScale=!0;var E=r.getItemVisual(n,"liftZ"),T=this._z2;E!=null?T==null&&(this._z2=o.z2,o.z2+=E):T!=null&&(o.z2=T,this._z2=null);var N=a&&a.useNameLabel;Yi(o,v,{labelFetcher:l,labelDataIndex:n,defaultText:R,inheritColor:k,defaultOpacity:S.opacity});function R($){return N?r.getName($):ev(r,$)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var P=o.ensureState("emphasis");P.style=c,o.ensureState("select").style=h,o.ensureState("blur").style=d;var D=m==null||m===!0?Math.max(1.1,3/this._sizeY):isFinite(m)&&m>0?+m:1;P.scaleX=this._sizeX*D,P.scaleY=this._sizeY*D,this.setSymbolScale(1),Dn(this,f,p,g)},t.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r},t.prototype.fadeOut=function(r,n,i){var s=this.childAt(0),a=ft(this).dataIndex,o=i&&i.animation;if(this.silent=s.silent=!0,i&&i.fadeLabel){var l=s.getTextContent();l&&Wd(l,{style:{opacity:0}},n,{dataIndex:a,removeOpt:o,cb:function(){s.removeTextContent()}})}else s.removeTextContent();Wd(s,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:a,cb:r,removeOpt:o})},t.getSymbolSize=function(r,n){return Wv(r.getItemVisual(n,"symbolSize"))},t}(ht);function fIe(e,t){this.parent.drift(e,t)}function Hj(e,t,r,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(r))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&e.getItemVisual(r,"symbol")!=="none"}function fV(e){return e!=null&&!st(e)&&(e={isIgnore:e}),e||{}}function pV(e){var t=e.hostModel,r=t.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:ki(t),cursorStyle:t.get("cursor")}}var sw=function(){function e(t){this.group=new ht,this._SymbolCtor=t||iw}return e.prototype.updateData=function(t,r){this._progressiveEls=null,r=fV(r);var n=this.group,i=t.hostModel,s=this._data,a=this._SymbolCtor,o=r.disableAnimation,l=pV(t),c={disableAnimation:o},d=r.getSymbolPoint||function(h){return t.getItemLayout(h)};s||n.removeAll(),t.diff(s).add(function(h){var f=d(h);if(Hj(t,f,h,r)){var p=new a(t,h,l,c);p.setPosition(f),t.setItemGraphicEl(h,p),n.add(p)}}).update(function(h,f){var p=s.getItemGraphicEl(f),g=d(h);if(!Hj(t,g,h,r)){n.remove(p);return}var v=t.getItemVisual(h,"symbol")||"circle",m=p&&p.getSymbolType&&p.getSymbolType();if(!p||m&&m!==v)n.remove(p),p=new a(t,h,l,c),p.setPosition(g);else{p.updateData(t,h,l,c);var y={x:g[0],y:g[1]};o?p.attr(y):wr(p,y,i)}n.add(p),t.setItemGraphicEl(h,p)}).remove(function(h){var f=s.getItemGraphicEl(h);f&&f.fadeOut(function(){n.remove(f)},i)}).execute(),this._getSymbolPoint=d,this._data=t},e.prototype.updateLayout=function(){var t=this,r=this._data;r&&r.eachItemGraphicEl(function(n,i){var s=t._getSymbolPoint(i);n.setPosition(s),n.markRedraw()})},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=pV(t),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,r,n){this._progressiveEls=[],n=fV(n);function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var s=t.start;s<t.end;s++){var a=r.getItemLayout(s);if(Hj(r,a,s,n)){var o=new this._SymbolCtor(r,s,this._seriesScope);o.traverse(i),o.setPosition(a),this.group.add(o),r.setItemGraphicEl(s,o),this._progressiveEls.push(o)}}},e.prototype.eachRendered=function(t){fh(this._progressiveEls||this.group,t)},e.prototype.remove=function(t){var r=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(i){i.fadeOut(function(){r.remove(i)},n.hostModel)}):r.removeAll()},e}();function gie(e,t,r){var n=e.getBaseAxis(),i=e.getOtherAxis(n),s=pIe(i,r),a=n.dim,o=i.dim,l=t.mapDimension(o),c=t.mapDimension(a),d=o==="x"||o==="radius"?1:0,h=xe(e.dimensions,function(g){return t.mapDimension(g)}),f=!1,p=t.getCalculationInfo("stackResultDimension");return qd(t,h[0])&&(f=!0,h[0]=p),qd(t,h[1])&&(f=!0,h[1]=p),{dataDimsForPoint:h,valueStart:s,valueAxisDim:o,baseAxisDim:a,stacked:!!f,valueDim:l,baseDim:c,baseDataOffset:d,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function pIe(e,t){var r=0,n=e.scale.getExtent();return t==="start"?r=n[0]:t==="end"?r=n[1]:xr(t)&&!isNaN(t)?r=t:n[0]>0?r=n[0]:n[1]<0&&(r=n[1]),r}function mie(e,t,r,n){var i=NaN;e.stacked&&(i=r.get(r.getCalculationInfo("stackedOverDimension"),n)),isNaN(i)&&(i=e.valueStart);var s=e.baseDataOffset,a=[];return a[s]=r.get(e.baseDim,n),a[1-s]=i,t.dataToPoint(a)}function gIe(e,t){var r=[];return t.diff(e).add(function(n){r.push({cmd:"+",idx:n})}).update(function(n,i){r.push({cmd:"=",idx:i,idx1:n})}).remove(function(n){r.push({cmd:"-",idx:n})}).execute(),r}function mIe(e,t,r,n,i,s,a,o){for(var l=gIe(e,t),c=[],d=[],h=[],f=[],p=[],g=[],v=[],m=gie(i,t,a),y=e.getLayout("points")||[],x=t.getLayout("points")||[],_=0;_<l.length;_++){var b=l[_],w=!0,S=void 0,k=void 0;switch(b.cmd){case"=":S=b.idx*2,k=b.idx1*2;var C=y[S],E=y[S+1],T=x[k],N=x[k+1];(isNaN(C)||isNaN(E))&&(C=T,E=N),c.push(C,E),d.push(T,N),h.push(r[S],r[S+1]),f.push(n[k],n[k+1]),v.push(t.getRawIndex(b.idx1));break;case"+":var R=b.idx,P=m.dataDimsForPoint,D=i.dataToPoint([t.get(P[0],R),t.get(P[1],R)]);k=R*2,c.push(D[0],D[1]),d.push(x[k],x[k+1]);var $=mie(m,i,t,R);h.push($[0],$[1]),f.push(n[k],n[k+1]),v.push(t.getRawIndex(R));break;case"-":w=!1}w&&(p.push(b),g.push(g.length))}g.sort(function(Y,Z){return v[Y]-v[Z]});for(var L=c.length,O=Fl(L),j=Fl(L),M=Fl(L),I=Fl(L),z=[],_=0;_<g.length;_++){var U=g[_],F=_*2,G=U*2;O[F]=c[G],O[F+1]=c[G+1],j[F]=d[G],j[F+1]=d[G+1],M[F]=h[G],M[F+1]=h[G+1],I[F]=f[G],I[F+1]=f[G+1],z[_]=p[U]}return{current:O,next:j,stackedOnCurrent:M,stackedOnNext:I,status:z}}var Fu=Math.min,zu=Math.max;function Hf(e,t){return isNaN(e)||isNaN(t)}function wL(e,t,r,n,i,s,a,o,l){for(var c,d,h,f,p,g,v=r,m=0;m<n;m++){var y=t[v*2],x=t[v*2+1];if(v>=i||v<0)break;if(Hf(y,x)){if(l){v+=s;continue}break}if(v===r)e[s>0?"moveTo":"lineTo"](y,x),h=y,f=x;else{var _=y-c,b=x-d;if(_*_+b*b<.5){v+=s;continue}if(a>0){for(var w=v+s,S=t[w*2],k=t[w*2+1];S===y&&k===x&&m<n;)m++,w+=s,v+=s,S=t[w*2],k=t[w*2+1],y=t[v*2],x=t[v*2+1],_=y-c,b=x-d;var C=m+1;if(l)for(;Hf(S,k)&&C<n;)C++,w+=s,S=t[w*2],k=t[w*2+1];var E=.5,T=0,N=0,R=void 0,P=void 0;if(C>=n||Hf(S,k))p=y,g=x;else{T=S-c,N=k-d;var D=y-c,$=S-y,L=x-d,O=k-x,j=void 0,M=void 0;if(o==="x"){j=Math.abs(D),M=Math.abs($);var I=T>0?1:-1;p=y-I*j*a,g=x,R=y+I*M*a,P=x}else if(o==="y"){j=Math.abs(L),M=Math.abs(O);var z=N>0?1:-1;p=y,g=x-z*j*a,R=y,P=x+z*M*a}else j=Math.sqrt(D*D+L*L),M=Math.sqrt($*$+O*O),E=M/(M+j),p=y-T*a*(1-E),g=x-N*a*(1-E),R=y+T*a*E,P=x+N*a*E,R=Fu(R,zu(S,y)),P=Fu(P,zu(k,x)),R=zu(R,Fu(S,y)),P=zu(P,Fu(k,x)),T=R-y,N=P-x,p=y-T*j/M,g=x-N*j/M,p=Fu(p,zu(c,y)),g=Fu(g,zu(d,x)),p=zu(p,Fu(c,y)),g=zu(g,Fu(d,x)),T=y-p,N=x-g,R=y+T*M/j,P=x+N*M/j}e.bezierCurveTo(h,f,p,g,y,x),h=R,f=P}else e.lineTo(y,x)}c=y,d=x,v+=s}return m}var vie=function(){function e(){this.smooth=0,this.smoothConstraint=!0}return e}(),vIe=function(e){le(t,e);function t(r){var n=e.call(this,r)||this;return n.type="ec-polyline",n}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new vie},t.prototype.buildPath=function(r,n){var i=n.points,s=0,a=i.length/2;if(n.connectNulls){for(;a>0&&Hf(i[a*2-2],i[a*2-1]);a--);for(;s<a&&Hf(i[s*2],i[s*2+1]);s++);}for(;s<a;)s+=wL(r,i,s,a,a,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},t.prototype.getPointOn=function(r,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,s=i.data,a=oc.CMD,o,l,c=n==="x",d=[],h=0;h<s.length;){var f=s[h++],p=void 0,g=void 0,v=void 0,m=void 0,y=void 0,x=void 0,_=void 0;switch(f){case a.M:o=s[h++],l=s[h++];break;case a.L:if(p=s[h++],g=s[h++],_=c?(r-o)/(p-o):(r-l)/(g-l),_<=1&&_>=0){var b=c?(g-l)*_+l:(p-o)*_+o;return c?[r,b]:[b,r]}o=p,l=g;break;case a.C:p=s[h++],g=s[h++],v=s[h++],m=s[h++],y=s[h++],x=s[h++];var w=c?Qk(o,p,v,y,r,d):Qk(l,g,m,x,r,d);if(w>0)for(var S=0;S<w;S++){var k=d[S];if(k<=1&&k>=0){var b=c?yi(l,g,m,x,k):yi(o,p,v,y,k);return c?[r,b]:[b,r]}}o=y,l=x;break}}},t}(Vt),yIe=function(e){le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(vie),yie=function(e){le(t,e);function t(r){var n=e.call(this,r)||this;return n.type="ec-polygon",n}return t.prototype.getDefaultShape=function(){return new yIe},t.prototype.buildPath=function(r,n){var i=n.points,s=n.stackedOnPoints,a=0,o=i.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;o>0&&Hf(i[o*2-2],i[o*2-1]);o--);for(;a<o&&Hf(i[a*2],i[a*2+1]);a++);}for(;a<o;){var c=wL(r,i,a,o,o,1,n.smooth,l,n.connectNulls);wL(r,s,a+c-1,c,o,-1,n.stackedOnSmooth,l,n.connectNulls),a+=c+1,r.closePath()}},t}(Vt);function xie(e,t,r,n,i){var s=e.getArea(),a=s.x,o=s.y,l=s.width,c=s.height,d=r.get(["lineStyle","width"])||0;a-=d/2,o-=d/2,l+=d,c+=d,l=Math.ceil(l),a!==Math.floor(a)&&(a=Math.floor(a),l++);var h=new lr({shape:{x:a,y:o,width:l,height:c}});if(t){var f=e.getBaseAxis(),p=f.isHorizontal(),g=f.inverse;p?(g&&(h.shape.x+=l),h.shape.width=0):(g||(h.shape.y+=c),h.shape.height=0);var v=et(i)?function(m){i(m,h)}:null;Sn(h,{shape:{width:l,height:c,x:a,y:o}},r,null,n,v)}return h}function _ie(e,t,r){var n=e.getArea(),i=Gn(n.r0,1),s=Gn(n.r,1),a=new Bs({shape:{cx:Gn(e.cx,1),cy:Gn(e.cy,1),r0:i,r:s,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(t){var o=e.getBaseAxis().dim==="angle";o?a.shape.endAngle=n.startAngle:a.shape.r=i,Sn(a,{shape:{endAngle:n.endAngle,r:s}},r)}return a}function aw(e,t,r,n,i){if(e){if(e.type==="polar")return _ie(e,t,r);if(e.type==="cartesian2d")return xie(e,t,r,n,i)}else return null;return null}function Ip(e,t){return e.type===t}function gV(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return;return!0}}function mV(e){for(var t=1/0,r=1/0,n=-1/0,i=-1/0,s=0;s<e.length;){var a=e[s++],o=e[s++];isNaN(a)||(t=Math.min(a,t),n=Math.max(a,n)),isNaN(o)||(r=Math.min(o,r),i=Math.max(o,i))}return[[t,r],[n,i]]}function vV(e,t){var r=mV(e),n=r[0],i=r[1],s=mV(t),a=s[0],o=s[1];return Math.max(Math.abs(n[0]-a[0]),Math.abs(n[1]-a[1]),Math.abs(i[0]-o[0]),Math.abs(i[1]-o[1]))}function yV(e){return xr(e)?e:e?.5:0}function xIe(e,t,r){if(!r.valueDim)return[];for(var n=t.count(),i=Fl(n*2),s=0;s<n;s++){var a=mie(r,e,t,s);i[s*2]=a[0],i[s*2+1]=a[1]}return i}function Uu(e,t,r,n,i){var s=r.getBaseAxis(),a=s.dim==="x"||s.dim==="radius"?0:1,o=[],l=0,c=[],d=[],h=[],f=[];if(i){for(l=0;l<e.length;l+=2){var p=t||e;!isNaN(p[l])&&!isNaN(p[l+1])&&f.push(e[l],e[l+1])}e=f}for(l=0;l<e.length-2;l+=2)switch(h[0]=e[l+2],h[1]=e[l+3],d[0]=e[l],d[1]=e[l+1],o.push(d[0],d[1]),n){case"end":c[a]=h[a],c[1-a]=d[1-a],o.push(c[0],c[1]);break;case"middle":var g=(d[a]+h[a])/2,v=[];c[a]=v[a]=g,c[1-a]=d[1-a],v[1-a]=h[1-a],o.push(c[0],c[1]),o.push(v[0],v[1]);break;default:c[a]=d[a],c[1-a]=h[1-a],o.push(c[0],c[1])}return o.push(e[l++],e[l++]),o}function _Ie(e,t){var r=[],n=e.length,i,s;function a(d,h,f){var p=d.coord,g=(f-p)/(h.coord-p),v=ake(g,[d.color,h.color]);return{coord:f,color:v}}for(var o=0;o<n;o++){var l=e[o],c=l.coord;if(c<0)i=l;else if(c>t){s?r.push(a(s,l,t)):i&&r.push(a(i,l,0),a(i,l,t));break}else i&&(r.push(a(i,l,0)),i=null),r.push(l),s=l}return r}function bIe(e,t,r){var n=e.getVisual("visualMeta");if(!(!n||!n.length||!e.count())&&t.type==="cartesian2d"){for(var i,s,a=n.length-1;a>=0;a--){var o=e.getDimensionInfo(n[a].dimension);if(i=o&&o.coordDim,i==="x"||i==="y"){s=n[a];break}}if(s){var l=t.getAxis(i),c=xe(s.stops,function(_){return{coord:l.toGlobalCoord(l.dataToCoord(_.value)),color:_.color}}),d=c.length,h=s.outerColors.slice();d&&c[0].coord>c[d-1].coord&&(c.reverse(),h.reverse());var f=_Ie(c,i==="x"?r.getWidth():r.getHeight()),p=f.length;if(!p&&d)return c[0].coord<0?h[1]?h[1]:c[d-1].color:h[0]?h[0]:c[0].color;var g=10,v=f[0].coord-g,m=f[p-1].coord+g,y=m-v;if(y<.001)return"transparent";V(f,function(_){_.offset=(_.coord-v)/y}),f.push({offset:p?f[p-1].offset:.5,color:h[1]||"transparent"}),f.unshift({offset:p?f[0].offset:.5,color:h[0]||"transparent"});var x=new Xb(0,0,0,0,f,!0);return x[i]=v,x[i+"2"]=m,x}}}function wIe(e,t,r){var n=e.get("showAllSymbol"),i=n==="auto";if(!(n&&!i)){var s=r.getAxesByScale("ordinal")[0];if(s&&!(i&&SIe(s,t))){var a=t.mapDimension(s.dim),o={};return V(s.getViewLabels(),function(l){var c=s.scale.getRawOrdinalNumber(l.tickValue);o[c]=1}),function(l){return!o.hasOwnProperty(t.get(a,l))}}}}function SIe(e,t){var r=e.getExtent(),n=Math.abs(r[1]-r[0])/e.scale.count();isNaN(n)&&(n=0);for(var i=t.count(),s=Math.max(1,Math.round(i/5)),a=0;a<i;a+=s)if(iw.getSymbolSize(t,a)[e.isHorizontal()?1:0]*1.5>n)return!1;return!0}function CIe(e,t){return isNaN(e)||isNaN(t)}function kIe(e){for(var t=e.length/2;t>0&&CIe(e[t*2-2],e[t*2-1]);t--);return t-1}function xV(e,t){return[e[t*2],e[t*2+1]]}function EIe(e,t,r){for(var n=e.length/2,i=r==="x"?0:1,s,a,o=0,l=-1,c=0;c<n;c++)if(a=e[c*2+i],!(isNaN(a)||isNaN(e[c*2+1-i]))){if(c===0){s=a;continue}if(s<=t&&a>=t||s>=t&&a<=t){l=c;break}o=c,s=a}return{range:[o,l],t:(t-s)/(a-s)}}function bie(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<$s.length;t++)if(e.get([$s[t],"endLabel","show"]))return!0;return!1}function Vj(e,t,r,n){if(Ip(t,"cartesian2d")){var i=n.getModel("endLabel"),s=i.get("valueAnimation"),a=n.getData(),o={lastFrameIndex:0},l=bie(n)?function(p,g){e._endLabelOnDuring(p,g,a,o,s,i,t)}:null,c=t.getBaseAxis().isHorizontal(),d=xie(t,r,n,function(){var p=e._endLabel;p&&r&&o.originalX!=null&&p.attr({x:o.originalX,y:o.originalY})},l);if(!n.get("clip",!0)){var h=d.shape,f=Math.max(h.width,h.height);c?(h.y-=f,h.height+=f*2):(h.x-=f,h.width+=f*2)}return l&&l(1,d),d}else return _ie(t,r,n)}function TIe(e,t){var r=t.getBaseAxis(),n=r.isHorizontal(),i=r.inverse,s=n?i?"right":"left":"center",a=n?"middle":i?"top":"bottom";return{normal:{align:e.get("align")||s,verticalAlign:e.get("verticalAlign")||a}}}var NIe=function(e){le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(){var r=new ht,n=new sw;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=r,this._changePolyState=He(this._changePolyState,this)},t.prototype.render=function(r,n,i){var s=r.coordinateSystem,a=this.group,o=r.getData(),l=r.getModel("lineStyle"),c=r.getModel("areaStyle"),d=o.getLayout("points")||[],h=s.type==="polar",f=this._coordSys,p=this._symbolDraw,g=this._polyline,v=this._polygon,m=this._lineGroup,y=!n.ssr&&r.get("animation"),x=!c.isEmpty(),_=c.get("origin"),b=gie(s,o,_),w=x&&xIe(s,o,b),S=r.get("showSymbol"),k=r.get("connectNulls"),C=S&&!h&&wIe(r,o,s),E=this._data;E&&E.eachItemGraphicEl(function(Y,Z){Y.__temp&&(a.remove(Y),E.setItemGraphicEl(Z,null))}),S||p.remove(),a.add(m);var T=h?!1:r.get("step"),N;s&&s.getArea&&r.get("clip",!0)&&(N=s.getArea(),N.width!=null?(N.x-=.1,N.y-=.1,N.width+=.2,N.height+=.2):N.r0&&(N.r0-=.5,N.r+=.5)),this._clipShapeForSymbol=N;var R=bIe(o,s,i)||o.getVisual("style")[o.getVisual("drawType")];if(!(g&&f.type===s.type&&T===this._step))S&&p.updateData(o,{isIgnore:C,clipShape:N,disableAnimation:!0,getSymbolPoint:function(Y){return[d[Y*2],d[Y*2+1]]}}),y&&this._initSymbolLabelAnimation(o,s,N),T&&(w&&(w=Uu(w,d,s,T,k)),d=Uu(d,null,s,T,k)),g=this._newPolyline(d),x?v=this._newPolygon(d,w):v&&(m.remove(v),v=this._polygon=null),h||this._initOrUpdateEndLabel(r,s,op(R)),m.setClipPath(Vj(this,s,!0,r));else{x&&!v?v=this._newPolygon(d,w):v&&!x&&(m.remove(v),v=this._polygon=null),h||this._initOrUpdateEndLabel(r,s,op(R));var P=m.getClipPath();if(P){var D=Vj(this,s,!1,r);Sn(P,{shape:D.shape},r)}else m.setClipPath(Vj(this,s,!0,r));S&&p.updateData(o,{isIgnore:C,clipShape:N,disableAnimation:!0,getSymbolPoint:function(Y){return[d[Y*2],d[Y*2+1]]}}),(!gV(this._stackedOnPoints,w)||!gV(this._points,d))&&(y?this._doUpdateAnimation(o,w,s,i,T,_,k):(T&&(w&&(w=Uu(w,d,s,T,k)),d=Uu(d,null,s,T,k)),g.setShape({points:d}),v&&v.setShape({points:d,stackedOnPoints:w})))}var $=r.getModel("emphasis"),L=$.get("focus"),O=$.get("blurScope"),j=$.get("disabled");if(g.useStyle(rt(l.getLineStyle(),{fill:"none",stroke:R,lineJoin:"bevel"})),qi(g,r,"lineStyle"),g.style.lineWidth>0&&r.get(["emphasis","lineStyle","width"])==="bolder"){var M=g.getState("emphasis").style;M.lineWidth=+g.style.lineWidth+1}ft(g).seriesIndex=r.seriesIndex,Dn(g,L,O,j);var I=yV(r.get("smooth")),z=r.get("smoothMonotone");if(g.setShape({smooth:I,smoothMonotone:z,connectNulls:k}),v){var U=o.getCalculationInfo("stackedOnSeries"),F=0;v.useStyle(rt(c.getAreaStyle(),{fill:R,opacity:.7,lineJoin:"bevel",decal:o.getVisual("style").decal})),U&&(F=yV(U.get("smooth"))),v.setShape({smooth:I,stackedOnSmooth:F,smoothMonotone:z,connectNulls:k}),qi(v,r,"areaStyle"),ft(v).seriesIndex=r.seriesIndex,Dn(v,L,O,j)}var G=this._changePolyState;o.eachItemGraphicEl(function(Y){Y&&(Y.onHoverStateChange=G)}),this._polyline.onHoverStateChange=G,this._data=o,this._coordSys=s,this._stackedOnPoints=w,this._points=d,this._step=T,this._valueOrigin=_,r.get("triggerLineEvent")&&(this.packEventData(r,g),v&&this.packEventData(r,v))},t.prototype.packEventData=function(r,n){ft(n).eventData={componentType:"series",componentSubType:"line",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"line"}},t.prototype.highlight=function(r,n,i,s){var a=r.getData(),o=ip(a,s);if(this._changePolyState("emphasis"),!(o instanceof Array)&&o!=null&&o>=0){var l=a.getLayout("points"),c=a.getItemGraphicEl(o);if(!c){var d=l[o*2],h=l[o*2+1];if(isNaN(d)||isNaN(h)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(d,h))return;var f=r.get("zlevel")||0,p=r.get("z")||0;c=new iw(a,o),c.x=d,c.y=h,c.setZ(f,p);var g=c.getSymbolPath().getTextContent();g&&(g.zlevel=f,g.z=p,g.z2=this._polyline.z2+1),c.__temp=!0,a.setItemGraphicEl(o,c),c.stopSymbolAnimation(!0),this.group.add(c)}c.highlight()}else nn.prototype.highlight.call(this,r,n,i,s)},t.prototype.downplay=function(r,n,i,s){var a=r.getData(),o=ip(a,s);if(this._changePolyState("normal"),o!=null&&o>=0){var l=a.getItemGraphicEl(o);l&&(l.__temp?(a.setItemGraphicEl(o,null),this.group.remove(l)):l.downplay())}else nn.prototype.downplay.call(this,r,n,i,s)},t.prototype._changePolyState=function(r){var n=this._polygon;aE(this._polyline,r),n&&aE(n,r)},t.prototype._newPolyline=function(r){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new vIe({shape:{points:r},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},t.prototype._newPolygon=function(r,n){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new yie({shape:{points:r,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},t.prototype._initSymbolLabelAnimation=function(r,n,i){var s,a,o=n.getBaseAxis(),l=o.inverse;n.type==="cartesian2d"?(s=o.isHorizontal(),a=!1):n.type==="polar"&&(s=o.dim==="angle",a=!0);var c=r.hostModel,d=c.get("animationDuration");et(d)&&(d=d(null));var h=c.get("animationDelay")||0,f=et(h)?h(null):h;r.eachItemGraphicEl(function(p,g){var v=p;if(v){var m=[p.x,p.y],y=void 0,x=void 0,_=void 0;if(i)if(a){var b=i,w=n.pointToCoord(m);s?(y=b.startAngle,x=b.endAngle,_=-w[1]/180*Math.PI):(y=b.r0,x=b.r,_=w[0])}else{var S=i;s?(y=S.x,x=S.x+S.width,_=p.x):(y=S.y+S.height,x=S.y,_=p.y)}var k=x===y?0:(_-y)/(x-y);l&&(k=1-k);var C=et(h)?h(g):d*k+f,E=v.getSymbolPath(),T=E.getTextContent();v.attr({scaleX:0,scaleY:0}),v.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:C}),T&&T.animateFrom({style:{opacity:0}},{duration:300,delay:C}),E.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(r,n,i){var s=r.getModel("endLabel");if(bie(r)){var a=r.getData(),o=this._polyline,l=a.getLayout("points");if(!l){o.removeTextContent(),this._endLabel=null;return}var c=this._endLabel;c||(c=this._endLabel=new pr({z2:200}),c.ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var d=kIe(l);d>=0&&(Yi(o,ki(r,"endLabel"),{inheritColor:i,labelFetcher:r,labelDataIndex:d,defaultText:function(h,f,p){return p!=null?pie(a,p):ev(a,h)},enableTextSetter:!0},TIe(s,n)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(r,n,i,s,a,o,l){var c=this._endLabel,d=this._polyline;if(c){r<1&&s.originalX==null&&(s.originalX=c.x,s.originalY=c.y);var h=i.getLayout("points"),f=i.hostModel,p=f.get("connectNulls"),g=o.get("precision"),v=o.get("distance")||0,m=l.getBaseAxis(),y=m.isHorizontal(),x=m.inverse,_=n.shape,b=x?y?_.x:_.y+_.height:y?_.x+_.width:_.y,w=(y?v:0)*(x?-1:1),S=(y?0:-v)*(x?-1:1),k=y?"x":"y",C=EIe(h,b,k),E=C.range,T=E[1]-E[0],N=void 0;if(T>=1){if(T>1&&!p){var R=xV(h,E[0]);c.attr({x:R[0]+w,y:R[1]+S}),a&&(N=f.getRawValue(E[0]))}else{var R=d.getPointOn(b,k);R&&c.attr({x:R[0]+w,y:R[1]+S});var P=f.getRawValue(E[0]),D=f.getRawValue(E[1]);a&&(N=ste(i,g,P,D,C.t))}s.lastFrameIndex=E[0]}else{var $=r===1||s.lastFrameIndex>0?E[0]:0,R=xV(h,$);a&&(N=f.getRawValue($)),c.attr({x:R[0]+w,y:R[1]+S})}if(a){var L=$v(c);typeof L.setLabelText=="function"&&L.setLabelText(N)}}},t.prototype._doUpdateAnimation=function(r,n,i,s,a,o,l){var c=this._polyline,d=this._polygon,h=r.hostModel,f=mIe(this._data,r,this._stackedOnPoints,n,this._coordSys,i,this._valueOrigin),p=f.current,g=f.stackedOnCurrent,v=f.next,m=f.stackedOnNext;if(a&&(g=Uu(f.stackedOnCurrent,f.current,i,a,l),p=Uu(f.current,null,i,a,l),m=Uu(f.stackedOnNext,f.next,i,a,l),v=Uu(f.next,null,i,a,l)),vV(p,v)>3e3||d&&vV(g,m)>3e3){c.stopAnimation(),c.setShape({points:v}),d&&(d.stopAnimation(),d.setShape({points:v,stackedOnPoints:m}));return}c.shape.__points=f.current,c.shape.points=p;var y={shape:{points:v}};f.current!==p&&(y.shape.__points=f.next),c.stopAnimation(),wr(c,y,h),d&&(d.setShape({points:p,stackedOnPoints:g}),d.stopAnimation(),wr(d,{shape:{stackedOnPoints:m}},h),c.shape.points!==d.shape.points&&(d.shape.points=c.shape.points));for(var x=[],_=f.status,b=0;b<_.length;b++){var w=_[b].cmd;if(w==="="){var S=r.getItemGraphicEl(_[b].idx1);S&&x.push({el:S,ptIdx:b})}}c.animators&&c.animators.length&&c.animators[0].during(function(){d&&d.dirtyShape();for(var k=c.shape.__points,C=0;C<x.length;C++){var E=x[C].el,T=x[C].ptIdx*2;E.x=k[T],E.y=k[T+1],E.markRedraw()}})},t.prototype.remove=function(r){var n=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(s,a){s.__temp&&(n.remove(s),i.setItemGraphicEl(a,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(nn);function ow(e,t){return{seriesType:e,plan:Hv(),reset:function(r){var n=r.getData(),i=r.coordinateSystem,s=r.pipelineContext,a=t||s.large;if(i){var o=xe(i.dimensions,function(p){return n.mapDimension(p)}).slice(0,2),l=o.length,c=n.getCalculationInfo("stackResultDimension");qd(n,o[0])&&(o[0]=c),qd(n,o[1])&&(o[1]=c);var d=n.getStore(),h=n.getDimensionIndex(o[0]),f=n.getDimensionIndex(o[1]);return l&&{progress:function(p,g){for(var v=p.end-p.start,m=a&&Fl(v*l),y=[],x=[],_=p.start,b=0;_<p.end;_++){var w=void 0;if(l===1){var S=d.get(h,_);w=i.dataToPoint(S,null,x)}else y[0]=d.get(h,_),y[1]=d.get(f,_),w=i.dataToPoint(y,null,x);a?(m[b++]=w[0],m[b++]=w[1]):g.setItemLayout(_,w.slice())}a&&g.setLayout("points",m)}}}}}}var AIe={average:function(e){for(var t=0,r=0,n=0;n<e.length;n++)isNaN(e[n])||(t+=e[n],r++);return r===0?NaN:t/r},sum:function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r]||0;return t},max:function(e){for(var t=-1/0,r=0;r<e.length;r++)e[r]>t&&(t=e[r]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,r=0;r<e.length;r++)e[r]<t&&(t=e[r]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},jIe=function(e){return Math.round(e.length/2)};function wie(e){return{seriesType:e,reset:function(t,r,n){var i=t.getData(),s=t.get("sampling"),a=t.coordinateSystem,o=i.count();if(o>10&&a.type==="cartesian2d"&&s){var l=a.getBaseAxis(),c=a.getOtherAxis(l),d=l.getExtent(),h=n.getDevicePixelRatio(),f=Math.abs(d[1]-d[0])*(h||1),p=Math.round(o/f);if(isFinite(p)&&p>1){s==="lttb"?t.setData(i.lttbDownSample(i.mapDimension(c.dim),1/p)):s==="minmax"&&t.setData(i.minmaxDownSample(i.mapDimension(c.dim),1/p));var g=void 0;De(s)?g=AIe[s]:et(s)&&(g=s),g&&t.setData(i.downSample(i.mapDimension(c.dim),1/p,g,jIe))}}}}}function RIe(e){e.registerChartView(NIe),e.registerSeriesModel(hIe),e.registerLayout(ow("line",!0)),e.registerVisual({seriesType:"line",reset:function(t){var r=t.getData(),n=t.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=r.getVisual("style").fill),r.setVisual("legendLineStyle",n)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,wie("line"))}var G_=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getInitialData=function(r,n){return Su(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(r,n,i){var s=this.coordinateSystem;if(s&&s.clampData){var a=s.clampData(r),o=s.dataToPoint(a);if(i)V(s.getAxes(),function(f,p){if(f.type==="category"&&n!=null){var g=f.getTicksCoords(),v=f.getTickModel().get("alignWithLabel"),m=a[p],y=n[p]==="x1"||n[p]==="y1";if(y&&!v&&(m+=1),g.length<2)return;if(g.length===2){o[p]=f.toGlobalCoord(f.getExtent()[y?1:0]);return}for(var x=void 0,_=void 0,b=1,w=0;w<g.length;w++){var S=g[w].coord,k=w===g.length-1?g[w-1].tickValue+b:g[w].tickValue;if(k===m){_=S;break}else if(k<m)x=S;else if(x!=null&&k>m){_=(S+x)/2;break}w===1&&(b=k-g[0].tickValue)}_==null&&(x?x&&(_=g[g.length-1].coord):_=g[0].coord),o[p]=f.toGlobalCoord(_)}});else{var l=this.getData(),c=l.getLayout("offset"),d=l.getLayout("size"),h=s.getBaseAxis().isHorizontal()?0:1;o[h]+=c+d/2}return o}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(fn);fn.registerClass(G_);var IIe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getInitialData=function(){return Su(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var r=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>r&&(r=n),r},t.prototype.brushSelector=function(r,n,i){return i.rect(n.getItemLayout(r))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=ph(G_.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(G_),MIe=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),kE=function(e){le(t,e);function t(r){var n=e.call(this,r)||this;return n.type="sausage",n}return t.prototype.getDefaultShape=function(){return new MIe},t.prototype.buildPath=function(r,n){var i=n.cx,s=n.cy,a=Math.max(n.r0||0,0),o=Math.max(n.r,0),l=(o-a)*.5,c=a+l,d=n.startAngle,h=n.endAngle,f=n.clockwise,p=Math.PI*2,g=f?h-d<p:d-h<p;g||(d=h-(f?p:-p));var v=Math.cos(d),m=Math.sin(d),y=Math.cos(h),x=Math.sin(h);g?(r.moveTo(v*a+i,m*a+s),r.arc(v*c+i,m*c+s,l,-Math.PI+d,d,!f)):r.moveTo(v*o+i,m*o+s),r.arc(i,s,o,d,h,!f),r.arc(y*c+i,x*c+s,l,h-Math.PI*2,h-Math.PI,!f),a!==0&&r.arc(i,s,a,h,d,f)},t}(Vt);function PIe(e,t){t=t||{};var r=t.isRoundCap;return function(n,i,s){var a=i.position;if(!a||a instanceof Array)return iE(n,i,s);var o=e(a),l=i.distance!=null?i.distance:5,c=this.shape,d=c.cx,h=c.cy,f=c.r,p=c.r0,g=(f+p)/2,v=c.startAngle,m=c.endAngle,y=(v+m)/2,x=r?Math.abs(f-p)/2:0,_=Math.cos,b=Math.sin,w=d+f*_(v),S=h+f*b(v),k="left",C="top";switch(o){case"startArc":w=d+(p-l)*_(y),S=h+(p-l)*b(y),k="center",C="top";break;case"insideStartArc":w=d+(p+l)*_(y),S=h+(p+l)*b(y),k="center",C="bottom";break;case"startAngle":w=d+g*_(v)+fS(v,l+x,!1),S=h+g*b(v)+pS(v,l+x,!1),k="right",C="middle";break;case"insideStartAngle":w=d+g*_(v)+fS(v,-l+x,!1),S=h+g*b(v)+pS(v,-l+x,!1),k="left",C="middle";break;case"middle":w=d+g*_(y),S=h+g*b(y),k="center",C="middle";break;case"endArc":w=d+(f+l)*_(y),S=h+(f+l)*b(y),k="center",C="bottom";break;case"insideEndArc":w=d+(f-l)*_(y),S=h+(f-l)*b(y),k="center",C="top";break;case"endAngle":w=d+g*_(m)+fS(m,l+x,!0),S=h+g*b(m)+pS(m,l+x,!0),k="left",C="middle";break;case"insideEndAngle":w=d+g*_(m)+fS(m,-l+x,!0),S=h+g*b(m)+pS(m,-l+x,!0),k="right",C="middle";break;default:return iE(n,i,s)}return n=n||{},n.x=w,n.y=S,n.align=k,n.verticalAlign=C,n}}function LIe(e,t,r,n){if(xr(n)){e.setTextConfig({rotation:n});return}else if(ve(t)){e.setTextConfig({rotation:0});return}var i=e.shape,s=i.clockwise?i.startAngle:i.endAngle,a=i.clockwise?i.endAngle:i.startAngle,o=(s+a)/2,l,c=r(t);switch(c){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=o;break;case"startAngle":case"insideStartAngle":l=s;break;case"endAngle":case"insideEndAngle":l=a;break;default:e.setTextConfig({rotation:0});return}var d=Math.PI*1.5-l;c==="middle"&&d>Math.PI/2&&d<Math.PI*1.5&&(d-=Math.PI),e.setTextConfig({rotation:d})}function fS(e,t,r){return t*Math.sin(e)*(r?-1:1)}function pS(e,t,r){return t*Math.cos(e)*(r?1:-1)}function Tf(e,t,r){var n=e.get("borderRadius");if(n==null)return r?{cornerRadius:0}:null;ve(n)||(n=[n,n,n,n]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:xe(n,function(s){return tl(s,i)})}}var Wj=Math.max,Gj=Math.min;function DIe(e,t){var r=e.getArea&&e.getArea();if(Ip(e,"cartesian2d")){var n=e.getBaseAxis();if(n.type!=="category"||!n.onBand){var i=t.getLayout("bandWidth");n.isHorizontal()?(r.x-=i,r.width+=i*2):(r.y-=i,r.height+=i*2)}}return r}var OIe=function(e){le(t,e);function t(){var r=e.call(this)||this;return r.type=t.type,r._isFirstFrame=!0,r}return t.prototype.render=function(r,n,i,s){this._model=r,this._removeOnRenderedListener(i),this._updateDrawMode(r);var a=r.get("coordinateSystem");(a==="cartesian2d"||a==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(r,n,i):this._renderNormal(r,n,i,s))},t.prototype.incrementalPrepareRender=function(r){this._clear(),this._updateDrawMode(r),this._updateLargeClip(r)},t.prototype.incrementalRender=function(r,n){this._progressiveEls=[],this._incrementalRenderLarge(r,n)},t.prototype.eachRendered=function(r){fh(this._progressiveEls||this.group,r)},t.prototype._updateDrawMode=function(r){var n=r.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(r,n,i,s){var a=this.group,o=r.getData(),l=this._data,c=r.coordinateSystem,d=c.getBaseAxis(),h;c.type==="cartesian2d"?h=d.isHorizontal():c.type==="polar"&&(h=d.dim==="angle");var f=r.isAnimationEnabled()?r:null,p=$Ie(r,c);p&&this._enableRealtimeSort(p,o,i);var g=r.get("clip",!0)||p,v=DIe(c,o);a.removeClipPath();var m=r.get("roundCap",!0),y=r.get("showBackground",!0),x=r.getModel("backgroundStyle"),_=x.get("borderRadius")||0,b=[],w=this._backgroundEls,S=s&&s.isInitSort,k=s&&s.type==="changeAxisOrder";function C(N){var R=gS[c.type](o,N),P=WIe(c,h,R);return P.useStyle(x.getItemStyle()),c.type==="cartesian2d"?P.setShape("r",_):P.setShape("cornerRadius",_),b[N]=P,P}o.diff(l).add(function(N){var R=o.getItemModel(N),P=gS[c.type](o,N,R);if(y&&C(N),!(!o.hasValue(N)||!CV[c.type](P))){var D=!1;g&&(D=_V[c.type](v,P));var $=bV[c.type](r,o,N,P,h,f,d.model,!1,m);p&&($.forceLabelAnimation=!0),kV($,o,N,R,P,r,h,c.type==="polar"),S?$.attr({shape:P}):p?wV(p,f,$,P,N,h,!1,!1):Sn($,{shape:P},r,N),o.setItemGraphicEl(N,$),a.add($),$.ignore=D}}).update(function(N,R){var P=o.getItemModel(N),D=gS[c.type](o,N,P);if(y){var $=void 0;w.length===0?$=C(R):($=w[R],$.useStyle(x.getItemStyle()),c.type==="cartesian2d"?$.setShape("r",_):$.setShape("cornerRadius",_),b[N]=$);var L=gS[c.type](o,N),O=Cie(h,L,c);wr($,{shape:O},f,N)}var j=l.getItemGraphicEl(R);if(!o.hasValue(N)||!CV[c.type](D)){a.remove(j);return}var M=!1;if(g&&(M=_V[c.type](v,D),M&&a.remove(j)),j?rl(j):j=bV[c.type](r,o,N,D,h,f,d.model,!!j,m),p&&(j.forceLabelAnimation=!0),k){var I=j.getTextContent();if(I){var z=$v(I);z.prevValue!=null&&(z.prevValue=z.value)}}else kV(j,o,N,P,D,r,h,c.type==="polar");S?j.attr({shape:D}):p?wV(p,f,j,D,N,h,!0,k):wr(j,{shape:D},r,N,null),o.setItemGraphicEl(N,j),j.ignore=M,a.add(j)}).remove(function(N){var R=l.getItemGraphicEl(N);R&&D_(R,r,N)}).execute();var E=this._backgroundGroup||(this._backgroundGroup=new ht);E.removeAll();for(var T=0;T<b.length;++T)E.add(b[T]);a.add(E),this._backgroundEls=b,this._data=o},t.prototype._renderLarge=function(r,n,i){this._clear(),TV(r,this.group),this._updateLargeClip(r)},t.prototype._incrementalRenderLarge=function(r,n){this._removeBackground(),TV(n,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(r){var n=r.get("clip",!0)&&aw(r.coordinateSystem,!1,r),i=this.group;n?i.setClipPath(n):i.removeClipPath()},t.prototype._enableRealtimeSort=function(r,n,i){var s=this;if(n.count()){var a=r.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,r,i),this._isFirstFrame=!1;else{var o=function(l){var c=n.getItemGraphicEl(l),d=c&&c.shape;return d&&Math.abs(a.isHorizontal()?d.height:d.width)||0};this._onRendered=function(){s._updateSortWithinSameData(n,o,a,i)},i.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(r,n,i){var s=[];return r.each(r.mapDimension(n.dim),function(a,o){var l=i(o);l=l??NaN,s.push({dataIndex:o,mappedValue:l,ordinalNumber:a})}),s.sort(function(a,o){return o.mappedValue-a.mappedValue}),{ordinalNumbers:xe(s,function(a){return a.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(r,n,i){for(var s=i.scale,a=r.mapDimension(i.dim),o=Number.MAX_VALUE,l=0,c=s.getOrdinalMeta().categories.length;l<c;++l){var d=r.rawIndexOf(a,s.getRawOrdinalNumber(l)),h=d<0?Number.MIN_VALUE:n(r.indexOfRawIndex(d));if(h>o)return!0;o=h}return!1},t.prototype._isOrderDifferentInView=function(r,n){for(var i=n.scale,s=i.getExtent(),a=Math.max(0,s[0]),o=Math.min(s[1],i.getOrdinalMeta().categories.length-1);a<=o;++a)if(r.ordinalNumbers[a]!==i.getRawOrdinalNumber(a))return!0},t.prototype._updateSortWithinSameData=function(r,n,i,s){if(this._isOrderChangedWithinSameData(r,n,i)){var a=this._dataSort(r,i,n);this._isOrderDifferentInView(a,i)&&(this._removeOnRenderedListener(s),s.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:a}))}},t.prototype._dispatchInitSort=function(r,n,i){var s=n.baseAxis,a=this._dataSort(r,s,function(o){return r.get(r.mapDimension(n.otherAxis.dim),o)});i.dispatchAction({type:"changeAxisOrder",componentType:s.dim+"Axis",isInitSort:!0,axisId:s.index,sortInfo:a})},t.prototype.remove=function(r,n){this._clear(this._model),this._removeOnRenderedListener(n)},t.prototype.dispose=function(r,n){this._removeOnRenderedListener(n)},t.prototype._removeOnRenderedListener=function(r){this._onRendered&&(r.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(r){var n=this.group,i=this._data;r&&r.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(s){D_(s,r,ft(s).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(nn),_V={cartesian2d:function(e,t){var r=t.width<0?-1:1,n=t.height<0?-1:1;r<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height);var i=e.x+e.width,s=e.y+e.height,a=Wj(t.x,e.x),o=Gj(t.x+t.width,i),l=Wj(t.y,e.y),c=Gj(t.y+t.height,s),d=o<a,h=c<l;return t.x=d&&a>i?o:a,t.y=h&&l>s?c:l,t.width=d?0:o-a,t.height=h?0:c-l,r<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height),d||h},polar:function(e,t){var r=t.r0<=t.r?1:-1;if(r<0){var n=t.r;t.r=t.r0,t.r0=n}var i=Gj(t.r,e.r),s=Wj(t.r0,e.r0);t.r=i,t.r0=s;var a=i-s<0;if(r<0){var n=t.r;t.r=t.r0,t.r0=n}return a}},bV={cartesian2d:function(e,t,r,n,i,s,a,o,l){var c=new lr({shape:fe({},n),z2:1});if(c.__dataIndex=r,c.name="item",s){var d=c.shape,h=i?"height":"width";d[h]=0}return c},polar:function(e,t,r,n,i,s,a,o,l){var c=!i&&l?kE:Bs,d=new c({shape:n,z2:1});d.name="item";var h=Sie(i);if(d.calculateTextPosition=PIe(h,{isRoundCap:c===kE}),s){var f=d.shape,p=i?"r":"endAngle",g={};f[p]=i?n.r0:n.startAngle,g[p]=n[p],(o?wr:Sn)(d,{shape:g},s)}return d}};function $Ie(e,t){var r=e.get("realtimeSort",!0),n=t.getBaseAxis();if(r&&n.type==="category"&&t.type==="cartesian2d")return{baseAxis:n,otherAxis:t.getOtherAxis(n)}}function wV(e,t,r,n,i,s,a,o){var l,c;s?(c={x:n.x,width:n.width},l={y:n.y,height:n.height}):(c={y:n.y,height:n.height},l={x:n.x,width:n.width}),o||(a?wr:Sn)(r,{shape:l},t,i,null);var d=t?e.baseAxis.model:null;(a?wr:Sn)(r,{shape:c},d,i)}function SV(e,t){for(var r=0;r<t.length;r++)if(!isFinite(e[t[r]]))return!0;return!1}var BIe=["x","y","width","height"],FIe=["cx","cy","r","startAngle","endAngle"],CV={cartesian2d:function(e){return!SV(e,BIe)},polar:function(e){return!SV(e,FIe)}},gS={cartesian2d:function(e,t,r){var n=e.getItemLayout(t),i=r?UIe(r,n):0,s=n.width>0?1:-1,a=n.height>0?1:-1;return{x:n.x+s*i/2,y:n.y+a*i/2,width:n.width-s*i,height:n.height-a*i}},polar:function(e,t,r){var n=e.getItemLayout(t);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function zIe(e){return e.startAngle!=null&&e.endAngle!=null&&e.startAngle===e.endAngle}function Sie(e){return function(t){var r=t?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+r;default:return n}}}(e)}function kV(e,t,r,n,i,s,a,o){var l=t.getItemVisual(r,"style");if(o){if(!s.get("roundCap")){var d=e.shape,h=Tf(n.getModel("itemStyle"),d,!0);fe(d,h),e.setShape(d)}}else{var c=n.get(["itemStyle","borderRadius"])||0;e.setShape("r",c)}e.useStyle(l);var f=n.getShallow("cursor");f&&e.attr("cursor",f);var p=o?a?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":a?i.height>=0?"bottom":"top":i.width>=0?"right":"left",g=ki(n);Yi(e,g,{labelFetcher:s,labelDataIndex:r,defaultText:ev(s.getData(),r),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:p});var v=e.getTextContent();if(o&&v){var m=n.get(["label","position"]);e.textConfig.inside=m==="middle"?!0:null,LIe(e,m==="outside"?p:m,Sie(a),n.get(["label","rotate"]))}Ute(v,g,s.getRawValue(r),function(x){return pie(t,x)});var y=n.getModel(["emphasis"]);Dn(e,y.get("focus"),y.get("blurScope"),y.get("disabled")),qi(e,n),zIe(i)&&(e.style.fill="none",e.style.stroke="none",V(e.states,function(x){x.style&&(x.style.fill=x.style.stroke="none")}))}function UIe(e,t){var r=e.get(["itemStyle","borderColor"]);if(!r||r==="none")return 0;var n=e.get(["itemStyle","borderWidth"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),s=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(n,i,s)}var HIe=function(){function e(){}return e}(),EV=function(e){le(t,e);function t(r){var n=e.call(this,r)||this;return n.type="largeBar",n}return t.prototype.getDefaultShape=function(){return new HIe},t.prototype.buildPath=function(r,n){for(var i=n.points,s=this.baseDimIdx,a=1-this.baseDimIdx,o=[],l=[],c=this.barWidth,d=0;d<i.length;d+=3)l[s]=c,l[a]=i[d+2],o[s]=i[d+s],o[a]=i[d+a],r.rect(o[0],o[1],l[0],l[1])},t}(Vt);function TV(e,t,r,n){var i=e.getData(),s=i.getLayout("valueAxisHorizontal")?1:0,a=i.getLayout("largeDataIndices"),o=i.getLayout("size"),l=e.getModel("backgroundStyle"),c=i.getLayout("largeBackgroundPoints");if(c){var d=new EV({shape:{points:c},incremental:!!n,silent:!0,z2:0});d.baseDimIdx=s,d.largeDataIndices=a,d.barWidth=o,d.useStyle(l.getItemStyle()),t.add(d),r&&r.push(d)}var h=new EV({shape:{points:i.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=s,h.largeDataIndices=a,h.barWidth=o,t.add(h),h.useStyle(i.getVisual("style")),h.style.stroke=null,ft(h).seriesIndex=e.seriesIndex,e.get("silent")||(h.on("mousedown",NV),h.on("mousemove",NV)),r&&r.push(h)}var NV=$5(function(e){var t=this,r=VIe(t,e.offsetX,e.offsetY);ft(t).dataIndex=r>=0?r:null},30,!1);function VIe(e,t,r){for(var n=e.baseDimIdx,i=1-n,s=e.shape.points,a=e.largeDataIndices,o=[],l=[],c=e.barWidth,d=0,h=s.length/3;d<h;d++){var f=d*3;if(l[n]=c,l[i]=s[f+2],o[n]=s[f+n],o[i]=s[f+i],l[i]<0&&(o[i]+=l[i],l[i]=-l[i]),t>=o[0]&&t<=o[0]+l[0]&&r>=o[1]&&r<=o[1]+l[1])return a[d]}return-1}function Cie(e,t,r){if(Ip(r,"cartesian2d")){var n=t,i=r.getArea();return{x:e?n.x:i.x,y:e?i.y:n.y,width:e?n.width:i.width,height:e?i.height:n.height}}else{var i=r.getArea(),s=t;return{cx:i.cx,cy:i.cy,r0:e?i.r0:s.r0,r:e?i.r:s.r,startAngle:e?s.startAngle:0,endAngle:e?s.endAngle:Math.PI*2}}}function WIe(e,t,r){var n=e.type==="polar"?Bs:lr;return new n({shape:Cie(t,r,e),silent:!0,z2:0})}function GIe(e){e.registerChartView(OIe),e.registerSeriesModel(IIe),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,xt(Ane,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,jne("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,wie("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,r){var n=t.componentType||"series";r.eachComponent({mainType:n,query:t},function(i){t.sortInfo&&i.axis.setCategorySortInfo(t.sortInfo)})})}var AV=Math.PI*2,mS=Math.PI/180;function kie(e,t){return pi(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Eie(e,t){var r=kie(e,t),n=e.get("center"),i=e.get("radius");ve(i)||(i=[0,i]);var s=Ne(r.width,t.getWidth()),a=Ne(r.height,t.getHeight()),o=Math.min(s,a),l=Ne(i[0],o/2),c=Ne(i[1],o/2),d,h,f=e.coordinateSystem;if(f){var p=f.dataToPoint(n);d=p[0]||0,h=p[1]||0}else ve(n)||(n=[n,n]),d=Ne(n[0],s)+r.x,h=Ne(n[1],a)+r.y;return{cx:d,cy:h,r0:l,r:c}}function qIe(e,t,r){t.eachSeriesByType(e,function(n){var i=n.getData(),s=i.mapDimension("value"),a=kie(n,r),o=Eie(n,r),l=o.cx,c=o.cy,d=o.r,h=o.r0,f=-n.get("startAngle")*mS,p=n.get("endAngle"),g=n.get("padAngle")*mS;p=p==="auto"?f-AV:-p*mS;var v=n.get("minAngle")*mS,m=v+g,y=0;i.each(s,function(O){!isNaN(O)&&y++});var x=i.getSum(s),_=Math.PI/(x||y)*2,b=n.get("clockwise"),w=n.get("roseType"),S=n.get("stillShowZeroSum"),k=i.getDataExtent(s);k[0]=0;var C=b?1:-1,E=[f,p],T=C*g/2;f5(E,!b),f=E[0],p=E[1];var N=Tie(n);N.startAngle=f,N.endAngle=p,N.clockwise=b;var R=Math.abs(p-f),P=R,D=0,$=f;if(i.setLayout({viewRect:a,r:d}),i.each(s,function(O,j){var M;if(isNaN(O)){i.setItemLayout(j,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:b,cx:l,cy:c,r0:h,r:w?NaN:d});return}w!=="area"?M=x===0&&S?_:O*_:M=R/y,M<m?(M=m,P-=m):D+=O;var I=$+C*M,z=0,U=0;g>M?(z=$+C*M/2,U=z):(z=$+T,U=I-T),i.setItemLayout(j,{angle:M,startAngle:z,endAngle:U,clockwise:b,cx:l,cy:c,r0:h,r:w?Pr(O,k,[h,d]):d}),$=I}),P<AV&&y)if(P<=.001){var L=R/y;i.each(s,function(O,j){if(!isNaN(O)){var M=i.getItemLayout(j);M.angle=L;var I=0,z=0;L<g?(I=f+C*(j+1/2)*L,z=I):(I=f+C*j*L+T,z=f+C*(j+1)*L-T),M.startAngle=I,M.endAngle=z}})}else _=P/D,$=f,i.each(s,function(O,j){if(!isNaN(O)){var M=i.getItemLayout(j),I=M.angle===m?m:O*_,z=0,U=0;I<g?(z=$+C*I/2,U=z):(z=$+T,U=$+C*I-T),M.startAngle=z,M.endAngle=U,$+=C*I}})})}var Tie=cr();function lw(e){return{seriesType:e,reset:function(t,r){var n=r.findComponents({mainType:"legend"});if(!(!n||!n.length)){var i=t.getData();i.filterSelf(function(s){for(var a=i.getName(s),o=0;o<n.length;o++)if(!n[o].isSelected(a))return!1;return!0})}}}}var YIe=Math.PI/180;function jV(e,t,r,n,i,s,a,o,l,c){if(e.length<2)return;function d(v){for(var m=v.rB,y=m*m,x=0;x<v.list.length;x++){var _=v.list[x],b=Math.abs(_.label.y-r),w=n+_.len,S=w*w,k=Math.sqrt(Math.abs((1-b*b/y)*S)),C=t+(k+_.len2)*i,E=C-_.label.x,T=_.targetTextWidth-E*i;Nie(_,T,!0),_.label.x=C}}function h(v){for(var m={list:[],maxY:0},y={list:[],maxY:0},x=0;x<v.length;x++)if(v[x].labelAlignTo==="none"){var _=v[x],b=_.label.y>r?y:m,w=Math.abs(_.label.y-r);if(w>=b.maxY){var S=_.label.x-t-_.len2*i,k=n+_.len,C=Math.abs(S)<k?Math.sqrt(w*w/(1-S*S/k/k)):k;b.rB=C,b.maxY=w}b.list.push(_)}d(m),d(y)}for(var f=e.length,p=0;p<f;p++)if(e[p].position==="outer"&&e[p].labelAlignTo==="labelLine"){var g=e[p].label.x-c;e[p].linePoints[1][0]+=g,e[p].label.x=c}Xne(e,l,l+a)&&h(e)}function KIe(e,t,r,n,i,s,a,o){for(var l=[],c=[],d=Number.MAX_VALUE,h=-Number.MAX_VALUE,f=0;f<e.length;f++){var p=e[f].label;qj(e[f])||(p.x<t?(d=Math.min(d,p.x),l.push(e[f])):(h=Math.max(h,p.x),c.push(e[f])))}for(var f=0;f<e.length;f++){var g=e[f];if(!qj(g)&&g.linePoints){if(g.labelStyleWidth!=null)continue;var p=g.label,v=g.linePoints,m=void 0;g.labelAlignTo==="edge"?p.x<t?m=v[2][0]-g.labelDistance-a-g.edgeDistance:m=a+i-g.edgeDistance-v[2][0]-g.labelDistance:g.labelAlignTo==="labelLine"?p.x<t?m=d-a-g.bleedMargin:m=a+i-h-g.bleedMargin:p.x<t?m=p.x-a-g.bleedMargin:m=a+i-p.x-g.bleedMargin,g.targetTextWidth=m,Nie(g,m)}}jV(c,t,r,n,1,i,s,a,o,h),jV(l,t,r,n,-1,i,s,a,o,d);for(var f=0;f<e.length;f++){var g=e[f];if(!qj(g)&&g.linePoints){var p=g.label,v=g.linePoints,y=g.labelAlignTo==="edge",x=p.style.padding,_=x?x[1]+x[3]:0,b=p.style.backgroundColor?0:_,w=g.rect.width+b,S=v[1][0]-v[2][0];y?p.x<t?v[2][0]=a+g.edgeDistance+w+g.labelDistance:v[2][0]=a+i-g.edgeDistance-w-g.labelDistance:(p.x<t?v[2][0]=p.x+g.labelDistance:v[2][0]=p.x-g.labelDistance,v[1][0]=v[2][0]+S),v[1][1]=v[2][1]=p.y}}}function Nie(e,t,r){if(r===void 0&&(r=!1),e.labelStyleWidth==null){var n=e.label,i=n.style,s=e.rect,a=i.backgroundColor,o=i.padding,l=o?o[1]+o[3]:0,c=i.overflow,d=s.width+(a?0:l);if(t<d||r){var h=s.height;if(c&&c.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",t-l);var f=n.getBoundingRect();n.setStyle("width",Math.ceil(f.width)),n.setStyle("backgroundColor",a)}else{var p=t-l,g=t<d?p:r?p>e.unconstrainedWidth?null:p:null;n.setStyle("width",g)}var v=n.getBoundingRect();s.width=v.width;var m=(n.style.margin||0)+2.1;s.height=v.height+m,s.y-=(s.height-h)/2}}}function qj(e){return e.position==="center"}function ZIe(e){var t=e.getData(),r=[],n,i,s=!1,a=(e.get("minShowLabelAngle")||0)*YIe,o=t.getLayout("viewRect"),l=t.getLayout("r"),c=o.width,d=o.x,h=o.y,f=o.height;function p(S){S.ignore=!0}function g(S){if(!S.ignore)return!0;for(var k in S.states)if(S.states[k].ignore===!1)return!0;return!1}t.each(function(S){var k=t.getItemGraphicEl(S),C=k.shape,E=k.getTextContent(),T=k.getTextGuideLine(),N=t.getItemModel(S),R=N.getModel("label"),P=R.get("position")||N.get(["emphasis","label","position"]),D=R.get("distanceToLabelLine"),$=R.get("alignTo"),L=Ne(R.get("edgeDistance"),c),O=R.get("bleedMargin"),j=N.getModel("labelLine"),M=j.get("length");M=Ne(M,c);var I=j.get("length2");if(I=Ne(I,c),Math.abs(C.endAngle-C.startAngle)<a){V(E.states,p),E.ignore=!0,T&&(V(T.states,p),T.ignore=!0);return}if(g(E)){var z=(C.startAngle+C.endAngle)/2,U=Math.cos(z),F=Math.sin(z),G,Y,Z,B;n=C.cx,i=C.cy;var W=P==="inside"||P==="inner";if(P==="center")G=C.cx,Y=C.cy,B="center";else{var K=(W?(C.r+C.r0)/2*U:C.r*U)+n,X=(W?(C.r+C.r0)/2*F:C.r*F)+i;if(G=K+U*3,Y=X+F*3,!W){var Q=K+U*(M+l-C.r),re=X+F*(M+l-C.r),Se=Q+(U<0?-1:1)*I,Te=re;$==="edge"?G=U<0?d+L:d+c-L:G=Se+(U<0?-D:D),Y=Te,Z=[[K,X],[Q,re],[Se,Te]]}B=W?"center":$==="edge"?U>0?"right":"left":U>0?"left":"right"}var Ie=Math.PI,Me=0,Ee=R.get("rotate");if(xr(Ee))Me=Ee*(Ie/180);else if(P==="center")Me=0;else if(Ee==="radial"||Ee===!0){var Ae=U<0?-z+Ie:-z;Me=Ae}else if(Ee==="tangential"&&P!=="outside"&&P!=="outer"){var Lt=Math.atan2(U,F);Lt<0&&(Lt=Ie*2+Lt);var zt=F>0;zt&&(Lt=Ie+Lt),Me=Lt-Ie}if(s=!!Me,E.x=G,E.y=Y,E.rotation=Me,E.setStyle({verticalAlign:"middle"}),W){E.setStyle({align:B});var Oe=E.states.select;Oe&&(Oe.x+=E.x,Oe.y+=E.y)}else{var ge=E.getBoundingRect().clone();ge.applyTransform(E.getComputedTransform());var Ze=(E.style.margin||0)+2.1;ge.y-=Ze/2,ge.height+=Ze,r.push({label:E,labelLine:T,position:P,len:M,len2:I,minTurnAngle:j.get("minTurnAngle"),maxSurfaceAngle:j.get("maxSurfaceAngle"),surfaceNormal:new kt(U,F),linePoints:Z,textAlign:B,labelDistance:D,labelAlignTo:$,edgeDistance:L,bleedMargin:O,rect:ge,unconstrainedWidth:ge.width,labelStyleWidth:E.style.width})}k.setTextConfig({inside:W})}}),!s&&e.get("avoidLabelOverlap")&&KIe(r,n,i,l,c,f,d,h);for(var v=0;v<r.length;v++){var m=r[v],y=m.label,x=m.labelLine,_=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:m.textAlign}),_&&(V(y.states,p),y.ignore=!0);var b=y.states.select;b&&(b.x+=y.x,b.y+=y.y)}if(x){var w=m.linePoints;_||!w?(V(x.states,p),x.ignore=!0):(Yne(w,m.minTurnAngle),xRe(w,m.surfaceNormal,m.maxSurfaceAngle),x.setShape({points:w}),y.__hostTarget.textGuideLineConfig={anchor:new kt(w[0][0],w[0][1])})}}}var XIe=function(e){le(t,e);function t(r,n,i){var s=e.call(this)||this;s.z2=2;var a=new pr;return s.setTextContent(a),s.updateData(r,n,i,!0),s}return t.prototype.updateData=function(r,n,i,s){var a=this,o=r.hostModel,l=r.getItemModel(n),c=l.getModel("emphasis"),d=r.getItemLayout(n),h=fe(Tf(l.getModel("itemStyle"),d,!0),d);if(isNaN(h.startAngle)){a.setShape(h);return}if(s){a.setShape(h);var f=o.getShallow("animationType");o.ecModel.ssr?(Sn(a,{scaleX:0,scaleY:0},o,{dataIndex:n,isFrom:!0}),a.originX=h.cx,a.originY=h.cy):f==="scale"?(a.shape.r=d.r0,Sn(a,{shape:{r:d.r}},o,n)):i!=null?(a.setShape({startAngle:i,endAngle:i}),Sn(a,{shape:{startAngle:d.startAngle,endAngle:d.endAngle}},o,n)):(a.shape.endAngle=d.startAngle,wr(a,{shape:{endAngle:d.endAngle}},o,n))}else rl(a),wr(a,{shape:h},o,n);a.useStyle(r.getItemVisual(n,"style")),qi(a,l);var p=(d.startAngle+d.endAngle)/2,g=o.get("selectedOffset"),v=Math.cos(p)*g,m=Math.sin(p)*g,y=l.getShallow("cursor");y&&a.attr("cursor",y),this._updateLabel(o,r,n),a.ensureState("emphasis").shape=fe({r:d.r+(c.get("scale")&&c.get("scaleSize")||0)},Tf(c.getModel("itemStyle"),d)),fe(a.ensureState("select"),{x:v,y:m,shape:Tf(l.getModel(["select","itemStyle"]),d)}),fe(a.ensureState("blur"),{shape:Tf(l.getModel(["blur","itemStyle"]),d)});var x=a.getTextGuideLine(),_=a.getTextContent();x&&fe(x.ensureState("select"),{x:v,y:m}),fe(_.ensureState("select"),{x:v,y:m}),Dn(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},t.prototype._updateLabel=function(r,n,i){var s=this,a=n.getItemModel(i),o=a.getModel("labelLine"),l=n.getItemVisual(i,"style"),c=l&&l.fill,d=l&&l.opacity;Yi(s,ki(a),{labelFetcher:n.hostModel,labelDataIndex:i,inheritColor:c,defaultOpacity:d,defaultText:r.getFormattedLabel(i,"normal")||n.getName(i)});var h=s.getTextContent();s.setTextConfig({position:null,rotation:null}),h.attr({z2:10});var f=r.get(["label","position"]);if(f!=="outside"&&f!=="outer")s.removeTextGuideLine();else{var p=this.getTextGuideLine();p||(p=new Vs,this.setTextGuideLine(p)),X5(this,J5(a),{stroke:c,opacity:Zl(o.get(["lineStyle","opacity"]),d,1)})}},t}(Bs),JIe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return t.prototype.render=function(r,n,i,s){var a=r.getData(),o=this._data,l=this.group,c;if(!o&&a.count()>0){for(var d=a.getItemLayout(0),h=1;isNaN(d&&d.startAngle)&&h<a.count();++h)d=a.getItemLayout(h);d&&(c=d.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),a.count()===0&&r.get("showEmptyCircle")){var f=Tie(r),p=new Bs({shape:fe(Eie(r,i),f)});p.useStyle(r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=p,l.add(p)}a.diff(o).add(function(g){var v=new XIe(a,g,c);a.setItemGraphicEl(g,v),l.add(v)}).update(function(g,v){var m=o.getItemGraphicEl(v);m.updateData(a,g,c),m.off("click"),l.add(m),a.setItemGraphicEl(g,m)}).remove(function(g){var v=o.getItemGraphicEl(g);D_(v,r,g)}).execute(),ZIe(r),r.get("animationTypeUpdate")!=="expansion"&&(this._data=a)},t.prototype.dispose=function(){},t.prototype.containPoint=function(r,n){var i=n.getData(),s=i.getItemLayout(0);if(s){var a=r[0]-s.cx,o=r[1]-s.cy,l=Math.sqrt(a*a+o*o);return l<=s.r&&l>=s.r0}},t.type="pie",t}(nn);function qv(e,t,r){t=ve(t)&&{coordDimensions:t}||fe({encodeDefine:e.getEncode()},t);var n=e.getSource(),i=rw(n,t).dimensions,s=new Ls(i,e);return s.initData(n,r),s}var cw=function(){function e(t,r){this._getDataWithEncodedVisual=t,this._getRawData=r}return e.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},e.prototype.containName=function(t){var r=this._getRawData();return r.indexOfName(t)>=0},e.prototype.indexOfName=function(t){var r=this._getDataWithEncodedVisual();return r.indexOfName(t)},e.prototype.getItemVisual=function(t,r){var n=this._getDataWithEncodedVisual();return n.getItemVisual(t,r)},e}(),QIe=cr(),eMe=function(e){le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new cw(He(this.getData,this),He(this.getRawData,this)),this._defaultLabelLine(r)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return qv(this,{coordDimensions:["value"],encodeDefaulter:xt(j5,this)})},t.prototype.getDataParams=function(r){var n=this.getData(),i=QIe(n),s=i.seats;if(!s){var a=[];n.each(n.mapDimension("value"),function(l){a.push(l)}),s=i.seats=Wke(a,n.hostModel.get("percentPrecision"))}var o=e.prototype.getDataParams.call(this,r);return o.percent=s[r]||0,o.$vars.push("percent"),o},t.prototype._defaultLabelLine=function(r){np(r,"labelLine",["show"]);var n=r.labelLine,i=r.emphasis.labelLine;n.show=n.show&&r.label.show,i.show=i.show&&r.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(fn);function tMe(e){return{seriesType:e,reset:function(t,r){var n=t.getData();n.filterSelf(function(i){var s=n.mapDimension("value"),a=n.get(s,i);return!(xr(a)&&!isNaN(a)&&a<0)})}}}function rMe(e){e.registerChartView(JIe),e.registerSeriesModel(eMe),Yre("pie",e.registerAction),e.registerLayout(xt(qIe,"pie")),e.registerProcessor(lw("pie")),e.registerProcessor(tMe("pie"))}var nMe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.getInitialData=function(r,n){return Su(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var r=this.option.progressive;return r??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(r,n,i){return i.point(n.getItemLayout(r))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(fn),Aie=4,iMe=function(){function e(){}return e}(),sMe=function(e){le(t,e);function t(r){var n=e.call(this,r)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.getDefaultShape=function(){return new iMe},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(r,n){var i=n.points,s=n.size,a=this.symbolProxy,o=a.shape,l=r.getContext?r.getContext():r,c=l&&s[0]<Aie,d=this.softClipShape,h;if(c){this._ctx=l;return}for(this._ctx=null,h=this._off;h<i.length;){var f=i[h++],p=i[h++];isNaN(f)||isNaN(p)||d&&!d.contain(f,p)||(o.x=f-s[0]/2,o.y=p-s[1]/2,o.width=s[0],o.height=s[1],a.buildPath(r,o,!0))}this.incremental&&(this._off=h,this.notClear=!0)},t.prototype.afterBrush=function(){var r=this.shape,n=r.points,i=r.size,s=this._ctx,a=this.softClipShape,o;if(s){for(o=this._off;o<n.length;){var l=n[o++],c=n[o++];isNaN(l)||isNaN(c)||a&&!a.contain(l,c)||s.fillRect(l-i[0]/2,c-i[1]/2,i[0],i[1])}this.incremental&&(this._off=o,this.notClear=!0)}},t.prototype.findDataIndex=function(r,n){for(var i=this.shape,s=i.points,a=i.size,o=Math.max(a[0],4),l=Math.max(a[1],4),c=s.length/2-1;c>=0;c--){var d=c*2,h=s[d]-o/2,f=s[d+1]-l/2;if(r>=h&&n>=f&&r<=h+o&&n<=f+l)return c}return-1},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),s=this.getBoundingRect();if(r=i[0],n=i[1],s.contain(r,n)){var a=this.hoverDataIdx=this.findDataIndex(r,n);return a>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var n=this.shape,i=n.points,s=n.size,a=s[0],o=s[1],l=1/0,c=1/0,d=-1/0,h=-1/0,f=0;f<i.length;){var p=i[f++],g=i[f++];l=Math.min(p,l),d=Math.max(p,d),c=Math.min(g,c),h=Math.max(g,h)}r=this._rect=new At(l-a/2,c-o/2,d-l+a,h-c+o)}return r},t}(Vt),aMe=function(){function e(){this.group=new ht}return e.prototype.updateData=function(t,r){this._clear();var n=this._create();n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,r)},e.prototype.updateLayout=function(t){var r=t.getLayout("points");this.group.eachChild(function(n){if(n.startIndex!=null){var i=(n.endIndex-n.startIndex)*2,s=n.startIndex*4*2;r=new Float32Array(r.buffer,s,i)}n.setShape("points",r),n.reset()})},e.prototype.incrementalPrepareUpdate=function(t){this._clear()},e.prototype.incrementalUpdate=function(t,r,n){var i=this._newAdded[0],s=r.getLayout("points"),a=i&&i.shape.points;if(a&&a.length<2e4){var o=a.length,l=new Float32Array(o+s.length);l.set(a),l.set(s,o),i.endIndex=t.end,i.setShape({points:l})}else{this._newAdded=[];var c=this._create();c.startIndex=t.start,c.endIndex=t.end,c.incremental=!0,c.setShape({points:s}),this._setCommon(c,r,n)}},e.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},e.prototype._create=function(){var t=new sMe({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},e.prototype._setCommon=function(t,r,n){var i=r.hostModel;n=n||{};var s=r.getVisual("symbolSize");t.setShape("size",s instanceof Array?s:[s,s]),t.softClipShape=n.clipShape||null,t.symbolProxy=ai(r.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var a=t.shape.size[0]<Aie;t.useStyle(i.getModel("itemStyle").getItemStyle(a?["color","shadowBlur","shadowColor"]:["color"]));var o=r.getVisual("style"),l=o&&o.fill;l&&t.setColor(l);var c=ft(t);c.seriesIndex=i.seriesIndex,t.on("mousemove",function(d){c.dataIndex=null;var h=t.hoverDataIdx;h>=0&&(c.dataIndex=h+(t.startIndex||0))})},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),oMe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var s=r.getData(),a=this._updateSymbolDraw(s,r);a.updateData(s,{clipShape:this._getClipShape(r)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(r,n,i){var s=r.getData(),a=this._updateSymbolDraw(s,r);a.incrementalPrepareUpdate(s),this._finished=!1},t.prototype.incrementalRender=function(r,n,i){this._symbolDraw.incrementalUpdate(r,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=r.end===n.getData().count()},t.prototype.updateTransform=function(r,n,i){var s=r.getData();if(this.group.dirty(),!this._finished||s.count()>1e4)return{update:!0};var a=ow("").reset(r,n,i);a.progress&&a.progress({start:0,end:s.count(),count:s.count()},s),this._symbolDraw.updateLayout(s)},t.prototype.eachRendered=function(r){this._symbolDraw&&this._symbolDraw.eachRendered(r)},t.prototype._getClipShape=function(r){if(r.get("clip",!0)){var n=r.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},t.prototype._updateSymbolDraw=function(r,n){var i=this._symbolDraw,s=n.pipelineContext,a=s.large;return(!i||a!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=a?new aMe:new sw,this._isLargeDraw=a,this.group.removeAll()),this.group.add(i.group),i},t.prototype.remove=function(r,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(nn),lMe=function(e){le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(Kt),SL=function(e){le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",ii).models[0]},t.type="cartesian2dAxis",t}(Kt);oi(SL,nw);var jie={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},cMe=Ct({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},jie),s4=Ct({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},jie),uMe=Ct({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},s4),dMe=rt({logBase:10},s4);const Rie={category:cMe,value:s4,time:uMe,log:dMe};var hMe={value:1,category:1,time:1,log:1};function tv(e,t,r,n){V(hMe,function(i,s){var a=Ct(Ct({},Rie[s],!0),n,!0),o=function(l){le(c,l);function c(){var d=l!==null&&l.apply(this,arguments)||this;return d.type=t+"Axis."+s,d}return c.prototype.mergeDefaultAndTheme=function(d,h){var f=$_(this),p=f?zv(d):{},g=h.getTheme();Ct(d,g.get(s+"Axis")),Ct(d,this.getDefaultOption()),d.type=RV(d),f&&Gd(d,p,f)},c.prototype.optionUpdated=function(){var d=this.option;d.type==="category"&&(this.__ordinalMeta=mL.createByAxisModel(this))},c.prototype.getCategories=function(d){var h=this.option;if(h.type==="category")return d?h.data:this.__ordinalMeta.categories},c.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},c.type=t+"Axis."+s,c.defaultOption=a,c}(r);e.registerComponentModel(o)}),e.registerSubTypeDefaulter(t+"Axis",RV)}function RV(e){return e.type||(e.data?"category":"value")}var fMe=function(){function e(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return e.prototype.getAxis=function(t){return this._axes[t]},e.prototype.getAxes=function(){return xe(this._dimList,function(t){return this._axes[t]},this)},e.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Rr(this.getAxes(),function(r){return r.scale.type===t})},e.prototype.addAxis=function(t){var r=t.dim;this._axes[r]=t,this._dimList.push(r)},e}(),CL=["x","y"];function IV(e){return e.type==="interval"||e.type==="time"}var pMe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=CL,r}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!IV(r)||!IV(n))){var i=r.getExtent(),s=n.getExtent(),a=this.dataToPoint([i[0],s[0]]),o=this.dataToPoint([i[1],s[1]]),l=i[1]-i[0],c=s[1]-s[0];if(!(!l||!c)){var d=(o[0]-a[0])/l,h=(o[1]-a[1])/c,f=a[0]-i[0]*d,p=a[1]-s[0]*h,g=this._transform=[d,0,0,h,f,p];this._invTransform=Pv([],g)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(r){var n=this.getAxis("x"),i=this.getAxis("y");return n.contain(n.toLocalCoord(r[0]))&&i.contain(i.toLocalCoord(r[1]))},t.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},t.prototype.containZone=function(r,n){var i=this.dataToPoint(r),s=this.dataToPoint(n),a=this.getArea(),o=new At(i[0],i[1],s[0]-i[0],s[1]-i[1]);return a.intersect(o)},t.prototype.dataToPoint=function(r,n,i){i=i||[];var s=r[0],a=r[1];if(this._transform&&s!=null&&isFinite(s)&&a!=null&&isFinite(a))return Vi(i,r,this._transform);var o=this.getAxis("x"),l=this.getAxis("y");return i[0]=o.toGlobalCoord(o.dataToCoord(s,n)),i[1]=l.toGlobalCoord(l.dataToCoord(a,n)),i},t.prototype.clampData=function(r,n){var i=this.getAxis("x").scale,s=this.getAxis("y").scale,a=i.getExtent(),o=s.getExtent(),l=i.parse(r[0]),c=s.parse(r[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(a[0],a[1]),l),Math.max(a[0],a[1])),n[1]=Math.min(Math.max(Math.min(o[0],o[1]),c),Math.max(o[0],o[1])),n},t.prototype.pointToData=function(r,n){var i=[];if(this._invTransform)return Vi(i,r,this._invTransform);var s=this.getAxis("x"),a=this.getAxis("y");return i[0]=s.coordToData(s.toLocalCoord(r[0]),n),i[1]=a.coordToData(a.toLocalCoord(r[1]),n),i},t.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},t.prototype.getArea=function(r){r=r||0;var n=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),s=Math.min(n[0],n[1])-r,a=Math.min(i[0],i[1])-r,o=Math.max(n[0],n[1])-s+r,l=Math.max(i[0],i[1])-a+r;return new At(s,a,o,l)},t}(fMe),gMe=function(e){le(t,e);function t(r,n,i,s,a){var o=e.call(this,r,n,i)||this;return o.index=0,o.type=s||"value",o.position=a||"bottom",o}return t.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},t.prototype.getGlobalExtent=function(r){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),r&&n[0]>n[1]&&n.reverse(),n},t.prototype.pointToData=function(r,n){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),n)},t.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},t}(ul);function kL(e,t,r){r=r||{};var n=e.coordinateSystem,i=t.axis,s={},a=i.getAxesOnZeroOf()[0],o=i.position,l=a?"onZero":o,c=i.dim,d=n.getRect(),h=[d.x,d.x+d.width,d.y,d.y+d.height],f={left:0,right:1,top:0,bottom:1,onZero:2},p=t.get("offset")||0,g=c==="x"?[h[2]-p,h[3]+p]:[h[0]-p,h[1]+p];if(a){var v=a.toGlobalCoord(a.dataToCoord(0));g[f.onZero]=Math.max(Math.min(v,g[1]),g[0])}s.position=[c==="y"?g[f[l]]:h[0],c==="x"?g[f[l]]:h[3]],s.rotation=Math.PI/2*(c==="x"?0:1);var m={top:-1,bottom:1,left:-1,right:1};s.labelDirection=s.tickDirection=s.nameDirection=m[o],s.labelOffset=a?g[f[o]]-g[f.onZero]:0,t.get(["axisTick","inside"])&&(s.tickDirection=-s.tickDirection),Mi(r.labelInside,t.get(["axisLabel","inside"]))&&(s.labelDirection=-s.labelDirection);var y=t.get(["axisLabel","rotate"]);return s.labelRotate=l==="top"?-y:y,s.z2=1,s}function MV(e){return e.get("coordinateSystem")==="cartesian2d"}function PV(e){var t={xAxisModel:null,yAxisModel:null};return V(t,function(r,n){var i=n.replace(/Model$/,""),s=e.getReferringComponents(i,ii).models[0];t[n]=s}),t}var Yj=Math.log;function Iie(e,t,r){var n=du.prototype,i=n.getTicks.call(r),s=n.getTicks.call(r,!0),a=i.length-1,o=n.getInterval.call(r),l=Lne(e,t),c=l.extent,d=l.fixMin,h=l.fixMax;if(e.type==="log"){var f=Yj(e.base);c=[Yj(c[0])/f,Yj(c[1])/f]}e.setExtent(c[0],c[1]),e.calcNiceExtent({splitNumber:a,fixMin:d,fixMax:h});var p=n.getExtent.call(e);d&&(c[0]=p[0]),h&&(c[1]=p[1]);var g=n.getInterval.call(e),v=c[0],m=c[1];if(d&&h)g=(m-v)/a;else if(d)for(m=c[0]+g*a;m<c[1]&&isFinite(m)&&isFinite(c[1]);)g=Mj(g),m=c[0]+g*a;else if(h)for(v=c[1]-g*a;v>c[0]&&isFinite(v)&&isFinite(c[0]);)g=Mj(g),v=c[1]-g*a;else{var y=e.getTicks().length-1;y>a&&(g=Mj(g));var x=g*a;m=Math.ceil(c[1]/g)*g,v=Gn(m-x),v<0&&c[0]>=0?(v=0,m=Gn(x)):m>0&&c[1]<=0&&(m=0,v=-Gn(x))}var _=(i[0].value-s[0].value)/o,b=(i[a].value-s[a].value)/o;n.setExtent.call(e,v+g*_,m+g*b),n.setInterval.call(e,g),(_||b)&&n.setNiceExtent.call(e,v+g,m-g)}var mMe=function(){function e(t,r,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=CL,this._initCartesian(t,r,n),this.model=t}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(t,r){var n=this._axesMap;this._updateScale(t,this.model);function i(a){var o,l=Zt(a),c=l.length;if(c){for(var d=[],h=c-1;h>=0;h--){var f=+l[h],p=a[f],g=p.model,v=p.scale;vL(v)&&g.get("alignTicks")&&g.get("interval")==null?d.push(p):(Qm(v,g),vL(v)&&(o=p))}d.length&&(o||(o=d.pop(),Qm(o.scale,o.model)),V(d,function(m){Iie(m.scale,m.model,o.scale)}))}}i(n.x),i(n.y);var s={};V(n.x,function(a){LV(n,"y",a,s)}),V(n.y,function(a){LV(n,"x",a,s)}),this.resize(this.model,r)},e.prototype.resize=function(t,r,n){var i=t.getBoxLayoutParams(),s=!n&&t.get("containLabel"),a=pi(i,{width:r.getWidth(),height:r.getHeight()});this._rect=a;var o=this._axesList;l(),s&&(V(o,function(c){if(!c.model.get(["axisLabel","inside"])){var d=Zje(c);if(d){var h=c.isHorizontal()?"height":"width",f=c.model.get(["axisLabel","margin"]);a[h]-=d[h]+f,c.position==="top"?a.y+=d.height+f:c.position==="left"&&(a.x+=d.width+f)}}}),l()),V(this._coordsList,function(c){c.calcAffineTransform()});function l(){V(o,function(c){var d=c.isHorizontal(),h=d?[0,a.width]:[0,a.height],f=c.inverse?1:0;c.setExtent(h[f],h[1-f]),vMe(c,d?a.x:a.y)})}},e.prototype.getAxis=function(t,r){var n=this._axesMap[t];if(n!=null)return n[r||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(t,r){if(t!=null&&r!=null){var n="x"+t+"y"+r;return this._coordsMap[n]}st(t)&&(r=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,s=this._coordsList;i<s.length;i++)if(s[i].getAxis("x").index===t||s[i].getAxis("y").index===r)return s[i]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(t,r,n){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},e.prototype.convertFromPixel=function(t,r,n){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},e.prototype._findConvertTarget=function(t){var r=t.seriesModel,n=t.xAxisModel||r&&r.getReferringComponents("xAxis",ii).models[0],i=t.yAxisModel||r&&r.getReferringComponents("yAxis",ii).models[0],s=t.gridModel,a=this._coordsList,o,l;if(r)o=r.coordinateSystem,Pt(a,o)<0&&(o=null);else if(n&&i)o=this.getCartesian(n.componentIndex,i.componentIndex);else if(n)l=this.getAxis("x",n.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(s){var c=s.coordinateSystem;c===this&&(o=this._coordsList[0])}return{cartesian:o,axis:l}},e.prototype.containPoint=function(t){var r=this._coordsList[0];if(r)return r.containPoint(t)},e.prototype._initCartesian=function(t,r,n){var i=this,s=this,a={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},l={x:0,y:0};if(r.eachComponent("xAxis",c("x"),this),r.eachComponent("yAxis",c("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=o,V(o.x,function(d,h){V(o.y,function(f,p){var g="x"+h+"y"+p,v=new pMe(g);v.master=i,v.model=t,i._coordsMap[g]=v,i._coordsList.push(v),v.addAxis(d),v.addAxis(f)})});function c(d){return function(h,f){if(Kj(h,t)){var p=h.get("position");d==="x"?p!=="top"&&p!=="bottom"&&(p=a.bottom?"top":"bottom"):p!=="left"&&p!=="right"&&(p=a.left?"right":"left"),a[p]=!0;var g=new gMe(d,UN(h),[0,0],h.get("type"),p),v=g.type==="category";g.onBand=v&&h.get("boundaryGap"),g.inverse=h.get("inverse"),h.axis=g,g.model=h,g.grid=s,g.index=f,s._axesList.push(g),o[d][f]=g,l[d]++}}}},e.prototype._updateScale=function(t,r){V(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var s=i.model.get("categorySortInfo");i.scale.setSortInfo(s)}}),t.eachSeries(function(i){if(MV(i)){var s=PV(i),a=s.xAxisModel,o=s.yAxisModel;if(!Kj(a,r)||!Kj(o,r))return;var l=this.getCartesian(a.componentIndex,o.componentIndex),c=i.getData(),d=l.getAxis("x"),h=l.getAxis("y");n(c,d),n(c,h)}},this);function n(i,s){V(bE(i,s.dim),function(a){s.scale.unionExtentFromData(i,a)})}},e.prototype.getTooltipAxes=function(t){var r=[],n=[];return V(this.getCartesians(),function(i){var s=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis(),a=i.getOtherAxis(s);Pt(r,s)<0&&r.push(s),Pt(n,a)<0&&n.push(a)}),{baseAxes:r,otherAxes:n}},e.create=function(t,r){var n=[];return t.eachComponent("grid",function(i,s){var a=new e(i,t,r);a.name="grid_"+s,a.resize(i,r,!0),i.coordinateSystem=a,n.push(a)}),t.eachSeries(function(i){if(MV(i)){var s=PV(i),a=s.xAxisModel,o=s.yAxisModel,l=a.getCoordSysModel(),c=l.coordinateSystem;i.coordinateSystem=c.getCartesian(a.componentIndex,o.componentIndex)}}),n},e.dimensions=CL,e}();function Kj(e,t){return e.getCoordSysModel()===t}function LV(e,t,r,n){r.getAxesOnZeroOf=function(){return s?[s]:[]};var i=e[t],s,a=r.model,o=a.get(["axisLine","onZero"]),l=a.get(["axisLine","onZeroAxisIndex"]);if(!o)return;if(l!=null)DV(i[l])&&(s=i[l]);else for(var c in i)if(i.hasOwnProperty(c)&&DV(i[c])&&!n[d(i[c])]){s=i[c];break}s&&(n[d(s)]=!0);function d(h){return h.dim+"_"+h.index}}function DV(e){return e&&e.type!=="category"&&e.type!=="time"&&Kje(e)}function vMe(e,t){var r=e.getExtent(),n=r[0]+r[1];e.toGlobalCoord=e.dim==="x"?function(i){return i+t}:function(i){return n-i+t},e.toLocalCoord=e.dim==="x"?function(i){return i-t}:function(i){return n-i+t}}var vd=Math.PI,Ds=function(){function e(t,r){this.group=new ht,this.opt=r,this.axisModel=t,rt(r,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new ht({x:r.position[0],y:r.position[1],rotation:r.rotation});n.updateTransform(),this._transformGroup=n}return e.prototype.hasBuilder=function(t){return!!OV[t]},e.prototype.add=function(t){OV[t](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(t,r,n){var i=Kee(r-t),s,a;return I_(i)?(a=n>0?"top":"bottom",s="center"):I_(i-vd)?(a=n>0?"bottom":"top",s="center"):(a="middle",i>0&&i<vd?s=n>0?"right":"left":s=n>0?"left":"right"),{rotation:i,textAlign:s,textVerticalAlign:a}},e.makeAxisEventDataBase=function(t){var r={componentType:t.mainType,componentIndex:t.componentIndex};return r[t.mainType+"Index"]=t.componentIndex,r},e.isLabelSilent=function(t){var r=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||r&&r.show)},e}(),OV={axisLine:function(e,t,r,n){var i=t.get(["axisLine","show"]);if(i==="auto"&&e.handleAutoShown&&(i=e.handleAutoShown("axisLine")),!!i){var s=t.axis.getExtent(),a=n.transform,o=[s[0],0],l=[s[1],0],c=o[0]>l[0];a&&(Vi(o,o,a),Vi(l,l,a));var d=fe({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),h=new wi({shape:{x1:o[0],y1:o[1],x2:l[0],y2:l[1]},style:d,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});Zm(h.shape,h.style.lineWidth),h.anid="line",r.add(h);var f=t.get(["axisLine","symbol"]);if(f!=null){var p=t.get(["axisLine","symbolSize"]);De(f)&&(f=[f,f]),(De(p)||xr(p))&&(p=[p,p]);var g=jp(t.get(["axisLine","symbolOffset"])||0,p),v=p[0],m=p[1];V([{rotate:e.rotation+Math.PI/2,offset:g[0],r:0},{rotate:e.rotation-Math.PI/2,offset:g[1],r:Math.sqrt((o[0]-l[0])*(o[0]-l[0])+(o[1]-l[1])*(o[1]-l[1]))}],function(y,x){if(f[x]!=="none"&&f[x]!=null){var _=ai(f[x],-v/2,-m/2,v,m,d.stroke,!0),b=y.r+y.offset,w=c?l:o;_.attr({rotation:y.rotate,x:w[0]+b*Math.cos(e.rotation),y:w[1]-b*Math.sin(e.rotation),silent:!0,z2:11}),r.add(_)}})}}},axisTickLabel:function(e,t,r,n){var i=_Me(r,n,t,e),s=wMe(r,n,t,e);if(xMe(t,s,i),bMe(r,n,t,e.tickDirection),t.get(["axisLabel","hideOverlap"])){var a=Kne(xe(s,function(o){return{label:o,priority:o.z2,defaultAttr:{ignore:o.ignore}}}));Jne(a)}},axisName:function(e,t,r,n){var i=Mi(e.axisName,t.get("name"));if(i){var s=t.get("nameLocation"),a=e.nameDirection,o=t.getModel("nameTextStyle"),l=t.get("nameGap")||0,c=t.axis.getExtent(),d=c[0]>c[1]?-1:1,h=[s==="start"?c[0]-d*l:s==="end"?c[1]+d*l:(c[0]+c[1])/2,BV(s)?e.labelOffset+a*l:0],f,p=t.get("nameRotate");p!=null&&(p=p*vd/180);var g;BV(s)?f=Ds.innerTextLayout(e.rotation,p??e.rotation,a):(f=yMe(e.rotation,s,p||0,c),g=e.axisNameAvailableWidth,g!=null&&(g=Math.abs(g/Math.sin(f.rotation)),!isFinite(g)&&(g=null)));var v=o.getFont(),m=t.get("nameTruncate",!0)||{},y=m.ellipsis,x=Mi(e.nameTruncateMaxWidth,m.maxWidth,g),_=new pr({x:h[0],y:h[1],rotation:f.rotation,silent:Ds.isLabelSilent(t),style:dn(o,{text:i,font:v,overflow:"truncate",width:x,ellipsis:y,fill:o.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:o.get("align")||f.textAlign,verticalAlign:o.get("verticalAlign")||f.textVerticalAlign}),z2:1});if(Np({el:_,componentModel:t,itemName:i}),_.__fullText=i,_.anid="name",t.get("triggerEvent")){var b=Ds.makeAxisEventDataBase(t);b.targetType="axisName",b.name=i,ft(_).eventData=b}n.add(_),_.updateTransform(),r.add(_),_.decomposeTransform()}}};function yMe(e,t,r,n){var i=Kee(r-e),s,a,o=n[0]>n[1],l=t==="start"&&!o||t!=="start"&&o;return I_(i-vd/2)?(a=l?"bottom":"top",s="center"):I_(i-vd*1.5)?(a=l?"top":"bottom",s="center"):(a="middle",i<vd*1.5&&i>vd/2?s=l?"left":"right":s=l?"right":"left"),{rotation:i,textAlign:s,textVerticalAlign:a}}function xMe(e,t,r){if(!Dne(e.axis)){var n=e.get(["axisLabel","showMinLabel"]),i=e.get(["axisLabel","showMaxLabel"]);t=t||[],r=r||[];var s=t[0],a=t[1],o=t[t.length-1],l=t[t.length-2],c=r[0],d=r[1],h=r[r.length-1],f=r[r.length-2];n===!1?(Ga(s),Ga(c)):$V(s,a)&&(n?(Ga(a),Ga(d)):(Ga(s),Ga(c))),i===!1?(Ga(o),Ga(h)):$V(l,o)&&(i?(Ga(l),Ga(f)):(Ga(o),Ga(h)))}}function Ga(e){e&&(e.ignore=!0)}function $V(e,t){var r=e&&e.getBoundingRect().clone(),n=t&&t.getBoundingRect().clone();if(!(!r||!n)){var i=fN([]);return Tp(i,i,-e.rotation),r.applyTransform(Kc([],i,e.getLocalTransform())),n.applyTransform(Kc([],i,t.getLocalTransform())),r.intersect(n)}}function BV(e){return e==="middle"||e==="center"}function Mie(e,t,r,n,i){for(var s=[],a=[],o=[],l=0;l<e.length;l++){var c=e[l].coord;a[0]=c,a[1]=0,o[0]=c,o[1]=r,t&&(Vi(a,a,t),Vi(o,o,t));var d=new wi({shape:{x1:a[0],y1:a[1],x2:o[0],y2:o[1]},style:n,z2:2,autoBatch:!0,silent:!0});Zm(d.shape,d.style.lineWidth),d.anid=i+"_"+e[l].tickValue,s.push(d)}return s}function _Me(e,t,r,n){var i=r.axis,s=r.getModel("axisTick"),a=s.get("show");if(a==="auto"&&n.handleAutoShown&&(a=n.handleAutoShown("axisTick")),!(!a||i.scale.isBlank())){for(var o=s.getModel("lineStyle"),l=n.tickDirection*s.get("length"),c=i.getTicksCoords(),d=Mie(c,t.transform,l,rt(o.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks"),h=0;h<d.length;h++)e.add(d[h]);return d}}function bMe(e,t,r,n){var i=r.axis,s=r.getModel("minorTick");if(!(!s.get("show")||i.scale.isBlank())){var a=i.getMinorTicksCoords();if(a.length)for(var o=s.getModel("lineStyle"),l=n*s.get("length"),c=rt(o.getLineStyle(),rt(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})),d=0;d<a.length;d++)for(var h=Mie(a[d],t.transform,l,c,"minorticks_"+d),f=0;f<h.length;f++)e.add(h[f])}}function wMe(e,t,r,n){var i=r.axis,s=Mi(n.axisLabelShow,r.get(["axisLabel","show"]));if(!(!s||i.scale.isBlank())){var a=r.getModel("axisLabel"),o=a.get("margin"),l=i.getViewLabels(),c=(Mi(n.labelRotate,a.get("rotate"))||0)*vd/180,d=Ds.innerTextLayout(n.rotation,c,n.labelDirection),h=r.getCategories&&r.getCategories(!0),f=[],p=Ds.isLabelSilent(r),g=r.get("triggerEvent");return V(l,function(v,m){var y=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(v.tickValue):v.tickValue,x=v.formattedLabel,_=v.rawLabel,b=a;if(h&&h[y]){var w=h[y];st(w)&&w.textStyle&&(b=new Lr(w.textStyle,a,r.ecModel))}var S=b.getTextColor()||r.get(["axisLine","lineStyle","color"]),k=i.dataToCoord(y),C=b.getShallow("align",!0)||d.textAlign,E=mt(b.getShallow("alignMinLabel",!0),C),T=mt(b.getShallow("alignMaxLabel",!0),C),N=b.getShallow("verticalAlign",!0)||b.getShallow("baseline",!0)||d.textVerticalAlign,R=mt(b.getShallow("verticalAlignMinLabel",!0),N),P=mt(b.getShallow("verticalAlignMaxLabel",!0),N),D=new pr({x:k,y:n.labelOffset+n.labelDirection*o,rotation:d.rotation,silent:p,z2:10+(v.level||0),style:dn(b,{text:x,align:m===0?E:m===l.length-1?T:C,verticalAlign:m===0?R:m===l.length-1?P:N,fill:et(S)?S(i.type==="category"?_:i.type==="value"?y+"":y,m):S})});if(D.anid="label_"+y,Np({el:D,componentModel:r,itemName:x,formatterParamsExtra:{isTruncated:function(){return D.isTruncated},value:_,tickIndex:m}}),g){var $=Ds.makeAxisEventDataBase(r);$.targetType="axisLabel",$.value=_,$.tickIndex=m,i.type==="category"&&($.dataIndex=y),ft(D).eventData=$}t.add(D),D.updateTransform(),f.push(D),e.add(D),D.decomposeTransform()}),f}}function SMe(e,t){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return CMe(r,e,t),r.seriesInvolved&&EMe(r,e),r}function CMe(e,t,r){var n=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),s=i.get("link",!0)||[],a=[];V(r.getCoordinateSystems(),function(o){if(!o.axisPointerEnabled)return;var l=q_(o.model),c=e.coordSysAxesInfo[l]={};e.coordSysMap[l]=o;var d=o.model,h=d.getModel("tooltip",n);if(V(o.getAxes(),xt(v,!1,null)),o.getTooltipAxes&&n&&h.get("show")){var f=h.get("trigger")==="axis",p=h.get(["axisPointer","type"])==="cross",g=o.getTooltipAxes(h.get(["axisPointer","axis"]));(f||p)&&V(g.baseAxes,xt(v,p?"cross":!0,f)),p&&V(g.otherAxes,xt(v,"cross",!1))}function v(m,y,x){var _=x.model.getModel("axisPointer",i),b=_.get("show");if(!(!b||b==="auto"&&!m&&!EL(_))){y==null&&(y=_.get("triggerTooltip")),_=m?kMe(x,h,i,t,m,y):_;var w=_.get("snap"),S=_.get("triggerEmphasis"),k=q_(x.model),C=y||w||x.type==="category",E=e.axesInfo[k]={key:k,axis:x,coordSys:o,axisPointerModel:_,triggerTooltip:y,triggerEmphasis:S,involveSeries:C,snap:w,useHandle:EL(_),seriesModels:[],linkGroup:null};c[k]=E,e.seriesInvolved=e.seriesInvolved||C;var T=TMe(s,x);if(T!=null){var N=a[T]||(a[T]={axesInfo:{}});N.axesInfo[k]=E,N.mapper=s[T].mapper,E.linkGroup=N}}}})}function kMe(e,t,r,n,i,s){var a=t.getModel("axisPointer"),o=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};V(o,function(f){l[f]=lt(a.get(f))}),l.snap=e.type!=="category"&&!!s,a.get("type")==="cross"&&(l.type="line");var c=l.label||(l.label={});if(c.show==null&&(c.show=!1),i==="cross"){var d=a.get(["label","show"]);if(c.show=d??!0,!s){var h=l.lineStyle=a.get("crossStyle");h&&rt(c,h.textStyle)}}return e.model.getModel("axisPointer",new Lr(l,r,n))}function EMe(e,t){t.eachSeries(function(r){var n=r.coordinateSystem,i=r.get(["tooltip","trigger"],!0),s=r.get(["tooltip","show"],!0);!n||i==="none"||i===!1||i==="item"||s===!1||r.get(["axisPointer","show"],!0)===!1||V(e.coordSysAxesInfo[q_(n.model)],function(a){var o=a.axis;n.getAxis(o.dim)===o&&(a.seriesModels.push(r),a.seriesDataCount==null&&(a.seriesDataCount=0),a.seriesDataCount+=r.getData().count())})})}function TMe(e,t){for(var r=t.model,n=t.dim,i=0;i<e.length;i++){var s=e[i]||{};if(Zj(s[n+"AxisId"],r.id)||Zj(s[n+"AxisIndex"],r.componentIndex)||Zj(s[n+"AxisName"],r.name))return i}}function Zj(e,t){return e==="all"||ve(e)&&Pt(e,t)>=0||e===t}function NMe(e){var t=a4(e);if(t){var r=t.axisPointerModel,n=t.axis.scale,i=r.option,s=r.get("status"),a=r.get("value");a!=null&&(a=n.parse(a));var o=EL(r);s==null&&(i.status=o?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(a==null||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),i.value=a,o&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function a4(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[q_(e)]}function AMe(e){var t=a4(e);return t&&t.axisPointerModel}function EL(e){return!!e.get(["handle","show"])}function q_(e){return e.type+"||"+e.id}var FV={},Mp=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,s){this.axisPointerClass&&NMe(r),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,i,!0)},t.prototype.updateAxisPointer=function(r,n,i,s){this._doUpdateAxisPointerClass(r,i,!1)},t.prototype.remove=function(r,n){var i=this._axisPointer;i&&i.remove(n)},t.prototype.dispose=function(r,n){this._disposeAxisPointer(n),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(r,n,i){var s=t.getAxisPointerClass(this.axisPointerClass);if(s){var a=AMe(r);a?(this._axisPointer||(this._axisPointer=new s)).render(r,a,n,i):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},t.registerAxisPointerClass=function(r,n){FV[r]=n},t.getAxisPointerClass=function(r){return r&&FV[r]},t.type="axis",t}(Rn),TL=cr();function Pie(e,t,r,n){var i=r.axis;if(!i.scale.isBlank()){var s=r.getModel("splitArea"),a=s.getModel("areaStyle"),o=a.get("color"),l=n.coordinateSystem.getRect(),c=i.getTicksCoords({tickModel:s,clamp:!0});if(c.length){var d=o.length,h=TL(e).splitAreaColors,f=qe(),p=0;if(h)for(var g=0;g<c.length;g++){var v=h.get(c[g].tickValue);if(v!=null){p=(v+(d-1)*g)%d;break}}var m=i.toGlobalCoord(c[0].coord),y=a.getAreaStyle();o=ve(o)?o:[o];for(var g=1;g<c.length;g++){var x=i.toGlobalCoord(c[g].coord),_=void 0,b=void 0,w=void 0,S=void 0;i.isHorizontal()?(_=m,b=l.y,w=x-_,S=l.height,m=_+w):(_=l.x,b=m,w=l.width,S=x-b,m=b+S);var k=c[g-1].tickValue;k!=null&&f.set(k,p),t.add(new lr({anid:k!=null?"area_"+k:null,shape:{x:_,y:b,width:w,height:S},style:rt({fill:o[p]},y),autoBatch:!0,silent:!0})),p=(p+1)%d}TL(e).splitAreaColors=f}}}function Lie(e){TL(e).splitAreaColors=null}var jMe=["axisLine","axisTickLabel","axisName"],RMe=["splitArea","splitLine","minorSplitLine"],Die=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="CartesianAxisPointer",r}return t.prototype.render=function(r,n,i,s){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new ht,this.group.add(this._axisGroup),!!r.get("show")){var o=r.getCoordSysModel(),l=kL(o,r),c=new Ds(r,fe({handleAutoShown:function(h){for(var f=o.coordinateSystem.getCartesians(),p=0;p<f.length;p++)if(vL(f[p].getOtherAxis(r.axis).scale))return!0;return!1}},l));V(jMe,c.add,c),this._axisGroup.add(c.getGroup()),V(RMe,function(h){r.get([h,"show"])&&IMe[h](this,this._axisGroup,r,o)},this);var d=s&&s.type==="changeAxisOrder"&&s.isInitSort;d||Jb(a,this._axisGroup,r),e.prototype.render.call(this,r,n,i,s)}},t.prototype.remove=function(){Lie(this)},t.type="cartesianAxis",t}(Mp),IMe={splitLine:function(e,t,r,n){var i=r.axis;if(!i.scale.isBlank()){var s=r.getModel("splitLine"),a=s.getModel("lineStyle"),o=a.get("color"),l=s.get("showMinLine")!==!1,c=s.get("showMaxLine")!==!1;o=ve(o)?o:[o];for(var d=n.coordinateSystem.getRect(),h=i.isHorizontal(),f=0,p=i.getTicksCoords({tickModel:s}),g=[],v=[],m=a.getLineStyle(),y=0;y<p.length;y++){var x=i.toGlobalCoord(p[y].coord);if(!(y===0&&!l||y===p.length-1&&!c)){var _=p[y].tickValue;h?(g[0]=x,g[1]=d.y,v[0]=x,v[1]=d.y+d.height):(g[0]=d.x,g[1]=x,v[0]=d.x+d.width,v[1]=x);var b=f++%o.length,w=new wi({anid:_!=null?"line_"+_:null,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:v[0],y2:v[1]},style:rt({stroke:o[b]},m),silent:!0});Zm(w.shape,m.lineWidth),t.add(w)}}}},minorSplitLine:function(e,t,r,n){var i=r.axis,s=r.getModel("minorSplitLine"),a=s.getModel("lineStyle"),o=n.coordinateSystem.getRect(),l=i.isHorizontal(),c=i.getMinorTicksCoords();if(c.length)for(var d=[],h=[],f=a.getLineStyle(),p=0;p<c.length;p++)for(var g=0;g<c[p].length;g++){var v=i.toGlobalCoord(c[p][g].coord);l?(d[0]=v,d[1]=o.y,h[0]=v,h[1]=o.y+o.height):(d[0]=o.x,d[1]=v,h[0]=o.x+o.width,h[1]=v);var m=new wi({anid:"minor_line_"+c[p][g].tickValue,autoBatch:!0,shape:{x1:d[0],y1:d[1],x2:h[0],y2:h[1]},style:f,silent:!0});Zm(m.shape,f.lineWidth),t.add(m)}},splitArea:function(e,t,r,n){Pie(e,t,r,n)}},Oie=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="xAxis",t}(Die),MMe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=Oie.type,r}return t.type="yAxis",t}(Die),PMe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="grid",r}return t.prototype.render=function(r,n){this.group.removeAll(),r.get("show")&&this.group.add(new lr({shape:r.coordinateSystem.getRect(),style:rt({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(Rn),zV={offset:0};function $ie(e){e.registerComponentView(PMe),e.registerComponentModel(lMe),e.registerCoordinateSystem("cartesian2d",mMe),tv(e,"x",SL,zV),tv(e,"y",SL,zV),e.registerComponentView(Oie),e.registerComponentView(MMe),e.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function LMe(e){Ft($ie),e.registerSeriesModel(nMe),e.registerChartView(oMe),e.registerLayout(ow("scatter"))}function DMe(e){e.eachSeriesByType("radar",function(t){var r=t.getData(),n=[],i=t.coordinateSystem;if(i){var s=i.getIndicatorAxes();V(s,function(a,o){r.each(r.mapDimension(s[o].dim),function(l,c){n[c]=n[c]||[];var d=i.dataToPoint(l,o);n[c][o]=UV(d)?d:HV(i)})}),r.each(function(a){var o=xCe(n[a],function(l){return UV(l)})||HV(i);n[a].push(o.slice()),r.setItemLayout(a,n[a])})}})}function UV(e){return!isNaN(e[0])&&!isNaN(e[1])}function HV(e){return[e.cx,e.cy]}function OMe(e){var t=e.polar;if(t){ve(t)||(t=[t]);var r=[];V(t,function(n,i){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),e.radar=e.radar||[],ve(e.radar)||(e.radar=[e.radar]),e.radar.push(n)):r.push(n)}),e.polar=r}V(e.series,function(n){n&&n.type==="radar"&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}var $Me=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var s=r.coordinateSystem,a=this.group,o=r.getData(),l=this._data;function c(f,p){var g=f.getItemVisual(p,"symbol")||"circle";if(g!=="none"){var v=Wv(f.getItemVisual(p,"symbolSize")),m=ai(g,-1,-1,2,2),y=f.getItemVisual(p,"symbolRotate")||0;return m.attr({style:{strokeNoScale:!0},z2:100,scaleX:v[0]/2,scaleY:v[1]/2,rotation:y*Math.PI/180||0}),m}}function d(f,p,g,v,m,y){g.removeAll();for(var x=0;x<p.length-1;x++){var _=c(v,m);_&&(_.__dimIdx=x,f[x]?(_.setPosition(f[x]),Ap[y?"initProps":"updateProps"](_,{x:p[x][0],y:p[x][1]},r,m)):_.setPosition(p[x]),g.add(_))}}function h(f){return xe(f,function(p){return[s.cx,s.cy]})}o.diff(l).add(function(f){var p=o.getItemLayout(f);if(p){var g=new Fs,v=new Vs,m={shape:{points:p}};g.shape.points=h(p),v.shape.points=h(p),Sn(g,m,r,f),Sn(v,m,r,f);var y=new ht,x=new ht;y.add(v),y.add(g),y.add(x),d(v.shape.points,p,x,o,f,!0),o.setItemGraphicEl(f,y)}}).update(function(f,p){var g=l.getItemGraphicEl(p),v=g.childAt(0),m=g.childAt(1),y=g.childAt(2),x={shape:{points:o.getItemLayout(f)}};x.shape.points&&(d(v.shape.points,x.shape.points,y,o,f,!1),rl(m),rl(v),wr(v,x,r),wr(m,x,r),o.setItemGraphicEl(f,g))}).remove(function(f){a.remove(l.getItemGraphicEl(f))}).execute(),o.eachItemGraphicEl(function(f,p){var g=o.getItemModel(p),v=f.childAt(0),m=f.childAt(1),y=f.childAt(2),x=o.getItemVisual(p,"style"),_=x.fill;a.add(f),v.useStyle(rt(g.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:_})),qi(v,g,"lineStyle"),qi(m,g,"areaStyle");var b=g.getModel("areaStyle"),w=b.isEmpty()&&b.parentModel.isEmpty();m.ignore=w,V(["emphasis","select","blur"],function(C){var E=g.getModel([C,"areaStyle"]),T=E.isEmpty()&&E.parentModel.isEmpty();m.ensureState(C).ignore=T&&w}),m.useStyle(rt(b.getAreaStyle(),{fill:_,opacity:.7,decal:x.decal}));var S=g.getModel("emphasis"),k=S.getModel("itemStyle").getItemStyle();y.eachChild(function(C){if(C instanceof Oi){var E=C.style;C.useStyle(fe({image:E.image,x:E.x,y:E.y,width:E.width,height:E.height},x))}else C.useStyle(x),C.setColor(_),C.style.strokeNoScale=!0;var T=C.ensureState("emphasis");T.style=lt(k);var N=o.getStore().get(o.getDimensionIndex(C.__dimIdx),p);(N==null||isNaN(N))&&(N=""),Yi(C,ki(g),{labelFetcher:o.hostModel,labelDataIndex:p,labelDimIndex:C.__dimIdx,defaultText:N,inheritColor:_,defaultOpacity:x.opacity})}),Dn(f,S.get("focus"),S.get("blurScope"),S.get("disabled"))}),this._data=o},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(nn),BMe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new cw(He(this.getData,this),He(this.getRawData,this))},t.prototype.getInitialData=function(r,n){return qv(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(r,n,i){var s=this.getData(),a=this.coordinateSystem,o=a.getIndicatorAxes(),l=this.getData().getName(r),c=l===""?this.name:l,d=Dre(this,r);return Ei("section",{header:c,sortBlocks:!0,blocks:xe(o,function(h){var f=s.get(s.mapDimension(h.dim),r);return Ei("nameValue",{markerType:"subItem",markerColor:d,name:h.name,value:f,sortParam:f})})})},t.prototype.getTooltipPosition=function(r){if(r!=null){for(var n=this.getData(),i=this.coordinateSystem,s=n.getValues(xe(i.dimensions,function(c){return n.mapDimension(c)}),r),a=0,o=s.length;a<o;a++)if(!isNaN(s[a])){var l=i.getIndicatorAxes();return i.coordToPoint(l[a].dataToCoord(s[a]),a)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(fn),xy=Rie.value;function vS(e,t){return rt({show:t},e)}var FMe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.optionUpdated=function(){var r=this.get("boundaryGap"),n=this.get("splitNumber"),i=this.get("scale"),s=this.get("axisLine"),a=this.get("axisTick"),o=this.get("axisLabel"),l=this.get("axisName"),c=this.get(["axisName","show"]),d=this.get(["axisName","formatter"]),h=this.get("axisNameGap"),f=this.get("triggerEvent"),p=xe(this.get("indicator")||[],function(g){g.max!=null&&g.max>0&&!g.min?g.min=0:g.min!=null&&g.min<0&&!g.max&&(g.max=0);var v=l;g.color!=null&&(v=rt({color:g.color},l));var m=Ct(lt(g),{boundaryGap:r,splitNumber:n,scale:i,axisLine:s,axisTick:a,axisLabel:o,name:g.text,showName:c,nameLocation:"end",nameGap:h,nameTextStyle:v,triggerEvent:f},!1);if(De(d)){var y=m.name;m.name=d.replace("{value}",y??"")}else et(d)&&(m.name=d(m.name,m));var x=new Lr(m,null,this.ecModel);return oi(x,nw.prototype),x.mainType="radar",x.componentIndex=this.componentIndex,x},this);this._indicatorModels=p},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:Ct({lineStyle:{color:"#bbb"}},xy.axisLine),axisLabel:vS(xy.axisLabel,!1),axisTick:vS(xy.axisTick,!1),splitLine:vS(xy.splitLine,!0),splitArea:vS(xy.splitArea,!0),indicator:[]},t}(Kt),zMe=["axisLine","axisTickLabel","axisName"],UMe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var s=this.group;s.removeAll(),this._buildAxes(r),this._buildSplitLineAndArea(r)},t.prototype._buildAxes=function(r){var n=r.coordinateSystem,i=n.getIndicatorAxes(),s=xe(i,function(a){var o=a.model.get("showName")?a.name:"",l=new Ds(a.model,{axisName:o,position:[n.cx,n.cy],rotation:a.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return l});V(s,function(a){V(zMe,a.add,a),this.group.add(a.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(r){var n=r.coordinateSystem,i=n.getIndicatorAxes();if(!i.length)return;var s=r.get("shape"),a=r.getModel("splitLine"),o=r.getModel("splitArea"),l=a.getModel("lineStyle"),c=o.getModel("areaStyle"),d=a.get("show"),h=o.get("show"),f=l.get("color"),p=c.get("color"),g=ve(f)?f:[f],v=ve(p)?p:[p],m=[],y=[];function x($,L,O){var j=O%L.length;return $[j]=$[j]||[],j}if(s==="circle")for(var _=i[0].getTicksCoords(),b=n.cx,w=n.cy,S=0;S<_.length;S++){if(d){var k=x(m,g,S);m[k].push(new wu({shape:{cx:b,cy:w,r:_[S].coord}}))}if(h&&S<_.length-1){var k=x(y,v,S);y[k].push(new Kb({shape:{cx:b,cy:w,r0:_[S].coord,r:_[S+1].coord}}))}}else for(var C,E=xe(i,function($,L){var O=$.getTicksCoords();return C=C==null?O.length-1:Math.min(O.length-1,C),xe(O,function(j){return n.coordToPoint(j.coord,L)})}),T=[],S=0;S<=C;S++){for(var N=[],R=0;R<i.length;R++)N.push(E[R][S]);if(N[0]&&N.push(N[0].slice()),d){var k=x(m,g,S);m[k].push(new Vs({shape:{points:N}}))}if(h&&T){var k=x(y,v,S-1);y[k].push(new Fs({shape:{points:N.concat(T)}}))}T=N.slice().reverse()}var P=l.getLineStyle(),D=c.getAreaStyle();V(y,function($,L){this.group.add(co($,{style:rt({stroke:"none",fill:v[L%v.length]},D),silent:!0}))},this),V(m,function($,L){this.group.add(co($,{style:rt({fill:"none",stroke:g[L%g.length]},P),silent:!0}))},this)},t.type="radar",t}(Rn),HMe=function(e){le(t,e);function t(r,n,i){var s=e.call(this,r,n,i)||this;return s.type="value",s.angle=0,s.name="",s}return t}(ul),VMe=function(){function e(t,r,n){this.dimensions=[],this._model=t,this._indicatorAxes=xe(t.getIndicatorModels(),function(i,s){var a="indicator_"+s,o=new HMe(a,new du);return o.name=i.get("name"),o.model=i,i.axis=o,this.dimensions.push(a),o},this),this.resize(t,n)}return e.prototype.getIndicatorAxes=function(){return this._indicatorAxes},e.prototype.dataToPoint=function(t,r){var n=this._indicatorAxes[r];return this.coordToPoint(n.dataToCoord(t),r)},e.prototype.coordToPoint=function(t,r){var n=this._indicatorAxes[r],i=n.angle,s=this.cx+t*Math.cos(i),a=this.cy-t*Math.sin(i);return[s,a]},e.prototype.pointToData=function(t){var r=t[0]-this.cx,n=t[1]-this.cy,i=Math.sqrt(r*r+n*n);r/=i,n/=i;for(var s=Math.atan2(-n,r),a=1/0,o,l=-1,c=0;c<this._indicatorAxes.length;c++){var d=this._indicatorAxes[c],h=Math.abs(s-d.angle);h<a&&(o=d,l=c,a=h)}return[l,+(o&&o.coordToData(i))]},e.prototype.resize=function(t,r){var n=t.get("center"),i=r.getWidth(),s=r.getHeight(),a=Math.min(i,s)/2;this.cx=Ne(n[0],i),this.cy=Ne(n[1],s),this.startAngle=t.get("startAngle")*Math.PI/180;var o=t.get("radius");(De(o)||xr(o))&&(o=[0,o]),this.r0=Ne(o[0],a),this.r=Ne(o[1],a),V(this._indicatorAxes,function(l,c){l.setExtent(this.r0,this.r);var d=this.startAngle+c*Math.PI*2/this._indicatorAxes.length;d=Math.atan2(Math.sin(d),Math.cos(d)),l.angle=d},this)},e.prototype.update=function(t,r){var n=this._indicatorAxes,i=this._model;V(n,function(o){o.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(o,l){if(!(o.get("coordinateSystem")!=="radar"||t.getComponent("radar",o.get("radarIndex"))!==i)){var c=o.getData();V(n,function(d){d.scale.unionExtentFromData(c,c.mapDimension(d.dim))})}},this);var s=i.get("splitNumber"),a=new du;a.setExtent(0,s),a.setInterval(1),V(n,function(o,l){Iie(o.scale,o.model,a)})},e.prototype.convertToPixel=function(t,r,n){return console.warn("Not implemented."),null},e.prototype.convertFromPixel=function(t,r,n){return console.warn("Not implemented."),null},e.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},e.create=function(t,r){var n=[];return t.eachComponent("radar",function(i){var s=new e(i,t,r);n.push(s),i.coordinateSystem=s}),t.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=n[i.get("radarIndex")||0])}),n},e.dimensions=[],e}();function WMe(e){e.registerCoordinateSystem("radar",VMe),e.registerComponentModel(FMe),e.registerComponentView(UMe),e.registerVisual({seriesType:"radar",reset:function(t){var r=t.getData();r.each(function(n){r.setItemVisual(n,"legendIcon","roundRect")}),r.setVisual("legendIcon","roundRect")}})}function GMe(e){Ft(WMe),e.registerChartView($Me),e.registerSeriesModel(BMe),e.registerLayout(DMe),e.registerProcessor(lw("radar")),e.registerPreprocessor(OMe)}var VV="\0_ec_interaction_mutex";function qMe(e,t,r){var n=o4(e);n[t]=r}function YMe(e,t,r){var n=o4(e),i=n[t];i===r&&(n[t]=null)}function WV(e,t){return!!o4(e)[t]}function o4(e){return e[VV]||(e[VV]={})}pc({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Xn);var uw=function(e){le(t,e);function t(r){var n=e.call(this)||this;n._zr=r;var i=He(n._mousedownHandler,n),s=He(n._mousemoveHandler,n),a=He(n._mouseupHandler,n),o=He(n._mousewheelHandler,n),l=He(n._pinchHandler,n);return n.enable=function(c,d){this.disable(),this._opt=rt(lt(d)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),c==null&&(c=!0),(c===!0||c==="move"||c==="pan")&&(r.on("mousedown",i),r.on("mousemove",s),r.on("mouseup",a)),(c===!0||c==="scale"||c==="zoom")&&(r.on("mousewheel",o),r.on("pinch",l))},n.disable=function(){r.off("mousedown",i),r.off("mousemove",s),r.off("mouseup",a),r.off("mousewheel",o),r.off("pinch",l)},n}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(r){this.pointerChecker=r},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(r){if(!x8(r)){for(var n=r.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var i=r.offsetX,s=r.offsetY;this.pointerChecker&&this.pointerChecker(r,i,s)&&(this._x=i,this._y=s,this._dragging=!0)}},t.prototype._mousemoveHandler=function(r){if(!(!this._dragging||!ek("moveOnMouseMove",r,this._opt)||r.gestureEvent==="pinch"||WV(this._zr,"globalPan"))){var n=r.offsetX,i=r.offsetY,s=this._x,a=this._y,o=n-s,l=i-a;this._x=n,this._y=i,this._opt.preventDefaultMouseMove&&au(r.event),Bie(this,"pan","moveOnMouseMove",r,{dx:o,dy:l,oldX:s,oldY:a,newX:n,newY:i,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(r){x8(r)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(r){var n=ek("zoomOnMouseWheel",r,this._opt),i=ek("moveOnMouseWheel",r,this._opt),s=r.wheelDelta,a=Math.abs(s),o=r.offsetX,l=r.offsetY;if(!(s===0||!n&&!i)){if(n){var c=a>3?1.4:a>1?1.2:1.1,d=s>0?c:1/c;Xj(this,"zoom","zoomOnMouseWheel",r,{scale:d,originX:o,originY:l,isAvailableBehavior:null})}if(i){var h=Math.abs(s),f=(s>0?1:-1)*(h>3?.4:h>1?.15:.05);Xj(this,"scrollMove","moveOnMouseWheel",r,{scrollDelta:f,originX:o,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(r){if(!WV(this._zr,"globalPan")){var n=r.pinchScale>1?1.1:1/1.1;Xj(this,"zoom",null,r,{scale:n,originX:r.pinchX,originY:r.pinchY,isAvailableBehavior:null})}},t}(bo);function Xj(e,t,r,n,i){e.pointerChecker&&e.pointerChecker(n,i.originX,i.originY)&&(au(n.event),Bie(e,t,r,n,i))}function Bie(e,t,r,n,i){i.isAvailableBehavior=He(ek,null,r,n),e.trigger(t,i)}function ek(e,t,r){var n=r[e];return!e||n&&(!De(n)||t.event[n+"Key"])}function l4(e,t,r){var n=e.target;n.x+=t,n.y+=r,n.dirty()}function c4(e,t,r,n){var i=e.target,s=e.zoomLimit,a=e.zoom=e.zoom||1;if(a*=t,s){var o=s.min||0,l=s.max||1/0;a=Math.max(Math.min(l,a),o)}var c=a/e.zoom;e.zoom=a,i.x-=(r-i.x)*(c-1),i.y-=(n-i.y)*(c-1),i.scaleX*=c,i.scaleY*=c,i.dirty()}var KMe={axisPointer:1,tooltip:1,brush:1};function VN(e,t,r){var n=t.getComponentByElement(e.topTarget),i=n&&n.coordinateSystem;return n&&n!==r&&!KMe.hasOwnProperty(n.mainType)&&i&&i.model!==r}function Fie(e){if(De(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}var r=e;for(r.nodeType===9&&(r=r.firstChild);r.nodeName.toLowerCase()!=="svg"||r.nodeType!==1;)r=r.nextSibling;return r}var Jj,EE={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},GV=Zt(EE),TE={"alignment-baseline":"textBaseline","stop-color":"stopColor"},qV=Zt(TE),ZMe=function(){function e(){this._defs={},this._root=null}return e.prototype.parse=function(t,r){r=r||{};var n=Fie(t);this._defsUsePending=[];var i=new ht;this._root=i;var s=[],a=n.getAttribute("viewBox")||"",o=parseFloat(n.getAttribute("width")||r.width),l=parseFloat(n.getAttribute("height")||r.height);isNaN(o)&&(o=null),isNaN(l)&&(l=null),ya(n,i,null,!0,!1);for(var c=n.firstChild;c;)this._parseNode(c,i,s,null,!1,!1),c=c.nextSibling;QMe(this._defs,this._defsUsePending),this._defsUsePending=[];var d,h;if(a){var f=WN(a);f.length>=4&&(d={x:parseFloat(f[0]||0),y:parseFloat(f[1]||0),width:parseFloat(f[2]),height:parseFloat(f[3])})}if(d&&o!=null&&l!=null&&(h=Uie(d,{x:0,y:0,width:o,height:l}),!r.ignoreViewBox)){var p=i;i=new ht,i.add(p),p.scaleX=p.scaleY=h.scale,p.x=h.x,p.y=h.y}return!r.ignoreRootClip&&o!=null&&l!=null&&i.setClipPath(new lr({shape:{x:0,y:0,width:o,height:l}})),{root:i,width:o,height:l,viewBoxRect:d,viewBoxTransform:h,named:s}},e.prototype._parseNode=function(t,r,n,i,s,a){var o=t.nodeName.toLowerCase(),l,c=i;if(o==="defs"&&(s=!0),o==="text"&&(a=!0),o==="defs"||o==="switch")l=r;else{if(!s){var d=Jj[o];if(d&&We(Jj,o)){l=d.call(this,t,r);var h=t.getAttribute("name");if(h){var f={name:h,namedFrom:null,svgNodeTagLower:o,el:l};n.push(f),o==="g"&&(c=f)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:o,el:l});r.add(l)}}var p=YV[o];if(p&&We(YV,o)){var g=p.call(this,t),v=t.getAttribute("id");v&&(this._defs[v]=g)}}if(l&&l.isGroup)for(var m=t.firstChild;m;)m.nodeType===1?this._parseNode(m,l,n,c,s,a):m.nodeType===3&&a&&this._parseText(m,l),m=m.nextSibling},e.prototype._parseText=function(t,r){var n=new Km({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});qa(r,n),ya(t,n,this._defsUsePending,!1,!1),XMe(n,r);var i=n.style,s=i.fontSize;s&&s<9&&(i.fontSize=9,n.scaleX*=s/9,n.scaleY*=s/9);var a=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=a;var o=n.getBoundingRect();return this._textX+=o.width,r.add(n),n},e.internalField=function(){Jj={g:function(t,r){var n=new ht;return qa(r,n),ya(t,n,this._defsUsePending,!1,!1),n},rect:function(t,r){var n=new lr;return qa(r,n),ya(t,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(t,r){var n=new wu;return qa(r,n),ya(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),n.silent=!0,n},line:function(t,r){var n=new wi;return qa(r,n),ya(t,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(t,r){var n=new SN;return qa(r,n),ya(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(t,r){var n=t.getAttribute("points"),i;n&&(i=XV(n));var s=new Fs({shape:{points:i||[]},silent:!0});return qa(r,s),ya(t,s,this._defsUsePending,!1,!1),s},polyline:function(t,r){var n=t.getAttribute("points"),i;n&&(i=XV(n));var s=new Vs({shape:{points:i||[]},silent:!0});return qa(r,s),ya(t,s,this._defsUsePending,!1,!1),s},image:function(t,r){var n=new Oi;return qa(r,n),ya(t,n,this._defsUsePending,!1,!1),n.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),n.silent=!0,n},text:function(t,r){var n=t.getAttribute("x")||"0",i=t.getAttribute("y")||"0",s=t.getAttribute("dx")||"0",a=t.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(s),this._textY=parseFloat(i)+parseFloat(a);var o=new ht;return qa(r,o),ya(t,o,this._defsUsePending,!1,!0),o},tspan:function(t,r){var n=t.getAttribute("x"),i=t.getAttribute("y");n!=null&&(this._textX=parseFloat(n)),i!=null&&(this._textY=parseFloat(i));var s=t.getAttribute("dx")||"0",a=t.getAttribute("dy")||"0",o=new ht;return qa(r,o),ya(t,o,this._defsUsePending,!1,!0),this._textX+=parseFloat(s),this._textY+=parseFloat(a),o},path:function(t,r){var n=t.getAttribute("d")||"",i=jte(n);return qa(r,i),ya(t,i,this._defsUsePending,!1,!1),i.silent=!0,i}}}(),e}(),YV={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||"0",10),r=parseInt(e.getAttribute("y1")||"0",10),n=parseInt(e.getAttribute("x2")||"10",10),i=parseInt(e.getAttribute("y2")||"0",10),s=new Xb(t,r,n,i);return KV(e,s),ZV(e,s),s},radialgradient:function(e){var t=parseInt(e.getAttribute("cx")||"0",10),r=parseInt(e.getAttribute("cy")||"0",10),n=parseInt(e.getAttribute("r")||"0",10),i=new Pte(t,r,n);return KV(e,i),ZV(e,i),i}};function KV(e,t){var r=e.getAttribute("gradientUnits");r==="userSpaceOnUse"&&(t.global=!0)}function ZV(e,t){for(var r=e.firstChild;r;){if(r.nodeType===1&&r.nodeName.toLocaleLowerCase()==="stop"){var n=r.getAttribute("offset"),i=void 0;n&&n.indexOf("%")>0?i=parseInt(n,10)/100:n?i=parseFloat(n):i=0;var s={};zie(r,s,s);var a=s.stopColor||r.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:i,color:a})}r=r.nextSibling}}function qa(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),rt(t.__inheritedStyle,e.__inheritedStyle))}function XV(e){for(var t=WN(e),r=[],n=0;n<t.length;n+=2){var i=parseFloat(t[n]),s=parseFloat(t[n+1]);r.push([i,s])}return r}function ya(e,t,r,n,i){var s=t,a=s.__inheritedStyle=s.__inheritedStyle||{},o={};e.nodeType===1&&(rPe(e,t),zie(e,a,o),n||nPe(e,a,o)),s.style=s.style||{},a.fill!=null&&(s.style.fill=JV(s,"fill",a.fill,r)),a.stroke!=null&&(s.style.stroke=JV(s,"stroke",a.stroke,r)),V(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){a[l]!=null&&(s.style[l]=parseFloat(a[l]))}),V(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){a[l]!=null&&(s.style[l]=a[l])}),i&&(s.__selfStyle=o),a.lineDash&&(s.style.lineDash=xe(WN(a.lineDash),function(l){return parseFloat(l)})),(a.visibility==="hidden"||a.visibility==="collapse")&&(s.invisible=!0),a.display==="none"&&(s.ignore=!0)}function XMe(e,t){var r=t.__selfStyle;if(r){var n=r.textBaseline,i=n;!n||n==="auto"||n==="baseline"?i="alphabetic":n==="before-edge"||n==="text-before-edge"?i="top":n==="after-edge"||n==="text-after-edge"?i="bottom":(n==="central"||n==="mathematical")&&(i="middle"),e.style.textBaseline=i}var s=t.__inheritedStyle;if(s){var a=s.textAlign,o=a;a&&(a==="middle"&&(o="center"),e.style.textAlign=o)}}var JMe=/^url\(\s*#(.*?)\)/;function JV(e,t,r,n){var i=r&&r.match(JMe);if(i){var s=Vo(i[1]);n.push([e,t,s]);return}return r==="none"&&(r=null),r}function QMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n[0].style[n[1]]=e[n[2]]}}var ePe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function WN(e){return e.match(ePe)||[]}var tPe=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,Qj=Math.PI/180;function rPe(e,t){var r=e.getAttribute("transform");if(r){r=r.replace(/,/g," ");var n=[],i=null;r.replace(tPe,function(h,f,p){return n.push(f,p),""});for(var s=n.length-1;s>0;s-=2){var a=n[s],o=n[s-1],l=WN(a);switch(i=i||Ta(),o){case"translate":ic(i,i,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":i5(i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Tp(i,i,-parseFloat(l[0])*Qj,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var c=Math.tan(parseFloat(l[0])*Qj);Kc(i,[1,0,c,1,0,0],i);break;case"skewY":var d=Math.tan(parseFloat(l[0])*Qj);Kc(i,[1,d,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5]);break}}t.setLocalTransform(i)}}var QV=/([^\s:;]+)\s*:\s*([^:;]+)/g;function zie(e,t,r){var n=e.getAttribute("style");if(n){QV.lastIndex=0;for(var i;(i=QV.exec(n))!=null;){var s=i[1],a=We(EE,s)?EE[s]:null;a&&(t[a]=i[2]);var o=We(TE,s)?TE[s]:null;o&&(r[o]=i[2])}}}function nPe(e,t,r){for(var n=0;n<GV.length;n++){var i=GV[n],s=e.getAttribute(i);s!=null&&(t[EE[i]]=s)}for(var n=0;n<qV.length;n++){var i=qV[n],s=e.getAttribute(i);s!=null&&(r[TE[i]]=s)}}function Uie(e,t){var r=t.width/e.width,n=t.height/e.height,i=Math.min(r,n);return{scale:i,x:-(e.x+e.width/2)*i+(t.x+t.width/2),y:-(e.y+e.height/2)*i+(t.y+t.height/2)}}function iPe(e,t){var r=new ZMe;return r.parse(e,t)}var sPe=qe(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),aPe=function(){function e(t,r){this.type="geoSVG",this._usedGraphicMap=qe(),this._freedGraphics=[],this._mapName=t,this._parsedXML=Fie(r)}return e.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var r=lPe(t.named),n=r.regions,i=r.regionsMap;this._regions=n,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},e.prototype._buildGraphic=function(t){var r,n;try{r=t&&iPe(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},n=r.root,Os(n!=null)}catch(m){throw new Error(`Invalid svg format
`+m.message)}var i=new ht;i.add(n),i.isGeoSVGGraphicRoot=!0;var s=r.width,a=r.height,o=r.viewBoxRect,l=this._boundingRect;if(!l){var c=void 0,d=void 0,h=void 0,f=void 0;if(s!=null?(c=0,h=s):o&&(c=o.x,h=o.width),a!=null?(d=0,f=a):o&&(d=o.y,f=o.height),c==null||d==null){var p=n.getBoundingRect();c==null&&(c=p.x,h=p.width),d==null&&(d=p.y,f=p.height)}l=this._boundingRect=new At(c,d,h,f)}if(o){var g=Uie(o,l);n.scaleX=n.scaleY=g.scale,n.x=g.x,n.y=g.y}i.setClipPath(new lr({shape:l.plain()}));var v=[];return V(r.named,function(m){sPe.get(m.svgNodeTagLower)!=null&&(v.push(m),oPe(m.el))}),{root:i,boundingRect:l,named:v}},e.prototype.useGraphic=function(t){var r=this._usedGraphicMap,n=r.get(t);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),r.set(t,n),n)},e.prototype.freeGraphic=function(t){var r=this._usedGraphicMap,n=r.get(t);n&&(r.removeKey(t),this._freedGraphics.push(n))},e}();function oPe(e){e.silent=!1,e.isGroup&&e.traverse(function(t){t.silent=!1})}function lPe(e){var t=[],r=qe();return V(e,function(n){if(n.namedFrom==null){var i=new rRe(n.name,n.el);t.push(i),r.set(n.name,i)}}),{regions:t,regionsMap:r}}var NL=[126,25],eW="南海诸岛",tf=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var Gh=0;Gh<tf.length;Gh++)for(var hg=0;hg<tf[Gh].length;hg++)tf[Gh][hg][0]/=10.5,tf[Gh][hg][1]/=-10.5/.75,tf[Gh][hg][0]+=NL[0],tf[Gh][hg][1]+=NL[1];function cPe(e,t){if(e==="china"){for(var r=0;r<t.length;r++)if(t[r].name===eW)return;t.push(new $ne(eW,xe(tf,function(n){return{type:"polygon",exterior:n}}),NL))}}var uPe={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]};function dPe(e,t){if(e==="china"){var r=uPe[t.name];if(r){var n=t.getCenter();n[0]+=r[0]/10.5,n[1]+=-r[1]/(10.5/.75),t.setCenter(n)}}}var hPe=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function fPe(e,t){e==="china"&&t.name==="台湾"&&t.geometries.push({type:"polygon",exterior:hPe[0]})}var pPe="name",gPe=function(){function e(t,r,n){this.type="geoJSON",this._parsedMap=qe(),this._mapName=t,this._specialAreas=n,this._geoJSON=vPe(r)}return e.prototype.load=function(t,r){r=r||pPe;var n=this._parsedMap.get(r);if(!n){var i=this._parseToRegions(r);n=this._parsedMap.set(r,{regions:i,boundingRect:mPe(i)})}var s=qe(),a=[];return V(n.regions,function(o){var l=o.name;t&&We(t,l)&&(o=o.cloneShallow(l=t[l])),a.push(o),s.set(l,o)}),{regions:a,boundingRect:n.boundingRect||new At(0,0,0,0),regionsMap:s}},e.prototype._parseToRegions=function(t){var r=this._mapName,n=this._geoJSON,i;try{i=n?iRe(n,t):[]}catch(s){throw new Error(`Invalid geoJson format
`+s.message)}return cPe(r,i),V(i,function(s){var a=s.name;dPe(r,s),fPe(r,s);var o=this._specialAreas&&this._specialAreas[a];o&&s.transformTo(o.left,o.top,o.width,o.height)},this),i},e.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},e}();function mPe(e){for(var t,r=0;r<e.length;r++){var n=e[r].getBoundingRect();t=t||n.clone(),t.union(n)}return t}function vPe(e){return De(e)?typeof JSON<"u"&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e}var _y=qe();const hu={registerMap:function(e,t,r){if(t.svg){var n=new aPe(e,t.svg);_y.set(e,n)}else{var i=t.geoJson||t.geoJSON;i&&!t.features?r=t.specialAreas:i=t;var n=new gPe(e,i,r);_y.set(e,n)}},getGeoResource:function(e){return _y.get(e)},getMapForUser:function(e){var t=_y.get(e);return t&&t.type==="geoJSON"&&t.getMapForUser()},load:function(e,t,r){var n=_y.get(e);if(n)return n.load(t,r)}};var u4=["rect","circle","line","ellipse","polygon","polyline","path"],yPe=qe(u4),xPe=qe(u4.concat(["g"])),_Pe=qe(u4.concat(["g"])),Hie=cr();function yS(e){var t=e.getItemStyle(),r=e.get("areaColor");return r!=null&&(t.fill=r),t}function tW(e){var t=e.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var Vie=function(){function e(t){var r=new ht;this.uid=Bv("ec_map_draw"),this._controller=new uw(t.getZr()),this._controllerHost={target:r},this.group=r,r.add(this._regionsGroup=new ht),r.add(this._svgGroup=new ht)}return e.prototype.draw=function(t,r,n,i,s){var a=t.mainType==="geo",o=t.getData&&t.getData();a&&r.eachComponent({mainType:"series",subType:"map"},function(y){!o&&y.getHostGeoModel()===t&&(o=y.getData())});var l=t.coordinateSystem,c=this._regionsGroup,d=this.group,h=l.getTransformInfo(),f=h.raw,p=h.roam,g=!c.childAt(0)||s;g?(d.x=p.x,d.y=p.y,d.scaleX=p.scaleX,d.scaleY=p.scaleY,d.dirty()):wr(d,p,t);var v=o&&o.getVisual("visualMeta")&&o.getVisual("visualMeta").length>0,m={api:n,geo:l,mapOrGeoModel:t,data:o,isVisualEncodedByVisualMap:v,isGeo:a,transformInfoRaw:f};l.resourceType==="geoJSON"?this._buildGeoJSON(m):l.resourceType==="geoSVG"&&this._buildSVG(m),this._updateController(t,r,n),this._updateMapSelectHandler(t,c,n,i)},e.prototype._buildGeoJSON=function(t){var r=this._regionsGroupByName=qe(),n=qe(),i=this._regionsGroup,s=t.transformInfoRaw,a=t.mapOrGeoModel,o=t.data,l=t.geo.projection,c=l&&l.stream;function d(p,g){return g&&(p=g(p)),p&&[p[0]*s.scaleX+s.x,p[1]*s.scaleY+s.y]}function h(p){for(var g=[],v=!c&&l&&l.project,m=0;m<p.length;++m){var y=d(p[m],v);y&&g.push(y)}return g}function f(p){return{shape:{points:h(p)}}}i.removeAll(),V(t.geo.regions,function(p){var g=p.name,v=r.get(g),m=n.get(g)||{},y=m.dataIdx,x=m.regionModel;if(!v){v=r.set(g,new ht),i.add(v),y=o?o.indexOfName(g):null,x=t.isGeo?a.getRegionModel(g):o?o.getItemModel(y):null;var _=x.get("silent",!0);_!=null&&(v.silent=_),n.set(g,{dataIdx:y,regionModel:x})}var b=[],w=[];V(p.geometries,function(C){if(C.type==="polygon"){var E=[C.exterior].concat(C.interiors||[]);c&&(E=oW(E,c)),V(E,function(N){b.push(new Fs(f(N)))})}else{var T=C.points;c&&(T=oW(T,c,!0)),V(T,function(N){w.push(new Vs(f(N)))})}});var S=d(p.getCenter(),l&&l.project);function k(C,E){if(C.length){var T=new _5({culling:!0,segmentIgnoreThreshold:1,shape:{paths:C}});v.add(T),rW(t,T,y,x),nW(t,T,g,x,a,y,S),E&&(tW(T),V(T.states,tW))}}k(b),k(w,!0)}),r.each(function(p,g){var v=n.get(g),m=v.dataIdx,y=v.regionModel;iW(t,p,g,y,a,m),sW(t,p,g,y,a),aW(t,p,g,y,a)},this)},e.prototype._buildSVG=function(t){var r=t.geo.map,n=t.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(r)&&(this._freeSVG(),this._useSVG(r));var i=this._svgDispatcherMap=qe(),s=!1;V(this._svgGraphicRecord.named,function(a){var o=a.name,l=t.mapOrGeoModel,c=t.data,d=a.svgNodeTagLower,h=a.el,f=c?c.indexOfName(o):null,p=l.getRegionModel(o);yPe.get(d)!=null&&h instanceof _o&&rW(t,h,f,p),h instanceof _o&&(h.culling=!0);var g=p.get("silent",!0);if(g!=null&&(h.silent=g),h.z2EmphasisLift=0,!a.namedFrom&&(_Pe.get(d)!=null&&nW(t,h,o,p,l,f,null),iW(t,h,o,p,l,f),sW(t,h,o,p,l),xPe.get(d)!=null)){var v=aW(t,h,o,p,l);v==="self"&&(s=!0);var m=i.get(o)||i.set(o,[]);m.push(h)}},this),this._enableBlurEntireSVG(s,t)},e.prototype._enableBlurEntireSVG=function(t,r){if(t&&r.isGeo){var n=r.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=n.opacity;this._svgGraphicRecord.root.traverse(function(s){if(!s.isGroup){ap(s);var a=s.ensureState("blur").style||{};a.opacity==null&&i!=null&&(a.opacity=i),s.ensureState("emphasis")}})}},e.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},e.prototype.findHighDownDispatchers=function(t,r){if(t==null)return[];var n=r.coordinateSystem;if(n.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var s=i.get(t);return s?[s]:[]}}else if(n.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},e.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},e.prototype._useSVG=function(t){var r=hu.getGeoResource(t);if(r&&r.type==="geoSVG"){var n=r.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=t}},e.prototype._freeSVG=function(){var t=this._svgMapName;if(t!=null){var r=hu.getGeoResource(t);r&&r.type==="geoSVG"&&r.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},e.prototype._updateController=function(t,r,n){var i=t.coordinateSystem,s=this._controller,a=this._controllerHost;a.zoomLimit=t.get("scaleLimit"),a.zoom=i.getZoom(),s.enable(t.get("roam")||!1);var o=t.mainType;function l(){var c={type:"geoRoam",componentType:o};return c[o+"Id"]=t.id,c}s.off("pan").on("pan",function(c){this._mouseDownFlag=!1,l4(a,c.dx,c.dy),n.dispatchAction(fe(l(),{dx:c.dx,dy:c.dy,animation:{duration:0}}))},this),s.off("zoom").on("zoom",function(c){this._mouseDownFlag=!1,c4(a,c.scale,c.originX,c.originY),n.dispatchAction(fe(l(),{totalZoom:a.zoom,zoom:c.scale,originX:c.originX,originY:c.originY,animation:{duration:0}}))},this),s.setPointerChecker(function(c,d,h){return i.containPoint([d,h])&&!VN(c,n,t)})},e.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var r=t.getTextContent();r&&(r.ignore=Hie(r).ignore)})},e.prototype._updateMapSelectHandler=function(t,r,n,i){var s=this;r.off("mousedown"),r.off("click"),t.get("selectedMode")&&(r.on("mousedown",function(){s._mouseDownFlag=!0}),r.on("click",function(a){s._mouseDownFlag&&(s._mouseDownFlag=!1)}))},e}();function rW(e,t,r,n){var i=n.getModel("itemStyle"),s=n.getModel(["emphasis","itemStyle"]),a=n.getModel(["blur","itemStyle"]),o=n.getModel(["select","itemStyle"]),l=yS(i),c=yS(s),d=yS(o),h=yS(a),f=e.data;if(f){var p=f.getItemVisual(r,"style"),g=f.getItemVisual(r,"decal");e.isVisualEncodedByVisualMap&&p.fill&&(l.fill=p.fill),g&&(l.decal=Jm(g,e.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=c,t.ensureState("select").style=d,t.ensureState("blur").style=h,ap(t)}function nW(e,t,r,n,i,s,a){var o=e.data,l=e.isGeo,c=o&&isNaN(o.get(o.mapDimension("value"),s)),d=o&&o.getItemLayout(s);if(l||c||d&&d.showLabel){var h=l?r:s,f=void 0;(!o||s>=0)&&(f=i);var p=a?{normal:{align:"center",verticalAlign:"middle"}}:null;Yi(t,ki(n),{labelFetcher:f,labelDataIndex:h,defaultText:r},p);var g=t.getTextContent();if(g&&(Hie(g).ignore=g.ignore,t.textConfig&&a)){var v=t.getBoundingRect().clone();t.textConfig.layoutRect=v,t.textConfig.position=[(a[0]-v.x)/v.width*100+"%",(a[1]-v.y)/v.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function iW(e,t,r,n,i,s){e.data?e.data.setItemGraphicEl(s,t):ft(t).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:r,region:n&&n.option||{}}}function sW(e,t,r,n,i){e.data||Np({el:t,componentModel:i,itemName:r,itemTooltipOption:n.get("tooltip")})}function aW(e,t,r,n,i){t.highDownSilentOnTouch=!!i.get("selectedMode");var s=n.getModel("emphasis"),a=s.get("focus");return Dn(t,a,s.get("blurScope"),s.get("disabled")),e.isGeo&&yTe(t,i,r),a}function oW(e,t,r){var n=[],i;function s(){i=[]}function a(){i.length&&(n.push(i),i=[])}var o=t({polygonStart:s,polygonEnd:a,lineStart:s,lineEnd:a,point:function(l,c){isFinite(l)&&isFinite(c)&&i.push([l,c])},sphere:function(){}});return!r&&o.polygonStart(),V(e,function(l){o.lineStart();for(var c=0;c<l.length;c++)o.point(l[c][0],l[c][1]);o.lineEnd()}),!r&&o.polygonEnd(),n}var bPe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,s){if(!(s&&s.type==="mapToggleSelect"&&s.from===this.uid)){var a=this.group;if(a.removeAll(),!r.getHostGeoModel()){if(this._mapDraw&&s&&s.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),s&&s.type==="geoRoam"&&s.componentType==="series"&&s.seriesId===r.id){var o=this._mapDraw;o&&a.add(o.group)}else if(r.needsDrawMap){var o=this._mapDraw||new Vie(i);a.add(o.group),o.draw(r,n,i,this,s),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;r.get("showLegendSymbol")&&n.getComponent("legend")&&this._renderSymbols(r,n,i)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(r,n,i){var s=r.originalData,a=this.group;s.each(s.mapDimension("value"),function(o,l){if(!isNaN(o)){var c=s.getItemLayout(l);if(!(!c||!c.point)){var d=c.point,h=c.offset,f=new wu({style:{fill:r.getData().getVisual("style").fill},shape:{cx:d[0]+h*9,cy:d[1],r:3},silent:!0,z2:8+(h?0:Dv+1)});if(!h){var p=r.mainSeries.getData(),g=s.getName(l),v=p.indexOfName(g),m=s.getItemModel(l),y=m.getModel("label"),x=p.getItemGraphicEl(v);Yi(f,ki(m),{labelFetcher:{getFormattedLabel:function(_,b){return r.getFormattedLabel(v,b)}},defaultText:g}),f.disableLabelAnimation=!0,y.get("position")||f.setTextConfig({position:"bottom"}),x.onHoverStateChange=function(_){aE(f,_)}}a.add(f)}}})},t.type="map",t}(nn),wPe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.needsDrawMap=!1,r.seriesGroup=[],r.getTooltipPosition=function(n){if(n!=null){var i=this.getData().getName(n),s=this.coordinateSystem,a=s.getRegion(i);return a&&s.dataToPoint(a.getCenter())}},r}return t.prototype.getInitialData=function(r){for(var n=qv(this,{coordDimensions:["value"],encodeDefaulter:xt(j5,this)}),i=qe(),s=[],a=0,o=n.count();a<o;a++){var l=n.getName(a);i.set(l,a)}var c=hu.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return V(c.regions,function(d){var h=d.name,f=i.get(h),p=d.properties&&d.properties.echartsStyle,g;f==null?(g={name:h},s.push(g)):g=n.getRawDataItem(f),p&&Ct(g,p)}),n.appendData(s),n},t.prototype.getHostGeoModel=function(){var r=this.option.geoIndex;return r!=null?this.ecModel.getComponent("geo",r):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(r){var n=this.getData();return n.get(n.mapDimension("value"),r)},t.prototype.getRegionModel=function(r){var n=this.getData();return n.getItemModel(n.indexOfName(r))},t.prototype.formatTooltip=function(r,n,i){for(var s=this.getData(),a=this.getRawValue(r),o=s.getName(r),l=this.seriesGroup,c=[],d=0;d<l.length;d++){var h=l[d].originalData.indexOfName(o),f=s.mapDimension("value");isNaN(l[d].originalData.get(f,h))||c.push(l[d].name)}return Ei("section",{header:c.join(", "),noHeader:!c.length,blocks:[Ei("nameValue",{name:o,value:a})]})},t.prototype.setZoom=function(r){this.option.zoom=r},t.prototype.setCenter=function(r){this.option.center=r},t.prototype.getLegendIcon=function(r){var n=r.icon||"roundRect",i=ai(n,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill);return i.setStyle(r.itemStyle),i.style.stroke="none",n.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(fn);function SPe(e,t){var r={};return V(e,function(n){n.each(n.mapDimension("value"),function(i,s){var a="ec-"+n.getName(s);r[a]=r[a]||[],isNaN(i)||r[a].push(i)})}),e[0].map(e[0].mapDimension("value"),function(n,i){for(var s="ec-"+e[0].getName(i),a=0,o=1/0,l=-1/0,c=r[s].length,d=0;d<c;d++)o=Math.min(o,r[s][d]),l=Math.max(l,r[s][d]),a+=r[s][d];var h;return t==="min"?h=o:t==="max"?h=l:t==="average"?h=a/c:h=a,c===0?NaN:h})}function CPe(e){var t={};e.eachSeriesByType("map",function(r){var n=r.getHostGeoModel(),i=n?"o"+n.id:"i"+r.getMapType();(t[i]=t[i]||[]).push(r)}),V(t,function(r,n){for(var i=SPe(xe(r,function(a){return a.getData()}),r[0].get("mapValueCalculation")),s=0;s<r.length;s++)r[s].originalData=r[s].getData();for(var s=0;s<r.length;s++)r[s].seriesGroup=r,r[s].needsDrawMap=s===0&&!r[s].getHostGeoModel(),r[s].setData(i.cloneShallow()),r[s].mainSeries=r[0]})}function kPe(e){var t={};e.eachSeriesByType("map",function(r){var n=r.getMapType();if(!(r.getHostGeoModel()||t[n])){var i={};V(r.seriesGroup,function(a){var o=a.coordinateSystem,l=a.originalData;a.get("showLegendSymbol")&&e.getComponent("legend")&&l.each(l.mapDimension("value"),function(c,d){var h=l.getName(d),f=o.getRegion(h);if(!(!f||isNaN(c))){var p=i[h]||0,g=o.dataToPoint(f.getCenter());i[h]=p+1,l.setItemLayout(d,{point:g,offset:p})}})});var s=r.getData();s.each(function(a){var o=s.getName(a),l=s.getItemLayout(a)||{};l.showLabel=!i[o],s.setItemLayout(a,l)}),t[n]=!0}})}var lW=Vi,dw=function(e){le(t,e);function t(r){var n=e.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new Hc,n._rawTransformable=new Hc,n.name=r,n}return t.prototype.setBoundingRect=function(r,n,i,s){return this._rect=new At(r,n,i,s),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(r,n,i,s){this._transformTo(r,n,i,s),this._viewRect=new At(r,n,i,s)},t.prototype._transformTo=function(r,n,i,s){var a=this.getBoundingRect(),o=this._rawTransformable;o.transform=a.calculateTransform(new At(r,n,i,s));var l=o.parent;o.parent=null,o.decomposeTransform(),o.parent=l,this._updateTransform()},t.prototype.setCenter=function(r,n){r&&(this._center=[Ne(r[0],n.getWidth()),Ne(r[1],n.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(r){r=r||1;var n=this.zoomLimit;n&&(n.max!=null&&(r=Math.min(n.max,r)),n.min!=null&&(r=Math.max(n.min,r))),this._zoom=r,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var r=this.getBoundingRect(),n=r.x+r.width/2,i=r.y+r.height/2;return[n,i]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var r=this._rawTransformable.getLocalTransform(),n=this._roamTransformable,i=this.getDefaultCenter(),s=this.getCenter(),a=this.getZoom();s=Vi([],s,r),i=Vi([],i,r),n.originX=s[0],n.originY=s[1],n.x=i[0]-s[0],n.y=i[1]-s[1],n.scaleX=n.scaleY=a,this._updateTransform()},t.prototype._updateTransform=function(){var r=this._roamTransformable,n=this._rawTransformable;n.parent=r,r.updateTransform(),n.updateTransform(),n5(this.transform||(this.transform=[]),n.transform||Ta()),this._rawTransform=n.getLocalTransform(),this.invTransform=this.invTransform||[],Pv(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var r=this._rawTransformable,n=this._roamTransformable,i=new Hc;return i.transform=n.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var r=this.getBoundingRect().clone();return r.applyTransform(this.transform),r},t.prototype.dataToPoint=function(r,n,i){var s=n?this._rawTransform:this.transform;return i=i||[],s?lW(i,r,s):ws(i,r)},t.prototype.pointToData=function(r){var n=this.invTransform;return n?lW([],r,n):[r[0],r[1]]},t.prototype.convertToPixel=function(r,n,i){var s=cW(n);return s===this?s.dataToPoint(i):null},t.prototype.convertFromPixel=function(r,n,i){var s=cW(n);return s===this?s.pointToData(i):null},t.prototype.containPoint=function(r){return this.getViewRectAfterRoam().contain(r[0],r[1])},t.dimensions=["x","y"],t}(Hc);function cW(e){var t=e.seriesModel;return t?t.coordinateSystem:null}var EPe={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},Wie=["lng","lat"],AL=function(e){le(t,e);function t(r,n,i){var s=e.call(this,r)||this;s.dimensions=Wie,s.type="geo",s._nameCoordMap=qe(),s.map=n;var a=i.projection,o=hu.load(n,i.nameMap,i.nameProperty),l=hu.getGeoResource(n);s.resourceType=l?l.type:null;var c=s.regions=o.regions,d=EPe[l.type];s._regionsMap=o.regionsMap,s.regions=o.regions,s.projection=a;var h;if(a)for(var f=0;f<c.length;f++){var p=c[f].getBoundingRect(a);h=h||p.clone(),h.union(p)}else h=o.boundingRect;return s.setBoundingRect(h.x,h.y,h.width,h.height),s.aspectScale=a?1:mt(i.aspectScale,d.aspectScale),s._invertLongitute=a?!1:d.invertLongitute,s}return t.prototype._transformTo=function(r,n,i,s){var a=this.getBoundingRect(),o=this._invertLongitute;a=a.clone(),o&&(a.y=-a.y-a.height);var l=this._rawTransformable;l.transform=a.calculateTransform(new At(r,n,i,s));var c=l.parent;l.parent=null,l.decomposeTransform(),l.parent=c,o&&(l.scaleY=-l.scaleY),this._updateTransform()},t.prototype.getRegion=function(r){return this._regionsMap.get(r)},t.prototype.getRegionByCoord=function(r){for(var n=this.regions,i=0;i<n.length;i++){var s=n[i];if(s.type==="geoJSON"&&s.contain(r))return n[i]}},t.prototype.addGeoCoord=function(r,n){this._nameCoordMap.set(r,n)},t.prototype.getGeoCoord=function(r){var n=this._regionsMap.get(r);return this._nameCoordMap.get(r)||n&&n.getCenter()},t.prototype.dataToPoint=function(r,n,i){if(De(r)&&(r=this.getGeoCoord(r)),r){var s=this.projection;return s&&(r=s.project(r)),r&&this.projectedToPoint(r,n,i)}},t.prototype.pointToData=function(r){var n=this.projection;return n&&(r=n.unproject(r)),r&&this.pointToProjected(r)},t.prototype.pointToProjected=function(r){return e.prototype.pointToData.call(this,r)},t.prototype.projectedToPoint=function(r,n,i){return e.prototype.dataToPoint.call(this,r,n,i)},t.prototype.convertToPixel=function(r,n,i){var s=uW(n);return s===this?s.dataToPoint(i):null},t.prototype.convertFromPixel=function(r,n,i){var s=uW(n);return s===this?s.pointToData(i):null},t}(dw);oi(AL,dw);function uW(e){var t=e.geoModel,r=e.seriesModel;return t?t.coordinateSystem:r?r.coordinateSystem||(r.getReferringComponents("geo",ii).models[0]||{}).coordinateSystem:null}function dW(e,t){var r=e.get("boundingCoords");if(r!=null){var n=r[0],i=r[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])){var s=this.projection;if(s){var a=n[0],o=n[1],l=i[0],c=i[1];n=[1/0,1/0],i=[-1/0,-1/0];var d=function(S,k,C,E){for(var T=C-S,N=E-k,R=0;R<=100;R++){var P=R/100,D=s.project([S+T*P,k+N*P]);hd(n,n,D),fd(i,i,D)}};d(a,o,l,o),d(l,o,l,c),d(l,c,a,c),d(a,c,l,o)}this.setBoundingRect(n[0],n[1],i[0]-n[0],i[1]-n[1])}}var h=this.getBoundingRect(),f=e.get("layoutCenter"),p=e.get("layoutSize"),g=t.getWidth(),v=t.getHeight(),m=h.width/h.height*this.aspectScale,y=!1,x,_;f&&p&&(x=[Ne(f[0],g),Ne(f[1],v)],_=Ne(p,Math.min(g,v)),!isNaN(x[0])&&!isNaN(x[1])&&!isNaN(_)&&(y=!0));var b;if(y)b={},m>1?(b.width=_,b.height=_/m):(b.height=_,b.width=_*m),b.y=x[1]-b.height/2,b.x=x[0]-b.width/2;else{var w=e.getBoxLayoutParams();w.aspect=m,b=pi(w,{width:g,height:v})}this.setViewRect(b.x,b.y,b.width,b.height),this.setCenter(e.get("center"),t),this.setZoom(e.get("zoom"))}function TPe(e,t){V(t.get("geoCoord"),function(r,n){e.addGeoCoord(n,r)})}var NPe=function(){function e(){this.dimensions=Wie}return e.prototype.create=function(t,r){var n=[];function i(a){return{nameProperty:a.get("nameProperty"),aspectScale:a.get("aspectScale"),projection:a.get("projection")}}t.eachComponent("geo",function(a,o){var l=a.get("map"),c=new AL(l+o,l,fe({nameMap:a.get("nameMap")},i(a)));c.zoomLimit=a.get("scaleLimit"),n.push(c),a.coordinateSystem=c,c.model=a,c.resize=dW,c.resize(a,r)}),t.eachSeries(function(a){var o=a.get("coordinateSystem");if(o==="geo"){var l=a.get("geoIndex")||0;a.coordinateSystem=n[l]}});var s={};return t.eachSeriesByType("map",function(a){if(!a.getHostGeoModel()){var o=a.getMapType();s[o]=s[o]||[],s[o].push(a)}}),V(s,function(a,o){var l=xe(a,function(d){return d.get("nameMap")}),c=new AL(o,o,fe({nameMap:Q3(l)},i(a[0])));c.zoomLimit=Mi.apply(null,xe(a,function(d){return d.get("scaleLimit")})),n.push(c),c.resize=dW,c.resize(a[0],r),V(a,function(d){d.coordinateSystem=c,TPe(c,d)})}),n},e.prototype.getFilledRegions=function(t,r,n,i){for(var s=(t||[]).slice(),a=qe(),o=0;o<s.length;o++)a.set(s[o].name,s[o]);var l=hu.load(r,n,i);return V(l.regions,function(c){var d=c.name,h=a.get(d),f=c.properties&&c.properties.echartsStyle;h||(h={name:d},s.push(h)),f&&Ct(h,f)}),s},e}(),Gie=new NPe,APe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n,i){var s=hu.getGeoResource(r.map);if(s&&s.type==="geoJSON"){var a=r.itemStyle=r.itemStyle||{};"color"in a||(a.color="#eee")}this.mergeDefaultAndTheme(r,i),np(r,"label",["show"])},t.prototype.optionUpdated=function(){var r=this,n=this.option;n.regions=Gie.getFilledRegions(n.regions,n.map,n.nameMap,n.nameProperty);var i={};this._optionModelMap=nc(n.regions||[],function(s,a){var o=a.name;return o&&(s.set(o,new Lr(a,r,r.ecModel)),a.selected&&(i[o]=!0)),s},qe()),n.selectedMap||(n.selectedMap=i)},t.prototype.getRegionModel=function(r){return this._optionModelMap.get(r)||new Lr(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(r,n){var i=this.getRegionModel(r),s=n==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),a={name:r};if(et(s))return a.status=n,s(a);if(De(s))return s.replace("{a}",r??"")},t.prototype.setZoom=function(r){this.option.zoom=r},t.prototype.setCenter=function(r){this.option.center=r},t.prototype.select=function(r){var n=this.option,i=n.selectedMode;if(i){i!=="multiple"&&(n.selectedMap=null);var s=n.selectedMap||(n.selectedMap={});s[r]=!0}},t.prototype.unSelect=function(r){var n=this.option.selectedMap;n&&(n[r]=!1)},t.prototype.toggleSelected=function(r){this[this.isSelected(r)?"unSelect":"select"](r)},t.prototype.isSelected=function(r){var n=this.option.selectedMap;return!!(n&&n[r])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(Kt);function hW(e,t){return e.pointToProjected?e.pointToProjected(t):e.pointToData(t)}function d4(e,t,r,n){var i=e.getZoom(),s=e.getCenter(),a=t.zoom,o=e.projectedToPoint?e.projectedToPoint(s):e.dataToPoint(s);if(t.dx!=null&&t.dy!=null&&(o[0]-=t.dx,o[1]-=t.dy,e.setCenter(hW(e,o),n)),a!=null){if(r){var l=r.min||0,c=r.max||1/0;a=Math.max(Math.min(i*a,c),l)/i}e.scaleX*=a,e.scaleY*=a;var d=(t.originX-e.x)*(a-1),h=(t.originY-e.y)*(a-1);e.x-=d,e.y-=h,e.updateTransform(),e.setCenter(hW(e,o),n),e.setZoom(a*i)}return{center:e.getCenter(),zoom:e.getZoom()}}var jPe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.focusBlurEnabled=!0,r}return t.prototype.init=function(r,n){this._api=n},t.prototype.render=function(r,n,i,s){if(this._model=r,!r.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new Vie(i));var a=this._mapDraw;a.draw(r,n,i,this,s),a.group.on("click",this._handleRegionClick,this),a.group.silent=r.get("silent"),this.group.add(a.group),this.updateSelectStatus(r,n,i)},t.prototype._handleRegionClick=function(r){var n;Cf(r.target,function(i){return(n=ft(i).eventData)!=null},!0),n&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:n.name})},t.prototype.updateSelectStatus=function(r,n,i){var s=this;this._mapDraw.group.traverse(function(a){var o=ft(a).eventData;if(o)return s._model.isSelected(o.name)?i.enterSelect(a):i.leaveSelect(a),!0})},t.prototype.findHighDownDispatchers=function(r){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(r,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(Rn);function RPe(e,t,r){hu.registerMap(e,t,r)}function qie(e){e.registerCoordinateSystem("geo",Gie),e.registerComponentModel(APe),e.registerComponentView(jPe),e.registerImpl("registerMap",RPe),e.registerImpl("getMap",function(r){return hu.getMapForUser(r)});function t(r,n){n.update="geo:updateSelectStatus",e.registerAction(n,function(i,s){var a={},o=[];return s.eachComponent({mainType:"geo",query:i},function(l){l[r](i.name);var c=l.coordinateSystem;V(c.regions,function(h){a[h.name]=l.isSelected(h.name)||!1});var d=[];V(a,function(h,f){a[f]&&d.push(f)}),o.push({geoIndex:l.componentIndex,name:d})}),{selected:a,allSelected:o,name:i.name}})}t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(r,n,i){var s=r.componentType||"series";n.eachComponent({mainType:s,query:r},function(a){var o=a.coordinateSystem;if(o.type==="geo"){var l=d4(o,r,a.get("scaleLimit"),i);a.setCenter&&a.setCenter(l.center),a.setZoom&&a.setZoom(l.zoom),s==="series"&&V(a.seriesGroup,function(c){c.setCenter(l.center),c.setZoom(l.zoom)})}})})}function IPe(e){Ft(qie),e.registerChartView(bPe),e.registerSeriesModel(wPe),e.registerLayout(kPe),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,CPe),Yre("map",e.registerAction)}function MPe(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var r=[t],n,i;n=r.pop();)if(i=n.children,n.isExpand&&i.length)for(var s=i.length,a=s-1;a>=0;a--){var o=i[a];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:a,thread:null},r.push(o)}}function PPe(e,t){var r=e.isExpand?e.children:[],n=e.parentNode.children,i=e.hierNode.i?n[e.hierNode.i-1]:null;if(r.length){OPe(e);var s=(r[0].hierNode.prelim+r[r.length-1].hierNode.prelim)/2;i?(e.hierNode.prelim=i.hierNode.prelim+t(e,i),e.hierNode.modifier=e.hierNode.prelim-s):e.hierNode.prelim=s}else i&&(e.hierNode.prelim=i.hierNode.prelim+t(e,i));e.parentNode.hierNode.defaultAncestor=$Pe(e,i,e.parentNode.hierNode.defaultAncestor||n[0],t)}function LPe(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function fW(e){return arguments.length?e:zPe}function nx(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}function DPe(e,t){return pi(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function OPe(e){for(var t=e.children,r=t.length,n=0,i=0;--r>=0;){var s=t[r];s.hierNode.prelim+=n,s.hierNode.modifier+=n,i+=s.hierNode.change,n+=s.hierNode.shift+i}}function $Pe(e,t,r,n){if(t){for(var i=e,s=e,a=s.parentNode.children[0],o=t,l=i.hierNode.modifier,c=s.hierNode.modifier,d=a.hierNode.modifier,h=o.hierNode.modifier;o=eR(o),s=tR(s),o&&s;){i=eR(i),a=tR(a),i.hierNode.ancestor=e;var f=o.hierNode.prelim+h-s.hierNode.prelim-c+n(o,s);f>0&&(FPe(BPe(o,e,r),e,f),c+=f,l+=f),h+=o.hierNode.modifier,c+=s.hierNode.modifier,l+=i.hierNode.modifier,d+=a.hierNode.modifier}o&&!eR(i)&&(i.hierNode.thread=o,i.hierNode.modifier+=h-l),s&&!tR(a)&&(a.hierNode.thread=s,a.hierNode.modifier+=c-d,r=e)}return r}function eR(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function tR(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function BPe(e,t,r){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:r}function FPe(e,t,r){var n=r/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=n,t.hierNode.shift+=r,t.hierNode.modifier+=r,t.hierNode.prelim+=r,e.hierNode.change+=n}function zPe(e,t){return e.parentNode===t.parentNode?1:2}var UPe=function(){function e(){this.parentPoint=[],this.childPoints=[]}return e}(),HPe=function(e){le(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new UPe},t.prototype.buildPath=function(r,n){var i=n.childPoints,s=i.length,a=n.parentPoint,o=i[0],l=i[s-1];if(s===1){r.moveTo(a[0],a[1]),r.lineTo(o[0],o[1]);return}var c=n.orient,d=c==="TB"||c==="BT"?0:1,h=1-d,f=Ne(n.forkPosition,1),p=[];p[d]=a[d],p[h]=a[h]+(l[h]-a[h])*f,r.moveTo(a[0],a[1]),r.lineTo(p[0],p[1]),r.moveTo(o[0],o[1]),p[d]=o[d],r.lineTo(p[0],p[1]),p[d]=l[d],r.lineTo(p[0],p[1]),r.lineTo(l[0],l[1]);for(var g=1;g<s-1;g++){var v=i[g];r.moveTo(v[0],v[1]),p[d]=v[d],r.lineTo(p[0],p[1])}},t}(Vt),VPe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._mainGroup=new ht,r}return t.prototype.init=function(r,n){this._controller=new uw(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(r,n,i){var s=r.getData(),a=r.layoutInfo,o=this._mainGroup,l=r.get("layout");l==="radial"?(o.x=a.x+a.width/2,o.y=a.y+a.height/2):(o.x=a.x,o.y=a.y),this._updateViewCoordSys(r,i),this._updateController(r,n,i);var c=this._data;s.diff(c).add(function(d){pW(s,d)&&gW(s,d,null,o,r)}).update(function(d,h){var f=c.getItemGraphicEl(h);if(!pW(s,d)){f&&vW(c,h,f,o,r);return}gW(s,d,f,o,r)}).remove(function(d){var h=c.getItemGraphicEl(d);h&&vW(c,d,h,o,r)}).execute(),this._nodeScaleRatio=r.get("nodeScaleRatio"),this._updateNodeAndLinkScale(r),r.get("expandAndCollapse")===!0&&s.eachItemGraphicEl(function(d,h){d.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:r.id,dataIndex:h})})}),this._data=s},t.prototype._updateViewCoordSys=function(r,n){var i=r.getData(),s=[];i.each(function(h){var f=i.getItemLayout(h);f&&!isNaN(f.x)&&!isNaN(f.y)&&s.push([+f.x,+f.y])});var a=[],o=[];_N(s,a,o);var l=this._min,c=this._max;o[0]-a[0]===0&&(a[0]=l?l[0]:a[0]-1,o[0]=c?c[0]:o[0]+1),o[1]-a[1]===0&&(a[1]=l?l[1]:a[1]-1,o[1]=c?c[1]:o[1]+1);var d=r.coordinateSystem=new dw;d.zoomLimit=r.get("scaleLimit"),d.setBoundingRect(a[0],a[1],o[0]-a[0],o[1]-a[1]),d.setCenter(r.get("center"),n),d.setZoom(r.get("zoom")),this.group.attr({x:d.x,y:d.y,scaleX:d.scaleX,scaleY:d.scaleY}),this._min=a,this._max=o},t.prototype._updateController=function(r,n,i){var s=this,a=this._controller,o=this._controllerHost,l=this.group;a.setPointerChecker(function(c,d,h){var f=l.getBoundingRect();return f.applyTransform(l.transform),f.contain(d,h)&&!VN(c,i,r)}),a.enable(r.get("roam")),o.zoomLimit=r.get("scaleLimit"),o.zoom=r.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(c){l4(o,c.dx,c.dy),i.dispatchAction({seriesId:r.id,type:"treeRoam",dx:c.dx,dy:c.dy})}).on("zoom",function(c){c4(o,c.scale,c.originX,c.originY),i.dispatchAction({seriesId:r.id,type:"treeRoam",zoom:c.scale,originX:c.originX,originY:c.originY}),s._updateNodeAndLinkScale(r),i.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(r){var n=r.getData(),i=this._getNodeGlobalScale(r);n.eachItemGraphicEl(function(s,a){s.setSymbolScale(i)})},t.prototype._getNodeGlobalScale=function(r){var n=r.coordinateSystem;if(n.type!=="view")return 1;var i=this._nodeScaleRatio,s=n.scaleX||1,a=n.getZoom(),o=(a-1)*i+1;return o/s},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(nn);function pW(e,t){var r=e.getItemLayout(t);return r&&!isNaN(r.x)&&!isNaN(r.y)}function gW(e,t,r,n,i){var s=!r,a=e.tree.getNodeByDataIndex(t),o=a.getModel(),l=a.getVisual("style").fill,c=a.isExpand===!1&&a.children.length!==0?l:"#fff",d=e.tree.root,h=a.parentNode===d?a:a.parentNode||a,f=e.getItemGraphicEl(h.dataIndex),p=h.getLayout(),g=f?{x:f.__oldX,y:f.__oldY,rawX:f.__radialOldRawX,rawY:f.__radialOldRawY}:p,v=a.getLayout();s?(r=new iw(e,t,null,{symbolInnerColor:c,useNameLabel:!0}),r.x=g.x,r.y=g.y):r.updateData(e,t,null,{symbolInnerColor:c,useNameLabel:!0}),r.__radialOldRawX=r.__radialRawX,r.__radialOldRawY=r.__radialRawY,r.__radialRawX=v.rawX,r.__radialRawY=v.rawY,n.add(r),e.setItemGraphicEl(t,r),r.__oldX=r.x,r.__oldY=r.y,wr(r,{x:v.x,y:v.y},i);var m=r.getSymbolPath();if(i.get("layout")==="radial"){var y=d.children[0],x=y.getLayout(),_=y.children.length,b=void 0,w=void 0;if(v.x===x.x&&a.isExpand===!0&&y.children.length){var S={x:(y.children[0].getLayout().x+y.children[_-1].getLayout().x)/2,y:(y.children[0].getLayout().y+y.children[_-1].getLayout().y)/2};b=Math.atan2(S.y-x.y,S.x-x.x),b<0&&(b=Math.PI*2+b),w=S.x<x.x,w&&(b=b-Math.PI)}else b=Math.atan2(v.y-x.y,v.x-x.x),b<0&&(b=Math.PI*2+b),a.children.length===0||a.children.length!==0&&a.isExpand===!1?(w=v.x<x.x,w&&(b=b-Math.PI)):(w=v.x>x.x,w||(b=b-Math.PI));var k=w?"left":"right",C=o.getModel("label"),E=C.get("rotate"),T=E*(Math.PI/180),N=m.getTextContent();N&&(m.setTextConfig({position:C.get("position")||k,rotation:E==null?-b:T,origin:"center"}),N.setStyle("verticalAlign","middle"))}var R=o.get(["emphasis","focus"]),P=R==="relative"?N_(a.getAncestorsIndices(),a.getDescendantIndices()):R==="ancestor"?a.getAncestorsIndices():R==="descendant"?a.getDescendantIndices():null;P&&(ft(r).focus=P),WPe(i,a,d,r,g,p,v,n),r.__edge&&(r.onHoverStateChange=function(D){if(D!=="blur"){var $=a.parentNode&&e.getItemGraphicEl(a.parentNode.dataIndex);$&&$.hoverState===Yb||aE(r.__edge,D)}})}function WPe(e,t,r,n,i,s,a,o){var l=t.getModel(),c=e.get("edgeShape"),d=e.get("layout"),h=e.getOrient(),f=e.get(["lineStyle","curveness"]),p=e.get("edgeForkPosition"),g=l.getModel("lineStyle").getLineStyle(),v=n.__edge;if(c==="curve")t.parentNode&&t.parentNode!==r&&(v||(v=n.__edge=new Zb({shape:jL(d,h,f,i,i)})),wr(v,{shape:jL(d,h,f,s,a)},e));else if(c==="polyline"&&d==="orthogonal"&&t!==r&&t.children&&t.children.length!==0&&t.isExpand===!0){for(var m=t.children,y=[],x=0;x<m.length;x++){var _=m[x].getLayout();y.push([_.x,_.y])}v||(v=n.__edge=new HPe({shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]],orient:h,forkPosition:p}})),wr(v,{shape:{parentPoint:[a.x,a.y],childPoints:y}},e)}v&&!(c==="polyline"&&!t.isExpand)&&(v.useStyle(rt({strokeNoScale:!0,fill:null},g)),qi(v,l,"lineStyle"),ap(v),o.add(v))}function mW(e,t,r,n,i){var s=t.tree.root,a=Yie(s,e),o=a.source,l=a.sourceLayout,c=t.getItemGraphicEl(e.dataIndex);if(c){var d=t.getItemGraphicEl(o.dataIndex),h=d.__edge,f=c.__edge||(o.isExpand===!1||o.children.length===1?h:void 0),p=n.get("edgeShape"),g=n.get("layout"),v=n.get("orient"),m=n.get(["lineStyle","curveness"]);f&&(p==="curve"?Wd(f,{shape:jL(g,v,m,l,l),style:{opacity:0}},n,{cb:function(){r.remove(f)},removeOpt:i}):p==="polyline"&&n.get("layout")==="orthogonal"&&Wd(f,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},n,{cb:function(){r.remove(f)},removeOpt:i}))}}function Yie(e,t){for(var r=t.parentNode===e?t:t.parentNode||t,n;n=r.getLayout(),n==null;)r=r.parentNode===e?r:r.parentNode||r;return{source:r,sourceLayout:n}}function vW(e,t,r,n,i){var s=e.tree.getNodeByDataIndex(t),a=e.tree.root,o=Yie(a,s).sourceLayout,l={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};Wd(r,{x:o.x+1,y:o.y+1},i,{cb:function(){n.remove(r),e.setItemGraphicEl(t,null)},removeOpt:l}),r.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:l}),s.children.forEach(function(c){mW(c,e,n,i,l)}),mW(s,e,n,i,l)}function jL(e,t,r,n,i){var s,a,o,l,c,d,h,f;if(e==="radial"){c=n.rawX,h=n.rawY,d=i.rawX,f=i.rawY;var p=nx(c,h),g=nx(c,h+(f-h)*r),v=nx(d,f+(h-f)*r),m=nx(d,f);return{x1:p.x||0,y1:p.y||0,x2:m.x||0,y2:m.y||0,cpx1:g.x||0,cpy1:g.y||0,cpx2:v.x||0,cpy2:v.y||0}}else c=n.x,h=n.y,d=i.x,f=i.y,(t==="LR"||t==="RL")&&(s=c+(d-c)*r,a=h,o=d+(c-d)*r,l=f),(t==="TB"||t==="BT")&&(s=c,a=h+(f-h)*r,o=d,l=f+(h-f)*r);return{x1:c,y1:h,x2:d,y2:f,cpx1:s,cpy1:a,cpx2:o,cpy2:l}}var vo=cr();function Kie(e){var t=e.mainData,r=e.datas;r||(r={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,Zie(t,r,e),V(r,function(n){V(t.TRANSFERABLE_METHODS,function(i){n.wrapMethod(i,xt(GPe,e))})}),t.wrapMethod("cloneShallow",xt(YPe,e)),V(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,xt(qPe,e))}),Os(r[t.dataType]===t)}function GPe(e,t){if(XPe(this)){var r=fe({},vo(this).datas);r[this.dataType]=t,Zie(t,r,e)}else h4(t,this.dataType,vo(this).mainData,e);return t}function qPe(e,t){return e.struct&&e.struct.update(),t}function YPe(e,t){return V(vo(t).datas,function(r,n){r!==t&&h4(r.cloneShallow(),n,t,e)}),t}function KPe(e){var t=vo(this).mainData;return e==null||t==null?t:vo(t).datas[e]}function ZPe(){var e=vo(this).mainData;return e==null?[{data:e}]:xe(Zt(vo(e).datas),function(t){return{type:t,data:vo(e).datas[t]}})}function XPe(e){return vo(e).mainData===e}function Zie(e,t,r){vo(e).datas={},V(t,function(n,i){h4(n,i,e,r)})}function h4(e,t,r,n){vo(r).datas[t]=e,vo(e).mainData=r,e.dataType=t,n.struct&&(e[n.structAttr]=n.struct,n.struct[n.datasAttr[t]]=e),e.getLinkedData=KPe,e.getLinkedDataAll=ZPe}var JPe=function(){function e(t,r){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=r}return e.prototype.isRemoved=function(){return this.dataIndex<0},e.prototype.eachNode=function(t,r,n){et(t)&&(n=r,r=t,t=null),t=t||{},De(t)&&(t={order:t});var i=t.order||"preorder",s=this[t.attr||"children"],a;i==="preorder"&&(a=r.call(n,this));for(var o=0;!a&&o<s.length;o++)s[o].eachNode(t,r,n);i==="postorder"&&r.call(n,this)},e.prototype.updateDepthAndHeight=function(t){var r=0;this.depth=t;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(t+1),i.height>r&&(r=i.height)}this.height=r+1},e.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var r=0,n=this.children,i=n.length;r<i;r++){var s=n[r].getNodeById(t);if(s)return s}},e.prototype.contains=function(t){if(t===this)return!0;for(var r=0,n=this.children,i=n.length;r<i;r++){var s=n[r].contains(t);if(s)return s}},e.prototype.getAncestors=function(t){for(var r=[],n=t?this:this.parentNode;n;)r.push(n),n=n.parentNode;return r.reverse(),r},e.prototype.getAncestorsIndices=function(){for(var t=[],r=this;r;)t.push(r.dataIndex),r=r.parentNode;return t.reverse(),t},e.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(r){t.push(r.dataIndex)}),t},e.prototype.getValue=function(t){var r=this.hostTree.data;return r.getStore().get(r.getDimensionIndex(t||"value"),this.dataIndex)},e.prototype.setLayout=function(t,r){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,r)},e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var r=this.hostTree,n=r.data.getItemModel(this.dataIndex);return n.getModel(t)}},e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},e.prototype.setVisual=function(t,r){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,r)},e.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},e.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,r=0;r<t.length;++r)if(t[r]===this)return r;return-1}return-1},e.prototype.isAncestorOf=function(t){for(var r=t.parentNode;r;){if(r===this)return!0;r=r.parentNode}return!1},e.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},e}(),f4=function(){function e(t){this.type="tree",this._nodes=[],this.hostModel=t}return e.prototype.eachNode=function(t,r,n){this.root.eachNode(t,r,n)},e.prototype.getNodeByDataIndex=function(t){var r=this.data.getRawIndex(t);return this._nodes[r]},e.prototype.getNodeById=function(t){return this.root.getNodeById(t)},e.prototype.update=function(){for(var t=this.data,r=this._nodes,n=0,i=r.length;n<i;n++)r[n].dataIndex=-1;for(var n=0,i=t.count();n<i;n++)r[t.getRawIndex(n)].dataIndex=n},e.prototype.clearLayouts=function(){this.data.clearItemLayouts()},e.createTree=function(t,r,n){var i=new e(r),s=[],a=1;o(t);function o(d,h){var f=d.value;a=Math.max(a,ve(f)?f.length:1),s.push(d);var p=new JPe(hi(d.name,""),i);h?QPe(p,h):i.root=p,i._nodes.push(p);var g=d.children;if(g)for(var v=0;v<g.length;v++)o(g[v],p)}i.root.updateDepthAndHeight(0);var l=rw(s,{coordDimensions:["value"],dimensionsCount:a}).dimensions,c=new Ls(l,r);return c.initData(s),n&&n(c),Kie({mainData:c,struct:i,structAttr:"tree"}),i.update(),i},e}();function QPe(e,t){var r=t.children;e.parentNode!==t&&(r.push(e),e.parentNode=t)}function Y_(e,t,r){if(e&&Pt(t,e.type)>=0){var n=r.getData().tree.root,i=e.targetNode;if(De(i)&&(i=n.getNodeById(i)),i&&n.contains(i))return{node:i};var s=e.targetNodeId;if(s!=null&&(i=n.getNodeById(s)))return{node:i}}}function Xie(e){for(var t=[];e;)e=e.parentNode,e&&t.push(e);return t.reverse()}function p4(e,t){var r=Xie(e);return Pt(r,t)>=0}function GN(e,t){for(var r=[];e;){var n=e.dataIndex;r.push({name:e.name,dataIndex:n,value:t.getRawValue(n)}),e=e.parentNode}return r.reverse(),r}var eLe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.hasSymbolVisual=!0,r.ignoreStyleOnData=!0,r}return t.prototype.getInitialData=function(r){var n={name:r.name,children:r.data},i=r.leaves||{},s=new Lr(i,this,this.ecModel),a=f4.createTree(n,this,o);function o(h){h.wrapMethod("getItemModel",function(f,p){var g=a.getNodeByDataIndex(p);return g&&g.children.length&&g.isExpand||(f.parentModel=s),f})}var l=0;a.eachNode("preorder",function(h){h.depth>l&&(l=h.depth)});var c=r.expandAndCollapse,d=c&&r.initialTreeDepth>=0?r.initialTreeDepth:l;return a.root.eachNode("preorder",function(h){var f=h.hostTree.data.getRawDataItem(h.dataIndex);h.isExpand=f&&f.collapsed!=null?!f.collapsed:h.depth<=d}),a.data},t.prototype.getOrient=function(){var r=this.get("orient");return r==="horizontal"?r="LR":r==="vertical"&&(r="TB"),r},t.prototype.setZoom=function(r){this.option.zoom=r},t.prototype.setCenter=function(r){this.option.center=r},t.prototype.formatTooltip=function(r,n,i){for(var s=this.getData().tree,a=s.root.children[0],o=s.getNodeByDataIndex(r),l=o.getValue(),c=o.name;o&&o!==a;)c=o.parentNode.name+"."+c,o=o.parentNode;return Ei("nameValue",{name:c,value:l,noValue:isNaN(l)||l==null})},t.prototype.getDataParams=function(r){var n=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(r);return n.treeAncestors=GN(i,this),n.collapsed=!i.isExpand,n},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(fn);function tLe(e,t,r){for(var n=[e],i=[],s;s=n.pop();)if(i.push(s),s.isExpand){var a=s.children;if(a.length)for(var o=0;o<a.length;o++)n.push(a[o])}for(;s=i.pop();)t(s,r)}function by(e,t){for(var r=[e],n;n=r.pop();)if(t(n),n.isExpand){var i=n.children;if(i.length)for(var s=i.length-1;s>=0;s--)r.push(i[s])}}function rLe(e,t){e.eachSeriesByType("tree",function(r){nLe(r,t)})}function nLe(e,t){var r=DPe(e,t);e.layoutInfo=r;var n=e.get("layout"),i=0,s=0,a=null;n==="radial"?(i=2*Math.PI,s=Math.min(r.height,r.width)/2,a=fW(function(_,b){return(_.parentNode===b.parentNode?1:2)/_.depth})):(i=r.width,s=r.height,a=fW());var o=e.getData().tree.root,l=o.children[0];if(l){MPe(o),tLe(l,PPe,a),o.hierNode.modifier=-l.hierNode.prelim,by(l,LPe);var c=l,d=l,h=l;by(l,function(_){var b=_.getLayout().x;b<c.getLayout().x&&(c=_),b>d.getLayout().x&&(d=_),_.depth>h.depth&&(h=_)});var f=c===d?1:a(c,d)/2,p=f-c.getLayout().x,g=0,v=0,m=0,y=0;if(n==="radial")g=i/(d.getLayout().x+f+p),v=s/(h.depth-1||1),by(l,function(_){m=(_.getLayout().x+p)*g,y=(_.depth-1)*v;var b=nx(m,y);_.setLayout({x:b.x,y:b.y,rawX:m,rawY:y},!0)});else{var x=e.getOrient();x==="RL"||x==="LR"?(v=s/(d.getLayout().x+f+p),g=i/(h.depth-1||1),by(l,function(_){y=(_.getLayout().x+p)*v,m=x==="LR"?(_.depth-1)*g:i-(_.depth-1)*g,_.setLayout({x:m,y},!0)})):(x==="TB"||x==="BT")&&(g=i/(d.getLayout().x+f+p),v=s/(h.depth-1||1),by(l,function(_){m=(_.getLayout().x+p)*g,y=x==="TB"?(_.depth-1)*v:s-(_.depth-1)*v,_.setLayout({x:m,y},!0)}))}}}function iLe(e){e.eachSeriesByType("tree",function(t){var r=t.getData(),n=r.tree;n.eachNode(function(i){var s=i.getModel(),a=s.getModel("itemStyle").getItemStyle(),o=r.ensureUniqueItemVisual(i.dataIndex,"style");fe(o,a)})})}function sLe(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,r){r.eachComponent({mainType:"series",subType:"tree",query:t},function(n){var i=t.dataIndex,s=n.getData().tree,a=s.getNodeByDataIndex(i);a.isExpand=!a.isExpand})}),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,r,n){r.eachComponent({mainType:"series",subType:"tree",query:t},function(i){var s=i.coordinateSystem,a=d4(s,t,void 0,n);i.setCenter&&i.setCenter(a.center),i.setZoom&&i.setZoom(a.zoom)})})}function aLe(e){e.registerChartView(VPe),e.registerSeriesModel(eLe),e.registerLayout(rLe),e.registerVisual(iLe),sLe(e)}var yW=["treemapZoomToNode","treemapRender","treemapMove"];function oLe(e){for(var t=0;t<yW.length;t++)e.registerAction({type:yW[t],update:"updateView"},Xn);e.registerAction({type:"treemapRootToNode",update:"updateView"},function(r,n){n.eachComponent({mainType:"series",subType:"treemap",query:r},i);function i(s,a){var o=["treemapZoomToNode","treemapRootToNode"],l=Y_(r,o,s);if(l){var c=s.getViewRoot();c&&(r.direction=p4(c,l.node)?"rollUp":"drillDown"),s.resetViewRoot(l.node)}}})}function Jie(e){var t=e.getData(),r=t.tree,n={};r.eachNode(function(i){for(var s=i;s&&s.depth>1;)s=s.parentNode;var a=iL(e.ecModel,s.name||s.dataIndex+"",n);i.setVisual("decal",a)})}var lLe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.preventUsingHoverLayer=!0,r}return t.prototype.getInitialData=function(r,n){var i={name:r.name,children:r.data};Qie(i);var s=r.levels||[],a=this.designatedVisualItemStyle={},o=new Lr({itemStyle:a},this,n);s=r.levels=cLe(s,n);var l=xe(s||[],function(h){return new Lr(h,o,n)},this),c=f4.createTree(i,this,d);function d(h){h.wrapMethod("getItemModel",function(f,p){var g=c.getNodeByDataIndex(p),v=g?l[g.depth]:null;return f.parentModel=v||o,f})}return c.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(r,n,i){var s=this.getData(),a=this.getRawValue(r),o=s.getName(r);return Ei("nameValue",{name:o,value:a})},t.prototype.getDataParams=function(r){var n=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(r);return n.treeAncestors=GN(i,this),n.treePathInfo=n.treeAncestors,n},t.prototype.setLayoutInfo=function(r){this.layoutInfo=this.layoutInfo||{},fe(this.layoutInfo,r)},t.prototype.mapIdToIndex=function(r){var n=this._idIndexMap;n||(n=this._idIndexMap=qe(),this._idIndexMapCount=0);var i=n.get(r);return i==null&&n.set(r,i=this._idIndexMapCount++),i},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var n=this.getRawData().tree.root;(!r||r!==n&&!n.contains(r))&&(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){Jie(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(fn);function Qie(e){var t=0;V(e.children,function(n){Qie(n);var i=n.value;ve(i)&&(i=i[0]),t+=i});var r=e.value;ve(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=t),r<0&&(r=0),ve(e.value)?e.value[0]=r:e.value=r}function cLe(e,t){var r=Xr(t.get("color")),n=Xr(t.get(["aria","decal","decals"]));if(r){e=e||[];var i,s;V(e,function(o){var l=new Lr(o),c=l.get("color"),d=l.get("decal");(l.get(["itemStyle","color"])||c&&c!=="none")&&(i=!0),(l.get(["itemStyle","decal"])||d&&d!=="none")&&(s=!0)});var a=e[0]||(e[0]={});return i||(a.color=r.slice()),!s&&n&&(a.decal=n.slice()),e}}var uLe=8,xW=8,rR=5,dLe=function(){function e(t){this.group=new ht,t.add(this.group)}return e.prototype.render=function(t,r,n,i){var s=t.getModel("breadcrumb"),a=this.group;if(a.removeAll(),!(!s.get("show")||!n)){var o=s.getModel("itemStyle"),l=s.getModel("emphasis"),c=o.getModel("textStyle"),d=l.getModel(["itemStyle","textStyle"]),h={pos:{left:s.get("left"),right:s.get("right"),top:s.get("top"),bottom:s.get("bottom")},box:{width:r.getWidth(),height:r.getHeight()},emptyItemWidth:s.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,h,c),this._renderContent(t,h,o,l,c,d,i),MN(a,h.pos,h.box)}},e.prototype._prepare=function(t,r,n){for(var i=t;i;i=i.parentNode){var s=hi(i.getModel().get("name"),""),a=n.getTextRect(s),o=Math.max(a.width+uLe*2,r.emptyItemWidth);r.totalWidth+=o+xW,r.renderList.push({node:i,text:s,width:o})}},e.prototype._renderContent=function(t,r,n,i,s,a,o){for(var l=0,c=r.emptyItemWidth,d=t.get(["breadcrumb","height"]),h=_Ne(r.pos,r.box),f=r.totalWidth,p=r.renderList,g=i.getModel("itemStyle").getItemStyle(),v=p.length-1;v>=0;v--){var m=p[v],y=m.node,x=m.width,_=m.text;f>h.width&&(f-=x-c,x=c,_=null);var b=new Fs({shape:{points:hLe(l,0,x,d,v===p.length-1,v===0)},style:rt(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new pr({style:dn(s,{text:_})}),textConfig:{position:"inside"},z2:Dv*1e4,onclick:xt(o,y)});b.disableLabelAnimation=!0,b.getTextContent().ensureState("emphasis").style=dn(a,{text:_}),b.ensureState("emphasis").style=g,Dn(b,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(b),fLe(b,t,y),l+=x+xW}},e.prototype.remove=function(){this.group.removeAll()},e}();function hLe(e,t,r,n,i,s){var a=[[i?e:e-rR,t],[e+r,t],[e+r,t+n],[i?e:e-rR,t+n]];return!s&&a.splice(2,0,[e+r+rR,t+n/2]),!i&&a.push([e,t+n/2]),a}function fLe(e,t,r){ft(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&GN(r,t)}}var pLe=function(){function e(){this._storage=[],this._elExistsMap={}}return e.prototype.add=function(t,r,n,i,s){return this._elExistsMap[t.id]?!1:(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:r,duration:n,delay:i,easing:s}),!0)},e.prototype.finished=function(t){return this._finishedCallback=t,this},e.prototype.start=function(){for(var t=this,r=this._storage.length,n=function(){r--,r<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,s=this._storage.length;i<s;i++){var a=this._storage[i];a.el.animateTo(a.target,{duration:a.duration,delay:a.delay,easing:a.easing,setToFinal:!0,done:n,aborted:n})}return this},e}();function gLe(){return new pLe}var RL=ht,_W=lr,bW=3,wW="label",SW="upperLabel",mLe=Dv*10,vLe=Dv*2,yLe=Dv*3,rf=sp([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),CW=function(e){var t=rf(e);return t.stroke=t.fill=t.lineWidth=null,t},NE=cr(),xLe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._state="ready",r._storage=wy(),r}return t.prototype.render=function(r,n,i,s){var a=n.findComponents({mainType:"series",subType:"treemap",query:s});if(!(Pt(a,r)<0)){this.seriesModel=r,this.api=i,this.ecModel=n;var o=["treemapZoomToNode","treemapRootToNode"],l=Y_(s,o,r),c=s&&s.type,d=r.layoutInfo,h=!this._oldTree,f=this._storage,p=c==="treemapRootToNode"&&l&&f?{rootNodeGroup:f.nodeGroup[l.node.getRawIndex()],direction:s.direction}:null,g=this._giveContainerGroup(d),v=r.get("animation"),m=this._doRender(g,r,p);v&&!h&&(!c||c==="treemapZoomToNode"||c==="treemapRootToNode")?this._doAnimation(g,m,r,p):m.renderFinally(),this._resetController(i),this._renderBreadcrumb(r,i,l)}},t.prototype._giveContainerGroup=function(r){var n=this._containerGroup;return n||(n=this._containerGroup=new RL,this._initEvents(n),this.group.add(n)),n.x=r.x,n.y=r.y,n},t.prototype._doRender=function(r,n,i){var s=n.getData().tree,a=this._oldTree,o=wy(),l=wy(),c=this._storage,d=[];function h(x,_,b,w){return _Le(n,l,c,i,o,d,x,_,b,w)}v(s.root?[s.root]:[],a&&a.root?[a.root]:[],r,s===a||!a,0);var f=m(c);if(this._oldTree=s,this._storage=l,this._controllerHost){var p=this.seriesModel.layoutInfo,g=s.root.getLayout();g.width===p.width&&g.height===p.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:o,willDeleteEls:f,renderFinally:y};function v(x,_,b,w,S){w?(_=x,V(x,function(E,T){!E.isRemoved()&&C(T,T)})):new uu(_,x,k,k).add(C).update(C).remove(xt(C,null)).execute();function k(E){return E.getId()}function C(E,T){var N=E!=null?x[E]:null,R=T!=null?_[T]:null,P=h(N,R,b,S);P&&v(N&&N.viewChildren||[],R&&R.viewChildren||[],P,w,S+1)}}function m(x){var _=wy();return x&&V(x,function(b,w){var S=_[w];V(b,function(k){k&&(S.push(k),NE(k).willDelete=!0)})}),_}function y(){V(f,function(x){V(x,function(_){_.parent&&_.parent.remove(_)})}),V(d,function(x){x.invisible=!0,x.dirty()})}},t.prototype._doAnimation=function(r,n,i,s){var a=i.get("animationDurationUpdate"),o=i.get("animationEasing"),l=(et(a)?0:a)||0,c=(et(o)?null:o)||"cubicOut",d=gLe();V(n.willDeleteEls,function(h,f){V(h,function(p,g){if(!p.invisible){var v=p.parent,m,y=NE(v);if(s&&s.direction==="drillDown")m=v===s.rootNodeGroup?{shape:{x:0,y:0,width:y.nodeWidth,height:y.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var x=0,_=0;y.willDelete||(x=y.nodeWidth/2,_=y.nodeHeight/2),m=f==="nodeGroup"?{x,y:_,style:{opacity:0}}:{shape:{x,y:_,width:0,height:0},style:{opacity:0}}}m&&d.add(p,m,l,0,c)}})}),V(this._storage,function(h,f){V(h,function(p,g){var v=n.lastsForAnimation[f][g],m={};v&&(p instanceof ht?v.oldX!=null&&(m.x=p.x,m.y=p.y,p.x=v.oldX,p.y=v.oldY):(v.oldShape&&(m.shape=fe({},p.shape),p.setShape(v.oldShape)),v.fadein?(p.setStyle("opacity",0),m.style={opacity:1}):p.style.opacity!==1&&(m.style={opacity:1})),d.add(p,m,l,0,c))})},this),this._state="animating",d.finished(He(function(){this._state="ready",n.renderFinally()},this)).start()},t.prototype._resetController=function(r){var n=this._controller,i=this._controllerHost;i||(this._controllerHost={target:this.group},i=this._controllerHost),n||(n=this._controller=new uw(r.getZr()),n.enable(this.seriesModel.get("roam")),i.zoomLimit=this.seriesModel.get("scaleLimit"),i.zoom=this.seriesModel.get("zoom"),n.on("pan",He(this._onPan,this)),n.on("zoom",He(this._onZoom,this)));var s=new At(0,0,r.getWidth(),r.getHeight());n.setPointerChecker(function(a,o,l){return s.contain(o,l)})},t.prototype._clearController=function(){var r=this._controller;this._controllerHost=null,r&&(r.dispose(),r=null)},t.prototype._onPan=function(r){if(this._state!=="animating"&&(Math.abs(r.dx)>bW||Math.abs(r.dy)>bW)){var n=this.seriesModel.getData().tree.root;if(!n)return;var i=n.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+r.dx,y:i.y+r.dy,width:i.width,height:i.height}})}},t.prototype._onZoom=function(r){var n=r.originX,i=r.originY,s=r.scale;if(this._state!=="animating"){var a=this.seriesModel.getData().tree.root;if(!a)return;var o=a.getLayout();if(!o)return;var l=new At(o.x,o.y,o.width,o.height),c=null,d=this._controllerHost;c=d.zoomLimit;var h=d.zoom=d.zoom||1;if(h*=s,c){var f=c.min||0,p=c.max||1/0;h=Math.max(Math.min(p,h),f)}var g=h/d.zoom;d.zoom=h;var v=this.seriesModel.layoutInfo;n-=v.x,i-=v.y;var m=Ta();ic(m,m,[-n,-i]),i5(m,m,[g,g]),ic(m,m,[n,i]),l.applyTransform(m),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},t.prototype._initEvents=function(r){var n=this;r.on("click",function(i){if(n._state==="ready"){var s=n.seriesModel.get("nodeClick",!0);if(s){var a=n.findTarget(i.offsetX,i.offsetY);if(a){var o=a.node;if(o.getLayout().isLeafRoot)n._rootToNode(a);else if(s==="zoomToNode")n._zoomToNode(a);else if(s==="link"){var l=o.hostTree.data.getItemModel(o.dataIndex),c=l.get("link",!0),d=l.get("target",!0)||"blank";c&&hE(c,d)}}}}},this)},t.prototype._renderBreadcrumb=function(r,n,i){var s=this;i||(i=r.get("leafDepth",!0)!=null?{node:r.getViewRoot()}:this.findTarget(n.getWidth()/2,n.getHeight()/2),i||(i={node:r.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new dLe(this.group))).render(r,n,i.node,function(a){s._state!=="animating"&&(p4(r.getViewRoot(),a)?s._rootToNode({node:a}):s._zoomToNode({node:a}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=wy(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(r){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},t.prototype._rootToNode=function(r){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},t.prototype.findTarget=function(r,n){var i,s=this.seriesModel.getViewRoot();return s.eachNode({attr:"viewChildren",order:"preorder"},function(a){var o=this._storage.background[a.getRawIndex()];if(o){var l=o.transformCoordToLocal(r,n),c=o.shape;if(c.x<=l[0]&&l[0]<=c.x+c.width&&c.y<=l[1]&&l[1]<=c.y+c.height)i={node:a,offsetX:l[0],offsetY:l[1]};else return!1}},this),i},t.type="treemap",t}(nn);function wy(){return{nodeGroup:[],background:[],content:[]}}function _Le(e,t,r,n,i,s,a,o,l,c){if(!a)return;var d=a.getLayout(),h=e.getData(),f=a.getModel();if(h.setItemGraphicEl(a.dataIndex,null),!d||!d.isInView)return;var p=d.width,g=d.height,v=d.borderWidth,m=d.invisible,y=a.getRawIndex(),x=o&&o.getRawIndex(),_=a.viewChildren,b=d.upperHeight,w=_&&_.length,S=f.getModel("itemStyle"),k=f.getModel(["emphasis","itemStyle"]),C=f.getModel(["blur","itemStyle"]),E=f.getModel(["select","itemStyle"]),T=S.get("borderRadius")||0,N=Y("nodeGroup",RL);if(!N)return;if(l.add(N),N.x=d.x||0,N.y=d.y||0,N.markRedraw(),NE(N).nodeWidth=p,NE(N).nodeHeight=g,d.isAboveViewRoot)return N;var R=Y("background",_W,c,vLe);R&&I(N,R,w&&d.upperLabelHeight);var P=f.getModel("emphasis"),D=P.get("focus"),$=P.get("blurScope"),L=P.get("disabled"),O=D==="ancestor"?a.getAncestorsIndices():D==="descendant"?a.getDescendantIndices():D;if(w)L_(N)&&wf(N,!1),R&&(wf(R,!L),h.setItemGraphicEl(a.dataIndex,R),ZP(R,O,$));else{var j=Y("content",_W,c,yLe);j&&z(N,j),R.disableMorphing=!0,R&&L_(R)&&wf(R,!1),wf(N,!L),h.setItemGraphicEl(a.dataIndex,N);var M=f.getShallow("cursor");M&&j.attr("cursor",M),ZP(N,O,$)}return N;function I(W,K,X){var Q=ft(K);if(Q.dataIndex=a.dataIndex,Q.seriesIndex=e.seriesIndex,K.setShape({x:0,y:0,width:p,height:g,r:T}),m)U(K);else{K.invisible=!1;var re=a.getVisual("style"),Se=re.stroke,Te=CW(S);Te.fill=Se;var Ie=rf(k);Ie.fill=k.get("borderColor");var Me=rf(C);Me.fill=C.get("borderColor");var Ee=rf(E);if(Ee.fill=E.get("borderColor"),X){var Ae=p-2*v;F(K,Se,re.opacity,{x:v,y:0,width:Ae,height:b})}else K.removeTextContent();K.setStyle(Te),K.ensureState("emphasis").style=Ie,K.ensureState("blur").style=Me,K.ensureState("select").style=Ee,ap(K)}W.add(K)}function z(W,K){var X=ft(K);X.dataIndex=a.dataIndex,X.seriesIndex=e.seriesIndex;var Q=Math.max(p-2*v,0),re=Math.max(g-2*v,0);if(K.culling=!0,K.setShape({x:v,y:v,width:Q,height:re,r:T}),m)U(K);else{K.invisible=!1;var Se=a.getVisual("style"),Te=Se.fill,Ie=CW(S);Ie.fill=Te,Ie.decal=Se.decal;var Me=rf(k),Ee=rf(C),Ae=rf(E);F(K,Te,Se.opacity,null),K.setStyle(Ie),K.ensureState("emphasis").style=Me,K.ensureState("blur").style=Ee,K.ensureState("select").style=Ae,ap(K)}W.add(K)}function U(W){!W.invisible&&s.push(W)}function F(W,K,X,Q){var re=f.getModel(Q?SW:wW),Se=hi(f.get("name"),null),Te=re.getShallow("show");Yi(W,ki(f,Q?SW:wW),{defaultText:Te?Se:null,inheritColor:K,defaultOpacity:X,labelFetcher:e,labelDataIndex:a.dataIndex});var Ie=W.getTextContent();if(Ie){var Me=Ie.style,Ee=t5(Me.padding||0);Q&&(W.setTextConfig({layoutRect:Q}),Ie.disableLabelLayout=!0),Ie.beforeUpdate=function(){var Lt=Math.max((Q?Q.width:W.shape.width)-Ee[1]-Ee[3],0),zt=Math.max((Q?Q.height:W.shape.height)-Ee[0]-Ee[2],0);(Me.width!==Lt||Me.height!==zt)&&Ie.setStyle({width:Lt,height:zt})},Me.truncateMinChar=2,Me.lineOverflow="truncate",G(Me,Q,d);var Ae=Ie.getState("emphasis");G(Ae?Ae.style:null,Q,d)}}function G(W,K,X){var Q=W?W.text:null;if(!K&&X.isLeafRoot&&Q!=null){var re=e.get("drillDownIcon",!0);W.text=re?re+" "+Q:Q}}function Y(W,K,X,Q){var re=x!=null&&r[W][x],Se=i[W];return re?(r[W][x]=null,Z(Se,re)):m||(re=new K,re instanceof _o&&(re.z2=bLe(X,Q)),B(Se,re)),t[W][y]=re}function Z(W,K){var X=W[y]={};K instanceof RL?(X.oldX=K.x,X.oldY=K.y):X.oldShape=fe({},K.shape)}function B(W,K){var X=W[y]={},Q=a.parentNode,re=K instanceof ht;if(Q&&(!n||n.direction==="drillDown")){var Se=0,Te=0,Ie=i.background[Q.getRawIndex()];!n&&Ie&&Ie.oldShape&&(Se=Ie.oldShape.width,Te=Ie.oldShape.height),re?(X.oldX=0,X.oldY=Te):X.oldShape={x:Se,y:Te,width:0,height:0}}X.fadein=!re}}function bLe(e,t){return e*mLe+t}var K_=V,wLe=st,AE=-1,Ci=function(){function e(t){var r=t.mappingMethod,n=t.type,i=this.option=lt(t);this.type=n,this.mappingMethod=r,this._normalizeData=kLe[r];var s=e.visualHandlers[n];this.applyVisual=s.applyVisual,this.getColorMapper=s.getColorMapper,this._normalizedToVisual=s._normalizedToVisual[r],r==="piecewise"?(nR(i),SLe(i)):r==="category"?i.categories?CLe(i):nR(i,!0):(Os(r!=="linear"||i.dataExtent),nR(i))}return e.prototype.mapValueToVisual=function(t){var r=this._normalizeData(t);return this._normalizedToVisual(r,t)},e.prototype.getNormalizer=function(){return He(this._normalizeData,this)},e.listVisualTypes=function(){return Zt(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(t,r,n){st(t)?V(t,r,n):r.call(n,t)},e.mapVisual=function(t,r,n){var i,s=ve(t)?[]:st(t)?{}:(i=!0,null);return e.eachVisual(t,function(a,o){var l=r.call(n,a,o);i?s=l:s[o]=l}),s},e.retrieveVisuals=function(t){var r={},n;return t&&K_(e.visualHandlers,function(i,s){t.hasOwnProperty(s)&&(r[s]=t[s],n=!0)}),n?r:null},e.prepareVisualTypes=function(t){if(ve(t))t=t.slice();else if(wLe(t)){var r=[];K_(t,function(n,i){r.push(i)}),t=r}else return[];return t.sort(function(n,i){return i==="color"&&n!=="color"&&n.indexOf("color")===0?1:-1}),t},e.dependsOn=function(t,r){return r==="color"?!!(t&&t.indexOf(r)===0):t===r},e.findPieceIndex=function(t,r,n){for(var i,s=1/0,a=0,o=r.length;a<o;a++){var l=r[a].value;if(l!=null){if(l===t||De(l)&&l===t+"")return a;n&&f(l,a)}}for(var a=0,o=r.length;a<o;a++){var c=r[a],d=c.interval,h=c.close;if(d){if(d[0]===-1/0){if(_S(h[1],t,d[1]))return a}else if(d[1]===1/0){if(_S(h[0],d[0],t))return a}else if(_S(h[0],d[0],t)&&_S(h[1],t,d[1]))return a;n&&f(d[0],a),n&&f(d[1],a)}}if(n)return t===1/0?r.length-1:t===-1/0?0:i;function f(p,g){var v=Math.abs(p-t);v<s&&(s=v,i=g)}},e.visualHandlers={color:{applyVisual:Sy("color"),getColorMapper:function(){var t=this.option;return He(t.mappingMethod==="category"?function(r,n){return!n&&(r=this._normalizeData(r)),ix.call(this,r)}:function(r,n,i){var s=!!i;return!n&&(r=this._normalizeData(r)),i=OA(r,t.parsedVisual,i),s?i:Zc(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return Zc(OA(t,this.option.parsedVisual),"rgba")},category:ix,piecewise:function(t,r){var n=ML.call(this,r);return n==null&&(n=Zc(OA(t,this.option.parsedVisual),"rgba")),n},fixed:nf}},colorHue:xS(function(t,r){return Nx(t,r)}),colorSaturation:xS(function(t,r){return Nx(t,null,r)}),colorLightness:xS(function(t,r){return Nx(t,null,null,r)}),colorAlpha:xS(function(t,r){return eE(t,r)}),decal:{applyVisual:Sy("decal"),_normalizedToVisual:{linear:null,category:ix,piecewise:null,fixed:null}},opacity:{applyVisual:Sy("opacity"),_normalizedToVisual:IL([0,1])},liftZ:{applyVisual:Sy("liftZ"),_normalizedToVisual:{linear:nf,category:nf,piecewise:nf,fixed:nf}},symbol:{applyVisual:function(t,r,n){var i=this.mapValueToVisual(t);n("symbol",i)},_normalizedToVisual:{linear:kW,category:ix,piecewise:function(t,r){var n=ML.call(this,r);return n==null&&(n=kW.call(this,t)),n},fixed:nf}},symbolSize:{applyVisual:Sy("symbolSize"),_normalizedToVisual:IL([0,1])}},e}();function SLe(e){var t=e.pieceList;e.hasSpecialVisual=!1,V(t,function(r,n){r.originIndex=n,r.visual!=null&&(e.hasSpecialVisual=!0)})}function CLe(e){var t=e.categories,r=e.categoryMap={},n=e.visual;if(K_(t,function(a,o){r[a]=o}),!ve(n)){var i=[];st(n)?K_(n,function(a,o){var l=r[o];i[l??AE]=a}):i[AE]=n,n=ese(e,i)}for(var s=t.length-1;s>=0;s--)n[s]==null&&(delete r[t[s]],t.pop())}function nR(e,t){var r=e.visual,n=[];st(r)?K_(r,function(s){n.push(s)}):r!=null&&n.push(r);var i={color:1,symbol:1};!t&&n.length===1&&!i.hasOwnProperty(e.type)&&(n[1]=n[0]),ese(e,n)}function xS(e){return{applyVisual:function(t,r,n){var i=this.mapValueToVisual(t);n("color",e(r("color"),i))},_normalizedToVisual:IL([0,1])}}function kW(e){var t=this.option.visual;return t[Math.round(Pr(e,[0,1],[0,t.length-1],!0))]||{}}function Sy(e){return function(t,r,n){n(e,this.mapValueToVisual(t))}}function ix(e){var t=this.option.visual;return t[this.option.loop&&e!==AE?e%t.length:e]}function nf(){return this.option.visual[0]}function IL(e){return{linear:function(t){return Pr(t,e,this.option.visual,!0)},category:ix,piecewise:function(t,r){var n=ML.call(this,r);return n==null&&(n=Pr(t,e,this.option.visual,!0)),n},fixed:nf}}function ML(e){var t=this.option,r=t.pieceList;if(t.hasSpecialVisual){var n=Ci.findPieceIndex(e,r),i=r[n];if(i&&i.visual)return i.visual[this.type]}}function ese(e,t){return e.visual=t,e.type==="color"&&(e.parsedVisual=xe(t,function(r){var n=Na(r);return n||[0,0,0,1]})),t}var kLe={linear:function(e){return Pr(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,r=Ci.findPieceIndex(e,t,!0);if(r!=null)return Pr(r,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return t??AE},fixed:Xn};function _S(e,t,r){return e?t<=r:t<r}var ELe="itemStyle",tse=cr();const TLe={seriesType:"treemap",reset:function(e){var t=e.getData().tree,r=t.root;r.isRemoved()||rse(r,{},e.getViewRoot().getAncestors(),e)}};function rse(e,t,r,n){var i=e.getModel(),s=e.getLayout(),a=e.hostTree.data;if(!(!s||s.invisible||!s.isInView)){var o=i.getModel(ELe),l=NLe(o,t,n),c=a.ensureUniqueItemVisual(e.dataIndex,"style"),d=o.get("borderColor"),h=o.get("borderColorSaturation"),f;h!=null&&(f=EW(l),d=ALe(h,f)),c.stroke=d;var p=e.viewChildren;if(!p||!p.length)f=EW(l),c.fill=f;else{var g=jLe(e,i,s,o,l,p);V(p,function(v,m){if(v.depth>=r.length||v===r[v.depth]){var y=RLe(i,l,v,m,g,n);rse(v,y,r,n)}})}}}function NLe(e,t,r){var n=fe({},t),i=r.designatedVisualItemStyle;return V(["color","colorAlpha","colorSaturation"],function(s){i[s]=t[s];var a=e.get(s);i[s]=null,a!=null&&(n[s]=a)}),n}function EW(e){var t=iR(e,"color");if(t){var r=iR(e,"colorAlpha"),n=iR(e,"colorSaturation");return n&&(t=Nx(t,null,null,n)),r&&(t=eE(t,r)),t}}function ALe(e,t){return t!=null?Nx(t,null,null,e):null}function iR(e,t){var r=e[t];if(r!=null&&r!=="none")return r}function jLe(e,t,r,n,i,s){if(!(!s||!s.length)){var a=sR(t,"color")||i.color!=null&&i.color!=="none"&&(sR(t,"colorAlpha")||sR(t,"colorSaturation"));if(a){var o=t.get("visualMin"),l=t.get("visualMax"),c=r.dataExtent.slice();o!=null&&o<c[0]&&(c[0]=o),l!=null&&l>c[1]&&(c[1]=l);var d=t.get("colorMappingBy"),h={type:a.name,dataExtent:c,visual:a.range};h.type==="color"&&(d==="index"||d==="id")?(h.mappingMethod="category",h.loop=!0):h.mappingMethod="linear";var f=new Ci(h);return tse(f).drColorMappingBy=d,f}}}function sR(e,t){var r=e.get(t);return ve(r)&&r.length?{name:t,range:r}:null}function RLe(e,t,r,n,i,s){var a=fe({},t);if(i){var o=i.type,l=o==="color"&&tse(i).drColorMappingBy,c=l==="index"?n:l==="id"?s.mapIdToIndex(r.getId()):r.getValue(e.get("visualDimension"));a[o]=i.mapValueToVisual(c)}return a}var Z_=Math.max,jE=Math.min,TW=Mi,g4=V,nse=["itemStyle","borderWidth"],ILe=["itemStyle","gapWidth"],MLe=["upperLabel","show"],PLe=["upperLabel","height"];const LLe={seriesType:"treemap",reset:function(e,t,r,n){var i=r.getWidth(),s=r.getHeight(),a=e.option,o=pi(e.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),l=a.size||[],c=Ne(TW(o.width,l[0]),i),d=Ne(TW(o.height,l[1]),s),h=n&&n.type,f=["treemapZoomToNode","treemapRootToNode"],p=Y_(n,f,e),g=h==="treemapRender"||h==="treemapMove"?n.rootRect:null,v=e.getViewRoot(),m=Xie(v);if(h!=="treemapMove"){var y=h==="treemapZoomToNode"?zLe(e,p,v,c,d):g?[g.width,g.height]:[c,d],x=a.sort;x&&x!=="asc"&&x!=="desc"&&(x="desc");var _={squareRatio:a.squareRatio,sort:x,leafDepth:a.leafDepth};v.hostTree.clearLayouts();var b={x:0,y:0,width:y[0],height:y[1],area:y[0]*y[1]};v.setLayout(b),ise(v,_,!1,0),b=v.getLayout(),g4(m,function(S,k){var C=(m[k+1]||v).getValue();S.setLayout(fe({dataExtent:[C,C],borderWidth:0,upperHeight:0},b))})}var w=e.getData().tree.root;w.setLayout(ULe(o,g,p),!0),e.setLayoutInfo(o),sse(w,new At(-o.x,-o.y,i,s),m,v,0)}};function ise(e,t,r,n){var i,s;if(!e.isRemoved()){var a=e.getLayout();i=a.width,s=a.height;var o=e.getModel(),l=o.get(nse),c=o.get(ILe)/2,d=ase(o),h=Math.max(l,d),f=l-c,p=h-c;e.setLayout({borderWidth:l,upperHeight:h,upperLabelHeight:d},!0),i=Z_(i-2*f,0),s=Z_(s-f-p,0);var g=i*s,v=DLe(e,o,g,t,r,n);if(v.length){var m={x:f,y:p,width:i,height:s},y=jE(i,s),x=1/0,_=[];_.area=0;for(var b=0,w=v.length;b<w;){var S=v[b];_.push(S),_.area+=S.getLayout().area;var k=FLe(_,y,t.squareRatio);k<=x?(b++,x=k):(_.area-=_.pop().getLayout().area,NW(_,y,m,c,!1),y=jE(m.width,m.height),_.length=_.area=0,x=1/0)}if(_.length&&NW(_,y,m,c,!0),!r){var C=o.get("childrenVisibleMin");C!=null&&g<C&&(r=!0)}for(var b=0,w=v.length;b<w;b++)ise(v[b],t,r,n+1)}}}function DLe(e,t,r,n,i,s){var a=e.children||[],o=n.sort;o!=="asc"&&o!=="desc"&&(o=null);var l=n.leafDepth!=null&&n.leafDepth<=s;if(i&&!l)return e.viewChildren=[];a=Rr(a,function(p){return!p.isRemoved()}),$Le(a,o);var c=BLe(t,a,o);if(c.sum===0)return e.viewChildren=[];if(c.sum=OLe(t,r,c.sum,o,a),c.sum===0)return e.viewChildren=[];for(var d=0,h=a.length;d<h;d++){var f=a[d].getValue()/c.sum*r;a[d].setLayout({area:f})}return l&&(a.length&&e.setLayout({isLeafRoot:!0},!0),a.length=0),e.viewChildren=a,e.setLayout({dataExtent:c.dataExtent},!0),a}function OLe(e,t,r,n,i){if(!n)return r;for(var s=e.get("visibleMin"),a=i.length,o=a,l=a-1;l>=0;l--){var c=i[n==="asc"?a-l-1:l].getValue();c/r*t<s&&(o=l,r-=c)}return n==="asc"?i.splice(0,a-o):i.splice(o,a-o),r}function $Le(e,t){return t&&e.sort(function(r,n){var i=t==="asc"?r.getValue()-n.getValue():n.getValue()-r.getValue();return i===0?t==="asc"?r.dataIndex-n.dataIndex:n.dataIndex-r.dataIndex:i}),e}function BLe(e,t,r){for(var n=0,i=0,s=t.length;i<s;i++)n+=t[i].getValue();var a=e.get("visualDimension"),o;return!t||!t.length?o=[NaN,NaN]:a==="value"&&r?(o=[t[t.length-1].getValue(),t[0].getValue()],r==="asc"&&o.reverse()):(o=[1/0,-1/0],g4(t,function(l){var c=l.getValue(a);c<o[0]&&(o[0]=c),c>o[1]&&(o[1]=c)})),{sum:n,dataExtent:o}}function FLe(e,t,r){for(var n=0,i=1/0,s=0,a=void 0,o=e.length;s<o;s++)a=e[s].getLayout().area,a&&(a<i&&(i=a),a>n&&(n=a));var l=e.area*e.area,c=t*t*r;return l?Z_(c*n/l,l/(c*i)):1/0}function NW(e,t,r,n,i){var s=t===r.width?0:1,a=1-s,o=["x","y"],l=["width","height"],c=r[o[s]],d=t?e.area/t:0;(i||d>r[l[a]])&&(d=r[l[a]]);for(var h=0,f=e.length;h<f;h++){var p=e[h],g={},v=d?p.getLayout().area/d:0,m=g[l[a]]=Z_(d-2*n,0),y=r[o[s]]+r[l[s]]-c,x=h===f-1||y<v?y:v,_=g[l[s]]=Z_(x-2*n,0);g[o[a]]=r[o[a]]+jE(n,m/2),g[o[s]]=c+jE(n,_/2),c+=x,p.setLayout(g,!0)}r[o[a]]+=d,r[l[a]]-=d}function zLe(e,t,r,n,i){var s=(t||{}).node,a=[n,i];if(!s||s===r)return a;for(var o,l=n*i,c=l*e.option.zoomToNodeRatio;o=s.parentNode;){for(var d=0,h=o.children,f=0,p=h.length;f<p;f++)d+=h[f].getValue();var g=s.getValue();if(g===0)return a;c*=d/g;var v=o.getModel(),m=v.get(nse),y=Math.max(m,ase(v));c+=4*m*m+(3*m+y)*Math.pow(c,.5),c>F8&&(c=F8),s=o}c<l&&(c=l);var x=Math.pow(c/l,.5);return[n*x,i*x]}function ULe(e,t,r){if(t)return{x:t.x,y:t.y};var n={x:0,y:0};if(!r)return n;var i=r.node,s=i.getLayout();if(!s)return n;for(var a=[s.width/2,s.height/2],o=i;o;){var l=o.getLayout();a[0]+=l.x,a[1]+=l.y,o=o.parentNode}return{x:e.width/2-a[0],y:e.height/2-a[1]}}function sse(e,t,r,n,i){var s=e.getLayout(),a=r[i],o=a&&a===e;if(!(a&&!o||i===r.length&&e!==n)){e.setLayout({isInView:!0,invisible:!o&&!t.intersect(s),isAboveViewRoot:o},!0);var l=new At(t.x-s.x,t.y-s.y,t.width,t.height);g4(e.viewChildren||[],function(c){sse(c,l,r,n,i+1)})}}function ase(e){return e.get(MLe)?e.get(PLe):0}function HLe(e){e.registerSeriesModel(lLe),e.registerChartView(xLe),e.registerVisual(TLe),e.registerLayout(LLe),oLe(e)}function VLe(e){var t=e.findComponents({mainType:"legend"});!t||!t.length||e.eachSeriesByType("graph",function(r){var n=r.getCategoriesData(),i=r.getGraph(),s=i.data,a=n.mapArray(n.getName);s.filterSelf(function(o){var l=s.getItemModel(o),c=l.getShallow("category");if(c!=null){xr(c)&&(c=a[c]);for(var d=0;d<t.length;d++)if(!t[d].isSelected(c))return!1}return!0})})}function WLe(e){var t={};e.eachSeriesByType("graph",function(r){var n=r.getCategoriesData(),i=r.getData(),s={};n.each(function(a){var o=n.getName(a);s["ec-"+o]=a;var l=n.getItemModel(a),c=l.getModel("itemStyle").getItemStyle();c.fill||(c.fill=r.getColorFromPalette(o,t)),n.setItemVisual(a,"style",c);for(var d=["symbol","symbolSize","symbolKeepAspect"],h=0;h<d.length;h++){var f=l.getShallow(d[h],!0);f!=null&&n.setItemVisual(a,d[h],f)}}),n.count()&&i.each(function(a){var o=i.getItemModel(a),l=o.getShallow("category");if(l!=null){De(l)&&(l=s["ec-"+l]);var c=n.getItemVisual(l,"style"),d=i.ensureUniqueItemVisual(a,"style");fe(d,c);for(var h=["symbol","symbolSize","symbolKeepAspect"],f=0;f<h.length;f++)i.setItemVisual(a,h[f],n.getItemVisual(l,h[f]))}})})}function bS(e){return e instanceof Array||(e=[e,e]),e}function GLe(e){e.eachSeriesByType("graph",function(t){var r=t.getGraph(),n=t.getEdgeData(),i=bS(t.get("edgeSymbol")),s=bS(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",s&&s[0]),n.setVisual("toSymbolSize",s&&s[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each(function(a){var o=n.getItemModel(a),l=r.getEdgeByIndex(a),c=bS(o.getShallow("symbol",!0)),d=bS(o.getShallow("symbolSize",!0)),h=o.getModel("lineStyle").getLineStyle(),f=n.ensureUniqueItemVisual(a,"style");switch(fe(f,h),f.stroke){case"source":{var p=l.node1.getVisual("style");f.stroke=p&&p.fill;break}case"target":{var p=l.node2.getVisual("style");f.stroke=p&&p.fill;break}}c[0]&&l.setVisual("fromSymbol",c[0]),c[1]&&l.setVisual("toSymbol",c[1]),d[0]&&l.setVisual("fromSymbolSize",d[0]),d[1]&&l.setVisual("toSymbolSize",d[1])})})}var PL="-->",qN=function(e){return e.get("autoCurveness")||null},ose=function(e,t){var r=qN(e),n=20,i=[];if(xr(r))n=r;else if(ve(r)){e.__curvenessList=r;return}t>n&&(n=t);var s=n%2?n+2:n+3;i=[];for(var a=0;a<s;a++)i.push((a%2?a+1:a)/10*(a%2?-1:1));e.__curvenessList=i},X_=function(e,t,r){var n=[e.id,e.dataIndex].join("."),i=[t.id,t.dataIndex].join(".");return[r.uid,n,i].join(PL)},lse=function(e){var t=e.split(PL);return[t[0],t[2],t[1]].join(PL)},qLe=function(e,t){var r=X_(e.node1,e.node2,t);return t.__edgeMap[r]},YLe=function(e,t){var r=LL(X_(e.node1,e.node2,t),t),n=LL(X_(e.node2,e.node1,t),t);return r+n},LL=function(e,t){var r=t.__edgeMap;return r[e]?r[e].length:0};function KLe(e){qN(e)&&(e.__curvenessList=[],e.__edgeMap={},ose(e))}function ZLe(e,t,r,n){if(qN(r)){var i=X_(e,t,r),s=r.__edgeMap,a=s[lse(i)];s[i]&&!a?s[i].isForward=!0:a&&s[i]&&(a.isForward=!0,s[i].isForward=!1),s[i]=s[i]||[],s[i].push(n)}}function m4(e,t,r,n){var i=qN(t),s=ve(i);if(!i)return null;var a=qLe(e,t);if(!a)return null;for(var o=-1,l=0;l<a.length;l++)if(a[l]===r){o=l;break}var c=YLe(e,t);ose(t,c),e.lineStyle=e.lineStyle||{};var d=X_(e.node1,e.node2,t),h=t.__curvenessList,f=s||c%2?0:1;if(a.isForward)return h[f+o];var p=lse(d),g=LL(p,t),v=h[o+g+f];return n?s?i&&i[0]===0?(g+f)%2?v:-v:((g%2?0:1)+f)%2?v:-v:(g+f)%2?v:-v:h[o+g+f]}function cse(e){var t=e.coordinateSystem;if(!(t&&t.type!=="view")){var r=e.getGraph();r.eachNode(function(n){var i=n.getModel();n.setLayout([+i.get("x"),+i.get("y")])}),v4(r,e)}}function v4(e,t){e.eachEdge(function(r,n){var i=Zl(r.getModel().get(["lineStyle","curveness"]),-m4(r,t,n,!0),0),s=Yc(r.node1.getLayout()),a=Yc(r.node2.getLayout()),o=[s,a];+i&&o.push([(s[0]+a[0])/2-(s[1]-a[1])*i,(s[1]+a[1])/2-(a[0]-s[0])*i]),r.setLayout(o)})}function XLe(e,t){e.eachSeriesByType("graph",function(r){var n=r.get("layout"),i=r.coordinateSystem;if(i&&i.type!=="view"){var s=r.getData(),a=[];V(i.dimensions,function(f){a=a.concat(s.mapDimensionsAll(f))});for(var o=0;o<s.count();o++){for(var l=[],c=!1,d=0;d<a.length;d++){var h=s.get(a[d],o);isNaN(h)||(c=!0),l.push(h)}c?s.setItemLayout(o,i.dataToPoint(l)):s.setItemLayout(o,[NaN,NaN])}v4(s.graph,r)}else(!n||n==="none")&&cse(r)})}function sx(e){var t=e.coordinateSystem;if(t.type!=="view")return 1;var r=e.option.nodeScaleRatio,n=t.scaleX,i=t.getZoom(),s=(i-1)*r+1;return s/n}function ax(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var AW=Math.PI,aR=[];function y4(e,t,r,n){var i=e.coordinateSystem;if(!(i&&i.type!=="view")){var s=i.getBoundingRect(),a=e.getData(),o=a.graph,l=s.width/2+s.x,c=s.height/2+s.y,d=Math.min(s.width,s.height)/2,h=a.count();if(a.setLayout({cx:l,cy:c}),!!h){if(r){var f=i.pointToData(n),p=f[0],g=f[1],v=[p-l,g-c];Mv(v,v),BC(v,v,d),r.setLayout([l+v[0],c+v[1]],!0);var m=e.get(["circular","rotateLabel"]);use(r,m,l,c)}JLe[t](e,o,a,d,l,c,h),o.eachEdge(function(y,x){var _=Zl(y.getModel().get(["lineStyle","curveness"]),m4(y,e,x),0),b=Yc(y.node1.getLayout()),w=Yc(y.node2.getLayout()),S,k=(b[0]+w[0])/2,C=(b[1]+w[1])/2;+_&&(_*=3,S=[l*_+k*(1-_),c*_+C*(1-_)]),y.setLayout([b,w,S])})}}}var JLe={value:function(e,t,r,n,i,s,a){var o=0,l=r.getSum("value"),c=Math.PI*2/(l||a);t.eachNode(function(d){var h=d.getValue("value"),f=c*(l?h:1)/2;o+=f,d.setLayout([n*Math.cos(o)+i,n*Math.sin(o)+s]),o+=f})},symbolSize:function(e,t,r,n,i,s,a){var o=0;aR.length=a;var l=sx(e);t.eachNode(function(h){var f=ax(h);isNaN(f)&&(f=2),f<0&&(f=0),f*=l;var p=Math.asin(f/2/n);isNaN(p)&&(p=AW/2),aR[h.dataIndex]=p,o+=p*2});var c=(2*AW-o)/a/2,d=0;t.eachNode(function(h){var f=c+aR[h.dataIndex];d+=f,(!h.getLayout()||!h.getLayout().fixed)&&h.setLayout([n*Math.cos(d)+i,n*Math.sin(d)+s]),d+=f})}};function use(e,t,r,n){var i=e.getGraphicEl();if(i){var s=e.getModel(),a=s.get(["label","rotate"])||0,o=i.getSymbolPath();if(t){var l=e.getLayout(),c=Math.atan2(l[1]-n,l[0]-r);c<0&&(c=Math.PI*2+c);var d=l[0]<r;d&&(c=c-Math.PI);var h=d?"left":"right";o.setTextConfig({rotation:-c,position:h,origin:"center"});var f=o.ensureState("emphasis");fe(f.textConfig||(f.textConfig={}),{position:h})}else o.setTextConfig({rotation:a*=Math.PI/180})}}function QLe(e){e.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&y4(t,"symbolSize")})}var fg=bP;function eDe(e,t,r){for(var n=e,i=t,s=r.rect,a=s.width,o=s.height,l=[s.x+a/2,s.y+o/2],c=r.gravity==null?.1:r.gravity,d=0;d<n.length;d++){var h=n[d];h.p||(h.p=Ep(a*(Math.random()-.5)+l[0],o*(Math.random()-.5)+l[1])),h.pp=Yc(h.p),h.edges=null}var f=r.friction==null?.6:r.friction,p=f,g,v;return{warmUp:function(){p=f*.8},setFixed:function(m){n[m].fixed=!0},setUnfixed:function(m){n[m].fixed=!1},beforeStep:function(m){g=m},afterStep:function(m){v=m},step:function(m){g&&g(n,i);for(var y=[],x=n.length,_=0;_<i.length;_++){var b=i[_];if(!b.ignoreForceLayout){var w=b.n1,S=b.n2;_f(y,S.p,w.p);var k=wP(y)-b.d,C=S.w/(w.w+S.w);isNaN(C)&&(C=0),Mv(y,y),!w.fixed&&fg(w.p,w.p,y,C*k*p),!S.fixed&&fg(S.p,S.p,y,-(1-C)*k*p)}}for(var _=0;_<x;_++){var E=n[_];E.fixed||(_f(y,l,E.p),fg(E.p,E.p,y,c*p))}for(var _=0;_<x;_++)for(var w=n[_],T=_+1;T<x;T++){var S=n[T];_f(y,S.p,w.p);var k=wP(y);k===0&&(ECe(y,Math.random()-.5,Math.random()-.5),k=1);var N=(w.rep+S.rep)/k/k;!w.fixed&&fg(w.pp,w.pp,y,N),!S.fixed&&fg(S.pp,S.pp,y,-N)}for(var R=[],_=0;_<x;_++){var E=n[_];E.fixed||(_f(R,E.p,E.pp),fg(E.p,E.p,R,p),ws(E.pp,E.p))}p=p*.992;var P=p<.01;v&&v(n,i,P),m&&m(P)}}}function tDe(e){e.eachSeriesByType("graph",function(t){var r=t.coordinateSystem;if(!(r&&r.type!=="view"))if(t.get("layout")==="force"){var n=t.preservedPoints||{},i=t.getGraph(),s=i.data,a=i.edgeData,o=t.getModel("force"),l=o.get("initLayout");t.preservedPoints?s.each(function(_){var b=s.getId(_);s.setItemLayout(_,n[b]||[NaN,NaN])}):!l||l==="none"?cse(t):l==="circular"&&y4(t,"value");var c=s.getDataExtent("value"),d=a.getDataExtent("value"),h=o.get("repulsion"),f=o.get("edgeLength"),p=ve(h)?h:[h,h],g=ve(f)?f:[f,f];g=[g[1],g[0]];var v=s.mapArray("value",function(_,b){var w=s.getItemLayout(b),S=Pr(_,c,p);return isNaN(S)&&(S=(p[0]+p[1])/2),{w:S,rep:S,fixed:s.getItemModel(b).get("fixed"),p:!w||isNaN(w[0])||isNaN(w[1])?null:w}}),m=a.mapArray("value",function(_,b){var w=i.getEdgeByIndex(b),S=Pr(_,d,g);isNaN(S)&&(S=(g[0]+g[1])/2);var k=w.getModel(),C=Zl(w.getModel().get(["lineStyle","curveness"]),-m4(w,t,b,!0),0);return{n1:v[w.node1.dataIndex],n2:v[w.node2.dataIndex],d:S,curveness:C,ignoreForceLayout:k.get("ignoreForceLayout")}}),y=r.getBoundingRect(),x=eDe(v,m,{rect:y,gravity:o.get("gravity"),friction:o.get("friction")});x.beforeStep(function(_,b){for(var w=0,S=_.length;w<S;w++)_[w].fixed&&ws(_[w].p,i.getNodeByIndex(w).getLayout())}),x.afterStep(function(_,b,w){for(var S=0,k=_.length;S<k;S++)_[S].fixed||i.getNodeByIndex(S).setLayout(_[S].p),n[s.getId(S)]=_[S].p;for(var S=0,k=b.length;S<k;S++){var C=b[S],E=i.getEdgeByIndex(S),T=C.n1.p,N=C.n2.p,R=E.getLayout();R=R?R.slice():[],R[0]=R[0]||[],R[1]=R[1]||[],ws(R[0],T),ws(R[1],N),+C.curveness&&(R[2]=[(T[0]+N[0])/2-(T[1]-N[1])*C.curveness,(T[1]+N[1])/2-(N[0]-T[0])*C.curveness]),E.setLayout(R)}}),t.forceLayout=x,t.preservedPoints=n,x.step()}else t.forceLayout=null})}function rDe(e,t,r){var n=fe(e.getBoxLayoutParams(),{aspect:r});return pi(n,{width:t.getWidth(),height:t.getHeight()})}function nDe(e,t){var r=[];return e.eachSeriesByType("graph",function(n){var i=n.get("coordinateSystem");if(!i||i==="view"){var s=n.getData(),a=s.mapArray(function(m){var y=s.getItemModel(m);return[+y.get("x"),+y.get("y")]}),o=[],l=[];_N(a,o,l),l[0]-o[0]===0&&(l[0]+=1,o[0]-=1),l[1]-o[1]===0&&(l[1]+=1,o[1]-=1);var c=(l[0]-o[0])/(l[1]-o[1]),d=rDe(n,t,c);isNaN(c)&&(o=[d.x,d.y],l=[d.x+d.width,d.y+d.height]);var h=l[0]-o[0],f=l[1]-o[1],p=d.width,g=d.height,v=n.coordinateSystem=new dw;v.zoomLimit=n.get("scaleLimit"),v.setBoundingRect(o[0],o[1],h,f),v.setViewRect(d.x,d.y,p,g),v.setCenter(n.get("center"),t),v.setZoom(n.get("zoom")),r.push(v)}}),r}var jW=wi.prototype,oR=Zb.prototype,dse=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}();(function(e){le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(dse);function lR(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var iDe=function(e){le(t,e);function t(r){var n=e.call(this,r)||this;return n.type="ec-line",n}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new dse},t.prototype.buildPath=function(r,n){lR(n)?jW.buildPath.call(this,r,n):oR.buildPath.call(this,r,n)},t.prototype.pointAt=function(r){return lR(this.shape)?jW.pointAt.call(this,r):oR.pointAt.call(this,r)},t.prototype.tangentAt=function(r){var n=this.shape,i=lR(n)?[n.x2-n.x1,n.y2-n.y1]:oR.tangentAt.call(this,r);return Mv(i,i)},t}(Vt),cR=["fromSymbol","toSymbol"];function RW(e){return"_"+e+"Type"}function IW(e,t,r){var n=t.getItemVisual(r,e);if(!n||n==="none")return n;var i=t.getItemVisual(r,e+"Size"),s=t.getItemVisual(r,e+"Rotate"),a=t.getItemVisual(r,e+"Offset"),o=t.getItemVisual(r,e+"KeepAspect"),l=Wv(i),c=jp(a||0,l);return n+l+c+(s||"")+(o||"")}function MW(e,t,r){var n=t.getItemVisual(r,e);if(!(!n||n==="none")){var i=t.getItemVisual(r,e+"Size"),s=t.getItemVisual(r,e+"Rotate"),a=t.getItemVisual(r,e+"Offset"),o=t.getItemVisual(r,e+"KeepAspect"),l=Wv(i),c=jp(a||0,l),d=ai(n,-l[0]/2+c[0],-l[1]/2+c[1],l[0],l[1],null,o);return d.__specifiedRotation=s==null||isNaN(s)?void 0:+s*Math.PI/180||0,d.name=e,d}}function sDe(e){var t=new iDe({name:"line",subPixelOptimize:!0});return DL(t.shape,e),t}function DL(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var r=t[2];r?(e.cpx1=r[0],e.cpy1=r[1]):(e.cpx1=NaN,e.cpy1=NaN)}var x4=function(e){le(t,e);function t(r,n,i){var s=e.call(this)||this;return s._createLine(r,n,i),s}return t.prototype._createLine=function(r,n,i){var s=r.hostModel,a=r.getItemLayout(n),o=sDe(a);o.shape.percent=0,Sn(o,{shape:{percent:1}},s,n),this.add(o),V(cR,function(l){var c=MW(l,r,n);this.add(c),this[RW(l)]=IW(l,r,n)},this),this._updateCommonStl(r,n,i)},t.prototype.updateData=function(r,n,i){var s=r.hostModel,a=this.childOfName("line"),o=r.getItemLayout(n),l={shape:{}};DL(l.shape,o),wr(a,l,s,n),V(cR,function(c){var d=IW(c,r,n),h=RW(c);if(this[h]!==d){this.remove(this.childOfName(c));var f=MW(c,r,n);this.add(f)}this[h]=d},this),this._updateCommonStl(r,n,i)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(r,n,i){var s=r.hostModel,a=this.childOfName("line"),o=i&&i.emphasisLineStyle,l=i&&i.blurLineStyle,c=i&&i.selectLineStyle,d=i&&i.labelStatesModels,h=i&&i.emphasisDisabled,f=i&&i.focus,p=i&&i.blurScope;if(!i||r.hasItemOption){var g=r.getItemModel(n),v=g.getModel("emphasis");o=v.getModel("lineStyle").getLineStyle(),l=g.getModel(["blur","lineStyle"]).getLineStyle(),c=g.getModel(["select","lineStyle"]).getLineStyle(),h=v.get("disabled"),f=v.get("focus"),p=v.get("blurScope"),d=ki(g)}var m=r.getItemVisual(n,"style"),y=m.stroke;a.useStyle(m),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=o,a.ensureState("blur").style=l,a.ensureState("select").style=c,V(cR,function(S){var k=this.childOfName(S);if(k){k.setColor(y),k.style.opacity=m.opacity;for(var C=0;C<$s.length;C++){var E=$s[C],T=a.getState(E);if(T){var N=T.style||{},R=k.ensureState(E),P=R.style||(R.style={});N.stroke!=null&&(P[k.__isEmptyBrush?"stroke":"fill"]=N.stroke),N.opacity!=null&&(P.opacity=N.opacity)}}k.markRedraw()}},this);var x=s.getRawValue(n);Yi(this,d,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(S,k){return s.getFormattedLabel(S,k,r.dataType)}},inheritColor:y||"#000",defaultOpacity:m.opacity,defaultText:(x==null?r.getName(n):isFinite(x)?Gn(x):x)+""});var _=this.getTextContent();if(_){var b=d.normal;_.__align=_.style.align,_.__verticalAlign=_.style.verticalAlign,_.__position=b.get("position")||"middle";var w=b.get("distance");ve(w)||(w=[w,w]),_.__labelDistance=w}this.setTextConfig({position:null,local:!0,inside:!1}),Dn(this,f,p,h)},t.prototype.highlight=function(){lu(this)},t.prototype.downplay=function(){cu(this)},t.prototype.updateLayout=function(r,n){this.setLinePoints(r.getItemLayout(n))},t.prototype.setLinePoints=function(r){var n=this.childOfName("line");DL(n.shape,r),n.dirty()},t.prototype.beforeUpdate=function(){var r=this,n=r.childOfName("fromSymbol"),i=r.childOfName("toSymbol"),s=r.getTextContent();if(!n&&!i&&(!s||s.ignore))return;for(var a=1,o=this.parent;o;)o.scaleX&&(a/=o.scaleX),o=o.parent;var l=r.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var c=l.shape.percent,d=l.pointAt(0),h=l.pointAt(c),f=_f([],h,d);Mv(f,f);function p(T,N){var R=T.__specifiedRotation;if(R==null){var P=l.tangentAt(N);T.attr("rotation",(N===1?-1:1)*Math.PI/2-Math.atan2(P[1],P[0]))}else T.attr("rotation",R)}if(n&&(n.setPosition(d),p(n,0),n.scaleX=n.scaleY=a*c,n.markRedraw()),i&&(i.setPosition(h),p(i,1),i.scaleX=i.scaleY=a*c,i.markRedraw()),s&&!s.ignore){s.x=s.y=0,s.originX=s.originY=0;var g=void 0,v=void 0,m=s.__labelDistance,y=m[0]*a,x=m[1]*a,_=c/2,b=l.tangentAt(_),w=[b[1],-b[0]],S=l.pointAt(_);w[1]>0&&(w[0]=-w[0],w[1]=-w[1]);var k=b[0]<0?-1:1;if(s.__position!=="start"&&s.__position!=="end"){var C=-Math.atan2(b[1],b[0]);h[0]<d[0]&&(C=Math.PI+C),s.rotation=C}var E=void 0;switch(s.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":E=-x,v="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":E=x,v="top";break;default:E=0,v="middle"}switch(s.__position){case"end":s.x=f[0]*y+h[0],s.y=f[1]*x+h[1],g=f[0]>.8?"left":f[0]<-.8?"right":"center",v=f[1]>.8?"top":f[1]<-.8?"bottom":"middle";break;case"start":s.x=-f[0]*y+d[0],s.y=-f[1]*x+d[1],g=f[0]>.8?"right":f[0]<-.8?"left":"center",v=f[1]>.8?"bottom":f[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":s.x=y*k+d[0],s.y=d[1]+E,g=b[0]<0?"right":"left",s.originX=-y*k,s.originY=-E;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":s.x=S[0],s.y=S[1]+E,g="center",s.originY=-E;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":s.x=-y*k+h[0],s.y=h[1]+E,g=b[0]>=0?"right":"left",s.originX=y*k,s.originY=-E;break}s.scaleX=s.scaleY=a,s.setStyle({verticalAlign:s.__verticalAlign||v,align:s.__align||g})}},t}(ht),_4=function(){function e(t){this.group=new ht,this._LineCtor=t||x4}return e.prototype.updateData=function(t){var r=this;this._progressiveEls=null;var n=this,i=n.group,s=n._lineData;n._lineData=t,s||i.removeAll();var a=PW(t);t.diff(s).add(function(o){r._doAdd(t,o,a)}).update(function(o,l){r._doUpdate(s,t,l,o,a)}).remove(function(o){i.remove(s.getItemGraphicEl(o))}).execute()},e.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(r,n){r.updateLayout(t,n)},this)},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=PW(t),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,r){this._progressiveEls=[];function n(o){!o.isGroup&&!aDe(o)&&(o.incremental=!0,o.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var s=r.getItemLayout(i);if(uR(s)){var a=new this._LineCtor(r,i,this._seriesScope);a.traverse(n),this.group.add(a),r.setItemGraphicEl(i,a),this._progressiveEls.push(a)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(t){fh(this._progressiveEls||this.group,t)},e.prototype._doAdd=function(t,r,n){var i=t.getItemLayout(r);if(uR(i)){var s=new this._LineCtor(t,r,n);t.setItemGraphicEl(r,s),this.group.add(s)}},e.prototype._doUpdate=function(t,r,n,i,s){var a=t.getItemGraphicEl(n);if(!uR(r.getItemLayout(i))){this.group.remove(a);return}a?a.updateData(r,i,s):a=new this._LineCtor(r,i,s),r.setItemGraphicEl(i,a),this.group.add(a)},e}();function aDe(e){return e.animators&&e.animators.length>0}function PW(e){var t=e.hostModel,r=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:r.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:r.get("disabled"),blurScope:r.get("blurScope"),focus:r.get("focus"),labelStatesModels:ki(t)}}function LW(e){return isNaN(e[0])||isNaN(e[1])}function uR(e){return e&&!LW(e[0])&&!LW(e[1])}var dR=[],hR=[],fR=[],pg=Ii,pR=Df,DW=Math.abs;function OW(e,t,r){for(var n=e[0],i=e[1],s=e[2],a=1/0,o,l=r*r,c=.1,d=.1;d<=.9;d+=.1){dR[0]=pg(n[0],i[0],s[0],d),dR[1]=pg(n[1],i[1],s[1],d);var h=DW(pR(dR,t)-l);h<a&&(a=h,o=d)}for(var f=0;f<32;f++){var p=o+c;hR[0]=pg(n[0],i[0],s[0],o),hR[1]=pg(n[1],i[1],s[1],o),fR[0]=pg(n[0],i[0],s[0],p),fR[1]=pg(n[1],i[1],s[1],p);var h=pR(hR,t)-l;if(DW(h)<.01)break;var g=pR(fR,t)-l;c/=2,h<0?g>=0?o=o+c:o=o-c:g>=0?o=o-c:o=o+c}return o}function gR(e,t){var r=[],n=A_,i=[[],[],[]],s=[[],[]],a=[];t/=2,e.eachEdge(function(o,l){var c=o.getLayout(),d=o.getVisual("fromSymbol"),h=o.getVisual("toSymbol");c.__original||(c.__original=[Yc(c[0]),Yc(c[1])],c[2]&&c.__original.push(Yc(c[2])));var f=c.__original;if(c[2]!=null){if(ws(i[0],f[0]),ws(i[1],f[2]),ws(i[2],f[1]),d&&d!=="none"){var p=ax(o.node1),g=OW(i,f[0],p*t);n(i[0][0],i[1][0],i[2][0],g,r),i[0][0]=r[3],i[1][0]=r[4],n(i[0][1],i[1][1],i[2][1],g,r),i[0][1]=r[3],i[1][1]=r[4]}if(h&&h!=="none"){var p=ax(o.node2),g=OW(i,f[1],p*t);n(i[0][0],i[1][0],i[2][0],g,r),i[1][0]=r[1],i[2][0]=r[2],n(i[0][1],i[1][1],i[2][1],g,r),i[1][1]=r[1],i[2][1]=r[2]}ws(c[0],i[0]),ws(c[1],i[2]),ws(c[2],i[1])}else{if(ws(s[0],f[0]),ws(s[1],f[1]),_f(a,s[1],s[0]),Mv(a,a),d&&d!=="none"){var p=ax(o.node1);bP(s[0],s[0],a,p*t)}if(h&&h!=="none"){var p=ax(o.node2);bP(s[1],s[1],a,-p*t)}ws(c[0],s[0]),ws(c[1],s[1])}})}function $W(e){return e.type==="view"}var oDe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){var i=new sw,s=new _4,a=this.group;this._controller=new uw(n.getZr()),this._controllerHost={target:a},a.add(i.group),a.add(s.group),this._symbolDraw=i,this._lineDraw=s,this._firstRender=!0},t.prototype.render=function(r,n,i){var s=this,a=r.coordinateSystem;this._model=r;var o=this._symbolDraw,l=this._lineDraw,c=this.group;if($W(a)){var d={x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY};this._firstRender?c.attr(d):wr(c,d,r)}gR(r.getGraph(),sx(r));var h=r.getData();o.updateData(h);var f=r.getEdgeData();l.updateData(f),this._updateNodeAndLinkScale(),this._updateController(r,n,i),clearTimeout(this._layoutTimeout);var p=r.forceLayout,g=r.get(["force","layoutAnimation"]);p&&this._startForceLayoutIteration(p,g);var v=r.get("layout");h.graph.eachNode(function(_){var b=_.dataIndex,w=_.getGraphicEl(),S=_.getModel();if(w){w.off("drag").off("dragend");var k=S.get("draggable");k&&w.on("drag",function(E){switch(v){case"force":p.warmUp(),!s._layouting&&s._startForceLayoutIteration(p,g),p.setFixed(b),h.setItemLayout(b,[w.x,w.y]);break;case"circular":h.setItemLayout(b,[w.x,w.y]),_.setLayout({fixed:!0},!0),y4(r,"symbolSize",_,[E.offsetX,E.offsetY]),s.updateLayout(r);break;case"none":default:h.setItemLayout(b,[w.x,w.y]),v4(r.getGraph(),r),s.updateLayout(r);break}}).on("dragend",function(){p&&p.setUnfixed(b)}),w.setDraggable(k,!!S.get("cursor"));var C=S.get(["emphasis","focus"]);C==="adjacency"&&(ft(w).focus=_.getAdjacentDataIndices())}}),h.graph.eachEdge(function(_){var b=_.getGraphicEl(),w=_.getModel().get(["emphasis","focus"]);b&&w==="adjacency"&&(ft(b).focus={edge:[_.dataIndex],node:[_.node1.dataIndex,_.node2.dataIndex]})});var m=r.get("layout")==="circular"&&r.get(["circular","rotateLabel"]),y=h.getLayout("cx"),x=h.getLayout("cy");h.graph.eachNode(function(_){use(_,m,y,x)}),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(r,n){var i=this;(function s(){r.step(function(a){i.updateLayout(i._model),(i._layouting=!a)&&(n?i._layoutTimeout=setTimeout(s,16):s())})})()},t.prototype._updateController=function(r,n,i){var s=this,a=this._controller,o=this._controllerHost,l=this.group;if(a.setPointerChecker(function(c,d,h){var f=l.getBoundingRect();return f.applyTransform(l.transform),f.contain(d,h)&&!VN(c,i,r)}),!$W(r.coordinateSystem)){a.disable();return}a.enable(r.get("roam")),o.zoomLimit=r.get("scaleLimit"),o.zoom=r.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(c){l4(o,c.dx,c.dy),i.dispatchAction({seriesId:r.id,type:"graphRoam",dx:c.dx,dy:c.dy})}).on("zoom",function(c){c4(o,c.scale,c.originX,c.originY),i.dispatchAction({seriesId:r.id,type:"graphRoam",zoom:c.scale,originX:c.originX,originY:c.originY}),s._updateNodeAndLinkScale(),gR(r.getGraph(),sx(r)),s._lineDraw.updateLayout(),i.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(){var r=this._model,n=r.getData(),i=sx(r);n.eachItemGraphicEl(function(s,a){s&&s.setSymbolScale(i)})},t.prototype.updateLayout=function(r){gR(r.getGraph(),sx(r)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(nn);function gg(e){return"_EC_"+e}var lDe=function(){function e(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(t,r){t=t==null?""+r:""+t;var n=this._nodesMap;if(!n[gg(t)]){var i=new sf(t,r);return i.hostGraph=this,this.nodes.push(i),n[gg(t)]=i,i}},e.prototype.getNodeByIndex=function(t){var r=this.data.getRawIndex(t);return this.nodes[r]},e.prototype.getNodeById=function(t){return this._nodesMap[gg(t)]},e.prototype.addEdge=function(t,r,n){var i=this._nodesMap,s=this._edgesMap;if(xr(t)&&(t=this.nodes[t]),xr(r)&&(r=this.nodes[r]),t instanceof sf||(t=i[gg(t)]),r instanceof sf||(r=i[gg(r)]),!(!t||!r)){var a=t.id+"-"+r.id,o=new hse(t,r,n);return o.hostGraph=this,this._directed&&(t.outEdges.push(o),r.inEdges.push(o)),t.edges.push(o),t!==r&&r.edges.push(o),this.edges.push(o),s[a]=o,o}},e.prototype.getEdgeByIndex=function(t){var r=this.edgeData.getRawIndex(t);return this.edges[r]},e.prototype.getEdge=function(t,r){t instanceof sf&&(t=t.id),r instanceof sf&&(r=r.id);var n=this._edgesMap;return this._directed?n[t+"-"+r]:n[t+"-"+r]||n[r+"-"+t]},e.prototype.eachNode=function(t,r){for(var n=this.nodes,i=n.length,s=0;s<i;s++)n[s].dataIndex>=0&&t.call(r,n[s],s)},e.prototype.eachEdge=function(t,r){for(var n=this.edges,i=n.length,s=0;s<i;s++)n[s].dataIndex>=0&&n[s].node1.dataIndex>=0&&n[s].node2.dataIndex>=0&&t.call(r,n[s],s)},e.prototype.breadthFirstTraverse=function(t,r,n,i){if(r instanceof sf||(r=this._nodesMap[gg(r)]),!!r){for(var s=n==="out"?"outEdges":n==="in"?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!t.call(i,r,null))for(var o=[r];o.length;)for(var l=o.shift(),c=l[s],a=0;a<c.length;a++){var d=c[a],h=d.node1===l?d.node2:d.node1;if(!h.__visited){if(t.call(i,h,l))return;o.push(h),h.__visited=!0}}}},e.prototype.update=function(){for(var t=this.data,r=this.edgeData,n=this.nodes,i=this.edges,s=0,a=n.length;s<a;s++)n[s].dataIndex=-1;for(var s=0,a=t.count();s<a;s++)n[t.getRawIndex(s)].dataIndex=s;r.filterSelf(function(o){var l=i[r.getRawIndex(o)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var s=0,a=i.length;s<a;s++)i[s].dataIndex=-1;for(var s=0,a=r.count();s<a;s++)i[r.getRawIndex(s)].dataIndex=s},e.prototype.clone=function(){for(var t=new e(this._directed),r=this.nodes,n=this.edges,i=0;i<r.length;i++)t.addNode(r[i].id,r[i].dataIndex);for(var i=0;i<n.length;i++){var s=n[i];t.addEdge(s.node1.id,s.node2.id,s.dataIndex)}return t},e}(),sf=function(){function e(t,r){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=r??-1}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var r=this.hostGraph,n=r.data.getItemModel(this.dataIndex);return n.getModel(t)}},e.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},r=0;r<this.edges.length;r++){var n=this.edges[r];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},e.prototype.getTrajectoryDataIndices=function(){for(var t=qe(),r=qe(),n=0;n<this.edges.length;n++){var i=this.edges[n];if(!(i.dataIndex<0)){t.set(i.dataIndex,!0);for(var s=[i.node1],a=[i.node2],o=0;o<s.length;){var l=s[o];o++,r.set(l.dataIndex,!0);for(var c=0;c<l.inEdges.length;c++)t.set(l.inEdges[c].dataIndex,!0),s.push(l.inEdges[c].node1)}for(o=0;o<a.length;){var d=a[o];o++,r.set(d.dataIndex,!0);for(var c=0;c<d.outEdges.length;c++)t.set(d.outEdges[c].dataIndex,!0),a.push(d.outEdges[c].node2)}}}return{edge:t.keys(),node:r.keys()}},e}(),hse=function(){function e(t,r,n){this.dataIndex=-1,this.node1=t,this.node2=r,this.dataIndex=n??-1}return e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var r=this.hostGraph,n=r.edgeData.getItemModel(this.dataIndex);return n.getModel(t)}},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e.prototype.getTrajectoryDataIndices=function(){var t=qe(),r=qe();t.set(this.dataIndex,!0);for(var n=[this.node1],i=[this.node2],s=0;s<n.length;){var a=n[s];s++,r.set(a.dataIndex,!0);for(var o=0;o<a.inEdges.length;o++)t.set(a.inEdges[o].dataIndex,!0),n.push(a.inEdges[o].node1)}for(s=0;s<i.length;){var l=i[s];s++,r.set(l.dataIndex,!0);for(var o=0;o<l.outEdges.length;o++)t.set(l.outEdges[o].dataIndex,!0),i.push(l.outEdges[o].node2)}return{edge:t.keys(),node:r.keys()}},e}();function fse(e,t){return{getValue:function(r){var n=this[e][t];return n.getStore().get(n.getDimensionIndex(r||"value"),this.dataIndex)},setVisual:function(r,n){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,r,n)},getVisual:function(r){return this[e][t].getItemVisual(this.dataIndex,r)},setLayout:function(r,n){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,r,n)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}oi(sf,fse("hostGraph","data"));oi(hse,fse("hostGraph","edgeData"));function pse(e,t,r,n,i){for(var s=new lDe(n),a=0;a<e.length;a++)s.addNode(Mi(e[a].id,e[a].name,a),a);for(var o=[],l=[],c=0,a=0;a<t.length;a++){var d=t[a],h=d.source,f=d.target;s.addEdge(h,f,c)&&(l.push(d),o.push(Mi(hi(d.id,null),h+" > "+f)),c++)}var p=r.get("coordinateSystem"),g;if(p==="cartesian2d"||p==="polar")g=Su(e,r);else{var v=ew.get(p),m=v?v.dimensions||[]:[];Pt(m,"value")<0&&m.concat(["value"]);var y=rw(e,{coordDimensions:m,encodeDefine:r.getEncode()}).dimensions;g=new Ls(y,r),g.initData(e)}var x=new Ls(["value"],r);return x.initData(l,o),i&&i(g,x),Kie({mainData:g,struct:s,structAttr:"graph",datas:{node:g,edge:x},datasAttr:{node:"data",edge:"edgeData"}}),s.update(),s}var cDe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}this.legendVisualProvider=new cw(i,i),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},t.prototype.mergeOption=function(r){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(r){e.prototype.mergeDefaultAndTheme.apply(this,arguments),np(r,"edgeLabel",["show"])},t.prototype.getInitialData=function(r,n){var i=r.edges||r.links||[],s=r.data||r.nodes||[],a=this;if(s&&i){KLe(this);var o=pse(s,i,this,!0,l);return V(o.edges,function(c){ZLe(c.node1,c.node2,this,c.dataIndex)},this),o.data}function l(c,d){c.wrapMethod("getItemModel",function(g){var v=a._categoriesModels,m=g.getShallow("category"),y=v[m];return y&&(y.parentModel=g.parentModel,g.parentModel=y),g});var h=Lr.prototype.getModel;function f(g,v){var m=h.call(this,g,v);return m.resolveParentPath=p,m}d.wrapMethod("getItemModel",function(g){return g.resolveParentPath=p,g.getModel=f,g});function p(g){if(g&&(g[0]==="label"||g[1]==="label")){var v=g.slice();return g[0]==="label"?v[0]="edgeLabel":g[1]==="label"&&(v[1]="edgeLabel"),v}return g}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(r,n,i){if(i==="edge"){var s=this.getData(),a=this.getDataParams(r,i),o=s.graph.getEdgeByIndex(r),l=s.getName(o.node1.dataIndex),c=s.getName(o.node2.dataIndex),d=[];return l!=null&&d.push(l),c!=null&&d.push(c),Ei("nameValue",{name:d.join(" > "),value:a.value,noValue:a.value==null})}var h=$re({series:this,dataIndex:r,multipleSeries:n});return h},t.prototype._updateCategoriesData=function(){var r=xe(this.option.categories||[],function(i){return i.value!=null?i:fe({value:0},i)}),n=new Ls(["value"],this);n.initData(r),this._categoriesData=n,this._categoriesModels=n.mapArray(function(i){return n.getItemModel(i)})},t.prototype.setZoom=function(r){this.option.zoom=r},t.prototype.setCenter=function(r){this.option.center=r},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(fn),uDe={type:"graphRoam",event:"graphRoam",update:"none"};function dDe(e){e.registerChartView(oDe),e.registerSeriesModel(cDe),e.registerProcessor(VLe),e.registerVisual(WLe),e.registerVisual(GLe),e.registerLayout(XLe),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,QLe),e.registerLayout(tDe),e.registerCoordinateSystem("graphView",{dimensions:dw.dimensions,create:nDe}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Xn),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Xn),e.registerAction(uDe,function(t,r,n){r.eachComponent({mainType:"series",query:t},function(i){var s=i.coordinateSystem,a=d4(s,t,void 0,n);i.setCenter&&i.setCenter(a.center),i.setZoom&&i.setZoom(a.zoom)})})}var hDe=function(){function e(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return e}(),fDe=function(e){le(t,e);function t(r){var n=e.call(this,r)||this;return n.type="pointer",n}return t.prototype.getDefaultShape=function(){return new hDe},t.prototype.buildPath=function(r,n){var i=Math.cos,s=Math.sin,a=n.r,o=n.width,l=n.angle,c=n.x-i(l)*o*(o>=a/3?1:2),d=n.y-s(l)*o*(o>=a/3?1:2);l=n.angle-Math.PI/2,r.moveTo(c,d),r.lineTo(n.x+i(l)*o,n.y+s(l)*o),r.lineTo(n.x+i(n.angle)*a,n.y+s(n.angle)*a),r.lineTo(n.x-i(l)*o,n.y-s(l)*o),r.lineTo(c,d)},t}(Vt);function pDe(e,t){var r=e.get("center"),n=t.getWidth(),i=t.getHeight(),s=Math.min(n,i),a=Ne(r[0],t.getWidth()),o=Ne(r[1],t.getHeight()),l=Ne(e.get("radius"),s/2);return{cx:a,cy:o,r:l}}function wS(e,t){var r=e==null?"":e+"";return t&&(De(t)?r=t.replace("{value}",r):et(t)&&(r=t(e))),r}var gDe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){this.group.removeAll();var s=r.get(["axisLine","lineStyle","color"]),a=pDe(r,i);this._renderMain(r,n,i,s,a),this._data=r.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(r,n,i,s,a){var o=this.group,l=r.get("clockwise"),c=-r.get("startAngle")/180*Math.PI,d=-r.get("endAngle")/180*Math.PI,h=r.getModel("axisLine"),f=h.get("roundCap"),p=f?kE:Bs,g=h.get("show"),v=h.getModel("lineStyle"),m=v.get("width"),y=[c,d];f5(y,!l),c=y[0],d=y[1];for(var x=d-c,_=c,b=[],w=0;g&&w<s.length;w++){var S=Math.min(Math.max(s[w][0],0),1);d=c+x*S;var k=new p({shape:{startAngle:_,endAngle:d,cx:a.cx,cy:a.cy,clockwise:l,r0:a.r-m,r:a.r},silent:!0});k.setStyle({fill:s[w][1]}),k.setStyle(v.getLineStyle(["color","width"])),b.push(k),_=d}b.reverse(),V(b,function(E){return o.add(E)});var C=function(E){if(E<=0)return s[0][1];var T;for(T=0;T<s.length;T++)if(s[T][0]>=E&&(T===0?0:s[T-1][0])<E)return s[T][1];return s[T-1][1]};this._renderTicks(r,n,i,C,a,c,d,l,m),this._renderTitleAndDetail(r,n,i,C,a),this._renderAnchor(r,a),this._renderPointer(r,n,i,C,a,c,d,l,m)},t.prototype._renderTicks=function(r,n,i,s,a,o,l,c,d){for(var h=this.group,f=a.cx,p=a.cy,g=a.r,v=+r.get("min"),m=+r.get("max"),y=r.getModel("splitLine"),x=r.getModel("axisTick"),_=r.getModel("axisLabel"),b=r.get("splitNumber"),w=x.get("splitNumber"),S=Ne(y.get("length"),g),k=Ne(x.get("length"),g),C=o,E=(l-o)/b,T=E/w,N=y.getModel("lineStyle").getLineStyle(),R=x.getModel("lineStyle").getLineStyle(),P=y.get("distance"),D,$,L=0;L<=b;L++){if(D=Math.cos(C),$=Math.sin(C),y.get("show")){var O=P?P+d:d,j=new wi({shape:{x1:D*(g-O)+f,y1:$*(g-O)+p,x2:D*(g-S-O)+f,y2:$*(g-S-O)+p},style:N,silent:!0});N.stroke==="auto"&&j.setStyle({stroke:s(L/b)}),h.add(j)}if(_.get("show")){var O=_.get("distance")+P,M=wS(Gn(L/b*(m-v)+v),_.get("formatter")),I=s(L/b),z=D*(g-S-O)+f,U=$*(g-S-O)+p,F=_.get("rotate"),G=0;F==="radial"?(G=-C+2*Math.PI,G>Math.PI/2&&(G+=Math.PI)):F==="tangential"?G=-C-Math.PI/2:xr(F)&&(G=F*Math.PI/180),G===0?h.add(new pr({style:dn(_,{text:M,x:z,y:U,verticalAlign:$<-.8?"top":$>.8?"bottom":"middle",align:D<-.4?"left":D>.4?"right":"center"},{inheritColor:I}),silent:!0})):h.add(new pr({style:dn(_,{text:M,x:z,y:U,verticalAlign:"middle",align:"center"},{inheritColor:I}),silent:!0,originX:z,originY:U,rotation:G}))}if(x.get("show")&&L!==b){var O=x.get("distance");O=O?O+d:d;for(var Y=0;Y<=w;Y++){D=Math.cos(C),$=Math.sin(C);var Z=new wi({shape:{x1:D*(g-O)+f,y1:$*(g-O)+p,x2:D*(g-k-O)+f,y2:$*(g-k-O)+p},silent:!0,style:R});R.stroke==="auto"&&Z.setStyle({stroke:s((L+Y/w)/b)}),h.add(Z),C+=T}C-=T}else C+=E}},t.prototype._renderPointer=function(r,n,i,s,a,o,l,c,d){var h=this.group,f=this._data,p=this._progressEls,g=[],v=r.get(["pointer","show"]),m=r.getModel("progress"),y=m.get("show"),x=r.getData(),_=x.mapDimension("value"),b=+r.get("min"),w=+r.get("max"),S=[b,w],k=[o,l];function C(T,N){var R=x.getItemModel(T),P=R.getModel("pointer"),D=Ne(P.get("width"),a.r),$=Ne(P.get("length"),a.r),L=r.get(["pointer","icon"]),O=P.get("offsetCenter"),j=Ne(O[0],a.r),M=Ne(O[1],a.r),I=P.get("keepAspect"),z;return L?z=ai(L,j-D/2,M-$,D,$,null,I):z=new fDe({shape:{angle:-Math.PI/2,width:D,r:$,x:j,y:M}}),z.rotation=-(N+Math.PI/2),z.x=a.cx,z.y=a.cy,z}function E(T,N){var R=m.get("roundCap"),P=R?kE:Bs,D=m.get("overlap"),$=D?m.get("width"):d/x.count(),L=D?a.r-$:a.r-(T+1)*$,O=D?a.r:a.r-T*$,j=new P({shape:{startAngle:o,endAngle:N,cx:a.cx,cy:a.cy,clockwise:c,r0:L,r:O}});return D&&(j.z2=Pr(x.get(_,T),[b,w],[100,0],!0)),j}(y||v)&&(x.diff(f).add(function(T){var N=x.get(_,T);if(v){var R=C(T,o);Sn(R,{rotation:-((isNaN(+N)?k[0]:Pr(N,S,k,!0))+Math.PI/2)},r),h.add(R),x.setItemGraphicEl(T,R)}if(y){var P=E(T,o),D=m.get("clip");Sn(P,{shape:{endAngle:Pr(N,S,k,D)}},r),h.add(P),qP(r.seriesIndex,x.dataType,T,P),g[T]=P}}).update(function(T,N){var R=x.get(_,T);if(v){var P=f.getItemGraphicEl(N),D=P?P.rotation:o,$=C(T,D);$.rotation=D,wr($,{rotation:-((isNaN(+R)?k[0]:Pr(R,S,k,!0))+Math.PI/2)},r),h.add($),x.setItemGraphicEl(T,$)}if(y){var L=p[N],O=L?L.shape.endAngle:o,j=E(T,O),M=m.get("clip");wr(j,{shape:{endAngle:Pr(R,S,k,M)}},r),h.add(j),qP(r.seriesIndex,x.dataType,T,j),g[T]=j}}).execute(),x.each(function(T){var N=x.getItemModel(T),R=N.getModel("emphasis"),P=R.get("focus"),D=R.get("blurScope"),$=R.get("disabled");if(v){var L=x.getItemGraphicEl(T),O=x.getItemVisual(T,"style"),j=O.fill;if(L instanceof Oi){var M=L.style;L.useStyle(fe({image:M.image,x:M.x,y:M.y,width:M.width,height:M.height},O))}else L.useStyle(O),L.type!=="pointer"&&L.setColor(j);L.setStyle(N.getModel(["pointer","itemStyle"]).getItemStyle()),L.style.fill==="auto"&&L.setStyle("fill",s(Pr(x.get(_,T),S,[0,1],!0))),L.z2EmphasisLift=0,qi(L,N),Dn(L,P,D,$)}if(y){var I=g[T];I.useStyle(x.getItemVisual(T,"style")),I.setStyle(N.getModel(["progress","itemStyle"]).getItemStyle()),I.z2EmphasisLift=0,qi(I,N),Dn(I,P,D,$)}}),this._progressEls=g)},t.prototype._renderAnchor=function(r,n){var i=r.getModel("anchor"),s=i.get("show");if(s){var a=i.get("size"),o=i.get("icon"),l=i.get("offsetCenter"),c=i.get("keepAspect"),d=ai(o,n.cx-a/2+Ne(l[0],n.r),n.cy-a/2+Ne(l[1],n.r),a,a,null,c);d.z2=i.get("showAbove")?1:0,d.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(d)}},t.prototype._renderTitleAndDetail=function(r,n,i,s,a){var o=this,l=r.getData(),c=l.mapDimension("value"),d=+r.get("min"),h=+r.get("max"),f=new ht,p=[],g=[],v=r.isAnimationEnabled(),m=r.get(["pointer","showAbove"]);l.diff(this._data).add(function(y){p[y]=new pr({silent:!0}),g[y]=new pr({silent:!0})}).update(function(y,x){p[y]=o._titleEls[x],g[y]=o._detailEls[x]}).execute(),l.each(function(y){var x=l.getItemModel(y),_=l.get(c,y),b=new ht,w=s(Pr(_,[d,h],[0,1],!0)),S=x.getModel("title");if(S.get("show")){var k=S.get("offsetCenter"),C=a.cx+Ne(k[0],a.r),E=a.cy+Ne(k[1],a.r),T=p[y];T.attr({z2:m?0:2,style:dn(S,{x:C,y:E,text:l.getName(y),align:"center",verticalAlign:"middle"},{inheritColor:w})}),b.add(T)}var N=x.getModel("detail");if(N.get("show")){var R=N.get("offsetCenter"),P=a.cx+Ne(R[0],a.r),D=a.cy+Ne(R[1],a.r),$=Ne(N.get("width"),a.r),L=Ne(N.get("height"),a.r),O=r.get(["progress","show"])?l.getItemVisual(y,"style").fill:w,T=g[y],j=N.get("formatter");T.attr({z2:m?0:2,style:dn(N,{x:P,y:D,text:wS(_,j),width:isNaN($)?null:$,height:isNaN(L)?null:L,align:"center",verticalAlign:"middle"},{inheritColor:O})}),Ute(T,{normal:N},_,function(I){return wS(I,j)}),v&&Hte(T,y,l,r,{getFormattedLabel:function(I,z,U,F,G,Y){return wS(Y?Y.interpolatedValue:_,j)}}),b.add(T)}f.add(b)}),this.group.add(f),this._titleEls=p,this._detailEls=g},t.type="gauge",t}(nn),mDe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.visualStyleAccessPath="itemStyle",r}return t.prototype.getInitialData=function(r,n){return qv(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(fn);function vDe(e){e.registerChartView(gDe),e.registerSeriesModel(mDe)}var yDe=["itemStyle","opacity"],xDe=function(e){le(t,e);function t(r,n){var i=e.call(this)||this,s=i,a=new Vs,o=new pr;return s.setTextContent(o),i.setTextGuideLine(a),i.updateData(r,n,!0),i}return t.prototype.updateData=function(r,n,i){var s=this,a=r.hostModel,o=r.getItemModel(n),l=r.getItemLayout(n),c=o.getModel("emphasis"),d=o.get(yDe);d=d??1,i||rl(s),s.useStyle(r.getItemVisual(n,"style")),s.style.lineJoin="round",i?(s.setShape({points:l.points}),s.style.opacity=0,Sn(s,{style:{opacity:d}},a,n)):wr(s,{style:{opacity:d},shape:{points:l.points}},a,n),qi(s,o),this._updateLabel(r,n),Dn(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},t.prototype._updateLabel=function(r,n){var i=this,s=this.getTextGuideLine(),a=i.getTextContent(),o=r.hostModel,l=r.getItemModel(n),c=r.getItemLayout(n),d=c.label,h=r.getItemVisual(n,"style"),f=h.fill;Yi(a,ki(l),{labelFetcher:r.hostModel,labelDataIndex:n,defaultOpacity:h.opacity,defaultText:r.getName(n)},{normal:{align:d.textAlign,verticalAlign:d.verticalAlign}}),i.setTextConfig({local:!0,inside:!!d.inside,insideStroke:f,outsideFill:f});var p=d.linePoints;s.setShape({points:p}),i.textGuideLineConfig={anchor:p?new kt(p[0][0],p[0][1]):null},wr(a,{style:{x:d.x,y:d.y}},o,n),a.attr({rotation:d.rotation,originX:d.x,originY:d.y,z2:10}),X5(i,J5(l),{stroke:f})},t}(Fs),_De=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.ignoreLabelLineUpdate=!0,r}return t.prototype.render=function(r,n,i){var s=r.getData(),a=this._data,o=this.group;s.diff(a).add(function(l){var c=new xDe(s,l);s.setItemGraphicEl(l,c),o.add(c)}).update(function(l,c){var d=a.getItemGraphicEl(c);d.updateData(s,l),o.add(d),s.setItemGraphicEl(l,d)}).remove(function(l){var c=a.getItemGraphicEl(l);D_(c,r,l)}).execute(),this._data=s},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(nn),bDe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new cw(He(this.getData,this),He(this.getRawData,this)),this._defaultLabelLine(r)},t.prototype.getInitialData=function(r,n){return qv(this,{coordDimensions:["value"],encodeDefaulter:xt(j5,this)})},t.prototype._defaultLabelLine=function(r){np(r,"labelLine",["show"]);var n=r.labelLine,i=r.emphasis.labelLine;n.show=n.show&&r.label.show,i.show=i.show&&r.emphasis.label.show},t.prototype.getDataParams=function(r){var n=this.getData(),i=e.prototype.getDataParams.call(this,r),s=n.mapDimension("value"),a=n.getSum(s);return i.percent=a?+(n.get(s,r)/a*100).toFixed(2):0,i.$vars.push("percent"),i},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(fn);function wDe(e,t){return pi(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function SDe(e,t){for(var r=e.mapDimension("value"),n=e.mapArray(r,function(l){return l}),i=[],s=t==="ascending",a=0,o=e.count();a<o;a++)i[a]=a;return et(t)?i.sort(t):t!=="none"&&i.sort(function(l,c){return s?n[l]-n[c]:n[c]-n[l]}),i}function CDe(e){var t=e.hostModel,r=t.get("orient");e.each(function(n){var i=e.getItemModel(n),s=i.getModel("label"),a=s.get("position"),o=i.getModel("labelLine"),l=e.getItemLayout(n),c=l.points,d=a==="inner"||a==="inside"||a==="center"||a==="insideLeft"||a==="insideRight",h,f,p,g;if(d)a==="insideLeft"?(f=(c[0][0]+c[3][0])/2+5,p=(c[0][1]+c[3][1])/2,h="left"):a==="insideRight"?(f=(c[1][0]+c[2][0])/2-5,p=(c[1][1]+c[2][1])/2,h="right"):(f=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,p=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4,h="center"),g=[[f,p],[f,p]];else{var v=void 0,m=void 0,y=void 0,x=void 0,_=o.get("length");a==="left"?(v=(c[3][0]+c[0][0])/2,m=(c[3][1]+c[0][1])/2,y=v-_,f=y-5,h="right"):a==="right"?(v=(c[1][0]+c[2][0])/2,m=(c[1][1]+c[2][1])/2,y=v+_,f=y+5,h="left"):a==="top"?(v=(c[3][0]+c[0][0])/2,m=(c[3][1]+c[0][1])/2,x=m-_,p=x-5,h="center"):a==="bottom"?(v=(c[1][0]+c[2][0])/2,m=(c[1][1]+c[2][1])/2,x=m+_,p=x+5,h="center"):a==="rightTop"?(v=r==="horizontal"?c[3][0]:c[1][0],m=r==="horizontal"?c[3][1]:c[1][1],r==="horizontal"?(x=m-_,p=x-5,h="center"):(y=v+_,f=y+5,h="top")):a==="rightBottom"?(v=c[2][0],m=c[2][1],r==="horizontal"?(x=m+_,p=x+5,h="center"):(y=v+_,f=y+5,h="bottom")):a==="leftTop"?(v=c[0][0],m=r==="horizontal"?c[0][1]:c[1][1],r==="horizontal"?(x=m-_,p=x-5,h="center"):(y=v-_,f=y-5,h="right")):a==="leftBottom"?(v=r==="horizontal"?c[1][0]:c[3][0],m=r==="horizontal"?c[1][1]:c[2][1],r==="horizontal"?(x=m+_,p=x+5,h="center"):(y=v-_,f=y-5,h="right")):(v=(c[1][0]+c[2][0])/2,m=(c[1][1]+c[2][1])/2,r==="horizontal"?(x=m+_,p=x+5,h="center"):(y=v+_,f=y+5,h="left")),r==="horizontal"?(y=v,f=y):(x=m,p=x),g=[[v,m],[y,x]]}l.label={linePoints:g,x:f,y:p,verticalAlign:"middle",textAlign:h,inside:d}})}function kDe(e,t){e.eachSeriesByType("funnel",function(r){var n=r.getData(),i=n.mapDimension("value"),s=r.get("sort"),a=wDe(r,t),o=r.get("orient"),l=a.width,c=a.height,d=SDe(n,s),h=a.x,f=a.y,p=o==="horizontal"?[Ne(r.get("minSize"),c),Ne(r.get("maxSize"),c)]:[Ne(r.get("minSize"),l),Ne(r.get("maxSize"),l)],g=n.getDataExtent(i),v=r.get("min"),m=r.get("max");v==null&&(v=Math.min(g[0],0)),m==null&&(m=g[1]);var y=r.get("funnelAlign"),x=r.get("gap"),_=o==="horizontal"?l:c,b=(_-x*(n.count()-1))/n.count(),w=function(D,$){if(o==="horizontal"){var L=n.get(i,D)||0,O=Pr(L,[v,m],p,!0),j=void 0;switch(y){case"top":j=f;break;case"center":j=f+(c-O)/2;break;case"bottom":j=f+(c-O);break}return[[$,j],[$,j+O]]}var M=n.get(i,D)||0,I=Pr(M,[v,m],p,!0),z;switch(y){case"left":z=h;break;case"center":z=h+(l-I)/2;break;case"right":z=h+l-I;break}return[[z,$],[z+I,$]]};s==="ascending"&&(b=-b,x=-x,o==="horizontal"?h+=l:f+=c,d=d.reverse());for(var S=0;S<d.length;S++){var k=d[S],C=d[S+1],E=n.getItemModel(k);if(o==="horizontal"){var T=E.get(["itemStyle","width"]);T==null?T=b:(T=Ne(T,l),s==="ascending"&&(T=-T));var N=w(k,h),R=w(C,h+T);h+=T+x,n.setItemLayout(k,{points:N.concat(R.slice().reverse())})}else{var P=E.get(["itemStyle","height"]);P==null?P=b:(P=Ne(P,c),s==="ascending"&&(P=-P));var N=w(k,f),R=w(C,f+P);f+=P+x,n.setItemLayout(k,{points:N.concat(R.slice().reverse())})}}CDe(n)})}function EDe(e){e.registerChartView(_De),e.registerSeriesModel(bDe),e.registerLayout(kDe),e.registerProcessor(lw("funnel"))}var TDe=.3,NDe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._dataGroup=new ht,r._initialized=!1,r}return t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(r,n,i,s){this._progressiveEls=null;var a=this._dataGroup,o=r.getData(),l=this._data,c=r.coordinateSystem,d=c.dimensions,h=FW(r);o.diff(l).add(f).update(p).remove(g).execute();function f(m){var y=BW(o,a,m,d,c);mR(y,o,m,h)}function p(m,y){var x=l.getItemGraphicEl(y),_=gse(o,m,d,c);o.setItemGraphicEl(m,x),wr(x,{shape:{points:_}},r,m),rl(x),mR(x,o,m,h)}function g(m){var y=l.getItemGraphicEl(m);a.remove(y)}if(!this._initialized){this._initialized=!0;var v=ADe(c,r,function(){setTimeout(function(){a.removeClipPath()})});a.setClipPath(v)}this._data=o},t.prototype.incrementalPrepareRender=function(r,n,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(r,n,i){for(var s=n.getData(),a=n.coordinateSystem,o=a.dimensions,l=FW(n),c=this._progressiveEls=[],d=r.start;d<r.end;d++){var h=BW(s,this._dataGroup,d,o,a);h.incremental=!0,mR(h,s,d,l),c.push(h)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(nn);function ADe(e,t,r){var n=e.model,i=e.getRect(),s=new lr({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),a=n.get("layout")==="horizontal"?"width":"height";return s.setShape(a,0),Sn(s,{shape:{width:i.width,height:i.height}},t,r),s}function gse(e,t,r,n){for(var i=[],s=0;s<r.length;s++){var a=r[s],o=e.get(e.mapDimension(a),t);jDe(o,n.getAxis(a).type)||i.push(n.dataToPoint(o,a))}return i}function BW(e,t,r,n,i){var s=gse(e,r,n,i),a=new Vs({shape:{points:s},z2:10});return t.add(a),e.setItemGraphicEl(r,a),a}function FW(e){var t=e.get("smooth",!0);return t===!0&&(t=TDe),t=ou(t),T_(t)&&(t=0),{smooth:t}}function mR(e,t,r,n){e.useStyle(t.getItemVisual(r,"style")),e.style.fill=null,e.setShape("smooth",n.smooth);var i=t.getItemModel(r),s=i.getModel("emphasis");qi(e,i,"lineStyle"),Dn(e,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function jDe(e,t){return t==="category"?e==null:e==null||isNaN(e)}var RDe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return t.prototype.getInitialData=function(r,n){return Su(null,this,{useEncodeDefaulter:He(IDe,null,this)})},t.prototype.getRawIndicesByActiveState=function(r){var n=this.coordinateSystem,i=this.getData(),s=[];return n.eachActiveState(i,function(a,o){r===a&&s.push(i.getRawIndex(o))}),s},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(fn);function IDe(e){var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(t){var r={};return V(t.dimensions,function(n){var i=MDe(n);r[n]=i}),r}}function MDe(e){return+e.replace("dim","")}var PDe=["lineStyle","opacity"],LDe={seriesType:"parallel",reset:function(e,t){var r=e.coordinateSystem,n={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(i,s){r.eachActiveState(s,function(a,o){var l=n[a];if(a==="normal"&&s.hasItemOption){var c=s.getItemModel(o).get(PDe,!0);c!=null&&(l=c)}var d=s.ensureUniqueItemVisual(o,"style");d.opacity=l},i.start,i.end)}}}};function DDe(e){ODe(e),$De(e)}function ODe(e){if(!e.parallel){var t=!1;V(e.series,function(r){r&&r.type==="parallel"&&(t=!0)}),t&&(e.parallel=[{}])}}function $De(e){var t=Xr(e.parallelAxis);V(t,function(r){if(st(r)){var n=r.parallelIndex||0,i=Xr(e.parallel)[n];i&&i.parallelAxisDefault&&Ct(r,i.parallelAxisDefault,!1)}})}var BDe=5,FDe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){this._model=r,this._api=i,this._handlers||(this._handlers={},V(zDe,function(s,a){i.getZr().on(a,this._handlers[a]=He(s,this))},this)),Vv(this,"_throttledDispatchExpand",r.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(r,n){F_(this,"_throttledDispatchExpand"),V(this._handlers,function(i,s){n.getZr().off(s,i)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(r){this._dispatchExpand(r)},t.prototype._dispatchExpand=function(r){r&&this._api.dispatchAction(fe({type:"parallelAxisExpand"},r))},t.type="parallel",t}(Rn),zDe={mousedown:function(e){vR(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(vR(this,"click")&&t){var r=[e.offsetX,e.offsetY],n=Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2);if(n>BDe)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!(this._mouseDownPoint||!vR(this,"mousemove"))){var t=this._model,r=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),n=r.behavior;n==="jump"&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand(n==="none"?null:{axisExpandWindow:r.axisExpandWindow,animation:n==="jump"?null:{duration:0}})}}};function vR(e,t){var r=e._model;return r.get("axisExpandable")&&r.get("axisExpandTriggerOn")===t}var UDe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){e.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(r){var n=this.option;r&&Ct(n,r,!0),this._initDimensions()},t.prototype.contains=function(r,n){var i=r.get("parallelIndex");return i!=null&&n.getComponent("parallel",i)===this},t.prototype.setAxisExpand=function(r){V(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(n){r.hasOwnProperty(n)&&(this.option[n]=r[n])},this)},t.prototype._initDimensions=function(){var r=this.dimensions=[],n=this.parallelAxisIndex=[],i=Rr(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(s){return(s.get("parallelIndex")||0)===this.componentIndex},this);V(i,function(s){r.push("dim"+s.get("dim")),n.push(s.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(Kt),HDe=function(e){le(t,e);function t(r,n,i,s,a){var o=e.call(this,r,n,i)||this;return o.type=s||"value",o.axisIndex=a,o}return t.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},t}(ul);function Pp(e,t,r,n,i,s){e=e||0;var a=r[1]-r[0];if(i!=null&&(i=mg(i,[0,a])),s!=null&&(s=Math.max(s,i??0)),n==="all"){var o=Math.abs(t[1]-t[0]);o=mg(o,[0,a]),i=s=mg(o,[i,s]),n=0}t[0]=mg(t[0],r),t[1]=mg(t[1],r);var l=yR(t,n);t[n]+=e;var c=i||0,d=r.slice();l.sign<0?d[0]+=c:d[1]-=c,t[n]=mg(t[n],d);var h;return h=yR(t,n),i!=null&&(h.sign!==l.sign||h.span<i)&&(t[1-n]=t[n]+l.sign*i),h=yR(t,n),s!=null&&h.span>s&&(t[1-n]=t[n]+h.sign*s),t}function yR(e,t){var r=e[t]-e[1-t];return{span:Math.abs(r),sign:r>0?-1:r<0?1:t?-1:1}}function mg(e,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,e))}var xR=V,mse=Math.min,vse=Math.max,zW=Math.floor,VDe=Math.ceil,UW=Gn,WDe=Math.PI,GDe=function(){function e(t,r,n){this.type="parallel",this._axesMap=qe(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,r,n)}return e.prototype._init=function(t,r,n){var i=t.dimensions,s=t.parallelAxisIndex;xR(i,function(a,o){var l=s[o],c=r.getComponent("parallelAxis",l),d=this._axesMap.set(a,new HDe(a,UN(c),[0,0],c.get("type"),l)),h=d.type==="category";d.onBand=h&&c.get("boundaryGap"),d.inverse=c.get("inverse"),c.axis=d,d.model=c,d.coordinateSystem=c.coordinateSystem=this},this)},e.prototype.update=function(t,r){this._updateAxesFromSeries(this._model,t)},e.prototype.containPoint=function(t){var r=this._makeLayoutInfo(),n=r.axisBase,i=r.layoutBase,s=r.pixelDimIndex,a=t[1-s],o=t[s];return a>=n&&a<=n+r.axisLength&&o>=i&&o<=i+r.layoutLength},e.prototype.getModel=function(){return this._model},e.prototype._updateAxesFromSeries=function(t,r){r.eachSeries(function(n){if(t.contains(n,r)){var i=n.getData();xR(this.dimensions,function(s){var a=this._axesMap.get(s);a.scale.unionExtentFromData(i,i.mapDimension(s)),Qm(a.scale,a.model)},this)}},this)},e.prototype.resize=function(t,r){this._rect=pi(t.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),this._layoutAxes()},e.prototype.getRect=function(){return this._rect},e.prototype._makeLayoutInfo=function(){var t=this._model,r=this._rect,n=["x","y"],i=["width","height"],s=t.get("layout"),a=s==="horizontal"?0:1,o=r[i[a]],l=[0,o],c=this.dimensions.length,d=SS(t.get("axisExpandWidth"),l),h=SS(t.get("axisExpandCount")||0,[0,c]),f=t.get("axisExpandable")&&c>3&&c>h&&h>1&&d>0&&o>0,p=t.get("axisExpandWindow"),g;if(p)g=SS(p[1]-p[0],l),p[1]=p[0]+g;else{g=SS(d*(h-1),l);var v=t.get("axisExpandCenter")||zW(c/2);p=[d*v-g/2],p[1]=p[0]+g}var m=(o-g)/(c-h);m<3&&(m=0);var y=[zW(UW(p[0]/d,1))+1,VDe(UW(p[1]/d,1))-1],x=m/d*p[0];return{layout:s,pixelDimIndex:a,layoutBase:r[n[a]],layoutLength:o,axisBase:r[n[1-a]],axisLength:r[i[1-a]],axisExpandable:f,axisExpandWidth:d,axisCollapseWidth:m,axisExpandWindow:p,axisCount:c,winInnerIndices:y,axisExpandWindow0Pos:x}},e.prototype._layoutAxes=function(){var t=this._rect,r=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),s=i.layout;r.each(function(a){var o=[0,i.axisLength],l=a.inverse?1:0;a.setExtent(o[l],o[1-l])}),xR(n,function(a,o){var l=(i.axisExpandable?YDe:qDe)(o,i),c={horizontal:{x:l.position,y:i.axisLength},vertical:{x:0,y:l.position}},d={horizontal:WDe/2,vertical:0},h=[c[s].x+t.x,c[s].y+t.y],f=d[s],p=Ta();Tp(p,p,f),ic(p,p,h),this._axesLayout[a]={position:h,rotation:f,transform:p,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},e.prototype.getAxis=function(t){return this._axesMap.get(t)},e.prototype.dataToPoint=function(t,r){return this.axisCoordToPoint(this._axesMap.get(r).dataToCoord(t),r)},e.prototype.eachActiveState=function(t,r,n,i){n==null&&(n=0),i==null&&(i=t.count());var s=this._axesMap,a=this.dimensions,o=[],l=[];V(a,function(m){o.push(t.mapDimension(m)),l.push(s.get(m).model)});for(var c=this.hasAxisBrushed(),d=n;d<i;d++){var h=void 0;if(!c)h="normal";else{h="active";for(var f=t.getValues(o,d),p=0,g=a.length;p<g;p++){var v=l[p].getActiveState(f[p]);if(v==="inactive"){h="inactive";break}}}r(h,d)}},e.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,r=this._axesMap,n=!1,i=0,s=t.length;i<s;i++)r.get(t[i]).model.getActiveState()!=="normal"&&(n=!0);return n},e.prototype.axisCoordToPoint=function(t,r){var n=this._axesLayout[r];return Zo([t,0],n.transform)},e.prototype.getAxisLayout=function(t){return lt(this._axesLayout[t])},e.prototype.getSlidedAxisExpandWindow=function(t){var r=this._makeLayoutInfo(),n=r.pixelDimIndex,i=r.axisExpandWindow.slice(),s=i[1]-i[0],a=[0,r.axisExpandWidth*(r.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var o=t[n]-r.layoutBase-r.axisExpandWindow0Pos,l,c="slide",d=r.axisCollapseWidth,h=this._model.get("axisExpandSlideTriggerArea"),f=h[0]!=null;if(d)f&&d&&o<s*h[0]?(c="jump",l=o-s*h[2]):f&&d&&o>s*(1-h[0])?(c="jump",l=o-s*(1-h[2])):(l=o-s*h[1])>=0&&(l=o-s*(1-h[1]))<=0&&(l=0),l*=r.axisExpandWidth/d,l?Pp(l,i,a,"all"):c="none";else{var p=i[1]-i[0],g=a[1]*o/p;i=[vse(0,g-p/2)],i[1]=mse(a[1],i[0]+p),i[0]=i[1]-p}return{axisExpandWindow:i,behavior:c}},e}();function SS(e,t){return mse(vse(e,t[0]),t[1])}function qDe(e,t){var r=t.layoutLength/(t.axisCount-1);return{position:r*e,axisNameAvailableWidth:r,axisLabelShow:!0}}function YDe(e,t){var r=t.layoutLength,n=t.axisExpandWidth,i=t.axisCount,s=t.axisCollapseWidth,a=t.winInnerIndices,o,l=s,c=!1,d;return e<a[0]?(o=e*s,d=s):e<=a[1]?(o=t.axisExpandWindow0Pos+e*n-t.axisExpandWindow[0],l=n,c=!0):(o=r-(i-1-e)*s,d=s),{position:o,axisNameAvailableWidth:l,axisLabelShow:c,nameTruncateMaxWidth:d}}function KDe(e,t){var r=[];return e.eachComponent("parallel",function(n,i){var s=new GDe(n,e,t);s.name="parallel_"+i,s.resize(n,t),n.coordinateSystem=s,s.model=n,r.push(s)}),e.eachSeries(function(n){if(n.get("coordinateSystem")==="parallel"){var i=n.getReferringComponents("parallel",ii).models[0];n.coordinateSystem=i.coordinateSystem}}),r}var ZDe={create:KDe},OL=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.activeIntervals=[],r}return t.prototype.getAreaSelectStyle=function(){return sp([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(r){var n=this.activeIntervals=lt(r);if(n)for(var i=n.length-1;i>=0;i--)fo(n[i])},t.prototype.getActiveState=function(r){var n=this.activeIntervals;if(!n.length)return"normal";if(r==null||isNaN(+r))return"inactive";if(n.length===1){var i=n[0];if(i[0]<=r&&r<=i[1])return"active"}else for(var s=0,a=n.length;s<a;s++)if(n[s][0]<=r&&r<=n[s][1])return"active";return"inactive"},t}(Kt);oi(OL,nw);var lp=!0,J_=Math.min,rv=Math.max,XDe=Math.pow,JDe=1e4,QDe=6,eOe=6,HW="globalPan",tOe={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},rOe={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},VW={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},nOe=0,b4=function(e){le(t,e);function t(r){var n=e.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=r,n.group=new ht,n._uid="brushController_"+nOe++,V(uOe,function(i,s){this._handlers[s]=He(i,this)},n),n}return t.prototype.enableBrush=function(r){return this._brushType&&this._doDisableBrush(),r.brushType&&this._doEnableBrush(r),this},t.prototype._doEnableBrush=function(r){var n=this._zr;this._enableGlobalPan||qMe(n,HW,this._uid),V(this._handlers,function(i,s){n.on(s,i)}),this._brushType=r.brushType,this._brushOption=Ct(lt(VW),r,!0)},t.prototype._doDisableBrush=function(){var r=this._zr;YMe(r,HW,this._uid),V(this._handlers,function(n,i){r.off(i,n)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(r){if(r&&r.length){var n=this._panels={};V(r,function(i){n[i.panelId]=lt(i)})}else this._panels=null;return this},t.prototype.mount=function(r){r=r||{},this._enableGlobalPan=r.enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:r.x||0,y:r.y||0,rotation:r.rotation||0,scaleX:r.scaleX||1,scaleY:r.scaleY||1}),this._transform=n.getLocalTransform(),this},t.prototype.updateCovers=function(r){r=xe(r,function(f){return Ct(lt(VW),f,!0)});var n="\0-brush-index-",i=this._covers,s=this._covers=[],a=this,o=this._creatingCover;return new uu(i,r,c,l).add(d).update(d).remove(h).execute(),this;function l(f,p){return(f.id!=null?f.id:n+p)+"-"+f.brushType}function c(f,p){return l(f.__brushOption,p)}function d(f,p){var g=r[f];if(p!=null&&i[p]===o)s[f]=i[p];else{var v=s[f]=p!=null?(i[p].__brushOption=g,i[p]):xse(a,yse(a,g));w4(a,v)}}function h(f){i[f]!==o&&a.group.remove(i[f])}},t.prototype.unmount=function(){return this.enableBrush(!1),$L(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(bo);function yse(e,t){var r=YN[t.brushType].createCover(e,t);return r.__brushOption=t,bse(r,t),e.group.add(r),r}function xse(e,t){var r=S4(t);return r.endCreating&&(r.endCreating(e,t),bse(t,t.__brushOption)),t}function _se(e,t){var r=t.__brushOption;S4(t).updateCoverShape(e,t,r.range,r)}function bse(e,t){var r=t.z;r==null&&(r=JDe),e.traverse(function(n){n.z=r,n.z2=r})}function w4(e,t){S4(t).updateCommon(e,t),_se(e,t)}function S4(e){return YN[e.__brushOption.brushType]}function C4(e,t,r){var n=e._panels;if(!n)return lp;var i,s=e._transform;return V(n,function(a){a.isTargetByCursor(t,r,s)&&(i=a)}),i}function wse(e,t){var r=e._panels;if(!r)return lp;var n=t.__brushOption.panelId;return n!=null?r[n]:lp}function $L(e){var t=e._covers,r=t.length;return V(t,function(n){e.group.remove(n)},e),t.length=0,!!r}function cp(e,t){var r=xe(e._covers,function(n){var i=n.__brushOption,s=lt(i.range);return{brushType:i.brushType,panelId:i.panelId,range:s}});e.trigger("brush",{areas:r,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function iOe(e){var t=e._track;if(!t.length)return!1;var r=t[t.length-1],n=t[0],i=r[0]-n[0],s=r[1]-n[1],a=XDe(i*i+s*s,.5);return a>QDe}function Sse(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function Cse(e,t,r,n){var i=new ht;return i.add(new lr({name:"main",style:k4(r),silent:!0,draggable:!0,cursor:"move",drift:xt(WW,e,t,i,["n","s","w","e"]),ondragend:xt(cp,t,{isEnd:!0})})),V(n,function(s){i.add(new lr({name:s.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:xt(WW,e,t,i,s),ondragend:xt(cp,t,{isEnd:!0})}))}),i}function kse(e,t,r,n){var i=n.brushStyle.lineWidth||0,s=rv(i,eOe),a=r[0][0],o=r[1][0],l=a-i/2,c=o-i/2,d=r[0][1],h=r[1][1],f=d-s+i/2,p=h-s+i/2,g=d-a,v=h-o,m=g+i,y=v+i;Tc(e,t,"main",a,o,g,v),n.transformable&&(Tc(e,t,"w",l,c,s,y),Tc(e,t,"e",f,c,s,y),Tc(e,t,"n",l,c,m,s),Tc(e,t,"s",l,p,m,s),Tc(e,t,"nw",l,c,s,s),Tc(e,t,"ne",f,c,s,s),Tc(e,t,"sw",l,p,s,s),Tc(e,t,"se",f,p,s,s))}function BL(e,t){var r=t.__brushOption,n=r.transformable,i=t.childAt(0);i.useStyle(k4(r)),i.attr({silent:!n,cursor:n?"move":"default"}),V([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(s){var a=t.childOfName(s.join("")),o=s.length===1?FL(e,s[0]):aOe(e,s);a&&a.attr({silent:!n,invisible:!n,cursor:n?rOe[o]+"-resize":null})})}function Tc(e,t,r,n,i,s,a){var o=t.childOfName(r);o&&o.setShape(lOe(E4(e,t,[[n,i],[n+s,i+a]])))}function k4(e){return rt({strokeNoScale:!0},e.brushStyle)}function Ese(e,t,r,n){var i=[J_(e,r),J_(t,n)],s=[rv(e,r),rv(t,n)];return[[i[0],s[0]],[i[1],s[1]]]}function sOe(e){return zf(e.group)}function FL(e,t){var r={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},i=EN(r[t],sOe(e));return n[i]}function aOe(e,t){var r=[FL(e,t[0]),FL(e,t[1])];return(r[0]==="e"||r[0]==="w")&&r.reverse(),r.join("")}function WW(e,t,r,n,i,s){var a=r.__brushOption,o=e.toRectRange(a.range),l=Tse(t,i,s);V(n,function(c){var d=tOe[c];o[d[0]][d[1]]+=l[d[0]]}),a.range=e.fromRectRange(Ese(o[0][0],o[1][0],o[0][1],o[1][1])),w4(t,r),cp(t,{isEnd:!1})}function oOe(e,t,r,n){var i=t.__brushOption.range,s=Tse(e,r,n);V(i,function(a){a[0]+=s[0],a[1]+=s[1]}),w4(e,t),cp(e,{isEnd:!1})}function Tse(e,t,r){var n=e.group,i=n.transformCoordToLocal(t,r),s=n.transformCoordToLocal(0,0);return[i[0]-s[0],i[1]-s[1]]}function E4(e,t,r){var n=wse(e,t);return n&&n!==lp?n.clipPath(r,e._transform):lt(r)}function lOe(e){var t=J_(e[0][0],e[1][0]),r=J_(e[0][1],e[1][1]),n=rv(e[0][0],e[1][0]),i=rv(e[0][1],e[1][1]);return{x:t,y:r,width:n-t,height:i-r}}function cOe(e,t,r){if(!(!e._brushType||dOe(e,t.offsetX,t.offsetY))){var n=e._zr,i=e._covers,s=C4(e,t,r);if(!e._dragging)for(var a=0;a<i.length;a++){var o=i[a].__brushOption;if(s&&(s===lp||o.panelId===s.panelId)&&YN[o.brushType].contain(i[a],r[0],r[1]))return}s&&n.setCursorStyle("crosshair")}}function zL(e){var t=e.event;t.preventDefault&&t.preventDefault()}function UL(e,t,r){return e.childOfName("main").contain(t,r)}function Nse(e,t,r,n){var i=e._creatingCover,s=e._creatingPanel,a=e._brushOption,o;if(e._track.push(r.slice()),iOe(e)||i){if(s&&!i){a.brushMode==="single"&&$L(e);var l=lt(a);l.brushType=GW(l.brushType,s),l.panelId=s===lp?null:s.panelId,i=e._creatingCover=yse(e,l),e._covers.push(i)}if(i){var c=YN[GW(e._brushType,s)],d=i.__brushOption;d.range=c.getCreatingRange(E4(e,i,e._track)),n&&(xse(e,i),c.updateCommon(e,i)),_se(e,i),o={isEnd:n}}}else n&&a.brushMode==="single"&&a.removeOnClick&&C4(e,t,r)&&$L(e)&&(o={isEnd:n,removeOnClick:!0});return o}function GW(e,t){return e==="auto"?t.defaultBrushType:e}var uOe={mousedown:function(e){if(this._dragging)qW(this,e);else if(!e.target||!e.target.draggable){zL(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null;var r=this._creatingPanel=C4(this,e,t);r&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=e.offsetX,r=e.offsetY,n=this.group.transformCoordToLocal(t,r);if(cOe(this,e,n),this._dragging){zL(e);var i=Nse(this,e,n,!1);i&&cp(this,i)}},mouseup:function(e){qW(this,e)}};function qW(e,t){if(e._dragging){zL(t);var r=t.offsetX,n=t.offsetY,i=e.group.transformCoordToLocal(r,n),s=Nse(e,t,i,!0);e._dragging=!1,e._track=[],e._creatingCover=null,s&&cp(e,s)}}function dOe(e,t,r){var n=e._zr;return t<0||t>n.getWidth()||r<0||r>n.getHeight()}var YN={lineX:YW(0),lineY:YW(1),rect:{createCover:function(e,t){function r(n){return n}return Cse({toRectRange:r,fromRectRange:r},e,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(e){var t=Sse(e);return Ese(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,r,n){kse(e,t,r,n)},updateCommon:BL,contain:UL},polygon:{createCover:function(e,t){var r=new ht;return r.add(new Vs({name:"main",style:k4(t),silent:!0})),r},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new Fs({name:"main",draggable:!0,drift:xt(oOe,e,t),ondragend:xt(cp,e,{isEnd:!0})}))},updateCoverShape:function(e,t,r,n){t.childAt(0).setShape({points:E4(e,t,r)})},updateCommon:BL,contain:UL}};function YW(e){return{createCover:function(t,r){return Cse({toRectRange:function(n){var i=[n,[0,100]];return e&&i.reverse(),i},fromRectRange:function(n){return n[e]}},t,r,[[["w"],["e"]],[["n"],["s"]]][e])},getCreatingRange:function(t){var r=Sse(t),n=J_(r[0][e],r[1][e]),i=rv(r[0][e],r[1][e]);return[n,i]},updateCoverShape:function(t,r,n,i){var s,a=wse(t,r);if(a!==lp&&a.getLinearBrushOtherExtent)s=a.getLinearBrushOtherExtent(e);else{var o=t._zr;s=[0,[o.getWidth(),o.getHeight()][1-e]]}var l=[n,s];e&&l.reverse(),kse(t,r,l,i)},updateCommon:BL,contain:UL}}function Ase(e){return e=T4(e),function(t){return Bte(t,e)}}function jse(e,t){return e=T4(e),function(r){var n=t??r,i=n?e.width:e.height,s=n?e.x:e.y;return[s,s+(i||0)]}}function Rse(e,t,r){var n=T4(e);return function(i,s){return n.contain(s[0],s[1])&&!VN(i,t,r)}}function T4(e){return At.create(e)}var hOe=["axisLine","axisTickLabel","axisName"],fOe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){e.prototype.init.apply(this,arguments),(this._brushController=new b4(n.getZr())).on("brush",He(this._onBrush,this))},t.prototype.render=function(r,n,i,s){if(!pOe(r,n,s)){this.axisModel=r,this.api=i,this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new ht,this.group.add(this._axisGroup),!!r.get("show")){var o=mOe(r,n),l=o.coordinateSystem,c=r.getAreaSelectStyle(),d=c.width,h=r.axis.dim,f=l.getAxisLayout(h),p=fe({strokeContainThreshold:d},f),g=new Ds(r,p);V(hOe,g.add,g),this._axisGroup.add(g.getGroup()),this._refreshBrushController(p,c,r,o,d,i),Jb(a,this._axisGroup,r)}}},t.prototype._refreshBrushController=function(r,n,i,s,a,o){var l=i.axis.getExtent(),c=l[1]-l[0],d=Math.min(30,Math.abs(c)*.1),h=At.create({x:l[0],y:-a/2,width:c,height:a});h.x-=d,h.width+=2*d,this._brushController.mount({enableGlobalPan:!0,rotation:r.rotation,x:r.position[0],y:r.position[1]}).setPanels([{panelId:"pl",clipPath:Ase(h),isTargetByCursor:Rse(h,o,s),getLinearBrushOtherExtent:jse(h,0)}]).enableBrush({brushType:"lineX",brushStyle:n,removeOnClick:!0}).updateCovers(gOe(i))},t.prototype._onBrush=function(r){var n=r.areas,i=this.axisModel,s=i.axis,a=xe(n,function(o){return[s.coordToData(o.range[0],!0),s.coordToData(o.range[1],!0)]});(!i.option.realtime===r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:a})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(Rn);function pOe(e,t,r){return r&&r.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:r})[0]===e}function gOe(e){var t=e.axis;return xe(e.activeIntervals,function(r){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(r[0],!0),t.dataToCoord(r[1],!0)]}})}function mOe(e,t){return t.getComponent("parallel",e.get("parallelIndex"))}var vOe={type:"axisAreaSelect",event:"axisAreaSelected"};function yOe(e){e.registerAction(vOe,function(t,r){r.eachComponent({mainType:"parallelAxis",query:t},function(n){n.axis.model.setActiveIntervals(t.intervals)})}),e.registerAction("parallelAxisExpand",function(t,r){r.eachComponent({mainType:"parallel",query:t},function(n){n.setAxisExpand(t)})})}var xOe={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function Ise(e){e.registerComponentView(FDe),e.registerComponentModel(UDe),e.registerCoordinateSystem("parallel",ZDe),e.registerPreprocessor(DDe),e.registerComponentModel(OL),e.registerComponentView(fOe),tv(e,"parallel",OL,xOe),yOe(e)}function _Oe(e){Ft(Ise),e.registerChartView(NDe),e.registerSeriesModel(RDe),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,LDe)}var bOe=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return e}(),wOe=function(e){le(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new bOe},t.prototype.buildPath=function(r,n){var i=n.extent;r.moveTo(n.x1,n.y1),r.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),n.orient==="vertical"?(r.lineTo(n.x2+i,n.y2),r.bezierCurveTo(n.cpx2+i,n.cpy2,n.cpx1+i,n.cpy1,n.x1+i,n.y1)):(r.lineTo(n.x2,n.y2+i),r.bezierCurveTo(n.cpx2,n.cpy2+i,n.cpx1,n.cpy1+i,n.x1,n.y1+i)),r.closePath()},t.prototype.highlight=function(){lu(this)},t.prototype.downplay=function(){cu(this)},t}(Vt),SOe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._focusAdjacencyDisabled=!1,r}return t.prototype.render=function(r,n,i){var s=this,a=r.getGraph(),o=this.group,l=r.layoutInfo,c=l.width,d=l.height,h=r.getData(),f=r.getData("edge"),p=r.get("orient");this._model=r,o.removeAll(),o.x=l.x,o.y=l.y,a.eachEdge(function(g){var v=new wOe,m=ft(v);m.dataIndex=g.dataIndex,m.seriesIndex=r.seriesIndex,m.dataType="edge";var y=g.getModel(),x=y.getModel("lineStyle"),_=x.get("curveness"),b=g.node1.getLayout(),w=g.node1.getModel(),S=w.get("localX"),k=w.get("localY"),C=g.node2.getLayout(),E=g.node2.getModel(),T=E.get("localX"),N=E.get("localY"),R=g.getLayout(),P,D,$,L,O,j,M,I;v.shape.extent=Math.max(1,R.dy),v.shape.orient=p,p==="vertical"?(P=(S!=null?S*c:b.x)+R.sy,D=(k!=null?k*d:b.y)+b.dy,$=(T!=null?T*c:C.x)+R.ty,L=N!=null?N*d:C.y,O=P,j=D*(1-_)+L*_,M=$,I=D*_+L*(1-_)):(P=(S!=null?S*c:b.x)+b.dx,D=(k!=null?k*d:b.y)+R.sy,$=T!=null?T*c:C.x,L=(N!=null?N*d:C.y)+R.ty,O=P*(1-_)+$*_,j=D,M=P*_+$*(1-_),I=L),v.setShape({x1:P,y1:D,x2:$,y2:L,cpx1:O,cpy1:j,cpx2:M,cpy2:I}),v.useStyle(x.getItemStyle()),KW(v.style,p,g);var z=""+y.get("value"),U=ki(y,"edgeLabel");Yi(v,U,{labelFetcher:{getFormattedLabel:function(Y,Z,B,W,K,X){return r.getFormattedLabel(Y,Z,"edge",W,Zl(K,U.normal&&U.normal.get("formatter"),z),X)}},labelDataIndex:g.dataIndex,defaultText:z}),v.setTextConfig({position:"inside"});var F=y.getModel("emphasis");qi(v,y,"lineStyle",function(Y){var Z=Y.getItemStyle();return KW(Z,p,g),Z}),o.add(v),f.setItemGraphicEl(g.dataIndex,v);var G=F.get("focus");Dn(v,G==="adjacency"?g.getAdjacentDataIndices():G==="trajectory"?g.getTrajectoryDataIndices():G,F.get("blurScope"),F.get("disabled"))}),a.eachNode(function(g){var v=g.getLayout(),m=g.getModel(),y=m.get("localX"),x=m.get("localY"),_=m.getModel("emphasis"),b=m.get(["itemStyle","borderRadius"])||0,w=new lr({shape:{x:y!=null?y*c:v.x,y:x!=null?x*d:v.y,width:v.dx,height:v.dy,r:b},style:m.getModel("itemStyle").getItemStyle(),z2:10});Yi(w,ki(m),{labelFetcher:{getFormattedLabel:function(k,C){return r.getFormattedLabel(k,C,"node")}},labelDataIndex:g.dataIndex,defaultText:g.id}),w.disableLabelAnimation=!0,w.setStyle("fill",g.getVisual("color")),w.setStyle("decal",g.getVisual("style").decal),qi(w,m),o.add(w),h.setItemGraphicEl(g.dataIndex,w),ft(w).dataType="node";var S=_.get("focus");Dn(w,S==="adjacency"?g.getAdjacentDataIndices():S==="trajectory"?g.getTrajectoryDataIndices():S,_.get("blurScope"),_.get("disabled"))}),h.eachItemGraphicEl(function(g,v){var m=h.getItemModel(v);m.get("draggable")&&(g.drift=function(y,x){s._focusAdjacencyDisabled=!0,this.shape.x+=y,this.shape.y+=x,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:r.id,dataIndex:h.getRawIndex(v),localX:this.shape.x/c,localY:this.shape.y/d})},g.ondragend=function(){s._focusAdjacencyDisabled=!1},g.draggable=!0,g.cursor="move")}),!this._data&&r.isAnimationEnabled()&&o.setClipPath(COe(o.getBoundingRect(),r,function(){o.removeClipPath()})),this._data=r.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(nn);function KW(e,t,r){switch(e.fill){case"source":e.fill=r.node1.getVisual("color"),e.decal=r.node1.getVisual("style").decal;break;case"target":e.fill=r.node2.getVisual("color"),e.decal=r.node2.getVisual("style").decal;break;case"gradient":var n=r.node1.getVisual("color"),i=r.node2.getVisual("color");De(n)&&De(i)&&(e.fill=new Xb(0,0,+(t==="horizontal"),+(t==="vertical"),[{color:n,offset:0},{color:i,offset:1}]))}}function COe(e,t,r){var n=new lr({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Sn(n,{shape:{width:e.width+20}},t,r),n}var kOe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getInitialData=function(r,n){var i=r.edges||r.links||[],s=r.data||r.nodes||[],a=r.levels||[];this.levelModels=[];for(var o=this.levelModels,l=0;l<a.length;l++)a[l].depth!=null&&a[l].depth>=0&&(o[a[l].depth]=new Lr(a[l],this,n));var c=pse(s,i,this,!0,d);return c.data;function d(h,f){h.wrapMethod("getItemModel",function(p,g){var v=p.parentModel,m=v.getData().getItemLayout(g);if(m){var y=m.depth,x=v.levelModels[y];x&&(p.parentModel=x)}return p}),f.wrapMethod("getItemModel",function(p,g){var v=p.parentModel,m=v.getGraph().getEdgeByIndex(g),y=m.node1.getLayout();if(y){var x=y.depth,_=v.levelModels[x];_&&(p.parentModel=_)}return p})}},t.prototype.setNodePosition=function(r,n){var i=this.option.data||this.option.nodes,s=i[r];s.localX=n[0],s.localY=n[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(r,n,i){function s(p){return isNaN(p)||p==null}if(i==="edge"){var a=this.getDataParams(r,i),o=a.data,l=a.value,c=o.source+" -- "+o.target;return Ei("nameValue",{name:c,value:l,noValue:s(l)})}else{var d=this.getGraph().getNodeByIndex(r),h=d.getLayout().value,f=this.getDataParams(r,i).data.name;return Ei("nameValue",{name:f!=null?f+"":null,value:h,noValue:s(h)})}},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(r,n){var i=e.prototype.getDataParams.call(this,r,n);if(i.value==null&&n==="node"){var s=this.getGraph().getNodeByIndex(r),a=s.getLayout().value;i.value=a}return i},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(fn);function EOe(e,t){e.eachSeriesByType("sankey",function(r){var n=r.get("nodeWidth"),i=r.get("nodeGap"),s=TOe(r,t);r.layoutInfo=s;var a=s.width,o=s.height,l=r.getGraph(),c=l.nodes,d=l.edges;AOe(c);var h=Rr(c,function(v){return v.getLayout().value===0}),f=h.length!==0?0:r.get("layoutIterations"),p=r.get("orient"),g=r.get("nodeAlign");NOe(c,d,n,i,a,o,f,p,g)})}function TOe(e,t){return pi(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function NOe(e,t,r,n,i,s,a,o,l){jOe(e,t,r,i,s,o,l),POe(e,t,s,i,n,a,o),HOe(e,o)}function AOe(e){V(e,function(t){var r=Ld(t.outEdges,RE),n=Ld(t.inEdges,RE),i=t.getValue()||0,s=Math.max(r,n,i);t.setLayout({value:s},!0)})}function jOe(e,t,r,n,i,s,a){for(var o=[],l=[],c=[],d=[],h=0,f=0;f<t.length;f++)o[f]=1;for(var f=0;f<e.length;f++)l[f]=e[f].inEdges.length,l[f]===0&&c.push(e[f]);for(var p=-1;c.length;){for(var g=0;g<c.length;g++){var v=c[g],m=v.hostGraph.data.getRawDataItem(v.dataIndex),y=m.depth!=null&&m.depth>=0;y&&m.depth>p&&(p=m.depth),v.setLayout({depth:y?m.depth:h},!0),s==="vertical"?v.setLayout({dy:r},!0):v.setLayout({dx:r},!0);for(var x=0;x<v.outEdges.length;x++){var _=v.outEdges[x],b=t.indexOf(_);o[b]=0;var w=_.node2,S=e.indexOf(w);--l[S]===0&&d.indexOf(w)<0&&d.push(w)}}++h,c=d,d=[]}for(var f=0;f<o.length;f++)if(o[f]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var k=p>h-1?p:h-1;a&&a!=="left"&&ROe(e,a,s,k);var C=s==="vertical"?(i-r)/k:(n-r)/k;MOe(e,C,s)}function Mse(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return t.depth!=null&&t.depth>=0}function ROe(e,t,r,n){if(t==="right"){for(var i=[],s=e,a=0;s.length;){for(var o=0;o<s.length;o++){var l=s[o];l.setLayout({skNodeHeight:a},!0);for(var c=0;c<l.inEdges.length;c++){var d=l.inEdges[c];i.indexOf(d.node1)<0&&i.push(d.node1)}}s=i,i=[],++a}V(e,function(h){Mse(h)||h.setLayout({depth:Math.max(0,n-h.getLayout().skNodeHeight)},!0)})}else t==="justify"&&IOe(e,n)}function IOe(e,t){V(e,function(r){!Mse(r)&&!r.outEdges.length&&r.setLayout({depth:t},!0)})}function MOe(e,t,r){V(e,function(n){var i=n.getLayout().depth*t;r==="vertical"?n.setLayout({y:i},!0):n.setLayout({x:i},!0)})}function POe(e,t,r,n,i,s,a){var o=LOe(e,a);DOe(o,t,r,n,i,a),_R(o,i,r,n,a);for(var l=1;s>0;s--)l*=.99,OOe(o,l,a),_R(o,i,r,n,a),UOe(o,l,a),_R(o,i,r,n,a)}function LOe(e,t){var r=[],n=t==="vertical"?"y":"x",i=HP(e,function(s){return s.getLayout()[n]});return i.keys.sort(function(s,a){return s-a}),V(i.keys,function(s){r.push(i.buckets.get(s))}),r}function DOe(e,t,r,n,i,s){var a=1/0;V(e,function(o){var l=o.length,c=0;V(o,function(h){c+=h.getLayout().value});var d=s==="vertical"?(n-(l-1)*i)/c:(r-(l-1)*i)/c;d<a&&(a=d)}),V(e,function(o){V(o,function(l,c){var d=l.getLayout().value*a;s==="vertical"?(l.setLayout({x:c},!0),l.setLayout({dx:d},!0)):(l.setLayout({y:c},!0),l.setLayout({dy:d},!0))})}),V(t,function(o){var l=+o.getValue()*a;o.setLayout({dy:l},!0)})}function _R(e,t,r,n,i){var s=i==="vertical"?"x":"y";V(e,function(a){a.sort(function(v,m){return v.getLayout()[s]-m.getLayout()[s]});for(var o,l,c,d=0,h=a.length,f=i==="vertical"?"dx":"dy",p=0;p<h;p++)l=a[p],c=d-l.getLayout()[s],c>0&&(o=l.getLayout()[s]+c,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0)),d=l.getLayout()[s]+l.getLayout()[f]+t;var g=i==="vertical"?n:r;if(c=d-t-g,c>0){o=l.getLayout()[s]-c,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0),d=o;for(var p=h-2;p>=0;--p)l=a[p],c=l.getLayout()[s]+l.getLayout()[f]+t-d,c>0&&(o=l.getLayout()[s]-c,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0)),d=l.getLayout()[s]}})}function OOe(e,t,r){V(e.slice().reverse(),function(n){V(n,function(i){if(i.outEdges.length){var s=Ld(i.outEdges,$Oe,r)/Ld(i.outEdges,RE);if(isNaN(s)){var a=i.outEdges.length;s=a?Ld(i.outEdges,BOe,r)/a:0}if(r==="vertical"){var o=i.getLayout().x+(s-Yd(i,r))*t;i.setLayout({x:o},!0)}else{var l=i.getLayout().y+(s-Yd(i,r))*t;i.setLayout({y:l},!0)}}})})}function $Oe(e,t){return Yd(e.node2,t)*e.getValue()}function BOe(e,t){return Yd(e.node2,t)}function FOe(e,t){return Yd(e.node1,t)*e.getValue()}function zOe(e,t){return Yd(e.node1,t)}function Yd(e,t){return t==="vertical"?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function RE(e){return e.getValue()}function Ld(e,t,r){for(var n=0,i=e.length,s=-1;++s<i;){var a=+t(e[s],r);isNaN(a)||(n+=a)}return n}function UOe(e,t,r){V(e,function(n){V(n,function(i){if(i.inEdges.length){var s=Ld(i.inEdges,FOe,r)/Ld(i.inEdges,RE);if(isNaN(s)){var a=i.inEdges.length;s=a?Ld(i.inEdges,zOe,r)/a:0}if(r==="vertical"){var o=i.getLayout().x+(s-Yd(i,r))*t;i.setLayout({x:o},!0)}else{var l=i.getLayout().y+(s-Yd(i,r))*t;i.setLayout({y:l},!0)}}})})}function HOe(e,t){var r=t==="vertical"?"x":"y";V(e,function(n){n.outEdges.sort(function(i,s){return i.node2.getLayout()[r]-s.node2.getLayout()[r]}),n.inEdges.sort(function(i,s){return i.node1.getLayout()[r]-s.node1.getLayout()[r]})}),V(e,function(n){var i=0,s=0;V(n.outEdges,function(a){a.setLayout({sy:i},!0),i+=a.getLayout().dy}),V(n.inEdges,function(a){a.setLayout({ty:s},!0),s+=a.getLayout().dy})})}function VOe(e){e.eachSeriesByType("sankey",function(t){var r=t.getGraph(),n=r.nodes,i=r.edges;if(n.length){var s=1/0,a=-1/0;V(n,function(o){var l=o.getLayout().value;l<s&&(s=l),l>a&&(a=l)}),V(n,function(o){var l=new Ci({type:"color",mappingMethod:"linear",dataExtent:[s,a],visual:t.get("color")}),c=l.mapValueToVisual(o.getLayout().value),d=o.getModel().get(["itemStyle","color"]);d!=null?(o.setVisual("color",d),o.setVisual("style",{fill:d})):(o.setVisual("color",c),o.setVisual("style",{fill:c}))})}i.length&&V(i,function(o){var l=o.getModel().get("lineStyle");o.setVisual("style",l)})})}function WOe(e){e.registerChartView(SOe),e.registerSeriesModel(kOe),e.registerLayout(EOe),e.registerVisual(VOe),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,r){r.eachComponent({mainType:"series",subType:"sankey",query:t},function(n){n.setNodePosition(t.dataIndex,[t.localX,t.localY])})})}var Pse=function(){function e(){}return e.prototype._hasEncodeRule=function(t){var r=this.getEncode();return r&&r.get(t)!=null},e.prototype.getInitialData=function(t,r){var n,i=r.getComponent("xAxis",this.get("xAxisIndex")),s=r.getComponent("yAxis",this.get("yAxisIndex")),a=i.get("type"),o=s.get("type"),l;a==="category"?(t.layout="horizontal",n=i.getOrdinalMeta(),l=!this._hasEncodeRule("x")):o==="category"?(t.layout="vertical",n=s.getOrdinalMeta(),l=!this._hasEncodeRule("y")):t.layout=t.layout||"horizontal";var c=["x","y"],d=t.layout==="horizontal"?0:1,h=this._baseAxisDim=c[d],f=c[1-d],p=[i,s],g=p[d].get("type"),v=p[1-d].get("type"),m=t.data;if(m&&l){var y=[];V(m,function(b,w){var S;ve(b)?(S=b.slice(),b.unshift(w)):ve(b.value)?(S=fe({},b),S.value=S.value.slice(),b.value.unshift(w)):S=b,y.push(S)}),t.data=y}var x=this.defaultValueDimensions,_=[{name:h,type:_E(g),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:f,type:_E(v),dimsDef:x.slice()}];return qv(this,{coordDimensions:_,dimensionsCount:x.length+1,encodeDefaulter:xt(dre,_,this)})},e.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},e}(),Lse=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],r.visualDrawType="stroke",r}return t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(fn);oi(Lse,Pse,!0);var GOe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var s=r.getData(),a=this.group,o=this._data;this._data||a.removeAll();var l=r.get("layout")==="horizontal"?1:0;s.diff(o).add(function(c){if(s.hasValue(c)){var d=s.getItemLayout(c),h=ZW(d,s,c,l,!0);s.setItemGraphicEl(c,h),a.add(h)}}).update(function(c,d){var h=o.getItemGraphicEl(d);if(!s.hasValue(c)){a.remove(h);return}var f=s.getItemLayout(c);h?(rl(h),Dse(f,h,s,c)):h=ZW(f,s,c,l),a.add(h),s.setItemGraphicEl(c,h)}).remove(function(c){var d=o.getItemGraphicEl(c);d&&a.remove(d)}).execute(),this._data=s},t.prototype.remove=function(r){var n=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(s){s&&n.remove(s)})},t.type="boxplot",t}(nn),qOe=function(){function e(){}return e}(),YOe=function(e){le(t,e);function t(r){var n=e.call(this,r)||this;return n.type="boxplotBoxPath",n}return t.prototype.getDefaultShape=function(){return new qOe},t.prototype.buildPath=function(r,n){var i=n.points,s=0;for(r.moveTo(i[s][0],i[s][1]),s++;s<4;s++)r.lineTo(i[s][0],i[s][1]);for(r.closePath();s<i.length;s++)r.moveTo(i[s][0],i[s][1]),s++,r.lineTo(i[s][0],i[s][1])},t}(Vt);function ZW(e,t,r,n,i){var s=e.ends,a=new YOe({shape:{points:i?KOe(s,n,e):s}});return Dse(e,a,t,r,i),a}function Dse(e,t,r,n,i){var s=r.hostModel,a=Ap[i?"initProps":"updateProps"];a(t,{shape:{points:e.ends}},s,n),t.useStyle(r.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.z2=100;var o=r.getItemModel(n),l=o.getModel("emphasis");qi(t,o),Dn(t,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function KOe(e,t,r){return xe(e,function(n){return n=n.slice(),n[t]=r.initBaseline,n})}var Fx=V;function ZOe(e){var t=XOe(e);Fx(t,function(r){var n=r.seriesModels;n.length&&(JOe(r),Fx(n,function(i,s){QOe(i,r.boxOffsetList[s],r.boxWidthList[s])}))})}function XOe(e){var t=[],r=[];return e.eachSeriesByType("boxplot",function(n){var i=n.getBaseAxis(),s=Pt(r,i);s<0&&(s=r.length,r[s]=i,t[s]={axis:i,seriesModels:[]}),t[s].seriesModels.push(n)}),t}function JOe(e){var t=e.axis,r=e.seriesModels,n=r.length,i=e.boxWidthList=[],s=e.boxOffsetList=[],a=[],o;if(t.type==="category")o=t.getBandWidth();else{var l=0;Fx(r,function(g){l=Math.max(l,g.getData().count())});var c=t.getExtent();o=Math.abs(c[1]-c[0])/l}Fx(r,function(g){var v=g.get("boxWidth");ve(v)||(v=[v,v]),a.push([Ne(v[0],o)||0,Ne(v[1],o)||0])});var d=o*.8-2,h=d/n*.3,f=(d-h*(n-1))/n,p=f/2-d/2;Fx(r,function(g,v){s.push(p),p+=h+f,i.push(Math.min(Math.max(f,a[v][0]),a[v][1]))})}function QOe(e,t,r){var n=e.coordinateSystem,i=e.getData(),s=r/2,a=e.get("layout")==="horizontal"?0:1,o=1-a,l=["x","y"],c=i.mapDimension(l[a]),d=i.mapDimensionsAll(l[o]);if(c==null||d.length<5)return;for(var h=0;h<i.count();h++){var f=i.get(c,h),p=_(f,d[2],h),g=_(f,d[0],h),v=_(f,d[1],h),m=_(f,d[3],h),y=_(f,d[4],h),x=[];b(x,v,!1),b(x,m,!0),x.push(g,v,y,m),w(x,g),w(x,y),w(x,p),i.setItemLayout(h,{initBaseline:p[o],ends:x})}function _(S,k,C){var E=i.get(k,C),T=[];T[a]=S,T[o]=E;var N;return isNaN(S)||isNaN(E)?N=[NaN,NaN]:(N=n.dataToPoint(T),N[a]+=t),N}function b(S,k,C){var E=k.slice(),T=k.slice();E[a]+=s,T[a]-=s,C?S.push(E,T):S.push(T,E)}function w(S,k){var C=k.slice(),E=k.slice();C[a]-=s,E[a]+=s,S.push(C,E)}}function e3e(e,t){t=t||{};for(var r=[],n=[],i=t.boundIQR,s=i==="none"||i===0,a=0;a<e.length;a++){var o=fo(e[a].slice()),l=KA(o,.25),c=KA(o,.5),d=KA(o,.75),h=o[0],f=o[o.length-1],p=(i??1.5)*(d-l),g=s?h:Math.max(h,l-p),v=s?f:Math.min(f,d+p),m=t.itemNameFormatter,y=et(m)?m({value:a}):De(m)?m.replace("{value}",a+""):a+"";r.push([y,g,l,c,d,v]);for(var x=0;x<o.length;x++){var _=o[x];if(_<g||_>v){var b=[y,_];n.push(b)}}}return{boxData:r,outliers:n}}var t3e={type:"echarts:boxplot",transform:function(t){var r=t.upstream;if(r.sourceFormat!==hs){var n="";jr(n)}var i=e3e(r.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function r3e(e){e.registerSeriesModel(Lse),e.registerChartView(GOe),e.registerLayout(ZOe),e.registerTransform(t3e)}var n3e=["itemStyle","borderColor"],i3e=["itemStyle","borderColor0"],s3e=["itemStyle","borderColorDoji"],a3e=["itemStyle","color"],o3e=["itemStyle","color0"];function N4(e,t){return t.get(e>0?a3e:o3e)}function A4(e,t){return t.get(e===0?s3e:e>0?n3e:i3e)}var l3e={seriesType:"candlestick",plan:Hv(),performRawSeries:!0,reset:function(e,t){if(!t.isSeriesFiltered(e)){var r=e.pipelineContext.large;return!r&&{progress:function(n,i){for(var s;(s=n.next())!=null;){var a=i.getItemModel(s),o=i.getItemLayout(s).sign,l=a.getItemStyle();l.fill=N4(o,a),l.stroke=A4(o,a)||l.fill;var c=i.ensureUniqueItemVisual(s,"style");fe(c,l)}}}}}},c3e=["color","borderColor"],u3e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(r),this._isLargeDraw?this._renderLarge(r):this._renderNormal(r)},t.prototype.incrementalPrepareRender=function(r,n,i){this._clear(),this._updateDrawMode(r)},t.prototype.incrementalRender=function(r,n,i,s){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(r,n):this._incrementalRenderNormal(r,n)},t.prototype.eachRendered=function(r){fh(this._progressiveEls||this.group,r)},t.prototype._updateDrawMode=function(r){var n=r.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(r){var n=r.getData(),i=this._data,s=this.group,a=n.getLayout("isSimpleBox"),o=r.get("clip",!0),l=r.coordinateSystem,c=l.getArea&&l.getArea();this._data||s.removeAll(),n.diff(i).add(function(d){if(n.hasValue(d)){var h=n.getItemLayout(d);if(o&&XW(c,h))return;var f=bR(h,d,!0);Sn(f,{shape:{points:h.ends}},r,d),wR(f,n,d,a),s.add(f),n.setItemGraphicEl(d,f)}}).update(function(d,h){var f=i.getItemGraphicEl(h);if(!n.hasValue(d)){s.remove(f);return}var p=n.getItemLayout(d);if(o&&XW(c,p)){s.remove(f);return}f?(wr(f,{shape:{points:p.ends}},r,d),rl(f)):f=bR(p),wR(f,n,d,a),s.add(f),n.setItemGraphicEl(d,f)}).remove(function(d){var h=i.getItemGraphicEl(d);h&&s.remove(h)}).execute(),this._data=n},t.prototype._renderLarge=function(r){this._clear(),JW(r,this.group);var n=r.get("clip",!0)?aw(r.coordinateSystem,!1,r):null;n?this.group.setClipPath(n):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(r,n){for(var i=n.getData(),s=i.getLayout("isSimpleBox"),a;(a=r.next())!=null;){var o=i.getItemLayout(a),l=bR(o);wR(l,i,a,s),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},t.prototype._incrementalRenderLarge=function(r,n){JW(n,this.group,this._progressiveEls,!0)},t.prototype.remove=function(r){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(nn),d3e=function(){function e(){}return e}(),h3e=function(e){le(t,e);function t(r){var n=e.call(this,r)||this;return n.type="normalCandlestickBox",n}return t.prototype.getDefaultShape=function(){return new d3e},t.prototype.buildPath=function(r,n){var i=n.points;this.__simpleBox?(r.moveTo(i[4][0],i[4][1]),r.lineTo(i[6][0],i[6][1])):(r.moveTo(i[0][0],i[0][1]),r.lineTo(i[1][0],i[1][1]),r.lineTo(i[2][0],i[2][1]),r.lineTo(i[3][0],i[3][1]),r.closePath(),r.moveTo(i[4][0],i[4][1]),r.lineTo(i[5][0],i[5][1]),r.moveTo(i[6][0],i[6][1]),r.lineTo(i[7][0],i[7][1]))},t}(Vt);function bR(e,t,r){var n=e.ends;return new h3e({shape:{points:r?f3e(n,e):n},z2:100})}function XW(e,t){for(var r=!0,n=0;n<t.ends.length;n++)if(e.contain(t.ends[n][0],t.ends[n][1])){r=!1;break}return r}function wR(e,t,r,n){var i=t.getItemModel(r);e.useStyle(t.getItemVisual(r,"style")),e.style.strokeNoScale=!0,e.__simpleBox=n,qi(e,i);var s=t.getItemLayout(r).sign;V(e.states,function(o,l){var c=i.getModel(l),d=N4(s,c),h=A4(s,c)||d,f=o.style||(o.style={});d&&(f.fill=d),h&&(f.stroke=h)});var a=i.getModel("emphasis");Dn(e,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function f3e(e,t){return xe(e,function(r){return r=r.slice(),r[1]=t.initBaseline,r})}var p3e=function(){function e(){}return e}(),SR=function(e){le(t,e);function t(r){var n=e.call(this,r)||this;return n.type="largeCandlestickBox",n}return t.prototype.getDefaultShape=function(){return new p3e},t.prototype.buildPath=function(r,n){for(var i=n.points,s=0;s<i.length;)if(this.__sign===i[s++]){var a=i[s++];r.moveTo(a,i[s++]),r.lineTo(a,i[s++])}else s+=3},t}(Vt);function JW(e,t,r,n){var i=e.getData(),s=i.getLayout("largePoints"),a=new SR({shape:{points:s},__sign:1,ignoreCoarsePointer:!0});t.add(a);var o=new SR({shape:{points:s},__sign:-1,ignoreCoarsePointer:!0});t.add(o);var l=new SR({shape:{points:s},__sign:0,ignoreCoarsePointer:!0});t.add(l),CR(1,a,e),CR(-1,o,e),CR(0,l,e),n&&(a.incremental=!0,o.incremental=!0),r&&r.push(a,o)}function CR(e,t,r,n){var i=A4(e,r)||N4(e,r),s=r.getModel("itemStyle").getItemStyle(c3e);t.useStyle(s),t.style.fill=null,t.style.stroke=i}var Ose=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],r}return t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(r,n,i){var s=n.getItemLayout(r);return s&&i.rect(s.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(fn);oi(Ose,Pse,!0);function g3e(e){!e||!ve(e.series)||V(e.series,function(t){st(t)&&t.type==="k"&&(t.type="candlestick")})}var m3e={seriesType:"candlestick",plan:Hv(),reset:function(e){var t=e.coordinateSystem,r=e.getData(),n=v3e(e,r),i=0,s=1,a=["x","y"],o=r.getDimensionIndex(r.mapDimension(a[i])),l=xe(r.mapDimensionsAll(a[s]),r.getDimensionIndex,r),c=l[0],d=l[1],h=l[2],f=l[3];if(r.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),o<0||l.length<4)return;return{progress:e.pipelineContext.large?g:p};function p(v,m){for(var y,x=m.getStore();(y=v.next())!=null;){var _=x.get(o,y),b=x.get(c,y),w=x.get(d,y),S=x.get(h,y),k=x.get(f,y),C=Math.min(b,w),E=Math.max(b,w),T=O(C,_),N=O(E,_),R=O(S,_),P=O(k,_),D=[];j(D,N,0),j(D,T,1),D.push(I(P),I(N),I(R),I(T));var $=m.getItemModel(y),L=!!$.get(["itemStyle","borderColorDoji"]);m.setItemLayout(y,{sign:QW(x,y,b,w,d,L),initBaseline:b>w?N[s]:T[s],ends:D,brushRect:M(S,k,_)})}function O(z,U){var F=[];return F[i]=U,F[s]=z,isNaN(U)||isNaN(z)?[NaN,NaN]:t.dataToPoint(F)}function j(z,U,F){var G=U.slice(),Y=U.slice();G[i]=KC(G[i]+n/2,1,!1),Y[i]=KC(Y[i]-n/2,1,!0),F?z.push(G,Y):z.push(Y,G)}function M(z,U,F){var G=O(z,F),Y=O(U,F);return G[i]-=n/2,Y[i]-=n/2,{x:G[0],y:G[1],width:n,height:Y[1]-G[1]}}function I(z){return z[i]=KC(z[i],1),z}}function g(v,m){for(var y=Fl(v.count*4),x=0,_,b=[],w=[],S,k=m.getStore(),C=!!e.get(["itemStyle","borderColorDoji"]);(S=v.next())!=null;){var E=k.get(o,S),T=k.get(c,S),N=k.get(d,S),R=k.get(h,S),P=k.get(f,S);if(isNaN(E)||isNaN(R)||isNaN(P)){y[x++]=NaN,x+=3;continue}y[x++]=QW(k,S,T,N,d,C),b[i]=E,b[s]=R,_=t.dataToPoint(b,null,w),y[x++]=_?_[0]:NaN,y[x++]=_?_[1]:NaN,b[s]=P,_=t.dataToPoint(b,null,w),y[x++]=_?_[1]:NaN}m.setLayout("largePoints",y)}}};function QW(e,t,r,n,i,s){var a;return r>n?a=-1:r<n?a=1:a=s?0:t>0?e.get(i,t-1)<=n?1:-1:1,a}function v3e(e,t){var r=e.getBaseAxis(),n,i=r.type==="category"?r.getBandWidth():(n=r.getExtent(),Math.abs(n[1]-n[0])/t.count()),s=Ne(mt(e.get("barMaxWidth"),i),i),a=Ne(mt(e.get("barMinWidth"),1),i),o=e.get("barWidth");return o!=null?Ne(o,i):Math.max(Math.min(i/2,s),a)}function y3e(e){e.registerChartView(u3e),e.registerSeriesModel(Ose),e.registerPreprocessor(g3e),e.registerVisual(l3e),e.registerLayout(m3e)}function e9(e,t){var r=t.rippleEffectColor||t.color;e.eachChild(function(n){n.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?r:null,fill:t.brushType==="fill"?r:null}})})}var x3e=function(e){le(t,e);function t(r,n){var i=e.call(this)||this,s=new iw(r,n),a=new ht;return i.add(s),i.add(a),i.updateData(r,n),i}return t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(r){for(var n=r.symbolType,i=r.color,s=r.rippleNumber,a=this.childAt(1),o=0;o<s;o++){var l=ai(n,-1,-1,2,2,i);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var c=-o/s*r.period+r.effectOffset;l.animate("",!0).when(r.period,{scaleX:r.rippleScale/2,scaleY:r.rippleScale/2}).delay(c).start(),l.animateStyle(!0).when(r.period,{opacity:0}).delay(c).start(),a.add(l)}e9(a,r)},t.prototype.updateEffectAnimation=function(r){for(var n=this._effectCfg,i=this.childAt(1),s=["symbolType","period","rippleScale","rippleNumber"],a=0;a<s.length;a++){var o=s[a];if(n[o]!==r[o]){this.stopEffectAnimation(),this.startEffectAnimation(r);return}}e9(i,r)},t.prototype.highlight=function(){lu(this)},t.prototype.downplay=function(){cu(this)},t.prototype.getSymbolType=function(){var r=this.childAt(0);return r&&r.getSymbolType()},t.prototype.updateData=function(r,n){var i=this,s=r.hostModel;this.childAt(0).updateData(r,n);var a=this.childAt(1),o=r.getItemModel(n),l=r.getItemVisual(n,"symbol"),c=Wv(r.getItemVisual(n,"symbolSize")),d=r.getItemVisual(n,"style"),h=d&&d.fill,f=o.getModel("emphasis");a.setScale(c),a.traverse(function(m){m.setStyle("fill",h)});var p=jp(r.getItemVisual(n,"symbolOffset"),c);p&&(a.x=p[0],a.y=p[1]);var g=r.getItemVisual(n,"symbolRotate");a.rotation=(g||0)*Math.PI/180||0;var v={};v.showEffectOn=s.get("showEffectOn"),v.rippleScale=o.get(["rippleEffect","scale"]),v.brushType=o.get(["rippleEffect","brushType"]),v.period=o.get(["rippleEffect","period"])*1e3,v.effectOffset=n/r.count(),v.z=s.getShallow("z")||0,v.zlevel=s.getShallow("zlevel")||0,v.symbolType=l,v.color=h,v.rippleEffectColor=o.get(["rippleEffect","color"]),v.rippleNumber=o.get(["rippleEffect","number"]),v.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(v):this.startEffectAnimation(v),this._effectCfg=v):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(m){m==="emphasis"?v.showEffectOn!=="render"&&i.startEffectAnimation(v):m==="normal"&&v.showEffectOn!=="render"&&i.stopEffectAnimation()}),this._effectCfg=v,Dn(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))},t.prototype.fadeOut=function(r){r&&r()},t}(ht),_3e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){this._symbolDraw=new sw(x3e)},t.prototype.render=function(r,n,i){var s=r.getData(),a=this._symbolDraw;a.updateData(s,{clipShape:this._getClipShape(r)}),this.group.add(a.group)},t.prototype._getClipShape=function(r){var n=r.coordinateSystem,i=n&&n.getArea&&n.getArea();return r.get("clip",!0)?i:null},t.prototype.updateTransform=function(r,n,i){var s=r.getData();this.group.dirty();var a=ow("").reset(r,n,i);a.progress&&a.progress({start:0,end:s.count(),count:s.count()},s),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(r){var n=r.coordinateSystem;n&&n.getRoamTransform&&(this.group.transform=UCe(n.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(r,n){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(nn),b3e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.getInitialData=function(r,n){return Su(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(r,n,i){return i.point(n.getItemLayout(r))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(fn);function w3e(e){e.registerChartView(_3e),e.registerSeriesModel(b3e),e.registerLayout(ow("effectScatter"))}var $se=function(e){le(t,e);function t(r,n,i){var s=e.call(this)||this;return s.add(s.createLine(r,n,i)),s._updateEffectSymbol(r,n),s}return t.prototype.createLine=function(r,n,i){return new x4(r,n,i)},t.prototype._updateEffectSymbol=function(r,n){var i=r.getItemModel(n),s=i.getModel("effect"),a=s.get("symbolSize"),o=s.get("symbol");ve(a)||(a=[a,a]);var l=r.getItemVisual(n,"style"),c=s.get("color")||l&&l.stroke,d=this.childAt(1);this._symbolType!==o&&(this.remove(d),d=ai(o,-.5,-.5,1,1,c),d.z2=100,d.culling=!0,this.add(d)),d&&(d.setStyle("shadowColor",c),d.setStyle(s.getItemStyle(["color"])),d.scaleX=a[0],d.scaleY=a[1],d.setColor(c),this._symbolType=o,this._symbolScale=a,this._updateEffectAnimation(r,s,n))},t.prototype._updateEffectAnimation=function(r,n,i){var s=this.childAt(1);if(s){var a=r.getItemLayout(i),o=n.get("period")*1e3,l=n.get("loop"),c=n.get("roundTrip"),d=n.get("constantSpeed"),h=Mi(n.get("delay"),function(p){return p/r.count()*o/3});if(s.ignore=!0,this._updateAnimationPoints(s,a),d>0&&(o=this._getLineLength(s)/d*1e3),o!==this._period||l!==this._loop||c!==this._roundTrip){s.stopAnimation();var f=void 0;et(h)?f=h(i):f=h,s.__t>0&&(f=-o*s.__t),this._animateSymbol(s,o,f,l,c)}this._period=o,this._loop=l,this._roundTrip=c}},t.prototype._animateSymbol=function(r,n,i,s,a){if(n>0){r.__t=0;var o=this,l=r.animate("",s).when(a?n*2:n,{__t:a?2:1}).delay(i).during(function(){o._updateSymbolPosition(r)});s||l.done(function(){o.remove(r)}),l.start()}},t.prototype._getLineLength=function(r){return dd(r.__p1,r.__cp1)+dd(r.__cp1,r.__p2)},t.prototype._updateAnimationPoints=function(r,n){r.__p1=n[0],r.__p2=n[1],r.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},t.prototype.updateData=function(r,n,i){this.childAt(0).updateData(r,n,i),this._updateEffectSymbol(r,n)},t.prototype._updateSymbolPosition=function(r){var n=r.__p1,i=r.__p2,s=r.__cp1,a=r.__t<1?r.__t:2-r.__t,o=[r.x,r.y],l=o.slice(),c=Ii,d=NP;o[0]=c(n[0],s[0],i[0],a),o[1]=c(n[1],s[1],i[1],a);var h=r.__t<1?d(n[0],s[0],i[0],a):d(i[0],s[0],n[0],1-a),f=r.__t<1?d(n[1],s[1],i[1],a):d(i[1],s[1],n[1],1-a);r.rotation=-Math.atan2(f,h)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(r.__lastT!==void 0&&r.__lastT<r.__t?(r.scaleY=dd(l,o)*1.05,a===1&&(o[0]=l[0]+(o[0]-l[0])/2,o[1]=l[1]+(o[1]-l[1])/2)):r.__lastT===1?r.scaleY=2*dd(n,o):r.scaleY=this._symbolScale[1]),r.__lastT=r.__t,r.ignore=!1,r.x=o[0],r.y=o[1]},t.prototype.updateLayout=function(r,n){this.childAt(0).updateLayout(r,n);var i=r.getItemModel(n).getModel("effect");this._updateEffectAnimation(r,i,n)},t}(ht),Bse=function(e){le(t,e);function t(r,n,i){var s=e.call(this)||this;return s._createPolyline(r,n,i),s}return t.prototype._createPolyline=function(r,n,i){var s=r.getItemLayout(n),a=new Vs({shape:{points:s}});this.add(a),this._updateCommonStl(r,n,i)},t.prototype.updateData=function(r,n,i){var s=r.hostModel,a=this.childAt(0),o={shape:{points:r.getItemLayout(n)}};wr(a,o,s,n),this._updateCommonStl(r,n,i)},t.prototype._updateCommonStl=function(r,n,i){var s=this.childAt(0),a=r.getItemModel(n),o=i&&i.emphasisLineStyle,l=i&&i.focus,c=i&&i.blurScope,d=i&&i.emphasisDisabled;if(!i||r.hasItemOption){var h=a.getModel("emphasis");o=h.getModel("lineStyle").getLineStyle(),d=h.get("disabled"),l=h.get("focus"),c=h.get("blurScope")}s.useStyle(r.getItemVisual(n,"style")),s.style.fill=null,s.style.strokeNoScale=!0;var f=s.ensureState("emphasis");f.style=o,Dn(this,l,c,d)},t.prototype.updateLayout=function(r,n){var i=this.childAt(0);i.setShape("points",r.getItemLayout(n))},t}(ht),S3e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._lastFrame=0,r._lastFramePercent=0,r}return t.prototype.createLine=function(r,n,i){return new Bse(r,n,i)},t.prototype._updateAnimationPoints=function(r,n){this._points=n;for(var i=[0],s=0,a=1;a<n.length;a++){var o=n[a-1],l=n[a];s+=dd(o,l),i.push(s)}if(s===0){this._length=0;return}for(var a=0;a<i.length;a++)i[a]/=s;this._offsets=i,this._length=s},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(r){var n=r.__t<1?r.__t:2-r.__t,i=this._points,s=this._offsets,a=i.length;if(s){var o=this._lastFrame,l;if(n<this._lastFramePercent){var c=Math.min(o+1,a-1);for(l=c;l>=0&&!(s[l]<=n);l--);l=Math.min(l,a-2)}else{for(l=o;l<a&&!(s[l]>n);l++);l=Math.min(l-1,a-2)}var d=(n-s[l])/(s[l+1]-s[l]),h=i[l],f=i[l+1];r.x=h[0]*(1-d)+d*f[0],r.y=h[1]*(1-d)+d*f[1];var p=r.__t<1?f[0]-h[0]:h[0]-f[0],g=r.__t<1?f[1]-h[1]:h[1]-f[1];r.rotation=-Math.atan2(g,p)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=n,r.ignore=!1}},t}($se),C3e=function(){function e(){this.polyline=!1,this.curveness=0,this.segs=[]}return e}(),k3e=function(e){le(t,e);function t(r){var n=e.call(this,r)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new C3e},t.prototype.buildPath=function(r,n){var i=n.segs,s=n.curveness,a;if(n.polyline)for(a=this._off;a<i.length;){var o=i[a++];if(o>0){r.moveTo(i[a++],i[a++]);for(var l=1;l<o;l++)r.lineTo(i[a++],i[a++])}}else for(a=this._off;a<i.length;){var c=i[a++],d=i[a++],h=i[a++],f=i[a++];if(r.moveTo(c,d),s>0){var p=(c+h)/2-(d-f)*s,g=(d+f)/2-(h-c)*s;r.quadraticCurveTo(p,g,h,f)}else r.lineTo(h,f)}this.incremental&&(this._off=a,this.notClear=!0)},t.prototype.findDataIndex=function(r,n){var i=this.shape,s=i.segs,a=i.curveness,o=this.style.lineWidth;if(i.polyline)for(var l=0,c=0;c<s.length;){var d=s[c++];if(d>0)for(var h=s[c++],f=s[c++],p=1;p<d;p++){var g=s[c++],v=s[c++];if(ed(h,f,g,v,o,r,n))return l}l++}else for(var l=0,c=0;c<s.length;){var h=s[c++],f=s[c++],g=s[c++],v=s[c++];if(a>0){var m=(h+g)/2-(f-v)*a,y=(f+v)/2-(g-h)*a;if(dte(h,f,m,y,g,v,o,r,n))return l}else if(ed(h,f,g,v,o,r,n))return l;l++}return-1},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),s=this.getBoundingRect();if(r=i[0],n=i[1],s.contain(r,n)){var a=this.hoverDataIdx=this.findDataIndex(r,n);return a>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var n=this.shape,i=n.segs,s=1/0,a=1/0,o=-1/0,l=-1/0,c=0;c<i.length;){var d=i[c++],h=i[c++];s=Math.min(d,s),o=Math.max(d,o),a=Math.min(h,a),l=Math.max(h,l)}r=this._rect=new At(s,a,o,l)}return r},t}(Vt),E3e=function(){function e(){this.group=new ht}return e.prototype.updateData=function(t){this._clear();var r=this._create();r.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(r,t)},e.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(t,r){var n=this._newAdded[0],i=r.getLayout("linesPoints"),s=n&&n.shape.segs;if(s&&s.length<2e4){var a=s.length,o=new Float32Array(a+i.length);o.set(s),o.set(i,a),n.setShape({segs:o})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:i}),this._setCommon(l,r),l.__startIndex=t.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},e.prototype._create=function(){var t=new k3e({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},e.prototype._setCommon=function(t,r,n){var i=r.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var s=r.getVisual("style");s&&s.stroke&&t.setStyle("stroke",s.stroke),t.setStyle("fill",null);var a=ft(t);a.seriesIndex=i.seriesIndex,t.on("mousemove",function(o){a.dataIndex=null;var l=t.hoverDataIdx;l>0&&(a.dataIndex=l+t.__startIndex)})},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),Fse={seriesType:"lines",plan:Hv(),reset:function(e){var t=e.coordinateSystem;if(t){var r=e.get("polyline"),n=e.pipelineContext.large;return{progress:function(i,s){var a=[];if(n){var o=void 0,l=i.end-i.start;if(r){for(var c=0,d=i.start;d<i.end;d++)c+=e.getLineCoordsCount(d);o=new Float32Array(l+c*2)}else o=new Float32Array(l*4);for(var h=0,f=[],d=i.start;d<i.end;d++){var p=e.getLineCoords(d,a);r&&(o[h++]=p);for(var g=0;g<p;g++)f=t.dataToPoint(a[g],!1,f),o[h++]=f[0],o[h++]=f[1]}s.setLayout("linesPoints",o)}else for(var d=i.start;d<i.end;d++){var v=s.getItemModel(d),p=e.getLineCoords(d,a),m=[];if(r)for(var y=0;y<p;y++)m.push(t.dataToPoint(a[y]));else{m[0]=t.dataToPoint(a[0]),m[1]=t.dataToPoint(a[1]);var x=v.get(["lineStyle","curveness"]);+x&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*x,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*x])}s.setItemLayout(d,m)}}}}}},T3e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var s=r.getData(),a=this._updateLineDraw(s,r),o=r.get("zlevel"),l=r.get(["effect","trailLength"]),c=i.getZr(),d=c.painter.getType()==="svg";d||c.painter.getLayer(o).clear(!0),this._lastZlevel!=null&&!d&&c.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(r)&&l>0&&(d||c.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),a.updateData(s);var h=r.get("clip",!0)&&aw(r.coordinateSystem,!1,r);h?this.group.setClipPath(h):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},t.prototype.incrementalPrepareRender=function(r,n,i){var s=r.getData(),a=this._updateLineDraw(s,r);a.incrementalPrepareUpdate(s),this._clearLayer(i),this._finished=!1},t.prototype.incrementalRender=function(r,n,i){this._lineDraw.incrementalUpdate(r,n.getData()),this._finished=r.end===n.getData().count()},t.prototype.eachRendered=function(r){this._lineDraw&&this._lineDraw.eachRendered(r)},t.prototype.updateTransform=function(r,n,i){var s=r.getData(),a=r.pipelineContext;if(!this._finished||a.large||a.progressiveRender)return{update:!0};var o=Fse.reset(r,n,i);o.progress&&o.progress({start:0,end:s.count(),count:s.count()},s),this._lineDraw.updateLayout(),this._clearLayer(i)},t.prototype._updateLineDraw=function(r,n){var i=this._lineDraw,s=this._showEffect(n),a=!!n.get("polyline"),o=n.pipelineContext,l=o.large;return(!i||s!==this._hasEffet||a!==this._isPolyline||l!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=l?new E3e:new _4(a?s?S3e:Bse:s?$se:x4),this._hasEffet=s,this._isPolyline=a,this._isLargeDraw=l),this.group.add(i.group),i},t.prototype._showEffect=function(r){return!!r.get(["effect","show"])},t.prototype._clearLayer=function(r){var n=r.getZr(),i=n.painter.getType()==="svg";!i&&this._lastZlevel!=null&&n.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(r,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},t.prototype.dispose=function(r,n){this.remove(r,n)},t.type="lines",t}(nn),N3e=typeof Uint32Array>"u"?Array:Uint32Array,A3e=typeof Float64Array>"u"?Array:Float64Array;function t9(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=xe(t,function(r){var n=[r[0].coord,r[1].coord],i={coords:n};return r[0].name&&(i.fromName=r[0].name),r[1].name&&(i.toName=r[1].name),Q3([i,r[0],r[1]])}))}var j3e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return t.prototype.init=function(r){r.data=r.data||[],t9(r);var n=this._processFlatCoordsArray(r.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(r.data=new Float32Array(n.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(r){if(t9(r),r.data){var n=this._processFlatCoordsArray(r.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(r.data=new Float32Array(n.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(r){var n=this._processFlatCoordsArray(r.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=N_(this._flatCoords,n.flatCoords),this._flatCoordsOffset=N_(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),r.data=new Float32Array(n.count)),this.getRawData().appendData(r.data)},t.prototype._getCoordsFromItemModel=function(r){var n=this.getData().getItemModel(r),i=n.option instanceof Array?n.option:n.getShallow("coords");return i},t.prototype.getLineCoordsCount=function(r){return this._flatCoordsOffset?this._flatCoordsOffset[r*2+1]:this._getCoordsFromItemModel(r).length},t.prototype.getLineCoords=function(r,n){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[r*2],s=this._flatCoordsOffset[r*2+1],a=0;a<s;a++)n[a]=n[a]||[],n[a][0]=this._flatCoords[i+a*2],n[a][1]=this._flatCoords[i+a*2+1];return s}else{for(var o=this._getCoordsFromItemModel(r),a=0;a<o.length;a++)n[a]=n[a]||[],n[a][0]=o[a][0],n[a][1]=o[a][1];return o.length}},t.prototype._processFlatCoordsArray=function(r){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),xr(r[0])){for(var i=r.length,s=new N3e(i),a=new A3e(i),o=0,l=0,c=0,d=0;d<i;){c++;var h=r[d++];s[l++]=o+n,s[l++]=h;for(var f=0;f<h;f++){var p=r[d++],g=r[d++];a[o++]=p,a[o++]=g}}return{flatCoordsOffset:new Uint32Array(s.buffer,0,l),flatCoords:a,count:c}}return{flatCoordsOffset:null,flatCoords:null,count:r.length}},t.prototype.getInitialData=function(r,n){var i=new Ls(["value"],this);return i.hasItemOption=!1,i.initData(r.data,[],function(s,a,o,l){if(s instanceof Array)return NaN;i.hasItemOption=!0;var c=s.value;if(c!=null)return c instanceof Array?c[l]:c}),i},t.prototype.formatTooltip=function(r,n,i){var s=this.getData(),a=s.getItemModel(r),o=a.get("name");if(o)return o;var l=a.get("fromName"),c=a.get("toName"),d=[];return l!=null&&d.push(l),c!=null&&d.push(c),Ei("nameValue",{name:d.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var r=this.option.progressive;return r??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var r=this.getModel("effect"),n=r.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:r.get("show")&&n>0?n+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(fn);function CS(e){return e instanceof Array||(e=[e,e]),e}var R3e={seriesType:"lines",reset:function(e){var t=CS(e.get("symbol")),r=CS(e.get("symbolSize")),n=e.getData();n.setVisual("fromSymbol",t&&t[0]),n.setVisual("toSymbol",t&&t[1]),n.setVisual("fromSymbolSize",r&&r[0]),n.setVisual("toSymbolSize",r&&r[1]);function i(s,a){var o=s.getItemModel(a),l=CS(o.getShallow("symbol",!0)),c=CS(o.getShallow("symbolSize",!0));l[0]&&s.setItemVisual(a,"fromSymbol",l[0]),l[1]&&s.setItemVisual(a,"toSymbol",l[1]),c[0]&&s.setItemVisual(a,"fromSymbolSize",c[0]),c[1]&&s.setItemVisual(a,"toSymbolSize",c[1])}return{dataEach:n.hasItemOption?i:null}}};function I3e(e){e.registerChartView(T3e),e.registerSeriesModel(j3e),e.registerLayout(Fse),e.registerVisual(R3e)}var M3e=256,P3e=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=Hd.createCanvas();this.canvas=t}return e.prototype.update=function(t,r,n,i,s,a){var o=this._getBrush(),l=this._getGradient(s,"inRange"),c=this._getGradient(s,"outOfRange"),d=this.pointSize+this.blurSize,h=this.canvas,f=h.getContext("2d"),p=t.length;h.width=r,h.height=n;for(var g=0;g<p;++g){var v=t[g],m=v[0],y=v[1],x=v[2],_=i(x);f.globalAlpha=_,f.drawImage(o,m-d,y-d)}if(!h.width||!h.height)return h;for(var b=f.getImageData(0,0,h.width,h.height),w=b.data,S=0,k=w.length,C=this.minOpacity,E=this.maxOpacity,T=E-C;S<k;){var _=w[S+3]/256,N=Math.floor(_*(M3e-1))*4;if(_>0){var R=a(_)?l:c;_>0&&(_=_*T+C),w[S++]=R[N],w[S++]=R[N+1],w[S++]=R[N+2],w[S++]=R[N+3]*_*256}else S+=4}return f.putImageData(b,0,0),h},e.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=Hd.createCanvas()),r=this.pointSize+this.blurSize,n=r*2;t.width=n,t.height=n;var i=t.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-r,r,this.pointSize,0,Math.PI*2,!0),i.closePath(),i.fill(),t},e.prototype._getGradient=function(t,r){for(var n=this._gradientPixels,i=n[r]||(n[r]=new Uint8ClampedArray(256*4)),s=[0,0,0,0],a=0,o=0;o<256;o++)t[r](o/255,!0,s),i[a++]=s[0],i[a++]=s[1],i[a++]=s[2],i[a++]=s[3];return i},e}();function L3e(e,t,r){var n=e[1]-e[0];t=xe(t,function(a){return{interval:[(a.interval[0]-e[0])/n,(a.interval[1]-e[0])/n]}});var i=t.length,s=0;return function(a){var o;for(o=s;o<i;o++){var l=t[o].interval;if(l[0]<=a&&a<=l[1]){s=o;break}}if(o===i)for(o=s-1;o>=0;o--){var l=t[o].interval;if(l[0]<=a&&a<=l[1]){s=o;break}}return o>=0&&o<i&&r[o]}}function D3e(e,t){var r=e[1]-e[0];return t=[(t[0]-e[0])/r,(t[1]-e[0])/r],function(n){return n>=t[0]&&n<=t[1]}}function r9(e){var t=e.dimensions;return t[0]==="lng"&&t[1]==="lat"}var O3e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var s;n.eachComponent("visualMap",function(o){o.eachTargetSeries(function(l){l===r&&(s=o)})}),this._progressiveEls=null,this.group.removeAll();var a=r.coordinateSystem;a.type==="cartesian2d"||a.type==="calendar"?this._renderOnCartesianAndCalendar(r,i,0,r.getData().count()):r9(a)&&this._renderOnGeo(a,r,s,i)},t.prototype.incrementalPrepareRender=function(r,n,i){this.group.removeAll()},t.prototype.incrementalRender=function(r,n,i,s){var a=n.coordinateSystem;a&&(r9(a)?this.render(n,i,s):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(n,s,r.start,r.end,!0)))},t.prototype.eachRendered=function(r){fh(this._progressiveEls||this.group,r)},t.prototype._renderOnCartesianAndCalendar=function(r,n,i,s,a){var o=r.coordinateSystem,l=Ip(o,"cartesian2d"),c,d,h,f;if(l){var p=o.getAxis("x"),g=o.getAxis("y");c=p.getBandWidth()+.5,d=g.getBandWidth()+.5,h=p.scale.getExtent(),f=g.scale.getExtent()}for(var v=this.group,m=r.getData(),y=r.getModel(["emphasis","itemStyle"]).getItemStyle(),x=r.getModel(["blur","itemStyle"]).getItemStyle(),_=r.getModel(["select","itemStyle"]).getItemStyle(),b=r.get(["itemStyle","borderRadius"]),w=ki(r),S=r.getModel("emphasis"),k=S.get("focus"),C=S.get("blurScope"),E=S.get("disabled"),T=l?[m.mapDimension("x"),m.mapDimension("y"),m.mapDimension("value")]:[m.mapDimension("time"),m.mapDimension("value")],N=i;N<s;N++){var R=void 0,P=m.getItemVisual(N,"style");if(l){var D=m.get(T[0],N),$=m.get(T[1],N);if(isNaN(m.get(T[2],N))||isNaN(D)||isNaN($)||D<h[0]||D>h[1]||$<f[0]||$>f[1])continue;var L=o.dataToPoint([D,$]);R=new lr({shape:{x:L[0]-c/2,y:L[1]-d/2,width:c,height:d},style:P})}else{if(isNaN(m.get(T[1],N)))continue;R=new lr({z2:1,shape:o.dataToRect([m.get(T[0],N)]).contentShape,style:P})}if(m.hasItemOption){var O=m.getItemModel(N),j=O.getModel("emphasis");y=j.getModel("itemStyle").getItemStyle(),x=O.getModel(["blur","itemStyle"]).getItemStyle(),_=O.getModel(["select","itemStyle"]).getItemStyle(),b=O.get(["itemStyle","borderRadius"]),k=j.get("focus"),C=j.get("blurScope"),E=j.get("disabled"),w=ki(O)}R.shape.r=b;var M=r.getRawValue(N),I="-";M&&M[2]!=null&&(I=M[2]+""),Yi(R,w,{labelFetcher:r,labelDataIndex:N,defaultOpacity:P.opacity,defaultText:I}),R.ensureState("emphasis").style=y,R.ensureState("blur").style=x,R.ensureState("select").style=_,Dn(R,k,C,E),R.incremental=a,a&&(R.states.emphasis.hoverLayer=!0),v.add(R),m.setItemGraphicEl(N,R),this._progressiveEls&&this._progressiveEls.push(R)}},t.prototype._renderOnGeo=function(r,n,i,s){var a=i.targetVisuals.inRange,o=i.targetVisuals.outOfRange,l=n.getData(),c=this._hmLayer||this._hmLayer||new P3e;c.blurSize=n.get("blurSize"),c.pointSize=n.get("pointSize"),c.minOpacity=n.get("minOpacity"),c.maxOpacity=n.get("maxOpacity");var d=r.getViewRect().clone(),h=r.getRoamTransform();d.applyTransform(h);var f=Math.max(d.x,0),p=Math.max(d.y,0),g=Math.min(d.width+d.x,s.getWidth()),v=Math.min(d.height+d.y,s.getHeight()),m=g-f,y=v-p,x=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],_=l.mapArray(x,function(k,C,E){var T=r.dataToPoint([k,C]);return T[0]-=f,T[1]-=p,T.push(E),T}),b=i.getExtent(),w=i.type==="visualMap.continuous"?D3e(b,i.option.range):L3e(b,i.getPieceList(),i.option.selected);c.update(_,m,y,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:o.color.getColorMapper()},w);var S=new Oi({style:{width:m,height:y,x:f,y:p,image:c.canvas},silent:!0});this.group.add(S)},t.type="heatmap",t}(nn),$3e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getInitialData=function(r,n){return Su(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var r=ew.get(this.get("coordinateSystem"));if(r&&r.dimensions)return r.dimensions[0]==="lng"&&r.dimensions[1]==="lat"},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(fn);function B3e(e){e.registerChartView(O3e),e.registerSeriesModel($3e)}var F3e=["itemStyle","borderWidth"],n9=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],kR=new wu,z3e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var s=this.group,a=r.getData(),o=this._data,l=r.coordinateSystem,c=l.getBaseAxis(),d=c.isHorizontal(),h=l.master.getRect(),f={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:r,coordSys:l,coordSysExtent:[[h.x,h.x+h.width],[h.y,h.y+h.height]],isHorizontal:d,valueDim:n9[+d],categoryDim:n9[1-+d]};a.diff(o).add(function(g){if(a.hasValue(g)){var v=s9(a,g),m=i9(a,g,v,f),y=a9(a,f,m);a.setItemGraphicEl(g,y),s.add(y),l9(y,f,m)}}).update(function(g,v){var m=o.getItemGraphicEl(v);if(!a.hasValue(g)){s.remove(m);return}var y=s9(a,g),x=i9(a,g,y,f),_=Gse(a,x);m&&_!==m.__pictorialShapeStr&&(s.remove(m),a.setItemGraphicEl(g,null),m=null),m?Y3e(m,f,x):m=a9(a,f,x,!0),a.setItemGraphicEl(g,m),m.__pictorialSymbolMeta=x,s.add(m),l9(m,f,x)}).remove(function(g){var v=o.getItemGraphicEl(g);v&&o9(o,g,v.__pictorialSymbolMeta.animationModel,v)}).execute();var p=r.get("clip",!0)?aw(r.coordinateSystem,!1,r):null;return p?s.setClipPath(p):s.removeClipPath(),this._data=a,this.group},t.prototype.remove=function(r,n){var i=this.group,s=this._data;r.get("animation")?s&&s.eachItemGraphicEl(function(a){o9(s,ft(a).dataIndex,r,a)}):i.removeAll()},t.type="pictorialBar",t}(nn);function i9(e,t,r,n){var i=e.getItemLayout(t),s=r.get("symbolRepeat"),a=r.get("symbolClip"),o=r.get("symbolPosition")||"start",l=r.get("symbolRotate"),c=(l||0)*Math.PI/180||0,d=r.get("symbolPatternSize")||2,h=r.isAnimationEnabled(),f={dataIndex:t,layout:i,itemModel:r,symbolType:e.getItemVisual(t,"symbol")||"circle",style:e.getItemVisual(t,"style"),symbolClip:a,symbolRepeat:s,symbolRepeatDirection:r.get("symbolRepeatDirection"),symbolPatternSize:d,rotation:c,animationModel:h?r:null,hoverScale:h&&r.get(["emphasis","scale"]),z2:r.getShallow("z",!0)||0};U3e(r,s,i,n,f),H3e(e,t,i,s,a,f.boundingLength,f.pxSign,d,n,f),V3e(r,f.symbolScale,c,n,f);var p=f.symbolSize,g=jp(r.get("symbolOffset"),p);return W3e(r,p,i,s,a,g,o,f.valueLineWidth,f.boundingLength,f.repeatCutLength,n,f),f}function U3e(e,t,r,n,i){var s=n.valueDim,a=e.get("symbolBoundingData"),o=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),l=o.toGlobalCoord(o.dataToCoord(0)),c=1-+(r[s.wh]<=0),d;if(ve(a)){var h=[ER(o,a[0])-l,ER(o,a[1])-l];h[1]<h[0]&&h.reverse(),d=h[c]}else a!=null?d=ER(o,a)-l:t?d=n.coordSysExtent[s.index][c]-l:d=r[s.wh];i.boundingLength=d,t&&(i.repeatCutLength=r[s.wh]);var f=s.xy==="x",p=o.inverse;i.pxSign=f&&!p||!f&&p?d>=0?1:-1:d>0?1:-1}function ER(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function H3e(e,t,r,n,i,s,a,o,l,c){var d=l.valueDim,h=l.categoryDim,f=Math.abs(r[h.wh]),p=e.getItemVisual(t,"symbolSize"),g;ve(p)?g=p.slice():p==null?g=["100%","100%"]:g=[p,p],g[h.index]=Ne(g[h.index],f),g[d.index]=Ne(g[d.index],n?f:Math.abs(s)),c.symbolSize=g;var v=c.symbolScale=[g[0]/o,g[1]/o];v[d.index]*=(l.isHorizontal?-1:1)*a}function V3e(e,t,r,n,i){var s=e.get(F3e)||0;s&&(kR.attr({scaleX:t[0],scaleY:t[1],rotation:r}),kR.updateTransform(),s/=kR.getLineScale(),s*=t[n.valueDim.index]),i.valueLineWidth=s||0}function W3e(e,t,r,n,i,s,a,o,l,c,d,h){var f=d.categoryDim,p=d.valueDim,g=h.pxSign,v=Math.max(t[p.index]+o,0),m=v;if(n){var y=Math.abs(l),x=Mi(e.get("symbolMargin"),"15%")+"",_=!1;x.lastIndexOf("!")===x.length-1&&(_=!0,x=x.slice(0,x.length-1));var b=Ne(x,t[p.index]),w=Math.max(v+b*2,0),S=_?0:b*2,k=Xee(n),C=k?n:c9((y+S)/w),E=y-C*v;b=E/2/(_?C:Math.max(C-1,1)),w=v+b*2,S=_?0:b*2,!k&&n!=="fixed"&&(C=c?c9((Math.abs(c)+S)/w):0),m=C*w-S,h.repeatTimes=C,h.symbolMargin=b}var T=g*(m/2),N=h.pathPosition=[];N[f.index]=r[f.wh]/2,N[p.index]=a==="start"?T:a==="end"?l-T:l/2,s&&(N[0]+=s[0],N[1]+=s[1]);var R=h.bundlePosition=[];R[f.index]=r[f.xy],R[p.index]=r[p.xy];var P=h.barRectShape=fe({},r);P[p.wh]=g*Math.max(Math.abs(r[p.wh]),Math.abs(N[p.index]+T)),P[f.wh]=r[f.wh];var D=h.clipShape={};D[f.xy]=-r[f.xy],D[f.wh]=d.ecSize[f.wh],D[p.xy]=0,D[p.wh]=r[p.wh]}function zse(e){var t=e.symbolPatternSize,r=ai(e.symbolType,-t/2,-t/2,t,t);return r.attr({culling:!0}),r.type!=="image"&&r.setStyle({strokeNoScale:!0}),r}function Use(e,t,r,n){var i=e.__pictorialBundle,s=r.symbolSize,a=r.valueLineWidth,o=r.pathPosition,l=t.valueDim,c=r.repeatTimes||0,d=0,h=s[t.valueDim.index]+a+r.symbolMargin*2;for(j4(e,function(v){v.__pictorialAnimationIndex=d,v.__pictorialRepeatTimes=c,d<c?Am(v,null,g(d),r,n):Am(v,null,{scaleX:0,scaleY:0},r,n,function(){i.remove(v)}),d++});d<c;d++){var f=zse(r);f.__pictorialAnimationIndex=d,f.__pictorialRepeatTimes=c,i.add(f);var p=g(d);Am(f,{x:p.x,y:p.y,scaleX:0,scaleY:0},{scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation},r,n)}function g(v){var m=o.slice(),y=r.pxSign,x=v;return(r.symbolRepeatDirection==="start"?y>0:y<0)&&(x=c-1-v),m[l.index]=h*(x-c/2+.5)+o[l.index],{x:m[0],y:m[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation}}}function Hse(e,t,r,n){var i=e.__pictorialBundle,s=e.__pictorialMainPath;s?Am(s,null,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation},r,n):(s=e.__pictorialMainPath=zse(r),i.add(s),Am(s,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:0,scaleY:0,rotation:r.rotation},{scaleX:r.symbolScale[0],scaleY:r.symbolScale[1]},r,n))}function Vse(e,t,r){var n=fe({},t.barRectShape),i=e.__pictorialBarRect;i?Am(i,null,{shape:n},t,r):(i=e.__pictorialBarRect=new lr({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,e.add(i))}function Wse(e,t,r,n){if(r.symbolClip){var i=e.__pictorialClipPath,s=fe({},r.clipShape),a=t.valueDim,o=r.animationModel,l=r.dataIndex;if(i)wr(i,{shape:s},o,l);else{s[a.wh]=0,i=new lr({shape:s}),e.__pictorialBundle.setClipPath(i),e.__pictorialClipPath=i;var c={};c[a.wh]=r.clipShape[a.wh],Ap[n?"updateProps":"initProps"](i,{shape:c},o,l)}}}function s9(e,t){var r=e.getItemModel(t);return r.getAnimationDelayParams=G3e,r.isAnimationEnabled=q3e,r}function G3e(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function q3e(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function a9(e,t,r,n){var i=new ht,s=new ht;return i.add(s),i.__pictorialBundle=s,s.x=r.bundlePosition[0],s.y=r.bundlePosition[1],r.symbolRepeat?Use(i,t,r):Hse(i,t,r),Vse(i,r,n),Wse(i,t,r,n),i.__pictorialShapeStr=Gse(e,r),i.__pictorialSymbolMeta=r,i}function Y3e(e,t,r){var n=r.animationModel,i=r.dataIndex,s=e.__pictorialBundle;wr(s,{x:r.bundlePosition[0],y:r.bundlePosition[1]},n,i),r.symbolRepeat?Use(e,t,r,!0):Hse(e,t,r,!0),Vse(e,r,!0),Wse(e,t,r,!0)}function o9(e,t,r,n){var i=n.__pictorialBarRect;i&&i.removeTextContent();var s=[];j4(n,function(a){s.push(a)}),n.__pictorialMainPath&&s.push(n.__pictorialMainPath),n.__pictorialClipPath&&(r=null),V(s,function(a){Wd(a,{scaleX:0,scaleY:0},r,t,function(){n.parent&&n.parent.remove(n)})}),e.setItemGraphicEl(t,null)}function Gse(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function j4(e,t,r){V(e.__pictorialBundle.children(),function(n){n!==e.__pictorialBarRect&&t.call(r,n)})}function Am(e,t,r,n,i,s){t&&e.attr(t),n.symbolClip&&!i?r&&e.attr(r):r&&Ap[i?"updateProps":"initProps"](e,r,n.animationModel,n.dataIndex,s)}function l9(e,t,r){var n=r.dataIndex,i=r.itemModel,s=i.getModel("emphasis"),a=s.getModel("itemStyle").getItemStyle(),o=i.getModel(["blur","itemStyle"]).getItemStyle(),l=i.getModel(["select","itemStyle"]).getItemStyle(),c=i.getShallow("cursor"),d=s.get("focus"),h=s.get("blurScope"),f=s.get("scale");j4(e,function(v){if(v instanceof Oi){var m=v.style;v.useStyle(fe({image:m.image,x:m.x,y:m.y,width:m.width,height:m.height},r.style))}else v.useStyle(r.style);var y=v.ensureState("emphasis");y.style=a,f&&(y.scaleX=v.scaleX*1.1,y.scaleY=v.scaleY*1.1),v.ensureState("blur").style=o,v.ensureState("select").style=l,c&&(v.cursor=c),v.z2=r.z2});var p=t.valueDim.posDesc[+(r.boundingLength>0)],g=e.__pictorialBarRect;g.ignoreClip=!0,Yi(g,ki(i),{labelFetcher:t.seriesModel,labelDataIndex:n,defaultText:ev(t.seriesModel.getData(),n),inheritColor:r.style.fill,defaultOpacity:r.style.opacity,defaultOutsidePosition:p}),Dn(e,d,h,s.get("disabled"))}function c9(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}var K3e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r.defaultSymbol="roundRect",r}return t.prototype.getInitialData=function(r){return r.stack=null,e.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=ph(G_.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(G_);function Z3e(e){e.registerChartView(z3e),e.registerSeriesModel(K3e),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,xt(Ane,"pictorialBar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,jne("pictorialBar"))}var X3e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._layers=[],r}return t.prototype.render=function(r,n,i){var s=r.getData(),a=this,o=this.group,l=r.getLayerSeries(),c=s.getLayout("layoutInfo"),d=c.rect,h=c.boundaryGap;o.x=0,o.y=d.y+h[0];function f(m){return m.name}var p=new uu(this._layersSeries||[],l,f,f),g=[];p.add(He(v,this,"add")).update(He(v,this,"update")).remove(He(v,this,"remove")).execute();function v(m,y,x){var _=a._layers;if(m==="remove"){o.remove(_[y]);return}for(var b=[],w=[],S,k=l[y].indices,C=0;C<k.length;C++){var E=s.getItemLayout(k[C]),T=E.x,N=E.y0,R=E.y;b.push(T,N),w.push(T,N+R),S=s.getItemVisual(k[C],"style")}var P,D=s.getItemLayout(k[0]),$=r.getModel("label"),L=$.get("margin"),O=r.getModel("emphasis");if(m==="add"){var j=g[y]=new ht;P=new yie({shape:{points:b,stackedOnPoints:w,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),j.add(P),o.add(j),r.isAnimationEnabled()&&P.setClipPath(J3e(P.getBoundingRect(),r,function(){P.removeClipPath()}))}else{var j=_[x];P=j.childAt(0),o.add(j),g[y]=j,wr(P,{shape:{points:b,stackedOnPoints:w}},r),rl(P)}Yi(P,ki(r),{labelDataIndex:k[C-1],defaultText:s.getName(k[C-1]),inheritColor:S.fill},{normal:{verticalAlign:"middle"}}),P.setTextConfig({position:null,local:!0});var M=P.getTextContent();M&&(M.x=D.x-L,M.y=D.y0+D.y/2),P.useStyle(S),s.setItemGraphicEl(y,P),qi(P,r),Dn(P,O.get("focus"),O.get("blurScope"),O.get("disabled"))}this._layersSeries=l,this._layers=g},t.type="themeRiver",t}(nn);function J3e(e,t,r){var n=new lr({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Sn(n,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},t,r),n}var TR=2,Q3e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new cw(He(this.getData,this),He(this.getRawData,this))},t.prototype.fixData=function(r){var n=r.length,i={},s=HP(r,function(f){return i.hasOwnProperty(f[0]+"")||(i[f[0]+""]=-1),f[2]}),a=[];s.buckets.each(function(f,p){a.push({name:p,dataList:f})});for(var o=a.length,l=0;l<o;++l){for(var c=a[l].name,d=0;d<a[l].dataList.length;++d){var h=a[l].dataList[d][0]+"";i[h]=l}for(var h in i)i.hasOwnProperty(h)&&i[h]!==l&&(i[h]=l,r[n]=[h,0,c],n++)}return r},t.prototype.getInitialData=function(r,n){for(var i=this.getReferringComponents("singleAxis",ii).models[0],s=i.get("type"),a=Rr(r.data,function(g){return g[2]!==void 0}),o=this.fixData(a||[]),l=[],c=this.nameMap=qe(),d=0,h=0;h<o.length;++h)l.push(o[h][TR]),c.get(o[h][TR])||(c.set(o[h][TR],d),d++);var f=rw(o,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:_E(s)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,p=new Ls(f,this);return p.initData(o),p},t.prototype.getLayerSeries=function(){for(var r=this.getData(),n=r.count(),i=[],s=0;s<n;++s)i[s]=s;var a=r.mapDimension("single"),o=HP(i,function(c){return r.get("name",c)}),l=[];return o.buckets.each(function(c,d){c.sort(function(h,f){return r.get(a,h)-r.get(a,f)}),l.push({name:d,indices:c})}),l},t.prototype.getAxisTooltipData=function(r,n,i){ve(r)||(r=r?[r]:[]);for(var s=this.getData(),a=this.getLayerSeries(),o=[],l=a.length,c,d=0;d<l;++d){for(var h=Number.MAX_VALUE,f=-1,p=a[d].indices.length,g=0;g<p;++g){var v=s.get(r[0],a[d].indices[g]),m=Math.abs(v-n);m<=h&&(c=v,h=m,f=a[d].indices[g])}o.push(f)}return{dataIndices:o,nestestValue:c}},t.prototype.formatTooltip=function(r,n,i){var s=this.getData(),a=s.getName(r),o=s.get(s.mapDimension("value"),r);return Ei("nameValue",{name:a,value:o})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(fn);function e5e(e,t){e.eachSeriesByType("themeRiver",function(r){var n=r.getData(),i=r.coordinateSystem,s={},a=i.getRect();s.rect=a;var o=r.get("boundaryGap"),l=i.getAxis();if(s.boundaryGap=o,l.orient==="horizontal"){o[0]=Ne(o[0],a.height),o[1]=Ne(o[1],a.height);var c=a.height-o[0]-o[1];u9(n,r,c)}else{o[0]=Ne(o[0],a.width),o[1]=Ne(o[1],a.width);var d=a.width-o[0]-o[1];u9(n,r,d)}n.setLayout("layoutInfo",s)})}function u9(e,t,r){if(e.count())for(var n=t.coordinateSystem,i=t.getLayerSeries(),s=e.mapDimension("single"),a=e.mapDimension("value"),o=xe(i,function(m){return xe(m.indices,function(y){var x=n.dataToPoint(e.get(s,y));return x[1]=e.get(a,y),x})}),l=t5e(o),c=l.y0,d=r/l.max,h=i.length,f=i[0].indices.length,p,g=0;g<f;++g){p=c[g]*d,e.setItemLayout(i[0].indices[g],{layerIndex:0,x:o[0][g][0],y0:p,y:o[0][g][1]*d});for(var v=1;v<h;++v)p+=o[v-1][g][1]*d,e.setItemLayout(i[v].indices[g],{layerIndex:v,x:o[v][g][0],y0:p,y:o[v][g][1]*d})}}function t5e(e){for(var t=e.length,r=e[0].length,n=[],i=[],s=0,a=0;a<r;++a){for(var o=0,l=0;l<t;++l)o+=e[l][a][1];o>s&&(s=o),n.push(o)}for(var c=0;c<r;++c)i[c]=(s-n[c])/2;s=0;for(var d=0;d<r;++d){var h=n[d]+i[d];h>s&&(s=h)}return{y0:i,max:s}}function r5e(e){e.registerChartView(X3e),e.registerSeriesModel(Q3e),e.registerLayout(e5e),e.registerProcessor(lw("themeRiver"))}var n5e=2,i5e=4,d9=function(e){le(t,e);function t(r,n,i,s){var a=e.call(this)||this;a.z2=n5e,a.textConfig={inside:!0},ft(a).seriesIndex=n.seriesIndex;var o=new pr({z2:i5e,silent:r.getModel().get(["label","silent"])});return a.setTextContent(o),a.updateData(!0,r,n,i,s),a}return t.prototype.updateData=function(r,n,i,s,a){this.node=n,n.piece=this,i=i||this._seriesModel,s=s||this._ecModel;var o=this;ft(o).dataIndex=n.dataIndex;var l=n.getModel(),c=l.getModel("emphasis"),d=n.getLayout(),h=fe({},d);h.label=null;var f=n.getVisual("style");f.lineJoin="bevel";var p=n.getVisual("decal");p&&(f.decal=Jm(p,a));var g=Tf(l.getModel("itemStyle"),h,!0);fe(h,g),V($s,function(x){var _=o.ensureState(x),b=l.getModel([x,"itemStyle"]);_.style=b.getItemStyle();var w=Tf(b,h);w&&(_.shape=w)}),r?(o.setShape(h),o.shape.r=d.r0,Sn(o,{shape:{r:d.r}},i,n.dataIndex)):(wr(o,{shape:h},i),rl(o)),o.useStyle(f),this._updateLabel(i);var v=l.getShallow("cursor");v&&o.attr("cursor",v),this._seriesModel=i||this._seriesModel,this._ecModel=s||this._ecModel;var m=c.get("focus"),y=m==="relative"?N_(n.getAncestorsIndices(),n.getDescendantIndices()):m==="ancestor"?n.getAncestorsIndices():m==="descendant"?n.getDescendantIndices():m;Dn(this,y,c.get("blurScope"),c.get("disabled"))},t.prototype._updateLabel=function(r){var n=this,i=this.node.getModel(),s=i.getModel("label"),a=this.node.getLayout(),o=a.endAngle-a.startAngle,l=(a.startAngle+a.endAngle)/2,c=Math.cos(l),d=Math.sin(l),h=this,f=h.getTextContent(),p=this.node.dataIndex,g=s.get("minAngle")/180*Math.PI,v=s.get("show")&&!(g!=null&&Math.abs(o)<g);f.ignore=!v,V(P_,function(y){var x=y==="normal"?i.getModel("label"):i.getModel([y,"label"]),_=y==="normal",b=_?f:f.ensureState(y),w=r.getFormattedLabel(p,y);_&&(w=w||n.node.name),b.style=dn(x,{},null,y!=="normal",!0),w&&(b.style.text=w);var S=x.get("show");S!=null&&!_&&(b.ignore=!S);var k=m(x,"position"),C=_?h:h.states[y],E=C.style.fill;C.textConfig={outsideFill:x.get("color")==="inherit"?E:null,inside:k!=="outside"};var T,N=m(x,"distance")||0,R=m(x,"align"),P=m(x,"rotate"),D=Math.PI*.5,$=Math.PI*1.5,L=Ca(P==="tangential"?Math.PI/2-l:l),O=L>D&&!I_(L-D)&&L<$;k==="outside"?(T=a.r+N,R=O?"right":"left"):!R||R==="center"?(o===2*Math.PI&&a.r0===0?T=0:T=(a.r+a.r0)/2,R="center"):R==="left"?(T=a.r0+N,R=O?"right":"left"):R==="right"&&(T=a.r-N,R=O?"left":"right"),b.style.align=R,b.style.verticalAlign=m(x,"verticalAlign")||"middle",b.x=T*c+a.cx,b.y=T*d+a.cy;var j=0;P==="radial"?j=Ca(-l)+(O?Math.PI:0):P==="tangential"?j=Ca(Math.PI/2-l)+(O?Math.PI:0):xr(P)&&(j=P*Math.PI/180),b.rotation=Ca(j)});function m(y,x){var _=y.get(x);return _??s.get(x)}f.dirtyStyle()},t}(Bs),HL="sunburstRootToNode",h9="sunburstHighlight",s5e="sunburstUnhighlight";function a5e(e){e.registerAction({type:HL,update:"updateView"},function(t,r){r.eachComponent({mainType:"series",subType:"sunburst",query:t},n);function n(i,s){var a=Y_(t,[HL],i);if(a){var o=i.getViewRoot();o&&(t.direction=p4(o,a.node)?"rollUp":"drillDown"),i.resetViewRoot(a.node)}}}),e.registerAction({type:h9,update:"none"},function(t,r,n){t=fe({},t),r.eachComponent({mainType:"series",subType:"sunburst",query:t},i);function i(s){var a=Y_(t,[h9],s);a&&(t.dataIndex=a.node.dataIndex)}n.dispatchAction(fe(t,{type:"highlight"}))}),e.registerAction({type:s5e,update:"updateView"},function(t,r,n){t=fe({},t),n.dispatchAction(fe(t,{type:"downplay"}))})}var o5e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,s){var a=this;this.seriesModel=r,this.api=i,this.ecModel=n;var o=r.getData(),l=o.tree.root,c=r.getViewRoot(),d=this.group,h=r.get("renderLabelForZeroData"),f=[];c.eachNode(function(x){f.push(x)});var p=this._oldChildren||[];g(f,p),y(l,c),this._initEvents(),this._oldChildren=f;function g(x,_){if(x.length===0&&_.length===0)return;new uu(_,x,b,b).add(w).update(w).remove(xt(w,null)).execute();function b(S){return S.getId()}function w(S,k){var C=S==null?null:x[S],E=k==null?null:_[k];v(C,E)}}function v(x,_){if(!h&&x&&!x.getValue()&&(x=null),x!==l&&_!==l){if(_&&_.piece)x?(_.piece.updateData(!1,x,r,n,i),o.setItemGraphicEl(x.dataIndex,_.piece)):m(_);else if(x){var b=new d9(x,r,n,i);d.add(b),o.setItemGraphicEl(x.dataIndex,b)}}}function m(x){x&&x.piece&&(d.remove(x.piece),x.piece=null)}function y(x,_){_.depth>0?(a.virtualPiece?a.virtualPiece.updateData(!1,x,r,n,i):(a.virtualPiece=new d9(x,r,n,i),d.add(a.virtualPiece)),_.piece.off("click"),a.virtualPiece.on("click",function(b){a._rootToNode(_.parentNode)})):a.virtualPiece&&(d.remove(a.virtualPiece),a.virtualPiece=null)}},t.prototype._initEvents=function(){var r=this;this.group.off("click"),this.group.on("click",function(n){var i=!1,s=r.seriesModel.getViewRoot();s.eachNode(function(a){if(!i&&a.piece&&a.piece===n.target){var o=a.getModel().get("nodeClick");if(o==="rootToNode")r._rootToNode(a);else if(o==="link"){var l=a.getModel(),c=l.get("link");if(c){var d=l.get("target",!0)||"_blank";hE(c,d)}}i=!0}})})},t.prototype._rootToNode=function(r){r!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:HL,from:this.uid,seriesId:this.seriesModel.id,targetNode:r})},t.prototype.containPoint=function(r,n){var i=n.getData(),s=i.getItemLayout(0);if(s){var a=r[0]-s.cx,o=r[1]-s.cy,l=Math.sqrt(a*a+o*o);return l<=s.r&&l>=s.r0}},t.type="sunburst",t}(nn),l5e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.ignoreStyleOnData=!0,r}return t.prototype.getInitialData=function(r,n){var i={name:r.name,children:r.data};qse(i);var s=this._levelModels=xe(r.levels||[],function(l){return new Lr(l,this,n)},this),a=f4.createTree(i,this,o);function o(l){l.wrapMethod("getItemModel",function(c,d){var h=a.getNodeByDataIndex(d),f=s[h.depth];return f&&(c.parentModel=f),c})}return a.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(r){var n=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(r);return n.treePathInfo=GN(i,this),n},t.prototype.getLevelModel=function(r){return this._levelModels&&this._levelModels[r.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var n=this.getRawData().tree.root;(!r||r!==n&&!n.contains(r))&&(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){Jie(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(fn);function qse(e){var t=0;V(e.children,function(n){qse(n);var i=n.value;ve(i)&&(i=i[0]),t+=i});var r=e.value;ve(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=t),r<0&&(r=0),ve(e.value)?e.value[0]=r:e.value=r}var f9=Math.PI/180;function c5e(e,t,r){t.eachSeriesByType(e,function(n){var i=n.get("center"),s=n.get("radius");ve(s)||(s=[0,s]),ve(i)||(i=[i,i]);var a=r.getWidth(),o=r.getHeight(),l=Math.min(a,o),c=Ne(i[0],a),d=Ne(i[1],o),h=Ne(s[0],l/2),f=Ne(s[1],l/2),p=-n.get("startAngle")*f9,g=n.get("minAngle")*f9,v=n.getData().tree.root,m=n.getViewRoot(),y=m.depth,x=n.get("sort");x!=null&&Yse(m,x);var _=0;V(m.children,function(L){!isNaN(L.getValue())&&_++});var b=m.getValue(),w=Math.PI/(b||_)*2,S=m.depth>0,k=m.height-(S?-1:1),C=(f-h)/(k||1),E=n.get("clockwise"),T=n.get("stillShowZeroSum"),N=E?1:-1,R=function(L,O){if(L){var j=O;if(L!==v){var M=L.getValue(),I=b===0&&T?w:M*w;I<g&&(I=g),j=O+N*I;var z=L.depth-y-(S?-1:1),U=h+C*z,F=h+C*(z+1),G=n.getLevelModel(L);if(G){var Y=G.get("r0",!0),Z=G.get("r",!0),B=G.get("radius",!0);B!=null&&(Y=B[0],Z=B[1]),Y!=null&&(U=Ne(Y,l/2)),Z!=null&&(F=Ne(Z,l/2))}L.setLayout({angle:I,startAngle:O,endAngle:j,clockwise:E,cx:c,cy:d,r0:U,r:F})}if(L.children&&L.children.length){var W=0;V(L.children,function(K){W+=R(K,O+W)})}return j-O}};if(S){var P=h,D=h+C,$=Math.PI*2;v.setLayout({angle:$,startAngle:p,endAngle:p+$,clockwise:E,cx:c,cy:d,r0:P,r:D})}R(m,p)})}function Yse(e,t){var r=e.children||[];e.children=u5e(r,t),r.length&&V(e.children,function(n){Yse(n,t)})}function u5e(e,t){if(et(t)){var r=xe(e,function(i,s){var a=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return a}},index:s}});return r.sort(function(i,s){return t(i.params,s.params)}),xe(r,function(i){return e[i.index]})}else{var n=t==="asc";return e.sort(function(i,s){var a=(i.getValue()-s.getValue())*(n?1:-1);return a===0?(i.dataIndex-s.dataIndex)*(n?-1:1):a})}}function d5e(e){var t={};function r(n,i,s){for(var a=n;a&&a.depth>1;)a=a.parentNode;var o=i.getColorFromPalette(a.name||a.dataIndex+"",t);return n.depth>1&&De(o)&&(o=RP(o,(n.depth-1)/(s-1)*.5)),o}e.eachSeriesByType("sunburst",function(n){var i=n.getData(),s=i.tree;s.eachNode(function(a){var o=a.getModel(),l=o.getModel("itemStyle").getItemStyle();l.fill||(l.fill=r(a,n,s.root.height));var c=i.ensureUniqueItemVisual(a.dataIndex,"style");fe(c,l)})})}function h5e(e){e.registerChartView(o5e),e.registerSeriesModel(l5e),e.registerLayout(xt(c5e,"sunburst")),e.registerProcessor(xt(lw,"sunburst")),e.registerVisual(d5e),a5e(e)}var p9={color:"fill",borderColor:"stroke"},f5e={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Xc=cr(),p5e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(r,n){return Su(null,this)},t.prototype.getDataParams=function(r,n,i){var s=e.prototype.getDataParams.call(this,r,n);return i&&(s.info=Xc(i).info),s},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(fn);function g5e(e,t){return t=t||[0,0],xe(["x","y"],function(r,n){var i=this.getAxis(r),s=t[n],a=e[n]/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(s-a)-i.dataToCoord(s+a))},this)}function m5e(e){var t=e.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(r){return e.dataToPoint(r)},size:He(g5e,e)}}}function v5e(e,t){return t=t||[0,0],xe([0,1],function(r){var n=t[r],i=e[r]/2,s=[],a=[];return s[r]=n-i,a[r]=n+i,s[1-r]=a[1-r]=t[1-r],Math.abs(this.dataToPoint(s)[r]-this.dataToPoint(a)[r])},this)}function y5e(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(r){return e.dataToPoint(r)},size:He(v5e,e)}}}function x5e(e,t){var r=this.getAxis(),n=t instanceof Array?t[0]:t,i=(e instanceof Array?e[0]:e)/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(n-i)-r.dataToCoord(n+i))}function _5e(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(r){return e.dataToPoint(r)},size:He(x5e,e)}}}function b5e(e,t){return t=t||[0,0],xe(["Radius","Angle"],function(r,n){var i="get"+r+"Axis",s=this[i](),a=t[n],o=e[n]/2,l=s.type==="category"?s.getBandWidth():Math.abs(s.dataToCoord(a-o)-s.dataToCoord(a+o));return r==="Angle"&&(l=l*Math.PI/180),l},this)}function w5e(e){var t=e.getRadiusAxis(),r=e.getAngleAxis(),n=t.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:n[1],r0:n[0]},api:{coord:function(i){var s=t.dataToRadius(i[0]),a=r.dataToAngle(i[1]),o=e.coordToPoint([s,a]);return o.push(s,a*Math.PI/180),o},size:He(b5e,e)}}}function S5e(e){var t=e.getRect(),r=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:r.start,end:r.end,weeks:r.weeks,dayCount:r.allDay}},api:{coord:function(n,i){return e.dataToPoint(n,i)}}}}function Kse(e,t,r,n){return e&&(e.legacy||e.legacy!==!1&&!r&&!n&&t!=="tspan"&&(t==="text"||We(e,"text")))}function Zse(e,t,r){var n=e,i,s,a;if(t==="text")a=n;else{a={},We(n,"text")&&(a.text=n.text),We(n,"rich")&&(a.rich=n.rich),We(n,"textFill")&&(a.fill=n.textFill),We(n,"textStroke")&&(a.stroke=n.textStroke),We(n,"fontFamily")&&(a.fontFamily=n.fontFamily),We(n,"fontSize")&&(a.fontSize=n.fontSize),We(n,"fontStyle")&&(a.fontStyle=n.fontStyle),We(n,"fontWeight")&&(a.fontWeight=n.fontWeight),s={type:"text",style:a,silent:!0},i={};var o=We(n,"textPosition");r?i.position=o?n.textPosition:"inside":o&&(i.position=n.textPosition),We(n,"textPosition")&&(i.position=n.textPosition),We(n,"textOffset")&&(i.offset=n.textOffset),We(n,"textRotation")&&(i.rotation=n.textRotation),We(n,"textDistance")&&(i.distance=n.textDistance)}return g9(a,e),V(a.rich,function(l){g9(l,l)}),{textConfig:i,textContent:s}}function g9(e,t){t&&(t.font=t.textFont||t.font,We(t,"textStrokeWidth")&&(e.lineWidth=t.textStrokeWidth),We(t,"textAlign")&&(e.align=t.textAlign),We(t,"textVerticalAlign")&&(e.verticalAlign=t.textVerticalAlign),We(t,"textLineHeight")&&(e.lineHeight=t.textLineHeight),We(t,"textWidth")&&(e.width=t.textWidth),We(t,"textHeight")&&(e.height=t.textHeight),We(t,"textBackgroundColor")&&(e.backgroundColor=t.textBackgroundColor),We(t,"textPadding")&&(e.padding=t.textPadding),We(t,"textBorderColor")&&(e.borderColor=t.textBorderColor),We(t,"textBorderWidth")&&(e.borderWidth=t.textBorderWidth),We(t,"textBorderRadius")&&(e.borderRadius=t.textBorderRadius),We(t,"textBoxShadowColor")&&(e.shadowColor=t.textBoxShadowColor),We(t,"textBoxShadowBlur")&&(e.shadowBlur=t.textBoxShadowBlur),We(t,"textBoxShadowOffsetX")&&(e.shadowOffsetX=t.textBoxShadowOffsetX),We(t,"textBoxShadowOffsetY")&&(e.shadowOffsetY=t.textBoxShadowOffsetY))}function m9(e,t,r){var n=e;n.textPosition=n.textPosition||r.position||"inside",r.offset!=null&&(n.textOffset=r.offset),r.rotation!=null&&(n.textRotation=r.rotation),r.distance!=null&&(n.textDistance=r.distance);var i=n.textPosition.indexOf("inside")>=0,s=e.fill||"#000";v9(n,t);var a=n.textFill==null;return i?a&&(n.textFill=r.insideFill||"#fff",!n.textStroke&&r.insideStroke&&(n.textStroke=r.insideStroke),!n.textStroke&&(n.textStroke=s),n.textStrokeWidth==null&&(n.textStrokeWidth=2)):(a&&(n.textFill=e.fill||r.outsideFill||"#000"),!n.textStroke&&r.outsideStroke&&(n.textStroke=r.outsideStroke)),n.text=t.text,n.rich=t.rich,V(t.rich,function(o){v9(o,o)}),n}function v9(e,t){t&&(We(t,"fill")&&(e.textFill=t.fill),We(t,"stroke")&&(e.textStroke=t.fill),We(t,"lineWidth")&&(e.textStrokeWidth=t.lineWidth),We(t,"font")&&(e.font=t.font),We(t,"fontStyle")&&(e.fontStyle=t.fontStyle),We(t,"fontWeight")&&(e.fontWeight=t.fontWeight),We(t,"fontSize")&&(e.fontSize=t.fontSize),We(t,"fontFamily")&&(e.fontFamily=t.fontFamily),We(t,"align")&&(e.textAlign=t.align),We(t,"verticalAlign")&&(e.textVerticalAlign=t.verticalAlign),We(t,"lineHeight")&&(e.textLineHeight=t.lineHeight),We(t,"width")&&(e.textWidth=t.width),We(t,"height")&&(e.textHeight=t.height),We(t,"backgroundColor")&&(e.textBackgroundColor=t.backgroundColor),We(t,"padding")&&(e.textPadding=t.padding),We(t,"borderColor")&&(e.textBorderColor=t.borderColor),We(t,"borderWidth")&&(e.textBorderWidth=t.borderWidth),We(t,"borderRadius")&&(e.textBorderRadius=t.borderRadius),We(t,"shadowColor")&&(e.textBoxShadowColor=t.shadowColor),We(t,"shadowBlur")&&(e.textBoxShadowBlur=t.shadowBlur),We(t,"shadowOffsetX")&&(e.textBoxShadowOffsetX=t.shadowOffsetX),We(t,"shadowOffsetY")&&(e.textBoxShadowOffsetY=t.shadowOffsetY),We(t,"textShadowColor")&&(e.textShadowColor=t.textShadowColor),We(t,"textShadowBlur")&&(e.textShadowBlur=t.textShadowBlur),We(t,"textShadowOffsetX")&&(e.textShadowOffsetX=t.textShadowOffsetX),We(t,"textShadowOffsetY")&&(e.textShadowOffsetY=t.textShadowOffsetY))}var Xse={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},y9=Zt(Xse);nc(sc,function(e,t){return e[t]=1,e},{});sc.join(", ");var IE=["","style","shape","extra"],nv=cr();function R4(e,t,r,n,i){var s=e+"Animation",a=Ov(e,n,i)||{},o=nv(t).userDuring;return a.duration>0&&(a.during=o?He(N5e,{el:t,userDuring:o}):null,a.setToFinal=!0,a.scope=e),fe(a,r[s]),a}function tk(e,t,r,n){n=n||{};var i=n.dataIndex,s=n.isInit,a=n.clearStyle,o=r.isAnimationEnabled(),l=nv(e),c=t.style;l.userDuring=t.during;var d={},h={};if(j5e(e,t,h),_9("shape",t,h),_9("extra",t,h),!s&&o&&(A5e(e,t,d),x9("shape",e,t,d),x9("extra",e,t,d),R5e(e,t,c,d)),h.style=c,C5e(e,h,a),E5e(e,t),o)if(s){var f={};V(IE,function(g){var v=g?t[g]:t;v&&v.enterFrom&&(g&&(f[g]=f[g]||{}),fe(g?f[g]:f,v.enterFrom))});var p=R4("enter",e,t,r,i);p.duration>0&&e.animateFrom(f,p)}else k5e(e,t,i||0,r,d);Jse(e,t),c?e.dirty():e.markRedraw()}function Jse(e,t){for(var r=nv(e).leaveToProps,n=0;n<IE.length;n++){var i=IE[n],s=i?t[i]:t;s&&s.leaveTo&&(r||(r=nv(e).leaveToProps={}),i&&(r[i]=r[i]||{}),fe(i?r[i]:r,s.leaveTo))}}function KN(e,t,r,n){if(e){var i=e.parent,s=nv(e).leaveToProps;if(s){var a=R4("update",e,t,r,0);a.done=function(){i.remove(e)},e.animateTo(s,a)}else i.remove(e)}}function Vf(e){return e==="all"}function C5e(e,t,r){var n=t.style;if(!e.isGroup&&n){if(r){e.useStyle({});for(var i=e.animators,s=0;s<i.length;s++){var a=i[s];a.targetName==="style"&&a.changeTarget(e.style)}}e.setStyle(n)}t&&(t.style=null,t&&e.attr(t),t.style=n)}function k5e(e,t,r,n,i){if(i){var s=R4("update",e,t,n,r);s.duration>0&&e.animateFrom(i,s)}}function E5e(e,t){We(t,"silent")&&(e.silent=t.silent),We(t,"ignore")&&(e.ignore=t.ignore),e instanceof _o&&We(t,"invisible")&&(e.invisible=t.invisible),e instanceof Vt&&We(t,"autoBatch")&&(e.autoBatch=t.autoBatch)}var El={},T5e={setTransform:function(e,t){return El.el[e]=t,this},getTransform:function(e){return El.el[e]},setShape:function(e,t){var r=El.el,n=r.shape||(r.shape={});return n[e]=t,r.dirtyShape&&r.dirtyShape(),this},getShape:function(e){var t=El.el.shape;if(t)return t[e]},setStyle:function(e,t){var r=El.el,n=r.style;return n&&(n[e]=t,r.dirtyStyle&&r.dirtyStyle()),this},getStyle:function(e){var t=El.el.style;if(t)return t[e]},setExtra:function(e,t){var r=El.el.extra||(El.el.extra={});return r[e]=t,this},getExtra:function(e){var t=El.el.extra;if(t)return t[e]}};function N5e(){var e=this,t=e.el;if(t){var r=nv(t).userDuring,n=e.userDuring;if(r!==n){e.el=e.userDuring=null;return}El.el=t,n(T5e)}}function x9(e,t,r,n){var i=r[e];if(i){var s=t[e],a;if(s){var o=r.transition,l=i.transition;if(l)if(!a&&(a=n[e]={}),Vf(l))fe(a,s);else for(var c=Xr(l),d=0;d<c.length;d++){var h=c[d],f=s[h];a[h]=f}else if(Vf(o)||Pt(o,e)>=0){!a&&(a=n[e]={});for(var p=Zt(s),d=0;d<p.length;d++){var h=p[d],f=s[h];I5e(i[h],f)&&(a[h]=f)}}}}}function _9(e,t,r){var n=t[e];if(n)for(var i=r[e]={},s=Zt(n),a=0;a<s.length;a++){var o=s[a];i[o]=Ax(n[o])}}function A5e(e,t,r){for(var n=t.transition,i=Vf(n)?sc:Xr(n||[]),s=0;s<i.length;s++){var a=i[s];if(!(a==="style"||a==="shape"||a==="extra")){var o=e[a];r[a]=o}}}function j5e(e,t,r){for(var n=0;n<y9.length;n++){var i=y9[n],s=Xse[i],a=t[i];a&&(r[s[0]]=a[0],r[s[1]]=a[1])}for(var n=0;n<sc.length;n++){var o=sc[n];t[o]!=null&&(r[o]=t[o])}}function R5e(e,t,r,n){if(r){var i=e.style,s;if(i){var a=r.transition,o=t.transition;if(a&&!Vf(a)){var l=Xr(a);!s&&(s=n.style={});for(var c=0;c<l.length;c++){var d=l[c],h=i[d];s[d]=h}}else if(e.getAnimationStyleProps&&(Vf(o)||Vf(a)||Pt(o,"style")>=0)){var f=e.getAnimationStyleProps(),p=f?f.style:null;if(p){!s&&(s=n.style={});for(var g=Zt(r),c=0;c<g.length;c++){var d=g[c];if(p[d]){var h=i[d];s[d]=h}}}}}}}function I5e(e,t){return ds(e)?e!==t:e!=null&&isFinite(e)}var Qse=cr(),M5e=["percent","easing","shape","style","extra"];function eae(e){e.stopAnimation("keyframe"),e.attr(Qse(e))}function ME(e,t,r){if(!(!r.isAnimationEnabled()||!t)){if(ve(t)){V(t,function(o){ME(e,o,r)});return}var n=t.keyframes,i=t.duration;if(r&&i==null){var s=Ov("enter",r,0);i=s&&s.duration}if(!(!n||!i)){var a=Qse(e);V(IE,function(o){if(!(o&&!e[o])){var l;n.sort(function(c,d){return c.percent-d.percent}),V(n,function(c){var d=e.animators,h=o?c[o]:c;if(h){var f=Zt(h);if(o||(f=Rr(f,function(v){return Pt(M5e,v)<0})),!!f.length){l||(l=e.animate(o,t.loop,!0),l.scope="keyframe");for(var p=0;p<d.length;p++)d[p]!==l&&d[p].targetName===l.targetName&&d[p].stopTracks(f);o&&(a[o]=a[o]||{});var g=o?a[o]:a;V(f,function(v){g[v]=((o?e[o]:e)||{})[v]}),l.whenWithKeys(i*c.percent,h,f,c.easing)}}}),l&&l.delay(t.delay||0).duration(i).start(t.easing)}})}}}var Jc="emphasis",yd="normal",I4="blur",M4="select",Kd=[yd,Jc,I4,M4],NR={normal:["itemStyle"],emphasis:[Jc,"itemStyle"],blur:[I4,"itemStyle"],select:[M4,"itemStyle"]},AR={normal:["label"],emphasis:[Jc,"label"],blur:[I4,"label"],select:[M4,"label"]},P5e=["x","y"],L5e="e\0\0",Ya={normal:{},emphasis:{},blur:{},select:{}},D5e={cartesian2d:m5e,geo:y5e,single:_5e,polar:w5e,calendar:S5e};function VL(e){return e instanceof Vt}function WL(e){return e instanceof _o}function O5e(e,t){t.copyTransform(e),WL(t)&&WL(e)&&(t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel,t.invisible=e.invisible,t.ignore=e.ignore,VL(t)&&VL(e)&&t.setShape(e.shape))}var $5e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,s){this._progressiveEls=null;var a=this._data,o=r.getData(),l=this.group,c=b9(r,o,n,i);a||l.removeAll(),o.diff(a).add(function(h){jR(i,null,h,c(h,s),r,l,o)}).remove(function(h){var f=a.getItemGraphicEl(h);f&&KN(f,Xc(f).option,r)}).update(function(h,f){var p=a.getItemGraphicEl(f);jR(i,p,h,c(h,s),r,l,o)}).execute();var d=r.get("clip",!0)?aw(r.coordinateSystem,!1,r):null;d?l.setClipPath(d):l.removeClipPath(),this._data=o},t.prototype.incrementalPrepareRender=function(r,n,i){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(r,n,i,s,a){var o=n.getData(),l=b9(n,o,i,s),c=this._progressiveEls=[];function d(p){p.isGroup||(p.incremental=!0,p.ensureState("emphasis").hoverLayer=!0)}for(var h=r.start;h<r.end;h++){var f=jR(null,null,h,l(h,a),n,this.group,o);f&&(f.traverse(d),c.push(f))}},t.prototype.eachRendered=function(r){fh(this._progressiveEls||this.group,r)},t.prototype.filterForExposedEvent=function(r,n,i,s){var a=n.element;if(a==null||i.name===a)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===a)return!0;return!1},t.type="custom",t}(nn);function P4(e){var t=e.type,r;if(t==="path"){var n=e.shape,i=n.width!=null&&n.height!=null?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,s=nae(n);r=kN(s,null,i,n.layout||"center"),Xc(r).customPathData=s}else if(t==="image")r=new Oi({}),Xc(r).customImagePath=e.style.image;else if(t==="text")r=new pr({});else if(t==="group")r=new ht;else{if(t==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var a=w5(t);if(!a){var o="";jr(o)}r=new a}return Xc(r).customGraphicType=t,r.name=e.name,r.z2EmphasisLift=1,r.z2SelectLift=1,r}function L4(e,t,r,n,i,s,a){eae(t);var o=i&&i.normal.cfg;o&&t.setTextConfig(o),n&&n.transition==null&&(n.transition=P5e);var l=n&&n.style;if(l){if(t.type==="text"){var c=l;We(c,"textFill")&&(c.fill=c.textFill),We(c,"textStroke")&&(c.stroke=c.textStroke)}var d=void 0,h=VL(t)?l.decal:null;e&&h&&(h.dirty=!0,d=Jm(h,e)),l.__decalPattern=d}if(WL(t)&&l){var d=l.__decalPattern;d&&(l.decal=d)}tk(t,n,s,{dataIndex:r,isInit:a,clearStyle:!0}),ME(t,n.keyframeAnimation,s)}function tae(e,t,r,n,i){var s=t.isGroup?null:t,a=i&&i[e].cfg;if(s){var o=s.ensureState(e);if(n===!1){var l=s.getState(e);l&&(l.style=null)}else o.style=n||null;a&&(o.textConfig=a),ap(s)}}function B5e(e,t,r){if(!e.isGroup){var n=e,i=r.currentZ,s=r.currentZLevel;n.z=i,n.zlevel=s;var a=t.z2;a!=null&&(n.z2=a||0);for(var o=0;o<Kd.length;o++)F5e(n,t,Kd[o])}}function F5e(e,t,r){var n=r===yd,i=n?t:PE(t,r),s=i?i.z2:null,a;s!=null&&(a=n?e:e.ensureState(r),a.z2=s||0)}function b9(e,t,r,n){var i=e.get("renderItem"),s=e.coordinateSystem,a={};s&&(a=s.prepareCustoms?s.prepareCustoms(s):D5e[s.type](s));for(var o=rt({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:b,style:S,ordinalRawValue:w,styleEmphasis:k,visual:T,barLayout:N,currentSeriesIndices:R,font:P},a.api||{}),l={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:a.coordSys,dataInsideLength:t.count(),encode:z5e(e.getData())},c,d,h={},f={},p={},g={},v=0;v<Kd.length;v++){var m=Kd[v];p[m]=e.getModel(NR[m]),g[m]=e.getModel(AR[m])}function y(D){return D===c?d||(d=t.getItemModel(D)):t.getItemModel(D)}function x(D,$){return t.hasItemOption?D===c?h[$]||(h[$]=y(D).getModel(NR[$])):y(D).getModel(NR[$]):p[$]}function _(D,$){return t.hasItemOption?D===c?f[$]||(f[$]=y(D).getModel(AR[$])):y(D).getModel(AR[$]):g[$]}return function(D,$){return c=D,d=null,h={},f={},i&&i(rt({dataIndexInside:D,dataIndex:t.getRawIndex(D),actionType:$?$.type:null},l),o)};function b(D,$){return $==null&&($=c),t.getStore().get(t.getDimensionIndex(D||0),$)}function w(D,$){$==null&&($=c),D=D||0;var L=t.getDimensionInfo(D);if(!L){var O=t.getDimensionIndex(D);return O>=0?t.getStore().get(O,$):void 0}var j=t.get(L.name,$),M=L&&L.ordinalMeta;return M?M.categories[j]:j}function S(D,$){$==null&&($=c);var L=t.getItemVisual($,"style"),O=L&&L.fill,j=L&&L.opacity,M=x($,yd).getItemStyle();O!=null&&(M.fill=O),j!=null&&(M.opacity=j);var I={inheritColor:De(O)?O:"#000"},z=_($,yd),U=dn(z,null,I,!1,!0);U.text=z.getShallow("show")?mt(e.getFormattedLabel($,yd),ev(t,$)):null;var F=uE(z,I,!1);return E(D,M),M=m9(M,U,F),D&&C(M,D),M.legacy=!0,M}function k(D,$){$==null&&($=c);var L=x($,Jc).getItemStyle(),O=_($,Jc),j=dn(O,null,null,!0,!0);j.text=O.getShallow("show")?Zl(e.getFormattedLabel($,Jc),e.getFormattedLabel($,yd),ev(t,$)):null;var M=uE(O,null,!0);return E(D,L),L=m9(L,j,M),D&&C(L,D),L.legacy=!0,L}function C(D,$){for(var L in $)We($,L)&&(D[L]=$[L])}function E(D,$){D&&(D.textFill&&($.textFill=D.textFill),D.textPosition&&($.textPosition=D.textPosition))}function T(D,$){if($==null&&($=c),We(p9,D)){var L=t.getItemVisual($,"style");return L?L[p9[D]]:null}if(We(f5e,D))return t.getItemVisual($,D)}function N(D){if(s.type==="cartesian2d"){var $=s.getBaseAxis();return jje(rt({axis:$},D))}}function R(){return r.getCurrentSeriesIndices()}function P(D){return S5(D,r)}}function z5e(e){var t={};return V(e.dimensions,function(r){var n=e.getDimensionInfo(r);if(!n.isExtraCoord){var i=n.coordDim,s=t[i]=t[i]||[];s[n.coordDimIndex]=e.getDimensionIndex(r)}}),t}function jR(e,t,r,n,i,s,a){if(!n){s.remove(t);return}var o=D4(e,t,r,n,i,s);return o&&a.setItemGraphicEl(r,o),o&&Dn(o,n.focus,n.blurScope,n.emphasisDisabled),o}function D4(e,t,r,n,i,s){var a=-1,o=t;t&&rae(t,n,i)&&(a=Pt(s.childrenRef(),t),t=null);var l=!t,c=t;c?c.clearStates():(c=P4(n),o&&O5e(o,c)),n.morph===!1?c.disableMorphing=!0:c.disableMorphing&&(c.disableMorphing=!1),Ya.normal.cfg=Ya.normal.conOpt=Ya.emphasis.cfg=Ya.emphasis.conOpt=Ya.blur.cfg=Ya.blur.conOpt=Ya.select.cfg=Ya.select.conOpt=null,Ya.isLegacy=!1,H5e(c,r,n,i,l,Ya),U5e(c,r,n,i,l),L4(e,c,r,n,Ya,i,l),We(n,"info")&&(Xc(c).info=n.info);for(var d=0;d<Kd.length;d++){var h=Kd[d];if(h!==yd){var f=PE(n,h),p=O4(n,f,h);tae(h,c,f,p,Ya)}}return B5e(c,n,i),n.type==="group"&&V5e(e,c,r,n,i),a>=0?s.replaceAt(c,a):s.add(c),c}function rae(e,t,r){var n=Xc(e),i=t.type,s=t.shape,a=t.style;return r.isUniversalTransitionEnabled()||i!=null&&i!==n.customGraphicType||i==="path"&&Y5e(s)&&nae(s)!==n.customPathData||i==="image"&&We(a,"image")&&a.image!==n.customImagePath}function U5e(e,t,r,n,i){var s=r.clipPath;if(s===!1)e&&e.getClipPath()&&e.removeClipPath();else if(s){var a=e.getClipPath();a&&rae(a,s,n)&&(a=null),a||(a=P4(s),e.setClipPath(a)),L4(null,a,t,s,null,n,i)}}function H5e(e,t,r,n,i,s){if(!e.isGroup){w9(r,null,s),w9(r,Jc,s);var a=s.normal.conOpt,o=s.emphasis.conOpt,l=s.blur.conOpt,c=s.select.conOpt;if(a!=null||o!=null||c!=null||l!=null){var d=e.getTextContent();if(a===!1)d&&e.removeTextContent();else{a=s.normal.conOpt=a||{type:"text"},d?d.clearStates():(d=P4(a),e.setTextContent(d)),L4(null,d,t,a,null,n,i);for(var h=a&&a.style,f=0;f<Kd.length;f++){var p=Kd[f];if(p!==yd){var g=s[p].conOpt;tae(p,d,g,O4(a,g,p),null)}}h?d.dirty():d.markRedraw()}}}}function w9(e,t,r){var n=t?PE(e,t):e,i=t?O4(e,n,Jc):e.style,s=e.type,a=n?n.textConfig:null,o=e.textContent,l=o?t?PE(o,t):o:null;if(i&&(r.isLegacy||Kse(i,s,!!a,!!l))){r.isLegacy=!0;var c=Zse(i,s,!t);!a&&c.textConfig&&(a=c.textConfig),!l&&c.textContent&&(l=c.textContent)}if(!t&&l){var d=l;!d.type&&(d.type="text")}var h=t?r[t]:r.normal;h.cfg=a,h.conOpt=l}function PE(e,t){return t?e?e[t]:null:e}function O4(e,t,r){var n=t&&t.style;return n==null&&r===Jc&&e&&(n=e.styleEmphasis),n}function V5e(e,t,r,n,i){var s=n.children,a=s?s.length:0,o=n.$mergeChildren,l=o==="byName"||n.diffChildrenByName,c=o===!1;if(!(!a&&!l&&!c)){if(l){G5e({api:e,oldChildren:t.children()||[],newChildren:s||[],dataIndex:r,seriesModel:i,group:t});return}c&&t.removeAll();for(var d=0;d<a;d++){var h=s[d],f=t.childAt(d);h?(h.ignore==null&&(h.ignore=!1),D4(e,f,r,h,i,t)):f.ignore=!0}for(var p=t.childCount()-1;p>=d;p--){var g=t.childAt(p);W5e(t,g,i)}}}function W5e(e,t,r){t&&KN(t,Xc(e).option,r)}function G5e(e){new uu(e.oldChildren,e.newChildren,S9,S9,e).add(C9).update(C9).remove(q5e).execute()}function S9(e,t){var r=e&&e.name;return r??L5e+t}function C9(e,t){var r=this.context,n=e!=null?r.newChildren[e]:null,i=t!=null?r.oldChildren[t]:null;D4(r.api,i,r.dataIndex,n,r.seriesModel,r.group)}function q5e(e){var t=this.context,r=t.oldChildren[e];r&&KN(r,Xc(r).option,t.seriesModel)}function nae(e){return e&&(e.pathData||e.d)}function Y5e(e){return e&&(We(e,"pathData")||We(e,"d"))}function K5e(e){e.registerChartView($5e),e.registerSeriesModel(p5e)}var uf=cr(),k9=lt,RR=He,$4=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(t,r,n,i){var s=r.get("value"),a=r.get("status");if(this._axisModel=t,this._axisPointerModel=r,this._api=n,!(!i&&this._lastValue===s&&this._lastStatus===a)){this._lastValue=s,this._lastStatus=a;var o=this._group,l=this._handle;if(!a||a==="hide"){o&&o.hide(),l&&l.hide();return}o&&o.show(),l&&l.show();var c={};this.makeElOption(c,s,t,r,n);var d=c.graphicKey;d!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=d;var h=this._moveAnimation=this.determineAnimation(t,r);if(!o)o=this._group=new ht,this.createPointerEl(o,c,t,r),this.createLabelEl(o,c,t,r),n.getZr().add(o);else{var f=xt(E9,r,h);this.updatePointerEl(o,c,f),this.updateLabelEl(o,c,f,r)}N9(o,r,!0),this._renderHandle(s)}},e.prototype.remove=function(t){this.clear(t)},e.prototype.dispose=function(t){this.clear(t)},e.prototype.determineAnimation=function(t,r){var n=r.get("animation"),i=t.axis,s=i.type==="category",a=r.get("snap");if(!a&&!s)return!1;if(n==="auto"||n==null){var o=this.animationThreshold;if(s&&i.getBandWidth()>o)return!0;if(a){var l=a4(t).seriesDataCount,c=i.getExtent();return Math.abs(c[0]-c[1])/l>o}return!1}return n===!0},e.prototype.makeElOption=function(t,r,n,i,s){},e.prototype.createPointerEl=function(t,r,n,i){var s=r.pointer;if(s){var a=uf(t).pointerEl=new Ap[s.type](k9(r.pointer));t.add(a)}},e.prototype.createLabelEl=function(t,r,n,i){if(r.label){var s=uf(t).labelEl=new pr(k9(r.label));t.add(s),T9(s,i)}},e.prototype.updatePointerEl=function(t,r,n){var i=uf(t).pointerEl;i&&r.pointer&&(i.setStyle(r.pointer.style),n(i,{shape:r.pointer.shape}))},e.prototype.updateLabelEl=function(t,r,n,i){var s=uf(t).labelEl;s&&(s.setStyle(r.label.style),n(s,{x:r.label.x,y:r.label.y}),T9(s,i))},e.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,n=this._api.getZr(),i=this._handle,s=r.getModel("handle"),a=r.get("status");if(!s.get("show")||!a||a==="hide"){i&&n.remove(i),this._handle=null;return}var o;this._handle||(o=!0,i=this._handle=Qb(s.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(c){au(c.event)},onmousedown:RR(this._onHandleDragMove,this,0,0),drift:RR(this._onHandleDragMove,this),ondragend:RR(this._onHandleDragEnd,this)}),n.add(i)),N9(i,r,!1),i.setStyle(s.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=s.get("size");ve(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,Vv(this,"_doDispatchAxisPointer",s.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,o)}},e.prototype._moveHandleToValue=function(t,r){E9(this._axisPointerModel,!r&&this._moveAnimation,this._handle,IR(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(t,r){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(IR(n),[t,r],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(IR(i)),uf(n).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var r=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var r=t.getZr(),n=this._group,i=this._handle;r&&n&&(this._lastGraphicKey=null,n&&r.remove(n),i&&r.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),F_(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(t,r,n){return n=n||0,{x:t[n],y:t[1-n],width:r[n],height:r[1-n]}},e}();function E9(e,t,r,n){iae(uf(r).lastProp,n)||(uf(r).lastProp=n,t?wr(r,n,e):(r.stopAnimation(),r.attr(n)))}function iae(e,t){if(st(e)&&st(t)){var r=!0;return V(t,function(n,i){r=r&&iae(e[i],n)}),!!r}else return e===t}function T9(e,t){e[t.get(["label","show"])?"show":"hide"]()}function IR(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function N9(e,t,r){var n=t.get("z"),i=t.get("zlevel");e&&e.traverse(function(s){s.type!=="group"&&(n!=null&&(s.z=n),i!=null&&(s.zlevel=i),s.silent=r)})}function B4(e){var t=e.get("type"),r=e.getModel(t+"Style"),n;return t==="line"?(n=r.getLineStyle(),n.fill=null):t==="shadow"&&(n=r.getAreaStyle(),n.stroke=null),n}function sae(e,t,r,n,i){var s=r.get("value"),a=aae(s,t.axis,t.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),o=r.getModel("label"),l=Fv(o.get("padding")||0),c=o.getFont(),d=Gb(a,c),h=i.position,f=d.width+l[1]+l[3],p=d.height+l[0]+l[2],g=i.align;g==="right"&&(h[0]-=f),g==="center"&&(h[0]-=f/2);var v=i.verticalAlign;v==="bottom"&&(h[1]-=p),v==="middle"&&(h[1]-=p/2),Z5e(h,f,p,n);var m=o.get("backgroundColor");(!m||m==="auto")&&(m=t.get(["axisLine","lineStyle","color"])),e.label={x:h[0],y:h[1],style:dn(o,{text:a,font:c,fill:o.getTextColor(),padding:l,backgroundColor:m}),z2:10}}function Z5e(e,t,r,n){var i=n.getWidth(),s=n.getHeight();e[0]=Math.min(e[0]+t,i)-t,e[1]=Math.min(e[1]+r,s)-r,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function aae(e,t,r,n,i){e=t.scale.parse(e);var s=t.scale.getLabel({value:e},{precision:i.precision}),a=i.formatter;if(a){var o={value:K5(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};V(n,function(l){var c=r.getSeriesByIndex(l.seriesIndex),d=l.dataIndexInside,h=c&&c.getDataParams(d);h&&o.seriesData.push(h)}),De(a)?s=a.replace("{value}",s):et(a)&&(s=a(o))}return s}function F4(e,t,r){var n=Ta();return Tp(n,n,r.rotation),ic(n,n,r.position),Zo([e.dataToCoord(t),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],n)}function oae(e,t,r,n,i,s){var a=Ds.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=i.get(["label","margin"]),sae(t,n,i,s,{position:F4(n.axis,e,r),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function z4(e,t,r){return r=r||0,{x1:e[r],y1:e[1-r],x2:t[r],y2:t[1-r]}}function lae(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}}function A9(e,t,r,n,i,s){return{cx:e,cy:t,r0:r,r:n,startAngle:i,endAngle:s,clockwise:!0}}var X5e=function(e){le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(r,n,i,s,a){var o=i.axis,l=o.grid,c=s.get("type"),d=j9(l,o).getOtherAxis(o).getGlobalExtent(),h=o.toGlobalCoord(o.dataToCoord(n,!0));if(c&&c!=="none"){var f=B4(s),p=J5e[c](o,h,d);p.style=f,r.graphicKey=p.type,r.pointer=p}var g=kL(l.model,i);oae(n,r,g,i,s,a)},t.prototype.getHandleTransform=function(r,n,i){var s=kL(n.axis.grid.model,n,{labelInside:!1});s.labelMargin=i.get(["handle","margin"]);var a=F4(n.axis,r,s);return{x:a[0],y:a[1],rotation:s.rotation+(s.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(r,n,i,s){var a=i.axis,o=a.grid,l=a.getGlobalExtent(!0),c=j9(o,a).getOtherAxis(a).getGlobalExtent(),d=a.dim==="x"?0:1,h=[r.x,r.y];h[d]+=n[d],h[d]=Math.min(l[1],h[d]),h[d]=Math.max(l[0],h[d]);var f=(c[1]+c[0])/2,p=[f,f];p[d]=h[d];var g=[{verticalAlign:"middle"},{align:"center"}];return{x:h[0],y:h[1],rotation:r.rotation,cursorPoint:p,tooltipOption:g[d]}},t}($4);function j9(e,t){var r={};return r[t.dim+"AxisIndex"]=t.index,e.getCartesian(r)}var J5e={line:function(e,t,r){var n=z4([t,r[0]],[t,r[1]],R9(e));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(e,t,r){var n=Math.max(1,e.getBandWidth()),i=r[1]-r[0];return{type:"Rect",shape:lae([t-n/2,r[0]],[n,i],R9(e))}}};function R9(e){return e.dim==="x"?0:1}var Q5e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(Kt),Vc=cr(),e4e=V;function cae(e,t,r){if(!Gt.node){var n=t.getZr();Vc(n).records||(Vc(n).records={}),t4e(n,t);var i=Vc(n).records[e]||(Vc(n).records[e]={});i.handler=r}}function t4e(e,t){if(Vc(e).initialized)return;Vc(e).initialized=!0,r("click",xt(I9,"click")),r("mousemove",xt(I9,"mousemove")),r("globalout",n4e);function r(n,i){e.on(n,function(s){var a=i4e(t);e4e(Vc(e).records,function(o){o&&i(o,s,a.dispatchAction)}),r4e(a.pendings,t)})}}function r4e(e,t){var r=e.showTip.length,n=e.hideTip.length,i;r?i=e.showTip[r-1]:n&&(i=e.hideTip[n-1]),i&&(i.dispatchAction=null,t.dispatchAction(i))}function n4e(e,t,r){e.handler("leave",null,r)}function I9(e,t,r,n){t.handler(e,r,n)}function i4e(e){var t={showTip:[],hideTip:[]},r=function(n){var i=t[n.type];i?i.push(n):(n.dispatchAction=r,e.dispatchAction(n))};return{dispatchAction:r,pendings:t}}function GL(e,t){if(!Gt.node){var r=t.getZr(),n=(Vc(r).records||{})[e];n&&(Vc(r).records[e]=null)}}var s4e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var s=n.getComponent("tooltip"),a=r.get("triggerOn")||s&&s.get("triggerOn")||"mousemove|click";cae("axisPointer",i,function(o,l,c){a!=="none"&&(o==="leave"||a.indexOf(o)>=0)&&c({type:"updateAxisPointer",currTrigger:o,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(r,n){GL("axisPointer",n)},t.prototype.dispose=function(r,n){GL("axisPointer",n)},t.type="axisPointer",t}(Rn);function uae(e,t){var r=[],n=e.seriesIndex,i;if(n==null||!(i=t.getSeriesByIndex(n)))return{point:[]};var s=i.getData(),a=ip(s,e);if(a==null||a<0||ve(a))return{point:[]};var o=s.getItemGraphicEl(a),l=i.coordinateSystem;if(i.getTooltipPosition)r=i.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(e.isStacked){var c=l.getBaseAxis(),d=l.getOtherAxis(c),h=d.dim,f=c.dim,p=h==="x"||h==="radius"?1:0,g=s.mapDimension(f),v=[];v[p]=s.get(g,a),v[1-p]=s.get(s.getCalculationInfo("stackResultDimension"),a),r=l.dataToPoint(v)||[]}else r=l.dataToPoint(s.getValues(xe(l.dimensions,function(y){return s.mapDimension(y)}),a))||[];else if(o){var m=o.getBoundingRect().clone();m.applyTransform(o.transform),r=[m.x+m.width/2,m.y+m.height/2]}return{point:r,el:o}}var M9=cr();function a4e(e,t,r){var n=e.currTrigger,i=[e.x,e.y],s=e,a=e.dispatchAction||He(r.dispatchAction,r),o=t.getComponent("axisPointer").coordSysAxesInfo;if(o){rk(i)&&(i=uae({seriesIndex:s.seriesIndex,dataIndex:s.dataIndex},t).point);var l=rk(i),c=s.axesInfo,d=o.axesInfo,h=n==="leave"||rk(i),f={},p={},g={list:[],map:{}},v={showPointer:xt(l4e,p),showTooltip:xt(c4e,g)};V(o.coordSysMap,function(y,x){var _=l||y.containPoint(i);V(o.coordSysAxesInfo[x],function(b,w){var S=b.axis,k=f4e(c,b);if(!h&&_&&(!c||k)){var C=k&&k.value;C==null&&!l&&(C=S.pointToData(i)),C!=null&&P9(b,C,v,!1,f)}})});var m={};return V(d,function(y,x){var _=y.linkGroup;_&&!p[x]&&V(_.axesInfo,function(b,w){var S=p[w];if(b!==y&&S){var k=S.value;_.mapper&&(k=y.axis.scale.parse(_.mapper(k,L9(b),L9(y)))),m[y.key]=k}})}),V(m,function(y,x){P9(d[x],y,v,!0,f)}),u4e(p,d,f),d4e(g,i,e,a),h4e(d,a,r),f}}function P9(e,t,r,n,i){var s=e.axis;if(!(s.scale.isBlank()||!s.containData(t))){if(!e.involveSeries){r.showPointer(e,t);return}var a=o4e(t,e),o=a.payloadBatch,l=a.snapToValue;o[0]&&i.seriesIndex==null&&fe(i,o[0]),!n&&e.snap&&s.containData(l)&&l!=null&&(t=l),r.showPointer(e,t,o),r.showTooltip(e,a,l)}}function o4e(e,t){var r=t.axis,n=r.dim,i=e,s=[],a=Number.MAX_VALUE,o=-1;return V(t.seriesModels,function(l,c){var d=l.getData().mapDimensionsAll(n),h,f;if(l.getAxisTooltipData){var p=l.getAxisTooltipData(d,e,r);f=p.dataIndices,h=p.nestestValue}else{if(f=l.getData().indicesOfNearest(d[0],e,r.type==="category"?.5:null),!f.length)return;h=l.getData().get(d[0],f[0])}if(!(h==null||!isFinite(h))){var g=e-h,v=Math.abs(g);v<=a&&((v<a||g>=0&&o<0)&&(a=v,o=g,i=h,s.length=0),V(f,function(m){s.push({seriesIndex:l.seriesIndex,dataIndexInside:m,dataIndex:l.getData().getRawIndex(m)})}))}}),{payloadBatch:s,snapToValue:i}}function l4e(e,t,r,n){e[t.key]={value:r,payloadBatch:n}}function c4e(e,t,r,n){var i=r.payloadBatch,s=t.axis,a=s.model,o=t.axisPointerModel;if(!(!t.triggerTooltip||!i.length)){var l=t.coordSys.model,c=q_(l),d=e.map[c];d||(d=e.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(d)),d.dataByAxis.push({axisDim:s.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:n,valueLabelOpt:{precision:o.get(["label","precision"]),formatter:o.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function u4e(e,t,r){var n=r.axesInfo=[];V(t,function(i,s){var a=i.axisPointerModel.option,o=e[s];o?(!i.useHandle&&(a.status="show"),a.value=o.value,a.seriesDataIndices=(o.payloadBatch||[]).slice()):!i.useHandle&&(a.status="hide"),a.status==="show"&&n.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:a.value})})}function d4e(e,t,r,n){if(rk(t)||!e.list.length){n({type:"hideTip"});return}var i=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:e.list})}function h4e(e,t,r){var n=r.getZr(),i="axisPointerLastHighlights",s=M9(n)[i]||{},a=M9(n)[i]={};V(e,function(c,d){var h=c.axisPointerModel.option;h.status==="show"&&c.triggerEmphasis&&V(h.seriesDataIndices,function(f){var p=f.seriesIndex+" | "+f.dataIndex;a[p]=f})});var o=[],l=[];V(s,function(c,d){!a[d]&&l.push(c)}),V(a,function(c,d){!s[d]&&o.push(c)}),l.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),o.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:o})}function f4e(e,t){for(var r=0;r<(e||[]).length;r++){var n=e[r];if(t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex)return n}}function L9(e){var t=e.axis.model,r={},n=r.axisDim=e.axis.dim;return r.axisIndex=r[n+"AxisIndex"]=t.componentIndex,r.axisName=r[n+"AxisName"]=t.name,r.axisId=r[n+"AxisId"]=t.id,r}function rk(e){return!e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}function hw(e){Mp.registerAxisPointerClass("CartesianAxisPointer",X5e),e.registerComponentModel(Q5e),e.registerComponentView(s4e),e.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var r=t.axisPointer.link;r&&!ve(r)&&(t.axisPointer.link=[r])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(t,r){t.getComponent("axisPointer").coordSysAxesInfo=SMe(t,r)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},a4e)}function p4e(e){Ft($ie),Ft(hw)}var g4e=function(e){le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(r,n,i,s,a){var o=i.axis;o.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=o.polar,c=l.getOtherAxis(o),d=c.getExtent(),h=o.dataToCoord(n),f=s.get("type");if(f&&f!=="none"){var p=B4(s),g=v4e[f](o,l,h,d);g.style=p,r.graphicKey=g.type,r.pointer=g}var v=s.get(["label","margin"]),m=m4e(n,i,s,l,v);sae(r,i,s,a,m)},t}($4);function m4e(e,t,r,n,i){var s=t.axis,a=s.dataToCoord(e),o=n.getAngleAxis().getExtent()[0];o=o/180*Math.PI;var l=n.getRadiusAxis().getExtent(),c,d,h;if(s.dim==="radius"){var f=Ta();Tp(f,f,o),ic(f,f,[n.cx,n.cy]),c=Zo([a,-i],f);var p=t.getModel("axisLabel").get("rotate")||0,g=Ds.innerTextLayout(o,p*Math.PI/180,-1);d=g.textAlign,h=g.textVerticalAlign}else{var v=l[1];c=n.coordToPoint([v+i,a]);var m=n.cx,y=n.cy;d=Math.abs(c[0]-m)/v<.3?"center":c[0]>m?"left":"right",h=Math.abs(c[1]-y)/v<.3?"middle":c[1]>y?"top":"bottom"}return{position:c,align:d,verticalAlign:h}}var v4e={line:function(e,t,r,n){return e.dim==="angle"?{type:"Line",shape:z4(t.coordToPoint([n[0],r]),t.coordToPoint([n[1],r]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r}}},shadow:function(e,t,r,n){var i=Math.max(1,e.getBandWidth()),s=Math.PI/180;return e.dim==="angle"?{type:"Sector",shape:A9(t.cx,t.cy,n[0],n[1],(-r-i/2)*s,(-r+i/2)*s)}:{type:"Sector",shape:A9(t.cx,t.cy,r-i/2,r+i/2,0,Math.PI*2)}}},y4e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.findAxisModel=function(r){var n,i=this.ecModel;return i.eachComponent(r,function(s){s.getCoordSysModel()===this&&(n=s)},this),n},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(Kt),U4=function(e){le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",ii).models[0]},t.type="polarAxis",t}(Kt);oi(U4,nw);var x4e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="angleAxis",t}(U4),_4e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="radiusAxis",t}(U4),H4=function(e){le(t,e);function t(r,n){return e.call(this,"radius",r,n)||this}return t.prototype.pointToData=function(r,n){return this.polar.pointToData(r,n)[this.dim==="radius"?0:1]},t}(ul);H4.prototype.dataToRadius=ul.prototype.dataToCoord;H4.prototype.radiusToData=ul.prototype.coordToData;var b4e=cr(),V4=function(e){le(t,e);function t(r,n){return e.call(this,"angle",r,n||[0,360])||this}return t.prototype.pointToData=function(r,n){return this.polar.pointToData(r,n)[this.dim==="radius"?0:1]},t.prototype.calculateCategoryInterval=function(){var r=this,n=r.getLabelModel(),i=r.scale,s=i.getExtent(),a=i.count();if(s[1]-s[0]<1)return 0;var o=s[0],l=r.dataToCoord(o+1)-r.dataToCoord(o),c=Math.abs(l),d=Gb(o==null?"":o+"",n.getFont(),"center","top"),h=Math.max(d.height,7),f=h/c;isNaN(f)&&(f=1/0);var p=Math.max(0,Math.floor(f)),g=b4e(r.model),v=g.lastAutoInterval,m=g.lastTickCount;return v!=null&&m!=null&&Math.abs(v-p)<=1&&Math.abs(m-a)<=1&&v>p?p=v:(g.lastTickCount=a,g.lastAutoInterval=p),p},t}(ul);V4.prototype.dataToAngle=ul.prototype.dataToCoord;V4.prototype.angleToData=ul.prototype.coordToData;var dae=["radius","angle"],w4e=function(){function e(t){this.dimensions=dae,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new H4,this._angleAxis=new V4,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return e.prototype.containPoint=function(t){var r=this.pointToCoord(t);return this._radiusAxis.contain(r[0])&&this._angleAxis.contain(r[1])},e.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},e.prototype.getAxis=function(t){var r="_"+t+"Axis";return this[r]},e.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},e.prototype.getAxesByScale=function(t){var r=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===t&&r.push(n),i.scale.type===t&&r.push(i),r},e.prototype.getAngleAxis=function(){return this._angleAxis},e.prototype.getRadiusAxis=function(){return this._radiusAxis},e.prototype.getOtherAxis=function(t){var r=this._angleAxis;return t===r?this._radiusAxis:r},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},e.prototype.getTooltipAxes=function(t){var r=t!=null&&t!=="auto"?this.getAxis(t):this.getBaseAxis();return{baseAxes:[r],otherAxes:[this.getOtherAxis(r)]}},e.prototype.dataToPoint=function(t,r){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],r),this._angleAxis.dataToAngle(t[1],r)])},e.prototype.pointToData=function(t,r){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],r),this._angleAxis.angleToData(n[1],r)]},e.prototype.pointToCoord=function(t){var r=t[0]-this.cx,n=t[1]-this.cy,i=this.getAngleAxis(),s=i.getExtent(),a=Math.min(s[0],s[1]),o=Math.max(s[0],s[1]);i.inverse?a=o-360:o=a+360;var l=Math.sqrt(r*r+n*n);r/=l,n/=l;for(var c=Math.atan2(-n,r)/Math.PI*180,d=c<a?1:-1;c<a||c>o;)c+=d*360;return[l,c]},e.prototype.coordToPoint=function(t){var r=t[0],n=t[1]/180*Math.PI,i=Math.cos(n)*r+this.cx,s=-Math.sin(n)*r+this.cy;return[i,s]},e.prototype.getArea=function(){var t=this.getAngleAxis(),r=this.getRadiusAxis(),n=r.getExtent().slice();n[0]>n[1]&&n.reverse();var i=t.getExtent(),s=Math.PI/180,a=1e-4;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-i[0]*s,endAngle:-i[1]*s,clockwise:t.inverse,contain:function(o,l){var c=o-this.cx,d=l-this.cy,h=c*c+d*d,f=this.r,p=this.r0;return f!==p&&h-a<=f*f&&h+a>=p*p}}},e.prototype.convertToPixel=function(t,r,n){var i=D9(r);return i===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,r,n){var i=D9(r);return i===this?this.pointToData(n):null},e}();function D9(e){var t=e.seriesModel,r=e.polarModel;return r&&r.coordinateSystem||t&&t.coordinateSystem}function S4e(e,t,r){var n=t.get("center"),i=r.getWidth(),s=r.getHeight();e.cx=Ne(n[0],i),e.cy=Ne(n[1],s);var a=e.getRadiusAxis(),o=Math.min(i,s)/2,l=t.get("radius");l==null?l=[0,"100%"]:ve(l)||(l=[0,l]);var c=[Ne(l[0],o),Ne(l[1],o)];a.inverse?a.setExtent(c[1],c[0]):a.setExtent(c[0],c[1])}function C4e(e,t){var r=this,n=r.getAngleAxis(),i=r.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),e.eachSeries(function(o){if(o.coordinateSystem===r){var l=o.getData();V(bE(l,"radius"),function(c){i.scale.unionExtentFromData(l,c)}),V(bE(l,"angle"),function(c){n.scale.unionExtentFromData(l,c)})}}),Qm(n.scale,n.model),Qm(i.scale,i.model),n.type==="category"&&!n.onBand){var s=n.getExtent(),a=360/n.scale.count();n.inverse?s[1]+=a:s[1]-=a,n.setExtent(s[0],s[1])}}function k4e(e){return e.mainType==="angleAxis"}function O9(e,t){var r;if(e.type=t.get("type"),e.scale=UN(t),e.onBand=t.get("boundaryGap")&&e.type==="category",e.inverse=t.get("inverse"),k4e(t)){e.inverse=e.inverse!==t.get("clockwise");var n=t.get("startAngle"),i=(r=t.get("endAngle"))!==null&&r!==void 0?r:n+(e.inverse?-360:360);e.setExtent(n,i)}t.axis=e,e.model=t}var E4e={dimensions:dae,create:function(e,t){var r=[];return e.eachComponent("polar",function(n,i){var s=new w4e(i+"");s.update=C4e;var a=s.getRadiusAxis(),o=s.getAngleAxis(),l=n.findAxisModel("radiusAxis"),c=n.findAxisModel("angleAxis");O9(a,l),O9(o,c),S4e(s,n,t),r.push(s),n.coordinateSystem=s,s.model=n}),e.eachSeries(function(n){if(n.get("coordinateSystem")==="polar"){var i=n.getReferringComponents("polar",ii).models[0];n.coordinateSystem=i.coordinateSystem}}),r}},T4e=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function kS(e,t,r){t[1]>t[0]&&(t=t.slice().reverse());var n=e.coordToPoint([t[0],r]),i=e.coordToPoint([t[1],r]);return{x1:n[0],y1:n[1],x2:i[0],y2:i[1]}}function ES(e){var t=e.getRadiusAxis();return t.inverse?0:1}function $9(e){var t=e[0],r=e[e.length-1];t&&r&&Math.abs(Math.abs(t.coord-r.coord)-360)<1e-4&&e.pop()}var N4e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="PolarAxisPointer",r}return t.prototype.render=function(r,n){if(this.group.removeAll(),!!r.get("show")){var i=r.axis,s=i.polar,a=s.getRadiusAxis().getExtent(),o=i.getTicksCoords(),l=i.getMinorTicksCoords(),c=xe(i.getViewLabels(),function(d){d=lt(d);var h=i.scale,f=h.type==="ordinal"?h.getRawOrdinalNumber(d.tickValue):d.tickValue;return d.coord=i.dataToCoord(f),d});$9(c),$9(o),V(T4e,function(d){r.get([d,"show"])&&(!i.scale.isBlank()||d==="axisLine")&&A4e[d](this.group,r,s,o,l,a,c)},this)}},t.type="angleAxis",t}(Mp),A4e={axisLine:function(e,t,r,n,i,s){var a=t.getModel(["axisLine","lineStyle"]),o=r.getAngleAxis(),l=Math.PI/180,c=o.getExtent(),d=ES(r),h=d?0:1,f,p=Math.abs(c[1]-c[0])===360?"Circle":"Arc";s[h]===0?f=new Ap[p]({shape:{cx:r.cx,cy:r.cy,r:s[d],startAngle:-c[0]*l,endAngle:-c[1]*l,clockwise:o.inverse},style:a.getLineStyle(),z2:1,silent:!0}):f=new Kb({shape:{cx:r.cx,cy:r.cy,r:s[d],r0:s[h]},style:a.getLineStyle(),z2:1,silent:!0}),f.style.fill=null,e.add(f)},axisTick:function(e,t,r,n,i,s){var a=t.getModel("axisTick"),o=(a.get("inside")?-1:1)*a.get("length"),l=s[ES(r)],c=xe(n,function(d){return new wi({shape:kS(r,[l,l+o],d.coord)})});e.add(co(c,{style:rt(a.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(e,t,r,n,i,s){if(i.length){for(var a=t.getModel("axisTick"),o=t.getModel("minorTick"),l=(a.get("inside")?-1:1)*o.get("length"),c=s[ES(r)],d=[],h=0;h<i.length;h++)for(var f=0;f<i[h].length;f++)d.push(new wi({shape:kS(r,[c,c+l],i[h][f].coord)}));e.add(co(d,{style:rt(o.getModel("lineStyle").getLineStyle(),rt(a.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(e,t,r,n,i,s,a){var o=t.getCategories(!0),l=t.getModel("axisLabel"),c=l.get("margin"),d=t.get("triggerEvent");V(a,function(h,f){var p=l,g=h.tickValue,v=s[ES(r)],m=r.coordToPoint([v+c,h.coord]),y=r.cx,x=r.cy,_=Math.abs(m[0]-y)/v<.3?"center":m[0]>y?"left":"right",b=Math.abs(m[1]-x)/v<.3?"middle":m[1]>x?"top":"bottom";if(o&&o[g]){var w=o[g];st(w)&&w.textStyle&&(p=new Lr(w.textStyle,l,l.ecModel))}var S=new pr({silent:Ds.isLabelSilent(t),style:dn(p,{x:m[0],y:m[1],fill:p.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:h.formattedLabel,align:_,verticalAlign:b})});if(e.add(S),d){var k=Ds.makeAxisEventDataBase(t);k.targetType="axisLabel",k.value=h.rawLabel,ft(S).eventData=k}},this)},splitLine:function(e,t,r,n,i,s){var a=t.getModel("splitLine"),o=a.getModel("lineStyle"),l=o.get("color"),c=0;l=l instanceof Array?l:[l];for(var d=[],h=0;h<n.length;h++){var f=c++%l.length;d[f]=d[f]||[],d[f].push(new wi({shape:kS(r,s,n[h].coord)}))}for(var h=0;h<d.length;h++)e.add(co(d[h],{style:rt({stroke:l[h%l.length]},o.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(e,t,r,n,i,s){if(i.length){for(var a=t.getModel("minorSplitLine"),o=a.getModel("lineStyle"),l=[],c=0;c<i.length;c++)for(var d=0;d<i[c].length;d++)l.push(new wi({shape:kS(r,s,i[c][d].coord)}));e.add(co(l,{style:o.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(e,t,r,n,i,s){if(n.length){var a=t.getModel("splitArea"),o=a.getModel("areaStyle"),l=o.get("color"),c=0;l=l instanceof Array?l:[l];for(var d=[],h=Math.PI/180,f=-n[0].coord*h,p=Math.min(s[0],s[1]),g=Math.max(s[0],s[1]),v=t.get("clockwise"),m=1,y=n.length;m<=y;m++){var x=m===y?n[0].coord:n[m].coord,_=c++%l.length;d[_]=d[_]||[],d[_].push(new Bs({shape:{cx:r.cx,cy:r.cy,r0:p,r:g,startAngle:f,endAngle:-x*h,clockwise:v},silent:!0})),f=-x*h}for(var m=0;m<d.length;m++)e.add(co(d[m],{style:rt({fill:l[m%l.length]},o.getAreaStyle()),silent:!0}))}}},j4e=["axisLine","axisTickLabel","axisName"],R4e=["splitLine","splitArea","minorSplitLine"],I4e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="PolarAxisPointer",r}return t.prototype.render=function(r,n){if(this.group.removeAll(),!!r.get("show")){var i=this._axisGroup,s=this._axisGroup=new ht;this.group.add(s);var a=r.axis,o=a.polar,l=o.getAngleAxis(),c=a.getTicksCoords(),d=a.getMinorTicksCoords(),h=l.getExtent()[0],f=a.getExtent(),p=P4e(o,r,h),g=new Ds(r,p);V(j4e,g.add,g),s.add(g.getGroup()),Jb(i,s,r),V(R4e,function(v){r.get([v,"show"])&&!a.scale.isBlank()&&M4e[v](this.group,r,o,h,f,c,d)},this)}},t.type="radiusAxis",t}(Mp),M4e={splitLine:function(e,t,r,n,i,s){var a=t.getModel("splitLine"),o=a.getModel("lineStyle"),l=o.get("color"),c=0,d=r.getAngleAxis(),h=Math.PI/180,f=d.getExtent(),p=Math.abs(f[1]-f[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var g=[],v=0;v<s.length;v++){var m=c++%l.length;g[m]=g[m]||[],g[m].push(new Ap[p]({shape:{cx:r.cx,cy:r.cy,r:Math.max(s[v].coord,0),startAngle:-f[0]*h,endAngle:-f[1]*h,clockwise:d.inverse}}))}for(var v=0;v<g.length;v++)e.add(co(g[v],{style:rt({stroke:l[v%l.length],fill:null},o.getLineStyle()),silent:!0}))},minorSplitLine:function(e,t,r,n,i,s,a){if(a.length){for(var o=t.getModel("minorSplitLine"),l=o.getModel("lineStyle"),c=[],d=0;d<a.length;d++)for(var h=0;h<a[d].length;h++)c.push(new wu({shape:{cx:r.cx,cy:r.cy,r:a[d][h].coord}}));e.add(co(c,{style:rt({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(e,t,r,n,i,s){if(s.length){var a=t.getModel("splitArea"),o=a.getModel("areaStyle"),l=o.get("color"),c=0;l=l instanceof Array?l:[l];for(var d=[],h=s[0].coord,f=1;f<s.length;f++){var p=c++%l.length;d[p]=d[p]||[],d[p].push(new Bs({shape:{cx:r.cx,cy:r.cy,r0:h,r:s[f].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),h=s[f].coord}for(var f=0;f<d.length;f++)e.add(co(d[f],{style:rt({fill:l[f%l.length]},o.getAreaStyle()),silent:!0}))}}};function P4e(e,t,r){return{position:[e.cx,e.cy],rotation:r/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}function hae(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function fae(e,t){return t.dim+e.model.componentIndex}function L4e(e,t,r){var n={},i=D4e(Rr(t.getSeriesByType(e),function(s){return!t.isSeriesFiltered(s)&&s.coordinateSystem&&s.coordinateSystem.type==="polar"}));t.eachSeriesByType(e,function(s){if(s.coordinateSystem.type==="polar"){var a=s.getData(),o=s.coordinateSystem,l=o.getBaseAxis(),c=fae(o,l),d=hae(s),h=i[c][d],f=h.offset,p=h.width,g=o.getOtherAxis(l),v=s.coordinateSystem.cx,m=s.coordinateSystem.cy,y=s.get("barMinHeight")||0,x=s.get("barMinAngle")||0;n[d]=n[d]||[];for(var _=a.mapDimension(g.dim),b=a.mapDimension(l.dim),w=qd(a,_),S=l.dim!=="radius"||!s.get("roundCap",!0),k=g.model,C=k.get("startValue"),E=g.dataToCoord(C||0),T=0,N=a.count();T<N;T++){var R=a.get(_,T),P=a.get(b,T),D=R>=0?"p":"n",$=E;w&&(n[d][P]||(n[d][P]={p:E,n:E}),$=n[d][P][D]);var L=void 0,O=void 0,j=void 0,M=void 0;if(g.dim==="radius"){var I=g.dataToCoord(R)-E,z=l.dataToCoord(P);Math.abs(I)<y&&(I=(I<0?-1:1)*y),L=$,O=$+I,j=z-f,M=j-p,w&&(n[d][P][D]=O)}else{var U=g.dataToCoord(R,S)-E,F=l.dataToCoord(P);Math.abs(U)<x&&(U=(U<0?-1:1)*x),L=F+f,O=L+p,j=$,M=$+U,w&&(n[d][P][D]=M)}a.setItemLayout(T,{cx:v,cy:m,r0:L,r:O,startAngle:-j*Math.PI/180,endAngle:-M*Math.PI/180,clockwise:j>=M})}}})}function D4e(e){var t={};V(e,function(n,i){var s=n.getData(),a=n.coordinateSystem,o=a.getBaseAxis(),l=fae(a,o),c=o.getExtent(),d=o.type==="category"?o.getBandWidth():Math.abs(c[1]-c[0])/s.count(),h=t[l]||{bandWidth:d,remainedWidth:d,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},f=h.stacks;t[l]=h;var p=hae(n);f[p]||h.autoWidthCount++,f[p]=f[p]||{width:0,maxWidth:0};var g=Ne(n.get("barWidth"),d),v=Ne(n.get("barMaxWidth"),d),m=n.get("barGap"),y=n.get("barCategoryGap");g&&!f[p].width&&(g=Math.min(h.remainedWidth,g),f[p].width=g,h.remainedWidth-=g),v&&(f[p].maxWidth=v),m!=null&&(h.gap=m),y!=null&&(h.categoryGap=y)});var r={};return V(t,function(n,i){r[i]={};var s=n.stacks,a=n.bandWidth,o=Ne(n.categoryGap,a),l=Ne(n.gap,1),c=n.remainedWidth,d=n.autoWidthCount,h=(c-o)/(d+(d-1)*l);h=Math.max(h,0),V(s,function(v,m){var y=v.maxWidth;y&&y<h&&(y=Math.min(y,c),v.width&&(y=Math.min(y,v.width)),c-=y,v.width=y,d--)}),h=(c-o)/(d+(d-1)*l),h=Math.max(h,0);var f=0,p;V(s,function(v,m){v.width||(v.width=h),p=v,f+=v.width*(1+l)}),p&&(f-=p.width*l);var g=-f/2;V(s,function(v,m){r[i][m]=r[i][m]||{offset:g,width:v.width},g+=v.width*(1+l)})}),r}var O4e={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},$4e={splitNumber:5},B4e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="polar",t}(Rn);function F4e(e){Ft(hw),Mp.registerAxisPointerClass("PolarAxisPointer",g4e),e.registerCoordinateSystem("polar",E4e),e.registerComponentModel(y4e),e.registerComponentView(B4e),tv(e,"angle",x4e,O4e),tv(e,"radius",_4e,$4e),e.registerComponentView(N4e),e.registerComponentView(I4e),e.registerLayout(xt(L4e,"bar"))}function qL(e,t){t=t||{};var r=e.coordinateSystem,n=e.axis,i={},s=n.position,a=n.orient,o=r.getRect(),l=[o.x,o.x+o.width,o.y,o.y+o.height],c={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};i.position=[a==="vertical"?c.vertical[s]:l[0],a==="horizontal"?c.horizontal[s]:l[3]];var d={horizontal:0,vertical:1};i.rotation=Math.PI/2*d[a];var h={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=h[s],e.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Mi(t.labelInside,e.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var f=t.rotate;return f==null&&(f=e.get(["axisLabel","rotate"])),i.labelRotation=s==="top"?-f:f,i.z2=1,i}var z4e=["axisLine","axisTickLabel","axisName"],U4e=["splitArea","splitLine"],H4e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="SingleAxisPointer",r}return t.prototype.render=function(r,n,i,s){var a=this.group;a.removeAll();var o=this._axisGroup;this._axisGroup=new ht;var l=qL(r),c=new Ds(r,l);V(z4e,c.add,c),a.add(this._axisGroup),a.add(c.getGroup()),V(U4e,function(d){r.get([d,"show"])&&V4e[d](this,this.group,this._axisGroup,r)},this),Jb(o,this._axisGroup,r),e.prototype.render.call(this,r,n,i,s)},t.prototype.remove=function(){Lie(this)},t.type="singleAxis",t}(Mp),V4e={splitLine:function(e,t,r,n){var i=n.axis;if(!i.scale.isBlank()){var s=n.getModel("splitLine"),a=s.getModel("lineStyle"),o=a.get("color");o=o instanceof Array?o:[o];for(var l=a.get("width"),c=n.coordinateSystem.getRect(),d=i.isHorizontal(),h=[],f=0,p=i.getTicksCoords({tickModel:s}),g=[],v=[],m=0;m<p.length;++m){var y=i.toGlobalCoord(p[m].coord);d?(g[0]=y,g[1]=c.y,v[0]=y,v[1]=c.y+c.height):(g[0]=c.x,g[1]=y,v[0]=c.x+c.width,v[1]=y);var x=new wi({shape:{x1:g[0],y1:g[1],x2:v[0],y2:v[1]},silent:!0});Zm(x.shape,l);var _=f++%o.length;h[_]=h[_]||[],h[_].push(x)}for(var b=a.getLineStyle(["color"]),m=0;m<h.length;++m)t.add(co(h[m],{style:rt({stroke:o[m%o.length]},b),silent:!0}))}},splitArea:function(e,t,r,n){Pie(e,r,n,n)}},nk=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(Kt);oi(nk,nw.prototype);var W4e=function(e){le(t,e);function t(r,n,i,s,a){var o=e.call(this,r,n,i)||this;return o.type=s||"value",o.position=a||"bottom",o}return t.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},t.prototype.pointToData=function(r,n){return this.coordinateSystem.pointToData(r)[0]},t}(ul),pae=["single"],G4e=function(){function e(t,r,n){this.type="single",this.dimension="single",this.dimensions=pae,this.axisPointerEnabled=!0,this.model=t,this._init(t,r,n)}return e.prototype._init=function(t,r,n){var i=this.dimension,s=new W4e(i,UN(t),[0,0],t.get("type"),t.get("position")),a=s.type==="category";s.onBand=a&&t.get("boundaryGap"),s.inverse=t.get("inverse"),s.orient=t.get("orient"),t.axis=s,s.model=t,s.coordinateSystem=this,this._axis=s},e.prototype.update=function(t,r){t.eachSeries(function(n){if(n.coordinateSystem===this){var i=n.getData();V(i.mapDimensionsAll(this.dimension),function(s){this._axis.scale.unionExtentFromData(i,s)},this),Qm(this._axis.scale,this._axis.model)}},this)},e.prototype.resize=function(t,r){this._rect=pi({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:r.getWidth(),height:r.getHeight()}),this._adjustAxis()},e.prototype.getRect=function(){return this._rect},e.prototype._adjustAxis=function(){var t=this._rect,r=this._axis,n=r.isHorizontal(),i=n?[0,t.width]:[0,t.height],s=r.inverse?1:0;r.setExtent(i[s],i[1-s]),this._updateAxisTransform(r,n?t.x:t.y)},e.prototype._updateAxisTransform=function(t,r){var n=t.getExtent(),i=n[0]+n[1],s=t.isHorizontal();t.toGlobalCoord=s?function(a){return a+r}:function(a){return i-a+r},t.toLocalCoord=s?function(a){return a-r}:function(a){return i-a+r}},e.prototype.getAxis=function(){return this._axis},e.prototype.getBaseAxis=function(){return this._axis},e.prototype.getAxes=function(){return[this._axis]},e.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},e.prototype.containPoint=function(t){var r=this.getRect(),n=this.getAxis(),i=n.orient;return i==="horizontal"?n.contain(n.toLocalCoord(t[0]))&&t[1]>=r.y&&t[1]<=r.y+r.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=r.y&&t[0]<=r.y+r.height},e.prototype.pointToData=function(t){var r=this.getAxis();return[r.coordToData(r.toLocalCoord(t[r.orient==="horizontal"?0:1]))]},e.prototype.dataToPoint=function(t){var r=this.getAxis(),n=this.getRect(),i=[],s=r.orient==="horizontal"?0:1;return t instanceof Array&&(t=t[0]),i[s]=r.toGlobalCoord(r.dataToCoord(+t)),i[1-s]=s===0?n.y+n.height/2:n.x+n.width/2,i},e.prototype.convertToPixel=function(t,r,n){var i=B9(r);return i===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,r,n){var i=B9(r);return i===this?this.pointToData(n):null},e}();function B9(e){var t=e.seriesModel,r=e.singleAxisModel;return r&&r.coordinateSystem||t&&t.coordinateSystem}function q4e(e,t){var r=[];return e.eachComponent("singleAxis",function(n,i){var s=new G4e(n,e,t);s.name="single_"+i,s.resize(n,t),n.coordinateSystem=s,r.push(s)}),e.eachSeries(function(n){if(n.get("coordinateSystem")==="singleAxis"){var i=n.getReferringComponents("singleAxis",ii).models[0];n.coordinateSystem=i&&i.coordinateSystem}}),r}var Y4e={create:q4e,dimensions:pae},F9=["x","y"],K4e=["width","height"],Z4e=function(e){le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(r,n,i,s,a){var o=i.axis,l=o.coordinateSystem,c=MR(l,1-LE(o)),d=l.dataToPoint(n)[0],h=s.get("type");if(h&&h!=="none"){var f=B4(s),p=X4e[h](o,d,c);p.style=f,r.graphicKey=p.type,r.pointer=p}var g=qL(i);oae(n,r,g,i,s,a)},t.prototype.getHandleTransform=function(r,n,i){var s=qL(n,{labelInside:!1});s.labelMargin=i.get(["handle","margin"]);var a=F4(n.axis,r,s);return{x:a[0],y:a[1],rotation:s.rotation+(s.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(r,n,i,s){var a=i.axis,o=a.coordinateSystem,l=LE(a),c=MR(o,l),d=[r.x,r.y];d[l]+=n[l],d[l]=Math.min(c[1],d[l]),d[l]=Math.max(c[0],d[l]);var h=MR(o,1-l),f=(h[1]+h[0])/2,p=[f,f];return p[l]=d[l],{x:d[0],y:d[1],rotation:r.rotation,cursorPoint:p,tooltipOption:{verticalAlign:"middle"}}},t}($4),X4e={line:function(e,t,r){var n=z4([t,r[0]],[t,r[1]],LE(e));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(e,t,r){var n=e.getBandWidth(),i=r[1]-r[0];return{type:"Rect",shape:lae([t-n/2,r[0]],[n,i],LE(e))}}};function LE(e){return e.isHorizontal()?0:1}function MR(e,t){var r=e.getRect();return[r[F9[t]],r[F9[t]]+r[K4e[t]]]}var J4e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="single",t}(Rn);function Q4e(e){Ft(hw),Mp.registerAxisPointerClass("SingleAxisPointer",Z4e),e.registerComponentView(J4e),e.registerComponentView(H4e),e.registerComponentModel(nk),tv(e,"single",nk,nk.defaultOption),e.registerCoordinateSystem("single",Y4e)}var e$e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n,i){var s=zv(r);e.prototype.init.apply(this,arguments),z9(r,s)},t.prototype.mergeOption=function(r){e.prototype.mergeOption.apply(this,arguments),z9(this.option,r)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(Kt);function z9(e,t){var r=e.cellSize,n;ve(r)?n=r:n=e.cellSize=[r,r],n.length===1&&(n[1]=n[0]);var i=xe([0,1],function(s){return bNe(t,s)&&(n[s]="auto"),n[s]!=null&&n[s]!=="auto"});Gd(e,t,{type:"box",ignoreSize:i})}var t$e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var s=this.group;s.removeAll();var a=r.coordinateSystem,o=a.getRangeInfo(),l=a.getOrient(),c=n.getLocaleModel();this._renderDayRect(r,o,s),this._renderLines(r,o,l,s),this._renderYearText(r,o,l,s),this._renderMonthText(r,c,l,s),this._renderWeekText(r,c,o,l,s)},t.prototype._renderDayRect=function(r,n,i){for(var s=r.coordinateSystem,a=r.getModel("itemStyle").getItemStyle(),o=s.getCellWidth(),l=s.getCellHeight(),c=n.start.time;c<=n.end.time;c=s.getNextNDay(c,1).time){var d=s.dataToRect([c],!1).tl,h=new lr({shape:{x:d[0],y:d[1],width:o,height:l},cursor:"default",style:a});i.add(h)}},t.prototype._renderLines=function(r,n,i,s){var a=this,o=r.coordinateSystem,l=r.getModel(["splitLine","lineStyle"]).getLineStyle(),c=r.get(["splitLine","show"]),d=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var h=n.start,f=0;h.time<=n.end.time;f++){g(h.formatedDate),f===0&&(h=o.getDateInfo(n.start.y+"-"+n.start.m));var p=h.date;p.setMonth(p.getMonth()+1),h=o.getDateInfo(p)}g(o.getNextNDay(n.end.time,1).formatedDate);function g(v){a._firstDayOfMonth.push(o.getDateInfo(v)),a._firstDayPoints.push(o.dataToRect([v],!1).tl);var m=a._getLinePointsOfOneWeek(r,v,i);a._tlpoints.push(m[0]),a._blpoints.push(m[m.length-1]),c&&a._drawSplitline(m,l,s)}c&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,d,i),l,s),c&&this._drawSplitline(a._getEdgesPoints(a._blpoints,d,i),l,s)},t.prototype._getEdgesPoints=function(r,n,i){var s=[r[0].slice(),r[r.length-1].slice()],a=i==="horizontal"?0:1;return s[0][a]=s[0][a]-n/2,s[1][a]=s[1][a]+n/2,s},t.prototype._drawSplitline=function(r,n,i){var s=new Vs({z2:20,shape:{points:r},style:n});i.add(s)},t.prototype._getLinePointsOfOneWeek=function(r,n,i){for(var s=r.coordinateSystem,a=s.getDateInfo(n),o=[],l=0;l<7;l++){var c=s.getNextNDay(a.time,l),d=s.dataToRect([c.time],!1);o[2*c.day]=d.tl,o[2*c.day+1]=d[i==="horizontal"?"bl":"tr"]}return o},t.prototype._formatterLabel=function(r,n){return De(r)&&r?yNe(r,n):et(r)?r(n):n.nameMap},t.prototype._yearTextPositionControl=function(r,n,i,s,a){var o=n[0],l=n[1],c=["center","bottom"];s==="bottom"?(l+=a,c=["center","top"]):s==="left"?o-=a:s==="right"?(o+=a,c=["center","top"]):l-=a;var d=0;return(s==="left"||s==="right")&&(d=Math.PI/2),{rotation:d,x:o,y:l,style:{align:c[0],verticalAlign:c[1]}}},t.prototype._renderYearText=function(r,n,i,s){var a=r.getModel("yearLabel");if(a.get("show")){var o=a.get("margin"),l=a.get("position");l||(l=i!=="horizontal"?"top":"left");var c=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],d=(c[0][0]+c[1][0])/2,h=(c[0][1]+c[1][1])/2,f=i==="horizontal"?0:1,p={top:[d,c[f][1]],bottom:[d,c[1-f][1]],left:[c[1-f][0],h],right:[c[f][0],h]},g=n.start.y;+n.end.y>+n.start.y&&(g=g+"-"+n.end.y);var v=a.get("formatter"),m={start:n.start.y,end:n.end.y,nameMap:g},y=this._formatterLabel(v,m),x=new pr({z2:30,style:dn(a,{text:y}),silent:a.get("silent")});x.attr(this._yearTextPositionControl(x,p[l],i,l,o)),s.add(x)}},t.prototype._monthTextPositionControl=function(r,n,i,s,a){var o="left",l="top",c=r[0],d=r[1];return i==="horizontal"?(d=d+a,n&&(o="center"),s==="start"&&(l="bottom")):(c=c+a,n&&(l="middle"),s==="start"&&(o="right")),{x:c,y:d,align:o,verticalAlign:l}},t.prototype._renderMonthText=function(r,n,i,s){var a=r.getModel("monthLabel");if(a.get("show")){var o=a.get("nameMap"),l=a.get("margin"),c=a.get("position"),d=a.get("align"),h=[this._tlpoints,this._blpoints];(!o||De(o))&&(o&&(n=tL(o)||n),o=n.get(["time","monthAbbr"])||[]);var f=c==="start"?0:1,p=i==="horizontal"?0:1;l=c==="start"?-l:l;for(var g=d==="center",v=a.get("silent"),m=0;m<h[f].length-1;m++){var y=h[f][m].slice(),x=this._firstDayOfMonth[m];if(g){var _=this._firstDayPoints[m];y[p]=(_[p]+h[0][m+1][p])/2}var b=a.get("formatter"),w=o[+x.m-1],S={yyyy:x.y,yy:(x.y+"").slice(2),MM:x.m,M:+x.m,nameMap:w},k=this._formatterLabel(b,S),C=new pr({z2:30,style:fe(dn(a,{text:k}),this._monthTextPositionControl(y,g,i,c,l)),silent:v});s.add(C)}}},t.prototype._weekTextPositionControl=function(r,n,i,s,a){var o="center",l="middle",c=r[0],d=r[1],h=i==="start";return n==="horizontal"?(c=c+s+(h?1:-1)*a[0]/2,o=h?"right":"left"):(d=d+s+(h?1:-1)*a[1]/2,l=h?"bottom":"top"),{x:c,y:d,align:o,verticalAlign:l}},t.prototype._renderWeekText=function(r,n,i,s,a){var o=r.getModel("dayLabel");if(o.get("show")){var l=r.coordinateSystem,c=o.get("position"),d=o.get("nameMap"),h=o.get("margin"),f=l.getFirstDayOfWeek();if(!d||De(d)){d&&(n=tL(d)||n);var p=n.get(["time","dayOfWeekShort"]);d=p||xe(n.get(["time","dayOfWeekAbbr"]),function(S){return S[0]})}var g=l.getNextNDay(i.end.time,7-i.lweek).time,v=[l.getCellWidth(),l.getCellHeight()];h=Ne(h,Math.min(v[1],v[0])),c==="start"&&(g=l.getNextNDay(i.start.time,-(7+i.fweek)).time,h=-h);for(var m=o.get("silent"),y=0;y<7;y++){var x=l.getNextNDay(g,y),_=l.dataToRect([x.time],!1).center,b=y;b=Math.abs((y+f)%7);var w=new pr({z2:30,style:fe(dn(o,{text:d[b]}),this._weekTextPositionControl(_,s,c,h,v)),silent:m});a.add(w)}}},t.type="calendar",t}(Rn),PR=864e5,r$e=function(){function e(t,r,n){this.type="calendar",this.dimensions=e.dimensions,this.getDimensionsInfo=e.getDimensionsInfo,this._model=t}return e.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},e.prototype.getRangeInfo=function(){return this._rangeInfo},e.prototype.getModel=function(){return this._model},e.prototype.getRect=function(){return this._rect},e.prototype.getCellWidth=function(){return this._sw},e.prototype.getCellHeight=function(){return this._sh},e.prototype.getOrient=function(){return this._orient},e.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},e.prototype.getDateInfo=function(t){t=ac(t);var r=t.getFullYear(),n=t.getMonth()+1,i=n<10?"0"+n:""+n,s=t.getDate(),a=s<10?"0"+s:""+s,o=t.getDay();return o=Math.abs((o+7-this.getFirstDayOfWeek())%7),{y:r+"",m:i,d:a,day:o,time:t.getTime(),formatedDate:r+"-"+i+"-"+a,date:t}},e.prototype.getNextNDay=function(t,r){return r=r||0,r===0?this.getDateInfo(t):(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+r),this.getDateInfo(t))},e.prototype.update=function(t,r){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],s=this._model.getCellSize().slice(),a=this._model.getBoxLayoutParams(),o=this._orient==="horizontal"?[n,7]:[7,n];V([0,1],function(h){d(s,h)&&(a[i[h]]=s[h]*o[h])});var l={width:r.getWidth(),height:r.getHeight()},c=this._rect=pi(a,l);V([0,1],function(h){d(s,h)||(s[h]=c[i[h]]/o[h])});function d(h,f){return h[f]!=null&&h[f]!=="auto"}this._sw=s[0],this._sh=s[1]},e.prototype.dataToPoint=function(t,r){ve(t)&&(t=t[0]),r==null&&(r=!0);var n=this.getDateInfo(t),i=this._rangeInfo,s=n.formatedDate;if(r&&!(n.time>=i.start.time&&n.time<i.end.time+PR))return[NaN,NaN];var a=n.day,o=this._getRangeInfo([i.start.time,s]).nthWeek;return this._orient==="vertical"?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]:[this._rect.x+o*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},e.prototype.pointToData=function(t){var r=this.pointToDate(t);return r&&r.time},e.prototype.dataToRect=function(t,r){var n=this.dataToPoint(t,r);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},e.prototype.pointToDate=function(t){var r=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(n,r-1,i):this._getDateByWeeksAndDay(r,n-1,i)},e.prototype.convertToPixel=function(t,r,n){var i=U9(r);return i===this?i.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,r,n){var i=U9(r);return i===this?i.pointToData(n):null},e.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},e.prototype._initRangeOption=function(){var t=this._model.get("range"),r;if(ve(t)&&t.length===1&&(t=t[0]),ve(t))r=t;else{var n=t.toString();if(/^\d{4}$/.test(n)&&(r=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var i=this.getDateInfo(n),s=i.date;s.setMonth(s.getMonth()+1);var a=this.getNextNDay(s,-1);r=[i.formatedDate,a.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(r=[n,n])}if(!r)return t;var o=this._getRangeInfo(r);return o.start.time>o.end.time&&r.reverse(),r},e.prototype._getRangeInfo=function(t){var r=[this.getDateInfo(t[0]),this.getDateInfo(t[1])],n;r[0].time>r[1].time&&(n=!0,r.reverse());var i=Math.floor(r[1].time/PR)-Math.floor(r[0].time/PR)+1,s=new Date(r[0].time),a=s.getDate(),o=r[1].date.getDate();s.setDate(a+i-1);var l=s.getDate();if(l!==o)for(var c=s.getTime()-r[1].time>0?1:-1;(l=s.getDate())!==o&&(s.getTime()-r[1].time)*c>0;)i-=c,s.setDate(l-c);var d=Math.floor((i+r[0].day+6)/7),h=n?-d+1:d-1;return n&&r.reverse(),{range:[r[0].formatedDate,r[1].formatedDate],start:r[0],end:r[1],allDay:i,weeks:d,nthWeek:h,fweek:r[0].day,lweek:r[1].day}},e.prototype._getDateByWeeksAndDay=function(t,r,n){var i=this._getRangeInfo(n);if(t>i.weeks||t===0&&r<i.fweek||t===i.weeks&&r>i.lweek)return null;var s=(t-1)*7-i.fweek+r,a=new Date(i.start.time);return a.setDate(+i.start.d+s),this.getDateInfo(a)},e.create=function(t,r){var n=[];return t.eachComponent("calendar",function(i){var s=new e(i);n.push(s),i.coordinateSystem=s}),t.eachSeries(function(i){i.get("coordinateSystem")==="calendar"&&(i.coordinateSystem=n[i.get("calendarIndex")||0])}),n},e.dimensions=["time","value"],e}();function U9(e){var t=e.calendarModel,r=e.seriesModel,n=t?t.coordinateSystem:r?r.coordinateSystem:null;return n}function n$e(e){e.registerComponentModel(e$e),e.registerComponentView(t$e),e.registerCoordinateSystem("calendar",r$e)}function i$e(e,t){var r=e.existing;if(t.id=e.keyInfo.id,!t.type&&r&&(t.type=r.type),t.parentId==null){var n=t.parentOption;n?t.parentId=n.id:r&&(t.parentId=r.parentId)}t.parentOption=null}function H9(e,t){var r;return V(t,function(n){e[n]!=null&&e[n]!=="auto"&&(r=!0)}),r}function s$e(e,t,r){var n=fe({},r),i=e[t],s=r.$action||"merge";s==="merge"?i?(Ct(i,n,!0),Gd(i,n,{ignoreSize:!0}),are(r,i),TS(r,i),TS(r,i,"shape"),TS(r,i,"style"),TS(r,i,"extra"),r.clipPath=i.clipPath):e[t]=n:s==="replace"?e[t]=n:s==="remove"&&i&&(e[t]=null)}var gae=["transition","enterFrom","leaveTo"],a$e=gae.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function TS(e,t,r){if(r&&(!e[r]&&t[r]&&(e[r]={}),e=e[r],t=t[r]),!(!e||!t))for(var n=r?gae:a$e,i=0;i<n.length;i++){var s=n[i];e[s]==null&&t[s]!=null&&(e[s]=t[s])}}function o$e(e,t){if(e&&(e.hv=t.hv=[H9(t,["left","right"]),H9(t,["top","bottom"])],e.type==="group")){var r=e,n=t;r.width==null&&(r.width=n.width=0),r.height==null&&(r.height=n.height=0)}}var l$e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.preventAutoZ=!0,r}return t.prototype.mergeOption=function(r,n){var i=this.option.elements;this.option.elements=null,e.prototype.mergeOption.call(this,r,n),this.option.elements=i},t.prototype.optionUpdated=function(r,n){var i=this.option,s=(n?i:r).elements,a=i.elements=n?[]:i.elements,o=[];this._flatten(s,o,null);var l=rte(a,o,"normalMerge"),c=this._elOptionsToUpdate=[];V(l,function(d,h){var f=d.newOption;f&&(c.push(f),i$e(d,f),s$e(a,h,f),o$e(a[h],f))},this),i.elements=Rr(a,function(d){return d&&delete d.$action,d!=null})},t.prototype._flatten=function(r,n,i){V(r,function(s){if(s){i&&(s.parentOption=i),n.push(s);var a=s.children;a&&a.length&&this._flatten(a,n,s),delete s.children}},this)},t.prototype.useElOptionsToUpdate=function(){var r=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,r},t.type="graphic",t.defaultOption={elements:[]},t}(Kt),V9={path:null,compoundPath:null,group:ht,image:Oi,text:pr},eo=cr(),c$e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){this._elMap=qe()},t.prototype.render=function(r,n,i){r!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=r,this._updateElements(r),this._relocate(r,i)},t.prototype._updateElements=function(r){var n=r.useElOptionsToUpdate();if(n){var i=this._elMap,s=this.group,a=r.get("z"),o=r.get("zlevel");V(n,function(l){var c=hi(l.id,null),d=c!=null?i.get(c):null,h=hi(l.parentId,null),f=h!=null?i.get(h):s,p=l.type,g=l.style;p==="text"&&g&&l.hv&&l.hv[1]&&(g.textVerticalAlign=g.textBaseline=g.verticalAlign=g.align=null);var v=l.textContent,m=l.textConfig;if(g&&Kse(g,p,!!m,!!v)){var y=Zse(g,p,!0);!m&&y.textConfig&&(m=l.textConfig=y.textConfig),!v&&y.textContent&&(v=y.textContent)}var x=u$e(l),_=l.$action||"merge",b=_==="merge",w=_==="replace";if(b){var S=!d,k=d;S?k=W9(c,f,l.type,i):(k&&(eo(k).isNew=!1),eae(k)),k&&(tk(k,x,r,{isInit:S}),G9(k,l,a,o))}else if(w){ik(d,l,i,r);var C=W9(c,f,l.type,i);C&&(tk(C,x,r,{isInit:!0}),G9(C,l,a,o))}else _==="remove"&&(Jse(d,l),ik(d,l,i,r));var E=i.get(c);if(E&&v)if(b){var T=E.getTextContent();T?T.attr(v):E.setTextContent(new pr(v))}else w&&E.setTextContent(new pr(v));if(E){var N=l.clipPath;if(N){var R=N.type,P=void 0,S=!1;if(b){var D=E.getClipPath();S=!D||eo(D).type!==R,P=S?YL(R):D}else w&&(S=!0,P=YL(R));E.setClipPath(P),tk(P,N,r,{isInit:S}),ME(P,N.keyframeAnimation,r)}var $=eo(E);E.setTextConfig(m),$.option=l,d$e(E,r,l),Np({el:E,componentModel:r,itemName:E.name,itemTooltipOption:l.tooltip}),ME(E,l.keyframeAnimation,r)}})}},t.prototype._relocate=function(r,n){for(var i=r.option.elements,s=this.group,a=this._elMap,o=n.getWidth(),l=n.getHeight(),c=["x","y"],d=0;d<i.length;d++){var h=i[d],f=hi(h.id,null),p=f!=null?a.get(f):null;if(!(!p||!p.isGroup)){var g=p.parent,v=g===s,m=eo(p),y=eo(g);m.width=Ne(m.option.width,v?o:y.width)||0,m.height=Ne(m.option.height,v?l:y.height)||0}}for(var d=i.length-1;d>=0;d--){var h=i[d],f=hi(h.id,null),p=f!=null?a.get(f):null;if(p){var g=p.parent,y=eo(g),x=g===s?{width:o,height:l}:{width:y.width,height:y.height},_={},b=MN(p,h,x,null,{hv:h.hv,boundingMode:h.bounding},_);if(!eo(p).isNew&&b){for(var w=h.transition,S={},k=0;k<c.length;k++){var C=c[k],E=_[C];w&&(Vf(w)||Pt(w,C)>=0)?S[C]=E:p[C]=E}wr(p,S,r,0)}else p.attr(_)}}},t.prototype._clear=function(){var r=this,n=this._elMap;n.each(function(i){ik(i,eo(i).option,n,r._lastGraphicModel)}),this._elMap=qe()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(Rn);function YL(e){var t=We(V9,e)?V9[e]:w5(e),r=new t({});return eo(r).type=e,r}function W9(e,t,r,n){var i=YL(r);return t.add(i),n.set(e,i),eo(i).id=e,eo(i).isNew=!0,i}function ik(e,t,r,n){var i=e&&e.parent;i&&(e.type==="group"&&e.traverse(function(s){ik(s,t,r,n)}),KN(e,t,n),r.removeKey(eo(e).id))}function G9(e,t,r,n){e.isGroup||V([["cursor",_o.prototype.cursor],["zlevel",n||0],["z",r||0],["z2",0]],function(i){var s=i[0];We(t,s)?e[s]=mt(t[s],i[1]):e[s]==null&&(e[s]=i[1])}),V(Zt(t),function(i){if(i.indexOf("on")===0){var s=t[i];e[i]=et(s)?s:null}}),We(t,"draggable")&&(e.draggable=t.draggable),t.name!=null&&(e.name=t.name),t.id!=null&&(e.id=t.id)}function u$e(e){return e=fe({},e),V(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(sre),function(t){delete e[t]}),e}function d$e(e,t,r){var n=ft(e).eventData;!e.silent&&!e.ignore&&!n&&(n=ft(e).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name}),n&&(n.info=r.info)}function h$e(e){e.registerComponentModel(l$e),e.registerComponentView(c$e),e.registerPreprocessor(function(t){var r=t.graphic;ve(r)?!r[0]||!r[0].elements?t.graphic=[{elements:r}]:t.graphic=[t.graphic[0]]:r&&!r.elements&&(t.graphic=[{elements:[r]}])})}var q9=["x","y","radius","angle","single"],f$e=["cartesian2d","polar","singleAxis"];function p$e(e){var t=e.get("coordinateSystem");return Pt(f$e,t)>=0}function xd(e){return e+"Axis"}function g$e(e,t){var r=qe(),n=[],i=qe();e.eachComponent({mainType:"dataZoom",query:t},function(d){i.get(d.uid)||o(d)});var s;do s=!1,e.eachComponent("dataZoom",a);while(s);function a(d){!i.get(d.uid)&&l(d)&&(o(d),s=!0)}function o(d){i.set(d.uid,!0),n.push(d),c(d)}function l(d){var h=!1;return d.eachTargetAxis(function(f,p){var g=r.get(f);g&&g[p]&&(h=!0)}),h}function c(d){d.eachTargetAxis(function(h,f){(r.get(h)||r.set(h,[]))[f]=!0})}return n}function mae(e){var t=e.ecModel,r={infoList:[],infoMap:qe()};return e.eachTargetAxis(function(n,i){var s=t.getComponent(xd(n),i);if(s){var a=s.getCoordSysModel();if(a){var o=a.uid,l=r.infoMap.get(o);l||(l={model:a,axisModels:[]},r.infoList.push(l),r.infoMap.set(o,l)),l.axisModels.push(s)}}}),r}var LR=function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},e}(),Q_=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._autoThrottle=!0,r._noTarget=!0,r._rangePropMode=["percent","percent"],r}return t.prototype.init=function(r,n,i){var s=Y9(r);this.settledOption=s,this.mergeDefaultAndTheme(r,i),this._doInit(s)},t.prototype.mergeOption=function(r){var n=Y9(r);Ct(this.option,r,!0),Ct(this.settledOption,n,!0),this._doInit(n)},t.prototype._doInit=function(r){var n=this.option;this._setDefaultThrottle(r),this._updateRangeUse(r);var i=this.settledOption;V([["start","startValue"],["end","endValue"]],function(s,a){this._rangePropMode[a]==="value"&&(n[s[0]]=i[s[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var r=this.get("orient",!0),n=this._targetAxisInfoMap=qe(),i=this._fillSpecifiedTargetAxis(n);i?this._orient=r||this._makeAutoOrientByTargetAxis():(this._orient=r||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(s){s.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(r){var n=!1;return V(q9,function(i){var s=this.getReferringComponents(xd(i),oEe);if(s.specified){n=!0;var a=new LR;V(s.models,function(o){a.add(o.componentIndex)}),r.set(i,a)}},this),n},t.prototype._fillAutoTargetAxisByOrient=function(r,n){var i=this.ecModel,s=!0;if(s){var a=n==="vertical"?"y":"x",o=i.findComponents({mainType:a+"Axis"});l(o,a)}if(s){var o=i.findComponents({mainType:"singleAxis",filter:function(d){return d.get("orient",!0)===n}});l(o,"single")}function l(c,d){var h=c[0];if(h){var f=new LR;if(f.add(h.componentIndex),r.set(d,f),s=!1,d==="x"||d==="y"){var p=h.getReferringComponents("grid",ii).models[0];p&&V(c,function(g){h.componentIndex!==g.componentIndex&&p===g.getReferringComponents("grid",ii).models[0]&&f.add(g.componentIndex)})}}}s&&V(q9,function(c){if(s){var d=i.findComponents({mainType:xd(c),filter:function(f){return f.get("type",!0)==="category"}});if(d[0]){var h=new LR;h.add(d[0].componentIndex),r.set(c,h),s=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var r;return this.eachTargetAxis(function(n){!r&&(r=n)},this),r==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(r){if(r.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(r){var n=this._rangePropMode,i=this.get("rangeMode");V([["start","startValue"],["end","endValue"]],function(s,a){var o=r[s[0]]!=null,l=r[s[1]]!=null;o&&!l?n[a]="percent":!o&&l?n[a]="value":i?n[a]=i[a]:o&&(n[a]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var r;return this.eachTargetAxis(function(n,i){r==null&&(r=this.ecModel.getComponent(xd(n),i))},this),r},t.prototype.eachTargetAxis=function(r,n){this._targetAxisInfoMap.each(function(i,s){V(i.indexList,function(a){r.call(n,s,a)})})},t.prototype.getAxisProxy=function(r,n){var i=this.getAxisModel(r,n);if(i)return i.__dzAxisProxy},t.prototype.getAxisModel=function(r,n){var i=this._targetAxisInfoMap.get(r);if(i&&i.indexMap[n])return this.ecModel.getComponent(xd(r),n)},t.prototype.setRawRange=function(r){var n=this.option,i=this.settledOption;V([["start","startValue"],["end","endValue"]],function(s){(r[s[0]]!=null||r[s[1]]!=null)&&(n[s[0]]=i[s[0]]=r[s[0]],n[s[1]]=i[s[1]]=r[s[1]])},this),this._updateRangeUse(r)},t.prototype.setCalculatedRange=function(r){var n=this.option;V(["start","startValue","end","endValue"],function(i){n[i]=r[i]})},t.prototype.getPercentRange=function(){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataPercentWindow()},t.prototype.getValueRange=function(r,n){if(r==null&&n==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(r,n).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(r){if(r)return r.__dzAxisProxy;for(var n,i=this._targetAxisInfoMap.keys(),s=0;s<i.length;s++)for(var a=i[s],o=this._targetAxisInfoMap.get(a),l=0;l<o.indexList.length;l++){var c=this.getAxisProxy(a,o.indexList[l]);if(c.hostedBy(this))return c;n||(n=c)}return n},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(Kt);function Y9(e){var t={};return V(["start","end","startValue","endValue","throttle"],function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}),t}var m$e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="dataZoom.select",t}(Q_),W4=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,s){this.dataZoomModel=r,this.ecModel=n,this.api=i},t.type="dataZoom",t}(Rn),v$e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="dataZoom.select",t}(W4),Dg=V,K9=fo,y$e=function(){function e(t,r,n,i){this._dimName=t,this._axisIndex=r,this.ecModel=i,this._dataZoomModel=n}return e.prototype.hostedBy=function(t){return this._dataZoomModel===t},e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(r){if(p$e(r)){var n=xd(this._dimName),i=r.getReferringComponents(n,ii).models[0];i&&this._axisIndex===i.componentIndex&&t.push(r)}},this),t},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return lt(this._minMaxSpan)},e.prototype.calculateDataWindow=function(t){var r=this._dataExtent,n=this.getAxisModel(),i=n.axis.scale,s=this._dataZoomModel.getRangePropMode(),a=[0,100],o=[],l=[],c;Dg(["start","end"],function(f,p){var g=t[f],v=t[f+"Value"];s[p]==="percent"?(g==null&&(g=a[p]),v=i.parse(Pr(g,a,r))):(c=!0,v=v==null?r[p]:i.parse(v),g=Pr(v,r,a)),l[p]=v==null||isNaN(v)?r[p]:v,o[p]=g==null||isNaN(g)?a[p]:g}),K9(l),K9(o);var d=this._minMaxSpan;c?h(l,o,r,a,!1):h(o,l,a,r,!0);function h(f,p,g,v,m){var y=m?"Span":"ValueSpan";Pp(0,f,g,"all",d["min"+y],d["max"+y]);for(var x=0;x<2;x++)p[x]=Pr(f[x],g,v,!0),m&&(p[x]=i.parse(p[x]))}return{valueWindow:l,percentWindow:o}},e.prototype.reset=function(t){if(t===this._dataZoomModel){var r=this.getTargetSeriesModels();this._dataExtent=x$e(this,this._dimName,r),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},e.prototype.filterData=function(t,r){if(t!==this._dataZoomModel)return;var n=this._dimName,i=this.getTargetSeriesModels(),s=t.get("filterMode"),a=this._valueWindow;if(s==="none")return;Dg(i,function(l){var c=l.getData(),d=c.mapDimensionsAll(n);if(d.length){if(s==="weakFilter"){var h=c.getStore(),f=xe(d,function(p){return c.getDimensionIndex(p)},c);c.filterSelf(function(p){for(var g,v,m,y=0;y<d.length;y++){var x=h.get(f[y],p),_=!isNaN(x),b=x<a[0],w=x>a[1];if(_&&!b&&!w)return!0;_&&(m=!0),b&&(g=!0),w&&(v=!0)}return m&&g&&v})}else Dg(d,function(p){if(s==="empty")l.setData(c=c.map(p,function(v){return o(v)?v:NaN}));else{var g={};g[p]=a,c.selectRange(g)}});Dg(d,function(p){c.setApproximateExtent(a,p)})}});function o(l){return l>=a[0]&&l<=a[1]}},e.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},r=this._dataZoomModel,n=this._dataExtent;Dg(["min","max"],function(i){var s=r.get(i+"Span"),a=r.get(i+"ValueSpan");a!=null&&(a=this.getAxisModel().axis.scale.parse(a)),a!=null?s=Pr(n[0]+a,n,[0,100],!0):s!=null&&(a=Pr(s,[0,100],n,!0)-n[0]),t[i+"Span"]=s,t[i+"ValueSpan"]=a},this)},e.prototype._setAxisModel=function(){var t=this.getAxisModel(),r=this._percentWindow,n=this._valueWindow;if(r){var i=Yee(n,[0,500]);i=Math.min(i,20);var s=t.axis.scale.rawExtentInfo;r[0]!==0&&s.setDeterminedMinMax("min",+n[0].toFixed(i)),r[1]!==100&&s.setDeterminedMinMax("max",+n[1].toFixed(i)),s.freeze()}},e}();function x$e(e,t,r){var n=[1/0,-1/0];Dg(r,function(a){Jje(n,a.getData(),t)});var i=e.getAxisModel(),s=Pne(i.axis.scale,i,n).calculate();return[s.min,s.max]}var _$e={getTargetSeries:function(e){function t(i){e.eachComponent("dataZoom",function(s){s.eachTargetAxis(function(a,o){var l=e.getComponent(xd(a),o);i(a,o,l,s)})})}t(function(i,s,a,o){a.__dzAxisProxy=null});var r=[];t(function(i,s,a,o){a.__dzAxisProxy||(a.__dzAxisProxy=new y$e(i,s,o,e),r.push(a.__dzAxisProxy))});var n=qe();return V(r,function(i){V(i.getTargetSeriesModels(),function(s){n.set(s.uid,s)})}),n},overallReset:function(e,t){e.eachComponent("dataZoom",function(r){r.eachTargetAxis(function(n,i){r.getAxisProxy(n,i).reset(r)}),r.eachTargetAxis(function(n,i){r.getAxisProxy(n,i).filterData(r,t)})}),e.eachComponent("dataZoom",function(r){var n=r.findRepresentativeAxisProxy();if(n){var i=n.getDataPercentWindow(),s=n.getDataValueWindow();r.setCalculatedRange({start:i[0],end:i[1],startValue:s[0],endValue:s[1]})}})}};function b$e(e){e.registerAction("dataZoom",function(t,r){var n=g$e(r,t);V(n,function(i){i.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var Z9=!1;function G4(e){Z9||(Z9=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,_$e),b$e(e),e.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function w$e(e){e.registerComponentModel(m$e),e.registerComponentView(v$e),G4(e)}var ao=function(){function e(){}return e}(),vae={};function Og(e,t){vae[e]=t}function yae(e){return vae[e]}var S$e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.optionUpdated=function(){e.prototype.optionUpdated.apply(this,arguments);var r=this.ecModel;V(this.option.feature,function(n,i){var s=yae(i);s&&(s.getDefaultOption&&(s.defaultOption=s.getDefaultOption(r)),Ct(n,s.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(Kt);function C$e(e,t,r){var n=t.getBoxLayoutParams(),i=t.get("padding"),s={width:r.getWidth(),height:r.getHeight()},a=pi(n,s,i);Uf(t.get("orient"),e,t.get("itemGap"),a.width,a.height),MN(e,n,s,i)}function xae(e,t){var r=Fv(t.get("padding")),n=t.getItemStyle(["color","opacity"]);return n.fill=t.get("backgroundColor"),e=new lr({shape:{x:e.x-r[3],y:e.y-r[0],width:e.width+r[1]+r[3],height:e.height+r[0]+r[2],r:t.get("borderRadius")},style:n,silent:!0,z2:-1}),e}var k$e=function(e){le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(r,n,i,s){var a=this.group;if(a.removeAll(),!r.get("show"))return;var o=+r.get("itemSize"),l=r.get("orient")==="vertical",c=r.get("feature")||{},d=this._features||(this._features={}),h=[];V(c,function(g,v){h.push(v)}),new uu(this._featureNames||[],h).add(f).update(f).remove(xt(f,null)).execute(),this._featureNames=h;function f(g,v){var m=h[g],y=h[v],x=c[m],_=new Lr(x,r,r.ecModel),b;if(s&&s.newTitle!=null&&s.featureName===m&&(x.title=s.newTitle),m&&!y){if(E$e(m))b={onclick:_.option.onclick,featureName:m};else{var w=yae(m);if(!w)return;b=new w}d[m]=b}else if(b=d[y],!b)return;b.uid=Bv("toolbox-feature"),b.model=_,b.ecModel=n,b.api=i;var S=b instanceof ao;if(!m&&y){S&&b.dispose&&b.dispose(n,i);return}if(!_.get("show")||S&&b.unusable){S&&b.remove&&b.remove(n,i);return}p(_,b,m),_.setIconStatus=function(k,C){var E=this.option,T=this.iconPaths;E.iconStatus=E.iconStatus||{},E.iconStatus[k]=C,T[k]&&(C==="emphasis"?lu:cu)(T[k])},b instanceof ao&&b.render&&b.render(_,n,i,s)}function p(g,v,m){var y=g.getModel("iconStyle"),x=g.getModel(["emphasis","iconStyle"]),_=v instanceof ao&&v.getIcons?v.getIcons():g.get("icon"),b=g.get("title")||{},w,S;De(_)?(w={},w[m]=_):w=_,De(b)?(S={},S[m]=b):S=b;var k=g.iconPaths={};V(w,function(C,E){var T=Qb(C,{},{x:-o/2,y:-o/2,width:o,height:o});T.setStyle(y.getItemStyle());var N=T.ensureState("emphasis");N.style=x.getItemStyle();var R=new pr({style:{text:S[E],align:x.get("textAlign"),borderRadius:x.get("textBorderRadius"),padding:x.get("textPadding"),fill:null,font:S5({fontStyle:x.get("textFontStyle"),fontFamily:x.get("textFontFamily"),fontSize:x.get("textFontSize"),fontWeight:x.get("textFontWeight")},n)},ignore:!0});T.setTextContent(R),Np({el:T,componentModel:r,itemName:E,formatterParamsExtra:{title:S[E]}}),T.__title=S[E],T.on("mouseover",function(){var P=x.getItemStyle(),D=l?r.get("right")==null&&r.get("left")!=="right"?"right":"left":r.get("bottom")==null&&r.get("top")!=="bottom"?"bottom":"top";R.setStyle({fill:x.get("textFill")||P.fill||P.stroke||"#000",backgroundColor:x.get("textBackgroundColor")}),T.setTextConfig({position:x.get("textPosition")||D}),R.ignore=!r.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){g.get(["iconStatus",E])!=="emphasis"&&i.leaveEmphasis(this),R.hide()}),(g.get(["iconStatus",E])==="emphasis"?lu:cu)(T),a.add(T),T.on("click",He(v.onclick,v,n,i,E)),k[E]=T})}C$e(a,r,i),a.add(xae(a.getBoundingRect(),r)),l||a.eachChild(function(g){var v=g.__title,m=g.ensureState("emphasis"),y=m.textConfig||(m.textConfig={}),x=g.getTextContent(),_=x&&x.ensureState("emphasis");if(_&&!et(_)&&v){var b=_.style||(_.style={}),w=Gb(v,pr.makeFont(b)),S=g.x+a.x,k=g.y+a.y+o,C=!1;k+w.height>i.getHeight()&&(y.position="top",C=!0);var E=C?-5-w.height:o+10;S+w.width/2>i.getWidth()?(y.position=["100%",E],b.align="right"):S-w.width/2<0&&(y.position=[0,E],b.align="left")}})},t.prototype.updateView=function(r,n,i,s){V(this._features,function(a){a instanceof ao&&a.updateView&&a.updateView(a.model,n,i,s)})},t.prototype.remove=function(r,n){V(this._features,function(i){i instanceof ao&&i.remove&&i.remove(r,n)}),this.group.removeAll()},t.prototype.dispose=function(r,n){V(this._features,function(i){i instanceof ao&&i.dispose&&i.dispose(r,n)})},t.type="toolbox",t}(Rn);function E$e(e){return e.indexOf("my")===0}var T$e=function(e){le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(r,n){var i=this.model,s=i.get("name")||r.get("title.0.text")||"echarts",a=n.getZr().painter.getType()==="svg",o=a?"svg":i.get("type",!0)||"png",l=n.getConnectedDataURL({type:o,backgroundColor:i.get("backgroundColor",!0)||r.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),c=Gt.browser;if(typeof MouseEvent=="function"&&(c.newEdge||!c.ie&&!c.edge)){var d=document.createElement("a");d.download=s+"."+o,d.target="_blank",d.href=l;var h=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});d.dispatchEvent(h)}else if(window.navigator.msSaveOrOpenBlob||a){var f=l.split(","),p=f[0].indexOf("base64")>-1,g=a?decodeURIComponent(f[1]):f[1];p&&(g=window.atob(g));var v=s+"."+o;if(window.navigator.msSaveOrOpenBlob){for(var m=g.length,y=new Uint8Array(m);m--;)y[m]=g.charCodeAt(m);var x=new Blob([y]);window.navigator.msSaveOrOpenBlob(x,v)}else{var _=document.createElement("iframe");document.body.appendChild(_);var b=_.contentWindow,w=b.document;w.open("image/svg+xml","replace"),w.write(g),w.close(),b.focus(),w.execCommand("SaveAs",!0,v),document.body.removeChild(_)}}else{var S=i.get("lang"),k='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(S&&S[0]||"")+'" /></body>',C=window.open();C.document.write(k),C.document.title=s}},t.getDefaultOption=function(r){var n={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:r.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:r.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return n},t}(ao),X9="__ec_magicType_stack__",N$e=[["line","bar"],["stack"]],A$e=function(e){le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getIcons=function(){var r=this.model,n=r.get("icon"),i={};return V(r.get("type"),function(s){n[s]&&(i[s]=n[s])}),i},t.getDefaultOption=function(r){var n={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:r.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return n},t.prototype.onclick=function(r,n,i){var s=this.model,a=s.get(["seriesIndex",i]);if(J9[i]){var o={series:[]},l=function(h){var f=h.subType,p=h.id,g=J9[i](f,p,h,s);g&&(rt(g,h.option),o.series.push(g));var v=h.coordinateSystem;if(v&&v.type==="cartesian2d"&&(i==="line"||i==="bar")){var m=v.getAxesByScale("ordinal")[0];if(m){var y=m.dim,x=y+"Axis",_=h.getReferringComponents(x,ii).models[0],b=_.componentIndex;o[x]=o[x]||[];for(var w=0;w<=b;w++)o[x][b]=o[x][b]||{};o[x][b].boundaryGap=i==="bar"}}};V(N$e,function(h){Pt(h,i)>=0&&V(h,function(f){s.setIconStatus(f,"normal")})}),s.setIconStatus(i,"emphasis"),r.eachComponent({mainType:"series",query:a==null?null:{seriesIndex:a}},l);var c,d=i;i==="stack"&&(c=Ct({stack:s.option.title.tiled,tiled:s.option.title.stack},s.option.title),s.get(["iconStatus",i])!=="emphasis"&&(d="tiled")),n.dispatchAction({type:"changeMagicType",currentType:d,newOption:o,newTitle:c,featureName:"magicType"})}},t}(ao),J9={line:function(e,t,r,n){if(e==="bar")return Ct({id:t,type:"line",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(e,t,r,n){if(e==="line")return Ct({id:t,type:"bar",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(e,t,r,n){var i=r.get("stack")===X9;if(e==="line"||e==="bar")return n.setIconStatus("stack",i?"normal":"emphasis"),Ct({id:t,stack:i?"":X9},n.get(["option","stack"])||{},!0)}};pc({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,t){t.mergeOption(e.newOption)});var ZN=new Array(60).join("-"),iv="	";function j$e(e){var t={},r=[],n=[];return e.eachRawSeries(function(i){var s=i.coordinateSystem;if(s&&(s.type==="cartesian2d"||s.type==="polar")){var a=s.getBaseAxis();if(a.type==="category"){var o=a.dim+"_"+a.index;t[o]||(t[o]={categoryAxis:a,valueAxis:s.getOtherAxis(a),series:[]},n.push({axisDim:a.dim,axisIndex:a.index})),t[o].series.push(i)}else r.push(i)}else r.push(i)}),{seriesGroupByCategoryAxis:t,other:r,meta:n}}function R$e(e){var t=[];return V(e,function(r,n){var i=r.categoryAxis,s=r.valueAxis,a=s.dim,o=[" "].concat(xe(r.series,function(p){return p.name})),l=[i.model.getCategories()];V(r.series,function(p){var g=p.getRawData();l.push(p.getRawData().mapArray(g.mapDimension(a),function(v){return v}))});for(var c=[o.join(iv)],d=0;d<l[0].length;d++){for(var h=[],f=0;f<l.length;f++)h.push(l[f][d]);c.push(h.join(iv))}t.push(c.join(`
`))}),t.join(`

`+ZN+`

`)}function I$e(e){return xe(e,function(t){var r=t.getRawData(),n=[t.name],i=[];return r.each(r.dimensions,function(){for(var s=arguments.length,a=arguments[s-1],o=r.getName(a),l=0;l<s-1;l++)i[l]=arguments[l];n.push((o?o+iv:"")+i.join(iv))}),n.join(`
`)}).join(`

`+ZN+`

`)}function M$e(e){var t=j$e(e);return{value:Rr([R$e(t.seriesGroupByCategoryAxis),I$e(t.other)],function(r){return!!r.replace(/[\n\t\s]/g,"")}).join(`

`+ZN+`

`),meta:t.meta}}function DE(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function P$e(e){var t=e.slice(0,e.indexOf(`
`));if(t.indexOf(iv)>=0)return!0}var KL=new RegExp("["+iv+"]+","g");function L$e(e){for(var t=e.split(/\n+/g),r=DE(t.shift()).split(KL),n=[],i=xe(r,function(l){return{name:l,data:[]}}),s=0;s<t.length;s++){var a=DE(t[s]).split(KL);n.push(a.shift());for(var o=0;o<a.length;o++)i[o]&&(i[o].data[s]=a[o])}return{series:i,categories:n}}function D$e(e){for(var t=e.split(/\n+/g),r=DE(t.shift()),n=[],i=0;i<t.length;i++){var s=DE(t[i]);if(s){var a=s.split(KL),o="",l=void 0,c=!1;isNaN(a[0])?(c=!0,o=a[0],a=a.slice(1),n[i]={name:o,value:[]},l=n[i].value):l=n[i]=[];for(var d=0;d<a.length;d++)l.push(+a[d]);l.length===1&&(c?n[i].value=l[0]:n[i]=l[0])}}return{name:r,data:n}}function O$e(e,t){var r=e.split(new RegExp(`
*`+ZN+`
*`,"g")),n={series:[]};return V(r,function(i,s){if(P$e(i)){var a=L$e(i),o=t[s],l=o.axisDim+"Axis";o&&(n[l]=n[l]||[],n[l][o.axisIndex]={data:a.categories},n.series=n.series.concat(a.series))}else{var a=D$e(i);n.series.push(a)}}),n}var $$e=function(e){le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(r,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var i=n.getDom(),s=this.model;this._dom&&i.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",a.style.backgroundColor=s.get("backgroundColor")||"#fff";var o=document.createElement("h4"),l=s.get("lang")||[];o.innerHTML=l[0]||s.get("title"),o.style.cssText="margin:10px 20px",o.style.color=s.get("textColor");var c=document.createElement("div"),d=document.createElement("textarea");c.style.cssText="overflow:auto";var h=s.get("optionToContent"),f=s.get("contentToOption"),p=M$e(r);if(et(h)){var g=h(n.getOption());De(g)?c.innerHTML=g:Ym(g)&&c.appendChild(g)}else{d.readOnly=s.get("readOnly");var v=d.style;v.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",v.color=s.get("textColor"),v.borderColor=s.get("textareaBorderColor"),v.backgroundColor=s.get("textareaColor"),d.value=p.value,c.appendChild(d)}var m=p.meta,y=document.createElement("div");y.style.cssText="position:absolute;bottom:5px;left:0;right:0";var x="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",_=document.createElement("div"),b=document.createElement("div");x+=";background-color:"+s.get("buttonColor"),x+=";color:"+s.get("buttonTextColor");var w=this;function S(){i.removeChild(a),w._dom=null}TP(_,"click",S),TP(b,"click",function(){if(f==null&&h!=null||f!=null&&h==null){S();return}var k;try{et(f)?k=f(c,n.getOption()):k=O$e(d.value,m)}catch(C){throw S(),new Error("Data view format error "+C)}k&&n.dispatchAction({type:"changeDataView",newOption:k}),S()}),_.innerHTML=l[1],b.innerHTML=l[2],b.style.cssText=_.style.cssText=x,!s.get("readOnly")&&y.appendChild(b),y.appendChild(_),a.appendChild(o),a.appendChild(c),a.appendChild(y),c.style.height=i.clientHeight-80+"px",i.appendChild(a),this._dom=a},t.prototype.remove=function(r,n){this._dom&&n.getDom().removeChild(this._dom)},t.prototype.dispose=function(r,n){this.remove(r,n)},t.getDefaultOption=function(r){var n={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:r.getLocaleModel().get(["toolbox","dataView","title"]),lang:r.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return n},t}(ao);function B$e(e,t){return xe(e,function(r,n){var i=t&&t[n];if(st(i)&&!ve(i)){var s=st(r)&&!ve(r);s||(r={value:r});var a=i.name!=null&&r.name==null;return r=rt(r,i),a&&delete r.name,r}else return r})}pc({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,t){var r=[];V(e.newOption.series,function(n){var i=t.getSeriesByName(n.name)[0];if(!i)r.push(fe({type:"scatter"},n));else{var s=i.get("data");r.push({name:n.name,data:B$e(n.data,s)})}}),t.mergeOption(rt({series:r},e.newOption))});var _ae=V,bae=cr();function F$e(e,t){var r=q4(e);_ae(t,function(n,i){for(var s=r.length-1;s>=0;s--){var a=r[s];if(a[i])break}if(s<0){var o=e.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(o){var l=o.getPercentRange();r[0][i]={dataZoomId:i,start:l[0],end:l[1]}}}}),r.push(t)}function z$e(e){var t=q4(e),r=t[t.length-1];t.length>1&&t.pop();var n={};return _ae(r,function(i,s){for(var a=t.length-1;a>=0;a--)if(i=t[a][s],i){n[s]=i;break}}),n}function U$e(e){bae(e).snapshots=null}function H$e(e){return q4(e).length}function q4(e){var t=bae(e);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var V$e=function(e){le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(r,n){U$e(r),n.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(r){var n={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:r.getLocaleModel().get(["toolbox","restore","title"])};return n},t}(ao);pc({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,t){t.resetOption("recreate")});var W$e=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Y4=function(){function e(t,r,n){var i=this;this._targetInfoList=[];var s=Q9(r,t);V(G$e,function(a,o){(!n||!n.include||Pt(n.include,o)>=0)&&a(s,i._targetInfoList)})}return e.prototype.setOutputRanges=function(t,r){return this.matchOutputRanges(t,r,function(n,i,s){if((n.coordRanges||(n.coordRanges=[])).push(i),!n.coordRange){n.coordRange=i;var a=DR[n.brushType](0,s,i);n.__rangeOffset={offset:n7[n.brushType](a.values,n.range,[1,1]),xyMinMax:a.xyMinMax}}}),t},e.prototype.matchOutputRanges=function(t,r,n){V(t,function(i){var s=this.findTargetInfo(i,r);s&&s!==!0&&V(s.coordSyses,function(a){var o=DR[i.brushType](1,a,i.range,!0);n(i,o.values,a,r)})},this)},e.prototype.setInputRanges=function(t,r){V(t,function(n){var i=this.findTargetInfo(n,r);if(n.range=n.range||[],i&&i!==!0){n.panelId=i.panelId;var s=DR[n.brushType](0,i.coordSys,n.coordRange),a=n.__rangeOffset;n.range=a?n7[n.brushType](s.values,a.offset,q$e(s.xyMinMax,a.xyMinMax)):s.values}},this)},e.prototype.makePanelOpts=function(t,r){return xe(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:r?r(n):null,clipPath:Ase(i),isTargetByCursor:Rse(i,t,n.coordSysModel),getLinearBrushOtherExtent:jse(i)}})},e.prototype.controlSeries=function(t,r,n){var i=this.findTargetInfo(t,n);return i===!0||i&&Pt(i.coordSyses,r.coordinateSystem)>=0},e.prototype.findTargetInfo=function(t,r){for(var n=this._targetInfoList,i=Q9(r,t),s=0;s<n.length;s++){var a=n[s],o=t.panelId;if(o){if(a.panelId===o)return a}else for(var l=0;l<e7.length;l++)if(e7[l](i,a))return a}return!0},e}();function ZL(e){return e[0]>e[1]&&e.reverse(),e}function Q9(e,t){return Rx(e,t,{includeMainTypes:W$e})}var G$e={grid:function(e,t){var r=e.xAxisModels,n=e.yAxisModels,i=e.gridModels,s=qe(),a={},o={};!r&&!n&&!i||(V(r,function(l){var c=l.axis.grid.model;s.set(c.id,c),a[c.id]=!0}),V(n,function(l){var c=l.axis.grid.model;s.set(c.id,c),o[c.id]=!0}),V(i,function(l){s.set(l.id,l),a[l.id]=!0,o[l.id]=!0}),s.each(function(l){var c=l.coordinateSystem,d=[];V(c.getCartesians(),function(h,f){(Pt(r,h.getAxis("x").model)>=0||Pt(n,h.getAxis("y").model)>=0)&&d.push(h)}),t.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:d[0],coordSyses:d,getPanelRect:t7.grid,xAxisDeclared:a[l.id],yAxisDeclared:o[l.id]})}))},geo:function(e,t){V(e.geoModels,function(r){var n=r.coordinateSystem;t.push({panelId:"geo--"+r.id,geoModel:r,coordSysModel:r,coordSys:n,coordSyses:[n],getPanelRect:t7.geo})})}},e7=[function(e,t){var r=e.xAxisModel,n=e.yAxisModel,i=e.gridModel;return!i&&r&&(i=r.axis.grid.model),!i&&n&&(i=n.axis.grid.model),i&&i===t.gridModel},function(e,t){var r=e.geoModel;return r&&r===t.geoModel}],t7={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(zf(e)),t}},DR={lineX:xt(r7,0),lineY:xt(r7,1),rect:function(e,t,r,n){var i=e?t.pointToData([r[0][0],r[1][0]],n):t.dataToPoint([r[0][0],r[1][0]],n),s=e?t.pointToData([r[0][1],r[1][1]],n):t.dataToPoint([r[0][1],r[1][1]],n),a=[ZL([i[0],s[0]]),ZL([i[1],s[1]])];return{values:a,xyMinMax:a}},polygon:function(e,t,r,n){var i=[[1/0,-1/0],[1/0,-1/0]],s=xe(r,function(a){var o=e?t.pointToData(a,n):t.dataToPoint(a,n);return i[0][0]=Math.min(i[0][0],o[0]),i[1][0]=Math.min(i[1][0],o[1]),i[0][1]=Math.max(i[0][1],o[0]),i[1][1]=Math.max(i[1][1],o[1]),o});return{values:s,xyMinMax:i}}};function r7(e,t,r,n){var i=r.getAxis(["x","y"][e]),s=ZL(xe([0,1],function(o){return t?i.coordToData(i.toLocalCoord(n[o]),!0):i.toGlobalCoord(i.dataToCoord(n[o]))})),a=[];return a[e]=s,a[1-e]=[NaN,NaN],{values:s,xyMinMax:a}}var n7={lineX:xt(i7,0),lineY:xt(i7,1),rect:function(e,t,r){return[[e[0][0]-r[0]*t[0][0],e[0][1]-r[0]*t[0][1]],[e[1][0]-r[1]*t[1][0],e[1][1]-r[1]*t[1][1]]]},polygon:function(e,t,r){return xe(e,function(n,i){return[n[0]-r[0]*t[i][0],n[1]-r[1]*t[i][1]]})}};function i7(e,t,r,n){return[t[0]-n[e]*r[0],t[1]-n[e]*r[1]]}function q$e(e,t){var r=s7(e),n=s7(t),i=[r[0]/n[0],r[1]/n[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function s7(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var XL=V,Y$e=rEe("toolbox-dataZoom_"),K$e=function(e){le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(r,n,i,s){this._brushController||(this._brushController=new b4(i.getZr()),this._brushController.on("brush",He(this._onBrush,this)).mount()),J$e(r,n,this,s,i),X$e(r,n)},t.prototype.onclick=function(r,n,i){Z$e[i].call(this)},t.prototype.remove=function(r,n){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(r,n){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(r){var n=r.areas;if(!r.isEnd||!n.length)return;var i={},s=this.ecModel;this._brushController.updateCovers([]);var a=new Y4(K4(this.model),s,{include:["grid"]});a.matchOutputRanges(n,s,function(c,d,h){if(h.type==="cartesian2d"){var f=c.brushType;f==="rect"?(o("x",h,d[0]),o("y",h,d[1])):o({lineX:"x",lineY:"y"}[f],h,d)}}),F$e(s,i),this._dispatchZoomAction(i);function o(c,d,h){var f=d.getAxis(c),p=f.model,g=l(c,p,s),v=g.findRepresentativeAxisProxy(p).getMinMaxSpan();(v.minValueSpan!=null||v.maxValueSpan!=null)&&(h=Pp(0,h.slice(),f.scale.getExtent(),0,v.minValueSpan,v.maxValueSpan)),g&&(i[g.id]={dataZoomId:g.id,startValue:h[0],endValue:h[1]})}function l(c,d,h){var f;return h.eachComponent({mainType:"dataZoom",subType:"select"},function(p){var g=p.getAxisModel(c,d.componentIndex);g&&(f=p)}),f}},t.prototype._dispatchZoomAction=function(r){var n=[];XL(r,function(i,s){n.push(lt(i))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},t.getDefaultOption=function(r){var n={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:r.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return n},t}(ao),Z$e={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(z$e(this.ecModel))}};function K4(e){var t={xAxisIndex:e.get("xAxisIndex",!0),yAxisIndex:e.get("yAxisIndex",!0),xAxisId:e.get("xAxisId",!0),yAxisId:e.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function X$e(e,t){e.setIconStatus("back",H$e(t)>1?"emphasis":"normal")}function J$e(e,t,r,n,i){var s=r._isZoomActive;n&&n.type==="takeGlobalCursor"&&(s=n.key==="dataZoomSelect"?n.dataZoomSelectActive:!1),r._isZoomActive=s,e.setIconStatus("zoom",s?"emphasis":"normal");var a=new Y4(K4(e),t,{include:["grid"]}),o=a.makePanelOpts(i,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});r._brushController.setPanels(o).enableBrush(s&&o.length?{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()}:!1)}TNe("dataZoom",function(e){var t=e.getComponent("toolbox",0),r=["feature","dataZoom"];if(!t||t.get(r)==null)return;var n=t.getModel(r),i=[],s=K4(n),a=Rx(e,s);XL(a.xAxisModels,function(l){return o(l,"xAxis","xAxisIndex")}),XL(a.yAxisModels,function(l){return o(l,"yAxis","yAxisIndex")});function o(l,c,d){var h=l.componentIndex,f={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:Y$e+c+h};f[d]=h,i.push(f)}return i});function Q$e(e){e.registerComponentModel(S$e),e.registerComponentView(k$e),Og("saveAsImage",T$e),Og("magicType",A$e),Og("dataView",$$e),Og("dataZoom",K$e),Og("restore",V$e),Ft(w$e)}var eBe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(Kt);function wae(e){var t=e.get("confine");return t!=null?!!t:e.get("renderMode")==="richText"}function Sae(e){if(Gt.domSupported){for(var t=document.documentElement.style,r=0,n=e.length;r<n;r++)if(e[r]in t)return e[r]}}var Cae=Sae(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),tBe=Sae(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function kae(e,t){if(!e)return t;t=nre(t,!0);var r=e.indexOf(t);return e=r===-1?t:"-"+e.slice(0,r)+"-"+t,e.toLowerCase()}function rBe(e,t){var r=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return r?r[t]:null}var nBe=kae(tBe,"transition"),Z4=kae(Cae,"transform"),iBe="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Gt.transform3dSupported?"will-change:transform;":"");function sBe(e){return e=e==="left"?"right":e==="right"?"left":e==="top"?"bottom":"top",e}function aBe(e,t,r){if(!De(r)||r==="inside")return"";var n=e.get("backgroundColor"),i=e.get("borderWidth");t=op(t);var s=sBe(r),a=Math.max(Math.round(i)*1.5,6),o="",l=Z4+":",c;Pt(["left","right"],s)>-1?(o+="top:50%",l+="translateY(-50%) rotate("+(c=s==="left"?-225:-45)+"deg)"):(o+="left:50%",l+="translateX(-50%) rotate("+(c=s==="top"?225:45)+"deg)");var d=c*Math.PI/180,h=a+i,f=h*Math.abs(Math.cos(d))+h*Math.abs(Math.sin(d)),p=Math.round(((f-Math.SQRT2*i)/2+Math.SQRT2*i-(f-h)/2)*100)/100;o+=";"+s+":-"+p+"px";var g=t+" solid "+i+"px;",v=["position:absolute;width:"+a+"px;height:"+a+"px;z-index:-1;",o+";"+l+";","border-bottom:"+g,"border-right:"+g,"background-color:"+n+";"];return'<div style="'+v.join("")+'"></div>'}function oBe(e,t){var r="cubic-bezier(0.23,1,0.32,1)",n=" "+e/2+"s "+r,i="opacity"+n+",visibility"+n;return t||(n=" "+e+"s "+r,i+=Gt.transformSupported?","+Z4+n:",left"+n+",top"+n),nBe+":"+i}function a7(e,t,r){var n=e.toFixed(0)+"px",i=t.toFixed(0)+"px";if(!Gt.transformSupported)return r?"top:"+i+";left:"+n+";":[["top",i],["left",n]];var s=Gt.transform3dSupported,a="translate"+(s?"3d":"")+"("+n+","+i+(s?",0":"")+")";return r?"top:0;left:0;"+Z4+":"+a+";":[["top",0],["left",0],[Cae,a]]}function lBe(e){var t=[],r=e.get("fontSize"),n=e.getTextColor();n&&t.push("color:"+n),t.push("font:"+e.getFont());var i=mt(e.get("lineHeight"),Math.round(r*3/2));r&&t.push("line-height:"+i+"px");var s=e.get("textShadowColor"),a=e.get("textShadowBlur")||0,o=e.get("textShadowOffsetX")||0,l=e.get("textShadowOffsetY")||0;return s&&a&&t.push("text-shadow:"+o+"px "+l+"px "+a+"px "+s),V(["decoration","align"],function(c){var d=e.get(c);d&&t.push("text-"+c+":"+d)}),t.join(";")}function cBe(e,t,r){var n=[],i=e.get("transitionDuration"),s=e.get("backgroundColor"),a=e.get("shadowBlur"),o=e.get("shadowColor"),l=e.get("shadowOffsetX"),c=e.get("shadowOffsetY"),d=e.getModel("textStyle"),h=Ore(e,"html"),f=l+"px "+c+"px "+a+"px "+o;return n.push("box-shadow:"+f),t&&i&&n.push(oBe(i,r)),s&&n.push("background-color:"+s),V(["width","color","radius"],function(p){var g="border-"+p,v=nre(g),m=e.get(v);m!=null&&n.push(g+":"+m+(p==="color"?"":"px"))}),n.push(lBe(d)),h!=null&&n.push("padding:"+Fv(h).join("px ")+"px"),n.join(";")+";"}function o7(e,t,r,n,i){var s=t&&t.painter;if(r){var a=s&&s.getViewportRoot();a&&RCe(e,a,r,n,i)}else{e[0]=n,e[1]=i;var o=s&&s.getViewportRootOffset();o&&(e[0]+=o.offsetLeft,e[1]+=o.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var uBe=function(){function e(t,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Gt.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var i=this._zr=t.getZr(),s=r.appendTo,a=s&&(De(s)?document.querySelector(s):Ym(s)?s:et(s)&&s(t.getDom()));o7(this._styleCoord,i,a,t.getWidth()/2,t.getHeight()/2),(a||t.getDom()).appendChild(n),this._api=t,this._container=a;var o=this;n.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},n.onmousemove=function(l){if(l=l||window.event,!o._enterable){var c=i.handler,d=i.painter.getViewportRoot();Xa(d,l,!0),c.dispatch("mousemove",l)}},n.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}return e.prototype.update=function(t){if(!this._container){var r=this._api.getDom(),n=rBe(r,"position"),i=r.style;i.position!=="absolute"&&n!=="absolute"&&(i.position="relative")}var s=t.get("alwaysShowContent");s&&this._moveIfResized(),this._alwaysShowContent=s,this.el.className=t.get("className")||""},e.prototype.show=function(t,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,s=this._styleCoord;n.innerHTML?i.cssText=iBe+cBe(t,!this._firstShow,this._longHide)+a7(s[0],s[1],!0)+("border-color:"+op(r)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(t,r,n,i,s){var a=this.el;if(t==null){a.innerHTML="";return}var o="";if(De(s)&&n.get("trigger")==="item"&&!wae(n)&&(o=aBe(n,i,s)),De(t))a.innerHTML=t+o;else if(t){a.innerHTML="",ve(t)||(t=[t]);for(var l=0;l<t.length;l++)Ym(t[l])&&t[l].parentNode!==a&&a.appendChild(t[l]);if(o&&a.childNodes.length){var c=document.createElement("div");c.innerHTML=o,a.appendChild(c)}}},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},e.prototype.moveTo=function(t,r){if(this.el){var n=this._styleCoord;if(o7(n,this._zr,this._container,t,r),n[0]!=null&&n[1]!=null){var i=this.el.style,s=a7(n[0],n[1]);V(s,function(a){i[a[0]]=a[1]})}}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),r*this._zr.getHeight())},e.prototype.hide=function(){var t=this,r=this.el.style;r.visibility="hidden",r.opacity="0",Gt.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(He(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},e}(),dBe=function(){function e(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),c7(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return e.prototype.update=function(t){var r=t.get("alwaysShowContent");r&&this._moveIfResized(),this._alwaysShowContent=r},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(t,r,n,i,s){var a=this;st(t)&&jr(""),this.el&&this._zr.remove(this.el);var o=n.getModel("textStyle");this.el=new pr({style:{rich:r.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:o.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:Ore(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),V(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(c){a.el.style[c]=n.get(c)}),V(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(c){a.el.style[c]=o.get(c)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el,r=this.el.getBoundingRect(),n=l7(t.style);return[r.width+n.left+n.right,r.height+n.top+n.bottom]},e.prototype.moveTo=function(t,r){var n=this.el;if(n){var i=this._styleCoord;c7(i,this._zr,t,r),t=i[0],r=i[1];var s=n.style,a=Gu(s.borderWidth||0),o=l7(s);n.x=t+a+o.left,n.y=r+a+o.top,n.markRedraw()}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),r*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(He(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function Gu(e){return Math.max(0,e)}function l7(e){var t=Gu(e.shadowBlur||0),r=Gu(e.shadowOffsetX||0),n=Gu(e.shadowOffsetY||0);return{left:Gu(t-r),right:Gu(t+r),top:Gu(t-n),bottom:Gu(t+n)}}function c7(e,t,r,n){e[0]=r,e[1]=n,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var hBe=new lr({shape:{x:-1,y:-1,width:2,height:2}}),fBe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){if(!(Gt.node||!n.getDom())){var i=r.getComponent("tooltip"),s=this._renderMode=cEe(i.get("renderMode"));this._tooltipContent=s==="richText"?new dBe(n):new uBe(n,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},t.prototype.render=function(r,n,i){if(!(Gt.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=n,this._api=i;var s=this._tooltipContent;s.update(r),s.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?Vv(this,"_updatePosition",50,"fixRate"):F_(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var r=this._tooltipModel,n=r.get("triggerOn");cae("itemTooltip",this._api,He(function(i,s,a){n!=="none"&&(n.indexOf(i)>=0?this._tryShow(s,a):i==="leave"&&this._hide(a))},this))},t.prototype._keepShow=function(){var r=this._tooltipModel,n=this._ecModel,i=this._api,s=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&s!=="none"&&s!=="click"){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&a.manuallyShowTip(r,n,i,{x:a._lastX,y:a._lastY,dataByCoordSys:a._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(r,n,i,s){if(!(s.from===this.uid||Gt.node||!i.getDom())){var a=u7(s,i);this._ticket="";var o=s.dataByCoordSys,l=vBe(s,n,i);if(l){var c=l.el.getBoundingRect().clone();c.applyTransform(l.el.transform),this._tryShow({offsetX:c.x+c.width/2,offsetY:c.y+c.height/2,target:l.el,position:s.position,positionDefault:"bottom"},a)}else if(s.tooltip&&s.x!=null&&s.y!=null){var d=hBe;d.x=s.x,d.y=s.y,d.update(),ft(d).tooltipConfig={name:null,option:s.tooltip},this._tryShow({offsetX:s.x,offsetY:s.y,target:d},a)}else if(o)this._tryShow({offsetX:s.x,offsetY:s.y,position:s.position,dataByCoordSys:o,tooltipOption:s.tooltipOption},a);else if(s.seriesIndex!=null){if(this._manuallyAxisShowTip(r,n,i,s))return;var h=uae(s,n),f=h.point[0],p=h.point[1];f!=null&&p!=null&&this._tryShow({offsetX:f,offsetY:p,target:h.el,position:s.position,positionDefault:"bottom"},a)}else s.x!=null&&s.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:s.x,y:s.y}),this._tryShow({offsetX:s.x,offsetY:s.y,position:s.position,target:i.getZr().findHover(s.x,s.y).target},a))}},t.prototype.manuallyHideTip=function(r,n,i,s){var a=this._tooltipContent;this._tooltipModel&&a.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,s.from!==this.uid&&this._hide(u7(s,i))},t.prototype._manuallyAxisShowTip=function(r,n,i,s){var a=s.seriesIndex,o=s.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(!(a==null||o==null||l==null)){var c=n.getSeriesByIndex(a);if(c){var d=c.getData(),h=Cy([d.getItemModel(o),c,(c.coordinateSystem||{}).model],this._tooltipModel);if(h.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:o,position:s.position}),!0}}},t.prototype._tryShow=function(r,n){var i=r.target,s=this._tooltipModel;if(s){this._lastX=r.offsetX,this._lastY=r.offsetY;var a=r.dataByCoordSys;if(a&&a.length)this._showAxisTooltip(a,r);else if(i){var o=ft(i);if(o.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,c;Cf(i,function(d){if(ft(d).dataIndex!=null)return l=d,!0;if(ft(d).tooltipConfig!=null)return c=d,!0},!0),l?this._showSeriesItemTooltip(r,l,n):c?this._showComponentItemTooltip(r,c,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},t.prototype._showOrMove=function(r,n){var i=r.get("showDelay");n=He(n,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(n,i):n()},t.prototype._showAxisTooltip=function(r,n){var i=this._ecModel,s=this._tooltipModel,a=[n.offsetX,n.offsetY],o=Cy([n.tooltipOption],s),l=this._renderMode,c=[],d=Ei("section",{blocks:[],noHeader:!0}),h=[],f=new bj;V(r,function(x){V(x.dataByAxis,function(_){var b=i.getComponent(_.axisDim+"Axis",_.axisIndex),w=_.value;if(!(!b||w==null)){var S=aae(w,b.axis,i,_.seriesDataIndices,_.valueLabelOpt),k=Ei("section",{header:S,noHeader:!Vo(S),sortBlocks:!0,blocks:[]});d.blocks.push(k),V(_.seriesDataIndices,function(C){var E=i.getSeriesByIndex(C.seriesIndex),T=C.dataIndexInside,N=E.getDataParams(T);if(!(N.dataIndex<0)){N.axisDim=_.axisDim,N.axisIndex=_.axisIndex,N.axisType=_.axisType,N.axisId=_.axisId,N.axisValue=K5(b.axis,{value:w}),N.axisValueLabel=S,N.marker=f.makeTooltipMarker("item",op(N.color),l);var R=KU(E.formatTooltip(T,!0,null)),P=R.frag;if(P){var D=Cy([E],s).get("valueFormatter");k.blocks.push(D?fe({valueFormatter:D},P):P)}R.text&&h.push(R.text),c.push(N)}})}})}),d.blocks.reverse(),h.reverse();var p=n.position,g=o.get("order"),v=tH(d,f,l,g,i.get("useUTC"),o.get("textStyle"));v&&h.unshift(v);var m=l==="richText"?`

`:"<br/>",y=h.join(m);this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(r,c)?this._updatePosition(o,p,a[0],a[1],this._tooltipContent,c):this._showTooltipContent(o,y,c,Math.random()+"",a[0],a[1],p,null,f)})},t.prototype._showSeriesItemTooltip=function(r,n,i){var s=this._ecModel,a=ft(n),o=a.seriesIndex,l=s.getSeriesByIndex(o),c=a.dataModel||l,d=a.dataIndex,h=a.dataType,f=c.getData(h),p=this._renderMode,g=r.positionDefault,v=Cy([f.getItemModel(d),c,l&&(l.coordinateSystem||{}).model],this._tooltipModel,g?{position:g}:null),m=v.get("trigger");if(!(m!=null&&m!=="item")){var y=c.getDataParams(d,h),x=new bj;y.marker=x.makeTooltipMarker("item",op(y.color),p);var _=KU(c.formatTooltip(d,!1,h)),b=v.get("order"),w=v.get("valueFormatter"),S=_.frag,k=S?tH(w?fe({valueFormatter:w},S):S,x,p,b,s.get("useUTC"),v.get("textStyle")):_.text,C="item_"+c.name+"_"+d;this._showOrMove(v,function(){this._showTooltipContent(v,k,y,C,r.offsetX,r.offsetY,r.position,r.target,x)}),i({type:"showTip",dataIndexInside:d,dataIndex:f.getRawIndex(d),seriesIndex:o,from:this.uid})}},t.prototype._showComponentItemTooltip=function(r,n,i){var s=this._renderMode==="html",a=ft(n),o=a.tooltipConfig,l=o.option||{},c=l.encodeHTMLContent;if(De(l)){var d=l;l={content:d,formatter:d},c=!0}c&&s&&l.content&&(l=lt(l),l.content=Ts(l.content));var h=[l],f=this._ecModel.getComponent(a.componentMainType,a.componentIndex);f&&h.push(f),h.push({formatter:l.content});var p=r.positionDefault,g=Cy(h,this._tooltipModel,p?{position:p}:null),v=g.get("content"),m=Math.random()+"",y=new bj;this._showOrMove(g,function(){var x=lt(g.get("formatterParams")||{});this._showTooltipContent(g,v,x,m,r.offsetX,r.offsetY,r.position,n,y)}),i({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(r,n,i,s,a,o,l,c,d){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var h=this._tooltipContent;h.setEnterable(r.get("enterable"));var f=r.get("formatter");l=l||r.get("position");var p=n,g=this._getNearestPoint([a,o],i,r.get("trigger"),r.get("borderColor")),v=g.color;if(f)if(De(f)){var m=r.ecModel.get("useUTC"),y=ve(i)?i[0]:i,x=y&&y.axisType&&y.axisType.indexOf("time")>=0;p=f,x&&(p=NN(y.axisValue,p,m)),p=ire(p,i,!0)}else if(et(f)){var _=He(function(b,w){b===this._ticket&&(h.setContent(w,d,r,v,l),this._updatePosition(r,l,a,o,h,i,c))},this);this._ticket=s,p=f(i,s,_)}else p=f;h.setContent(p,d,r,v,l),h.show(r,v),this._updatePosition(r,l,a,o,h,i,c)}},t.prototype._getNearestPoint=function(r,n,i,s){if(i==="axis"||ve(n))return{color:s||(this._renderMode==="html"?"#fff":"none")};if(!ve(n))return{color:s||n.color||n.borderColor}},t.prototype._updatePosition=function(r,n,i,s,a,o,l){var c=this._api.getWidth(),d=this._api.getHeight();n=n||r.get("position");var h=a.getSize(),f=r.get("align"),p=r.get("verticalAlign"),g=l&&l.getBoundingRect().clone();if(l&&g.applyTransform(l.transform),et(n)&&(n=n([i,s],o,a.el,g,{viewSize:[c,d],contentSize:h.slice()})),ve(n))i=Ne(n[0],c),s=Ne(n[1],d);else if(st(n)){var v=n;v.width=h[0],v.height=h[1];var m=pi(v,{width:c,height:d});i=m.x,s=m.y,f=null,p=null}else if(De(n)&&l){var y=mBe(n,g,h,r.get("borderWidth"));i=y[0],s=y[1]}else{var y=pBe(i,s,a,c,d,f?null:20,p?null:20);i=y[0],s=y[1]}if(f&&(i-=d7(f)?h[0]/2:f==="right"?h[0]:0),p&&(s-=d7(p)?h[1]/2:p==="bottom"?h[1]:0),wae(r)){var y=gBe(i,s,a,c,d);i=y[0],s=y[1]}a.moveTo(i,s)},t.prototype._updateContentNotChangedOnAxis=function(r,n){var i=this._lastDataByCoordSys,s=this._cbParamsList,a=!!i&&i.length===r.length;return a&&V(i,function(o,l){var c=o.dataByAxis||[],d=r[l]||{},h=d.dataByAxis||[];a=a&&c.length===h.length,a&&V(c,function(f,p){var g=h[p]||{},v=f.seriesDataIndices||[],m=g.seriesDataIndices||[];a=a&&f.value===g.value&&f.axisType===g.axisType&&f.axisId===g.axisId&&v.length===m.length,a&&V(v,function(y,x){var _=m[x];a=a&&y.seriesIndex===_.seriesIndex&&y.dataIndex===_.dataIndex}),s&&V(f.seriesDataIndices,function(y){var x=y.seriesIndex,_=n[x],b=s[x];_&&b&&b.data!==_.data&&(a=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=n,!!a},t.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},t.prototype.dispose=function(r,n){Gt.node||!n.getDom()||(F_(this,"_updatePosition"),this._tooltipContent.dispose(),GL("itemTooltip",n))},t.type="tooltip",t}(Rn);function Cy(e,t,r){var n=t.ecModel,i;r?(i=new Lr(r,n,n),i=new Lr(t.option,i,n)):i=t;for(var s=e.length-1;s>=0;s--){var a=e[s];a&&(a instanceof Lr&&(a=a.get("tooltip",!0)),De(a)&&(a={formatter:a}),a&&(i=new Lr(a,i,n)))}return i}function u7(e,t){return e.dispatchAction||He(t.dispatchAction,t)}function pBe(e,t,r,n,i,s,a){var o=r.getSize(),l=o[0],c=o[1];return s!=null&&(e+l+s+2>n?e-=l+s:e+=s),a!=null&&(t+c+a>i?t-=c+a:t+=a),[e,t]}function gBe(e,t,r,n,i){var s=r.getSize(),a=s[0],o=s[1];return e=Math.min(e+a,n)-a,t=Math.min(t+o,i)-o,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function mBe(e,t,r,n){var i=r[0],s=r[1],a=Math.ceil(Math.SQRT2*n)+8,o=0,l=0,c=t.width,d=t.height;switch(e){case"inside":o=t.x+c/2-i/2,l=t.y+d/2-s/2;break;case"top":o=t.x+c/2-i/2,l=t.y-s-a;break;case"bottom":o=t.x+c/2-i/2,l=t.y+d+a;break;case"left":o=t.x-i-a,l=t.y+d/2-s/2;break;case"right":o=t.x+c+a,l=t.y+d/2-s/2}return[o,l]}function d7(e){return e==="center"||e==="middle"}function vBe(e,t,r){var n=u5(e).queryOptionMap,i=n.keys()[0];if(!(!i||i==="series")){var s=qb(t,i,n.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),a=s.models[0];if(a){var o=r.getViewOfComponentModel(a),l;if(o.group.traverse(function(c){var d=ft(c).tooltipConfig;if(d&&d.name===e.name)return l=c,!0}),l)return{componentMainType:i,componentIndex:a.componentIndex,el:l}}}}function yBe(e){Ft(hw),e.registerComponentModel(eBe),e.registerComponentView(fBe),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Xn),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Xn)}var xBe=["rect","polygon","keep","clear"];function _Be(e,t){var r=Xr(e?e.brush:[]);if(r.length){var n=[];V(r,function(l){var c=l.hasOwnProperty("toolbox")?l.toolbox:[];c instanceof Array&&(n=n.concat(c))});var i=e&&e.toolbox;ve(i)&&(i=i[0]),i||(i={feature:{}},e.toolbox=[i]);var s=i.feature||(i.feature={}),a=s.brush||(s.brush={}),o=a.type||(a.type=[]);o.push.apply(o,n),bBe(o),t&&!o.length&&o.push.apply(o,xBe)}}function bBe(e){var t={};V(e,function(r){t[r]=1}),e.length=0,V(t,function(r,n){e.push(n)})}var h7=V;function f7(e){if(e){for(var t in e)if(e.hasOwnProperty(t))return!0}}function JL(e,t,r){var n={};return h7(t,function(s){var a=n[s]=i();h7(e[s],function(o,l){if(Ci.isValidType(l)){var c={type:l,visual:o};r&&r(c,s),a[l]=new Ci(c),l==="opacity"&&(c=lt(c),c.type="colorAlpha",a.__hidden.__alphaForOpacity=new Ci(c))}})}),n;function i(){var s=function(){};s.prototype.__hidden=s.prototype;var a=new s;return a}}function Eae(e,t,r){var n;V(r,function(i){t.hasOwnProperty(i)&&f7(t[i])&&(n=!0)}),n&&V(r,function(i){t.hasOwnProperty(i)&&f7(t[i])?e[i]=lt(t[i]):delete e[i]})}function wBe(e,t,r,n,i,s){var a={};V(e,function(h){var f=Ci.prepareVisualTypes(t[h]);a[h]=f});var o;function l(h){return B5(r,o,h)}function c(h,f){qre(r,o,h,f)}r.each(d);function d(h,f){o=h;var p=r.getRawDataItem(o);if(!(p&&p.visualMap===!1))for(var g=n.call(i,h),v=t[g],m=a[g],y=0,x=m.length;y<x;y++){var _=m[y];v[_]&&v[_].applyVisual(h,l,c)}}}function SBe(e,t,r,n){var i={};return V(e,function(s){var a=Ci.prepareVisualTypes(t[s]);i[s]=a}),{progress:function(a,o){var l;n!=null&&(l=o.getDimensionIndex(n));function c(w){return B5(o,h,w)}function d(w,S){qre(o,h,w,S)}for(var h,f=o.getStore();(h=a.next())!=null;){var p=o.getRawDataItem(h);if(!(p&&p.visualMap===!1))for(var g=n!=null?f.get(l,h):h,v=r(g),m=t[v],y=i[v],x=0,_=y.length;x<_;x++){var b=y[x];m[b]&&m[b].applyVisual(g,c,d)}}}}}function CBe(e){var t=e.brushType,r={point:function(n){return p7[t].point(n,r,e)},rect:function(n){return p7[t].rect(n,r,e)}};return r}var p7={lineX:g7(0),lineY:g7(1),rect:{point:function(e,t,r){return e&&r.boundingRect.contain(e[0],e[1])},rect:function(e,t,r){return e&&r.boundingRect.intersect(e)}},polygon:{point:function(e,t,r){return e&&r.boundingRect.contain(e[0],e[1])&&lf(r.range,e[0],e[1])},rect:function(e,t,r){var n=r.range;if(!e||n.length<=1)return!1;var i=e.x,s=e.y,a=e.width,o=e.height,l=n[0];if(lf(n,i,s)||lf(n,i+a,s)||lf(n,i,s+o)||lf(n,i+a,s+o)||At.create(e).contain(l[0],l[1])||Qy(i,s,i+a,s,n)||Qy(i,s,i,s+o,n)||Qy(i+a,s,i+a,s+o,n)||Qy(i,s+o,i+a,s+o,n))return!0}}};function g7(e){var t=["x","y"],r=["width","height"];return{point:function(n,i,s){if(n){var a=s.range,o=n[e];return ky(o,a)}},rect:function(n,i,s){if(n){var a=s.range,o=[n[t[e]],n[t[e]]+n[r[e]]];return o[1]<o[0]&&o.reverse(),ky(o[0],a)||ky(o[1],a)||ky(a[0],o)||ky(a[1],o)}}}}function ky(e,t){return t[0]<=e&&e<=t[1]}var m7=["inBrush","outOfBrush"],OR="__ecBrushSelect",QL="__ecInBrushSelectEvent";function Tae(e){e.eachComponent({mainType:"brush"},function(t){var r=t.brushTargetManager=new Y4(t.option,e);r.setInputRanges(t.areas,e)})}function kBe(e,t,r){var n=[],i,s;e.eachComponent({mainType:"brush"},function(a){r&&r.type==="takeGlobalCursor"&&a.setBrushOption(r.key==="brush"?r.brushOption:{brushType:!1})}),Tae(e),e.eachComponent({mainType:"brush"},function(a,o){var l={brushId:a.id,brushIndex:o,brushName:a.name,areas:lt(a.areas),selected:[]};n.push(l);var c=a.option,d=c.brushLink,h=[],f=[],p=[],g=!1;o||(i=c.throttleType,s=c.throttleDelay);var v=xe(a.areas,function(w){var S=ABe[w.brushType],k=rt({boundingRect:S?S(w):void 0},w);return k.selectors=CBe(k),k}),m=JL(a.option,m7,function(w){w.mappingMethod="fixed"});ve(d)&&V(d,function(w){h[w]=1});function y(w){return d==="all"||!!h[w]}function x(w){return!!w.length}e.eachSeries(function(w,S){var k=p[S]=[];w.subType==="parallel"?_(w,S):b(w,S,k)});function _(w,S){var k=w.coordinateSystem;g=g||k.hasAxisBrushed(),y(S)&&k.eachActiveState(w.getData(),function(C,E){C==="active"&&(f[E]=1)})}function b(w,S,k){if(!(!w.brushSelector||NBe(a,S))&&(V(v,function(E){a.brushTargetManager.controlSeries(E,w,e)&&k.push(E),g=g||x(k)}),y(S)&&x(k))){var C=w.getData();C.each(function(E){v7(w,k,C,E)&&(f[E]=1)})}}e.eachSeries(function(w,S){var k={seriesId:w.id,seriesIndex:S,seriesName:w.name,dataIndex:[]};l.selected.push(k);var C=p[S],E=w.getData(),T=y(S)?function(N){return f[N]?(k.dataIndex.push(E.getRawIndex(N)),"inBrush"):"outOfBrush"}:function(N){return v7(w,C,E,N)?(k.dataIndex.push(E.getRawIndex(N)),"inBrush"):"outOfBrush"};(y(S)?g:x(C))&&wBe(m7,m,E,T)})}),EBe(t,i,s,n,r)}function EBe(e,t,r,n,i){if(i){var s=e.getZr();if(!s[QL]){s[OR]||(s[OR]=TBe);var a=Vv(s,OR,r,t);a(e,n)}}}function TBe(e,t){if(!e.isDisposed()){var r=e.getZr();r[QL]=!0,e.dispatchAction({type:"brushSelect",batch:t}),r[QL]=!1}}function v7(e,t,r,n){for(var i=0,s=t.length;i<s;i++){var a=t[i];if(e.brushSelector(n,r,a.selectors,a))return!0}}function NBe(e,t){var r=e.option.seriesIndex;return r!=null&&r!=="all"&&(ve(r)?Pt(r,t)<0:t!==r)}var ABe={rect:function(e){return y7(e.range)},polygon:function(e){for(var t,r=e.range,n=0,i=r.length;n<i;n++){t=t||[[1/0,-1/0],[1/0,-1/0]];var s=r[n];s[0]<t[0][0]&&(t[0][0]=s[0]),s[0]>t[0][1]&&(t[0][1]=s[0]),s[1]<t[1][0]&&(t[1][0]=s[1]),s[1]>t[1][1]&&(t[1][1]=s[1])}return t&&y7(t)}};function y7(e){return new At(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var jBe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){this.ecModel=r,this.api=n,this.model,(this._brushController=new b4(n.getZr())).on("brush",He(this._onBrush,this)).mount()},t.prototype.render=function(r,n,i,s){this.model=r,this._updateController(r,n,i,s)},t.prototype.updateTransform=function(r,n,i,s){Tae(n),this._updateController(r,n,i,s)},t.prototype.updateVisual=function(r,n,i,s){this.updateTransform(r,n,i,s)},t.prototype.updateView=function(r,n,i,s){this._updateController(r,n,i,s)},t.prototype._updateController=function(r,n,i,s){(!s||s.$from!==r.id)&&this._brushController.setPanels(r.brushTargetManager.makePanelOpts(i)).enableBrush(r.brushOption).updateCovers(r.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(r){var n=this.model.id,i=this.model.brushTargetManager.setOutputRanges(r.areas,this.ecModel);(!r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:lt(i),$from:n}),r.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:lt(i),$from:n})},t.type="brush",t}(Rn),RBe="#ddd",IBe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.areas=[],r.brushOption={},r}return t.prototype.optionUpdated=function(r,n){var i=this.option;!n&&Eae(i,r,["inBrush","outOfBrush"]);var s=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:RBe},s.hasOwnProperty("liftZ")||(s.liftZ=5)},t.prototype.setAreas=function(r){r&&(this.areas=xe(r,function(n){return x7(this.option,n)},this))},t.prototype.setBrushOption=function(r){this.brushOption=x7(this.option,r),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(Kt);function x7(e,t){return Ct({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new Lr(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}var MBe=["rect","polygon","lineX","lineY","keep","clear"],PBe=function(e){le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(r,n,i){var s,a,o;n.eachComponent({mainType:"brush"},function(l){s=l.brushType,a=l.brushOption.brushMode||"single",o=o||!!l.areas.length}),this._brushType=s,this._brushMode=a,V(r.get("type",!0),function(l){r.setIconStatus(l,(l==="keep"?a==="multiple":l==="clear"?o:l===s)?"emphasis":"normal")})},t.prototype.updateView=function(r,n,i){this.render(r,n,i)},t.prototype.getIcons=function(){var r=this.model,n=r.get("icon",!0),i={};return V(r.get("type",!0),function(s){n[s]&&(i[s]=n[s])}),i},t.prototype.onclick=function(r,n,i){var s=this._brushType,a=this._brushMode;i==="clear"?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:i==="keep"?s:s===i?!1:i,brushMode:i==="keep"?a==="multiple"?"single":"multiple":a}})},t.getDefaultOption=function(r){var n={show:!0,type:MBe.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:r.getLocaleModel().get(["toolbox","brush","title"])};return n},t}(ao);function LBe(e){e.registerComponentView(jBe),e.registerComponentModel(IBe),e.registerPreprocessor(_Be),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,kBe),e.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,r){r.eachComponent({mainType:"brush",query:t},function(n){n.setAreas(t.areas)})}),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Xn),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Xn),Og("brush",PBe)}var DBe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.layoutMode={type:"box",ignoreSize:!0},r}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(Kt),OBe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){if(this.group.removeAll(),!!r.get("show")){var s=this.group,a=r.getModel("textStyle"),o=r.getModel("subtextStyle"),l=r.get("textAlign"),c=mt(r.get("textBaseline"),r.get("textVerticalAlign")),d=new pr({style:dn(a,{text:r.get("text"),fill:a.getTextColor()},{disableBox:!0}),z2:10}),h=d.getBoundingRect(),f=r.get("subtext"),p=new pr({style:dn(o,{text:f,fill:o.getTextColor(),y:h.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),g=r.get("link"),v=r.get("sublink"),m=r.get("triggerEvent",!0);d.silent=!g&&!m,p.silent=!v&&!m,g&&d.on("click",function(){hE(g,"_"+r.get("target"))}),v&&p.on("click",function(){hE(v,"_"+r.get("subtarget"))}),ft(d).eventData=ft(p).eventData=m?{componentType:"title",componentIndex:r.componentIndex}:null,s.add(d),f&&s.add(p);var y=s.getBoundingRect(),x=r.getBoxLayoutParams();x.width=y.width,x.height=y.height;var _=pi(x,{width:i.getWidth(),height:i.getHeight()},r.get("padding"));l||(l=r.get("left")||r.get("right"),l==="middle"&&(l="center"),l==="right"?_.x+=_.width:l==="center"&&(_.x+=_.width/2)),c||(c=r.get("top")||r.get("bottom"),c==="center"&&(c="middle"),c==="bottom"?_.y+=_.height:c==="middle"&&(_.y+=_.height/2),c=c||"top"),s.x=_.x,s.y=_.y,s.markRedraw();var b={align:l,verticalAlign:c};d.setStyle(b),p.setStyle(b),y=s.getBoundingRect();var w=_.margin,S=r.getItemStyle(["color","opacity"]);S.fill=r.get("backgroundColor");var k=new lr({shape:{x:y.x-w[3],y:y.y-w[0],width:y.width+w[1]+w[3],height:y.height+w[0]+w[2],r:r.get("borderRadius")},style:S,subPixelOptimize:!0,silent:!0});s.add(k)}},t.type="title",t}(Rn);function $Be(e){e.registerComponentModel(DBe),e.registerComponentView(OBe)}var _7=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.layoutMode="box",r}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i),this._initData()},t.prototype.mergeOption=function(r){e.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(r){r==null&&(r=this.option.currentIndex);var n=this._data.count();this.option.loop?r=(r%n+n)%n:(r>=n&&(r=n-1),r<0&&(r=0)),this.option.currentIndex=r},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(r){this.option.autoPlay=!!r},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var r=this.option,n=r.data||[],i=r.axisType,s=this._names=[],a;i==="category"?(a=[],V(n,function(c,d){var h=hi(Lv(c),""),f;st(c)?(f=lt(c),f.value=d):f=d,a.push(f),s.push(h)})):a=n;var o={category:"ordinal",time:"time",value:"number"}[i]||"number",l=this._data=new Ls([{name:"value",type:o}],this);l.initData(a,s)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(Kt),Nae=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="timeline.slider",t.defaultOption=ph(_7.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(_7);oi(Nae,LN.prototype);var BBe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="timeline",t}(Rn),FBe=function(e){le(t,e);function t(r,n,i,s){var a=e.call(this,r,n,i)||this;return a.type=s||"value",a}return t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},t}(ul),$R=Math.PI,b7=cr(),zBe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){this.api=n},t.prototype.render=function(r,n,i){if(this.model=r,this.api=i,this.ecModel=n,this.group.removeAll(),r.get("show",!0)){var s=this._layout(r,i),a=this._createGroup("_mainGroup"),o=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(s,r);r.formatTooltip=function(c){var d=l.scale.getLabel({value:c});return Ei("nameValue",{noName:!0,value:d})},V(["AxisLine","AxisTick","Control","CurrentPointer"],function(c){this["_render"+c](s,a,l,r)},this),this._renderAxisLabel(s,o,l,r),this._position(s,r)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(r,n){var i=r.get(["label","position"]),s=r.get("orient"),a=HBe(r,n),o;i==null||i==="auto"?o=s==="horizontal"?a.y+a.height/2<n.getHeight()/2?"-":"+":a.x+a.width/2<n.getWidth()/2?"+":"-":De(i)?o={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[s][i]:o=i;var l={horizontal:"center",vertical:o>=0||o==="+"?"left":"right"},c={horizontal:o>=0||o==="+"?"top":"bottom",vertical:"middle"},d={horizontal:0,vertical:$R/2},h=s==="vertical"?a.height:a.width,f=r.getModel("controlStyle"),p=f.get("show",!0),g=p?f.get("itemSize"):0,v=p?f.get("itemGap"):0,m=g+v,y=r.get(["label","rotate"])||0;y=y*$R/180;var x,_,b,w=f.get("position",!0),S=p&&f.get("showPlayBtn",!0),k=p&&f.get("showPrevBtn",!0),C=p&&f.get("showNextBtn",!0),E=0,T=h;w==="left"||w==="bottom"?(S&&(x=[0,0],E+=m),k&&(_=[E,0],E+=m),C&&(b=[T-g,0],T-=m)):(S&&(x=[T-g,0],T-=m),k&&(_=[0,0],E+=m),C&&(b=[T-g,0],T-=m));var N=[E,T];return r.get("inverse")&&N.reverse(),{viewRect:a,mainLength:h,orient:s,rotation:d[s],labelRotation:y,labelPosOpt:o,labelAlign:r.get(["label","align"])||l[s],labelBaseline:r.get(["label","verticalAlign"])||r.get(["label","baseline"])||c[s],playPosition:x,prevBtnPosition:_,nextBtnPosition:b,axisExtent:N,controlSize:g,controlGap:v}},t.prototype._position=function(r,n){var i=this._mainGroup,s=this._labelGroup,a=r.viewRect;if(r.orient==="vertical"){var o=Ta(),l=a.x,c=a.y+a.height;ic(o,o,[-l,-c]),Tp(o,o,-$R/2),ic(o,o,[l,c]),a=a.clone(),a.applyTransform(o)}var d=x(a),h=x(i.getBoundingRect()),f=x(s.getBoundingRect()),p=[i.x,i.y],g=[s.x,s.y];g[0]=p[0]=d[0][0];var v=r.labelPosOpt;if(v==null||De(v)){var m=v==="+"?0:1;_(p,h,d,1,m),_(g,f,d,1,1-m)}else{var m=v>=0?0:1;_(p,h,d,1,m),g[1]=p[1]+v}i.setPosition(p),s.setPosition(g),i.rotation=s.rotation=r.rotation,y(i),y(s);function y(b){b.originX=d[0][0]-b.x,b.originY=d[1][0]-b.y}function x(b){return[[b.x,b.x+b.width],[b.y,b.y+b.height]]}function _(b,w,S,k,C){b[k]+=S[k][C]-w[k][C]}},t.prototype._createAxis=function(r,n){var i=n.getData(),s=n.get("axisType"),a=UBe(n,s);a.getTicks=function(){return i.mapArray(["value"],function(c){return{value:c}})};var o=i.getDataExtent("value");a.setExtent(o[0],o[1]),a.calcNiceTicks();var l=new FBe("value",a,r.axisExtent,s);return l.model=n,l},t.prototype._createGroup=function(r){var n=this[r]=new ht;return this.group.add(n),n},t.prototype._renderAxisLine=function(r,n,i,s){var a=i.getExtent();if(s.get(["lineStyle","show"])){var o=new wi({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:fe({lineCap:"round"},s.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});n.add(o);var l=this._progressLine=new wi({shape:{x1:a[0],x2:this._currentPointer?this._currentPointer.x:a[0],y1:0,y2:0},style:rt({lineCap:"round",lineWidth:o.style.lineWidth},s.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});n.add(l)}},t.prototype._renderAxisTick=function(r,n,i,s){var a=this,o=s.getData(),l=i.scale.getTicks();this._tickSymbols=[],V(l,function(c){var d=i.dataToCoord(c.value),h=o.getItemModel(c.value),f=h.getModel("itemStyle"),p=h.getModel(["emphasis","itemStyle"]),g=h.getModel(["progress","itemStyle"]),v={x:d,y:0,onclick:He(a._changeTimeline,a,c.value)},m=w7(h,f,n,v);m.ensureState("emphasis").style=p.getItemStyle(),m.ensureState("progress").style=g.getItemStyle(),Ff(m);var y=ft(m);h.get("tooltip")?(y.dataIndex=c.value,y.dataModel=s):y.dataIndex=y.dataModel=null,a._tickSymbols.push(m)})},t.prototype._renderAxisLabel=function(r,n,i,s){var a=this,o=i.getLabelModel();if(o.get("show")){var l=s.getData(),c=i.getViewLabels();this._tickLabels=[],V(c,function(d){var h=d.tickValue,f=l.getItemModel(h),p=f.getModel("label"),g=f.getModel(["emphasis","label"]),v=f.getModel(["progress","label"]),m=i.dataToCoord(d.tickValue),y=new pr({x:m,y:0,rotation:r.labelRotation-r.rotation,onclick:He(a._changeTimeline,a,h),silent:!1,style:dn(p,{text:d.formattedLabel,align:r.labelAlign,verticalAlign:r.labelBaseline})});y.ensureState("emphasis").style=dn(g),y.ensureState("progress").style=dn(v),n.add(y),Ff(y),b7(y).dataIndex=h,a._tickLabels.push(y)})}},t.prototype._renderControl=function(r,n,i,s){var a=r.controlSize,o=r.rotation,l=s.getModel("controlStyle").getItemStyle(),c=s.getModel(["emphasis","controlStyle"]).getItemStyle(),d=s.getPlayState(),h=s.get("inverse",!0);f(r.nextBtnPosition,"next",He(this._changeTimeline,this,h?"-":"+")),f(r.prevBtnPosition,"prev",He(this._changeTimeline,this,h?"+":"-")),f(r.playPosition,d?"stop":"play",He(this._handlePlayClick,this,!d),!0);function f(p,g,v,m){if(p){var y=tl(mt(s.get(["controlStyle",g+"BtnSize"]),a),a),x=[0,-y/2,y,y],_=VBe(s,g+"Icon",x,{x:p[0],y:p[1],originX:a/2,originY:0,rotation:m?-o:0,rectHover:!0,style:l,onclick:v});_.ensureState("emphasis").style=c,n.add(_),Ff(_)}}},t.prototype._renderCurrentPointer=function(r,n,i,s){var a=s.getData(),o=s.getCurrentIndex(),l=a.getItemModel(o).getModel("checkpointStyle"),c=this,d={onCreate:function(h){h.draggable=!0,h.drift=He(c._handlePointerDrag,c),h.ondragend=He(c._handlePointerDragend,c),S7(h,c._progressLine,o,i,s,!0)},onUpdate:function(h){S7(h,c._progressLine,o,i,s)}};this._currentPointer=w7(l,l,this._mainGroup,{},this._currentPointer,d)},t.prototype._handlePlayClick=function(r){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:r,from:this.uid})},t.prototype._handlePointerDrag=function(r,n,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},t.prototype._handlePointerDragend=function(r){this._pointerChangeTimeline([r.offsetX,r.offsetY],!0)},t.prototype._pointerChangeTimeline=function(r,n){var i=this._toAxisCoord(r)[0],s=this._axis,a=fo(s.getExtent().slice());i>a[1]&&(i=a[1]),i<a[0]&&(i=a[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var o=this._progressLine;o&&(o.shape.x2=i,o.dirty());var l=this._findNearestTick(i),c=this.model;(n||l!==c.getCurrentIndex()&&c.get("realtime"))&&this._changeTimeline(l)},t.prototype._doPlayStop=function(){var r=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var n=r.model;r._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(r){var n=this._mainGroup.getLocalTransform();return Zo(r,n,!0)},t.prototype._findNearestTick=function(r){var n=this.model.getData(),i=1/0,s,a=this._axis;return n.each(["value"],function(o,l){var c=a.dataToCoord(o),d=Math.abs(c-r);d<i&&(i=d,s=l)}),s},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(r){var n=this.model.getCurrentIndex();r==="+"?r=n+1:r==="-"&&(r=n-1),this.api.dispatchAction({type:"timelineChange",currentIndex:r,from:this.uid})},t.prototype._updateTicksStatus=function(){var r=this.model.getCurrentIndex(),n=this._tickSymbols,i=this._tickLabels;if(n)for(var s=0;s<n.length;s++)n&&n[s]&&n[s].toggleState("progress",s<r);if(i)for(var s=0;s<i.length;s++)i&&i[s]&&i[s].toggleState("progress",b7(i[s]).dataIndex<=r)},t.type="timeline.slider",t}(BBe);function UBe(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new zN({ordinalMeta:e.getCategories(),extent:[1/0,-1/0]});case"time":return new q5({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new du}}function HBe(e,t){return pi(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}function VBe(e,t,r,n){var i=n.style,s=Qb(e.get(["controlStyle",t]),n||{},new At(r[0],r[1],r[2],r[3]));return i&&s.setStyle(i),s}function w7(e,t,r,n,i,s){var a=t.get("color");if(i)i.setColor(a),r.add(i),s&&s.onUpdate(i);else{var o=e.get("symbol");i=ai(o,-1,-1,2,2,a),i.setStyle("strokeNoScale",!0),r.add(i),s&&s.onCreate(i)}var l=t.getItemStyle(["color"]);i.setStyle(l),n=Ct({rectHover:!0,z2:100},n,!0);var c=Wv(e.get("symbolSize"));n.scaleX=c[0]/2,n.scaleY=c[1]/2;var d=jp(e.get("symbolOffset"),c);d&&(n.x=(n.x||0)+d[0],n.y=(n.y||0)+d[1]);var h=e.get("symbolRotate");return n.rotation=(h||0)*Math.PI/180||0,i.attr(n),i.updateTransform(),i}function S7(e,t,r,n,i,s){if(!e.dragging){var a=i.getModel("checkpointStyle"),o=n.dataToCoord(i.getData().get("value",r));if(s||!a.get("animation",!0))e.attr({x:o,y:0}),t&&t.attr({shape:{x2:o}});else{var l={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};e.stopAnimation(null,!0),e.animateTo({x:o,y:0},l),t&&t.animateTo({shape:{x2:o}},l)}}}function WBe(e){e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,r,n){var i=r.getComponent("timeline");return i&&t.currentIndex!=null&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),r.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),rt({currentIndex:i.option.currentIndex},t)}),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,r){var n=r.getComponent("timeline");n&&t.playState!=null&&n.setPlayState(t.playState)})}function GBe(e){var t=e&&e.timeline;ve(t)||(t=t?[t]:[]),V(t,function(r){r&&qBe(r)})}function qBe(e){var t=e.type,r={number:"value",time:"time"};if(r[t]&&(e.axisType=r[t],delete e.type),C7(e),df(e,"controlPosition")){var n=e.controlStyle||(e.controlStyle={});df(n,"position")||(n.position=e.controlPosition),n.position==="none"&&!df(n,"show")&&(n.show=!1,delete n.position),delete e.controlPosition}V(e.data||[],function(i){st(i)&&!ve(i)&&(!df(i,"value")&&df(i,"name")&&(i.value=i.name),C7(i))})}function C7(e){var t=e.itemStyle||(e.itemStyle={}),r=t.emphasis||(t.emphasis={}),n=e.label||e.label||{},i=n.normal||(n.normal={}),s={normal:1,emphasis:1};V(n,function(a,o){!s[o]&&!df(i,o)&&(i[o]=a)}),r.label&&!df(n,"emphasis")&&(n.emphasis=r.label,delete r.label)}function df(e,t){return e.hasOwnProperty(t)}function YBe(e){e.registerComponentModel(Nae),e.registerComponentView(zBe),e.registerSubTypeDefaulter("timeline",function(){return"slider"}),WBe(e),e.registerPreprocessor(GBe)}function X4(e,t){if(!e)return!1;for(var r=ve(e)?e:[e],n=0;n<r.length;n++)if(r[n]&&r[n][t])return!0;return!1}function NS(e){np(e,"label",["show"])}var AS=cr(),fu=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.createdBySelf=!1,r}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i),this._mergeOption(r,i,!1,!0)},t.prototype.isAnimationEnabled=function(){if(Gt.node)return!1;var r=this.__hostSeries;return this.getShallow("animation")&&r&&r.isAnimationEnabled()},t.prototype.mergeOption=function(r,n){this._mergeOption(r,n,!1,!1)},t.prototype._mergeOption=function(r,n,i,s){var a=this.mainType;i||n.eachSeries(function(o){var l=o.get(this.mainType,!0),c=AS(o)[a];if(!l||!l.data){AS(o)[a]=null;return}c?c._mergeOption(l,n,!0):(s&&NS(l),V(l.data,function(d){d instanceof Array?(NS(d[0]),NS(d[1])):NS(d)}),c=this.createMarkerModelFromSeries(l,this,n),fe(c,{mainType:this.mainType,seriesIndex:o.seriesIndex,name:o.name,createdBySelf:!0}),c.__hostSeries=o),AS(o)[a]=c},this)},t.prototype.formatTooltip=function(r,n,i){var s=this.getData(),a=this.getRawValue(r),o=s.getName(r);return Ei("section",{header:this.name,blocks:[Ei("nameValue",{name:o,value:a,noName:!o,noValue:a==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(r){this._data=r},t.prototype.getDataParams=function(r,n){var i=LN.prototype.getDataParams.call(this,r,n),s=this.__hostSeries;return s&&(i.seriesId=s.id,i.seriesName=s.name,i.seriesType=s.subType),i},t.getMarkerModelFromSeries=function(r,n){return AS(r)[n]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(Kt);oi(fu,LN.prototype);var KBe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.createMarkerModelFromSeries=function(r,n,i){return new t(r,n,i)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(fu);function eD(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function ZBe(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function jS(e,t,r,n,i,s){var a=[],o=qd(t,n),l=o?t.getCalculationInfo("stackResultDimension"):n,c=J4(t,l,e),d=t.indicesOfNearest(l,c)[0];a[i]=t.get(r,d),a[s]=t.get(l,d);var h=t.get(n,d),f=$l(t.get(n,d));return f=Math.min(f,20),f>=0&&(a[s]=+a[s].toFixed(f)),[a,h]}var BR={min:xt(jS,"min"),max:xt(jS,"max"),average:xt(jS,"average"),median:xt(jS,"median")};function eb(e,t){if(t){var r=e.getData(),n=e.coordinateSystem,i=n&&n.dimensions;if(!ZBe(t)&&!ve(t.coord)&&ve(i)){var s=Aae(t,r,n,e);if(t=lt(t),t.type&&BR[t.type]&&s.baseAxis&&s.valueAxis){var a=Pt(i,s.baseAxis.dim),o=Pt(i,s.valueAxis.dim),l=BR[t.type](r,s.baseDataDim,s.valueDataDim,a,o);t.coord=l[0],t.value=l[1]}else t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}if(t.coord==null||!ve(i))t.coord=[];else for(var c=t.coord,d=0;d<2;d++)BR[c[d]]&&(c[d]=J4(r,r.mapDimension(i[d]),c[d]));return t}}function Aae(e,t,r,n){var i={};return e.valueIndex!=null||e.valueDim!=null?(i.valueDataDim=e.valueIndex!=null?t.getDimension(e.valueIndex):e.valueDim,i.valueAxis=r.getAxis(XBe(n,i.valueDataDim)),i.baseAxis=r.getOtherAxis(i.valueAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim)):(i.baseAxis=n.getBaseAxis(),i.valueAxis=r.getOtherAxis(i.baseAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim),i.valueDataDim=t.mapDimension(i.valueAxis.dim)),i}function XBe(e,t){var r=e.getData().getDimensionInfo(t);return r&&r.coordDim}function tb(e,t){return e&&e.containData&&t.coord&&!eD(t)?e.containData(t.coord):!0}function JBe(e,t,r){return e&&e.containZone&&t.coord&&r.coord&&!eD(t)&&!eD(r)?e.containZone(t.coord,r.coord):!0}function jae(e,t){return e?function(r,n,i,s){var a=s<2?r.coord&&r.coord[s]:r.value;return Pd(a,t[s])}:function(r,n,i,s){return Pd(r.value,t[s])}}function J4(e,t,r){if(r==="average"){var n=0,i=0;return e.each(t,function(s,a){isNaN(s)||(n+=s,i++)}),n/i}else return r==="median"?e.getMedian(t):e.getDataExtent(t)[r==="max"?1:0]}var FR=cr(),Q4=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){this.markerGroupMap=qe()},t.prototype.render=function(r,n,i){var s=this,a=this.markerGroupMap;a.each(function(o){FR(o).keep=!1}),n.eachSeries(function(o){var l=fu.getMarkerModelFromSeries(o,s.type);l&&s.renderSeries(o,l,n,i)}),a.each(function(o){!FR(o).keep&&s.group.remove(o.group)})},t.prototype.markKeep=function(r){FR(r).keep=!0},t.prototype.toggleBlurSeries=function(r,n){var i=this;V(r,function(s){var a=fu.getMarkerModelFromSeries(s,i.type);if(a){var o=a.getData();o.eachItemGraphicEl(function(l){l&&(n?bte(l):v5(l))})}})},t.type="marker",t}(Rn);function k7(e,t,r){var n=t.coordinateSystem;e.each(function(i){var s=e.getItemModel(i),a,o=Ne(s.get("x"),r.getWidth()),l=Ne(s.get("y"),r.getHeight());if(!isNaN(o)&&!isNaN(l))a=[o,l];else if(t.getMarkerPosition)a=t.getMarkerPosition(e.getValues(e.dimensions,i));else if(n){var c=e.get(n.dimensions[0],i),d=e.get(n.dimensions[1],i);a=n.dataToPoint([c,d])}isNaN(o)||(a[0]=o),isNaN(l)||(a[1]=l),e.setItemLayout(i,a)})}var QBe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.updateTransform=function(r,n,i){n.eachSeries(function(s){var a=fu.getMarkerModelFromSeries(s,"markPoint");a&&(k7(a.getData(),s,i),this.markerGroupMap.get(s.id).updateLayout())},this)},t.prototype.renderSeries=function(r,n,i,s){var a=r.coordinateSystem,o=r.id,l=r.getData(),c=this.markerGroupMap,d=c.get(o)||c.set(o,new sw),h=eFe(a,r,n);n.setData(h),k7(n.getData(),r,s),h.each(function(f){var p=h.getItemModel(f),g=p.getShallow("symbol"),v=p.getShallow("symbolSize"),m=p.getShallow("symbolRotate"),y=p.getShallow("symbolOffset"),x=p.getShallow("symbolKeepAspect");if(et(g)||et(v)||et(m)||et(y)){var _=n.getRawValue(f),b=n.getDataParams(f);et(g)&&(g=g(_,b)),et(v)&&(v=v(_,b)),et(m)&&(m=m(_,b)),et(y)&&(y=y(_,b))}var w=p.getModel("itemStyle").getItemStyle(),S=tw(l,"color");w.fill||(w.fill=S),h.setItemVisual(f,{symbol:g,symbolSize:v,symbolRotate:m,symbolOffset:y,symbolKeepAspect:x,style:w})}),d.updateData(h),this.group.add(d.group),h.eachItemGraphicEl(function(f){f.traverse(function(p){ft(p).dataModel=n})}),this.markKeep(d),d.group.silent=n.get("silent")||r.get("silent")},t.type="markPoint",t}(Q4);function eFe(e,t,r){var n;e?n=xe(e&&e.dimensions,function(o){var l=t.getData().getDimensionInfo(t.getData().mapDimension(o))||{};return fe(fe({},l),{name:o,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new Ls(n,r),s=xe(r.get("data"),xt(eb,t));e&&(s=Rr(s,xt(tb,e)));var a=jae(!!e,n);return i.initData(s,null,a),i}function tFe(e){e.registerComponentModel(KBe),e.registerComponentView(QBe),e.registerPreprocessor(function(t){X4(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}var rFe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.createMarkerModelFromSeries=function(r,n,i){return new t(r,n,i)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(fu),RS=cr(),nFe=function(e,t,r,n){var i=e.getData(),s;if(ve(n))s=n;else{var a=n.type;if(a==="min"||a==="max"||a==="average"||a==="median"||n.xAxis!=null||n.yAxis!=null){var o=void 0,l=void 0;if(n.yAxis!=null||n.xAxis!=null)o=t.getAxis(n.yAxis!=null?"y":"x"),l=Mi(n.yAxis,n.xAxis);else{var c=Aae(n,i,t,e);o=c.valueAxis;var d=wne(i,c.valueDataDim);l=J4(i,d,a)}var h=o.dim==="x"?0:1,f=1-h,p=lt(n),g={coord:[]};p.type=null,p.coord=[],p.coord[f]=-1/0,g.coord[f]=1/0;var v=r.get("precision");v>=0&&xr(l)&&(l=+l.toFixed(Math.min(v,20))),p.coord[h]=g.coord[h]=l,s=[p,g,{type:a,valueIndex:n.valueIndex,value:l}]}else s=[]}var m=[eb(e,s[0]),eb(e,s[1]),fe({},s[2])];return m[2].type=m[2].type||null,Ct(m[2],m[0]),Ct(m[2],m[1]),m};function OE(e){return!isNaN(e)&&!isFinite(e)}function E7(e,t,r,n){var i=1-e,s=n.dimensions[e];return OE(t[i])&&OE(r[i])&&t[e]===r[e]&&n.getAxis(s).containData(t[e])}function iFe(e,t){if(e.type==="cartesian2d"){var r=t[0].coord,n=t[1].coord;if(r&&n&&(E7(1,r,n,e)||E7(0,r,n,e)))return!0}return tb(e,t[0])&&tb(e,t[1])}function zR(e,t,r,n,i){var s=n.coordinateSystem,a=e.getItemModel(t),o,l=Ne(a.get("x"),i.getWidth()),c=Ne(a.get("y"),i.getHeight());if(!isNaN(l)&&!isNaN(c))o=[l,c];else{if(n.getMarkerPosition)o=n.getMarkerPosition(e.getValues(e.dimensions,t));else{var d=s.dimensions,h=e.get(d[0],t),f=e.get(d[1],t);o=s.dataToPoint([h,f])}if(Ip(s,"cartesian2d")){var p=s.getAxis("x"),g=s.getAxis("y"),d=s.dimensions;OE(e.get(d[0],t))?o[0]=p.toGlobalCoord(p.getExtent()[r?0:1]):OE(e.get(d[1],t))&&(o[1]=g.toGlobalCoord(g.getExtent()[r?0:1]))}isNaN(l)||(o[0]=l),isNaN(c)||(o[1]=c)}e.setItemLayout(t,o)}var sFe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.updateTransform=function(r,n,i){n.eachSeries(function(s){var a=fu.getMarkerModelFromSeries(s,"markLine");if(a){var o=a.getData(),l=RS(a).from,c=RS(a).to;l.each(function(d){zR(l,d,!0,s,i),zR(c,d,!1,s,i)}),o.each(function(d){o.setItemLayout(d,[l.getItemLayout(d),c.getItemLayout(d)])}),this.markerGroupMap.get(s.id).updateLayout()}},this)},t.prototype.renderSeries=function(r,n,i,s){var a=r.coordinateSystem,o=r.id,l=r.getData(),c=this.markerGroupMap,d=c.get(o)||c.set(o,new _4);this.group.add(d.group);var h=aFe(a,r,n),f=h.from,p=h.to,g=h.line;RS(n).from=f,RS(n).to=p,n.setData(g);var v=n.get("symbol"),m=n.get("symbolSize"),y=n.get("symbolRotate"),x=n.get("symbolOffset");ve(v)||(v=[v,v]),ve(m)||(m=[m,m]),ve(y)||(y=[y,y]),ve(x)||(x=[x,x]),h.from.each(function(b){_(f,b,!0),_(p,b,!1)}),g.each(function(b){var w=g.getItemModel(b).getModel("lineStyle").getLineStyle();g.setItemLayout(b,[f.getItemLayout(b),p.getItemLayout(b)]),w.stroke==null&&(w.stroke=f.getItemVisual(b,"style").fill),g.setItemVisual(b,{fromSymbolKeepAspect:f.getItemVisual(b,"symbolKeepAspect"),fromSymbolOffset:f.getItemVisual(b,"symbolOffset"),fromSymbolRotate:f.getItemVisual(b,"symbolRotate"),fromSymbolSize:f.getItemVisual(b,"symbolSize"),fromSymbol:f.getItemVisual(b,"symbol"),toSymbolKeepAspect:p.getItemVisual(b,"symbolKeepAspect"),toSymbolOffset:p.getItemVisual(b,"symbolOffset"),toSymbolRotate:p.getItemVisual(b,"symbolRotate"),toSymbolSize:p.getItemVisual(b,"symbolSize"),toSymbol:p.getItemVisual(b,"symbol"),style:w})}),d.updateData(g),h.line.eachItemGraphicEl(function(b){ft(b).dataModel=n,b.traverse(function(w){ft(w).dataModel=n})});function _(b,w,S){var k=b.getItemModel(w);zR(b,w,S,r,s);var C=k.getModel("itemStyle").getItemStyle();C.fill==null&&(C.fill=tw(l,"color")),b.setItemVisual(w,{symbolKeepAspect:k.get("symbolKeepAspect"),symbolOffset:mt(k.get("symbolOffset",!0),x[S?0:1]),symbolRotate:mt(k.get("symbolRotate",!0),y[S?0:1]),symbolSize:mt(k.get("symbolSize"),m[S?0:1]),symbol:mt(k.get("symbol",!0),v[S?0:1]),style:C})}this.markKeep(d),d.group.silent=n.get("silent")||r.get("silent")},t.type="markLine",t}(Q4);function aFe(e,t,r){var n;e?n=xe(e&&e.dimensions,function(c){var d=t.getData().getDimensionInfo(t.getData().mapDimension(c))||{};return fe(fe({},d),{name:c,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new Ls(n,r),s=new Ls(n,r),a=new Ls([],r),o=xe(r.get("data"),xt(nFe,t,e,r));e&&(o=Rr(o,xt(iFe,e)));var l=jae(!!e,n);return i.initData(xe(o,function(c){return c[0]}),null,l),s.initData(xe(o,function(c){return c[1]}),null,l),a.initData(xe(o,function(c){return c[2]})),a.hasItemOption=!0,{from:i,to:s,line:a}}function oFe(e){e.registerComponentModel(rFe),e.registerComponentView(sFe),e.registerPreprocessor(function(t){X4(t.series,"markLine")&&(t.markLine=t.markLine||{})})}var lFe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.createMarkerModelFromSeries=function(r,n,i){return new t(r,n,i)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(fu),IS=cr(),cFe=function(e,t,r,n){var i=n[0],s=n[1];if(!(!i||!s)){var a=eb(e,i),o=eb(e,s),l=a.coord,c=o.coord;l[0]=Mi(l[0],-1/0),l[1]=Mi(l[1],-1/0),c[0]=Mi(c[0],1/0),c[1]=Mi(c[1],1/0);var d=Q3([{},a,o]);return d.coord=[a.coord,o.coord],d.x0=a.x,d.y0=a.y,d.x1=o.x,d.y1=o.y,d}};function $E(e){return!isNaN(e)&&!isFinite(e)}function T7(e,t,r,n){var i=1-e;return $E(t[i])&&$E(r[i])}function uFe(e,t){var r=t.coord[0],n=t.coord[1],i={coord:r,x:t.x0,y:t.y0},s={coord:n,x:t.x1,y:t.y1};return Ip(e,"cartesian2d")?r&&n&&(T7(1,r,n)||T7(0,r,n))?!0:JBe(e,i,s):tb(e,i)||tb(e,s)}function N7(e,t,r,n,i){var s=n.coordinateSystem,a=e.getItemModel(t),o,l=Ne(a.get(r[0]),i.getWidth()),c=Ne(a.get(r[1]),i.getHeight());if(!isNaN(l)&&!isNaN(c))o=[l,c];else{if(n.getMarkerPosition){var d=e.getValues(["x0","y0"],t),h=e.getValues(["x1","y1"],t),f=s.clampData(d),p=s.clampData(h),g=[];r[0]==="x0"?g[0]=f[0]>p[0]?h[0]:d[0]:g[0]=f[0]>p[0]?d[0]:h[0],r[1]==="y0"?g[1]=f[1]>p[1]?h[1]:d[1]:g[1]=f[1]>p[1]?d[1]:h[1],o=n.getMarkerPosition(g,r,!0)}else{var v=e.get(r[0],t),m=e.get(r[1],t),y=[v,m];s.clampData&&s.clampData(y,y),o=s.dataToPoint(y,!0)}if(Ip(s,"cartesian2d")){var x=s.getAxis("x"),_=s.getAxis("y"),v=e.get(r[0],t),m=e.get(r[1],t);$E(v)?o[0]=x.toGlobalCoord(x.getExtent()[r[0]==="x0"?0:1]):$E(m)&&(o[1]=_.toGlobalCoord(_.getExtent()[r[1]==="y0"?0:1]))}isNaN(l)||(o[0]=l),isNaN(c)||(o[1]=c)}return o}var A7=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],dFe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.updateTransform=function(r,n,i){n.eachSeries(function(s){var a=fu.getMarkerModelFromSeries(s,"markArea");if(a){var o=a.getData();o.each(function(l){var c=xe(A7,function(h){return N7(o,l,h,s,i)});o.setItemLayout(l,c);var d=o.getItemGraphicEl(l);d.setShape("points",c)})}},this)},t.prototype.renderSeries=function(r,n,i,s){var a=r.coordinateSystem,o=r.id,l=r.getData(),c=this.markerGroupMap,d=c.get(o)||c.set(o,{group:new ht});this.group.add(d.group),this.markKeep(d);var h=hFe(a,r,n);n.setData(h),h.each(function(f){var p=xe(A7,function(C){return N7(h,f,C,r,s)}),g=a.getAxis("x").scale,v=a.getAxis("y").scale,m=g.getExtent(),y=v.getExtent(),x=[g.parse(h.get("x0",f)),g.parse(h.get("x1",f))],_=[v.parse(h.get("y0",f)),v.parse(h.get("y1",f))];fo(x),fo(_);var b=!(m[0]>x[1]||m[1]<x[0]||y[0]>_[1]||y[1]<_[0]),w=!b;h.setItemLayout(f,{points:p,allClipped:w});var S=h.getItemModel(f).getModel("itemStyle").getItemStyle(),k=tw(l,"color");S.fill||(S.fill=k,De(S.fill)&&(S.fill=eE(S.fill,.4))),S.stroke||(S.stroke=k),h.setItemVisual(f,"style",S)}),h.diff(IS(d).data).add(function(f){var p=h.getItemLayout(f);if(!p.allClipped){var g=new Fs({shape:{points:p.points}});h.setItemGraphicEl(f,g),d.group.add(g)}}).update(function(f,p){var g=IS(d).data.getItemGraphicEl(p),v=h.getItemLayout(f);v.allClipped?g&&d.group.remove(g):(g?wr(g,{shape:{points:v.points}},n,f):g=new Fs({shape:{points:v.points}}),h.setItemGraphicEl(f,g),d.group.add(g))}).remove(function(f){var p=IS(d).data.getItemGraphicEl(f);d.group.remove(p)}).execute(),h.eachItemGraphicEl(function(f,p){var g=h.getItemModel(p),v=h.getItemVisual(p,"style");f.useStyle(h.getItemVisual(p,"style")),Yi(f,ki(g),{labelFetcher:n,labelDataIndex:p,defaultText:h.getName(p)||"",inheritColor:De(v.fill)?eE(v.fill,1):"#000"}),qi(f,g),Dn(f,null,null,g.get(["emphasis","disabled"])),ft(f).dataModel=n}),IS(d).data=h,d.group.silent=n.get("silent")||r.get("silent")},t.type="markArea",t}(Q4);function hFe(e,t,r){var n,i,s=["x0","y0","x1","y1"];if(e){var a=xe(e&&e.dimensions,function(c){var d=t.getData(),h=d.getDimensionInfo(d.mapDimension(c))||{};return fe(fe({},h),{name:c,ordinalMeta:null})});i=xe(s,function(c,d){return{name:c,type:a[d%2].type}}),n=new Ls(i,r)}else i=[{name:"value",type:"float"}],n=new Ls(i,r);var o=xe(r.get("data"),xt(cFe,t,e,r));e&&(o=Rr(o,xt(uFe,e)));var l=e?function(c,d,h,f){var p=c.coord[Math.floor(f/2)][f%2];return Pd(p,i[f])}:function(c,d,h,f){return Pd(c.value,i[f])};return n.initData(o,null,l),n.hasItemOption=!0,n}function fFe(e){e.registerComponentModel(lFe),e.registerComponentView(dFe),e.registerPreprocessor(function(t){X4(t.series,"markArea")&&(t.markArea=t.markArea||{})})}var pFe=function(e,t){if(t==="all")return{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}},tD=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.layoutMode={type:"box",ignoreSize:!0},r}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i),r.selected=r.selected||{},this._updateSelector(r)},t.prototype.mergeOption=function(r,n){e.prototype.mergeOption.call(this,r,n),this._updateSelector(r)},t.prototype._updateSelector=function(r){var n=r.selector,i=this.ecModel;n===!0&&(n=r.selector=["all","inverse"]),ve(n)&&V(n,function(s,a){De(s)&&(s={type:s}),n[a]=Ct(s,pFe(i,s.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var r=this._data;if(r[0]&&this.get("selectedMode")==="single"){for(var n=!1,i=0;i<r.length;i++){var s=r[i].get("name");if(this.isSelected(s)){this.select(s),n=!0;break}}!n&&this.select(r[0].get("name"))}},t.prototype._updateData=function(r){var n=[],i=[];r.eachRawSeries(function(l){var c=l.name;i.push(c);var d;if(l.legendVisualProvider){var h=l.legendVisualProvider,f=h.getAllNames();r.isSeriesFiltered(l)||(i=i.concat(f)),f.length?n=n.concat(f):d=!0}else d=!0;d&&c5(l)&&n.push(l.name)}),this._availableNames=i;var s=this.get("data")||n,a=qe(),o=xe(s,function(l){return(De(l)||xr(l))&&(l={name:l}),a.get(l.name)?null:(a.set(l.name,!0),new Lr(l,this,this.ecModel))},this);this._data=Rr(o,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(r){var n=this.option.selected,i=this.get("selectedMode");if(i==="single"){var s=this._data;V(s,function(a){n[a.get("name")]=!1})}n[r]=!0},t.prototype.unSelect=function(r){this.get("selectedMode")!=="single"&&(this.option.selected[r]=!1)},t.prototype.toggleSelected=function(r){var n=this.option.selected;n.hasOwnProperty(r)||(n[r]=!0),this[n[r]?"unSelect":"select"](r)},t.prototype.allSelect=function(){var r=this._data,n=this.option.selected;V(r,function(i){n[i.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var r=this._data,n=this.option.selected;V(r,function(i){var s=i.get("name",!0);n.hasOwnProperty(s)||(n[s]=!0),n[s]=!n[s]})},t.prototype.isSelected=function(r){var n=this.option.selected;return!(n.hasOwnProperty(r)&&!n[r])&&Pt(this._availableNames,r)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(Kt),vg=xt,rD=V,MS=ht,Rae=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.newlineDisabled=!1,r}return t.prototype.init=function(){this.group.add(this._contentGroup=new MS),this.group.add(this._selectorGroup=new MS),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(r,n,i){var s=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!r.get("show",!0)){var a=r.get("align"),o=r.get("orient");(!a||a==="auto")&&(a=r.get("left")==="right"&&o==="vertical"?"right":"left");var l=r.get("selector",!0),c=r.get("selectorPosition",!0);l&&(!c||c==="auto")&&(c=o==="horizontal"?"end":"start"),this.renderInner(a,r,n,i,l,o,c);var d=r.getBoxLayoutParams(),h={width:i.getWidth(),height:i.getHeight()},f=r.get("padding"),p=pi(d,h,f),g=this.layoutInner(r,a,p,s,l,c),v=pi(rt({width:g.width,height:g.height},d),h,f);this.group.x=v.x-g.x,this.group.y=v.y-g.y,this.group.markRedraw(),this.group.add(this._backgroundEl=xae(g,r))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(r,n,i,s,a,o,l){var c=this.getContentGroup(),d=qe(),h=n.get("selectedMode"),f=[];i.eachRawSeries(function(p){!p.get("legendHoverLink")&&f.push(p.id)}),rD(n.getData(),function(p,g){var v=p.get("name");if(!this.newlineDisabled&&(v===""||v===`
`)){var m=new MS;m.newline=!0,c.add(m);return}var y=i.getSeriesByName(v)[0];if(!d.get(v))if(y){var x=y.getData(),_=x.getVisual("legendLineStyle")||{},b=x.getVisual("legendIcon"),w=x.getVisual("style"),S=this._createItem(y,v,g,p,n,r,_,w,b,h,s);S.on("click",vg(j7,v,null,s,f)).on("mouseover",vg(nD,y.name,null,s,f)).on("mouseout",vg(iD,y.name,null,s,f)),i.ssr&&S.eachChild(function(k){var C=ft(k);C.seriesIndex=y.seriesIndex,C.dataIndex=g,C.ssrType="legend"}),d.set(v,!0)}else i.eachRawSeries(function(k){if(!d.get(v)&&k.legendVisualProvider){var C=k.legendVisualProvider;if(!C.containName(v))return;var E=C.indexOfName(v),T=C.getItemVisual(E,"style"),N=C.getItemVisual(E,"legendIcon"),R=Na(T.fill);R&&R[3]===0&&(R[3]=.2,T=fe(fe({},T),{fill:Zc(R,"rgba")}));var P=this._createItem(k,v,g,p,n,r,{},T,N,h,s);P.on("click",vg(j7,null,v,s,f)).on("mouseover",vg(nD,null,v,s,f)).on("mouseout",vg(iD,null,v,s,f)),i.ssr&&P.eachChild(function(D){var $=ft(D);$.seriesIndex=k.seriesIndex,$.dataIndex=g,$.ssrType="legend"}),d.set(v,!0)}},this)},this),a&&this._createSelector(a,n,s,o,l)},t.prototype._createSelector=function(r,n,i,s,a){var o=this.getSelectorGroup();rD(r,function(c){var d=c.type,h=new pr({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:d==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});o.add(h);var f=n.getModel("selectorLabel"),p=n.getModel(["emphasis","selectorLabel"]);Yi(h,{normal:f,emphasis:p},{defaultText:c.title}),Ff(h)})},t.prototype._createItem=function(r,n,i,s,a,o,l,c,d,h,f){var p=r.visualDrawType,g=a.get("itemWidth"),v=a.get("itemHeight"),m=a.isSelected(n),y=s.get("symbolRotate"),x=s.get("symbolKeepAspect"),_=s.get("icon");d=_||d||"roundRect";var b=gFe(d,s,l,c,p,m,f),w=new MS,S=s.getModel("textStyle");if(et(r.getLegendIcon)&&(!_||_==="inherit"))w.add(r.getLegendIcon({itemWidth:g,itemHeight:v,icon:d,iconRotate:y,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:x}));else{var k=_==="inherit"&&r.getData().getVisual("symbol")?y==="inherit"?r.getData().getVisual("symbolRotate"):y:0;w.add(mFe({itemWidth:g,itemHeight:v,icon:d,iconRotate:k,itemStyle:b.itemStyle,symbolKeepAspect:x}))}var C=o==="left"?g+5:-5,E=o,T=a.get("formatter"),N=n;De(T)&&T?N=T.replace("{name}",n??""):et(T)&&(N=T(n));var R=m?S.getTextColor():s.get("inactiveColor");w.add(new pr({style:dn(S,{text:N,x:C,y:v/2,fill:R,align:E,verticalAlign:"middle"},{inheritColor:R})}));var P=new lr({shape:w.getBoundingRect(),style:{fill:"transparent"}}),D=s.getModel("tooltip");return D.get("show")&&Np({el:P,componentModel:a,itemName:n,itemTooltipOption:D.option}),w.add(P),w.eachChild(function($){$.silent=!0}),P.silent=!h,this.getContentGroup().add(w),Ff(w),w.__legendDataIndex=i,w},t.prototype.layoutInner=function(r,n,i,s,a,o){var l=this.getContentGroup(),c=this.getSelectorGroup();Uf(r.get("orient"),l,r.get("itemGap"),i.width,i.height);var d=l.getBoundingRect(),h=[-d.x,-d.y];if(c.markRedraw(),l.markRedraw(),a){Uf("horizontal",c,r.get("selectorItemGap",!0));var f=c.getBoundingRect(),p=[-f.x,-f.y],g=r.get("selectorButtonGap",!0),v=r.getOrient().index,m=v===0?"width":"height",y=v===0?"height":"width",x=v===0?"y":"x";o==="end"?p[v]+=d[m]+g:h[v]+=f[m]+g,p[1-v]+=d[y]/2-f[y]/2,c.x=p[0],c.y=p[1],l.x=h[0],l.y=h[1];var _={x:0,y:0};return _[m]=d[m]+g+f[m],_[y]=Math.max(d[y],f[y]),_[x]=Math.min(0,f[x]+p[1-v]),_}else return l.x=h[0],l.y=h[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(Rn);function gFe(e,t,r,n,i,s,a){function o(m,y){m.lineWidth==="auto"&&(m.lineWidth=y.lineWidth>0?2:0),rD(m,function(x,_){m[_]==="inherit"&&(m[_]=y[_])})}var l=t.getModel("itemStyle"),c=l.getItemStyle(),d=e.lastIndexOf("empty",0)===0?"fill":"stroke",h=l.getShallow("decal");c.decal=!h||h==="inherit"?n.decal:Jm(h,a),c.fill==="inherit"&&(c.fill=n[i]),c.stroke==="inherit"&&(c.stroke=n[d]),c.opacity==="inherit"&&(c.opacity=(i==="fill"?n:r).opacity),o(c,n);var f=t.getModel("lineStyle"),p=f.getLineStyle();if(o(p,r),c.fill==="auto"&&(c.fill=n.fill),c.stroke==="auto"&&(c.stroke=n.fill),p.stroke==="auto"&&(p.stroke=n.fill),!s){var g=t.get("inactiveBorderWidth"),v=c[d];c.lineWidth=g==="auto"?n.lineWidth>0&&v?2:0:c.lineWidth,c.fill=t.get("inactiveColor"),c.stroke=t.get("inactiveBorderColor"),p.stroke=f.get("inactiveColor"),p.lineWidth=f.get("inactiveWidth")}return{itemStyle:c,lineStyle:p}}function mFe(e){var t=e.icon||"roundRect",r=ai(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);return r.setStyle(e.itemStyle),r.rotation=(e.iconRotate||0)*Math.PI/180,r.setOrigin([e.itemWidth/2,e.itemHeight/2]),t.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r}function j7(e,t,r,n){iD(e,t,r,n),r.dispatchAction({type:"legendToggleSelect",name:e??t}),nD(e,t,r,n)}function Iae(e){for(var t=e.getZr().storage.getDisplayList(),r,n=0,i=t.length;n<i&&!(r=t[n].states.emphasis);)n++;return r&&r.hoverLayer}function nD(e,t,r,n){Iae(r)||r.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:n})}function iD(e,t,r,n){Iae(r)||r.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:n})}function vFe(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(r){for(var n=0;n<t.length;n++)if(!t[n].isSelected(r.name))return!1;return!0})}function Ey(e,t,r){var n=e==="allSelect"||e==="inverseSelect",i={},s=[];r.eachComponent({mainType:"legend",query:t},function(o){n?o[e]():o[e](t.name),R7(o,i),s.push(o.componentIndex)});var a={};return r.eachComponent("legend",function(o){V(i,function(l,c){o[l?"select":"unSelect"](c)}),R7(o,a)}),n?{selected:a,legendIndex:s}:{name:t.name,selected:a}}function R7(e,t){var r=t||{};return V(e.getData(),function(n){var i=n.get("name");if(!(i===`
`||i==="")){var s=e.isSelected(i);We(r,i)?r[i]=r[i]&&s:r[i]=s}}),r}function yFe(e){e.registerAction("legendToggleSelect","legendselectchanged",xt(Ey,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",xt(Ey,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",xt(Ey,"inverseSelect")),e.registerAction("legendSelect","legendselected",xt(Ey,"select")),e.registerAction("legendUnSelect","legendunselected",xt(Ey,"unSelect"))}function Mae(e){e.registerComponentModel(tD),e.registerComponentView(Rae),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,vFe),e.registerSubTypeDefaulter("legend",function(){return"plain"}),yFe(e)}var xFe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.setScrollDataIndex=function(r){this.option.scrollDataIndex=r},t.prototype.init=function(r,n,i){var s=zv(r);e.prototype.init.call(this,r,n,i),I7(this,r,s)},t.prototype.mergeOption=function(r,n){e.prototype.mergeOption.call(this,r,n),I7(this,this.option,r)},t.type="legend.scroll",t.defaultOption=ph(tD.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(tD);function I7(e,t,r){var n=e.getOrient(),i=[1,1];i[n.index]=0,Gd(t,r,{type:"box",ignoreSize:!!i})}var M7=ht,UR=["width","height"],HR=["x","y"],_Fe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.newlineDisabled=!0,r._currentIndex=0,r}return t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new M7),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new M7)},t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(r,n,i,s,a,o,l){var c=this;e.prototype.renderInner.call(this,r,n,i,s,a,o,l);var d=this._controllerGroup,h=n.get("pageIconSize",!0),f=ve(h)?h:[h,h];g("pagePrev",0);var p=n.getModel("pageTextStyle");d.add(new pr({name:"pageText",style:{text:"xx/xx",fill:p.getTextColor(),font:p.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),g("pageNext",1);function g(v,m){var y=v+"DataIndex",x=Qb(n.get("pageIcons",!0)[n.getOrient().name][m],{onclick:He(c._pageGo,c,y,n,s)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});x.name=v,d.add(x)}},t.prototype.layoutInner=function(r,n,i,s,a,o){var l=this.getSelectorGroup(),c=r.getOrient().index,d=UR[c],h=HR[c],f=UR[1-c],p=HR[1-c];a&&Uf("horizontal",l,r.get("selectorItemGap",!0));var g=r.get("selectorButtonGap",!0),v=l.getBoundingRect(),m=[-v.x,-v.y],y=lt(i);a&&(y[d]=i[d]-v[d]-g);var x=this._layoutContentAndController(r,s,y,c,d,f,p,h);if(a){if(o==="end")m[c]+=x[d]+g;else{var _=v[d]+g;m[c]-=_,x[h]-=_}x[d]+=v[d]+g,m[1-c]+=x[p]+x[f]/2-v[f]/2,x[f]=Math.max(x[f],v[f]),x[p]=Math.min(x[p],v[p]+m[1-c]),l.x=m[0],l.y=m[1],l.markRedraw()}return x},t.prototype._layoutContentAndController=function(r,n,i,s,a,o,l,c){var d=this.getContentGroup(),h=this._containerGroup,f=this._controllerGroup;Uf(r.get("orient"),d,r.get("itemGap"),s?i.width:null,s?null:i.height),Uf("horizontal",f,r.get("pageButtonItemGap",!0));var p=d.getBoundingRect(),g=f.getBoundingRect(),v=this._showController=p[a]>i[a],m=[-p.x,-p.y];n||(m[s]=d[c]);var y=[0,0],x=[-g.x,-g.y],_=mt(r.get("pageButtonGap",!0),r.get("itemGap",!0));if(v){var b=r.get("pageButtonPosition",!0);b==="end"?x[s]+=i[a]-g[a]:y[s]+=g[a]+_}x[1-s]+=p[o]/2-g[o]/2,d.setPosition(m),h.setPosition(y),f.setPosition(x);var w={x:0,y:0};if(w[a]=v?i[a]:p[a],w[o]=Math.max(p[o],g[o]),w[l]=Math.min(0,g[l]+x[1-s]),h.__rectSize=i[a],v){var S={x:0,y:0};S[a]=Math.max(i[a]-g[a]-_,0),S[o]=w[o],h.setClipPath(new lr({shape:S})),h.__rectSize=S[a]}else f.eachChild(function(C){C.attr({invisible:!0,silent:!0})});var k=this._getPageInfo(r);return k.pageIndex!=null&&wr(d,{x:k.contentPosition[0],y:k.contentPosition[1]},v?r:null),this._updatePageInfoView(r,k),w},t.prototype._pageGo=function(r,n,i){var s=this._getPageInfo(n)[r];s!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:s,legendId:n.id})},t.prototype._updatePageInfoView=function(r,n){var i=this._controllerGroup;V(["pagePrev","pageNext"],function(d){var h=d+"DataIndex",f=n[h]!=null,p=i.childOfName(d);p&&(p.setStyle("fill",f?r.get("pageIconColor",!0):r.get("pageIconInactiveColor",!0)),p.cursor=f?"pointer":"default")});var s=i.childOfName("pageText"),a=r.get("pageFormatter"),o=n.pageIndex,l=o!=null?o+1:0,c=n.pageCount;s&&a&&s.setStyle("text",De(a)?a.replace("{current}",l==null?"":l+"").replace("{total}",c==null?"":c+""):a({current:l,total:c}))},t.prototype._getPageInfo=function(r){var n=r.get("scrollDataIndex",!0),i=this.getContentGroup(),s=this._containerGroup.__rectSize,a=r.getOrient().index,o=UR[a],l=HR[a],c=this._findTargetItemIndex(n),d=i.children(),h=d[c],f=d.length,p=f?1:0,g={contentPosition:[i.x,i.y],pageCount:p,pageIndex:p-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!h)return g;var v=b(h);g.contentPosition[a]=-v.s;for(var m=c+1,y=v,x=v,_=null;m<=f;++m)_=b(d[m]),(!_&&x.e>y.s+s||_&&!w(_,y.s))&&(x.i>y.i?y=x:y=_,y&&(g.pageNextDataIndex==null&&(g.pageNextDataIndex=y.i),++g.pageCount)),x=_;for(var m=c-1,y=v,x=v,_=null;m>=-1;--m)_=b(d[m]),(!_||!w(x,_.s))&&y.i<x.i&&(x=y,g.pagePrevDataIndex==null&&(g.pagePrevDataIndex=y.i),++g.pageCount,++g.pageIndex),y=_;return g;function b(S){if(S){var k=S.getBoundingRect(),C=k[l]+S[l];return{s:C,e:C+k[o],i:S.__legendDataIndex}}}function w(S,k){return S.e>=k&&S.s<=k+s}},t.prototype._findTargetItemIndex=function(r){if(!this._showController)return 0;var n,i=this.getContentGroup(),s;return i.eachChild(function(a,o){var l=a.__legendDataIndex;s==null&&l!=null&&(s=o),l===r&&(n=o)}),n??s},t.type="legend.scroll",t}(Rae);function bFe(e){e.registerAction("legendScroll","legendscroll",function(t,r){var n=t.scrollDataIndex;n!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(n)})})}function wFe(e){Ft(Mae),e.registerComponentModel(xFe),e.registerComponentView(_Fe),bFe(e)}function SFe(e){Ft(Mae),Ft(wFe)}var CFe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="dataZoom.inside",t.defaultOption=ph(Q_.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(Q_),e$=cr();function kFe(e,t,r){e$(e).coordSysRecordMap.each(function(n){var i=n.dataZoomInfoMap.get(t.uid);i&&(i.getRange=r)})}function EFe(e,t){for(var r=e$(e).coordSysRecordMap,n=r.keys(),i=0;i<n.length;i++){var s=n[i],a=r.get(s),o=a.dataZoomInfoMap;if(o){var l=t.uid,c=o.get(l);c&&(o.removeKey(l),o.keys().length||Pae(r,a))}}}function Pae(e,t){if(t){e.removeKey(t.model.uid);var r=t.controller;r&&r.dispose()}}function TFe(e,t){var r={model:t,containsPoint:xt(AFe,t),dispatchAction:xt(NFe,e),dataZoomInfoMap:null,controller:null},n=r.controller=new uw(e.getZr());return V(["pan","zoom","scrollMove"],function(i){n.on(i,function(s){var a=[];r.dataZoomInfoMap.each(function(o){if(s.isAvailableBehavior(o.model.option)){var l=(o.getRange||{})[i],c=l&&l(o.dzReferCoordSysInfo,r.model.mainType,r.controller,s);!o.model.get("disabled",!0)&&c&&a.push({dataZoomId:o.model.id,start:c[0],end:c[1]})}}),a.length&&r.dispatchAction(a)})}),r}function NFe(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function AFe(e,t,r,n){return e.coordinateSystem.containPoint([r,n])}function jFe(e){var t,r="type_",n={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return e.each(function(s){var a=s.model,o=a.get("disabled",!0)?!1:a.get("zoomLock",!0)?"move":!0;n[r+o]>n[r+t]&&(t=o),i=i&&a.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function RFe(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,function(t,r){var n=e$(r),i=n.coordSysRecordMap||(n.coordSysRecordMap=qe());i.each(function(s){s.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(s){var a=mae(s);V(a.infoList,function(o){var l=o.model.uid,c=i.get(l)||i.set(l,TFe(r,o.model)),d=c.dataZoomInfoMap||(c.dataZoomInfoMap=qe());d.set(s.uid,{dzReferCoordSysInfo:o,model:s,getRange:null})})}),i.each(function(s){var a=s.controller,o,l=s.dataZoomInfoMap;if(l){var c=l.keys()[0];c!=null&&(o=l.get(c))}if(!o){Pae(i,s);return}var d=jFe(l);a.enable(d.controlType,d.opt),a.setPointerChecker(s.containsPoint),Vv(s,"dispatchAction",o.model.get("throttle",!0),"fixRate")})})}var IFe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="dataZoom.inside",r}return t.prototype.render=function(r,n,i){if(e.prototype.render.apply(this,arguments),r.noTarget()){this._clear();return}this.range=r.getPercentRange(),kFe(i,r,{pan:He(VR.pan,this),zoom:He(VR.zoom,this),scrollMove:He(VR.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){EFe(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(W4),VR={zoom:function(e,t,r,n){var i=this.range,s=i.slice(),a=e.axisModels[0];if(a){var o=WR[t](null,[n.originX,n.originY],a,r,e),l=(o.signal>0?o.pixelStart+o.pixelLength-o.pixel:o.pixel-o.pixelStart)/o.pixelLength*(s[1]-s[0])+s[0],c=Math.max(1/n.scale,0);s[0]=(s[0]-l)*c+l,s[1]=(s[1]-l)*c+l;var d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Pp(0,s,[0,100],0,d.minSpan,d.maxSpan),this.range=s,i[0]!==s[0]||i[1]!==s[1])return s}},pan:P7(function(e,t,r,n,i,s){var a=WR[n]([s.oldX,s.oldY],[s.newX,s.newY],t,i,r);return a.signal*(e[1]-e[0])*a.pixel/a.pixelLength}),scrollMove:P7(function(e,t,r,n,i,s){var a=WR[n]([0,0],[s.scrollDelta,s.scrollDelta],t,i,r);return a.signal*(e[1]-e[0])*s.scrollDelta})};function P7(e){return function(t,r,n,i){var s=this.range,a=s.slice(),o=t.axisModels[0];if(o){var l=e(a,o,t,r,n,i);if(Pp(l,a,[0,100],"all"),this.range=a,s[0]!==a[0]||s[1]!==a[1])return a}}}var WR={grid:function(e,t,r,n,i){var s=r.axis,a={},o=i.model.coordinateSystem.getRect();return e=e||[0,0],s.dim==="x"?(a.pixel=t[0]-e[0],a.pixelLength=o.width,a.pixelStart=o.x,a.signal=s.inverse?1:-1):(a.pixel=t[1]-e[1],a.pixelLength=o.height,a.pixelStart=o.y,a.signal=s.inverse?-1:1),a},polar:function(e,t,r,n,i){var s=r.axis,a={},o=i.model.coordinateSystem,l=o.getRadiusAxis().getExtent(),c=o.getAngleAxis().getExtent();return e=e?o.pointToCoord(e):[0,0],t=o.pointToCoord(t),r.mainType==="radiusAxis"?(a.pixel=t[0]-e[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=s.inverse?1:-1):(a.pixel=t[1]-e[1],a.pixelLength=c[1]-c[0],a.pixelStart=c[0],a.signal=s.inverse?-1:1),a},singleAxis:function(e,t,r,n,i){var s=r.axis,a=i.model.coordinateSystem.getRect(),o={};return e=e||[0,0],s.orient==="horizontal"?(o.pixel=t[0]-e[0],o.pixelLength=a.width,o.pixelStart=a.x,o.signal=s.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=a.height,o.pixelStart=a.y,o.signal=s.inverse?-1:1),o}};function Lae(e){G4(e),e.registerComponentModel(CFe),e.registerComponentView(IFe),RFe(e)}var MFe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=ph(Q_.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(Q_),Ty=lr,L7=7,PFe=1,GR=30,LFe=7,Ny="horizontal",D7="vertical",DFe=5,OFe=["line","bar","candlestick","scatter"],$Fe={easing:"cubicOut",duration:100,delay:0},BFe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._displayables={},r}return t.prototype.init=function(r,n){this.api=n,this._onBrush=He(this._onBrush,this),this._onBrushEnd=He(this._onBrushEnd,this)},t.prototype.render=function(r,n,i,s){if(e.prototype.render.apply(this,arguments),Vv(this,"_dispatchZoomAction",r.get("throttle"),"fixRate"),this._orient=r.getOrient(),r.get("show")===!1){this.group.removeAll();return}if(r.noTarget()){this._clear(),this.group.removeAll();return}(!s||s.type!=="dataZoom"||s.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){F_(this,"_dispatchZoomAction");var r=this.api.getZr();r.off("mousemove",this._onBrush),r.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var r=this.group;r.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new ht;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),r.add(n),this._positionGroup()},t.prototype._resetLocation=function(){var r=this.dataZoomModel,n=this.api,i=r.get("brushSelect"),s=i?LFe:0,a=this._findCoordRect(),o={width:n.getWidth(),height:n.getHeight()},l=this._orient===Ny?{right:o.width-a.x-a.width,top:o.height-GR-L7-s,width:a.width,height:GR}:{right:L7,top:a.y,width:GR,height:a.height},c=zv(r.option);V(["right","top","width","height"],function(h){c[h]==="ph"&&(c[h]=l[h])});var d=pi(c,o);this._location={x:d.x,y:d.y},this._size=[d.width,d.height],this._orient===D7&&this._size.reverse()},t.prototype._positionGroup=function(){var r=this.group,n=this._location,i=this._orient,s=this.dataZoomModel.getFirstTargetAxisModel(),a=s&&s.get("inverse"),o=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(i===Ny&&!a?{scaleY:l?1:-1,scaleX:1}:i===Ny&&a?{scaleY:l?1:-1,scaleX:-1}:i===D7&&!a?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var c=r.getBoundingRect([o]);r.x=n.x-c.x,r.y=n.y-c.y,r.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var r=this.dataZoomModel,n=this._size,i=this._displayables.sliderGroup,s=r.get("brushSelect");i.add(new Ty({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:r.get("backgroundColor")},z2:-40}));var a=new Ty({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:He(this._onClickPanel,this)}),o=this.api.getZr();s?(a.on("mousedown",this._onBrushStart,this),a.cursor="crosshair",o.on("mousemove",this._onBrush),o.on("mouseup",this._onBrushEnd)):(o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)),i.add(a)},t.prototype._renderDataShadow=function(){var r=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!r)return;var n=this._size,i=this._shadowSize||[],s=r.series,a=s.getRawData(),o=s.getShadowDim&&s.getShadowDim(),l=o&&a.getDimensionInfo(o)?s.getShadowDim():r.otherDim;if(l==null)return;var c=this._shadowPolygonPts,d=this._shadowPolylinePts;if(a!==this._shadowData||l!==this._shadowDim||n[0]!==i[0]||n[1]!==i[1]){var h=a.getDataExtent(l),f=(h[1]-h[0])*.3;h=[h[0]-f,h[1]+f];var p=[0,n[1]],g=[0,n[0]],v=[[n[0],0],[0,0]],m=[],y=g[1]/(a.count()-1),x=0,_=Math.round(a.count()/n[0]),b;a.each([l],function(E,T){if(_>0&&T%_){x+=y;return}var N=E==null||isNaN(E)||E==="",R=N?0:Pr(E,h,p,!0);N&&!b&&T?(v.push([v[v.length-1][0],0]),m.push([m[m.length-1][0],0])):!N&&b&&(v.push([x,0]),m.push([x,0])),v.push([x,R]),m.push([x,R]),x+=y,b=N}),c=this._shadowPolygonPts=v,d=this._shadowPolylinePts=m}this._shadowData=a,this._shadowDim=l,this._shadowSize=[n[0],n[1]];var w=this.dataZoomModel;function S(E){var T=w.getModel(E?"selectedDataBackground":"dataBackground"),N=new ht,R=new Fs({shape:{points:c},segmentIgnoreThreshold:1,style:T.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),P=new Vs({shape:{points:d},segmentIgnoreThreshold:1,style:T.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return N.add(R),N.add(P),N}for(var k=0;k<3;k++){var C=S(k===1);this._displayables.sliderGroup.add(C),this._displayables.dataShadowSegs.push(C)}},t.prototype._prepareDataShadowInfo=function(){var r=this.dataZoomModel,n=r.get("showDataShadow");if(n!==!1){var i,s=this.ecModel;return r.eachTargetAxis(function(a,o){var l=r.getAxisProxy(a,o).getTargetSeriesModels();V(l,function(c){if(!i&&!(n!==!0&&Pt(OFe,c.get("type"))<0)){var d=s.getComponent(xd(a),o).axis,h=FFe(a),f,p=c.coordinateSystem;h!=null&&p.getOtherAxis&&(f=p.getOtherAxis(d).inverse),h=c.getData().mapDimension(h),i={thisAxis:d,series:c,thisDim:a,otherDim:h,otherAxisInverse:f}}},this)},this),i}},t.prototype._renderHandle=function(){var r=this.group,n=this._displayables,i=n.handles=[null,null],s=n.handleLabels=[null,null],a=this._displayables.sliderGroup,o=this._size,l=this.dataZoomModel,c=this.api,d=l.get("borderRadius")||0,h=l.get("brushSelect"),f=n.filler=new Ty({silent:h,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});a.add(f),a.add(new Ty({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:d},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:PFe,fill:"rgba(0,0,0,0)"}})),V([0,1],function(_){var b=l.get("handleIcon");!gE[b]&&b.indexOf("path://")<0&&b.indexOf("image://")<0&&(b="path://"+b);var w=ai(b,-1,0,2,2,null,!0);w.attr({cursor:O7(this._orient),draggable:!0,drift:He(this._onDragMove,this,_),ondragend:He(this._onDragEnd,this),onmouseover:He(this._showDataInfo,this,!0),onmouseout:He(this._showDataInfo,this,!1),z2:5});var S=w.getBoundingRect(),k=l.get("handleSize");this._handleHeight=Ne(k,this._size[1]),this._handleWidth=S.width/S.height*this._handleHeight,w.setStyle(l.getModel("handleStyle").getItemStyle()),w.style.strokeNoScale=!0,w.rectHover=!0,w.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),Ff(w);var C=l.get("handleColor");C!=null&&(w.style.fill=C),a.add(i[_]=w);var E=l.getModel("textStyle"),T=l.get("handleLabel")||{},N=T.show||!1;r.add(s[_]=new pr({silent:!0,invisible:!N,style:dn(E,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:E.getTextColor(),font:E.getFont()}),z2:10}))},this);var p=f;if(h){var g=Ne(l.get("moveHandleSize"),o[1]),v=n.moveHandle=new lr({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:g}}),m=g*.8,y=n.moveHandleIcon=ai(l.get("moveHandleIcon"),-m/2,-m/2,m,m,"#fff",!0);y.silent=!0,y.y=o[1]+g/2-.5,v.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var x=Math.min(o[1]/2,Math.max(g,10));p=n.moveZone=new lr({invisible:!0,shape:{y:o[1]-x,height:g+x}}),p.on("mouseover",function(){c.enterEmphasis(v)}).on("mouseout",function(){c.leaveEmphasis(v)}),a.add(v),a.add(y),a.add(p)}p.attr({draggable:!0,cursor:O7(this._orient),drift:He(this._onDragMove,this,"all"),ondragstart:He(this._showDataInfo,this,!0),ondragend:He(this._onDragEnd,this),onmouseover:He(this._showDataInfo,this,!0),onmouseout:He(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var r=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[Pr(r[0],[0,100],n,!0),Pr(r[1],[0,100],n,!0)]},t.prototype._updateInterval=function(r,n){var i=this.dataZoomModel,s=this._handleEnds,a=this._getViewExtent(),o=i.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Pp(n,s,a,i.get("zoomLock")?"all":r,o.minSpan!=null?Pr(o.minSpan,l,a,!0):null,o.maxSpan!=null?Pr(o.maxSpan,l,a,!0):null);var c=this._range,d=this._range=fo([Pr(s[0],a,l,!0),Pr(s[1],a,l,!0)]);return!c||c[0]!==d[0]||c[1]!==d[1]},t.prototype._updateView=function(r){var n=this._displayables,i=this._handleEnds,s=fo(i.slice()),a=this._size;V([0,1],function(p){var g=n.handles[p],v=this._handleHeight;g.attr({scaleX:v/2,scaleY:v/2,x:i[p]+(p?-1:1),y:a[1]/2-v/2})},this),n.filler.setShape({x:s[0],y:0,width:s[1]-s[0],height:a[1]});var o={x:s[0],width:s[1]-s[0]};n.moveHandle&&(n.moveHandle.setShape(o),n.moveZone.setShape(o),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",o.x+o.width/2));for(var l=n.dataShadowSegs,c=[0,s[0],s[1],a[0]],d=0;d<l.length;d++){var h=l[d],f=h.getClipPath();f||(f=new lr,h.setClipPath(f)),f.setShape({x:c[d],y:0,width:c[d+1]-c[d],height:a[1]})}this._updateDataInfo(r)},t.prototype._updateDataInfo=function(r){var n=this.dataZoomModel,i=this._displayables,s=i.handleLabels,a=this._orient,o=["",""];if(n.get("showDetail")){var l=n.findRepresentativeAxisProxy();if(l){var c=l.getAxisModel().axis,d=this._range,h=r?l.calculateDataWindow({start:d[0],end:d[1]}).valueWindow:l.getDataValueWindow();o=[this._formatLabel(h[0],c),this._formatLabel(h[1],c)]}}var f=fo(this._handleEnds.slice());p.call(this,0),p.call(this,1);function p(g){var v=zf(i.handles[g].parent,this.group),m=EN(g===0?"right":"left",v),y=this._handleWidth/2+DFe,x=Zo([f[g]+(g===0?-y:y),this._size[1]/2],v);s[g].setStyle({x:x[0],y:x[1],verticalAlign:a===Ny?"middle":m,align:a===Ny?m:"center",text:o[g]})}},t.prototype._formatLabel=function(r,n){var i=this.dataZoomModel,s=i.get("labelFormatter"),a=i.get("labelPrecision");(a==null||a==="auto")&&(a=n.getPixelPrecision());var o=r==null||isNaN(r)?"":n.type==="category"||n.type==="time"?n.scale.getLabel({value:Math.round(r)}):r.toFixed(Math.min(a,20));return et(s)?s(r,o):De(s)?s.replace("{value}",o):o},t.prototype._showDataInfo=function(r){var n=this.dataZoomModel.get("handleLabel")||{},i=n.show||!1,s=this.dataZoomModel.getModel(["emphasis","handleLabel"]),a=s.get("show")||!1,o=r||this._dragging?a:i,l=this._displayables,c=l.handleLabels;c[0].attr("invisible",!o),c[1].attr("invisible",!o),l.moveHandle&&this.api[o?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},t.prototype._onDragMove=function(r,n,i,s){this._dragging=!0,au(s.event);var a=this._displayables.sliderGroup.getLocalTransform(),o=Zo([n,i],a,!0),l=this._updateInterval(r,o[0]),c=this.dataZoomModel.get("realtime");this._updateView(!c),l&&c&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var r=this.dataZoomModel.get("realtime");!r&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(r){var n=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(r.offsetX,r.offsetY);if(!(i[0]<0||i[0]>n[0]||i[1]<0||i[1]>n[1])){var s=this._handleEnds,a=(s[0]+s[1])/2,o=this._updateInterval("all",i[0]-a);this._updateView(),o&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(r){var n=r.offsetX,i=r.offsetY;this._brushStart=new kt(n,i),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(r){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,!!n){n.attr("ignore",!0);var i=n.shape,s=+new Date;if(!(s-this._brushStartTime<200&&Math.abs(i.width)<5)){var a=this._getViewExtent(),o=[0,100];this._range=fo([Pr(i.x,a,o,!0),Pr(i.x+i.width,a,o,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(r){this._brushing&&(au(r.event),this._updateBrushRect(r.offsetX,r.offsetY))},t.prototype._updateBrushRect=function(r,n){var i=this._displayables,s=this.dataZoomModel,a=i.brushRect;a||(a=i.brushRect=new Ty({silent:!0,style:s.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(a)),a.attr("ignore",!1);var o=this._brushStart,l=this._displayables.sliderGroup,c=l.transformCoordToLocal(r,n),d=l.transformCoordToLocal(o.x,o.y),h=this._size;c[0]=Math.max(Math.min(h[0],c[0]),0),a.setShape({x:d[0],y:0,width:c[0]-d[0],height:h[1]})},t.prototype._dispatchZoomAction=function(r){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:r?$Fe:null,start:n[0],end:n[1]})},t.prototype._findCoordRect=function(){var r,n=mae(this.dataZoomModel).infoList;if(!r&&n.length){var i=n[0].model.coordinateSystem;r=i.getRect&&i.getRect()}if(!r){var s=this.api.getWidth(),a=this.api.getHeight();r={x:s*.2,y:a*.2,width:s*.6,height:a*.6}}return r},t.type="dataZoom.slider",t}(W4);function FFe(e){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[e]}function O7(e){return e==="vertical"?"ns-resize":"ew-resize"}function Dae(e){e.registerComponentModel(MFe),e.registerComponentView(BFe),G4(e)}function zFe(e){Ft(Lae),Ft(Dae)}var Oae={get:function(e,t,r){var n=lt((UFe[e]||{})[t]);return r&&ve(n)?n[n.length-1]:n}},UFe={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},$7=Ci.mapVisual,HFe=Ci.eachVisual,VFe=ve,B7=V,WFe=fo,GFe=Pr,BE=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.stateList=["inRange","outOfRange"],r.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],r.layoutMode={type:"box",ignoreSize:!0},r.dataBound=[-1/0,1/0],r.targetVisuals={},r.controllerVisuals={},r}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i)},t.prototype.optionUpdated=function(r,n){var i=this.option;!n&&Eae(i,r,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(r){var n=this.stateList;r=He(r,this),this.controllerVisuals=JL(this.option.controller,n,r),this.targetVisuals=JL(this.option.target,n,r)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var r=this.option.seriesIndex,n=[];return r==null||r==="all"?this.ecModel.eachSeries(function(i,s){n.push(s)}):n=Xr(r),n},t.prototype.eachTargetSeries=function(r,n){V(this.getTargetSeriesIndices(),function(i){var s=this.ecModel.getSeriesByIndex(i);s&&r.call(n,s)},this)},t.prototype.isTargetSeries=function(r){var n=!1;return this.eachTargetSeries(function(i){i===r&&(n=!0)}),n},t.prototype.formatValueText=function(r,n,i){var s=this.option,a=s.precision,o=this.dataBound,l=s.formatter,c;i=i||["<",">"],ve(r)&&(r=r.slice(),c=!0);var d=n?r:c?[h(r[0]),h(r[1])]:h(r);if(De(l))return l.replace("{value}",c?d[0]:d).replace("{value2}",c?d[1]:d);if(et(l))return c?l(r[0],r[1]):l(r);if(c)return r[0]===o[0]?i[0]+" "+d[1]:r[1]===o[1]?i[1]+" "+d[0]:d[0]+" - "+d[1];return d;function h(f){return f===o[0]?"min":f===o[1]?"max":(+f).toFixed(Math.min(a,20))}},t.prototype.resetExtent=function(){var r=this.option,n=WFe([r.min,r.max]);this._dataExtent=n},t.prototype.getDataDimensionIndex=function(r){var n=this.option.dimension;if(n!=null)return r.getDimensionIndex(n);for(var i=r.dimensions,s=i.length-1;s>=0;s--){var a=i[s],o=r.getDimensionInfo(a);if(!o.isCalculationCoord)return o.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var r=this.ecModel,n=this.option,i={inRange:n.inRange,outOfRange:n.outOfRange},s=n.target||(n.target={}),a=n.controller||(n.controller={});Ct(s,i),Ct(a,i);var o=this.isCategory();l.call(this,s),l.call(this,a),c.call(this,s,"inRange","outOfRange"),d.call(this,a);function l(h){VFe(n.color)&&!h.inRange&&(h.inRange={color:n.color.slice().reverse()}),h.inRange=h.inRange||{color:r.get("gradientColor")}}function c(h,f,p){var g=h[f],v=h[p];g&&!v&&(v=h[p]={},B7(g,function(m,y){if(Ci.isValidType(y)){var x=Oae.get(y,"inactive",o);x!=null&&(v[y]=x,y==="color"&&!v.hasOwnProperty("opacity")&&!v.hasOwnProperty("colorAlpha")&&(v.opacity=[0,0]))}}))}function d(h){var f=(h.inRange||{}).symbol||(h.outOfRange||{}).symbol,p=(h.inRange||{}).symbolSize||(h.outOfRange||{}).symbolSize,g=this.get("inactiveColor"),v=this.getItemSymbol(),m=v||"roundRect";B7(this.stateList,function(y){var x=this.itemSize,_=h[y];_||(_=h[y]={color:o?g:[g]}),_.symbol==null&&(_.symbol=f&&lt(f)||(o?m:[m])),_.symbolSize==null&&(_.symbolSize=p&&lt(p)||(o?x[0]:[x[0],x[0]])),_.symbol=$7(_.symbol,function(S){return S==="none"?m:S});var b=_.symbolSize;if(b!=null){var w=-1/0;HFe(b,function(S){S>w&&(w=S)}),_.symbolSize=$7(b,function(S){return GFe(S,[0,w],[0,x[0]],!0)})}},this)}},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(r){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(r){return null},t.prototype.getVisualMeta=function(r){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(Kt),F7=[20,140],qFe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.optionUpdated=function(r,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var r=this.itemSize;(r[0]==null||isNaN(r[0]))&&(r[0]=F7[0]),(r[1]==null||isNaN(r[1]))&&(r[1]=F7[1])},t.prototype._resetRange=function(){var r=this.getExtent(),n=this.option.range;!n||n.auto?(r.auto=1,this.option.range=r):ve(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],r[0]),n[1]=Math.min(n[1],r[1]))},t.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),V(this.stateList,function(r){var n=this.option.controller[r].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)},this)},t.prototype.setSelected=function(r){this.option.range=r.slice(),this._resetRange()},t.prototype.getSelected=function(){var r=this.getExtent(),n=fo((this.get("range")||[]).slice());return n[0]>r[1]&&(n[0]=r[1]),n[1]>r[1]&&(n[1]=r[1]),n[0]<r[0]&&(n[0]=r[0]),n[1]<r[0]&&(n[1]=r[0]),n},t.prototype.getValueState=function(r){var n=this.option.range,i=this.getExtent();return(n[0]<=i[0]||n[0]<=r)&&(n[1]>=i[1]||r<=n[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(r){var n=[];return this.eachTargetSeries(function(i){var s=[],a=i.getData();a.each(this.getDataDimensionIndex(a),function(o,l){r[0]<=o&&o<=r[1]&&s.push(l)},this),n.push({seriesId:i.id,dataIndex:s})},this),n},t.prototype.getVisualMeta=function(r){var n=z7(this,"outOfRange",this.getExtent()),i=z7(this,"inRange",this.option.range.slice()),s=[];function a(p,g){s.push({value:p,color:r(p,g)})}for(var o=0,l=0,c=i.length,d=n.length;l<d&&(!i.length||n[l]<=i[0]);l++)n[l]<i[o]&&a(n[l],"outOfRange");for(var h=1;o<c;o++,h=0)h&&s.length&&a(i[o],"outOfRange"),a(i[o],"inRange");for(var h=1;l<d;l++)(!i.length||i[i.length-1]<n[l])&&(h&&(s.length&&a(s[s.length-1].value,"outOfRange"),h=0),a(n[l],"outOfRange"));var f=s.length;return{stops:s,outerColors:[f?s[0].color:"transparent",f?s[f-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=ph(BE.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(BE);function z7(e,t,r){if(r[0]===r[1])return r.slice();for(var n=200,i=(r[1]-r[0])/n,s=r[0],a=[],o=0;o<=n&&s<r[1];o++)a.push(s),s+=i;return a.push(r[1]),a}var $ae=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.autoPositionValues={left:1,right:1,top:1,bottom:1},r}return t.prototype.init=function(r,n){this.ecModel=r,this.api=n},t.prototype.render=function(r,n,i,s){if(this.visualMapModel=r,r.get("show")===!1){this.group.removeAll();return}this.doRender(r,n,i,s)},t.prototype.renderBackground=function(r){var n=this.visualMapModel,i=Fv(n.get("padding")||0),s=r.getBoundingRect();r.add(new lr({z2:-1,silent:!0,shape:{x:s.x-i[3],y:s.y-i[0],width:s.width+i[3]+i[1],height:s.height+i[0]+i[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},t.prototype.getControllerVisual=function(r,n,i){i=i||{};var s=i.forceState,a=this.visualMapModel,o={};if(n==="color"){var l=a.get("contentColor");o.color=l}function c(p){return o[p]}function d(p,g){o[p]=g}var h=a.controllerVisuals[s||a.getValueState(r)],f=Ci.prepareVisualTypes(h);return V(f,function(p){var g=h[p];i.convertOpacityToAlpha&&p==="opacity"&&(p="colorAlpha",g=h.__alphaForOpacity),Ci.dependsOn(p,n)&&g&&g.applyVisual(r,c,d)}),o[n]},t.prototype.positionGroup=function(r){var n=this.visualMapModel,i=this.api;MN(r,n.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},t.prototype.doRender=function(r,n,i,s){},t.type="visualMap",t}(Rn),U7=[["left","right","width"],["top","bottom","height"]];function Bae(e,t,r){var n=e.option,i=n.align;if(i!=null&&i!=="auto")return i;for(var s={width:t.getWidth(),height:t.getHeight()},a=n.orient==="horizontal"?1:0,o=U7[a],l=[0,null,10],c={},d=0;d<3;d++)c[U7[1-a][d]]=l[d],c[o[d]]=d===2?r[0]:n[o[d]];var h=[["x","width",3],["y","height",0]][a],f=pi(c,s,n.padding);return o[(f.margin[h[2]]||0)+f[h[0]]+f[h[1]]*.5<s[h[1]]*.5?0:1]}function sk(e,t){return V(e||[],function(r){r.dataIndex!=null&&(r.dataIndexInside=r.dataIndex,r.dataIndex=null),r.highlightKey="visualMap"+(t?t.componentIndex:"")}),e}var Tl=Pr,YFe=V,H7=Math.min,qR=Math.max,KFe=12,ZFe=6,XFe=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._shapes={},r._dataInterval=[],r._handleEnds=[],r._hoverLinkDataIndices=[],r}return t.prototype.init=function(r,n){e.prototype.init.call(this,r,n),this._hoverLinkFromSeriesMouseOver=He(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=He(this._hideIndicator,this)},t.prototype.doRender=function(r,n,i,s){(!s||s.type!=="selectDataRange"||s.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var r=this.visualMapModel,n=this.group;this._orient=r.get("orient"),this._useHandle=r.get("calculable"),this._resetInterval(),this._renderBar(n);var i=r.get("text");this._renderEndsText(n,i,0),this._renderEndsText(n,i,1),this._updateView(!0),this.renderBackground(n),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(n)},t.prototype._renderEndsText=function(r,n,i){if(n){var s=n[1-i];s=s!=null?s+"":"";var a=this.visualMapModel,o=a.get("textGap"),l=a.itemSize,c=this._shapes.mainGroup,d=this._applyTransform([l[0]/2,i===0?-o:l[1]+o],c),h=this._applyTransform(i===0?"bottom":"top",c),f=this._orient,p=this.visualMapModel.textStyleModel;this.group.add(new pr({style:dn(p,{x:d[0],y:d[1],verticalAlign:f==="horizontal"?"middle":h,align:f==="horizontal"?h:"center",text:s})}))}},t.prototype._renderBar=function(r){var n=this.visualMapModel,i=this._shapes,s=n.itemSize,a=this._orient,o=this._useHandle,l=Bae(n,this.api,s),c=i.mainGroup=this._createBarGroup(l),d=new ht;c.add(d),d.add(i.outOfRange=V7()),d.add(i.inRange=V7(null,o?G7(this._orient):null,He(this._dragHandle,this,"all",!1),He(this._dragHandle,this,"all",!0))),d.setClipPath(new lr({shape:{x:0,y:0,width:s[0],height:s[1],r:3}}));var h=n.textStyleModel.getTextRect("国"),f=qR(h.width,h.height);o&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(n,c,0,s,f,a),this._createHandle(n,c,1,s,f,a)),this._createIndicator(n,c,s,f,a),r.add(c)},t.prototype._createHandle=function(r,n,i,s,a,o){var l=He(this._dragHandle,this,i,!1),c=He(this._dragHandle,this,i,!0),d=tl(r.get("handleSize"),s[0]),h=ai(r.get("handleIcon"),-d/2,-d/2,d,d,null,!0),f=G7(this._orient);h.attr({cursor:f,draggable:!0,drift:l,ondragend:c,onmousemove:function(y){au(y.event)}}),h.x=s[0]/2,h.useStyle(r.getModel("handleStyle").getItemStyle()),h.setStyle({strokeNoScale:!0,strokeFirst:!0}),h.style.lineWidth*=2,h.ensureState("emphasis").style=r.getModel(["emphasis","handleStyle"]).getItemStyle(),wf(h,!0),n.add(h);var p=this.visualMapModel.textStyleModel,g=new pr({cursor:f,draggable:!0,drift:l,onmousemove:function(y){au(y.event)},ondragend:c,style:dn(p,{x:0,y:0,text:""})});g.ensureState("blur").style={opacity:.1},g.stateTransition={duration:200},this.group.add(g);var v=[d,0],m=this._shapes;m.handleThumbs[i]=h,m.handleLabelPoints[i]=v,m.handleLabels[i]=g},t.prototype._createIndicator=function(r,n,i,s,a){var o=tl(r.get("indicatorSize"),i[0]),l=ai(r.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var c=r.getModel("indicatorStyle").getItemStyle();if(l instanceof Oi){var d=l.style;l.useStyle(fe({image:d.image,x:d.x,y:d.y,width:d.width,height:d.height},c))}else l.useStyle(c);n.add(l);var h=this.visualMapModel.textStyleModel,f=new pr({silent:!0,invisible:!0,style:dn(h,{x:0,y:0,text:""})});this.group.add(f);var p=[(a==="horizontal"?s/2:ZFe)+i[0]/2,0],g=this._shapes;g.indicator=l,g.indicatorLabel=f,g.indicatorLabelPoint=p,this._firstShowIndicator=!0},t.prototype._dragHandle=function(r,n,i,s){if(this._useHandle){if(this._dragging=!n,!n){var a=this._applyTransform([i,s],this._shapes.mainGroup,!0);this._updateInterval(r,a[1]),this._hideIndicator(),this._updateView()}n===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),n?!this._hovering&&this._clearHoverLinkToSeries():W7(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[r],!1)}},t.prototype._resetInterval=function(){var r=this.visualMapModel,n=this._dataInterval=r.getSelected(),i=r.getExtent(),s=[0,r.itemSize[1]];this._handleEnds=[Tl(n[0],i,s,!0),Tl(n[1],i,s,!0)]},t.prototype._updateInterval=function(r,n){n=n||0;var i=this.visualMapModel,s=this._handleEnds,a=[0,i.itemSize[1]];Pp(n,s,a,r,0);var o=i.getExtent();this._dataInterval=[Tl(s[0],a,o,!0),Tl(s[1],a,o,!0)]},t.prototype._updateView=function(r){var n=this.visualMapModel,i=n.getExtent(),s=this._shapes,a=[0,n.itemSize[1]],o=r?a:this._handleEnds,l=this._createBarVisual(this._dataInterval,i,o,"inRange"),c=this._createBarVisual(i,i,a,"outOfRange");s.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),s.outOfRange.setStyle({fill:c.barColor}).setShape("points",c.barPoints),this._updateHandle(o,l)},t.prototype._createBarVisual=function(r,n,i,s){var a={forceState:s,convertOpacityToAlpha:!0},o=this._makeColorGradient(r,a),l=[this.getControllerVisual(r[0],"symbolSize",a),this.getControllerVisual(r[1],"symbolSize",a)],c=this._createBarPoints(i,l);return{barColor:new Xb(0,0,0,1,o),barPoints:c,handlesColor:[o[0].color,o[o.length-1].color]}},t.prototype._makeColorGradient=function(r,n){var i=100,s=[],a=(r[1]-r[0])/i;s.push({color:this.getControllerVisual(r[0],"color",n),offset:0});for(var o=1;o<i;o++){var l=r[0]+a*o;if(l>r[1])break;s.push({color:this.getControllerVisual(l,"color",n),offset:o/i})}return s.push({color:this.getControllerVisual(r[1],"color",n),offset:1}),s},t.prototype._createBarPoints=function(r,n){var i=this.visualMapModel.itemSize;return[[i[0]-n[0],r[0]],[i[0],r[0]],[i[0],r[1]],[i[0]-n[1],r[1]]]},t.prototype._createBarGroup=function(r){var n=this._orient,i=this.visualMapModel.get("inverse");return new ht(n==="horizontal"&&!i?{scaleX:r==="bottom"?1:-1,rotation:Math.PI/2}:n==="horizontal"&&i?{scaleX:r==="bottom"?-1:1,rotation:-Math.PI/2}:n==="vertical"&&!i?{scaleX:r==="left"?1:-1,scaleY:-1}:{scaleX:r==="left"?1:-1})},t.prototype._updateHandle=function(r,n){if(this._useHandle){var i=this._shapes,s=this.visualMapModel,a=i.handleThumbs,o=i.handleLabels,l=s.itemSize,c=s.getExtent(),d=this._applyTransform("left",i.mainGroup);YFe([0,1],function(h){var f=a[h];f.setStyle("fill",n.handlesColor[h]),f.y=r[h];var p=Tl(r[h],[0,l[1]],c,!0),g=this.getControllerVisual(p,"symbolSize");f.scaleX=f.scaleY=g/l[0],f.x=l[0]-g/2;var v=Zo(i.handleLabelPoints[h],zf(f,this.group));if(this._orient==="horizontal"){var m=d==="left"||d==="top"?(l[0]-g)/2:(l[0]-g)/-2;v[1]+=m}o[h].setStyle({x:v[0],y:v[1],text:s.formatValueText(this._dataInterval[h]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(r,n,i,s){var a=this.visualMapModel,o=a.getExtent(),l=a.itemSize,c=[0,l[1]],d=this._shapes,h=d.indicator;if(h){h.attr("invisible",!1);var f={convertOpacityToAlpha:!0},p=this.getControllerVisual(r,"color",f),g=this.getControllerVisual(r,"symbolSize"),v=Tl(r,o,c,!0),m=l[0]-g/2,y={x:h.x,y:h.y};h.y=v,h.x=m;var x=Zo(d.indicatorLabelPoint,zf(h,this.group)),_=d.indicatorLabel;_.attr("invisible",!1);var b=this._applyTransform("left",d.mainGroup),w=this._orient,S=w==="horizontal";_.setStyle({text:(i||"")+a.formatValueText(n),verticalAlign:S?b:"middle",align:S?"center":b});var k={x:m,y:v,style:{fill:p}},C={style:{x:x[0],y:x[1]}};if(a.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var E={duration:100,easing:"cubicInOut",additive:!0};h.x=y.x,h.y=y.y,h.animateTo(k,E),_.animateTo(C,E)}else h.attr(k),_.attr(C);this._firstShowIndicator=!1;var T=this._shapes.handleLabels;if(T)for(var N=0;N<T.length;N++)this.api.enterBlur(T[N])}},t.prototype._enableHoverLinkToSeries=function(){var r=this;this._shapes.mainGroup.on("mousemove",function(n){if(r._hovering=!0,!r._dragging){var i=r.visualMapModel.itemSize,s=r._applyTransform([n.offsetX,n.offsetY],r._shapes.mainGroup,!0,!0);s[1]=H7(qR(0,s[1]),i[1]),r._doHoverLinkToSeries(s[1],0<=s[0]&&s[0]<=i[0])}}).on("mouseout",function(){r._hovering=!1,!r._dragging&&r._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var r=this.api.getZr();this.visualMapModel.option.hoverLink?(r.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),r.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(r,n){var i=this.visualMapModel,s=i.itemSize;if(i.option.hoverLink){var a=[0,s[1]],o=i.getExtent();r=H7(qR(a[0],r),a[1]);var l=JFe(i,o,a),c=[r-l,r+l],d=Tl(r,a,o,!0),h=[Tl(c[0],a,o,!0),Tl(c[1],a,o,!0)];c[0]<a[0]&&(h[0]=-1/0),c[1]>a[1]&&(h[1]=1/0),n&&(h[0]===-1/0?this._showIndicator(d,h[1],"< ",l):h[1]===1/0?this._showIndicator(d,h[0],"> ",l):this._showIndicator(d,d,"≈ ",l));var f=this._hoverLinkDataIndices,p=[];(n||W7(i))&&(p=this._hoverLinkDataIndices=i.findTargetDataIndices(h));var g=sEe(f,p);this._dispatchHighDown("downplay",sk(g[0],i)),this._dispatchHighDown("highlight",sk(g[1],i))}},t.prototype._hoverLinkFromSeriesMouseOver=function(r){var n;if(Cf(r.target,function(l){var c=ft(l);if(c.dataIndex!=null)return n=c,!0},!0),!!n){var i=this.ecModel.getSeriesByIndex(n.seriesIndex),s=this.visualMapModel;if(s.isTargetSeries(i)){var a=i.getData(n.dataType),o=a.getStore().get(s.getDataDimensionIndex(a),n.dataIndex);isNaN(o)||this._showIndicator(o,o)}}},t.prototype._hideIndicator=function(){var r=this._shapes;r.indicator&&r.indicator.attr("invisible",!0),r.indicatorLabel&&r.indicatorLabel.attr("invisible",!0);var n=this._shapes.handleLabels;if(n)for(var i=0;i<n.length;i++)this.api.leaveBlur(n[i])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var r=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",sk(r,this.visualMapModel)),r.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var r=this.api.getZr();r.off("mouseover",this._hoverLinkFromSeriesMouseOver),r.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(r,n,i,s){var a=zf(n,s?null:this.group);return ve(r)?Zo(r,a,i):EN(r,a,i)},t.prototype._dispatchHighDown=function(r,n){n&&n.length&&this.api.dispatchAction({type:r,batch:n})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}($ae);function V7(e,t,r,n){return new Fs({shape:{points:e},draggable:!!r,cursor:t,drift:r,onmousemove:function(i){au(i.event)},ondragend:n})}function JFe(e,t,r){var n=KFe/2,i=e.get("hoverLinkDataSize");return i&&(n=Tl(i,t,r,!0)/2),n}function W7(e){var t=e.get("hoverLinkOnHandle");return!!(t??e.get("realtime"))}function G7(e){return e==="vertical"?"ns-resize":"ew-resize"}var QFe={type:"selectDataRange",event:"dataRangeSelected",update:"update"},e6e=function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(r){r.setSelected(e.selected)})},t6e=[{createOnAllSeries:!0,reset:function(e,t){var r=[];return t.eachComponent("visualMap",function(n){var i=e.pipelineContext;!n.isTargetSeries(e)||i&&i.large||r.push(SBe(n.stateList,n.targetVisuals,He(n.getValueState,n),n.getDataDimensionIndex(e.getData())))}),r}},{createOnAllSeries:!0,reset:function(e,t){var r=e.getData(),n=[];t.eachComponent("visualMap",function(i){if(i.isTargetSeries(e)){var s=i.getVisualMeta(He(r6e,null,e,i))||{stops:[],outerColors:[]},a=i.getDataDimensionIndex(r);a>=0&&(s.dimension=a,n.push(s))}}),e.getData().setVisual("visualMeta",n)}}];function r6e(e,t,r,n){for(var i=t.targetVisuals[n],s=Ci.prepareVisualTypes(i),a={color:tw(e.getData(),"color")},o=0,l=s.length;o<l;o++){var c=s[o],d=i[c==="opacity"?"__alphaForOpacity":c];d&&d.applyVisual(r,h,f)}return a.color;function h(p){return a[p]}function f(p,g){a[p]=g}}var q7=V;function n6e(e){var t=e&&e.visualMap;ve(t)||(t=t?[t]:[]),q7(t,function(r){if(r){yg(r,"splitList")&&!yg(r,"pieces")&&(r.pieces=r.splitList,delete r.splitList);var n=r.pieces;n&&ve(n)&&q7(n,function(i){st(i)&&(yg(i,"start")&&!yg(i,"min")&&(i.min=i.start),yg(i,"end")&&!yg(i,"max")&&(i.max=i.end))})}})}function yg(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var Y7=!1;function Fae(e){Y7||(Y7=!0,e.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),e.registerAction(QFe,e6e),V(t6e,function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)}),e.registerPreprocessor(n6e))}function zae(e){e.registerComponentModel(qFe),e.registerComponentView(XFe),Fae(e)}var i6e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._pieceList=[],r}return t.prototype.optionUpdated=function(r,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],s6e[this._mode].call(this,this._pieceList),this._resetSelected(r,n);var s=this.option.categories;this.resetVisual(function(a,o){i==="categories"?(a.mappingMethod="category",a.categories=lt(s)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=xe(this._pieceList,function(l){return l=lt(l),o!=="inRange"&&(l.visual=null),l}))})},t.prototype.completeVisualOption=function(){var r=this.option,n={},i=Ci.listVisualTypes(),s=this.isCategory();V(r.pieces,function(o){V(i,function(l){o.hasOwnProperty(l)&&(n[l]=1)})}),V(n,function(o,l){var c=!1;V(this.stateList,function(d){c=c||a(r,d,l)||a(r.target,d,l)},this),!c&&V(this.stateList,function(d){(r[d]||(r[d]={}))[l]=Oae.get(l,d==="inRange"?"active":"inactive",s)})},this);function a(o,l,c){return o&&o[l]&&o[l].hasOwnProperty(c)}e.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(r,n){var i=this.option,s=this._pieceList,a=(n?i:r).selected||{};if(i.selected=a,V(s,function(l,c){var d=this.getSelectedMapKey(l);a.hasOwnProperty(d)||(a[d]=!0)},this),i.selectedMode==="single"){var o=!1;V(s,function(l,c){var d=this.getSelectedMapKey(l);a[d]&&(o?a[d]=!1:o=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(r){return this._mode==="categories"?r.value+"":r.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var r=this.option;return r.pieces&&r.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(r){this.option.selected=lt(r)},t.prototype.getValueState=function(r){var n=Ci.findPieceIndex(r,this._pieceList);return n!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[n])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(r){var n=[],i=this._pieceList;return this.eachTargetSeries(function(s){var a=[],o=s.getData();o.each(this.getDataDimensionIndex(o),function(l,c){var d=Ci.findPieceIndex(l,i);d===r&&a.push(c)},this),n.push({seriesId:s.id,dataIndex:a})},this),n},t.prototype.getRepresentValue=function(r){var n;if(this.isCategory())n=r.value;else if(r.value!=null)n=r.value;else{var i=r.interval||[];n=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return n},t.prototype.getVisualMeta=function(r){if(this.isCategory())return;var n=[],i=["",""],s=this;function a(d,h){var f=s.getRepresentValue({interval:d});h||(h=s.getValueState(f));var p=r(f,h);d[0]===-1/0?i[0]=p:d[1]===1/0?i[1]=p:n.push({value:d[0],color:p},{value:d[1],color:p})}var o=this._pieceList.slice();if(!o.length)o.push({interval:[-1/0,1/0]});else{var l=o[0].interval[0];l!==-1/0&&o.unshift({interval:[-1/0,l]}),l=o[o.length-1].interval[1],l!==1/0&&o.push({interval:[l,1/0]})}var c=-1/0;return V(o,function(d){var h=d.interval;h&&(h[0]>c&&a([c,h[0]],"outOfRange"),a(h.slice()),c=h[1])},this),{stops:n,outerColors:i}},t.type="visualMap.piecewise",t.defaultOption=ph(BE.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(BE),s6e={splitNumber:function(e){var t=this.option,r=Math.min(t.precision,20),n=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;for(var s=(n[1]-n[0])/i;+s.toFixed(r)!==s&&r<5;)r++;t.precision=r,s=+s.toFixed(r),t.minOpen&&e.push({interval:[-1/0,n[0]],close:[0,0]});for(var a=0,o=n[0];a<i;o+=s,a++){var l=a===i-1?n[1]:o+s;e.push({interval:[o,l],close:[1,1]})}t.maxOpen&&e.push({interval:[n[1],1/0],close:[0,0]}),z8(e),V(e,function(c,d){c.index=d,c.text=this.formatValueText(c.interval)},this)},categories:function(e){var t=this.option;V(t.categories,function(r){e.push({text:this.formatValueText(r,!0),value:r})},this),K7(t,e)},pieces:function(e){var t=this.option;V(t.pieces,function(r,n){st(r)||(r={value:r});var i={text:"",index:n};if(r.label!=null&&(i.text=r.label),r.hasOwnProperty("value")){var s=i.value=r.value;i.interval=[s,s],i.close=[1,1]}else{for(var a=i.interval=[],o=i.close=[0,0],l=[1,0,1],c=[-1/0,1/0],d=[],h=0;h<2;h++){for(var f=[["gte","gt","min"],["lte","lt","max"]][h],p=0;p<3&&a[h]==null;p++)a[h]=r[f[p]],o[h]=l[p],d[h]=p===2;a[h]==null&&(a[h]=c[h])}d[0]&&a[1]===1/0&&(o[0]=0),d[1]&&a[0]===-1/0&&(o[1]=0),a[0]===a[1]&&o[0]&&o[1]&&(i.value=a[0])}i.visual=Ci.retrieveVisuals(r),e.push(i)},this),K7(t,e),z8(e),V(e,function(r){var n=r.close,i=[["<","≤"][n[1]],[">","≥"][n[0]]];r.text=r.text||this.formatValueText(r.value!=null?r.value:r.interval,!1,i)},this)}};function K7(e,t){var r=e.inverse;(e.orient==="vertical"?!r:r)&&t.reverse()}var a6e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.doRender=function(){var r=this.group;r.removeAll();var n=this.visualMapModel,i=n.get("textGap"),s=n.textStyleModel,a=s.getFont(),o=s.getTextColor(),l=this._getItemAlign(),c=n.itemSize,d=this._getViewData(),h=d.endsText,f=Mi(n.get("showLabel",!0),!h),p=!n.get("selectedMode");h&&this._renderEndsText(r,h[0],c,f,l),V(d.viewPieceList,function(g){var v=g.piece,m=new ht;m.onclick=He(this._onItemClick,this,v),this._enableHoverLink(m,g.indexInModelPieceList);var y=n.getRepresentValue(v);if(this._createItemSymbol(m,y,[0,0,c[0],c[1]],p),f){var x=this.visualMapModel.getValueState(y);m.add(new pr({style:{x:l==="right"?-i:c[0]+i,y:c[1]/2,text:v.text,verticalAlign:"middle",align:l,font:a,fill:o,opacity:x==="outOfRange"?.5:1},silent:p}))}r.add(m)},this),h&&this._renderEndsText(r,h[1],c,f,l),Uf(n.get("orient"),r,n.get("itemGap")),this.renderBackground(r),this.positionGroup(r)},t.prototype._enableHoverLink=function(r,n){var i=this;r.on("mouseover",function(){return s("highlight")}).on("mouseout",function(){return s("downplay")});var s=function(a){var o=i.visualMapModel;o.option.hoverLink&&i.api.dispatchAction({type:a,batch:sk(o.findTargetDataIndices(n),o)})}},t.prototype._getItemAlign=function(){var r=this.visualMapModel,n=r.option;if(n.orient==="vertical")return Bae(r,this.api,r.itemSize);var i=n.align;return(!i||i==="auto")&&(i="left"),i},t.prototype._renderEndsText=function(r,n,i,s,a){if(n){var o=new ht,l=this.visualMapModel.textStyleModel;o.add(new pr({style:dn(l,{x:s?a==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:s?a:"center",text:n})})),r.add(o)}},t.prototype._getViewData=function(){var r=this.visualMapModel,n=xe(r.getPieceList(),function(o,l){return{piece:o,indexInModelPieceList:l}}),i=r.get("text"),s=r.get("orient"),a=r.get("inverse");return(s==="horizontal"?a:!a)?n.reverse():i&&(i=i.slice().reverse()),{viewPieceList:n,endsText:i}},t.prototype._createItemSymbol=function(r,n,i,s){var a=ai(this.getControllerVisual(n,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(n,"color"));a.silent=s,r.add(a)},t.prototype._onItemClick=function(r){var n=this.visualMapModel,i=n.option,s=i.selectedMode;if(s){var a=lt(i.selected),o=n.getSelectedMapKey(r);s==="single"||s===!0?(a[o]=!0,V(a,function(l,c){a[c]=c===o})):a[o]=!a[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:a})}},t.type="visualMap.piecewise",t}($ae);function Uae(e){e.registerComponentModel(i6e),e.registerComponentView(a6e),Fae(e)}function o6e(e){Ft(zae),Ft(Uae)}var l6e={label:{enabled:!0},decal:{show:!1}},Z7=cr(),c6e={};function u6e(e,t){var r=e.getModel("aria");if(!r.get("enabled"))return;var n=lt(l6e);Ct(n.label,e.getLocaleModel().get("aria"),!1),Ct(r.option,n,!1),i(),s();function i(){var c=r.getModel("decal"),d=c.get("show");if(d){var h=qe();e.eachSeries(function(f){if(!f.isColorBySeries()){var p=h.get(f.type);p||(p={},h.set(f.type,p)),Z7(f).scope=p}}),e.eachRawSeries(function(f){if(e.isSeriesFiltered(f))return;if(et(f.enableAriaDecal)){f.enableAriaDecal();return}var p=f.getData();if(f.isColorBySeries()){var x=iL(f.ecModel,f.name,c6e,e.getSeriesCount()),_=p.getVisual("decal");p.setVisual("decal",b(_,x))}else{var g=f.getRawData(),v={},m=Z7(f).scope;p.each(function(w){var S=p.getRawIndex(w);v[S]=w});var y=g.count();g.each(function(w){var S=v[w],k=g.getName(w)||w+"",C=iL(f.ecModel,k,m,y),E=p.getItemVisual(S,"decal");p.setItemVisual(S,"decal",b(E,C))})}function b(w,S){var k=w?fe(fe({},S),w):S;return k.dirty=!0,k}})}}function s(){var c=t.getZr().dom;if(c){var d=e.getLocaleModel().get("aria"),h=r.getModel("label");if(h.option=rt(h.option,d),!!h.get("enabled")){if(c.setAttribute("role","img"),h.get("description")){c.setAttribute("aria-label",h.get("description"));return}var f=e.getSeriesCount(),p=h.get(["data","maxCount"])||10,g=h.get(["series","maxCount"])||10,v=Math.min(f,g),m;if(!(f<1)){var y=o();if(y){var x=h.get(["general","withTitle"]);m=a(x,{title:y})}else m=h.get(["general","withoutTitle"]);var _=[],b=f>1?h.get(["series","multiple","prefix"]):h.get(["series","single","prefix"]);m+=a(b,{seriesCount:f}),e.eachSeries(function(C,E){if(E<v){var T=void 0,N=C.get("name"),R=N?"withName":"withoutName";T=f>1?h.get(["series","multiple",R]):h.get(["series","single",R]),T=a(T,{seriesId:C.seriesIndex,seriesName:C.get("name"),seriesType:l(C.subType)});var P=C.getData();if(P.count()>p){var D=h.get(["data","partialData"]);T+=a(D,{displayCnt:p})}else T+=h.get(["data","allData"]);for(var $=h.get(["data","separator","middle"]),L=h.get(["data","separator","end"]),O=h.get(["data","excludeDimensionId"]),j=[],M=0;M<P.count();M++)if(M<p){var I=P.getName(M),z=O?Rr(P.getValues(M),function(F,G){return Pt(O,G)===-1}):P.getValues(M),U=h.get(["data",I?"withName":"withoutName"]);j.push(a(U,{name:I,value:z.join($)}))}T+=j.join($)+L,_.push(T)}});var w=h.getModel(["series","multiple","separator"]),S=w.get("middle"),k=w.get("end");m+=_.join(S)+k,c.setAttribute("aria-label",m)}}}}function a(c,d){if(!De(c))return c;var h=c;return V(d,function(f,p){h=h.replace(new RegExp("\\{\\s*"+p+"\\s*\\}","g"),f)}),h}function o(){var c=e.get("title");return c&&c.length&&(c=c[0]),c&&c.text}function l(c){var d=e.getLocaleModel().get(["series","typeNames"]);return d[c]||d.chart}}function d6e(e){if(!(!e||!e.aria)){var t=e.aria;t.show!=null&&(t.enabled=t.show),t.label=t.label||{},V(["description","general","series","data"],function(r){t[r]!=null&&(t.label[r]=t[r])})}}function h6e(e){e.registerPreprocessor(d6e),e.registerVisual(e.PRIORITY.VISUAL.ARIA,u6e)}var X7={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},f6e=function(){function e(t){var r=this._condVal=De(t)?new RegExp(t):wCe(t)?t:null;if(r==null){var n="";jr(n)}}return e.prototype.evaluate=function(t){var r=typeof t;return De(r)?this._condVal.test(t):xr(r)?this._condVal.test(t+""):!1},e}(),p6e=function(){function e(){}return e.prototype.evaluate=function(){return this.value},e}(),g6e=function(){function e(){}return e.prototype.evaluate=function(){for(var t=this.children,r=0;r<t.length;r++)if(!t[r].evaluate())return!1;return!0},e}(),m6e=function(){function e(){}return e.prototype.evaluate=function(){for(var t=this.children,r=0;r<t.length;r++)if(t[r].evaluate())return!0;return!1},e}(),v6e=function(){function e(){}return e.prototype.evaluate=function(){return!this.child.evaluate()},e}(),y6e=function(){function e(){}return e.prototype.evaluate=function(){for(var t=!!this.valueParser,r=this.getValue,n=r(this.valueGetterParam),i=t?this.valueParser(n):null,s=0;s<this.subCondList.length;s++)if(!this.subCondList[s].evaluate(t?i:n))return!1;return!0},e}();function t$(e,t){if(e===!0||e===!1){var r=new p6e;return r.value=e,r}var n="";return Hae(e)||jr(n),e.and?J7("and",e,t):e.or?J7("or",e,t):e.not?x6e(e,t):_6e(e,t)}function J7(e,t,r){var n=t[e],i="";ve(n)||jr(i),n.length||jr(i);var s=e==="and"?new g6e:new m6e;return s.children=xe(n,function(a){return t$(a,r)}),s.children.length||jr(i),s}function x6e(e,t){var r=e.not,n="";Hae(r)||jr(n);var i=new v6e;return i.child=t$(r,t),i.child||jr(n),i}function _6e(e,t){for(var r="",n=t.prepareGetValue(e),i=[],s=Zt(e),a=e.parser,o=a?Cre(a):null,l=0;l<s.length;l++){var c=s[l];if(!(c==="parser"||t.valueGetterAttrMap.get(c))){var d=We(X7,c)?X7[c]:c,h=e[c],f=o?o(h):h,p=l2e(d,f)||d==="reg"&&new f6e(f);p||jr(r),i.push(p)}}i.length||jr(r);var g=new y6e;return g.valueGetterParam=n,g.valueParser=o,g.getValue=t.getValue,g.subCondList=i,g}function Hae(e){return st(e)&&!ds(e)}var b6e=function(){function e(t,r){this._cond=t$(t,r)}return e.prototype.evaluate=function(){return this._cond.evaluate()},e}();function w6e(e,t){return new b6e(e,t)}var S6e={type:"echarts:filter",transform:function(e){for(var t=e.upstream,r,n=w6e(e.config,{valueGetterAttrMap:qe({dimension:!0}),prepareGetValue:function(o){var l="",c=o.dimension;We(o,"dimension")||jr(l);var d=t.getDimensionInfo(c);return d||jr(l),{dimIdx:d.index}},getValue:function(o){return t.retrieveValueFromItem(r,o.dimIdx)}}),i=[],s=0,a=t.count();s<a;s++)r=t.getRawDataItem(s),n.evaluate()&&i.push(r);return{data:i}}},C6e={type:"echarts:sort",transform:function(e){var t=e.upstream,r=e.config,n="",i=Xr(r);i.length||jr(n);var s=[];V(i,function(d){var h=d.dimension,f=d.order,p=d.parser,g=d.incomparable;if(h==null&&jr(n),f!=="asc"&&f!=="desc"&&jr(n),g&&g!=="min"&&g!=="max"){var v="";jr(v)}if(f!=="asc"&&f!=="desc"){var m="";jr(m)}var y=t.getDimensionInfo(h);y||jr(n);var x=p?Cre(p):null;p&&!x&&jr(n),s.push({dimIdx:y.index,parser:x,comparator:new Ere(f,g)})});var a=t.sourceFormat;a!==hs&&a!==So&&jr(n);for(var o=[],l=0,c=t.count();l<c;l++)o.push(t.getRawDataItem(l));return o.sort(function(d,h){for(var f=0;f<s.length;f++){var p=s[f],g=t.retrieveValueFromItem(d,p.dimIdx),v=t.retrieveValueFromItem(h,p.dimIdx);p.parser&&(g=p.parser(g),v=p.parser(v));var m=p.comparator.evaluate(g,v);if(m!==0)return m}return 0}),{data:o}}};function k6e(e){e.registerTransform(S6e),e.registerTransform(C6e)}var E6e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="dataset",r}return t.prototype.init=function(r,n,i){e.prototype.init.call(this,r,n,i),this._sourceManager=new jre(this),QU(this)},t.prototype.mergeOption=function(r,n){e.prototype.mergeOption.call(this,r,n),QU(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:Jl},t}(Kt),T6e=function(e){le(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="dataset",r}return t.type="dataset",t}(Rn);function N6e(e){e.registerComponentModel(E6e),e.registerComponentView(T6e)}var Cl=oc.CMD;function sm(e,t){return Math.abs(e-t)<1e-5}function sD(e){var t=e.data,r=e.len(),n=[],i,s=0,a=0,o=0,l=0;function c(P,D){i&&i.length>2&&n.push(i),i=[P,D]}function d(P,D,$,L){sm(P,$)&&sm(D,L)||i.push(P,D,$,L,$,L)}function h(P,D,$,L,O,j){var M=Math.abs(D-P),I=Math.tan(M/4)*4/3,z=D<P?-1:1,U=Math.cos(P),F=Math.sin(P),G=Math.cos(D),Y=Math.sin(D),Z=U*O+$,B=F*j+L,W=G*O+$,K=Y*j+L,X=O*I*z,Q=j*I*z;i.push(Z-X*F,B+Q*U,W+X*Y,K-Q*G,W,K)}for(var f,p,g,v,m=0;m<r;){var y=t[m++],x=m===1;switch(x&&(s=t[m],a=t[m+1],o=s,l=a,(y===Cl.L||y===Cl.C||y===Cl.Q)&&(i=[o,l])),y){case Cl.M:s=o=t[m++],a=l=t[m++],c(o,l);break;case Cl.L:f=t[m++],p=t[m++],d(s,a,f,p),s=f,a=p;break;case Cl.C:i.push(t[m++],t[m++],t[m++],t[m++],s=t[m++],a=t[m++]);break;case Cl.Q:f=t[m++],p=t[m++],g=t[m++],v=t[m++],i.push(s+2/3*(f-s),a+2/3*(p-a),g+2/3*(f-g),v+2/3*(p-v),g,v),s=g,a=v;break;case Cl.A:var _=t[m++],b=t[m++],w=t[m++],S=t[m++],k=t[m++],C=t[m++]+k;m+=1;var E=!t[m++];f=Math.cos(k)*w+_,p=Math.sin(k)*S+b,x?(o=f,l=p,c(o,l)):d(s,a,f,p),s=Math.cos(C)*w+_,a=Math.sin(C)*S+b;for(var T=(E?-1:1)*Math.PI/2,N=k;E?N>C:N<C;N+=T){var R=E?Math.max(N+T,C):Math.min(N+T,C);h(N,R,_,b,w,S)}break;case Cl.R:o=s=t[m++],l=a=t[m++],f=o+t[m++],p=l+t[m++],c(f,l),d(f,l,f,p),d(f,p,o,p),d(o,p,o,l),d(o,l,f,l);break;case Cl.Z:i&&d(s,a,o,l),s=o,a=l;break}}return i&&i.length>2&&n.push(i),n}function aD(e,t,r,n,i,s,a,o,l,c){if(sm(e,r)&&sm(t,n)&&sm(i,a)&&sm(s,o)){l.push(a,o);return}var d=2/c,h=d*d,f=a-e,p=o-t,g=Math.sqrt(f*f+p*p);f/=g,p/=g;var v=r-e,m=n-t,y=i-a,x=s-o,_=v*v+m*m,b=y*y+x*x;if(_<h&&b<h){l.push(a,o);return}var w=f*v+p*m,S=-f*y-p*x,k=_-w*w,C=b-S*S;if(k<h&&w>=0&&C<h&&S>=0){l.push(a,o);return}var E=[],T=[];Vd(e,r,i,a,.5,E),Vd(t,n,s,o,.5,T),aD(E[0],T[0],E[1],T[1],E[2],T[2],E[3],T[3],l,c),aD(E[4],T[4],E[5],T[5],E[6],T[6],E[7],T[7],l,c)}function A6e(e,t){var r=sD(e),n=[];t=t||1;for(var i=0;i<r.length;i++){var s=r[i],a=[],o=s[0],l=s[1];a.push(o,l);for(var c=2;c<s.length;){var d=s[c++],h=s[c++],f=s[c++],p=s[c++],g=s[c++],v=s[c++];aD(o,l,d,h,f,p,g,v,a,t),o=g,l=v}n.push(a)}return n}function Vae(e,t,r){var n=e[t],i=e[1-t],s=Math.abs(n/i),a=Math.ceil(Math.sqrt(s*r)),o=Math.floor(r/a);o===0&&(o=1,a=r);for(var l=[],c=0;c<a;c++)l.push(o);var d=a*o,h=r-d;if(h>0)for(var c=0;c<h;c++)l[c%a]+=1;return l}function Q7(e,t,r){for(var n=e.r0,i=e.r,s=e.startAngle,a=e.endAngle,o=Math.abs(a-s),l=o*i,c=i-n,d=l>Math.abs(c),h=Vae([l,c],d?0:1,t),f=(d?o:c)/h.length,p=0;p<h.length;p++)for(var g=(d?c:o)/h[p],v=0;v<h[p];v++){var m={};d?(m.startAngle=s+f*p,m.endAngle=s+f*(p+1),m.r0=n+g*v,m.r=n+g*(v+1)):(m.startAngle=s+g*v,m.endAngle=s+g*(v+1),m.r0=n+f*p,m.r=n+f*(p+1)),m.clockwise=e.clockwise,m.cx=e.cx,m.cy=e.cy,r.push(m)}}function j6e(e,t,r){for(var n=e.width,i=e.height,s=n>i,a=Vae([n,i],s?0:1,t),o=s?"width":"height",l=s?"height":"width",c=s?"x":"y",d=s?"y":"x",h=e[o]/a.length,f=0;f<a.length;f++)for(var p=e[l]/a[f],g=0;g<a[f];g++){var v={};v[c]=f*h,v[d]=g*p,v[o]=h,v[l]=p,v.x+=e.x,v.y+=e.y,r.push(v)}}function eG(e,t,r,n){return e*n-r*t}function R6e(e,t,r,n,i,s,a,o){var l=r-e,c=n-t,d=a-i,h=o-s,f=eG(d,h,l,c);if(Math.abs(f)<1e-6)return null;var p=e-i,g=t-s,v=eG(p,g,d,h)/f;return v<0||v>1?null:new kt(v*l+e,v*c+t)}function I6e(e,t,r){var n=new kt;kt.sub(n,r,t),n.normalize();var i=new kt;kt.sub(i,e,t);var s=i.dot(n);return s}function xg(e,t){var r=e[e.length-1];r&&r[0]===t[0]&&r[1]===t[1]||e.push(t)}function M6e(e,t,r){for(var n=e.length,i=[],s=0;s<n;s++){var a=e[s],o=e[(s+1)%n],l=R6e(a[0],a[1],o[0],o[1],t.x,t.y,r.x,r.y);l&&i.push({projPt:I6e(l,t,r),pt:l,idx:s})}if(i.length<2)return[{points:e},{points:e}];i.sort(function(m,y){return m.projPt-y.projPt});var c=i[0],d=i[i.length-1];if(d.idx<c.idx){var h=c;c=d,d=h}for(var f=[c.pt.x,c.pt.y],p=[d.pt.x,d.pt.y],g=[f],v=[p],s=c.idx+1;s<=d.idx;s++)xg(g,e[s].slice());xg(g,p),xg(g,f);for(var s=d.idx+1;s<=c.idx+n;s++)xg(v,e[s%n].slice());return xg(v,f),xg(v,p),[{points:g},{points:v}]}function tG(e){var t=e.points,r=[],n=[];_N(t,r,n);var i=new At(r[0],r[1],n[0]-r[0],n[1]-r[1]),s=i.width,a=i.height,o=i.x,l=i.y,c=new kt,d=new kt;return s>a?(c.x=d.x=o+s/2,c.y=l,d.y=l+a):(c.y=d.y=l+a/2,c.x=o,d.x=o+s),M6e(t,c,d)}function FE(e,t,r,n){if(r===1)n.push(t);else{var i=Math.floor(r/2),s=e(t);FE(e,s[0],i,n),FE(e,s[1],r-i,n)}return n}function P6e(e,t){for(var r=[],n=0;n<t;n++)r.push(x5(e));return r}function L6e(e,t){t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel}function D6e(e){for(var t=[],r=0;r<e.length;)t.push([e[r++],e[r++]]);return t}function O6e(e,t){var r=[],n=e.shape,i;switch(e.type){case"rect":j6e(n,t,r),i=lr;break;case"sector":Q7(n,t,r),i=Bs;break;case"circle":Q7({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},t,r),i=Bs;break;default:var s=e.getComputedTransform(),a=s?Math.sqrt(Math.max(s[0]*s[0]+s[1]*s[1],s[2]*s[2]+s[3]*s[3])):1,o=xe(A6e(e.getUpdatedPathProxy(),a),function(y){return D6e(y)}),l=o.length;if(l===0)FE(tG,{points:o[0]},t,r);else if(l===t)for(var c=0;c<l;c++)r.push({points:o[c]});else{var d=0,h=xe(o,function(y){var x=[],_=[];_N(y,x,_);var b=(_[1]-x[1])*(_[0]-x[0]);return d+=b,{poly:y,area:b}});h.sort(function(y,x){return x.area-y.area});for(var f=t,c=0;c<l;c++){var p=h[c];if(f<=0)break;var g=c===l-1?f:Math.ceil(p.area/d*t);g<0||(FE(tG,{points:p.poly},g,r),f-=g)}}i=Fs;break}if(!i)return P6e(e,t);for(var v=[],c=0;c<r.length;c++){var m=new i;m.setShape(r[c]),L6e(e,m),v.push(m)}return v}function $6e(e,t){var r=e.length,n=t.length;if(r===n)return[e,t];for(var i=[],s=[],a=r<n?e:t,o=Math.min(r,n),l=Math.abs(n-r)/6,c=(o-2)/6,d=Math.ceil(l/c)+1,h=[a[0],a[1]],f=l,p=2;p<o;){var g=a[p-2],v=a[p-1],m=a[p++],y=a[p++],x=a[p++],_=a[p++],b=a[p++],w=a[p++];if(f<=0){h.push(m,y,x,_,b,w);continue}for(var S=Math.min(f,d-1)+1,k=1;k<=S;k++){var C=k/S;Vd(g,m,x,b,C,i),Vd(v,y,_,w,C,s),g=i[3],v=s[3],h.push(i[1],s[1],i[2],s[2],g,v),m=i[5],y=s[5],x=i[6],_=s[6]}f-=S-1}return a===e?[h,t]:[e,h]}function rG(e,t){for(var r=e.length,n=e[r-2],i=e[r-1],s=[],a=0;a<t.length;)s[a++]=n,s[a++]=i;return s}function B6e(e,t){for(var r,n,i,s=[],a=[],o=0;o<Math.max(e.length,t.length);o++){var l=e[o],c=t[o],d=void 0,h=void 0;l?c?(r=$6e(l,c),d=r[0],h=r[1],n=d,i=h):(h=rG(i||l,l),d=l):(d=rG(n||c,c),h=c),s.push(d),a.push(h)}return[s,a]}function nG(e){for(var t=0,r=0,n=0,i=e.length,s=0,a=i-2;s<i;a=s,s+=2){var o=e[a],l=e[a+1],c=e[s],d=e[s+1],h=o*d-c*l;t+=h,r+=(o+c)*h,n+=(l+d)*h}return t===0?[e[0]||0,e[1]||0]:[r/t/3,n/t/3,t]}function F6e(e,t,r,n){for(var i=(e.length-2)/6,s=1/0,a=0,o=e.length,l=o-2,c=0;c<i;c++){for(var d=c*6,h=0,f=0;f<o;f+=2){var p=f===0?d:(d+f-2)%l+2,g=e[p]-r[0],v=e[p+1]-r[1],m=t[f]-n[0],y=t[f+1]-n[1],x=m-g,_=y-v;h+=x*x+_*_}h<s&&(s=h,a=c)}return a}function z6e(e){for(var t=[],r=e.length,n=0;n<r;n+=2)t[n]=e[r-n-2],t[n+1]=e[r-n-1];return t}function U6e(e,t,r,n){for(var i=[],s,a=0;a<e.length;a++){var o=e[a],l=t[a],c=nG(o),d=nG(l);s==null&&(s=c[2]<0!=d[2]<0);var h=[],f=[],p=0,g=1/0,v=[],m=o.length;s&&(o=z6e(o));for(var y=F6e(o,l,c,d)*6,x=m-2,_=0;_<x;_+=2){var b=(y+_)%x+2;h[_+2]=o[b]-c[0],h[_+3]=o[b+1]-c[1]}h[0]=o[y]-c[0],h[1]=o[y+1]-c[1];for(var w=n/r,S=-n/2;S<=n/2;S+=w){for(var k=Math.sin(S),C=Math.cos(S),E=0,_=0;_<o.length;_+=2){var T=h[_],N=h[_+1],R=l[_]-d[0],P=l[_+1]-d[1],D=R*C-P*k,$=R*k+P*C;v[_]=D,v[_+1]=$;var L=D-T,O=$-N;E+=L*L+O*O}if(E<g){g=E,p=S;for(var j=0;j<v.length;j++)f[j]=v[j]}}i.push({from:h,to:f,fromCp:c,toCp:d,rotation:-p})}return i}function zE(e){return e.__isCombineMorphing}var Wae="__mOriginal_";function UE(e,t,r){var n=Wae+t,i=e[n]||e[t];e[n]||(e[n]=e[t]);var s=r.replace,a=r.after,o=r.before;e[t]=function(){var l=arguments,c;return o&&o.apply(this,l),s?c=s.apply(this,l):c=i.apply(this,l),a&&a.apply(this,l),c}}function zx(e,t){var r=Wae+t;e[r]&&(e[t]=e[r],e[r]=null)}function iG(e,t){for(var r=0;r<e.length;r++)for(var n=e[r],i=0;i<n.length;){var s=n[i],a=n[i+1];n[i++]=t[0]*s+t[2]*a+t[4],n[i++]=t[1]*s+t[3]*a+t[5]}}function Gae(e,t){var r=e.getUpdatedPathProxy(),n=t.getUpdatedPathProxy(),i=B6e(sD(r),sD(n)),s=i[0],a=i[1],o=e.getComputedTransform(),l=t.getComputedTransform();function c(){this.transform=null}o&&iG(s,o),l&&iG(a,l),UE(t,"updateTransform",{replace:c}),t.transform=null;var d=U6e(s,a,10,Math.PI),h=[];UE(t,"buildPath",{replace:function(f){for(var p=t.__morphT,g=1-p,v=[],m=0;m<d.length;m++){var y=d[m],x=y.from,_=y.to,b=y.rotation*p,w=y.fromCp,S=y.toCp,k=Math.sin(b),C=Math.cos(b);FC(v,w,S,p);for(var E=0;E<x.length;E+=2){var T=x[E],N=x[E+1],R=_[E],P=_[E+1],D=T*g+R*p,$=N*g+P*p;h[E]=D*C-$*k+v[0],h[E+1]=D*k+$*C+v[1]}var L=h[0],O=h[1];f.moveTo(L,O);for(var E=2;E<x.length;){var R=h[E++],P=h[E++],j=h[E++],M=h[E++],I=h[E++],z=h[E++];L===R&&O===P&&j===I&&M===z?f.lineTo(I,z):f.bezierCurveTo(R,P,j,M,I,z),L=I,O=z}}}})}function r$(e,t,r){if(!e||!t)return t;var n=r.done,i=r.during;Gae(e,t),t.__morphT=0;function s(){zx(t,"buildPath"),zx(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},rt({during:function(a){t.dirtyShape(),i&&i(a)},done:function(){s(),n&&n()}},r)),t}function H6e(e,t,r,n,i,s){var a=16;e=i===r?0:Math.round(32767*(e-r)/(i-r)),t=s===n?0:Math.round(32767*(t-n)/(s-n));for(var o=0,l,c=(1<<a)/2;c>0;c/=2){var d=0,h=0;(e&c)>0&&(d=1),(t&c)>0&&(h=1),o+=c*c*(3*d^h),h===0&&(d===1&&(e=c-1-e,t=c-1-t),l=e,e=t,t=l)}return o}function HE(e){var t=1/0,r=1/0,n=-1/0,i=-1/0,s=xe(e,function(o){var l=o.getBoundingRect(),c=o.getComputedTransform(),d=l.x+l.width/2+(c?c[4]:0),h=l.y+l.height/2+(c?c[5]:0);return t=Math.min(d,t),r=Math.min(h,r),n=Math.max(d,n),i=Math.max(h,i),[d,h]}),a=xe(s,function(o,l){return{cp:o,z:H6e(o[0],o[1],t,r,n,i),path:e[l]}});return a.sort(function(o,l){return o.z-l.z}).map(function(o){return o.path})}function qae(e){return O6e(e.path,e.count)}function oD(){return{fromIndividuals:[],toIndividuals:[],count:0}}function V6e(e,t,r){var n=[];function i(w){for(var S=0;S<w.length;S++){var k=w[S];zE(k)?i(k.childrenRef()):k instanceof Vt&&n.push(k)}}i(e);var s=n.length;if(!s)return oD();var a=r.dividePath||qae,o=a({path:t,count:s});if(o.length!==s)return console.error("Invalid morphing: unmatched splitted path"),oD();n=HE(n),o=HE(o);for(var l=r.done,c=r.during,d=r.individualDelay,h=new Hc,f=0;f<s;f++){var p=n[f],g=o[f];g.parent=t,g.copyTransform(h),d||Gae(p,g)}t.__isCombineMorphing=!0,t.childrenRef=function(){return o};function v(w){for(var S=0;S<o.length;S++)o[S].addSelfToZr(w)}UE(t,"addSelfToZr",{after:function(w){v(w)}}),UE(t,"removeSelfFromZr",{after:function(w){for(var S=0;S<o.length;S++)o[S].removeSelfFromZr(w)}});function m(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,zx(t,"addSelfToZr"),zx(t,"removeSelfFromZr")}var y=o.length;if(d)for(var x=y,_=function(){x--,x===0&&(m(),l&&l())},f=0;f<y;f++){var b=d?rt({delay:(r.delay||0)+d(f,y,n[f],o[f]),done:_},r):r;r$(n[f],o[f],b)}else t.__morphT=0,t.animateTo({__morphT:1},rt({during:function(w){for(var S=0;S<y;S++){var k=o[S];k.__morphT=t.__morphT,k.dirtyShape()}c&&c(w)},done:function(){m();for(var w=0;w<e.length;w++)zx(e[w],"updateTransform");l&&l()}},r));return t.__zr&&v(t.__zr),{fromIndividuals:n,toIndividuals:o,count:y}}function W6e(e,t,r){var n=t.length,i=[],s=r.dividePath||qae;function a(p){for(var g=0;g<p.length;g++){var v=p[g];zE(v)?a(v.childrenRef()):v instanceof Vt&&i.push(v)}}if(zE(e)){a(e.childrenRef());var o=i.length;if(o<n)for(var l=0,c=o;c<n;c++)i.push(x5(i[l++%o]));i.length=n}else{i=s({path:e,count:n});for(var d=e.getComputedTransform(),c=0;c<i.length;c++)i[c].setLocalTransform(d);if(i.length!==n)return console.error("Invalid morphing: unmatched splitted path"),oD()}i=HE(i),t=HE(t);for(var h=r.individualDelay,c=0;c<n;c++){var f=h?rt({delay:(r.delay||0)+h(c,n,i[c],t[c])},r):r;r$(i[c],t[c],f)}return{fromIndividuals:i,toIndividuals:t,count:t.length}}function sG(e){return ve(e[0])}function aG(e,t){for(var r=[],n=e.length,i=0;i<n;i++)r.push({one:e[i],many:[]});for(var i=0;i<t.length;i++){var s=t[i].length,a=void 0;for(a=0;a<s;a++)r[a%n].many.push(t[i][a])}for(var o=0,i=n-1;i>=0;i--)if(!r[i].many.length){var l=r[o].many;if(l.length<=1)if(o)o=0;else return r;var s=l.length,c=Math.ceil(s/2);r[i].many=l.slice(c,s),r[o].many=l.slice(0,c),o++}return r}var G6e={clone:function(e){for(var t=[],r=1-Math.pow(1-e.path.style.opacity,1/e.count),n=0;n<e.count;n++){var i=x5(e.path);i.setStyle("opacity",r),t.push(i)}return t},split:null};function YR(e,t,r,n,i,s){if(!e.length||!t.length)return;var a=Ov("update",n,i);if(!(a&&a.duration>0))return;var o=n.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},a),c,d;sG(e)&&(c=e,d=t),sG(t)&&(c=t,d=e);function h(y,x,_,b,w){var S=y.many,k=y.one;if(S.length===1&&!w){var C=x?S[0]:k,E=x?k:S[0];if(zE(C))h({many:[C],one:E},!0,_,b,!0);else{var T=o?rt({delay:o(_,b)},l):l;r$(C,E,T),s(C,E,C,E,T)}}else for(var N=rt({dividePath:G6e[r],individualDelay:o&&function(O,j,M,I){return o(O+_,b)}},l),R=x?V6e(S,k,N):W6e(k,S,N),P=R.fromIndividuals,D=R.toIndividuals,$=P.length,L=0;L<$;L++){var T=o?rt({delay:o(L,$)},l):l;s(P[L],D[L],x?S[L]:y.one,x?y.one:S[L],T)}}for(var f=c?c===e:e.length>t.length,p=c?aG(d,c):aG(f?t:e,[f?e:t]),g=0,v=0;v<p.length;v++)g+=p[v].many.length;for(var m=0,v=0;v<p.length;v++)h(p[v],f,m,g),m+=p[v].many.length}function af(e){if(!e)return[];if(ve(e)){for(var t=[],r=0;r<e.length;r++)t.push(af(e[r]));return t}var n=[];return e.traverse(function(i){i instanceof Vt&&!i.disableMorphing&&!i.invisible&&!i.ignore&&n.push(i)}),n}var Yae=1e4,q6e=0,oG=1,lG=2,Y6e=cr();function K6e(e,t){for(var r=e.dimensions,n=0;n<r.length;n++){var i=e.getDimensionInfo(r[n]);if(i&&i.otherDims[t]===0)return r[n]}}function Z6e(e,t,r){var n=e.getDimensionInfo(r),i=n&&n.ordinalMeta;if(n){var s=e.get(n.name,t);return i&&i.categories[s]||s+""}}function cG(e,t,r,n){var i=n?"itemChildGroupId":"itemGroupId",s=K6e(e,i);if(s){var a=Z6e(e,t,s);return a}var o=e.getRawDataItem(t),l=n?"childGroupId":"groupId";if(o&&o[l])return o[l]+"";if(!n)return r||e.getId(t)}function uG(e){var t=[];return V(e,function(r){var n=r.data,i=r.dataGroupId;if(!(n.count()>Yae))for(var s=n.getIndices(),a=0;a<s.length;a++)t.push({data:n,groupId:cG(n,a,i,!1),childGroupId:cG(n,a,i,!0),divide:r.divide,dataIndex:a})}),t}function KR(e,t,r){e.traverse(function(n){n instanceof Vt&&Sn(n,{style:{opacity:0}},t,{dataIndex:r,isFrom:!0})})}function ZR(e){if(e.parent){var t=e.getComputedTransform();e.setLocalTransform(t),e.parent.remove(e)}}function _g(e){e.stopAnimation(),e.isGroup&&e.traverse(function(t){t.stopAnimation()})}function X6e(e,t,r){var n=Ov("update",r,t);n&&e.traverse(function(i){if(i instanceof _o){var s=WTe(i);s&&i.animateFrom({style:s},n)}})}function J6e(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++){var i=e[n],s=t[n];if(i.data.getId(i.dataIndex)!==s.data.getId(s.dataIndex))return!1}return!0}function Kae(e,t,r){var n=uG(e),i=uG(t);function s(_,b,w,S,k){(w||_)&&b.animateFrom({style:w&&w!==_?fe(fe({},w.style),_.style):_.style},k)}var a=!1,o=q6e,l=qe(),c=qe();n.forEach(function(_){_.groupId&&l.set(_.groupId,!0),_.childGroupId&&c.set(_.childGroupId,!0)});for(var d=0;d<i.length;d++){var h=i[d].groupId;if(c.get(h)){o=oG;break}var f=i[d].childGroupId;if(f&&l.get(f)){o=lG;break}}function p(_,b){return function(w){var S=w.data,k=w.dataIndex;return b?S.getId(k):_?o===oG?w.childGroupId:w.groupId:o===lG?w.childGroupId:w.groupId}}var g=J6e(n,i),v={};if(!g)for(var d=0;d<i.length;d++){var m=i[d],y=m.data.getItemGraphicEl(m.dataIndex);y&&(v[y.id]=!0)}function x(_,b){var w=n[b],S=i[_],k=S.data.hostModel,C=w.data.getItemGraphicEl(w.dataIndex),E=S.data.getItemGraphicEl(S.dataIndex);if(C===E){E&&X6e(E,S.dataIndex,k);return}C&&v[C.id]||E&&(_g(E),C?(_g(C),ZR(C),a=!0,YR(af(C),af(E),S.divide,k,_,s)):KR(E,k,_))}new uu(n,i,p(!0,g),p(!1,g),null,"multiple").update(x).updateManyToOne(function(_,b){var w=i[_],S=w.data,k=S.hostModel,C=S.getItemGraphicEl(w.dataIndex),E=Rr(xe(b,function(T){return n[T].data.getItemGraphicEl(n[T].dataIndex)}),function(T){return T&&T!==C&&!v[T.id]});C&&(_g(C),E.length?(V(E,function(T){_g(T),ZR(T)}),a=!0,YR(af(E),af(C),w.divide,k,_,s)):KR(C,k,w.dataIndex))}).updateOneToMany(function(_,b){var w=n[b],S=w.data.getItemGraphicEl(w.dataIndex);if(!(S&&v[S.id])){var k=Rr(xe(_,function(E){return i[E].data.getItemGraphicEl(i[E].dataIndex)}),function(E){return E&&E!==S}),C=i[_[0]].data.hostModel;k.length&&(V(k,function(E){return _g(E)}),S?(_g(S),ZR(S),a=!0,YR(af(S),af(k),w.divide,C,_[0],s)):V(k,function(E){return KR(E,C,_[0])}))}}).updateManyToMany(function(_,b){new uu(b,_,function(w){return n[w].data.getId(n[w].dataIndex)},function(w){return i[w].data.getId(i[w].dataIndex)}).update(function(w,S){x(_[w],b[S])}).execute()}).execute(),a&&V(t,function(_){var b=_.data,w=b.hostModel,S=w&&r.getViewOfSeriesModel(w),k=Ov("update",w,0);S&&w.isAnimationEnabled()&&k&&k.duration>0&&S.group.traverse(function(C){C instanceof Vt&&!C.animators.length&&C.animateFrom({style:{opacity:0}},k)})})}function dG(e){var t=e.getModel("universalTransition").get("seriesKey");return t||e.id}function hG(e){return ve(e)?e.sort().join(","):e}function td(e){if(e.hostModel)return e.hostModel.getModel("universalTransition").get("divideShape")}function Q6e(e,t){var r=qe(),n=qe(),i=qe();return V(e.oldSeries,function(s,a){var o=e.oldDataGroupIds[a],l=e.oldData[a],c=dG(s),d=hG(c);n.set(d,{dataGroupId:o,data:l}),ve(c)&&V(c,function(h){i.set(h,{key:d,dataGroupId:o,data:l})})}),V(t.updatedSeries,function(s){if(s.isUniversalTransitionEnabled()&&s.isAnimationEnabled()){var a=s.get("dataGroupId"),o=s.getData(),l=dG(s),c=hG(l),d=n.get(c);if(d)r.set(c,{oldSeries:[{dataGroupId:d.dataGroupId,divide:td(d.data),data:d.data}],newSeries:[{dataGroupId:a,divide:td(o),data:o}]});else if(ve(l)){var h=[];V(l,function(g){var v=n.get(g);v.data&&h.push({dataGroupId:v.dataGroupId,divide:td(v.data),data:v.data})}),h.length&&r.set(c,{oldSeries:h,newSeries:[{dataGroupId:a,data:o,divide:td(o)}]})}else{var f=i.get(l);if(f){var p=r.get(f.key);p||(p={oldSeries:[{dataGroupId:f.dataGroupId,data:f.data,divide:td(f.data)}],newSeries:[]},r.set(f.key,p)),p.newSeries.push({dataGroupId:a,data:o,divide:td(o)})}}}}),r}function fG(e,t){for(var r=0;r<e.length;r++){var n=t.seriesIndex!=null&&t.seriesIndex===e[r].seriesIndex||t.seriesId!=null&&t.seriesId===e[r].id;if(n)return r}}function eze(e,t,r,n){var i=[],s=[];V(Xr(e.from),function(a){var o=fG(t.oldSeries,a);o>=0&&i.push({dataGroupId:t.oldDataGroupIds[o],data:t.oldData[o],divide:td(t.oldData[o]),groupIdDim:a.dimension})}),V(Xr(e.to),function(a){var o=fG(r.updatedSeries,a);if(o>=0){var l=r.updatedSeries[o].getData();s.push({dataGroupId:t.oldDataGroupIds[o],data:l,divide:td(l),groupIdDim:a.dimension})}}),i.length>0&&s.length>0&&Kae(i,s,n)}function tze(e){e.registerUpdateLifecycle("series:beforeupdate",function(t,r,n){V(Xr(n.seriesTransition),function(i){V(Xr(i.to),function(s){for(var a=n.updatedSeries,o=0;o<a.length;o++)(s.seriesIndex!=null&&s.seriesIndex===a[o].seriesIndex||s.seriesId!=null&&s.seriesId===a[o].id)&&(a[o][JC]=!0)})})}),e.registerUpdateLifecycle("series:transition",function(t,r,n){var i=Y6e(r);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var s=n.seriesTransition;if(s)V(Xr(s),function(p){eze(p,i,n,r)});else{var a=Q6e(i,n);V(a.keys(),function(p){var g=a.get(p);Kae(g.oldSeries,g.newSeries,r)})}V(n.updatedSeries,function(p){p[JC]&&(p[JC]=!1)})}for(var o=t.getSeries(),l=i.oldSeries=[],c=i.oldDataGroupIds=[],d=i.oldData=[],h=0;h<o.length;h++){var f=o[h].getData();f.count()<Yae&&(l.push(o[h]),c.push(o[h].get("dataGroupId")),d.push(f))}})}Ft([dIe]);Ft([aIe]);Ft([RIe,GIe,rMe,LMe,GMe,IPe,aLe,HLe,dDe,vDe,EDe,_Oe,WOe,r3e,y3e,w3e,I3e,B3e,Z3e,r5e,h5e,K5e]);Ft(p4e);Ft(F4e);Ft(qie);Ft(Q4e);Ft(Ise);Ft(n$e);Ft(h$e);Ft(Q$e);Ft(yBe);Ft(hw);Ft(LBe);Ft($Be);Ft(YBe);Ft(tFe);Ft(oFe);Ft(fFe);Ft(SFe);Ft(zFe);Ft(Lae);Ft(Dae);Ft(o6e);Ft(zae);Ft(Uae);Ft(h6e);Ft(k6e);Ft(N6e);Ft(tze);Ft(ERe);const rze=({deviceName:e,portUsages:t,onExport:r})=>{const n=A.useRef(null),i=A.useRef(null),[s,a]=A.useState({key:"portName",direction:"asc"});A.useEffect(()=>{if(!n.current||!t.length)return;const p=PH(n.current),g=t.map(_=>({name:_.portName,value:_.direction==="out"?0:_.utilization*100})),v=t.map(_=>({name:_.portName,value:_.direction==="in"?0:_.utilization*100})),m=t.map(_=>_.portName),y={title:{text:`${e} 端口带宽利用率`,left:"center",textStyle:{fontSize:16,fontWeight:"normal"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:_=>{const b=_[0].name,w=t.find(k=>k.portName===b);if(!w)return"";let S=`<div>${b}</div>`;return _.forEach(k=>{const C=k.seriesName==="接收"?"in":"out",E=w.direction==="both"||w.direction===C?w.bytesPerSecond:0;S+=`
              <div style="display: flex; justify-content: space-between; margin-top: 4px;">
                <span style="color: ${k.color}; margin-right: 8px;">●</span>
                <span style="margin-right: 8px;">${k.seriesName}:</span>
                <span>${ep(E)}/s (${k.value.toFixed(2)}%)</span>
              </div>
            `}),S}},legend:{data:["接收","发送"],bottom:0},grid:{left:"3%",right:"4%",bottom:"15%",top:"15%",containLabel:!0},xAxis:{type:"category",data:m,axisLabel:{interval:0,rotate:45}},yAxis:{type:"value",name:"利用率 (%)",max:100},series:[{name:"接收",type:"bar",stack:"total",emphasis:{focus:"series"},data:g,itemStyle:{color:"#4f46e5"}},{name:"发送",type:"bar",stack:"total",emphasis:{focus:"series"},data:v,itemStyle:{color:"#06b6d4"}}]};p.setOption(y);const x=()=>p.resize();return window.addEventListener("resize",x),()=>{p.dispose(),window.removeEventListener("resize",x)}},[e,t]),A.useEffect(()=>{if(!i.current||!t.length)return;const p=PH(i.current),g=t.map(_=>({name:_.portName,max:100})),v=t.map(_=>_.direction==="out"?0:_.utilization*100),m=t.map(_=>_.direction==="in"?0:_.utilization*100),y={title:{text:"端口利用率雷达图",left:"center",textStyle:{fontSize:16,fontWeight:"normal"}},tooltip:{trigger:"item"},legend:{data:["接收","发送"],bottom:0},radar:{indicator:g,radius:"65%",center:["50%","50%"],name:{textStyle:{color:"#333",fontSize:12}},splitLine:{lineStyle:{color:["rgba(0, 0, 0, 0.1)","rgba(0, 0, 0, 0.2)","rgba(0, 0, 0, 0.3)","rgba(0, 0, 0, 0.4)","rgba(0, 0, 0, 0.5)"].reverse()}},splitArea:{show:!1},axisLine:{lineStyle:{color:"rgba(0, 0, 0, 0.2)"}}},series:[{name:"端口利用率",type:"radar",data:[{value:v,name:"接收",areaStyle:{color:"rgba(79, 70, 229, 0.3)"},lineStyle:{color:"#4f46e5"}},{value:m,name:"发送",areaStyle:{color:"rgba(6, 182, 212, 0.3)"},lineStyle:{color:"#06b6d4"}}]}]};p.setOption(y);const x=()=>p.resize();return window.addEventListener("resize",x),()=>{p.dispose(),window.removeEventListener("resize",x)}},[t]);const o=[...t].sort((p,g)=>s.key==="utilization"||s.key==="bytesPerSecond"?s.direction==="asc"?p[s.key]-g[s.key]:g[s.key]-p[s.key]:p[s.key]<g[s.key]?s.direction==="asc"?-1:1:p[s.key]>g[s.key]?s.direction==="asc"?1:-1:0),l=p=>{let g="asc";s.key===p&&s.direction==="asc"&&(g="desc"),a({key:p,direction:g})},c=p=>s.key!==p?null:s.direction==="asc"?"↑":"↓",d=p=>p<.3?"text-green-600":p<.6?"text-amber-500":p<.8?"text-orange-500":"text-red-600",h=p=>{switch(p){case"in":return u.jsx(Fk,{size:16,className:"text-indigo-600"});case"out":return u.jsx(Sz,{size:16,className:"text-cyan-600"});case"both":return u.jsxs("div",{className:"flex",children:[u.jsx(Fk,{size:16,className:"text-indigo-600 mr-1"}),u.jsx(Sz,{size:16,className:"text-cyan-600"})]});default:return null}},f=t.some(p=>p.isAbnormal);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:u.jsx("div",{ref:n,style:{height:"300px"}})}),u.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:u.jsx("div",{ref:i,style:{height:"300px"}})})]}),f&&u.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-r-lg",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),u.jsx("div",{className:"ml-3",children:u.jsxs("p",{className:"text-sm text-red-700",children:[u.jsx("strong",{children:"注意："})," 检测到端口带宽不平衡问题。某些端口利用率过高，而其他端口几乎未使用。请检查网络配置，可能存在流量不均衡问题。"]})})]})}),u.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b",children:[u.jsx("h3",{className:"text-lg font-medium",children:"端口带宽利用率详情"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs("button",{onClick:()=>r("csv"),className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-md text-sm flex items-center",children:[u.jsx(Yl,{size:14,className:"mr-1"}),"导出CSV"]}),u.jsxs("button",{onClick:()=>r("excel"),className:"px-3 py-1 bg-green-100 hover:bg-green-200 text-green-800 rounded-md text-sm flex items-center",children:[u.jsx(Yl,{size:14,className:"mr-1"}),"导出Excel"]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>l("deviceName"),children:u.jsxs("div",{className:"flex items-center",children:["设备名",u.jsx("span",{className:"ml-1",children:c("deviceName")})]})}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>l("portName"),children:u.jsxs("div",{className:"flex items-center",children:["端口",u.jsx("span",{className:"ml-1",children:c("portName")})]})}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>l("direction"),children:u.jsxs("div",{className:"flex items-center",children:["方向",u.jsx("span",{className:"ml-1",children:c("direction")})]})}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>l("bytesPerSecond"),children:u.jsxs("div",{className:"flex items-center",children:["当前速率",u.jsx("span",{className:"ml-1",children:c("bytesPerSecond")})]})}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>l("utilization"),children:u.jsxs("div",{className:"flex items-center",children:["利用率",u.jsx("span",{className:"ml-1",children:c("utilization")})]})}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>l("isAbnormal"),children:u.jsxs("div",{className:"flex items-center",children:["状态",u.jsx("span",{className:"ml-1",children:c("isAbnormal")})]})})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map((p,g)=>u.jsxs("tr",{className:p.isAbnormal?"bg-red-50":"",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.deviceName}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:p.portName}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:u.jsxs("div",{className:"flex items-center",children:[h(p.direction),u.jsx("span",{className:"ml-2",children:p.direction==="in"?"接收":p.direction==="out"?"发送":"双向"})]})}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[ep(p.bytesPerSecond),"/s"]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsxs("div",{className:`mr-2 ${d(p.utilization)}`,children:[(p.utilization*100).toFixed(2),"%"]}),u.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-1.5",children:u.jsx("div",{className:`h-1.5 rounded-full ${p.utilization<.3?"bg-green-500":p.utilization<.6?"bg-amber-500":p.utilization<.8?"bg-orange-500":"bg-red-500"}`,style:{width:`${Math.min(100,Math.round(p.utilization*100))}%`}})})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:p.isAbnormal?u.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"异常"}):u.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"正常"})})]},`${p.deviceName}-${p.portId}-${g}`))})]})})]})]})},nze=({pods:e,selectedPod:t,onPodChange:r,viewMode:n,onViewModeChange:i,showPodSelection:s=!0})=>{const[a,o]=Wr.useState(!1),[l,c]=Wr.useState(!1),d=A.useRef(null),h=A.useRef(null);A.useEffect(()=>{const v=m=>{d.current&&!d.current.contains(m.target)&&a&&o(!1),h.current&&!h.current.contains(m.target)&&l&&c(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[a,l]);const f=()=>{if(!t)return"选择Pod";const v=e.find(m=>m.id===t);return v?v.name:"选择Pod"},p=()=>n.showSpine&&n.showLeaf&&n.showTor&&n.showClient?"完整视图":n.showLeaf&&n.showTor&&n.showClient?"Leaf + ToR + 客户端":n.showTor&&n.showClient?"ToR + 客户端":"自定义视图",g=[{id:"full",label:"完整视图",description:"Spine + Leaf + ToR + 客户端",mode:{showSpine:!0,showLeaf:!0,showTor:!0,showClient:!0}},{id:"leaf-down",label:"Leaf层下视图",description:"Leaf + ToR + 客户端",mode:{showSpine:!1,showLeaf:!0,showTor:!0,showClient:!0}},{id:"tor-down",label:"ToR层下视图",description:"ToR + 客户端",mode:{showSpine:!1,showLeaf:!1,showTor:!0,showClient:!0}}];return u.jsxs("div",{className:"flex flex-wrap gap-3 p-4 bg-white shadow-sm rounded-lg",children:[s&&u.jsxs("div",{className:"relative",ref:d,children:[u.jsxs("button",{className:"flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-md text-sm font-medium transition-colors",onClick:()=>o(!a),children:[u.jsx(Ez,{size:16,className:"mr-2 text-gray-500"}),f(),u.jsx(zk,{size:14,className:"ml-2 text-gray-500"})]}),a&&u.jsx("div",{className:"absolute left-0 mt-2 w-64 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10",children:u.jsx("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:e.map(v=>u.jsx("button",{className:`
                      w-full text-left block px-4 py-2 text-sm 
                      ${t===v.id?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-gray-100"}
                    `,role:"menuitem",onClick:()=>{r(v.id),o(!1)},children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ez,{size:14,className:"mr-2"}),v.name,t===v.id&&u.jsx(JT,{size:14,className:"ml-auto text-indigo-600"})]})},v.id))})})]}),u.jsxs("div",{className:"relative",ref:h,children:[u.jsxs("button",{className:"flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-md text-sm font-medium transition-colors",onClick:()=>c(!l),children:[u.jsx(QM,{size:16,className:"mr-2 text-gray-500"}),p(),u.jsx(zk,{size:14,className:"ml-2 text-gray-500"})]}),l&&u.jsx("div",{className:"absolute left-0 mt-2 w-72 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10",children:u.jsxs("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:[u.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500",children:"预设视图"}),g.map(v=>u.jsx("button",{className:"w-full text-left block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:()=>{i(v.mode),c(!1)},children:u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{children:v.label}),u.jsx("span",{className:"text-xs text-gray-500",children:v.description})]})},v.id)),u.jsxs("div",{className:"border-t border-gray-100 mt-1 pt-1",children:[u.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500",children:"自定义视图"}),u.jsxs("div",{className:"px-4 py-2 space-y-2",children:[u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",className:"h-4 w-4 text-indigo-600 rounded",checked:n.showSpine,onChange:v=>i({...n,showSpine:v.target.checked})}),u.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Spine层"})]}),u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",className:"h-4 w-4 text-indigo-600 rounded",checked:n.showLeaf,onChange:v=>i({...n,showLeaf:v.target.checked})}),u.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Leaf层"})]}),u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",className:"h-4 w-4 text-indigo-600 rounded",checked:n.showTor,onChange:v=>i({...n,showTor:v.target.checked})}),u.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"ToR层"})]}),u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",className:"h-4 w-4 text-indigo-600 rounded",checked:n.showClient,onChange:v=>i({...n,showClient:v.target.checked})}),u.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"客户端层"})]})]})]})]})})]})]})};var ize={exports:{}};(function(e){var t=function(r){var n=Object.prototype,i=n.hasOwnProperty,s=Object.defineProperty||function(M,I,z){M[I]=z.value},a,o=typeof Symbol=="function"?Symbol:{},l=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",d=o.toStringTag||"@@toStringTag";function h(M,I,z){return Object.defineProperty(M,I,{value:z,enumerable:!0,configurable:!0,writable:!0}),M[I]}try{h({},"")}catch{h=function(I,z,U){return I[z]=U}}function f(M,I,z,U){var F=I&&I.prototype instanceof _?I:_,G=Object.create(F.prototype),Y=new L(U||[]);return s(G,"_invoke",{value:R(M,z,Y)}),G}r.wrap=f;function p(M,I,z){try{return{type:"normal",arg:M.call(I,z)}}catch(U){return{type:"throw",arg:U}}}var g="suspendedStart",v="suspendedYield",m="executing",y="completed",x={};function _(){}function b(){}function w(){}var S={};h(S,l,function(){return this});var k=Object.getPrototypeOf,C=k&&k(k(O([])));C&&C!==n&&i.call(C,l)&&(S=C);var E=w.prototype=_.prototype=Object.create(S);b.prototype=w,s(E,"constructor",{value:w,configurable:!0}),s(w,"constructor",{value:b,configurable:!0}),b.displayName=h(w,d,"GeneratorFunction");function T(M){["next","throw","return"].forEach(function(I){h(M,I,function(z){return this._invoke(I,z)})})}r.isGeneratorFunction=function(M){var I=typeof M=="function"&&M.constructor;return I?I===b||(I.displayName||I.name)==="GeneratorFunction":!1},r.mark=function(M){return Object.setPrototypeOf?Object.setPrototypeOf(M,w):(M.__proto__=w,h(M,d,"GeneratorFunction")),M.prototype=Object.create(E),M},r.awrap=function(M){return{__await:M}};function N(M,I){function z(G,Y,Z,B){var W=p(M[G],M,Y);if(W.type==="throw")B(W.arg);else{var K=W.arg,X=K.value;return X&&typeof X=="object"&&i.call(X,"__await")?I.resolve(X.__await).then(function(Q){z("next",Q,Z,B)},function(Q){z("throw",Q,Z,B)}):I.resolve(X).then(function(Q){K.value=Q,Z(K)},function(Q){return z("throw",Q,Z,B)})}}var U;function F(G,Y){function Z(){return new I(function(B,W){z(G,Y,B,W)})}return U=U?U.then(Z,Z):Z()}s(this,"_invoke",{value:F})}T(N.prototype),h(N.prototype,c,function(){return this}),r.AsyncIterator=N,r.async=function(M,I,z,U,F){F===void 0&&(F=Promise);var G=new N(f(M,I,z,U),F);return r.isGeneratorFunction(I)?G:G.next().then(function(Y){return Y.done?Y.value:G.next()})};function R(M,I,z){var U=g;return function(G,Y){if(U===m)throw new Error("Generator is already running");if(U===y){if(G==="throw")throw Y;return j()}for(z.method=G,z.arg=Y;;){var Z=z.delegate;if(Z){var B=P(Z,z);if(B){if(B===x)continue;return B}}if(z.method==="next")z.sent=z._sent=z.arg;else if(z.method==="throw"){if(U===g)throw U=y,z.arg;z.dispatchException(z.arg)}else z.method==="return"&&z.abrupt("return",z.arg);U=m;var W=p(M,I,z);if(W.type==="normal"){if(U=z.done?y:v,W.arg===x)continue;return{value:W.arg,done:z.done}}else W.type==="throw"&&(U=y,z.method="throw",z.arg=W.arg)}}}function P(M,I){var z=I.method,U=M.iterator[z];if(U===a)return I.delegate=null,z==="throw"&&M.iterator.return&&(I.method="return",I.arg=a,P(M,I),I.method==="throw")||z!=="return"&&(I.method="throw",I.arg=new TypeError("The iterator does not provide a '"+z+"' method")),x;var F=p(U,M.iterator,I.arg);if(F.type==="throw")return I.method="throw",I.arg=F.arg,I.delegate=null,x;var G=F.arg;if(!G)return I.method="throw",I.arg=new TypeError("iterator result is not an object"),I.delegate=null,x;if(G.done)I[M.resultName]=G.value,I.next=M.nextLoc,I.method!=="return"&&(I.method="next",I.arg=a);else return G;return I.delegate=null,x}T(E),h(E,d,"Generator"),h(E,l,function(){return this}),h(E,"toString",function(){return"[object Generator]"});function D(M){var I={tryLoc:M[0]};1 in M&&(I.catchLoc=M[1]),2 in M&&(I.finallyLoc=M[2],I.afterLoc=M[3]),this.tryEntries.push(I)}function $(M){var I=M.completion||{};I.type="normal",delete I.arg,M.completion=I}function L(M){this.tryEntries=[{tryLoc:"root"}],M.forEach(D,this),this.reset(!0)}r.keys=function(M){var I=Object(M),z=[];for(var U in I)z.push(U);return z.reverse(),function F(){for(;z.length;){var G=z.pop();if(G in I)return F.value=G,F.done=!1,F}return F.done=!0,F}};function O(M){if(M){var I=M[l];if(I)return I.call(M);if(typeof M.next=="function")return M;if(!isNaN(M.length)){var z=-1,U=function F(){for(;++z<M.length;)if(i.call(M,z))return F.value=M[z],F.done=!1,F;return F.value=a,F.done=!0,F};return U.next=U}}return{next:j}}r.values=O;function j(){return{value:a,done:!0}}return L.prototype={constructor:L,reset:function(M){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach($),!M)for(var I in this)I.charAt(0)==="t"&&i.call(this,I)&&!isNaN(+I.slice(1))&&(this[I]=a)},stop:function(){this.done=!0;var M=this.tryEntries[0],I=M.completion;if(I.type==="throw")throw I.arg;return this.rval},dispatchException:function(M){if(this.done)throw M;var I=this;function z(B,W){return G.type="throw",G.arg=M,I.next=B,W&&(I.method="next",I.arg=a),!!W}for(var U=this.tryEntries.length-1;U>=0;--U){var F=this.tryEntries[U],G=F.completion;if(F.tryLoc==="root")return z("end");if(F.tryLoc<=this.prev){var Y=i.call(F,"catchLoc"),Z=i.call(F,"finallyLoc");if(Y&&Z){if(this.prev<F.catchLoc)return z(F.catchLoc,!0);if(this.prev<F.finallyLoc)return z(F.finallyLoc)}else if(Y){if(this.prev<F.catchLoc)return z(F.catchLoc,!0)}else if(Z){if(this.prev<F.finallyLoc)return z(F.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(M,I){for(var z=this.tryEntries.length-1;z>=0;--z){var U=this.tryEntries[z];if(U.tryLoc<=this.prev&&i.call(U,"finallyLoc")&&this.prev<U.finallyLoc){var F=U;break}}F&&(M==="break"||M==="continue")&&F.tryLoc<=I&&I<=F.finallyLoc&&(F=null);var G=F?F.completion:{};return G.type=M,G.arg=I,F?(this.method="next",this.next=F.finallyLoc,x):this.complete(G)},complete:function(M,I){if(M.type==="throw")throw M.arg;return M.type==="break"||M.type==="continue"?this.next=M.arg:M.type==="return"?(this.rval=this.arg=M.arg,this.method="return",this.next="end"):M.type==="normal"&&I&&(this.next=I),x},finish:function(M){for(var I=this.tryEntries.length-1;I>=0;--I){var z=this.tryEntries[I];if(z.finallyLoc===M)return this.complete(z.completion,z.afterLoc),$(z),x}},catch:function(M){for(var I=this.tryEntries.length-1;I>=0;--I){var z=this.tryEntries[I];if(z.tryLoc===M){var U=z.completion;if(U.type==="throw"){var F=U.arg;$(z)}return F}}throw new Error("illegal catch attempt")},delegateYield:function(M,I,z){return this.delegate={iterator:O(M),resultName:I,nextLoc:z},this.method==="next"&&(this.arg=a),x}},r}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(ize);var n$=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`;const sze=n$;let pG=0;var Zae=({id:e,action:t,payload:r={}})=>{let n=e;return typeof n>"u"&&(n=sze("Job",pG),pG+=1),{id:n,action:t,payload:r}},Yv={};let i$=!1;Yv.logging=i$;Yv.setLogging=e=>{i$=e};Yv.log=(...e)=>i$?console.log.apply(void 0,e):null;const aze=Zae,{log:PS}=Yv,oze=n$;let gG=0;var lze=()=>{const e=oze("Scheduler",gG),t={},r={};let n=[];gG+=1;const i=()=>n.length,s=()=>Object.keys(t).length,a=()=>{if(n.length!==0){const h=Object.keys(t);for(let f=0;f<h.length;f+=1)if(typeof r[h[f]]>"u"){n[0](t[h[f]]);break}}},o=(h,f)=>new Promise((p,g)=>{const v=aze({action:h,payload:f});n.push(async m=>{n.shift(),r[m.id]=v;try{p(await m[h].apply(void 0,[...f,v.id]))}catch(y){g(y)}finally{delete r[m.id],a()}}),PS(`[${e}]: Add ${v.id} to JobQueue`),PS(`[${e}]: JobQueue length=${n.length}`),a()});return{addWorker:h=>(t[h.id]=h,PS(`[${e}]: Add ${h.id}`),PS(`[${e}]: Number of workers=${s()}`),a(),h.id),addJob:async(h,...f)=>{if(s()===0)throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return o(h,f)},terminate:async()=>{Object.keys(t).forEach(async h=>{await t[h].terminate()}),n=[]},getQueueLen:i,getNumWorkers:s}};function cze(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function uze(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}var dze=uze;const hze=dze;var fze=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":hze()?t.type="electron":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof cze=="function"&&(t.type="node"),typeof e>"u"?t:t[e]};const pze=fze("type")==="browser",gze=pze?e=>new URL(e,window.location.href).href:e=>e;var mze=e=>{const t={...e};return["corePath","workerPath","langPath"].forEach(r=>{e[r]&&(t[r]=gze(t[r]))}),t},vze=e=>{const t=[],r=[],n=[],i=[],s=[];return e.blocks&&e.blocks.forEach(a=>{a.paragraphs.forEach(o=>{o.lines.forEach(l=>{l.words.forEach(c=>{c.symbols.forEach(d=>{s.push({...d,page:e,block:a,paragraph:o,line:l,word:c})}),i.push({...c,page:e,block:a,paragraph:o,line:l})}),n.push({...l,page:e,block:a,paragraph:o})}),r.push({...o,page:e,block:a})}),t.push({...a,page:e})}),{...e,blocks:t,paragraphs:r,lines:n,words:i,symbols:s}},Xae={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const yze="5.1.1",xze={version:yze};var _ze={workerBlobURL:!0,logger:()=>{}};const bze=xze.version,wze=_ze;var Sze={...wze,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${bze}/dist/worker.min.js`},Cze=({workerPath:e,workerBlobURL:t})=>{let r;if(Blob&&URL&&t){const n=new Blob([`importScripts("${e}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(n))}else r=new Worker(e);return r},kze=e=>{e.terminate()},Eze=(e,t)=>{e.onmessage=({data:r})=>{t(r)}},Tze=async(e,t)=>{e.postMessage(t)};const XR=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{t(n.result)},n.onerror=({target:{error:{code:i}}})=>{r(Error(`File could not be read! Code=${i}`))},n.readAsArrayBuffer(e)}),lD=async e=>{let t=e;if(typeof e>"u")return"undefined";if(typeof e=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)?t=atob(e.split(",")[1]).split("").map(r=>r.charCodeAt(0)):t=await(await fetch(e)).arrayBuffer();else if(typeof HTMLElement<"u"&&e instanceof HTMLElement)e.tagName==="IMG"&&(t=await lD(e.src)),e.tagName==="VIDEO"&&(t=await lD(e.poster)),e.tagName==="CANVAS"&&await new Promise(r=>{e.toBlob(async n=>{t=await XR(n),r()})});else if(typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){const r=await e.convertToBlob();t=await XR(r)}else(e instanceof File||e instanceof Blob)&&(t=await XR(e));return new Uint8Array(t)};var Nze=lD;const Aze=Sze,jze=Cze,Rze=kze,Ize=Eze,Mze=Tze,Pze=Nze;var Lze={defaultOptions:Aze,spawnWorker:jze,terminateWorker:Rze,onMessage:Ize,send:Mze,loadImage:Pze};const Dze=mze,Oze=vze,Ao=Zae,{log:mG}=Yv,$ze=n$,qh=Xae,{defaultOptions:Bze,spawnWorker:Fze,terminateWorker:zze,onMessage:Uze,loadImage:vG,send:Hze}=Lze;let yG=0;var Jae=async(e="eng",t=qh.LSTM_ONLY,r={},n={})=>{const i=$ze("Worker",yG),{logger:s,errorHandler:a,...o}=Dze({...Bze,...r}),l={},c={},d=typeof e=="string"?e.split("+"):e;let h=t,f=n;const p=[qh.DEFAULT,qh.LSTM_ONLY].includes(t)&&!o.legacyCore;let g,v;const m=new Promise((F,G)=>{v=F,g=G}),y=F=>{g(F.message)};let x=Fze(o);x.onerror=y,yG+=1;const _=(F,G)=>{l[F]=G},b=(F,G)=>{c[F]=G},w=({id:F,action:G,payload:Y})=>new Promise((Z,B)=>{mG(`[${i}]: Start ${F}, action=${G}`);const W=`${G}-${F}`;_(W,Z),b(W,B),Hze(x,{workerId:i,jobId:F,action:G,payload:Y})}),S=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),k=F=>w(Ao({id:F,action:"load",payload:{options:{lstmOnly:p,corePath:o.corePath,logging:o.logging}}})),C=(F,G,Y)=>w(Ao({id:Y,action:"FS",payload:{method:"writeFile",args:[F,G]}})),E=(F,G)=>w(Ao({id:G,action:"FS",payload:{method:"readFile",args:[F,{encoding:"utf8"}]}})),T=(F,G)=>w(Ao({id:G,action:"FS",payload:{method:"unlink",args:[F]}})),N=(F,G,Y)=>w(Ao({id:Y,action:"FS",payload:{method:F,args:G}})),R=()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),P=(F,G)=>w(Ao({id:G,action:"loadLanguage",payload:{langs:F,options:{langPath:o.langPath,dataPath:o.dataPath,cachePath:o.cachePath,cacheMethod:o.cacheMethod,gzip:o.gzip,lstmOnly:[qh.DEFAULT,qh.LSTM_ONLY].includes(h)&&!o.legacyLang}}})),D=()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),$=(F,G,Y,Z)=>w(Ao({id:Z,action:"initialize",payload:{langs:F,oem:G,config:Y}})),L=(F="eng",G,Y,Z)=>{if(p&&[qh.TESSERACT_ONLY,qh.TESSERACT_LSTM_COMBINED].includes(G))throw Error("Legacy model requested but code missing.");const B=G||h;h=B;const W=Y||f;f=W;const X=(typeof F=="string"?F.split("+"):F).filter(Q=>!d.includes(Q));return d.push(...X),X.length>0?P(X,Z).then(()=>$(F,B,W,Z)):$(F,B,W,Z)},O=(F={},G)=>w(Ao({id:G,action:"setParameters",payload:{params:F}})),j=async(F,G={},Y={blocks:!0,text:!0,hocr:!0,tsv:!0},Z)=>w(Ao({id:Z,action:"recognize",payload:{image:await vG(F),options:G,output:Y}})),M=(F="Tesseract OCR Result",G=!1,Y)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),w(Ao({id:Y,action:"getPDF",payload:{title:F,textonly:G}}))),I=async(F,G)=>{if(p)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return w(Ao({id:G,action:"detect",payload:{image:await vG(F)}}))},z=async()=>(x!==null&&(zze(x),x=null),Promise.resolve());Uze(x,({workerId:F,jobId:G,status:Y,action:Z,data:B})=>{const W=`${Z}-${G}`;if(Y==="resolve"){mG(`[${F}]: Complete ${G}`);let K=B;Z==="recognize"?K=Oze(B):Z==="getPDF"&&(K=Array.from({...B,length:Object.keys(B).length})),l[W]({jobId:G,data:K})}else if(Y==="reject")if(c[W](B),Z==="load"&&g(B),a)a(B);else throw Error(B);else Y==="progress"&&s({...B,userJobId:G})});const U={id:i,worker:x,setResolve:_,setReject:b,load:S,writeText:C,readText:E,removeFile:T,FS:N,loadLanguage:R,initialize:D,reinitialize:L,setParameters:O,recognize:j,getPDF:M,detect:I,terminate:z};return k().then(()=>P(e)).then(()=>$(e,t,n)).then(()=>v(U)).catch(()=>{}),m};const Qae=Jae,Vze=async(e,t,r)=>{const n=await Qae(t,1,r);return n.recognize(e).finally(async()=>{await n.terminate()})},Wze=async(e,t)=>{const r=await Qae("osd",0,t);return r.detect(e).finally(async()=>{await r.terminate()})};var Gze={recognize:Vze,detect:Wze},qze={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},Yze={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const Kze=lze,Zze=Jae,Xze=Gze,Jze=qze,Qze=Xae,e8e=Yze,{setLogging:t8e}=Yv;var eoe={languages:Jze,OEM:Qze,PSM:e8e,createScheduler:Kze,createWorker:Zze,setLogging:t8e,...Xze};const r8e=bv(eoe),n8e=({deviceId:e,onPanelImageUpload:t,onHotspotsUpload:r})=>{const[n,i]=A.useState(null),[s,a]=A.useState(null),[o,l]=A.useState(null),[c,d]=A.useState(!1),[h,f]=A.useState(!1),[p,g]=A.useState(null),[v,m]=A.useState(!1),[y,x]=A.useState(""),_=A.useRef(null),b=A.useRef(null);A.useRef(null);const w=N=>{var D;const R=(D=N.target.files)==null?void 0:D[0];if(!R)return;if(!R.type.match("image/jpeg")&&!R.type.match("image/png")){alert("请选择JPG或PNG格式的图片");return}const P=new FileReader;P.onload=$=>{var O;const L=(O=$.target)==null?void 0:O.result;i(L),g(L)},P.readAsDataURL(R),t(e,R)},S=N=>{var D;const R=(D=N.target.files)==null?void 0:D[0];if(!R)return;if(!R.type.match("application/json")&&!R.name.endsWith(".json")){alert("请选择JSON格式的文件");return}const P=new FileReader;P.onload=$=>{var L;try{const O=(L=$.target)==null?void 0:L.result;a(O);const j=JSON.parse(O);if(!Array.isArray(j)){l("JSON格式错误：必须是一个数组");return}for(const M of j)if(!M.id||typeof M.x!="number"||typeof M.y!="number"||typeof M.width!="number"||typeof M.height!="number"||!M.name){l("JSON格式错误：热区缺少必要的字段");return}l(null),r(e,j)}catch(O){l(`JSON解析错误: ${O instanceof Error?O.message:"未知错误"}`)}},P.readAsText(R)},k=N=>{if(N.target.files&&N.target.files[0]){const R=N.target.files[0],P=new FileReader;P.onload=D=>{var $;try{const L=($=D.target)==null?void 0:$.result,O=JSON.parse(L);r(e,O)}catch(L){console.error("解析热区配置文件失败:",L),alert("热区配置文件格式无效。请确保是有效的JSON格式。")}},P.readAsText(R)}},C=()=>{var N;(N=_.current)==null||N.click()},E=()=>{var N;(N=b.current)==null||N.click()},T=async()=>{if(!p){alert("请先上传设备面板图片");return}m(!0),x("正在分析图片...");try{const N=document.createElement("img");N.src=p,x("分析图像尺寸..."),await new Promise(L=>setTimeout(L,200));const R=N.naturalWidth||1e3,P=N.naturalHeight||200,D=R/P;if(D>3&&D<8){x("检测到网络设备面板，自动创建端口映射...");const L=[];let O=1;P>120&&(O=2);const j=R>1e3?48:24,M=Math.floor(R/(j/O)*.7),I=Math.floor(P/(O+1)*.7),z=Math.floor(M*.4);for(let U=0;U<O;U++){const F=Math.floor(P*(.3+.5*U/O)),G=Math.floor(j/O),Y=Math.floor((R-G*(M+z))/2);for(let Z=0;Z<G;Z++){const B=U*G+Z+1,W=Y+Z*(M+z);L.push({id:`port${B}`,name:`${B}`,x:W,y:F,width:M,height:I,status:"up",auto_detected:!0})}}x(`自动检测到${L.length}个端口（可手动调整）`),r(e,L),d(!1),setTimeout(()=>{alert(`成功自动检测到${L.length}个端口！
端口已添加到设备面板上。您可以手动调整端口位置和大小。`)},500)}else{x("尝试OCR识别文字...");const O=(await r8e.recognize(p,"eng",{logger:z=>{z.status==="recognizing text"&&x(`识别中... ${Math.floor(z.progress*100)}%`)}})).data;x("使用简单文本模式...");const j=[/ethernet[\s-]?(\d+\/\d+)/i,/eth[\s-]?(\d+\/\d+)/i,/e[\s-]?(\d+\/\d+)/i,/端口[\s-]?(\d+)/i,/port[\s-]?(\d+)/i,/(\d+\/\d+)/,/(\d+)/],M=O.text||"",I=[];for(const z of j){const U=M.match(new RegExp(z,"gi"))||[];I.push(...U)}if(I.length>0){const z=I.map((U,F)=>{let G=U.trim();for(const Y of j){const Z=G.match(Y);if(Z&&Z[1]){G=Z[1];break}}return{id:`port${F+1}`,name:G,x:50+F%5*80,y:50+Math.floor(F/5)*50,width:60,height:30,status:"up"}});x(`从文本中识别出${z.length}个端口文本`),r(e,z)}else x("未能识别到端口，请手动标记端口位置")}}catch(N){console.error("端口识别处理失败:",N),x("自动端口检测失败，请尝试手动配置")}finally{m(!1)}};return u.jsxs(u.Fragment,{children:[u.jsxs("button",{className:"flex items-center px-4 py-2 bg-indigo-100 hover:bg-indigo-200 text-indigo-700 rounded-md text-sm font-medium transition-colors",onClick:()=>d(!0),children:[u.jsx(nQ,{size:16,className:"mr-2"}),"上传设备面板"]}),c&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl p-6 max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"上传设备面板图与热区配置"}),u.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>d(!1),children:u.jsx(Ps,{size:20})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"border border-dashed border-gray-300 rounded-lg p-4 h-64 flex flex-col items-center justify-center",children:[n?u.jsxs("div",{className:"relative w-full h-full",children:[u.jsx("img",{src:n,alt:"Panel preview",className:"w-full h-full object-contain"}),u.jsx("button",{className:"absolute top-2 right-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-full p-1",onClick:()=>i(null),children:u.jsx(Ps,{size:16})})]}):u.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50",onClick:C,children:[u.jsx($ye,{size:40,className:"text-gray-400 mb-2"}),u.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"点击上传设备面板图"}),u.jsx("p",{className:"text-gray-400 text-xs",children:"支持 JPG、PNG 格式"})]}),u.jsx("input",{type:"file",ref:_,className:"hidden",accept:"image/jpeg,image/png",onChange:w})]}),u.jsxs("div",{className:"border border-dashed border-gray-300 rounded-lg p-4 h-64 overflow-y-auto",children:[s?u.jsxs("div",{className:"relative h-full",children:[u.jsx("pre",{className:"text-xs text-gray-700 overflow-auto h-full p-2 bg-gray-50 rounded",children:s}),u.jsx("button",{className:"absolute top-2 right-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-full p-1",onClick:()=>{a(null),l(null)},children:u.jsx(Ps,{size:16})}),o&&u.jsx("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-xs",children:o})]}):u.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50",onClick:E,children:[u.jsx(Pye,{size:40,className:"text-gray-400 mb-2"}),u.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"点击上传热区配置"}),u.jsx("p",{className:"text-gray-400 text-xs",children:"上传 JSON 格式的热区配置"})]}),u.jsx("input",{type:"file",ref:b,className:"hidden",accept:"application/json,.json",onChange:S})]})]}),u.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"热区配置示例"}),u.jsx("pre",{className:"text-xs text-gray-700 overflow-auto bg-white p-3 rounded border border-gray-200",children:`[
  {
    "id": "port1",
    "name": "1/1",
    "x": 10,  // 百分比位置 (左上角x坐标)
    "y": 20,  // 百分比位置 (左上角y坐标)
    "width": 5,  // 百分比宽度
    "height": 10,  // 百分比高度
    "status": "up"  // 初始状态，可选: "up", "down", "disabled", "warning"
  },
  {
    "id": "port2",
    "name": "1/2",
    "x": 20,
    "y": 20,
    "width": 5,
    "height": 10,
    "status": "down"
  }
]`})]}),u.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[n&&u.jsx("button",{className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md text-sm font-medium transition-colors",onClick:T,disabled:v,children:v?y:"OCR端口识别"}),u.jsx("button",{className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-md text-sm font-medium transition-colors",onClick:()=>d(!1),children:"取消"}),u.jsxs("button",{className:`
                  px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md text-sm font-medium transition-colors
                  ${!n&&!s?"opacity-50 cursor-not-allowed":""}
                `,disabled:!n&&!s,onClick:()=>d(!1),children:[u.jsx(eQ,{size:16,className:"inline-block mr-1"}),"保存"]})]})]})}),u.jsx(Re,{onClick:()=>{var N;return(N=document.getElementById("hotspotsFile"))==null?void 0:N.click()},className:"bg-purple-500 hover:bg-purple-600 text-white",children:"上传热区配置"}),u.jsx("input",{id:"hotspotsFile",type:"file",onChange:k,accept:".json",className:"hidden"}),y&&!v&&u.jsx("div",{className:"text-sm text-gray-600 mt-2",children:y})]})};/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function toe(e){return typeof e>"u"||e===null}function i8e(e){return typeof e=="object"&&e!==null}function s8e(e){return Array.isArray(e)?e:toe(e)?[]:[e]}function a8e(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}function o8e(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function l8e(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var c8e=toe,u8e=i8e,d8e=s8e,h8e=o8e,f8e=l8e,p8e=a8e,xi={isNothing:c8e,isObject:u8e,toArray:d8e,repeat:h8e,isNegativeZero:f8e,extend:p8e};function roe(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function rb(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=roe(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}rb.prototype=Object.create(Error.prototype);rb.prototype.constructor=rb;rb.prototype.toString=function(t){return this.name+": "+roe(this,t)};var Ns=rb;function JR(e,t,r,n,i){var s="",a="",o=Math.floor(i/2)-1;return n-t>o&&(s=" ... ",t=n-o+s.length),r-n>o&&(a=" ...",r=n+o-a.length),{str:s+e.slice(t,r).replace(/\t/g,"→")+a,pos:n-t+s.length}}function QR(e,t){return xi.repeat(" ",t-e.length)+e}function g8e(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,a=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&a<0&&(a=n.length-2);a<0&&(a=n.length-1);var o="",l,c,d=Math.min(e.line+t.linesAfter,i.length).toString().length,h=t.maxLength-(t.indent+d+3);for(l=1;l<=t.linesBefore&&!(a-l<0);l++)c=JR(e.buffer,n[a-l],i[a-l],e.position-(n[a]-n[a-l]),h),o=xi.repeat(" ",t.indent)+QR((e.line-l+1).toString(),d)+" | "+c.str+`
`+o;for(c=JR(e.buffer,n[a],i[a],e.position,h),o+=xi.repeat(" ",t.indent)+QR((e.line+1).toString(),d)+" | "+c.str+`
`,o+=xi.repeat("-",t.indent+d+3+c.pos)+`^
`,l=1;l<=t.linesAfter&&!(a+l>=i.length);l++)c=JR(e.buffer,n[a+l],i[a+l],e.position-(n[a]-n[a+l]),h),o+=xi.repeat(" ",t.indent)+QR((e.line+l+1).toString(),d)+" | "+c.str+`
`;return o.replace(/\n$/,"")}var m8e=g8e,v8e=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],y8e=["scalar","sequence","mapping"];function x8e(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function _8e(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(v8e.indexOf(r)===-1)throw new Ns('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=x8e(t.styleAliases||null),y8e.indexOf(this.kind)===-1)throw new Ns('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Wi=_8e;function xG(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,a){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=a)}),r[i]=n}),r}function b8e(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function cD(e){return this.extend(e)}cD.prototype.extend=function(t){var r=[],n=[];if(t instanceof Wi)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new Ns("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof Wi))throw new Ns("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Ns("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Ns("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof Wi))throw new Ns("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(cD.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=xG(i,"implicit"),i.compiledExplicit=xG(i,"explicit"),i.compiledTypeMap=b8e(i.compiledImplicit,i.compiledExplicit),i};var noe=cD,ioe=new Wi("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),soe=new Wi("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),aoe=new Wi("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),ooe=new noe({explicit:[ioe,soe,aoe]});function w8e(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function S8e(){return null}function C8e(e){return e===null}var loe=new Wi("tag:yaml.org,2002:null",{kind:"scalar",resolve:w8e,construct:S8e,predicate:C8e,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function k8e(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function E8e(e){return e==="true"||e==="True"||e==="TRUE"}function T8e(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var coe=new Wi("tag:yaml.org,2002:bool",{kind:"scalar",resolve:k8e,construct:E8e,predicate:T8e,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function N8e(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function A8e(e){return 48<=e&&e<=55}function j8e(e){return 48<=e&&e<=57}function R8e(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!N8e(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!A8e(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!j8e(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function I8e(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function M8e(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!xi.isNegativeZero(e)}var uoe=new Wi("tag:yaml.org,2002:int",{kind:"scalar",resolve:R8e,construct:I8e,predicate:M8e,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),P8e=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function L8e(e){return!(e===null||!P8e.test(e)||e[e.length-1]==="_")}function D8e(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var O8e=/^[-+]?[0-9]+e/;function $8e(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(xi.isNegativeZero(e))return"-0.0";return r=e.toString(10),O8e.test(r)?r.replace("e",".e"):r}function B8e(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||xi.isNegativeZero(e))}var doe=new Wi("tag:yaml.org,2002:float",{kind:"scalar",resolve:L8e,construct:D8e,predicate:B8e,represent:$8e,defaultStyle:"lowercase"}),hoe=ooe.extend({implicit:[loe,coe,uoe,doe]}),foe=hoe,poe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),goe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function F8e(e){return e===null?!1:poe.exec(e)!==null||goe.exec(e)!==null}function z8e(e){var t,r,n,i,s,a,o,l=0,c=null,d,h,f;if(t=poe.exec(e),t===null&&(t=goe.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],a=+t[5],o=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(d=+t[10],h=+(t[11]||0),c=(d*60+h)*6e4,t[9]==="-"&&(c=-c)),f=new Date(Date.UTC(r,n,i,s,a,o,l)),c&&f.setTime(f.getTime()-c),f}function U8e(e){return e.toISOString()}var moe=new Wi("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:F8e,construct:z8e,instanceOf:Date,represent:U8e});function H8e(e){return e==="<<"||e===null}var voe=new Wi("tag:yaml.org,2002:merge",{kind:"scalar",resolve:H8e}),s$=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function V8e(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=s$;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function W8e(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=s$,a=0,o=[];for(t=0;t<i;t++)t%4===0&&t&&(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)),a=a<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)):r===18?(o.push(a>>10&255),o.push(a>>2&255)):r===12&&o.push(a>>4&255),new Uint8Array(o)}function G8e(e){var t="",r=0,n,i,s=e.length,a=s$;for(n=0;n<s;n++)n%3===0&&n&&(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]):i===2?(t+=a[r>>10&63],t+=a[r>>4&63],t+=a[r<<2&63],t+=a[64]):i===1&&(t+=a[r>>2&63],t+=a[r<<4&63],t+=a[64],t+=a[64]),t}function q8e(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var yoe=new Wi("tag:yaml.org,2002:binary",{kind:"scalar",resolve:V8e,construct:W8e,predicate:q8e,represent:G8e}),Y8e=Object.prototype.hasOwnProperty,K8e=Object.prototype.toString;function Z8e(e){if(e===null)return!0;var t=[],r,n,i,s,a,o=e;for(r=0,n=o.length;r<n;r+=1){if(i=o[r],a=!1,K8e.call(i)!=="[object Object]")return!1;for(s in i)if(Y8e.call(i,s))if(!a)a=!0;else return!1;if(!a)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function X8e(e){return e!==null?e:[]}var xoe=new Wi("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Z8e,construct:X8e}),J8e=Object.prototype.toString;function Q8e(e){if(e===null)return!0;var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1){if(n=a[t],J8e.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}function eUe(e){if(e===null)return[];var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1)n=a[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}var _oe=new Wi("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Q8e,construct:eUe}),tUe=Object.prototype.hasOwnProperty;function rUe(e){if(e===null)return!0;var t,r=e;for(t in r)if(tUe.call(r,t)&&r[t]!==null)return!1;return!0}function nUe(e){return e!==null?e:{}}var boe=new Wi("tag:yaml.org,2002:set",{kind:"mapping",resolve:rUe,construct:nUe}),a$=foe.extend({implicit:[moe,voe],explicit:[yoe,xoe,_oe,boe]}),Zd=Object.prototype.hasOwnProperty,VE=1,woe=2,Soe=3,WE=4,eI=1,iUe=2,_G=3,sUe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,aUe=/[\x85\u2028\u2029]/,oUe=/[,\[\]\{\}]/,Coe=/^(?:!|!!|![a-z\-]+!)$/i,koe=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function bG(e){return Object.prototype.toString.call(e)}function Ql(e){return e===10||e===13}function Wf(e){return e===9||e===32}function ia(e){return e===9||e===32||e===10||e===13}function am(e){return e===44||e===91||e===93||e===123||e===125}function lUe(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function cUe(e){return e===120?2:e===117?4:e===85?8:0}function uUe(e){return 48<=e&&e<=57?e-48:-1}function wG(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function dUe(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var Eoe=new Array(256),Toe=new Array(256);for(var bg=0;bg<256;bg++)Eoe[bg]=wG(bg)?1:0,Toe[bg]=wG(bg);function hUe(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||a$,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Noe(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=m8e(r),new Ns(t,r)}function bt(e,t){throw Noe(e,t)}function GE(e,t){e.onWarning&&e.onWarning.call(null,Noe(e,t))}var SG={YAML:function(t,r,n){var i,s,a;t.version!==null&&bt(t,"duplication of %YAML directive"),n.length!==1&&bt(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&bt(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),a=parseInt(i[2],10),s!==1&&bt(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=a<2,a!==1&&a!==2&&GE(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,s;n.length!==2&&bt(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],Coe.test(i)||bt(t,"ill-formed tag handle (first argument) of the TAG directive"),Zd.call(t.tagMap,i)&&bt(t,'there is a previously declared suffix for "'+i+'" tag handle'),koe.test(s)||bt(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{bt(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s}};function Dd(e,t,r,n){var i,s,a,o;if(t<r){if(o=e.input.slice(t,r),n)for(i=0,s=o.length;i<s;i+=1)a=o.charCodeAt(i),a===9||32<=a&&a<=1114111||bt(e,"expected valid JSON character");else sUe.test(o)&&bt(e,"the stream contains non-printable characters");e.result+=o}}function CG(e,t,r,n){var i,s,a,o;for(xi.isObject(r)||bt(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),a=0,o=i.length;a<o;a+=1)s=i[a],Zd.call(t,s)||(t[s]=r[s],n[s]=!0)}function om(e,t,r,n,i,s,a,o,l){var c,d;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,d=i.length;c<d;c+=1)Array.isArray(i[c])&&bt(e,"nested arrays are not supported inside keys"),typeof i=="object"&&bG(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&bG(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,d=s.length;c<d;c+=1)CG(e,t,s[c],r);else CG(e,t,s,r);else!e.json&&!Zd.call(r,i)&&Zd.call(t,i)&&(e.line=a||e.line,e.lineStart=o||e.lineStart,e.position=l||e.position,bt(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}function o$(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):bt(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function ui(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Wf(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(Ql(i))for(o$(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&GE(e,"deficient indentation"),n}function XN(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||ia(r)))}function l$(e,t){t===1?e.result+=" ":t>1&&(e.result+=xi.repeat(`
`,t-1))}function fUe(e,t,r){var n,i,s,a,o,l,c,d,h=e.kind,f=e.result,p;if(p=e.input.charCodeAt(e.position),ia(p)||am(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),ia(i)||r&&am(i)))return!1;for(e.kind="scalar",e.result="",s=a=e.position,o=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),ia(i)||r&&am(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),ia(n))break}else{if(e.position===e.lineStart&&XN(e)||r&&am(p))break;if(Ql(p))if(l=e.line,c=e.lineStart,d=e.lineIndent,ui(e,!1,-1),e.lineIndent>=t){o=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=a,e.line=l,e.lineStart=c,e.lineIndent=d;break}}o&&(Dd(e,s,a,!1),l$(e,e.line-l),s=a=e.position,o=!1),Wf(p)||(a=e.position+1),p=e.input.charCodeAt(++e.position)}return Dd(e,s,a,!1),e.result?!0:(e.kind=h,e.result=f,!1)}function pUe(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Dd(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else Ql(r)?(Dd(e,n,i,!0),l$(e,ui(e,!1,t)),n=i=e.position):e.position===e.lineStart&&XN(e)?bt(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);bt(e,"unexpected end of the stream within a single quoted scalar")}function gUe(e,t){var r,n,i,s,a,o;if(o=e.input.charCodeAt(e.position),o!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(o=e.input.charCodeAt(e.position))!==0;){if(o===34)return Dd(e,r,e.position,!0),e.position++,!0;if(o===92){if(Dd(e,r,e.position,!0),o=e.input.charCodeAt(++e.position),Ql(o))ui(e,!1,t);else if(o<256&&Eoe[o])e.result+=Toe[o],e.position++;else if((a=cUe(o))>0){for(i=a,s=0;i>0;i--)o=e.input.charCodeAt(++e.position),(a=lUe(o))>=0?s=(s<<4)+a:bt(e,"expected hexadecimal character");e.result+=dUe(s),e.position++}else bt(e,"unknown escape sequence");r=n=e.position}else Ql(o)?(Dd(e,r,n,!0),l$(e,ui(e,!1,t)),r=n=e.position):e.position===e.lineStart&&XN(e)?bt(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}bt(e,"unexpected end of the stream within a double quoted scalar")}function mUe(e,t){var r=!0,n,i,s,a=e.tag,o,l=e.anchor,c,d,h,f,p,g=Object.create(null),v,m,y,x;if(x=e.input.charCodeAt(e.position),x===91)d=93,p=!1,o=[];else if(x===123)d=125,p=!0,o={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),x=e.input.charCodeAt(++e.position);x!==0;){if(ui(e,!0,t),x=e.input.charCodeAt(e.position),x===d)return e.position++,e.tag=a,e.anchor=l,e.kind=p?"mapping":"sequence",e.result=o,!0;r?x===44&&bt(e,"expected the node content, but found ','"):bt(e,"missed comma between flow collection entries"),m=v=y=null,h=f=!1,x===63&&(c=e.input.charCodeAt(e.position+1),ia(c)&&(h=f=!0,e.position++,ui(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,sv(e,t,VE,!1,!0),m=e.tag,v=e.result,ui(e,!0,t),x=e.input.charCodeAt(e.position),(f||e.line===n)&&x===58&&(h=!0,x=e.input.charCodeAt(++e.position),ui(e,!0,t),sv(e,t,VE,!1,!0),y=e.result),p?om(e,o,g,m,v,y,n,i,s):h?o.push(om(e,null,g,m,v,y,n,i,s)):o.push(v),ui(e,!0,t),x=e.input.charCodeAt(e.position),x===44?(r=!0,x=e.input.charCodeAt(++e.position)):r=!1}bt(e,"unexpected end of the stream within a flow collection")}function vUe(e,t){var r,n,i=eI,s=!1,a=!1,o=t,l=0,c=!1,d,h;if(h=e.input.charCodeAt(e.position),h===124)n=!1;else if(h===62)n=!0;else return!1;for(e.kind="scalar",e.result="";h!==0;)if(h=e.input.charCodeAt(++e.position),h===43||h===45)eI===i?i=h===43?_G:iUe:bt(e,"repeat of a chomping mode identifier");else if((d=uUe(h))>=0)d===0?bt(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?bt(e,"repeat of an indentation width identifier"):(o=t+d-1,a=!0);else break;if(Wf(h)){do h=e.input.charCodeAt(++e.position);while(Wf(h));if(h===35)do h=e.input.charCodeAt(++e.position);while(!Ql(h)&&h!==0)}for(;h!==0;){for(o$(e),e.lineIndent=0,h=e.input.charCodeAt(e.position);(!a||e.lineIndent<o)&&h===32;)e.lineIndent++,h=e.input.charCodeAt(++e.position);if(!a&&e.lineIndent>o&&(o=e.lineIndent),Ql(h)){l++;continue}if(e.lineIndent<o){i===_G?e.result+=xi.repeat(`
`,s?1+l:l):i===eI&&s&&(e.result+=`
`);break}for(n?Wf(h)?(c=!0,e.result+=xi.repeat(`
`,s?1+l:l)):c?(c=!1,e.result+=xi.repeat(`
`,l+1)):l===0?s&&(e.result+=" "):e.result+=xi.repeat(`
`,l):e.result+=xi.repeat(`
`,s?1+l:l),s=!0,a=!0,l=0,r=e.position;!Ql(h)&&h!==0;)h=e.input.charCodeAt(++e.position);Dd(e,r,e.position,!1)}return!0}function kG(e,t){var r,n=e.tag,i=e.anchor,s=[],a,o=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,bt(e,"tab characters must not be used in indentation")),!(l!==45||(a=e.input.charCodeAt(e.position+1),!ia(a))));){if(o=!0,e.position++,ui(e,!0,-1)&&e.lineIndent<=t){s.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,sv(e,t,Soe,!1,!0),s.push(e.result),ui(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)bt(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return o?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}function yUe(e,t,r){var n,i,s,a,o,l,c=e.tag,d=e.anchor,h={},f=Object.create(null),p=null,g=null,v=null,m=!1,y=!1,x;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=h),x=e.input.charCodeAt(e.position);x!==0;){if(!m&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,bt(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(x===63||x===58)&&ia(n))x===63?(m&&(om(e,h,f,p,g,null,a,o,l),p=g=v=null),y=!0,m=!0,i=!0):m?(m=!1,i=!0):bt(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,x=n;else{if(a=e.line,o=e.lineStart,l=e.position,!sv(e,r,woe,!1,!0))break;if(e.line===s){for(x=e.input.charCodeAt(e.position);Wf(x);)x=e.input.charCodeAt(++e.position);if(x===58)x=e.input.charCodeAt(++e.position),ia(x)||bt(e,"a whitespace character is expected after the key-value separator within a block mapping"),m&&(om(e,h,f,p,g,null,a,o,l),p=g=v=null),y=!0,m=!1,i=!1,p=e.tag,g=e.result;else if(y)bt(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=d,!0}else if(y)bt(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=d,!0}if((e.line===s||e.lineIndent>t)&&(m&&(a=e.line,o=e.lineStart,l=e.position),sv(e,t,WE,!0,i)&&(m?g=e.result:v=e.result),m||(om(e,h,f,p,g,v,a,o,l),p=g=v=null),ui(e,!0,-1),x=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&x!==0)bt(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return m&&om(e,h,f,p,g,null,a,o,l),y&&(e.tag=c,e.anchor=d,e.kind="mapping",e.result=h),y}function xUe(e){var t,r=!1,n=!1,i,s,a;if(a=e.input.charCodeAt(e.position),a!==33)return!1;if(e.tag!==null&&bt(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),a===60?(r=!0,a=e.input.charCodeAt(++e.position)):a===33?(n=!0,i="!!",a=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do a=e.input.charCodeAt(++e.position);while(a!==0&&a!==62);e.position<e.length?(s=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):bt(e,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!ia(a);)a===33&&(n?bt(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),Coe.test(i)||bt(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),oUe.test(s)&&bt(e,"tag suffix cannot contain flow indicator characters")}s&&!koe.test(s)&&bt(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{bt(e,"tag name is malformed: "+s)}return r?e.tag=s:Zd.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:bt(e,'undeclared tag handle "'+i+'"'),!0}function _Ue(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&bt(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!ia(r)&&!am(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&bt(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function bUe(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!ia(n)&&!am(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&bt(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Zd.call(e.anchorMap,r)||bt(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],ui(e,!0,-1),!0}function sv(e,t,r,n,i){var s,a,o,l=1,c=!1,d=!1,h,f,p,g,v,m;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=a=o=WE===r||Soe===r,n&&ui(e,!0,-1)&&(c=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;xUe(e)||_Ue(e);)ui(e,!0,-1)?(c=!0,o=s,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):o=!1;if(o&&(o=c||i),(l===1||WE===r)&&(VE===r||woe===r?v=t:v=t+1,m=e.position-e.lineStart,l===1?o&&(kG(e,m)||yUe(e,m,v))||mUe(e,v)?d=!0:(a&&vUe(e,v)||pUe(e,v)||gUe(e,v)?d=!0:bUe(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&bt(e,"alias node should not have any properties")):fUe(e,v,VE===r)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(d=o&&kG(e,m))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&bt(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),h=0,f=e.implicitTypes.length;h<f;h+=1)if(g=e.implicitTypes[h],g.resolve(e.result)){e.result=g.construct(e.result),e.tag=g.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Zd.call(e.typeMap[e.kind||"fallback"],e.tag))g=e.typeMap[e.kind||"fallback"][e.tag];else for(g=null,p=e.typeMap.multi[e.kind||"fallback"],h=0,f=p.length;h<f;h+=1)if(e.tag.slice(0,p[h].tag.length)===p[h].tag){g=p[h];break}g||bt(e,"unknown tag !<"+e.tag+">"),e.result!==null&&g.kind!==e.kind&&bt(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"'),g.resolve(e.result,e.tag)?(e.result=g.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):bt(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}function wUe(e){var t=e.position,r,n,i,s=!1,a;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(a=e.input.charCodeAt(e.position))!==0&&(ui(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||a!==37));){for(s=!0,a=e.input.charCodeAt(++e.position),r=e.position;a!==0&&!ia(a);)a=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&bt(e,"directive name must not be less than one character in length");a!==0;){for(;Wf(a);)a=e.input.charCodeAt(++e.position);if(a===35){do a=e.input.charCodeAt(++e.position);while(a!==0&&!Ql(a));break}if(Ql(a))break;for(r=e.position;a!==0&&!ia(a);)a=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}a!==0&&o$(e),Zd.call(SG,n)?SG[n](e,n,i):GE(e,'unknown document directive "'+n+'"')}if(ui(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,ui(e,!0,-1)):s&&bt(e,"directives end mark is expected"),sv(e,e.lineIndent-1,WE,!1,!0),ui(e,!0,-1),e.checkLineBreaks&&aUe.test(e.input.slice(t,e.position))&&GE(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&XN(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,ui(e,!0,-1));return}if(e.position<e.length-1)bt(e,"end of the stream or a document separator is expected");else return}function Aoe(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new hUe(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,bt(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)wUe(r);return r.documents}function SUe(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=Aoe(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}function CUe(e,t){var r=Aoe(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Ns("expected a single document in the stream, but found more")}}var kUe=SUe,EUe=CUe,joe={loadAll:kUe,load:EUe},Roe=Object.prototype.toString,Ioe=Object.prototype.hasOwnProperty,c$=65279,TUe=9,nb=10,NUe=13,AUe=32,jUe=33,RUe=34,uD=35,IUe=37,MUe=38,PUe=39,LUe=42,Moe=44,DUe=45,qE=58,OUe=61,$Ue=62,BUe=63,FUe=64,Poe=91,Loe=93,zUe=96,Doe=123,UUe=124,Ooe=125,gs={};gs[0]="\\0";gs[7]="\\a";gs[8]="\\b";gs[9]="\\t";gs[10]="\\n";gs[11]="\\v";gs[12]="\\f";gs[13]="\\r";gs[27]="\\e";gs[34]='\\"';gs[92]="\\\\";gs[133]="\\N";gs[160]="\\_";gs[8232]="\\L";gs[8233]="\\P";var HUe=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],VUe=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function WUe(e,t){var r,n,i,s,a,o,l;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)a=n[i],o=String(t[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),l=e.compiledTypeMap.fallback[a],l&&Ioe.call(l.styleAliases,o)&&(o=l.styleAliases[o]),r[a]=o;return r}function GUe(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new Ns("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+xi.repeat("0",n-t.length)+t}var qUe=1,ib=2;function YUe(e){this.schema=e.schema||a$,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=xi.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=WUe(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?ib:qUe,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function EG(e,t){for(var r=xi.repeat(" ",t),n=0,i=-1,s="",a,o=e.length;n<o;)i=e.indexOf(`
`,n),i===-1?(a=e.slice(n),n=o):(a=e.slice(n,i+1),n=i+1),a.length&&a!==`
`&&(s+=r),s+=a;return s}function dD(e,t){return`
`+xi.repeat(" ",e.indent*t)}function KUe(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function YE(e){return e===AUe||e===TUe}function sb(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==c$||65536<=e&&e<=1114111}function TG(e){return sb(e)&&e!==c$&&e!==NUe&&e!==nb}function NG(e,t,r){var n=TG(e),i=n&&!YE(e);return(r?n:n&&e!==Moe&&e!==Poe&&e!==Loe&&e!==Doe&&e!==Ooe)&&e!==uD&&!(t===qE&&!i)||TG(t)&&!YE(t)&&e===uD||t===qE&&i}function ZUe(e){return sb(e)&&e!==c$&&!YE(e)&&e!==DUe&&e!==BUe&&e!==qE&&e!==Moe&&e!==Poe&&e!==Loe&&e!==Doe&&e!==Ooe&&e!==uD&&e!==MUe&&e!==LUe&&e!==jUe&&e!==UUe&&e!==OUe&&e!==$Ue&&e!==PUe&&e!==RUe&&e!==IUe&&e!==FUe&&e!==zUe}function XUe(e){return!YE(e)&&e!==qE}function ox(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function $oe(e){var t=/^\n* /;return t.test(e)}var Boe=1,hD=2,Foe=3,zoe=4,$g=5;function JUe(e,t,r,n,i,s,a,o){var l,c=0,d=null,h=!1,f=!1,p=n!==-1,g=-1,v=ZUe(ox(e,0))&&XUe(ox(e,e.length-1));if(t||a)for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=ox(e,l),!sb(c))return $g;v=v&&NG(c,d,o),d=c}else{for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=ox(e,l),c===nb)h=!0,p&&(f=f||l-g-1>n&&e[g+1]!==" ",g=l);else if(!sb(c))return $g;v=v&&NG(c,d,o),d=c}f=f||p&&l-g-1>n&&e[g+1]!==" "}return!h&&!f?v&&!a&&!i(e)?Boe:s===ib?$g:hD:r>9&&$oe(e)?$g:a?s===ib?$g:hD:f?zoe:Foe}function QUe(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===ib?'""':"''";if(!e.noCompatMode&&(HUe.indexOf(t)!==-1||VUe.test(t)))return e.quotingType===ib?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),a=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),o=n||e.flowLevel>-1&&r>=e.flowLevel;function l(c){return KUe(e,c)}switch(JUe(t,o,e.indent,a,l,e.quotingType,e.forceQuotes&&!n,i)){case Boe:return t;case hD:return"'"+t.replace(/'/g,"''")+"'";case Foe:return"|"+AG(t,e.indent)+jG(EG(t,s));case zoe:return">"+AG(t,e.indent)+jG(EG(eHe(t,a),s));case $g:return'"'+tHe(t)+'"';default:throw new Ns("impossible error: invalid scalar style")}}()}function AG(e,t){var r=$oe(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}function jG(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function eHe(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,r.lastIndex=c,RG(e.slice(0,c),t)}(),i=e[0]===`
`||e[0]===" ",s,a;a=r.exec(e);){var o=a[1],l=a[2];s=l[0]===" ",n+=o+(!i&&!s&&l!==""?`
`:"")+RG(l,t),i=s}return n}function RG(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,a=0,o=0,l="";n=r.exec(e);)o=n.index,o-i>t&&(s=a>i?a:o,l+=`
`+e.slice(i,s),i=s+1),a=o;return l+=`
`,e.length-i>t&&a>i?l+=e.slice(i,a)+`
`+e.slice(a+1):l+=e.slice(i),l.slice(1)}function tHe(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=ox(e,i),n=gs[r],!n&&sb(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||GUe(r);return t}function rHe(e,t,r){var n="",i=e.tag,s,a,o;for(s=0,a=r.length;s<a;s+=1)o=r[s],e.replacer&&(o=e.replacer.call(r,String(s),o)),(pu(e,t,o,!1,!1)||typeof o>"u"&&pu(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function IG(e,t,r,n){var i="",s=e.tag,a,o,l;for(a=0,o=r.length;a<o;a+=1)l=r[a],e.replacer&&(l=e.replacer.call(r,String(a),l)),(pu(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&pu(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=dD(e,t)),e.dump&&nb===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}function nHe(e,t,r){var n="",i=e.tag,s=Object.keys(r),a,o,l,c,d;for(a=0,o=s.length;a<o;a+=1)d="",n!==""&&(d+=", "),e.condenseFlow&&(d+='"'),l=s[a],c=r[l],e.replacer&&(c=e.replacer.call(r,l,c)),pu(e,t,l,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),pu(e,t,c,!1,!1)&&(d+=e.dump,n+=d));e.tag=i,e.dump="{"+n+"}"}function iHe(e,t,r,n){var i="",s=e.tag,a=Object.keys(r),o,l,c,d,h,f;if(e.sortKeys===!0)a.sort();else if(typeof e.sortKeys=="function")a.sort(e.sortKeys);else if(e.sortKeys)throw new Ns("sortKeys must be a boolean or a function");for(o=0,l=a.length;o<l;o+=1)f="",(!n||i!=="")&&(f+=dD(e,t)),c=a[o],d=r[c],e.replacer&&(d=e.replacer.call(r,c,d)),pu(e,t+1,c,!0,!0,!0)&&(h=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,h&&(e.dump&&nb===e.dump.charCodeAt(0)?f+="?":f+="? "),f+=e.dump,h&&(f+=dD(e,t)),pu(e,t+1,d,!0,h)&&(e.dump&&nb===e.dump.charCodeAt(0)?f+=":":f+=": ",f+=e.dump,i+=f));e.tag=s,e.dump=i||"{}"}function MG(e,t,r){var n,i,s,a,o,l;for(i=r?e.explicitTypes:e.implicitTypes,s=0,a=i.length;s<a;s+=1)if(o=i[s],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof t=="object"&&t instanceof o.instanceOf)&&(!o.predicate||o.predicate(t))){if(r?o.multi&&o.representName?e.tag=o.representName(t):e.tag=o.tag:e.tag="?",o.represent){if(l=e.styleMap[o.tag]||o.defaultStyle,Roe.call(o.represent)==="[object Function]")n=o.represent(t,l);else if(Ioe.call(o.represent,l))n=o.represent[l](t,l);else throw new Ns("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');e.dump=n}return!0}return!1}function pu(e,t,r,n,i,s,a){e.tag=null,e.dump=r,MG(e,r,!1)||MG(e,r,!0);var o=Roe.call(e.dump),l=n,c;n&&(n=e.flowLevel<0||e.flowLevel>t);var d=o==="[object Object]"||o==="[object Array]",h,f;if(d&&(h=e.duplicates.indexOf(r),f=h!==-1),(e.tag!==null&&e.tag!=="?"||f||e.indent!==2&&t>0)&&(i=!1),f&&e.usedDuplicates[h])e.dump="*ref_"+h;else{if(d&&f&&!e.usedDuplicates[h]&&(e.usedDuplicates[h]=!0),o==="[object Object]")n&&Object.keys(e.dump).length!==0?(iHe(e,t,e.dump,i),f&&(e.dump="&ref_"+h+e.dump)):(nHe(e,t,e.dump),f&&(e.dump="&ref_"+h+" "+e.dump));else if(o==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!a&&t>0?IG(e,t-1,e.dump,i):IG(e,t,e.dump,i),f&&(e.dump="&ref_"+h+e.dump)):(rHe(e,t,e.dump),f&&(e.dump="&ref_"+h+" "+e.dump));else if(o==="[object String]")e.tag!=="?"&&QUe(e,e.dump,t,s,l);else{if(o==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Ns("unacceptable kind of an object to dump "+o)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function sHe(e,t){var r=[],n=[],i,s;for(fD(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}function fD(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)fD(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)fD(e[n[i]],t,r)}function aHe(e,t){t=t||{};var r=new YUe(t);r.noRefs||sHe(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),pu(r,0,n,!0,!0)?r.dump+`
`:""}var oHe=aHe,lHe={dump:oHe};function u$(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var cHe=Wi,uHe=noe,dHe=ooe,hHe=hoe,fHe=foe,pHe=a$,gHe=joe.load,mHe=joe.loadAll,vHe=lHe.dump,yHe=Ns,xHe={binary:yoe,float:doe,map:aoe,null:loe,pairs:_oe,set:boe,timestamp:moe,bool:coe,int:uoe,merge:voe,omap:xoe,seq:soe,str:ioe},_He=u$("safeLoad","load"),bHe=u$("safeLoadAll","loadAll"),wHe=u$("safeDump","dump"),SHe={Type:cHe,Schema:uHe,FAILSAFE_SCHEMA:dHe,JSON_SCHEMA:hHe,CORE_SCHEMA:fHe,DEFAULT_SCHEMA:pHe,load:gHe,loadAll:mHe,dump:vHe,YAMLException:yHe,types:xHe,safeLoad:_He,safeLoadAll:bHe,safeDump:wHe};const Ve=({className:e,...t})=>u.jsx("div",{className:Yt("bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",e),...t}),nt=({className:e,...t})=>u.jsx("div",{className:Yt("p-4 border-b border-gray-200",e),...t}),it=({className:e,...t})=>u.jsx("h3",{className:Yt("text-lg font-medium text-gray-900",e),...t}),qr=({className:e,...t})=>u.jsx("p",{className:Yt("text-sm text-gray-500",e),...t}),Ge=({className:e,...t})=>u.jsx("div",{className:Yt("p-4",e),...t});function pD(e,[t,r]){return Math.min(r,Math.max(t,e))}function It(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function CHe(e,t){const r=A.createContext(t),n=s=>{const{children:a,...o}=s,l=A.useMemo(()=>o,Object.values(o));return u.jsx(r.Provider,{value:l,children:a})};n.displayName=e+"Provider";function i(s){const a=A.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,i]}function Oa(e,t=[]){let r=[];function n(s,a){const o=A.createContext(a),l=r.length;r=[...r,a];const c=h=>{var y;const{scope:f,children:p,...g}=h,v=((y=f==null?void 0:f[e])==null?void 0:y[l])||o,m=A.useMemo(()=>g,Object.values(g));return u.jsx(v.Provider,{value:m,children:p})};c.displayName=s+"Provider";function d(h,f){var v;const p=((v=f==null?void 0:f[e])==null?void 0:v[l])||o,g=A.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=r.map(a=>A.createContext(a));return function(o){const l=(o==null?void 0:o[e])||s;return A.useMemo(()=>({[`__scope${e}`]:{...o,[e]:l}}),[o,l])}};return i.scopeName=e,[n,kHe(i,...t)]}function kHe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((o,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...o,...h}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function PG(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Uoe(...e){return t=>{let r=!1;const n=e.map(i=>{const s=PG(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():PG(e[i],null)}}}}function Xt(...e){return A.useCallback(Uoe(...e),e)}function up(e){const t=EHe(e),r=A.forwardRef((n,i)=>{const{children:s,...a}=n,o=A.Children.toArray(s),l=o.find(NHe);if(l){const c=l.props.children,d=o.map(h=>h===l?A.Children.count(c)>1?A.Children.only(null):A.isValidElement(c)?c.props.children:null:h);return u.jsx(t,{...a,ref:i,children:A.isValidElement(c)?A.cloneElement(c,void 0,d):null})}return u.jsx(t,{...a,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function EHe(e){const t=A.forwardRef((r,n)=>{const{children:i,...s}=r;if(A.isValidElement(i)){const a=jHe(i),o=AHe(s,i.props);return i.type!==A.Fragment&&(o.ref=n?Uoe(n,a):a),A.cloneElement(i,o)}return A.Children.count(i)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Hoe=Symbol("radix.slottable");function THe(e){const t=({children:r})=>u.jsx(u.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Hoe,t}function NHe(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Hoe}function AHe(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...o)=>{s(...o),i(...o)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function jHe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function RHe(e){const t=e+"CollectionProvider",[r,n]=Oa(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:m,children:y}=v,x=Wr.useRef(null),_=Wr.useRef(new Map).current;return u.jsx(i,{scope:m,itemMap:_,collectionRef:x,children:y})};a.displayName=t;const o=e+"CollectionSlot",l=up(o),c=Wr.forwardRef((v,m)=>{const{scope:y,children:x}=v,_=s(o,y),b=Xt(m,_.collectionRef);return u.jsx(l,{ref:b,children:x})});c.displayName=o;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=up(d),p=Wr.forwardRef((v,m)=>{const{scope:y,children:x,..._}=v,b=Wr.useRef(null),w=Xt(m,b),S=s(d,y);return Wr.useEffect(()=>(S.itemMap.set(b,{ref:b,..._}),()=>void S.itemMap.delete(b))),u.jsx(f,{[h]:"",ref:w,children:x})});p.displayName=d;function g(v){const m=s(e+"CollectionConsumer",v);return Wr.useCallback(()=>{const x=m.collectionRef.current;if(!x)return[];const _=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(m.itemMap.values()).sort((S,k)=>_.indexOf(S.ref.current)-_.indexOf(k.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:a,Slot:c,ItemSlot:p},g,n]}var IHe=A.createContext(void 0);function JN(e){const t=A.useContext(IHe);return e||t||"ltr"}var MHe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],kn=MHe.reduce((e,t)=>{const r=up(`Primitive.${t}`),n=A.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function PHe(e,t){e&&kp.flushSync(()=>e.dispatchEvent(t))}function di(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),A.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Voe(e,t=globalThis==null?void 0:globalThis.document){const r=di(e);A.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var LHe="DismissableLayer",gD="dismissableLayer.update",DHe="dismissableLayer.pointerDownOutside",OHe="dismissableLayer.focusOutside",LG,Woe=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),d$=A.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=e,c=A.useContext(Woe),[d,h]=A.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=A.useState({}),g=Xt(t,k=>h(k)),v=Array.from(c.layers),[m]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(m),x=d?v.indexOf(d):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,b=x>=y,w=FHe(k=>{const C=k.target,E=[...c.branches].some(T=>T.contains(C));!b||E||(i==null||i(k),a==null||a(k),k.defaultPrevented||o==null||o())},f),S=zHe(k=>{const C=k.target;[...c.branches].some(T=>T.contains(C))||(s==null||s(k),a==null||a(k),k.defaultPrevented||o==null||o())},f);return Voe(k=>{x===c.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&o&&(k.preventDefault(),o()))},f),A.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(LG=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),DG(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=LG)}},[d,f,r,c]),A.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),DG())},[d,c]),A.useEffect(()=>{const k=()=>p({});return document.addEventListener(gD,k),()=>document.removeEventListener(gD,k)},[]),u.jsx(kn.div,{...l,ref:g,style:{pointerEvents:_?b?"auto":"none":void 0,...e.style},onFocusCapture:It(e.onFocusCapture,S.onFocusCapture),onBlurCapture:It(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:It(e.onPointerDownCapture,w.onPointerDownCapture)})});d$.displayName=LHe;var $He="DismissableLayerBranch",BHe=A.forwardRef((e,t)=>{const r=A.useContext(Woe),n=A.useRef(null),i=Xt(t,n);return A.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),u.jsx(kn.div,{...e,ref:i})});BHe.displayName=$He;function FHe(e,t=globalThis==null?void 0:globalThis.document){const r=di(e),n=A.useRef(!1),i=A.useRef(()=>{});return A.useEffect(()=>{const s=o=>{if(o.target&&!n.current){let l=function(){Goe(DHe,r,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function zHe(e,t=globalThis==null?void 0:globalThis.document){const r=di(e),n=A.useRef(!1);return A.useEffect(()=>{const i=s=>{s.target&&!n.current&&Goe(OHe,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function DG(){const e=new CustomEvent(gD);document.dispatchEvent(e)}function Goe(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?PHe(i,s):i.dispatchEvent(s)}var tI=0;function qoe(){A.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??OG()),document.body.insertAdjacentElement("beforeend",e[1]??OG()),tI++,()=>{tI===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),tI--}},[])}function OG(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var rI="focusScope.autoFocusOnMount",nI="focusScope.autoFocusOnUnmount",$G={bubbles:!1,cancelable:!0},UHe="FocusScope",h$=A.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=e,[o,l]=A.useState(null),c=di(i),d=di(s),h=A.useRef(null),f=Xt(t,v=>l(v)),p=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(n){let v=function(_){if(p.paused||!o)return;const b=_.target;o.contains(b)?h.current=b:qu(h.current,{select:!0})},m=function(_){if(p.paused||!o)return;const b=_.relatedTarget;b!==null&&(o.contains(b)||qu(h.current,{select:!0}))},y=function(_){if(document.activeElement===document.body)for(const w of _)w.removedNodes.length>0&&qu(o)};document.addEventListener("focusin",v),document.addEventListener("focusout",m);const x=new MutationObserver(y);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",m),x.disconnect()}}},[n,o,p.paused]),A.useEffect(()=>{if(o){FG.add(p);const v=document.activeElement;if(!o.contains(v)){const y=new CustomEvent(rI,$G);o.addEventListener(rI,c),o.dispatchEvent(y),y.defaultPrevented||(HHe(YHe(Yoe(o)),{select:!0}),document.activeElement===v&&qu(o))}return()=>{o.removeEventListener(rI,c),setTimeout(()=>{const y=new CustomEvent(nI,$G);o.addEventListener(nI,d),o.dispatchEvent(y),y.defaultPrevented||qu(v??document.body,{select:!0}),o.removeEventListener(nI,d),FG.remove(p)},0)}}},[o,c,d,p]);const g=A.useCallback(v=>{if(!r&&!n||p.paused)return;const m=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(m&&y){const x=v.currentTarget,[_,b]=VHe(x);_&&b?!v.shiftKey&&y===b?(v.preventDefault(),r&&qu(_,{select:!0})):v.shiftKey&&y===_&&(v.preventDefault(),r&&qu(b,{select:!0})):y===x&&v.preventDefault()}},[r,n,p.paused]);return u.jsx(kn.div,{tabIndex:-1,...a,ref:f,onKeyDown:g})});h$.displayName=UHe;function HHe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(qu(n,{select:t}),document.activeElement!==r)return}function VHe(e){const t=Yoe(e),r=BG(t,e),n=BG(t.reverse(),e);return[r,n]}function Yoe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function BG(e,t){for(const r of e)if(!WHe(r,{upTo:t}))return r}function WHe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function GHe(e){return e instanceof HTMLInputElement&&"select"in e}function qu(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&GHe(e)&&t&&e.select()}}var FG=qHe();function qHe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=zG(e,t),e.unshift(t)},remove(t){var r;e=zG(e,t),(r=e[0])==null||r.resume()}}}function zG(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function YHe(e){return e.filter(t=>t.tagName!=="A")}var In=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},KHe=PT[" useId ".trim().toString()]||(()=>{}),ZHe=0;function Od(e){const[t,r]=A.useState(KHe());return In(()=>{r(n=>n??String(ZHe++))},[e]),t?`radix-${t}`:""}const XHe=["top","right","bottom","left"],Xd=Math.min,wa=Math.max,KE=Math.round,LS=Math.floor,ec=e=>({x:e,y:e}),JHe={left:"right",right:"left",bottom:"top",top:"bottom"},QHe={start:"end",end:"start"};function mD(e,t,r){return wa(e,Xd(t,r))}function gu(e,t){return typeof e=="function"?e(t):e}function mu(e){return e.split("-")[0]}function Kv(e){return e.split("-")[1]}function f$(e){return e==="x"?"y":"x"}function p$(e){return e==="y"?"height":"width"}function Jd(e){return["top","bottom"].includes(mu(e))?"y":"x"}function g$(e){return f$(Jd(e))}function eVe(e,t,r){r===void 0&&(r=!1);const n=Kv(e),i=g$(e),s=p$(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=ZE(a)),[a,ZE(a)]}function tVe(e){const t=ZE(e);return[vD(e),t,vD(t)]}function vD(e){return e.replace(/start|end/g,t=>QHe[t])}function rVe(e,t,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?s:a;default:return[]}}function nVe(e,t,r,n){const i=Kv(e);let s=rVe(mu(e),r==="start",n);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(vD)))),s}function ZE(e){return e.replace(/left|right|bottom|top/g,t=>JHe[t])}function iVe(e){return{top:0,right:0,bottom:0,left:0,...e}}function Koe(e){return typeof e!="number"?iVe(e):{top:e,right:e,bottom:e,left:e}}function XE(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function UG(e,t,r){let{reference:n,floating:i}=e;const s=Jd(t),a=g$(t),o=p$(a),l=mu(t),c=s==="y",d=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,f=n[o]/2-i[o]/2;let p;switch(l){case"top":p={x:d,y:n.y-i.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-i.width,y:h};break;default:p={x:n.x,y:n.y}}switch(Kv(t)){case"start":p[a]-=f*(r&&c?-1:1);break;case"end":p[a]+=f*(r&&c?-1:1);break}return p}const sVe=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:h}=UG(c,n,l),f=n,p={},g=0;for(let v=0;v<o.length;v++){const{name:m,fn:y}=o[v],{x,y:_,data:b,reset:w}=await y({x:d,y:h,initialPlacement:n,placement:f,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:e,floating:t}});d=x??d,h=_??h,p={...p,[m]:{...p[m],...b}},w&&g<=50&&(g++,typeof w=="object"&&(w.placement&&(f=w.placement),w.rects&&(c=w.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):w.rects),{x:d,y:h}=UG(c,f,l)),v=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:p}};async function ab(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:s,rects:a,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=gu(t,e),g=Koe(p),m=o[f?h==="floating"?"reference":"floating":h],y=XE(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(m)))==null||r?m:m.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),x=h==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),b=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},w=XE(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:_,strategy:l}):x);return{top:(y.top-w.top+g.top)/b.y,bottom:(w.bottom-y.bottom+g.bottom)/b.y,left:(y.left-w.left+g.left)/b.x,right:(w.right-y.right+g.right)/b.x}}const aVe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=t,{element:c,padding:d=0}=gu(e,t)||{};if(c==null)return{};const h=Koe(d),f={x:r,y:n},p=g$(i),g=p$(p),v=await a.getDimensions(c),m=p==="y",y=m?"top":"left",x=m?"bottom":"right",_=m?"clientHeight":"clientWidth",b=s.reference[g]+s.reference[p]-f[p]-s.floating[g],w=f[p]-s.reference[p],S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let k=S?S[_]:0;(!k||!await(a.isElement==null?void 0:a.isElement(S)))&&(k=o.floating[_]||s.floating[g]);const C=b/2-w/2,E=k/2-v[g]/2-1,T=Xd(h[y],E),N=Xd(h[x],E),R=T,P=k-v[g]-N,D=k/2-v[g]/2+C,$=mD(R,D,P),L=!l.arrow&&Kv(i)!=null&&D!==$&&s.reference[g]/2-(D<R?T:N)-v[g]/2<0,O=L?D<R?D-R:D-P:0;return{[p]:f[p]+O,data:{[p]:$,centerOffset:D-$-O,...L&&{alignmentOffset:O}},reset:L}}}),oVe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...m}=gu(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=mu(i),x=Jd(o),_=mu(o)===o,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=f||(_||!v?[ZE(o)]:tVe(o)),S=g!=="none";!f&&S&&w.push(...nVe(o,v,g,b));const k=[o,...w],C=await ab(t,m),E=[];let T=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&E.push(C[y]),h){const D=eVe(i,a,b);E.push(C[D[0]],C[D[1]])}if(T=[...T,{placement:i,overflows:E}],!E.every(D=>D<=0)){var N,R;const D=(((N=s.flip)==null?void 0:N.index)||0)+1,$=k[D];if($)return{data:{index:D,overflows:T},reset:{placement:$}};let L=(R=T.filter(O=>O.overflows[0]<=0).sort((O,j)=>O.overflows[1]-j.overflows[1])[0])==null?void 0:R.placement;if(!L)switch(p){case"bestFit":{var P;const O=(P=T.filter(j=>{if(S){const M=Jd(j.placement);return M===x||M==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(M=>M>0).reduce((M,I)=>M+I,0)]).sort((j,M)=>j[1]-M[1])[0])==null?void 0:P[0];O&&(L=O);break}case"initialPlacement":L=o;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function HG(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function VG(e){return XHe.some(t=>e[t]>=0)}const lVe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=gu(e,t);switch(n){case"referenceHidden":{const s=await ab(t,{...i,elementContext:"reference"}),a=HG(s,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:VG(a)}}}case"escaped":{const s=await ab(t,{...i,altBoundary:!0}),a=HG(s,r.floating);return{data:{escapedOffsets:a,escaped:VG(a)}}}default:return{}}}}};async function cVe(e,t){const{placement:r,platform:n,elements:i}=e,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=mu(r),o=Kv(r),l=Jd(r)==="y",c=["left","top"].includes(a)?-1:1,d=s&&l?-1:1,h=gu(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),l?{x:p*d,y:f*c}:{x:f*c,y:p*d}}const uVe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:s,placement:a,middlewareData:o}=t,l=await cVe(t,e);return a===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},dVe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:m=>{let{x:y,y:x}=m;return{x:y,y:x}}},...l}=gu(e,t),c={x:r,y:n},d=await ab(t,l),h=Jd(mu(i)),f=f$(h);let p=c[f],g=c[h];if(s){const m=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=p+d[m],_=p-d[y];p=mD(x,p,_)}if(a){const m=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=g+d[m],_=g-d[y];g=mD(x,g,_)}const v=o.fn({...t,[f]:p,[h]:g});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[f]:s,[h]:a}}}}}},hVe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:s,middlewareData:a}=t,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=gu(e,t),d={x:r,y:n},h=Jd(i),f=f$(h);let p=d[f],g=d[h];const v=gu(o,t),m=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const _=f==="y"?"height":"width",b=s.reference[f]-s.floating[_]+m.mainAxis,w=s.reference[f]+s.reference[_]-m.mainAxis;p<b?p=b:p>w&&(p=w)}if(c){var y,x;const _=f==="y"?"width":"height",b=["top","left"].includes(mu(i)),w=s.reference[h]-s.floating[_]+(b&&((y=a.offset)==null?void 0:y[h])||0)+(b?0:m.crossAxis),S=s.reference[h]+s.reference[_]+(b?0:((x=a.offset)==null?void 0:x[h])||0)-(b?m.crossAxis:0);g<w?g=w:g>S&&(g=S)}return{[f]:p,[h]:g}}}},fVe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:s,platform:a,elements:o}=t,{apply:l=()=>{},...c}=gu(e,t),d=await ab(t,c),h=mu(i),f=Kv(i),p=Jd(i)==="y",{width:g,height:v}=s.floating;let m,y;h==="top"||h==="bottom"?(m=h,y=f===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(y=h,m=f==="end"?"top":"bottom");const x=v-d.top-d.bottom,_=g-d.left-d.right,b=Xd(v-d[m],x),w=Xd(g-d[y],_),S=!t.middlewareData.shift;let k=b,C=w;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=_),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=x),S&&!f){const T=wa(d.left,0),N=wa(d.right,0),R=wa(d.top,0),P=wa(d.bottom,0);p?C=g-2*(T!==0||N!==0?T+N:wa(d.left,d.right)):k=v-2*(R!==0||P!==0?R+P:wa(d.top,d.bottom))}await l({...t,availableWidth:C,availableHeight:k});const E=await a.getDimensions(o.floating);return g!==E.width||v!==E.height?{reset:{rects:!0}}:{}}}};function QN(){return typeof window<"u"}function Zv(e){return Zoe(e)?(e.nodeName||"").toLowerCase():"#document"}function ja(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function mc(e){var t;return(t=(Zoe(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Zoe(e){return QN()?e instanceof Node||e instanceof ja(e).Node:!1}function nl(e){return QN()?e instanceof Element||e instanceof ja(e).Element:!1}function lc(e){return QN()?e instanceof HTMLElement||e instanceof ja(e).HTMLElement:!1}function WG(e){return!QN()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ja(e).ShadowRoot}function fw(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=il(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function pVe(e){return["table","td","th"].includes(Zv(e))}function e2(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function m$(e){const t=v$(),r=nl(e)?il(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function gVe(e){let t=Qd(e);for(;lc(t)&&!av(t);){if(m$(t))return t;if(e2(t))return null;t=Qd(t)}return null}function v$(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function av(e){return["html","body","#document"].includes(Zv(e))}function il(e){return ja(e).getComputedStyle(e)}function t2(e){return nl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Qd(e){if(Zv(e)==="html")return e;const t=e.assignedSlot||e.parentNode||WG(e)&&e.host||mc(e);return WG(t)?t.host:t}function Xoe(e){const t=Qd(e);return av(t)?e.ownerDocument?e.ownerDocument.body:e.body:lc(t)&&fw(t)?t:Xoe(t)}function ob(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=Xoe(e),s=i===((n=e.ownerDocument)==null?void 0:n.body),a=ja(i);if(s){const o=yD(a);return t.concat(a,a.visualViewport||[],fw(i)?i:[],o&&r?ob(o):[])}return t.concat(i,ob(i,[],r))}function yD(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Joe(e){const t=il(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=lc(e),s=i?e.offsetWidth:r,a=i?e.offsetHeight:n,o=KE(r)!==s||KE(n)!==a;return o&&(r=s,n=a),{width:r,height:n,$:o}}function y$(e){return nl(e)?e:e.contextElement}function jm(e){const t=y$(e);if(!lc(t))return ec(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:s}=Joe(t);let a=(s?KE(r.width):r.width)/n,o=(s?KE(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const mVe=ec(0);function Qoe(e){const t=ja(e);return!v$()||!t.visualViewport?mVe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function vVe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ja(e)?!1:t}function dp(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),s=y$(e);let a=ec(1);t&&(n?nl(n)&&(a=jm(n)):a=jm(e));const o=vVe(s,r,n)?Qoe(s):ec(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,d=i.width/a.x,h=i.height/a.y;if(s){const f=ja(s),p=n&&nl(n)?ja(n):n;let g=f,v=yD(g);for(;v&&n&&p!==g;){const m=jm(v),y=v.getBoundingClientRect(),x=il(v),_=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*m.x,b=y.top+(v.clientTop+parseFloat(x.paddingTop))*m.y;l*=m.x,c*=m.y,d*=m.x,h*=m.y,l+=_,c+=b,g=ja(v),v=yD(g)}}return XE({width:d,height:h,x:l,y:c})}function x$(e,t){const r=t2(e).scrollLeft;return t?t.left+r:dp(mc(e)).left+r}function ele(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:x$(e,n)),s=n.top+t.scrollTop;return{x:i,y:s}}function yVe(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const s=i==="fixed",a=mc(n),o=t?e2(t.floating):!1;if(n===a||o&&s)return r;let l={scrollLeft:0,scrollTop:0},c=ec(1);const d=ec(0),h=lc(n);if((h||!h&&!s)&&((Zv(n)!=="body"||fw(a))&&(l=t2(n)),lc(n))){const p=dp(n);c=jm(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const f=a&&!h&&!s?ele(a,l,!0):ec(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+f.x,y:r.y*c.y-l.scrollTop*c.y+d.y+f.y}}function xVe(e){return Array.from(e.getClientRects())}function _Ve(e){const t=mc(e),r=t2(e),n=e.ownerDocument.body,i=wa(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=wa(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+x$(e);const o=-r.scrollTop;return il(n).direction==="rtl"&&(a+=wa(t.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:o}}function bVe(e,t){const r=ja(e),n=mc(e),i=r.visualViewport;let s=n.clientWidth,a=n.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const c=v$();(!c||c&&t==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}function wVe(e,t){const r=dp(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,s=lc(e)?jm(e):ec(1),a=e.clientWidth*s.x,o=e.clientHeight*s.y,l=i*s.x,c=n*s.y;return{width:a,height:o,x:l,y:c}}function GG(e,t,r){let n;if(t==="viewport")n=bVe(e,r);else if(t==="document")n=_Ve(mc(e));else if(nl(t))n=wVe(t,r);else{const i=Qoe(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return XE(n)}function tle(e,t){const r=Qd(e);return r===t||!nl(r)||av(r)?!1:il(r).position==="fixed"||tle(r,t)}function SVe(e,t){const r=t.get(e);if(r)return r;let n=ob(e,[],!1).filter(o=>nl(o)&&Zv(o)!=="body"),i=null;const s=il(e).position==="fixed";let a=s?Qd(e):e;for(;nl(a)&&!av(a);){const o=il(a),l=m$(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||fw(a)&&!l&&tle(e,a))?n=n.filter(d=>d!==a):i=o,a=Qd(a)}return t.set(e,n),n}function CVe(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const a=[...r==="clippingAncestors"?e2(t)?[]:SVe(t,this._c):[].concat(r),n],o=a[0],l=a.reduce((c,d)=>{const h=GG(t,d,i);return c.top=wa(h.top,c.top),c.right=Xd(h.right,c.right),c.bottom=Xd(h.bottom,c.bottom),c.left=wa(h.left,c.left),c},GG(t,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function kVe(e){const{width:t,height:r}=Joe(e);return{width:t,height:r}}function EVe(e,t,r){const n=lc(t),i=mc(t),s=r==="fixed",a=dp(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const l=ec(0);if(n||!n&&!s)if((Zv(t)!=="body"||fw(i))&&(o=t2(t)),n){const f=dp(t,!0,s,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else i&&(l.x=x$(i));const c=i&&!n&&!s?ele(i,o):ec(0),d=a.left+o.scrollLeft-l.x-c.x,h=a.top+o.scrollTop-l.y-c.y;return{x:d,y:h,width:a.width,height:a.height}}function iI(e){return il(e).position==="static"}function qG(e,t){if(!lc(e)||il(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return mc(e)===r&&(r=r.ownerDocument.body),r}function rle(e,t){const r=ja(e);if(e2(e))return r;if(!lc(e)){let i=Qd(e);for(;i&&!av(i);){if(nl(i)&&!iI(i))return i;i=Qd(i)}return r}let n=qG(e,t);for(;n&&pVe(n)&&iI(n);)n=qG(n,t);return n&&av(n)&&iI(n)&&!m$(n)?r:n||gVe(e)||r}const TVe=async function(e){const t=this.getOffsetParent||rle,r=this.getDimensions,n=await r(e.floating);return{reference:EVe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function NVe(e){return il(e).direction==="rtl"}const AVe={convertOffsetParentRelativeRectToViewportRelativeRect:yVe,getDocumentElement:mc,getClippingRect:CVe,getOffsetParent:rle,getElementRects:TVe,getClientRects:xVe,getDimensions:kVe,getScale:jm,isElement:nl,isRTL:NVe};function nle(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function jVe(e,t){let r=null,n;const i=mc(e);function s(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=e.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=c;if(o||t(),!f||!p)return;const g=LS(h),v=LS(i.clientWidth-(d+f)),m=LS(i.clientHeight-(h+p)),y=LS(d),_={rootMargin:-g+"px "+-v+"px "+-m+"px "+-y+"px",threshold:wa(0,Xd(1,l))||1};let b=!0;function w(S){const k=S[0].intersectionRatio;if(k!==l){if(!b)return a();k?a(!1,k):n=setTimeout(()=>{a(!1,1e-7)},1e3)}k===1&&!nle(c,e.getBoundingClientRect())&&a(),b=!1}try{r=new IntersectionObserver(w,{..._,root:i.ownerDocument})}catch{r=new IntersectionObserver(w,_)}r.observe(e)}return a(!0),s}function ile(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=y$(e),d=i||s?[...c?ob(c):[],...ob(t)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const h=c&&o?jVe(c,r):null;let f=-1,p=null;a&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(t)})),r()}),c&&!l&&p.observe(c),p.observe(t));let g,v=l?dp(e):null;l&&m();function m(){const y=dp(e);v&&!nle(v,y)&&r(),v=y,g=requestAnimationFrame(m)}return r(),()=>{var y;d.forEach(x=>{i&&x.removeEventListener("scroll",r),s&&x.removeEventListener("resize",r)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const RVe=uVe,IVe=dVe,MVe=oVe,PVe=fVe,LVe=lVe,YG=aVe,DVe=hVe,OVe=(e,t,r)=>{const n=new Map,i={platform:AVe,...r},s={...i.platform,_c:n};return sVe(e,t,{...i,platform:s})};var ak=typeof document<"u"?A.useLayoutEffect:A.useEffect;function JE(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!JE(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&e.$$typeof)&&!JE(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function sle(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function KG(e,t){const r=sle(e);return Math.round(t*r)/r}function sI(e){const t=A.useRef(e);return ak(()=>{t.current=e}),t}function ale(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=e,[d,h]=A.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=A.useState(n);JE(f,n)||p(n);const[g,v]=A.useState(null),[m,y]=A.useState(null),x=A.useCallback(j=>{j!==S.current&&(S.current=j,v(j))},[]),_=A.useCallback(j=>{j!==k.current&&(k.current=j,y(j))},[]),b=s||g,w=a||m,S=A.useRef(null),k=A.useRef(null),C=A.useRef(d),E=l!=null,T=sI(l),N=sI(i),R=sI(c),P=A.useCallback(()=>{if(!S.current||!k.current)return;const j={placement:t,strategy:r,middleware:f};N.current&&(j.platform=N.current),OVe(S.current,k.current,j).then(M=>{const I={...M,isPositioned:R.current!==!1};D.current&&!JE(C.current,I)&&(C.current=I,kp.flushSync(()=>{h(I)}))})},[f,t,r,N,R]);ak(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[c]);const D=A.useRef(!1);ak(()=>(D.current=!0,()=>{D.current=!1}),[]),ak(()=>{if(b&&(S.current=b),w&&(k.current=w),b&&w){if(T.current)return T.current(b,w,P);P()}},[b,w,P,T,E]);const $=A.useMemo(()=>({reference:S,floating:k,setReference:x,setFloating:_}),[x,_]),L=A.useMemo(()=>({reference:b,floating:w}),[b,w]),O=A.useMemo(()=>{const j={position:r,left:0,top:0};if(!L.floating)return j;const M=KG(L.floating,d.x),I=KG(L.floating,d.y);return o?{...j,transform:"translate("+M+"px, "+I+"px)",...sle(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:I}},[r,o,L.floating,d.x,d.y]);return A.useMemo(()=>({...d,update:P,refs:$,elements:L,floatingStyles:O}),[d,P,$,L,O])}const $Ve=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?YG({element:n.current,padding:i}).fn(r):{}:n?YG({element:n,padding:i}).fn(r):{}}}},ole=(e,t)=>({...RVe(e),options:[e,t]}),lle=(e,t)=>({...IVe(e),options:[e,t]}),cle=(e,t)=>({...DVe(e),options:[e,t]}),ule=(e,t)=>({...MVe(e),options:[e,t]}),dle=(e,t)=>({...PVe(e),options:[e,t]}),hle=(e,t)=>({...LVe(e),options:[e,t]}),fle=(e,t)=>({...$Ve(e),options:[e,t]});var BVe="Arrow",ple=A.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return u.jsx(kn.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});ple.displayName=BVe;var FVe=ple;function r2(e){const[t,r]=A.useState(void 0);return In(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=e.offsetWidth,o=e.offsetHeight;r({width:a,height:o})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var _$="Popper",[gle,mle]=Oa(_$),[zVe,vle]=gle(_$),yle=e=>{const{__scopePopper:t,children:r}=e,[n,i]=A.useState(null);return u.jsx(zVe,{scope:t,anchor:n,onAnchorChange:i,children:r})};yle.displayName=_$;var xle="PopperAnchor",_le=A.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=vle(xle,r),a=A.useRef(null),o=Xt(t,a);return A.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:u.jsx(kn.div,{...i,ref:o})});_le.displayName=xle;var b$="PopperContent",[UVe,HVe]=gle(b$),ble=A.forwardRef((e,t)=>{var B,W,K,X,Q,re;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:g,...v}=e,m=vle(b$,r),[y,x]=A.useState(null),_=Xt(t,Se=>x(Se)),[b,w]=A.useState(null),S=r2(b),k=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,E=n+(s!=="center"?"-"+s:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(c)?c:[c],R=N.length>0,P={padding:T,boundary:N.filter(WVe),altBoundary:R},{refs:D,floatingStyles:$,placement:L,isPositioned:O,middlewareData:j}=ale({strategy:"fixed",placement:E,whileElementsMounted:(...Se)=>ile(...Se,{animationFrame:p==="always"}),elements:{reference:m.anchor},middleware:[ole({mainAxis:i+C,alignmentAxis:a}),l&&lle({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?cle():void 0,...P}),l&&ule({...P}),dle({...P,apply:({elements:Se,rects:Te,availableWidth:Ie,availableHeight:Me})=>{const{width:Ee,height:Ae}=Te.reference,Lt=Se.floating.style;Lt.setProperty("--radix-popper-available-width",`${Ie}px`),Lt.setProperty("--radix-popper-available-height",`${Me}px`),Lt.setProperty("--radix-popper-anchor-width",`${Ee}px`),Lt.setProperty("--radix-popper-anchor-height",`${Ae}px`)}}),b&&fle({element:b,padding:o}),GVe({arrowWidth:k,arrowHeight:C}),f&&hle({strategy:"referenceHidden",...P})]}),[M,I]=Cle(L),z=di(g);In(()=>{O&&(z==null||z())},[O,z]);const U=(B=j.arrow)==null?void 0:B.x,F=(W=j.arrow)==null?void 0:W.y,G=((K=j.arrow)==null?void 0:K.centerOffset)!==0,[Y,Z]=A.useState();return In(()=>{y&&Z(window.getComputedStyle(y).zIndex)},[y]),u.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:O?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[(X=j.transformOrigin)==null?void 0:X.x,(Q=j.transformOrigin)==null?void 0:Q.y].join(" "),...((re=j.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(UVe,{scope:r,placedSide:M,onArrowChange:w,arrowX:U,arrowY:F,shouldHideArrow:G,children:u.jsx(kn.div,{"data-side":M,"data-align":I,...v,ref:_,style:{...v.style,animation:O?void 0:"none"}})})})});ble.displayName=b$;var wle="PopperArrow",VVe={top:"bottom",right:"left",bottom:"top",left:"right"},Sle=A.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=HVe(wle,n),a=VVe[s.placedSide];return u.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:u.jsx(FVe,{...i,ref:r,style:{...i.style,display:"block"}})})});Sle.displayName=wle;function WVe(e){return e!==null}var GVe=e=>({name:"transformOrigin",options:e,fn(t){var m,y,x;const{placement:r,rects:n,middlewareData:i}=t,a=((m=i.arrow)==null?void 0:m.centerOffset)!==0,o=a?0:e.arrowWidth,l=a?0:e.arrowHeight,[c,d]=Cle(r),h={start:"0%",center:"50%",end:"100%"}[d],f=(((y=i.arrow)==null?void 0:y.x)??0)+o/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let g="",v="";return c==="bottom"?(g=a?h:`${f}px`,v=`${-l}px`):c==="top"?(g=a?h:`${f}px`,v=`${n.floating.height+l}px`):c==="right"?(g=`${-l}px`,v=a?h:`${p}px`):c==="left"&&(g=`${n.floating.width+l}px`,v=a?h:`${p}px`),{data:{x:g,y:v}}}});function Cle(e){const[t,r="center"]=e.split("-");return[t,r]}var qVe=yle,YVe=_le,KVe=ble,ZVe=Sle,XVe="Portal",w$=A.forwardRef((e,t)=>{var o;const{container:r,...n}=e,[i,s]=A.useState(!1);In(()=>s(!0),[]);const a=r||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?b0e.createPortal(u.jsx(kn.div,{...n,ref:t}),a):null});w$.displayName=XVe;function QE({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=JVe({defaultProp:t,onChange:r}),s=e!==void 0,a=s?e:n,o=di(r),l=A.useCallback(c=>{if(s){const h=typeof c=="function"?c(e):c;h!==e&&o(h)}else i(c)},[s,e,i,o]);return[a,l]}function JVe({defaultProp:e,onChange:t}){const r=A.useState(e),[n]=r,i=A.useRef(n),s=di(t);return A.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),r}function S$(e){const t=A.useRef({value:e,previous:e});return A.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var QVe="VisuallyHidden",kle=A.forwardRef((e,t)=>u.jsx(kn.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));kle.displayName=QVe;var eWe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},wg=new WeakMap,DS=new WeakMap,OS={},aI=0,Ele=function(e){return e&&(e.host||Ele(e.parentNode))},tWe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Ele(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},rWe=function(e,t,r,n){var i=tWe(t,Array.isArray(e)?e:[e]);OS[r]||(OS[r]=new WeakMap);var s=OS[r],a=[],o=new Set,l=new Set(i),c=function(h){!h||o.has(h)||(o.add(h),c(h.parentNode))};i.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(o.has(f))d(f);else try{var p=f.getAttribute(n),g=p!==null&&p!=="false",v=(wg.get(f)||0)+1,m=(s.get(f)||0)+1;wg.set(f,v),s.set(f,m),a.push(f),v===1&&g&&DS.set(f,!0),m===1&&f.setAttribute(r,"true"),g||f.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return d(t),o.clear(),aI++,function(){a.forEach(function(h){var f=wg.get(h)-1,p=s.get(h)-1;wg.set(h,f),s.set(h,p),f||(DS.has(h)||h.removeAttribute(n),DS.delete(h)),p||h.removeAttribute(r)}),aI--,aI||(wg=new WeakMap,wg=new WeakMap,DS=new WeakMap,OS={})}},Tle=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=eWe(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),rWe(n,i,r,"aria-hidden")):function(){return null}},Ol=function(){return Ol=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ol.apply(this,arguments)};function Nle(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function nWe(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var ok="right-scroll-bar-position",lk="width-before-scroll-bar",iWe="with-scroll-bars-hidden",sWe="--removed-body-scroll-bar-size";function oI(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function aWe(e,t){var r=A.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var oWe=typeof window<"u"?A.useLayoutEffect:A.useEffect,ZG=new WeakMap;function lWe(e,t){var r=aWe(null,function(n){return e.forEach(function(i){return oI(i,n)})});return oWe(function(){var n=ZG.get(r);if(n){var i=new Set(n),s=new Set(e),a=r.current;i.forEach(function(o){s.has(o)||oI(o,null)}),s.forEach(function(o){i.has(o)||oI(o,a)})}ZG.set(r,e)},[e]),r}function cWe(e){return e}function uWe(e,t){t===void 0&&(t=cWe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var a=t(s,n);return r.push(a),function(){r=r.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(n=!0;r.length;){var a=r;r=[],a.forEach(s)}r={push:function(o){return s(o)},filter:function(){return r}}},assignMedium:function(s){n=!0;var a=[];if(r.length){var o=r;r=[],o.forEach(s),a=r}var l=function(){var d=a;a=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(d){a.push(d),c()},filter:function(d){return a=a.filter(d),r}}}};return i}function dWe(e){e===void 0&&(e={});var t=uWe(null);return t.options=Ol({async:!0,ssr:!1},e),t}var Ale=function(e){var t=e.sideCar,r=Nle(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return A.createElement(n,Ol({},r))};Ale.isSideCarExport=!0;function hWe(e,t){return e.useMedium(t),Ale}var jle=dWe(),lI=function(){},n2=A.forwardRef(function(e,t){var r=A.useRef(null),n=A.useState({onScrollCapture:lI,onWheelCapture:lI,onTouchMoveCapture:lI}),i=n[0],s=n[1],a=e.forwardProps,o=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noIsolation,g=e.inert,v=e.allowPinchZoom,m=e.as,y=m===void 0?"div":m,x=e.gapMode,_=Nle(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=f,w=lWe([r,t]),S=Ol(Ol({},_),i);return A.createElement(A.Fragment,null,d&&A.createElement(b,{sideCar:jle,removeScrollBar:c,shards:h,noIsolation:p,inert:g,setCallbacks:s,allowPinchZoom:!!v,lockRef:r,gapMode:x}),a?A.cloneElement(A.Children.only(o),Ol(Ol({},S),{ref:w})):A.createElement(y,Ol({},S,{className:l,ref:w}),o))});n2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};n2.classNames={fullWidth:lk,zeroRight:ok};var fWe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pWe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=fWe();return t&&e.setAttribute("nonce",t),e}function gWe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function mWe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var vWe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=pWe())&&(gWe(t,r),mWe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},yWe=function(){var e=vWe();return function(t,r){A.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Rle=function(){var e=yWe(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},xWe={left:0,top:0,right:0,gap:0},cI=function(e){return parseInt(e||"",10)||0},_We=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[cI(r),cI(n),cI(i)]},bWe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return xWe;var t=_We(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},wWe=Rle(),Rm="data-scroll-locked",SWe=function(e,t,r,n){var i=e.left,s=e.top,a=e.right,o=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(iWe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(Rm,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ok,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(lk,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(ok," .").concat(ok,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(lk," .").concat(lk,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Rm,`] {
    `).concat(sWe,": ").concat(o,`px;
  }
`)},XG=function(){var e=parseInt(document.body.getAttribute(Rm)||"0",10);return isFinite(e)?e:0},CWe=function(){A.useEffect(function(){return document.body.setAttribute(Rm,(XG()+1).toString()),function(){var e=XG()-1;e<=0?document.body.removeAttribute(Rm):document.body.setAttribute(Rm,e.toString())}},[])},kWe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;CWe();var s=A.useMemo(function(){return bWe(i)},[i]);return A.createElement(wWe,{styles:SWe(s,!t,i,r?"":"!important")})},xD=!1;if(typeof window<"u")try{var $S=Object.defineProperty({},"passive",{get:function(){return xD=!0,!0}});window.addEventListener("test",$S,$S),window.removeEventListener("test",$S,$S)}catch{xD=!1}var Sg=xD?{passive:!1}:!1,EWe=function(e){return e.tagName==="TEXTAREA"},Ile=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!EWe(e)&&r[t]==="visible")},TWe=function(e){return Ile(e,"overflowY")},NWe=function(e){return Ile(e,"overflowX")},JG=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=Mle(e,n);if(i){var s=Ple(e,n),a=s[1],o=s[2];if(a>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},AWe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},jWe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Mle=function(e,t){return e==="v"?TWe(t):NWe(t)},Ple=function(e,t){return e==="v"?AWe(t):jWe(t)},RWe=function(e,t){return e==="h"&&t==="rtl"?-1:1},IWe=function(e,t,r,n,i){var s=RWe(e,window.getComputedStyle(t).direction),a=s*n,o=r.target,l=t.contains(o),c=!1,d=a>0,h=0,f=0;do{var p=Ple(e,o),g=p[0],v=p[1],m=p[2],y=v-m-s*g;(g||y)&&Mle(e,o)&&(h+=y,f+=g),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!l&&o!==document.body||l&&(t.contains(o)||t===o));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(c=!0),c},BS=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},QG=function(e){return[e.deltaX,e.deltaY]},eq=function(e){return e&&"current"in e?e.current:e},MWe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},PWe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},LWe=0,Cg=[];function DWe(e){var t=A.useRef([]),r=A.useRef([0,0]),n=A.useRef(),i=A.useState(LWe++)[0],s=A.useState(Rle)[0],a=A.useRef(e);A.useEffect(function(){a.current=e},[e]),A.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=nWe([e.lockRef.current],(e.shards||[]).map(eq),!0).filter(Boolean);return v.forEach(function(m){return m.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var o=A.useCallback(function(v,m){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var y=BS(v),x=r.current,_="deltaX"in v?v.deltaX:x[0]-y[0],b="deltaY"in v?v.deltaY:x[1]-y[1],w,S=v.target,k=Math.abs(_)>Math.abs(b)?"h":"v";if("touches"in v&&k==="h"&&S.type==="range")return!1;var C=JG(k,S);if(!C)return!0;if(C?w=k:(w=k==="v"?"h":"v",C=JG(k,S)),!C)return!1;if(!n.current&&"changedTouches"in v&&(_||b)&&(n.current=w),!w)return!0;var E=n.current||w;return IWe(E,m,v,E==="h"?_:b)},[]),l=A.useCallback(function(v){var m=v;if(!(!Cg.length||Cg[Cg.length-1]!==s)){var y="deltaY"in m?QG(m):BS(m),x=t.current.filter(function(w){return w.name===m.type&&(w.target===m.target||m.target===w.shadowParent)&&MWe(w.delta,y)})[0];if(x&&x.should){m.cancelable&&m.preventDefault();return}if(!x){var _=(a.current.shards||[]).map(eq).filter(Boolean).filter(function(w){return w.contains(m.target)}),b=_.length>0?o(m,_[0]):!a.current.noIsolation;b&&m.cancelable&&m.preventDefault()}}},[]),c=A.useCallback(function(v,m,y,x){var _={name:v,delta:m,target:y,should:x,shadowParent:OWe(y)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(b){return b!==_})},1)},[]),d=A.useCallback(function(v){r.current=BS(v),n.current=void 0},[]),h=A.useCallback(function(v){c(v.type,QG(v),v.target,o(v,e.lockRef.current))},[]),f=A.useCallback(function(v){c(v.type,BS(v),v.target,o(v,e.lockRef.current))},[]);A.useEffect(function(){return Cg.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Sg),document.addEventListener("touchmove",l,Sg),document.addEventListener("touchstart",d,Sg),function(){Cg=Cg.filter(function(v){return v!==s}),document.removeEventListener("wheel",l,Sg),document.removeEventListener("touchmove",l,Sg),document.removeEventListener("touchstart",d,Sg)}},[]);var p=e.removeScrollBar,g=e.inert;return A.createElement(A.Fragment,null,g?A.createElement(s,{styles:PWe(i)}):null,p?A.createElement(kWe,{gapMode:e.gapMode}):null)}function OWe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $We=hWe(jle,DWe);var C$=A.forwardRef(function(e,t){return A.createElement(n2,Ol({},e,{ref:t,sideCar:$We}))});C$.classNames=n2.classNames;var BWe=[" ","Enter","ArrowUp","ArrowDown"],FWe=[" ","Enter"],pw="Select",[i2,s2,zWe]=RHe(pw),[Xv,wpt]=Oa(pw,[zWe,mle]),a2=mle(),[UWe,gh]=Xv(pw),[HWe,VWe]=Xv(pw),Lle=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:c,name:d,autoComplete:h,disabled:f,required:p,form:g}=e,v=a2(t),[m,y]=A.useState(null),[x,_]=A.useState(null),[b,w]=A.useState(!1),S=JN(c),[k=!1,C]=QE({prop:n,defaultProp:i,onChange:s}),[E,T]=QE({prop:a,defaultProp:o,onChange:l}),N=A.useRef(null),R=m?g||!!m.closest("form"):!0,[P,D]=A.useState(new Set),$=Array.from(P).map(L=>L.props.value).join(";");return u.jsx(qVe,{...v,children:u.jsxs(UWe,{required:p,scope:t,trigger:m,onTriggerChange:y,valueNode:x,onValueNodeChange:_,valueNodeHasChildren:b,onValueNodeHasChildrenChange:w,contentId:Od(),value:E,onValueChange:T,open:k,onOpenChange:C,dir:S,triggerPointerDownPosRef:N,disabled:f,children:[u.jsx(i2.Provider,{scope:t,children:u.jsx(HWe,{scope:e.__scopeSelect,onNativeOptionAdd:A.useCallback(L=>{D(O=>new Set(O).add(L))},[]),onNativeOptionRemove:A.useCallback(L=>{D(O=>{const j=new Set(O);return j.delete(L),j})},[]),children:r})}),R?u.jsxs(nce,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:E,onChange:L=>T(L.target.value),disabled:f,form:g,children:[E===void 0?u.jsx("option",{value:""}):null,Array.from(P)]},$):null]})})};Lle.displayName=pw;var Dle="SelectTrigger",Ole=A.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,s=a2(r),a=gh(Dle,r),o=a.disabled||n,l=Xt(t,a.onTriggerChange),c=s2(r),d=A.useRef("touch"),[h,f,p]=ice(v=>{const m=c().filter(_=>!_.disabled),y=m.find(_=>_.value===a.value),x=sce(m,v,y);x!==void 0&&a.onValueChange(x.value)}),g=v=>{o||(a.onOpenChange(!0),p()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return u.jsx(YVe,{asChild:!0,...s,children:u.jsx(kn.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":rce(a.value)?"":void 0,...i,ref:l,onClick:It(i.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&g(v)}),onPointerDown:It(i.onPointerDown,v=>{d.current=v.pointerType;const m=v.target;m.hasPointerCapture(v.pointerId)&&m.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(g(v),v.preventDefault())}),onKeyDown:It(i.onKeyDown,v=>{const m=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&f(v.key),!(m&&v.key===" ")&&BWe.includes(v.key)&&(g(),v.preventDefault())})})})});Ole.displayName=Dle;var $le="SelectValue",Ble=A.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:a="",...o}=e,l=gh($le,r),{onValueNodeHasChildrenChange:c}=l,d=s!==void 0,h=Xt(t,l.onValueNodeChange);return In(()=>{c(d)},[c,d]),u.jsx(kn.span,{...o,ref:h,style:{pointerEvents:"none"},children:rce(l.value)?u.jsx(u.Fragment,{children:a}):s})});Ble.displayName=$le;var WWe="SelectIcon",Fle=A.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return u.jsx(kn.span,{"aria-hidden":!0,...i,ref:t,children:n||"▼"})});Fle.displayName=WWe;var GWe="SelectPortal",zle=e=>u.jsx(w$,{asChild:!0,...e});zle.displayName=GWe;var hp="SelectContent",Ule=A.forwardRef((e,t)=>{const r=gh(hp,e.__scopeSelect),[n,i]=A.useState();if(In(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?kp.createPortal(u.jsx(Hle,{scope:e.__scopeSelect,children:u.jsx(i2.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),s):null}return u.jsx(Vle,{...e,ref:t})});Ule.displayName=hp;var Po=10,[Hle,mh]=Xv(hp),qWe="SelectContentImpl",YWe=up("SelectContent.RemoveScroll"),Vle=A.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:v,avoidCollisions:m,...y}=e,x=gh(hp,r),[_,b]=A.useState(null),[w,S]=A.useState(null),k=Xt(t,B=>b(B)),[C,E]=A.useState(null),[T,N]=A.useState(null),R=s2(r),[P,D]=A.useState(!1),$=A.useRef(!1);A.useEffect(()=>{if(_)return Tle(_)},[_]),qoe();const L=A.useCallback(B=>{const[W,...K]=R().map(re=>re.ref.current),[X]=K.slice(-1),Q=document.activeElement;for(const re of B)if(re===Q||(re==null||re.scrollIntoView({block:"nearest"}),re===W&&w&&(w.scrollTop=0),re===X&&w&&(w.scrollTop=w.scrollHeight),re==null||re.focus(),document.activeElement!==Q))return},[R,w]),O=A.useCallback(()=>L([C,_]),[L,C,_]);A.useEffect(()=>{P&&O()},[P,O]);const{onOpenChange:j,triggerPointerDownPosRef:M}=x;A.useEffect(()=>{if(_){let B={x:0,y:0};const W=X=>{var Q,re;B={x:Math.abs(Math.round(X.pageX)-(((Q=M.current)==null?void 0:Q.x)??0)),y:Math.abs(Math.round(X.pageY)-(((re=M.current)==null?void 0:re.y)??0))}},K=X=>{B.x<=10&&B.y<=10?X.preventDefault():_.contains(X.target)||j(!1),document.removeEventListener("pointermove",W),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",W),document.addEventListener("pointerup",K,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",K,{capture:!0})}}},[_,j,M]),A.useEffect(()=>{const B=()=>j(!1);return window.addEventListener("blur",B),window.addEventListener("resize",B),()=>{window.removeEventListener("blur",B),window.removeEventListener("resize",B)}},[j]);const[I,z]=ice(B=>{const W=R().filter(Q=>!Q.disabled),K=W.find(Q=>Q.ref.current===document.activeElement),X=sce(W,B,K);X&&setTimeout(()=>X.ref.current.focus())}),U=A.useCallback((B,W,K)=>{const X=!$.current&&!K;(x.value!==void 0&&x.value===W||X)&&(E(B),X&&($.current=!0))},[x.value]),F=A.useCallback(()=>_==null?void 0:_.focus(),[_]),G=A.useCallback((B,W,K)=>{const X=!$.current&&!K;(x.value!==void 0&&x.value===W||X)&&N(B)},[x.value]),Y=n==="popper"?_D:Wle,Z=Y===_D?{side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:v,avoidCollisions:m}:{};return u.jsx(Hle,{scope:r,content:_,viewport:w,onViewportChange:S,itemRefCallback:U,selectedItem:C,onItemLeave:F,itemTextRefCallback:G,focusSelectedItem:O,selectedItemText:T,position:n,isPositioned:P,searchRef:I,children:u.jsx(C$,{as:YWe,allowPinchZoom:!0,children:u.jsx(h$,{asChild:!0,trapped:x.open,onMountAutoFocus:B=>{B.preventDefault()},onUnmountAutoFocus:It(i,B=>{var W;(W=x.trigger)==null||W.focus({preventScroll:!0}),B.preventDefault()}),children:u.jsx(d$,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:B=>B.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:u.jsx(Y,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:B=>B.preventDefault(),...y,...Z,onPlaced:()=>D(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:It(y.onKeyDown,B=>{const W=B.ctrlKey||B.altKey||B.metaKey;if(B.key==="Tab"&&B.preventDefault(),!W&&B.key.length===1&&z(B.key),["ArrowUp","ArrowDown","Home","End"].includes(B.key)){let X=R().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes(B.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes(B.key)){const Q=B.target,re=X.indexOf(Q);X=X.slice(re+1)}setTimeout(()=>L(X)),B.preventDefault()}})})})})})})});Vle.displayName=qWe;var KWe="SelectItemAlignedPosition",Wle=A.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,s=gh(hp,r),a=mh(hp,r),[o,l]=A.useState(null),[c,d]=A.useState(null),h=Xt(t,k=>d(k)),f=s2(r),p=A.useRef(!1),g=A.useRef(!0),{viewport:v,selectedItem:m,selectedItemText:y,focusSelectedItem:x}=a,_=A.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&c&&v&&m&&y){const k=s.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),E=s.valueNode.getBoundingClientRect(),T=y.getBoundingClientRect();if(s.dir!=="rtl"){const Q=T.left-C.left,re=E.left-Q,Se=k.left-re,Te=k.width+Se,Ie=Math.max(Te,C.width),Me=window.innerWidth-Po,Ee=pD(re,[Po,Math.max(Po,Me-Ie)]);o.style.minWidth=Te+"px",o.style.left=Ee+"px"}else{const Q=C.right-T.right,re=window.innerWidth-E.right-Q,Se=window.innerWidth-k.right-re,Te=k.width+Se,Ie=Math.max(Te,C.width),Me=window.innerWidth-Po,Ee=pD(re,[Po,Math.max(Po,Me-Ie)]);o.style.minWidth=Te+"px",o.style.right=Ee+"px"}const N=f(),R=window.innerHeight-Po*2,P=v.scrollHeight,D=window.getComputedStyle(c),$=parseInt(D.borderTopWidth,10),L=parseInt(D.paddingTop,10),O=parseInt(D.borderBottomWidth,10),j=parseInt(D.paddingBottom,10),M=$+L+P+j+O,I=Math.min(m.offsetHeight*5,M),z=window.getComputedStyle(v),U=parseInt(z.paddingTop,10),F=parseInt(z.paddingBottom,10),G=k.top+k.height/2-Po,Y=R-G,Z=m.offsetHeight/2,B=m.offsetTop+Z,W=$+L+B,K=M-W;if(W<=G){const Q=N.length>0&&m===N[N.length-1].ref.current;o.style.bottom="0px";const re=c.clientHeight-v.offsetTop-v.offsetHeight,Se=Math.max(Y,Z+(Q?F:0)+re+O),Te=W+Se;o.style.height=Te+"px"}else{const Q=N.length>0&&m===N[0].ref.current;o.style.top="0px";const Se=Math.max(G,$+v.offsetTop+(Q?U:0)+Z)+K;o.style.height=Se+"px",v.scrollTop=W-G+v.offsetTop}o.style.margin=`${Po}px 0`,o.style.minHeight=I+"px",o.style.maxHeight=R+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[f,s.trigger,s.valueNode,o,c,v,m,y,s.dir,n]);In(()=>_(),[_]);const[b,w]=A.useState();In(()=>{c&&w(window.getComputedStyle(c).zIndex)},[c]);const S=A.useCallback(k=>{k&&g.current===!0&&(_(),x==null||x(),g.current=!1)},[_,x]);return u.jsx(XWe,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:u.jsx(kn.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Wle.displayName=KWe;var ZWe="SelectPopperPosition",_D=A.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Po,...s}=e,a=a2(r);return u.jsx(KVe,{...a,...s,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});_D.displayName=ZWe;var[XWe,k$]=Xv(hp,{}),bD="SelectViewport",Gle=A.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,s=mh(bD,r),a=k$(bD,r),o=Xt(t,s.onViewportChange),l=A.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),u.jsx(i2.Slot,{scope:r,children:u.jsx(kn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:It(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=a;if(f!=null&&f.current&&h){const p=Math.abs(l.current-d.scrollTop);if(p>0){const g=window.innerHeight-Po*2,v=parseFloat(h.style.minHeight),m=parseFloat(h.style.height),y=Math.max(v,m);if(y<g){const x=y+p,_=Math.min(g,x),b=x-_;h.style.height=_+"px",h.style.bottom==="0px"&&(d.scrollTop=b>0?b:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});Gle.displayName=bD;var qle="SelectGroup",[JWe,QWe]=Xv(qle),e9e=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Od();return u.jsx(JWe,{scope:r,id:i,children:u.jsx(kn.div,{role:"group","aria-labelledby":i,...n,ref:t})})});e9e.displayName=qle;var Yle="SelectLabel",Kle=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=QWe(Yle,r);return u.jsx(kn.div,{id:i.id,...n,ref:t})});Kle.displayName=Yle;var eT="SelectItem",[t9e,Zle]=Xv(eT),Xle=A.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...a}=e,o=gh(eT,r),l=mh(eT,r),c=o.value===n,[d,h]=A.useState(s??""),[f,p]=A.useState(!1),g=Xt(t,x=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,x,n,i)}),v=Od(),m=A.useRef("touch"),y=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(t9e,{scope:r,value:n,disabled:i,textId:v,isSelected:c,onItemTextChange:A.useCallback(x=>{h(_=>_||((x==null?void 0:x.textContent)??"").trim())},[]),children:u.jsx(i2.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:u.jsx(kn.div,{role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:g,onFocus:It(a.onFocus,()=>p(!0)),onBlur:It(a.onBlur,()=>p(!1)),onClick:It(a.onClick,()=>{m.current!=="mouse"&&y()}),onPointerUp:It(a.onPointerUp,()=>{m.current==="mouse"&&y()}),onPointerDown:It(a.onPointerDown,x=>{m.current=x.pointerType}),onPointerMove:It(a.onPointerMove,x=>{var _;m.current=x.pointerType,i?(_=l.onItemLeave)==null||_.call(l):m.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:It(a.onPointerLeave,x=>{var _;x.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:It(a.onKeyDown,x=>{var b;((b=l.searchRef)==null?void 0:b.current)!==""&&x.key===" "||(FWe.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});Xle.displayName=eT;var lx="SelectItemText",Jle=A.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...s}=e,a=gh(lx,r),o=mh(lx,r),l=Zle(lx,r),c=VWe(lx,r),[d,h]=A.useState(null),f=Xt(t,y=>h(y),l.onItemTextChange,y=>{var x;return(x=o.itemTextRefCallback)==null?void 0:x.call(o,y,l.value,l.disabled)}),p=d==null?void 0:d.textContent,g=A.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:m}=c;return In(()=>(v(g),()=>m(g)),[v,m,g]),u.jsxs(u.Fragment,{children:[u.jsx(kn.span,{id:l.textId,...s,ref:f}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?kp.createPortal(s.children,a.valueNode):null]})});Jle.displayName=lx;var Qle="SelectItemIndicator",r9e=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Zle(Qle,r).isSelected?u.jsx(kn.span,{"aria-hidden":!0,...n,ref:t}):null});r9e.displayName=Qle;var wD="SelectScrollUpButton",n9e=A.forwardRef((e,t)=>{const r=mh(wD,e.__scopeSelect),n=k$(wD,e.__scopeSelect),[i,s]=A.useState(!1),a=Xt(t,n.onScrollButtonChange);return In(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=l.scrollTop>0;s(c)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?u.jsx(ece,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});n9e.displayName=wD;var SD="SelectScrollDownButton",i9e=A.forwardRef((e,t)=>{const r=mh(SD,e.__scopeSelect),n=k$(SD,e.__scopeSelect),[i,s]=A.useState(!1),a=Xt(t,n.onScrollButtonChange);return In(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;s(d)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?u.jsx(ece,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});i9e.displayName=SD;var ece=A.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,s=mh("SelectScrollButton",r),a=A.useRef(null),o=s2(r),l=A.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return A.useEffect(()=>()=>l(),[l]),In(()=>{var d;const c=o().find(h=>h.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),u.jsx(kn.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:It(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:It(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:It(i.onPointerLeave,()=>{l()})})}),s9e="SelectSeparator",tce=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return u.jsx(kn.div,{"aria-hidden":!0,...n,ref:t})});tce.displayName=s9e;var CD="SelectArrow",a9e=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=a2(r),s=gh(CD,r),a=mh(CD,r);return s.open&&a.position==="popper"?u.jsx(ZVe,{...i,...n,ref:t}):null});a9e.displayName=CD;function rce(e){return e===""||e===void 0}var nce=A.forwardRef((e,t)=>{const{value:r,...n}=e,i=A.useRef(null),s=Xt(t,i),a=S$(r);return A.useEffect(()=>{const o=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==r&&d){const h=new Event("change",{bubbles:!0});d.call(o,r),o.dispatchEvent(h)}},[a,r]),u.jsx(kle,{asChild:!0,children:u.jsx("select",{...n,ref:s,defaultValue:r})})});nce.displayName="BubbleSelect";function ice(e){const t=di(e),r=A.useRef(""),n=A.useRef(0),i=A.useCallback(a=>{const o=r.current+a;t(o),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(o)},[t]),s=A.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return A.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function sce(e,t,r){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let a=o9e(e,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==r));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function o9e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var l9e=Lle,ace=Ole,c9e=Ble,u9e=Fle,d9e=zle,oce=Ule,h9e=Gle,lce=Kle,cce=Xle,f9e=Jle,uce=tce;const en=l9e,tn=c9e,Kr=A.forwardRef(({className:e,children:t,...r},n)=>u.jsxs(ace,{ref:n,className:Yt("flex h-10 w-full items-center justify-between rounded-md border border-slate-200 bg-white px-2 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:[t,u.jsx(u9e,{asChild:!0,children:u.jsx(zk,{className:"h-4 w-4 opacity-50"})})]}));Kr.displayName=ace.displayName;const Zr=A.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>u.jsx(d9e,{children:u.jsx(oce,{ref:i,className:Yt("relative z-50 min-w-[8rem] max-w-[100%] overflow-hidden rounded-md border border-slate-200 bg-white text-slate-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:u.jsx(h9e,{className:Yt("p-0.5",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));Zr.displayName=oce.displayName;const p9e=A.forwardRef(({className:e,...t},r)=>u.jsx(lce,{ref:r,className:Yt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));p9e.displayName=lce.displayName;const Fe=A.forwardRef(({className:e,children:t,...r},n)=>u.jsx(cce,{ref:n,className:Yt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-2 text-sm outline-none focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:u.jsx(f9e,{children:t})}));Fe.displayName=cce.displayName;const g9e=A.forwardRef(({className:e,...t},r)=>u.jsx(uce,{ref:r,className:Yt("-mx-1 my-1 h-px bg-slate-100",e),...t}));g9e.displayName=uce.displayName;const m9e=[{value:"5m",label:"5分钟"},{value:"15m",label:"15分钟"},{value:"30m",label:"30分钟"},{value:"1h",label:"1小时"},{value:"3h",label:"3小时"},{value:"6h",label:"6小时"},{value:"12h",label:"12小时"},{value:"1d",label:"1天"}],dce=({selectedDevice:e,fetchFromPrometheus:t,deviceIp:r})=>{const[n,i]=A.useState([]),[s,a]=A.useState("30m"),[o,l]=A.useState(!1),[c,d]=A.useState(null),h=async()=>{l(!0),d(null);try{const v=e?`srl_system_cpu_usage{device="${e}"}`:"srl_system_cpu_usage",m=e?`srl_system_memory_usage{device="${e}"}`:"srl_system_memory_usage",y=e?`srl_system_load{device="${e}"}`:"srl_system_load",[x,_,b]=await Promise.all([t(v),t(m),t(y)]),w=new Set;x.forEach(k=>w.add(k.metric.device)),_.forEach(k=>w.add(k.metric.device)),b.forEach(k=>w.add(k.metric.device));const S=Array.from(w).map(k=>{const C=x.find(N=>N.metric.device===k),E=_.find(N=>N.metric.device===k),T=b.find(N=>N.metric.device===k);return{device:k,cpu:C?parseFloat(C.value[1]):0,memory:E?parseFloat(E.value[1]):0,load:T?parseFloat(T.value[1]):0,timestamp:new Date().toISOString()}});i(S)}catch(v){console.error("Error fetching system metrics:",v),d("获取系统性能指标失败"),f()}finally{l(!1)}},f=()=>{const m=["spine1","spine2","leaf1","leaf2","leaf3","leaf4"].map(y=>({device:y,cpu:Math.random()*(y==="leaf1"?95:70),memory:40+Math.random()*30,load:1+Math.random()*3,timestamp:new Date().toISOString()}));i(m)};A.useEffect(()=>{h();const v=setInterval(h,3e4);return()=>clearInterval(v)},[e,s]);const g=[...e?n.filter(v=>v.device===e):n].sort((v,m)=>m.cpu-v.cpu);return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2",children:[u.jsxs("h2",{className:"text-xl font-semibold flex flex-wrap items-center gap-2",children:[e&&u.jsxs("div",{className:"flex items-center bg-blue-50 px-3 py-1 rounded-md text-blue-800 text-sm font-medium mr-2",children:[u.jsx("span",{className:"font-bold mr-1",children:"设备:"})," ",e,r&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"mx-1",children:"|"}),u.jsx("span",{className:"font-bold mr-1",children:"IP:"})," ",r]})]}),u.jsx("span",{children:"系统性能监控"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-sm text-gray-500",children:"时间范围:"}),u.jsxs(en,{value:s,onValueChange:a,children:[u.jsx(Kr,{className:"w-36",children:u.jsx(tn,{placeholder:"选择时间范围"})}),u.jsx(Zr,{children:m9e.map(v=>u.jsx(Fe,{value:v.value,children:v.label},v.value))})]})]})]}),c&&u.jsxs("div",{className:"bg-red-50 text-red-700 p-3 rounded-md flex items-center",children:[u.jsx(bi,{className:"h-5 w-5 mr-2"}),u.jsx("span",{children:c})]}),o?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Rd,{className:"h-8 w-8 mx-auto animate-pulse text-blue-500"}),u.jsx("p",{className:"mt-2 text-gray-500",children:"加载系统性能数据..."})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs(Ve,{children:[u.jsx(nt,{className:"pb-2",children:u.jsx(it,{className:"text-sm font-medium text-gray-500",children:"CPU 平均使用率"})}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsx("div",{className:"text-3xl font-bold",children:E1(g.reduce((v,m)=>v+m.cpu,0)/Math.max(1,g.length)/100,1)}),u.jsx(Vm,{className:"h-6 w-6 text-blue-500"})]}),u.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"数据来源: srl-system-performance"})]})]}),u.jsxs(Ve,{children:[u.jsx(nt,{className:"pb-2",children:u.jsx(it,{className:"text-sm font-medium text-gray-500",children:"内存平均使用率"})}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsx("div",{className:"text-3xl font-bold",children:E1(g.reduce((v,m)=>v+m.memory,0)/Math.max(1,g.length)/100,1)}),u.jsx(I3,{className:"h-6 w-6 text-green-500"})]}),u.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"数据来源: srl-system-performance"})]})]}),u.jsxs(Ve,{children:[u.jsx(nt,{className:"pb-2",children:u.jsx(it,{className:"text-sm font-medium text-gray-500",children:"平均负载"})}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsx("div",{className:"text-3xl font-bold",children:(g.reduce((v,m)=>v+m.load,0)/Math.max(1,g.length)).toFixed(2)}),u.jsx(QT,{className:"h-6 w-6 text-purple-500"})]}),u.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"数据来源: srl-system-performance"})]})]})]}),u.jsxs(Ve,{children:[u.jsx(nt,{children:u.jsx(it,{children:"设备系统性能详情"})}),u.jsx(Ge,{children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{children:[u.jsx(ie,{children:"设备名称"}),u.jsx(ie,{children:"CPU 使用率"}),u.jsx(ie,{children:"内存使用率"}),u.jsx(ie,{children:"系统负载"}),u.jsx(ie,{children:"状态"})]})}),u.jsx(Vr,{children:g.length===0?u.jsx(Ke,{children:u.jsx(ee,{colSpan:5,className:"text-center text-gray-500 py-4",children:"没有可用的系统性能数据"})}):g.map(v=>u.jsxs(Ke,{children:[u.jsx(ee,{className:"font-medium",children:v.device}),u.jsx(ee,{children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mr-2",children:u.jsx("div",{className:`h-2.5 rounded-full ${v.cpu>90?"bg-red-500":v.cpu>70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(100,v.cpu)}%`}})}),u.jsx("span",{className:v.cpu>90?"text-red-600 font-semibold":v.cpu>70?"text-yellow-600":"text-gray-600",children:E1(v.cpu/100,1)})]})}),u.jsx(ee,{children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mr-2",children:u.jsx("div",{className:`h-2.5 rounded-full ${v.memory>90?"bg-red-500":v.memory>70?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${Math.min(100,v.memory)}%`}})}),u.jsx("span",{children:E1(v.memory/100,1)})]})}),u.jsx(ee,{children:v.load.toFixed(2)}),u.jsx(ee,{children:v.cpu>90||v.memory>90?u.jsxs("div",{className:"flex items-center text-red-600",children:[u.jsx(bi,{className:"h-4 w-4 mr-1"}),u.jsx("span",{children:"警告"})]}):u.jsx("span",{className:"text-green-600",children:"正常"})})]},v.device))})]})})]}),u.jsxs(Ve,{children:[u.jsx(nt,{children:u.jsx(it,{children:"资源利用趋势图"})}),u.jsx(Ge,{children:u.jsx("div",{className:"p-8 text-center text-gray-500 border border-dashed rounded-md",children:"此处将展示资源利用率趋势图，支持选择CPU、内存、负载等指标"})})]})]})]})},v9e=[{value:"5m",label:"5分钟"},{value:"15m",label:"15分钟"},{value:"30m",label:"30分钟"},{value:"1h",label:"1小时"},{value:"3h",label:"3小时"},{value:"6h",label:"6小时"},{value:"12h",label:"12小时"},{value:"1d",label:"1天"}],hce=({selectedDevice:e,fetchFromPrometheus:t,deviceIp:r})=>{const[n,i]=A.useState([]),[s,a]=A.useState("30m"),[o,l]=A.useState(!1),[c,d]=A.useState(null),[h,f]=A.useState("all"),[p,g]=A.useState("all"),v=async()=>{l(!0),d(null);try{const T=e?`srl_bgp_session_state{device="${e}"}`:"srl_bgp_session_state",N=e?`srl_bgp_prefixes_received{device="${e}"}`:"srl_bgp_prefixes_received",R=e?`srl_bgp_prefixes_sent{device="${e}"}`:"srl_bgp_prefixes_sent",P=e?`srl_bgp_session_uptime_seconds{device="${e}"}`:"srl_bgp_session_uptime_seconds",[D,$,L,O]=await Promise.all([t(T),t(N),t(R),t(P)]),j=new Map;D.forEach(M=>{const{device:I,neighbor:z,asn:U,address_family:F}=M.metric,G=parseInt(M.value[1]),Y=G===1?"established":G===2?"active":G===3?"connect":G===4?"idle":"down",Z=`${I}-${z}-${F}`;j.set(Z,{device:I,neighborAddr:z,neighborName:z,asn:parseInt(U)||0,state:Y,uptime:"0",prefixesReceived:0,prefixesSent:0,addressFamily:F})}),$.forEach(M=>{const{device:I,neighbor:z,address_family:U}=M.metric,F=parseInt(M.value[1]),G=`${I}-${z}-${U}`;if(j.has(G)){const Y=j.get(G);Y.prefixesReceived=F,j.set(G,Y)}}),L.forEach(M=>{const{device:I,neighbor:z,address_family:U}=M.metric,F=parseInt(M.value[1]),G=`${I}-${z}-${U}`;if(j.has(G)){const Y=j.get(G);Y.prefixesSent=F,j.set(G,Y)}}),O.forEach(M=>{const{device:I,neighbor:z,address_family:U}=M.metric,F=parseInt(M.value[1]),G=`${I}-${z}-${U}`;if(j.has(G)){const Y=j.get(G);Y.uptime=y(F),j.set(G,Y)}}),i(Array.from(j.values()))}catch(T){console.error("Error fetching BGP data:",T),d("获取BGP邻居信息失败"),m()}finally{l(!1)}},m=()=>{const T=["spine1","spine2","leaf1","leaf2","leaf3","leaf4"],N=[];T.forEach(R=>{const P=3+Math.floor(Math.random()*4);for(let D=1;D<=P;D++){const $=Math.random()>.7,L=Math.random()>.9;N.push({device:R,neighborAddr:$?`2001:db8::${R.replace(/[^\d]/g,"")}:${D}`:`10.0.${R.replace(/[^\d]/g,"")}.${D}`,neighborName:`${R==="spine1"||R==="spine2"?"leaf":"spine"}${D}`,asn:64500+parseInt(R.replace(/[^\d]/g,"")),state:L?"down":"established",uptime:L?"0":y(Math.floor(Math.random()*1e6)),prefixesReceived:Math.floor(Math.random()*1e3),prefixesSent:Math.floor(Math.random()*500),addressFamily:$?"ipv6":"ipv4",lastError:L?"Connection timed out":void 0}),Math.random()>.7&&N.push({device:R,neighborAddr:$?`2001:db8::${R.replace(/[^\d]/g,"")}:${D}`:`10.0.${R.replace(/[^\d]/g,"")}.${D}`,neighborName:`${R==="spine1"||R==="spine2"?"leaf":"spine"}${D}-vpn`,asn:64500+parseInt(R.replace(/[^\d]/g,"")),state:L?"down":"established",uptime:L?"0":y(Math.floor(Math.random()*1e6)),prefixesReceived:Math.floor(Math.random()*300),prefixesSent:Math.floor(Math.random()*150),addressFamily:"vpn",lastError:L?"Connection timed out":void 0})}}),i(N)},y=T=>{if(T===0)return"Down";const N=Math.floor(T/86400),R=Math.floor(T%86400/3600),P=Math.floor(T%3600/60);return N>0?`${N}d ${R}h`:R>0?`${R}h ${P}m`:`${P}m ${T%60}s`};A.useEffect(()=>{v();const T=setInterval(v,3e4);return()=>clearInterval(T)},[e,s]);const x=n.filter(T=>!(e&&T.device!==e||h!=="all"&&T.addressFamily!==h||p!=="all"&&T.state!==p)),_=x.length,b=x.filter(T=>T.state==="established").length,w=_-b,S=x.reduce((T,N)=>T+N.prefixesReceived,0),k=x.filter(T=>T.addressFamily==="ipv4").length,C=x.filter(T=>T.addressFamily==="ipv6").length,E=x.filter(T=>T.addressFamily==="vpn").length;return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2",children:[u.jsxs("h2",{className:"text-xl font-semibold flex flex-wrap items-center gap-2",children:[e&&u.jsxs("div",{className:"flex items-center bg-blue-50 px-3 py-1 rounded-md text-blue-800 text-sm font-medium mr-2",children:[u.jsx("span",{className:"font-bold mr-1",children:"设备:"})," ",e,r&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"mx-1",children:"|"}),u.jsx("span",{className:"font-bold mr-1",children:"IP:"})," ",r]})]}),u.jsx("span",{children:"BGP 邻居状态"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-sm text-gray-500",children:"时间范围:"}),u.jsxs(en,{value:s,onValueChange:a,children:[u.jsx(Kr,{className:"w-36",children:u.jsx(tn,{placeholder:"选择时间范围"})}),u.jsx(Zr,{children:v9e.map(T=>u.jsx(Fe,{value:T.value,children:T.label},T.value))})]})]})]}),c&&u.jsxs("div",{className:"bg-red-50 text-red-700 p-3 rounded-md flex items-center",children:[u.jsx(bi,{className:"h-5 w-5 mr-2"}),u.jsx("span",{children:c})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs(Ve,{children:[u.jsx(nt,{className:"pb-2",children:u.jsx(it,{className:"text-sm font-medium text-gray-500",children:"BGP 邻居总数"})}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsx("div",{className:"text-3xl font-bold",children:_}),u.jsx(Zye,{className:"h-6 w-6 text-blue-500"})]}),u.jsxs("div",{className:"flex justify-between mt-2",children:[u.jsxs("div",{className:"text-xs text-gray-500",children:["IPv4: ",k]}),u.jsxs("div",{className:"text-xs text-gray-500",children:["IPv6: ",C]}),u.jsxs("div",{className:"text-xs text-gray-500",children:["VPN: ",E]})]})]})]}),u.jsxs(Ve,{children:[u.jsx(nt,{className:"pb-2",children:u.jsx(it,{className:"text-sm font-medium text-gray-500",children:"已建立邻居"})}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsx("div",{className:"text-3xl font-bold text-green-600",children:b}),u.jsx(XJ,{className:"h-6 w-6 text-green-500"})]}),u.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["正常运行率: ",_>0?`${Math.round(b/_*100)}%`:"N/A"]})]})]}),u.jsxs(Ve,{children:[u.jsx(nt,{className:"pb-2",children:u.jsx(it,{className:"text-sm font-medium text-gray-500",children:"未建立邻居"})}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsx("div",{className:`text-3xl font-bold ${w>0?"text-red-600":"text-gray-600"}`,children:w}),u.jsx(Fk,{className:`h-6 w-6 ${w>0?"text-red-500":"text-gray-500"}`})]}),u.jsx("div",{className:"mt-2 text-xs text-gray-500",children:w>0?"存在断链邻居，请检查":"全部邻居状态正常"})]})]}),u.jsxs(Ve,{children:[u.jsx(nt,{className:"pb-2",children:u.jsx(it,{className:"text-sm font-medium text-gray-500",children:"前缀数量"})}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsx("div",{className:"text-3xl font-bold",children:S.toLocaleString()}),u.jsx(ea,{className:"h-6 w-6 text-purple-500"})]}),u.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"从BGP邻居学习到的总前缀数"})]})]})]}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"地址族"}),u.jsxs(en,{value:h,onValueChange:f,children:[u.jsx(Kr,{className:"w-36",children:u.jsx(tn,{placeholder:"所有地址族"})}),u.jsxs(Zr,{children:[u.jsx(Fe,{value:"all",children:"所有地址族"}),u.jsx(Fe,{value:"ipv4",children:"IPv4"}),u.jsx(Fe,{value:"ipv6",children:"IPv6"}),u.jsx(Fe,{value:"vpn",children:"VPN"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"会话状态"}),u.jsxs(en,{value:p,onValueChange:g,children:[u.jsx(Kr,{className:"w-36",children:u.jsx(tn,{placeholder:"所有状态"})}),u.jsxs(Zr,{children:[u.jsx(Fe,{value:"all",children:"所有状态"}),u.jsx(Fe,{value:"established",children:"已建立"}),u.jsx(Fe,{value:"active",children:"Active"}),u.jsx(Fe,{value:"connect",children:"Connect"}),u.jsx(Fe,{value:"idle",children:"Idle"}),u.jsx(Fe,{value:"down",children:"Down"})]})]})]})]}),u.jsxs(Ve,{children:[u.jsxs(nt,{children:[u.jsx(it,{children:"BGP 邻居详情"}),u.jsxs(qr,{children:["总共 ",x.length," 个邻居 | 已建立: ",b," | 未建立: ",w]})]}),u.jsx(Ge,{children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{children:[u.jsx(ie,{children:"设备"}),u.jsx(ie,{children:"邻居"}),u.jsx(ie,{children:"AS号"}),u.jsx(ie,{children:"地址族"}),u.jsx(ie,{children:"状态"}),u.jsx(ie,{children:"运行时间"}),u.jsx(ie,{children:"接收前缀"}),u.jsx(ie,{children:"发送前缀"})]})}),u.jsx(Vr,{children:x.length===0?u.jsx(Ke,{children:u.jsx(ee,{colSpan:8,className:"text-center text-gray-500 py-4",children:"没有可用的BGP邻居数据"})}):x.map((T,N)=>u.jsxs(Ke,{children:[u.jsx(ee,{className:"font-medium",children:T.device}),u.jsxs(ee,{children:[u.jsx("div",{children:T.neighborAddr}),T.neighborName&&T.neighborName!==T.neighborAddr&&u.jsx("div",{className:"text-xs text-gray-500",children:T.neighborName})]}),u.jsx(ee,{children:T.asn}),u.jsx(ee,{children:u.jsx(Ce,{variant:T.addressFamily==="ipv4"?"default":T.addressFamily==="ipv6"?"secondary":"primary",children:T.addressFamily.toUpperCase()})}),u.jsxs(ee,{children:[u.jsx(Ce,{variant:T.state==="established"?"success":"danger",children:T.state==="established"?"已建立":"未建立"}),T.lastError&&u.jsx("div",{className:"text-xs text-red-500 mt-1",children:T.lastError})]}),u.jsx(ee,{children:T.uptime}),u.jsx(ee,{children:T.prefixesReceived.toLocaleString()}),u.jsx(ee,{children:T.prefixesSent.toLocaleString()})]},`${T.device}-${T.neighborAddr}-${T.addressFamily}`))})]})})]}),u.jsxs(Ve,{children:[u.jsx(nt,{children:u.jsx(it,{children:"BGP会话趋势"})}),u.jsx(Ge,{children:u.jsx("div",{className:"p-8 text-center text-gray-500 border border-dashed rounded-md",children:"此处将展示BGP会话变化趋势图，包括会话状态变化和前缀数量变化"})})]})]})},er=A.forwardRef(({className:e,type:t,...r},n)=>u.jsx("input",{type:t,className:Yt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));er.displayName="Input";const y9e=[{value:"5m",label:"5分钟"},{value:"15m",label:"15分钟"},{value:"30m",label:"30分钟"},{value:"1h",label:"1小时"},{value:"3h",label:"3小时"},{value:"6h",label:"6小时"},{value:"12h",label:"12小时"},{value:"1d",label:"1天"}],x9e={bgp:"default",ospf:"secondary",static:"primary",direct:"success",local:"success",other:"primary"},fce=({selectedDevice:e,fetchFromPrometheus:t,deviceIp:r})=>{const[n,i]=A.useState([]),[s,a]=A.useState("30m"),[o,l]=A.useState(!1),[c,d]=A.useState(null),[h,f]=A.useState(""),[p,g]=A.useState("all"),[v,m]=A.useState("all"),[y,x]=A.useState("all"),[_,b]=A.useState(1),[w,S]=A.useState(10),k=async()=>{l(!0),d(null);try{const U=e?`srl_routes{device="${e}"}`:"srl_routes",F=await t(U);if(!F||F.length===0){i([]);return}const G=F.map(Y=>{const{device:Z,prefix:B,next_hop:W,protocol:K,metric:X,preference:Q,ip_family:re,vrf:Se}=Y.metric;return{device:Z,prefix:B,nextHop:W,protocol:K.toLowerCase(),metric:parseInt(X)||0,preference:parseInt(Q)||0,ipFamily:re.toLowerCase(),vrf:Se||"default",age:"1d"}});i(G)}catch(U){console.error("Error fetching routing table:",U),d("获取路由表数据失败"),C()}finally{l(!1)}},C=()=>{const U=["spine1","spine2","leaf1","leaf2","leaf3","leaf4"],F=[],G=["bgp","ospf","static","direct","local"];U.forEach(Y=>{const Z=20+Math.floor(Math.random()*30);for(let B=1;B<=Z;B++){const W=Math.random()>.7,K=Math.floor(Math.random()*G.length),X=G[K],Q=Math.random()>.8;F.push({device:Y,prefix:W?`2001:db8:${Math.floor(Math.random()*255)}:${Math.floor(Math.random()*255)}::/${Math.floor(Math.random()*48)+16}`:`10.${Math.floor(Math.random()*255)}.${Math.floor(Math.random()*255)}.0/${Math.floor(Math.random()*8)+24}`,nextHop:W?`2001:db8::${Math.floor(Math.random()*255)}:${Math.floor(Math.random()*255)}`:`10.0.0.${Math.floor(Math.random()*255)}`,protocol:X,metric:Math.floor(Math.random()*1e3),preference:Math.floor(Math.random()*255),ipFamily:W?"ipv6":"ipv4",vrf:Q?`vrf${Math.floor(Math.random()*5)+1}`:"default",age:`${Math.floor(Math.random()*30)}d`})}}),i(F)};A.useEffect(()=>{k();const U=setInterval(k,3e4);return()=>clearInterval(U)},[e,s]);const E=n.filter(U=>!(e&&U.device!==e||h&&!U.prefix.includes(h)&&!U.nextHop.includes(h)||p!=="all"&&U.protocol!==p||v!=="all"&&U.ipFamily!==v||y!=="all"&&U.vrf!==y)),T=Math.ceil(E.length/w),N=(_-1)*w,R=E.slice(N,N+w),P=Array.from(new Set(n.map(U=>U.vrf))).sort(),D=E.filter(U=>U.ipFamily==="ipv4").length,$=E.filter(U=>U.ipFamily==="ipv6").length,L=E.filter(U=>U.protocol==="bgp").length,O=E.filter(U=>U.protocol==="ospf").length,j=E.filter(U=>U.protocol==="static").length,M=E.filter(U=>U.protocol==="direct").length,I=E.filter(U=>U.protocol==="local").length,z=E.filter(U=>!["bgp","ospf","static","direct","local"].includes(U.protocol)).length;return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2",children:[u.jsxs("h2",{className:"text-xl font-semibold flex flex-wrap items-center gap-2",children:[e&&u.jsxs("div",{className:"flex items-center bg-blue-50 px-3 py-1 rounded-md text-blue-800 text-sm font-medium mr-2",children:[u.jsx("span",{className:"font-bold mr-1",children:"设备:"})," ",e,r&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"mx-1",children:"|"}),u.jsx("span",{className:"font-bold mr-1",children:"IP:"})," ",r]})]}),u.jsx("span",{children:"路由表"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-sm text-gray-500",children:"时间范围:"}),u.jsxs(en,{value:s,onValueChange:a,children:[u.jsx(Kr,{className:"w-36",children:u.jsx(tn,{placeholder:"选择时间范围"})}),u.jsx(Zr,{children:y9e.map(U=>u.jsx(Fe,{value:U.value,children:U.label},U.value))})]})]})]}),c&&u.jsxs("div",{className:"bg-red-50 text-red-700 p-3 rounded-md flex items-center",children:[u.jsx(bi,{className:"h-5 w-5 mr-2"}),u.jsx("span",{children:c})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs(Ve,{children:[u.jsx(nt,{className:"pb-2",children:u.jsx(it,{className:"text-sm font-medium text-gray-500",children:"IP前缀统计"})}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsx("div",{className:"text-3xl font-bold",children:E.length}),u.jsx(ea,{className:"h-6 w-6 text-blue-500"})]}),u.jsxs("div",{className:"flex justify-between mt-2",children:[u.jsxs("div",{className:"text-xs text-gray-500",children:["IPv4: ",D]}),u.jsxs("div",{className:"text-xs text-gray-500",children:["IPv6: ",$]})]})]})]}),u.jsxs(Ve,{children:[u.jsx(nt,{className:"pb-2",children:u.jsx(it,{className:"text-sm font-medium text-gray-500",children:"路由来源"})}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsx("div",{className:"text-3xl font-bold",children:L+O+j+M+I+z}),u.jsx(Uk,{className:"h-6 w-6 text-green-500"})]}),u.jsxs("div",{className:"flex flex-wrap mt-2 gap-1",children:[u.jsxs(Ce,{variant:"default",className:"text-xs",children:["BGP: ",L]}),u.jsxs(Ce,{variant:"secondary",className:"text-xs",children:["OSPF: ",O]}),u.jsxs(Ce,{variant:"primary",className:"text-xs",children:["Static: ",j]}),u.jsxs(Ce,{variant:"success",className:"text-xs",children:["Direct: ",M]})]})]})]}),u.jsxs(Ve,{children:[u.jsx(nt,{className:"pb-2",children:u.jsx(it,{className:"text-sm font-medium text-gray-500",children:"VRF实例数"})}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsx("div",{className:"text-3xl font-bold",children:P.length}),u.jsx(__,{className:"h-6 w-6 text-purple-500"})]}),u.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"已配置的VRF实例总数"})]})]}),u.jsxs(Ve,{children:[u.jsx(nt,{className:"pb-2",children:u.jsx(it,{className:"text-sm font-medium text-gray-500",children:"设备路由统计"})}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsx("div",{className:"text-3xl font-bold",children:e?E.length:"--"}),u.jsx(Uk,{className:"h-6 w-6 text-orange-500"})]}),u.jsx("div",{className:"mt-2 text-xs text-gray-500",children:e?`${e} 的路由条目总数`:"请选择设备查看详情"})]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[u.jsx("div",{className:"grow md:grow-0 md:w-64",children:u.jsxs("div",{className:"relative",children:[u.jsx(ti,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),u.jsx(er,{placeholder:"搜索前缀或下一跳...",value:h,onChange:U=>f(U.target.value),className:"pl-8"}),h&&u.jsx("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>f(""),children:u.jsx(Ps,{className:"h-4 w-4"})})]})}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"协议"}),u.jsxs(en,{value:p,onValueChange:g,children:[u.jsx(Kr,{className:"w-36",children:u.jsx(tn,{placeholder:"所有协议"})}),u.jsxs(Zr,{children:[u.jsx(Fe,{value:"all",children:"所有协议"}),u.jsx(Fe,{value:"bgp",children:"BGP"}),u.jsx(Fe,{value:"ospf",children:"OSPF"}),u.jsx(Fe,{value:"static",children:"静态"}),u.jsx(Fe,{value:"direct",children:"直连"}),u.jsx(Fe,{value:"local",children:"本地"}),u.jsx(Fe,{value:"other",children:"其他"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"IP 类型"}),u.jsxs(en,{value:v,onValueChange:m,children:[u.jsx(Kr,{className:"w-36",children:u.jsx(tn,{placeholder:"所有IP类型"})}),u.jsxs(Zr,{children:[u.jsx(Fe,{value:"all",children:"所有类型"}),u.jsx(Fe,{value:"ipv4",children:"IPv4"}),u.jsx(Fe,{value:"ipv6",children:"IPv6"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"VRF"}),u.jsxs(en,{value:y,onValueChange:x,children:[u.jsx(Kr,{className:"w-36",children:u.jsx(tn,{placeholder:"所有VRF"})}),u.jsxs(Zr,{children:[u.jsx(Fe,{value:"all",children:"所有VRF"}),P.map(U=>u.jsx(Fe,{value:U||"default",children:U||"default"},U||"default"))]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"每页显示"}),u.jsxs(en,{value:w.toString(),onValueChange:U=>S(parseInt(U)),children:[u.jsx(Kr,{className:"w-24",children:u.jsx(tn,{placeholder:"10"})}),u.jsxs(Zr,{children:[u.jsx(Fe,{value:"10",children:"10"}),u.jsx(Fe,{value:"25",children:"25"}),u.jsx(Fe,{value:"50",children:"50"}),u.jsx(Fe,{value:"100",children:"100"})]})]})]})]}),u.jsxs(Ve,{children:[u.jsxs(nt,{children:[u.jsx(it,{children:"路由条目"}),u.jsxs(qr,{children:["显示 ",N+1," - ",Math.min(N+w,E.length)," 条，共 ",E.length," 条路由"]})]}),u.jsxs(Ge,{children:[u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{children:[u.jsx(ie,{children:"设备"}),u.jsx(ie,{children:"前缀"}),u.jsx(ie,{children:"下一跳"}),u.jsx(ie,{children:"协议"}),u.jsx(ie,{children:"度量值"}),u.jsx(ie,{children:"优先级"}),u.jsx(ie,{children:"IP类型"}),u.jsx(ie,{children:"VRF"}),u.jsx(ie,{children:"路由年龄"})]})}),u.jsx(Vr,{children:R.length===0?u.jsx(Ke,{children:u.jsx(ee,{colSpan:9,className:"text-center text-gray-500 py-4",children:h||p!=="all"||v!=="all"||y!=="all"?"没有找到符合筛选条件的路由":"没有可用的路由表数据"})}):R.map((U,F)=>u.jsxs(Ke,{children:[u.jsx(ee,{className:"font-medium",children:U.device}),u.jsx(ee,{className:"font-mono text-sm",children:U.prefix}),u.jsx(ee,{className:"font-mono text-sm",children:U.nextHop}),u.jsx(ee,{children:u.jsx(Ce,{variant:x9e[U.protocol]||"primary",children:U.protocol.toUpperCase()})}),u.jsx(ee,{children:U.metric}),u.jsx(ee,{children:U.preference}),u.jsx(ee,{children:u.jsx(Ce,{variant:U.ipFamily==="ipv4"?"default":"secondary",children:U.ipFamily.toUpperCase()})}),u.jsx(ee,{children:U.vrf}),u.jsx(ee,{children:U.age})]},`${U.device}-${U.prefix}-${U.nextHop}-${F}`))})]}),T>1&&u.jsxs("div",{className:"flex justify-between items-center mt-4",children:[u.jsxs("div",{className:"text-sm text-gray-500",children:["页数 ",_," / ",T]}),u.jsxs("div",{className:"space-x-2",children:[u.jsx("button",{onClick:()=>b(U=>Math.max(1,U-1)),disabled:_===1,className:`px-3 py-1 rounded-md ${_===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:"上一页"}),u.jsx("button",{onClick:()=>b(U=>Math.min(T,U+1)),disabled:_===T,className:`px-3 py-1 rounded-md ${_===T?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:"下一页"})]})]})]})]}),u.jsxs(Ve,{children:[u.jsx(nt,{children:u.jsx(it,{children:"路由数量趋势图"})}),u.jsx(Ge,{children:u.jsx("div",{className:"p-8 text-center text-gray-500 border border-dashed rounded-md",children:"此处将展示路由数量趋势图，支持按协议和IP类型查看变化趋势"})})]})]})},_9e=[{value:"5m",label:"5分钟"},{value:"15m",label:"15分钟"},{value:"30m",label:"30分钟"},{value:"1h",label:"1小时"},{value:"3h",label:"3小时"},{value:"6h",label:"6小时"},{value:"12h",label:"12小时"},{value:"1d",label:"1天"}],b9e={dynamic:"default",static:"secondary",blackhole:"destructive"},pce=({selectedDevice:e,fetchFromPrometheus:t,deviceIp:r})=>{var z;const[n,i]=A.useState([]),[s,a]=A.useState([]),[o,l]=A.useState("30m"),[c,d]=A.useState(!1),[h,f]=A.useState(null),[p,g]=A.useState(""),[v,m]=A.useState("all"),[y,x]=A.useState("all"),[_,b]=A.useState(1),[w,S]=A.useState(10),k=async()=>{d(!0),f(null);try{const U=e?`srl_bridge_mac_table{device="${e}"}`:"srl_bridge_mac_table",F=e?`srl_bridge_mac_stats{device="${e}"}`:"srl_bridge_mac_stats",G=e?`srl_bridge_storm_control{device="${e}"}`:"srl_bridge_storm_control",[Y,Z,B]=await Promise.all([t(U),t(F),t(G)]);if(!Y||Y.length===0){C();return}const W=Y.map(K=>{const{device:X,mac_address:Q,vlan:re,port:Se,type:Te,age:Ie}=K.metric;return{device:X,macAddress:Q,vlan:re,port:Se,type:Te.toLowerCase(),age:parseInt(K.value[1])||0,isFlapping:!1}});if(i(W),Z&&Z.length>0){const K=[],X=new Map;Z.forEach(Q=>{const{device:re}=Q.metric;X.has(re)||X.set(re,{device:re,totalEntries:0,dynamicEntries:0,staticEntries:0,broadcastStorm:!1,unicastStorm:!1,multicastStorm:!1,flappingPorts:[]})}),B&&B.length>0&&B.forEach(Q=>{var Me,Ee;const{device:re,port:Se,storm_type:Te}=Q.metric,Ie=parseInt(Q.value[1]);if(X.has(re)){const Ae=X.get(re);Te==="broadcast"&&Ie>0?Ae.broadcastStorm=!0:Te==="unicast"&&Ie>0?Ae.unicastStorm=!0:Te==="multicast"&&Ie>0&&(Ae.multicastStorm=!0),Ie>0&&!((Me=Ae.flappingPorts)!=null&&Me.includes(Se))&&((Ee=Ae.flappingPorts)==null||Ee.push(Se)),X.set(re,Ae)}}),W.forEach(Q=>{if(X.has(Q.device)){const re=X.get(Q.device);re.totalEntries++,Q.type==="dynamic"?re.dynamicEntries++:Q.type==="static"&&re.staticEntries++,X.set(Q.device,re)}}),a(Array.from(X.values()))}else E(W)}catch(U){console.error("Error fetching MAC table:",U),f("获取MAC地址表数据失败"),C()}finally{d(!1)}},C=()=>{const U=["spine1","spine2","leaf1","leaf2","leaf3","leaf4"],F=[];U.forEach(G=>{const Y=10+Math.floor(Math.random()*20);for(let Z=1;Z<=Y;Z++){const W=Array.from({length:6},()=>Math.floor(Math.random()*256)).map(Q=>Q.toString(16).padStart(2,"0")).join(":"),K=Math.random()>.8?"static":Math.random()>.95?"blackhole":"dynamic",X=Math.floor(Math.random()*4e3)+1;F.push({device:G,macAddress:W,vlan:X.toString(),port:`ethernet-1/${Math.floor(Math.random()*48)+1}`,type:K,age:K==="dynamic"?Math.floor(Math.random()*1e3):0,isFlapping:Math.random()>.95})}}),i(F),E(F)},E=U=>{const F=new Map;U.forEach(G=>{var Z,B;F.has(G.device)||F.set(G.device,{device:G.device,totalEntries:0,dynamicEntries:0,staticEntries:0,broadcastStorm:Math.random()>.9,unicastStorm:Math.random()>.95,multicastStorm:Math.random()>.9,flappingPorts:[]});const Y=F.get(G.device);Y.totalEntries++,G.type==="dynamic"?Y.dynamicEntries++:G.type==="static"&&Y.staticEntries++,G.isFlapping&&!((Z=Y.flappingPorts)!=null&&Z.includes(G.port))&&((B=Y.flappingPorts)==null||B.push(G.port)),F.set(G.device,Y)}),a(Array.from(F.values()))},T=U=>{if(U===0)return"-";const F=Math.floor(U/86400),G=Math.floor(U%86400/3600),Y=Math.floor(U%3600/60);return F>0?`${F}d ${G}h`:G>0?`${G}h ${Y}m`:Y>0?`${Y}m ${U%60}s`:`${U}s`};A.useEffect(()=>{k();const U=setInterval(k,3e4);return()=>clearInterval(U)},[e,o]);const N=n.filter(U=>!(e&&U.device!==e||p&&!U.macAddress.includes(p)&&!U.port.includes(p)||v!=="all"&&U.type!==v||y!=="all"&&U.vlan!==y)),R=Math.ceil(N.length/w),P=(_-1)*w,D=N.slice(P,P+w),$=Array.from(new Set(n.map(U=>U.vlan))).sort((U,F)=>parseInt(U)-parseInt(F)),L=e?s.find(U=>U.device===e):null,O=s.filter(U=>U.broadcastStorm).length,j=s.filter(U=>U.unicastStorm).length,M=s.filter(U=>U.multicastStorm).length,I=s.reduce((U,F)=>{var G;return U+(((G=F.flappingPorts)==null?void 0:G.length)||0)},0);return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2",children:[u.jsxs("h2",{className:"text-xl font-semibold flex flex-wrap items-center gap-2",children:[e&&u.jsxs("div",{className:"flex items-center bg-blue-50 px-3 py-1 rounded-md text-blue-800 text-sm font-medium mr-2",children:[u.jsx("span",{className:"font-bold mr-1",children:"设备:"})," ",e,r&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"mx-1",children:"|"}),u.jsx("span",{className:"font-bold mr-1",children:"IP:"})," ",r]})]}),u.jsx("span",{children:"二层MAC地址表"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-sm text-gray-500",children:"时间范围:"}),u.jsxs(en,{value:o,onValueChange:l,children:[u.jsx(Kr,{className:"w-36",children:u.jsx(tn,{placeholder:"选择时间范围"})}),u.jsx(Zr,{children:_9e.map(U=>u.jsx(Fe,{value:U.value,children:U.label},U.value))})]})]})]}),h&&u.jsxs("div",{className:"bg-red-50 text-red-700 p-3 rounded-md flex items-center",children:[u.jsx(bi,{className:"h-5 w-5 mr-2"}),u.jsx("span",{children:h})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs(Ve,{children:[u.jsx(nt,{className:"pb-2",children:u.jsx(it,{className:"text-sm font-medium text-gray-500",children:"MAC地址表统计"})}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsx("div",{className:"text-3xl font-bold",children:(L==null?void 0:L.totalEntries)||N.length}),u.jsx(Vye,{className:"h-6 w-6 text-blue-500"})]}),u.jsxs("div",{className:"flex justify-between mt-2",children:[u.jsxs("div",{className:"text-xs text-gray-500",children:["动态: ",(L==null?void 0:L.dynamicEntries)||N.filter(U=>U.type==="dynamic").length]}),u.jsxs("div",{className:"text-xs text-gray-500",children:["静态: ",(L==null?void 0:L.staticEntries)||N.filter(U=>U.type==="static").length]})]})]})]}),u.jsxs(Ve,{children:[u.jsx(nt,{className:"pb-2",children:u.jsx(it,{className:"text-sm font-medium text-gray-500",children:"VLAN统计"})}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsx("div",{className:"text-3xl font-bold",children:$.length}),u.jsx(__,{className:"h-6 w-6 text-green-500"})]}),u.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"已配置的VLAN总数"})]})]}),u.jsxs(Ve,{children:[u.jsx(nt,{className:"pb-2",children:u.jsx(it,{className:"text-sm font-medium text-gray-500",children:"MAC地址老化"})}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsx("div",{className:"text-3xl font-bold",children:T(Math.max(...e?N.filter(U=>U.device===e).map(U=>U.age):N.map(U=>U.age)))}),u.jsx(QT,{className:"h-6 w-6 text-purple-500"})]}),u.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"最长MAC地址表项老化时间"})]})]}),u.jsxs(Ve,{className:`${O+j+M>0?"border-red-300 bg-red-50":""}`,children:[u.jsx(nt,{className:"pb-2",children:u.jsx(it,{className:`text-sm font-medium ${O+j+M>0?"text-red-700":"text-gray-500"}`,children:"广播风暴监控"})}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsx("div",{className:`text-3xl font-bold ${O+j+M>0?"text-red-600":""}`,children:O+j+M}),u.jsx(bi,{className:`h-6 w-6 ${O+j+M>0?"text-red-500":"text-gray-500"}`})]}),u.jsx("div",{className:"mt-2 text-xs",children:O+j+M>0?u.jsxs("div",{className:"text-red-600",children:["检测到 ",O>0?`${O}个广播风暴, `:"",M>0?`${M}个组播风暴, `:"",j>0?`${j}个单播风暴`:""]}):u.jsx("div",{className:"text-gray-500",children:"无广播风暴检测"})})]})]})]}),I>0&&u.jsx(Ve,{className:"border-yellow-300 bg-yellow-50",children:u.jsxs(Ge,{className:"py-4",children:[u.jsxs("div",{className:"flex items-center text-yellow-700",children:[u.jsx(bi,{className:"h-5 w-5 mr-2"}),u.jsx("span",{className:"font-medium",children:"检测到MAC地址表震荡"})]}),u.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:e?`设备 ${e} 上有 ${((z=L==null?void 0:L.flappingPorts)==null?void 0:z.length)||0} 个端口存在MAC表震荡`:`共有 ${I} 个端口存在MAC表震荡问题，可能导致广播风暴或网络不稳定`})]})}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[u.jsx("div",{className:"grow md:grow-0 md:w-64",children:u.jsxs("div",{className:"relative",children:[u.jsx(ti,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),u.jsx(er,{placeholder:"搜索MAC地址或端口...",value:p,onChange:U=>g(U.target.value),className:"pl-8"}),p&&u.jsx("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>g(""),children:u.jsx(Ps,{className:"h-4 w-4"})})]})}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"类型"}),u.jsxs(en,{value:v,onValueChange:m,children:[u.jsx(Kr,{className:"w-36",children:u.jsx(tn,{placeholder:"所有类型"})}),u.jsxs(Zr,{children:[u.jsx(Fe,{value:"all",children:"所有类型"}),u.jsx(Fe,{value:"dynamic",children:"动态"}),u.jsx(Fe,{value:"static",children:"静态"}),u.jsx(Fe,{value:"blackhole",children:"黑洞"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"VLAN"}),u.jsxs(en,{value:y,onValueChange:x,children:[u.jsx(Kr,{className:"w-36",children:u.jsx(tn,{placeholder:"所有VLAN"})}),u.jsxs(Zr,{children:[u.jsx(Fe,{value:"all",children:"所有VLAN"}),$.slice(0,20).map(U=>u.jsx(Fe,{value:U,children:U},U)),$.length>20&&u.jsxs("div",{className:"px-2 py-1 text-xs text-gray-500",children:["显示前20个VLAN (共",$.length,"个)"]})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"每页显示"}),u.jsxs(en,{value:w.toString(),onValueChange:U=>S(parseInt(U)),children:[u.jsx(Kr,{className:"w-24",children:u.jsx(tn,{placeholder:"10"})}),u.jsxs(Zr,{children:[u.jsx(Fe,{value:"10",children:"10"}),u.jsx(Fe,{value:"25",children:"25"}),u.jsx(Fe,{value:"50",children:"50"}),u.jsx(Fe,{value:"100",children:"100"})]})]})]})]}),u.jsxs(Ve,{children:[u.jsxs(nt,{children:[u.jsx(it,{children:"MAC地址表"}),u.jsxs(qr,{children:["显示 ",P+1," - ",Math.min(P+w,N.length)," 条，共 ",N.length," 条MAC表项"]})]}),u.jsxs(Ge,{children:[u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{children:[u.jsx(ie,{children:"设备"}),u.jsx(ie,{children:"MAC地址"}),u.jsx(ie,{children:"VLAN"}),u.jsx(ie,{children:"端口"}),u.jsx(ie,{children:"类型"}),u.jsx(ie,{children:"老化时间"}),u.jsx(ie,{children:"状态"})]})}),u.jsx(Vr,{children:D.length===0?u.jsx(Ke,{children:u.jsx(ee,{colSpan:7,className:"text-center text-gray-500 py-4",children:p||v!=="all"||y!=="all"?"没有找到符合筛选条件的MAC表项":"没有可用的MAC地址表数据"})}):D.map((U,F)=>u.jsxs(Ke,{className:U.isFlapping?"bg-yellow-50":void 0,children:[u.jsx(ee,{className:"font-medium",children:U.device}),u.jsx(ee,{className:"font-mono text-sm",children:U.macAddress}),u.jsx(ee,{children:U.vlan}),u.jsx(ee,{children:U.port}),u.jsx(ee,{children:u.jsx(Ce,{variant:b9e[U.type]||"default",children:U.type==="dynamic"?"动态":U.type==="static"?"静态":"黑洞"})}),u.jsx(ee,{children:T(U.age)}),u.jsx(ee,{children:U.isFlapping?u.jsxs("div",{className:"flex items-center text-yellow-600",children:[u.jsx(bi,{className:"h-4 w-4 mr-1"}),u.jsx("span",{children:"震荡"})]}):u.jsx("span",{className:"text-green-600",children:"正常"})})]},`${U.device}-${U.macAddress}-${U.vlan}-${F}`))})]}),R>1&&u.jsxs("div",{className:"flex justify-between items-center mt-4",children:[u.jsxs("div",{className:"text-sm text-gray-500",children:["页数 ",_," / ",R]}),u.jsxs("div",{className:"space-x-2",children:[u.jsx("button",{onClick:()=>b(U=>Math.max(1,U-1)),disabled:_===1,className:`px-3 py-1 rounded-md ${_===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:"上一页"}),u.jsx("button",{onClick:()=>b(U=>Math.min(R,U+1)),disabled:_===R,className:`px-3 py-1 rounded-md ${_===R?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:"下一页"})]})]})]})]}),u.jsxs(Ve,{children:[u.jsx(nt,{children:u.jsx(it,{children:"MAC表规模趋势图"})}),u.jsx(Ge,{children:u.jsx("div",{className:"p-8 text-center text-gray-500 border border-dashed rounded-md",children:"此处将展示MAC地址表规模趋势图，可查看表项数量变化以及风暴监控指标"})})]})]})},w9e=[{value:"5m",label:"5分钟"},{value:"15m",label:"15分钟"},{value:"30m",label:"30分钟"},{value:"1h",label:"1小时"},{value:"3h",label:"3小时"},{value:"6h",label:"6小时"},{value:"12h",label:"12小时"},{value:"1d",label:"1天"}],S9e={default:"default","ip-vrf":"secondary","mac-vrf":"primary",evpn:"success"},gce=({selectedDevice:e,fetchFromPrometheus:t,deviceIp:r})=>{const[n,i]=A.useState([]),[s,a]=A.useState("30m"),[o,l]=A.useState(!1),[c,d]=A.useState(null),[h,f]=A.useState(""),[p,g]=A.useState("all"),[v,m]=A.useState("all"),[y,x]=A.useState(10),_=async()=>{l(!0),d(null);try{const j=e?`srl_network_instance{device="${e}"}`:"srl_network_instance",M=e?`srl_network_instance_routes{device="${e}"}`:"srl_network_instance_routes",I=e?`srl_network_instance_traffic{device="${e}"}`:"srl_network_instance_traffic",[z,U,F]=await Promise.all([t(j),t(M),t(I)]);if(!z||z.length===0){b();return}const G=new Map;z.forEach(Y=>{const{device:Z,name:B,type:W,state:K}=Y.metric,X=`${Z}-${B}`;G.has(X)||G.set(X,{device:Z,name:B,type:W.toLowerCase(),state:K==="1"?"up":"down",routesIPv4:0,routesIPv6:0,interfaces:[],inBytes:0,outBytes:0})}),U&&U.length>0&&U.forEach(Y=>{const{device:Z,network_instance:B,family:W}=Y.metric,K=parseInt(Y.value[1])||0,X=`${Z}-${B}`;if(G.has(X)){const Q=G.get(X);W==="ipv4"?Q.routesIPv4=K:W==="ipv6"&&(Q.routesIPv6=K),G.set(X,Q)}}),F&&F.length>0&&F.forEach(Y=>{const{device:Z,network_instance:B,direction:W}=Y.metric,K=parseInt(Y.value[1])||0,X=`${Z}-${B}`;if(G.has(X)){const Q=G.get(X);W==="in"?Q.inBytes=K:W==="out"&&(Q.outBytes=K),G.set(X,Q)}}),i(Array.from(G.values()))}catch(j){console.error("Error fetching VRF data:",j),d("获取VRF实例数据失败"),b()}finally{l(!1)}},b=()=>{const j=["spine1","spine2","leaf1","leaf2","leaf3","leaf4"],M=[];j.forEach(I=>{M.push({device:I,name:"default",type:"default",state:"up",routesIPv4:100+Math.floor(Math.random()*900),routesIPv6:50+Math.floor(Math.random()*200),interfaces:["mgmt0","loopback0"],description:"默认VRF实例",inBytes:Math.floor(Math.random()*1e9),outBytes:Math.floor(Math.random()*1e9)})});for(let I=1;I<=3;I++)j.forEach(z=>{Math.random()>.3&&M.push({device:z,name:`vrf-${I}`,type:"ip-vrf",state:Math.random()>.9?"down":"up",routesIPv4:Math.floor(Math.random()*500),routesIPv6:Math.floor(Math.random()*100),interfaces:["ethernet-1/1","ethernet-1/2"],description:`客户${I}的L3 VPN服务`,rd:`${64500+parseInt(z.replace(/[^\d]/g,""))}:${I}`,importRTs:[`64500:${I}`,`64501:${I}`],exportRTs:[`64500:${I}`],inBytes:Math.floor(Math.random()*5e8),outBytes:Math.floor(Math.random()*5e8)})});for(let I=1;I<=2;I++)j.forEach(z=>{Math.random()>.4&&M.push({device:z,name:`mac-vrf-${I}`,type:"mac-vrf",state:Math.random()>.95?"down":"up",routesIPv4:0,routesIPv6:0,interfaces:["ethernet-1/3","ethernet-1/4"],description:`客户${I}的L2 VPN服务`,rd:`${64500+parseInt(z.replace(/[^\d]/g,""))}:${10+I}`,importRTs:[`64500:${10+I}`],exportRTs:[`64500:${10+I}`],inBytes:Math.floor(Math.random()*3e8),outBytes:Math.floor(Math.random()*3e8)})});for(let I=1;I<=1;I++)j.forEach(z=>{Math.random()>.5&&M.push({device:z,name:`evpn-${I}`,type:"evpn",state:"up",routesIPv4:Math.floor(Math.random()*200),routesIPv6:Math.floor(Math.random()*50),interfaces:["ethernet-1/5","ethernet-1/6"],description:"EVPN服务实例",rd:`${64500+parseInt(z.replace(/[^\d]/g,""))}:${20+I}`,importRTs:[`64500:${20+I}`],exportRTs:[`64500:${20+I}`],inBytes:Math.floor(Math.random()*7e8),outBytes:Math.floor(Math.random()*7e8)})});i(M)},w=j=>{if(j===void 0||j===0)return"0 B";const M=1024,I=["B","KB","MB","GB","TB","PB"],z=Math.floor(Math.log(j)/Math.log(M));return parseFloat((j/Math.pow(M,z)).toFixed(2))+" "+I[z]};A.useEffect(()=>{_();const j=setInterval(_,3e4);return()=>clearInterval(j)},[e,s]);const S=n.filter(j=>{var M;return!(e&&j.device!==e||h&&!j.name.toLowerCase().includes(h.toLowerCase())&&!((M=j.description)!=null&&M.toLowerCase().includes(h.toLowerCase()))||p!=="all"&&j.type!==p||v!=="all"&&j.state!==v)}),k=S.slice(0,y),C=Array.from(new Set(n.map(j=>j.device))),E=S.length,T=S.filter(j=>j.state==="up").length,N=E-T,R=S.filter(j=>j.type==="default").length,P=S.filter(j=>j.type==="ip-vrf").length,D=S.filter(j=>j.type==="mac-vrf").length,$=S.filter(j=>j.type==="evpn").length,L=S.reduce((j,M)=>j+M.routesIPv4,0),O=S.reduce((j,M)=>j+M.routesIPv6,0);return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2",children:[u.jsxs("h2",{className:"text-xl font-semibold flex flex-wrap items-center gap-2",children:[e&&u.jsxs("div",{className:"flex items-center bg-blue-50 px-3 py-1 rounded-md text-blue-800 text-sm font-medium mr-2",children:[u.jsx("span",{className:"font-bold mr-1",children:"设备:"})," ",e,r&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"mx-1",children:"|"}),u.jsx("span",{className:"font-bold mr-1",children:"IP:"})," ",r]})]}),u.jsx("span",{children:"VRF实例状态"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-sm text-gray-500",children:"时间范围:"}),u.jsxs(en,{value:s,onValueChange:a,children:[u.jsx(Kr,{className:"w-36",children:u.jsx(tn,{placeholder:"选择时间范围"})}),u.jsx(Zr,{children:w9e.map(j=>u.jsx(Fe,{value:j.value,children:j.label},j.value))})]})]})]}),c&&u.jsxs("div",{className:"bg-red-50 text-red-700 p-3 rounded-md flex items-center",children:[u.jsx(bi,{className:"h-5 w-5 mr-2"}),u.jsx("span",{children:c})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs(Ve,{children:[u.jsx(nt,{className:"pb-2",children:u.jsx(it,{className:"text-sm font-medium text-gray-500",children:"VRF实例总数"})}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsx("div",{className:"text-3xl font-bold",children:E}),u.jsx(__,{className:"h-6 w-6 text-blue-500"})]}),u.jsxs("div",{className:"flex justify-between mt-2",children:[u.jsxs("div",{className:"text-xs text-gray-500",children:["运行设备: ",C.length]}),u.jsxs("div",{className:"text-xs text-gray-500",children:["每设备平均: ",(E/Math.max(1,C.length)).toFixed(1)]})]})]})]}),u.jsxs(Ve,{children:[u.jsx(nt,{className:"pb-2",children:u.jsx(it,{className:"text-sm font-medium text-gray-500",children:"VRF状态统计"})}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsxs("div",{className:`text-3xl font-bold ${N>0?"text-yellow-600":"text-green-600"}`,children:[T," / ",E]}),u.jsx(Rd,{className:`h-6 w-6 ${N>0?"text-yellow-500":"text-green-500"}`})]}),u.jsx("div",{className:"mt-2 text-xs",children:N>0?u.jsxs("div",{className:"text-yellow-600",children:[N," 个VRF实例处于Down状态"]}):u.jsx("div",{className:"text-green-600",children:"所有VRF实例正常运行"})})]})]}),u.jsxs(Ve,{children:[u.jsx(nt,{className:"pb-2",children:u.jsx(it,{className:"text-sm font-medium text-gray-500",children:"VRF类型分布"})}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsx("div",{className:"text-3xl font-bold",children:P+D+$}),u.jsx(M3,{className:"h-6 w-6 text-purple-500"})]}),u.jsxs("div",{className:"flex flex-wrap mt-2 gap-1",children:[u.jsxs(Ce,{variant:"default",className:"text-xs",children:["默认: ",R]}),u.jsxs(Ce,{variant:"secondary",className:"text-xs",children:["IP-VRF: ",P]}),u.jsxs(Ce,{variant:"primary",className:"text-xs",children:["MAC-VRF: ",D]}),u.jsxs(Ce,{variant:"success",className:"text-xs",children:["EVPN: ",$]})]})]})]}),u.jsxs(Ve,{children:[u.jsx(nt,{className:"pb-2",children:u.jsx(it,{className:"text-sm font-medium text-gray-500",children:"VRF路由表规模"})}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsx("div",{className:"text-3xl font-bold",children:L+O}),u.jsx(ea,{className:"h-6 w-6 text-orange-500"})]}),u.jsxs("div",{className:"flex justify-between mt-2",children:[u.jsxs("div",{className:"text-xs text-gray-500",children:["IPv4: ",L]}),u.jsxs("div",{className:"text-xs text-gray-500",children:["IPv6: ",O]})]})]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[u.jsx("div",{className:"grow md:grow-0 md:w-64",children:u.jsxs("div",{className:"relative",children:[u.jsx(ti,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),u.jsx(er,{placeholder:"搜索VRF名称或描述...",value:h,onChange:j=>f(j.target.value),className:"pl-8"}),h&&u.jsx("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>f(""),children:u.jsx(Ps,{className:"h-4 w-4"})})]})}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"VRF类型"}),u.jsxs(en,{value:p,onValueChange:g,children:[u.jsx(Kr,{className:"w-36",children:u.jsx(tn,{placeholder:"所有类型"})}),u.jsxs(Zr,{children:[u.jsx(Fe,{value:"all",children:"所有类型"}),u.jsx(Fe,{value:"default",children:"默认"}),u.jsx(Fe,{value:"ip-vrf",children:"IP-VRF"}),u.jsx(Fe,{value:"mac-vrf",children:"MAC-VRF"}),u.jsx(Fe,{value:"evpn",children:"EVPN"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"状态"}),u.jsxs(en,{value:v,onValueChange:m,children:[u.jsx(Kr,{className:"w-36",children:u.jsx(tn,{placeholder:"所有状态"})}),u.jsxs(Zr,{children:[u.jsx(Fe,{value:"all",children:"所有状态"}),u.jsx(Fe,{value:"up",children:"运行中"}),u.jsx(Fe,{value:"down",children:"已关闭"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"显示数量"}),u.jsxs(en,{value:y.toString(),onValueChange:j=>x(parseInt(j)),children:[u.jsx(Kr,{className:"w-24",children:u.jsx(tn,{placeholder:"10"})}),u.jsxs(Zr,{children:[u.jsx(Fe,{value:"10",children:"10"}),u.jsx(Fe,{value:"25",children:"25"}),u.jsx(Fe,{value:"50",children:"50"}),u.jsx(Fe,{value:"100",children:"所有"})]})]})]})]}),u.jsxs(Ve,{children:[u.jsxs(nt,{children:[u.jsx(it,{children:"VRF实例详情"}),u.jsxs(qr,{children:["显示 ",Math.min(y,S.length)," 条，共 ",S.length," 个VRF实例"]})]}),u.jsxs(Ge,{children:[u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{children:[u.jsx(ie,{children:"设备"}),u.jsx(ie,{children:"VRF名称"}),u.jsx(ie,{children:"类型"}),u.jsx(ie,{children:"状态"}),u.jsx(ie,{children:"IPv4路由数"}),u.jsx(ie,{children:"IPv6路由数"}),u.jsx(ie,{children:"流量"}),u.jsx(ie,{children:"描述"})]})}),u.jsx(Vr,{children:k.length===0?u.jsx(Ke,{children:u.jsx(ee,{colSpan:8,className:"text-center text-gray-500 py-4",children:h||p!=="all"||v!=="all"?"没有找到符合筛选条件的VRF实例":"没有可用的VRF实例数据"})}):k.map(j=>u.jsxs(Ke,{className:j.state==="down"?"bg-red-50":void 0,children:[u.jsx(ee,{className:"font-medium",children:j.device}),u.jsxs(ee,{children:[u.jsx("div",{children:j.name}),j.rd&&u.jsxs("div",{className:"text-xs text-gray-500",children:["RD: ",j.rd]})]}),u.jsx(ee,{children:u.jsx(Ce,{variant:S9e[j.type]||"default",children:j.type==="default"?"默认":j.type==="ip-vrf"?"IP-VRF":j.type==="mac-vrf"?"MAC-VRF":"EVPN"})}),u.jsx(ee,{children:u.jsx(Ce,{variant:j.state==="up"?"success":"danger",children:j.state==="up"?"运行中":"已关闭"})}),u.jsx(ee,{children:j.routesIPv4.toLocaleString()}),u.jsx(ee,{children:j.routesIPv6.toLocaleString()}),u.jsxs(ee,{children:[u.jsxs("div",{className:"flex items-center text-sm",children:[u.jsx(Fk,{className:"h-3 w-3 mr-1 text-green-500"}),w(j.inBytes)]}),u.jsxs("div",{className:"flex items-center text-sm",children:[u.jsx(XJ,{className:"h-3 w-3 mr-1 text-blue-500"}),w(j.outBytes)]})]}),u.jsx(ee,{children:j.description||"-"})]},`${j.device}-${j.name}`))})]}),S.length>y&&y<100&&u.jsx("div",{className:"mt-4 text-center",children:u.jsx("button",{onClick:()=>x(j=>j+10),className:"px-4 py-2 bg-gray-100 text-gray-800 rounded-md hover:bg-gray-200",children:"加载更多"})})]})]}),e&&u.jsxs(Ve,{children:[u.jsx(nt,{children:u.jsx(it,{children:"VRF实例详细信息"})}),u.jsx(Ge,{children:u.jsx("div",{className:"p-8 text-center text-gray-500 border border-dashed rounded-md",children:"选择特定VRF实例以查看其接口、路由目标和转发表详情"})})]}),u.jsxs(Ve,{children:[u.jsx(nt,{children:u.jsx(it,{children:"VRF实例趋势图"})}),u.jsx(Ge,{children:u.jsx("div",{className:"p-8 text-center text-gray-500 border border-dashed rounded-md",children:"此处将展示VRF实例数量和路由表规模变化趋势"})})]})]})},C9e=[{value:"5m",label:"5分钟"},{value:"15m",label:"15分钟"},{value:"30m",label:"30分钟"},{value:"1h",label:"1小时"},{value:"3h",label:"3小时"},{value:"6h",label:"6小时"},{value:"12h",label:"12小时"},{value:"1d",label:"1天"}],k9e={running:"success",sleeping:"default",stopped:"warning",zombie:"danger"},mce=({selectedDevice:e,fetchFromPrometheus:t,deviceIp:r})=>{const[n,i]=A.useState([]),[s,a]=A.useState("30m"),[o,l]=A.useState(!1),[c,d]=A.useState(null),[h,f]=A.useState(""),[p,g]=A.useState("all"),[v,m]=A.useState("cpu"),[y,x]=A.useState(10),_=async()=>{l(!0),d(null);try{const L=e?`srl_process_info{device="${e}"}`:"srl_process_info",O=e?`srl_process_cpu{device="${e}"}`:"srl_process_cpu",j=e?`srl_process_memory{device="${e}"}`:"srl_process_memory",[M,I,z]=await Promise.all([t(L),t(O),t(j)]);if(!M||M.length===0){b();return}const U=new Map;M.forEach(F=>{const{device:G,process_name:Y,pid:Z,status:B,start_time:W}=F.metric,K=`${G}-${Y}-${Z}`;let X="running";B==="S"?X="sleeping":B==="T"?X="stopped":B==="Z"&&(X="zombie"),U.set(K,{device:G,processName:Y,pid:parseInt(Z),cpuUsage:0,memoryUsage:0,memoryRSS:0,status:X,startTime:W||new Date().toISOString(),isCritical:Y.includes("control")||Y.includes("agent")})}),I.forEach(F=>{const{device:G,process_name:Y,pid:Z}=F.metric,B=parseFloat(F.value[1]),W=`${G}-${Y}-${Z}`;if(U.has(W)){const K=U.get(W);K.cpuUsage=B,U.set(W,K)}}),z.forEach(F=>{const{device:G,process_name:Y,pid:Z,type:B}=F.metric,W=parseFloat(F.value[1]),K=`${G}-${Y}-${Z}`;if(U.has(K)){const X=U.get(K);B==="percent"?X.memoryUsage=W:B==="rss"&&(X.memoryRSS=W),U.set(K,X)}}),i(Array.from(U.values()))}catch(L){console.error("Error fetching process data:",L),d("获取系统进程数据失败"),b()}finally{l(!1)}},b=()=>{const L=["spine1","spine2","leaf1","leaf2","leaf3","leaf4"],O=["sr_control_plane","sr_forwarding_agent","sr_mgmt_agent","sr_telemetry_agent","sr_cli","sr_snmp_agent","sr_bgp","sr_ospf","sr_vrrp","sr_bfd","sr_lldp","sr_chassis_mgr"],j=[];L.forEach(M=>{O.forEach((I,z)=>{const U=1e3+Math.floor(Math.random()*9e3),F=z===1&&(M==="leaf1"||M==="spine2"),G=z===2&&M==="leaf3",Y=Math.random();let Z="running";Y>.9?Z="zombie":Y>.85?Z="stopped":Y>.6&&(Z="sleeping");const B=new Date,W=Math.floor(Math.random()*30),K=new Date(B.getTime()-W*24*60*60*1e3).toISOString();j.push({device:M,processName:I,pid:U,cpuUsage:F?90+Math.random()*10:Math.random()*20,memoryUsage:G?80+Math.random()*20:5+Math.random()*20,memoryRSS:(G?500+Math.random()*1500:100+Math.random()*400)*1024*1024,status:Z,startTime:K,command:`/usr/bin/${I} --config /etc/sr/${I}.conf`,isCritical:I.includes("control")||I.includes("agent")})})}),i(j)},w=L=>{if(L===0)return"0 B";const O=1024,j=["B","KB","MB","GB","TB"],M=Math.floor(Math.log(L)/Math.log(O));return parseFloat((L/Math.pow(O,M)).toFixed(2))+" "+j[M]},S=L=>{const O=new Date(L),M=new Date().getTime()-O.getTime(),I=Math.floor(M/(1e3*60*60*24)),z=Math.floor(M%(1e3*60*60*24)/(1e3*60*60)),U=Math.floor(M%(1e3*60*60)/(1e3*60));return I>0?`${I}d ${z}h`:z>0?`${z}h ${U}m`:`${U}m`};A.useEffect(()=>{_();const L=setInterval(_,3e4);return()=>clearInterval(L)},[e,s]);const k=n.filter(L=>{var O;return!(e&&L.device!==e||h&&!L.processName.toLowerCase().includes(h.toLowerCase())&&!((O=L.command)!=null&&O.toLowerCase().includes(h.toLowerCase()))||p!=="all"&&L.status!==p)}),E=[...k].sort((L,O)=>v==="cpu"?O.cpuUsage-L.cpuUsage:v==="memory"?O.memoryUsage-L.memoryUsage:v==="name"?L.processName.localeCompare(O.processName):v==="pid"?L.pid-O.pid:0).slice(0,y),T=k.filter(L=>L.status==="running").length,N=k.filter(L=>L.status==="sleeping").length,R=k.filter(L=>L.status==="stopped").length,P=k.filter(L=>L.status==="zombie").length,D=k.filter(L=>L.cpuUsage>80).length,$=k.filter(L=>L.memoryUsage>80).length;return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2",children:[u.jsxs("h2",{className:"text-xl font-semibold flex flex-wrap items-center gap-2",children:[e&&u.jsxs("div",{className:"flex items-center bg-blue-50 px-3 py-1 rounded-md text-blue-800 text-sm font-medium mr-2",children:[u.jsx("span",{className:"font-bold mr-1",children:"设备:"})," ",e,r&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"mx-1",children:"|"}),u.jsx("span",{className:"font-bold mr-1",children:"IP:"})," ",r]})]}),u.jsx("span",{children:"系统进程监控"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-sm text-gray-500",children:"时间范围:"}),u.jsxs(en,{value:s,onValueChange:a,children:[u.jsx(Kr,{className:"w-36",children:u.jsx(tn,{placeholder:"选择时间范围"})}),u.jsx(Zr,{children:C9e.map(L=>u.jsx(Fe,{value:L.value,children:L.label},L.value))})]})]})]}),c&&u.jsxs("div",{className:"bg-red-50 text-red-700 p-3 rounded-md flex items-center",children:[u.jsx(bi,{className:"h-5 w-5 mr-2"}),u.jsx("span",{children:c})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs(Ve,{children:[u.jsx(nt,{className:"pb-2",children:u.jsx(it,{className:"text-sm font-medium text-gray-500",children:"进程总数"})}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsx("div",{className:"text-3xl font-bold",children:k.length}),u.jsx(Rd,{className:"h-6 w-6 text-blue-500"})]}),u.jsxs("div",{className:"flex flex-wrap mt-2 gap-1",children:[u.jsxs(Ce,{className:"text-xs",children:["运行: ",T]}),u.jsxs(Ce,{variant:"secondary",className:"text-xs",children:["睡眠: ",N]}),R>0&&u.jsxs(Ce,{variant:"warning",className:"text-xs",children:["停止: ",R]}),P>0&&u.jsxs(Ce,{variant:"danger",className:"text-xs",children:["僵尸: ",P]})]})]})]}),u.jsxs(Ve,{className:D>0?"border-yellow-300 bg-yellow-50":"",children:[u.jsx(nt,{className:"pb-2",children:u.jsx(it,{className:`text-sm font-medium ${D>0?"text-yellow-700":"text-gray-500"}`,children:"高CPU使用率进程"})}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsx("div",{className:`text-3xl font-bold ${D>0?"text-yellow-600":""}`,children:D}),u.jsx(Vm,{className:`h-6 w-6 ${D>0?"text-yellow-500":"text-gray-500"}`})]}),u.jsx("div",{className:"mt-2 text-xs",children:D>0?u.jsxs("div",{className:"text-yellow-600",children:[D," 个进程CPU使用率超过80%"]}):u.jsx("div",{className:"text-gray-500",children:"所有进程CPU使用率正常"})})]})]}),u.jsxs(Ve,{className:$>0?"border-red-300 bg-red-50":"",children:[u.jsx(nt,{className:"pb-2",children:u.jsx(it,{className:`text-sm font-medium ${$>0?"text-red-700":"text-gray-500"}`,children:"高内存使用率进程"})}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsx("div",{className:`text-3xl font-bold ${$>0?"text-red-600":""}`,children:$}),u.jsx(I3,{className:`h-6 w-6 ${$>0?"text-red-500":"text-gray-500"}`})]}),u.jsx("div",{className:"mt-2 text-xs",children:$>0?u.jsxs("div",{className:"text-red-600",children:[$," 个进程内存使用率超过80%"]}):u.jsx("div",{className:"text-gray-500",children:"所有进程内存使用率正常"})})]})]}),u.jsxs(Ve,{children:[u.jsx(nt,{className:"pb-2",children:u.jsx(it,{className:"text-sm font-medium text-gray-500",children:"排序与筛选"})}),u.jsx(Ge,{children:u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs(en,{value:v,onValueChange:m,children:[u.jsx(Kr,{className:"w-full",children:u.jsx(tn,{placeholder:"排序方式"})}),u.jsxs(Zr,{children:[u.jsx(Fe,{value:"cpu",children:"按CPU使用率"}),u.jsx(Fe,{value:"memory",children:"按内存使用率"}),u.jsx(Fe,{value:"name",children:"按进程名称"}),u.jsx(Fe,{value:"pid",children:"按进程ID"})]})]}),u.jsxs(en,{value:y.toString(),onValueChange:L=>x(parseInt(L)),children:[u.jsx(Kr,{className:"w-full",children:u.jsx(tn,{placeholder:"显示数量"})}),u.jsxs(Zr,{children:[u.jsx(Fe,{value:"5",children:"前5个"}),u.jsx(Fe,{value:"10",children:"前10个"}),u.jsx(Fe,{value:"20",children:"前20个"}),u.jsx(Fe,{value:"50",children:"前50个"}),u.jsx(Fe,{value:"100",children:"所有"})]})]})]})})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[u.jsx("div",{className:"grow md:grow-0 md:w-64",children:u.jsxs("div",{className:"relative",children:[u.jsx(ti,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),u.jsx(er,{placeholder:"搜索进程名称或命令...",value:h,onChange:L=>f(L.target.value),className:"pl-8"}),h&&u.jsx("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>f(""),children:u.jsx(Ps,{className:"h-4 w-4"})})]})}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"状态"}),u.jsxs(en,{value:p,onValueChange:g,children:[u.jsx(Kr,{className:"w-36",children:u.jsx(tn,{placeholder:"所有状态"})}),u.jsxs(Zr,{children:[u.jsx(Fe,{value:"all",children:"所有状态"}),u.jsx(Fe,{value:"running",children:"运行中"}),u.jsx(Fe,{value:"sleeping",children:"睡眠"}),u.jsx(Fe,{value:"stopped",children:"已停止"}),u.jsx(Fe,{value:"zombie",children:"僵尸"})]})]})]})]}),u.jsxs(Ve,{children:[u.jsxs(nt,{children:[u.jsx(it,{children:"进程详情"}),u.jsxs(qr,{children:["显示 ",v==="cpu"?"CPU使用率":v==="memory"?"内存使用率":v==="name"?"进程名称":"PID","排序的前 ",y," 个进程"]})]}),u.jsx(Ge,{children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{children:[u.jsx(ie,{children:"设备"}),u.jsx(ie,{children:"进程名称"}),u.jsx(ie,{children:"PID"}),u.jsx(ie,{children:"CPU使用率"}),u.jsx(ie,{children:"内存使用率"}),u.jsx(ie,{children:"物理内存"}),u.jsx(ie,{children:"状态"}),u.jsx(ie,{children:"运行时间"})]})}),u.jsx(Vr,{children:E.length===0?u.jsx(Ke,{children:u.jsx(ee,{colSpan:8,className:"text-center text-gray-500 py-4",children:h||p!=="all"?"没有找到符合筛选条件的进程":"没有可用的进程数据"})}):E.map(L=>u.jsxs(Ke,{className:L.cpuUsage>90||L.memoryUsage>90?"bg-red-50":L.cpuUsage>70||L.memoryUsage>70?"bg-yellow-50":void 0,children:[u.jsx(ee,{className:"font-medium",children:L.device}),u.jsxs(ee,{children:[u.jsxs("div",{className:"flex items-center",children:[L.isCritical&&u.jsx(Ce,{variant:"secondary",className:"mr-2",children:"关键"}),u.jsx("span",{children:L.processName})]}),L.command&&u.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[200px]",children:L.command})]}),u.jsx(ee,{children:L.pid}),u.jsx(ee,{children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mr-2",children:u.jsx("div",{className:`h-2.5 rounded-full ${L.cpuUsage>90?"bg-red-500":L.cpuUsage>70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(100,L.cpuUsage)}%`}})}),u.jsxs("span",{className:L.cpuUsage>90?"text-red-600 font-semibold":L.cpuUsage>70?"text-yellow-600":"text-gray-600",children:[L.cpuUsage.toFixed(1),"%"]})]})}),u.jsx(ee,{children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mr-2",children:u.jsx("div",{className:`h-2.5 rounded-full ${L.memoryUsage>90?"bg-red-500":L.memoryUsage>70?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${Math.min(100,L.memoryUsage)}%`}})}),u.jsxs("span",{children:[L.memoryUsage.toFixed(1),"%"]})]})}),u.jsx(ee,{children:w(L.memoryRSS)}),u.jsx(ee,{children:u.jsx(Ce,{variant:k9e[L.status]||"default",children:L.status==="running"?"运行中":L.status==="sleeping"?"睡眠":L.status==="stopped"?"已停止":"僵尸"})}),u.jsx(ee,{children:S(L.startTime)})]},`${L.device}-${L.processName}-${L.pid}`))})]})})]}),u.jsxs(Ve,{children:[u.jsx(nt,{children:u.jsx(it,{children:"进程资源使用趋势图"})}),u.jsx(Ge,{children:u.jsx("div",{className:"p-8 text-center text-gray-500 border border-dashed rounded-md",children:"此处将展示选定进程的CPU和内存使用率趋势"})})]})]})},E9e=[{value:"5m",label:"5分钟"},{value:"15m",label:"15分钟"},{value:"30m",label:"30分钟"},{value:"1h",label:"1小时"},{value:"3h",label:"3小时"},{value:"6h",label:"6小时"},{value:"12h",label:"12小时"},{value:"1d",label:"1天"}],T9e={info:"default",warning:"warning",error:"destructive",debug:"secondary",critical:"destructive"},vce=({selectedDevice:e,deviceIp:t})=>{const[r,n]=A.useState([]),[i,s]=A.useState("30m"),[a,o]=A.useState(!1),[l,c]=A.useState(null),[d,h]=A.useState(""),[f,p]=A.useState("all"),[g,v]=A.useState("all"),[m,y]=A.useState(50),x=async()=>{o(!0),c(null);try{if(!(localStorage.getItem("datasource_loki_enabled")==="true")){c("Loki数据源未启用，请在数据源配置页面启用Loki"),_();return}const T=localStorage.getItem("datasource_loki");if(!T){c("Loki URL未配置，请在数据源配置页面设置Loki地址"),_();return}let N='{job="srl-syslog"}';e&&(N+=` |= "${e}"`),f!=="all"&&(N+=` |= "level=${f}"`),g!=="all"&&(N+=` |= "facility=${g}"`),d&&(N+=` |= "${d}"`);const R=await Nt.get(`${T}/loki/api/v1/query_range`,{params:{query:N,start:b(i),end:Date.now()*1e6,limit:m}});if(R.data&&R.data.data&&R.data.data.result){const P=R.data.data.result,D=[];P.forEach($=>{const{device:L,facility:O}=$.stream;$.values.forEach(j=>{const[M,I]=j,z=I.match(/level=(\w+)/i),U=z?z[1].toLowerCase():"info",F=I.match(/process=(\w+)/i),G=I.match(/pid=(\d+)/i),Y=I.match(/file=([^\s]+)/i);let Z=I;const B=I.match(/msg="([^"]+)"/i);B&&(Z=B[1]),D.push({device:L||"unknown",timestamp:new Date(parseInt(M)/1e6).toISOString(),level:U,facility:O||"unknown",message:Z,sourceFile:Y?Y[1]:void 0,processName:F?F[1]:void 0,pid:G?parseInt(G[1]):void 0})})}),D.sort(($,L)=>new Date(L.timestamp).getTime()-new Date($.timestamp).getTime()),n(D)}else n([])}catch(E){console.error("Error fetching logs from Loki:",E),c("获取设备日志失败"),_()}finally{o(!1)}},_=()=>{const E=["spine1","spine2","leaf1","leaf2","leaf3","leaf4"],T=["kern","user","mail","daemon","auth","syslog","lpr","news","uucp","cron","authpriv","ftp","local0","local1","local2","local3","local4"],N=["Interface %s changed state to up","Interface %s changed state to down","Process %s started with PID %d","Process %s exited with code %d","User %s logged in from %s","Authentication failure for user %s from %s","Memory utilization is at %d%%","CPU utilization is at %d%%","BGP session with %s established","BGP session with %s down: %s","OSPF adjacency with %s up","OSPF adjacency with %s down: %s","Link flap detected on interface %s","Fan %d failure detected","Temperature is %d°C, exceeding threshold of %d°C","Power supply %d state changed to %s","Software upgrade initiated: %s","Software upgrade completed: %s","Configuration change by user %s: %s","System reboot initiated by user %s"],R=["bgpd","ospfd","lldpd","dhcpd","ntpd","sshd","snmpd","syslogd","init","crond"],P=["admin","operator","root","nms","backup","automation"],D=["10.1.1.1","192.168.1.1","172.16.0.1","10.0.0.1","192.168.10.1"],$=[],L=new Date,O=24*60*60*1e3;for(let j=0;j<100;j++){const M=Math.pow(Math.random(),2)*O,I=new Date(L.getTime()-M),z=E[Math.floor(Math.random()*E.length)],U=T[Math.floor(Math.random()*T.length)],F=Math.random();let G;F<.6?G="info":F<.8?G="warning":F<.95?G="error":F<.99?G="debug":G="critical";let Z=N[Math.floor(Math.random()*N.length)];for(;Z.includes("%s");)Z.includes("Interface %s")?Z=Z.replace("%s",`Ethernet1/${Math.floor(Math.random()*48)+1}`):Z.includes("Process %s")?Z=Z.replace("%s",R[Math.floor(Math.random()*R.length)]):Z.includes("user %s")?Z=Z.replace("%s",P[Math.floor(Math.random()*P.length)]):Z.includes("BGP session with %s")||Z.includes("OSPF adjacency with %s")?Z=Z.replace("%s",D[Math.floor(Math.random()*D.length)]):Z.includes("Software upgrade")?Z=Z.replace("%s",`SR Linux 23.${Math.floor(Math.random()*10)}.${Math.floor(Math.random()*10)}`):Z.includes("Configuration change")?Z=Z.replace("%s","interface config updated"):Z=Z.replace("%s","unknown");for(;Z.includes("%d");)if(Z.includes("PID %d"))Z=Z.replace("%d",String(1e3+Math.floor(Math.random()*9e3)));else if(Z.includes("code %d"))Z=Z.replace("%d",String(Math.floor(Math.random()*256)));else if(Z.includes("%d%%"))Z=Z.replace("%d",String(Math.floor(Math.random()*100)));else if(Z.includes("Fan %d"))Z=Z.replace("%d",String(Math.floor(Math.random()*4)+1));else if(Z.includes("Temperature is %d")){const K=Math.floor(Math.random()*20)+30;Z=Z.replace("%d",String(K)),Z=Z.replace("%d",String(K-5))}else Z.includes("Power supply %d")?(Z=Z.replace("%d",String(Math.floor(Math.random()*2)+1)),Z=Z.replace("%s",Math.random()>.5?"up":"down")):Z=Z.replace("%d",String(Math.floor(Math.random()*100)));const B=R[Math.floor(Math.random()*R.length)],W=1e3+Math.floor(Math.random()*9e3);$.push({device:z,timestamp:I.toISOString(),level:G,facility:U,message:Z,processName:B,pid:W,sourceFile:`/var/log/${U}.log`})}$.sort((j,M)=>new Date(M.timestamp).getTime()-new Date(j.timestamp).getTime()),n($)},b=E=>{const T=Date.now()*1e6,R={"5m":5*60,"15m":15*60,"30m":30*60,"1h":60*60,"3h":3*60*60,"6h":6*60*60,"12h":12*60*60,"1d":24*60*60}[E]||30*60;return T-R*1e9},w=E=>new Date(E).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),S=E=>{const T=new Date,N=new Date(E),R=T.getTime()-N.getTime(),P=Math.floor(R/1e3);if(P<60)return`${P}秒前`;const D=Math.floor(P/60);if(D<60)return`${D}分钟前`;const $=Math.floor(D/60);return $<24?`${$}小时前`:`${Math.floor($/24)}天前`};A.useEffect(()=>{x();const E=setInterval(x,3e4);return()=>clearInterval(E)},[e,i,f,g,d,m]);const k=r.filter(E=>!(e&&E.device!==e||f!=="all"&&E.level!==f||g!=="all"&&E.facility!==g||d&&!E.message.toLowerCase().includes(d.toLowerCase()))),C=Array.from(new Set(r.map(E=>E.facility))).sort();return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2",children:[u.jsxs("h2",{className:"text-xl font-semibold flex flex-wrap items-center gap-2",children:[e&&u.jsxs("div",{className:"flex items-center bg-blue-50 px-3 py-1 rounded-md text-blue-800 text-sm font-medium mr-2",children:[u.jsx("span",{className:"font-bold mr-1",children:"设备:"})," ",e,t&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"mx-1",children:"|"}),u.jsx("span",{className:"font-bold mr-1",children:"IP:"})," ",t]})]}),u.jsx("span",{children:"设备日志"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{className:"p-2 bg-gray-100 rounded-md hover:bg-gray-200",onClick:x,title:"刷新日志",children:u.jsx(io,{className:"h-4 w-4 text-gray-600"})}),u.jsx("span",{className:"text-sm text-gray-500",children:"时间范围:"}),u.jsxs(en,{value:i,onValueChange:s,children:[u.jsx(Kr,{className:"w-36",children:u.jsx(tn,{placeholder:"选择时间范围"})}),u.jsx(Zr,{children:E9e.map(E=>u.jsx(Fe,{value:E.value,children:E.label},E.value))})]})]})]}),l&&u.jsxs("div",{className:"bg-red-50 text-red-700 p-3 rounded-md flex items-center",children:[u.jsx(bi,{className:"h-5 w-5 mr-2"}),u.jsx("span",{children:l})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[u.jsx("div",{className:"grow md:grow-0 md:w-64",children:u.jsxs("div",{className:"relative",children:[u.jsx(ti,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),u.jsx(er,{placeholder:"搜索日志内容...",value:d,onChange:E=>h(E.target.value),className:"pl-8"}),d&&u.jsx("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>h(""),children:u.jsx(Ps,{className:"h-4 w-4"})})]})}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"日志级别"}),u.jsxs(en,{value:f,onValueChange:p,children:[u.jsx(Kr,{className:"w-36",children:u.jsx(tn,{placeholder:"所有级别"})}),u.jsxs(Zr,{children:[u.jsx(Fe,{value:"all",children:"所有级别"}),u.jsx(Fe,{value:"info",children:"Info"}),u.jsx(Fe,{value:"warning",children:"Warning"}),u.jsx(Fe,{value:"error",children:"Error"}),u.jsx(Fe,{value:"debug",children:"Debug"}),u.jsx(Fe,{value:"critical",children:"Critical"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"日志设施"}),u.jsxs(en,{value:g,onValueChange:v,children:[u.jsx(Kr,{className:"w-36",children:u.jsx(tn,{placeholder:"所有设施"})}),u.jsxs(Zr,{children:[u.jsx(Fe,{value:"all",children:"所有设施"}),C.map(E=>u.jsx(Fe,{value:E,children:E},E))]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"显示数量"}),u.jsxs(en,{value:m.toString(),onValueChange:E=>y(parseInt(E)),children:[u.jsx(Kr,{className:"w-24",children:u.jsx(tn,{placeholder:"50"})}),u.jsxs(Zr,{children:[u.jsx(Fe,{value:"25",children:"25"}),u.jsx(Fe,{value:"50",children:"50"}),u.jsx(Fe,{value:"100",children:"100"}),u.jsx(Fe,{value:"200",children:"200"}),u.jsx(Fe,{value:"500",children:"500"})]})]})]})]}),u.jsxs(Ve,{children:[u.jsx(nt,{children:u.jsxs(it,{className:"flex items-center justify-between",children:[u.jsx("span",{children:"设备日志"}),u.jsx("div",{className:"text-sm font-normal text-gray-500",children:a?u.jsxs("div",{className:"flex items-center",children:[u.jsx(Rd,{className:"animate-pulse h-4 w-4 mr-2"}),"加载中..."]}):u.jsxs("div",{children:["显示 ",k.length," 条日志"]})})]})}),u.jsxs(Ge,{children:[k.length===0?u.jsx("div",{className:"py-8 text-center text-gray-500",children:d||f!=="all"||g!=="all"?"没有找到符合筛选条件的日志":"没有可用的日志数据"}):u.jsx("div",{className:"overflow-auto max-h-[600px]",children:u.jsxs(Ur,{children:[u.jsx(Hr,{className:"sticky top-0 bg-white",children:u.jsxs(Ke,{children:[u.jsx(ie,{children:"时间"}),u.jsx(ie,{children:"设备"}),u.jsx(ie,{children:"级别"}),u.jsx(ie,{children:"设施"}),u.jsx(ie,{className:"w-full",children:"消息"}),u.jsx(ie,{className:"hidden md:table-cell",children:"进程"})]})}),u.jsx(Vr,{children:k.map((E,T)=>u.jsxs(Ke,{className:E.level==="critical"?"bg-red-50":E.level==="error"?"bg-red-50/70":E.level==="warning"?"bg-yellow-50/70":void 0,children:[u.jsxs(ee,{className:"whitespace-nowrap",children:[u.jsx("div",{className:"font-mono text-xs",children:w(E.timestamp)}),u.jsx("div",{className:"text-xs text-gray-500",children:S(E.timestamp)})]}),u.jsx(ee,{children:E.device}),u.jsx(ee,{children:u.jsx(Ce,{variant:T9e[E.level]||"default",children:E.level.toUpperCase()})}),u.jsx(ee,{children:E.facility}),u.jsxs(ee,{children:[u.jsx("div",{className:"font-mono text-sm break-all",children:E.message}),E.sourceFile&&u.jsxs("div",{className:"text-xs text-gray-500 flex items-center mt-1",children:[u.jsx(to,{className:"h-3 w-3 mr-1 inline"}),E.sourceFile]})]}),u.jsxs(ee,{className:"hidden md:table-cell",children:[E.processName&&u.jsx("div",{className:"text-sm",children:E.processName}),E.pid&&u.jsxs("div",{className:"text-xs text-gray-500",children:["PID: ",E.pid]})]})]},T))})]})}),k.length>=m&&u.jsx("div",{className:"mt-4 text-center",children:u.jsx("button",{onClick:()=>y(E=>E+50),className:"px-4 py-2 bg-gray-100 text-gray-800 rounded-md hover:bg-gray-200",children:"加载更多"})})]})]})]})},N9e=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>iu(async()=>{const{default:n}=await Promise.resolve().then(()=>Jv);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class E$ extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class A9e extends E${constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class j9e extends E${constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class R9e extends E${constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var kD;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(kD||(kD={}));var I9e=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function l(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class M9e{constructor(t,{headers:r={},customFetch:n,region:i=kD.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=N9e(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return I9e(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=r;let o={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let c;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(o["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(o["Content-Type"]="application/json",c=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:c}).catch(g=>{throw new A9e(g)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new j9e(d);if(!d.ok)throw new R9e(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(i){return{data:null,error:i}}})}}var Qs={},T$={},o2={},gw={},l2={},c2={},P9e=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ov=P9e();const L9e=ov.fetch,yce=ov.fetch.bind(ov),xce=ov.Headers,D9e=ov.Request,O9e=ov.Response,Jv=Object.freeze(Object.defineProperty({__proto__:null,Headers:xce,Request:D9e,Response:O9e,default:yce,fetch:L9e},Symbol.toStringTag,{value:"Module"})),$9e=Kge(Jv);var u2={};Object.defineProperty(u2,"__esModule",{value:!0});let B9e=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};u2.default=B9e;var _ce=cs&&cs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c2,"__esModule",{value:!0});const F9e=_ce($9e),z9e=_ce(u2);let U9e=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=F9e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,o,l;let c=null,d=null,h=null,f=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=await s.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const v=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),m=(o=s.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");v&&m&&m.length>1&&(h=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await s.text();try{c=JSON.parse(v),Array.isArray(c)&&s.status===404&&(d=[],c=null,f=200,p="OK")}catch{s.status===404&&v===""?(f=204,p="No Content"):c={message:v}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&this.shouldThrowOnError)throw new z9e.default(c)}return{error:c,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,o,l;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};c2.default=U9e;var H9e=cs&&cs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l2,"__esModule",{value:!0});const V9e=H9e(c2);let W9e=class extends V9e.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var o;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};l2.default=W9e;var G9e=cs&&cs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gw,"__esModule",{value:!0});const q9e=G9e(l2);let Y9e=class extends q9e.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};gw.default=Y9e;var K9e=cs&&cs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o2,"__esModule",{value:!0});const Ay=K9e(gw);let Z9e=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Ay.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const a=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Ay.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ay.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new Ay.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ay.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};o2.default=Z9e;var d2={},h2={};Object.defineProperty(h2,"__esModule",{value:!0});h2.version=void 0;h2.version="0.0.0-automated";Object.defineProperty(d2,"__esModule",{value:!0});d2.DEFAULT_HEADERS=void 0;const X9e=h2;d2.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${X9e.version}`};var bce=cs&&cs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(T$,"__esModule",{value:!0});const J9e=bce(o2),Q9e=bce(gw),e7e=d2;let t7e=class wce{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},e7e.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new J9e.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new wce(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let l;n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(a="POST",l=r);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new Q9e.default({method:a,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};T$.default=t7e;var Qv=cs&&cs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.PostgrestError=Qs.PostgrestBuilder=Qs.PostgrestTransformBuilder=Qs.PostgrestFilterBuilder=Qs.PostgrestQueryBuilder=Qs.PostgrestClient=void 0;const Sce=Qv(T$);Qs.PostgrestClient=Sce.default;const Cce=Qv(o2);Qs.PostgrestQueryBuilder=Cce.default;const kce=Qv(gw);Qs.PostgrestFilterBuilder=kce.default;const Ece=Qv(l2);Qs.PostgrestTransformBuilder=Ece.default;const Tce=Qv(c2);Qs.PostgrestBuilder=Tce.default;const Nce=Qv(u2);Qs.PostgrestError=Nce.default;var r7e=Qs.default={PostgrestClient:Sce.default,PostgrestQueryBuilder:Cce.default,PostgrestFilterBuilder:kce.default,PostgrestTransformBuilder:Ece.default,PostgrestBuilder:Tce.default,PostgrestError:Nce.default};const{PostgrestClient:n7e,PostgrestQueryBuilder:Npt,PostgrestFilterBuilder:Apt,PostgrestTransformBuilder:jpt,PostgrestBuilder:Rpt,PostgrestError:Ipt}=r7e,i7e="2.11.2",s7e={"X-Client-Info":`realtime-js/${i7e}`},a7e="1.0.0",Ace=1e4,o7e=1e3;var Im;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Im||(Im={}));var _a;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(_a||(_a={}));var Bo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Bo||(Bo={}));var ED;(function(e){e.websocket="websocket"})(ED||(ED={}));var hf;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(hf||(hf={}));class l7e{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+i));a=a+i;const l=n.decode(t.slice(a,a+s));a=a+s;const c=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class jce{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Nn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Nn||(Nn={}));const tq=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,a)=>(s[a]=c7e(a,e,t,i),s),{})},c7e=(e,t,r,n)=>{const i=t.find(o=>o.name===e),s=i==null?void 0:i.type,a=r[e];return s&&!n.includes(s)?Rce(s,a):TD(a)},Rce=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return f7e(t,r)}switch(e){case Nn.bool:return u7e(t);case Nn.float4:case Nn.float8:case Nn.int2:case Nn.int4:case Nn.int8:case Nn.numeric:case Nn.oid:return d7e(t);case Nn.json:case Nn.jsonb:return h7e(t);case Nn.timestamp:return p7e(t);case Nn.abstime:case Nn.date:case Nn.daterange:case Nn.int4range:case Nn.int8range:case Nn.money:case Nn.reltime:case Nn.text:case Nn.time:case Nn.timestamptz:case Nn.timetz:case Nn.tsrange:case Nn.tstzrange:return TD(t);default:return TD(t)}},TD=e=>e,u7e=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},d7e=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},h7e=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},f7e=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const a=e.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>Rce(t,o))}return e},p7e=e=>typeof e=="string"?e.replace(" ","T"):e,Ice=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class uI{constructor(t,r,n={},i=Ace){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var rq;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(rq||(rq={}));class Ux{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ux.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=Ux.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ux.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),a=this.transformState(r),o={},l={};return this.map(s,(c,d)=>{a[c]||(l[c]=d)}),this.map(a,(c,d)=>{const h=s[c];if(h){const f=d.map(m=>m.presence_ref),p=h.map(m=>m.presence_ref),g=d.filter(m=>p.indexOf(m.presence_ref)<0),v=h.filter(m=>f.indexOf(m.presence_ref)<0);g.length>0&&(o[c]=g),v.length>0&&(l[c]=v)}else o[c]=d}),this.syncDiff(s,{joins:o,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var c;const d=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),d.length>0){const h=t[o].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[o].unshift(...f)}n(o,d,l)}),this.map(a,(o,l)=>{let c=t[o];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=c,i(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var nq;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(nq||(nq={}));var iq;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(iq||(iq={}));var Dc;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Dc||(Dc={}));class N${constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=_a.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new uI(this,Bo.join,this.params,this.timeout),this.rejoinTimer=new jce(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_a.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_a.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=_a.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_a.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bo.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Ux(this),this.broadcastEndpointURL=Ice(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:a,private:o}}=this.params;this._onError(d=>t==null?void 0:t(Dc.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Dc.CLOSED));const l={},c={broadcast:s,presence:a,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Dc.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,g=[];for(let v=0;v<p;v++){const m=f[v],{filter:{event:y,schema:x,table:_,filter:b}}=m,w=d&&d[v];if(w&&w.event===y&&w.schema===x&&w.table===_&&w.filter===b)g.push(Object.assign(Object.assign({},m),{id:w.id}));else{this.unsubscribe(),t==null||t(Dc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Dc.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Dc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Dc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=_a.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bo.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new uI(this,Bo.leave,{},t);i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new uI(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=Bo;if(n&&[o,l,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,v,m;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((m=(v=p.filter)===null||v===void 0?void 0:v.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===a}).map(p=>p.callback(f,n)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var g,v,m,y,x,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const b=p.id,w=(g=p.filter)===null||g===void 0?void 0:g.event;return b&&((v=r.ids)===null||v===void 0?void 0:v.includes(b))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((m=r.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const b=(x=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return b==="*"||b===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:v,table:m,commit_timestamp:y,type:x,errors:_}=g;f=Object.assign(Object.assign({},{schema:v,table:m,commit_timestamp:y,eventType:x,new:{},old:{},errors:_}),this._getPayloadRecords(g))}p.callback(f,n)})}_isClosed(){return this.state===_a.closed}_isJoined(){return this.state===_a.joined}_isJoining(){return this.state===_a.joining}_isLeaving(){return this.state===_a.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&N$.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Bo.close,{},t)}_onError(t){this._on(Bo.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_a.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=tq(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=tq(t.columns,t.old_record)),r}}const g7e=()=>{},m7e=typeof WebSocket<"u",v7e=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class y7e{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=s7e,this.params={},this.timeout=Ace,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=g7e,this.conn=null,this.sendBuffer=[],this.serializer=new l7e,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...o)=>iu(async()=>{const{default:l}=await Promise.resolve().then(()=>Jv);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${t}/${ED.websocket}`,this.httpEndpoint=Ice(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,a)=>a(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new jce(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(m7e){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new x7e(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),iu(async()=>{const{default:t}=await import("./browser-DxcNe9DQ.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:a7e}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Im.connecting:return hf.Connecting;case Im.open:return hf.Open;case Im.closing:return hf.Closing;default:return hf.Closed}}isConnected(){return this.connectionState()===hf.Open}channel(t,r={config:{}}){const n=new N$(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:i,ref:s}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(i=>{r&&i.updateJoinPayload({access_token:r}),i.joinedOnce&&i._isJoined()&&i._push(Bo.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(o7e,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:s,ref:a}=r;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${a&&"("+a+")"||""}`,s),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Bo.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([v7e],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class x7e{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Im.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class A$ extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ji(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _7e extends A${constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ND extends A${constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var b7e=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function l(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const Mce=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>iu(async()=>{const{default:n}=await Promise.resolve().then(()=>Jv);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},w7e=()=>b7e(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield iu(()=>Promise.resolve().then(()=>Jv),void 0)).Response:Response}),AD=e=>{if(Array.isArray(e))return e.map(r=>AD(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=AD(n)}),t};var Lp=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function l(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const dI=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),S7e=(e,t,r)=>Lp(void 0,void 0,void 0,function*(){const n=yield w7e();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{t(new _7e(dI(i),e.status||500))}).catch(i=>{t(new ND(dI(i),i))}):t(new ND(dI(e),e))}),C7e=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function mw(e,t,r,n,i,s){return Lp(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,C7e(t,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>S7e(l,o,n))})})}function tT(e,t,r,n){return Lp(this,void 0,void 0,function*(){return mw(e,"GET",t,r,n)})}function rd(e,t,r,n,i){return Lp(this,void 0,void 0,function*(){return mw(e,"POST",t,n,i,r)})}function k7e(e,t,r,n,i){return Lp(this,void 0,void 0,function*(){return mw(e,"PUT",t,n,i,r)})}function E7e(e,t,r,n){return Lp(this,void 0,void 0,function*(){return mw(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Pce(e,t,r,n,i){return Lp(this,void 0,void 0,function*(){return mw(e,"DELETE",t,n,i,r)})}var Ys=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function l(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const T7e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sq={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class N7e{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Mce(i)}uploadOrUpdate(t,r,n,i){return Ys(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},sq),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:s,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(s){if(ji(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Ys(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Ys(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:sq.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:s,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(ji(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Ys(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield rd(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new A$("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(ji(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ys(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ys(this,void 0,void 0,function*(){try{return{data:yield rd(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(ji(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Ys(this,void 0,void 0,function*(){try{return{data:{path:(yield rd(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(ji(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Ys(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield rd(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(ji(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Ys(this,void 0,void 0,function*(){try{const i=yield rd(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(ji(i))return{data:null,error:i};throw i}})}download(t,r){return Ys(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield tT(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(ji(o))return{data:null,error:o};throw o}})}info(t){return Ys(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield tT(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:AD(n),error:null}}catch(n){if(ji(n))return{data:null,error:n};throw n}})}exists(t){return Ys(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield E7e(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ji(n)&&n instanceof ND){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return Ys(this,void 0,void 0,function*(){try{return{data:yield Pce(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ji(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ys(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},T7e),r),{prefix:t||""});return{data:yield rd(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(ji(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const A7e="2.7.1",j7e={"X-Client-Info":`storage-js/${A7e}`};var kg=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function l(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class R7e{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},j7e),r),this.fetch=Mce(n)}listBuckets(){return kg(this,void 0,void 0,function*(){try{return{data:yield tT(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ji(t))return{data:null,error:t};throw t}})}getBucket(t){return kg(this,void 0,void 0,function*(){try{return{data:yield tT(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ji(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return kg(this,void 0,void 0,function*(){try{return{data:yield rd(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ji(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return kg(this,void 0,void 0,function*(){try{return{data:yield k7e(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ji(n))return{data:null,error:n};throw n}})}emptyBucket(t){return kg(this,void 0,void 0,function*(){try{return{data:yield rd(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ji(r))return{data:null,error:r};throw r}})}deleteBucket(t){return kg(this,void 0,void 0,function*(){try{return{data:yield Pce(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ji(r))return{data:null,error:r};throw r}})}}class I7e extends R7e{constructor(t,r={},n){super(t,r,n)}from(t){return new N7e(this.url,this.headers,t,this.fetch)}}const M7e="2.49.4";let cx="";typeof Deno<"u"?cx="deno":typeof document<"u"?cx="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cx="react-native":cx="node";const P7e={"X-Client-Info":`supabase-js-${cx}/${M7e}`},L7e={headers:P7e},D7e={schema:"public"},O7e={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$7e={};var B7e=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function l(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const F7e=e=>{let t;return e?t=e:typeof fetch>"u"?t=yce:t=fetch,(...r)=>t(...r)},z7e=()=>typeof Headers>"u"?xce:Headers,U7e=(e,t,r)=>{const n=F7e(r),i=z7e();return(s,a)=>B7e(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:e;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},a),{headers:c}))})};var H7e=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function l(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};function V7e(e){return e.replace(/\/$/,"")}function W7e(e,t){const{db:r,auth:n,realtime:i,global:s}=e,{db:a,auth:o,realtime:l,global:c}=t,d={db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s),accessToken:()=>H7e(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Lce="2.69.1",Bg=30*1e3,jD=3,hI=jD*Bg,G7e="http://localhost:9999",q7e="supabase.auth.token",Y7e={"X-Client-Info":`gotrue-js/${Lce}`},RD="X-Supabase-Api-Version",Dce={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},K7e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Z7e=6e5;class j$ extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function fr(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class X7e extends j${constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function J7e(e){return fr(e)&&e.name==="AuthApiError"}class Oce extends j${constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class vh extends j${constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Yu extends vh{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Q7e(e){return fr(e)&&e.name==="AuthSessionMissingError"}class fI extends vh{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class FS extends vh{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class zS extends vh{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function eGe(e){return fr(e)&&e.name==="AuthImplicitGrantRedirectError"}class aq extends vh{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ID extends vh{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function pI(e){return fr(e)&&e.name==="AuthRetryableFetchError"}class oq extends vh{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Hx extends vh{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const lq="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),cq=` 	
\r=`.split(""),tGe=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<cq.length;t+=1)e[cq[t].charCodeAt(0)]=-2;for(let t=0;t<lq.length;t+=1)e[lq[t].charCodeAt(0)]=t;return e})();function $ce(e,t,r){const n=tGe[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function uq(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{iGe(a,n,r)};for(let a=0;a<e.length;a+=1)$ce(e.charCodeAt(a),i,s);return t.join("")}function rGe(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function nGe(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}rGe(n,t)}}function iGe(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function sGe(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)$ce(e.charCodeAt(i),r,n);return new Uint8Array(t)}function aGe(e){const t=[];return nGe(e,r=>t.push(r)),new Uint8Array(t)}function oGe(e){return Math.round(Date.now()/1e3)+e}function lGe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Nl=()=>typeof window<"u"&&typeof document<"u",Yh={tested:!1,writable:!1},Vx=()=>{if(!Nl())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yh.tested)return Yh.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yh.tested=!0,Yh.writable=!0}catch{Yh.tested=!0,Yh.writable=!1}return Yh.writable};function cGe(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const Bce=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>iu(async()=>{const{default:n}=await Promise.resolve().then(()=>Jv);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},uGe=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Fce=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},US=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},HS=async(e,t)=>{await e.removeItem(t)};class f2{constructor(){this.promise=new f2.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}f2.promiseConstructor=Promise;function gI(e){const t=e.split(".");if(t.length!==3)throw new Hx("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!K7e.test(t[n]))throw new Hx("JWT not in base64url format");return{header:JSON.parse(uq(t[0])),payload:JSON.parse(uq(t[1])),signature:sGe(t[2]),raw:{header:t[0],payload:t[1]}}}async function dGe(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function hGe(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){n(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function fGe(e){return("0"+e.toString(16)).substr(-2)}function pGe(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,fGe).join("")}async function gGe(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function mGe(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await gGe(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Eg(e,t,r=!1){const n=pGe();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Fce(e,`${t}-code-verifier`,i);const s=await mGe(n);return[s,n===s?"plain":"s256"]}const vGe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function yGe(e){const t=e.headers.get(RD);if(!t||!t.match(vGe))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function xGe(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function _Ge(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var bGe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const of=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wGe=[502,503,504];async function dq(e){var t;if(!uGe(e))throw new ID(of(e),0);if(wGe.includes(e.status))throw new ID(of(e),e.status);let r;try{r=await e.json()}catch(s){throw new Oce(of(s),s)}let n;const i=yGe(e);if(i&&i.getTime()>=Dce["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new oq(of(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Yu}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new oq(of(r),e.status,r.weak_password.reasons);throw new X7e(of(r),e.status||500,n)}const SGe=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ar(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[RD]||(s[RD]=Dce["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await CGe(e,t,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function CGe(e,t,r,n,i,s){const a=SGe(t,n,i,s);let o;try{o=await e(r,Object.assign({},a))}catch(l){throw console.error(l),new ID(of(l),0)}if(o.ok||await dq(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await dq(l)}}function Ku(e){var t;let r=null;NGe(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=oGe(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function hq(e){const t=Ku(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ad(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function kGe(e){return{data:e,error:null}}function EGe(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,a=bGe(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function TGe(e){return e}function NGe(e){return e.access_token&&e.refresh_token&&e.expires_in}var AGe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class jGe{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Bce(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Ar(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(fr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ar(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ad})}catch(n){if(fr(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=AGe(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Ar(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:EGe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(fr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ar(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ad})}catch(r){if(fr(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await Ar(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:TGe});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(g.split(";")[1].split("=")[1]);c[`${m}Page`]=v}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(fr(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await Ar(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ad})}catch(r){if(fr(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Ar(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ad})}catch(n){if(fr(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Ar(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ad})}catch(n){if(fr(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Ar(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(fr(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Ar(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(fr(r))return{data:null,error:r};throw r}}}const RGe={getItem:e=>Vx()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Vx()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Vx()&&globalThis.localStorage.removeItem(e)}};function fq(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function IGe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Tg={debug:!!(globalThis&&Vx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zce extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class MGe extends zce{}async function PGe(e,t,r){Tg.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Tg.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Tg.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Tg.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Tg.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new MGe(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Tg.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}IGe();const LGe={url:G7e,storageKey:q7e,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Y7e,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function pq(e,t,r){return await r()}class lb{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=lb.nextInstanceID,lb.nextInstanceID+=1,this.instanceID>0&&Nl()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},LGe),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new jGe({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Bce(i.fetch),this.lock=i.lock||pq,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Nl()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=PGe:this.lock=pq,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Vx()?this.storage=RGe:(this.memoryStorage={},this.storage=fq(this.memoryStorage)):(this.memoryStorage={},this.storage=fq(this.memoryStorage)),Nl()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Lce}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=cGe(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Nl()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),eGe(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return fr(r)?{error:r}:{error:new Oce("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await Ar(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ku}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(fr(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Eg(this.storage,this.storageKey)),s=await Ar(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:Ku})}else if("phone"in t){const{phone:d,password:h,options:f}=t;s=await Ar(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ku})}else throw new FS("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(fr(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:a,options:o}=t;r=await Ar(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:hq})}else if("phone"in t){const{phone:s,password:a,options:o}=t;r=await Ar(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:hq})}else throw new FS("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new fI}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(fr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await US(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await Ar(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ku});if(await HS(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new fI}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(fr(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=t,o=await Ar(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ku}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new fI}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(fr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,a;try{if("email"in t){const{email:o,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Eg(this.storage,this.storageKey));const{error:h}=await Ar(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:d}=await Ar(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new FS("You must provide either an email or phone number.")}catch(o){if(fr(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await Ar(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ku});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(fr(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Eg(this.storage,this.storageKey)),await Ar(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:kGe})}catch(s){if(fr(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Yu;const{error:i}=await Ar(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(fr(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:a}=await Ar(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:a,error:o}=await Ar(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new FS("You must provide either an email or phone number and a type")}catch(r){if(fr(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await US(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<hI:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ar(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ad}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yu}:await Ar(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ad})})}catch(r){if(fr(r))return Q7e(r)&&(await this._removeSession(),await HS(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Yu;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Eg(this.storage,this.storageKey));const{data:c,error:d}=await Ar(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:ad});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(fr(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Yu;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=gI(t.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(fr(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Yu;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(fr(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Nl())throw new zS("No browser detected.");if(t.error||t.error_description||t.error_code)throw new zS(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new aq("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zS("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new aq("No code detected.");const{data:x,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=t;if(!s||!o||!a||!c)throw new zS("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;l&&(f=parseInt(l));const p=f-d;p*1e3<=Bg&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);const{data:v,error:m}=await this._getUser(s);if(m)throw m;const y={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(fr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await US(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(J7e(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await HS(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=lGe(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Eg(this.storage,this.storageKey,!0));try{return await Ar(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(fr(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(fr(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,l,c,d;const{data:h,error:f}=s;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ar(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Nl()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(fr(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await Ar(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(fr(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await hGe(async i=>(i>0&&await dGe(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ar(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ku})),(i,s)=>{const a=200*Math.pow(2,i);return s&&pI(s)&&Date.now()+a-n<Bg})}catch(n){if(this._debug(r,"error",n),fr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Nl()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await US(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<hI;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${hI}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),pI(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Yu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new f2;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new Yu;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),fr(s)){const a={session:null,error:s};return pI(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Fce(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await HS(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Nl()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Bg);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Bg);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Bg}ms, refresh threshold is ${jD} ticks`),i<=jD&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof zce)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nl()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await Eg(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Ar(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(fr(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await Ar(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(fr(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:o}=await Ar(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(fr(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Ar(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(fr(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=gI(i.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n||(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+Z7e>Date.now()))return n;const{data:i,error:s}=await Ar(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new Hx("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(a=>a.kid===t),!n)throw new Hx("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};n=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=gI(n);if(xGe(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const c=_Ge(i.alg),d=await this.fetchJwk(i.kid,r),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,a,aGe(`${o}.${l}`)))throw new Hx("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(fr(n))return{data:null,error:n};throw n}}}lb.nextInstanceID=0;const DGe=lb;class OGe extends DGe{constructor(t){super(t)}}var $Ge=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function l(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class BGe{constructor(t,r,n){var i,s,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=V7e(t);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:D7e,realtime:$7e,auth:Object.assign(Object.assign({},O7e),{storageKey:l}),global:L7e},d=W7e(n??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=U7e(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new n7e(`${o}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new M9e(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new I7e(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return $Ge(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:a,lock:o,debug:l},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new OGe({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:a,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new y7e(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const FGe=(e,t,r)=>new BGe(e,t,r),zGe=()=>"http://127.0.0.1:54321",UGe=()=>"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0";let lm=null;const Uce=()=>{const e=zGe(),t=UGe();console.log("Supabase初始化 - URL:",e);try{return lm=FGe(e,t,{auth:{autoRefreshToken:!0,persistSession:!0,storage:localStorage,detectSessionInUrl:!0},global:{headers:{"X-Client-Info":"device-manager-app"}}}),console.log("Supabase客户端已初始化, URL:",e),setTimeout(()=>{lm&&lm.from("devices").select("count()",{head:!0,count:"exact"}).then(({error:r})=>{r?(console.error("Supabase连接测试失败:",r),console.log("错误代码:",r.code),console.log("错误消息:",r.message)):console.log("Supabase连接测试成功!")},r=>{console.error("Supabase连接测试异常:",r)})},1e3),lm}catch(r){return console.error("初始化Supabase客户端失败:",r),null}};Uce();const p2=()=>lm||Uce(),ck="network_states",lv=()=>localStorage.getItem("userId")||"default_user",HGe=async e=>{try{const t=lv(),r=p2();if(!r)return console.warn("Supabase客户端未初始化，使用localStorage备份"),MD(e),!1;const{data:n}=await r.from(ck).select("*").eq("userId",t).single();let i;return n?i=await r.from(ck).update({...e,updated_at:new Date().toISOString()}).eq("userId",t):i=await r.from(ck).insert([{userId:t,...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]),i.error?(console.error("保存网络状态失败:",i.error),localStorage.setItem("network_state",JSON.stringify({userId:t,...e,updated_at:new Date().toISOString()})),!1):!0}catch(t){return console.error("保存网络状态出错:",t),localStorage.setItem("network_state",JSON.stringify({userId:lv(),...e,updated_at:new Date().toISOString()})),!1}},VGe=async()=>{try{const e=lv(),t=p2();if(!t)return console.warn("Supabase客户端未初始化，从localStorage加载"),WGe();const{data:r,error:n}=await t.from(ck).select("*").eq("userId",e).single();if(n||!r){console.warn("从Supabase加载网络状态失败:",(n==null?void 0:n.message)||"没有数据");const i=localStorage.getItem("network_state");if(i){const s=JSON.parse(i);if(s.userId===e)return s}return null}return r}catch(e){console.error("加载网络状态出错:",e);const t=localStorage.getItem("network_state");if(t)try{const r=JSON.parse(t);if(r.userId===lv())return r}catch(r){console.error("解析localStorage数据出错:",r)}return null}},MD=e=>{try{const t=lv();localStorage.setItem("network_state",JSON.stringify({userId:t,...e,updated_at:new Date().toISOString()}))}catch(t){console.error("保存到localStorage失败:",t)}},WGe=()=>{try{const e=localStorage.getItem("network_state");if(e){const t=JSON.parse(e);if(t.userId===lv())return t}return null}catch(e){return console.error("从localStorage加载数据出错:",e),null}},R$="olaola_state",GGe=e=>{try{localStorage.setItem(R$,JSON.stringify({...e,updated_at:new Date().toISOString()})),console.log("OlaOla状态已保存")}catch(t){console.error("保存OlaOla状态失败:",t)}},Hce=()=>{try{const e=localStorage.getItem(R$);return e?JSON.parse(e):null}catch(e){return console.error("加载OlaOla状态失败:",e),null}},qGe=()=>{localStorage.removeItem(R$)};function I$(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Dp=I$();function Vce(e){Dp=e}const Wx={exec:()=>null};function ln(e,t=""){let r=typeof e=="string"?e:e.source;const n={replace:(i,s)=>{let a=typeof s=="string"?s:s.source;return a=a.replace(Rs.caret,"$1"),r=r.replace(i,a),n},getRegex:()=>new RegExp(r,t)};return n}const Rs={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},YGe=/^(?:[ \t]*(?:\n|$))+/,KGe=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,ZGe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,vw=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,XGe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,M$=/(?:[*+-]|\d{1,9}[.)])/,Wce=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Gce=ln(Wce).replace(/bull/g,M$).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),JGe=ln(Wce).replace(/bull/g,M$).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),P$=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,QGe=/^[^\n]+/,L$=/(?!\s*\])(?:\\.|[^\[\]\\])+/,eqe=ln(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",L$).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),tqe=ln(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,M$).getRegex(),g2="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",D$=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,rqe=ln("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",D$).replace("tag",g2).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),qce=ln(P$).replace("hr",vw).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",g2).getRegex(),nqe=ln(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",qce).getRegex(),O$={blockquote:nqe,code:KGe,def:eqe,fences:ZGe,heading:XGe,hr:vw,html:rqe,lheading:Gce,list:tqe,newline:YGe,paragraph:qce,table:Wx,text:QGe},gq=ln("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",vw).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",g2).getRegex(),iqe={...O$,lheading:JGe,table:gq,paragraph:ln(P$).replace("hr",vw).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",gq).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",g2).getRegex()},sqe={...O$,html:ln(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",D$).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Wx,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ln(P$).replace("hr",vw).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Gce).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},aqe=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,oqe=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Yce=/^( {2,}|\\)\n(?!\s*$)/,lqe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,m2=/[\p{P}\p{S}]/u,$$=/[\s\p{P}\p{S}]/u,Kce=/[^\s\p{P}\p{S}]/u,cqe=ln(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,$$).getRegex(),Zce=/(?!~)[\p{P}\p{S}]/u,uqe=/(?!~)[\s\p{P}\p{S}]/u,dqe=/(?:[^\s\p{P}\p{S}]|~)/u,hqe=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Xce=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,fqe=ln(Xce,"u").replace(/punct/g,m2).getRegex(),pqe=ln(Xce,"u").replace(/punct/g,Zce).getRegex(),Jce="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",gqe=ln(Jce,"gu").replace(/notPunctSpace/g,Kce).replace(/punctSpace/g,$$).replace(/punct/g,m2).getRegex(),mqe=ln(Jce,"gu").replace(/notPunctSpace/g,dqe).replace(/punctSpace/g,uqe).replace(/punct/g,Zce).getRegex(),vqe=ln("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Kce).replace(/punctSpace/g,$$).replace(/punct/g,m2).getRegex(),yqe=ln(/\\(punct)/,"gu").replace(/punct/g,m2).getRegex(),xqe=ln(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),_qe=ln(D$).replace("(?:-->|$)","-->").getRegex(),bqe=ln("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",_qe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),rT=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,wqe=ln(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",rT).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Qce=ln(/^!?\[(label)\]\[(ref)\]/).replace("label",rT).replace("ref",L$).getRegex(),eue=ln(/^!?\[(ref)\](?:\[\])?/).replace("ref",L$).getRegex(),Sqe=ln("reflink|nolink(?!\\()","g").replace("reflink",Qce).replace("nolink",eue).getRegex(),B$={_backpedal:Wx,anyPunctuation:yqe,autolink:xqe,blockSkip:hqe,br:Yce,code:oqe,del:Wx,emStrongLDelim:fqe,emStrongRDelimAst:gqe,emStrongRDelimUnd:vqe,escape:aqe,link:wqe,nolink:eue,punctuation:cqe,reflink:Qce,reflinkSearch:Sqe,tag:bqe,text:lqe,url:Wx},Cqe={...B$,link:ln(/^!?\[(label)\]\((.*?)\)/).replace("label",rT).getRegex(),reflink:ln(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",rT).getRegex()},PD={...B$,emStrongRDelimAst:mqe,emStrongLDelim:pqe,url:ln(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},kqe={...PD,br:ln(Yce).replace("{2,}","*").getRegex(),text:ln(PD.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},VS={normal:O$,gfm:iqe,pedantic:sqe},jy={normal:B$,gfm:PD,breaks:kqe,pedantic:Cqe},Eqe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},mq=e=>Eqe[e];function Al(e,t){if(t){if(Rs.escapeTest.test(e))return e.replace(Rs.escapeReplace,mq)}else if(Rs.escapeTestNoEncode.test(e))return e.replace(Rs.escapeReplaceNoEncode,mq);return e}function vq(e){try{e=encodeURI(e).replace(Rs.percentDecode,"%")}catch{return null}return e}function yq(e,t){var s;const r=e.replace(Rs.findPipe,(a,o,l)=>{let c=!1,d=o;for(;--d>=0&&l[d]==="\\";)c=!c;return c?"|":" |"}),n=r.split(Rs.splitPipe);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!((s=n.at(-1))!=null&&s.trim())&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(Rs.slashPipe,"|");return n}function Ry(e,t,r){const n=e.length;if(n===0)return"";let i=0;for(;i<n&&e.charAt(n-i-1)===t;)i++;return e.slice(0,n-i)}function Tqe(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return-1}function xq(e,t,r,n,i){const s=t.href,a=t.title||null,o=e[1].replace(i.other.outputLinkReplace,"$1");if(e[0].charAt(0)!=="!"){n.state.inLink=!0;const l={type:"link",raw:r,href:s,title:a,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,l}return{type:"image",raw:r,href:s,title:a,text:o}}function Nqe(e,t,r){const n=e.match(r.other.indentCodeCompensation);if(n===null)return t;const i=n[1];return t.split(`
`).map(s=>{const a=s.match(r.other.beginningSpace);if(a===null)return s;const[o]=a;return o.length>=i.length?s.slice(i.length):s}).join(`
`)}class nT{constructor(t){xn(this,"options");xn(this,"rules");xn(this,"lexer");this.options=t||Dp}space(t){const r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){const r=this.rules.block.code.exec(t);if(r){const n=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Ry(n,`
`)}}}fences(t){const r=this.rules.block.fences.exec(t);if(r){const n=r[0],i=Nqe(n,r[3]||"",this.rules);return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:i}}}heading(t){const r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(this.rules.other.endingHash.test(n)){const i=Ry(n,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(n=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:Ry(r[0],`
`)}}blockquote(t){const r=this.rules.block.blockquote.exec(t);if(r){let n=Ry(r[0],`
`).split(`
`),i="",s="";const a=[];for(;n.length>0;){let o=!1;const l=[];let c;for(c=0;c<n.length;c++)if(this.rules.other.blockquoteStart.test(n[c]))l.push(n[c]),o=!0;else if(!o)l.push(n[c]);else break;n=n.slice(c);const d=l.join(`
`),h=d.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${d}`:d,s=s?`${s}
${h}`:h;const f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,a,!0),this.lexer.state.top=f,n.length===0)break;const p=a.at(-1);if((p==null?void 0:p.type)==="code")break;if((p==null?void 0:p.type)==="blockquote"){const g=p,v=g.raw+`
`+n.join(`
`),m=this.blockquote(v);a[a.length-1]=m,i=i.substring(0,i.length-g.raw.length)+m.raw,s=s.substring(0,s.length-g.text.length)+m.text;break}else if((p==null?void 0:p.type)==="list"){const g=p,v=g.raw+`
`+n.join(`
`),m=this.list(v);a[a.length-1]=m,i=i.substring(0,i.length-p.raw.length)+m.raw,s=s.substring(0,s.length-g.raw.length)+m.raw,n=v.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:a,text:s}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim();const i=n.length>1,s={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");const a=this.rules.other.listItemRegex(n);let o=!1;for(;t;){let c=!1,d="",h="";if(!(r=a.exec(t))||this.rules.block.hr.test(t))break;d=r[0],t=t.substring(d.length);let f=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,x=>" ".repeat(3*x.length)),p=t.split(`
`,1)[0],g=!f.trim(),v=0;if(this.options.pedantic?(v=2,h=f.trimStart()):g?v=r[1].length+1:(v=r[2].search(this.rules.other.nonSpaceChar),v=v>4?1:v,h=f.slice(v),v+=r[1].length),g&&this.rules.other.blankLine.test(p)&&(d+=p+`
`,t=t.substring(p.length+1),c=!0),!c){const x=this.rules.other.nextBulletRegex(v),_=this.rules.other.hrRegex(v),b=this.rules.other.fencesBeginRegex(v),w=this.rules.other.headingBeginRegex(v),S=this.rules.other.htmlBeginRegex(v);for(;t;){const k=t.split(`
`,1)[0];let C;if(p=k,this.options.pedantic?(p=p.replace(this.rules.other.listReplaceNesting,"  "),C=p):C=p.replace(this.rules.other.tabCharGlobal,"    "),b.test(p)||w.test(p)||S.test(p)||x.test(p)||_.test(p))break;if(C.search(this.rules.other.nonSpaceChar)>=v||!p.trim())h+=`
`+C.slice(v);else{if(g||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||b.test(f)||w.test(f)||_.test(f))break;h+=`
`+p}!g&&!p.trim()&&(g=!0),d+=k+`
`,t=t.substring(k.length+1),f=C.slice(v)}}s.loose||(o?s.loose=!0:this.rules.other.doubleBlankLine.test(d)&&(o=!0));let m=null,y;this.options.gfm&&(m=this.rules.other.listIsTask.exec(h),m&&(y=m[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:d,task:!!m,checked:y,loose:!1,text:h,tokens:[]}),s.raw+=d}const l=s.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let c=0;c<s.items.length;c++)if(this.lexer.state.top=!1,s.items[c].tokens=this.lexer.blockTokens(s.items[c].text,[]),!s.loose){const d=s.items[c].tokens.filter(f=>f.type==="space"),h=d.length>0&&d.some(f=>this.rules.other.anyLine.test(f.raw));s.loose=h}if(s.loose)for(let c=0;c<s.items.length;c++)s.items[c].loose=!0;return s}}html(t){const r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(t){const r=this.rules.block.def.exec(t);if(r){const n=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:i,title:s}}}table(t){var o;const r=this.rules.block.table.exec(t);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;const n=yq(r[1]),i=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(o=r[3])!=null&&o.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===i.length){for(const l of i)this.rules.other.tableAlignRight.test(l)?a.align.push("right"):this.rules.other.tableAlignCenter.test(l)?a.align.push("center"):this.rules.other.tableAlignLeft.test(l)?a.align.push("left"):a.align.push(null);for(let l=0;l<n.length;l++)a.header.push({text:n[l],tokens:this.lexer.inline(n[l]),header:!0,align:a.align[l]});for(const l of s)a.rows.push(yq(l,a.header.length).map((c,d)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:a.align[d]})));return a}}lheading(t){const r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){const r=this.rules.block.paragraph.exec(t);if(r){const n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){const r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(t){const r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){const r=this.rules.inline.link.exec(t);if(r){const n=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const a=Ry(n.slice(0,-1),"\\");if((n.length-a.length)%2===0)return}else{const a=Tqe(r[2],"()");if(a>-1){const l=(r[0].indexOf("!")===0?5:4)+r[1].length+a;r[2]=r[2].substring(0,a),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let i=r[2],s="";if(this.options.pedantic){const a=this.rules.other.pedanticHrefTitle.exec(i);a&&(i=a[1],s=a[3])}else s=r[3]?r[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?i=i.slice(1):i=i.slice(1,-1)),xq(r,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){const i=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=r[i.toLowerCase()];if(!s){const a=n[0].charAt(0);return{type:"text",raw:a,text:a}}return xq(n,s,n[0],this.lexer,this.rules)}}emStrong(t,r,n=""){let i=this.rules.inline.emStrongLDelim.exec(t);if(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(i[1]||i[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const a=[...i[0]].length-1;let o,l,c=a,d=0;const h=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,r=r.slice(-1*t.length+a);(i=h.exec(r))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(l=[...o].length,i[3]||i[4]){c+=l;continue}else if((i[5]||i[6])&&a%3&&!((a+l)%3)){d+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+d);const f=[...i[0]][0].length,p=t.slice(0,a+i.index+f+l);if(Math.min(a,l)%2){const v=p.slice(1,-1);return{type:"em",raw:p,text:v,tokens:this.lexer.inlineTokens(v)}}const g=p.slice(2,-2);return{type:"strong",raw:p,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(t){const r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(this.rules.other.newLineCharGlobal," ");const i=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return i&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:r[0],text:n}}}br(t){const r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){const r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){const r=this.rules.inline.autolink.exec(t);if(r){let n,i;return r[2]==="@"?(n=r[1],i="mailto:"+n):(n=r[1],i=n),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let r;if(r=this.rules.inline.url.exec(t)){let i,s;if(r[2]==="@")i=r[0],s="mailto:"+i;else{let a;do a=r[0],r[0]=((n=this.rules.inline._backpedal.exec(r[0]))==null?void 0:n[0])??"";while(a!==r[0]);i=r[0],r[1]==="www."?s="http://"+r[0]:s=r[0]}return{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(t){const r=this.rules.inline.text.exec(t);if(r){const n=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:n}}}}class po{constructor(t){xn(this,"tokens");xn(this,"options");xn(this,"state");xn(this,"tokenizer");xn(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Dp,this.options.tokenizer=this.options.tokenizer||new nT,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={other:Rs,block:VS.normal,inline:jy.normal};this.options.pedantic?(r.block=VS.pedantic,r.inline=jy.pedantic):this.options.gfm&&(r.block=VS.gfm,this.options.breaks?r.inline=jy.breaks:r.inline=jy.gfm),this.tokenizer.rules=r}static get rules(){return{block:VS,inline:jy}}static lex(t,r){return new po(r).lex(t)}static lexInline(t,r){return new po(r).inlineTokens(t)}lex(t){t=t.replace(Rs.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){const n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){var i,s,a;for(this.options.pedantic&&(t=t.replace(Rs.tabCharGlobal,"    ").replace(Rs.spaceLine,""));t;){let o;if((s=(i=this.options.extensions)==null?void 0:i.block)!=null&&s.some(c=>(o=c.call({lexer:this},t,r))?(t=t.substring(o.raw.length),r.push(o),!0):!1))continue;if(o=this.tokenizer.space(t)){t=t.substring(o.raw.length);const c=r.at(-1);o.raw.length===1&&c!==void 0?c.raw+=`
`:r.push(o);continue}if(o=this.tokenizer.code(t)){t=t.substring(o.raw.length);const c=r.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+o.raw,c.text+=`
`+o.text,this.inlineQueue.at(-1).src=c.text):r.push(o);continue}if(o=this.tokenizer.fences(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.heading(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.hr(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.blockquote(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.list(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.html(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.def(t)){t=t.substring(o.raw.length);const c=r.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+o.raw,c.text+=`
`+o.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.lheading(t)){t=t.substring(o.raw.length),r.push(o);continue}let l=t;if((a=this.options.extensions)!=null&&a.startBlock){let c=1/0;const d=t.slice(1);let h;this.options.extensions.startBlock.forEach(f=>{h=f.call({lexer:this},d),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(l=t.substring(0,c+1))}if(this.state.top&&(o=this.tokenizer.paragraph(l))){const c=r.at(-1);n&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=`
`+o.raw,c.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):r.push(o),n=l.length!==t.length,t=t.substring(o.raw.length);continue}if(o=this.tokenizer.text(t)){t=t.substring(o.raw.length);const c=r.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=`
`+o.raw,c.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):r.push(o);continue}if(t){const c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){var o,l,c;let n=t,i=null;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)d.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,a="";for(;t;){s||(a=""),s=!1;let d;if((l=(o=this.options.extensions)==null?void 0:o.inline)!=null&&l.some(f=>(d=f.call({lexer:this},t,r))?(t=t.substring(d.raw.length),r.push(d),!0):!1))continue;if(d=this.tokenizer.escape(t)){t=t.substring(d.raw.length),r.push(d);continue}if(d=this.tokenizer.tag(t)){t=t.substring(d.raw.length),r.push(d);continue}if(d=this.tokenizer.link(t)){t=t.substring(d.raw.length),r.push(d);continue}if(d=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(d.raw.length);const f=r.at(-1);d.type==="text"&&(f==null?void 0:f.type)==="text"?(f.raw+=d.raw,f.text+=d.text):r.push(d);continue}if(d=this.tokenizer.emStrong(t,n,a)){t=t.substring(d.raw.length),r.push(d);continue}if(d=this.tokenizer.codespan(t)){t=t.substring(d.raw.length),r.push(d);continue}if(d=this.tokenizer.br(t)){t=t.substring(d.raw.length),r.push(d);continue}if(d=this.tokenizer.del(t)){t=t.substring(d.raw.length),r.push(d);continue}if(d=this.tokenizer.autolink(t)){t=t.substring(d.raw.length),r.push(d);continue}if(!this.state.inLink&&(d=this.tokenizer.url(t))){t=t.substring(d.raw.length),r.push(d);continue}let h=t;if((c=this.options.extensions)!=null&&c.startInline){let f=1/0;const p=t.slice(1);let g;this.options.extensions.startInline.forEach(v=>{g=v.call({lexer:this},p),typeof g=="number"&&g>=0&&(f=Math.min(f,g))}),f<1/0&&f>=0&&(h=t.substring(0,f+1))}if(d=this.tokenizer.inlineText(h)){t=t.substring(d.raw.length),d.raw.slice(-1)!=="_"&&(a=d.raw.slice(-1)),s=!0;const f=r.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=d.raw,f.text+=d.text):r.push(d);continue}if(t){const f="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return r}}class iT{constructor(t){xn(this,"options");xn(this,"parser");this.options=t||Dp}space(t){return""}code({text:t,lang:r,escaped:n}){var a;const i=(a=(r||"").match(Rs.notSpaceStart))==null?void 0:a[0],s=t.replace(Rs.endingNewline,"")+`
`;return i?'<pre><code class="language-'+Al(i)+'">'+(n?s:Al(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:Al(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:r}){return`<h${r}>${this.parser.parseInline(t)}</h${r}>
`}hr(t){return`<hr>
`}list(t){const r=t.ordered,n=t.start;let i="";for(let o=0;o<t.items.length;o++){const l=t.items[o];i+=this.listitem(l)}const s=r?"ol":"ul",a=r&&n!==1?' start="'+n+'"':"";return"<"+s+a+`>
`+i+"</"+s+`>
`}listitem(t){var n;let r="";if(t.task){const i=this.checkbox({checked:!!t.checked});t.loose?((n=t.tokens[0])==null?void 0:n.type)==="paragraph"?(t.tokens[0].text=i+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=i+" "+Al(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):r+=i+" "}return r+=this.parser.parse(t.tokens,!!t.loose),`<li>${r}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let r="",n="";for(let s=0;s<t.header.length;s++)n+=this.tablecell(t.header[s]);r+=this.tablerow({text:n});let i="";for(let s=0;s<t.rows.length;s++){const a=t.rows[s];n="";for(let o=0;o<a.length;o++)n+=this.tablecell(a[o]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+i+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){const r=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${Al(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:r,tokens:n}){const i=this.parser.parseInline(n),s=vq(t);if(s===null)return i;t=s;let a='<a href="'+t+'"';return r&&(a+=' title="'+Al(r)+'"'),a+=">"+i+"</a>",a}image({href:t,title:r,text:n}){const i=vq(t);if(i===null)return Al(n);t=i;let s=`<img src="${t}" alt="${n}"`;return r&&(s+=` title="${Al(r)}"`),s+=">",s}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:Al(t.text)}}class F${strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}}class go{constructor(t){xn(this,"options");xn(this,"renderer");xn(this,"textRenderer");this.options=t||Dp,this.options.renderer=this.options.renderer||new iT,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new F$}static parse(t,r){return new go(r).parse(t)}static parseInline(t,r){return new go(r).parseInline(t)}parse(t,r=!0){var i,s;let n="";for(let a=0;a<t.length;a++){const o=t[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){const c=o,d=this.options.extensions.renderers[c.type].call({parser:this},c);if(d!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){n+=d||"";continue}}const l=o;switch(l.type){case"space":{n+=this.renderer.space(l);continue}case"hr":{n+=this.renderer.hr(l);continue}case"heading":{n+=this.renderer.heading(l);continue}case"code":{n+=this.renderer.code(l);continue}case"table":{n+=this.renderer.table(l);continue}case"blockquote":{n+=this.renderer.blockquote(l);continue}case"list":{n+=this.renderer.list(l);continue}case"html":{n+=this.renderer.html(l);continue}case"paragraph":{n+=this.renderer.paragraph(l);continue}case"text":{let c=l,d=this.renderer.text(c);for(;a+1<t.length&&t[a+1].type==="text";)c=t[++a],d+=`
`+this.renderer.text(c);r?n+=this.renderer.paragraph({type:"paragraph",raw:d,text:d,tokens:[{type:"text",raw:d,text:d,escaped:!0}]}):n+=d;continue}default:{const c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return n}parseInline(t,r=this.renderer){var i,s;let n="";for(let a=0;a<t.length;a++){const o=t[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){const c=this.options.extensions.renderers[o.type].call({parser:this},o);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=c||"";continue}}const l=o;switch(l.type){case"escape":{n+=r.text(l);break}case"html":{n+=r.html(l);break}case"link":{n+=r.link(l);break}case"image":{n+=r.image(l);break}case"strong":{n+=r.strong(l);break}case"em":{n+=r.em(l);break}case"codespan":{n+=r.codespan(l);break}case"br":{n+=r.br(l);break}case"del":{n+=r.del(l);break}case"text":{n+=r.text(l);break}default:{const c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return n}}class Gx{constructor(t){xn(this,"options");xn(this,"block");this.options=t||Dp}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?po.lex:po.lexInline}provideParser(){return this.block?go.parse:go.parseInline}}xn(Gx,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class Aqe{constructor(...t){xn(this,"defaults",I$());xn(this,"options",this.setOptions);xn(this,"parse",this.parseMarkdown(!0));xn(this,"parseInline",this.parseMarkdown(!1));xn(this,"Parser",go);xn(this,"Renderer",iT);xn(this,"TextRenderer",F$);xn(this,"Lexer",po);xn(this,"Tokenizer",nT);xn(this,"Hooks",Gx);this.use(...t)}walkTokens(t,r){var i,s;let n=[];for(const a of t)switch(n=n.concat(r.call(this,a)),a.type){case"table":{const o=a;for(const l of o.header)n=n.concat(this.walkTokens(l.tokens,r));for(const l of o.rows)for(const c of l)n=n.concat(this.walkTokens(c.tokens,r));break}case"list":{const o=a;n=n.concat(this.walkTokens(o.items,r));break}default:{const o=a;(s=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&s[o.type]?this.defaults.extensions.childTokens[o.type].forEach(l=>{const c=o[l].flat(1/0);n=n.concat(this.walkTokens(c,r))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,r)))}}return n}use(...t){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const a=r.renderers[s.name];a?r.renderers[s.name]=function(...o){let l=s.renderer.apply(this,o);return l===!1&&(l=a.apply(this,o)),l}:r.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const a=r[s.level];a?a.unshift(s.tokenizer):r[s.level]=[s.tokenizer],s.start&&(s.level==="block"?r.startBlock?r.startBlock.push(s.start):r.startBlock=[s.start]:s.level==="inline"&&(r.startInline?r.startInline.push(s.start):r.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(r.childTokens[s.name]=s.childTokens)}),i.extensions=r),n.renderer){const s=this.defaults.renderer||new iT(this.defaults);for(const a in n.renderer){if(!(a in s))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;const o=a,l=n.renderer[o],c=s[o];s[o]=(...d)=>{let h=l.apply(s,d);return h===!1&&(h=c.apply(s,d)),h||""}}i.renderer=s}if(n.tokenizer){const s=this.defaults.tokenizer||new nT(this.defaults);for(const a in n.tokenizer){if(!(a in s))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;const o=a,l=n.tokenizer[o],c=s[o];s[o]=(...d)=>{let h=l.apply(s,d);return h===!1&&(h=c.apply(s,d)),h}}i.tokenizer=s}if(n.hooks){const s=this.defaults.hooks||new Gx;for(const a in n.hooks){if(!(a in s))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;const o=a,l=n.hooks[o],c=s[o];Gx.passThroughHooks.has(a)?s[o]=d=>{if(this.defaults.async)return Promise.resolve(l.call(s,d)).then(f=>c.call(s,f));const h=l.call(s,d);return c.call(s,h)}:s[o]=(...d)=>{let h=l.apply(s,d);return h===!1&&(h=c.apply(s,d)),h}}i.hooks=s}if(n.walkTokens){const s=this.defaults.walkTokens,a=n.walkTokens;i.walkTokens=function(o){let l=[];return l.push(a.call(this,o)),s&&(l=l.concat(s.call(this,o))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return po.lex(t,r??this.defaults)}parser(t,r){return go.parse(t,r??this.defaults)}parseMarkdown(t){return(n,i)=>{const s={...i},a={...this.defaults,...s},o=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&s.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));a.hooks&&(a.hooks.options=a,a.hooks.block=t);const l=a.hooks?a.hooks.provideLexer():t?po.lex:po.lexInline,c=a.hooks?a.hooks.provideParser():t?go.parse:go.parseInline;if(a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(n):n).then(d=>l(d,a)).then(d=>a.hooks?a.hooks.processAllTokens(d):d).then(d=>a.walkTokens?Promise.all(this.walkTokens(d,a.walkTokens)).then(()=>d):d).then(d=>c(d,a)).then(d=>a.hooks?a.hooks.postprocess(d):d).catch(o);try{a.hooks&&(n=a.hooks.preprocess(n));let d=l(n,a);a.hooks&&(d=a.hooks.processAllTokens(d)),a.walkTokens&&this.walkTokens(d,a.walkTokens);let h=c(d,a);return a.hooks&&(h=a.hooks.postprocess(h)),h}catch(d){return o(d)}}}onError(t,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const i="<p>An error occurred:</p><pre>"+Al(n.message+"",!0)+"</pre>";return r?Promise.resolve(i):i}if(r)return Promise.reject(n);throw n}}}const fp=new Aqe;function un(e,t){return fp.parse(e,t)}un.options=un.setOptions=function(e){return fp.setOptions(e),un.defaults=fp.defaults,Vce(un.defaults),un};un.getDefaults=I$;un.defaults=Dp;un.use=function(...e){return fp.use(...e),un.defaults=fp.defaults,Vce(un.defaults),un};un.walkTokens=function(e,t){return fp.walkTokens(e,t)};un.parseInline=fp.parseInline;un.Parser=go;un.parser=go.parse;un.Renderer=iT;un.TextRenderer=F$;un.Lexer=po;un.lexer=po.lex;un.Tokenizer=nT;un.Hooks=Gx;un.parse=un;un.options;un.setOptions;un.use;un.walkTokens;un.parseInline;go.parse;po.lex;const _q={parse:e=>{try{return un.parse(e)}catch(t){return console.error("Markdown解析错误:",t),`<p>Markdown解析错误: ${t instanceof Error?t.message:String(t)}</p>`}}},jqe=()=>{const[e,t]=A.useState({nodes:[],links:[]}),[r,n]=A.useState([]),[i,s]=A.useState(null),[a,o]=A.useState(null),[l,c]=A.useState(null),[d,h]=A.useState([]),[f,p]=A.useState([]),[g,v]=A.useState(!0),[m,y]=A.useState(null),[x,_]=A.useState("topology"),[b,w]=A.useState(null),[S,k]=A.useState(()=>localStorage.getItem("lldp_enabled")!=="false"),[C,E]=A.useState(null),[T,N]=A.useState(!1),R=A.useRef(null),[P,D]=A.useState({showClient:!0,showTor:!0,showLeaf:!0,showSpine:!0}),[$,L]=A.useState(localStorage.getItem("datasource_prometheus_enabled")!=="false"),[O,j]=A.useState(""),[M,I]=A.useState(null),[z,U]=A.useState(!1),[F,G]=A.useState(null);A.useEffect(()=>{(async()=>{try{const ne=await VGe();ne&&(console.log("加载保存的网络状态:",ne),ne.selectedDevice!==void 0&&o(ne.selectedDevice),ne.selectedPod!==void 0&&s(ne.selectedPod),ne.activeTab&&_(ne.activeTab),ne.viewMode&&D(ne.viewMode),ne.lldpEnabled!==void 0&&(k(ne.lldpEnabled),localStorage.setItem("lldp_enabled",ne.lldpEnabled.toString())))}catch(ne){console.error("加载保存的状态出错:",ne)}})()},[]),A.useEffect(()=>{if(g)return;const ne=setTimeout(async()=>{const de={selectedDevice:a,selectedPod:i,activeTab:x,viewMode:P,lldpEnabled:S};console.log("保存网络状态:",de);try{await HGe(de)||MD(de)}catch($e){console.error("保存状态出错:",$e),MD(de)}},1e3);return()=>clearTimeout(ne)},[a,i,x,P,S,g]);const Y=J=>{_(J)},Z=J=>{D(J)},B=async J=>{let ne=0;const de=3;if(!(localStorage.getItem("datasource_prometheus_enabled")!=="false"))return console.log("Prometheus数据源已禁用，跳过查询"),w("Prometheus数据源已禁用，正在使用模拟数据"),[];const ze=localStorage.getItem("datasource_prometheus")||"";if(!ze&&!window.location.origin.includes("localhost"))return y("Prometheus URL未配置，请先在数据源配置页面设置Prometheus地址"),[];const ke=J.trim();if(!ke)return console.error("查询参数为空，无法执行"),y("查询参数无效: 为空"),[];const Et=ke.includes("job=")?"job查询":ke.includes("interface")?"接口状态查询":"其他类型查询";for(console.log(`查询类型: ${Et}`);ne<=de;){let wt="",sr=!1;try{if(console.log(`正在从Prometheus获取数据，查询: ${ke} (尝试 ${ne+1}/${de+1})`),console.log(`当前应用端口: ${window.location.port}`),ze)if(!ze.startsWith(window.location.origin)&&ne>0)sr=!0,wt=`${window.location.origin}/prometheus/api/v1/query`,console.log(`切换到代理请求URL: ${wt} (重试 ${ne})`);else{let Xe=ze.trim();!Xe.startsWith("http://")&&!Xe.startsWith("https://")&&(Xe=`http://${Xe}`,console.log(`URL格式不完整，已自动添加协议: ${Xe}`)),wt=Xe.endsWith("/")?`${Xe}api/v1/query`:`${Xe}/api/v1/query`,console.log(`使用配置的Prometheus URL: ${wt}`)}else sr=!0,wt=`${window.location.origin}/prometheus/api/v1/query`,console.log(`使用代理请求URL: ${wt}`);console.log(`查询参数: query=${encodeURIComponent(ke)}`);const St=new Date().getTime(),Dt={method:"get",url:wt,params:{query:ke,time:St},timeout:15e3,headers:{Accept:"application/json","Cache-Control":"no-cache"}};sr&&(Dt.withCredentials=!1),console.log(`开始发送请求到: ${wt}，参数: query=${ke}`);const Jr=await Nt(Dt);if(console.log("Prometheus响应状态:",Jr.status),console.log("Prometheus响应数据类型:",typeof Jr.data),Jr.status===200)if(Jr.data&&Jr.data.status==="success"){const Ti=Jr.data.data.result?Jr.data.data.result.length:0;return console.log(`成功从Prometheus获取数据, 返回${Ti}条记录`),y(null),Ti===0&&(console.warn(`查询 ${Et}(${ke}) 未返回任何结果`),(ke.includes('job="prometheus"')||ke.includes('job="gnmic"'))&&console.warn("关键的job查询未返回结果，这可能表明Prometheus中没有这些指标")),Jr.data.data.result||[]}else{console.error("Prometheus响应成功但数据格式不正确:",Jr.data);const Ti=Jr.data&&Jr.data.error?`Prometheus错误: ${Jr.data.error}`:`格式错误: ${JSON.stringify(Jr.data).substring(0,100)}`;throw new Error(Ti)}throw console.error("Prometheus返回非200状态:",Jr.status,Jr.statusText),new Error(`Prometheus返回错误状态码: ${Jr.status}`)}catch(St){ne++,console.error(`从Prometheus获取数据失败 (尝试 ${ne}/${de+1})，详细错误:`,St);let Dt="未知错误",Jr=!1;if(Nt.isAxiosError(St))if(St.code==="ECONNABORTED"){if(Dt="请求超时，Prometheus服务器响应过慢",ne<=de){console.log(`请求超时，${1e3*ne}ms后重试...`),await new Promise(Xe=>setTimeout(Xe,1e3*ne));continue}}else if(St.code==="ERR_NETWORK"){if(Dt=`网络错误，可能是CORS限制或Prometheus服务器地址(${ze})无法直接访问`,ne<=de){console.log(`网络错误，${1e3*ne}ms后通过代理重试...`),await new Promise(Xe=>setTimeout(Xe,1e3*ne));continue}}else if(St.response){const Xe=St.response.status;if(Xe===500){if(Dt="服务器内部错误 (500)",St.response.data&&(typeof St.response.data=="string"?Dt+=`: ${St.response.data.substring(0,100)}`:St.response.data.error&&(Dt+=`: ${St.response.data.error}`)),ke.includes("=")&&!ke.includes('"')&&!ke.includes("'")){console.log("检测到可能的查询语法问题，尝试修复查询...");const ae=ke.replace(/([a-zA-Z0-9_]+)=([a-zA-Z0-9_]+)/g,'$1="$2"');if(ae!==ke){console.log(`原始查询: ${ke}`),console.log(`修复后的查询: ${ae}`);try{const _e={method:"get",url:wt,params:{query:ae,time:new Date().getTime()},timeout:15e3,headers:{Accept:"application/json","Cache-Control":"no-cache"}};sr&&(_e.withCredentials=!1);const Ue=await Nt(_e);if(Ue.status===200&&Ue.data&&Ue.data.status==="success")return console.log("✅ 使用修复后的查询成功获取数据!"),y(null),Ue.data.data.result||[]}catch(_e){console.error("修复查询后仍然失败:",_e)}}}if(ne<=de&&ke.includes('job="gnmic"')){console.log("尝试切换为prometheus作为job名...");const ae=ke.replace('job="gnmic"','job="prometheus"');try{const _e={method:"get",url:wt,params:{query:ae,time:new Date().getTime()},timeout:15e3,headers:{Accept:"application/json","Cache-Control":"no-cache"}};sr&&(_e.withCredentials=!1);const Ue=await Nt(_e);if(Ue.status===200&&Ue.data&&Ue.data.status==="success")return console.log("✅ 使用新job名成功获取数据!"),y(null),Ue.data.data.result||[]}catch(_e){console.error("切换job名后仍然失败:",_e)}}}else Xe===400?(Dt="请求错误 (400): 可能是查询语法有误",St.response.data&&St.response.data.error&&(Dt+=` - ${St.response.data.error}`)):Xe===404?(Dt="API端点未找到 (404): 请检查URL是否正确",Jr=!0):Dt=`服务器错误: ${Xe} ${St.response.statusText}`}else if(St.request){if(Dt="没有收到Prometheus响应，请检查网络连接",ne<=de){console.log(`请求未得到响应，${1e3*ne}ms后通过代理重试...`),await new Promise(Xe=>setTimeout(Xe,1e3*ne));continue}}else Dt=`请求错误: ${St.message}`;else St instanceof Error&&(Dt=St.message);if(Jr&&ne<=de){console.log("错误类型需要立即重试...");continue}const Ti=Nt.isAxiosError(St)&&(St.code==="ECONNABORTED"||St.code==="ERR_NETWORK"||!St.response);if(ne>de||!Ti&&!Jr){if(ze){let Xe="";Dt.includes("500")?Xe=`请尝试以下解决方案:
              1. 检查Prometheus服务是否正常运行
              2. 在浏览器直接访问 ${ze} 验证服务是否响应
              3. 查看服务器日志检查错误原因
              4. 确认查询语法 '${ke}' 是否正确
              5. 尝试修改数据源配置URL，确保不包含错误的路径前缀`:(Dt.includes("CORS")||Dt.includes("网络错误"))&&(Xe=`请确认Prometheus服务器已配置允许跨域请求:
              在Prometheus配置文件中添加以下内容:
              --web.cors.origin=".*" --web.enable-cors 
              或者在您的代理服务器中添加适当的CORS头`),y(`无法从Prometheus获取数据 (${Et}): ${Dt}
                     ${Xe}`)}else y(`无法从Prometheus获取数据: ${Dt}。请在数据源配置页面设置正确的Prometheus地址`);return[]}}}return[]},W=()=>{const J=!S;k(J),localStorage.setItem("lldp_enabled",J.toString()),J?re():C?X(C):t(Ee())},K=J=>{var de;const ne=(de=J.target.files)==null?void 0:de[0];ne&&(E(ne),X(ne))},X=async J=>{N(!0),w("正在解析YAML文件...");try{const ne=await Q(J),de=SHe.load(ne);if(de&&de.topology){const{nodes:$e,links:ze}=de.topology;if(Array.isArray($e)&&Array.isArray(ze)){const ke=$e.map(wt=>({id:wt.id||`node-${Math.random().toString(36).substr(2,9)}`,name:wt.name||wt.id||"Unknown",type:wt.type||"client",status:wt.status||"up",ip:wt.ip})),Et=ze.map(wt=>({source:wt.source,target:wt.target,status:wt.status||"up",bandwidth:wt.bandwidth||"1G",utilization:typeof wt.utilization=="number"?wt.utilization:.1}));t({nodes:ke,links:Et}),w(`YAML文件解析成功：${ke.length}个节点，${Et.length}条链路`),y(null)}else throw new Error("YAML文件中缺少有效的nodes或links数组")}else throw new Error("无效的YAML格式，缺少topology对象")}catch(ne){console.error("YAML处理错误:",ne),y(`YAML文件解析失败: ${ne instanceof Error?ne.message:"未知错误"}`)}finally{N(!1)}},Q=J=>new Promise((ne,de)=>{const $e=new FileReader;$e.onload=ze=>{var ke;ne((ke=ze.target)==null?void 0:ke.result)},$e.onerror=ze=>{de(new Error("文件读取失败"))},$e.readAsText(J)}),re=async()=>{v(!0),y(null);try{if(!(localStorage.getItem("datasource_prometheus_enabled")!=="false")){console.log("Prometheus数据源已禁用，使用模拟数据"),t(Ee()),w("使用模拟数据（Prometheus数据源已禁用）"),v(!1);return}if(!localStorage.getItem("datasource_prometheus")&&!window.location.origin.includes("localhost")){y('Prometheus地址未配置，请先前往"数据源配置"页面设置Prometheus地址'),v(!1);return}const de=Ee();t(de),w("已成功获取拓扑数据")}catch(J){console.error("获取拓扑数据失败:",J),y(`获取拓扑数据失败: ${J instanceof Error?J.message:"未知错误"}`),t(Ee())}finally{v(!1)}};A.useEffect(()=>{if(!a||!e)return;const J=setTimeout(()=>{(async()=>{c(null),h([]),p([]);try{const de=e.nodes.find(Et=>Et.id===a);if(!de){y(`未找到ID为${a}的设备`),v(!1);return}console.log(`获取设备 ${de.name} 的详细信息`),w(`正在获取设备 ${de.name} 的详细信息...`);const $e=Ae(de);c($e);const ze=Lt($e);h(ze);const ke=zt($e);p(ke);try{if(!(localStorage.getItem("datasource_prometheus_enabled")!=="false")){console.log("Prometheus数据源已禁用，跳过后台数据获取");return}const wt=`{target="${de.name}"}`;console.log(`后台查询接口信息: ${wt}`),fetch(`${window.location.origin}/prometheus/api/v1/query?query=${encodeURIComponent(wt)}&time=${new Date().getTime()}`).then(sr=>sr.json()).then(sr=>{var St;if((sr==null?void 0:sr.status)==="success"){const Dt=((St=sr==null?void 0:sr.data)==null?void 0:St.result)||[];console.log(`获取到设备 ${de.name} 的接口数据: ${Dt.length}条`),Dt.length>0&&w(`成功获取设备 ${de.name} 的实时接口数据`)}}).catch(sr=>{console.log(`后台数据获取错误: ${sr.message}`)})}catch(Et){console.error("后台API请求错误:",Et)}w(`已加载设备 ${de.name} 的信息`)}catch(de){console.error(`获取设备${a}详情失败:`,de),y(`error for fetch device details: ${de instanceof Error?de.message:"未知错误"}`);const $e=e.nodes.find(ze=>ze.id===a);if($e){const ze=Ae($e);c(ze);const ke=Lt(ze);h(ke);const Et=zt(ze);p(Et),w(`使用备选模拟数据 (${de instanceof Error?de.message:"未知错误"})`)}}finally{v(!1)}})()},10);return()=>{clearTimeout(J)}},[a,e]);const Se=J=>{if(f.length){if(J==="csv"){const de=[["设备名","端口","方向","速率","利用率","状态"].join(","),...f.map(Et=>[Et.deviceName,Et.portName,Et.direction==="in"?"接收":Et.direction==="out"?"发送":"双向",`${ep(Et.bytesPerSecond)}/s`,`${(Et.utilization*100).toFixed(2)}%`,Et.isAbnormal?"异常":"正常"].join(","))].join(`
`),$e=new Blob([de],{type:"text/csv;charset=utf-8;"}),ze=URL.createObjectURL($e),ke=document.createElement("a");ke.href=ze,ke.setAttribute("download",`端口利用率_${new Date().toISOString()}.csv`),document.body.appendChild(ke),ke.click(),document.body.removeChild(ke)}else if(J==="excel"){const de=[["设备名","端口","方向","速率","利用率","状态"].join(","),...f.map(Et=>[Et.deviceName,Et.portName,Et.direction==="in"?"接收":Et.direction==="out"?"发送":"双向",`${ep(Et.bytesPerSecond)}/s`,`${(Et.utilization*100).toFixed(2)}%`,Et.isAbnormal?"异常":"正常"].join(","))].join(`
`),$e=new Blob([de],{type:"application/vnd.ms-excel"}),ze=URL.createObjectURL($e),ke=document.createElement("a");ke.href=ze,ke.setAttribute("download",`端口利用率_${new Date().toISOString()}.xls`),document.body.appendChild(ke),ke.click(),document.body.removeChild(ke)}}},Te=(J,ne)=>{if(l&&J===l.id){const de=new FileReader;de.onload=$e=>{var ke;const ze=(ke=$e.target)==null?void 0:ke.result;c({...l,panelImage:ze})},de.readAsDataURL(ne)}},Ie=(J,ne)=>{l&&J===l.id&&c({...l,ports:ne})},Me=J=>{const ne=d.find(de=>de.id===J);console.log("Port clicked:",ne)},Ee=()=>({nodes:[{id:"spine1",name:"spine1",type:"spine",status:"up",ip:"192.168.14.101"},{id:"spine2",name:"spine2",type:"spine",status:"up",ip:"192.168.14.102"},{id:"leaf1",name:"leaf1",type:"leaf",status:"up",ip:"192.168.14.111"},{id:"leaf2",name:"leaf2",type:"leaf",status:"up",ip:"192.168.14.112"},{id:"leaf3",name:"leaf3",type:"leaf",status:"up",ip:"192.168.14.113"},{id:"tor1",name:"tor1",type:"tor",status:"up",ip:"192.168.14.121"},{id:"tor2",name:"tor2",type:"tor",status:"up",ip:"192.168.14.122"},{id:"tor3",name:"tor3",type:"tor",status:"up",ip:"192.168.14.123"},{id:"nic1",name:"NIC Card 1",type:"client",status:"up",ip:"192.168.14.131"},{id:"nic2",name:"NIC Card 2",type:"client",status:"up",ip:"192.168.14.132"},{id:"nic3",name:"NIC Card 3",type:"client",status:"up",ip:"192.168.14.133"}],links:[{source:"spine1",target:"leaf1",status:"up",bandwidth:"100G",utilization:.35},{source:"spine1",target:"leaf2",status:"up",bandwidth:"100G",utilization:.42},{source:"spine1",target:"leaf3",status:"up",bandwidth:"100G",utilization:.28},{source:"spine2",target:"leaf1",status:"up",bandwidth:"100G",utilization:.22},{source:"spine2",target:"leaf2",status:"up",bandwidth:"100G",utilization:.18},{source:"spine2",target:"leaf3",status:"up",bandwidth:"100G",utilization:.31},{source:"leaf1",target:"tor1",status:"up",bandwidth:"40G",utilization:.65},{source:"leaf2",target:"tor2",status:"up",bandwidth:"40G",utilization:.58},{source:"leaf3",target:"tor3",status:"up",bandwidth:"40G",utilization:.42},{source:"tor1",target:"nic1",status:"up",bandwidth:"10G",utilization:.75},{source:"tor2",target:"nic2",status:"up",bandwidth:"10G",utilization:.82},{source:"tor3",target:"nic3",status:"up",bandwidth:"10G",utilization:.45}]}),Ae=J=>{let ne=[],de=0,$e="";switch(J.type){case"spine":de=32,$e="100G";break;case"leaf":de=24,$e="40G";break;case"tor":de=16,$e="25G";break;case"client":de=4,$e="10G";break}for(let ze=1;ze<=de;ze++){const ke=`Eth${ze}`;ne.push({id:`${J.id}-port-${ze}`,name:ke,x:ze%24*4+2,y:ze<=24?20:60,width:3,height:10,status:Math.random()>.9?"down":Math.random()>.8?"warning":"up",speed:$e})}return{id:J.id,name:J.name,type:J.type,status:J.status,ipAddress:J.ip||`192.168.14.${100+Math.floor(Math.random()*100)}`,model:`${J.type.toUpperCase()}-Nokia-SRL`,manufacturer:"Nokia",serialNumber:`SN-${J.name}-${Math.floor(Math.random()*1e4)}`,softwareVersion:"23.3.1",uptime:`${Math.floor(Math.random()*365)+1}天`,location:"数据中心A区",ports:ne}},Lt=J=>J.ports.map(ne=>{const de=ne.status==="up",$e=de?Math.random()*1e9:0,ze=de?Math.random()*70:void 0,ke=de?-8.4+Math.random()*10.8:void 0,Et=de?-10+Math.random()*12.4:void 0,wt=de?3+Math.random()*.5:void 0,sr=de?5+Math.random()*45:void 0;return{id:ne.id,name:ne.name,status:ne.status,speed:ne.speed||(J.type==="spine"?"100G":J.type==="leaf"?"40G":J.type==="tor"?"25G":"10G"),inOctets:$e*(.8+Math.random()*.4),outOctets:$e*(.7+Math.random()*.5),mtu:1500,inDiscards:de?Math.floor(Math.random()*10):0,outDiscards:de?Math.floor(Math.random()*8):0,inErrors:de?Math.floor(Math.random()*5):0,outErrors:de?Math.floor(Math.random()*3):0,vendor:de?["Cisco","Intel","Broadcom","Mellanox"][Math.floor(Math.random()*4)]:void 0,serialNumber:de?`SN-${Math.floor(Math.random()*1e7)}`:void 0,temperature:ze,voltage:wt,current:sr,txPower:ke,rxPower:Et,fcsErrors:de?Math.floor(Math.random()*3):0,flapCount:de?Math.floor(Math.random()*2):0}}),zt=J=>J.ports.map(ne=>{const de=ne.speed||(J.type==="spine"?"100G":J.type==="leaf"?"40G":J.type==="tor"?"25G":"10G"),$e=ge(de);let ze=0;ne.status==="up"&&(Math.random()<.1?ze=.8+Math.random()*.2:ze=Math.random()*.5);const ke=$e?$e/8*ze:0,Et=ze>.8&&J.ports.some(wt=>wt.id!==ne.id&&wt.status==="up"&&Math.random()<.7);return{portId:ne.id,portName:ne.name,deviceName:J.name,direction:Math.random()>.7?"both":Math.random()>.5?"in":"out",speed:de,bytesPerSecond:ke,utilization:ze,isAbnormal:Et}}),ge=J=>{try{const ne=J.match(/(\d+)([GMK])(?:bps)?/i);if(!ne)return null;const de=parseInt(ne[1],10);switch(ne[2].toUpperCase()){case"G":return de*1e3*1e3*1e3;case"M":return de*1e3*1e3;case"K":return de*1e3;default:return null}}catch{return null}},Ze=J=>{console.log("Node double-clicked in NetworkTelemetry:",J),v(!0),o(J.id),_("device"),console.log("Setting active tab to 'device' immediately after double-click"),setTimeout(()=>{const ne=document.querySelector('[value="device"]');ne&&(ne.click(),console.log("Forced device tab click")),setTimeout(()=>{v(!1)},300)},10)},Oe=J=>{console.log("Node clicked in NetworkTelemetry:",J),o(J.id),(J.type==="spine"||J.type==="leaf"||J.type==="tor"||J.type==="client")&&(v(!0),_("device"),console.log(`Auto switching to device tab for ${J.type} node`),setTimeout(()=>{const ne=document.querySelector('[value="device"]');ne&&ne.click(),setTimeout(()=>{v(!1)},300)},10))};A.useEffect(()=>{const J=ne=>{const{source:de,enabled:$e}=ne.detail;de==="prometheus"&&(console.log(`数据源状态变更: Prometheus ${$e?"启用":"禁用"}`),L($e),$e?re():(t(Ee()),w("数据源已禁用，切换到模拟数据")))};return window.addEventListener("datasource-change",J),()=>{window.removeEventListener("datasource-change",J)}},[]),A.useEffect(()=>{const J=localStorage.getItem("datasource_prometheus_enabled")!=="false";L(J),(async()=>{if(!S){if(C)return;t(Ee()),v(!1);return}await re()})();let de=null;return S&&J&&(de=setInterval(()=>{re()},6e4)),()=>{de&&clearInterval(de)}},[S,C,$]);const Wt=()=>{if(!O.trim()||!e.nodes.length)return;console.log("搜索IP:",O.trim()),console.log("可用节点:",e.nodes.map(ne=>({id:ne.id,name:ne.name,ip:ne.ip})));const J=e.nodes.find(ne=>ne.ip===O.trim());J?(console.log("找到匹配节点:",J),I(J.id),y(null),o(J.id),w(`找到匹配IP地址的设备: ${J.name} (${J.id})`),console.log(x==="topology"?"在拓扑视图中高亮显示节点:":"在当前视图中显示设备信息:",J.id),console.log(`找到匹配IP地址的节点: ${J.name} (${J.id})`)):(I(null),y(`未找到IP地址为 ${O} 的设备`),console.log(`未找到IP地址为 ${O} 的设备，可用IP: ${e.nodes.map(ne=>ne.ip).join(", ")}`),setTimeout(()=>{y(null)},3e3))},ct=J=>{J.key==="Enter"&&Wt()},te=()=>{j(""),I(null),y(null),w("已清除搜索结果，恢复初始状态"),console.log("已清除搜索状态"),setTimeout(()=>{w(null)},3e3)},oe=async J=>{console.log("打开OlaOla配置助手:",J),U(!0),G(J),o(J.id);try{await(await iu(async()=>{const{default:$e}=await import("./olaOlaService-D56M5Sf2.js");return{default:$e}},[])).default.initializeSession(J),w(`已为设备 ${J.name} 打开OlaOla配置助手`);const de=new CustomEvent("open-olaola",{detail:{device:J}});window.dispatchEvent(de)}catch(ne){console.error("无法打开OlaOla配置助手:",ne),y(`无法为设备 ${J.name} 打开OlaOla助手`)}};return A.useEffect(()=>{const J=Hce();if(J&&J.isVisible&&J.device){const ne=J.device;ne.status||(ne.status="up"),G(ne),U(!0)}},[]),u.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"网络遥测 - 数据中心拓扑"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:a&&u.jsx(n8e,{deviceId:a,onPanelImageUpload:Te,onHotspotsUpload:Ie})})]}),u.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"font-medium",children:"LLDP数据获取:"}),u.jsx("button",{onClick:W,className:"flex items-center text-blue-600 hover:text-blue-800",children:S?u.jsxs(u.Fragment,{children:[u.jsx(Vy,{className:"w-6 h-6 text-green-500"}),u.jsx("span",{className:"ml-1 text-green-500 font-medium",children:"已启用"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Hy,{className:"w-6 h-6 text-gray-400"}),u.jsx("span",{className:"ml-1 text-gray-500 font-medium",children:"已禁用"})]})})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(eP,{className:"w-4 h-4 text-blue-500 mr-1"}),u.jsx("span",{className:"text-sm text-gray-600",children:S?"通过Prometheus获取LLDP信息生成拓扑":"使用YAML文件导入拓扑数据"})]})]}),u.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 mb-4",children:[u.jsx("div",{className:"flex-grow w-full md:w-auto",children:u.jsx(nze,{pods:r,selectedPod:i,onPodChange:s,viewMode:P,onViewModeChange:Z,showPodSelection:!1})}),u.jsx("div",{className:"flex items-center bg-white shadow-sm rounded-lg p-3 w-full md:w-auto",children:u.jsxs("div",{className:"flex w-full",children:[u.jsx("input",{type:"text",value:O,onChange:J=>j(J.target.value),onKeyDown:ct,placeholder:"输入设备管理IP进行搜索",className:"px-3 py-2 border border-gray-300 rounded-l-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent flex-grow"}),u.jsx("button",{onClick:Wt,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium transition-colors",children:"搜索"}),u.jsx("button",{onClick:te,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-r-md text-sm font-medium transition-colors border-y border-r border-gray-300",title:"清除搜索并恢复初始状态",children:"清除"})]})})]}),!S&&u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"file",accept:".yaml,.yml",onChange:K,ref:R,className:"hidden"}),u.jsxs("button",{onClick:()=>{var J;return(J=R.current)==null?void 0:J.click()},className:`flex items-center px-4 py-2 rounded-md ${T?"bg-gray-300":"bg-blue-600 hover:bg-blue-700"} text-white transition-colors`,disabled:T,children:[u.jsx(nQ,{className:"w-4 h-4 mr-2"}),C?"重新上传YAML":"上传YAML文件"]}),C&&u.jsxs("span",{className:"text-sm text-green-600",children:["已导入: ",C.name]})]})]})}),!$&&u.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),u.jsx("div",{className:"ml-3",children:u.jsxs("p",{className:"text-sm text-blue-700",children:["Prometheus数据源当前已禁用，正在使用模拟数据。您可以在",u.jsx("a",{href:"/datasource-config",className:"font-medium underline",children:"数据源配置"}),"中启用它。"]})})]})}),m&&u.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-yellow-700",children:m})})]})}),!m&&!g&&u.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 mb-6",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),u.jsxs("div",{className:"ml-3 flex justify-between w-full",children:[u.jsxs("p",{className:"text-sm text-green-700",children:["数据加载成功，当前使用的是",S?"通过LLDP获取的实时数据":C?"YAML导入的拓扑数据":"模拟数据",b&&u.jsxs("span",{className:"ml-2 text-blue-500",children:["[",b,"]"]})]}),u.jsxs("div",{className:"text-xs text-gray-500",children:["端口: ",window.location.port||"未知"," | 上次更新: ",new Date().toLocaleTimeString()]})]})]})}),g&&u.jsx("div",{className:"flex justify-center items-center p-12",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}),!g&&u.jsxs(jv,{value:x,onValueChange:Y,className:"w-full",children:[u.jsx("div",{className:"relative overflow-hidden mb-4",children:u.jsxs(Rv,{className:"flex overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:[u.jsxs($r,{value:"topology",className:"flex items-center gap-1 whitespace-nowrap",children:[u.jsx(ea,{size:16,className:"hidden sm:inline"}),u.jsx("span",{children:"拓扑视图"})]}),u.jsxs($r,{value:"device",className:"flex items-center gap-1 whitespace-nowrap",children:[u.jsx(kx,{size:16,className:"hidden sm:inline"}),u.jsx("span",{children:"设备面板"})]}),u.jsxs($r,{value:"bandwidth",className:"flex items-center gap-1 whitespace-nowrap",children:[u.jsx(JJ,{size:16,className:"hidden sm:inline"}),u.jsx("span",{children:"带宽分析"})]}),u.jsxs($r,{value:"system",className:"flex items-center gap-1 whitespace-nowrap",children:[u.jsx(M3,{size:16,className:"hidden sm:inline"}),u.jsx("span",{children:"系统性能"})]}),u.jsxs($r,{value:"bgp",className:"flex items-center gap-1 whitespace-nowrap",children:[u.jsx(Wm,{size:16,className:"hidden sm:inline"}),u.jsx("span",{children:"BGP状态"})]}),u.jsxs($r,{value:"routes",className:"flex items-center gap-1 whitespace-nowrap",children:[u.jsx(Mg,{size:16,className:"hidden sm:inline"}),u.jsx("span",{children:"路由表"})]}),u.jsxs($r,{value:"bridge",className:"flex items-center gap-1 whitespace-nowrap",children:[u.jsx(ea,{size:16,className:"hidden sm:inline"}),u.jsx("span",{children:"二层转发"})]}),u.jsxs($r,{value:"vrf",className:"flex items-center gap-1 whitespace-nowrap",children:[u.jsx(Wm,{size:16,className:"hidden sm:inline"}),u.jsx("span",{children:"VRF状态"})]}),u.jsxs($r,{value:"process",className:"flex items-center gap-1 whitespace-nowrap",children:[u.jsx(to,{size:16,className:"hidden sm:inline"}),u.jsx("span",{children:"系统进程"})]}),u.jsxs($r,{value:"logs",className:"flex items-center gap-1 whitespace-nowrap",children:[u.jsx(to,{size:16,className:"hidden sm:inline"}),u.jsx("span",{children:"设备日志"})]})]})}),u.jsx(Br,{value:"topology",className:"h-[calc(100vh-400px)] min-h-[400px] flex flex-col",children:u.jsx("div",{className:"flex-grow",children:u.jsx(tCe,{data:e,onNodeClick:Oe,onNodeDoubleClick:Ze,viewMode:P,highlightedNodeId:M,onOpenOlaOla:oe})})}),u.jsx(Br,{value:"device",className:"min-h-[500px]",children:l?u.jsx(sCe,{device:l,portDetails:d,onPortClick:Me}):a?u.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-300px)] min-h-[400px] bg-gray-50 rounded-lg border border-gray-200",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500 mb-4"}),u.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"加载设备信息中..."}),u.jsxs("p",{className:"text-gray-400 text-center max-w-md",children:["正在获取设备 ",u.jsx("span",{className:"font-semibold",children:a})," 的详细信息"]})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-300px)] min-h-[400px] bg-gray-50 rounded-lg border border-gray-200",children:[u.jsx("div",{className:"text-6xl text-gray-300 mb-4",children:"📱"}),u.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"未选择设备"}),u.jsxs("p",{className:"text-gray-400 text-center max-w-md",children:["请在拓扑视图中选择一个设备，或双击一个节点查看详细信息。",u.jsx("br",{}),"选择后将在此处显示设备面板及端口状态。"]})]})}),u.jsx(Br,{value:"bandwidth",className:"min-h-[500px]",children:l?u.jsx(rze,{deviceName:l.name,portUsages:f,onExport:Se}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-300px)] min-h-[400px] bg-gray-50 rounded-lg border border-gray-200",children:[u.jsx("div",{className:"text-6xl text-gray-300 mb-4",children:"📊"}),u.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"未选择设备"}),u.jsxs("p",{className:"text-gray-400 text-center max-w-md",children:["请在拓扑视图中选择一个设备，或双击一个节点查看详细信息。",u.jsx("br",{}),"选择后将在此处显示设备的带宽分析数据。"]})]})}),u.jsx(Br,{value:"system",className:"min-h-[500px]",children:a?u.jsxs("div",{className:"space-y-2",children:[u.jsx(dce,{selectedDevice:a,fetchFromPrometheus:B,deviceIp:(()=>{const J=e.nodes.find(ne=>ne.id===a);return(J==null?void 0:J.ip)||""})()},`system-${a}`),u.jsx("div",{className:"border-t pt-2 mt-4 text-center text-sm text-gray-500",children:(()=>{const J=e.nodes.find(ne=>ne.id===a);return`当前设备: ${(J==null?void 0:J.name)||a} ${J!=null&&J.ip?`IP: ${J==null?void 0:J.ip}`:""}`})()})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-300px)] min-h-[400px] bg-gray-50 rounded-lg border border-gray-200",children:[u.jsx("div",{className:"text-6xl text-gray-300 mb-4",children:"📈"}),u.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"未选择设备"}),u.jsxs("p",{className:"text-gray-400 text-center max-w-md",children:["请在拓扑视图中选择一个设备，或通过管理IP搜索查找设备。",u.jsx("br",{}),"选择后将在此处显示设备的系统性能数据。"]})]})}),u.jsx(Br,{value:"bgp",className:"min-h-[500px]",children:a?u.jsx("div",{className:"space-y-2",children:u.jsx(hce,{selectedDevice:a,fetchFromPrometheus:B,deviceIp:(()=>{const J=e.nodes.find(ne=>ne.id===a);return J==null?void 0:J.ip})()},`bgp-${a}`)}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-300px)] min-h-[400px] bg-gray-50 rounded-lg border border-gray-200",children:[u.jsx("div",{className:"text-6xl text-gray-300 mb-4",children:"🔄"}),u.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"未选择设备"}),u.jsxs("p",{className:"text-gray-400 text-center max-w-md",children:["请在拓扑视图中选择一个设备，或通过管理IP搜索查找设备。",u.jsx("br",{}),"选择后将在此处显示设备的BGP状态信息。"]})]})}),u.jsx(Br,{value:"routes",className:"min-h-[500px]",children:a?u.jsx("div",{className:"space-y-2",children:u.jsx(fce,{selectedDevice:a,fetchFromPrometheus:B,deviceIp:(()=>{const J=e.nodes.find(ne=>ne.id===a);return J==null?void 0:J.ip})()},`routes-${a}`)}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-300px)] min-h-[400px] bg-gray-50 rounded-lg border border-gray-200",children:[u.jsx("div",{className:"text-6xl text-gray-300 mb-4",children:"🧭"}),u.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"未选择设备"}),u.jsxs("p",{className:"text-gray-400 text-center max-w-md",children:["请在拓扑视图中选择一个设备，或通过管理IP搜索查找设备。",u.jsx("br",{}),"选择后将在此处显示设备的路由表信息。"]})]})}),u.jsx(Br,{value:"bridge",className:"min-h-[500px]",children:a?u.jsx("div",{className:"space-y-2",children:u.jsx(pce,{selectedDevice:a,fetchFromPrometheus:B,deviceIp:(()=>{const J=e.nodes.find(ne=>ne.id===a);return J==null?void 0:J.ip})()},`bridge-${a}`)}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-300px)] min-h-[400px] bg-gray-50 rounded-lg border border-gray-200",children:[u.jsx("div",{className:"text-6xl text-gray-300 mb-4",children:"🔀"}),u.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"未选择设备"}),u.jsxs("p",{className:"text-gray-400 text-center max-w-md",children:["请在拓扑视图中选择一个设备，或通过管理IP搜索查找设备。",u.jsx("br",{}),"选择后将在此处显示设备的二层转发表信息。"]})]})}),u.jsx(Br,{value:"vrf",className:"min-h-[500px]",children:a?u.jsx("div",{className:"space-y-2",children:u.jsx(gce,{selectedDevice:a,fetchFromPrometheus:B,deviceIp:(()=>{const J=e.nodes.find(ne=>ne.id===a);return J==null?void 0:J.ip})()},`vrf-${a}`)}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-300px)] min-h-[400px] bg-gray-50 rounded-lg border border-gray-200",children:[u.jsx("div",{className:"text-6xl text-gray-300 mb-4",children:"🔖"}),u.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"未选择设备"}),u.jsxs("p",{className:"text-gray-400 text-center max-w-md",children:["请在拓扑视图中选择一个设备，或通过管理IP搜索查找设备。",u.jsx("br",{}),"选择后将在此处显示设备的VRF状态信息。"]})]})}),u.jsx(Br,{value:"process",className:"min-h-[500px]",children:a?u.jsx("div",{className:"space-y-2",children:u.jsx(mce,{selectedDevice:a,fetchFromPrometheus:B,deviceIp:(()=>{const J=e.nodes.find(ne=>ne.id===a);return J==null?void 0:J.ip})()},`process-${a}`)}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-300px)] min-h-[400px] bg-gray-50 rounded-lg border border-gray-200",children:[u.jsx("div",{className:"text-6xl text-gray-300 mb-4",children:"⚙️"}),u.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"未选择设备"}),u.jsxs("p",{className:"text-gray-400 text-center max-w-md",children:["请在拓扑视图中选择一个设备，或通过管理IP搜索查找设备。",u.jsx("br",{}),"选择后将在此处显示设备的系统进程信息。"]})]})}),u.jsx(Br,{value:"logs",className:"min-h-[500px]",children:a?u.jsx("div",{className:"space-y-2",children:u.jsx(vce,{selectedDevice:a,deviceIp:(()=>{const J=e.nodes.find(ne=>ne.id===a);return J==null?void 0:J.ip})()},`logs-${a}`)}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-300px)] min-h-[400px] bg-gray-50 rounded-lg border border-gray-200",children:[u.jsx("div",{className:"text-6xl text-gray-300 mb-4",children:"📋"}),u.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"未选择设备"}),u.jsxs("p",{className:"text-gray-400 text-center max-w-md",children:["请在拓扑视图中选择一个设备，或通过管理IP搜索查找设备。",u.jsx("br",{}),"选择后将在此处显示设备的日志信息。"]})]})})]}),z&&F&&u.jsx(Rqe,{device:F,onClose:()=>U(!1)})]})},Rqe=({device:e,onClose:t})=>{const[r,n]=A.useState(""),[i,s]=A.useState(""),[a,o]=A.useState(""),[l,c]=A.useState(""),[d,h]=A.useState(!1),[f,p]=A.useState(!1),[g,v]=A.useState([]),[m,y]=A.useState(!1),[x,_]=A.useState(!1),[b,w]=A.useState(0),S=A.useRef(null),[k,C]=A.useState(500),[E,T]=A.useState(localStorage.getItem("olaola_user_id")||`user_${Date.now()}`),[N,R]=A.useState(localStorage.getItem("olaola_api_url")||"http://127.0.0.1:8000"),[P,D]=A.useState(!1),$=Z=>{R(Z.target.value)},L=async()=>{localStorage.setItem("olaola_api_url",N),(await iu(async()=>{const{default:B}=await import("./olaOlaService-D56M5Sf2.js");return{default:B}},[])).default.setApiUrl(N),alert(`OlaOla API URL已更新为: ${N}`),D(!1)},O=async()=>{try{const Z=await fetch(`${N}`,{method:"GET",signal:AbortSignal.timeout(5e3)});Z.ok?alert(`成功连接到 ${N}`):alert(`连接到 ${N} 失败: ${Z.status} ${Z.statusText}`)}catch(Z){alert(`无法连接到 ${N}: ${Z instanceof Error?Z.message:"未知错误"}`)}};A.useEffect(()=>{localStorage.getItem("olaola_user_id")||localStorage.setItem("olaola_user_id",E)},[E]);const j=Z=>{_(!0),w(Z.clientX)},M=A.useCallback(Z=>{if(x){const B=k+(Z.clientX-b);B>300&&B<window.innerWidth*.8&&(C(B),w(Z.clientX))}},[x,b,k]),I=A.useCallback(()=>{_(!1)},[]);A.useEffect(()=>(document.addEventListener("mousemove",M),document.addEventListener("mouseup",I),()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",I)}),[M,I]),A.useEffect(()=>{if(f&&a){let Z="";const B=a;let W=0;c("");const K=setInterval(()=>{if(W<B.length){const X=Math.floor(Math.random()*3)+1,Q=Math.min(W+X,B.length);Z+=B.substring(W,Q),c(Z),W=Q}else clearInterval(K),p(!1),i&&(v(X=>[...X,{query:i,response:B}]),s(""))},15);return()=>clearInterval(K)}},[f,a,i]),A.useEffect(()=>{if(e){const Z=Hce();Z&&Z.device&&Z.device.id===e.id&&(console.log("加载OlaOla状态:",Z),Z.history&&v(Z.history.map(B=>({query:B.query,response:B.reply||B.response}))))}},[e==null?void 0:e.id]),A.useEffect(()=>{if(e){const Z={isVisible:!0,device:e,history:g.map(B=>({query:B.query,reply:B.response}))};GGe(Z)}},[e,g]);const z=async()=>{if(r.trim()){h(!0),o(""),c(""),s(r);try{const Z=(await iu(async()=>{const{default:re}=await import("./olaOlaService-D56M5Sf2.js");return{default:re}},[])).default;N!==Z.getApiUrl()&&Z.setApiUrl(N);let B="generic";e.type==="spine"?B="cisco":e.type==="leaf"?B="huawei":e.type==="tor"?B="ruijie":e.type==="client"&&(B="h3c");const W={user_id:E,vendor:B,network_type:"Data Center",query:r};console.log("发送RAG请求:",W,"至URL:",N);const K=await fetch(`${N}/get_reply`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});if(!K.ok)throw new Error(`RAG API请求失败: ${K.status} ${K.statusText}`);const X=await K.json(),Q=_q.parse(X.reply);o(Q),p(!0),n("")}catch(Z){console.error("OlaOla查询失败:",Z);let B="无法获取OlaOla的回复。";Z instanceof Error&&(Z.message.includes("Failed to fetch")||Z.message.includes("NetworkError")||Z.message.includes("fetch")?B=`网络错误: 无法连接到RAG服务器(${N})。请确保服务正在运行并且可从浏览器访问。`:B=Z.message),o(_q.parse(`# 查询失败

${B}`)),p(!0)}finally{h(!1)}}},U=Z=>{Z.key==="Enter"&&!Z.shiftKey&&(Z.preventDefault(),z())},F=()=>{v([]),qGe()},G=()=>{t()},Y=()=>{y(!m)};return u.jsxs("div",{ref:S,className:`fixed ${m?"inset-4":"right-4 top-20"} bg-white rounded-lg shadow-lg border border-gray-200 z-50 overflow-hidden transition-all duration-300 ease-in-out`,style:{width:m?"auto":`${k}px`,height:"auto",maxHeight:m?"calc(100vh - 2rem)":"80vh"},children:[u.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 cursor-w-resize hover:bg-blue-500 hover:opacity-50",onMouseDown:j}),u.jsxs("div",{className:"flex justify-between items-center border-b p-3 bg-gradient-to-r from-blue-500 to-indigo-600",children:[u.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[u.jsx(js,{size:18}),"OlaOla配置助手"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[g.length>0&&u.jsx("button",{className:"text-white hover:bg-white/10 rounded-full p-1",onClick:F,title:"清除历史记录",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M3 6h18"}),u.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),u.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})}),u.jsx("button",{className:"text-white hover:bg-white/10 rounded-full p-1",onClick:Y,title:m?"小窗口显示":"全屏显示",children:m?u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("polyline",{points:"4 14 10 14 10 20"}),u.jsx("polyline",{points:"20 10 14 10 14 4"}),u.jsx("line",{x1:"14",y1:"10",x2:"21",y2:"3"}),u.jsx("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]}):u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("polyline",{points:"15 3 21 3 21 9"}),u.jsx("polyline",{points:"9 21 3 21 3 15"}),u.jsx("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),u.jsx("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]})}),u.jsx("button",{className:"text-white hover:bg-white/10 rounded-full p-1",onClick:G,children:u.jsx(Ps,{size:18})})]})]}),u.jsx("div",{className:"flex flex-col overflow-hidden",style:{height:m?"calc(100vh - 6rem)":"70vh"},children:u.jsxs("div",{className:`p-4 ${m?"overflow-y-auto":""}`,children:[u.jsxs("div",{className:`mb-4 ${m?"max-w-4xl mx-auto":""}`,children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("p",{className:"text-sm font-medium text-gray-700",children:"设备信息"}),u.jsx("button",{onClick:()=>D(!P),className:"text-xs text-blue-500 hover:text-blue-700",children:P?"关闭设置":"服务器设置"})]}),P?u.jsxs("div",{className:"mt-2 p-3 bg-gray-50 border rounded-md",children:[u.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"OlaOla RAG 服务设置"}),u.jsxs("div",{className:"flex flex-col space-y-2",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("label",{className:"text-xs text-gray-600 w-20",children:"API URL:"}),u.jsx("input",{type:"text",value:N,onChange:$,className:"flex-1 text-xs border rounded px-2 py-1"})]}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx("button",{onClick:O,className:"text-xs bg-gray-200 hover:bg-gray-300 text-gray-700 px-2 py-1 rounded",children:"测试连接"}),u.jsx("button",{onClick:L,className:"text-xs bg-blue-500 hover:bg-blue-600 text-white px-2 py-1 rounded",children:"保存设置"})]})]})]}):u.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[u.jsxs("p",{children:["名称: ",e.name]}),u.jsxs("p",{children:["类型: ",e.type]}),u.jsxs("p",{children:["IP: ",e.ip||"未知"]}),u.jsxs("p",{children:["状态: ",e.status]})]})]}),u.jsxs("div",{className:`border-t pt-4 mb-4 ${m?"max-w-4xl mx-auto":""}`,children:[u.jsxs("div",{className:"mb-2 bg-gray-50 rounded border border-gray-200 p-3 text-sm overflow-y-auto",style:{height:m?"calc(100vh - 16rem)":"15rem"},children:[g.length===0&&!a&&!f&&u.jsxs("div",{className:"text-gray-400 italic",children:[u.jsx("p",{children:"欢迎使用OlaOla配置助手！"}),u.jsxs("p",{className:"mt-2",children:["您可以询问与设备 ",e.name," 相关的配置问题。"]}),u.jsx("p",{className:"mt-2 text-yellow-600",children:"注意: OlaOla需要连接到本地RAG服务(http://localhost:8000)。请确保服务已启动。"}),u.jsx("p",{className:"mt-2",children:"示例问题:"}),u.jsxs("ul",{className:"list-disc pl-5 mt-1",children:[u.jsxs("li",{children:["如何配置",e.type,"设备的BGP?"]}),u.jsxs("li",{children:["怎样排查",e.type,"设备的常见问题?"]}),u.jsxs("li",{children:["请提供",e.type,"设备性能优化建议"]})]})]}),g.map((Z,B)=>u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"bg-blue-50 p-2 rounded-lg mb-2",children:[u.jsx("p",{className:"font-medium text-blue-800",children:"您:"}),u.jsx("p",{children:Z.query})]}),u.jsxs("div",{className:"bg-gray-100 p-2 rounded-lg",children:[u.jsx("p",{className:"font-medium text-gray-800",children:"OlaOla:"}),u.jsx("div",{className:"markdown-body prose prose-sm max-w-none prose-pre:bg-gray-800 prose-pre:text-green-400 prose-pre:p-3 prose-pre:rounded prose-pre:overflow-auto prose-code:text-red-500 prose-code:bg-gray-100 prose-code:px-1 prose-code:rounded prose-headings:border-b prose-headings:border-gray-200 prose-headings:pb-1 prose-headings:mb-3 prose-h1:text-xl prose-h2:text-lg prose-h3:text-base prose-a:text-blue-500 prose-a:no-underline hover:prose-a:underline prose-blockquote:border-l-4 prose-blockquote:border-gray-300 prose-blockquote:pl-4 prose-blockquote:italic prose-blockquote:text-gray-700 prose-blockquote:my-2 prose-img:max-w-full prose-img:rounded prose-img:my-2 prose-hr:my-4 prose-hr:border-gray-300 prose-ul:list-disc prose-ul:pl-5 prose-ol:list-decimal prose-ol:pl-5 prose-li:my-1",children:u.jsx("div",{dangerouslySetInnerHTML:{__html:Z.response}})})]})]},B)),f&&u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"bg-blue-50 p-2 rounded-lg mb-2",children:[u.jsx("p",{className:"font-medium text-blue-800",children:"您:"}),u.jsx("p",{children:i})]}),u.jsxs("div",{className:"bg-gray-100 p-2 rounded-lg",children:[u.jsx("p",{className:"font-medium text-gray-800",children:"OlaOla:"}),u.jsxs("div",{className:"markdown-body prose prose-sm max-w-none prose-pre:bg-gray-800 prose-pre:text-green-400 prose-pre:p-3 prose-pre:rounded prose-pre:overflow-auto prose-code:text-red-500 prose-code:bg-gray-100 prose-code:px-1 prose-code:rounded prose-headings:border-b prose-headings:border-gray-200 prose-headings:pb-1 prose-headings:mb-3 prose-h1:text-xl prose-h2:text-lg prose-h3:text-base prose-a:text-blue-500 prose-a:no-underline hover:prose-a:underline prose-blockquote:border-l-4 prose-blockquote:border-gray-300 prose-blockquote:pl-4 prose-blockquote:italic prose-blockquote:text-gray-700 prose-blockquote:my-2 prose-img:max-w-full prose-img:rounded prose-img:my-2 prose-hr:my-4 prose-hr:border-gray-300 prose-ul:list-disc prose-ul:pl-5 prose-ol:list-decimal prose-ol:pl-5 prose-li:my-1",children:[u.jsx("div",{dangerouslySetInnerHTML:{__html:l}}),u.jsx("span",{className:"inline-block w-2 h-4 bg-blue-500 ml-1 animate-pulse"})]})]})]}),d&&u.jsxs("div",{className:"flex items-center justify-center p-4",children:[u.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500"}),u.jsx("span",{className:"ml-2 text-blue-500",children:"OlaOla正在思考..."})]})]}),u.jsx("div",{className:"mt-2",children:u.jsx("textarea",{className:"w-full p-2 text-sm border border-gray-300 rounded h-20 resize-none",placeholder:"在此输入您的配置问题...",value:r,onChange:Z=>n(Z.target.value),onKeyDown:U,disabled:d||f})}),u.jsx("div",{className:"mt-2 flex justify-end",children:u.jsx("button",{className:`px-3 py-1.5 text-white text-sm rounded flex items-center gap-1 ${d||f||!r.trim()?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,onClick:z,disabled:d||f||!r.trim(),children:d?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),u.jsx("span",{children:"处理中..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{children:"发送"}),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),u.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})]})})})]})]})}),!m&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gray-100 text-xs text-center py-1 text-gray-500 border-t",children:u.jsx("span",{children:"拖动左侧边缘调整宽度 · 点击右上角按钮全屏查看"})})]})},Iqe=()=>{var c;const[e,t]=A.useState(null),[r,n]=A.useState("system"),[i,s]=A.useState(!0),a=async d=>(console.log("Query:",d),[]),o=[{id:"system",label:"系统性能",icon:u.jsx(JJ,{className:"h-5 w-5"})},{id:"bgp",label:"BGP状态",icon:u.jsx(ea,{className:"h-5 w-5"})},{id:"routes",label:"路由表",icon:u.jsx(kx,{className:"h-5 w-5"})},{id:"bridge",label:"二层转发",icon:u.jsx(M3,{className:"h-5 w-5"})},{id:"vrf",label:"VRF状态",icon:u.jsx(Wm,{className:"h-5 w-5"})},{id:"process",label:"系统进程",icon:u.jsx(Gye,{className:"h-5 w-5"})},{id:"logs",label:"设备日志",icon:u.jsx(to,{className:"h-5 w-5"})}],l=()=>{switch(r){case"system":return u.jsx(dce,{selectedDevice:e,fetchFromPrometheus:a});case"bgp":return u.jsx(hce,{selectedDevice:e,fetchFromPrometheus:a});case"routes":return u.jsx(fce,{selectedDevice:e,fetchFromPrometheus:a});case"bridge":return u.jsx(pce,{selectedDevice:e,fetchFromPrometheus:a});case"vrf":return u.jsx(gce,{selectedDevice:e,fetchFromPrometheus:a});case"process":return u.jsx(mce,{selectedDevice:e,fetchFromPrometheus:a});case"logs":return u.jsx(vce,{selectedDevice:e});default:return u.jsx("div",{children:"请选择一个遥测类型"})}};return u.jsxs("div",{className:"flex h-full",children:[u.jsxs("div",{className:`bg-gray-800 text-white transition-all duration-300 ${i?"w-64":"w-16"}`,children:[u.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[u.jsx("h2",{className:`font-semibold ${i?"block":"hidden"}`,children:"Telemetry Info"}),u.jsx("button",{onClick:()=>s(!i),className:"p-1 rounded-full hover:bg-gray-700",children:i?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-left",children:u.jsx("polyline",{points:"15 18 9 12 15 6"})}):u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-right",children:u.jsx("polyline",{points:"9 18 15 12 9 6"})})})]}),u.jsx("nav",{className:"mt-4",children:u.jsx("ul",{children:o.map(d=>u.jsx("li",{children:u.jsxs("button",{onClick:()=>n(d.id),className:`flex items-center w-full py-3 px-4 hover:bg-gray-700 transition-colors ${r===d.id?"bg-gray-700":""}`,children:[u.jsx("span",{className:"mr-3",children:d.icon}),i&&u.jsx("span",{children:d.label})]})},d.id))})})]}),u.jsx("div",{className:"flex-1 p-6 overflow-auto",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[u.jsx("h1",{className:"text-2xl font-bold mb-6",children:((c=o.find(d=>d.id===r))==null?void 0:c.label)||"Telemetry Info"}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"选择设备"}),u.jsxs("select",{value:e||"",onChange:d=>t(d.target.value||null),className:"w-full md:w-64 px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[u.jsx("option",{value:"",children:"选择设备..."}),u.jsx("option",{value:"spine1",children:"spine1"}),u.jsx("option",{value:"spine2",children:"spine2"}),u.jsx("option",{value:"leaf1",children:"leaf1"}),u.jsx("option",{value:"leaf2",children:"leaf2"}),u.jsx("option",{value:"leaf3",children:"leaf3"}),u.jsx("option",{value:"tor1",children:"tor1"}),u.jsx("option",{value:"tor2",children:"tor2"}),u.jsx("option",{value:"tor3",children:"tor3"})]})]}),u.jsx("div",{className:"bg-white p-4 rounded-lg",children:l()})]})})]})},tue=A.createContext(void 0),Mqe=({children:e})=>{const[t,r]=A.useState(null),[n,i]=A.useState(null),[s,a]=A.useState(!0),[o,l]=A.useState(null),c=p2();A.useEffect(()=>{if(!c){a(!1),l(new Error("Supabase client not initialized"));return}c.auth.getSession().then(({data:{session:p}})=>{r(p),i((p==null?void 0:p.user)??null),a(!1)}).catch(p=>{console.error("Failed to get session:",p),l(p),a(!1)});const{data:{subscription:f}}=c.auth.onAuthStateChange((p,g)=>{r(g),i((g==null?void 0:g.user)??null),a(!1)});return()=>{f.unsubscribe()}},[c]);const d=async(f,p)=>{if(!c)return{error:new Error("Supabase client not initialized")};a(!0),l(null);try{const{error:g}=await c.auth.signInWithPassword({email:f,password:p});return g?(l(g),{error:g}):{error:null}}catch(g){const v=g;return l(v),{error:v}}finally{a(!1)}},h=async()=>{if(!c)throw new Error("Supabase client not initialized");a(!0);try{await c.auth.signOut(),localStorage.removeItem("token")}catch(f){console.error("Error signing out:",f)}finally{a(!1)}};return u.jsx(tue.Provider,{value:{session:t,user:n,loading:s,error:o,signIn:d,signOut:h},children:e})},z$=()=>{const e=A.useContext(tue);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Pqe=()=>{var p,g;const[e,t]=A.useState(""),[r,n]=A.useState(""),[i,s]=A.useState(!1),[a,o]=A.useState(null),l=XT(),c=hh(),{signIn:d}=z$(),h=((g=(p=c.state)==null?void 0:p.from)==null?void 0:g.pathname)||"/network-deployment",f=async v=>{var m,y;v.preventDefault(),s(!0),o(null);try{const{error:x}=await d(e,r);if(x)throw x;l(h)}catch(x){console.error("login failed:",x);let _="login failed, please check your email and password";(m=x.message)!=null&&m.includes("Invalid login credentials")?_="email or password error":(y=x.message)!=null&&y.includes("Email not confirmed")?_="your account is not activated, please contact the administrator":x.message&&(_=`login failed: ${x.message}`),o(_)}finally{s(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md overflow-hidden",children:[u.jsxs("div",{className:"px-6 py-8 bg-gradient-to-r from-emerald-500 to-teal-400 text-white text-center",children:[u.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),u.jsx("h2",{className:"text-2xl font-bold",children:"OlaOla AI-v0.6 beta"}),u.jsx("p",{className:"text-sm text-emerald-100",children:"Network Speaks human"})]}),u.jsx("div",{className:"px-6 py-6",children:u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),u.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:v=>t(v.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",placeholder:"Enter your email"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),u.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r,onChange:v=>n(v.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",placeholder:"Enter your password"})]}),a&&u.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 text-sm text-red-700",children:a}),u.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-2 px-4 font-medium text-transparent bg-clip-text bg-gradient-to-r from-emerald-500 to-teal-400 border border-emerald-300 rounded-md hover:shadow-md",children:i?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Logging in..."]}):"Login"})]})}),u.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 text-center text-sm text-gray-600",children:u.jsx("p",{children:"Tips: Contact the administrator to create your account"})})]})})},Lqe="http://localhost:8080/api",jt=Nt.create({baseURL:Lqe,timeout:1e4,headers:{"Content-Type":"application/json"}});jt.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));jt.interceptors.response.use(e=>e,e=>(e.response&&e.response.status===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)));const rue={auth:{login:e=>jt.post("/auth/login",e),logout:()=>jt.post("/auth/logout"),refreshToken:()=>jt.post("/auth/refresh")},users:{getAll:e=>jt.get("/users",{params:e}),getById:e=>jt.get(`/users/${e}`),create:e=>jt.post("/users",e),update:(e,t)=>jt.put(`/users/${e}`,t),delete:e=>jt.delete(`/users/${e}`)},devices:{getAll:()=>jt.get("/devices"),getById:e=>jt.get(`/devices/${e}`),create:e=>jt.post("/devices",e),update:(e,t)=>jt.put(`/devices/${e}`,t),delete:e=>jt.delete(`/devices/${e}`),getStatus:e=>jt.get(`/devices/${e}/status`),getInterfaces:e=>jt.get(`/devices/${e}/interfaces`),reboot:e=>jt.post(`/devices/${e}/reboot`)},network:{getTopology:e=>jt.get("/network/topology",{params:e}),getPaths:(e,t)=>jt.get(`/network/paths?source=${e}&destination=${t}`),getLinkStatus:e=>jt.get(`/network/links/${e}`),getPods:()=>jt.get("/network/pods"),getRacks:e=>jt.get(`/network/pods/${e}/racks`),getDevicesByRack:e=>jt.get(`/network/racks/${e}/devices`)},telemetry:{getDeviceData:(e,t)=>jt.get(`/telemetry/devices/${e}`,{params:t}),getMetrics:e=>jt.get("/telemetry/metrics",{params:e}),getHistorical:(e,t,r)=>jt.get(`/telemetry/historical/${e}/${t}`,{params:r})},alerts:{getAll:e=>jt.get("/alerts",{params:e}),getById:e=>jt.get(`/alerts/${e}`),acknowledge:e=>jt.post(`/alerts/${e}/acknowledge`),resolve:e=>jt.post(`/alerts/${e}/resolve`)},predictions:{getForDevice:e=>jt.get(`/predictions/devices/${e}`),getAlerts:()=>jt.get("/predictions/alerts"),runPrediction:(e,t)=>jt.post(`/predictions/devices/${e}/run`,t)},prometheus:{query:e=>localStorage.getItem("datasource_prometheus_enabled")==="false"?(console.warn("Prometheus数据源已禁用，跳过API请求"),Promise.resolve({data:{data:{result:[]}}})):jt.get("/prometheus/query",{params:{query:e}}).then(t=>(t.data&&typeof t.data=="object"&&(t.data.data||(t.data.data={}),t.data.data.result||(t.data.data.result=[])),t)),queryRange:(e,t,r,n)=>localStorage.getItem("datasource_prometheus_enabled")==="false"?(console.warn("Prometheus数据源已禁用，跳过API请求"),Promise.resolve({data:{data:{result:[]}}})):jt.get("/prometheus/query_range",{params:{query:e,start:t,end:r,step:n}}).then(i=>(i.data&&typeof i.data=="object"&&(i.data.data||(i.data.data={}),i.data.data.result||(i.data.data.result=[])),i))},loki:{query:(e,t,r,n)=>{if(localStorage.getItem("datasource_loki_enabled")!=="true")return console.warn("Loki数据源已禁用，跳过API请求"),Promise.resolve({data:{data:{result:[]}}});const i={query:e};return t!==void 0&&(i.start=t),r!==void 0&&(i.end=r),n!==void 0&&(i.limit=n),jt.get("/loki/query",{params:i}).then(s=>(s.data&&typeof s.data=="object"&&(s.data.data||(s.data.data={}),s.data.data.result||(s.data.data.result=[])),s))},queryRange:(e,t,r,n)=>localStorage.getItem("datasource_loki_enabled")!=="true"?(console.warn("Loki数据源已禁用，跳过API请求"),Promise.resolve({data:{data:{result:[]}}})):jt.get("/loki/query_range",{params:{query:e,start:t,end:r,step:n}}).then(i=>(i.data&&typeof i.data=="object"&&(i.data.data||(i.data.data={}),i.data.data.result||(i.data.data.result=[])),i))},elasticsearch:{search:(e,t)=>localStorage.getItem("datasource_elasticsearch_enabled")!=="true"?(console.warn("Elasticsearch数据源已禁用，跳过API请求"),Promise.resolve({hits:{total:0,hits:[]}})):jt.post(`/elasticsearch/${e}/_search`,t).then(r=>r.data),count:(e,t)=>jt.post(`/elasticsearch/${e}/_count`,t).then(r=>r.data)},influxdb:{query:(e,t)=>localStorage.getItem("datasource_influxdb_enabled")!=="true"?(console.warn("InfluxDB数据源已禁用，跳过API请求"),Promise.resolve({results:[]})):jt.post("/influxdb/query",{query:e},{params:t?{org:t}:void 0}).then(r=>r.data)},config:{get:()=>jt.get("/config"),update:e=>jt.put("/config",e),reset:()=>jt.post("/config/reset")},mcp:{getCapsules:async()=>{try{return(await jt.get("/mcp/capsules")).data}catch(e){return console.error("获取胶囊列表失败:",e),[]}},getFlows:async()=>{try{return(await jt.get("/mcp/flows")).data}catch(e){return console.error("获取流程列表失败:",e),[]}},executeFlow:async(e,t={})=>{try{return(await jt.post(`/mcp/flows/${e}/execute`,t)).data}catch(r){return console.error(`执行流程(${e})失败:`,r),null}},getFlowStatus:async e=>{try{return(await jt.get(`/mcp/flows/${e}`)).data}catch(t){return console.error(`获取流程状态(${e})失败:`,t),null}}}},bq=Nt.create({baseURL:"/prometheus",timeout:1e4}),WS=Nt.create({baseURL:"/api/mcp",timeout:1e4,headers:{"Content-Type":"application/json"}}),Iy=e=>e==="prometheus"?localStorage.getItem("datasource_prometheus_enabled")!=="false":localStorage.getItem(`datasource_${e}_enabled`)==="true",Dqe={modules:{getAll:async()=>{try{return(await jt.get("/modules")).data}catch(e){return console.error("获取光模块列表失败:",e),[]}},getById:async e=>{try{return(await jt.get(`/modules/${e}`)).data}catch(t){return console.error(`获取光模块(${e})失败:`,t),null}},getHistory:async(e,t=7)=>{try{return(await jt.get(`/modules/${e}/history?days=${t}`)).data}catch(r){return console.error(`获取模块历史数据(${e})失败:`,r),[]}},getPrediction:async e=>{try{return(await jt.get(`/modules/${e}/prediction`)).data}catch(t){return console.error(`获取模块预测(${e})失败:`,t),null}}},prometheus:{query:async e=>{try{return Iy("prometheus")?(await bq.get(`/query?query=${encodeURIComponent(e)}`)).data.data.result:(console.warn("Prometheus数据源已禁用，跳过API请求"),[])}catch(t){return console.error("Prometheus查询失败:",t),[]}},queryRange:async(e,t,r,n)=>{try{return Iy("prometheus")?(await bq.get("/query_range",{params:{query:e,start:t,end:r,step:n}})).data.data.result:(console.warn("Prometheus数据源已禁用，跳过API请求"),[])}catch(i){return console.error("Prometheus范围查询失败:",i),[]}}},loki:{query:async(e,t,r,n)=>{try{if(!Iy("loki"))return console.warn("Loki数据源已禁用，跳过API请求"),[];const i={query:e};return t&&(i.start=t),r&&(i.end=r),n&&(i.limit=n),(await Nt.get("/loki/query",{params:i})).data.data.result||[]}catch(i){return console.error("Loki查询失败:",i),[]}}},influxdb:{query:async e=>{try{return Iy("influxdb")?(console.log("执行InfluxDB查询:",e),[]):(console.warn("InfluxDB数据源已禁用，跳过API请求"),[])}catch(t){return console.error("InfluxDB查询失败:",t),[]}}},elasticsearch:{search:async(e,t)=>{try{return Iy("elasticsearch")?(console.log("执行Elasticsearch查询:",e,t),{hits:{total:0,hits:[]}}):(console.warn("Elasticsearch数据源已禁用，跳过API请求"),{hits:{total:0,hits:[]}})}catch(r){return console.error("Elasticsearch查询失败:",r),{hits:{total:0,hits:[]}}}}},mcp:{getCapsules:async()=>{try{return(await WS.get("/capsules")).data}catch(e){return console.error("获取胶囊列表失败:",e),[]}},getFlows:async()=>{try{return(await WS.get("/flows")).data}catch(e){return console.error("获取流程列表失败:",e),[]}},executeFlow:async(e,t={})=>{try{return(await WS.post(`/flows/${e}/execute`,t)).data}catch(r){return console.error(`执行流程(${e})失败:`,r),null}},getFlowStatus:async e=>{try{return(await WS.get(`/flows/${e}`)).data}catch(t){return console.error(`获取流程状态(${e})失败:`,t),null}}}};Object.assign(rue,Dqe);const Oqe=()=>{const[e,t]=A.useState(null),[r,n]=A.useState(!0),[i,s]=A.useState(null);return A.useEffect(()=>{(async()=>{try{const o=await rue.devices.getAll();t(o.data),n(!1)}catch(o){console.error("API call failed:",o),s("Failed to fetch data"),n(!1)}})()},[]),u.jsxs("div",{children:[u.jsx("h1",{children:"API Test Component"}),r&&u.jsx("p",{children:"Loading..."}),i&&u.jsxs("p",{children:["Error: ",i]}),e&&u.jsxs("div",{children:[u.jsx("h2",{children:"Data Retrieved:"}),u.jsx("pre",{children:JSON.stringify(e,null,2)})]})]})},$qe=({deploymentType:e})=>u.jsxs("svg",{width:"400",height:"300",viewBox:"0 0 400 300",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("rect",{x:"120",y:"20",width:"60",height:"20",fill:"#2f4858",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"150",y:"34",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Spine"}),u.jsx("rect",{x:"220",y:"20",width:"60",height:"20",fill:"#2f4858",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"250",y:"34",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Spine"}),u.jsx("text",{x:"50",y:"30",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Spine层:"}),e==="tor"&&u.jsx(u.Fragment,{children:u.jsxs("g",{children:[u.jsx("rect",{x:"70",y:"80",width:"60",height:"180",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"70",y:"80",width:"60",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"100",y:"94",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Leaf"}),u.jsx("rect",{x:"75",y:"110",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"75",y:"135",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"75",y:"160",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"75",y:"185",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"75",y:"210",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"75",y:"235",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"170",y:"80",width:"60",height:"180",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"170",y:"80",width:"60",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"200",y:"94",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Leaf"}),u.jsx("rect",{x:"175",y:"110",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"175",y:"135",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"175",y:"160",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"175",y:"185",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"175",y:"210",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"175",y:"235",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"270",y:"80",width:"60",height:"180",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"270",y:"80",width:"60",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"300",y:"94",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Leaf"}),u.jsx("rect",{x:"275",y:"110",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"275",y:"135",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"275",y:"160",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"275",y:"185",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"275",y:"210",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"275",y:"235",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"100",y1:"80",x2:"150",y2:"40",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"100",y1:"80",x2:"250",y2:"40",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"200",y1:"80",x2:"150",y2:"40",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"200",y1:"80",x2:"250",y2:"40",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"300",y1:"80",x2:"150",y2:"40",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"300",y1:"80",x2:"250",y2:"40",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"100",y:"270",textAnchor:"middle",fill:"#333",fontSize:"12",children:"机柜1"}),u.jsx("text",{x:"200",y:"270",textAnchor:"middle",fill:"#333",fontSize:"12",children:"机柜2"}),u.jsx("text",{x:"300",y:"270",textAnchor:"middle",fill:"#333",fontSize:"12",children:"机柜3"}),u.jsx("text",{x:"50",y:"94",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Leaf层 (ToR):"})]})}),e==="mor"&&u.jsxs(u.Fragment,{children:[u.jsx("rect",{x:"170",y:"80",width:"60",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"200",y:"94",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Leaf"}),u.jsx("text",{x:"50",y:"94",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Leaf层 (MoR):"}),u.jsxs("g",{children:[u.jsx("rect",{x:"70",y:"120",width:"60",height:"140",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"75",y:"130",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"75",y:"155",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"75",y:"180",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"75",y:"205",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"75",y:"230",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"170",y:"120",width:"60",height:"140",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"175",y:"130",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"175",y:"155",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"175",y:"180",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"175",y:"205",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"175",y:"230",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"270",y:"120",width:"60",height:"140",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"275",y:"130",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"275",y:"155",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"275",y:"180",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"275",y:"205",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"275",y:"230",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"200",y1:"80",x2:"150",y2:"40",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"200",y1:"80",x2:"250",y2:"40",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"200",y1:"100",x2:"100",y2:"140",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"200",y1:"100",x2:"100",y2:"190",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"200",y1:"100",x2:"200",y2:"140",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"200",y1:"100",x2:"200",y2:"190",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"200",y1:"100",x2:"300",y2:"140",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"200",y1:"100",x2:"300",y2:"190",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"100",y:"270",textAnchor:"middle",fill:"#333",fontSize:"12",children:"机柜1"}),u.jsx("text",{x:"200",y:"270",textAnchor:"middle",fill:"#333",fontSize:"12",children:"机柜2"}),u.jsx("text",{x:"300",y:"270",textAnchor:"middle",fill:"#333",fontSize:"12",children:"机柜3"})]})]}),e==="hybrid"&&u.jsxs(u.Fragment,{children:[u.jsx("rect",{x:"70",y:"80",width:"60",height:"180",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"70",y:"80",width:"60",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"100",y:"94",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Leaf"}),u.jsx("rect",{x:"75",y:"110",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"75",y:"135",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"75",y:"160",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"75",y:"185",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"75",y:"210",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"75",y:"235",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"220",y:"80",width:"60",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"250",y:"94",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Leaf"}),u.jsx("rect",{x:"170",y:"120",width:"60",height:"140",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"175",y:"130",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"175",y:"155",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"175",y:"180",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"175",y:"205",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"175",y:"230",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"270",y:"120",width:"60",height:"140",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"275",y:"130",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"275",y:"155",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"275",y:"180",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"275",y:"205",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"275",y:"230",width:"50",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"100",y1:"80",x2:"150",y2:"40",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"100",y1:"80",x2:"250",y2:"40",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"250",y1:"80",x2:"150",y2:"40",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"250",y1:"80",x2:"250",y2:"40",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"250",y1:"100",x2:"200",y2:"140",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"250",y1:"100",x2:"200",y2:"190",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"250",y1:"100",x2:"300",y2:"140",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"250",y1:"100",x2:"300",y2:"190",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"100",y:"270",textAnchor:"middle",fill:"#333",fontSize:"12",children:"机柜1 (ToR)"}),u.jsx("text",{x:"200",y:"270",textAnchor:"middle",fill:"#333",fontSize:"12",children:"机柜2 (MoR)"}),u.jsx("text",{x:"300",y:"270",textAnchor:"middle",fill:"#333",fontSize:"12",children:"机柜3 (MoR)"}),u.jsx("text",{x:"50",y:"94",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Leaf层 (混合):"})]})]}),Bqe=({deploymentType:e})=>u.jsxs("svg",{width:"400",height:"360",viewBox:"0 0 400 360",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("rect",{x:"170",y:"20",width:"60",height:"20",fill:"#1a1a2e",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"200",y:"34",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"SuperSpine"}),u.jsx("text",{x:"60",y:"30",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"SuperSpine层:"}),u.jsx("rect",{x:"120",y:"70",width:"60",height:"20",fill:"#2f4858",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"150",y:"84",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Spine"}),u.jsx("rect",{x:"220",y:"70",width:"60",height:"20",fill:"#2f4858",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"250",y:"84",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Spine"}),u.jsx("text",{x:"60",y:"80",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Spine层:"}),e==="tor"&&u.jsx(u.Fragment,{children:u.jsxs("g",{children:[u.jsx("rect",{x:"40",y:"130",width:"150",height:"210",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),u.jsx("text",{x:"115",y:"350",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 1"}),u.jsx("rect",{x:"60",y:"150",width:"50",height:"180",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"60",y:"150",width:"50",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"85",y:"164",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),u.jsx("rect",{x:"65",y:"175",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"65",y:"195",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"65",y:"215",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"65",y:"235",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"65",y:"255",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"65",y:"275",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"65",y:"295",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"65",y:"315",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"120",y:"150",width:"50",height:"180",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"120",y:"150",width:"50",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"145",y:"164",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),u.jsx("rect",{x:"125",y:"175",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"125",y:"195",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"125",y:"215",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"125",y:"235",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"125",y:"255",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"125",y:"275",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"125",y:"295",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"125",y:"315",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"210",y:"130",width:"150",height:"210",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),u.jsx("text",{x:"285",y:"350",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 2"}),u.jsx("rect",{x:"230",y:"150",width:"50",height:"180",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"230",y:"150",width:"50",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"255",y:"164",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),u.jsx("rect",{x:"235",y:"175",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"235",y:"195",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"235",y:"215",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"235",y:"235",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"235",y:"255",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"235",y:"275",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"235",y:"295",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"235",y:"315",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"290",y:"150",width:"50",height:"180",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"290",y:"150",width:"50",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"315",y:"164",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),u.jsx("rect",{x:"295",y:"175",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"295",y:"195",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"295",y:"215",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"295",y:"235",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"295",y:"255",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"295",y:"275",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"295",y:"295",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"295",y:"315",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"85",y1:"150",x2:"150",y2:"90",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"85",y1:"150",x2:"250",y2:"90",stroke:"#333",strokeWidth:"1",strokeDasharray:"3"}),u.jsx("line",{x1:"145",y1:"150",x2:"150",y2:"90",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"145",y1:"150",x2:"250",y2:"90",stroke:"#333",strokeWidth:"1",strokeDasharray:"3"}),u.jsx("line",{x1:"255",y1:"150",x2:"150",y2:"90",stroke:"#333",strokeWidth:"1",strokeDasharray:"3"}),u.jsx("line",{x1:"255",y1:"150",x2:"250",y2:"90",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"315",y1:"150",x2:"150",y2:"90",stroke:"#333",strokeWidth:"1",strokeDasharray:"3"}),u.jsx("line",{x1:"315",y1:"150",x2:"250",y2:"90",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"150",y1:"70",x2:"200",y2:"40",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"250",y1:"70",x2:"200",y2:"40",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"60",y:"164",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Leaf层 (ToR):"})]})}),e==="mor"&&u.jsx(u.Fragment,{children:u.jsxs("g",{children:[u.jsx("rect",{x:"40",y:"130",width:"150",height:"210",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),u.jsx("text",{x:"115",y:"350",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 1"}),u.jsx("rect",{x:"85",y:"150",width:"60",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"115",y:"164",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),u.jsx("rect",{x:"60",y:"190",width:"40",height:"140",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"130",y:"190",width:"40",height:"140",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"65",y:"200",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"65",y:"220",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"65",y:"240",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"65",y:"260",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"65",y:"280",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"65",y:"300",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"135",y:"200",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"135",y:"220",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"135",y:"240",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"135",y:"260",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"135",y:"280",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"135",y:"300",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"210",y:"130",width:"150",height:"210",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),u.jsx("text",{x:"285",y:"350",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 2"}),u.jsx("rect",{x:"255",y:"150",width:"60",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"285",y:"164",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),u.jsx("rect",{x:"230",y:"190",width:"40",height:"140",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"300",y:"190",width:"40",height:"140",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"235",y:"200",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"235",y:"220",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"235",y:"240",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"235",y:"260",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"235",y:"280",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"235",y:"300",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"305",y:"200",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"305",y:"220",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"305",y:"240",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"305",y:"260",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"305",y:"280",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"305",y:"300",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"115",y1:"170",x2:"80",y2:"200",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"115",y1:"170",x2:"80",y2:"250",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"115",y1:"170",x2:"80",y2:"300",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"115",y1:"170",x2:"150",y2:"200",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"115",y1:"170",x2:"150",y2:"250",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"115",y1:"170",x2:"150",y2:"300",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"115",y1:"150",x2:"150",y2:"90",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"115",y1:"150",x2:"250",y2:"90",stroke:"#333",strokeWidth:"1",strokeDasharray:"3"}),u.jsx("line",{x1:"285",y1:"150",x2:"150",y2:"90",stroke:"#333",strokeWidth:"1",strokeDasharray:"3"}),u.jsx("line",{x1:"285",y1:"150",x2:"250",y2:"90",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"150",y1:"70",x2:"200",y2:"40",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"250",y1:"70",x2:"200",y2:"40",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"60",y:"164",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Leaf层 (MoR):"})]})}),e==="hybrid"&&u.jsxs(u.Fragment,{children:[u.jsx("rect",{x:"40",y:"130",width:"150",height:"210",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),u.jsx("text",{x:"115",y:"350",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 1 (ToR)"}),u.jsx("rect",{x:"60",y:"150",width:"50",height:"180",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"60",y:"150",width:"50",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"85",y:"164",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),u.jsx("rect",{x:"65",y:"180",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"65",y:"205",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"65",y:"230",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"65",y:"255",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"65",y:"280",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"65",y:"305",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"120",y:"150",width:"50",height:"180",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"120",y:"150",width:"50",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"145",y:"164",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),u.jsx("rect",{x:"125",y:"180",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"125",y:"205",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"125",y:"230",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"125",y:"255",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"125",y:"280",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"125",y:"305",width:"40",height:"15",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"210",y:"130",width:"150",height:"210",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),u.jsx("text",{x:"285",y:"350",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 2 (MoR)"}),u.jsx("rect",{x:"255",y:"150",width:"60",height:"20",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"285",y:"164",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),u.jsx("rect",{x:"230",y:"190",width:"40",height:"140",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"300",y:"190",width:"40",height:"140",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"235",y:"200",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"235",y:"220",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"235",y:"240",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"235",y:"260",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"235",y:"280",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"235",y:"300",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"305",y:"200",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"305",y:"220",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"305",y:"240",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"305",y:"260",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"305",y:"280",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"305",y:"300",width:"30",height:"12",fill:"#f8f9fa",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"85",y1:"150",x2:"150",y2:"90",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"85",y1:"150",x2:"250",y2:"90",stroke:"#333",strokeWidth:"1",strokeDasharray:"3"}),u.jsx("line",{x1:"145",y1:"150",x2:"150",y2:"90",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"145",y1:"150",x2:"250",y2:"90",stroke:"#333",strokeWidth:"1",strokeDasharray:"3"}),u.jsx("line",{x1:"285",y1:"150",x2:"150",y2:"90",stroke:"#333",strokeWidth:"1",strokeDasharray:"3"}),u.jsx("line",{x1:"285",y1:"150",x2:"250",y2:"90",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"285",y1:"170",x2:"250",y2:"200",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"285",y1:"170",x2:"250",y2:"250",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"285",y1:"170",x2:"250",y2:"300",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"285",y1:"170",x2:"320",y2:"200",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"285",y1:"170",x2:"320",y2:"250",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"285",y1:"170",x2:"320",y2:"300",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"150",y1:"70",x2:"200",y2:"40",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"250",y1:"70",x2:"200",y2:"40",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"60",y:"164",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Leaf层 (混合):"})]})]}),Fqe=({deploymentType:e})=>u.jsxs("svg",{width:"400",height:"400",viewBox:"0 0 400 400",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("rect",{x:"170",y:"20",width:"60",height:"20",fill:"#000080",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"200",y:"34",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Core"}),u.jsx("text",{x:"70",y:"30",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Core层:"}),u.jsx("rect",{x:"120",y:"70",width:"60",height:"20",fill:"#1a1a2e",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"150",y:"84",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"SuperSpine"}),u.jsx("rect",{x:"220",y:"70",width:"60",height:"20",fill:"#1a1a2e",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"250",y:"84",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"SuperSpine"}),u.jsx("text",{x:"70",y:"80",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"SuperSpine层:"}),u.jsx("rect",{x:"80",y:"120",width:"50",height:"20",fill:"#2f4858",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"105",y:"134",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Spine"}),u.jsx("rect",{x:"175",y:"120",width:"50",height:"20",fill:"#2f4858",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"200",y:"134",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Spine"}),u.jsx("rect",{x:"270",y:"120",width:"50",height:"20",fill:"#2f4858",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"295",y:"134",textAnchor:"middle",fill:"white",fontSize:"12",fontWeight:"bold",children:"Spine"}),u.jsx("text",{x:"70",y:"130",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Spine层:"}),u.jsx("line",{x1:"200",y1:"40",x2:"150",y2:"70",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"200",y1:"40",x2:"250",y2:"70",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"150",y1:"90",x2:"105",y2:"120",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"150",y1:"90",x2:"200",y2:"120",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"250",y1:"90",x2:"200",y2:"120",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"250",y1:"90",x2:"295",y2:"120",stroke:"#333",strokeWidth:"1"}),e==="tor"&&u.jsxs(u.Fragment,{children:[u.jsx("text",{x:"70",y:"180",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Leaf层 (ToR):"}),u.jsx("rect",{x:"30",y:"200",width:"100",height:"180",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),u.jsx("text",{x:"80",y:"390",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 1"}),u.jsx("rect",{x:"40",y:"210",width:"30",height:"160",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"40",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"55",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"L"}),u.jsx("rect",{x:"90",y:"210",width:"30",height:"160",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"90",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"105",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"L"}),u.jsx("rect",{x:"150",y:"200",width:"100",height:"180",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),u.jsx("text",{x:"200",y:"390",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 2"}),u.jsx("rect",{x:"160",y:"210",width:"30",height:"160",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"160",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"175",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"L"}),u.jsx("rect",{x:"210",y:"210",width:"30",height:"160",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"210",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"225",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"L"}),u.jsx("rect",{x:"270",y:"200",width:"100",height:"180",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),u.jsx("text",{x:"320",y:"390",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 3"}),u.jsx("rect",{x:"280",y:"210",width:"30",height:"160",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"280",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"295",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"L"}),u.jsx("rect",{x:"330",y:"210",width:"30",height:"160",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"330",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"345",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"L"}),u.jsx("line",{x1:"55",y1:"210",x2:"105",y2:"140",stroke:"#333",strokeWidth:"1",strokeDasharray:"2"}),u.jsx("line",{x1:"105",y1:"210",x2:"105",y2:"140",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"175",y1:"210",x2:"200",y2:"140",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"225",y1:"210",x2:"200",y2:"140",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"295",y1:"210",x2:"295",y2:"140",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"345",y1:"210",x2:"295",y2:"140",stroke:"#333",strokeWidth:"1",strokeDasharray:"2"})]}),e==="mor"&&u.jsxs(u.Fragment,{children:[u.jsx("text",{x:"70",y:"180",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Leaf层 (MoR):"}),u.jsx("rect",{x:"30",y:"200",width:"100",height:"180",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),u.jsx("text",{x:"80",y:"390",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 1"}),u.jsx("rect",{x:"65",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"80",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),u.jsx("rect",{x:"40",y:"240",width:"30",height:"130",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"90",y:"240",width:"30",height:"130",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"150",y:"200",width:"100",height:"180",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),u.jsx("text",{x:"200",y:"390",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 2"}),u.jsx("rect",{x:"185",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"200",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),u.jsx("rect",{x:"160",y:"240",width:"30",height:"130",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"210",y:"240",width:"30",height:"130",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"270",y:"200",width:"100",height:"180",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),u.jsx("text",{x:"320",y:"390",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 3"}),u.jsx("rect",{x:"305",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"320",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),u.jsx("rect",{x:"280",y:"240",width:"30",height:"130",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"330",y:"240",width:"30",height:"130",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"80",y1:"210",x2:"105",y2:"140",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"200",y1:"210",x2:"200",y2:"140",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"320",y1:"210",x2:"295",y2:"140",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"80",y1:"225",x2:"55",y2:"240",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"80",y1:"225",x2:"105",y2:"240",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"200",y1:"225",x2:"175",y2:"240",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"200",y1:"225",x2:"225",y2:"240",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"320",y1:"225",x2:"295",y2:"240",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"320",y1:"225",x2:"345",y2:"240",stroke:"#333",strokeWidth:"1"})]}),e==="hybrid"&&u.jsxs(u.Fragment,{children:[u.jsx("text",{x:"70",y:"180",textAnchor:"end",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Leaf层 (混合):"}),u.jsx("rect",{x:"30",y:"200",width:"100",height:"180",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),u.jsx("text",{x:"80",y:"390",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 1 (ToR)"}),u.jsx("rect",{x:"40",y:"210",width:"30",height:"160",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"40",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"55",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"L"}),u.jsx("rect",{x:"90",y:"210",width:"30",height:"160",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"90",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"105",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"L"}),u.jsx("rect",{x:"150",y:"200",width:"100",height:"180",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),u.jsx("text",{x:"200",y:"390",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 2 (MoR)"}),u.jsx("rect",{x:"185",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"200",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"Leaf"}),u.jsx("rect",{x:"160",y:"240",width:"30",height:"130",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"210",y:"240",width:"30",height:"130",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"270",y:"200",width:"100",height:"180",fill:"none",stroke:"#999",strokeWidth:"1",strokeDasharray:"4"}),u.jsx("text",{x:"320",y:"390",textAnchor:"middle",fill:"#333",fontSize:"12",fontWeight:"bold",children:"Pod 3 (ToR)"}),u.jsx("rect",{x:"280",y:"210",width:"30",height:"160",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"280",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"295",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"L"}),u.jsx("rect",{x:"330",y:"210",width:"30",height:"160",fill:"#e6e6e6",stroke:"#333",strokeWidth:"1"}),u.jsx("rect",{x:"330",y:"210",width:"30",height:"15",fill:"#3a0ca3",stroke:"#333",strokeWidth:"1"}),u.jsx("text",{x:"345",y:"222",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"L"}),u.jsx("line",{x1:"55",y1:"210",x2:"105",y2:"140",stroke:"#333",strokeWidth:"1",strokeDasharray:"2"}),u.jsx("line",{x1:"105",y1:"210",x2:"105",y2:"140",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"295",y1:"210",x2:"295",y2:"140",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"345",y1:"210",x2:"295",y2:"140",stroke:"#333",strokeWidth:"1",strokeDasharray:"2"}),u.jsx("line",{x1:"200",y1:"210",x2:"200",y2:"140",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"200",y1:"225",x2:"175",y2:"240",stroke:"#333",strokeWidth:"1"}),u.jsx("line",{x1:"200",y1:"225",x2:"225",y2:"240",stroke:"#333",strokeWidth:"1"})]})]}),zqe=({onNext:e,onSelectArchitecture:t})=>{var f;const[r,n]=A.useState("2-tier"),[i,s]=A.useState("tor"),[a,o]=A.useState("leaf-spine-tor");A.useEffect(()=>{let p="";switch(r){case"2-tier":p="leaf-spine";break;case"3-tier":p="leaf-spine-superspine";break;case"4-tier":p="leaf-spine-superspine-core";break;default:p="leaf-spine"}p+=`-${i}`,o(p),t(p)},[r,i,t]);const l=[{id:"2-tier",title:"Leaf + Spine",description:"基础数据中心架构，适合中小规模部署",component:u.jsx($qe,{deploymentType:i})},{id:"3-tier",title:"Leaf + Spine + SuperSpine",description:"增加SuperSpine聚合层，适合大规模部署",component:u.jsx(Bqe,{deploymentType:i})},{id:"4-tier",title:"Leaf + Spine + SuperSpine + Core",description:"多层架构，适合超大规模多区域互联",component:u.jsx(Fqe,{deploymentType:i})}],c=[{id:"tor",title:"ToR (Top of Rack)",description:"Leaf交换机位于每个机柜顶部，单独服务一个机柜"},{id:"mor",title:"MoR (Middle of Row)",description:"Leaf交换机位于行中间位置，服务多个机柜"},{id:"hybrid",title:"混合部署",description:"同时使用ToR和MoR部署方式"}],d=l.find(p=>p.id===r)||l[0],h=()=>{e()};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold mb-2",children:"定义网络架构"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"选择数据中心网络层级结构和物理部署方式"})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[u.jsxs(Ve,{children:[u.jsxs(nt,{children:[u.jsx(it,{children:"网络层级结构"}),u.jsx(qr,{children:"选择网络的逻辑层级数量，基于Leaf-Spine架构"})]}),u.jsx(Ge,{children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:l.map(p=>u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx("input",{type:"radio",id:`tier-${p.id}`,name:"architecture-tier",value:p.id,checked:r===p.id,onChange:()=>n(p.id),className:"mt-1"}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx("label",{htmlFor:`tier-${p.id}`,className:"font-medium",children:p.title}),u.jsx("p",{className:"text-sm text-gray-500",children:p.description})]})]},p.id))})})]}),u.jsxs(Ve,{children:[u.jsxs(nt,{children:[u.jsx(it,{children:"物理部署方式"}),u.jsx(qr,{children:"选择Leaf交换机的物理布置方式（布线风格）"})]}),u.jsx(Ge,{children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:c.map(p=>u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx("input",{type:"radio",id:`deployment-${p.id}`,name:"deployment-type",value:p.id,checked:i===p.id,onChange:()=>s(p.id),className:"mt-1"}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx("label",{htmlFor:`deployment-${p.id}`,className:"font-medium",children:p.title}),u.jsx("p",{className:"text-sm text-gray-500",children:p.description})]})]},p.id))})})]}),u.jsxs(Ve,{children:[u.jsxs(nt,{children:[u.jsx(it,{children:"架构可视化预览"}),u.jsxs(qr,{children:["当前选择: ",d.title," + ",(f=c.find(p=>p.id===i))==null?void 0:f.title]})]}),u.jsx(Ge,{className:"flex justify-center py-4",children:u.jsxs("div",{className:"w-full max-w-2xl",children:[d.component,u.jsxs("div",{className:"mt-4 text-sm text-gray-500 bg-gray-50 p-3 rounded-md",children:[u.jsx("p",{className:"font-medium mb-2",children:"重要提示:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[u.jsx("li",{children:"ToR和MoR是物理布线方式，不是逻辑架构层级"}),u.jsx("li",{children:"在后续步骤中，您需要指定每个设备的架构层级角色和物理位置"}),u.jsx("li",{children:"建议根据实际部署环境选择合适的层级和布线方式"})]})]})]})})]})]}),u.jsx("div",{className:"flex justify-end mt-8",children:u.jsx(Re,{onClick:h,children:"下一步"})})]})},Uqe=({pods:e,setPods:t,fabricConfig:r,onComplete:n})=>{const[i,s]=A.useState(!1),[a,o]=A.useState(0),[l,c]=A.useState([]),[d,h]=A.useState(2),f=e[a],p=x=>{const _=[...e];_[a]=x,t(_)};A.useEffect(()=>{if(!f)return;let x={...f};switch(r.architecturePattern){case"tor-only":x.torCount=Math.max(x.torCount,1),x.leafCount=0,x.spineCount=0,x.morCount=0;break;case"tor-leaf":x.torCount=Math.max(x.torCount,2),x.leafCount=Math.max(x.leafCount,2),x.spineCount=0,x.morCount=0;break;case"tor-leaf-spine":x.torCount=Math.max(x.torCount,2),x.leafCount=Math.max(x.leafCount,2),x.spineCount=Math.max(x.spineCount,2),x.morCount=0;break;case"leaf-spine-core":x.torCount=Math.max(x.torCount,0),x.leafCount=Math.max(x.leafCount,2),x.spineCount=Math.max(x.spineCount,2),x.morCount=Math.max(x.morCount,2);break}p(x)},[r.architecturePattern,a]),A.useEffect(()=>{if(!f)return;const x=[];for(let b=0;b<d;b++){const w=f.racks.find(S=>S.id===`${f.id}-${b+1}`);w?x.push(w):x.push({id:`${f.id}-${b+1}`,name:`Rack ${b+1}`,devices:[]})}c(x);const _={...f,racks:x};p(_)},[d,f==null?void 0:f.id]),A.useEffect(()=>{let x=!0;e.forEach(_=>{switch(r.architecturePattern){case"tor-only":x=x&&_.torCount>0;break;case"tor-leaf":x=x&&_.torCount>0&&_.leafCount>0;break;case"tor-leaf-spine":x=x&&_.torCount>0&&_.leafCount>0&&_.spineCount>0;break;case"leaf-spine-core":x=x&&_.leafCount>0&&_.spineCount>0&&_.morCount>0;break}}),s(x),x&&n()},[e,r.architecturePattern]);const g=(x,_)=>{const b=parseInt(_)||0;if(b>=0){const w={...f,[x]:b};p(w)}},v=x=>{const _=parseInt(x)||0;_>0&&h(_)},m=()=>{a>0&&o(a-1)},y=()=>{a<e.length-1&&o(a+1)};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs(nt,{children:[u.jsx(it,{children:"Pod结构配置"}),u.jsxs(qr,{children:["根据您选择的架构模式 (",r.architecturePattern,") 配置每个Pod的结构"]})]}),u.jsxs(Ge,{children:[e.length>1&&u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx(Re,{onClick:m,disabled:a===0,variant:"outline",children:"上一个Pod"}),u.jsxs("span",{className:"font-medium",children:["Pod ",a+1," / ",e.length]}),u.jsx(Re,{onClick:y,disabled:a===e.length-1,variant:"outline",children:"下一个Pod"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Pod名称"}),u.jsx(er,{value:(f==null?void 0:f.name)||"",onChange:x=>p({...f,name:x.target.value}),placeholder:"输入Pod名称"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"机架数量"}),u.jsx(er,{type:"number",min:"1",value:d,onChange:x=>v(x.target.value)}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"当前Pod中的机架数量"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.architecturePattern!=="leaf-spine-core"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"ToR交换机数量"}),u.jsx(er,{type:"number",min:"0",value:(f==null?void 0:f.torCount)||0,onChange:x=>g("torCount",x.target.value),disabled:r.architecturePattern==="leaf-spine-core"})]}),(r.architecturePattern==="tor-leaf"||r.architecturePattern==="tor-leaf-spine"||r.architecturePattern==="leaf-spine-core")&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Leaf交换机数量"}),u.jsx(er,{type:"number",min:"0",value:(f==null?void 0:f.leafCount)||0,onChange:x=>g("leafCount",x.target.value)})]}),(r.architecturePattern==="tor-leaf-spine"||r.architecturePattern==="leaf-spine-core")&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Spine交换机数量"}),u.jsx(er,{type:"number",min:"0",value:(f==null?void 0:f.spineCount)||0,onChange:x=>g("spineCount",x.target.value)})]}),r.architecturePattern==="leaf-spine-core"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"MoR交换机数量"}),u.jsx(er,{type:"number",min:"0",value:(f==null?void 0:f.morCount)||0,onChange:x=>g("morCount",x.target.value)})]})]}),u.jsxs("div",{className:"mt-8",children:[u.jsx("h3",{className:"font-medium mb-4",children:"机架列表"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(x=>u.jsxs(Ve,{className:"p-4",children:[u.jsx("div",{className:"font-medium mb-2",children:x.name}),u.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",x.id]})]},x.id))})]})]})]})},Hqe=({pods:e,devices:t,setDevices:r,onComplete:n})=>{var E,T;const[i,s]=A.useState(!1),[a,o]=A.useState("manual"),[l,c]=A.useState(((E=e[0])==null?void 0:E.id)||""),[d,h]=A.useState(""),[f,p]=A.useState([{name:"",vendor:"",model:"",role:"tor",podId:"",rackId:""}]),g=((T=e.find(N=>N.id===l))==null?void 0:T.racks)||[];A.useEffect(()=>{t.length>0?(s(!0),n()):s(!1)},[t,n]);const v=N=>{c(N.target.value),h("")},m=N=>{h(N.target.value)},y=N=>{o(N)},x=(N,R,P)=>{const D=[...f];D[N]={...D[N],[R]:P},p(D)},_=()=>{p([...f,{name:"",vendor:"",model:"",role:"tor",podId:l,rackId:d}])},b=N=>{const R=[...f];R.splice(N,1),p(R)},w=()=>{const R=f.filter(P=>P.name&&P.name.trim()!=="").map((P,D)=>({id:`device-${Date.now()}-${D}`,name:P.name||`Device ${D+1}`,vendor:P.vendor||"other",model:P.model||"Generic",role:P.role||"tor",podId:P.podId||l,rackId:P.rackId||d,ports:[]}));r(P=>[...P,...R]),p([{name:"",vendor:"",model:"",role:"tor",podId:l,rackId:d}])},S=N=>{var D;const R=(D=N.target.files)==null?void 0:D[0];if(!R)return;const P=new FileReader;P.onload=$=>{var L;try{const O=JSON.parse((L=$.target)==null?void 0:L.result);if(Array.isArray(O)){const j=O.map((M,I)=>({id:M.id||`device-${Date.now()}-${I}`,name:M.name||`Device ${I+1}`,vendor:M.vendor||"other",model:M.model||"Generic",role:M.role||"tor",podId:M.podId||l,rackId:M.rackId||d,ports:M.ports||[]}));r(M=>[...M,...j])}}catch(O){console.error("Error parsing JSON file:",O),alert("Invalid JSON file format. Please check your file and try again.")}},P.readAsText(R)},k=()=>{var $,L,O;const N=[{name:"Switch1",vendor:"cisco",model:"Nexus 9300",role:"tor",podId:(($=e[0])==null?void 0:$.id)||"",rackId:((O=(L=e[0])==null?void 0:L.racks[0])==null?void 0:O.id)||"",ports:[{id:"port1",name:"Ethernet1/1",type:"ethernet",speed:"100G"}]}],R=new Blob([JSON.stringify(N,null,2)],{type:"application/json"}),P=URL.createObjectURL(R),D=document.createElement("a");D.href=P,D.download="device-template.json",document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(P)},C=N=>{r(R=>R.filter(P=>P.id!==N))};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs(nt,{children:[u.jsx(it,{children:"设备导入"}),u.jsx(qr,{children:"导入您的网络设备进行拓扑构建和端口映射"})]}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex space-x-4 mb-4",children:[u.jsx(Re,{variant:a==="manual"?"default":"outline",onClick:()=>y("manual"),children:"手动添加"}),u.jsx(Re,{variant:a==="file"?"default":"outline",onClick:()=>y("file"),children:"JSON文件导入"}),u.jsx(Re,{variant:a==="template"?"default":"outline",onClick:()=>y("template"),children:"模板"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Pod"}),u.jsxs("select",{className:"w-full p-2 border rounded-md",value:l,onChange:v,children:[u.jsx("option",{value:"",children:"-- 选择 Pod --"}),e.map(N=>u.jsx("option",{value:N.id,children:N.name},N.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"机架"}),u.jsxs("select",{className:"w-full p-2 border rounded-md",value:d,onChange:m,disabled:!l,children:[u.jsx("option",{value:"",children:"-- 选择机架 --"}),g.map(N=>u.jsx("option",{value:N.id,children:N.name},N.id))]})]})]}),a==="manual"&&u.jsxs("div",{className:"space-y-4",children:[f.map((N,R)=>u.jsxs(Ve,{className:"p-4",children:[u.jsxs("div",{className:"flex justify-between mb-2",children:[u.jsxs("h4",{className:"font-medium",children:["设备 ",R+1]}),f.length>1&&u.jsx("button",{onClick:()=>b(R),className:"text-red-500 hover:text-red-700",children:"删除"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",children:"设备名称"}),u.jsx(er,{value:N.name||"",onChange:P=>x(R,"name",P.target.value),placeholder:"例如: Switch1"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",children:"角色"}),u.jsxs("select",{className:"w-full p-2 border rounded-md",value:N.role||"tor",onChange:P=>x(R,"role",P.target.value),children:[u.jsx("option",{value:"tor",children:"ToR"}),u.jsx("option",{value:"leaf",children:"Leaf"}),u.jsx("option",{value:"spine",children:"Spine"}),u.jsx("option",{value:"core",children:"Core"}),u.jsx("option",{value:"server",children:"Server"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",children:"厂商"}),u.jsxs("select",{className:"w-full p-2 border rounded-md",value:N.vendor||"",onChange:P=>x(R,"vendor",P.target.value),children:[u.jsx("option",{value:"",children:"-- 选择厂商 --"}),u.jsx("option",{value:"cisco",children:"Cisco"}),u.jsx("option",{value:"arista",children:"Arista"}),u.jsx("option",{value:"juniper",children:"Juniper"}),u.jsx("option",{value:"huawei",children:"Huawei"}),u.jsx("option",{value:"other",children:"其他"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",children:"型号"}),u.jsx(er,{value:N.model||"",onChange:P=>x(R,"model",P.target.value),placeholder:"例如: Nexus 9300"})]})]})]},R)),u.jsxs("div",{className:"flex justify-between mt-4",children:[u.jsx(Re,{variant:"outline",onClick:_,children:"添加设备"}),u.jsx(Re,{onClick:w,disabled:!f.some(N=>N.name&&N.name.trim()!==""),children:"保存设备"})]})]}),a==="file"&&u.jsx("div",{className:"space-y-4",children:u.jsx(Ve,{className:"p-6",children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"mb-4",children:"上传设备JSON文件"}),u.jsx(er,{type:"file",accept:".json",onChange:S,className:"mb-4"}),u.jsx("p",{className:"text-sm text-gray-500",children:"文件格式应为JSON数组，包含设备对象"})]})})}),a==="template"&&u.jsx("div",{className:"space-y-4",children:u.jsx(Ve,{className:"p-6",children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"mb-4",children:"下载设备模板"}),u.jsx(Re,{onClick:k,children:"下载模板文件"}),u.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"下载JSON模板文件，填写后上传。"})]})})})]}),u.jsxs("div",{className:"mt-8",children:[u.jsxs("h3",{className:"font-medium mb-4",children:["已导入设备 (",t.length,")"]}),t.length===0?u.jsx("p",{className:"text-center text-gray-500 p-8",children:"尚未导入任何设备，请使用上方工具添加设备。"}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(N=>{var D;const R=e.find($=>$.id===N.podId),P=R==null?void 0:R.racks.find($=>$.id===N.rackId);return u.jsxs(Ve,{className:"p-4",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("h4",{className:"font-medium",children:N.name}),u.jsx("button",{onClick:()=>C(N.id),className:"text-red-500 hover:text-red-700",children:"删除"})]}),u.jsxs("div",{className:"text-sm text-gray-700 mt-2",children:[u.jsxs("p",{children:[N.vendor," ",N.model]}),u.jsxs("p",{children:["角色: ",N.role.toUpperCase()]}),u.jsxs("p",{children:["位置: ",(R==null?void 0:R.name)||"未分配"," / ",(P==null?void 0:P.name)||"未分配"]}),u.jsxs("p",{children:["端口数量: ",((D=N.ports)==null?void 0:D.length)||0]})]})]},N.id)})})]})]})]})};let GS;const Vqe=new Uint8Array(16);function Wqe(){if(!GS&&(GS=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!GS))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return GS(Vqe)}const $i=[];for(let e=0;e<256;++e)$i.push((e+256).toString(16).slice(1));function Gqe(e,t=0){return $i[e[t+0]]+$i[e[t+1]]+$i[e[t+2]]+$i[e[t+3]]+"-"+$i[e[t+4]]+$i[e[t+5]]+"-"+$i[e[t+6]]+$i[e[t+7]]+"-"+$i[e[t+8]]+$i[e[t+9]]+"-"+$i[e[t+10]]+$i[e[t+11]]+$i[e[t+12]]+$i[e[t+13]]+$i[e[t+14]]+$i[e[t+15]]}const qqe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),wq={randomUUID:qqe};function Sq(e,t,r){if(wq.randomUUID&&!e)return wq.randomUUID();e=e||{};const n=e.random||(e.rng||Wqe)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Gqe(n)}function Yqe(e,t){return A.useReducer((r,n)=>t[r][n]??r,e)}var yw=e=>{const{present:t,children:r}=e,n=Kqe(t),i=typeof r=="function"?r({present:n.isPresent}):A.Children.only(r),s=Xt(n.ref,Zqe(i));return typeof r=="function"||n.isPresent?A.cloneElement(i,{ref:s}):null};yw.displayName="Presence";function Kqe(e){const[t,r]=A.useState(),n=A.useRef({}),i=A.useRef(e),s=A.useRef("none"),a=e?"mounted":"unmounted",[o,l]=Yqe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const c=qS(n.current);s.current=o==="mounted"?c:"none"},[o]),In(()=>{const c=n.current,d=i.current;if(d!==e){const f=s.current,p=qS(c);e?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),In(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,h=p=>{const v=qS(n.current).includes(p.animationName);if(p.target===t&&v&&(l("ANIMATION_END"),!i.current)){const m=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=m)})}},f=p=>{p.target===t&&(s.current=qS(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:A.useCallback(c=>{c&&(n.current=getComputedStyle(c)),r(c)},[])}}function qS(e){return(e==null?void 0:e.animationName)||"none"}function Zqe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var U$="Dialog",[nue,Mpt]=Oa(U$),[Xqe,dl]=nue(U$),iue=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,o=A.useRef(null),l=A.useRef(null),[c=!1,d]=QE({prop:n,defaultProp:i,onChange:s});return u.jsx(Xqe,{scope:t,triggerRef:o,contentRef:l,contentId:Od(),titleId:Od(),descriptionId:Od(),open:c,onOpenChange:d,onOpenToggle:A.useCallback(()=>d(h=>!h),[d]),modal:a,children:r})};iue.displayName=U$;var sue="DialogTrigger",Jqe=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=dl(sue,r),s=Xt(t,i.triggerRef);return u.jsx(kn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":W$(i.open),...n,ref:s,onClick:It(e.onClick,i.onOpenToggle)})});Jqe.displayName=sue;var H$="DialogPortal",[Qqe,aue]=nue(H$,{forceMount:void 0}),oue=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,s=dl(H$,t);return u.jsx(Qqe,{scope:t,forceMount:r,children:A.Children.map(n,a=>u.jsx(yw,{present:r||s.open,children:u.jsx(w$,{asChild:!0,container:i,children:a})}))})};oue.displayName=H$;var sT="DialogOverlay",lue=A.forwardRef((e,t)=>{const r=aue(sT,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=dl(sT,e.__scopeDialog);return s.modal?u.jsx(yw,{present:n||s.open,children:u.jsx(tYe,{...i,ref:t})}):null});lue.displayName=sT;var eYe=up("DialogOverlay.RemoveScroll"),tYe=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=dl(sT,r);return u.jsx(C$,{as:eYe,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(kn.div,{"data-state":W$(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),pp="DialogContent",cue=A.forwardRef((e,t)=>{const r=aue(pp,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=dl(pp,e.__scopeDialog);return u.jsx(yw,{present:n||s.open,children:s.modal?u.jsx(rYe,{...i,ref:t}):u.jsx(nYe,{...i,ref:t})})});cue.displayName=pp;var rYe=A.forwardRef((e,t)=>{const r=dl(pp,e.__scopeDialog),n=A.useRef(null),i=Xt(t,r.contentRef,n);return A.useEffect(()=>{const s=n.current;if(s)return Tle(s)},[]),u.jsx(uue,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:It(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:It(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:It(e.onFocusOutside,s=>s.preventDefault())})}),nYe=A.forwardRef((e,t)=>{const r=dl(pp,e.__scopeDialog),n=A.useRef(!1),i=A.useRef(!1);return u.jsx(uue,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((c=r.triggerRef.current)==null?void 0:c.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),uue=A.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=e,o=dl(pp,r),l=A.useRef(null),c=Xt(t,l);return qoe(),u.jsxs(u.Fragment,{children:[u.jsx(h$,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:u.jsx(d$,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":W$(o.open),...a,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(iYe,{titleId:o.titleId}),u.jsx(aYe,{contentRef:l,descriptionId:o.descriptionId})]})]})}),V$="DialogTitle",due=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=dl(V$,r);return u.jsx(kn.h2,{id:i.titleId,...n,ref:t})});due.displayName=V$;var hue="DialogDescription",fue=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=dl(hue,r);return u.jsx(kn.p,{id:i.descriptionId,...n,ref:t})});fue.displayName=hue;var pue="DialogClose",gue=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=dl(pue,r);return u.jsx(kn.button,{type:"button",...n,ref:t,onClick:It(e.onClick,()=>i.onOpenChange(!1))})});gue.displayName=pue;function W$(e){return e?"open":"closed"}var mue="DialogTitleWarning",[Ppt,vue]=CHe(mue,{contentName:pp,titleName:V$,docsSlug:"dialog"}),iYe=({titleId:e})=>{const t=vue(mue),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return A.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},sYe="DialogDescriptionWarning",aYe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vue(sYe).contentName}}.`;return A.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},oYe=iue,lYe=oue,yue=lue,xue=cue,_ue=due,bue=fue,cYe=gue;const Wc=oYe,uYe=lYe,wue=A.forwardRef(({className:e,...t},r)=>u.jsx(yue,{ref:r,className:Yt("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));wue.displayName=yue.displayName;const Ul=A.forwardRef(({className:e,children:t,...r},n)=>u.jsxs(uYe,{children:[u.jsx(wue,{}),u.jsxs(xue,{ref:n,className:Yt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,u.jsxs(cYe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(Ps,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ul.displayName=xue.displayName;const Hl=({className:e,...t})=>u.jsx("div",{className:Yt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Hl.displayName="DialogHeader";const Gc=({className:e,...t})=>u.jsx("div",{className:Yt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Gc.displayName="DialogFooter";const Vl=A.forwardRef(({className:e,...t},r)=>u.jsx(_ue,{ref:r,className:Yt("text-lg font-semibold leading-none tracking-tight",e),...t}));Vl.displayName=_ue.displayName;const Nf=A.forwardRef(({className:e,...t},r)=>u.jsx(bue,{ref:r,className:Yt("text-sm text-muted-foreground",e),...t}));Nf.displayName=bue.displayName;const dYe=({devices:e,selectedDeviceId:t,onDeviceSelect:r,onPortsUpdated:n})=>{const[i,s]=A.useState(e.find(M=>M.id===t)),[a,o]=A.useState(null),[l,c]=A.useState(!1),[d,h]=A.useState(0),[f,p]=A.useState(null),[g,v]=A.useState([]),[m,y]=A.useState(""),[x,_]=A.useState(!1),[b,w]=A.useState(!1),[S,k]=A.useState(null),[C,E]=A.useState(""),T=A.useRef(null),N=A.useRef(null),R=A.useRef(null);A.useEffect(()=>{const M=e.find(I=>I.id===t);s(M),M!=null&&M.panelImage?o(M.panelImage):o(null)},[t,e]);const P=M=>{var U;p(null);const I=(U=M.target.files)==null?void 0:U[0];if(!I){p("No file selected");return}if(!I.type.match("image.*")){p("Please select an image file");return}if(I.size>5*1024*1024){p("File size exceeds 5MB limit");return}const z=new FileReader;z.onprogress=F=>{if(F.lengthComputable){const G=Math.round(F.loaded/F.total*100);h(G),c(!0),p(null)}},z.onload=F=>{var Y;const G=(Y=F.target)==null?void 0:Y.result;o(G),N.current&&(N.current.value=""),c(!1)},z.onerror=()=>{p("Error reading file"),c(!1)},z.readAsDataURL(I)},D=async()=>{if(!a||!i){p("No image available for OCR");return}c(!0),p(null);try{const M=await eoe.createWorker("eng"),I=await M.recognize(a),z=[{text:"Port1",confidence:80,bounds:{x0:50,y0:50,x1:100,y1:70}},{text:"Port2",confidence:85,bounds:{x0:150,y0:50,x1:200,y1:70}}];if(z.length===0)p("No port identifiers detected. Try a clearer image or manually add ports.");else{const U=z.map(F=>({id:Sq(),name:F.text,x:F.bounds.x0,y:F.bounds.y0,width:F.bounds.x1-F.bounds.x0,height:F.bounds.y1-F.bounds.y0}));v(F=>[...F,...U])}await M.terminate(),c(!1)}catch(M){console.error("OCR processing error:",M),p("Failed to process the image. Please try again."),c(!1)}},$=M=>{if(!T.current||!R.current||!i)return;const z=T.current.getBoundingClientRect(),U=M.clientX-z.left,F=M.clientY-z.top,G={id:Sq(),name:`Port_${g.length+1}`,x:U,y:F,width:30,height:20};k(G),E(G.name),w(!0)},L=()=>{if(!S)return;const M={...S,name:C};v(I=>[...I,M]),w(!1),k(null),E("")},O=M=>{v(I=>I.filter(z=>z.id!==M))},j=()=>{if(!T.current||!R.current)return;const M=T.current,I=M.getContext("2d");I&&(I.clearRect(0,0,M.width,M.height),R.current.complete&&(M.width=R.current.width,M.height=R.current.height,I.drawImage(R.current,0,0),g.forEach(z=>{I.strokeStyle="red",I.lineWidth=2,I.strokeRect(z.x,z.y,z.width,z.height),I.fillStyle="white",I.fillRect(z.x,z.y-20,I.measureText(z.name).width+10,20),I.fillStyle="black",I.font="14px Arial",I.fillText(z.name,z.x+5,z.y-5)})))};return A.useEffect(()=>{if(a){const M=new Image;M.src=a,M.onload=j,R.current=M}},[a]),A.useEffect(()=>{j()},[g]),A.useEffect(()=>{g.length>0&&n(g)},[g,n]),u.jsxs("div",{className:"p-4",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"OCR Port Mapping"}),f&&u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:f}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Device:"}),u.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded",value:t,onChange:M=>r(M.target.value),children:[u.jsx("option",{value:"",children:"-- Select a device --"}),e.map(M=>u.jsxs("option",{value:M.id,children:[M.name," (",M.model||"Unknown",")"]},M.id))]})]}),i?u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(Ve,{children:u.jsxs(Ge,{className:"p-4",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upload Panel Image"}),u.jsx(er,{type:"file",ref:N,accept:"image/*",onChange:P,className:"mb-2"}),d>0&&d<100&&u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-4",children:u.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${d}%`}})}),u.jsxs("div",{className:"flex space-x-2 mt-2",children:[u.jsx(Re,{onClick:()=>{var M;return(M=N.current)==null?void 0:M.click()},variant:"secondary",children:"Browse..."}),u.jsx(Re,{onClick:D,disabled:!a||l,variant:"default",children:l?"Processing...":"Run OCR"})]})]})}),u.jsx(Ve,{children:u.jsxs(Ge,{className:"p-4",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Detected Ports"}),g.length===0?u.jsx("p",{className:"text-gray-500",children:"No ports detected yet."}):u.jsx("div",{className:"space-y-2 max-h-60 overflow-auto",children:g.map(M=>u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx(Ce,{variant:"secondary",children:M.name}),u.jsx(Re,{variant:"destructive",size:"sm",onClick:()=>O(M.id),children:"Delete"})]},M.id))})]})}),u.jsx("div",{className:"col-span-1 md:col-span-2 relative",children:a?u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"mb-2 text-sm text-gray-600",children:"Click on the image to manually add port markers, or use OCR to automatically detect ports."}),u.jsxs("div",{className:"relative border border-gray-300 rounded overflow-hidden",children:[u.jsx("img",{src:a,alt:"Device panel",style:{display:"none"}}),u.jsx("canvas",{ref:T,onClick:$,className:"cursor-crosshair"})]})]}):u.jsx("div",{className:"border border-dashed border-gray-300 rounded p-8 text-center text-gray-500",children:"No panel image available. Please upload an image first."})})]}):u.jsx("div",{className:"text-center p-8 text-gray-500",children:"Please select a device to begin port mapping."}),u.jsx(Wc,{open:b,onOpenChange:w,children:u.jsxs(Ul,{children:[u.jsx(Hl,{children:u.jsx(Vl,{children:"Name Port"})}),u.jsx("div",{className:"py-4",children:u.jsx(er,{value:C,onChange:M=>E(M.target.value),placeholder:"Enter port name",className:"w-full"})}),u.jsxs(Gc,{children:[u.jsx(Re,{variant:"secondary",onClick:()=>w(!1),children:"Cancel"}),u.jsx(Re,{onClick:L,disabled:!C.trim(),children:"Save"})]})]})})]})},hYe=({progress:e,message:t,isVisible:r})=>r?u.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white shadow-md p-3 z-50",children:u.jsxs("div",{className:"container mx-auto max-w-4xl",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:t||"处理中..."}),u.jsxs("span",{className:"text-sm font-medium",children:[e,"%"]})]}),u.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${e}%`}})})]})}):null,fYe=({pods:e,devices:t,portMappings:r,topologyData:n,setTopologyData:i,dataSources:s,onComplete:a})=>{const[o,l]=A.useState(!1),[c,d]=A.useState(0),[h,f]=A.useState(!1),[p,g]=A.useState(""),[v,m]=A.useState(!1),y=!!s.prometheus,x=()=>{if(!y){f(!0),g("需要至少配置Prometheus数据源才能生成拓扑");return}l(!0),f(!1),g(""),d(0);const w=setInterval(()=>{d(S=>{const k=S+Math.floor(Math.random()*10);return k>=100?(clearInterval(w),setTimeout(()=>{l(!1),m(!0),i({nodes:t.map(C=>({id:C.id,label:C.name,type:C.role,status:"up",utilization:Math.floor(Math.random()*90)+10})),links:_(t)}),a()},500),100):k})},300)},_=w=>{const S=[],k=w.filter(T=>T.role==="tor"),C=w.filter(T=>T.role==="leaf"),E=w.filter(T=>T.role==="spine");if(C.length>0)for(const T of k){const N=C.sort(()=>.5-Math.random()).slice(0,Math.min(2,C.length));for(const R of N)S.push({id:`${T.id}-${R.id}`,source:T.id,target:R.id,status:"up",bandwidth:Math.floor(Math.random()*100)})}if(E.length>0)for(const T of C)for(const N of E)S.push({id:`${T.id}-${N.id}`,source:T.id,target:N.id,status:"up",bandwidth:Math.floor(Math.random()*100)});if(C.length===0&&k.length>1)for(let T=0;T<k.length;T++)for(let N=T+1;N<k.length;N++)S.push({id:`${k[T].id}-${k[N].id}`,source:k[T].id,target:k[N].id,status:"up",bandwidth:Math.floor(Math.random()*100)});return S},b=()=>n?u.jsxs("div",{className:"mt-6 p-4 border rounded-md bg-gray-50",children:[u.jsx("h4",{className:"text-lg font-medium mb-3",children:"实时指标采集状态"}),u.jsx("div",{className:"space-y-4",children:Object.entries(s).filter(([w,S])=>S).map(([w,S])=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:w.charAt(0).toUpperCase()+w.slice(1)}),u.jsx("span",{className:"text-sm text-gray-500 ml-2",children:S})]}),u.jsx("div",{className:"flex-1 text-right text-sm",children:u.jsx("span",{className:"text-green-600",children:"数据正常"})})]},w))})]}):null;return u.jsxs("div",{className:"space-y-6",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"🔄 步骤 6: 拓扑构建"}),u.jsx("p",{className:"text-gray-600",children:"根据配置的设备信息和数据源生成网络拓扑图。系统将自动发现设备连接关系并构建可视化拓扑。"}),!y&&u.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-md text-yellow-800",children:u.jsxs("p",{className:"flex items-center",children:[u.jsx("span",{className:"mr-2",children:"⚠️"}),u.jsx("span",{children:"需要配置Prometheus数据源才能生成完整拓扑"})]})}),u.jsx("div",{className:"flex justify-center mt-8",children:u.jsx("button",{onClick:x,disabled:o,className:"px-6 py-3 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300 disabled:bg-gray-300 disabled:cursor-not-allowed",children:o?"生成中...":v?"重新生成拓扑":"生成网络拓扑"})}),u.jsx(hYe,{progress:c,isVisible:o,message:`正在从${s.prometheus}采集设备数据...`}),h&&u.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md text-red-800",children:u.jsx("p",{children:p})}),n&&u.jsxs("div",{className:"mt-8",children:[u.jsx("h4",{className:"text-lg font-medium mb-4",children:"网络拓扑预览"}),u.jsxs("div",{className:"border rounded-md p-4 bg-white",children:[u.jsx("div",{className:"aspect-video bg-gray-50 border rounded-md flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-lg",children:"拓扑生成成功"}),u.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["包含 ",n.nodes.length," 个设备节点和 ",n.links.length," 个链接"]})]})}),u.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-3 bg-gray-50 rounded-md",children:[u.jsx("h5",{className:"font-medium mb-2",children:"设备统计"}),u.jsxs("ul",{className:"text-sm space-y-1",children:[u.jsxs("li",{children:["ToR交换机: ",t.filter(w=>w.role==="tor").length," 台"]}),u.jsxs("li",{children:["Leaf交换机: ",t.filter(w=>w.role==="leaf").length," 台"]}),u.jsxs("li",{children:["Spine交换机: ",t.filter(w=>w.role==="spine").length," 台"]}),u.jsxs("li",{children:["其他设备: ",t.filter(w=>!["tor","leaf","spine"].includes(w.role)).length," 台"]})]})]}),u.jsxs("div",{className:"p-3 bg-gray-50 rounded-md",children:[u.jsx("h5",{className:"font-medium mb-2",children:"链接统计"}),u.jsxs("ul",{className:"text-sm space-y-1",children:[u.jsxs("li",{children:["链接总数: ",n.links.length]}),u.jsx("li",{children:"健康状态: 100%"}),u.jsxs("li",{children:["平均带宽利用率: ",Math.floor(n.links.reduce((w,S)=>w+S.bandwidth,0)/n.links.length),"%"]})]})]})]})]})]}),b()]})},pYe=({dataSources:e,setDataSources:t,onComplete:r})=>{const[n,i]=A.useState(!1),[s,a]=A.useState({}),[o,l]=A.useState(!1),[c,d]=A.useState(!1);A.useEffect(()=>{const g=localStorage.getItem("datasource_prometheus"),v=localStorage.getItem("datasource_loki"),m=localStorage.getItem("datasource_influxdb"),y=localStorage.getItem("datasource_elasticsearch"),x={prometheus:g||e.prometheus,loki:v||e.loki,influxdb:m||e.influxdb,elasticsearch:y||e.elasticsearch};(g||v||m||y)&&t(x)},[]),A.useEffect(()=>{e.prometheus?(i(!0),r()):i(!1)},[e,r]);const h=(g,v)=>{t(m=>({...m,[g]:v})),a(m=>{const y={...m};return delete y[g],y})},f=async g=>{if(e[g])try{a(m=>({...m,[g]:{success:!1,message:"正在测试连接..."}})),await new Promise(m=>setTimeout(m,1e3)),!0&&a(m=>({...m,[g]:{success:!0,message:g==="prometheus"?"连接成功！服务器版本: 2.42.0":"连接成功！"}}))}catch(v){a(m=>({...m,[g]:{success:!1,message:"连接错误: "+(v instanceof Error?v.message:String(v))}}))}},p=()=>{d(!0),Object.entries(e).forEach(([g,v])=>{v?localStorage.setItem(`datasource_${g}`,v):localStorage.removeItem(`datasource_${g}`)}),setTimeout(()=>{d(!1),l(!0),setTimeout(()=>l(!1),3e3)},800)};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold mb-2",children:"数据源配置"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"设置网络拓扑数据源，以便从中获取设备状态、连接关系和性能指标"})]}),u.jsxs(Ve,{children:[u.jsxs(nt,{children:[u.jsxs(it,{children:["Prometheus ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx(qr,{children:"主要数据源，用于监控和获取设备状态及性能指标"})]}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("input",{type:"text",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md",placeholder:"http://prometheus:9090",value:e.prometheus,onChange:g=>h("prometheus",g.target.value)}),u.jsx("button",{className:`px-4 py-2 rounded-md ${e.prometheus?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:!e.prometheus,onClick:()=>f("prometheus"),children:"测试连接"})]}),s.prometheus&&u.jsxs("div",{className:`mt-2 text-sm flex items-center ${s.prometheus.success?"text-green-600":"text-red-600"}`,children:[s.prometheus.success?u.jsx(Y0,{className:"w-4 h-4 mr-1"}):u.jsx(Wy,{className:"w-4 h-4 mr-1"}),s.prometheus.message]})]})]}),u.jsxs(Ve,{children:[u.jsxs(nt,{children:[u.jsxs(it,{children:["Loki ",u.jsx("span",{className:"text-gray-400",children:"(可选)"})]}),u.jsx(qr,{children:"用于采集和查询日志数据"})]}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("input",{type:"text",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md",placeholder:"http://loki:3100",value:e.loki,onChange:g=>h("loki",g.target.value)}),u.jsx("button",{className:`px-4 py-2 rounded-md ${e.loki?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:!e.loki,onClick:()=>f("loki"),children:"测试连接"})]}),s.loki&&u.jsxs("div",{className:`mt-2 text-sm flex items-center ${s.loki.success?"text-green-600":"text-red-600"}`,children:[s.loki.success?u.jsx(Y0,{className:"w-4 h-4 mr-1"}):u.jsx(Wy,{className:"w-4 h-4 mr-1"}),s.loki.message]})]})]}),u.jsxs(Ve,{children:[u.jsxs(nt,{children:[u.jsxs(it,{children:["InfluxDB ",u.jsx("span",{className:"text-gray-400",children:"(可选)"})]}),u.jsx(qr,{children:"用于存储和查询时间序列数据"})]}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("input",{type:"text",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md",placeholder:"http://influxdb:8086",value:e.influxdb,onChange:g=>h("influxdb",g.target.value)}),u.jsx("button",{className:`px-4 py-2 rounded-md ${e.influxdb?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:!e.influxdb,onClick:()=>f("influxdb"),children:"测试连接"})]}),s.influxdb&&u.jsxs("div",{className:`mt-2 text-sm flex items-center ${s.influxdb.success?"text-green-600":"text-red-600"}`,children:[s.influxdb.success?u.jsx(Y0,{className:"w-4 h-4 mr-1"}):u.jsx(Wy,{className:"w-4 h-4 mr-1"}),s.influxdb.message]})]})]}),u.jsxs(Ve,{children:[u.jsxs(nt,{children:[u.jsxs(it,{children:["Elasticsearch ",u.jsx("span",{className:"text-gray-400",children:"(可选)"})]}),u.jsx(qr,{children:"用于搜索和分析日志及其他数据"})]}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("input",{type:"text",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md",placeholder:"http://elasticsearch:9200",value:e.elasticsearch,onChange:g=>h("elasticsearch",g.target.value)}),u.jsx("button",{className:`px-4 py-2 rounded-md ${e.elasticsearch?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:!e.elasticsearch,onClick:()=>f("elasticsearch"),children:"测试连接"})]}),s.elasticsearch&&u.jsxs("div",{className:`mt-2 text-sm flex items-center ${s.elasticsearch.success?"text-green-600":"text-red-600"}`,children:[s.elasticsearch.success?u.jsx(Y0,{className:"w-4 h-4 mr-1"}):u.jsx(Wy,{className:"w-4 h-4 mr-1"}),s.elasticsearch.message]})]})]}),u.jsxs("div",{className:"bg-blue-50 p-4 border border-blue-200 rounded-md",children:[u.jsx("h4",{className:"text-blue-800 font-medium",children:"数据源说明"}),u.jsxs("ul",{className:"mt-2 space-y-1 text-sm text-blue-700 list-disc list-inside",children:[u.jsx("li",{children:"Prometheus 是必需的数据源，用于获取设备状态和连接关系"}),u.jsx("li",{children:"LLDP 信息通过 Prometheus 中的 snmp_exporter 采集"}),u.jsx("li",{children:"其他数据源可选，但会提供更丰富的监控功能"}),u.jsx("li",{children:"您可以在拓扑创建完成后再配置或修改数据源"})]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[n&&u.jsxs("div",{className:"text-green-600 text-sm flex items-center",children:[u.jsx(Y0,{className:"w-4 h-4 mr-1"}),"配置有效，已完成此步骤"]}),u.jsx(Re,{className:`ml-auto ${c?"bg-gray-400":o?"bg-green-500":"bg-green-600 hover:bg-green-700"}`,disabled:c||!e.prometheus,onClick:p,children:c?"保存中...":o?"✓ 已保存":"保存配置"})]})]})},gYe=()=>{const[e,t]=A.useState("step1"),[r,n]=A.useState({podCount:1,architecturePattern:"tor-only"}),[i,s]=A.useState([{id:"1",name:"Pod 1",torCount:2,leafCount:0,spineCount:0,morCount:0,racks:[]}]),[a,o]=A.useState([]),[l,c]=A.useState([]),[d,h]=A.useState(null),[f,p]=A.useState({prometheus:"",loki:"",influxdb:"",elasticsearch:""}),[g,v]=A.useState({step1:!1,step2:!1,step3:!1,step4:!1,step5:!1,step6:!1}),m=E=>{n(T=>({...T,architecturePattern:E})),x("step1")},y=[{id:"step1",title:"定义架构",component:u.jsx(zqe,{onNext:_,onSelectArchitecture:m}),isComplete:g.step1},{id:"step2",title:"Pod结构",component:u.jsx(Uqe,{pods:i,setPods:s,fabricConfig:r,onComplete:()=>x("step2")}),isComplete:g.step2},{id:"step3",title:"设备导入",component:u.jsx(Hqe,{pods:i,setPods:s,devices:a,setDevices:o,onComplete:()=>x("step3")}),isComplete:g.step3},{id:"step4",title:"OCR端口映射",component:u.jsx(dYe,{devices:a,portMappings:l,setPortMappings:c,setDevices:o,onComplete:()=>x("step4")}),isComplete:g.step4},{id:"step5",title:"数据源配置",component:u.jsx(pYe,{dataSources:f,setDataSources:p,onComplete:()=>x("step5")}),isComplete:g.step5},{id:"step6",title:"拓扑构建",component:u.jsx(fYe,{pods:i,devices:a,portMappings:l,topologyData:d,setTopologyData:h,dataSources:f,onComplete:()=>x("step6")}),isComplete:g.step6}],x=A.useCallback(E=>{v(T=>({...T,[E]:!0}))},[]);function _(){const E=y.findIndex(T=>T.id===e);E<y.length-1&&t(y[E+1].id)}const b=A.useCallback(()=>{const E=y.findIndex(T=>T.id===e);E>0&&t(y[E-1].id)},[e,y]);A.useEffect(()=>{const E=[];for(let T=0;T<r.podCount;T++){const N=i.find(R=>R.id===(T+1).toString());N?E.push(N):E.push({id:(T+1).toString(),name:`Pod ${T+1}`,torCount:2,leafCount:0,spineCount:0,morCount:0,racks:[]})}s(E)},[r.podCount]);const w=()=>{const E=y.find(T=>T.id===e);return E?E.component:null},S=e==="step6",k=e==="step1",C=y.findIndex(E=>E.id===e);return u.jsxs("div",{className:"w-full h-full bg-white shadow-lg rounded-lg p-6",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"数据中心网络拓扑设置向导"}),u.jsx("div",{className:"mb-8",children:u.jsx("div",{className:"flex justify-between items-center",children:y.map((E,T)=>u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e===E.id?"bg-blue-500 text-white":E.isComplete?"bg-green-500 text-white":"bg-gray-200 text-gray-500"}`,children:E.isComplete?"✓":T+1}),u.jsx("span",{className:"text-xs mt-2",children:E.title}),T<y.length-1&&u.jsx("div",{className:"hidden sm:block w-full absolute left-0 top-1/2 -translate-y-1/2 z-0",children:u.jsx("div",{className:`h-1 ${T<C?"bg-green-500":"bg-gray-200"}`,style:{width:`${100/(y.length-1)}%`,marginLeft:`${100*T/(y.length-1)}%`}})})]},E.id))})}),u.jsx("div",{className:"mb-8",children:u.jsx(Ve,{className:"p-6",children:w()})}),u.jsxs("div",{className:"flex justify-between mt-6",children:[u.jsx(Re,{variant:"outline",onClick:b,disabled:k,children:"上一步"}),u.jsx(Re,{onClick:S?()=>console.log("Wizard complete!"):_,disabled:!g[e],children:S?"完成":"下一步"})]})]})},is=A.forwardRef(({className:e,asChild:t=!1,...r},n)=>u.jsx("label",{ref:n,className:Yt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...r}));is.displayName="Label";const mYe=L3("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-700 dark:border-green-500 [&>svg]:text-green-500",warning:"border-yellow-500/50 text-yellow-700 dark:border-yellow-500 [&>svg]:text-yellow-500",info:"border-blue-500/50 text-blue-700 dark:border-blue-500 [&>svg]:text-blue-500",secondary:"border-secondary/50 text-secondary-foreground dark:border-secondary [&>svg]:text-secondary"}},defaultVariants:{variant:"default"}}),cm=A.forwardRef(({className:e,variant:t,...r},n)=>u.jsx("div",{ref:n,role:"alert",className:Yt(mYe({variant:t}),e),...r}));cm.displayName="Alert";const um=A.forwardRef(({className:e,...t},r)=>u.jsx("h5",{ref:r,className:Yt("mb-1 font-medium leading-none tracking-tight",e),...t}));um.displayName="AlertTitle";const dm=A.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:Yt("text-sm [&_p]:leading-relaxed",e),...t}));dm.displayName="AlertDescription";var G$="Checkbox",[vYe,Lpt]=Oa(G$),[yYe,xYe]=vYe(G$),Sue=A.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:a,disabled:o,value:l="on",onCheckedChange:c,form:d,...h}=e,[f,p]=A.useState(null),g=Xt(t,b=>p(b)),v=A.useRef(!1),m=f?d||!!f.closest("form"):!0,[y=!1,x]=QE({prop:i,defaultProp:s,onChange:c}),_=A.useRef(y);return A.useEffect(()=>{const b=f==null?void 0:f.form;if(b){const w=()=>x(_.current);return b.addEventListener("reset",w),()=>b.removeEventListener("reset",w)}},[f,x]),u.jsxs(yYe,{scope:r,state:y,disabled:o,children:[u.jsx(kn.button,{type:"button",role:"checkbox","aria-checked":$d(y)?"mixed":y,"aria-required":a,"data-state":Eue(y),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:g,onKeyDown:It(e.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:It(e.onClick,b=>{x(w=>$d(w)?!0:!w),m&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),m&&u.jsx(_Ye,{control:f,bubbles:!v.current,name:n,value:l,checked:y,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"},defaultChecked:$d(s)?!1:s})]})});Sue.displayName=G$;var Cue="CheckboxIndicator",kue=A.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,s=xYe(Cue,r);return u.jsx(yw,{present:n||$d(s.state)||s.state===!0,children:u.jsx(kn.span,{"data-state":Eue(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});kue.displayName=Cue;var _Ye=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:i,...s}=e,a=A.useRef(null),o=S$(r),l=r2(t);A.useEffect(()=>{const d=a.current,h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(o!==r&&p){const g=new Event("click",{bubbles:n});d.indeterminate=$d(r),p.call(d,$d(r)?!1:r),d.dispatchEvent(g)}},[o,r,n]);const c=A.useRef($d(r)?!1:r);return u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function $d(e){return e==="indeterminate"}function Eue(e){return $d(e)?"indeterminate":e?"checked":"unchecked"}var bYe=Sue,wYe=kue;const Af=A.forwardRef(({className:e,...t},r)=>u.jsx(bYe,{ref:r,className:Yt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:u.jsx(wYe,{className:Yt("flex items-center justify-center text-current"),children:u.jsx(JT,{className:"h-4 w-4"})})}));Af.displayName="Checkbox";function SYe(e={}){return{id:"disabled",dismiss:()=>{},update:()=>{}}}function Tue(){return{toasts:[],toast:SYe,dismiss:()=>{}}}const Nue=A.forwardRef(({className:e,...t},r)=>u.jsx("textarea",{className:Yt("flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Nue.displayName="Textarea";const Cq="network-deployment-devices",kq="network-deployment-subnet",Eq="network-deployment-active-tab",Tq="network-deployment-lldp-selected-devices",Nq="network-deployment-config-selected-devices",Aq="network-deployment-ssh-credentials",jq="network-deployment-snapshot-search",Rq="network-deployment-history-search",Iq="network-deployment-show-all-history",Mq="network-deployment-topology-selected-devices",Pq="network-deployment-topology-devices-roles",mI="network-deployment-topology-form",Lq="network-deployment-lldp-devices-data",Dq="network-deployment-config-results",Oq="network-deployment-snapshots-data",$q="network-deployment-snapshot-history",Bq="network-deployment-toast-enable",_n=3e3,CYe=()=>{const{toast:e}=Tue(),{language:t,t:r}=F3(),[n,i]=A.useState(()=>localStorage.getItem(Bq)==="true"),[s,a]=A.useState(()=>localStorage.getItem(Eq)||"device-discovery"),[o,l]=A.useState(()=>localStorage.getItem(kq)||"192.168.1.0/24"),[c,d]=A.useState(!1),[h,f]=A.useState(!1),[p,g]=A.useState(null),[v,m]=A.useState(()=>{const q=localStorage.getItem(Cq);return q?JSON.parse(q):[]}),[y,x]=A.useState([]),[_,b]=A.useState(""),[w,S]=A.useState(""),[k,C]=A.useState(1),[E,T]=A.useState(1),[N,R]=A.useState(!1),[P,D]=A.useState(()=>{const q=localStorage.getItem(Tq);return q?JSON.parse(q):[]}),[$,L]=A.useState(()=>{const q=localStorage.getItem(Lq);return q?JSON.parse(q):[]}),[O,j]=A.useState(!1),[M,I]=A.useState(null),[z,U]=A.useState(()=>{const q=localStorage.getItem(Nq);return q?JSON.parse(q):[]}),[F,G]=A.useState(""),[Y,Z]=A.useState(!1),[B,W]=A.useState(null),[K,X]=A.useState(()=>{const q=localStorage.getItem(Dq);return q?JSON.parse(q):null}),[Q,re]=A.useState(()=>{const q=localStorage.getItem(Aq);return q?JSON.parse(q):{username:"admin",password:"Micas123"}}),[Se,Te]=A.useState([]),[Ie,Me]=A.useState([]),[Ee,Ae]=A.useState(()=>{const q=localStorage.getItem(Oq);return q?JSON.parse(q):[]}),[Lt,zt]=A.useState(!1),[ge,Ze]=A.useState(null),[Oe,Wt]=A.useState(()=>localStorage.getItem(jq)||""),[ct,te]=A.useState(1),[oe,J]=A.useState(()=>{const q=localStorage.getItem($q);return q?JSON.parse(q):[]}),[ne,de]=A.useState(!1),[$e,ze]=A.useState(()=>localStorage.getItem(Rq)||""),[ke,Et]=A.useState(1),[wt,sr]=A.useState(()=>localStorage.getItem(Iq)==="true"),St=10,Dt=20,[Jr,Ti]=A.useState(!1),[Xe,ae]=A.useState({content:"",deviceInfo:""}),[_e,Ue]=A.useState(()=>{const q=localStorage.getItem(Mq);return q?JSON.parse(q):[]}),[tr,$n]=A.useState([]),[ur,En]=A.useState([]),[vs,pa]=A.useState(!1),[Ki,rr]=A.useState(null),sn=A.useRef(null),[$a,Vp]=A.useState(!1),[u0,d0]=A.useState(!1),[Dw,pl]=A.useState(null),[Ba,Fa]=A.useState(()=>{const q=localStorage.getItem(mI);return q?JSON.parse(q):{topology_name:"",description:"",created_by:"admin"}}),[gl,Ow]=A.useState([]),[Tu,$w]=A.useState(()=>localStorage.getItem("llm_agent_server_ip")||""),[h0,f0]=A.useState(!1),[p0,Bw]=A.useState([]),[Fw,zw]=A.useState([]),Uw=async()=>{try{const q=await fetch("/webhook/deploy/ask-script-done",{method:"POST",headers:{"Content-Type":"application/json"}});if(!q.ok)throw new Error("Failed to fetch deployed agents");const he=await q.json();zw(he)}catch(q){console.error("Error fetching deployed agents:",q)}};A.useEffect(()=>{s==="llm-agent-deploy"&&Uw()},[s]);const g0=q=>/^(\d{1,3}\.){3}\d{1,3}$/.test(q)?q.split(".").every(me=>{const be=parseInt(me,10);return be>=0&&be<=255}):!1,m0=q=>{Ow(he=>he.includes(q)?he.filter(ce=>ce!==q):[...he,q])},Hw=async()=>{if(!(!g0(Tu)||gl.length===0)){f0(!0),localStorage.setItem("llm_agent_server_ip",Tu);try{const q=await fetch("/webhook/deploy/ask-script",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ip_address:gl,webhook_ip:Tu})});if(!q.ok)throw new Error("Deployment failed");const he=await q.json();Bw(he.map(ce=>({ip_address:gl[he.indexOf(ce)],status:ce.status,time:ce.time}))),e({title:r("deploymentComplete"),description:he.every(ce=>ce.status==="success")?r("deploymentSuccess"):r("deploymentPartialFailure"),variant:he.every(ce=>ce.status==="success")?"default":"destructive"})}catch(q){console.error("Deployment error:",q),e({title:r("deploymentError"),description:r("deploymentErrorDesc"),variant:"destructive"})}finally{f0(!1)}}};A.useEffect(()=>{localStorage.setItem(Cq,JSON.stringify(v))},[v]),A.useEffect(()=>{localStorage.setItem(kq,o)},[o]),A.useEffect(()=>{localStorage.setItem(Eq,s),console.log("保存标签页设置:",s)},[s]),A.useEffect(()=>{localStorage.setItem(Tq,JSON.stringify(P))},[P]),A.useEffect(()=>{localStorage.setItem(Nq,JSON.stringify(z))},[z]),A.useEffect(()=>{localStorage.setItem(Aq,JSON.stringify(Q))},[Q]),A.useEffect(()=>{localStorage.setItem(jq,Oe)},[Oe]),A.useEffect(()=>{localStorage.setItem(Rq,$e)},[$e]),A.useEffect(()=>{localStorage.setItem(Iq,wt.toString())},[wt]),A.useEffect(()=>{localStorage.setItem(Mq,JSON.stringify(_e))},[_e]),A.useEffect(()=>{localStorage.setItem(Pq,JSON.stringify(tr))},[tr]),A.useEffect(()=>{localStorage.setItem(mI,JSON.stringify(Ba))},[Ba]),A.useEffect(()=>{localStorage.setItem(Lq,JSON.stringify($))},[$]),A.useEffect(()=>{K&&localStorage.setItem(Dq,JSON.stringify(K))},[K]),A.useEffect(()=>{localStorage.setItem(Oq,JSON.stringify(Ee))},[Ee]),A.useEffect(()=>{localStorage.setItem($q,JSON.stringify(oe))},[oe]),A.useEffect(()=>{localStorage.setItem(Bq,n.toString())},[n]);const bc=async()=>{var q,he,ce;R(!0);try{console.log("开始请求设备列表...");const me=await Nt.get("/webhook/api/network-devices");if(console.log("API响应数据:",me.data),me.data&&me.data.status==="success")if(console.log("响应状态成功，检查data字段:",me.data.data),Array.isArray(me.data.data)){console.log(`找到${me.data.data.length}个设备`),x(me.data.data);const{dismiss:be}=an({title:"设备加载成功",description:`已加载 ${me.data.data.length} 台设备`});setTimeout(be,_n)}else console.error("API响应的data字段不是数组:",me.data.data),x([]),console.log("API返回格式不正确，但不显示错误提示");else console.error("API响应状态不是success:",(q=me.data)==null?void 0:q.status),x([]),console.log("API响应状态不是success，但不显示错误提示")}catch(me){console.error("获取设备失败:",me);let be="获取设备数据时出现未知错误";me.response?(console.error("HTTP错误响应:",me.response.status,me.response.data),me.response.status===500?be="服务器内部错误，请联系管理员":be=`服务器错误 (${me.response.status}): ${((ce=(he=me.response)==null?void 0:he.data)==null?void 0:ce.reason)||me.message}`):me.request?(console.error("未收到响应:",me.request),be="服务器未响应，请检查网络连接"):(console.error("请求配置错误:",me.message),be=`请求错误: ${me.message}`),x([]),console.log("网络请求出错，但不显示错误提示:",be)}finally{R(!1)}};A.useEffect(()=>{console.log("选项卡变更为:",s),s==="device-list"?(console.log("正在加载设备列表..."),bc()):s==="snapshot-history"&&(console.log("正在加载快照历史..."),E0())},[s]);const v0=v.filter(q=>{const he=_.toLowerCase();return(q.ip_address||"").toLowerCase().includes(he)||(q.hostname||"").toLowerCase().includes(he)||(q.vendor_hw||"").toLowerCase().includes(he)||(q.hw_sku||"").toLowerCase().includes(he)||(q.vendor_sw||"").toLowerCase().includes(he)}),ga=y.filter(q=>{const he=w.toLowerCase();return(q.ip_address||"").toLowerCase().includes(he)||(q.hostname||"").toLowerCase().includes(he)||(q.vendor_hw||"").toLowerCase().includes(he)||(q.hw_sku||"").toLowerCase().includes(he)||(q.vendor_sw||"").toLowerCase().includes(he)}),_h=Math.ceil(v0.length/St),bh=Math.ceil(ga.length/St),Vw=v0.slice((k-1)*St,k*St),y0=ga.slice((E-1)*St,E*St),Ww=async()=>{var q,he;if(!(!o||h)){f(!0),g(null);try{if(!o.match(/^\d+\.\d+\.\d+\.\d+\/\d+$/))throw new Error("请输入有效的子网格式，如 192.168.1.0/24");const ce=await Nt.post("/webhook/discover-devices",{subnet:o});if(ce.data&&ce.data.status==="fail"){m([]);const{dismiss:me}=an({variant:"default",title:"扫描结果",description:ce.data.reason||"未发现任何活跃设备"});setTimeout(me,_n);return}if(Array.isArray(ce.data.data)){m(ce.data.data);const{dismiss:me}=an({title:"扫描完成",description:`发现了 ${ce.data.data.length} 个设备`});setTimeout(me,_n)}else throw new Error("扫描返回了意外的响应格式")}catch(ce){console.error("扫描失败:",ce);let me="扫描过程中出现未知错误";if(ce.response)ce.response.status===500?me="服务器内部错误，请联系管理员":me=`服务器错误 (${ce.response.status}): ${((he=(q=ce.response)==null?void 0:q.data)==null?void 0:he.reason)||ce.message}`;else if(ce.request){console.error("未收到响应:",ce.request),me="服务器未响应，请检查网络连接",g(null);return}else me=`请求错误: ${ce.message}`;if(g(null),!ce.request){const{dismiss:be}=an({variant:"destructive",title:"扫描失败",description:me});setTimeout(be,_n)}}finally{f(!1),C(1)}}},x0=q=>{q<1||q>_h||C(q)},_0=q=>{q<1||q>bh||T(q)},Sr=q=>q||r("unknown"),Gw=q=>{D(he=>he.includes(q)?he.filter(ce=>ce!==q):[...he,q])},qw=async()=>{var q,he;if(P.length===0){const{dismiss:ce}=an({variant:"destructive",title:"请选择设备",description:"请至少选择一个设备以获取LLDP拓扑信息"});setTimeout(ce,_n);return}j(!0),I(null);try{console.log("正在获取选中设备的LLDP信息:",P);const ce="/webhook/networkdeploy/getlldp";console.log("请求URL:",ce);const me={devices:P.map(Ye=>({ip_address:Ye}))};console.log("请求参数:",me);const be=await Nt.post(ce,me);if(console.log("LLDP API响应状态码:",be.status),console.log("LLDP API响应数据:",be.data),be.data&&Array.isArray(be.data))console.log("获取到LLDP信息:",be.data.length,"个设备"),L(be.data);else if(be.data&&be.data.status==="success"&&Array.isArray(be.data.data))console.log("获取到LLDP信息:",be.data.data.length,"个设备"),L(be.data.data);else throw new Error("API返回的数据格式不正确")}catch(ce){console.error("获取LLDP信息失败:",ce);let me="获取LLDP信息时出现未知错误";if(ce.response)console.error("HTTP错误状态码:",ce.response.status),console.error("HTTP错误数据:",ce.response.data),ce.response.status===500?me="服务器内部错误，请联系管理员":me=`服务器错误 (${ce.response.status}): ${((he=(q=ce.response)==null?void 0:q.data)==null?void 0:he.message)||ce.message}`;else if(ce.request){console.error("请求已发送但未收到响应:",ce.request),me="服务器未响应，请检查网络连接",I(null);return}else console.error("请求错误:",ce.message),me=`请求错误: ${ce.message}`;if(I(null),!ce.request){const{dismiss:be}=an({variant:"destructive",title:"获取LLDP失败",description:me});setTimeout(be,_n)}}finally{j(!1)}},b0=q=>{U(he=>he.includes(q)?he.filter(ce=>ce!==q):[...he,q])},Yw=()=>{z.length===ga.length?U([]):U(ga.map(q=>q.ip_address))},Kw=async()=>{var q,he;if(z.length===0){const{dismiss:ce}=an({variant:"destructive",title:"请选择设备",description:"请至少选择一个设备以提取配置"});setTimeout(ce,_n);return}Z(!0),W(null);try{console.log("正在获取选中设备的配置:",z);const ce="/webhook/networkdeploy/getconfig";console.log("请求URL:",ce);const be={devices:z.map(vr=>{const Jt=y.find(Ut=>Ut.ip_address===vr)||v.find(Ut=>Ut.ip_address===vr);return{ip_address:vr,ssh_user:Q.username,ssh_pass:Q.password,vendor_sw:(Jt==null?void 0:Jt.vendor_sw)||"unknown",vendor_hw:(Jt==null?void 0:Jt.vendor_hw)||"unknown",hostname:(Jt==null?void 0:Jt.hostname)||"unknown",hw_sku:(Jt==null?void 0:Jt.hw_sku)||"unknown"}})};console.log("请求参数:",be);const Ye=await Nt.post(ce,be);if(console.log("配置提取API响应状态码:",Ye.status),console.log("配置提取API响应数据:",Ye.data),Ye.data&&Ye.data.summary&&Array.isArray(Ye.data.result)){const vr=Ye.data.result.map(Qn=>(Qn.status==="success"&&Qn.config_link&&(console.log(`原始配置链接 (${Qn.ip_address}):`,Qn.config_link),!Qn.config_link.startsWith("http")&&!Qn.config_link.startsWith("/")&&Qn.config_link.includes("webhook")&&(Qn.config_link=`/webhook/${Qn.config_link}`,console.log("修正后配置链接:",Qn.config_link))),Qn)),Jt={...Ye.data,result:vr};X(Jt);const{total_count:Ut,success_count:Cr,error_count:za}=Ye.data.summary,{dismiss:ma}=an({title:"配置提取完成",description:`总计${Ut}台设备，成功${Cr}台，失败${za}台`});setTimeout(ma,_n),console.log("配置提取结果汇总:",Ye.data.summary);const Yp=Jt.result.filter(Qn=>Qn.status==="success");console.log(`成功提取了${Yp.length}个设备的配置:`),Yp.forEach(Qn=>{console.log(`设备 ${Qn.ip_address} (${Qn.hostname}) 的配置链接:`,Qn.config_link)})}else throw new Error("API返回的数据格式不正确")}catch(ce){console.error("获取设备配置失败:",ce);let me="获取设备配置时出现未知错误";if(ce.response?(console.error("HTTP错误状态码:",ce.response.status),console.error("HTTP错误数据:",ce.response.data),ce.response.status===500?me="服务器内部错误，请联系管理员":me=`服务器错误 (${ce.response.status}): ${((he=(q=ce.response)==null?void 0:q.data)==null?void 0:he.message)||ce.message}`):ce.request?(console.error("请求已发送但未收到响应:",ce.request),me="服务器未响应，请检查网络连接"):(console.error("请求错误:",ce.message),me=`请求错误: ${ce.message}`),W(null),!ce.request){const{dismiss:be}=an({variant:"destructive",title:"获取配置失败",description:me});setTimeout(be,_n)}}finally{Z(!1)}},Wp=q=>{if(console.log("格式化配置链接:",q),!q)return console.error("配置链接为空"),"";if(q.includes("webhook")&&!q.startsWith("http")){const me="http://localhost:5678";return q.startsWith("/")?`${me}${q}`:`${me}/${q}`}if(q.startsWith("http"))return q;const he=q.match(/ip=([^&]+)/);if(he){const me=he[1];return console.log("从链接中提取的IP:",me),`http://localhost:5678/webhook/api/getconfig?ip=${me}`}const ce="http://localhost:5678";return q.startsWith("/")?`${ce}${q}`:`${ce}/${q}`},w0=q=>{var he;try{console.log("开始格式化配置数据，类型:",typeof q);let ce=q;if(typeof q=="string")try{ce=JSON.parse(q),console.log("将字符串配置解析为对象")}catch{return console.log("配置不是有效的JSON字符串，保持原样"),q}if(Array.isArray(ce)){console.log("配置数据是数组，长度:",ce.length);const me=((he=ce[0])==null?void 0:he.raw_config)||"";if(console.log("获取到raw_config字段:",typeof me),!me)return console.log("raw_config为空，返回整个数组"),JSON.stringify(ce,null,2);try{const be=JSON.parse(me);return console.log("成功解析raw_config"),JSON.stringify(be,null,2)}catch(be){return console.error("解析raw_config失败:",be),me}}else if(ce&&typeof ce=="object"){if(console.log("配置数据是单个对象"),ce.raw_config)try{const me=JSON.parse(ce.raw_config);return console.log("成功解析对象中的raw_config"),JSON.stringify(me,null,2)}catch(me){return console.error("解析对象中的raw_config失败:",me),ce.raw_config}return JSON.stringify(ce,null,2)}return console.log("Unrecognized data format, returning original data"),JSON.stringify(ce,null,2)}catch(ce){return console.error("Error during formatting:",ce),"Unable to parse configuration data"}},Zw=async(q,he)=>{if(!q)return;Me(me=>[...me,he]),console.log("查看配置 - 原始链接:",q);const ce=Wp(q);console.log("查看配置 - 完整URL:",ce);try{const me=await Nt.get(ce);console.log("获取到配置数据:",me.data);const be=y.find(Ut=>Ut.ip_address===he)||v.find(Ut=>Ut.ip_address===he),Ye=`${he} | ${(be==null?void 0:be.hostname)||"未知主机"} | ${(be==null?void 0:be.vendor_hw)||"未知厂商"} ${(be==null?void 0:be.hw_sku)||"未知型号"}`,vr=w0(me.data);ae({content:vr,deviceInfo:Ye}),Ti(!0);const{dismiss:Jt}=an({title:"配置已加载",description:`已加载设备${he}的配置`});setTimeout(Jt,_n)}catch(me){console.error("获取配置失败:",me);const{dismiss:be}=an({variant:"destructive",title:"查看失败",description:"无法获取设备配置"});setTimeout(be,_n)}finally{Me(me=>me.filter(be=>be!==he))}},Xw=async(q,he)=>{if(q){Te(ce=>[...ce,he]);try{console.log("下载配置 - 原始链接:",q);const ce=Wp(q);console.log("下载配置 - 完整URL:",ce);try{const me=await Nt.get(ce,{responseType:"blob"});console.log("下载配置 - 响应类型:",me.headers["content-type"]),console.log("下载配置 - 响应大小:",me.data.size);const be=q.match(/ip=([^&]+)/),Ye=be?be[1]:he||"device";console.log("下载配置 - 提取的IP:",Ye);const vr=new Blob([me.data],{type:"text/plain"}),Jt=window.URL.createObjectURL(vr),Ut=document.createElement("a");Ut.href=Jt,Ut.download=`config-${Ye}-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(Ut),Ut.click(),document.body.removeChild(Ut);const{dismiss:Cr}=an({title:"下载成功",description:`设备${Ye}的配置已下载`});setTimeout(Cr,_n)}catch(me){console.error("第一种下载方式失败:",me);const be=await fetch(ce);if(!be.ok)throw new Error(`HTTP错误: ${be.status}`);const Ye=await be.blob();console.log("Fetch下载 - 响应类型:",be.headers.get("content-type")),console.log("Fetch下载 - 响应大小:",Ye.size);const vr=q.match(/ip=([^&]+)/),Jt=vr?vr[1]:he||"device",Ut=window.URL.createObjectURL(Ye),Cr=document.createElement("a");Cr.href=Ut,Cr.download=`config-${Jt}-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(Cr),Cr.click(),document.body.removeChild(Cr);const{dismiss:za}=an({title:"下载成功",description:`设备${Jt}的配置已下载 (通过Fetch)`});setTimeout(za,_n)}}catch(ce){console.error("下载配置失败:",ce);const{dismiss:me}=an({variant:"destructive",title:"下载失败",description:"无法下载设备配置文件，请检查控制台日志"});setTimeout(me,_n)}finally{Te(ce=>ce.filter(me=>me!==he))}}},S0=y.filter(q=>{const he=F.toLowerCase();return(q.ip_address||"").toLowerCase().includes(he)||(q.hostname||"").toLowerCase().includes(he)||(q.vendor_hw||"").toLowerCase().includes(he)||(q.hw_sku||"").toLowerCase().includes(he)||(q.vendor_sw||"").toLowerCase().includes(he)}),Jw=async()=>{var q,he;zt(!0),Ze(null);try{console.log("开始创建配置快照...");const ce=new Date().toISOString(),me="/webhook/networkdeploy/snapshot",be={snapshot_time:ce};console.log("快照请求参数:",be);const Ye=await Nt.post(me,be);if(console.log("快照API响应:",Ye.data),Array.isArray(Ye.data)){Ae(Ye.data);const{dismiss:vr}=an({title:"快照创建成功",description:`已为${Ye.data.length}台设备创建配置快照`});setTimeout(vr,_n)}else throw new Error("API返回的数据格式不正确")}catch(ce){console.error("创建快照失败:",ce);let me="创建快照时出现未知错误";if(ce.response)console.error("HTTP错误响应:",ce.response.status,ce.response.data),ce.response.status===500?me="服务器内部错误，请联系管理员":me=`服务器错误 (${ce.response.status}): ${((he=(q=ce.response)==null?void 0:q.data)==null?void 0:he.reason)||ce.message}`;else if(ce.request){console.error("未收到响应:",ce.request),me="服务器未响应，请检查网络连接",Ze(null);return}else console.error("请求配置错误:",ce.message),me=`请求错误: ${ce.message}`;if(Ze(null),!ce.request){const{dismiss:be}=an({variant:"destructive",title:"创建快照失败",description:me});setTimeout(be,_n)}}finally{zt(!1)}},C0=Ee.filter(q=>{const he=Oe.toLowerCase();return(q.ip_address||"").toLowerCase().includes(he)||(q.hostname||"").toLowerCase().includes(he)||(q.vendor_hw||"").toLowerCase().includes(he)||(q.hw_sku||"").toLowerCase().includes(he)||(q.vendor_sw||"").toLowerCase().includes(he)||(q.version_tag||"").toLowerCase().includes(he)}),wh=Math.ceil(C0.length/St),Qw=C0.slice((ct-1)*St,ct*St),k0=q=>{q<1||q>wh||te(q)},Gp=q=>{try{return new Date(q).toLocaleString()}catch(he){return console.error("日期格式化错误:",he),q||"未知"}},E0=async()=>{var q,he,ce,me,be;de(!0),J([]);try{console.log("开始获取快照历史...");const Ye="/webhook/networkdeploy/getallsnapshot";console.log("请求URL:",Ye);const Jt=await(await fetch(Ye,{method:"POST",headers:{"Content-Type":"application/json","Cache-Control":"no-cache"},body:JSON.stringify({})})).text();console.log("原始响应文本长度:",Jt.length),console.log("原始响应文本前100个字符:",Jt.substring(0,100));let Ut;try{Ut=JSON.parse(Jt),console.log("解析后的数据类型:",typeof Ut),console.log("数据结构:",Object.keys(Ut))}catch(ma){throw console.error("解析JSON失败:",ma),new Error("服务器返回的不是有效的JSON数据")}let Cr=[];if(Ut&&typeof Ut=="object"&&"status"in Ut&&"data"in Ut)console.log("检测到标准API响应格式，status=",Ut.status),Ut.status==="success"&&Array.isArray(Ut.data)?(Cr=Ut.data,console.log(`成功从标准API响应获取${Cr.length}条记录`)):console.warn("API响应status不是success或data不是数组:",Ut.status,Array.isArray(Ut.data));else if(Array.isArray(Ut))Cr=Ut,console.log(`API直接返回数组，包含${Cr.length}条记录`);else if(Ut&&typeof Ut=="object"){for(const ma in Ut)if(Array.isArray(Ut[ma])&&Ut[ma].length>0){Cr=Ut[ma],console.log(`从字段 ${ma} 中找到数组，包含${Cr.length}条记录`);break}Cr.length===0&&(console.log("找不到数组字段，尝试包装对象本身"),Cr=[Ut])}console.log("最终处理后的数据条数:",Cr.length),Cr.length>0?console.log("数据示例:",JSON.stringify(Cr[0]).substring(0,100)+"..."):console.warn("处理后的数据为空数组"),J(Cr),Et(1);const{dismiss:za}=an({title:"快照历史加载成功",description:`已加载 ${Cr.length} 条快照历史记录`});setTimeout(za,_n)}catch(Ye){console.error("获取快照历史失败:",Ye);let vr="获取快照历史时出现未知错误";"response"in Ye?(console.error("HTTP错误响应:",(q=Ye.response)==null?void 0:q.status,(he=Ye.response)==null?void 0:he.data),vr=`服务器错误 (${(ce=Ye.response)==null?void 0:ce.status}): ${((be=(me=Ye.response)==null?void 0:me.data)==null?void 0:be.reason)||Ye.message}`):"request"in Ye?(console.error("未收到响应:",Ye.request),vr="服务器未响应，请检查网络连接"):(console.error("请求配置错误:",Ye.message),vr=`请求错误: ${Ye.message}`),J([]);const{dismiss:Jt}=an({variant:"destructive",title:"获取快照历史失败",description:vr});setTimeout(Jt,_n)}finally{de(!1)}},wc=oe.filter(q=>{if(!$e.trim())return!0;const he=$e.toLowerCase();return(q.ip_address||"").toLowerCase().includes(he)||(q.hostname||"").toLowerCase().includes(he)||(q.vendor_hw||"").toLowerCase().includes(he)||(q.hw_sku||"").toLowerCase().includes(he)||(q.vendor_sw||"").toLowerCase().includes(he)||(q.version_tag||"").toLowerCase().includes(he)}),ml=Math.max(1,Math.ceil(wc.length/Dt));A.useEffect(()=>{ke>ml&&ml>0&&Et(1)},[wc.length,ke,ml]);const qp=wc.slice((ke-1)*Dt,ke*Dt),T0=q=>{q<1||q>ml||Et(q)},e1=()=>{try{const q=Xe.deviceInfo.match(/^([^|]+)/),he=q?q[1].trim():"device",ce=new Blob([Xe.content],{type:"application/json"}),me=window.URL.createObjectURL(ce),be=document.createElement("a");be.href=me,be.download=`config-${he}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(be),be.click(),document.body.removeChild(be),window.URL.revokeObjectURL(me);const{dismiss:Ye}=an({title:"下载成功",description:"配置已下载为JSON文件"});setTimeout(Ye,_n)}catch(q){console.error("下载JSON配置失败:",q);const{dismiss:he}=an({variant:"destructive",title:"下载失败",description:"无法下载JSON配置文件"});setTimeout(he,_n)}},t1=async(q,he)=>{if(q){Te(ce=>[...ce,he]);try{console.log("下载JSON配置 - 原始链接:",q);const ce=Wp(q);console.log("下载JSON配置 - 完整URL:",ce);const me=await Nt.get(ce);console.log("获取到JSON配置数据:",me.data);const be=w0(me.data),Ye=q.match(/ip=([^&]+)/),vr=Ye?Ye[1]:he||"device",Jt=new Blob([be],{type:"application/json"}),Ut=window.URL.createObjectURL(Jt),Cr=document.createElement("a");Cr.href=Ut,Cr.download=`config-${vr}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Cr),Cr.click(),document.body.removeChild(Cr),window.URL.revokeObjectURL(Ut);const{dismiss:za}=an({title:"下载成功",description:`设备${vr}的配置已下载为JSON文件`});setTimeout(za,_n)}catch(ce){console.error("下载JSON配置失败:",ce);const{dismiss:me}=an({variant:"destructive",title:"下载失败",description:"无法下载JSON配置文件"});setTimeout(me,_n)}finally{Te(ce=>ce.filter(me=>me!==he))}}},an=q=>n?e(q):{dismiss:()=>{}};A.useEffect(()=>{const q=localStorage.getItem(Pq);if(q)try{const he=JSON.parse(q),ce=y.map(me=>{const be=he.find(Ye=>Ye.ip_address===me.ip_address);return{...me,role:be==null?void 0:be.role}});$n(ce),console.log("已从localStorage恢复设备角色配置")}catch(he){console.error("解析保存的设备角色时出错:",he);const ce=y.map(me=>({...me,role:void 0}));$n(ce)}else{const he=y.map(ce=>({...ce,role:void 0}));$n(he)}},[y]);const r1=q=>{Ue(he=>he.includes(q)?he.filter(ce=>ce!==q):[...he,q])},n1=()=>{_e.length===ga.length?Ue([]):Ue(ga.map(q=>q.ip_address))},i1=(q,he)=>{$n(ce=>ce.map(me=>me.ip_address===q?{...me,role:he}:me))},s1=async()=>{var ce,me;if(_e.length===0){const{dismiss:be}=an({variant:"destructive",title:"请选择设备",description:"请至少选择一个设备以生成拓扑"});setTimeout(be,_n);return}const q=tr.filter(be=>_e.includes(be.ip_address)),he=q.filter(be=>!be.role);if(he.length>0){const{dismiss:be}=an({variant:"destructive",title:"角色未指定",description:`请为所有选中设备指定角色（${he.length}个设备未指定）`});setTimeout(be,_n);return}pa(!0),rr(null);try{const be=q.map(vr=>({hostname:vr.hostname||"",ip:vr.ip_address,role:vr.role}));console.log("生成拓扑 - 请求数据:",{devices:be});const Ye=await Nt.post("/webhook/api/network-deployment/topology/generate",{devices:be},{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},withCredentials:!1});if(console.log("生成拓扑 - 响应数据:",Ye.data),Array.isArray(Ye.data)){En(Ye.data);const{dismiss:vr}=an({title:"拓扑生成成功",description:`已为${Ye.data.length}台设备生成拓扑`});setTimeout(vr,_n),setTimeout(()=>{a1(Ye.data)},500)}else throw new Error("API返回的数据格式不正确")}catch(be){console.error("生成拓扑失败:",be);let Ye="生成拓扑时出现未知错误";be.response?(console.error("HTTP错误状态码:",be.response.status),console.error("HTTP错误数据:",be.response.data),be.response.status===500?Ye="服务器内部错误，请联系管理员":Ye=`服务器错误 (${be.response.status}): ${((me=(ce=be.response)==null?void 0:ce.data)==null?void 0:me.message)||be.message}`):be.request?(console.error("请求已发送但未收到响应:",be.request),Ye="服务器未响应，请检查网络连接"):(console.error("请求错误:",be.message),Ye=`请求错误: ${be.message}`),rr(Ye);const{dismiss:vr}=an({variant:"destructive",title:"生成拓扑失败",description:Ye});setTimeout(vr,_n)}finally{pa(!1)}},a1=q=>{if(!q||q.length===0||!sn.current)return;Or(sn.current).selectAll("*").remove();const he=sn.current.clientWidth||1e3,ce=600;console.log("渲染拓扑数据:",q);const me=Or(sn.current).attr("width","100%").attr("height",ce),be=me.append("g").attr("transform","translate(50, 50)"),Ye=new Map,vr=new Map;q.forEach(yt=>{yt.nodes.forEach(_t=>{const Mt=_t.hostname||_t.ip;Ye.has(Mt)||Ye.set(Mt,{id:Mt,hostname:_t.hostname,role:_t.role,originalRole:_t.role,ip:_t.ip,neighbors:_t.neighbors,connections:[]})})}),q.forEach(yt=>{const _t=new Set(yt.nodes.map(Mt=>Mt.hostname||Mt.ip));yt.links.forEach(Mt=>{const Bn=Mt.source,pn=Mt.target;if(Ye.has(Bn)&&Ye.has(pn)){if(Bn===pn)return;if(yt.nodes.find(Tn=>(Tn.hostname||Tn.ip)===pn),_t.has(pn)){const Tn=`${Bn}-${pn}-${Mt.sourcePort}-${Mt.targetPort}`;if(!vr.has(Tn)){vr.set(Tn,{source:Bn,target:pn,sourcePort:Mt.sourcePort,targetPort:Mt.targetPort});const va=Ye.get(Bn);if(va){va.connections||(va.connections=[]);let Ha=va.connections.find(Nu=>Nu.target===pn);Ha||(Ha={target:pn,connectionCount:0,connections:[]},va.connections.push(Ha)),Ha.connectionCount+=1,Ha.connections.push({sourcePort:Mt.sourcePort,targetPort:Mt.targetPort})}}}}})});const Jt=Array.from(Ye.values()),Ut=Array.from(vr.values());Jt.forEach(yt=>{yt.originalRole&&(yt.role=yt.originalRole)}),console.log("Nodes with original roles:",Jt.map(yt=>({hostname:yt.hostname,originalRole:yt.originalRole,currentRole:yt.role})));const Cr={superspine:[],spine:[],leaf:[],unknown:[]};Jt.forEach(yt=>{const _t=yt.role||"unknown";Cr[_t]||(Cr[_t]=[]),Cr[_t].push(yt)}),console.log("Nodes by role:",Cr);const za={superspine:80,spine:220,leaf:360,unknown:480},ma=he-100;Object.entries(Cr).forEach(([yt,_t])=>{const Mt=_t.length;if(Mt===0)return;const Bn=za[yt];_t.sort((Tn,va)=>{const Ha=Tn.hostname.match(/(\d+)/),Nu=va.hostname.match(/(\d+)/);return Ha&&Nu?parseInt(Ha[0],10)-parseInt(Nu[0],10):Ha?-1:Nu?1:Tn.hostname.localeCompare(va.hostname)});const pn=Mt<=1?0:ma/(Mt>1?Mt-1:1),Ua=0;_t.forEach((Tn,va)=>{Tn.x=Ua+va*pn,Tn.y=Bn})}),be.append("g").attr("class","links").selectAll("path").data(Ut).enter().append("path").attr("class","link").attr("fill","none").attr("stroke","#aaa").attr("stroke-width",yt=>{var Bn;const _t=Jt.find(pn=>pn.id===yt.source);if(!_t)return 1.5;const Mt=(Bn=_t.connections)==null?void 0:Bn.find(pn=>pn.target===yt.target);return Mt?Math.min(3,1+Mt.connectionCount*.5):1.5}).attr("d",yt=>{const _t=Jt.find(Tn=>Tn.id===yt.source),Mt=Jt.find(Tn=>Tn.id===yt.target);if(!_t||!Mt||_t.x===void 0||_t.y===void 0||Mt.x===void 0||Mt.y===void 0)return"";const Bn=Mt.x-_t.x,pn=Mt.y-_t.y,Ua=Math.sqrt(Bn*Bn+pn*pn)*1.2;return Math.abs(_t.y-Mt.y)<10?`M${_t.x},${_t.y} A${Ua},${Ua} 0 0,1 ${Mt.x},${Mt.y}`:`M${_t.x},${_t.y} C${_t.x},${(_t.y+Mt.y)/2} ${Mt.x},${(_t.y+Mt.y)/2} ${Mt.x},${Mt.y}`});const vl=be.append("g").attr("class","nodes").selectAll("g").data(Jt).enter().append("g").attr("class","node").attr("transform",yt=>`translate(${yt.x||0}, ${yt.y||0})`);vl.append("circle").attr("r",20).attr("fill",yt=>{switch(yt.role){case"superspine":return"#FF5733";case"spine":return"#33A8FF";case"leaf":return"#33FF57";default:return"#888888"}}).attr("stroke","#000").attr("stroke-width",1),vl.append("text").attr("dy",-32).attr("text-anchor","middle").attr("font-size","12px").attr("font-weight","bold").attr("fill","#000").attr("stroke","white").attr("stroke-width",.5).text(yt=>yt.hostname),vl.append("text").attr("dy",4).attr("text-anchor","middle").attr("font-size","9px").attr("fill","#fff").attr("font-weight","bold").text(yt=>yt.role==="unknown"?"":yt.originalRole&&yt.originalRole!==yt.role?`${yt.originalRole}*`:yt.role),vl.append("text").attr("dy",-16).attr("text-anchor","middle").attr("font-size","9px").attr("fill","#555").text(yt=>yt.ip||""),vl.append("circle").filter(yt=>{var Mt;return(((Mt=yt.neighbors)==null?void 0:Mt.filter(Bn=>Bn.targetRole!=="unknown"))||[]).length>0}).attr("cx",20).attr("cy",-15).attr("r",8).attr("fill","#4a5568").attr("stroke","white").attr("stroke-width",1),vl.append("text").filter(yt=>{var Mt;return(((Mt=yt.neighbors)==null?void 0:Mt.filter(Bn=>Bn.targetRole!=="unknown"))||[]).length>0}).attr("x",20).attr("y",-12).attr("text-anchor","middle").attr("font-size","8px").attr("fill","white").text(yt=>{var Mt;return(((Mt=yt.neighbors)==null?void 0:Mt.filter(Bn=>Bn.targetRole!=="unknown"))||[]).length});const N0=Y3().scaleExtent([.1,2]).on("zoom",yt=>{be.attr("transform",yt.transform)});me.call(N0).call(N0.transform,Bc.translate(50,50).scale(.9)),vl.on("mouseover",function(yt,_t){const Mt=yt.pageX,Bn=yt.pageY,pn=Or("body").append("div").attr("class","topology-tooltip").style("position","absolute").style("background","white").style("border","1px solid #ddd").style("border-radius","4px").style("padding","8px").style("box-shadow","0 2px 5px rgba(0,0,0,0.2)").style("font-size","12px").style("pointer-events","none").style("max-width","300px").style("z-index","1000").style("left",`${Mt+15}px`).style("top",`${Bn-15}px`);if(pn.append("div").style("font-weight","bold").style("margin-bottom","5px").text(`${_t.hostname}${_t.ip?` (${_t.ip})`:""}`),pn.append("div").style("margin-bottom","8px").style("color","#555").html(()=>_t.originalRole&&_t.originalRole!==_t.role?`${r("role")}: <strong>${_t.originalRole}</strong> (${r("originalRole")})`:`${r("role")}: ${_t.role||r("unknown")}`),_t.neighbors&&_t.neighbors.length>0){const Ua=_t.neighbors.filter(Tn=>Tn.targetRole!=="unknown");Ua.length>0?(pn.append("div").style("font-weight","bold").style("border-top","1px solid #eee").style("padding-top","4px").style("margin-top","4px").text(r("neighborConnectionsText").replace("{0}",Ua.length.toString())),Ua.forEach(Tn=>{pn.append("div").style("margin-top","6px").style("font-weight","bold").style("color","#0066cc").text(`→ ${Tn.target} (${Tn.targetRole})`),pn.append("div").style("margin-left","10px").style("font-size","11px").style("line-height","1.4").html(`<span style="color:#555">${_t.hostname}:</span> <strong>${Tn.localPort}</strong> → <span style="color:#555">${Tn.target}:</span> <strong>${Tn.remotePort}</strong>`)})):pn.append("div").style("font-style","italic").style("margin-top","5px").style("color","#777").text(r("noValidNeighbors"))}else pn.append("div").style("font-style","italic").style("margin-top","5px").style("color","#777").text(r("noNeighbors"))}).on("mouseout",function(){KQ(".topology-tooltip").remove()}),me.append("text").attr("x",20).attr("y",ce-20).attr("font-size","12px").attr("fill","#666").text(r("zoomTip"));const Kp=me.append("g").attr("class","legend").attr("transform",`translate(${he-200}, ${ce-100})`);Kp.append("text").attr("x",0).attr("y",0).attr("font-size","12px").attr("font-weight","bold").attr("fill","#333").text(r("nodeRoles")),[{role:"superspine",color:"#FF5733",label:"SuperSpine"},{role:"spine",color:"#33A8FF",label:"Spine"},{role:"leaf",color:"#33FF57",label:"Leaf"},{role:"unknown",color:"#888888",label:r("unknown")}].forEach((yt,_t)=>{Kp.append("circle").attr("cx",10).attr("cy",20+_t*20).attr("r",6).attr("fill",yt.color),Kp.append("text").attr("x",25).attr("y",24+_t*20).attr("font-size","12px").attr("fill","#333").text(yt.label)})},o1=async()=>{var q,he,ce,me;if(!Ba.topology_name){pl("请输入拓扑名称");return}d0(!0),pl(null);try{const be={...Ba,description:Ba.description||"null",nodes:((q=ur[0])==null?void 0:q.nodes)||[],links:((he=ur[0])==null?void 0:he.links)||[]};console.log("保存拓扑 - 请求数据:",be);const Ye=await Nt.post("/webhook/api/network-deployment/topology/save",be,{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},withCredentials:!1});console.log("保存拓扑 - 响应数据:",Ye.data);const{dismiss:vr}=an({title:"拓扑保存成功",description:`已成功保存拓扑"${Ba.topology_name}"`});setTimeout(vr,_n),Vp(!1);const Jt={topology_name:"",description:"",created_by:"admin"};Fa(Jt),localStorage.setItem(mI,JSON.stringify(Jt))}catch(be){console.error("保存拓扑失败:",be);let Ye="保存拓扑时出现未知错误";be.response?(console.error("HTTP错误状态码:",be.response.status),console.error("HTTP错误数据:",be.response.data),Ye=`服务器错误 (${be.response.status}): ${((me=(ce=be.response)==null?void 0:ce.data)==null?void 0:me.message)||be.message}`):be.request?(console.error("请求已发送但未收到响应:",be.request),Ye="服务器未响应，请检查网络连接"):(console.error("请求错误:",be.message),Ye=`请求错误: ${be.message}`),pl(Ye)}finally{d0(!1)}};return u.jsxs("div",{className:"container mx-auto py-6",children:[u.jsx("div",{className:"flex justify-between items-center mb-6",children:u.jsx("h1",{className:"text-2xl font-normal tracking-tight text-gray-800",children:r("networkDeploy")})}),u.jsxs(jv,{value:s,onValueChange:a,className:"w-full",children:[u.jsxs(Rv,{className:"mb-4",children:[u.jsxs($r,{value:"device-discovery",className:"flex items-center gap-2",children:[u.jsx(ti,{size:16}),u.jsx("span",{children:r("deviceDiscovery")})]}),u.jsxs($r,{value:"device-list",className:"flex items-center gap-2",children:[u.jsx(Wm,{size:16}),u.jsx("span",{children:r("deviceList")})]}),u.jsxs($r,{value:"neighbor-discovery",className:"flex items-center gap-2",children:[u.jsx(ea,{size:16}),u.jsx("span",{children:r("neighborDiscovery")})]}),u.jsxs($r,{value:"topology-generation",className:"flex items-center gap-2",children:[u.jsx(ea,{size:16}),u.jsx("span",{children:r("topologyGeneration")})]}),u.jsxs($r,{value:"config-management",className:"flex items-center gap-2",children:[u.jsx(to,{size:16}),u.jsx("span",{children:r("configManagement")})]}),u.jsxs($r,{value:"config-snapshot",className:"flex items-center gap-2",children:[u.jsx(to,{size:16}),u.jsx("span",{children:r("configSnapshot")})]}),u.jsxs($r,{value:"snapshot-history",className:"flex items-center gap-2",children:[u.jsx(to,{size:16}),u.jsx("span",{children:r("snapshotHistory")})]}),u.jsxs($r,{value:"llm-agent-deploy",className:"flex items-center gap-2",children:[u.jsx(js,{size:16}),u.jsx("span",{children:r("llmAgentDeploy")})]})]}),u.jsx(Br,{value:"device-discovery",children:u.jsxs(Ve,{children:[u.jsxs(nt,{children:[u.jsx(it,{children:r("deviceDiscovery")}),u.jsx(qr,{children:r("deviceDiscoveryDesc")})]}),u.jsxs(Ge,{children:[u.jsx("div",{className:"flex gap-4 mb-6",children:u.jsxs("div",{className:"flex-1",children:[u.jsx(is,{htmlFor:"subnet",className:"mb-2 block",children:r("subnetRange")}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(er,{id:"subnet",value:o,onChange:q=>l(q.target.value),placeholder:r("subnetExample"),className:"flex-1"}),u.jsx(Re,{onClick:Ww,disabled:h,className:"min-w-[120px]",children:h?u.jsxs(u.Fragment,{children:[u.jsx($t,{className:"mr-2 h-4 w-4 animate-spin"}),u.jsx("span",{children:r("scanning")})]}):u.jsxs(u.Fragment,{children:[u.jsx(ti,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:r("scanSubnet")})]})})]})]})}),p&&u.jsxs(cm,{variant:"destructive",className:"mb-4",children:[u.jsx(bi,{className:"h-4 w-4"}),u.jsx(um,{children:"扫描错误"}),u.jsx(dm,{children:p})]}),u.jsx("div",{className:"flex justify-between items-center mb-4",children:u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx(ti,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),u.jsx(er,{type:"search",placeholder:r("searchDevices"),value:_,onChange:q=>b(q.target.value),className:"pl-9"})]})})}),h?u.jsx("div",{className:"flex justify-center items-center h-48",children:u.jsx($t,{className:"h-8 w-8 animate-spin text-primary"})}):v.length===0?u.jsxs("div",{className:"text-center py-8 bg-muted/50 rounded-lg",children:[u.jsx(P3,{className:"h-10 w-10 text-muted-foreground mx-auto mb-2"}),u.jsx("h3",{className:"text-lg font-medium",children:r("noDevicesFound")}),u.jsx("p",{className:"text-muted-foreground mt-1",children:r("supportSNMP")})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"rounded-md border",children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{children:[u.jsx(ie,{children:r("ipAddress")}),u.jsx(ie,{children:r("hostname")}),u.jsx(ie,{children:r("vendor")}),u.jsx(ie,{children:r("hwModel")}),u.jsx(ie,{children:r("operatingSystem")})]})}),u.jsx(Vr,{children:Vw.map((q,he)=>u.jsxs(Ke,{children:[u.jsx(ee,{className:"font-mono",children:q.ip_address||r("unknown")}),u.jsx(ee,{children:Sr(q.hostname)}),u.jsx(ee,{children:Sr(q.vendor_hw)}),u.jsx(ee,{children:Sr(q.hw_sku)}),u.jsx(ee,{children:Sr(q.vendor_sw)})]},`${q.ip_address}-${he}`))})]})}),_h>1&&u.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-4",children:[u.jsx(Re,{variant:"outline",size:"sm",onClick:()=>x0(k-1),disabled:k===1,children:r("prevPageText")}),u.jsx("span",{className:"text-sm",children:r("pageOf").replace("{0}",k.toString()).replace("{1}",_h.toString())}),u.jsx(Re,{variant:"outline",size:"sm",onClick:()=>x0(k+1),disabled:k===_h,children:r("nextPageText")})]})]})]})]})}),u.jsx(Br,{value:"device-list",children:u.jsxs(Ve,{children:[u.jsxs(nt,{children:[u.jsx(it,{children:r("deviceList")}),u.jsx(qr,{children:r("deviceListDesc")})]}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx(ti,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),u.jsx(er,{type:"search",placeholder:r("searchDevices"),value:w,onChange:q=>S(q.target.value),className:"pl-9"})]})}),u.jsx(Re,{variant:"outline",onClick:()=>{console.log("点击刷新按钮"),bc()},disabled:N,className:"ml-4 min-w-[110px]",children:N?u.jsx($t,{className:"h-4 w-4 animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(io,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:r("refresh")})]})})]}),N?u.jsx("div",{className:"flex justify-center items-center h-48",children:u.jsx($t,{className:"h-8 w-8 animate-spin text-primary"})}):y.length===0?u.jsxs("div",{className:"text-center py-8 bg-muted/50 rounded-lg",children:[u.jsx(Bye,{className:"h-10 w-10 text-muted-foreground mx-auto mb-2"}),u.jsx("h3",{className:"text-lg font-medium",children:r("noDatabaseDevices")}),u.jsx("p",{className:"text-muted-foreground mt-1",children:r("supportSNMP")})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-2 text-sm text-muted-foreground",children:u.jsx("p",{children:r("totalDevices").replace("{0}",y0.length.toString()).replace("{1}",y.length.toString())})}),u.jsx("div",{className:"rounded-md border",children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{children:[u.jsx(ie,{children:r("ipAddress")}),u.jsx(ie,{children:r("hostname")}),u.jsx(ie,{children:r("vendor")}),u.jsx(ie,{children:r("hwModel")}),u.jsx(ie,{children:r("operatingSystem")})]})}),u.jsx(Vr,{children:y0.map((q,he)=>u.jsxs(Ke,{children:[u.jsx(ee,{className:"font-mono",children:q.ip_address||"未知"}),u.jsx(ee,{children:Sr(q.hostname)}),u.jsx(ee,{children:Sr(q.vendor_hw)}),u.jsx(ee,{children:Sr(q.hw_sku)}),u.jsx(ee,{children:Sr(q.vendor_sw)})]},`db-${q.ip_address}-${he}`))})]})}),bh>1&&u.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-4",children:[u.jsx(Re,{variant:"outline",size:"sm",onClick:()=>_0(E-1),disabled:E===1,children:r("prevPageText")}),u.jsx("span",{className:"text-sm",children:r("pageOf").replace("{0}",E.toString()).replace("{1}",bh.toString())}),u.jsx(Re,{variant:"outline",size:"sm",onClick:()=>_0(E+1),disabled:E===bh,children:r("nextPageText")})]})]})]})]})}),u.jsx(Br,{value:"neighbor-discovery",children:u.jsxs(Ve,{children:[u.jsxs(nt,{children:[u.jsx(it,{children:r("neighborDiscovery")}),u.jsx(qr,{children:r("neighborDiscoveryDesc")})]}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx(ti,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),u.jsx(er,{type:"search",placeholder:r("searchDevices"),value:w,onChange:q=>S(q.target.value),className:"pl-9"})]})}),u.jsx(Re,{variant:"outline",onClick:bc,disabled:N,className:"ml-2",children:N?u.jsx($t,{className:"h-4 w-4 animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(io,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:r("refreshDevice")})]})}),u.jsx(Re,{onClick:qw,disabled:O||P.length===0,className:"ml-2",children:O?u.jsxs(u.Fragment,{children:[u.jsx($t,{className:"mr-2 h-4 w-4 animate-spin"}),u.jsx("span",{children:r("getting")})]}):u.jsxs(u.Fragment,{children:[u.jsx(ea,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:r("getLLDP")})]})})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("h3",{className:"text-lg font-medium mb-2",children:[r("selectDevice")," (",P.length,")"]}),N?u.jsx("div",{className:"flex justify-center items-center h-24",children:u.jsx($t,{className:"h-6 w-6 animate-spin text-primary"})}):y.length===0?u.jsx("div",{className:"text-center py-4 bg-muted/50 rounded-lg",children:u.jsx("p",{className:"text-muted-foreground",children:r("noDevicesSelected")})}):u.jsx("div",{className:"rounded-md border",children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{children:[u.jsx(ie,{className:"w-12",children:r("selectLabel")}),u.jsx(ie,{children:r("ipAddress")}),u.jsx(ie,{children:r("hostname")}),u.jsx(ie,{children:r("vendor")}),u.jsx(ie,{children:r("hwModel")})]})}),u.jsx(Vr,{children:ga.map((q,he)=>u.jsxs(Ke,{className:P.includes(q.ip_address)?"bg-muted/30":"",children:[u.jsx(ee,{children:u.jsx(Af,{checked:P.includes(q.ip_address),onCheckedChange:()=>Gw(q.ip_address),id:`device-${q.ip_address}`})}),u.jsx(ee,{className:"font-mono",children:q.ip_address}),u.jsx(ee,{children:Sr(q.hostname)}),u.jsx(ee,{children:Sr(q.vendor_hw)}),u.jsx(ee,{children:Sr(q.hw_sku)})]},`select-${q.ip_address}-${he}`))})]})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-medium mb-2",children:r("lldpInfo")}),M&&u.jsxs(cm,{variant:"destructive",className:"mb-4",children:[u.jsx(bi,{className:"h-4 w-4"}),u.jsx(um,{children:r("getLLDPFailure")}),u.jsx(dm,{children:M})]}),O?u.jsx("div",{className:"flex justify-center items-center h-48",children:u.jsx($t,{className:"h-8 w-8 animate-spin text-primary"})}):$.length===0?u.jsxs("div",{className:"text-center py-8 bg-muted/50 rounded-lg",children:[u.jsx(ea,{className:"h-10 w-10 text-muted-foreground mx-auto mb-2"}),u.jsx("h3",{className:"text-lg font-medium",children:r("lldpInfo")}),u.jsx("p",{className:"text-muted-foreground mt-1",children:r("selectDeviceFirst")})]}):u.jsx("div",{children:$.map((q,he)=>u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("h4",{className:"text-md font-semibold",children:q.hostname||q.ip_address}),u.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",q.ip_address,")"]})]}),q.message?u.jsx("div",{className:"text-center py-4 bg-muted/50 rounded-lg",children:u.jsx("p",{className:"text-muted-foreground",children:q.message==="无邻居"?r("noNeighborsText"):q.message})}):!q.neighbors||q.neighbors.length===0?u.jsx("div",{className:"text-center py-4 bg-muted/50 rounded-lg",children:u.jsx("p",{className:"text-muted-foreground",children:r("noNeighborsText")})}):u.jsx("div",{className:"rounded-md border",children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{children:[u.jsx(ie,{children:r("localPort")}),u.jsx(ie,{children:r("neighborDevice")}),u.jsx(ie,{children:r("neighborPort")}),u.jsx(ie,{children:r("neighborPortDesc")})]})}),u.jsx(Vr,{children:q.neighbors.map((ce,me)=>u.jsxs(Ke,{children:[u.jsx(ee,{children:ce.local_port}),u.jsx(ee,{children:ce.remote_device}),u.jsx(ee,{children:ce.remote_port}),u.jsx(ee,{children:ce.remote_port_descr})]},`neighbor-${he}-${me}`))})]})})]},`lldp-${q.ip_address}`))})]})]})]})}),u.jsx(Br,{value:"topology-generation",children:u.jsxs(Ve,{children:[u.jsxs(nt,{children:[u.jsx(it,{children:r("topologyGeneration")}),u.jsx(qr,{children:r("topologyGenerationDesc")})]}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h3",{className:"text-lg font-medium",children:[r("selectDeviceRole")," (",_e.length,")"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Re,{size:"sm",onClick:n1,children:_e.length===ga.length?r("deselectAll"):r("selectAll")}),u.jsx(Re,{variant:"outline",onClick:bc,disabled:N,size:"sm",children:N?u.jsx($t,{className:"h-4 w-4 animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(io,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:r("refreshDevice")})]})}),u.jsx(Re,{onClick:s1,disabled:vs||_e.length===0,children:vs?u.jsxs(u.Fragment,{children:[u.jsx($t,{className:"mr-2 h-4 w-4 animate-spin"}),u.jsx("span",{children:r("generating")})]}):u.jsxs(u.Fragment,{children:[u.jsx(ea,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:r("generate")})]})})]})]}),u.jsx("div",{className:"flex mb-4",children:u.jsxs("div",{className:"relative flex-1",children:[u.jsx(ti,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),u.jsx(er,{type:"search",placeholder:r("searchDevices"),value:w,onChange:q=>S(q.target.value),className:"pl-9"})]})}),Ki&&u.jsxs(cm,{variant:"destructive",className:"mb-4",children:[u.jsx(bi,{className:"h-4 w-4"}),u.jsx(um,{children:r("generationFailure")}),u.jsx(dm,{children:Ki})]}),N?u.jsx("div",{className:"flex justify-center items-center h-24",children:u.jsx($t,{className:"h-6 w-6 animate-spin text-primary"})}):y.length===0?u.jsx("div",{className:"text-center py-4 bg-muted/50 rounded-lg",children:u.jsx("p",{className:"text-muted-foreground",children:r("noDevicesSelected")})}):u.jsx("div",{className:"rounded-md border mb-6",children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{children:[u.jsx(ie,{className:"w-12",children:r("selectLabel")}),u.jsx(ie,{children:r("ipAddress")}),u.jsx(ie,{children:r("hostname")}),u.jsx(ie,{children:r("vendor")}),u.jsx(ie,{children:r("hwModel")}),u.jsx(ie,{children:r("role")})]})}),u.jsx(Vr,{children:ga.map((q,he)=>{var ce;return u.jsxs(Ke,{className:_e.includes(q.ip_address)?"bg-muted/30":"",children:[u.jsx(ee,{children:u.jsx(Af,{checked:_e.includes(q.ip_address),onCheckedChange:()=>r1(q.ip_address),id:`topology-device-${q.ip_address}`})}),u.jsx(ee,{className:"font-mono",children:q.ip_address}),u.jsx(ee,{children:Sr(q.hostname)}),u.jsx(ee,{children:Sr(q.vendor_hw)}),u.jsx(ee,{children:Sr(q.hw_sku)}),u.jsx(ee,{children:u.jsxs(en,{onValueChange:me=>i1(q.ip_address,me),value:(ce=tr.find(me=>me.ip_address===q.ip_address))==null?void 0:ce.role,children:[u.jsx(Kr,{className:"w-[140px]",children:u.jsx(tn,{placeholder:r("selectRole")})}),u.jsxs(Zr,{children:[u.jsx(Fe,{value:"leaf",children:r("leaf")}),u.jsx(Fe,{value:"spine",children:r("spine")}),u.jsx(Fe,{value:"superspine",children:r("superspine")})]})]})})]},`select-topology-${q.ip_address}-${he}`)})})]})}),ur.length>0&&u.jsxs("div",{className:"mt-8",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-medium",children:r("generatedTopology")}),u.jsxs(Re,{onClick:()=>Vp(!0),className:"flex items-center gap-2",children:[u.jsx(eQ,{className:"h-4 w-4"}),u.jsx("span",{children:r("saveTopology")})]})]}),u.jsx("div",{className:"bg-slate-50 border rounded-md p-4 overflow-x-auto overflow-y-hidden",children:u.jsx("div",{className:"min-w-[1200px]",children:u.jsx("svg",{ref:sn,width:"100%",height:"600"})})})]})]})]})}),u.jsx(Br,{value:"config-management",children:u.jsxs(Ve,{children:[u.jsxs(nt,{children:[u.jsx(it,{children:r("configManagement")}),u.jsx(qr,{children:r("configManagementDesc")})]}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-medium mb-3",children:r("credentials")}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(is,{htmlFor:"ssh-username",children:r("username")}),u.jsx(er,{id:"ssh-username",value:Q.username,onChange:q=>re(he=>({...he,username:q.target.value})),className:"mt-1"})]}),u.jsx("div",{className:"relative",children:u.jsxs("div",{children:[u.jsx(is,{htmlFor:"ssh-password",children:r("password")}),u.jsx(er,{id:"ssh-password",type:c?"text":"password",value:Q.password,onChange:q=>re(he=>({...he,password:q.target.value})),className:"mt-1 pr-10"}),u.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>d(!c),className:"absolute top-1 left-16 -translate-y-1/4 text-gray-500 bg-transparent hover:bg-transparent text-gray-500 w-8 h-8 p-1",tabIndex:-1,children:c?u.jsx(Mye,{className:"h-4 w-4"}):u.jsx(QM,{className:"h-4 w-4"})})]})})]})]}),K&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-medium mb-3",children:r("extractResults")}),u.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[u.jsxs(Ce,{className:"text-sm py-1",children:[r("total"),": ",K.summary.total_count]}),u.jsxs(Ce,{className:"bg-green-50 text-green-700 border-green-200 text-sm py-1",children:[r("success"),": ",K.summary.success_count]}),u.jsxs(Ce,{className:"bg-red-50 text-red-700 border-red-200 text-sm py-1",children:[r("failure"),": ",K.summary.error_count]})]}),u.jsx("div",{className:"rounded-md border overflow-hidden",children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{children:[u.jsx(ie,{children:r("ipAddress")}),u.jsx(ie,{children:r("hostname")}),u.jsx(ie,{children:r("status")}),u.jsx(ie,{children:r("message")}),u.jsx(ie,{children:r("extractionTime")}),u.jsx(ie,{className:"text-right",children:r("actions")})]})}),u.jsx(Vr,{children:K.result.map(q=>u.jsxs(Ke,{children:[u.jsx(ee,{className:"font-mono",children:q.ip_address}),u.jsx(ee,{children:q.hostname||r("unknown")}),u.jsx(ee,{children:q.status==="success"?u.jsxs(Ce,{className:"bg-green-100 text-green-800 hover:bg-green-200",children:[u.jsx(JT,{className:"mr-1 h-3 w-3"}),r("success")]}):u.jsxs(Ce,{className:"bg-red-100 text-red-800 hover:bg-red-200",children:[u.jsx(Ps,{className:"mr-1 h-3 w-3"}),r("failure")]})}),u.jsx(ee,{children:q.message==="无法连接设备"?r("connectionError"):q.message==="不支持的操作系统类型: 未知"?r("unsupportedOSType"):q.message}),u.jsx(ee,{children:q.collected_at?new Date(q.collected_at).toLocaleString():"-"}),u.jsx(ee,{className:"text-right",children:q.config_link?u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(Re,{size:"sm",onClick:()=>Zw(q.config_link,q.ip_address),disabled:Ie.includes(q.ip_address),children:Ie.includes(q.ip_address)?u.jsx($t,{className:"h-4 w-4 animate-spin"}):u.jsx(QM,{className:"h-4 w-4"})}),u.jsx(Re,{size:"sm",onClick:()=>Xw(q.config_link,q.ip_address),disabled:Se.includes(q.ip_address),children:Se.includes(q.ip_address)?u.jsx($t,{className:"h-4 w-4 animate-spin"}):u.jsx(Yl,{className:"h-4 w-4"})}),u.jsxs(Re,{size:"sm",variant:"outline",onClick:()=>t1(q.config_link,q.ip_address),disabled:Se.includes(q.ip_address),children:[u.jsx(Yl,{className:"h-4 w-4"}),u.jsx("span",{className:"ml-1",children:r("json")})]})]}):u.jsx("span",{className:"text-gray-400 text-sm",children:r("noConfig")})})]},`config-${q.ip_address}`))})]})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h3",{className:"text-lg font-medium",children:[r("selectDevice")," (",z.length,")"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Re,{size:"sm",onClick:Yw,children:z.length===S0.length?r("deselectAll"):r("selectAll")}),u.jsx(Re,{onClick:bc,disabled:N,size:"sm",children:N?u.jsx($t,{className:"h-4 w-4 animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(io,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:r("refreshDevice")})]})}),u.jsx(Re,{onClick:Kw,disabled:Y||z.length===0,children:Y?u.jsxs(u.Fragment,{children:[u.jsx($t,{className:"mr-2 h-4 w-4 animate-spin"}),u.jsx("span",{children:r("extracting")})]}):u.jsxs(u.Fragment,{children:[u.jsx(to,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:r("extractConfig")})]})})]})]}),u.jsx("div",{className:"flex mb-4",children:u.jsxs("div",{className:"relative flex-1",children:[u.jsx(ti,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),u.jsx(er,{type:"search",placeholder:r("searchDevices"),value:F,onChange:q=>G(q.target.value),className:"pl-9"})]})}),N?u.jsx("div",{className:"flex justify-center items-center h-24",children:u.jsx($t,{className:"h-6 w-6 animate-spin text-primary"})}):y.length===0?u.jsx("div",{className:"text-center py-4 bg-muted/50 rounded-lg",children:u.jsx("p",{className:"text-muted-foreground",children:r("noDevicesSelected")})}):u.jsx("div",{className:"rounded-md border",children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{children:[u.jsx(ie,{className:"w-12",children:r("selectLabel")}),u.jsx(ie,{children:r("ipAddress")}),u.jsx(ie,{children:r("hostname")}),u.jsx(ie,{children:r("vendor")}),u.jsx(ie,{children:r("hwModel")}),u.jsx(ie,{children:r("operatingSystem")})]})}),u.jsx(Vr,{children:S0.map((q,he)=>u.jsxs(Ke,{className:z.includes(q.ip_address)?"bg-muted/30":"",onClick:()=>b0(q.ip_address),style:{cursor:"pointer"},children:[u.jsx(ee,{children:u.jsx(Af,{checked:z.includes(q.ip_address),onCheckedChange:()=>b0(q.ip_address),id:`config-device-${q.ip_address}`})}),u.jsx(ee,{className:"font-mono",children:q.ip_address}),u.jsx(ee,{children:Sr(q.hostname)}),u.jsx(ee,{children:Sr(q.vendor_hw)}),u.jsx(ee,{children:Sr(q.hw_sku)}),u.jsx(ee,{children:Sr(q.vendor_sw)})]},`select-config-${q.ip_address}-${he}`))})]})})]})]})]})}),u.jsx(Br,{value:"config-snapshot",children:u.jsxs(Ve,{children:[u.jsxs(nt,{children:[u.jsx(it,{children:r("configSnapshot")}),u.jsx(qr,{children:r("configSnapshotDesc")})]}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("p",{className:"text-muted-foreground",children:r("snapshotDefaultText")}),u.jsx(Re,{onClick:Jw,disabled:Lt,children:Lt?u.jsxs(u.Fragment,{children:[u.jsx($t,{className:"mr-2 h-4 w-4 animate-spin"}),u.jsx("span",{children:r("creating")})]}):u.jsxs(u.Fragment,{children:[u.jsx(to,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:r("createSnapshot")})]})})]}),u.jsx("div",{className:"flex justify-between items-center mb-4",children:u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx(ti,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),u.jsx(er,{type:"search",placeholder:r("searchSnapshot"),value:Oe,onChange:q=>Wt(q.target.value),className:"pl-9"})]})})}),Lt&&Ee.length===0?u.jsx("div",{className:"flex justify-center items-center h-48",children:u.jsx($t,{className:"h-8 w-8 animate-spin text-primary"})}):Ee.length===0?u.jsxs("div",{className:"text-center py-8 bg-muted/50 rounded-lg",children:[u.jsx(to,{className:"h-10 w-10 text-muted-foreground mx-auto mb-2"}),u.jsx("h3",{className:"text-lg font-medium",children:r("noSnapshots")}),u.jsx("p",{className:"text-muted-foreground mt-1",children:r("clickToCreateSnapshot")})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"rounded-md border",children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{children:[u.jsx(ie,{children:r("ipAddress")}),u.jsx(ie,{children:r("hostname")}),u.jsx(ie,{children:r("vendor")}),u.jsx(ie,{children:r("hwModel")}),u.jsx(ie,{children:r("operatingSystem")}),u.jsx(ie,{children:r("snapshotTime")}),u.jsx(ie,{children:r("versionTag")})]})}),u.jsx(Vr,{children:Qw.map((q,he)=>u.jsxs(Ke,{children:[u.jsx(ee,{className:"font-mono",children:q.ip_address}),u.jsx(ee,{children:Sr(q.hostname)}),u.jsx(ee,{children:Sr(q.vendor_hw)}),u.jsx(ee,{children:Sr(q.hw_sku)}),u.jsx(ee,{children:Sr(q.vendor_sw)}),u.jsx(ee,{children:Gp(q.snapshot_time)}),u.jsx(ee,{children:u.jsx(Ce,{variant:"secondary",children:q.version_tag})})]},`snapshot-${q.ip_address}-${he}`))})]})}),wh>1&&u.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-4",children:[u.jsx(Re,{variant:"outline",size:"sm",onClick:()=>k0(ct-1),disabled:ct===1,children:r("prevPageText")}),u.jsx("span",{className:"text-sm",children:r("pageOf").replace("{0}",ct.toString()).replace("{1}",wh.toString())}),u.jsx(Re,{variant:"outline",size:"sm",onClick:()=>k0(ct+1),disabled:ct===wh,children:r("nextPageText")})]})]})]})]})}),u.jsx(Br,{value:"snapshot-history",children:u.jsxs(Ve,{children:[u.jsxs(nt,{children:[u.jsx(it,{children:r("snapshotHistory")}),u.jsx(qr,{children:r("snapshotHistoryDesc").replace("{0}",oe.length.toString())})]}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx(ti,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),u.jsx(er,{type:"search",placeholder:r("searchSnapshotHistory"),value:$e,onChange:q=>ze(q.target.value),className:"pl-9"})]})}),u.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("input",{type:"checkbox",id:"show-all-history",checked:wt,onChange:q=>sr(q.target.checked),className:"h-4 w-4"}),u.jsx("label",{htmlFor:"show-all-history",className:"text-sm",children:r("showAll")})]}),u.jsx(Re,{variant:"outline",onClick:E0,disabled:ne,children:ne?u.jsx($t,{className:"h-4 w-4 animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(io,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:r("refresh")})]})})]})]}),oe.length>0&&u.jsx("div",{className:"mb-2 text-sm text-muted-foreground",children:wt?u.jsx("p",{children:r("showAllRecords").replace("{0}",oe.length.toString())}):u.jsx("p",{children:r("currentRecords").replace("{0}",((ke-1)*Dt+1).toString()).replace("{1}",Math.min(ke*Dt,wc.length).toString()).replace("{2}",wc.length.toString())})}),u.jsx("div",{className:"mb-4 p-2 bg-gray-50 rounded-md text-xs",children:u.jsxs("details",{children:[u.jsx("summary",{className:"font-semibold cursor-pointer",children:r("debugInfo")}),u.jsx("p",{children:r("totalRecords").replace("{0}",oe.length.toString())}),u.jsx("p",{children:r("currentPage").replace("{0}",ke.toString())}),u.jsx("p",{children:r("recordsPerPage").replace("{0}",Dt.toString())}),u.jsx("p",{children:r("dataType").replace("{0}",Array.isArray(oe)?r("array"):r("object"))}),u.jsx("p",{children:r("currentPageData").replace("{0}",qp.length.toString())}),u.jsx("p",{children:r("filteredData").replace("{0}",wc.length.toString())}),u.jsxs("details",{className:"mt-2",children:[u.jsx("summary",{className:"font-semibold cursor-pointer text-blue-600",children:r("viewAllData")}),u.jsx("div",{className:"overflow-auto max-h-48 mt-2",children:u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-100",children:[u.jsx("th",{className:"p-1 border",children:r("number")}),u.jsx("th",{className:"p-1 border",children:r("ip")}),u.jsx("th",{className:"p-1 border",children:r("hostname")}),u.jsx("th",{className:"p-1 border",children:r("snapshotTime")})]})}),u.jsx("tbody",{children:oe.map((q,he)=>u.jsxs("tr",{className:"border-b",children:[u.jsx("td",{className:"p-1 border",children:he+1}),u.jsx("td",{className:"p-1 border",children:q.ip_address}),u.jsx("td",{className:"p-1 border",children:q.hostname}),u.jsx("td",{className:"p-1 border",children:q.snapshot_time})]},`debug-${he}`))})]})})]})]})}),ne?u.jsx("div",{className:"flex justify-center items-center h-48",children:u.jsx($t,{className:"h-8 w-8 animate-spin text-primary"})}):oe.length===0?u.jsxs("div",{className:"text-center py-8 bg-muted/50 rounded-lg",children:[u.jsx(to,{className:"h-10 w-10 text-muted-foreground mx-auto mb-2"}),u.jsx("h3",{className:"text-lg font-medium",children:r("noHistoryAvailable")}),u.jsx("p",{className:"text-muted-foreground mt-1",children:r("noSnapshotHistory")})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"rounded-md border",children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{children:[u.jsx(ie,{className:"w-16",children:r("number")}),u.jsx(ie,{children:r("ip")}),u.jsx(ie,{children:r("hostname")}),u.jsx(ie,{children:r("vendor")}),u.jsx(ie,{children:r("hwModel")}),u.jsx(ie,{children:r("operatingSystem")}),u.jsx(ie,{children:r("snapshotTime")}),u.jsx(ie,{children:r("versionTag")})]})}),u.jsx(Vr,{children:wt?oe.map((q,he)=>u.jsxs(Ke,{children:[u.jsx(ee,{children:he+1}),u.jsx(ee,{className:"font-mono",children:q.ip_address}),u.jsx(ee,{children:Sr(q.hostname)}),u.jsx(ee,{children:Sr(q.vendor_hw)}),u.jsx(ee,{children:Sr(q.hw_sku)}),u.jsx(ee,{children:Sr(q.vendor_sw)}),u.jsx(ee,{children:Gp(q.snapshot_time)}),u.jsx(ee,{children:u.jsx(Ce,{variant:"secondary",children:q.version_tag})})]},`history-all-${q.ip_address}-${he}`)):qp.length>0?qp.map((q,he)=>u.jsxs(Ke,{children:[u.jsx(ee,{children:(ke-1)*Dt+he+1}),u.jsx(ee,{className:"font-mono",children:q.ip_address}),u.jsx(ee,{children:Sr(q.hostname)}),u.jsx(ee,{children:Sr(q.vendor_hw)}),u.jsx(ee,{children:Sr(q.hw_sku)}),u.jsx(ee,{children:Sr(q.vendor_sw)}),u.jsx(ee,{children:Gp(q.snapshot_time)}),u.jsx(ee,{children:u.jsx(Ce,{variant:"secondary",children:q.version_tag})})]},`history-${q.ip_address}-${he}`)):u.jsx(Ke,{children:u.jsx(ee,{colSpan:8,className:"text-center py-4",children:r("noDataToDisplay")})})})]})}),!wt&&ml>1&&u.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-4",children:[u.jsx(Re,{variant:"outline",size:"sm",onClick:()=>T0(ke-1),disabled:ke===1,children:r("prevPageText")}),u.jsx("span",{className:"text-sm",children:r("pageOf").replace("{0}",ke.toString()).replace("{1}",ml.toString())}),u.jsx(Re,{variant:"outline",size:"sm",onClick:()=>T0(ke+1),disabled:ke===ml,children:r("nextPageText")})]})]})]})]})}),u.jsx(Br,{value:"llm-agent-deploy",children:u.jsxs(Ve,{children:[u.jsxs(nt,{children:[u.jsx(it,{children:r("llmAgentDeploy")}),u.jsx(qr,{children:r("llmAgentDeployDesc")})]}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h3",{className:"text-lg font-medium",children:[r("selectDevices")," (",gl.length,")"]}),u.jsx(Re,{onClick:bc,disabled:N,size:"sm",children:N?u.jsx($t,{className:"h-4 w-4 animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(io,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:r("refreshDevice")})]})})]}),N?u.jsx("div",{className:"flex justify-center items-center h-24",children:u.jsx($t,{className:"h-6 w-6 animate-spin text-primary"})}):y.length===0?u.jsx("div",{className:"text-center py-4 bg-muted/50 rounded-lg",children:u.jsx("p",{className:"text-muted-foreground",children:r("noDevicesSelected")})}):u.jsx("div",{className:"rounded-md border",children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{children:[u.jsx(ie,{className:"w-12",children:r("selectLabel")}),u.jsx(ie,{children:r("ipAddress")}),u.jsx(ie,{children:r("hostname")}),u.jsx(ie,{children:r("operatingSystem")})]})}),u.jsx(Vr,{children:ga.map((q,he)=>u.jsxs(Ke,{className:gl.includes(q.ip_address)?"bg-muted/30":"",onClick:()=>m0(q.ip_address),style:{cursor:"pointer"},children:[u.jsx(ee,{children:u.jsx(Af,{checked:gl.includes(q.ip_address),onCheckedChange:()=>m0(q.ip_address),id:`llm-device-${q.ip_address}`})}),u.jsx(ee,{className:"font-mono",children:q.ip_address}),u.jsx(ee,{children:Sr(q.hostname)}),u.jsx(ee,{children:Sr(q.vendor_sw)})]},`select-llm-${q.ip_address}-${he}`))})]})})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx(is,{htmlFor:"ai-server-ip",children:r("aiServerIp")}),u.jsx(er,{id:"ai-server-ip",placeholder:"192.168.1.77",value:Tu,onChange:q=>$w(q.target.value),className:"mt-1"})]}),u.jsx("div",{className:"flex justify-end",children:u.jsx(Re,{onClick:Hw,disabled:h0||gl.length===0||!g0(Tu),children:h0?u.jsxs(u.Fragment,{children:[u.jsx($t,{className:"mr-2 h-4 w-4 animate-spin"}),u.jsx("span",{children:r("deploying")})]}):u.jsxs(u.Fragment,{children:[u.jsx(js,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:r("deployLLMAgent")})]})})}),p0.length>0&&u.jsxs("div",{className:"mt-6",children:[u.jsx("h3",{className:"text-lg font-medium mb-2",children:r("deploymentResults")}),u.jsx("div",{className:"rounded-md border",children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{children:[u.jsx(ie,{children:r("ipAddress")}),u.jsx(ie,{children:r("status")}),u.jsx(ie,{children:r("timestamp")})]})}),u.jsx(Vr,{children:p0.map((q,he)=>u.jsxs(Ke,{children:[u.jsx(ee,{className:"font-mono",children:q.ip_address}),u.jsx(ee,{children:q.status==="success"?u.jsx("span",{className:"text-green-600",children:"✅"}):u.jsx("span",{className:"text-red-600",children:"❌"})}),u.jsx(ee,{children:new Date(q.time).toLocaleString()})]},`deploy-result-${he}`))})]})})]}),u.jsxs("div",{className:"mt-6",children:[u.jsx("h3",{className:"text-lg font-medium mb-2",children:r("deployedAgentsList")}),u.jsx("div",{className:"rounded-md border",children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{children:[u.jsx(ie,{children:r("ipAddress")}),u.jsx(ie,{children:r("hostname")}),u.jsx(ie,{children:r("operatingSystem")}),u.jsx(ie,{children:r("hwModel")}),u.jsx(ie,{children:r("status")})]})}),u.jsx(Vr,{children:Fw.map((q,he)=>u.jsxs(Ke,{children:[u.jsx(ee,{className:"font-mono",children:q.ip_address}),u.jsx(ee,{children:Sr(q.hostname)}),u.jsx(ee,{children:Sr(q.vendor_sw)}),u.jsx(ee,{children:Sr(q.hw_sku)}),u.jsx(ee,{children:q.llm_agent==="success"&&u.jsx("span",{className:"text-green-600",children:"✅"})})]},`deployed-agent-${he}`))})]})})]})]})]})})]}),u.jsx(Wc,{open:Jr,onOpenChange:Ti,children:u.jsxs(Ul,{className:"max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[u.jsxs(Hl,{className:"flex flex-row items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(Vl,{children:r("deviceConfig")}),u.jsx(Nf,{children:Xe.deviceInfo})]}),u.jsxs(Re,{variant:"outline",size:"sm",onClick:e1,className:"ml-auto",children:[u.jsx(Yl,{className:"mr-2 h-4 w-4"}),r("downloadJSON")]})]}),u.jsx("div",{className:"overflow-auto flex-1 mt-4",children:u.jsx("pre",{className:"bg-slate-50 p-4 rounded-md text-sm font-mono whitespace-pre-wrap",children:Xe.content})})]})}),u.jsx(Wc,{open:$a,onOpenChange:Vp,children:u.jsxs(Ul,{className:"sm:max-w-[425px]",children:[u.jsxs(Hl,{children:[u.jsx(Vl,{children:r("saveTopology")}),u.jsx(Nf,{children:r("saveTopologyDesc")})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(is,{htmlFor:"topology_name",className:"text-right",children:r("topologyNameRequired")}),u.jsx(er,{id:"topology_name",value:Ba.topology_name,onChange:q=>Fa(he=>({...he,topology_name:q.target.value})),className:"col-span-3",placeholder:r("topologyNamePlaceholder"),required:!0})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(is,{htmlFor:"description",className:"text-right",children:r("description")}),u.jsx(Nue,{id:"description",value:Ba.description,onChange:q=>Fa(he=>({...he,description:q.target.value})),className:"col-span-3",placeholder:r("topologyDescPlaceholder")})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(is,{htmlFor:"created_by",className:"text-right",children:r("creator")}),u.jsx(er,{id:"created_by",value:Ba.created_by,onChange:q=>Fa(he=>({...he,created_by:q.target.value})),className:"col-span-3",placeholder:r("username")})]}),Dw&&u.jsx("div",{className:"px-4",children:u.jsxs(cm,{variant:"destructive",children:[u.jsx(bi,{className:"h-4 w-4"}),u.jsx(um,{children:r("saveFailure")}),u.jsx(dm,{children:Dw})]})})]}),u.jsxs(Gc,{children:[u.jsx(Re,{variant:"outline",onClick:()=>Vp(!1),children:r("cancel")}),u.jsx(Re,{onClick:o1,disabled:u0,children:u0?u.jsxs(u.Fragment,{children:[u.jsx($t,{className:"mr-2 h-4 w-4 animate-spin"}),u.jsx("span",{children:r("saving")})]}):u.jsx("span",{children:r("save")})})]})]})})]})};var kYe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Aue=kYe.reduce((e,t)=>{const r=up(`Primitive.${t}`),n=A.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),q$="Progress",Y$=100,[EYe,Dpt]=Oa(q$),[TYe,NYe]=EYe(q$),jue=A.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=AYe,...a}=e;(i||i===0)&&!Fq(i)&&console.error(jYe(`${i}`,"Progress"));const o=Fq(i)?i:Y$;n!==null&&!zq(n,o)&&console.error(RYe(`${n}`,"Progress"));const l=zq(n,o)?n:null,c=aT(l)?s(l,o):void 0;return u.jsx(TYe,{scope:r,value:l,max:o,children:u.jsx(Aue.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":aT(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":Mue(l,o),"data-value":l??void 0,"data-max":o,...a,ref:t})})});jue.displayName=q$;var Rue="ProgressIndicator",Iue=A.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=NYe(Rue,r);return u.jsx(Aue.div,{"data-state":Mue(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});Iue.displayName=Rue;function AYe(e,t){return`${Math.round(e/t*100)}%`}function Mue(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function aT(e){return typeof e=="number"}function Fq(e){return aT(e)&&!isNaN(e)&&e>0}function zq(e,t){return aT(e)&&!isNaN(e)&&e<=t&&e>=0}function jYe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Y$}\`.`}function RYe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Y$} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Pue=jue,IYe=Iue;const Zu=A.forwardRef(({className:e,value:t,indicatorClassName:r,...n},i)=>u.jsx(Pue,{ref:i,className:Yt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:u.jsx(IYe,{className:Yt("h-full w-full flex-1 bg-primary transition-all",r),style:{transform:`translateX(-${100-(t||0)}%)`}})}));Zu.displayName=Pue.displayName;var MYe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Op=MYe.reduce((e,t)=>{const r=up(`Primitive.${t}`),n=A.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function PYe(e,t){e&&kp.flushSync(()=>e.dispatchEvent(t))}var LYe="DismissableLayer",LD="dismissableLayer.update",DYe="dismissableLayer.pointerDownOutside",OYe="dismissableLayer.focusOutside",Uq,Lue=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Due=A.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=e,c=A.useContext(Lue),[d,h]=A.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=A.useState({}),g=Xt(t,k=>h(k)),v=Array.from(c.layers),[m]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(m),x=d?v.indexOf(d):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,b=x>=y,w=FYe(k=>{const C=k.target,E=[...c.branches].some(T=>T.contains(C));!b||E||(i==null||i(k),a==null||a(k),k.defaultPrevented||o==null||o())},f),S=zYe(k=>{const C=k.target;[...c.branches].some(T=>T.contains(C))||(s==null||s(k),a==null||a(k),k.defaultPrevented||o==null||o())},f);return Voe(k=>{x===c.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&o&&(k.preventDefault(),o()))},f),A.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Uq=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Hq(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Uq)}},[d,f,r,c]),A.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Hq())},[d,c]),A.useEffect(()=>{const k=()=>p({});return document.addEventListener(LD,k),()=>document.removeEventListener(LD,k)},[]),u.jsx(Op.div,{...l,ref:g,style:{pointerEvents:_?b?"auto":"none":void 0,...e.style},onFocusCapture:It(e.onFocusCapture,S.onFocusCapture),onBlurCapture:It(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:It(e.onPointerDownCapture,w.onPointerDownCapture)})});Due.displayName=LYe;var $Ye="DismissableLayerBranch",BYe=A.forwardRef((e,t)=>{const r=A.useContext(Lue),n=A.useRef(null),i=Xt(t,n);return A.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),u.jsx(Op.div,{...e,ref:i})});BYe.displayName=$Ye;function FYe(e,t=globalThis==null?void 0:globalThis.document){const r=di(e),n=A.useRef(!1),i=A.useRef(()=>{});return A.useEffect(()=>{const s=o=>{if(o.target&&!n.current){let l=function(){Oue(DYe,r,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function zYe(e,t=globalThis==null?void 0:globalThis.document){const r=di(e),n=A.useRef(!1);return A.useEffect(()=>{const i=s=>{s.target&&!n.current&&Oue(OYe,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Hq(){const e=new CustomEvent(LD);document.dispatchEvent(e)}function Oue(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?PYe(i,s):i.dispatchEvent(s)}var UYe="Arrow",$ue=A.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return u.jsx(Op.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});$ue.displayName=UYe;var HYe=$ue,K$="Popper",[Bue,Fue]=Oa(K$),[VYe,zue]=Bue(K$),Uue=e=>{const{__scopePopper:t,children:r}=e,[n,i]=A.useState(null);return u.jsx(VYe,{scope:t,anchor:n,onAnchorChange:i,children:r})};Uue.displayName=K$;var Hue="PopperAnchor",Vue=A.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=zue(Hue,r),a=A.useRef(null),o=Xt(t,a);return A.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:u.jsx(Op.div,{...i,ref:o})});Vue.displayName=Hue;var Z$="PopperContent",[WYe,GYe]=Bue(Z$),Wue=A.forwardRef((e,t)=>{var B,W,K,X,Q,re;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:g,...v}=e,m=zue(Z$,r),[y,x]=A.useState(null),_=Xt(t,Se=>x(Se)),[b,w]=A.useState(null),S=r2(b),k=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,E=n+(s!=="center"?"-"+s:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(c)?c:[c],R=N.length>0,P={padding:T,boundary:N.filter(YYe),altBoundary:R},{refs:D,floatingStyles:$,placement:L,isPositioned:O,middlewareData:j}=ale({strategy:"fixed",placement:E,whileElementsMounted:(...Se)=>ile(...Se,{animationFrame:p==="always"}),elements:{reference:m.anchor},middleware:[ole({mainAxis:i+C,alignmentAxis:a}),l&&lle({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?cle():void 0,...P}),l&&ule({...P}),dle({...P,apply:({elements:Se,rects:Te,availableWidth:Ie,availableHeight:Me})=>{const{width:Ee,height:Ae}=Te.reference,Lt=Se.floating.style;Lt.setProperty("--radix-popper-available-width",`${Ie}px`),Lt.setProperty("--radix-popper-available-height",`${Me}px`),Lt.setProperty("--radix-popper-anchor-width",`${Ee}px`),Lt.setProperty("--radix-popper-anchor-height",`${Ae}px`)}}),b&&fle({element:b,padding:o}),KYe({arrowWidth:k,arrowHeight:C}),f&&hle({strategy:"referenceHidden",...P})]}),[M,I]=Yue(L),z=di(g);In(()=>{O&&(z==null||z())},[O,z]);const U=(B=j.arrow)==null?void 0:B.x,F=(W=j.arrow)==null?void 0:W.y,G=((K=j.arrow)==null?void 0:K.centerOffset)!==0,[Y,Z]=A.useState();return In(()=>{y&&Z(window.getComputedStyle(y).zIndex)},[y]),u.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:O?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[(X=j.transformOrigin)==null?void 0:X.x,(Q=j.transformOrigin)==null?void 0:Q.y].join(" "),...((re=j.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(WYe,{scope:r,placedSide:M,onArrowChange:w,arrowX:U,arrowY:F,shouldHideArrow:G,children:u.jsx(Op.div,{"data-side":M,"data-align":I,...v,ref:_,style:{...v.style,animation:O?void 0:"none"}})})})});Wue.displayName=Z$;var Gue="PopperArrow",qYe={top:"bottom",right:"left",bottom:"top",left:"right"},que=A.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=GYe(Gue,n),a=qYe[s.placedSide];return u.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:u.jsx(HYe,{...i,ref:r,style:{...i.style,display:"block"}})})});que.displayName=Gue;function YYe(e){return e!==null}var KYe=e=>({name:"transformOrigin",options:e,fn(t){var m,y,x;const{placement:r,rects:n,middlewareData:i}=t,a=((m=i.arrow)==null?void 0:m.centerOffset)!==0,o=a?0:e.arrowWidth,l=a?0:e.arrowHeight,[c,d]=Yue(r),h={start:"0%",center:"50%",end:"100%"}[d],f=(((y=i.arrow)==null?void 0:y.x)??0)+o/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let g="",v="";return c==="bottom"?(g=a?h:`${f}px`,v=`${-l}px`):c==="top"?(g=a?h:`${f}px`,v=`${n.floating.height+l}px`):c==="right"?(g=`${-l}px`,v=a?h:`${p}px`):c==="left"&&(g=`${n.floating.width+l}px`,v=a?h:`${p}px`),{data:{x:g,y:v}}}});function Yue(e){const[t,r="center"]=e.split("-");return[t,r]}var ZYe=Uue,XYe=Vue,JYe=Wue,QYe=que;function eKe(e,t){return A.useReducer((r,n)=>t[r][n]??r,e)}var Kue=e=>{const{present:t,children:r}=e,n=tKe(t),i=typeof r=="function"?r({present:n.isPresent}):A.Children.only(r),s=Xt(n.ref,rKe(i));return typeof r=="function"||n.isPresent?A.cloneElement(i,{ref:s}):null};Kue.displayName="Presence";function tKe(e){const[t,r]=A.useState(),n=A.useRef(null),i=A.useRef(e),s=A.useRef("none"),a=e?"mounted":"unmounted",[o,l]=eKe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const c=YS(n.current);s.current=o==="mounted"?c:"none"},[o]),In(()=>{const c=n.current,d=i.current;if(d!==e){const f=s.current,p=YS(c);e?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),In(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,h=p=>{const v=YS(n.current).includes(p.animationName);if(p.target===t&&v&&(l("ANIMATION_END"),!i.current)){const m=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=m)})}},f=p=>{p.target===t&&(s.current=YS(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:A.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function YS(e){return(e==null?void 0:e.animationName)||"none"}function rKe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var nKe=PT[" useInsertionEffect ".trim().toString()]||In;function iKe({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,s,a]=sKe({defaultProp:t,onChange:r}),o=e!==void 0,l=o?e:i;{const d=A.useRef(e!==void 0);A.useEffect(()=>{const h=d.current;h!==o&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const c=A.useCallback(d=>{var h;if(o){const f=aKe(d)?d(e):d;f!==e&&((h=a.current)==null||h.call(a,f))}else s(d)},[o,e,s,a]);return[l,c]}function sKe({defaultProp:e,onChange:t}){const[r,n]=A.useState(e),i=A.useRef(r),s=A.useRef(t);return nKe(()=>{s.current=t},[t]),A.useEffect(()=>{var a;i.current!==r&&((a=s.current)==null||a.call(s,r),i.current=r)},[r,i]),[r,n,s]}function aKe(e){return typeof e=="function"}var oKe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),lKe="VisuallyHidden",Zue=A.forwardRef((e,t)=>u.jsx(Op.span,{...e,ref:t,style:{...oKe,...e.style}}));Zue.displayName=lKe;var cKe=Zue,[v2,Opt]=Oa("Tooltip",[Fue]),y2=Fue(),Xue="TooltipProvider",uKe=700,DD="tooltip.open",[dKe,X$]=v2(Xue),Jue=e=>{const{__scopeTooltip:t,delayDuration:r=uKe,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=e,a=A.useRef(!0),o=A.useRef(!1),l=A.useRef(0);return A.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(dKe,{scope:t,isOpenDelayedRef:a,delayDuration:r,onOpen:A.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:A.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:A.useCallback(c=>{o.current=c},[]),disableHoverableContent:i,children:s})};Jue.displayName=Xue;var cb="Tooltip",[hKe,x2]=v2(cb),Que=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i,onOpenChange:s,disableHoverableContent:a,delayDuration:o}=e,l=X$(cb,e.__scopeTooltip),c=y2(t),[d,h]=A.useState(null),f=Od(),p=A.useRef(0),g=a??l.disableHoverableContent,v=o??l.delayDuration,m=A.useRef(!1),[y,x]=iKe({prop:n,defaultProp:i??!1,onChange:k=>{k?(l.onOpen(),document.dispatchEvent(new CustomEvent(DD))):l.onClose(),s==null||s(k)},caller:cb}),_=A.useMemo(()=>y?m.current?"delayed-open":"instant-open":"closed",[y]),b=A.useCallback(()=>{window.clearTimeout(p.current),p.current=0,m.current=!1,x(!0)},[x]),w=A.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),S=A.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{m.current=!0,x(!0),p.current=0},v)},[v,x]);return A.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),u.jsx(ZYe,{...c,children:u.jsx(hKe,{scope:t,contentId:f,open:y,stateAttribute:_,trigger:d,onTriggerChange:h,onTriggerEnter:A.useCallback(()=>{l.isOpenDelayedRef.current?S():b()},[l.isOpenDelayedRef,S,b]),onTriggerLeave:A.useCallback(()=>{g?w():(window.clearTimeout(p.current),p.current=0)},[w,g]),onOpen:b,onClose:w,disableHoverableContent:g,children:r})})};Que.displayName=cb;var OD="TooltipTrigger",ede=A.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=x2(OD,r),s=X$(OD,r),a=y2(r),o=A.useRef(null),l=Xt(t,o,i.onTriggerChange),c=A.useRef(!1),d=A.useRef(!1),h=A.useCallback(()=>c.current=!1,[]);return A.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),u.jsx(XYe,{asChild:!0,...a,children:u.jsx(Op.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:It(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:It(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:It(e.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:It(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:It(e.onBlur,i.onClose),onClick:It(e.onClick,i.onClose)})})});ede.displayName=OD;var fKe="TooltipPortal",[$pt,pKe]=v2(fKe,{forceMount:void 0}),cv="TooltipContent",tde=A.forwardRef((e,t)=>{const r=pKe(cv,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=e,a=x2(cv,e.__scopeTooltip);return u.jsx(Kue,{present:n||a.open,children:a.disableHoverableContent?u.jsx(rde,{side:i,...s,ref:t}):u.jsx(gKe,{side:i,...s,ref:t})})}),gKe=A.forwardRef((e,t)=>{const r=x2(cv,e.__scopeTooltip),n=X$(cv,e.__scopeTooltip),i=A.useRef(null),s=Xt(t,i),[a,o]=A.useState(null),{trigger:l,onClose:c}=r,d=i.current,{onPointerInTransitChange:h}=n,f=A.useCallback(()=>{o(null),h(!1)},[h]),p=A.useCallback((g,v)=>{const m=g.currentTarget,y={x:g.clientX,y:g.clientY},x=_Ke(y,m.getBoundingClientRect()),_=bKe(y,x),b=wKe(v.getBoundingClientRect()),w=CKe([..._,...b]);o(w),h(!0)},[h]);return A.useEffect(()=>()=>f(),[f]),A.useEffect(()=>{if(l&&d){const g=m=>p(m,d),v=m=>p(m,l);return l.addEventListener("pointerleave",g),d.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",v)}}},[l,d,p,f]),A.useEffect(()=>{if(a){const g=v=>{const m=v.target,y={x:v.clientX,y:v.clientY},x=(l==null?void 0:l.contains(m))||(d==null?void 0:d.contains(m)),_=!SKe(y,a);x?f():_&&(f(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,d,a,c,f]),u.jsx(rde,{...e,ref:s})}),[mKe,vKe]=v2(cb,{isInside:!1}),yKe=THe("TooltipContent"),rde=A.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=e,l=x2(cv,r),c=y2(r),{onClose:d}=l;return A.useEffect(()=>(document.addEventListener(DD,d),()=>document.removeEventListener(DD,d)),[d]),A.useEffect(()=>{if(l.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),u.jsx(Due,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:u.jsxs(JYe,{"data-state":l.stateAttribute,...c,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(yKe,{children:n}),u.jsx(mKe,{scope:r,isInside:!0,children:u.jsx(cKe,{id:l.contentId,role:"tooltip",children:i||n})})]})})});tde.displayName=cv;var nde="TooltipArrow",xKe=A.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=y2(r);return vKe(nde,r).isInside?null:u.jsx(QYe,{...i,...n,ref:t})});xKe.displayName=nde;function _Ke(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function bKe(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function wKe(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function SKe(e,t){const{x:r,y:n}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const o=t[s],l=t[a],c=o.x,d=o.y,h=l.x,f=l.y;d>n!=f>n&&r<(h-c)*(n-d)/(f-d)+c&&(i=!i)}return i}function CKe(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),kKe(t)}function kKe(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const s=r[r.length-1],a=r[r.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var EKe=Jue,TKe=Que,NKe=ede,ide=tde;const od=EKe,zo=TKe,Uo=NKe,oo=A.forwardRef(({className:e,sideOffset:t=4,...r},n)=>u.jsx(ide,{ref:n,sideOffset:t,className:Yt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));oo.displayName=ide.displayName;const My="selected_topology_name",AKe="network-deployment-toast-enable",Vq="hd_telemetry_device_ip",jKe=e=>{const t=new Date(e);return!isNaN(t.getTime())},RKe=e=>{try{const t=new Date(e);return isNaN(t.getTime())?"无效日期":t.toLocaleString()}catch{return"无效日期"}},IKe={ASIC_TEMP:"ASIC芯片温度",CPU_TEMP:"CPU温度",INLET_TEMP:"芯片进风温度",MAC_IN_TEMP:"芯片入向温度",MAC_OUT_TEMP:"芯片出向温度",OUTLET_TEMP:"设备出风口温度",PSU_TEMP:"电源温度",PSU1_TEMP:"PSU1温度",PSU2_TEMP:"PSU2温度"},MKe=/^(Fantray\d+)(?:_\d+)?$/i,PKe=e=>e.presence?e.status?e.speed<20?{statusText:"low speed",statusColor:"bg-yellow-400",textColor:"text-yellow-700",bgColor:"bg-yellow-50",borderColor:"border-yellow-300"}:{statusText:"normal",statusColor:"bg-green-500",textColor:"text-green-700",bgColor:"bg-green-50",borderColor:"border-green-300"}:{statusText:"failed",statusColor:"bg-red-500",textColor:"text-red-700",bgColor:"bg-red-50",borderColor:"border-red-300"}:{statusText:"not present",statusColor:"bg-gray-400",textColor:"text-gray-700",bgColor:"bg-gray-100",borderColor:"border-gray-300"},LKe=e=>{let t=!1;if(e.voltage&&e.voltage_min_threshold&&e.voltage_max_threshold){const n=parseFloat(e.voltage.toString());(n<e.voltage_min_threshold||n>e.voltage_max_threshold)&&(t=!0)}let r=!1;return e.temp&&e.temp_threshold&&e.temp>=e.temp_threshold&&(r=!0),e.presence?e.status?r||t?{statusText:"warning",statusColor:"bg-orange-500",textColor:"text-orange-700",bgColor:"bg-orange-50",borderColor:"border-orange-300"}:{statusText:"normal",statusColor:"bg-green-500",textColor:"text-green-700",bgColor:"bg-green-50",borderColor:"border-green-300"}:{statusText:"failed",statusColor:"bg-red-500",textColor:"text-red-700",bgColor:"bg-red-50",borderColor:"border-red-300"}:{statusText:"not present",statusColor:"bg-gray-400",textColor:"text-gray-700",bgColor:"bg-gray-100",borderColor:"border-gray-300"}},Ng=(e,t)=>{const r=Math.min(100,e/t*100);return r>90?{statusText:"critical",statusColor:"bg-red-500",textColor:"text-red-700",bgColor:"bg-red-50",borderColor:"border-red-300",progressColor:"bg-red-500",percentage:r}:r>75?{statusText:"warning",statusColor:"bg-orange-500",textColor:"text-orange-700",bgColor:"bg-orange-50",borderColor:"border-orange-300",progressColor:"bg-orange-500",percentage:r}:r>60?{statusText:"attention",statusColor:"bg-yellow-400",textColor:"text-yellow-700",bgColor:"bg-yellow-50",borderColor:"border-yellow-300",progressColor:"bg-yellow-500",percentage:r}:{statusText:"normal",statusColor:"bg-green-500",textColor:"text-green-700",bgColor:"bg-green-50",borderColor:"border-green-300",progressColor:"bg-green-500",percentage:r}},Wq=e=>e>=1024*1024?`${(e/(1024*1024)).toFixed(2)} GB/s`:e>=1024?`${(e/1024).toFixed(2)} MB/s`:`${e.toFixed(2)} KB/s`,DKe=()=>{var gl,Ow,Tu,$w,h0,f0,p0,Bw,Fw,zw,Uw,g0,m0,Hw,bc,v0,ga,_h,bh,Vw,y0,Ww,x0,_0,Sr,Gw,qw,b0,Yw,Kw,Wp,w0,Zw,Xw,S0,Jw,C0,wh,Qw,k0,Gp,E0,wc,ml,qp,T0,e1,t1,an,r1,n1,i1,s1,a1,o1,q,he,ce,me,be,Ye,vr,Jt,Ut,Cr,za,ma,Yp,Qn,vl,N0,Kp,H2,yt,_t,Mt,Bn,pn,Ua,Tn,va,Ha,Nu,lF,cF,uF,dF,hF,fF,pF,gF,mF,vF,yF,xF,_F,bF,wF,SF,CF,kF,EF,TF,NF,AF,jF,RF,IF,MF,PF,LF,DF,OF,$F,BF,FF,zF,UF,HF,VF,WF,GF,qF,YF,KF,ZF,XF,JF,QF,e6,t6,r6,n6,i6;const{t:e}=F3(),[t,r]=A.useState("topology"),[n,i]=A.useState([]),[s,a]=A.useState(""),[o,l]=A.useState(""),[c,d]=A.useState(null),[h,f]=A.useState(!1),[p,g]=A.useState(!1),[v,m]=A.useState(null),y=A.useRef(null),{toast:x}=Tue();A.useRef(!1);const[_,b]=A.useState(null),[w,S]=A.useState(null),[k,C]=A.useState(!1),[E,T]=A.useState(""),[N,R]=A.useState(null),[P,D]=A.useState("asc"),[$,L]=A.useState(""),[O,j]=A.useState(0),[M,I]=A.useState(null),[z,U]=A.useState({x:0,y:0}),[F,G]=A.useState(null),[Y,Z]=A.useState(!1),[B,W]=A.useState(null),[K,X]=A.useState("desc"),[Q,re]=A.useState(null),[Se,Te]=A.useState(!1),[Ie,Me]=A.useState(!1),[Ee,Ae]=A.useState(!1),[Lt,zt]=A.useState(!1),[ge,Ze]=A.useState(""),[Oe,Wt]=A.useState(""),[ct,te]=A.useState([]),[oe,J]=A.useState(!1),[ne,de]=A.useState({}),[$e,ze]=A.useState(!1),[ke,Et]=A.useState([]),[wt,sr]=A.useState(!1),St=H=>localStorage.getItem(AKe)==="true"?x(H):{dismiss:()=>{}};A.useEffect(()=>{console.log("==== 组件首次加载 ====");const H=localStorage.getItem(My);console.log("从localStorage恢复的拓扑名称:",H);const se=localStorage.getItem(Vq);se&&(console.log("从localStorage恢复的设备IP:",se),L(se),b(se),ae(se)),Dt(H);const ue=()=>{if(document.visibilityState==="visible"){console.log("页面变为可见，检查保存的拓扑名称");const pe=localStorage.getItem(My);pe&&pe!==o&&(console.log("发现不同的保存拓扑名称:",pe),Dt(pe))}};return document.addEventListener("visibilitychange",ue),()=>{document.removeEventListener("visibilitychange",ue)}},[]),A.useEffect(()=>{_&&localStorage.setItem(Vq,_)},[_]),A.useEffect(()=>{if(s){console.log("拓扑ID变更为:",s);const H=n.find(se=>se.id===s);if(H){const se=H.topology_name;l(se),console.log("对应的拓扑名称:",se),localStorage.setItem(My,se),Jr(s,se),St({title:"拓扑选择已保存",description:`您选择的拓扑"${se}"将在下次访问时自动加载`})}}},[s]);const Dt=async H=>{var se,ue,pe,at;console.log("开始获取拓扑列表..."),H&&console.log("将尝试恢复拓扑名称:",H),f(!0),m(null);try{const we=await Nt.post("/webhook/api/network-deployment/topology/list",{},{headers:{"Content-Type":"application/json"}});if(!we.data){console.log("服务器返回空拓扑列表"),i([]);return}console.log("获取到的拓扑列表:",we.data);const pt=Array.isArray(we.data)?we.data:[];if(i(pt),pt.length>0){const nr=H?pt.find(Tt=>Tt.topology_name===H):null;nr?(console.log("找到已保存的拓扑名称对应的拓扑:",nr.id),a(nr.id),l(nr.topology_name)):(H&&console.log("已保存的拓扑名称不存在于列表中:",H),console.log("使用列表中的第一个拓扑:",pt[0].id),a(pt[0].id),l(pt[0].topology_name))}else console.log("拓扑列表为空，清空选择"),a(""),l("")}catch(we){console.error("Get topology list error:",we),m("Get topology list error: "+(((ue=(se=we.response)==null?void 0:se.data)==null?void 0:ue.message)||we.message)),St({variant:"destructive",title:"Get topology list error",description:((at=(pe=we.response)==null?void 0:pe.data)==null?void 0:at.message)||we.message})}finally{f(!1)}},Jr=async(H,se)=>{var ue,pe,at,we,pt,nr,Tt,Nr;if(!H||!se){console.log("没有有效的拓扑ID或名称，跳过加载");return}g(!0),m(null);try{console.log("开始获取拓扑详情, ID:",H,"名称:",se),console.log("请求拓扑数据，参数:",{id:H,topology_name:se});let Dr;try{Dr=await Nt.post("/webhook/api/network-deployment/topology/load",{id:H,topology_name:se},{headers:{"Content-Type":"application/json"}})}catch{console.log("尝试方式1失败，尝试仅使用topology_name");try{Dr=await Nt.post("/webhook/api/network-deployment/topology/load",{topology_name:se},{headers:{"Content-Type":"application/json"}})}catch{console.log("尝试方式2失败，尝试使用name参数"),Dr=await Nt.post("/webhook/api/network-deployment/topology/load",{name:se},{headers:{"Content-Type":"application/json"}})}}if(!Dr||!Dr.data){m("获取拓扑详情失败: 服务器返回空数据"),d(null),console.error("服务器返回空数据");return}console.log("成功获取拓扑详情数据，响应状态码:",Dr.status);const Qr=Dr.data,ir={id:H,topology_name:se,description:"",created_by:"",created_at:"",nodes:[],links:[]};Qr&&typeof Qr=="object"&&(typeof Qr.description=="string"?ir.description=Qr.description:(ue=Qr.metadata)!=null&&ue.description&&(ir.description=Qr.metadata.description),typeof Qr.created_by=="string"?ir.created_by=Qr.created_by:(pe=Qr.metadata)!=null&&pe.created_by&&(ir.created_by=Qr.metadata.created_by),typeof Qr.created_at=="string"?ir.created_at=Qr.created_at:(at=Qr.metadata)!=null&&at.created_at?ir.created_at=Qr.metadata.created_at:(we=Qr.metadata)!=null&&we.timestamp&&(ir.created_at=Qr.metadata.timestamp));const Ni=n.find(Qt=>Qt.id===H);Ni&&(!ir.description&&Ni.description&&(ir.description=Ni.description),!ir.created_by&&Ni.created_by&&(ir.created_by=Ni.created_by),!ir.created_at&&Ni.created_at&&(ir.created_at=Ni.created_at)),console.log("提取的拓扑详情:",{id:ir.id,topology_name:ir.topology_name,description:ir.description,created_by:ir.created_by,created_at:ir.created_at});const Zi=Qt=>{if(console.log("尝试提取节点数据"),Array.isArray(Qt.nodes)&&Qt.nodes.length>0)return console.log(`找到顶层nodes数组, 长度: ${Qt.nodes.length}`),Qt.nodes;if(Array.isArray(Qt.nodes)&&Qt.nodes.length>0&&Qt.nodes[0]&&Array.isArray(Qt.nodes[0].nodes))return console.log(`找到嵌套的nodes数组, 长度: ${Qt.nodes[0].nodes.length}`),Qt.nodes[0].nodes;for(const je in Qt)if(Qt[je]&&typeof Qt[je]=="object"&&Array.isArray(Qt[je].nodes)&&Qt[je].nodes.length>0)return console.log(`在属性 ${je} 中找到nodes数组, 长度: ${Qt[je].nodes.length}`),Qt[je].nodes;return console.log("未找到有效的nodes数组"),[]},ys=Qt=>{if(console.log("尝试提取链接数据"),Array.isArray(Qt.links)&&Qt.links.length>0)return console.log(`找到顶层links数组, 长度: ${Qt.links.length}`),Qt.links;if(Array.isArray(Qt.nodes)&&Qt.nodes.length>0&&Qt.nodes[0]&&Array.isArray(Qt.nodes[0].links))return console.log(`找到嵌套的links数组, 长度: ${Qt.nodes[0].links.length}`),Qt.nodes[0].links;for(const je in Qt)if(Qt[je]&&typeof Qt[je]=="object"&&Array.isArray(Qt[je].links)&&Qt[je].links.length>0)return console.log(`在属性 ${je} 中找到links数组, 长度: ${Qt[je].links.length}`),Qt[je].links;return console.log("未找到有效的links数组"),[]},Au=Zi(Qr),ko=ys(Qr);ir.nodes=Array.isArray(Au)?Au:[],ir.links=Array.isArray(ko)?ko:[],console.log("最终处理后的数据:",{id:ir.id,topology_name:ir.topology_name,description:ir.description,nodesCount:ir.nodes.length,linksCount:ir.links.length}),d(ir),setTimeout(()=>{ir.nodes.length>0?Ti(ir):(console.error("没有有效的节点数据可以渲染"),m("获取到的拓扑没有有效的节点数据"))},100)}catch(Dr){console.error("获取拓扑详情失败:",Dr),m("获取拓扑详情失败: "+(((nr=(pt=Dr.response)==null?void 0:pt.data)==null?void 0:nr.message)||Dr.message)),St({variant:"destructive",title:"获取拓扑详情失败",description:((Nr=(Tt=Dr.response)==null?void 0:Tt.data)==null?void 0:Nr.message)||Dr.message})}finally{g(!1)}},Ti=H=>{if(!y.current)return;console.log("开始渲染拓扑图..."),Or(y.current).selectAll("*").remove();const se=y.current.clientWidth||1e3,ue=600;if(console.log("渲染拓扑数据:",{id:H.id,topology_name:H.topology_name,nodesCount:Array.isArray(H.nodes)?H.nodes.length:0,linksCount:Array.isArray(H.links)?H.links.length:0}),!H||!Array.isArray(H.nodes)||H.nodes.length===0){console.error("无效的拓扑数据, 缺少节点信息"),Or(y.current).attr("width","100%").attr("height",ue).append("text").attr("x",se/2).attr("y",ue/2).attr("text-anchor","middle").attr("font-size","16px").attr("fill","red").text("无法渲染拓扑图：数据格式不正确或无节点");return}const pe={...H,nodes:H.nodes.map(je=>({...je,ip:je.ip||"",hostname:je.hostname||"Unknown",role:je.role||"unknown",neighbors:Array.isArray(je.neighbors)?je.neighbors:[]})),links:Array.isArray(H.links)?H.links:[]};console.log("处理后节点数量:",pe.nodes.length),console.log("处理后链接数量:",pe.links.length),pe.nodes.length>0&&console.log("节点样例:",pe.nodes[0]),pe.links.length>0&&console.log("链接样例:",pe.links[0]);const at=Or(y.current).attr("width","100%").attr("height",ue),we=at.append("g").attr("transform","translate(50, 50)"),pt=new Map,nr=new Map;try{pe.nodes.forEach(je=>{const vt=je.hostname||je.ip||"node-"+Math.random().toString(36).substring(7);pt.set(vt,{id:vt,hostname:je.hostname||"Unknown",role:je.role||"unknown",ip:je.ip||"",neighbors:Array.isArray(je.neighbors)?je.neighbors:[],connections:[]})}),console.log(`成功处理了 ${pt.size} 个节点`)}catch(je){console.error("处理节点数据时出错:",je)}try{pe.links.forEach(je=>{const vt=je.source||"",qt=je.target||"";if(!vt||!qt){console.warn("跳过无效链接:",je);return}if(!pt.has(vt)||!pt.has(qt)){console.warn(`链接 ${vt} -> ${qt} 的节点不存在于节点映射中`);return}if(vt===qt)return;const zn=je.sourcePort||"unknown",yn=je.targetPort||"unknown",Ot=`${vt}-${qt}-${zn}-${yn}`;if(!nr.has(Ot)){nr.set(Ot,{source:vt,target:qt,sourcePort:zn,targetPort:yn});const Mr=pt.get(vt);if(Mr){Mr.connections||(Mr.connections=[]);let Un=Mr.connections.find(Xi=>Xi.target===qt);Un||(Un={target:qt,connectionCount:0,connections:[]},Mr.connections.push(Un)),Un.connectionCount+=1,Un.connections.push({sourcePort:zn,targetPort:yn})}}}),console.log(`成功处理了 ${nr.size} 个链接`)}catch(je){console.error("处理链接数据时出错:",je)}const Tt=Array.from(pt.values()),Nr=Array.from(nr.values());if(Tt.length===0){console.error("没有有效节点可以渲染"),at.append("g").append("text").attr("x",se/2).attr("y",ue/2).attr("text-anchor","middle").attr("font-size","16px").attr("fill","red").text("无法渲染拓扑图：没有有效节点");return}console.log("处理完成，准备渲染:",{nodes:Tt.length,links:Nr.length});const Dr={superspine:[],spine:[],leaf:[],unknown:[]};Tt.forEach(je=>{const vt=je.role||"unknown";Dr[vt]||(Dr[vt]=[]),Dr[vt].push(je)});const Qr={superspine:80,spine:220,leaf:360,unknown:480},ir=se-100;Object.entries(Dr).forEach(([je,vt])=>{const qt=vt.length;if(qt===0)return;const zn=Qr[je];vt.sort((Mr,Un)=>{if(!Mr.hostname&&!Un.hostname)return 0;if(!Mr.hostname)return 1;if(!Un.hostname)return-1;const Xi=Mr.hostname.match(/(\d+)/),Va=Un.hostname.match(/(\d+)/);return Xi&&Va?parseInt(Xi[0],10)-parseInt(Va[0],10):Xi?-1:Va?1:Mr.hostname.localeCompare(Un.hostname)});const yn=qt<=1?0:ir/(qt>1?qt-1:1),Ot=0;vt.forEach((Mr,Un)=>{Mr.x=Ot+Un*yn,Mr.y=zn})});const Ni=we.append("g").attr("class","links");Nr.length>0?Ni.selectAll("path").data(Nr).enter().append("path").attr("class","link").attr("id",je=>`link-${je.source}-${je.target}`).attr("fill","none").attr("stroke","#aaa").attr("stroke-width",je=>{var yn;const vt=Tt.find(Ot=>Ot.id===je.source);if(!vt)return 1.5;const qt=(yn=vt.connections)==null?void 0:yn.find(Ot=>Ot.target===je.target);return qt?Math.min(3,1+qt.connectionCount*.5):1.5}).each(function(){const je=Or(this);je.attr("data-original-width",je.attr("stroke-width"))}).attr("d",je=>{const vt=Tt.find(Mr=>Mr.id===je.source),qt=Tt.find(Mr=>Mr.id===je.target);if(!vt||!qt||vt.x===void 0||vt.y===void 0||qt.x===void 0||qt.y===void 0)return console.warn("链接节点位置未定义:",{source:vt,target:qt}),"";const zn=qt.x-vt.x,yn=qt.y-vt.y,Ot=Math.sqrt(zn*zn+yn*yn)*1.2;return Math.abs(vt.y-qt.y)<10?`M${vt.x},${vt.y} A${Ot},${Ot} 0 0,1 ${qt.x},${qt.y}`:`M${vt.x},${vt.y} C${vt.x},${(vt.y+qt.y)/2} ${qt.x},${(vt.y+qt.y)/2} ${qt.x},${qt.y}`}):console.warn("没有有效链接可以渲染");const ys=we.append("g").attr("class","nodes").selectAll("g").data(Tt).enter().append("g").attr("class","node").attr("transform",je=>je.x===void 0||je.y===void 0?(console.warn("节点位置未定义:",je),"translate(0, 0)"):`translate(${je.x}, ${je.y})`);ys.append("circle").attr("r",20).attr("fill",je=>{switch(je.role){case"superspine":return"#FF5733";case"spine":return"#33A8FF";case"leaf":return"#33FF57";default:return"#888888"}}).attr("stroke","#000").attr("stroke-width",1),ys.append("text").attr("dy",-32).attr("text-anchor","middle").attr("font-size","12px").attr("font-weight","bold").attr("fill","#000").attr("stroke","white").attr("stroke-width",.5).text(je=>je.hostname||"Unknown"),ys.append("text").attr("dy",4).attr("text-anchor","middle").attr("font-size","9px").attr("fill","#fff").attr("font-weight","bold").text(je=>je.role==="unknown"?"":je.role),ys.append("text").attr("dy",-16).attr("text-anchor","middle").attr("font-size","9px").attr("fill","#555").text(je=>je.ip||""),ys.filter(je=>Array.isArray(je.neighbors)&&je.neighbors.length>0).append("circle").attr("cx",20).attr("cy",-15).attr("r",8).attr("fill","#4a5568").attr("stroke","white").attr("stroke-width",1),ys.filter(je=>Array.isArray(je.neighbors)&&je.neighbors.length>0).append("text").attr("x",20).attr("y",-12).attr("text-anchor","middle").attr("font-size","8px").attr("fill","white").text(je=>{var qt;return(((qt=je.neighbors)==null?void 0:qt.filter(zn=>zn&&typeof zn=="object"&&zn.target&&zn.targetRole!=="unknown"))||[]).length});const Au=Y3().scaleExtent([.1,2]).on("zoom",je=>{we.attr("transform",je.transform)});at.call(Au).call(Au.transform,Bc.translate(50,50).scale(.9)),ys.on("click",function(je,vt){Xe(vt)}),ys.on("mouseover",function(je,vt){const qt=je.pageX,zn=je.pageY;Nr.forEach(Ot=>{const Mr=Ot.source===vt.id,Un=Ot.target===vt.id;if(!Mr&&!Un)return;const Xi=Mr?Ot.target:Ot.source,Va=Tt.find(A0=>A0.id===Xi);Va&&Va.role!=="unknown"&&Or(`#link-${Ot.source}-${Ot.target}`).attr("stroke","#FF6B00").attr("stroke-width",4).attr("stroke-opacity",.8)});const yn=Or("body").append("div").attr("class","topology-tooltip").style("position","absolute").style("background","white").style("border","1px solid #ddd").style("border-radius","4px").style("padding","8px").style("box-shadow","0 2px 5px rgba(0,0,0,0.2)").style("font-size","12px").style("pointer-events","none").style("max-width","300px").style("z-index","1000").style("left",`${qt+15}px`).style("top",`${zn-15}px`);if(yn.append("div").style("font-weight","bold").style("margin-bottom","5px").text(`${vt.hostname||"Unknown"}${vt.ip?` (${vt.ip})`:""}`),yn.append("div").style("margin-bottom","8px").style("color","#555").text(`${e("roleText")}: ${vt.role||e("unknown")}`),vt.neighbors&&vt.neighbors.length>0){const Ot=vt.neighbors.filter(Mr=>Mr&&typeof Mr=="object"&&Mr.target&&Mr.targetRole!=="unknown");Ot.length>0?(yn.append("div").style("font-weight","bold").style("border-top","1px solid #eee").style("padding-top","4px").style("margin-top","4px").text(e("neighborConnectionsText").replace("{0}",Ot.length.toString())),Ot.forEach(Mr=>{yn.append("div").style("margin-top","6px").style("font-weight","bold").style("color","#0066cc").text(`→ ${Mr.target} (${Mr.targetRole||"未知"})`),yn.append("div").style("margin-left","10px").style("font-size","11px").style("line-height","1.4").html(`<span style="color:#555">${vt.hostname||"Unknown"}:</span> <strong>${Mr.localPort||"未知"}</strong> → <span style="color:#555">${Mr.target}:</span> <strong>${Mr.remotePort||"未知"}</strong>`)})):yn.append("div").style("font-style","italic").style("margin-top","5px").style("color","#777").text(e("noValidNeighbors"))}else yn.append("div").style("font-style","italic").style("margin-top","5px").style("color","#777").text(e("noNeighborsText"))}).on("mouseout",function(je,vt){Nr.forEach(qt=>{const zn=qt.source===vt.id,yn=qt.target===vt.id;if(!zn&&!yn)return;Or(`#link-${qt.source}-${qt.target}`).attr("stroke","#aaa").attr("stroke-width",function(){return Or(this).attr("data-original-width")||1.5}).attr("stroke-opacity",1)}),KQ(".topology-tooltip").remove()}),at.append("text").attr("x",20).attr("y",ue-20).attr("font-size","12px").attr("fill","#666").text(e("zoomTip"));const ko=at.append("g").attr("class","legend").attr("transform",`translate(${se-200}, ${ue-100})`);ko.append("text").attr("x",0).attr("y",0).attr("font-size","12px").attr("font-weight","bold").attr("fill","#333").text(e("nodeRoles")),[{role:"superspine",color:"#FF5733",label:e("superspine")},{role:"spine",color:"#33A8FF",label:e("spine")},{role:"leaf",color:"#33FF57",label:e("leaf")},{role:"unknown",color:"#888888",label:e("unknown")}].forEach((je,vt)=>{ko.append("circle").attr("cx",10).attr("cy",20+vt*20).attr("r",6).attr("fill",je.color),ko.append("text").attr("x",25).attr("y",24+vt*20).attr("font-size","12px").attr("fill","#333").text(je.label)}),console.log("拓扑图渲染完成")},Xe=H=>{console.log("节点被点击:",H);const se=H.ip;if(!se){m("节点没有IP地址信息");return}L(se),r("device"),ae(se)},ae=async H=>{var se,ue;C(!0),Z(!0),m(null);try{console.log("fetch device details:",H);const pe=await Nt.post("/webhook/panel-metrics/fetch_last_time",{ip_list:H},{headers:{"Content-Type":"application/json"}});if(!pe.data||!Array.isArray(pe.data)||pe.data.length===0)throw new Error("not found device information");console.log("get device details:",pe.data),S(pe.data),j(0),b(pe.data[0].ip_address),pe.data[0].platform?(console.log("获取到平台硬件信息:",pe.data[0].platform),G(pe.data[0].platform)):(console.log("没有平台硬件信息"),G(null))}catch(pe){console.error("error for fetch device details:",pe),m("error for fetch device details: "+(((ue=(se=pe.response)==null?void 0:se.data)==null?void 0:ue.message)||pe.message)),St({variant:"destructive",title:"error for fetch device details",description:"the device is not online or cannot be accessed"}),S(null),G(null)}finally{C(!1),Z(!1)}},_e=H=>{N===H?D(se=>se==="asc"?"desc":"asc"):(R(H),D("asc"))},Ue=()=>{if(!$.trim()){m("请输入有效的IP地址");return}ae($.trim()),r("device")},tr=H=>{H.key==="Enter"&&Ue()},$n=(H,se)=>{if(H===M){I(null);return}I(H);const ue=se.clientX,pe=se.clientY;U({x:ue,y:pe}),se.stopPropagation()},ur=()=>{_&&(C(!0),ae(_))},En=()=>!M||!w||!w[O]?null:w[O].interfaces.find(H=>H.physical_port===M)||null,vs=H=>{r(H),H==="topology"&&c&&setTimeout(()=>{Ti(c)},100)};A.useEffect(()=>{const H=se=>{if(M){const ue=document.getElementById("port-info-card");ue&&!ue.contains(se.target)&&I(null)}};return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[M]),A.useEffect(()=>{const H=localStorage.getItem("realtime_telemetry_selected_ips");if(H)try{const ue=JSON.parse(H);Array.isArray(ue)&&te(ue)}catch(ue){console.error("Failed to parse saved selected IPs:",ue)}const se=localStorage.getItem("realtime_telemetry_results");if(se)try{const ue=JSON.parse(se);typeof ue=="object"&&de(ue)}catch(ue){console.error("Failed to parse saved results:",ue)}},[]),A.useEffect(()=>{localStorage.setItem("realtime_telemetry_selected_ips",JSON.stringify(ct)),ke.length>0&&ct.length===ke.length?ze(!0):ze(!1)},[ct,ke]),A.useEffect(()=>{localStorage.setItem("realtime_telemetry_results",JSON.stringify(ne))},[ne]);const pa=()=>{if($e)te([]);else{const H=ke.map(se=>se.ip_address);te(H)}ze(!$e)},Ki=H=>{te(se=>{if(se.includes(H))return se.length===ke.length&&ze(!1),se.filter(pe=>pe!==H);{const pe=[...se,H];return pe.length===ke.length&&ze(!0),pe}})};A.useEffect(()=>{t==="realtime"&&ke.length===0&&rr()},[t]);const rr=async()=>{var H,se;sr(!0);try{const ue=await Nt.get("/webhook/api/network-devices");ue.data&&ue.data.status==="success"&&Array.isArray(ue.data.data)?(Et(ue.data.data),x({title:"Devices loaded successfully",description:`Loaded ${ue.data.data.length} devices`,variant:"default"})):(console.error("Invalid API response format:",ue.data),Et([]))}catch(ue){console.error("Failed to fetch devices:",ue),Et([]),x({title:"Failed to load devices",description:((se=(H=ue.response)==null?void 0:H.data)==null?void 0:se.message)||ue.message||"Unknown error",variant:"destructive"})}finally{sr(!1)}},[sn,$a]=A.useState(null),[Vp,u0]=A.useState(!1),d0=async()=>{u0(!0);try{const H=await Nt.post("/webhook/telemetry/result");console.log("Telemetry status response:",H.data),H.data&&Array.isArray(H.data)&&H.data.length>0&&$a(H.data)}catch(H){console.error("Failed to fetch telemetry status:",H)}finally{u0(!1)}};A.useEffect(()=>{t==="realtime"&&d0()},[t]);const Dw=async()=>{var se,ue;if(ct.length===0)return;J(!0);const H=new Date().toLocaleString();try{const pe=await Nt.post("/webhook/telemetry_fetch_real_time",{ip_list:ct},{headers:{"Content-Type":"application/json"}});console.log("Real-time telemetry response:",pe.data);const at={};pe.data&&typeof pe.data=="object"?Array.isArray(pe.data)?(pe.data.forEach(we=>{we.ip_address&&(at[we.ip_address]={success:!0,message:"Data fetched successfully",timestamp:H})}),ct.forEach(we=>{at[we]||(at[we]={success:!1,message:"No data returned for this device",timestamp:H})})):pe.data.results?Object.keys(pe.data.results).forEach(we=>{at[we]={success:pe.data.results[we].success||!1,message:pe.data.results[we].message||"Unknown status",timestamp:H}}):ct.forEach(we=>{at[we]={success:!0,message:"Request completed",timestamp:H}}):ct.forEach(we=>{at[we]={success:!1,message:"Invalid response from server",timestamp:H}}),de(at),d0(),x({title:"Real-Time Telemetry Fetch Complete",description:`Processed ${Object.keys(at).length} devices`,variant:"default"})}catch(pe){console.error("Error fetching real-time telemetry:",pe);const at={};ct.forEach(we=>{at[we]={success:!1,message:"Request failed",timestamp:H}}),de(at),x({title:"Failed to fetch real-time telemetry",description:((ue=(se=pe.response)==null?void 0:se.data)==null?void 0:ue.message)||pe.message||"Unknown error",variant:"destructive"})}finally{J(!1)}},[pl,Ba]=A.useState(1),Fa=10;return u.jsxs("div",{className:"container mx-auto py-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-2xl font-normal tracking-tight text-gray-800",children:e("telemetry")}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("div",{className:"flex items-center text-blue-600 text-sm bg-blue-50 px-3 py-1.5 rounded-md border border-blue-100",children:[u.jsx(eP,{size:14,className:"mr-1.5 text-blue-500"}),u.jsx("span",{children:"Last time data for search. Run real-time telemetry for updates."})]})}),u.jsxs("div",{className:"relative",children:[u.jsx(er,{type:"text",placeholder:"Enter Device IP Address...",value:$,onChange:H=>L(H.target.value),onKeyDown:tr,className:"w-64 pr-10"}),u.jsx("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:Ue,children:u.jsx(ti,{size:18})})]}),u.jsx(Re,{onClick:Ue,variant:"outline",children:e("searchDevice")})]})]}),u.jsxs(jv,{value:t,onValueChange:vs,className:"w-full",children:[u.jsxs(Rv,{className:"mb-4",children:[u.jsxs($r,{value:"topology",className:"flex items-center gap-2",children:[u.jsx(ea,{size:16}),u.jsx("span",{children:e("networkTopology")})]}),u.jsxs($r,{value:"device",className:"flex items-center gap-2",children:[u.jsx(kx,{size:16}),u.jsx("span",{children:e("devicePanel")})]}),u.jsxs($r,{value:"hardware",className:"flex items-center gap-2",children:[u.jsx(Vm,{size:16}),u.jsx("span",{children:e("hardwareMonitoring")})]}),u.jsxs($r,{value:"routes",className:"flex items-center gap-2",children:[u.jsx(Uk,{size:16}),u.jsx("span",{children:e("routingTable")})]}),u.jsxs($r,{value:"bgp",className:"flex items-center gap-2",children:[u.jsx(Az,{size:16}),u.jsx("span",{children:e("bgpStatus")})]}),u.jsxs($r,{value:"qos",className:"flex items-center gap-2",children:[u.jsx(vA,{size:16}),u.jsx("span",{children:e("qosPolicy")})]}),u.jsxs($r,{value:"l2forwarding",className:"flex items-center gap-2",children:[u.jsx(__,{size:16}),u.jsx("span",{children:e("l2Forwarding")})]}),u.jsxs($r,{value:"system",className:"flex items-center gap-2",children:[u.jsx(Mg,{size:16}),u.jsx("span",{children:e("systemProcess")})]}),u.jsxs($r,{value:"realtime",className:"flex items-center gap-2",children:[u.jsx(QT,{size:16}),u.jsx("span",{children:"Real-Time Telemetry"})]})]}),u.jsx(Br,{value:"topology",children:u.jsxs(Ve,{children:[u.jsxs(nt,{children:[u.jsx(it,{children:e("networkTopologyMap")}),u.jsxs(qr,{className:"flex items-center justify-between",children:[u.jsx("span",{children:o?`${e("currentDisplay")}: ${o}`:e("networkTopologyMap")}),u.jsxs("div",{className:"flex items-center ml-4 whitespace-nowrap text-sm text-blue-600 bg-blue-50 px-3 py-1 rounded-md border border-blue-100",children:[u.jsx(eP,{size:14,className:"mr-1.5 text-blue-500 flex-shrink-0"}),u.jsx("div",{className:"group relative",children:u.jsx("span",{children:"Check topology creation time. To update, regenerate LLDP and topology."})})]})]})]}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex-1 mr-4",children:[u.jsxs("label",{className:"text-sm font-medium mb-1 block",children:[e("selectTopology"),":"]}),h?u.jsxs("div",{className:"flex items-center bg-slate-100 rounded-md h-10 px-3",children:[u.jsx($t,{className:"h-4 w-4 animate-spin mr-2"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:e("loading")})]}):u.jsxs(en,{value:s,onValueChange:H=>{console.log("用户选择了新的拓扑ID:",H),H!==s&&a(H)},disabled:n.length===0,children:[u.jsx(Kr,{className:"w-full",children:u.jsx(tn,{placeholder:e("selectTopologyPlaceholder")})}),u.jsx(Zr,{children:n.map(H=>{const ue=localStorage.getItem(My)===H.topology_name;return u.jsxs(Fe,{value:H.id,children:[H.topology_name,ue&&" (✓)",H.description&&` - ${H.description}`]},H.id)})})]})]}),u.jsx(Re,{onClick:()=>{const H=localStorage.getItem(My);console.log("刷新列表，尝试恢复保存的拓扑名称:",H),Dt(H)},variant:"outline",disabled:h,children:h?u.jsx($t,{className:"h-4 w-4 animate-spin mr-2"}):u.jsx("span",{children:e("refreshList")})})]}),v&&u.jsxs(cm,{variant:"destructive",className:"mb-4",children:[u.jsx(bi,{className:"h-4 w-4"}),u.jsx(um,{children:e("loadingFailed")}),u.jsx(dm,{children:v})]}),c?u.jsx("div",{className:"mt-4",children:u.jsx("div",{className:"bg-slate-50 border rounded-md p-4 overflow-x-auto overflow-y-hidden",children:u.jsxs("div",{className:"min-w-[1200px]",children:[u.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:[e("topologyName"),": ",u.jsx("strong",{children:c.topology_name||e("unknown")}),c.description?` | ${e("description")}: ${c.description}`:"",c.created_by?` | ${e("creator")}: ${c.created_by}`:"",c.created_at&&jKe(c.created_at)?` | ${e("creationTime")}: ${RKe(c.created_at)}`:""]}),p?u.jsxs("div",{className:"flex justify-center items-center h-[600px] bg-slate-100",children:[u.jsx($t,{className:"h-8 w-8 animate-spin"}),u.jsx("span",{className:"ml-2",children:e("loadingTopology")})]}):u.jsx("svg",{ref:y,width:"100%",height:"600"})]})})}):u.jsx("div",{className:"flex flex-col items-center justify-center p-12 border rounded-md bg-slate-50",children:p?u.jsxs(u.Fragment,{children:[u.jsx($t,{className:"h-8 w-8 animate-spin mb-4"}),u.jsx("p",{children:e("loadingTopology")})]}):u.jsxs(u.Fragment,{children:[u.jsx(ea,{className:"h-12 w-12 mb-4 text-gray-400"}),u.jsx("p",{className:"text-lg font-medium mb-2 text-gray-600",children:"Not selected topology"}),u.jsxs("p",{className:"text-gray-500 text-center",children:["Please select a saved topology from the dropdown list to view",n.length===0&&!h&&!v&&"，或先在网络部署页面创建并保存拓扑"]})]})})]})]})}),u.jsx(Br,{value:"device",children:u.jsxs(Ve,{children:[u.jsxs(nt,{className:"flex flex-row items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(it,{children:e("devicePanelTitle")}),u.jsx(qr,{children:_?u.jsx(u.Fragment,{children:e("deviceInfoLabel").replace("{0}",_).replace("{1}",((gl=w==null?void 0:w[O])==null?void 0:gl.hostname)||"")}):e("enterIpToSearch")})]}),_&&u.jsx(Re,{variant:"outline",size:"sm",onClick:ur,disabled:k,children:k?u.jsxs(u.Fragment,{children:[u.jsx($t,{className:"h-4 w-4 animate-spin mr-2"}),e("refreshing")]}):u.jsx(u.Fragment,{children:e("refreshDeviceButton")})})]}),u.jsx(Ge,{children:k?u.jsxs("div",{className:"flex justify-center items-center h-[400px]",children:[u.jsx($t,{className:"h-8 w-8 animate-spin mr-2"}),u.jsx("span",{children:e("loadingDeviceInfo")})]}):w&&w.length>0?u.jsxs("div",{children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[u.jsxs(Ve,{children:[u.jsx(nt,{className:"py-4",children:u.jsx(it,{className:"text-sm font-medium",children:e("deviceModelLabel")})}),u.jsx(Ge,{className:"py-2",children:u.jsx("div",{className:"font-medium",children:w[O].hw_sku})})]}),u.jsxs(Ve,{children:[u.jsx(nt,{className:"py-4",children:u.jsx(it,{className:"text-sm font-medium",children:e("portLayoutLabel")})}),u.jsx(Ge,{className:"py-2",children:u.jsx("div",{className:"font-medium",children:w[O].port_layout})})]}),u.jsxs(Ve,{children:[u.jsx(nt,{className:"py-4",children:u.jsx(it,{className:"text-sm font-medium",children:e("chipLabel")})}),u.jsx(Ge,{className:"py-2",children:u.jsx("div",{className:"font-medium",children:w[O].chip_name})})]}),u.jsxs(Ve,{children:[u.jsx(nt,{className:"py-4",children:u.jsx(it,{className:"text-sm font-medium",children:e("buffer")})}),u.jsx(Ge,{className:"py-2",children:u.jsx("div",{className:"font-medium",children:w[O].buffer_size})})]})]}),u.jsxs("div",{className:"mt-8 mb-6",children:[u.jsx("h3",{className:"text-lg font-medium mb-4",children:e("devicePanelTitle")}),u.jsxs("div",{className:"device-panel-container relative border rounded-md p-6 bg-gray-50 overflow-hidden",style:{minHeight:"300px"},children:[(()=>{const H=w[O].panel_port_map_json;if(!H||H.length===0)return u.jsx("div",{className:"flex justify-center items-center h-full",children:u.jsx("p",{className:"text-gray-500",children:"没有可用的端口布局信息"})});const se=Math.max(...H.map(pe=>pe.x))+1,ue=Math.max(...H.map(pe=>pe.y))+1;return u.jsx("div",{className:"w-full grid gap-2",style:{gridTemplateColumns:`repeat(${se}, 1fr)`,gridTemplateRows:`repeat(${ue}, 50px)`},children:H.map((pe,at)=>{const we=w[O].interfaces.find(nr=>nr.physical_port===pe.physical_port),pt=(we==null?void 0:we.status)||"DOWN";return u.jsx("div",{className:`flex items-center justify-center rounded border cursor-pointer ${pt.toUpperCase()==="UP"?"bg-green-500 border-green-700 text-white":"bg-gray-400 border-gray-600 text-white"}`,style:{gridColumn:pe.x+1,gridRow:pe.y+1},onClick:nr=>$n(pe.physical_port,nr),children:u.jsx("span",{className:"text-sm font-medium",children:pe.physical_port})},at)})})})(),M&&En()&&u.jsxs("div",{id:"port-info-card",className:"fixed bg-white py-3 px-4 border rounded-md shadow-lg z-50",style:{left:`${Math.min(z.x+10,window.innerWidth-250)}px`,top:`${Math.min(z.y-10,window.innerHeight-230)}px`,width:"auto",minWidth:"200px"},children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("h4",{className:"font-bold text-md",children:En().physical_port}),u.jsx("button",{className:"text-gray-500 hover:text-gray-800",onClick:H=>{H.stopPropagation(),I(null)},children:"✕"})]}),u.jsx("p",{className:"text-xs text-gray-500 mb-3",children:En().logical_port}),u.jsx("table",{className:"w-full text-sm",children:u.jsxs("tbody",{children:[u.jsxs("tr",{children:[u.jsxs("td",{className:"text-gray-500 pr-4 py-1",children:[e("statusColumn"),":"]}),u.jsx("td",{className:`font-medium ${En().status.toUpperCase()==="UP"?"text-green-600":"text-gray-600"}`,children:En().status.toUpperCase()==="UP"?e("online"):e("offline")})]}),u.jsxs("tr",{children:[u.jsxs("td",{className:"text-gray-500 pr-4 py-1",children:[e("speed"),":"]}),u.jsx("td",{className:"font-medium",children:En().speed||"N/A"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"text-gray-500 pr-4 py-1",children:"MTU:"}),u.jsx("td",{className:"font-medium",children:En().mtu||"N/A"})]}),u.jsxs("tr",{children:[u.jsxs("td",{className:"text-gray-500 pr-4 py-1",children:[e("totalReceivedPackets"),":"]}),u.jsx("td",{className:"font-medium",children:En().in_pkts_total})]}),u.jsxs("tr",{children:[u.jsxs("td",{className:"text-gray-500 pr-4 py-1",children:[e("totalSentPackets"),":"]}),u.jsx("td",{className:"font-medium",children:En().out_pkts_total})]})]})})]})]})]}),u.jsxs("div",{className:"mt-6",children:[u.jsx("div",{className:"flex justify-between mb-4",children:u.jsx("h3",{className:"text-lg font-medium",children:e("portStatus")})}),u.jsx("div",{className:"border rounded-md overflow-hidden",children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{children:[u.jsxs(ie,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>_e("physical_port"),children:[e("physicalPort"),N==="physical_port"&&u.jsx("span",{className:"ml-1",children:P==="asc"?"↑":"↓"})]}),u.jsxs(ie,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>_e("logical_port"),children:[e("logicalPort"),N==="logical_port"&&u.jsx("span",{className:"ml-1",children:P==="asc"?"↑":"↓"})]}),u.jsxs(ie,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>_e("status"),children:[e("statusColumn"),N==="status"&&u.jsx("span",{className:"ml-1",children:P==="asc"?"↑":"↓"})]}),u.jsxs(ie,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>_e("speed"),children:[e("speed"),N==="speed"&&u.jsx("span",{className:"ml-1",children:P==="asc"?"↑":"↓"})]}),u.jsxs(ie,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>_e("mtu"),children:["MTU",N==="mtu"&&u.jsx("span",{className:"ml-1",children:P==="asc"?"↑":"↓"})]}),u.jsxs(ie,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>_e("in-errors"),children:[e("inboundDiscards"),N==="in-errors"&&u.jsx("span",{className:"ml-1",children:P==="asc"?"↑":"↓"})]}),u.jsxs(ie,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>_e("out-errors"),children:[e("outboundDiscards"),N==="out-errors"&&u.jsx("span",{className:"ml-1",children:P==="asc"?"↑":"↓"})]}),u.jsxs(ie,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>_e("in-discards"),children:[e("inboundPolicyDiscards"),N==="in-discards"&&u.jsx("span",{className:"ml-1",children:P==="asc"?"↑":"↓"})]}),u.jsxs(ie,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>_e("out-discards"),children:[e("outboundPolicyDiscards"),N==="out-discards"&&u.jsx("span",{className:"ml-1",children:P==="asc"?"↑":"↓"})]}),u.jsxs(ie,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>_e("in_pkts_total"),children:[e("totalReceivedPackets"),N==="in_pkts_total"&&u.jsx("span",{className:"ml-1",children:P==="asc"?"↑":"↓"})]}),u.jsxs(ie,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>_e("out_pkts_total"),children:[e("totalSentPackets"),N==="out_pkts_total"&&u.jsx("span",{className:"ml-1",children:P==="asc"?"↑":"↓"})]})]})}),u.jsx(Vr,{children:(()=>{if(!w||!w[O])return null;let se=[...w[O].interfaces.filter(ue=>ue.logical_port!=="PortConfigDone"&&ue.logical_port!=="PortInitDone")];if(E){const ue=E.toLowerCase();se=se.filter(pe=>pe.physical_port&&pe.physical_port.toLowerCase().includes(ue)||pe.logical_port&&pe.logical_port.toLowerCase().includes(ue)||pe.status&&pe.status.toLowerCase().includes(ue)||pe.speed&&pe.speed.toLowerCase().includes(ue))}return N&&se.sort((ue,pe)=>{let at=ue[N],we=pe[N];return typeof at=="string"&&!isNaN(Number(at))&&(at=Number(at)),typeof we=="string"&&!isNaN(Number(we))&&(we=Number(we)),typeof at=="string"&&typeof we=="string"?P==="asc"?at.localeCompare(we):we.localeCompare(at):typeof at=="number"&&typeof we=="number"?P==="asc"?at-we:we-at:0}),se.map((ue,pe)=>u.jsxs(Ke,{children:[u.jsx(ee,{className:"font-medium",children:ue.physical_port}),u.jsx(ee,{children:ue.logical_port}),u.jsx(ee,{children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ue.status.toUpperCase()==="UP"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:ue.status.toUpperCase()==="UP"?e("online"):e("offline")})}),u.jsx(ee,{children:ue.speed||"-"}),u.jsx(ee,{children:ue.mtu||"-"}),u.jsx(ee,{children:ue["in-errors"]||"0"}),u.jsx(ee,{children:ue["out-errors"]||"0"}),u.jsx(ee,{children:ue["in-discards"]||"0"}),u.jsx(ee,{children:ue["out-discards"]||"0"}),u.jsx(ee,{children:ue.in_pkts_total||"0"}),u.jsx(ee,{children:ue.out_pkts_total||"0"})]},pe))})()})]})})]})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border rounded-md bg-slate-50",children:[u.jsx(kx,{className:"h-12 w-12 mb-4 text-gray-400"}),u.jsx("p",{className:"text-lg font-medium mb-2 text-gray-600",children:e(v?"deviceOffline":"noDeviceSelected")}),u.jsx("p",{className:"text-gray-500 text-center",children:e(v?"deviceOfflineMessage":"enterIpAddressToSearch")})]})})]})}),u.jsx(Br,{value:"hardware",children:u.jsxs(Ve,{children:[u.jsxs(nt,{children:[u.jsx(it,{className:"text-xl",children:e("hardwareMonitoringTitle")}),u.jsx(qr,{children:_?e("deviceInfoText",[_]):e("enterIpToSearch")})]}),u.jsx(Ge,{children:Y?u.jsxs("div",{className:"flex justify-center items-center h-[600px]",children:[u.jsx($t,{className:"h-8 w-8 animate-spin mr-2"}),u.jsx("span",{children:e("loadingHardwareInfo")})]}):F?u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[u.jsx("div",{className:"px-5 py-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-gray-200",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("h3",{className:"text-lg flex items-center text-gray-800",children:[u.jsx(rQ,{className:"mr-2 h-5 w-5 text-blue-600"}),u.jsx("span",{children:e("temperatureMonitoring")})]}),((Ow=F.TEMPERATURE_SENSOR_PARSED)==null?void 0:Ow.others)&&F.TEMPERATURE_SENSOR_PARSED.others.length>0&&u.jsxs(Re,{variant:"outline",size:"sm",onClick:()=>zt(!0),className:"text-indigo-600 border-indigo-200 hover:bg-indigo-50",children:[u.jsx("span",{className:"mr-1",children:e("otherSensors")}),u.jsx("span",{className:"bg-indigo-100 text-indigo-600 px-1.5 py-0.5 rounded-full text-xs",children:F.TEMPERATURE_SENSOR_PARSED.others.length})]})]})}),F.TEMPERATURE_SENSOR_PARSED&&(F.TEMPERATURE_SENSOR_PARSED.asic||F.TEMPERATURE_SENSOR_PARSED.inlet||F.TEMPERATURE_SENSOR_PARSED.outlet)?u.jsx("div",{className:"p-6",children:u.jsxs("div",{className:"flex flex-col space-y-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(()=>{const H=F.TEMPERATURE_SENSOR_PARSED.asic;if(!H)return null;const se=Ng(H.temperature,H.threshold||60);return u.jsx("div",{className:`relative rounded-lg border overflow-hidden transition-all duration-200 shadow-sm hover:shadow-md ${se.borderColor}`,children:u.jsxs("div",{className:`p-3 ${se.bgColor}`,children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsx("h4",{className:"font-medium text-gray-700",children:e("asicTemperature")}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${se.statusColor} mr-1`}),u.jsx("span",{className:"text-xs text-gray-500",children:se.statusText})]})]}),u.jsxs("div",{className:"flex items-center mb-1",children:[u.jsxs("div",{className:"w-3/5 flex-grow",children:[u.jsxs("div",{className:`text-2xl font-bold ${se.textColor}`,children:[H.temperature,"°C"]}),H.threshold&&u.jsx("div",{className:"text-xs text-gray-500",children:e("temperatureThreshold",[H.threshold])})]}),u.jsx("div",{className:"w-2/5 flex justify-center items-end h-14",children:u.jsxs("div",{className:"relative w-4 h-full bg-gray-100 rounded-t-full overflow-hidden",children:[u.jsx("div",{className:`absolute bottom-0 w-full rounded-t-full ${se.progressColor} transition-all duration-300`,style:{height:`${se.percentage}%`}}),u.jsxs("div",{className:"absolute w-full h-full flex flex-col justify-between",children:[u.jsx("div",{className:"w-full h-[1px] bg-gray-300 mt-1"}),u.jsx("div",{className:"w-full h-[1px] bg-gray-300 mb-1"})]})]})})]}),u.jsx(Zu,{value:se.percentage,className:"h-1.5 mt-1",indicatorClassName:se.progressColor})]})},"asic")})(),(()=>{const H=F.TEMPERATURE_SENSOR_PARSED.inlet;if(!H)return null;const se=Ng(H.temperature,H.threshold||60);return u.jsx("div",{className:`relative rounded-lg border overflow-hidden transition-all duration-200 shadow-sm hover:shadow-md ${se.borderColor}`,children:u.jsxs("div",{className:`p-3 ${se.bgColor}`,children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsx("h4",{className:"font-medium text-gray-700",children:e("inletTemperature")}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${se.statusColor} mr-1`}),u.jsx("span",{className:"text-xs text-gray-500",children:se.statusText})]})]}),u.jsxs("div",{className:"flex items-center mb-1",children:[u.jsxs("div",{className:"w-3/5 flex-grow",children:[u.jsxs("div",{className:`text-2xl font-bold ${se.textColor}`,children:[H.temperature,"°C"]}),H.threshold&&u.jsx("div",{className:"text-xs text-gray-500",children:e("temperatureThreshold",[H.threshold])})]}),u.jsx("div",{className:"w-2/5 flex justify-center items-end h-14",children:u.jsxs("div",{className:"relative w-4 h-full bg-gray-100 rounded-t-full overflow-hidden",children:[u.jsx("div",{className:`absolute bottom-0 w-full rounded-t-full ${se.progressColor} transition-all duration-300`,style:{height:`${se.percentage}%`}}),u.jsxs("div",{className:"absolute w-full h-full flex flex-col justify-between",children:[u.jsx("div",{className:"w-full h-[1px] bg-gray-300 mt-1"}),u.jsx("div",{className:"w-full h-[1px] bg-gray-300 mb-1"})]})]})})]}),u.jsx(Zu,{value:se.percentage,className:"h-1.5 mt-1",indicatorClassName:se.progressColor})]})},"inlet")})(),(()=>{const H=F.TEMPERATURE_SENSOR_PARSED.outlet;if(!H)return null;const se=Ng(H.temperature,H.threshold||60);return u.jsx("div",{className:`relative rounded-lg border overflow-hidden transition-all duration-200 shadow-sm hover:shadow-md ${se.borderColor}`,children:u.jsxs("div",{className:`p-3 ${se.bgColor}`,children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsx("h4",{className:"font-medium text-gray-700",children:e("outletTemperature")}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${se.statusColor} mr-1`}),u.jsx("span",{className:"text-xs text-gray-500",children:se.statusText})]})]}),u.jsxs("div",{className:"flex items-center mb-1",children:[u.jsxs("div",{className:"w-3/5 flex-grow",children:[u.jsxs("div",{className:`text-2xl font-bold ${se.textColor}`,children:[H.temperature,"°C"]}),H.threshold&&u.jsx("div",{className:"text-xs text-gray-500",children:e("temperatureThreshold",[H.threshold])})]}),u.jsx("div",{className:"w-2/5 flex justify-center items-end h-14",children:u.jsxs("div",{className:"relative w-4 h-full bg-gray-100 rounded-t-full overflow-hidden",children:[u.jsx("div",{className:`absolute bottom-0 w-full rounded-t-full ${se.progressColor} transition-all duration-300`,style:{height:`${se.percentage}%`}}),u.jsxs("div",{className:"absolute w-full h-full flex flex-col justify-between",children:[u.jsx("div",{className:"w-full h-[1px] bg-gray-300 mt-1"}),u.jsx("div",{className:"w-full h-[1px] bg-gray-300 mb-1"})]})]})})]}),u.jsx(Zu,{value:se.percentage,className:"h-1.5 mt-1",indicatorClassName:se.progressColor})]})},"outlet")})()]}),u.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:e("temperatureDistribution")}),u.jsxs("div",{className:"relative bg-white rounded-lg border border-gray-200 p-4 h-44",children:[u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsxs("div",{className:"w-4/5 h-2/3 flex justify-between items-center",children:[u.jsxs("div",{className:"h-full w-20 flex flex-col items-center",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:e("inlet")}),u.jsxs("div",{className:"relative h-16 w-4 bg-blue-100 rounded flex justify-center items-center",children:[u.jsx("div",{className:"absolute -left-10 text-xs whitespace-nowrap",children:(()=>{const H=F.TEMPERATURE_SENSOR_PARSED.inlet;return H?`${H.temperature}°C`:"-- °C"})()}),u.jsx("div",{className:"absolute inset-0 flex justify-center items-center",children:u.jsx("svg",{className:"w-6 h-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 7l4-4m0 0l4 4m-4-4v18"})})})]})]}),u.jsxs("div",{className:"h-28 w-32 bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg border border-gray-300 flex flex-col justify-center items-center shadow-sm",children:[u.jsx(kx,{className:"h-8 w-8 text-gray-700 mb-1"}),u.jsx("div",{className:"text-sm font-medium text-center",children:"ASIC"}),w&&((Tu=w[O])==null?void 0:Tu.chip_name)&&w[O].chip_name!=="unknown"&&u.jsx("div",{className:"text-xs text-gray-600 text-center px-1 whitespace-normal",children:w[O].chip_name}),u.jsx("div",{className:"text-xs mt-1 text-center",children:(()=>{const H=F.TEMPERATURE_SENSOR_PARSED.asic;if(!H)return"-- °C";const se=Ng(H.temperature,H.threshold||60);return u.jsxs("span",{className:se.textColor,children:[H.temperature,"°C"]})})()})]}),u.jsxs("div",{className:"h-full w-20 flex flex-col items-center",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:e("outlet")}),u.jsxs("div",{className:"relative h-16 w-4 bg-red-100 rounded flex justify-center items-center",children:[u.jsx("div",{className:"absolute -right-10 text-xs whitespace-nowrap",children:(()=>{const H=F.TEMPERATURE_SENSOR_PARSED.outlet;return H?`${H.temperature}°C`:"-- °C"})()}),u.jsx("div",{className:"absolute inset-0 flex justify-center items-center",children:u.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 17l-4 4m0 0l-4-4m4 4V3"})})})]})]})]})}),u.jsx("div",{className:"absolute bottom-2 right-2 text-xs text-gray-500",children:(()=>{const H=F.TEMPERATURE_SENSOR_PARSED.inlet,se=F.TEMPERATURE_SENSOR_PARSED.outlet;return!H||!se?"temperature gap: -- °C":`temp gap: ${(se.temperature-H.temperature).toFixed(1)}°C`})()})]})]})]})}):F.TEMPERATURE_SENSOR&&F.TEMPERATURE_SENSOR.length>0?u.jsxs("div",{className:"p-6",children:[u.jsx("div",{className:"text-amber-600 bg-amber-50 p-3 rounded-md border border-amber-200 mb-4",children:u.jsxs("div",{className:"flex items-start",children:[u.jsx(bi,{className:"h-5 w-5 mr-2 mt-0.5 text-amber-500"}),u.jsx("div",{children:u.jsx("p",{className:"text-sm",children:"old version temperature data format. please contact administrator to upgrade device information collection program, to get more detailed temperature data."})})]})}),u.jsx("div",{className:"flex flex-col space-y-8",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:["INLET_TEMP","MAC_IN_TEMP","MAC_OUT_TEMP","OUTLET_TEMP","ASIC_TEMP"].map(H=>{const se=F.TEMPERATURE_SENSOR.find(pe=>pe.name===H);if(!se)return null;const ue=Ng(se.temperature,se.threshold||60);return u.jsx("div",{className:`relative rounded-lg border overflow-hidden transition-all duration-200 shadow-sm hover:shadow-md ${ue.borderColor}`,children:u.jsxs("div",{className:`p-3 ${ue.bgColor}`,children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsx("h4",{className:"font-medium text-gray-700",children:IKe[se.name]||se.name}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${ue.statusColor} mr-1`}),u.jsx("span",{className:"text-xs text-gray-500",children:ue.statusText})]})]}),u.jsxs("div",{className:"flex items-center mb-1",children:[u.jsxs("div",{className:"w-3/5 flex-grow",children:[u.jsxs("div",{className:`text-2xl font-bold ${ue.textColor}`,children:[se.temperature,"°C"]}),se.threshold&&u.jsxs("div",{className:"text-xs text-gray-500",children:["阈值: ",se.threshold,"°C"]})]}),u.jsx("div",{className:"w-2/5 flex justify-center items-end h-14",children:u.jsxs("div",{className:"relative w-4 h-full bg-gray-100 rounded-t-full overflow-hidden",children:[u.jsx("div",{className:`absolute bottom-0 w-full rounded-t-full ${ue.progressColor} transition-all duration-300`,style:{height:`${ue.percentage}%`}}),u.jsxs("div",{className:"absolute w-full h-full flex flex-col justify-between",children:[u.jsx("div",{className:"w-full h-[1px] bg-gray-300 mt-1"}),u.jsx("div",{className:"w-full h-[1px] bg-gray-300 mb-1"})]})]})})]}),u.jsx(Zu,{value:ue.percentage,className:"h-1.5 mt-1",indicatorClassName:ue.progressColor})]})},H)}).filter(Boolean)})})]}):u.jsx("div",{className:"text-center p-8",children:u.jsx("p",{className:"text-gray-500",children:"No temperature sensor data"})})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[u.jsx("div",{className:"px-5 py-4 bg-gradient-to-r from-blue-50 to-cyan-50 border-b border-gray-200",children:u.jsxs("h3",{className:"text-lg font-bold flex items-center text-gray-800",children:[u.jsx(kz,{className:"mr-2 h-5 w-5 text-cyan-600"}),u.jsx("span",{children:"Fan Monitoring"})]})}),F.FAN&&F.FAN.length>0?u.jsx("div",{className:"p-6",children:(()=>{const H={};return F.FAN.forEach(se=>{const ue=se.name.match(MKe),pe=ue?ue[1]:"OtherFans";H[pe]||(H[pe]=[]),H[pe].push(se)}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:Object.entries(H).map(([se,ue])=>u.jsxs("div",{className:"rounded-lg border border-gray-200 overflow-hidden shadow-sm",children:[u.jsx("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:u.jsx("h4",{className:"font-medium text-gray-700",children:se})}),u.jsx("div",{className:"p-4",children:u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:ue.map((pe,at)=>{const we=PKe(pe);return u.jsx(od,{children:u.jsxs(zo,{children:[u.jsx(Uo,{asChild:!0,children:u.jsxs("div",{className:`rounded-lg border ${we.borderColor} p-3 transition-all hover:shadow-md ${we.bgColor}`,children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsx("h5",{className:"font-medium text-gray-700",children:pe.name}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${we.statusColor} mr-1`}),u.jsx("span",{className:"text-xs text-gray-500",children:we.statusText})]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsxs("div",{className:"w-14 h-14 relative",children:[u.jsx("div",{className:`absolute inset-0 flex justify-center items-center ${pe.presence&&pe.status&&pe.speed>0?"animate-[spin_1.5s_linear_infinite]":""}`,children:u.jsx(kz,{className:`h-10 w-10 ${we.textColor}`})}),u.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent",style:{borderTopColor:`var(--${we.statusColor.replace("bg-","")})`,borderRadius:"50%"}})]}),u.jsxs("div",{className:"flex-1 pl-3",children:[u.jsxs("div",{className:`text-xl font-bold ${we.textColor}`,children:[pe.speed,"%"]}),u.jsxs("div",{className:"flex justify-between text-xs mb-1 mt-2",children:[u.jsx("span",{children:"0%"}),u.jsx("span",{children:"100%"})]}),u.jsx(Zu,{value:pe.speed,className:"h-1.5",indicatorClassName:we.statusColor}),u.jsxs("div",{className:"flex justify-between items-center mt-2",children:[u.jsx(Ce,{variant:"outline",className:"text-xs",children:pe.direction==="intake"?"intake":pe.direction==="exhaust"?"exhaust":pe.direction||"unknown"}),pe.is_replaceable&&u.jsx(Ce,{variant:"secondary",className:"text-xs bg-blue-50 text-blue-700 hover:bg-blue-100",children:"Pluggable"})]})]})]})]})}),u.jsx(oo,{className:"max-w-xs",children:u.jsxs("div",{className:"text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"Model:"})," ",pe.model||"未知"]}),pe.speed_target&&u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"target speed:"})," ",pe.speed_target,"%"]}),pe.drawer_name&&u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"Drawer:"})," ",pe.drawer_name]}),pe.led_status&&u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"LED status:"})," ",pe.led_status]}),pe.serial&&u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"SN:"})," ",pe.serial]})]})})]})},at)})})})]},se))})})()}):u.jsx("div",{className:"text-center p-8",children:u.jsx("p",{className:"text-gray-500",children:"no fan data"})})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[u.jsx("div",{className:"px-5 py-4 bg-gradient-to-r from-blue-50 to-purple-50 border-b border-gray-200",children:u.jsxs("h3",{className:"text-lg font-bold flex items-center text-gray-800",children:[u.jsx(Eye,{className:"mr-2 h-5 w-5 text-purple-600"}),u.jsx("span",{children:"Power Supply Monitoring"})]})}),F.PSU&&F.PSU.length>0?u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:F.PSU.map((H,se)=>{const ue=LKe(H),pe=!H.presence||!H.status||H.Power!==void 0&&parseFloat(H.Power.toString())===0||H.voltage!==void 0&&parseFloat(H.voltage.toString())===0;return u.jsx(od,{children:u.jsxs("div",{className:`rounded-xl border overflow-hidden shadow-sm transition-all hover:shadow-md ${ue.borderColor}`,children:[u.jsxs("div",{className:`px-5 py-3 flex justify-between items-center border-b ${ue.bgColor}`,children:[u.jsx("h4",{className:"font-semibold text-gray-700",children:H.name}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${String(H.presence).toLowerCase()==="true"?"bg-green-500":"bg-gray-400"} mr-1`}),u.jsx("span",{className:"text-xs text-gray-500",children:String(H.presence).toLowerCase()==="true"?"present":"not present"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${String(H.status).toLowerCase()==="true"?"bg-green-500":"bg-red-500"} mr-1`}),u.jsx("span",{className:"text-xs text-gray-500",children:String(H.status).toLowerCase()==="true"?"working":"not working"})]})]})]}),u.jsxs("div",{className:`px-5 py-4 ${pe?"bg-red-50":"bg-white"}`,children:[u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs(zo,{children:[u.jsx(Uo,{asChild:!0,children:u.jsxs("div",{className:"flex flex-col items-center justify-center p-4 rounded-lg bg-gray-50 border border-gray-100 transition-all hover:border-blue-200",children:[u.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Voltage"}),u.jsx("div",{className:`text-2xl font-bold ${pe?"text-red-500":"text-blue-600"}`,children:H.voltage||"-"}),u.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"V"})]})}),H.voltage_min_threshold&&H.voltage_max_threshold&&u.jsx(oo,{children:u.jsxs("div",{className:"text-sm",children:["Allow voltage range: ",H.voltage_min_threshold,"V - ",H.voltage_max_threshold,"V"]})})]}),u.jsxs("div",{className:"flex flex-col items-center justify-center p-4 rounded-lg bg-gray-50 border border-gray-100 transition-all hover:border-orange-200",children:[u.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Current"}),u.jsx("div",{className:`text-2xl font-bold ${pe?"text-red-500":"text-orange-600"}`,children:H.current||"-"}),u.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"A"})]}),u.jsxs("div",{className:"flex flex-col items-center justify-center p-4 rounded-lg bg-gray-50 border border-gray-100 transition-all hover:border-green-200",children:[u.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Power"}),u.jsx("div",{className:`text-2xl font-bold ${pe?"text-red-500":"text-green-600"}`,children:H.Power||"-"}),u.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"W"})]})]}),u.jsx("div",{className:"mt-4",children:u.jsxs(zo,{children:[u.jsx(Uo,{asChild:!0,children:u.jsxs("div",{className:"rounded-lg border border-gray-100 p-3",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Temperature"}),u.jsx("div",{className:`font-medium ${H.temp&&H.temp_threshold&&H.temp>=H.temp_threshold?"text-red-600":"text-gray-700"}`,children:H.temp!==void 0?`${H.temp}°C`:"-"})]}),H.temp!==void 0&&H.temp_threshold&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[u.jsx("span",{children:"0°C"}),u.jsxs("span",{children:[H.temp_threshold,"°C"]})]}),u.jsx(Zu,{value:H.temp/H.temp_threshold*100,className:"h-1.5",indicatorClassName:H.temp>=H.temp_threshold?"bg-red-500":H.temp>=H.temp_threshold*.8?"bg-orange-500":"bg-green-500"})]})]})}),u.jsx(oo,{children:u.jsxs("div",{className:"text-sm",children:[H.temp_threshold&&u.jsxs("div",{children:["Temperature threshold: ",H.temp_threshold,"°C"]}),u.jsxs("div",{children:["Temperature utilization: ",H.temp!==void 0&&H.temp_threshold?Math.round(H.temp/H.temp_threshold*100):"-","%"]})]})})]})}),u.jsxs("div",{className:"mt-4 text-xs text-gray-500 grid grid-cols-2 gap-x-4 gap-y-1",children:[u.jsxs("div",{children:[u.jsx("span",{className:"inline-block w-14",children:"Model:"})," ",H.model||"unknown"]}),u.jsxs("div",{children:[u.jsx("span",{className:"inline-block w-14",children:"SN:"})," ",H.serial||"unknown"]}),u.jsxs("div",{children:[u.jsx("span",{className:"inline-block w-14",children:"Revision:"})," ",H.revision||"unknown"]}),u.jsxs("div",{children:[u.jsx("span",{className:"inline-block w-14",children:"Plug: "})," ",H.is_replaceable?"supported":"not supported"]})]})]})]})},se)})})}):u.jsx("div",{className:"text-center p-8",children:u.jsx("p",{className:"text-gray-500",children:"no power data"})})]})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border rounded-md bg-slate-50",children:[u.jsx(Vm,{className:"h-12 w-12 mb-4 text-gray-400"}),u.jsx("p",{className:"text-lg font-medium mb-2 text-gray-600",children:e(v?"noHardwareInfo":"noDeviceSelected")}),u.jsx("p",{className:"text-gray-500 text-center",children:e(v?"hardwareNotSupported":"enterIpAddressToSearch")})]})})]})}),u.jsx(Br,{value:"routes",children:u.jsxs(Ve,{children:[u.jsxs(nt,{className:"flex flex-row items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(it,{children:"Routing Table"}),u.jsx(qr,{children:_?`Device ${_} routing table information`:"Please input IP to search device"})]}),_&&u.jsx(Re,{variant:"outline",size:"sm",onClick:ur,disabled:k,children:k?u.jsxs(u.Fragment,{children:[u.jsx($t,{className:"h-4 w-4 animate-spin mr-2"}),"Refreshing"]}):u.jsx(u.Fragment,{children:"Refresh Routing Table"})})]}),u.jsx(Ge,{children:k?u.jsxs("div",{className:"flex justify-center items-center h-[400px]",children:[u.jsx($t,{className:"h-8 w-8 animate-spin mr-2"}),u.jsx("span",{children:e("loadingRoutingTable")})]}):w&&w.length>0&&(($w=w[O])!=null&&$w.route_table)?u.jsxs("div",{children:[u.jsx("div",{className:"mb-8",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:(()=>{const H=w[O].route_table||[],se=H.length,ue=H.filter(we=>we.paths.some(pt=>pt.active)).length,pe={};H.forEach(we=>{const pt=we.protocol||"unknown";pe[pt]=(pe[pt]||0)+1});const at=H.reduce((we,pt)=>{const nr=pt.prefix.split("/")[1];return parseInt(nr||"0")>parseInt(we||"0")?nr:we},"0");return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm p-4",children:u.jsxs("div",{className:"flex flex-col space-y-1.5 p-1.5",children:[u.jsx("h3",{className:"text-sm font-medium",children:"Total Routes"}),u.jsx("p",{className:"text-2xl font-bold",children:se}),u.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex justify-between",children:[u.jsx("span",{children:"Active Routes:"}),u.jsxs("span",{className:"font-medium",children:[ue," (",Math.round(ue/se*100)||0,"%)"]})]})]})}),u.jsx("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm p-4",children:u.jsxs("div",{className:"flex flex-col space-y-1.5 p-1.5",children:[u.jsx("h3",{className:"text-sm font-medium",children:"Routing Protocol Distribution"}),u.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Object.entries(pe).map(([we,pt])=>u.jsxs(Ce,{variant:"outline",className:`
                                        ${we==="OSPF"?"text-blue-600 bg-blue-50 hover:bg-blue-100":we==="BGP"?"text-purple-600 bg-purple-50 hover:bg-purple-100":we==="STATIC"?"text-green-600 bg-green-50 hover:bg-green-100":we==="CONNECTED"?"text-amber-600 bg-amber-50 hover:bg-amber-100":"text-gray-600 bg-gray-50 hover:bg-gray-100"}
                                      `,children:[we," (",pt,")"]},we))})]})}),u.jsx("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm p-4",children:u.jsxs("div",{className:"flex flex-col space-y-1.5 p-1.5",children:[u.jsx("h3",{className:"text-sm font-medium",children:"Longest Prefix"}),u.jsx("p",{className:"text-xl font-bold",children:at||"N/A"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Max Mask Length"})]})})]})})()})}),u.jsx("div",{className:"border rounded-md overflow-hidden",children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{children:[u.jsx(ie,{className:"w-[16%]",children:"Destination Network"}),u.jsx(ie,{className:"w-[10%]",children:"Protocol"}),u.jsx(ie,{className:"w-[15%]",children:"Next Hop"}),u.jsx(ie,{className:"w-[10%]",children:"Out Interface"}),u.jsx(ie,{className:"w-[10%]",children:"Physical Int"}),u.jsx(ie,{className:"w-[14%]",children:"Metric/Weight"}),u.jsx(ie,{className:"w-[15%]",children:"Status"}),u.jsx(ie,{className:"w-[10%]",children:"Route Age"})]})}),u.jsx(Vr,{children:(()=>{const H=w[O].route_table||[],se=[],ue={};w[O].interfaces&&w[O].interfaces.forEach(we=>{ue[we.logical_port]=we.physical_port||"-"}),H.forEach(we=>{if(we.paths&&we.paths.length>0){const nr=we.paths.find(Dr=>Dr.active)||we.paths[0],Tt=nr.interface?nr.interface.split(",")[0]:"-",Nr=ue[Tt]||"-";se.push({prefix:we.prefix,protocol:we.protocol,nexthop:nr.nexthop,interface:Tt,physicalInterface:Nr,metric:nr.metric,weight:nr.weight,active:nr.active,installed:nr.installed,age:nr.age})}});const pe=se.filter(we=>{if(!E)return!0;const pt=E.toLowerCase();return we.prefix.toLowerCase().includes(pt)||we.protocol.toLowerCase().includes(pt)||we.nexthop.toLowerCase().includes(pt)||we.interface.toLowerCase().includes(pt)});if(pe.length===0)return u.jsx(Ke,{children:u.jsx(ee,{colSpan:8,className:"text-center py-6",children:u.jsx("p",{className:"text-gray-500",children:"No matching route table items"})})});const at=we=>{switch(we.toUpperCase()){case"OSPF":return"bg-blue-100 text-blue-800 border-blue-300";case"BGP":return"bg-purple-100 text-purple-800 border-purple-300";case"STATIC":return"bg-green-100 text-green-800 border-green-300";case"CONNECTED":return"bg-amber-100 text-amber-800 border-amber-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}};return pe.map((we,pt)=>u.jsxs(Ke,{className:"hover:bg-gray-50 border-b",children:[u.jsx(ee,{className:"font-medium",children:u.jsx("div",{className:"flex items-center",children:u.jsx("span",{children:we.prefix})})}),u.jsx(ee,{children:u.jsx(Ce,{variant:"outline",className:`font-medium ${at(we.protocol)}`,children:we.protocol})}),u.jsx(ee,{children:we.protocol.toUpperCase()==="CONNECTED"?u.jsx("span",{className:"text-gray-600",children:"Connected Route"}):u.jsx("span",{children:we.nexthop})}),u.jsx(ee,{children:we.interface}),u.jsx(ee,{children:we.physicalInterface}),u.jsx(ee,{children:u.jsx(od,{children:u.jsxs(zo,{children:[u.jsx(Uo,{asChild:!0,children:u.jsx("div",{children:u.jsx(Ce,{variant:"outline",className:"bg-blue-50 border-blue-200",children:we.metric})})}),u.jsx(oo,{children:u.jsxs("p",{children:["Weight: ",we.weight]})})]})})}),u.jsx(ee,{children:u.jsxs("div",{className:"flex flex-wrap gap-1",children:[we.active&&u.jsx(Ce,{className:"bg-green-100 text-green-800 hover:bg-green-200 whitespace-nowrap",children:"Active"}),we.installed&&u.jsx(Ce,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200 whitespace-nowrap",children:"Installed"}),!we.active&&!we.installed&&u.jsx(Ce,{variant:"outline",className:"text-gray-600 border-gray-300 whitespace-nowrap",children:"Inactive"})]})}),u.jsx(ee,{className:"text-gray-600",children:we.age})]},pt))})()})]})}),u.jsxs("div",{className:"mt-6 flex flex-wrap gap-3 text-sm text-gray-600",children:[u.jsx("div",{className:"font-medium",children:"Routing Protocol Legend:"}),u.jsx(Ce,{variant:"outline",className:"bg-blue-100 text-blue-800 border-blue-300",children:"OSPF"}),u.jsx(Ce,{variant:"outline",className:"bg-purple-100 text-purple-800 border-purple-300",children:"BGP"}),u.jsx(Ce,{variant:"outline",className:"bg-green-100 text-green-800 border-green-300",children:"Static Route"}),u.jsx(Ce,{variant:"outline",className:"bg-amber-100 text-amber-800 border-amber-300",children:"Connected Route"}),u.jsx(Ce,{variant:"outline",className:"bg-gray-100 text-gray-800 border-gray-300",children:"Other"})]})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border rounded-md bg-slate-50",children:[u.jsx(Uk,{className:"h-12 w-12 mb-4 text-gray-400"}),u.jsx("p",{className:"text-lg font-medium mb-2 text-gray-600",children:e(v?"noRoutingTable":"noDeviceSelected")}),u.jsx("p",{className:"text-gray-500 text-center",children:e(v?"routingTableError":"enterIpForRouting")})]})})]})}),u.jsx(Br,{value:"bgp",children:u.jsxs(Ve,{children:[u.jsxs(nt,{className:"flex flex-row items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(it,{children:"BGP Status"}),u.jsx(qr,{children:_?`Device ${_} BGP status information`:"Please input IP to search device"})]}),_&&u.jsx(Re,{variant:"outline",size:"sm",onClick:ur,disabled:k,children:k?u.jsxs(u.Fragment,{children:[u.jsx($t,{className:"h-4 w-4 animate-spin mr-2"}),"Refreshing"]}):u.jsx(u.Fragment,{children:"Refresh BGP Status"})})]}),u.jsx(Ge,{children:k?u.jsxs("div",{className:"flex justify-center items-center h-[400px]",children:[u.jsx($t,{className:"h-8 w-8 animate-spin mr-2"}),u.jsx("span",{children:e("loadingBgpStatus")})]}):w&&w.length>0&&((h0=w[O])!=null&&h0.bgp_status)?u.jsxs("div",{className:"space-y-6",children:[((p0=(f0=w[O])==null?void 0:f0.bgp_status[0])==null?void 0:p0.bgp_summary)&&u.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[u.jsx("h3",{className:"text-lg font-medium mb-4",children:"BGP Status Summary"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Established Sessions"}),u.jsx("div",{className:"text-2xl font-bold text-green-600",children:w[O].bgp_status[0].bgp_summary.established})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Not Established Sessions"}),u.jsx("div",{className:"text-2xl font-bold text-amber-600",children:w[O].bgp_status[0].bgp_summary.not_established})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"IPv4 Neighbors"}),u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:w[O].bgp_status[0].bgp_summary.ipv4_neighbors})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Total Received Prefixes"}),u.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:w[O].bgp_status[0].bgp_summary.total_prefixes})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[u.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"IPv6 Neighbors"}),u.jsx("div",{className:"text-2xl font-bold text-purple-600",children:w[O].bgp_status[0].bgp_summary.ipv6_neighbors})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"MPLS Neighbors"}),u.jsx("div",{className:"text-2xl font-bold text-rose-600",children:w[O].bgp_status[0].bgp_summary.mpls_neighbors})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"VPNv4 Neighbors"}),u.jsx("div",{className:"text-2xl font-bold text-orange-600",children:w[O].bgp_status[0].bgp_summary.vpnv4_neighbors})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"VPNv6 Neighbors"}),u.jsx("div",{className:"text-2xl font-bold text-teal-600",children:w[O].bgp_status[0].bgp_summary.vpnv6_neighbors})]})]})]}),((Fw=(Bw=w[O])==null?void 0:Bw.bgp_status[1])==null?void 0:Fw.neighbors)&&u.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[u.jsx("h3",{className:"text-lg font-medium mb-4",children:"BGP Neighbors"}),u.jsx("div",{className:"overflow-auto",children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{className:"bg-gray-50",children:[u.jsx(ie,{className:"w-[120px]",children:"Neighbor IP"}),u.jsx(ie,{children:"Hostname"}),u.jsx(ie,{children:"State"}),u.jsx(ie,{children:"Upstream AS"}),u.jsx(ie,{children:"Local AS"}),u.jsx(ie,{children:"Received Prefixes"}),u.jsx(ie,{children:"Uptime"}),u.jsx(ie,{children:"Protocol Family"})]})}),u.jsx(Vr,{children:w[O].bgp_status[1].neighbors.map((H,se)=>{var ue;return u.jsxs(Ke,{children:[u.jsx(ee,{className:"font-medium",children:H.neighbor_ip}),u.jsx(ee,{children:H.hostname||"-"}),u.jsx(ee,{children:u.jsx(Ce,{className:H.state==="Established"?"bg-green-100 text-green-800 border-green-300":"bg-amber-100 text-amber-800 border-amber-300",children:H.state})}),u.jsxs(ee,{children:["AS",H.remote_as]}),u.jsxs(ee,{children:["AS",H.local_as]}),u.jsx(ee,{children:H.received_prefixes}),u.jsx(ee,{children:H.uptime}),u.jsx(ee,{children:u.jsx("div",{className:"flex flex-wrap gap-1",children:(ue=H.afi_safi)==null?void 0:ue.map((pe,at)=>u.jsx(Ce,{variant:"outline",className:"text-xs",children:pe},at))})})]},se)})})]})})]}),((Uw=(zw=w[O])==null?void 0:zw.bgp_status[2])==null?void 0:Uw.bgp_routes)&&u.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[u.jsx("h3",{className:"text-lg font-medium mb-4",children:"BGP Routes"}),u.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"To avoid confusion, routes with next hop 0.0.0.0 are not displayed in the BGP page."}),u.jsx("div",{className:"overflow-auto",children:u.jsxs(Ur,{className:"w-full",children:[u.jsx(Hr,{children:u.jsxs(Ke,{className:"bg-gray-50",children:[u.jsx(ie,{className:"w-[60px] text-center",children:"Status"}),u.jsx(ie,{className:"w-[200px]",children:"Prefix"}),u.jsx(ie,{className:"w-[160px]",children:"Next Hop"}),u.jsx(ie,{className:"w-[50%]",children:"AS Path"}),u.jsx(ie,{className:"w-[60px] text-center",children:"Origin"})]})}),u.jsx(Vr,{children:w[O].bgp_status[2].bgp_routes.map((H,se)=>u.jsxs(Ke,{className:"hover:bg-gray-50",children:[u.jsx(ee,{className:"text-center",children:H.status_flags?u.jsx(Ce,{variant:"outline",className:"font-mono text-xs whitespace-nowrap bg-blue-50 border-blue-200",children:H.status_flags}):u.jsx("div",{className:"flex items-center justify-center",children:H.prefix.startsWith(">")?u.jsx(Ce,{variant:"outline",className:"font-mono bg-green-50 border-green-200",children:">"}):H.prefix.startsWith("=")?u.jsx(Ce,{variant:"outline",className:"font-mono bg-purple-50 border-purple-200",children:"="}):u.jsx(Ce,{variant:"outline",className:"font-mono opacity-0",children:"·"})})}),u.jsx(ee,{className:"font-medium",children:u.jsx("div",{className:"flex items-center",children:u.jsx("span",{className:"font-mono text-blue-700",children:H.prefix.startsWith(">")||H.prefix.startsWith("=")?H.prefix.substring(1):H.prefix})})}),u.jsx(ee,{className:"font-mono text-gray-700",children:H.nexthop}),u.jsx(ee,{children:u.jsx("div",{className:"flex flex-wrap items-center gap-1",children:Array.isArray(H.as_path)&&H.as_path.map((ue,pe)=>u.jsx(Ce,{variant:"outline",className:`
                                          ${parseInt(ue.toString())===0?"bg-gray-50 text-gray-600":parseInt(ue.toString())<100?"bg-blue-50 text-blue-600":parseInt(ue.toString())<1e3?"bg-purple-50 text-purple-600":parseInt(ue.toString())<1e4?"bg-green-50 text-green-600":parseInt(ue.toString())<65e3?"bg-amber-50 text-amber-600":"bg-red-50 text-red-600"} font-mono
                                         `,children:ue},pe))})}),u.jsx(ee,{className:"text-center",children:u.jsx(Ce,{className:`
                                    ${H.origin==="i"?"bg-green-100 text-green-800":H.origin==="e"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"} font-mono
                                  `,children:H.origin})})]},se))})]})}),u.jsx("div",{className:"mt-6 bg-gray-50 p-3 rounded-md border border-gray-100",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-sm mb-2 text-gray-700",children:"Routing Status Legend:"}),u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-y-2 gap-x-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ce,{variant:"outline",className:"font-mono mr-1 bg-blue-50",children:"*"}),u.jsx("span",{className:"text-xs",children:"Valid Route"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ce,{variant:"outline",className:"font-mono mr-1 bg-green-50",children:">"}),u.jsx("span",{className:"text-xs",children:"Current Best Route"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ce,{variant:"outline",className:"font-mono mr-1 bg-purple-50",children:"="}),u.jsx("span",{className:"text-xs",children:"Multi-Path Route"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ce,{variant:"outline",className:"font-mono mr-1 bg-amber-50",children:"i"}),u.jsx("span",{className:"text-xs",children:"Internal Route"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ce,{variant:"outline",className:"font-mono mr-1 bg-red-50",children:"r"}),u.jsx("span",{className:"text-xs",children:"RIB Failed Route"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ce,{variant:"outline",className:"font-mono mr-1 bg-orange-50",children:"s"}),u.jsx("span",{className:"text-xs",children:"Suppressed Route"})]})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-sm mb-2 text-gray-700",children:"Routing Origin Legend:"}),u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-y-2 gap-x-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ce,{className:"bg-green-100 text-green-800 font-mono mr-1",children:"i"}),u.jsx("span",{className:"text-xs",children:"IGP Origin"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ce,{className:"bg-blue-100 text-blue-800 font-mono mr-1",children:"e"}),u.jsx("span",{className:"text-xs",children:"EGP Origin"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ce,{className:"bg-gray-100 text-gray-800 font-mono mr-1",children:"?"}),u.jsx("span",{className:"text-xs",children:"Unknown Origin"})]})]})]})]})})]}),((m0=(g0=w[O])==null?void 0:g0.bgp_status[1])==null?void 0:m0.neighbors)&&u.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[u.jsx("h3",{className:"text-lg font-medium mb-4",children:"BGP Connection Details"}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:w[O].bgp_status[1].neighbors.map((H,se)=>{var ue,pe,at,we,pt,nr,Tt;return u.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("div",{className:"font-medium",children:H.hostname||H.neighbor_ip}),u.jsx(Ce,{className:H.state==="Established"?"bg-green-100 text-green-800 border-green-300":"bg-amber-100 text-amber-800 border-amber-300",children:H.state})]}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("div",{className:"text-gray-500",children:"Neighbor IP:"}),u.jsx("div",{children:H.neighbor_ip})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("div",{className:"text-gray-500",children:"Router ID:"}),u.jsx("div",{children:H.remote_router_id})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("div",{className:"text-gray-500",children:"Local AS:"}),u.jsxs("div",{children:["AS",H.local_as]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("div",{className:"text-gray-500",children:"Remote AS:"}),u.jsxs("div",{children:["AS",H.remote_as]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("div",{className:"text-gray-500",children:"Uptime:"}),u.jsx("div",{children:H.uptime})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("div",{className:"text-gray-500",children:"Hold Time/Keepalive:"}),u.jsxs("div",{children:[H.hold_time,"s / ",H.keepalive,"s"]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("div",{className:"text-gray-500",children:"Keepalive Messages:"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("span",{className:"text-green-500",children:["Received: ",(pe=(ue=H.messages)==null?void 0:ue.keepalives)==null?void 0:pe.rcvd]}),u.jsxs("span",{className:"text-blue-500",children:["Sent: ",(we=(at=H.messages)==null?void 0:at.keepalives)==null?void 0:we.sent]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("div",{className:"text-gray-500",children:"Connection History:"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs(Ce,{variant:"outline",className:"text-green-600 bg-green-50",children:["Established: ",(pt=H.connections)==null?void 0:pt.established]}),u.jsxs(Ce,{variant:"outline",className:"text-red-600 bg-red-50",children:["Dropped: ",(nr=H.connections)==null?void 0:nr.dropped]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("div",{className:"text-gray-500",children:"Protocol Family:"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:(Tt=H.afi_safi)==null?void 0:Tt.map((Nr,Dr)=>u.jsx(Ce,{variant:"outline",className:"text-xs",children:Nr},Dr))})]})]})]},se)})})]})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border rounded-md bg-slate-50",children:[u.jsx(Az,{className:"h-12 w-12 mb-4 text-gray-400"}),u.jsx("p",{className:"text-lg font-medium mb-2 text-gray-600",children:e(v?"noBgpStatusData":"noDeviceSelected")}),u.jsx("p",{className:"text-gray-500 text-center",children:e(v?"bgpStatusError":"enterIpForBgp")})]})})]})}),u.jsx(Br,{value:"qos",children:u.jsxs(Ve,{children:[u.jsxs(nt,{className:"flex flex-row items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(it,{children:"QoS Policy"}),u.jsx(qr,{children:_?`Device ${_} QoS policy configuration information`:"Please input IP to search device"})]}),_&&u.jsx(Re,{variant:"outline",size:"sm",onClick:ur,disabled:k,children:k?u.jsxs(u.Fragment,{children:[u.jsx($t,{className:"h-4 w-4 animate-spin mr-2"}),"Refreshing"]}):u.jsx(u.Fragment,{children:"Refresh QoS Policy"})})]}),u.jsx(Ge,{children:k?u.jsxs("div",{className:"flex justify-center items-center h-[400px]",children:[u.jsx($t,{className:"h-8 w-8 animate-spin mr-2"}),u.jsx("span",{children:e("loadingQosPolicy")})]}):w&&w.length>0&&((Hw=w[O])!=null&&Hw.qos_policy)?u.jsxs("div",{className:"space-y-6",children:[((ga=(v0=(bc=w[O])==null?void 0:bc.qos_policy)==null?void 0:v0[1])==null?void 0:ga.analysis)&&u.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg border border-indigo-100 shadow-sm p-5",children:[u.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Rd,{className:"h-5 w-5 mr-2 text-indigo-600"}),"QoS Performance Analysis"]}),u.jsx(Re,{variant:"outline",size:"sm",onClick:()=>Te(!0),className:"text-sm text-indigo-600 border-indigo-200 hover:bg-indigo-50",children:"View Details"})]}),((y0=(Vw=(bh=(_h=w[O])==null?void 0:_h.qos_policy)==null?void 0:bh[1])==null?void 0:Vw.analysis)==null?void 0:y0.summary)&&u.jsx("div",{children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:(Sr=(_0=(x0=(Ww=w[O])==null?void 0:Ww.qos_policy)==null?void 0:x0[1])==null?void 0:_0.analysis)==null?void 0:Sr.summary.map((H,se)=>u.jsxs("div",{className:`flex items-start p-3 rounded-md ${H.includes("✅")?"bg-green-50 border border-green-100":H.includes("⚠️")?"bg-amber-50 border border-amber-100":H.includes("❌")?"bg-red-50 border border-red-100":H.includes("🚨")?"bg-rose-50 border border-rose-100":"bg-blue-50 border border-blue-100"}`,children:[u.jsx("div",{className:"text-lg mr-2",children:H.substring(0,2)}),u.jsx("div",{className:`text-sm ${H.includes("✅")?"text-green-800":H.includes("⚠️")?"text-amber-800":H.includes("❌")?"text-red-800":H.includes("🚨")?"text-rose-800":"text-blue-800"}`,children:H.substring(2)})]},se))})})]}),Se&&((b0=(qw=(Gw=w[O])==null?void 0:Gw.qos_policy)==null?void 0:qw[1])==null?void 0:b0.analysis)&&u.jsx(Wc,{open:Se,onOpenChange:Te,children:u.jsxs(Ul,{className:"sm:max-w-[80%] max-h-[90vh] overflow-y-auto",children:[u.jsxs(Hl,{children:[u.jsx(Vl,{children:"QoS Policy Detailed Analysis"}),u.jsx(Nf,{children:"Show detailed information about the current device's QoS, including queue traffic and port traffic."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 py-4",children:[u.jsxs("div",{children:[((w0=(Wp=(Kw=(Yw=w[O])==null?void 0:Yw.qos_policy)==null?void 0:Kw[1])==null?void 0:Wp.analysis)==null?void 0:w0.high_tx_queues)&&((Jw=(S0=(Xw=(Zw=w[O])==null?void 0:Zw.qos_policy)==null?void 0:Xw[1])==null?void 0:S0.analysis)==null?void 0:Jw.high_tx_queues.length)>0&&u.jsxs("div",{className:"bg-amber-50 rounded-lg border border-amber-100 p-4 mb-4",children:[u.jsxs("h4",{className:"text-md font-medium mb-3 text-amber-800 flex items-center",children:[u.jsx(Mg,{className:"h-4 w-4 mr-2 text-amber-600"}),"High Traffic Queue (",(k0=(Qw=(wh=(C0=w[O])==null?void 0:C0.qos_policy)==null?void 0:wh[1])==null?void 0:Qw.analysis)==null?void 0:k0.high_tx_queues.length,")"]}),u.jsx("div",{className:"space-y-2",children:(ml=(wc=(E0=(Gp=w[O])==null?void 0:Gp.qos_policy)==null?void 0:E0[1])==null?void 0:wc.analysis)==null?void 0:ml.high_tx_queues.map((H,se)=>u.jsxs("div",{className:"flex justify-between items-center bg-white rounded p-2 border border-amber-100 text-xs",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-medium text-amber-700 mr-2",children:H.port}),u.jsx(Ce,{className:"bg-amber-100 text-amber-800",children:H.queue})]}),u.jsx("div",{className:"text-amber-700 font-mono",children:H.tx_bytes_human})]},se))})]}),((t1=(e1=(T0=(qp=w[O])==null?void 0:qp.qos_policy)==null?void 0:T0[1])==null?void 0:e1.analysis)==null?void 0:t1.drop_queues)&&((i1=(n1=(r1=(an=w[O])==null?void 0:an.qos_policy)==null?void 0:r1[1])==null?void 0:n1.analysis)==null?void 0:i1.drop_queues.length)>0&&u.jsxs("div",{className:"bg-red-50 rounded-lg border border-red-100 p-4",children:[u.jsxs("h4",{className:"text-md font-medium mb-3 text-red-800 flex items-center",children:[u.jsx(bi,{className:"h-4 w-4 mr-2 text-red-600"}),"Dropped Queue (",(q=(o1=(a1=(s1=w[O])==null?void 0:s1.qos_policy)==null?void 0:a1[1])==null?void 0:o1.analysis)==null?void 0:q.drop_queues.length,")"]}),u.jsx("div",{className:"space-y-2",children:(be=(me=(ce=(he=w[O])==null?void 0:he.qos_policy)==null?void 0:ce[1])==null?void 0:me.analysis)==null?void 0:be.drop_queues.map((H,se)=>u.jsxs("div",{className:"flex justify-between items-center bg-white rounded p-2 border border-red-100 text-xs",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-medium text-red-700 mr-2",children:H.port}),u.jsx(Ce,{className:"bg-red-100 text-red-800",children:H.queue})]}),u.jsx("div",{className:"text-red-700 font-mono",children:H.dropped_bytes_human})]},se))})]})]}),u.jsx("div",{children:u.jsxs("div",{className:"bg-white bg-opacity-70 rounded-lg border border-indigo-100 p-4",children:[((Ut=(Jt=(vr=(Ye=w[O])==null?void 0:Ye.qos_policy)==null?void 0:vr[1])==null?void 0:Jt.analysis)==null?void 0:Ut.high_tx_ports)&&((Yp=(ma=(za=(Cr=w[O])==null?void 0:Cr.qos_policy)==null?void 0:za[1])==null?void 0:ma.analysis)==null?void 0:Yp.high_tx_ports.length)>0&&u.jsxs("div",{className:"mb-4",children:[u.jsxs("h4",{className:"text-md font-medium mb-3 text-amber-800 flex items-center",children:[u.jsx(Mg,{className:"h-4 w-4 mr-2 text-amber-600"}),"High Traffic Port"]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:(Kp=(N0=(vl=(Qn=w[O])==null?void 0:Qn.qos_policy)==null?void 0:vl[1])==null?void 0:N0.analysis)==null?void 0:Kp.high_tx_ports.map((H,se)=>{var at,we;const ue=(we=(at=w[O])==null?void 0:at.interfaces)==null?void 0:we.find(pt=>pt.logical_port===H),pe=(ue==null?void 0:ue.physical_port)||"";return u.jsx(Ce,{className:"bg-amber-50 text-amber-700 border-amber-200 px-3 py-1",children:pe?`${pe}(${H})`:H},se)})})]}),((Mt=(_t=(yt=(H2=w[O])==null?void 0:H2.qos_policy)==null?void 0:yt[1])==null?void 0:_t.analysis)==null?void 0:Mt.drop_ports)&&((Tn=(Ua=(pn=(Bn=w[O])==null?void 0:Bn.qos_policy)==null?void 0:pn[1])==null?void 0:Ua.analysis)==null?void 0:Tn.drop_ports.length)>0&&u.jsxs("div",{children:[u.jsxs("h4",{className:"text-md font-medium mb-3 text-red-800 flex items-center",children:[u.jsx(bi,{className:"h-4 w-4 mr-2 text-red-600"}),"Dropped Port"]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:(lF=(Nu=(Ha=(va=w[O])==null?void 0:va.qos_policy)==null?void 0:Ha[1])==null?void 0:Nu.analysis)==null?void 0:lF.drop_ports.map((H,se)=>{var at,we;const ue=(we=(at=w[O])==null?void 0:at.interfaces)==null?void 0:we.find(pt=>pt.logical_port===H),pe=(ue==null?void 0:ue.physical_port)||"";return u.jsx(Ce,{className:"bg-red-50 text-red-700 border-red-200 px-3 py-1",children:pe?`${pe}(${H})`:H},se)})})]})]})})]}),u.jsx(Gc,{children:u.jsx(Re,{onClick:()=>Te(!1),children:"Close"})})]})}),((hF=(dF=(uF=(cF=w[O])==null?void 0:cF.qos_policy)==null?void 0:uF[0])==null?void 0:dF.qos)==null?void 0:hF.counters)&&u.jsxs("div",{className:"bg-white rounded-lg border shadow-sm p-5",children:[u.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[u.jsx(Mg,{className:"h-5 w-5 mr-2 text-blue-600"}),"Queue Counter"]}),u.jsx("div",{className:"overflow-auto",children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{className:"bg-gray-50",children:[u.jsx(ie,{className:"w-[120px]",children:"Physical Port"}),u.jsx(ie,{className:"w-[120px]",children:"Logical Port"}),u.jsx(ie,{className:"w-[100px]",children:"Queue Count"}),u.jsx(ie,{className:"w-[140px]",children:"Transmit Statistics"}),u.jsx(ie,{className:"w-[140px]",children:"Dropped Statistics"}),u.jsx(ie,{className:"w-[100px]",children:"Status"}),u.jsx(ie,{className:"w-[60px]",children:"Details"})]})}),u.jsx(Vr,{children:(()=>{var pe,at,we,pt,nr;const H={};(nr=(pt=(we=(at=(pe=w[O])==null?void 0:pe.qos_policy)==null?void 0:at[0])==null?void 0:we.qos)==null?void 0:pt.counters)==null||nr.forEach(Tt=>{H[Tt.port]||(H[Tt.port]=[]),H[Tt.port].push(Tt)});const se={};return Object.keys(H).forEach(Tt=>{var ir,Ni;const Nr=(Ni=(ir=w[O])==null?void 0:ir.interfaces)==null?void 0:Ni.find(Zi=>Zi.logical_port===Tt),Dr=(Nr==null?void 0:Nr.physical_port)||"-";let Qr=9999;if(Dr!=="-"){const Zi=Dr.match(/(\d+)/);Zi&&Zi[1]&&(Qr=parseInt(Zi[1],10))}se[Tt]={physicalPort:Dr,index:Qr}}),Object.keys(H).sort((Tt,Nr)=>se[Tt].index-se[Nr].index).map(Tt=>{const Nr=H[Tt],{physicalPort:Dr}=se[Tt];let Qr=0,ir=0,Ni=0,Zi=0,ys="0 B",Au="0 B",ko=0,Qt=0;Nr.forEach(Ot=>{var j0,Zp,R0,I0,M0,P0,L0,D0,O0,$0;const Mr=Ot.tx_bytes||0,Un=Ot.dropped_bytes||0,Xi=Ot.tx_packet||0,Va=Ot.dropped_packets||0;Qr+=Mr,ir+=Un,Ni+=Xi,Zi+=Va;const A0=(M0=(I0=(R0=(Zp=(j0=w[O])==null?void 0:j0.qos_policy)==null?void 0:Zp[1])==null?void 0:R0.analysis)==null?void 0:I0.high_tx_queues)==null?void 0:M0.some(ju=>ju.port===Ot.port&&ju.queue===Ot.queue),l1=($0=(O0=(D0=(L0=(P0=w[O])==null?void 0:P0.qos_policy)==null?void 0:L0[1])==null?void 0:D0.analysis)==null?void 0:O0.drop_queues)==null?void 0:$0.some(ju=>ju.port===Ot.port&&ju.queue===Ot.queue);A0&&ko++,l1&&Qt++}),Qr>0&&(ys=Wq(Qr/1024)),ir>0&&(Au=Wq(ir/1024));const je=Qr+ir,vt=je>0?ir/je*100:0,qt=ko>0,zn=Qt>0,yn=Q===Tt;return u.jsxs(Wr.Fragment,{children:[u.jsxs(Ke,{className:`
                                        ${qt&&zn?"bg-gradient-to-r from-amber-50 to-red-50":qt?"bg-amber-50":zn?"bg-red-50":""}
                                        ${yn?"border-b-0":""}
                                        hover:bg-slate-100 cursor-pointer
                                      `,onClick:()=>re(yn?null:Tt),children:[u.jsx(ee,{className:"font-medium",children:Dr}),u.jsx(ee,{className:"font-medium",children:Tt}),u.jsx(ee,{children:u.jsxs("div",{className:"flex space-x-1",children:[u.jsx(Ce,{className:"bg-blue-100 text-blue-800",children:Nr.length}),ko>0&&u.jsxs(Ce,{className:"bg-amber-100 text-amber-800",children:[ko," High"]}),Qt>0&&u.jsxs(Ce,{className:"bg-red-100 text-red-800",children:[Qt," Dropped"]})]})}),u.jsx(ee,{children:u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"text-xs flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:"Transmit Bytes:"}),u.jsx("span",{className:"font-mono font-medium",children:ys})]}),u.jsxs("div",{className:"text-xs flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:"Transmit Packets:"}),u.jsx("span",{className:"font-mono font-medium",children:Ni.toLocaleString()})]})]})}),u.jsx(ee,{children:u.jsx("div",{className:"space-y-1",children:ir>0?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"text-xs flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:"Dropped Bytes:"}),u.jsx("span",{className:"font-mono font-medium text-red-600",children:Au})]}),u.jsxs("div",{className:"text-xs flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:"Dropped Packets:"}),u.jsx("span",{className:"font-mono font-medium text-red-600",children:Zi.toLocaleString()})]}),u.jsxs("div",{className:"text-xs flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:"Drop Percentage:"}),u.jsxs("span",{className:"font-mono font-medium text-red-600",children:[vt.toFixed(2),"%"]})]})]}):u.jsx("div",{className:"text-xs text-center text-green-600 py-1",children:"No Dropped"})})}),u.jsx(ee,{children:qt&&zn?u.jsx(Ce,{className:"bg-rose-100 text-rose-800 border-rose-200",children:"Alert"}):qt?u.jsx(Ce,{className:"bg-amber-100 text-amber-800 border-amber-200",children:"High Traffic"}):zn?u.jsx(Ce,{className:"bg-red-100 text-red-800 border-red-200",children:"Dropped"}):u.jsx(Ce,{className:"bg-green-100 text-green-800 border-green-200",children:"Normal"})}),u.jsx(ee,{children:u.jsx(Re,{variant:"ghost",size:"sm",className:"cursor-pointer",onClick:Ot=>{Ot.stopPropagation(),re(yn?null:Tt)},children:yn?u.jsx(Aye,{className:"h-4 w-4"}):u.jsx(zk,{className:"h-4 w-4"})})})]}),yn&&u.jsx(Ke,{className:"bg-gray-50/70",children:u.jsx(ee,{colSpan:7,className:"p-0 border-t-0",children:u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"text-sm font-medium mb-3 text-gray-700 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(ea,{className:"h-4 w-4 mr-1.5 text-blue-600"}),Tt," Queue Details"]}),u.jsx(Re,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:Ot=>{Ot.stopPropagation(),re(null)},children:"Collapse"})]}),u.jsxs("div",{className:"bg-gray-50 rounded p-2 mb-3 text-xs flex items-center flex-wrap",children:[u.jsxs("div",{className:"flex items-center mr-4",children:[u.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-sm mr-1"}),u.jsx("span",{className:"text-gray-600",children:"Blue: Transmit Data"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-sm mr-1"}),u.jsx("span",{className:"text-gray-600",children:"Red: Dropped Data"}),u.jsx("span",{className:"text-gray-500 ml-2",children:"(Progress bar shows the ratio of transmit to dropped data)"})]})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2",children:Nr.map((Ot,Mr)=>{var R0,I0,M0,P0,L0,D0,O0,$0,ju,s6;const Un=(L0=(P0=(M0=(I0=(R0=w[O])==null?void 0:R0.qos_policy)==null?void 0:I0[1])==null?void 0:M0.analysis)==null?void 0:P0.high_tx_queues)==null?void 0:L0.some(B0=>B0.port===Ot.port&&B0.queue===Ot.queue),Xi=(s6=(ju=($0=(O0=(D0=w[O])==null?void 0:D0.qos_policy)==null?void 0:O0[1])==null?void 0:$0.analysis)==null?void 0:ju.drop_queues)==null?void 0:s6.some(B0=>B0.port===Ot.port&&B0.queue===Ot.queue),Va=parseFloat(Ot.tx_bytes_human.split(" ")[0])||0,A0=parseFloat(Ot.dropped_bytes_human.split(" ")[0])||0,l1=Va+A0,j0=l1>0?Va/l1*100:100,Zp=100-j0;return u.jsxs("div",{className:`rounded-lg border p-3 text-xs ${Un&&Xi?"bg-gradient-to-r from-amber-50 to-red-50 border-red-200":Un?"bg-amber-50 border-amber-200":Xi?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx(Ce,{variant:"outline",className:`
                                                        ${Un&&Xi?"bg-rose-100 text-rose-800 border-rose-200":Un?"bg-amber-100 text-amber-800 border-amber-200":Xi?"bg-red-100 text-red-800 border-red-200":"bg-blue-100 text-blue-800 border-blue-200"}
                                                      `,children:Ot.queue}),Un&&Xi?u.jsx(Ce,{className:"bg-rose-100 text-rose-800",children:"Alert"}):Un?u.jsx(Ce,{className:"bg-amber-100 text-amber-800",children:"High Traffic"}):Xi?u.jsx(Ce,{className:"bg-red-100 text-red-800",children:"Dropped"}):u.jsx(Ce,{className:"bg-green-100 text-green-800",children:"Normal"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(od,{children:u.jsxs(zo,{children:[u.jsx(Uo,{asChild:!0,children:u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between mb-1",children:[u.jsx("span",{className:"text-gray-500",children:"Transmit:"}),u.jsx("span",{className:"font-mono font-medium",children:Ot.tx_bytes_human})]}),u.jsxs("div",{className:"flex justify-between mb-1",children:[u.jsx("span",{className:"text-gray-500",children:"Packets:"}),u.jsx("span",{className:"font-mono font-medium",children:Ot.tx_packet_human})]})]})}),u.jsx(oo,{children:u.jsxs("p",{children:["Total Transmit: ",Ot.tx_bytes.toLocaleString()," Bytes"]})})]})}),Zp>0&&u.jsx(od,{children:u.jsxs(zo,{children:[u.jsx(Uo,{asChild:!0,children:u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between mb-1",children:[u.jsx("span",{className:"text-gray-500",children:"Dropped:"}),u.jsx("span",{className:"font-mono font-medium text-red-600",children:Ot.dropped_bytes_human})]}),u.jsxs("div",{className:"flex justify-between mb-1",children:[u.jsx("span",{className:"text-gray-500",children:"Dropped Packets:"}),u.jsx("span",{className:"font-mono font-medium text-red-600",children:Ot.dropped_packet_human})]})]})}),u.jsx(oo,{children:u.jsxs("p",{children:["Drop Percentage: ",Zp.toFixed(2),"%"]})})]})}),u.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:u.jsxs("div",{className:"flex h-full",children:[u.jsx("div",{className:"bg-blue-500 h-full",style:{width:Va>0?`${j0}%`:"0%"}}),u.jsx("div",{className:"bg-red-500 h-full",style:{width:`${Zp}%`}})]})})]})]},Mr)})})]})})})]},Tt)})})()})]})})]}),((pF=(fF=w[O].qos_policy[0])==null?void 0:fF.qos)==null?void 0:pF.schedule)&&u.jsxs("div",{className:"bg-white rounded-lg border shadow-sm p-5",children:[u.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[u.jsx(vA,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Scheduling Policy"]}),u.jsx("div",{className:"overflow-auto",children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{className:"bg-gray-50",children:[u.jsx(ie,{className:"w-[120px]",children:"Physical Port"}),u.jsx(ie,{className:"w-[120px]",children:"Logical Port"}),u.jsx(ie,{className:"w-[180px]",children:"Scheduling Mode"}),u.jsx(ie,{children:"Queue Weight Distribution"})]})}),u.jsx(Vr,{children:(()=>{var se,ue,pe,at,we;const H={};return(we=(at=(pe=(ue=(se=w[O])==null?void 0:se.qos_policy)==null?void 0:ue[0])==null?void 0:pe.qos)==null?void 0:at.schedule)==null||we.forEach(pt=>{H[pt.port]||(H[pt.port]=[]),H[pt.port].push(pt)}),Object.entries(H).map(([pt,nr])=>{var Qr,ir,Ni;const Tt=(ir=(Qr=w[O])==null?void 0:Qr.interfaces)==null?void 0:ir.find(Zi=>Zi.logical_port===pt),Nr=(Tt==null?void 0:Tt.physical_port)||"-",Dr=((Ni=nr[0])==null?void 0:Ni.mode)||"-";return u.jsxs(Ke,{children:[u.jsx(ee,{className:"font-medium",children:Nr}),u.jsx(ee,{children:pt}),u.jsx(ee,{children:u.jsx(Ce,{className:"bg-indigo-50 text-indigo-700 border-indigo-200 px-3",children:Dr})}),u.jsx(ee,{children:u.jsx("div",{className:"flex flex-wrap gap-1",children:nr.map((Zi,ys)=>u.jsxs("div",{className:"flex items-center bg-indigo-50 rounded-full pl-2 pr-3 py-1 text-xs border border-indigo-100",children:[u.jsx("span",{className:"bg-indigo-200 text-indigo-800 rounded-full h-5 w-5 flex items-center justify-center mr-1.5",children:Zi.queue.replace(/[^0-9]/g,"")}),u.jsxs("span",{className:"text-indigo-800 font-medium",children:["Weight: ",Zi.weight]})]},ys))})})]},pt)})})()})]})})]}),u.jsx("div",{className:"grid grid-cols-1 gap-4",children:u.jsxs("div",{className:"bg-white rounded-lg border shadow-sm p-5",children:[u.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[u.jsx(Rd,{className:"h-5 w-5 mr-2 text-purple-600"}),"Quality of Service Mapping"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[((mF=(gF=w[O].qos_policy[0])==null?void 0:gF.qos)==null?void 0:mF.dscp_to_tc)&&u.jsxs("div",{className:"bg-blue-50 rounded-lg border border-blue-100 p-3",children:[u.jsxs("h4",{className:"text-sm font-medium mb-2 text-blue-800 flex justify-between items-center",children:[u.jsx("span",{children:"DSCP to TC Mapping"}),u.jsx(Re,{variant:"outline",size:"sm",className:"h-7 text-xs text-blue-600 border-blue-200",onClick:()=>Me(!0),children:"View All"})]}),u.jsxs("div",{className:"flex flex-wrap gap-1",children:[Object.entries(w[O].qos_policy[0].qos.dscp_to_tc).slice(0,12).map(([H,se],ue)=>u.jsxs("div",{className:"bg-white rounded-md border border-blue-100 px-2 py-1 text-xs",children:[u.jsxs("span",{className:"text-blue-500",children:["DSCP:",H]}),u.jsx("span",{className:"mx-1",children:"→"}),u.jsxs("span",{className:"text-blue-800 font-medium",children:["TC:",se]})]},ue)),Object.keys(w[O].qos_policy[0].qos.dscp_to_tc).length>12&&u.jsxs("div",{className:"bg-blue-100 rounded-md px-2 py-1 text-xs text-blue-800",children:["+",Object.keys(w[O].qos_policy[0].qos.dscp_to_tc).length-12," mappings"]})]})]}),((yF=(vF=w[O].qos_policy[0])==null?void 0:vF.qos)==null?void 0:yF.tc_to_queue)&&u.jsxs("div",{className:"bg-purple-50 rounded-lg border border-purple-100 p-3",children:[u.jsxs("h4",{className:"text-sm font-medium mb-2 text-purple-800 flex justify-between items-center",children:[u.jsx("span",{children:"TC to Queue Mapping"}),u.jsx(Re,{variant:"outline",size:"sm",className:"h-7 text-xs text-purple-600 border-purple-200",onClick:()=>Ae(!0),children:"View All"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(w[O].qos_policy[0].qos.tc_to_queue).map(([H,se],ue)=>u.jsxs("div",{className:"flex items-center",children:[u.jsxs("div",{className:"bg-purple-200 text-purple-800 rounded-l-md px-2 py-1 text-xs font-medium",children:["TC:",H]}),u.jsxs("div",{className:"bg-white border-t border-r border-b border-purple-100 rounded-r-md px-2 py-1 text-xs",children:["Queue:",se]})]},ue))})]})]})]})}),((wF=(bF=(_F=(xF=w[O])==null?void 0:xF.qos_policy)==null?void 0:_F[0])==null?void 0:bF.qos)==null?void 0:wF.dscp_to_tc)&&u.jsx(Wc,{open:Ie,onOpenChange:Me,children:u.jsxs(Ul,{className:"sm:max-w-[600px]",children:[u.jsxs(Hl,{children:[u.jsx(Vl,{children:"DSCP to TC Mapping Details"}),u.jsx(Nf,{children:"Show the mapping relationship between DSCP (Differentiated Services Code Point) and TC (Traffic Class) of the device"})]}),u.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2 max-h-[400px] overflow-y-auto p-1",children:Object.entries(w[O].qos_policy[0].qos.dscp_to_tc).map(([H,se],ue)=>u.jsxs("div",{className:"flex flex-col items-center bg-blue-50 rounded-md border border-blue-100 p-2 text-xs",children:[u.jsxs("div",{className:"text-blue-500 mb-1",children:["DSCP: ",H]}),u.jsx("div",{className:"flex items-center",children:u.jsx("div",{className:"w-3 h-3 mx-1 text-gray-400"})}),u.jsxs("div",{className:"bg-blue-200 rounded-full px-3 py-1 text-blue-800 font-medium mt-1",children:["TC: ",se]})]},ue))}),u.jsx(Gc,{children:u.jsx(Re,{onClick:()=>Me(!1),children:"Close"})})]})}),((EF=(kF=(CF=(SF=w[O])==null?void 0:SF.qos_policy)==null?void 0:CF[0])==null?void 0:kF.qos)==null?void 0:EF.tc_to_queue)&&u.jsx(Wc,{open:Ee,onOpenChange:Ae,children:u.jsxs(Ul,{className:"sm:max-w-[500px]",children:[u.jsxs(Hl,{children:[u.jsx(Vl,{children:"TC to Queue Mapping Details"}),u.jsx(Nf,{children:"Show the mapping relationship between TC (Traffic Class) and Queue of the device"})]}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 max-h-[400px] overflow-y-auto p-1",children:Object.entries(w[O].qos_policy[0].qos.tc_to_queue).map(([H,se],ue)=>u.jsxs("div",{className:"flex flex-col bg-purple-50 rounded-md border border-purple-100 p-2",children:[u.jsxs("div",{className:"bg-purple-200 rounded-md px-2 py-1 text-xs text-purple-800 font-medium mb-2 text-center",children:["TC: ",H]}),u.jsx("div",{className:"flex items-center justify-center mb-1",children:u.jsx("div",{className:"w-4 h-4 text-gray-400"})}),u.jsxs("div",{className:"bg-white rounded-md border border-purple-100 px-2 py-1 text-xs text-center",children:["Queue: ",se]})]},ue))}),u.jsx(Gc,{children:u.jsx(Re,{onClick:()=>Ae(!1),children:"Close"})})]})})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border rounded-md bg-slate-50",children:[u.jsx(vA,{className:"h-12 w-12 mb-4 text-gray-400"}),u.jsx("p",{className:"text-lg font-medium mb-2 text-gray-600",children:e(v?"noQoSPolicyData":"noDeviceSelected")}),u.jsx("p",{className:"text-gray-500 text-center",children:e(v?"qosPolicyError":"enterIpForQos")})]})})]})}),u.jsx(Br,{value:"l2forwarding",children:u.jsxs(Ve,{children:[u.jsxs(nt,{className:"flex flex-row items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(it,{children:"L2 Forwarding"}),u.jsx(qr,{children:_?`Device ${_} L2 Forwarding Information`:"Please input IP to search device"})]}),_&&u.jsx(Re,{variant:"outline",size:"sm",onClick:ur,disabled:k,children:k?u.jsxs(u.Fragment,{children:[u.jsx($t,{className:"h-4 w-4 animate-spin mr-2"}),"Refreshing"]}):u.jsx(u.Fragment,{children:"Refresh L2 Forwarding"})})]}),u.jsx(Ge,{children:k?u.jsxs("div",{className:"flex justify-center items-center h-[400px]",children:[u.jsx($t,{className:"h-8 w-8 animate-spin mr-2"}),u.jsx("span",{children:e("loadingL2Forwarding")})]}):w&&w.length>0&&((TF=w[O])!=null&&TF.l2_forwarding)?u.jsxs("div",{className:"space-y-6",children:[((AF=(NF=w[O])==null?void 0:NF.l2_forwarding)==null?void 0:AF.arp_table)&&w[O].l2_forwarding.arp_table.length>0&&u.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[u.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[u.jsx("span",{className:"bg-blue-100 text-blue-800 p-1.5 rounded-md mr-2",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide",children:u.jsx("path",{d:"M5 2v4h4l3 6H9v3a3 3 0 0 0 6 0v-3h7v-6h-7V2H5z"})})}),"ARP Table"]}),u.jsx("div",{className:"overflow-auto",children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{className:"bg-gray-50",children:[u.jsx(ie,{className:"w-[120px]",children:"IP Address"}),u.jsx(ie,{children:"MAC Address"}),u.jsx(ie,{children:"Interface"}),u.jsx(ie,{children:"VLAN"}),u.jsx(ie,{children:"VRF"}),u.jsx(ie,{children:"Status"})]})}),u.jsx(Vr,{children:w[O].l2_forwarding.arp_table.map((H,se)=>u.jsxs(Ke,{children:[u.jsx(ee,{className:"font-medium text-blue-600",children:H.ip_address}),u.jsx(ee,{className:"font-mono",children:H.mac_address}),u.jsx(ee,{children:H.interface}),u.jsx(ee,{children:H.vlan!=="-"?H.vlan:u.jsx("span",{className:"text-gray-400",children:"-"})}),u.jsx(ee,{children:H.vrf}),u.jsx(ee,{children:u.jsx(Ce,{className:H.status==="reachable"?"bg-green-100 text-green-800 border-green-300":"bg-amber-100 text-amber-800 border-amber-300",children:H.status})})]},se))})]})})]}),(((RF=(jF=w[O])==null?void 0:jF.l2_forwarding)==null?void 0:RF.vlans)||((MF=(IF=w[O])==null?void 0:IF.l2_forwarding)==null?void 0:MF.vlan_table))&&u.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[u.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[u.jsx("span",{className:"bg-indigo-100 text-indigo-800 p-1.5 rounded-md mr-2",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide",children:[u.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),u.jsx("path",{d:"M3 9h18"}),u.jsx("path",{d:"M9 21V9"})]})}),"VLAN Configuration"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[(DF=(LF=(PF=w[O])==null?void 0:PF.l2_forwarding)==null?void 0:LF.vlans)==null?void 0:DF.map((H,se)=>u.jsxs("div",{className:"bg-indigo-50 rounded-lg border border-indigo-100 overflow-hidden",children:[u.jsx("div",{className:"bg-indigo-100 p-2 border-b border-indigo-200",children:u.jsxs("h4",{className:"font-medium text-indigo-800 flex justify-between items-center",children:[u.jsxs("span",{children:["VLAN ",H.vlan_id]}),H.port_tagging&&u.jsx(Ce,{variant:"outline",className:"bg-white border-indigo-200 text-indigo-700 text-xs",children:H.port_tagging})]})}),u.jsxs("div",{className:"p-3 space-y-2 text-sm",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("div",{className:"text-gray-500",children:"IP Address:"}),u.jsx("div",{children:H.ip_address||u.jsx("span",{className:"text-gray-400",children:"Not Configured"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("div",{className:"text-gray-500",children:"Proxy ARP:"}),u.jsx("div",{children:u.jsx(Ce,{variant:"outline",className:H.proxy_arp==="enabled"?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:H.proxy_arp})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("div",{className:"text-gray-500",children:"Proxy ND:"}),u.jsx("div",{children:u.jsx(Ce,{variant:"outline",className:H.proxy_nd==="enabled"?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:H.proxy_nd})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("div",{className:"text-gray-500",children:"DHCP Proxy:"}),u.jsx("div",{children:H.dhcp_helper||u.jsx("span",{className:"text-gray-400",children:"Not Configured"})})]}),H.ports&&H.ports.length>0&&u.jsxs("div",{className:"pt-2 border-t border-indigo-100",children:[u.jsx("div",{className:"text-gray-500 mb-1",children:"Associated Ports:"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:H.ports.map((ue,pe)=>u.jsx(Ce,{variant:"outline",className:"bg-white text-xs",children:ue},pe))})]})]})]},`vlan-${se}`)),(BF=($F=(OF=w[O])==null?void 0:OF.l2_forwarding)==null?void 0:$F.vlan_table)==null?void 0:BF.map((H,se)=>u.jsxs("div",{className:"bg-indigo-50 rounded-lg border border-indigo-100 overflow-hidden",children:[u.jsx("div",{className:"bg-indigo-100 p-2 border-b border-indigo-200",children:u.jsxs("h4",{className:"font-medium text-indigo-800 flex justify-between items-center",children:[u.jsxs("span",{children:["VLAN ",H.vlan_id]}),H.port_tagging&&u.jsx(Ce,{variant:"outline",className:"bg-white border-indigo-200 text-indigo-700 text-xs",children:H.port_tagging})]})}),u.jsxs("div",{className:"p-3 space-y-2 text-sm",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("div",{className:"text-gray-500",children:"IP Address:"}),u.jsx("div",{children:H.ip_address||u.jsx("span",{className:"text-gray-400",children:"Not Configured"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("div",{className:"text-gray-500",children:"Proxy ARP:"}),u.jsx("div",{children:u.jsx(Ce,{variant:"outline",className:H.proxy_arp==="enabled"?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:H.proxy_arp})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("div",{className:"text-gray-500",children:"Proxy ND:"}),u.jsx("div",{children:u.jsx(Ce,{variant:"outline",className:H.proxy_nd==="enabled"?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:H.proxy_nd})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("div",{className:"text-gray-500",children:"DHCP Proxy:"}),u.jsx("div",{children:H.dhcp_helper||u.jsx("span",{className:"text-gray-400",children:"Not Configured"})})]}),H.ports&&H.ports.length>0&&u.jsxs("div",{className:"pt-2 border-t border-indigo-100",children:[u.jsx("div",{className:"text-gray-500 mb-1",children:"Associated Ports:"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:H.ports.map((ue,pe)=>u.jsx(Ce,{variant:"outline",className:"bg-white text-xs",children:ue},pe))})]})]})]},`vlan-table-${se}`))]})]}),(((zF=(FF=w[O])==null?void 0:FF.l2_forwarding)==null?void 0:zF.interfaces)||((HF=(UF=w[O])==null?void 0:UF.l2_forwarding)==null?void 0:HF.interfaces_status))&&u.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[u.jsx("span",{className:"bg-emerald-100 text-emerald-800 p-1.5 rounded-md mr-2",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide",children:[u.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2"}),u.jsx("path",{d:"M6 12h12"}),u.jsx("path",{d:"M8 12v4"}),u.jsx("path",{d:"M16 12v4"}),u.jsx("path",{d:"M12 12v4"})]})}),"Interface Information"]}),u.jsxs("div",{className:"relative w-64",children:[u.jsx(ti,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-400"}),u.jsx(er,{placeholder:"Search Interface...",className:"pl-8",value:ge,onChange:H=>Ze(H.target.value)})]})]}),u.jsx("div",{className:"overflow-auto",children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{className:"bg-gray-50",children:[u.jsx(ie,{className:"w-[150px]",children:"Physical Interface"}),u.jsx(ie,{children:"Logical Interface"}),u.jsx(ie,{children:"Admin Status"}),u.jsx(ie,{children:"Physical Status"}),u.jsx(ie,{children:"VLAN"}),u.jsx(ie,{children:"Speed"}),u.jsx(ie,{children:"Type"}),u.jsx(ie,{children:"Lanes"}),u.jsx(ie,{children:"MTU"}),u.jsx(ie,{children:"FEC"})]})}),u.jsxs(Vr,{children:[(GF=(WF=(VF=w[O])==null?void 0:VF.l2_forwarding)==null?void 0:WF.interfaces)==null?void 0:GF.filter(H=>{var se,ue;return(((se=H.alias)==null?void 0:se.toLowerCase())||"").includes(ge.toLowerCase())||(((ue=H.interface)==null?void 0:ue.toLowerCase())||"").includes(ge.toLowerCase())}).map((H,se)=>u.jsxs(Ke,{className:"hover:bg-gray-50",children:[u.jsx(ee,{className:"font-medium",children:H.alias||u.jsx("span",{className:"text-gray-400",children:"-"})}),u.jsx(ee,{children:H.interface||u.jsx("span",{className:"text-gray-400",children:"-"})}),u.jsx(ee,{children:u.jsx(Ce,{className:H.admin==="up"?"bg-green-100 text-green-800 border-green-200":"bg-gray-100 text-gray-800 border-gray-200",children:H.admin||"-"})}),u.jsx(ee,{children:u.jsx(Ce,{className:H.oper==="up"?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200",children:H.oper||"-"})}),u.jsx(ee,{children:H.vlan==="routed"?u.jsx(Ce,{className:"bg-blue-100 text-blue-800 border-blue-200",children:"Routed"}):H.vlan==="access"?u.jsx(Ce,{className:"bg-emerald-100 text-emerald-800 border-emerald-200",children:"Access"}):u.jsx(Ce,{className:"bg-indigo-100 text-indigo-800 border-indigo-200",children:"Trunk"})}),u.jsx(ee,{children:H.speed||u.jsx("span",{className:"text-gray-400",children:"-"})}),u.jsx(ee,{children:H.type||u.jsx("span",{className:"text-gray-400",children:"-"})}),u.jsx(ee,{children:H.lanes||u.jsx("span",{className:"text-gray-400",children:"-"})}),u.jsx(ee,{children:H.mtu||u.jsx("span",{className:"text-gray-400",children:"-"})}),u.jsx(ee,{children:H.fec||u.jsx("span",{className:"text-gray-400",children:"-"})})]},`interface-${se}`)),(KF=(YF=(qF=w[O])==null?void 0:qF.l2_forwarding)==null?void 0:YF.interfaces_status)==null?void 0:KF.filter(H=>{var se,ue;return(((se=H.alias)==null?void 0:se.toLowerCase())||"").includes(ge.toLowerCase())||(((ue=H.interface)==null?void 0:ue.toLowerCase())||"").includes(ge.toLowerCase())}).map((H,se)=>u.jsxs(Ke,{className:"hover:bg-gray-50",children:[u.jsx(ee,{className:"font-medium",children:H.alias||u.jsx("span",{className:"text-gray-400",children:"-"})}),u.jsx(ee,{children:H.interface||u.jsx("span",{className:"text-gray-400",children:"-"})}),u.jsx(ee,{children:u.jsx(Ce,{className:H.admin==="up"?"bg-green-100 text-green-800 border-green-200":"bg-gray-100 text-gray-800 border-gray-200",children:H.admin||"-"})}),u.jsx(ee,{children:u.jsx(Ce,{className:H.oper==="up"?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200",children:H.oper||"-"})}),u.jsx(ee,{children:H.vlan==="routed"?u.jsx(Ce,{className:"bg-blue-100 text-blue-800 border-blue-200",children:"Route"}):H.vlan==="access"?u.jsx(Ce,{className:"bg-emerald-100 text-emerald-800 border-emerald-200",children:"Access"}):u.jsx(Ce,{className:"bg-indigo-100 text-indigo-800 border-indigo-200",children:"Trunk"})}),u.jsx(ee,{children:H.speed||u.jsx("span",{className:"text-gray-400",children:"-"})}),u.jsx(ee,{children:H.type||u.jsx("span",{className:"text-gray-400",children:"-"})}),u.jsx(ee,{children:H.lanes||u.jsx("span",{className:"text-gray-400",children:"-"})}),u.jsx(ee,{children:H.mtu||u.jsx("span",{className:"text-gray-400",children:"-"})}),u.jsx(ee,{children:H.fec||u.jsx("span",{className:"text-gray-400",children:"-"})})]},`interface-status-${se}`))]})]})})]}),((XF=(ZF=w[O])==null?void 0:ZF.l2_forwarding)==null?void 0:XF.interfaces_counters)&&w[O].l2_forwarding.interfaces_counters.length>0&&u.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[u.jsx("span",{className:"bg-purple-100 text-purple-800 p-1.5 rounded-md mr-2",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide",children:[u.jsx("path",{d:"M3 3v18h18"}),u.jsx("path",{d:"M18 12V8"}),u.jsx("path",{d:"M14 14v-4"}),u.jsx("path",{d:"M10 16v-2"}),u.jsx("path",{d:"M6 18v-4"})]})}),"Interfaces counters"]}),u.jsxs("div",{className:"relative w-64",children:[u.jsx(ti,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-400"}),u.jsx(er,{placeholder:"Search Interfaces...",className:"pl-8",value:Oe,onChange:H=>Wt(H.target.value)})]})]}),u.jsx("div",{className:"overflow-auto",children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{className:"bg-gray-50",children:[u.jsx(ie,{className:"w-[120px]",children:"Physical Int"}),u.jsx(ie,{className:"w-[120px]",children:"Logical Int"}),u.jsx(ie,{children:"Status"}),u.jsx(ie,{className:"text-right",children:"Received Packets"}),u.jsx(ie,{className:"text-right",children:"Sent Packets"}),u.jsx(ie,{className:"text-right",children:"Received Bandwidth"}),u.jsx(ie,{className:"text-right",children:"Sent Bandwidth"}),u.jsx(ie,{className:"text-right",children:"Received Dropped"}),u.jsx(ie,{className:"text-right",children:"Sent Dropped"}),u.jsx(ie,{className:"text-right",children:"Received Errors"}),u.jsx(ie,{className:"text-right",children:"Sent Errors"}),u.jsx(ie,{className:"text-right",children:"Utilization"})]})}),u.jsx(Vr,{children:w[O].l2_forwarding.interfaces_counters.filter(H=>{var at,we,pt,nr;let se="-";const ue=(we=(at=w[O])==null?void 0:at.l2_forwarding)==null?void 0:we.interfaces;if(ue&&ue.length>0){const Tt=ue.find(Nr=>Nr.interface===H.iface);Tt&&Tt.alias&&(se=Tt.alias)}const pe=(nr=(pt=w[O])==null?void 0:pt.l2_forwarding)==null?void 0:nr.interfaces_status;if(se==="-"&&pe&&pe.length>0){const Tt=pe.find(Nr=>Nr.interface===H.iface);Tt&&Tt.alias&&(se=Tt.alias)}return H.iface.toLowerCase().includes(Oe.toLowerCase())||se.toLowerCase().includes(Oe.toLowerCase())}).map((H,se)=>{var we,pt,nr,Tt;let ue="-";const pe=(pt=(we=w[O])==null?void 0:we.l2_forwarding)==null?void 0:pt.interfaces;if(pe&&pe.length>0){const Nr=pe.find(Dr=>Dr.interface===H.iface);Nr&&Nr.alias&&(ue=Nr.alias)}const at=(Tt=(nr=w[O])==null?void 0:nr.l2_forwarding)==null?void 0:Tt.interfaces_status;if(ue==="-"&&at&&at.length>0){const Nr=at.find(Dr=>Dr.interface===H.iface);Nr&&Nr.alias&&(ue=Nr.alias)}return u.jsxs(Ke,{className:"hover:bg-gray-50",children:[u.jsx(ee,{className:"font-medium",children:ue}),u.jsx(ee,{children:H.iface}),u.jsx(ee,{children:u.jsx(Ce,{className:H.state==="U"?"bg-green-100 text-green-800 border-green-200":H.state==="D"?"bg-red-100 text-red-800 border-red-200":"bg-gray-100 text-gray-800 border-gray-200",children:H.state==="U"?"Normal":H.state==="D"?"Down":H.state})}),u.jsx(ee,{className:"text-right font-mono",children:H.rx_ok.toLocaleString()}),u.jsx(ee,{className:"text-right font-mono",children:H.tx_ok.toLocaleString()}),u.jsx(ee,{className:"text-right font-mono text-blue-600",children:H.rx_bps}),u.jsx(ee,{className:"text-right font-mono text-green-600",children:H.tx_bps}),u.jsx(ee,{className:`text-right font-mono ${H.rx_drp>0?"text-amber-600":""}`,children:H.rx_drp>0?H.rx_drp.toLocaleString():"-"}),u.jsx(ee,{className:`text-right font-mono ${H.tx_drp>0?"text-amber-600":""}`,children:H.tx_drp>0?H.tx_drp.toLocaleString():"-"}),u.jsx(ee,{className:`text-right font-mono ${H.rx_err>0?"text-red-600":""}`,children:H.rx_err>0?H.rx_err.toLocaleString():"-"}),u.jsx(ee,{className:`text-right font-mono ${H.tx_err>0?"text-red-600":""}`,children:H.tx_err>0?H.tx_err.toLocaleString():"-"}),u.jsx(ee,{className:"text-right font-mono",children:u.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[u.jsxs("span",{children:["↓",H.rx_util]}),u.jsxs("span",{children:["↑",H.tx_util]})]})})]},se)})})]})})]})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border rounded-md bg-slate-50",children:[u.jsx(__,{className:"h-12 w-12 mb-4 text-gray-400"}),u.jsx("p",{className:"text-lg font-medium mb-2 text-gray-600",children:e(v?"noL2ForwardingData":"noDeviceSelected")}),u.jsx("p",{className:"text-gray-500 text-center",children:e(v?"l2ForwardingError":"enterIpForL2")})]})})]})}),u.jsx(Br,{value:"system",children:u.jsxs(Ve,{children:[u.jsxs(nt,{className:"flex flex-row items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(it,{children:"System Processes"}),u.jsx(qr,{children:_?`Device ${_} System Processes and Resource Usage`:"Please input IP to search device"})]}),_&&u.jsx(Re,{variant:"outline",size:"sm",onClick:ur,disabled:k,children:k?u.jsxs(u.Fragment,{children:[u.jsx($t,{className:"h-4 w-4 animate-spin mr-2"}),"Refreshing"]}):u.jsx(u.Fragment,{children:"Refresh Device"})})]}),u.jsx(Ge,{children:w&&((JF=w[O])!=null&&JF.system_process)?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[u.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[u.jsx("span",{className:"bg-blue-100 text-blue-800 p-1.5 rounded-md mr-2",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("path",{d:"M12 6v6l4 2"})]})}),"Disk Usage"]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(QF=w[O].system_process.disk_usage)==null?void 0:QF.map((H,se)=>u.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-100 overflow-hidden",children:[u.jsx("div",{className:"bg-blue-100 p-2 border-b border-blue-200",children:u.jsxs("h4",{className:"font-medium text-blue-800 flex justify-between items-center",children:[u.jsx("span",{title:H.filesystem,children:H.filesystem.length>15?`${H.filesystem.substring(0,15)}...`:H.filesystem}),u.jsx(Ce,{variant:"outline",className:H.summary.includes("✅")?"bg-green-100 text-green-800 border-green-200":"bg-amber-100 text-amber-800 border-amber-200",children:H.summary.replace("✅ ","")})]})}),u.jsxs("div",{className:"p-3",children:[u.jsxs("div",{className:"flex justify-between mb-1 text-sm text-gray-700",children:[u.jsxs("span",{children:["Used: ",H.used]}),u.jsxs("span",{children:["Available: ",H.avail]})]}),u.jsx("div",{className:"relative pt-1",children:u.jsx("div",{className:"overflow-hidden h-2 text-xs flex rounded bg-blue-100",children:u.jsx("div",{className:`shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center ${parseInt(H.use_percent)>80?"bg-red-500":parseInt(H.use_percent)>60?"bg-amber-500":"bg-green-500"}`,style:{width:H.use_percent}})})}),u.jsxs("div",{className:"mt-2 flex justify-between text-xs text-gray-500",children:[u.jsxs("span",{children:["Total Size: ",H.size]}),u.jsxs("span",{children:["Usage: ",H.use_percent]})]}),u.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Mount Point:"}),u.jsx("span",{className:"ml-1 text-gray-700",title:H.mountpoint,children:H.mountpoint.length>10?`${H.mountpoint.substring(0,10)}...`:H.mountpoint||"-"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Type:"}),u.jsx("span",{className:"ml-1 text-gray-700",children:H.type||"-"})]})]})]})]},se))})]}),u.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[u.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[u.jsx("span",{className:"bg-purple-100 text-purple-800 p-1.5 rounded-md mr-2",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide",children:[u.jsx("rect",{x:"2",y:"2",width:"20",height:"8",rx:"2",ry:"2"}),u.jsx("rect",{x:"2",y:"14",width:"20",height:"8",rx:"2",ry:"2"}),u.jsx("line",{x1:"6",y1:"6",x2:"6.01",y2:"6"}),u.jsx("line",{x1:"6",y1:"18",x2:"6.01",y2:"18"})]})}),"System Processes"]}),u.jsx("div",{className:"overflow-auto",children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{className:"bg-gray-50",children:[u.jsx(ie,{children:"PID"}),u.jsx(ie,{children:"Process Name"}),u.jsx(ie,{children:"Status"}),u.jsx(ie,{className:"text-right",children:"CPU Usage"}),u.jsx(ie,{className:"text-right",children:"Memory Usage"}),u.jsx(ie,{className:"text-right",children:"Elapsed Time"})]})}),u.jsx(Vr,{children:(e6=w[O].system_process.processes)==null?void 0:e6.map((H,se)=>u.jsxs(Ke,{className:"hover:bg-gray-50",children:[u.jsx(ee,{className:"font-mono",children:H.pid}),u.jsx(ee,{className:"font-medium",children:H.process_name}),u.jsx(ee,{children:u.jsx(Ce,{variant:"outline",className:H.status==="R"?"bg-green-100 text-green-800 border-green-200":H.status==="S"?"bg-blue-100 text-blue-800 border-blue-200":H.status==="D"?"bg-amber-100 text-amber-800 border-amber-200":H.status==="Z"?"bg-red-100 text-red-800 border-red-200":"bg-gray-100 text-gray-800 border-gray-200",children:H.status==="R"?"Running":H.status==="S"?"Sleeping":H.status==="D"?"Uninterruptible":H.status==="Z"?"Zombie":H.status})}),u.jsx(ee,{className:"text-right",children:u.jsxs("div",{className:H.cpu_percent>50?"text-red-600":H.cpu_percent>20?"text-amber-600":"text-blue-600",children:[H.cpu_percent,"%"]})}),u.jsx(ee,{className:"text-right",children:u.jsxs("div",{className:H.mem_percent>50?"text-red-600":H.mem_percent>20?"text-amber-600":"text-blue-600",children:[H.mem_percent,"%"]})}),u.jsx(ee,{className:"text-right font-mono",children:H.elapsed_time})]},se))})]})})]}),u.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[u.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[u.jsx("span",{className:"bg-emerald-100 text-emerald-800 p-1.5 rounded-md mr-2",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("path",{d:"M8 12h8"}),u.jsx("path",{d:"M12 16V8"})]})}),"Disk IO Statistics"]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(t6=w[O].system_process.disk_stat)==null?void 0:t6.map((H,se)=>u.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 rounded-lg border border-emerald-100 overflow-hidden",children:[u.jsx("div",{className:"bg-emerald-100 p-2 border-b border-emerald-200",children:u.jsxs("h4",{className:"font-medium text-emerald-800 flex justify-between items-center",children:[u.jsx("span",{children:"Disk IO Statistics"}),u.jsx(Ce,{variant:"outline",className:H.summary.includes("✅")?"bg-green-100 text-green-800 border-green-200":"bg-amber-100 text-amber-800 border-amber-200",children:H.summary.replace("✅ ","")})]})}),u.jsxs("div",{className:"p-3 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-white rounded-lg p-3 border border-emerald-100",children:[u.jsx("h5",{className:"text-sm font-medium text-emerald-700 mb-2",children:"Read Operations"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[u.jsx("div",{className:"text-gray-600",children:"Completed Reads:"}),u.jsx("div",{className:"font-medium text-gray-800",children:H.reads_completed.toLocaleString()}),u.jsx("div",{className:"text-gray-600",children:"Merged Reads:"}),u.jsx("div",{className:"font-medium text-gray-800",children:H.reads_merged.toLocaleString()}),u.jsx("div",{className:"text-gray-600",children:"Read Sectors:"}),u.jsx("div",{className:"font-medium text-gray-800",children:H.sectors_read.toLocaleString()}),u.jsx("div",{className:"text-gray-600",children:"Read Time:"}),u.jsxs("div",{className:"font-medium text-gray-800",children:[H.read_time_ms.toLocaleString()," ms"]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-3 border border-emerald-100",children:[u.jsx("h5",{className:"text-sm font-medium text-emerald-700 mb-2",children:"Write Operations"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[u.jsx("div",{className:"text-gray-600",children:"Completed Writes:"}),u.jsx("div",{className:"font-medium text-gray-800",children:H.writes_completed.toLocaleString()}),u.jsx("div",{className:"text-gray-600",children:"Merged Writes:"}),u.jsx("div",{className:"font-medium text-gray-800",children:H.writes_merged.toLocaleString()}),u.jsx("div",{className:"text-gray-600",children:"Write Sectors:"}),u.jsx("div",{className:"font-medium text-gray-800",children:H.sectors_written.toLocaleString()}),u.jsx("div",{className:"text-gray-600",children:"Write Time:"}),u.jsxs("div",{className:"font-medium text-gray-800",children:[H.write_time_ms.toLocaleString()," ms"]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-white rounded-lg p-3 border border-emerald-100",children:[u.jsx("h5",{className:"text-sm font-medium text-emerald-700 mb-2",children:"Discard Operations"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[u.jsx("div",{className:"text-gray-600",children:"Completed Discards:"}),u.jsx("div",{className:"font-medium text-gray-800",children:H.discards_completed.toLocaleString()}),u.jsx("div",{className:"text-gray-600",children:"Merged Discards:"}),u.jsx("div",{className:"font-medium text-gray-800",children:H.discards_merged.toLocaleString()}),u.jsx("div",{className:"text-gray-600",children:"Discarded Sectors:"}),u.jsx("div",{className:"font-medium text-gray-800",children:H.sectors_discarded.toLocaleString()}),u.jsx("div",{className:"text-gray-600",children:"Discard Time:"}),u.jsxs("div",{className:"font-medium text-gray-800",children:[H.discard_time_ms.toLocaleString()," ms"]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-3 border border-emerald-100",children:[u.jsx("h5",{className:"text-sm font-medium text-emerald-700 mb-2",children:"Other Information"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[u.jsx("div",{className:"text-gray-600",children:"IO in Progress:"}),u.jsx("div",{className:"font-medium text-gray-800",children:H.ios_in_progress}),u.jsx("div",{className:"text-gray-600",children:"IO Time:"}),u.jsxs("div",{className:"font-medium text-gray-800",children:[H.io_time_ms.toLocaleString()," ms"]}),u.jsx("div",{className:"text-gray-600",children:"Weighted IO Time:"}),u.jsxs("div",{className:"font-medium text-gray-800",children:[H.io_time_weighted_ms.toLocaleString()," ms"]}),u.jsx("div",{className:"text-gray-600",children:"Timestamp:"}),u.jsx("div",{className:"font-medium text-gray-800",children:new Date(H.timestamp).toLocaleString()})]})]})]})]})]},se))})]}),u.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[u.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[u.jsx("span",{className:"bg-amber-100 text-amber-800 p-1.5 rounded-md mr-2",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide",children:[u.jsx("path",{d:"M2 12h2"}),u.jsx("rect",{x:"6",y:"8",width:"12",height:"8",rx:"2"}),u.jsx("path",{d:"M20 12h2"})]})}),"Block Device Information"]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(r6=w[O].system_process.block_info)==null?void 0:r6.map((H,se)=>u.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 rounded-lg border border-amber-100 overflow-hidden",children:[u.jsx("div",{className:"bg-amber-100 p-2 border-b border-amber-200",children:u.jsx("h4",{className:"font-medium text-amber-800",children:H.name})}),u.jsxs("div",{className:"p-3 space-y-2 text-sm",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("div",{className:"text-gray-500",children:"Size:"}),u.jsx("div",{children:H.size||u.jsx("span",{className:"text-gray-400",children:"-"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("div",{className:"text-gray-500",children:"Model:"}),u.jsx("div",{children:H.model||u.jsx("span",{className:"text-gray-400",children:"-"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("div",{className:"text-gray-500",children:"Rotational:"}),u.jsx("div",{children:H.rota?"Yes":"No"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("div",{className:"text-gray-500",children:"Mount Point:"}),u.jsx("div",{children:H.mountpoint||u.jsx("span",{className:"text-gray-400",children:"-"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("div",{className:"text-gray-500",children:"Timestamp:"}),u.jsx("div",{className:"text-xs",children:new Date(H.timestamp).toLocaleString()})]})]})]},se))})]})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border rounded-md bg-slate-50",children:[u.jsx(Mg,{className:"h-12 w-12 mb-4 text-gray-400"}),u.jsx("p",{className:"text-lg font-medium mb-2 text-gray-600",children:e(v?"noSystemData":"noDeviceSelected")}),u.jsx("p",{className:"text-gray-500 text-center",children:e(v?"systemDataError":"enterIpForSystem")})]})})]})}),u.jsxs(Br,{value:"realtime",children:[u.jsxs(Ve,{children:[u.jsxs(nt,{children:[u.jsxs(it,{className:"flex justify-between items-center",children:[u.jsx("span",{children:"Real-Time Telemetry"}),u.jsx(Re,{onClick:Dw,disabled:oe||ct.length===0,className:"bg-blue-600 hover:bg-blue-700 text-white",children:oe?u.jsxs(u.Fragment,{children:[u.jsx($t,{className:"h-4 w-4 animate-spin mr-2"}),u.jsx("span",{children:"Processing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Rd,{className:"h-4 w-4 mr-2"}),u.jsx("span",{children:"Fetch Real-Time Telemetry"})]})})]}),u.jsx(qr,{children:"Select devices to fetch real-time telemetry data. You can select multiple devices across different cards."})]}),u.jsxs(Ge,{children:[u.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Af,{id:"select-all",checked:$e,onCheckedChange:pa}),u.jsx("label",{htmlFor:"select-all",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:$e?"Deselect All":"Select All"})]}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:[ct.length," of ",ke.length," devices selected"]}),u.jsx(Re,{variant:"outline",size:"sm",onClick:rr,disabled:wt,children:wt?u.jsx($t,{className:"h-4 w-4 animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(io,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:"Refresh Devices"})]})})]}),wt?u.jsxs("div",{className:"flex justify-center items-center h-[400px]",children:[u.jsx($t,{className:"h-8 w-8 animate-spin mr-2"}),u.jsx("span",{children:"Loading devices..."})]}):ke.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border rounded-md bg-slate-50",children:[u.jsx(P3,{className:"h-12 w-12 mb-4 text-gray-400"}),u.jsx("p",{className:"text-lg font-medium mb-2 text-gray-600",children:"No devices found"}),u.jsx("p",{className:"text-gray-500 text-center",children:"No devices have been discovered yet. Use the Refresh button to fetch the available devices."})]}):u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:ke.map(H=>{const se=ct.includes(H.ip_address),ue=ne[H.ip_address];return u.jsxs("div",{className:`rounded-lg border bg-card text-card-foreground shadow-sm overflow-hidden ${se?"ring-2 ring-blue-500":""}`,children:[u.jsxs("div",{className:"p-4 border-b bg-muted/40",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"font-medium",children:H.hostname||"—"}),u.jsx(Af,{checked:se,onCheckedChange:()=>Ki(H.ip_address)})]}),u.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:H.ip_address})]}),u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1 text-sm",children:[u.jsx("div",{className:"text-muted-foreground",children:"Vendor:"}),u.jsx("div",{className:"break-words pr-1",children:H.vendor_hw||"—"}),u.jsx("div",{className:"text-muted-foreground",children:"Model:"}),u.jsx("div",{className:"break-words pr-1",children:H.hw_sku||"—"}),u.jsx("div",{className:"text-muted-foreground",children:"OS:"}),u.jsx("div",{className:"break-words pr-1",children:H.vendor_sw||"—"})]}),ue&&u.jsxs("div",{className:`mt-3 p-2 rounded-md text-sm flex flex-col ${ue.success?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[u.jsxs("div",{className:"flex items-center mb-1",children:[ue.success?u.jsx(Tye,{className:"h-4 w-4 mr-2 flex-shrink-0"}):u.jsx(Wy,{className:"h-4 w-4 mr-2 flex-shrink-0"}),u.jsx("span",{className:"break-words",children:ue.message})]}),u.jsx("div",{className:"text-xs opacity-80 ml-6",children:ue.timestamp})]})]})]},H.ip_address)})})]})]}),u.jsxs(Ve,{className:"mt-6",children:[u.jsxs(nt,{children:[u.jsx(it,{children:"Latest Telemetry Status"}),u.jsx(qr,{children:"Telemetry fetch history records"})]}),u.jsx(Ge,{children:Vp?u.jsxs("div",{className:"flex items-center justify-center py-4",children:[u.jsx($t,{className:"h-5 w-5 animate-spin mr-2"}),u.jsx("span",{children:"Loading status..."})]}):sn&&Array.isArray(sn)&&sn.length>0?u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"border rounded-md overflow-hidden",children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{children:[u.jsx(ie,{children:"IP Address"}),u.jsx(ie,{children:"Hostname"}),u.jsx(ie,{children:"OS Version"}),u.jsx(ie,{children:"Hardware"}),u.jsx(ie,{children:"Status"}),u.jsx(ie,{children:"Last Updated"})]})}),u.jsx(Vr,{children:sn.slice((pl-1)*Fa,pl*Fa).map((H,se)=>u.jsxs(Ke,{children:[u.jsx(ee,{children:H.ip_address||"—"}),u.jsx(ee,{children:H.hostname||"—"}),u.jsx(ee,{className:"break-words max-w-[200px]",children:H.vendor_sw||"—"}),u.jsx(ee,{children:H.hw_sku||"—"}),u.jsx(ee,{children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`h-2 w-2 rounded-full mr-2 ${H.fetch_status==="success"?"bg-green-500":"bg-red-500"}`}),u.jsx("span",{children:H.fetch_status})]})}),u.jsx(ee,{className:"pr-4",children:H.fetch_time?new Date(H.fetch_time).toLocaleString():"—"})]},se))})]})}),sn.length>Fa&&u.jsxs("div",{className:"flex items-center justify-between py-4",children:[u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",u.jsx("span",{className:"font-medium",children:Math.min((pl-1)*Fa+1,sn.length)})," to"," ",u.jsx("span",{className:"font-medium",children:Math.min(pl*Fa,sn.length)})," of"," ",u.jsx("span",{className:"font-medium",children:sn.length})," records"]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Re,{variant:"outline",size:"sm",onClick:()=>Ba(H=>Math.max(H-1,1)),disabled:pl===1,children:"Previous"}),u.jsx(Re,{variant:"outline",size:"sm",onClick:()=>Ba(H=>Math.min(H+1,Math.ceil(sn.length/Fa))),disabled:pl===Math.ceil(sn.length/Fa),children:"Next"})]})]})]}):u.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No telemetry status available"})})]})]})]}),u.jsx(Wc,{open:Lt,onOpenChange:zt,children:u.jsxs(Ul,{className:"max-w-4xl",children:[u.jsxs(Hl,{children:[u.jsx(Vl,{children:"Other Temperature Sensors"}),u.jsx(Nf,{children:"All other temperature sensors data on the device"})]}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 mt-4 max-h-[70vh] overflow-y-auto p-1",children:(i6=(n6=F==null?void 0:F.TEMPERATURE_SENSOR_PARSED)==null?void 0:n6.others)==null?void 0:i6.map((H,se)=>{const ue=Ng(H.temperature,H.threshold||60);return u.jsxs("div",{className:`rounded-lg border p-3 transition-all hover:shadow-md ${ue.borderColor}`,children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsx("h4",{className:"font-medium text-sm text-gray-700",children:H.name}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`h-2 w-2 rounded-full ${ue.statusColor} mr-1`}),u.jsx("span",{className:"text-xs text-gray-500",children:ue.statusText})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("div",{className:`text-xl font-bold ${ue.textColor}`,children:[H.temperature,"°C"]}),H.threshold&&u.jsxs("div",{className:"text-xs text-gray-500",children:["/ ",H.threshold,"°C"]})]}),u.jsx(Zu,{value:ue.percentage,className:"h-1 mt-2",indicatorClassName:ue.progressColor})]},se)})}),u.jsx(Gc,{children:u.jsx(Re,{variant:"outline",onClick:()=>zt(!1),children:"Close"})})]})})]})},Gq=[{value:"bps",label:"bps (比特/秒)"},{value:"Bps",label:"Bps (字节/秒)"},{value:"pps",label:"pps (包/秒)"},{value:"%",label:"% (百分比)"},{value:"packets",label:"packets (包数)"},{value:"bytes",label:"bytes (字节)"},{value:"count",label:"count (计数)"},{value:"C",label:"C (摄氏度)"},{value:"W",label:"W (瓦特)"},{value:"V",label:"V (伏特)"},{value:"A",label:"A (安培)"},{value:"dBm",label:"dBm (分贝毫瓦)"},{value:"ms",label:"ms (毫秒)"},{value:"s",label:"s (秒)"}],OKe=({initialMappings:e=[],onSave:t})=>{const[r,n]=A.useState(e),[i,s]=A.useState(""),[a,o]=A.useState(!1),[l,c]=A.useState(!1),[d,h]=A.useState("table"),[f,p]=A.useState(!1),[g,v]=A.useState("json"),[m,y]=A.useState({id:"",gnmiPath:"",prometheusMetric:"",unit:"bps",description:""});A.useEffect(()=>{const R=localStorage.getItem("gnmi_path_mappings");if(R)try{n(JSON.parse(R))}catch(P){console.error("Failed to parse saved mappings:",P),n(e)}else n(e)},[e]);const x=r.filter(R=>R.gnmiPath.toLowerCase().includes(i.toLowerCase())||R.prometheusMetric.toLowerCase().includes(i.toLowerCase())||R.description.toLowerCase().includes(i.toLowerCase())),_=()=>{y({id:`mapping-${Date.now()}`,gnmiPath:"",prometheusMetric:"",unit:"bps",description:""}),o(!0)},b=R=>{y({...R}),c(!0)},w=R=>{if(confirm("确定要删除此映射吗？")){const P=r.filter(D=>D.id!==R);n(P),p(!0),localStorage.setItem("gnmi_path_mappings",JSON.stringify(P)),t&&t(P)}},S=()=>{if(!m.gnmiPath||!m.prometheusMetric){alert("gNMI路径和Prometheus指标名为必填项");return}const R=[...r,m];n(R),o(!1),p(!0),localStorage.setItem("gnmi_path_mappings",JSON.stringify(R)),t&&t(R)},k=()=>{if(!m.gnmiPath||!m.prometheusMetric){alert("gNMI路径和Prometheus指标名为必填项");return}const R=r.map(P=>P.id===m.id?m:P);n(R),c(!1),p(!0),localStorage.setItem("gnmi_path_mappings",JSON.stringify(R)),t&&t(R)},C=()=>{const R=JSON.stringify(r,null,2),P=new Blob([R],{type:"application/json"}),D=URL.createObjectURL(P),$=document.createElement("a");$.href=D,$.download="gnmi-path-mappings.json",document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(D)},E=()=>{function R(O){const j=[];return Array.isArray(O)?O.forEach(M=>{typeof M=="object"&&M!==null?(j.push("-"),Object.keys(M).forEach(I=>{const z=M[I];typeof z=="object"&&z!==null?(j.push(`  ${I}:`),R(z).split(`
`).forEach(F=>{F&&j.push(`    ${F}`)})):j.push(`  ${I}: ${z}`)})):j.push(`- ${M}`)}):typeof O=="object"&&O!==null&&Object.keys(O).forEach(M=>{const I=O[M];typeof I=="object"&&I!==null?(j.push(`${M}:`),R(I).split(`
`).forEach(U=>{U&&j.push(`  ${U}`)})):j.push(`${M}: ${I}`)}),j.join(`
`)}const P=R(r),D=new Blob([P],{type:"text/yaml"}),$=URL.createObjectURL(D),L=document.createElement("a");L.href=$,L.download="gnmi-path-mappings.yaml",document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL($)},T=()=>{const R=[{id:"sample-1",gnmiPath:"/interface[name=*]/statistics/in-octets",prometheusMetric:"gnmic_interface_statistics_in_octets",unit:"bps",description:"端口入方向带宽"},{id:"sample-2",gnmiPath:"/interface[name=*]/statistics/out-octets",prometheusMetric:"gnmic_interface_statistics_out_octets",unit:"bps",description:"端口出方向带宽"},{id:"sample-3",gnmiPath:"/interface[name=*]/statistics/in-pkts",prometheusMetric:"gnmic_interface_statistics_in_pkts",unit:"pps",description:"端口入方向包速率"},{id:"sample-4",gnmiPath:"/interface[name=*]/statistics/out-pkts",prometheusMetric:"gnmic_interface_statistics_out_pkts",unit:"pps",description:"端口出方向包速率"},{id:"sample-5",gnmiPath:"/platform/control[slot=*]/cpu[index=*]/total",prometheusMetric:"gnmic_platform_control_cpu_total_usage",unit:"%",description:"CPU总利用率"},{id:"sample-6",gnmiPath:"/platform/control[slot=*]/memory/used-percentage",prometheusMetric:"gnmic_platform_control_memory_used_percentage",unit:"%",description:"内存利用率"}];n(R),p(!0),localStorage.setItem("gnmi_path_mappings",JSON.stringify(R)),t&&t(R)},N=()=>g==="json"?JSON.stringify(r,null,2):r.map(R=>`- id: ${R.id}
  gnmiPath: ${R.gnmiPath}
  prometheusMetric: ${R.prometheusMetric}
  unit: ${R.unit}
  description: ${R.description}`).join(`

`);return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-2xl font-bold",children:"gNMI路径指标映射表"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Re,{variant:"outline",onClick:T,children:"生成示例数据"}),u.jsxs(Re,{variant:"outline",onClick:C,children:[u.jsx(Yl,{className:"h-4 w-4 mr-2"}),"导出JSON"]}),u.jsxs(Re,{variant:"outline",onClick:E,children:[u.jsx(Yl,{className:"h-4 w-4 mr-2"}),"导出YAML"]})]})]}),u.jsxs(jv,{value:d,onValueChange:h,children:[u.jsxs(Rv,{children:[u.jsx($r,{value:"table",children:"表格视图"}),u.jsx($r,{value:"code",children:"代码视图"})]}),u.jsxs(Br,{value:"table",className:"mt-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("div",{className:"relative w-80",children:[u.jsx(ti,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),u.jsx(er,{placeholder:"搜索路径、指标名或描述...",value:i,onChange:R=>s(R.target.value),className:"pl-8"}),i&&u.jsx("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>s(""),children:u.jsx(Ps,{className:"h-4 w-4"})})]}),u.jsxs(Re,{onClick:_,children:[u.jsx(QJ,{className:"h-4 w-4 mr-2"}),"新增映射"]})]}),u.jsx(Ve,{children:u.jsx(Ge,{className:"p-0",children:u.jsxs(Ur,{children:[u.jsx(Hr,{children:u.jsxs(Ke,{children:[u.jsx(ie,{children:"gNMI 路径"}),u.jsx(ie,{children:"Prometheus 指标名"}),u.jsx(ie,{children:"单位"}),u.jsx(ie,{children:"备注"}),u.jsx(ie,{className:"w-24",children:"操作"})]})}),u.jsx(Vr,{children:x.length===0?u.jsx(Ke,{children:u.jsx(ee,{colSpan:5,className:"text-center py-4",children:i?"没有找到匹配的映射":"暂无映射数据，请添加"})}):x.map(R=>u.jsxs(Ke,{children:[u.jsx(ee,{className:"font-mono text-sm",children:R.gnmiPath}),u.jsx(ee,{className:"font-mono text-sm",children:R.prometheusMetric}),u.jsx(ee,{children:R.unit}),u.jsx(ee,{children:R.description}),u.jsx(ee,{children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>b(R),children:u.jsx(Hye,{className:"h-4 w-4"})}),u.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>w(R.id),children:u.jsx(Yye,{className:"h-4 w-4 text-red-500"})})]})})]},R.id))})]})})})]}),u.jsxs(Br,{value:"code",className:"mt-4",children:[u.jsxs("div",{className:"mb-4 flex justify-between",children:[u.jsxs("div",{children:[u.jsx(Re,{variant:g==="json"?"default":"outline",onClick:()=>v("json"),className:"mr-2",children:"JSON"}),u.jsx(Re,{variant:g==="yaml"?"default":"outline",onClick:()=>v("yaml"),children:"YAML"})]}),u.jsxs(Re,{variant:"outline",onClick:g==="json"?C:E,children:[u.jsx(Yl,{className:"h-4 w-4 mr-2"}),"导出",g.toUpperCase()]})]}),u.jsx("div",{className:"relative",children:u.jsx("pre",{className:"bg-gray-100 p-4 rounded-md overflow-auto font-mono text-sm max-h-[500px]",children:N()})})]})]}),u.jsx(Wc,{open:a,onOpenChange:o,children:u.jsxs(Ul,{children:[u.jsx(Hl,{children:u.jsx(Vl,{children:"新增gNMI路径映射"})}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(is,{htmlFor:"gnmi-path",children:"gNMI路径"}),u.jsx(er,{id:"gnmi-path",placeholder:"/interface[name=*]/statistics/in-octets",value:m.gnmiPath,onChange:R=>y({...m,gnmiPath:R.target.value})})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(is,{htmlFor:"prometheus-metric",children:"Prometheus指标名"}),u.jsx(er,{id:"prometheus-metric",placeholder:"gnmic_interface_statistics_in_octets",value:m.prometheusMetric,onChange:R=>y({...m,prometheusMetric:R.target.value})})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(is,{htmlFor:"unit",children:"单位"}),u.jsxs(en,{value:m.unit,onValueChange:R=>y({...m,unit:R}),children:[u.jsx(Kr,{children:u.jsx(tn,{placeholder:"选择单位"})}),u.jsx(Zr,{children:Gq.map(R=>u.jsx(Fe,{value:R.value,children:R.label},R.value))})]})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(is,{htmlFor:"description",children:"备注"}),u.jsx(er,{id:"description",placeholder:"描述该指标的用途",value:m.description,onChange:R=>y({...m,description:R.target.value})})]})]}),u.jsxs(Gc,{children:[u.jsx(Re,{variant:"outline",onClick:()=>o(!1),children:"取消"}),u.jsx(Re,{onClick:S,children:"保存"})]})]})}),u.jsx(Wc,{open:l,onOpenChange:c,children:u.jsxs(Ul,{children:[u.jsx(Hl,{children:u.jsx(Vl,{children:"编辑gNMI路径映射"})}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(is,{htmlFor:"edit-gnmi-path",children:"gNMI路径"}),u.jsx(er,{id:"edit-gnmi-path",value:m.gnmiPath,onChange:R=>y({...m,gnmiPath:R.target.value})})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(is,{htmlFor:"edit-prometheus-metric",children:"Prometheus指标名"}),u.jsx(er,{id:"edit-prometheus-metric",value:m.prometheusMetric,onChange:R=>y({...m,prometheusMetric:R.target.value})})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(is,{htmlFor:"edit-unit",children:"单位"}),u.jsxs(en,{value:m.unit,onValueChange:R=>y({...m,unit:R}),children:[u.jsx(Kr,{children:u.jsx(tn,{placeholder:"选择单位"})}),u.jsx(Zr,{children:Gq.map(R=>u.jsx(Fe,{value:R.value,children:R.label},R.value))})]})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(is,{htmlFor:"edit-description",children:"备注"}),u.jsx(er,{id:"edit-description",value:m.description,onChange:R=>y({...m,description:R.target.value})})]})]}),u.jsxs(Gc,{children:[u.jsx(Re,{variant:"outline",onClick:()=>c(!1),children:"取消"}),u.jsx(Re,{onClick:k,children:"保存"})]})]})})]})},$Ke=()=>{var k,C;const[e,t]=A.useState([]),[r,n]=A.useState(!0),[i,s]=A.useState(null),[a,o]=A.useState(""),[l,c]=A.useState(""),[d,h]=A.useState(!1),[f,p]=A.useState(null),[g,v]=A.useState(!1),{user:m}=z$(),y=p2(),x=((k=m==null?void 0:m.email)==null?void 0:k.endsWith("@admin.com"))||(m==null?void 0:m.email)==="admin@example.com"||((C=m==null?void 0:m.app_metadata)==null?void 0:C.role)==="admin";A.useEffect(()=>{if(!x){s("您没有权限访问用户管理页面"),n(!1);return}_()},[x]);const _=async()=>{if(!y){s("Supabase 客户端未初始化"),n(!1);return}n(!0);try{const{data:E,error:T}=await y.functions.invoke("admin-get-users",{body:{offset:0,limit:100}});if(T)throw T;t(E||[])}catch(E){console.error("获取用户列表失败:",E),s("获取用户列表失败: "+(E instanceof Error?E.message:String(E)))}finally{n(!1)}},b=async E=>{if(E.preventDefault(),!y){p("Supabase 客户端未初始化");return}if(!a||!l){p("请输入邮箱和密码");return}h(!0),p(null),v(!1);try{const{data:T,error:N}=await y.functions.invoke("admin-create-user",{body:{email:a,password:l,email_confirm:!0}});if(N)throw N;v(!0),o(""),c(""),await _()}catch(T){console.error("创建用户失败:",T),p("创建用户失败: "+(T instanceof Error?T.message:String(T)))}finally{h(!1)}},w=async(E,T)=>{if(!y){s("Supabase 客户端未初始化");return}try{const{error:N}=await y.functions.invoke("admin-update-user",{body:{id:E,banned:!T}});if(N)throw N;await _()}catch(N){console.error("更新用户状态失败:",N),s("更新用户状态失败: "+(N instanceof Error?N.message:String(N)))}},S=async E=>{if(!y){s("Supabase 客户端未初始化");return}if(confirm("确定要删除此用户吗？此操作不可撤销。"))try{const{error:T}=await y.functions.invoke("admin-delete-user",{body:{id:E}});if(T)throw T;await _()}catch(T){console.error("删除用户失败:",T),s("删除用户失败: "+(T instanceof Error?T.message:String(T)))}};return x?u.jsxs("div",{className:"container mx-auto px-4 py-6",children:[u.jsx("h1",{className:"text-2xl font-bold mb-6",children:"用户管理"}),u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"创建新用户"}),u.jsxs("form",{onSubmit:b,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"电子邮箱"}),u.jsx("input",{id:"email",type:"email",value:a,onChange:E=>o(E.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm",placeholder:"user@example.com",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"密码"}),u.jsx("input",{id:"password",type:"password",value:l,onChange:E=>c(E.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm",placeholder:"请输入8位以上密码",required:!0})]}),f&&u.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 text-sm text-red-700",children:f}),g&&u.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 text-sm text-green-700",children:"用户创建成功！"}),u.jsx("button",{type:"submit",disabled:d,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:d?"创建中...":"创建用户"})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[u.jsx("h2",{className:"text-xl font-semibold p-6 border-b",children:"用户列表"}),i&&u.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 m-6 text-sm text-red-700",children:i}),r?u.jsx("div",{className:"flex justify-center items-center p-12",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"邮箱"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"创建时间"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"上次登录"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"状态"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length>0?e.map(E=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.email}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(E.created_at).toLocaleString()}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.last_sign_in_at?new Date(E.last_sign_in_at).toLocaleString():"从未登录"}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${E.is_confirmed?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:E.is_confirmed?"已启用":"已禁用"})}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[u.jsx("button",{onClick:()=>w(E.id,E.is_confirmed),className:"text-blue-600 hover:text-blue-900 mr-4",children:E.is_confirmed?"禁用":"启用"}),u.jsx("button",{onClick:()=>S(E.id),className:"text-red-600 hover:text-red-900",children:"删除"})]})]},E.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"暂无用户数据"})})})]})})]})]}):u.jsxs("div",{className:"p-6 bg-red-50 border-l-4 border-red-400 text-red-700",children:[u.jsx("h2",{className:"text-lg font-bold mb-2",children:"无权访问"}),u.jsx("p",{children:"您没有权限访问管理页面。请联系系统管理员。"})]})};function $D(e){const t=BKe(e),r=A.forwardRef((n,i)=>{const{children:s,...a}=n,o=A.Children.toArray(s),l=o.find(zKe);if(l){const c=l.props.children,d=o.map(h=>h===l?A.Children.count(c)>1?A.Children.only(null):A.isValidElement(c)?c.props.children:null:h);return u.jsx(t,{...a,ref:i,children:A.isValidElement(c)?A.cloneElement(c,void 0,d):null})}return u.jsx(t,{...a,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function BKe(e){const t=A.forwardRef((r,n)=>{const{children:i,...s}=r,a=A.isValidElement(i)?HKe(i):void 0,o=Xt(a,n);if(A.isValidElement(i)){const l=UKe(s,i.props);return i.type!==A.Fragment&&(l.ref=o),A.cloneElement(i,l)}return A.Children.count(i)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var FKe=Symbol("radix.slottable");function zKe(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===FKe}function UKe(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function HKe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var VKe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],e0=VKe.reduce((e,t)=>{const r=$D(`Primitive.${t}`),n=A.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function WKe(e){const t=e+"CollectionProvider",[r,n]=Oa(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:m,children:y}=v,x=Wr.useRef(null),_=Wr.useRef(new Map).current;return u.jsx(i,{scope:m,itemMap:_,collectionRef:x,children:y})};a.displayName=t;const o=e+"CollectionSlot",l=$D(o),c=Wr.forwardRef((v,m)=>{const{scope:y,children:x}=v,_=s(o,y),b=Xt(m,_.collectionRef);return u.jsx(l,{ref:b,children:x})});c.displayName=o;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=$D(d),p=Wr.forwardRef((v,m)=>{const{scope:y,children:x,..._}=v,b=Wr.useRef(null),w=Xt(m,b),S=s(d,y);return Wr.useEffect(()=>(S.itemMap.set(b,{ref:b,..._}),()=>void S.itemMap.delete(b))),u.jsx(f,{[h]:"",ref:w,children:x})});p.displayName=d;function g(v){const m=s(e+"CollectionConsumer",v);return Wr.useCallback(()=>{const x=m.collectionRef.current;if(!x)return[];const _=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(m.itemMap.values()).sort((S,k)=>_.indexOf(S.ref.current)-_.indexOf(k.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:a,Slot:c,ItemSlot:p},g,n]}var GKe=PT[" useInsertionEffect ".trim().toString()]||In;function sde({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,s,a]=qKe({defaultProp:t,onChange:r}),o=e!==void 0,l=o?e:i;{const d=A.useRef(e!==void 0);A.useEffect(()=>{const h=d.current;h!==o&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const c=A.useCallback(d=>{var h;if(o){const f=YKe(d)?d(e):d;f!==e&&((h=a.current)==null||h.call(a,f))}else s(d)},[o,e,s,a]);return[l,c]}function qKe({defaultProp:e,onChange:t}){const[r,n]=A.useState(e),i=A.useRef(r),s=A.useRef(t);return GKe(()=>{s.current=t},[t]),A.useEffect(()=>{var a;i.current!==r&&((a=s.current)==null||a.call(s,r),i.current=r)},[r,i]),[r,n,s]}function YKe(e){return typeof e=="function"}var vI="rovingFocusGroup.onEntryFocus",KKe={bubbles:!1,cancelable:!0},xw="RovingFocusGroup",[BD,ade,ZKe]=WKe(xw),[XKe,ode]=Oa(xw,[ZKe]),[JKe,QKe]=XKe(xw),lde=A.forwardRef((e,t)=>u.jsx(BD.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(BD.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(eZe,{...e,ref:t})})}));lde.displayName=xw;var eZe=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=e,f=A.useRef(null),p=Xt(t,f),g=JN(s),[v,m]=sde({prop:a,defaultProp:o??null,onChange:l,caller:xw}),[y,x]=A.useState(!1),_=di(c),b=ade(r),w=A.useRef(!1),[S,k]=A.useState(0);return A.useEffect(()=>{const C=f.current;if(C)return C.addEventListener(vI,_),()=>C.removeEventListener(vI,_)},[_]),u.jsx(JKe,{scope:r,orientation:n,dir:g,loop:i,currentTabStopId:v,onItemFocus:A.useCallback(C=>m(C),[m]),onItemShiftTab:A.useCallback(()=>x(!0),[]),onFocusableItemAdd:A.useCallback(()=>k(C=>C+1),[]),onFocusableItemRemove:A.useCallback(()=>k(C=>C-1),[]),children:u.jsx(e0.div,{tabIndex:y||S===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:It(e.onMouseDown,()=>{w.current=!0}),onFocus:It(e.onFocus,C=>{const E=!w.current;if(C.target===C.currentTarget&&E&&!y){const T=new CustomEvent(vI,KKe);if(C.currentTarget.dispatchEvent(T),!T.defaultPrevented){const N=b().filter(L=>L.focusable),R=N.find(L=>L.active),P=N.find(L=>L.id===v),$=[R,P,...N].filter(Boolean).map(L=>L.ref.current);dde($,d)}}w.current=!1}),onBlur:It(e.onBlur,()=>x(!1))})})}),cde="RovingFocusGroupItem",ude=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:a,...o}=e,l=Od(),c=s||l,d=QKe(cde,r),h=d.currentTabStopId===c,f=ade(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:v}=d;return A.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),u.jsx(BD.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:u.jsx(e0.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:It(e.onMouseDown,m=>{n?d.onItemFocus(c):m.preventDefault()}),onFocus:It(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:It(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){d.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const y=nZe(m,d.orientation,d.dir);if(y!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let _=f().filter(b=>b.focusable).map(b=>b.ref.current);if(y==="last")_.reverse();else if(y==="prev"||y==="next"){y==="prev"&&_.reverse();const b=_.indexOf(m.currentTarget);_=d.loop?iZe(_,b+1):_.slice(b+1)}setTimeout(()=>dde(_))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:v!=null}):a})})});ude.displayName=cde;var tZe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function rZe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function nZe(e,t,r){const n=rZe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return tZe[n]}function dde(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function iZe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var sZe=lde,aZe=ude;function oZe(e,t){return A.useReducer((r,n)=>t[r][n]??r,e)}var hde=e=>{const{present:t,children:r}=e,n=lZe(t),i=typeof r=="function"?r({present:n.isPresent}):A.Children.only(r),s=Xt(n.ref,cZe(i));return typeof r=="function"||n.isPresent?A.cloneElement(i,{ref:s}):null};hde.displayName="Presence";function lZe(e){const[t,r]=A.useState(),n=A.useRef(null),i=A.useRef(e),s=A.useRef("none"),a=e?"mounted":"unmounted",[o,l]=oZe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const c=KS(n.current);s.current=o==="mounted"?c:"none"},[o]),In(()=>{const c=n.current,d=i.current;if(d!==e){const f=s.current,p=KS(c);e?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),In(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,h=p=>{const v=KS(n.current).includes(p.animationName);if(p.target===t&&v&&(l("ANIMATION_END"),!i.current)){const m=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=m)})}},f=p=>{p.target===t&&(s.current=KS(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:A.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function KS(e){return(e==null?void 0:e.animationName)||"none"}function cZe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var J$="Radio",[uZe,fde]=Oa(J$),[dZe,hZe]=uZe(J$),pde=A.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:s,disabled:a,value:o="on",onCheck:l,form:c,...d}=e,[h,f]=A.useState(null),p=Xt(t,m=>f(m)),g=A.useRef(!1),v=h?c||!!h.closest("form"):!0;return u.jsxs(dZe,{scope:r,checked:i,disabled:a,children:[u.jsx(e0.button,{type:"button",role:"radio","aria-checked":i,"data-state":yde(i),"data-disabled":a?"":void 0,disabled:a,value:o,...d,ref:p,onClick:It(e.onClick,m=>{i||l==null||l(),v&&(g.current=m.isPropagationStopped(),g.current||m.stopPropagation())})}),v&&u.jsx(vde,{control:h,bubbles:!g.current,name:n,value:o,checked:i,required:s,disabled:a,form:c,style:{transform:"translateX(-100%)"}})]})});pde.displayName=J$;var gde="RadioIndicator",mde=A.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...i}=e,s=hZe(gde,r);return u.jsx(hde,{present:n||s.checked,children:u.jsx(e0.span,{"data-state":yde(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t})})});mde.displayName=gde;var fZe="RadioBubbleInput",vde=A.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...i},s)=>{const a=A.useRef(null),o=Xt(a,s),l=S$(r),c=r2(t);return A.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==r&&p){const g=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(g)}},[l,r,n]),u.jsx(e0.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:o,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});vde.displayName=fZe;function yde(e){return e?"checked":"unchecked"}var pZe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_2="RadioGroup",[gZe,Bpt]=Oa(_2,[ode,fde]),xde=ode(),_de=fde(),[mZe,vZe]=gZe(_2),bde=A.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:s,required:a=!1,disabled:o=!1,orientation:l,dir:c,loop:d=!0,onValueChange:h,...f}=e,p=xde(r),g=JN(c),[v,m]=sde({prop:s,defaultProp:i??null,onChange:h,caller:_2});return u.jsx(mZe,{scope:r,name:n,required:a,disabled:o,value:v,onValueChange:m,children:u.jsx(sZe,{asChild:!0,...p,orientation:l,dir:g,loop:d,children:u.jsx(e0.div,{role:"radiogroup","aria-required":a,"aria-orientation":l,"data-disabled":o?"":void 0,dir:g,...f,ref:t})})})});bde.displayName=_2;var wde="RadioGroupItem",Sde=A.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...i}=e,s=vZe(wde,r),a=s.disabled||n,o=xde(r),l=_de(r),c=A.useRef(null),d=Xt(t,c),h=s.value===i.value,f=A.useRef(!1);return A.useEffect(()=>{const p=v=>{pZe.includes(v.key)&&(f.current=!0)},g=()=>f.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),u.jsx(aZe,{asChild:!0,...o,focusable:!a,active:h,children:u.jsx(pde,{disabled:a,required:s.required,checked:h,...l,...i,name:s.name,ref:d,onCheck:()=>s.onValueChange(i.value),onKeyDown:It(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:It(i.onFocus,()=>{var p;f.current&&((p=c.current)==null||p.click())})})})});Sde.displayName=wde;var yZe="RadioGroupIndicator",Cde=A.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,i=_de(r);return u.jsx(mde,{...i,...n,ref:t})});Cde.displayName=yZe;var kde=bde,Ede=Sde,xZe=Cde;const Q$=A.forwardRef(({className:e,...t},r)=>u.jsx(kde,{className:Yt("grid gap-2",e),...t,ref:r}));Q$.displayName=kde.displayName;const ub=A.forwardRef(({className:e,...t},r)=>u.jsx(Ede,{ref:r,className:Yt("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:u.jsx(xZe,{className:"flex items-center justify-center",children:u.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-current"})})}));ub.displayName=Ede.displayName;function FD(){return FD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FD.apply(null,arguments)}function _Ze(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bZe=A.useLayoutEffect,wZe=function(t){var r=Wr.useRef(t);return bZe(function(){r.current=t}),r},qq=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},SZe=function(t,r){var n=Wr.useRef();return Wr.useCallback(function(i){t.current=i,n.current&&qq(n.current,null),n.current=r,r&&qq(r,i)},[r])},Yq={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},CZe=function(t){Object.keys(Yq).forEach(function(r){t.style.setProperty(r,Yq[r],"important")})},Kq=CZe,_s=null,Zq=function(t,r){var n=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?n+r.borderSize:n-r.paddingSize};function kZe(e,t,r,n){r===void 0&&(r=1),n===void 0&&(n=1/0),_s||(_s=document.createElement("textarea"),_s.setAttribute("tabindex","-1"),_s.setAttribute("aria-hidden","true"),Kq(_s)),_s.parentNode===null&&document.body.appendChild(_s);var i=e.paddingSize,s=e.borderSize,a=e.sizingStyle,o=a.boxSizing;Object.keys(a).forEach(function(f){var p=f;_s.style[p]=a[p]}),Kq(_s),_s.value=t;var l=Zq(_s,e);_s.value=t,l=Zq(_s,e),_s.value="x";var c=_s.scrollHeight-i,d=c*r;o==="border-box"&&(d=d+i+s),l=Math.max(d,l);var h=c*n;return o==="border-box"&&(h=h+i+s),l=Math.min(h,l),[l,c]}var Xq=function(){},EZe=function(t,r){return t.reduce(function(n,i){return n[i]=r[i],n},{})},TZe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],NZe=!!document.documentElement.currentStyle,AZe=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var n=EZe(TZe,r),i=n.boxSizing;if(i==="")return null;NZe&&i==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var s=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),a=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:s,borderSize:a}},jZe=AZe;function eB(e,t,r){var n=wZe(r);A.useLayoutEffect(function(){var i=function(a){return n.current(a)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var RZe=function(t,r){eB(document.body,"reset",function(n){t.current.form===n.target&&r(n)})},IZe=function(t){eB(window,"resize",t)},MZe=function(t){eB(document.fonts,"loadingdone",t)},PZe=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],LZe=function(t,r){var n=t.cacheMeasurements,i=t.maxRows,s=t.minRows,a=t.onChange,o=a===void 0?Xq:a,l=t.onHeightChange,c=l===void 0?Xq:l,d=_Ze(t,PZe),h=d.value!==void 0,f=A.useRef(null),p=SZe(f,r),g=A.useRef(0),v=A.useRef(),m=function(){var _=f.current,b=n&&v.current?v.current:jZe(_);if(b){v.current=b;var w=kZe(b,_.value||_.placeholder||"x",s,i),S=w[0],k=w[1];g.current!==S&&(g.current=S,_.style.setProperty("height",S+"px","important"),c(S,{rowHeight:k}))}},y=function(_){h||m(),o(_)};return A.useLayoutEffect(m),RZe(f,function(){if(!h){var x=f.current.value;requestAnimationFrame(function(){var _=f.current;_&&x!==_.value&&m()})}}),IZe(m),MZe(m),A.createElement("textarea",FD({},d,{onChange:y,ref:p}))},Tde=A.forwardRef(LZe);const DZe=[{id:"1",title:"配置OSPF邻居",timestamp:"2023-11-01T10:30:00",active:!0},{id:"2",title:"BGP策略配置",timestamp:"2023-10-25T14:15:00",active:!1},{id:"3",title:"VLAN创建与分配",timestamp:"2023-10-20T09:45:00",active:!1}],Jq=[{id:"1",role:"user",content:"在两台Cisco设备之间配置OSPF，确保邻居关系建立",timestamp:"2023-11-01T10:30:00"},{id:"2",role:"assistant",content:`我将帮你配置两台Cisco设备之间的OSPF邻居关系。请注意以下几点：

1. 确保两台设备之间有物理连接
2. IP地址在同一网段
3. OSPF区域相同
4. 验证命令可以检查邻居状态

请按步骤执行命令。`,timestamp:"2023-11-01T10:30:30"}],ZS=[{id:1,description:"进入设备全局配置模式",command:"configure terminal",isVisible:!1},{id:2,description:"配置OSPF进程",command:"router ospf 1",isVisible:!1},{id:3,description:"配置接口IP地址（假设使用GigabitEthernet0/0）",command:`interface GigabitEthernet0/0
ip address 192.168.1.1 255.255.255.0
no shutdown
exit`,isVisible:!1},{id:4,description:"将接口加入OSPF区域0",command:`router ospf 1
network 192.168.1.0 0.0.0.255 area 0`,isVisible:!1},{id:5,description:"验证OSPF邻居状态",command:"show ip ospf neighbor",isVisible:!1}],Qq=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():"session_"+Date.now()+"_"+Math.random().toString(36).substring(2,15),OZe=()=>{const e=[{id:"1",ip_address:"192.168.1.1",ip:"192.168.1.1",hostname:"ROUTER-CORE-01",vendor:"Cisco",os:"IOS-XE 17.3",role:"Core Router"},{id:"2",ip_address:"192.168.1.2",ip:"192.168.1.2",hostname:"SWITCH-DIST-01",vendor:"Arista",os:"EOS 4.25.0F",role:"Distribution Switch"},{id:"3",ip_address:"192.168.1.3",ip:"192.168.1.3",hostname:"ROUTER-EDGE-01",vendor:"Juniper",os:"JunOS 20.3R1",role:"Edge Router"},{id:"4",ip_address:"192.168.1.4",ip:"192.168.1.4",hostname:"SWITCH-ACCESS-01",vendor:"Cisco",os:"IOS-XE 16.9",role:"Access Switch"},{id:"5",ip_address:"192.168.1.5",ip:"192.168.1.5",hostname:"FIREWALL-01",vendor:"Palo Alto",os:"PAN-OS 10.0",role:"Firewall"}],[t,r]=A.useState(e),[n,i]=A.useState(DZe),[s,a]=A.useState(Jq),[o,l]=A.useState(ZS),[c,d]=A.useState(""),[h,f]=A.useState(null),[p,g]=A.useState(""),[v,m]=A.useState(""),[y,x]=A.useState(!1),[_,b]=A.useState(!1),[w,S]=A.useState(null),[k,C]=A.useState("sparse"),[E,T]=A.useState(!1),[N,R]=A.useState(()=>{const ae=localStorage.getItem("olaola_session_id");if(ae)return ae;const _e=Qq();return localStorage.setItem("olaola_session_id",_e),_e}),[P,D]=A.useState([]),[$,L]=A.useState([]),[O,j]=A.useState({}),[M,I]=A.useState([]),[z,U]=A.useState(!1),[F,G]=A.useState(null),[Y,Z]=A.useState(!1),[B,W]=A.useState(null),[K,X]=A.useState(!1),[Q,re]=A.useState([]),[Se,Te]=A.useState(""),[Ie,Me]=A.useState(""),[Ee,Ae]=A.useState(!0),[Lt,zt]=A.useState([]),ge=A.useRef(null),Ze=A.useRef(null),Oe=async()=>{var ae,_e,Ue;b(!0),console.log("开始获取设备列表...");try{console.log("请求设备列表...");const tr=await Nt.get("/webhook/api/network-devices");if(console.log("API响应数据:",tr.data),tr.data&&tr.data.status==="success")if(console.log("响应状态成功，检查data字段:",tr.data.data),Array.isArray(tr.data.data)){console.log(`找到${tr.data.data.length}个设备`);const $n=tr.data.data.map((ur,En)=>({id:En.toString(),ip_address:ur.ip_address,ip:ur.ip_address,hostname:ur.hostname||`Device-${En}`,vendor:ur.vendor_hw||"Unknown",os:ur.vendor_sw||"Unknown",role:"Network Device",hw_sku:ur.hw_sku,vendor_hw:ur.vendor_hw,vendor_sw:ur.vendor_sw}));r($n),console.log("设备数据已格式化:",$n)}else console.error("API响应的data字段不是数组:",tr.data.data),console.log("使用现有模拟数据");else console.error("API响应状态不是success:",(ae=tr.data)==null?void 0:ae.status),console.log("使用现有模拟数据")}catch(tr){console.error("获取设备失败:",tr);let $n="获取设备数据时出现未知错误";tr.response?(console.error("HTTP错误响应:",tr.response.status,tr.response.data),tr.response.status===500?$n="服务器内部错误，请联系管理员":$n=`服务器错误 (${tr.response.status}): ${((Ue=(_e=tr.response)==null?void 0:_e.data)==null?void 0:Ue.reason)||tr.message}`):tr.request?(console.error("未收到响应:",tr.request),$n="服务器未响应，请检查网络连接"):(console.error("请求配置错误:",tr.message),$n=`请求错误: ${tr.message}`),console.error("错误信息:",$n)}finally{b(!1)}};A.useEffect(()=>{Oe()},[]),A.useEffect(()=>{J()},[]),A.useEffect(()=>{ge.current&&(ge.current.scrollIntoView({block:"end"}),setTimeout(()=>{ge.current&&ge.current.scrollIntoView({block:"end"})},100))},[s]),A.useEffect(()=>{Ze.current&&o.some(ae=>ae.isVisible)&&Ze.current.scrollIntoView({behavior:"smooth"})},[o]);const Wt=()=>{const ae={id:`session-${Date.now()}`,title:"新会话",timestamp:new Date().toISOString(),active:!0};i(Ue=>[...Ue.map(tr=>({...tr,active:!1})),ae]),m(""),a([]),l(ZS.map(Ue=>({...Ue,isVisible:!1}))),d(""),D([]),L([]),j({}),U(!1),G(null),Z(!1),W(null),X(!1),re([]),Te(""),Me(""),Ae(!1),zt([]);const _e=Qq();localStorage.setItem("olaola_session_id",_e),R(_e)},ct=ae=>{i(_e=>_e.map(Ue=>({...Ue,active:Ue.id===ae}))),ae==="1"?(a(Jq),l(ZS.map((_e,Ue)=>({..._e,isVisible:Ue<3})))):(a([]),l(ZS.map(_e=>({..._e,isVisible:!1})))),d(""),D([]),L([]),j({}),U(!1),G(null),Z(!1)},te=async ae=>{if(h)try{const _e={sessionId:N,action:"sendMessage",chatInput:ae,device:{ip:h.ip_address||h.ip,vendor:h.vendor_hw||h.vendor,os:h.vendor_sw||h.os,hostname:h.hostname},intent:ae,mode:k==="strict"?"严格":"宽松"};console.log("发送请求到OlaOla Orchestrator, 完整请求体:",JSON.stringify(_e,null,2));const Ue=await Nt.post("/webhook/olaola/orchestrator",_e,{headers:{"Content-Type":"application/json"}});if(console.log("API响应:",Ue.data),x(!1),Ue.data){let tr=[],$n="",ur=[],En=[],vs={},pa=null,Ki=!1;if(Ue.data[0]){const rr=Ue.data[0];if(G(rr),rr.next_step||rr.possible_intents||rr.warning?(console.log("检测到交互式问答模式"),Ki=!0,pa={next_step:rr.next_step,possible_intents:rr.possible_intents,warning:rr.warning,response:rr.response},W(pa),X(!0),rr.possible_intents&&re(rr.possible_intents),rr.warning&&Te(rr.warning)):(X(!1),W(null),re([]),Te("")),rr.intent&&(console.log("处理API返回的意图:",rr.intent),$n=rr.intent,d($n)),rr.additional_checks&&Array.isArray(rr.additional_checks)&&(console.log("处理API返回的附加检查项:",rr.additional_checks),ur=rr.additional_checks.map(sn=>({description:sn})),D(ur)),rr.success_criteria&&Array.isArray(rr.success_criteria)&&(console.log("处理API返回的成功标准:",rr.success_criteria),En=rr.success_criteria.map(sn=>({description:sn})),L(En)),rr.troubleshooting&&(console.log("处理API返回的故障排除信息:",rr.troubleshooting),vs={no_neighbor:rr.troubleshooting.no_neighbor,no_routes:rr.troubleshooting.no_routes},j(vs)),rr.steps&&Array.isArray(rr.steps)&&(console.log("处理API返回的步骤:",rr.steps),tr=rr.steps.map((sn,$a)=>({id:sn.step||$a+1,description:sn.description||`步骤 ${$a+1}`,command:sn.cli||"",isVisible:!0})),l(tr)),!Ki&&$n){const sn={id:`config-${Date.now()}`,intent:$n,steps:tr,additional_checks:ur,success_criteria:En,troubleshooting:vs,rawData:rr};oe(sn),I($a=>[...$a,sn])}}return{response:Ki?(pa==null?void 0:pa.response)||"请提供更多信息":`我将帮你解决"${ae}"。

以下是针对${h.hostname} (${h.ip_address||h.ip})的配置步骤。${p?`

与目标设备 ${p} 的交互配置已包含。`:""}

请按顺序执行以下命令:`,steps:tr,intent:$n,additional_checks:ur,success_criteria:En,troubleshooting:vs,isInteractive:Ki,question:pa,rawData:Ue.data[0]}}return null}catch(_e){return console.error("API请求失败:",_e),null}},oe=ae=>{try{const _e=localStorage.getItem("olaola_saved_configs");let Ue=[];_e&&(Ue=JSON.parse(_e)),Ue.push(ae),Ue.length>20&&(Ue=Ue.slice(-20)),localStorage.setItem("olaola_saved_configs",JSON.stringify(Ue)),console.log("配置已保存到本地存储:",ae.intent)}catch(_e){console.error("保存配置到localStorage失败:",_e)}},J=()=>{try{const ae=localStorage.getItem("olaola_saved_configs");if(ae){const _e=JSON.parse(ae);I(_e),console.log("从本地存储加载了",_e.length,"个配置")}}catch(ae){console.error("从localStorage加载配置失败:",ae)}},ne=(ae,_e)=>{if(!ae||!_e)return"";let Ue="";return ae.toLowerCase().includes("ospf")?Ue=`OSPF配置(${_e.hostname||_e.ip_address})`:ae.toLowerCase().includes("bgp")?Ue=`BGP配置(${_e.hostname||_e.ip_address})`:ae.toLowerCase().includes("route")?Ue=`路由配置(${_e.hostname||_e.ip_address})`:ae.toLowerCase().includes("interface")?Ue=`接口配置(${_e.hostname||_e.ip_address})`:Ue=`网络配置(${_e.hostname||_e.ip_address})`,Ue},de=(ae,_e)=>{const Ue=[];return ae.toLowerCase().includes("ospf")?_e?(Ue.push("验证OSPF邻居状态"),Ue.push("检查OSPF数据库"),Ue.push("排查OSPF邻居未建立的原因")):(Ue.push("如何配置OSPF认证?"),Ue.push("OSPF区域类型有哪些区别?")):ae.toLowerCase().includes("bgp")?_e?(Ue.push("验证BGP邻居状态"),Ue.push("检查BGP路由"),Ue.push("如何应用BGP路由策略?")):(Ue.push("BGP如何实现负载均衡?"),Ue.push("如何配置BGP社区属性?")):_e&&(Ue.push("如何验证配置是否生效?"),Ue.push("保存配置到启动配置"),Ue.push("有什么常见故障排除方法?")),Ue},$e=async ae=>{var tr,$n;if(!h||!ae.trim())return;x(!0);const _e=new Date().toISOString();let Ue=Ie;!Ue&&h&&(Ue=ne(ae,h),Me(Ue)),a(ur=>[...ur,{id:`msg-${Date.now()}`,role:"user",content:ae,timestamp:_e,context:Ue,relatedToTask:!0}]),m("");try{const ur=await te(ae);let En="",vs=!1;if(ur){ur.isInteractive?En=((tr=ur.question)==null?void 0:tr.response)||(($n=ur.question)==null?void 0:$n.next_step)||"请提供更多信息，以便我为您提供更准确的解决方案":(En=ur.response||`我将帮你解决"${ae}"。

以下是针对${h.hostname} (${h.ip_address||h.ip})的配置步骤。${p?`

与目标设备 ${p} 的交互配置已包含。`:""}

请按顺序执行以下命令:`,vs=ur.steps&&ur.steps.length>0);const Ki=de(ur.intent||ae,vs);if(zt(Ki),ur.intent&&h){const rr=ne(ur.intent,h);rr&&Me(rr)}}else En=`我将帮你解决"${ae}"。

以下是针对${h.hostname} (${h.ip_address||h.ip})的配置步骤。${p?`

与目标设备 ${p} 的交互配置已包含。`:""}

请按顺序执行以下命令:`,setTimeout(()=>{const Ki=ze(h,ae,p);Ki.forEach((rr,sn)=>{setTimeout(()=>{if(l($a=>[...$a,rr]),sn===Ki.length-1){x(!1);const $a=de(ae,!0);zt($a)}},300+sn*500)})},800);const pa={id:`msg-${Date.now()+1}`,role:"assistant",content:En,timestamp:new Date().toISOString(),context:Ue,relatedToTask:!0,suggestions:ur?de(ur.intent||ae,vs):[]};a(Ki=>[...Ki,pa]),Ae(!0),setTimeout(()=>{ge.current&&ge.current.scrollIntoView({block:"end"})},100)}catch(ur){console.error("处理请求时出错:",ur),x(!1);const En={id:`msg-${Date.now()+2}`,role:"assistant",content:"抱歉，处理您的请求时出现错误。请稍后再试。",timestamp:new Date().toISOString(),context:Ue,relatedToTask:!0};a(vs=>[...vs,En])}},ze=(ae,_e,Ue)=>_e.toLowerCase().includes("ospf")?[{id:1,description:"进入配置模式",command:"configure terminal",isVisible:!0},{id:2,description:"配置OSPF进程",command:"router ospf 1",isVisible:!0},{id:3,description:"配置路由器ID",command:`router-id ${ae.ip_address||ae.ip}`,isVisible:!0},{id:4,description:"宣告网络",command:`network ${ae.ip_address||ae.ip} 0.0.0.0 area 0`,isVisible:!0},{id:5,description:"配置接口",command:"interface GigabitEthernet0/0",isVisible:!0},{id:6,description:"启用OSPF认证",command:"ip ospf authentication message-digest",isVisible:!0},{id:7,description:"配置OSPF密钥",command:"ip ospf message-digest-key 1 md5 OlaOla@2024",isVisible:!0}]:_e.toLowerCase().includes("bgp")?[{id:1,description:"进入配置模式",command:"configure terminal",isVisible:!0},{id:2,description:"配置BGP进程",command:"router bgp 65001",isVisible:!0},{id:3,description:"配置路由器ID",command:`bgp router-id ${ae.ip_address||ae.ip}`,isVisible:!0},{id:4,description:"配置邻居关系",command:`neighbor ${Ue||"192.168.1.254"} remote-as 65002`,isVisible:!0},{id:5,description:"配置更新源",command:`neighbor ${Ue||"192.168.1.254"} update-source loopback0`,isVisible:!0},{id:6,description:"激活IPv4单播地址族",command:"address-family ipv4 unicast",isVisible:!0},{id:7,description:"激活邻居",command:`neighbor ${Ue||"192.168.1.254"} activate`,isVisible:!0}]:[{id:1,description:"进入配置模式",command:"configure terminal",isVisible:!0},{id:2,description:"配置接口",command:"interface GigabitEthernet0/0",isVisible:!0},{id:3,description:"配置IP地址",command:`ip address ${ae.ip_address||ae.ip} 255.255.255.0`,isVisible:!0},{id:4,description:"启用接口",command:"no shutdown",isVisible:!0},{id:5,description:"配置描述信息",command:`description Connected to ${Ue||"Network"}`,isVisible:!0},{id:6,description:"保存配置",command:`end
write memory`,isVisible:!0}],ke=(ae,_e)=>{navigator.clipboard.writeText(ae),S(_e),setTimeout(()=>S(null),2e3)},Et=ae=>{E||ae.key==="Enter"&&!ae.shiftKey&&(ae.preventDefault(),$e(v))},wt=ae=>{m(ae.target.value)},sr=ae=>{ae&&(d(ae.intent),l(ae.steps),D(ae.additional_checks),L(ae.success_criteria),j(ae.troubleshooting),U(!0),ae.rawData&&G(ae.rawData),Ze.current&&Ze.current.scrollIntoView({behavior:"smooth",block:"start"}))},St=()=>{U(ae=>!ae)},Dt=()=>{Z(ae=>!ae)},Jr=()=>{W(null),X(!1),re([]),Te("")},Ti=ae=>{m(ae);const _e=document.querySelector("textarea");_e&&_e.focus()},Xe=ae=>{m(ae);const _e=document.querySelector("textarea");_e&&_e.focus()};return u.jsx(od,{children:u.jsxs("div",{className:"flex h-full overflow-hidden bg-white",children:[u.jsxs("div",{className:"w-64 flex-shrink-0 bg-gray-50 border-r border-gray-200 flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b border-gray-200",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[u.jsx(js,{className:"mr-2 h-5 w-5 text-blue-500"}),"OlaOla Copilot"]})}),u.jsxs(Re,{onClick:Wt,className:"w-full flex items-center justify-center",children:[u.jsx(QJ,{className:"h-4 w-4 mr-2"}),"新对话"]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-2",children:[n.length>0&&u.jsxs("div",{className:"mb-3",children:[u.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase pl-3 mb-1",children:"对话历史"}),n.map(ae=>u.jsx("div",{className:`p-3 mb-2 rounded-lg cursor-pointer transition-colors ${ae.active?"bg-blue-100 text-blue-900 border border-blue-200":"hover:bg-gray-100 text-gray-800"}`,onClick:()=>ct(ae.id),children:u.jsxs("div",{className:"flex items-start",children:[u.jsx(js,{className:"h-4 w-4 mt-1 mr-2 flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-medium truncate",children:ae.title}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(ae.timestamp).toLocaleDateString()})]})]})},ae.id))]}),M.length>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase pl-3 mb-1 mt-3",children:"保存的配置"}),M.map(ae=>u.jsx("div",{className:"p-3 mb-2 rounded-lg cursor-pointer transition-colors hover:bg-green-50 text-gray-800 border border-gray-100",onClick:()=>sr(ae),children:u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"h-4 w-4 mt-1 mr-2 flex-shrink-0 text-green-500",children:"💾"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-medium truncate",children:ae.intent}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[ae.steps.length,"个步骤 • ",new Date(parseInt(ae.id.split("-")[1])).toLocaleDateString()]})]})]})},ae.id))]})]})]}),u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"p-4 border-b border-gray-200 bg-white shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"选择设备"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(en,{onValueChange:ae=>{const _e=t.find(Ue=>Ue.id===ae||Ue.ip_address===ae);_e&&f(_e)},children:[u.jsx(Kr,{className:"w-full",children:u.jsx(tn,{placeholder:"选择网络设备"})}),u.jsx(Zr,{children:t.length>0?t.map((ae,_e)=>u.jsxs(Fe,{value:ae.id||ae.ip_address,children:[ae.hostname||"Unknown"," (",ae.ip_address||ae.ip,")"]},ae.id||ae.ip_address||_e)):u.jsx("div",{className:"p-2 text-center text-gray-500",children:"没有找到设备。请刷新设备列表。"})})]}),u.jsx(Re,{variant:"outline",size:"icon",onClick:Oe,disabled:_,children:_?u.jsx($t,{className:"h-4 w-4 animate-spin"}):u.jsx(io,{className:"h-4 w-4"})})]})]}),t.length===0&&!_&&u.jsx("p",{className:"mt-1 text-xs text-orange-500",children:"未能获取设备列表。已加载模拟数据，或尝试刷新。"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"对端设备 IP（可选）"}),u.jsx(er,{value:p,onChange:ae=>g(ae.target.value),placeholder:"输入对端设备 IP"})]})]}),h&&u.jsx("div",{className:"p-3 bg-blue-50 rounded-md",children:u.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-sm",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-medium text-gray-600 mr-1",children:"主机名:"}),u.jsx("span",{className:"text-blue-700",children:h.hostname})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-medium text-gray-600 mr-1",children:"IP:"}),u.jsx("span",{className:"text-blue-700",children:h.ip_address||h.ip})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-medium text-gray-600 mr-1",children:"厂商:"}),u.jsx("span",{className:"text-blue-700",children:h.vendor_hw||h.vendor})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-medium text-gray-600 mr-1",children:"硬件型号:"}),u.jsx("span",{className:"text-blue-700",children:h.hw_sku||"未知"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-medium text-gray-600 mr-1",children:"系统:"}),u.jsx("span",{className:"text-blue-700",children:h.vendor_sw||h.os})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-medium text-gray-600 mr-1",children:"角色:"}),u.jsx(Ce,{variant:"outline",className:"bg-white",children:h.role})]})]})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50",children:[u.jsxs("div",{className:"space-y-4",children:[K&&B&&u.jsxs("div",{className:"mb-4 animate-fadeIn",children:[B.next_step&&u.jsx(Ve,{className:"mb-3 border-l-4 border-l-blue-500",children:u.jsxs(Ge,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center mb-2",children:[u.jsx(Ce,{variant:"outline",className:"bg-blue-100 text-blue-800 mr-2",children:"后端询问"}),u.jsx("h3",{className:"font-medium text-gray-800",children:"请提供更多信息"})]}),u.jsx("p",{className:"text-gray-700 mb-3 whitespace-pre-line",children:B.next_step}),B.response&&u.jsx("div",{className:"bg-blue-50 p-3 rounded-md mt-2",children:u.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:B.response})})]})}),Q&&Q.length>0&&u.jsx(Ve,{className:"mb-3 border-l-4 border-l-green-500",children:u.jsxs(Ge,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center mb-3",children:[u.jsx(Ce,{variant:"outline",className:"bg-green-100 text-green-800 mr-2",children:"可选意图"}),u.jsx("h3",{className:"font-medium text-gray-800",children:"请选择您要执行的操作"})]}),u.jsx("div",{className:"grid grid-cols-1 gap-2",children:Q.map((ae,_e)=>u.jsxs(Re,{variant:"outline",className:"justify-start bg-white hover:bg-green-50 border-green-200",onClick:()=>Ti(typeof ae=="string"?ae:JSON.stringify(ae)),children:[u.jsxs("span",{className:"text-green-600 mr-2",children:[_e+1,"."]}),u.jsx("span",{className:"text-gray-800 text-left",children:typeof ae=="string"?ae:JSON.stringify(ae)})]},_e))})]})}),Se&&u.jsx(Ve,{className:"mb-3 border-l-4 border-l-yellow-500",children:u.jsxs(Ge,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center mb-2",children:[u.jsx(Ce,{variant:"outline",className:"bg-yellow-100 text-yellow-800 mr-2",children:"注意"}),u.jsx("h3",{className:"font-medium text-gray-800",children:"系统提示"})]}),u.jsx("p",{className:"text-yellow-700",children:Se})]})}),u.jsx("div",{className:"flex justify-end mt-2",children:u.jsx(Re,{variant:"outline",size:"sm",onClick:Jr,className:"text-xs",children:"清除交互提示"})})]}),o.filter(ae=>ae.isVisible).length>0&&!K&&u.jsxs("div",{className:"mb-4",children:[u.jsx(Ve,{children:u.jsx(Ge,{className:"p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ce,{variant:"outline",className:"bg-blue-100 text-blue-800 mr-2",children:"意图"}),u.jsx("h3",{className:"font-medium text-gray-800",children:c||(o.length>0&&o.filter(ae=>ae.isVisible)[0].description.includes("进入")?"配置命令":o.filter(ae=>ae.isVisible)[0].description)})]}),u.jsxs("div",{className:"flex gap-2",children:[F&&u.jsx(Re,{variant:"outline",size:"sm",onClick:Dt,className:"text-xs",children:Y?"隐藏原始数据":"显示原始数据"}),u.jsx(Re,{variant:"outline",size:"sm",onClick:St,className:"text-xs",children:z?"隐藏详情":"显示详情"})]})]})})}),Y&&F&&u.jsx("div",{className:"mt-2 animate-fadeIn",children:u.jsx(Ve,{className:"border-l-4 border-l-purple-400",children:u.jsxs(Ge,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h4",{className:"font-medium text-gray-800",children:"API原始响应数据"}),u.jsx(Ce,{variant:"outline",className:"bg-purple-100 text-purple-800",children:"开发参考"})]}),u.jsx("div",{className:"bg-gray-800 text-gray-100 p-4 rounded-md overflow-auto max-h-96",children:u.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap break-words",children:JSON.stringify(F,null,2)})})]})})}),z&&!K&&u.jsxs("div",{className:"mt-2 animate-fadeIn",children:[P.length>0&&u.jsx(Ve,{className:"mb-3 border-l-4 border-l-yellow-400",children:u.jsxs(Ge,{className:"p-4",children:[u.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"附加检查项"}),u.jsx("ul",{className:"space-y-2",children:P.map((ae,_e)=>u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"text-yellow-500 mr-2",children:"•"}),u.jsx("span",{className:"text-sm text-gray-700",children:ae.description})]},_e))})]})}),$.length>0&&u.jsx(Ve,{className:"mb-3 border-l-4 border-l-green-400",children:u.jsxs(Ge,{className:"p-4",children:[u.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"成功标准"}),u.jsx("ul",{className:"space-y-2",children:$.map((ae,_e)=>u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),u.jsx("span",{className:"text-sm text-gray-700",children:ae.description})]},_e))})]})}),(O.no_neighbor||O.no_routes)&&u.jsx(Ve,{className:"mb-3 border-l-4 border-l-red-400",children:u.jsxs(Ge,{className:"p-4",children:[u.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"故障排除"}),O.no_neighbor&&u.jsxs("div",{className:"mb-3",children:[u.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-1",children:"邻居关系未建立:"}),u.jsx("p",{className:"text-sm text-gray-600 pl-4",children:O.no_neighbor})]}),O.no_routes&&u.jsxs("div",{children:[u.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-1",children:"路由未生成:"}),u.jsx("p",{className:"text-sm text-gray-600 pl-4",children:O.no_routes})]})]})}),F&&u.jsx(u.Fragment,{children:Object.entries(F).map(([ae,_e])=>["intent","steps","additional_checks","success_criteria","troubleshooting","next_step","possible_intents","warning","response"].includes(ae)||Array.isArray(_e)&&_e.length===0||_e==null||typeof _e=="object"&&Object.keys(_e).length===0?null:u.jsx(Ve,{className:"mb-3 border-l-4 border-l-blue-400",children:u.jsxs(Ge,{className:"p-4",children:[u.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:ae.charAt(0).toUpperCase()+ae.slice(1).replace(/_/g," ")}),u.jsx("div",{className:"pl-4",children:typeof _e=="string"?u.jsx("p",{className:"text-sm text-gray-700",children:_e}):Array.isArray(_e)?u.jsx("ul",{className:"space-y-2",children:_e.map((Ue,tr)=>u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"text-blue-500 mr-2",children:"•"}),u.jsx("span",{className:"text-sm text-gray-700",children:typeof Ue=="object"?JSON.stringify(Ue):String(Ue)})]},tr))}):typeof _e=="object"?u.jsx("pre",{className:"text-xs font-mono bg-gray-100 p-2 rounded-md overflow-auto max-h-32 whitespace-pre-wrap break-words",children:JSON.stringify(_e,null,2)}):u.jsx("p",{className:"text-sm text-gray-700",children:String(_e)})})]})},ae))})]})]}),o.filter(ae=>ae.isVisible).map(ae=>u.jsx("div",{className:"animate-fadeIn",children:u.jsx(Ve,{children:u.jsxs(Ge,{className:"p-4",children:[u.jsx("div",{className:"flex items-center justify-between mb-2",children:u.jsxs("div",{className:"flex items-center",children:[u.jsxs(Ce,{variant:"outline",className:"bg-blue-50 mr-2",children:["步骤 ",ae.id]}),u.jsx("h3",{className:"font-medium text-gray-800",children:ae.description})]})}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx("pre",{className:"bg-gray-100 p-3 rounded-md font-mono text-sm overflow-x-auto whitespace-pre-wrap",children:ae.command}),u.jsx("div",{className:"absolute top-2 right-2",children:u.jsxs(zo,{children:[u.jsx(Uo,{asChild:!0,children:u.jsx(Re,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>ke(ae.command,ae.id),children:w===ae.id?u.jsx(JT,{className:"h-4 w-4 text-green-500"}):u.jsx(Rye,{className:"h-4 w-4"})})}),u.jsx(oo,{children:w===ae.id?"已复制!":"复制到剪贴板"})]})})]})]})})},ae.id)),u.jsx("div",{ref:Ze})]}),o.every(ae=>!ae.isVisible)&&!y&&u.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[u.jsx(kye,{className:"h-12 w-12 mb-4 text-gray-300"}),u.jsx("p",{className:"mb-2 text-lg font-medium",children:"尚未生成命令步骤"}),u.jsx("p",{className:"text-sm text-center max-w-md",children:"选择设备并在右侧输入你的意图以生成配置命令步骤"})]}),y&&u.jsx("div",{className:"flex justify-center py-8",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx($t,{className:"h-8 w-8 animate-spin text-blue-500 mb-2"}),u.jsx("p",{className:"text-gray-500",children:"正在等待设备响应，请稍候..."})]})})]})]}),u.jsxs("div",{className:"w-96 flex-shrink-0 bg-white border-l border-gray-200 flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"对话内容"}),Ie&&u.jsx("div",{className:"flex items-center mt-1",children:u.jsx(Ce,{variant:"outline",className:"bg-blue-50 text-blue-700",children:Ie})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col",children:s.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[u.jsx(js,{className:"h-12 w-12 mb-4 text-gray-300"}),u.jsx("p",{className:"text-center",children:"没有对话记录。选择设备并输入你想要完成的任务开始对话。"})]}):u.jsxs("div",{className:"space-y-4 flex-1",children:[s.map((ae,_e)=>u.jsxs("div",{className:`${ae.role==="user"?"bg-blue-100 border-blue-200":"bg-gray-100 border-gray-200"} p-3 rounded-lg border animate-fadeIn`,children:[u.jsxs("div",{className:"flex items-center mb-2",children:[u.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center mr-2 ${ae.role==="user"?"bg-blue-500":"bg-gray-600"}`,children:ae.role==="user"?u.jsx("span",{className:"text-xs text-white",children:"我"}):u.jsx(js,{className:"w-3 h-3 text-white"})}),u.jsx("p",{className:"text-xs text-gray-500",children:new Date(ae.timestamp).toLocaleTimeString()}),ae.context&&u.jsx(Ce,{variant:"outline",className:"ml-2 text-xs bg-blue-50 text-blue-600",children:ae.context})]}),u.jsx("div",{className:"whitespace-pre-line text-sm",children:ae.content}),ae.role==="assistant"&&ae.suggestions&&ae.suggestions.length>0&&u.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-200",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"你可能想问："}),u.jsx("div",{className:"flex flex-wrap gap-2",children:ae.suggestions.map((Ue,tr)=>u.jsx(Ce,{variant:"outline",className:"bg-white hover:bg-blue-50 cursor-pointer py-1 px-2",onClick:()=>Xe(Ue),children:Ue},tr))})]}),ae.role==="assistant"&&_e===s.length-1&&Ee&&u.jsx("div",{className:"mt-2 text-xs text-gray-500 italic",children:u.jsx("p",{children:"您可以继续提问更多细节或尝试其他命令..."})})]},ae.id)),u.jsx("div",{ref:ge,className:"h-1"})]})}),Lt.length>0&&u.jsxs("div",{className:"px-4 py-2 border-t border-gray-200 bg-gray-50",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"建议的后续问题："}),u.jsx("div",{className:"flex flex-wrap gap-2",children:Lt.map((ae,_e)=>u.jsx(Re,{variant:"outline",size:"sm",className:"text-xs bg-white",onClick:()=>Xe(ae),children:ae},_e))})]}),u.jsxs("div",{className:"p-4 border-t border-gray-200",children:[u.jsxs("div",{className:"mb-3",children:[u.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1 block",children:"Mode 选择"}),u.jsxs(Q$,{defaultValue:"sparse",value:k,onValueChange:ae=>C(ae),className:"flex space-x-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ub,{value:"strict",id:"strict"}),u.jsx("label",{htmlFor:"strict",className:"text-sm cursor-pointer",children:"严格匹配"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ub,{value:"sparse",id:"sparse"}),u.jsx("label",{htmlFor:"sparse",className:"text-sm cursor-pointer",children:"宽松泛化"})]})]})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"relative rounded-md shadow-sm",children:[u.jsx(Tde,{value:v,onChange:wt,onKeyDown:Et,onCompositionStart:()=>T(!0),onCompositionEnd:()=>T(!1),placeholder:"描述你想要完成的网络任务...(Shift+Enter换行)",className:"w-full py-2 px-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none overflow-hidden min-h-[40px] text-sm",minRows:1,maxRows:8,disabled:y||!h,style:{paddingRight:"2.5rem"}}),u.jsx("button",{className:`absolute right-2 bottom-2 text-gray-400 hover:text-gray-600 bg-transparent p-1 rounded hover:bg-gray-100 ${!v.trim()||y||!h?"opacity-50 cursor-not-allowed":""}`,onClick:()=>$e(v),disabled:!v.trim()||y||!h,title:"发送 (Enter)",children:y?u.jsx($t,{className:"h-5 w-5 animate-spin"}):u.jsx(tQ,{className:"h-5 w-5"})})]}),!h&&u.jsx("p",{className:"text-sm text-red-500 mt-2",children:"请先选择设备以继续"}),u.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex items-center justify-between",children:[u.jsx("span",{children:"Enter 发送，Shift+Enter 换行"}),u.jsxs("span",{className:`${v.length>0?"visible":"invisible"} mr-3`,children:[v.length," 字符"]})]})]})]})]})]})})};function $Ze(e){const t=BZe(e),r=A.forwardRef((n,i)=>{const{children:s,...a}=n,o=A.Children.toArray(s),l=o.find(zZe);if(l){const c=l.props.children,d=o.map(h=>h===l?A.Children.count(c)>1?A.Children.only(null):A.isValidElement(c)?c.props.children:null:h);return u.jsx(t,{...a,ref:i,children:A.isValidElement(c)?A.cloneElement(c,void 0,d):null})}return u.jsx(t,{...a,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function BZe(e){const t=A.forwardRef((r,n)=>{const{children:i,...s}=r,a=A.isValidElement(i)?HZe(i):void 0,o=Xt(a,n);if(A.isValidElement(i)){const l=UZe(s,i.props);return i.type!==A.Fragment&&(l.ref=o),A.cloneElement(i,l)}return A.Children.count(i)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var FZe=Symbol("radix.slottable");function zZe(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===FZe}function UZe(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function HZe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var VZe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_w=VZe.reduce((e,t)=>{const r=$Ze(`Primitive.${t}`),n=A.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function WZe(e,t){return A.useReducer((r,n)=>t[r][n]??r,e)}var bw=e=>{const{present:t,children:r}=e,n=GZe(t),i=typeof r=="function"?r({present:n.isPresent}):A.Children.only(r),s=Xt(n.ref,qZe(i));return typeof r=="function"||n.isPresent?A.cloneElement(i,{ref:s}):null};bw.displayName="Presence";function GZe(e){const[t,r]=A.useState(),n=A.useRef(null),i=A.useRef(e),s=A.useRef("none"),a=e?"mounted":"unmounted",[o,l]=WZe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const c=XS(n.current);s.current=o==="mounted"?c:"none"},[o]),In(()=>{const c=n.current,d=i.current;if(d!==e){const f=s.current,p=XS(c);e?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),In(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,h=p=>{const v=XS(n.current).includes(p.animationName);if(p.target===t&&v&&(l("ANIMATION_END"),!i.current)){const m=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=m)})}},f=p=>{p.target===t&&(s.current=XS(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:A.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function XS(e){return(e==null?void 0:e.animationName)||"none"}function qZe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function YZe(e,t){return A.useReducer((r,n)=>t[r][n]??r,e)}var tB="ScrollArea",[Nde,Fpt]=Oa(tB),[KZe,Co]=Nde(tB),Ade=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:s=600,...a}=e,[o,l]=A.useState(null),[c,d]=A.useState(null),[h,f]=A.useState(null),[p,g]=A.useState(null),[v,m]=A.useState(null),[y,x]=A.useState(0),[_,b]=A.useState(0),[w,S]=A.useState(!1),[k,C]=A.useState(!1),E=Xt(t,N=>l(N)),T=JN(i);return u.jsx(KZe,{scope:r,type:n,dir:T,scrollHideDelay:s,scrollArea:o,viewport:c,onViewportChange:d,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:w,onScrollbarXEnabledChange:S,scrollbarY:v,onScrollbarYChange:m,scrollbarYEnabled:k,onScrollbarYEnabledChange:C,onCornerWidthChange:x,onCornerHeightChange:b,children:u.jsx(_w.div,{dir:T,...a,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});Ade.displayName=tB;var jde="ScrollAreaViewport",Rde=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:i,...s}=e,a=Co(jde,r),o=A.useRef(null),l=Xt(t,o,a.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),u.jsx(_w.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:u.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Rde.displayName=jde;var vc="ScrollAreaScrollbar",rB=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Co(vc,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,o=e.orientation==="horizontal";return A.useEffect(()=>(o?s(!0):a(!0),()=>{o?s(!1):a(!1)}),[o,s,a]),i.type==="hover"?u.jsx(ZZe,{...n,ref:t,forceMount:r}):i.type==="scroll"?u.jsx(XZe,{...n,ref:t,forceMount:r}):i.type==="auto"?u.jsx(Ide,{...n,ref:t,forceMount:r}):i.type==="always"?u.jsx(nB,{...n,ref:t}):null});rB.displayName=vc;var ZZe=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Co(vc,e.__scopeScrollArea),[s,a]=A.useState(!1);return A.useEffect(()=>{const o=i.scrollArea;let l=0;if(o){const c=()=>{window.clearTimeout(l),a(!0)},d=()=>{l=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(bw,{present:r||s,children:u.jsx(Ide,{"data-state":s?"visible":"hidden",...n,ref:t})})}),XZe=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Co(vc,e.__scopeScrollArea),s=e.orientation==="horizontal",a=w2(()=>l("SCROLL_END"),100),[o,l]=YZe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return A.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,i.scrollHideDelay,l]),A.useEffect(()=>{const c=i.viewport,d=s?"scrollLeft":"scrollTop";if(c){let h=c[d];const f=()=>{const p=c[d];h!==p&&(l("SCROLL"),a()),h=p};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[i.viewport,s,l,a]),u.jsx(bw,{present:r||o!=="hidden",children:u.jsx(nB,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:It(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:It(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),Ide=A.forwardRef((e,t)=>{const r=Co(vc,e.__scopeScrollArea),{forceMount:n,...i}=e,[s,a]=A.useState(!1),o=e.orientation==="horizontal",l=w2(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;a(o?c:d)}},10);return uv(r.viewport,l),uv(r.content,l),u.jsx(bw,{present:n||s,children:u.jsx(nB,{"data-state":s?"visible":"hidden",...i,ref:t})})}),nB=A.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,i=Co(vc,e.__scopeScrollArea),s=A.useRef(null),a=A.useRef(0),[o,l]=A.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=Ode(o.viewport,o.content),d={...n,sizes:o,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:f=>s.current=f,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:f=>a.current=f};function h(f,p){return nXe(f,a.current,o,p)}return r==="horizontal"?u.jsx(JZe,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const f=i.viewport.scrollLeft,p=eY(f,o,i.dir);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=h(f,i.dir))}}):r==="vertical"?u.jsx(QZe,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const f=i.viewport.scrollTop,p=eY(f,o);s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=h(f))}}):null}),JZe=A.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,s=Co(vc,e.__scopeScrollArea),[a,o]=A.useState(),l=A.useRef(null),c=Xt(t,l,s.onScrollbarXChange);return A.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),u.jsx(Pde,{"data-orientation":"horizontal",...i,ref:c,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":b2(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(s.viewport){const f=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),Bde(f,h)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:lT(a.paddingLeft),paddingEnd:lT(a.paddingRight)}})}})}),QZe=A.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,s=Co(vc,e.__scopeScrollArea),[a,o]=A.useState(),l=A.useRef(null),c=Xt(t,l,s.onScrollbarYChange);return A.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),u.jsx(Pde,{"data-orientation":"vertical",...i,ref:c,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":b2(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(s.viewport){const f=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),Bde(f,h)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:lT(a.paddingTop),paddingEnd:lT(a.paddingBottom)}})}})}),[eXe,Mde]=Nde(vc),Pde=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:h,...f}=e,p=Co(vc,r),[g,v]=A.useState(null),m=Xt(t,E=>v(E)),y=A.useRef(null),x=A.useRef(""),_=p.viewport,b=n.content-n.viewport,w=di(d),S=di(l),k=w2(h,10);function C(E){if(y.current){const T=E.clientX-y.current.left,N=E.clientY-y.current.top;c({x:T,y:N})}}return A.useEffect(()=>{const E=T=>{const N=T.target;(g==null?void 0:g.contains(N))&&w(T,b)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[_,g,b,w]),A.useEffect(S,[n,S]),uv(g,k),uv(p.content,k),u.jsx(eXe,{scope:r,scrollbar:g,hasThumb:i,onThumbChange:di(s),onThumbPointerUp:di(a),onThumbPositionChange:S,onThumbPointerDown:di(o),children:u.jsx(_w.div,{...f,ref:m,style:{position:"absolute",...f.style},onPointerDown:It(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),y.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(E))}),onPointerMove:It(e.onPointerMove,C),onPointerUp:It(e.onPointerUp,E=>{const T=E.target;T.hasPointerCapture(E.pointerId)&&T.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),oT="ScrollAreaThumb",Lde=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Mde(oT,e.__scopeScrollArea);return u.jsx(bw,{present:r||i.hasThumb,children:u.jsx(tXe,{ref:t,...n})})}),tXe=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...i}=e,s=Co(oT,r),a=Mde(oT,r),{onThumbPositionChange:o}=a,l=Xt(t,h=>a.onThumbChange(h)),c=A.useRef(void 0),d=w2(()=>{c.current&&(c.current(),c.current=void 0)},100);return A.useEffect(()=>{const h=s.viewport;if(h){const f=()=>{if(d(),!c.current){const p=iXe(h,o);c.current=p,o()}};return o(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[s.viewport,d,o]),u.jsx(_w.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:It(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),g=h.clientX-p.left,v=h.clientY-p.top;a.onThumbPointerDown({x:g,y:v})}),onPointerUp:It(e.onPointerUp,a.onThumbPointerUp)})});Lde.displayName=oT;var iB="ScrollAreaCorner",Dde=A.forwardRef((e,t)=>{const r=Co(iB,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?u.jsx(rXe,{...e,ref:t}):null});Dde.displayName=iB;var rXe=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,i=Co(iB,r),[s,a]=A.useState(0),[o,l]=A.useState(0),c=!!(s&&o);return uv(i.scrollbarX,()=>{var h;const d=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),uv(i.scrollbarY,()=>{var h;const d=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(d),a(d)}),c?u.jsx(_w.div,{...n,ref:t,style:{width:s,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function lT(e){return e?parseInt(e,10):0}function Ode(e,t){const r=e/t;return isNaN(r)?0:r}function b2(e){const t=Ode(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function nXe(e,t,r,n="ltr"){const i=b2(r),s=i/2,a=t||s,o=i-a,l=r.scrollbar.paddingStart+a,c=r.scrollbar.size-r.scrollbar.paddingEnd-o,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return $de([l,c],h)(e)}function eY(e,t,r="ltr"){const n=b2(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,a=t.content-t.viewport,o=s-n,l=r==="ltr"?[0,a]:[a*-1,0],c=pD(e,l);return $de([0,a],[0,o])(c)}function $de(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Bde(e,t){return e>0&&e<t}var iXe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},a=r.left!==s.left,o=r.top!==s.top;(a||o)&&t(),r=s,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function w2(e,t){const r=di(e),n=A.useRef(0);return A.useEffect(()=>()=>window.clearTimeout(n.current),[]),A.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function uv(e,t){const r=di(t);In(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}var Fde=Ade,sXe=Rde,aXe=Dde;const ww=A.forwardRef(({className:e,children:t,...r},n)=>u.jsxs(Fde,{ref:n,className:Yt("relative overflow-hidden",e),...r,children:[u.jsx(sXe,{className:"h-full w-full rounded-[inherit]",children:t}),u.jsx(zde,{}),u.jsx(aXe,{})]}));ww.displayName=Fde.displayName;const zde=A.forwardRef(({className:e,orientation:t="vertical",...r},n)=>u.jsx(rB,{ref:n,orientation:t,className:Yt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 border-t border-t-transparent p-[1px]",e),...r,children:u.jsx(Lde,{className:"relative flex-1 rounded-full bg-slate-200 dark:bg-slate-800"})}));zde.displayName=rB.displayName;const oXe=({devices:e,selectedDevice:t,isLoadingDevices:r,onSelectDevice:n,onRefreshDevices:i})=>{const[s,a]=A.useState(""),o=A.useMemo(()=>{if(!s.trim())return e;const l=s.toLowerCase();return e.filter(c=>c.hostname&&c.hostname.toLowerCase().includes(l)||c.ip_address.toLowerCase().includes(l)||c.role&&c.role.toLowerCase().includes(l))},[e,s]);return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Network Devices"}),u.jsx(Re,{variant:"outline",size:"icon",onClick:i,disabled:r,className:"h-8 w-8",children:r?u.jsx($t,{className:"h-4 w-4 animate-spin"}):u.jsx(io,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"relative mb-2",children:[u.jsx(ti,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 h-3.5 w-3.5 text-gray-400"}),u.jsx(er,{placeholder:"Search Devices...",value:s,onChange:l=>a(l.target.value),className:"pl-8 py-1 h-9 text-sm rounded-md border-slate-200 focus-visible:ring-slate-400"})]}),u.jsxs(en,{onValueChange:l=>{const c=e.find(d=>d.id===l||d.ip_address===l);c&&n(c)},value:(t==null?void 0:t.id)||(t==null?void 0:t.ip_address),children:[u.jsx(Kr,{className:"w-full",children:u.jsx(tn,{placeholder:"Select device..."})}),u.jsx(Zr,{className:"max-h-[300px] w-full",position:"popper",children:u.jsx(ww,{className:"h-[280px] pr-0",children:o.length>0?o.map((l,c)=>u.jsx(od,{children:u.jsxs(zo,{children:[u.jsx(Uo,{asChild:!0,children:u.jsx(Fe,{value:l.id||l.ip_address,className:"pl-2 pr-1 py-0.5 mb-1.5 rounded border-0 hover:border-0 focus:border-0",children:u.jsxs("div",{className:"flex items-center justify-between w-full",children:[u.jsx("div",{className:"truncate min-w-[70px] max-w-[120px] text-sm mr-1",children:l.hostname||"Unknown"}),u.jsx("div",{className:"text-xs text-gray-600 font-mono whitespace-nowrap overflow-visible",children:l.ip_address||l.ip})]})})}),u.jsx(oo,{side:"right",align:"start",className:"bg-white p-2 shadow-lg border z-50",children:u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold",children:l.hostname||"Unknown"}),u.jsx("p",{className:"text-xs font-mono",children:l.ip_address||l.ip}),u.jsxs("p",{className:"text-xs mt-1",children:[l.vendor_hw||l.vendor," | ",l.role]})]})})]})},l.id||l.ip_address||c)):u.jsx("div",{className:"p-2 text-center text-gray-500",children:s?"没有找到匹配的设备":"没有设备"})})})]}),t&&u.jsx(od,{children:u.jsx(Ve,{className:"mt-3 overflow-hidden border border-gray-100 rounded-lg shadow-sm bg-white",children:u.jsxs(Ge,{className:"p-0",children:[u.jsx("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-100",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[u.jsx(P3,{className:"h-4 w-4 text-gray-500 flex-shrink-0"}),u.jsxs(zo,{children:[u.jsx(Uo,{asChild:!0,children:u.jsx("h3",{className:"text-sm font-medium truncate text-gray-800",children:t.hostname||"Unknown"})}),u.jsx(oo,{side:"top",children:u.jsx("p",{children:t.hostname||"Unknown"})})]})]}),u.jsx("div",{className:"text-gray-500 text-xs",children:t.ip_address||t.ip})]})}),u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3",children:[u.jsxs("div",{className:"flex items-start",children:[u.jsx(Vm,{className:"h-3.5 w-3.5 text-gray-400 mr-1.5 mt-0.5"}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-0.5",children:"Vendor"}),u.jsxs(zo,{children:[u.jsx(Uo,{asChild:!0,children:u.jsx("div",{className:"text-sm truncate font-medium text-gray-800",children:t.vendor_hw||t.vendor})}),u.jsx(oo,{side:"bottom",children:u.jsx("p",{children:t.vendor_hw||t.vendor})})]})]})]}),u.jsxs("div",{className:"flex items-start",children:[u.jsx(I3,{className:"h-3.5 w-3.5 text-gray-400 mr-1.5 mt-0.5"}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-0.5",children:"OS"}),u.jsxs(zo,{children:[u.jsx(Uo,{asChild:!0,children:u.jsx("div",{className:"text-sm truncate font-medium text-gray-800",children:t.vendor_sw||t.os})}),u.jsx(oo,{side:"bottom",className:"max-w-[300px]",children:u.jsx("p",{children:t.vendor_sw||t.os})})]})]})]}),u.jsxs("div",{className:"flex items-center col-span-2 mt-1",children:[u.jsx(Wye,{className:"h-3.5 w-3.5 text-gray-400 mr-1.5"}),u.jsx("span",{className:"text-xs text-gray-500 mr-2",children:"Role"}),u.jsx(Ce,{variant:"outline",className:"rounded-full px-2.5 py-0.5 text-xs font-normal bg-blue-50 text-blue-700 border-blue-100",children:t.role})]})]})})]})})})]})},lXe=({sessions:e,onSelectSession:t,onCreateNewSession:r})=>{const[n,i]=Wr.useState(""),s=e.filter(a=>a.title.toLowerCase().includes(n.toLowerCase()));return u.jsxs("div",{className:"space-y-3 h-full flex flex-col",children:[u.jsxs("div",{className:"relative",children:[u.jsx(ti,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),u.jsx(er,{placeholder:"Search conversations...",className:"pl-8 border-gray-200 rounded-lg",value:n,onChange:a=>i(a.target.value)})]}),u.jsxs("button",{onClick:r,className:"w-full py-2.5 px-3 rounded-xl bg-gradient-to-br from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 text-blue-700 transition-all text-sm font-medium flex items-center justify-center border border-blue-200 shadow-sm",children:[u.jsx(js,{className:"h-4 w-4 mr-2"}),"New conversation"]}),u.jsx(ww,{className:"flex-1 pr-1",children:u.jsx("div",{className:"space-y-2 pb-2",children:s.length>0?s.map(a=>u.jsx("button",{className:`w-full text-left p-3 rounded-xl transition-all border shadow-sm ${a.active?"bg-gradient-to-br from-blue-50 to-blue-100 text-blue-800 border-blue-200":"hover:bg-gray-50 text-gray-700 border-gray-200 hover:border-blue-200 hover:shadow-md"}`,onClick:()=>t(a.id),children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center mr-2 flex-shrink-0 ${a.active?"bg-blue-100 border border-blue-200":"bg-gray-100 border border-gray-200"}`,children:u.jsx(js,{className:`h-4 w-4 ${a.active?"text-blue-600":"text-gray-500"}`})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium truncate",children:a.title}),u.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500",children:[u.jsx(QT,{className:"h-3 w-3 mr-1"}),new Date(a.timestamp).toLocaleDateString()]})]})]})},a.id)):u.jsxs("div",{className:"text-center py-8 text-gray-500 rounded-xl border border-gray-200 bg-gray-50 shadow-sm",children:[u.jsx(js,{className:"h-10 w-10 mx-auto mb-3 text-gray-300"}),u.jsx("p",{className:"text-sm font-medium",children:"No conversations found"}),u.jsx("p",{className:"text-xs mt-1 text-gray-400",children:"Start a new conversation to see it here"})]})})})]})},cXe=({configSessions:e,onSelectConfig:t})=>{const[r,n]=Wr.useState(""),i=e.filter(s=>s.intent.toLowerCase().includes(r.toLowerCase()));return u.jsxs("div",{className:"space-y-3 h-full flex flex-col",children:[u.jsxs("div",{className:"relative",children:[u.jsx(ti,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),u.jsx(er,{placeholder:"Search snippets...",className:"pl-8 border-gray-200 rounded-lg",value:r,onChange:s=>n(s.target.value)})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Wm,{className:"h-4 w-4 text-gray-500 mr-2"}),u.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Saved Configurations"})]}),u.jsx(ww,{className:"flex-1 pr-1",children:u.jsx("div",{className:"space-y-2 pb-2",children:i.length>0?i.map(s=>u.jsx("button",{className:"w-full text-left p-3 rounded-xl transition-all border border-gray-200 hover:border-green-200 hover:bg-green-50 shadow-sm hover:shadow-md",onClick:()=>t(s),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-50 to-green-100 rounded-lg flex items-center justify-center mr-2 flex-shrink-0 border border-green-200",children:u.jsx(jye,{className:"h-4 w-4 text-green-600"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:s.intent}),u.jsxs("div",{className:"flex items-center mt-1",children:[u.jsxs(Ce,{variant:"outline",className:"text-xs bg-green-50 text-green-700 mr-2 rounded-full px-2 py-0.5 border-green-200",children:[s.steps.filter(a=>a.isVisible).length," steps"]}),s.timestamp&&u.jsx("span",{className:"text-xs text-gray-500",children:new Date(parseInt(s.id.split("-")[1])).toLocaleDateString()})]})]})]}),u.jsx(Nye,{className:"h-4 w-4 text-gray-400"})]})},s.id)):u.jsxs("div",{className:"text-center py-8 text-gray-500 rounded-xl border border-gray-200 bg-gray-50 shadow-sm",children:[u.jsx(Wm,{className:"h-10 w-10 mx-auto mb-3 text-gray-300"}),u.jsx("p",{className:"text-sm font-medium",children:"No config snippets found"}),u.jsx("p",{className:"text-xs mt-1 text-gray-400",children:"Save CLI configurations to see them here"})]})})})]})};function uXe(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const dXe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,hXe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,fXe={};function tY(e,t){return(fXe.jsx?hXe:dXe).test(e)}const pXe=/[ \t\n\f\r]/g;function gXe(e){return typeof e=="object"?e.type==="text"?rY(e.value):!1:rY(e)}function rY(e){return e.replace(pXe,"")===""}class Sw{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Sw.prototype.normal={};Sw.prototype.property={};Sw.prototype.space=void 0;function Ude(e,t){const r={},n={};for(const i of e)Object.assign(r,i.property),Object.assign(n,i.normal);return new Sw(r,n,t)}function zD(e){return e.toLowerCase()}class da{constructor(t,r){this.attribute=r,this.property=t}}da.prototype.attribute="";da.prototype.booleanish=!1;da.prototype.boolean=!1;da.prototype.commaOrSpaceSeparated=!1;da.prototype.commaSeparated=!1;da.prototype.defined=!1;da.prototype.mustUseProperty=!1;da.prototype.number=!1;da.prototype.overloadedBoolean=!1;da.prototype.property="";da.prototype.spaceSeparated=!1;da.prototype.space=void 0;let mXe=0;const hr=$p(),li=$p(),UD=$p(),Be=$p(),An=$p(),Mm=$p(),xa=$p();function $p(){return 2**++mXe}const HD=Object.freeze(Object.defineProperty({__proto__:null,boolean:hr,booleanish:li,commaOrSpaceSeparated:xa,commaSeparated:Mm,number:Be,overloadedBoolean:UD,spaceSeparated:An},Symbol.toStringTag,{value:"Module"})),yI=Object.keys(HD);class sB extends da{constructor(t,r,n,i){let s=-1;if(super(t,r),nY(this,"space",i),typeof n=="number")for(;++s<yI.length;){const a=yI[s];nY(this,yI[s],(n&HD[a])===HD[a])}}}sB.prototype.defined=!0;function nY(e,t,r){r&&(e[t]=r)}function t0(e){const t={},r={};for(const[n,i]of Object.entries(e.properties)){const s=new sB(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(s.mustUseProperty=!0),t[n]=s,r[zD(n)]=n,r[zD(s.attribute)]=n}return new Sw(t,r,e.space)}const Hde=t0({properties:{ariaActiveDescendant:null,ariaAtomic:li,ariaAutoComplete:null,ariaBusy:li,ariaChecked:li,ariaColCount:Be,ariaColIndex:Be,ariaColSpan:Be,ariaControls:An,ariaCurrent:null,ariaDescribedBy:An,ariaDetails:null,ariaDisabled:li,ariaDropEffect:An,ariaErrorMessage:null,ariaExpanded:li,ariaFlowTo:An,ariaGrabbed:li,ariaHasPopup:null,ariaHidden:li,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:An,ariaLevel:Be,ariaLive:null,ariaModal:li,ariaMultiLine:li,ariaMultiSelectable:li,ariaOrientation:null,ariaOwns:An,ariaPlaceholder:null,ariaPosInSet:Be,ariaPressed:li,ariaReadOnly:li,ariaRelevant:null,ariaRequired:li,ariaRoleDescription:An,ariaRowCount:Be,ariaRowIndex:Be,ariaRowSpan:Be,ariaSelected:li,ariaSetSize:Be,ariaSort:null,ariaValueMax:Be,ariaValueMin:Be,ariaValueNow:Be,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Vde(e,t){return t in e?e[t]:t}function Wde(e,t){return Vde(e,t.toLowerCase())}const vXe=t0({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Mm,acceptCharset:An,accessKey:An,action:null,allow:null,allowFullScreen:hr,allowPaymentRequest:hr,allowUserMedia:hr,alt:null,as:null,async:hr,autoCapitalize:null,autoComplete:An,autoFocus:hr,autoPlay:hr,blocking:An,capture:null,charSet:null,checked:hr,cite:null,className:An,cols:Be,colSpan:null,content:null,contentEditable:li,controls:hr,controlsList:An,coords:Be|Mm,crossOrigin:null,data:null,dateTime:null,decoding:null,default:hr,defer:hr,dir:null,dirName:null,disabled:hr,download:UD,draggable:li,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:hr,formTarget:null,headers:An,height:Be,hidden:UD,high:Be,href:null,hrefLang:null,htmlFor:An,httpEquiv:An,id:null,imageSizes:null,imageSrcSet:null,inert:hr,inputMode:null,integrity:null,is:null,isMap:hr,itemId:null,itemProp:An,itemRef:An,itemScope:hr,itemType:An,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:hr,low:Be,manifest:null,max:null,maxLength:Be,media:null,method:null,min:null,minLength:Be,multiple:hr,muted:hr,name:null,nonce:null,noModule:hr,noValidate:hr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:hr,optimum:Be,pattern:null,ping:An,placeholder:null,playsInline:hr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:hr,referrerPolicy:null,rel:An,required:hr,reversed:hr,rows:Be,rowSpan:Be,sandbox:An,scope:null,scoped:hr,seamless:hr,selected:hr,shadowRootClonable:hr,shadowRootDelegatesFocus:hr,shadowRootMode:null,shape:null,size:Be,sizes:null,slot:null,span:Be,spellCheck:li,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Be,step:null,style:null,tabIndex:Be,target:null,title:null,translate:null,type:null,typeMustMatch:hr,useMap:null,value:li,width:Be,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:An,axis:null,background:null,bgColor:null,border:Be,borderColor:null,bottomMargin:Be,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:hr,declare:hr,event:null,face:null,frame:null,frameBorder:null,hSpace:Be,leftMargin:Be,link:null,longDesc:null,lowSrc:null,marginHeight:Be,marginWidth:Be,noResize:hr,noHref:hr,noShade:hr,noWrap:hr,object:null,profile:null,prompt:null,rev:null,rightMargin:Be,rules:null,scheme:null,scrolling:li,standby:null,summary:null,text:null,topMargin:Be,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Be,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:hr,disableRemotePlayback:hr,prefix:null,property:null,results:Be,security:null,unselectable:null},space:"html",transform:Wde}),yXe=t0({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:xa,accentHeight:Be,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Be,amplitude:Be,arabicForm:null,ascent:Be,attributeName:null,attributeType:null,azimuth:Be,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Be,by:null,calcMode:null,capHeight:Be,className:An,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Be,diffuseConstant:Be,direction:null,display:null,dur:null,divisor:Be,dominantBaseline:null,download:hr,dx:null,dy:null,edgeMode:null,editable:null,elevation:Be,enableBackground:null,end:null,event:null,exponent:Be,externalResourcesRequired:null,fill:null,fillOpacity:Be,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Mm,g2:Mm,glyphName:Mm,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Be,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Be,horizOriginX:Be,horizOriginY:Be,id:null,ideographic:Be,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Be,k:Be,k1:Be,k2:Be,k3:Be,k4:Be,kernelMatrix:xa,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Be,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Be,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Be,overlineThickness:Be,paintOrder:null,panose1:null,path:null,pathLength:Be,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:An,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Be,pointsAtY:Be,pointsAtZ:Be,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:xa,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:xa,rev:xa,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:xa,requiredFeatures:xa,requiredFonts:xa,requiredFormats:xa,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Be,specularExponent:Be,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Be,strikethroughThickness:Be,string:null,stroke:null,strokeDashArray:xa,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Be,strokeOpacity:Be,strokeWidth:null,style:null,surfaceScale:Be,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:xa,tabIndex:Be,tableValues:null,target:null,targetX:Be,targetY:Be,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:xa,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Be,underlineThickness:Be,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Be,values:null,vAlphabetic:Be,vMathematical:Be,vectorEffect:null,vHanging:Be,vIdeographic:Be,version:null,vertAdvY:Be,vertOriginX:Be,vertOriginY:Be,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Be,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Vde}),Gde=t0({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),qde=t0({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Wde}),Yde=t0({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),xXe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},_Xe=/[A-Z]/g,iY=/-[a-z]/g,bXe=/^data[-\w.:]+$/i;function wXe(e,t){const r=zD(t);let n=t,i=da;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&bXe.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(iY,CXe);n="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!iY.test(s)){let a=s.replace(_Xe,SXe);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=sB}return new i(n,t)}function SXe(e){return"-"+e.toLowerCase()}function CXe(e){return e.charAt(1).toUpperCase()}const kXe=Ude([Hde,vXe,Gde,qde,Yde],"html"),aB=Ude([Hde,yXe,Gde,qde,Yde],"svg");function EXe(e){return e.join(" ").trim()}var oB={},sY=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,TXe=/\n/g,NXe=/^\s*/,AXe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,jXe=/^:\s*/,RXe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,IXe=/^[;\s]*/,MXe=/^\s+|\s+$/g,PXe=`
`,aY="/",oY="*",ff="",LXe="comment",DXe="declaration",OXe=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,n=1;function i(g){var v=g.match(TXe);v&&(r+=v.length);var m=g.lastIndexOf(PXe);n=~m?g.length-m:n+g.length}function s(){var g={line:r,column:n};return function(v){return v.position=new a(g),c(),v}}function a(g){this.start=g,this.end={line:r,column:n},this.source=t.source}a.prototype.content=e;function o(g){var v=new Error(t.source+":"+r+":"+n+": "+g);if(v.reason=g,v.filename=t.source,v.line=r,v.column=n,v.source=e,!t.silent)throw v}function l(g){var v=g.exec(e);if(v){var m=v[0];return i(m),e=e.slice(m.length),v}}function c(){l(NXe)}function d(g){var v;for(g=g||[];v=h();)v!==!1&&g.push(v);return g}function h(){var g=s();if(!(aY!=e.charAt(0)||oY!=e.charAt(1))){for(var v=2;ff!=e.charAt(v)&&(oY!=e.charAt(v)||aY!=e.charAt(v+1));)++v;if(v+=2,ff===e.charAt(v-1))return o("End of comment missing");var m=e.slice(2,v-2);return n+=2,i(m),e=e.slice(v),n+=2,g({type:LXe,comment:m})}}function f(){var g=s(),v=l(AXe);if(v){if(h(),!l(jXe))return o("property missing ':'");var m=l(RXe),y=g({type:DXe,property:lY(v[0].replace(sY,ff)),value:m?lY(m[0].replace(sY,ff)):ff});return l(IXe),y}}function p(){var g=[];d(g);for(var v;v=f();)v!==!1&&(g.push(v),d(g));return g}return c(),p()};function lY(e){return e?e.replace(MXe,ff):ff}var $Xe=cs&&cs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oB,"__esModule",{value:!0});oB.default=FXe;var BXe=$Xe(OXe);function FXe(e,t){var r=null;if(!e||typeof e!="string")return r;var n=(0,BXe.default)(e),i=typeof t=="function";return n.forEach(function(s){if(s.type==="declaration"){var a=s.property,o=s.value;i?t(a,o,s):o&&(r=r||{},r[a]=o)}}),r}var S2={};Object.defineProperty(S2,"__esModule",{value:!0});S2.camelCase=void 0;var zXe=/^--[a-zA-Z0-9_-]+$/,UXe=/-([a-z])/g,HXe=/^[^-]+$/,VXe=/^-(webkit|moz|ms|o|khtml)-/,WXe=/^-(ms)-/,GXe=function(e){return!e||HXe.test(e)||zXe.test(e)},qXe=function(e,t){return t.toUpperCase()},cY=function(e,t){return"".concat(t,"-")},YXe=function(e,t){return t===void 0&&(t={}),GXe(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(WXe,cY):e=e.replace(VXe,cY),e.replace(UXe,qXe))};S2.camelCase=YXe;var KXe=cs&&cs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},ZXe=KXe(oB),XXe=S2;function VD(e,t){var r={};return!e||typeof e!="string"||(0,ZXe.default)(e,function(n,i){n&&i&&(r[(0,XXe.camelCase)(n,t)]=i)}),r}VD.default=VD;var JXe=VD;const QXe=bv(JXe),Kde=Zde("end"),lB=Zde("start");function Zde(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function eJe(e){const t=lB(e),r=Kde(e);if(t&&r)return{start:t,end:r}}function qx(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?uY(e.position):"start"in e||"end"in e?uY(e):"line"in e||"column"in e?WD(e):""}function WD(e){return dY(e&&e.line)+":"+dY(e&&e.column)}function uY(e){return WD(e&&e.start)+"-"+WD(e&&e.end)}function dY(e){return e&&typeof e=="number"?e:1}class ms extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",s={},a=!1;if(r&&("line"in r&&"column"in r?s={place:r}:"start"in r&&"end"in r?s={place:r}:"type"in r?s={ancestors:[r],place:r.position}:s={...r}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?s.ruleId=n:(s.source=n.slice(0,l),s.ruleId=n.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=o?o.line:void 0,this.name=qx(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}ms.prototype.file="";ms.prototype.name="";ms.prototype.reason="";ms.prototype.message="";ms.prototype.stack="";ms.prototype.column=void 0;ms.prototype.line=void 0;ms.prototype.ancestors=void 0;ms.prototype.cause=void 0;ms.prototype.fatal=void 0;ms.prototype.place=void 0;ms.prototype.ruleId=void 0;ms.prototype.source=void 0;const cB={}.hasOwnProperty,tJe=new Map,rJe=/[A-Z]/g,nJe=new Set(["table","tbody","thead","tfoot","tr"]),iJe=new Set(["td","th"]),Xde="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function sJe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=fJe(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=hJe(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?aB:kXe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=Jde(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function Jde(e,t,r){if(t.type==="element")return aJe(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return oJe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return cJe(e,t,r);if(t.type==="mdxjsEsm")return lJe(e,t);if(t.type==="root")return uJe(e,t,r);if(t.type==="text")return dJe(e,t)}function aJe(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=aB,e.schema=i),e.ancestors.push(t);const s=ehe(e,t.tagName,!1),a=pJe(e,t);let o=dB(e,t);return nJe.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!gXe(l):!0})),Qde(e,a,s,t),uB(a,o),e.ancestors.pop(),e.schema=n,e.create(t,s,a,r)}function oJe(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}db(e,t.position)}function lJe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);db(e,t.position)}function cJe(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=aB,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:ehe(e,t.name,!0),a=gJe(e,t),o=dB(e,t);return Qde(e,a,s,t),uB(a,o),e.ancestors.pop(),e.schema=n,e.create(t,s,a,r)}function uJe(e,t,r){const n={};return uB(n,dB(e,t)),e.create(t,e.Fragment,n,r)}function dJe(e,t){return t.value}function Qde(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function uB(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function hJe(e,t,r){return n;function n(i,s,a,o){const c=Array.isArray(a.children)?r:t;return o?c(s,a,o):c(s,a)}}function fJe(e,t){return r;function r(n,i,s,a){const o=Array.isArray(s.children),l=lB(n);return t(i,s,a,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function pJe(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&cB.call(t.properties,i)){const s=mJe(e,i,t.properties[i]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&iJe.has(t.tagName)?n=o:r[a]=o}}if(n){const s=r.style||(r.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function gJe(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const s=n.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(r,e.evaluater.evaluateExpression(o.argument))}else db(e,t.position);else{const i=n.name;let s;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const o=n.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else db(e,t.position);else s=n.value===null?!0:n.value;r[i]=s}return r}function dB(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:tJe;for(;++n<t.children.length;){const s=t.children[n];let a;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;a=l+"-"+c,i.set(l,c+1)}}const o=Jde(e,s,a);o!==void 0&&r.push(o)}return r}function mJe(e,t,r){const n=wXe(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?uXe(r):EXe(r)),n.property==="style"){let i=typeof r=="object"?r:vJe(e,String(r));return e.stylePropertyNameCase==="css"&&(i=yJe(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?xXe[n.property]||n.property:n.attribute,r]}}function vJe(e,t){try{return QXe(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,i=new ms("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Xde+"#cannot-parse-style-attribute",i}}function ehe(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const o=tY(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}n=a}else n=tY(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return cB.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);db(e)}function db(e,t){const r=new ms("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=Xde+"#cannot-handle-mdx-estrees-without-createevaluater",r}function yJe(e){const t={};let r;for(r in e)cB.call(e,r)&&(t[xJe(r)]=e[r]);return t}function xJe(e){let t=e.replace(rJe,_Je);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function _Je(e){return"-"+e.toLowerCase()}const xI={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},bJe={};function hB(e,t){const r=bJe,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return the(e,n,i)}function the(e,t,r){if(wJe(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return hY(e.children,t,r)}return Array.isArray(e)?hY(e,t,r):""}function hY(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=the(e[i],t,r);return n.join("")}function wJe(e){return!!(e&&typeof e=="object")}const fY=document.createElement("i");function fB(e){const t="&"+e+";";fY.innerHTML=t;const r=fY.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function Ra(e,t,r,n){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)a=Array.from(n),a.unshift(t,r),e.splice(...a);else for(r&&e.splice(t,r);s<n.length;)a=n.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function lo(e,t){return e.length>0?(Ra(e,e.length,0,t),e):t}const pY={}.hasOwnProperty;function rhe(e){const t={};let r=-1;for(;++r<e.length;)SJe(t,e[r]);return t}function SJe(e,t){let r;for(r in t){const i=(pY.call(e,r)?e[r]:void 0)||(e[r]={}),s=t[r];let a;if(s)for(a in s){pY.call(i,a)||(i[a]=[]);const o=s[a];CJe(i[a],Array.isArray(o)?o:o?[o]:[])}}}function CJe(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);Ra(e,0,0,n)}function nhe(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"�":String.fromCodePoint(r)}function Xo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const As=yh(/[A-Za-z]/),ls=yh(/[\dA-Za-z]/),kJe=yh(/[#-'*+\--9=?A-Z^-~]/);function cT(e){return e!==null&&(e<32||e===127)}const GD=yh(/\d/),EJe=yh(/[\dA-Fa-f]/),TJe=yh(/[!-/:-@[-`{-~]/);function Rt(e){return e!==null&&e<-2}function Cn(e){return e!==null&&(e<0||e===32)}function kr(e){return e===-2||e===-1||e===32}const C2=yh(new RegExp("\\p{P}|\\p{S}","u")),gp=yh(/\s/);function yh(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function r0(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const s=e.charCodeAt(r);let a="";if(s===37&&ls(e.charCodeAt(r+1))&&ls(e.charCodeAt(r+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(r+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a="�"}else a=String.fromCharCode(s);a&&(t.push(e.slice(n,r),encodeURIComponent(a)),n=r+i+1,a=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function zr(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(l){return kr(l)?(e.enter(r),o(l)):t(l)}function o(l){return kr(l)&&s++<i?(e.consume(l),o):(e.exit(r),t(l))}}const NJe={tokenize:AJe};function AJe(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),zr(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const l=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Rt(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const jJe={tokenize:RJe},gY={tokenize:IJe};function RJe(e){const t=this,r=[];let n=0,i,s,a;return o;function o(_){if(n<r.length){const b=r[n];return t.containerState=b[1],e.attempt(b[0].continuation,l,c)(_)}return c(_)}function l(_){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const b=t.events.length;let w=b,S;for(;w--;)if(t.events[w][0]==="exit"&&t.events[w][1].type==="chunkFlow"){S=t.events[w][1].end;break}y(n);let k=b;for(;k<t.events.length;)t.events[k][1].end={...S},k++;return Ra(t.events,w+1,0,t.events.slice(b)),t.events.length=k,c(_)}return o(_)}function c(_){if(n===r.length){if(!i)return f(_);if(i.currentConstruct&&i.currentConstruct.concrete)return g(_);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(gY,d,h)(_)}function d(_){return i&&x(),y(n),f(_)}function h(_){return t.parser.lazy[t.now().line]=n!==r.length,a=t.now().offset,g(_)}function f(_){return t.containerState={},e.attempt(gY,p,g)(_)}function p(_){return n++,r.push([t.currentConstruct,t.containerState]),f(_)}function g(_){if(_===null){i&&x(),y(0),e.consume(_);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),v(_)}function v(_){if(_===null){m(e.exit("chunkFlow"),!0),y(0),e.consume(_);return}return Rt(_)?(e.consume(_),m(e.exit("chunkFlow")),n=0,t.interrupt=void 0,o):(e.consume(_),v)}function m(_,b){const w=t.sliceStream(_);if(b&&w.push(null),_.previous=s,s&&(s.next=_),s=_,i.defineSkip(_.start),i.write(w),t.parser.lazy[_.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<a&&(!i.events[S][1].end||i.events[S][1].end.offset>a))return;const k=t.events.length;let C=k,E,T;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){if(E){T=t.events[C][1].end;break}E=!0}for(y(n),S=k;S<t.events.length;)t.events[S][1].end={...T},S++;Ra(t.events,C+1,0,t.events.slice(k)),t.events.length=S}}function y(_){let b=r.length;for(;b-- >_;){const w=r[b];t.containerState=w[1],w[0].exit.call(t,e)}r.length=_}function x(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function IJe(e,t,r){return zr(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function dv(e){if(e===null||Cn(e)||gp(e))return 1;if(C2(e))return 2}function k2(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!n.includes(s)&&(t=s(t,r),n.push(s))}return t}const qD={name:"attention",resolveAll:MJe,tokenize:PJe};function MJe(e,t){let r=-1,n,i,s,a,o,l,c,d;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;l=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const h={...e[n][1].end},f={...e[r][1].start};mY(h,-l),mY(f,l),a={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...e[n][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:f},s={type:l>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[n][1].end={...a.start},e[r][1].start={...o.end},c=[],e[n][1].end.offset-e[n][1].start.offset&&(c=lo(c,[["enter",e[n][1],t],["exit",e[n][1],t]])),c=lo(c,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),c=lo(c,k2(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),c=lo(c,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(d=2,c=lo(c,[["enter",e[r][1],t],["exit",e[r][1],t]])):d=0,Ra(e,n-1,r-n+3,c),r=n+c.length-d-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function PJe(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=dv(n);let s;return a;function a(l){return s=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===s)return e.consume(l),o;const c=e.exit("attentionSequence"),d=dv(l),h=!d||d===2&&i||r.includes(l),f=!i||i===2&&d||r.includes(n);return c._open=!!(s===42?h:h&&(i||!f)),c._close=!!(s===42?f:f&&(d||!h)),t(l)}}function mY(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const LJe={name:"autolink",tokenize:DJe};function DJe(e,t,r){let n=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(p){return As(p)?(e.consume(p),a):p===64?r(p):c(p)}function a(p){return p===43||p===45||p===46||ls(p)?(n=1,o(p)):c(p)}function o(p){return p===58?(e.consume(p),n=0,l):(p===43||p===45||p===46||ls(p))&&n++<32?(e.consume(p),o):(n=0,c(p))}function l(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||cT(p)?r(p):(e.consume(p),l)}function c(p){return p===64?(e.consume(p),d):kJe(p)?(e.consume(p),c):r(p)}function d(p){return ls(p)?h(p):r(p)}function h(p){return p===46?(e.consume(p),n=0,d):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):f(p)}function f(p){if((p===45||ls(p))&&n++<63){const g=p===45?f:h;return e.consume(p),g}return r(p)}}const Cw={partial:!0,tokenize:OJe};function OJe(e,t,r){return n;function n(s){return kr(s)?zr(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Rt(s)?t(s):r(s)}}const ihe={continuation:{tokenize:BJe},exit:FJe,name:"blockQuote",tokenize:$Je};function $Je(e,t,r){const n=this;return i;function i(a){if(a===62){const o=n.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return r(a)}function s(a){return kr(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function BJe(e,t,r){const n=this;return i;function i(a){return kr(a)?zr(e,s,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(ihe,t,r)(a)}}function FJe(e){e.exit("blockQuote")}const she={name:"characterEscape",tokenize:zJe};function zJe(e,t,r){return n;function n(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return TJe(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(s)}}const ahe={name:"characterReference",tokenize:UJe};function UJe(e,t,r){const n=this;let i=0,s,a;return o;function o(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),l}function l(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,a=ls,d(h))}function c(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=EJe,d):(e.enter("characterReferenceValue"),s=7,a=GD,d(h))}function d(h){if(h===59&&i){const f=e.exit("characterReferenceValue");return a===ls&&!fB(n.sliceSerialize(f))?r(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(h)&&i++<s?(e.consume(h),d):r(h)}}const vY={partial:!0,tokenize:VJe},yY={concrete:!0,name:"codeFenced",tokenize:HJe};function HJe(e,t,r){const n=this,i={partial:!0,tokenize:w};let s=0,a=0,o;return l;function l(S){return c(S)}function c(S){const k=n.events[n.events.length-1];return s=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,o=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(S)}function d(S){return S===o?(a++,e.consume(S),d):a<3?r(S):(e.exit("codeFencedFenceSequence"),kr(S)?zr(e,h,"whitespace")(S):h(S))}function h(S){return S===null||Rt(S)?(e.exit("codeFencedFence"),n.interrupt?t(S):e.check(vY,v,b)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(S))}function f(S){return S===null||Rt(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(S)):kr(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),zr(e,p,"whitespace")(S)):S===96&&S===o?r(S):(e.consume(S),f)}function p(S){return S===null||Rt(S)?h(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(S))}function g(S){return S===null||Rt(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(S)):S===96&&S===o?r(S):(e.consume(S),g)}function v(S){return e.attempt(i,b,m)(S)}function m(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),y}function y(S){return s>0&&kr(S)?zr(e,x,"linePrefix",s+1)(S):x(S)}function x(S){return S===null||Rt(S)?e.check(vY,v,b)(S):(e.enter("codeFlowValue"),_(S))}function _(S){return S===null||Rt(S)?(e.exit("codeFlowValue"),x(S)):(e.consume(S),_)}function b(S){return e.exit("codeFenced"),t(S)}function w(S,k,C){let E=0;return T;function T($){return S.enter("lineEnding"),S.consume($),S.exit("lineEnding"),N}function N($){return S.enter("codeFencedFence"),kr($)?zr(S,R,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):R($)}function R($){return $===o?(S.enter("codeFencedFenceSequence"),P($)):C($)}function P($){return $===o?(E++,S.consume($),P):E>=a?(S.exit("codeFencedFenceSequence"),kr($)?zr(S,D,"whitespace")($):D($)):C($)}function D($){return $===null||Rt($)?(S.exit("codeFencedFence"),k($)):C($)}}}function VJe(e,t,r){const n=this;return i;function i(a){return a===null?r(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}const _I={name:"codeIndented",tokenize:GJe},WJe={partial:!0,tokenize:qJe};function GJe(e,t,r){const n=this;return i;function i(c){return e.enter("codeIndented"),zr(e,s,"linePrefix",5)(c)}function s(c){const d=n.events[n.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(c):r(c)}function a(c){return c===null?l(c):Rt(c)?e.attempt(WJe,a,l)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||Rt(c)?(e.exit("codeFlowValue"),a(c)):(e.consume(c),o)}function l(c){return e.exit("codeIndented"),t(c)}}function qJe(e,t,r){const n=this;return i;function i(a){return n.parser.lazy[n.now().line]?r(a):Rt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):zr(e,s,"linePrefix",5)(a)}function s(a){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):Rt(a)?i(a):r(a)}}const YJe={name:"codeText",previous:ZJe,resolve:KJe,tokenize:XJe};function KJe(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function ZJe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function XJe(e,t,r){let n=0,i,s;return a;function a(h){return e.enter("codeText"),e.enter("codeTextSequence"),o(h)}function o(h){return h===96?(e.consume(h),n++,o):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?r(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):h===96?(s=e.enter("codeTextSequence"),i=0,d(h)):Rt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||Rt(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),c)}function d(h){return h===96?(e.consume(h),i++,d):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(s.type="codeTextData",c(h))}}class JJe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&Py(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Py(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Py(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);Py(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Py(this.left,r.reverse())}}}function Py(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function ohe(e){const t={};let r=-1,n,i,s,a,o,l,c;const d=new JJe(e);for(;++r<d.length;){for(;r in t;)r=t[r];if(n=d.get(r),r&&n[1].type==="chunkFlow"&&d.get(r-1)[1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,QJe(d,r)),r=t[r],c=!0);else if(n[1]._container){for(s=r,i=void 0;s--;)if(a=d.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(n[1].end={...d.get(i)[1].start},o=d.slice(i,r),o.unshift(n),d.splice(i,r-i+1,o))}}return Ra(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function QJe(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const s=[];let a=r._tokenizer;a||(a=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,l=[],c={};let d,h,f=-1,p=r,g=0,v=0;const m=[v];for(;p;){for(;e.get(++i)[1]!==p;);s.push(i),p._tokenizer||(d=n.sliceStream(p),p.next||d.push(null),h&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=p,p=p.next}for(p=r;++f<o.length;)o[f][0]==="exit"&&o[f-1][0]==="enter"&&o[f][1].type===o[f-1][1].type&&o[f][1].start.line!==o[f][1].end.line&&(v=f+1,m.push(v),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):m.pop(),f=m.length;f--;){const y=o.slice(m[f],m[f+1]),x=s.pop();l.push([x,x+y.length-1]),e.splice(x,2,y)}for(l.reverse(),f=-1;++f<l.length;)c[g+l[f][0]]=g+l[f][1],g+=l[f][1]-l[f][0]-1;return c}const eQe={resolve:rQe,tokenize:nQe},tQe={partial:!0,tokenize:iQe};function rQe(e){return ohe(e),e}function nQe(e,t){let r;return n;function n(o){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):Rt(o)?e.check(tQe,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function iQe(e,t,r){const n=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),zr(e,s,"linePrefix")}function s(a){if(a===null||Rt(a))return r(a);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(n.parser.constructs.flow,r,t)(a)}}function lhe(e,t,r,n,i,s,a,o,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return h;function h(y){return y===60?(e.enter(n),e.enter(i),e.enter(s),e.consume(y),e.exit(s),f):y===null||y===32||y===41||cT(y)?r(y):(e.enter(n),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),v(y))}function f(y){return y===62?(e.enter(s),e.consume(y),e.exit(s),e.exit(i),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===62?(e.exit("chunkString"),e.exit(o),f(y)):y===null||y===60||Rt(y)?r(y):(e.consume(y),y===92?g:p)}function g(y){return y===60||y===62||y===92?(e.consume(y),p):p(y)}function v(y){return!d&&(y===null||y===41||Cn(y))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(n),t(y)):d<c&&y===40?(e.consume(y),d++,v):y===41?(e.consume(y),d--,v):y===null||y===32||y===40||cT(y)?r(y):(e.consume(y),y===92?m:v)}function m(y){return y===40||y===41||y===92?(e.consume(y),v):v(y)}}function che(e,t,r,n,i,s){const a=this;let o=0,l;return c;function c(p){return e.enter(n),e.enter(i),e.consume(p),e.exit(i),e.enter(s),d}function d(p){return o>999||p===null||p===91||p===93&&!l||p===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?r(p):p===93?(e.exit(s),e.enter(i),e.consume(p),e.exit(i),e.exit(n),t):Rt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===null||p===91||p===93||Rt(p)||o++>999?(e.exit("chunkString"),d(p)):(e.consume(p),l||(l=!kr(p)),p===92?f:h)}function f(p){return p===91||p===92||p===93?(e.consume(p),o++,h):h(p)}}function uhe(e,t,r,n,i,s){let a;return o;function o(f){return f===34||f===39||f===40?(e.enter(n),e.enter(i),e.consume(f),e.exit(i),a=f===40?41:f,l):r(f)}function l(f){return f===a?(e.enter(i),e.consume(f),e.exit(i),e.exit(n),t):(e.enter(s),c(f))}function c(f){return f===a?(e.exit(s),l(a)):f===null?r(f):Rt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),zr(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===a||f===null||Rt(f)?(e.exit("chunkString"),c(f)):(e.consume(f),f===92?h:d)}function h(f){return f===a||f===92?(e.consume(f),d):d(f)}}function Yx(e,t){let r;return n;function n(i){return Rt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):kr(i)?zr(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const sQe={name:"definition",tokenize:oQe},aQe={partial:!0,tokenize:lQe};function oQe(e,t,r){const n=this;let i;return s;function s(p){return e.enter("definition"),a(p)}function a(p){return che.call(n,e,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return i=Xo(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),l):r(p)}function l(p){return Cn(p)?Yx(e,c)(p):c(p)}function c(p){return lhe(e,d,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return e.attempt(aQe,h,h)(p)}function h(p){return kr(p)?zr(e,f,"whitespace")(p):f(p)}function f(p){return p===null||Rt(p)?(e.exit("definition"),n.parser.defined.push(i),t(p)):r(p)}}function lQe(e,t,r){return n;function n(o){return Cn(o)?Yx(e,i)(o):r(o)}function i(o){return uhe(e,s,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return kr(o)?zr(e,a,"whitespace")(o):a(o)}function a(o){return o===null||Rt(o)?t(o):r(o)}}const cQe={name:"hardBreakEscape",tokenize:uQe};function uQe(e,t,r){return n;function n(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Rt(s)?(e.exit("hardBreakEscape"),t(s)):r(s)}}const dQe={name:"headingAtx",resolve:hQe,tokenize:fQe};function hQe(e,t){let r=e.length-2,n=3,i,s;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},s={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},Ra(e,n,r-n+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function fQe(e,t,r){let n=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&n++<6?(e.consume(d),a):d===null||Cn(d)?(e.exit("atxHeadingSequence"),o(d)):r(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Rt(d)?(e.exit("atxHeading"),t(d)):kr(d)?zr(e,o,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),o(d))}function c(d){return d===null||d===35||Cn(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),c)}}const pQe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],xY=["pre","script","style","textarea"],gQe={concrete:!0,name:"htmlFlow",resolveTo:yQe,tokenize:xQe},mQe={partial:!0,tokenize:bQe},vQe={partial:!0,tokenize:_Qe};function yQe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function xQe(e,t,r){const n=this;let i,s,a,o,l;return c;function c(F){return d(F)}function d(F){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(F),h}function h(F){return F===33?(e.consume(F),f):F===47?(e.consume(F),s=!0,v):F===63?(e.consume(F),i=3,n.interrupt?t:I):As(F)?(e.consume(F),a=String.fromCharCode(F),m):r(F)}function f(F){return F===45?(e.consume(F),i=2,p):F===91?(e.consume(F),i=5,o=0,g):As(F)?(e.consume(F),i=4,n.interrupt?t:I):r(F)}function p(F){return F===45?(e.consume(F),n.interrupt?t:I):r(F)}function g(F){const G="CDATA[";return F===G.charCodeAt(o++)?(e.consume(F),o===G.length?n.interrupt?t:R:g):r(F)}function v(F){return As(F)?(e.consume(F),a=String.fromCharCode(F),m):r(F)}function m(F){if(F===null||F===47||F===62||Cn(F)){const G=F===47,Y=a.toLowerCase();return!G&&!s&&xY.includes(Y)?(i=1,n.interrupt?t(F):R(F)):pQe.includes(a.toLowerCase())?(i=6,G?(e.consume(F),y):n.interrupt?t(F):R(F)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(F):s?x(F):_(F))}return F===45||ls(F)?(e.consume(F),a+=String.fromCharCode(F),m):r(F)}function y(F){return F===62?(e.consume(F),n.interrupt?t:R):r(F)}function x(F){return kr(F)?(e.consume(F),x):T(F)}function _(F){return F===47?(e.consume(F),T):F===58||F===95||As(F)?(e.consume(F),b):kr(F)?(e.consume(F),_):T(F)}function b(F){return F===45||F===46||F===58||F===95||ls(F)?(e.consume(F),b):w(F)}function w(F){return F===61?(e.consume(F),S):kr(F)?(e.consume(F),w):_(F)}function S(F){return F===null||F===60||F===61||F===62||F===96?r(F):F===34||F===39?(e.consume(F),l=F,k):kr(F)?(e.consume(F),S):C(F)}function k(F){return F===l?(e.consume(F),l=null,E):F===null||Rt(F)?r(F):(e.consume(F),k)}function C(F){return F===null||F===34||F===39||F===47||F===60||F===61||F===62||F===96||Cn(F)?w(F):(e.consume(F),C)}function E(F){return F===47||F===62||kr(F)?_(F):r(F)}function T(F){return F===62?(e.consume(F),N):r(F)}function N(F){return F===null||Rt(F)?R(F):kr(F)?(e.consume(F),N):r(F)}function R(F){return F===45&&i===2?(e.consume(F),L):F===60&&i===1?(e.consume(F),O):F===62&&i===4?(e.consume(F),z):F===63&&i===3?(e.consume(F),I):F===93&&i===5?(e.consume(F),M):Rt(F)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(mQe,U,P)(F)):F===null||Rt(F)?(e.exit("htmlFlowData"),P(F)):(e.consume(F),R)}function P(F){return e.check(vQe,D,U)(F)}function D(F){return e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),$}function $(F){return F===null||Rt(F)?P(F):(e.enter("htmlFlowData"),R(F))}function L(F){return F===45?(e.consume(F),I):R(F)}function O(F){return F===47?(e.consume(F),a="",j):R(F)}function j(F){if(F===62){const G=a.toLowerCase();return xY.includes(G)?(e.consume(F),z):R(F)}return As(F)&&a.length<8?(e.consume(F),a+=String.fromCharCode(F),j):R(F)}function M(F){return F===93?(e.consume(F),I):R(F)}function I(F){return F===62?(e.consume(F),z):F===45&&i===2?(e.consume(F),I):R(F)}function z(F){return F===null||Rt(F)?(e.exit("htmlFlowData"),U(F)):(e.consume(F),z)}function U(F){return e.exit("htmlFlow"),t(F)}}function _Qe(e,t,r){const n=this;return i;function i(a){return Rt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):r(a)}function s(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}function bQe(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Cw,t,r)}}const wQe={name:"htmlText",tokenize:SQe};function SQe(e,t,r){const n=this;let i,s,a;return o;function o(I){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(I),l}function l(I){return I===33?(e.consume(I),c):I===47?(e.consume(I),w):I===63?(e.consume(I),_):As(I)?(e.consume(I),C):r(I)}function c(I){return I===45?(e.consume(I),d):I===91?(e.consume(I),s=0,g):As(I)?(e.consume(I),x):r(I)}function d(I){return I===45?(e.consume(I),p):r(I)}function h(I){return I===null?r(I):I===45?(e.consume(I),f):Rt(I)?(a=h,O(I)):(e.consume(I),h)}function f(I){return I===45?(e.consume(I),p):h(I)}function p(I){return I===62?L(I):I===45?f(I):h(I)}function g(I){const z="CDATA[";return I===z.charCodeAt(s++)?(e.consume(I),s===z.length?v:g):r(I)}function v(I){return I===null?r(I):I===93?(e.consume(I),m):Rt(I)?(a=v,O(I)):(e.consume(I),v)}function m(I){return I===93?(e.consume(I),y):v(I)}function y(I){return I===62?L(I):I===93?(e.consume(I),y):v(I)}function x(I){return I===null||I===62?L(I):Rt(I)?(a=x,O(I)):(e.consume(I),x)}function _(I){return I===null?r(I):I===63?(e.consume(I),b):Rt(I)?(a=_,O(I)):(e.consume(I),_)}function b(I){return I===62?L(I):_(I)}function w(I){return As(I)?(e.consume(I),S):r(I)}function S(I){return I===45||ls(I)?(e.consume(I),S):k(I)}function k(I){return Rt(I)?(a=k,O(I)):kr(I)?(e.consume(I),k):L(I)}function C(I){return I===45||ls(I)?(e.consume(I),C):I===47||I===62||Cn(I)?E(I):r(I)}function E(I){return I===47?(e.consume(I),L):I===58||I===95||As(I)?(e.consume(I),T):Rt(I)?(a=E,O(I)):kr(I)?(e.consume(I),E):L(I)}function T(I){return I===45||I===46||I===58||I===95||ls(I)?(e.consume(I),T):N(I)}function N(I){return I===61?(e.consume(I),R):Rt(I)?(a=N,O(I)):kr(I)?(e.consume(I),N):E(I)}function R(I){return I===null||I===60||I===61||I===62||I===96?r(I):I===34||I===39?(e.consume(I),i=I,P):Rt(I)?(a=R,O(I)):kr(I)?(e.consume(I),R):(e.consume(I),D)}function P(I){return I===i?(e.consume(I),i=void 0,$):I===null?r(I):Rt(I)?(a=P,O(I)):(e.consume(I),P)}function D(I){return I===null||I===34||I===39||I===60||I===61||I===96?r(I):I===47||I===62||Cn(I)?E(I):(e.consume(I),D)}function $(I){return I===47||I===62||Cn(I)?E(I):r(I)}function L(I){return I===62?(e.consume(I),e.exit("htmlTextData"),e.exit("htmlText"),t):r(I)}function O(I){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),j}function j(I){return kr(I)?zr(e,M,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):M(I)}function M(I){return e.enter("htmlTextData"),a(I)}}const pB={name:"labelEnd",resolveAll:TQe,resolveTo:NQe,tokenize:AQe},CQe={tokenize:jQe},kQe={tokenize:RQe},EQe={tokenize:IQe};function TQe(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==r.length&&Ra(e,0,e.length,r),e}function NQe(e,t){let r=e.length,n=0,i,s,a,o;for(;r--;)if(i=e[r][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(a=r);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[s+n+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",l,t],["enter",c,t]],o=lo(o,e.slice(s+1,s+n+3)),o=lo(o,[["enter",d,t]]),o=lo(o,k2(t.parser.constructs.insideSpan.null,e.slice(s+n+4,a-3),t)),o=lo(o,[["exit",d,t],e[a-2],e[a-1],["exit",c,t]]),o=lo(o,e.slice(a+1)),o=lo(o,[["exit",l,t]]),Ra(e,s,e.length,o),e}function AQe(e,t,r){const n=this;let i=n.events.length,s,a;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){s=n.events[i][1];break}return o;function o(f){return s?s._inactive?h(f):(a=n.parser.defined.includes(Xo(n.sliceSerialize({start:s.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):r(f)}function l(f){return f===40?e.attempt(CQe,d,a?d:h)(f):f===91?e.attempt(kQe,d,a?c:h)(f):a?d(f):h(f)}function c(f){return e.attempt(EQe,d,h)(f)}function d(f){return t(f)}function h(f){return s._balanced=!0,r(f)}}function jQe(e,t,r){return n;function n(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return Cn(h)?Yx(e,s)(h):s(h)}function s(h){return h===41?d(h):lhe(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function a(h){return Cn(h)?Yx(e,l)(h):d(h)}function o(h){return r(h)}function l(h){return h===34||h===39||h===40?uhe(e,c,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function c(h){return Cn(h)?Yx(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):r(h)}}function RQe(e,t,r){const n=this;return i;function i(o){return che.call(n,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return n.parser.defined.includes(Xo(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(o):r(o)}function a(o){return r(o)}}function IQe(e,t,r){return n;function n(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):r(s)}}const MQe={name:"labelStartImage",resolveAll:pB.resolveAll,tokenize:PQe};function PQe(e,t,r){const n=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):r(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const LQe={name:"labelStartLink",resolveAll:pB.resolveAll,tokenize:DQe};function DQe(e,t,r){const n=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(a):t(a)}}const bI={name:"lineEnding",tokenize:OQe};function OQe(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),zr(e,t,"linePrefix")}}const uk={name:"thematicBreak",tokenize:$Qe};function $Qe(e,t,r){let n=0,i;return s;function s(c){return e.enter("thematicBreak"),a(c)}function a(c){return i=c,o(c)}function o(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):n>=3&&(c===null||Rt(c))?(e.exit("thematicBreak"),t(c)):r(c)}function l(c){return c===i?(e.consume(c),n++,l):(e.exit("thematicBreakSequence"),kr(c)?zr(e,o,"whitespace")(c):o(c))}}const Ks={continuation:{tokenize:UQe},exit:VQe,name:"list",tokenize:zQe},BQe={partial:!0,tokenize:WQe},FQe={partial:!0,tokenize:HQe};function zQe(e,t,r){const n=this,i=n.events[n.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(p){const g=n.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!n.containerState.marker||p===n.containerState.marker:GD(p)){if(n.containerState.type||(n.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(uk,r,c)(p):c(p);if(!n.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(p)}return r(p)}function l(p){return GD(p)&&++a<10?(e.consume(p),l):(!n.interrupt||a<2)&&(n.containerState.marker?p===n.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),c(p)):r(p)}function c(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||p,e.check(Cw,n.interrupt?r:d,e.attempt(BQe,f,h))}function d(p){return n.containerState.initialBlankLine=!0,s++,f(p)}function h(p){return kr(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),f):r(p)}function f(p){return n.containerState.size=s+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function UQe(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(Cw,i,s);function i(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,zr(e,t,"listItemIndent",n.containerState.size+1)(o)}function s(o){return n.containerState.furtherBlankLines||!kr(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,a(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(FQe,t,a)(o))}function a(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,zr(e,e.attempt(Ks,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function HQe(e,t,r){const n=this;return zr(e,i,"listItemIndent",n.containerState.size+1);function i(s){const a=n.events[n.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===n.containerState.size?t(s):r(s)}}function VQe(e){e.exit(this.containerState.type)}function WQe(e,t,r){const n=this;return zr(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=n.events[n.events.length-1];return!kr(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):r(s)}}const _Y={name:"setextUnderline",resolveTo:GQe,tokenize:qQe};function GQe(e,t){let r=e.length,n,i,s;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!s&&e[r][1].type==="definition"&&(s=r);const a={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[n][1],t]),e[n][1].end={...e[s][1].end}):e[n][1]=a,e.push(["exit",a,t]),e}function qQe(e,t,r){const n=this;let i;return s;function s(c){let d=n.events.length,h;for(;d--;)if(n.events[d][1].type!=="lineEnding"&&n.events[d][1].type!=="linePrefix"&&n.events[d][1].type!=="content"){h=n.events[d][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||h)?(e.enter("setextHeadingLine"),i=c,a(c)):r(c)}function a(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),kr(c)?zr(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Rt(c)?(e.exit("setextHeadingLine"),t(c)):r(c)}}const YQe={tokenize:KQe};function KQe(e){const t=this,r=e.attempt(Cw,n,e.attempt(this.parser.constructs.flowInitial,i,zr(e,e.attempt(this.parser.constructs.flow,i,e.attempt(eQe,i)),"linePrefix")));return r;function n(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const ZQe={resolveAll:hhe()},XQe=dhe("string"),JQe=dhe("text");function dhe(e){return{resolveAll:hhe(e==="text"?QQe:void 0),tokenize:t};function t(r){const n=this,i=this.parser.constructs[e],s=r.attempt(i,a,o);return a;function a(d){return c(d)?s(d):o(d)}function o(d){if(d===null){r.consume(d);return}return r.enter("data"),r.consume(d),l}function l(d){return c(d)?(r.exit("data"),s(d)):(r.consume(d),l)}function c(d){if(d===null)return!0;const h=i[d];let f=-1;if(h)for(;++f<h.length;){const p=h[f];if(!p.previous||p.previous.call(n,n.previous))return!0}return!1}}}function hhe(e){return t;function t(r,n){let i=-1,s;for(;++i<=r.length;)s===void 0?r[i]&&r[i][1].type==="data"&&(s=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==s+2&&(r[s][1].end=r[i-1][1].end,r.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(r,n):r}}function QQe(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let s=i.length,a=-1,o=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(c===-2)l=!0,o++;else if(c!==-1){s++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(o=0),o){const c={type:r===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:n.start._bufferIndex+a,_index:n.start._index+s,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...c.start},n.start.offset===n.end.offset?Object.assign(n,c):(e.splice(r,0,["enter",c,t],["exit",c,t]),r+=2)}r++}return e}const eet={42:Ks,43:Ks,45:Ks,48:Ks,49:Ks,50:Ks,51:Ks,52:Ks,53:Ks,54:Ks,55:Ks,56:Ks,57:Ks,62:ihe},tet={91:sQe},ret={[-2]:_I,[-1]:_I,32:_I},net={35:dQe,42:uk,45:[_Y,uk],60:gQe,61:_Y,95:uk,96:yY,126:yY},iet={38:ahe,92:she},set={[-5]:bI,[-4]:bI,[-3]:bI,33:MQe,38:ahe,42:qD,60:[LJe,wQe],91:LQe,92:[cQe,she],93:pB,95:qD,96:YJe},aet={null:[qD,ZQe]},oet={null:[42,95]},cet={null:[]},uet=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:oet,contentInitial:tet,disable:cet,document:eet,flow:net,flowInitial:ret,insideSpan:aet,string:iet,text:set},Symbol.toStringTag,{value:"Module"}));function det(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},s=[];let a=[],o=[];const l={attempt:k(w),check:k(S),consume:x,enter:_,exit:b,interrupt:k(S,{interrupt:!0})},c={code:null,containerState:{},defineSkip:v,events:[],now:g,parser:e,previous:null,sliceSerialize:f,sliceStream:p,write:h};let d=t.tokenize.call(c,l);return t.resolveAll&&s.push(t),c;function h(N){return a=lo(a,N),m(),a[a.length-1]!==null?[]:(C(t,0),c.events=k2(s,c.events,c),c.events)}function f(N,R){return fet(p(N),R)}function p(N){return het(a,N)}function g(){const{_bufferIndex:N,_index:R,line:P,column:D,offset:$}=n;return{_bufferIndex:N,_index:R,line:P,column:D,offset:$}}function v(N){i[N.line]=N.column,T()}function m(){let N;for(;n._index<a.length;){const R=a[n._index];if(typeof R=="string")for(N=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===N&&n._bufferIndex<R.length;)y(R.charCodeAt(n._bufferIndex));else y(R)}}function y(N){d=d(N)}function x(N){Rt(N)?(n.line++,n.column=1,n.offset+=N===-3?2:1,T()):N!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===a[n._index].length&&(n._bufferIndex=-1,n._index++)),c.previous=N}function _(N,R){const P=R||{};return P.type=N,P.start=g(),c.events.push(["enter",P,c]),o.push(P),P}function b(N){const R=o.pop();return R.end=g(),c.events.push(["exit",R,c]),R}function w(N,R){C(N,R.from)}function S(N,R){R.restore()}function k(N,R){return P;function P(D,$,L){let O,j,M,I;return Array.isArray(D)?U(D):"tokenize"in D?U([D]):z(D);function z(Z){return B;function B(W){const K=W!==null&&Z[W],X=W!==null&&Z.null,Q=[...Array.isArray(K)?K:K?[K]:[],...Array.isArray(X)?X:X?[X]:[]];return U(Q)(W)}}function U(Z){return O=Z,j=0,Z.length===0?L:F(Z[j])}function F(Z){return B;function B(W){return I=E(),M=Z,Z.partial||(c.currentConstruct=Z),Z.name&&c.parser.constructs.disable.null.includes(Z.name)?Y():Z.tokenize.call(R?Object.assign(Object.create(c),R):c,l,G,Y)(W)}}function G(Z){return N(M,I),$}function Y(Z){return I.restore(),++j<O.length?F(O[j]):L}}}function C(N,R){N.resolveAll&&!s.includes(N)&&s.push(N),N.resolve&&Ra(c.events,R,c.events.length-R,N.resolve(c.events.slice(R),c)),N.resolveTo&&(c.events=N.resolveTo(c.events,c))}function E(){const N=g(),R=c.previous,P=c.currentConstruct,D=c.events.length,$=Array.from(o);return{from:D,restore:L};function L(){n=N,c.previous=R,c.currentConstruct=P,c.events.length=D,o=$,T()}}function T(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function het(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(r===i)a=[e[r].slice(n,s)];else{if(a=e.slice(r,i),n>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(n):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function fet(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const s=e[r];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,n.push(a)}return n.join("")}function pet(e){const n={constructs:rhe([uet,...(e||{}).extensions||[]]),content:i(NJe),defined:[],document:i(jJe),flow:i(YQe),lazy:{},string:i(XQe),text:i(JQe)};return n;function i(s){return a;function a(o){return det(n,s,o)}}}function get(e){for(;!ohe(e););return e}const bY=/[\0\t\n\r]/g;function met(){let e=1,t="",r=!0,n;return i;function i(s,a,o){const l=[];let c,d,h,f,p;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),h=0,t="",r&&(s.charCodeAt(0)===65279&&h++,r=void 0);h<s.length;){if(bY.lastIndex=h,c=bY.exec(s),f=c&&c.index!==void 0?c.index:s.length,p=s.charCodeAt(f),!c){t=s.slice(h);break}if(p===10&&h===f&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),h<f&&(l.push(s.slice(h,f)),e+=f-h),p){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:n=!0,e=1}h=f+1}return o&&(n&&l.push(-5),t&&l.push(t),l.push(null)),l}}const vet=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function yet(e){return e.replace(vet,xet)}function xet(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),s=i===120||i===88;return nhe(r.slice(s?2:1),s?16:10)}return fB(r)||e}const fhe={}.hasOwnProperty;function _et(e,t,r){return typeof t!="string"&&(r=t,t=void 0),bet(r)(get(pet(r).document().write(met()(e,t,!0))))}function bet(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Lt),autolinkProtocol:E,autolinkEmail:E,atxHeading:s(Ie),blockQuote:s(X),characterEscape:E,characterReference:E,codeFenced:s(Q),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Q,a),codeText:s(re,a),codeTextData:E,data:E,codeFlowValue:E,definition:s(Se),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Te),hardBreakEscape:s(Me),hardBreakTrailing:s(Me),htmlFlow:s(Ee,a),htmlFlowData:E,htmlText:s(Ee,a),htmlTextData:E,image:s(Ae),label:a,link:s(Lt),listItem:s(ge),listItemValue:f,listOrdered:s(zt,h),listUnordered:s(zt),paragraph:s(Ze),reference:F,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Ie),strong:s(Oe),thematicBreak:s(ct)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:K,autolinkProtocol:W,blockQuote:l(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:Y,characterReferenceMarkerNumeric:Y,characterReferenceValue:Z,characterReference:B,codeFenced:l(m),codeFencedFence:v,codeFencedFenceInfo:p,codeFencedFenceMeta:g,codeFlowValue:T,codeIndented:l(y),codeText:l($),codeTextData:T,data:T,definition:l(),definitionDestinationString:b,definitionLabelString:x,definitionTitleString:_,emphasis:l(),hardBreakEscape:l(R),hardBreakTrailing:l(R),htmlFlow:l(P),htmlFlowData:T,htmlText:l(D),htmlTextData:T,image:l(O),label:M,labelText:j,lineEnding:N,link:l(L),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:G,resourceDestinationString:I,resourceTitleString:z,resource:U,setextHeading:l(C),setextHeadingLineSequence:k,setextHeadingText:S,strong:l(),thematicBreak:l()}};phe(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(te){let oe={type:"root",children:[]};const J={stack:[oe],tokenStack:[],config:t,enter:o,exit:c,buffer:a,resume:d,data:r},ne=[];let de=-1;for(;++de<te.length;)if(te[de][1].type==="listOrdered"||te[de][1].type==="listUnordered")if(te[de][0]==="enter")ne.push(de);else{const $e=ne.pop();de=i(te,$e,de)}for(de=-1;++de<te.length;){const $e=t[te[de][0]];fhe.call($e,te[de][1].type)&&$e[te[de][1].type].call(Object.assign({sliceSerialize:te[de][2].sliceSerialize},J),te[de][1])}if(J.tokenStack.length>0){const $e=J.tokenStack[J.tokenStack.length-1];($e[1]||wY).call(J,void 0,$e[0])}for(oe.position={start:Hu(te.length>0?te[0][1].start:{line:1,column:1,offset:0}),end:Hu(te.length>0?te[te.length-2][1].end:{line:1,column:1,offset:0})},de=-1;++de<t.transforms.length;)oe=t.transforms[de](oe)||oe;return oe}function i(te,oe,J){let ne=oe-1,de=-1,$e=!1,ze,ke,Et,wt;for(;++ne<=J;){const sr=te[ne];switch(sr[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{sr[0]==="enter"?de++:de--,wt=void 0;break}case"lineEndingBlank":{sr[0]==="enter"&&(ze&&!wt&&!de&&!Et&&(Et=ne),wt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:wt=void 0}if(!de&&sr[0]==="enter"&&sr[1].type==="listItemPrefix"||de===-1&&sr[0]==="exit"&&(sr[1].type==="listUnordered"||sr[1].type==="listOrdered")){if(ze){let St=ne;for(ke=void 0;St--;){const Dt=te[St];if(Dt[1].type==="lineEnding"||Dt[1].type==="lineEndingBlank"){if(Dt[0]==="exit")continue;ke&&(te[ke][1].type="lineEndingBlank",$e=!0),Dt[1].type="lineEnding",ke=St}else if(!(Dt[1].type==="linePrefix"||Dt[1].type==="blockQuotePrefix"||Dt[1].type==="blockQuotePrefixWhitespace"||Dt[1].type==="blockQuoteMarker"||Dt[1].type==="listItemIndent"))break}Et&&(!ke||Et<ke)&&(ze._spread=!0),ze.end=Object.assign({},ke?te[ke][1].start:sr[1].end),te.splice(ke||ne,0,["exit",ze,sr[2]]),ne++,J++}if(sr[1].type==="listItemPrefix"){const St={type:"listItem",_spread:!1,start:Object.assign({},sr[1].start),end:void 0};ze=St,te.splice(ne,0,["enter",St,sr[2]]),ne++,J++,Et=void 0,wt=!0}}}return te[oe][1]._spread=$e,J}function s(te,oe){return J;function J(ne){o.call(this,te(ne),ne),oe&&oe.call(this,ne)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(te,oe,J){this.stack[this.stack.length-1].children.push(te),this.stack.push(te),this.tokenStack.push([oe,J||void 0]),te.position={start:Hu(oe.start),end:void 0}}function l(te){return oe;function oe(J){te&&te.call(this,J),c.call(this,J)}}function c(te,oe){const J=this.stack.pop(),ne=this.tokenStack.pop();if(ne)ne[0].type!==te.type&&(oe?oe.call(this,te,ne[0]):(ne[1]||wY).call(this,te,ne[0]));else throw new Error("Cannot close `"+te.type+"` ("+qx({start:te.start,end:te.end})+"): it’s not open");J.position.end=Hu(te.end)}function d(){return hB(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(te){if(this.data.expectingFirstListItemValue){const oe=this.stack[this.stack.length-2];oe.start=Number.parseInt(this.sliceSerialize(te),10),this.data.expectingFirstListItemValue=void 0}}function p(){const te=this.resume(),oe=this.stack[this.stack.length-1];oe.lang=te}function g(){const te=this.resume(),oe=this.stack[this.stack.length-1];oe.meta=te}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function m(){const te=this.resume(),oe=this.stack[this.stack.length-1];oe.value=te.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const te=this.resume(),oe=this.stack[this.stack.length-1];oe.value=te.replace(/(\r?\n|\r)$/g,"")}function x(te){const oe=this.resume(),J=this.stack[this.stack.length-1];J.label=oe,J.identifier=Xo(this.sliceSerialize(te)).toLowerCase()}function _(){const te=this.resume(),oe=this.stack[this.stack.length-1];oe.title=te}function b(){const te=this.resume(),oe=this.stack[this.stack.length-1];oe.url=te}function w(te){const oe=this.stack[this.stack.length-1];if(!oe.depth){const J=this.sliceSerialize(te).length;oe.depth=J}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function k(te){const oe=this.stack[this.stack.length-1];oe.depth=this.sliceSerialize(te).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function E(te){const J=this.stack[this.stack.length-1].children;let ne=J[J.length-1];(!ne||ne.type!=="text")&&(ne=Wt(),ne.position={start:Hu(te.start),end:void 0},J.push(ne)),this.stack.push(ne)}function T(te){const oe=this.stack.pop();oe.value+=this.sliceSerialize(te),oe.position.end=Hu(te.end)}function N(te){const oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const J=oe.children[oe.children.length-1];J.position.end=Hu(te.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(oe.type)&&(E.call(this,te),T.call(this,te))}function R(){this.data.atHardBreak=!0}function P(){const te=this.resume(),oe=this.stack[this.stack.length-1];oe.value=te}function D(){const te=this.resume(),oe=this.stack[this.stack.length-1];oe.value=te}function $(){const te=this.resume(),oe=this.stack[this.stack.length-1];oe.value=te}function L(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=oe,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function O(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=oe,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function j(te){const oe=this.sliceSerialize(te),J=this.stack[this.stack.length-2];J.label=yet(oe),J.identifier=Xo(oe).toLowerCase()}function M(){const te=this.stack[this.stack.length-1],oe=this.resume(),J=this.stack[this.stack.length-1];if(this.data.inReference=!0,J.type==="link"){const ne=te.children;J.children=ne}else J.alt=oe}function I(){const te=this.resume(),oe=this.stack[this.stack.length-1];oe.url=te}function z(){const te=this.resume(),oe=this.stack[this.stack.length-1];oe.title=te}function U(){this.data.inReference=void 0}function F(){this.data.referenceType="collapsed"}function G(te){const oe=this.resume(),J=this.stack[this.stack.length-1];J.label=oe,J.identifier=Xo(this.sliceSerialize(te)).toLowerCase(),this.data.referenceType="full"}function Y(te){this.data.characterReferenceType=te.type}function Z(te){const oe=this.sliceSerialize(te),J=this.data.characterReferenceType;let ne;J?(ne=nhe(oe,J==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ne=fB(oe);const de=this.stack[this.stack.length-1];de.value+=ne}function B(te){const oe=this.stack.pop();oe.position.end=Hu(te.end)}function W(te){T.call(this,te);const oe=this.stack[this.stack.length-1];oe.url=this.sliceSerialize(te)}function K(te){T.call(this,te);const oe=this.stack[this.stack.length-1];oe.url="mailto:"+this.sliceSerialize(te)}function X(){return{type:"blockquote",children:[]}}function Q(){return{type:"code",lang:null,meta:null,value:""}}function re(){return{type:"inlineCode",value:""}}function Se(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Te(){return{type:"emphasis",children:[]}}function Ie(){return{type:"heading",depth:0,children:[]}}function Me(){return{type:"break"}}function Ee(){return{type:"html",value:""}}function Ae(){return{type:"image",title:null,url:"",alt:null}}function Lt(){return{type:"link",title:null,url:"",children:[]}}function zt(te){return{type:"list",ordered:te.type==="listOrdered",start:null,spread:te._spread,children:[]}}function ge(te){return{type:"listItem",spread:te._spread,checked:null,children:[]}}function Ze(){return{type:"paragraph",children:[]}}function Oe(){return{type:"strong",children:[]}}function Wt(){return{type:"text",value:""}}function ct(){return{type:"thematicBreak"}}}function Hu(e){return{line:e.line,column:e.column,offset:e.offset}}function phe(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?phe(e,n):wet(e,n)}}function wet(e,t){let r;for(r in t)if(fhe.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function wY(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+qx({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+qx({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+qx({start:t.start,end:t.end})+") is still open")}function Cet(e){const t=this;t.parser=r;function r(n){return _et(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function ket(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function Eet(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function Tet(e,t){const r=t.value?t.value+`
`:"",n={};t.lang&&(n.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function Net(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Aet(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function jet(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=r0(n.toLowerCase()),s=e.footnoteOrder.indexOf(n);let a,o=e.footnoteCounts.get(n);o===void 0?(o=0,e.footnoteOrder.push(n),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(n,o);const l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function Ret(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Iet(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function ghe(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=n:i.push({type:"text",value:n}),i}function Met(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return ghe(e,t);const i={src:r0(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function Pet(e,t){const r={src:r0(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function Let(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function Det(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return ghe(e,t);const i={href:r0(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function Oet(e,t){const r={href:r0(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $et(e,t,r){const n=e.all(t),i=r?Bet(r):mhe(t),s={},a=[];if(typeof t.checked=="boolean"){const d=n[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},n.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const d=n[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const l=n[n.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,c),e.applyData(t,c)}function Bet(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=mhe(r[n])}return t}function mhe(e){const t=e.spread;return t??e.children.length>1}function Fet(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const a=n[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,s),e.applyData(t,s)}function zet(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Uet(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function Het(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Vet(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],a),i.push(a)}if(r.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},o=lB(t.children[1]),l=Kde(t.children[t.children.length-1]);o&&l&&(a.position={start:o,end:l}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function Wet(e,t,r){const n=r?r.children:void 0,s=(n?n.indexOf(t):1)===0?"th":"td",a=r&&r.type==="table"?r.align:void 0,o=a?a.length:t.children.length;let l=-1;const c=[];for(;++l<o;){const h=t.children[l],f={},p=a?a[l]:void 0;p&&(f.align=p);let g={type:"element",tagName:s,properties:f,children:[]};h&&(g.children=e.all(h),e.patch(h,g),g=e.applyData(h,g)),c.push(g)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function Get(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const SY=9,CY=32;function qet(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const s=[];for(;n;)s.push(kY(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return s.push(kY(t.slice(i),i>0,!1)),s.join("")}function kY(e,t,r){let n=0,i=e.length;if(t){let s=e.codePointAt(n);for(;s===SY||s===CY;)n++,s=e.codePointAt(n)}if(r){let s=e.codePointAt(i-1);for(;s===SY||s===CY;)i--,s=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function Yet(e,t){const r={type:"text",value:qet(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function Ket(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const Zet={blockquote:ket,break:Eet,code:Tet,delete:Net,emphasis:Aet,footnoteReference:jet,heading:Ret,html:Iet,imageReference:Met,image:Pet,inlineCode:Let,linkReference:Det,link:Oet,listItem:$et,list:Fet,paragraph:zet,root:Uet,strong:Het,table:Vet,tableCell:Get,tableRow:Wet,text:Yet,thematicBreak:Ket,toml:JS,yaml:JS,definition:JS,footnoteDefinition:JS};function JS(){}const vhe=-1,E2=0,Kx=1,uT=2,gB=3,mB=4,vB=5,yB=6,yhe=7,xhe=8,EY=typeof self=="object"?self:globalThis,Xet=(e,t)=>{const r=(i,s)=>(e.set(s,i),i),n=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case E2:case vhe:return r(a,i);case Kx:{const o=r([],i);for(const l of a)o.push(n(l));return o}case uT:{const o=r({},i);for(const[l,c]of a)o[n(l)]=n(c);return o}case gB:return r(new Date(a),i);case mB:{const{source:o,flags:l}=a;return r(new RegExp(o,l),i)}case vB:{const o=r(new Map,i);for(const[l,c]of a)o.set(n(l),n(c));return o}case yB:{const o=r(new Set,i);for(const l of a)o.add(n(l));return o}case yhe:{const{name:o,message:l}=a;return r(new EY[o](l),i)}case xhe:return r(BigInt(a),i);case"BigInt":return r(Object(BigInt(a)),i);case"ArrayBuffer":return r(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return r(new DataView(o),a)}}return r(new EY[s](a),i)};return n},TY=e=>Xet(new Map,e)(0),Ag="",{toString:Jet}={},{keys:Qet}=Object,Ly=e=>{const t=typeof e;if(t!=="object"||!e)return[E2,t];const r=Jet.call(e).slice(8,-1);switch(r){case"Array":return[Kx,Ag];case"Object":return[uT,Ag];case"Date":return[gB,Ag];case"RegExp":return[mB,Ag];case"Map":return[vB,Ag];case"Set":return[yB,Ag];case"DataView":return[Kx,r]}return r.includes("Array")?[Kx,r]:r.includes("Error")?[yhe,r]:[uT,r]},QS=([e,t])=>e===E2&&(t==="function"||t==="symbol"),ett=(e,t,r,n)=>{const i=(a,o)=>{const l=n.push(a)-1;return r.set(o,l),l},s=a=>{if(r.has(a))return r.get(a);let[o,l]=Ly(a);switch(o){case E2:{let d=a;switch(l){case"bigint":o=xhe,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([vhe],a)}return i([o,d],a)}case Kx:{if(l){let f=a;return l==="DataView"?f=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(a)),i([l,[...f]],a)}const d=[],h=i([o,d],a);for(const f of a)d.push(s(f));return h}case uT:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const d=[],h=i([o,d],a);for(const f of Qet(a))(e||!QS(Ly(a[f])))&&d.push([s(f),s(a[f])]);return h}case gB:return i([o,a.toISOString()],a);case mB:{const{source:d,flags:h}=a;return i([o,{source:d,flags:h}],a)}case vB:{const d=[],h=i([o,d],a);for(const[f,p]of a)(e||!(QS(Ly(f))||QS(Ly(p))))&&d.push([s(f),s(p)]);return h}case yB:{const d=[],h=i([o,d],a);for(const f of a)(e||!QS(Ly(f)))&&d.push(s(f));return h}}const{message:c}=a;return i([o,{name:l,message:c}],a)};return s},NY=(e,{json:t,lossy:r}={})=>{const n=[];return ett(!(t||r),!!t,new Map,n)(e),n},dT=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?TY(NY(e,t)):structuredClone(e):(e,t)=>TY(NY(e,t));function ttt(e,t){const r=[{type:"text",value:"↩"}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function rtt(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function ntt(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||ttt,n=e.options.footnoteBackLabel||rtt,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),h=String(c.identifier).toUpperCase(),f=r0(h.toLowerCase());let p=0;const g=[],v=e.footnoteCounts.get(h);for(;v!==void 0&&++p<=v;){g.length>0&&g.push({type:"text",value:" "});let x=typeof r=="string"?r:r(l,p);typeof x=="string"&&(x={type:"text",value:x}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(l,p),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const m=d[d.length-1];if(m&&m.type==="element"&&m.tagName==="p"){const x=m.children[m.children.length-1];x&&x.type==="text"?x.value+=" ":m.children.push({type:"text",value:" "}),m.children.push(...g)}else d.push(...g);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(d,!0)};e.patch(c,y),o.push(y)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...dT(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const kw=function(e){if(e==null)return ott;if(typeof e=="function")return T2(e);if(typeof e=="object")return Array.isArray(e)?itt(e):stt(e);if(typeof e=="string")return att(e);throw new Error("Expected function, string, or object as test")};function itt(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=kw(e[r]);return T2(n);function n(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function stt(e){const t=e;return T2(r);function r(n){const i=n;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function att(e){return T2(t);function t(r){return r&&r.type===e}}function T2(e){return t;function t(r,n,i){return!!(ltt(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function ott(){return!0}function ltt(e){return e!==null&&typeof e=="object"&&"type"in e}const _he=[],ctt=!0,YD=!1,utt="skip";function bhe(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const s=kw(i),a=n?-1:1;o(e,void 0,[])();function o(l,c,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const p=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=_he,g,v,m;if((!t||s(l,c,d[d.length-1]||void 0))&&(p=dtt(r(l,d)),p[0]===YD))return p;if("children"in l&&l.children){const y=l;if(y.children&&p[0]!==utt)for(v=(n?y.children.length:-1)+a,m=d.concat(y);v>-1&&v<y.children.length;){const x=y.children[v];if(g=o(x,v,m)(),g[0]===YD)return g;v=typeof g[1]=="number"?g[1]:v+a}}return p}}}function dtt(e){return Array.isArray(e)?e:typeof e=="number"?[ctt,e]:e==null?_he:[e]}function N2(e,t,r,n){let i,s,a;typeof t=="function"&&typeof r!="function"?(s=void 0,a=t,i=r):(s=t,a=r,i=n),bhe(e,s,o,i);function o(l,c){const d=c[c.length-1],h=d?d.children.indexOf(l):void 0;return a(l,h,d)}}const KD={}.hasOwnProperty,htt={};function ftt(e,t){const r=t||htt,n=new Map,i=new Map,s=new Map,a={...Zet,...r.handlers},o={all:c,applyData:gtt,definitionById:n,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:l,options:r,patch:ptt,wrap:vtt};return N2(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?n:i,f=String(d.identifier).toUpperCase();h.has(f)||h.set(f,d)}}),o;function l(d,h){const f=d.type,p=o.handlers[f];if(KD.call(o.handlers,f)&&p)return p(o,d,h);if(o.options.passThrough&&o.options.passThrough.includes(f)){if("children"in d){const{children:v,...m}=d,y=dT(m);return y.children=o.all(d),y}return dT(d)}return(o.options.unknownHandler||mtt)(o,d,h)}function c(d){const h=[];if("children"in d){const f=d.children;let p=-1;for(;++p<f.length;){const g=o.one(f[p],d);if(g){if(p&&f[p-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=AY(g.value)),!Array.isArray(g)&&g.type==="element")){const v=g.children[0];v&&v.type==="text"&&(v.value=AY(v.value))}Array.isArray(g)?h.push(...g):h.push(g)}}}return h}}function ptt(e,t){e.position&&(t.position=eJe(e))}function gtt(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const a="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:a}}r.type==="element"&&s&&Object.assign(r.properties,dT(s)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function mtt(e,t){const r=t.data||{},n="value"in t&&!(KD.call(r,"hProperties")||KD.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function vtt(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function AY(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function jY(e,t){const r=ftt(e,t),n=r.one(e,void 0),i=ntt(r),s=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function ytt(e,t){return e&&"run"in e?async function(r,n){const i=jY(r,{file:n,...t});await e.run(i,n)}:function(r,n){return jY(r,{file:n,...e||t})}}function RY(e){if(e)throw e}var dk=Object.prototype.hasOwnProperty,whe=Object.prototype.toString,IY=Object.defineProperty,MY=Object.getOwnPropertyDescriptor,PY=function(t){return typeof Array.isArray=="function"?Array.isArray(t):whe.call(t)==="[object Array]"},LY=function(t){if(!t||whe.call(t)!=="[object Object]")return!1;var r=dk.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&dk.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var i;for(i in t);return typeof i>"u"||dk.call(t,i)},DY=function(t,r){IY&&r.name==="__proto__"?IY(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},OY=function(t,r){if(r==="__proto__")if(dk.call(t,r)){if(MY)return MY(t,r).value}else return;return t[r]},xtt=function e(){var t,r,n,i,s,a,o=arguments[0],l=1,c=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(t=arguments[l],t!=null)for(r in t)n=OY(o,r),i=OY(t,r),o!==i&&(d&&i&&(LY(i)||(s=PY(i)))?(s?(s=!1,a=n&&PY(n)?n:[]):a=n&&LY(n)?n:{},DY(o,{name:r,newValue:e(d,a,i)})):typeof i<"u"&&DY(o,{name:r,newValue:i}));return o};const wI=bv(xtt);function ZD(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function _tt(){const e=[],t={run:r,use:n};return t;function r(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(l,...c){const d=e[++s];let h=-1;if(l){a(l);return}for(;++h<i.length;)(c[h]===null||c[h]===void 0)&&(c[h]=i[h]);i=c,d?btt(d,o)(...c):a(null,...c)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function btt(e,t){let r;return n;function n(...a){const o=e.length>a.length;let l;o&&a.push(i);try{l=e.apply(this,a)}catch(c){const d=c;if(o&&r)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(a,...o){r||(r=!0,t(a,...o))}function s(a){i(null,a)}}const Il={basename:wtt,dirname:Stt,extname:Ctt,join:ktt,sep:"/"};function wtt(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ew(e);let r=0,n=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else n<0&&(s=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(n=i):(o=-1,n=a));return r===n?n=a:n<0&&(n=e.length),e.slice(r,n)}function Stt(e){if(Ew(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Ctt(e){Ew(e);let t=e.length,r=-1,n=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){n=t+1;break}continue}r<0&&(a=!0,r=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||r<0||s===0||s===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function ktt(...e){let t=-1,r;for(;++t<e.length;)Ew(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":Ett(r)}function Ett(e){Ew(e);const t=e.codePointAt(0)===47;let r=Ttt(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function Ttt(e,t){let r="",n=0,i=-1,s=0,a=-1,o,l;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length>0){r="",n=0,i=a,s=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,a):r=e.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return r}function Ew(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Ntt={cwd:Att};function Att(){return"/"}function XD(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function jtt(e){if(typeof e=="string")e=new URL(e);else if(!XD(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Rtt(e)}function Rtt(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const SI=["history","path","basename","stem","extname","dirname"];class She{constructor(t){let r;t?XD(t)?r={path:t}:typeof t=="string"||Itt(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":Ntt.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<SI.length;){const s=SI[n];s in r&&r[s]!==void 0&&r[s]!==null&&(this[s]=s==="history"?[...r[s]]:r[s])}let i;for(i in r)SI.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?Il.basename(this.path):void 0}set basename(t){kI(t,"basename"),CI(t,"basename"),this.path=Il.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Il.dirname(this.path):void 0}set dirname(t){$Y(this.basename,"dirname"),this.path=Il.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Il.extname(this.path):void 0}set extname(t){if(CI(t,"extname"),$Y(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Il.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){XD(t)&&(t=jtt(t)),kI(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Il.basename(this.path,this.extname):void 0}set stem(t){kI(t,"stem"),CI(t,"stem"),this.path=Il.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new ms(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function CI(e,t){if(e&&e.includes(Il.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Il.sep+"`")}function kI(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function $Y(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Itt(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Mtt=function(e){const n=this.constructor.prototype,i=n[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,n),s},Ptt={}.hasOwnProperty;class xB extends Mtt{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=_tt()}copy(){const t=new xB;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(wI(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(NI("data",this.frozen),this.namespace[t]=r,this):Ptt.call(this.namespace,t)&&this.namespace[t]||void 0:t?(NI("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=eC(t),n=this.parser||this.Parser;return EI("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),EI("process",this.parser||this.Parser),TI("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(s,a){const o=eC(t),l=n.parse(o);n.run(l,o,function(d,h,f){if(d||!h||!f)return c(d);const p=h,g=n.stringify(p,f);Ott(g)?f.value=g:f.result=g,c(d,f)});function c(d,h){d||!h?a(d):s?s(h):r(void 0,h)}}}processSync(t){let r=!1,n;return this.freeze(),EI("processSync",this.parser||this.Parser),TI("processSync",this.compiler||this.Compiler),this.process(t,i),FY("processSync","process",r),n;function i(s,a){r=!0,RY(s),n=a}}run(t,r,n){BY(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?s(void 0,n):new Promise(s);function s(a,o){const l=eC(r);i.run(t,l,c);function c(d,h,f){const p=h||t;d?o(d):a?a(p):n(void 0,p,f)}}}runSync(t,r){let n=!1,i;return this.run(t,r,s),FY("runSync","run",n),i;function s(a,o){RY(a),i=o,n=!0}}stringify(t,r){this.freeze();const n=eC(r),i=this.compiler||this.Compiler;return TI("stringify",i),BY(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(NI("use",this.frozen),t!=null)if(typeof t=="function")l(t,r);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...h]=c;l(d,h)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=wI(!0,i.settings,c.settings))}function o(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const h=c[d];s(h)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let h=-1,f=-1;for(;++h<n.length;)if(n[h][0]===c){f=h;break}if(f===-1)n.push([c,...d]);else if(d.length>0){let[p,...g]=d;const v=n[f][1];ZD(v)&&ZD(p)&&(p=wI(!0,v,p)),n[f]=[c,p,...g]}}}}const Ltt=new xB().freeze();function EI(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function TI(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function NI(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function BY(e){if(!ZD(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function FY(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function eC(e){return Dtt(e)?e:new She(e)}function Dtt(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Ott(e){return typeof e=="string"||$tt(e)}function $tt(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Btt="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",zY=[],UY={allowDangerousHtml:!0},Ftt=/^(https?|ircs?|mailto|xmpp)$/i,ztt=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Utt(e){const t=Htt(e),r=Vtt(e);return Wtt(t.runSync(t.parse(r),r),e)}function Htt(e){const t=e.rehypePlugins||zY,r=e.remarkPlugins||zY,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...UY}:UY;return Ltt().use(Cet).use(r).use(ytt,n).use(t)}function Vtt(e){const t=e.children||"",r=new She;return typeof t=="string"&&(r.value=t),r}function Wtt(e,t){const r=t.allowedElements,n=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||Gtt;for(const d of ztt)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Btt+d.id,void 0);return N2(e,c),sJe(e,{Fragment:u.Fragment,components:i,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,h,f){if(d.type==="raw"&&f&&typeof h=="number")return a?f.children.splice(h,1):f.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let p;for(p in xI)if(Object.hasOwn(xI,p)&&Object.hasOwn(d.properties,p)){const g=d.properties[p],v=xI[p];(v===null||v.includes(d.tagName))&&(d.properties[p]=l(String(g||""),p,d))}}if(d.type==="element"){let p=r?!r.includes(d.tagName):s?s.includes(d.tagName):!1;if(!p&&n&&typeof h=="number"&&(p=!n(d,h,f)),p&&f&&typeof h=="number")return o&&d.children?f.children.splice(h,1,...d.children):f.children.splice(h,1),h}}}function Gtt(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||r!==-1&&t>r||n!==-1&&t>n||Ftt.test(e.slice(0,t))?e:""}function HY(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(t);for(;i!==-1;)n++,i=r.indexOf(t,i+t.length);return n}function qtt(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Ytt(e,t,r){const i=kw((r||{}).ignore||[]),s=Ktt(t);let a=-1;for(;++a<s.length;)bhe(e,"text",o);function o(c,d){let h=-1,f;for(;++h<d.length;){const p=d[h],g=f?f.children:void 0;if(i(p,g?g.indexOf(p):void 0,f))return;f=p}if(f)return l(c,d)}function l(c,d){const h=d[d.length-1],f=s[a][0],p=s[a][1];let g=0;const m=h.children.indexOf(c);let y=!1,x=[];f.lastIndex=0;let _=f.exec(c.value);for(;_;){const b=_.index,w={index:_.index,input:_.input,stack:[...d,c]};let S=p(..._,w);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=b+1:(g!==b&&x.push({type:"text",value:c.value.slice(g,b)}),Array.isArray(S)?x.push(...S):S&&x.push(S),g=b+_[0].length,y=!0),!f.global)break;_=f.exec(c.value)}return y?(g<c.value.length&&x.push({type:"text",value:c.value.slice(g)}),h.children.splice(m,1,...x)):x=[c],m+x.length}}function Ktt(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const i=r[n];t.push([Ztt(i[0]),Xtt(i[1])])}return t}function Ztt(e){return typeof e=="string"?new RegExp(qtt(e),"g"):e}function Xtt(e){return typeof e=="function"?e:function(){return e}}const AI="phrasing",jI=["autolink","link","image","label"];function Jtt(){return{transforms:[srt],enter:{literalAutolink:ert,literalAutolinkEmail:RI,literalAutolinkHttp:RI,literalAutolinkWww:RI},exit:{literalAutolink:irt,literalAutolinkEmail:nrt,literalAutolinkHttp:trt,literalAutolinkWww:rrt}}}function Qtt(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:AI,notInConstruct:jI},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:AI,notInConstruct:jI},{character:":",before:"[ps]",after:"\\/",inConstruct:AI,notInConstruct:jI}]}}function ert(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function RI(e){this.config.enter.autolinkProtocol.call(this,e)}function trt(e){this.config.exit.autolinkProtocol.call(this,e)}function rrt(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function nrt(e){this.config.exit.autolinkEmail.call(this,e)}function irt(e){this.exit(e)}function srt(e){Ytt(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,art],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),ort]],{ignore:["link","linkReference"]})}function art(e,t,r,n,i){let s="";if(!Che(i)||(/^w/i.test(t)&&(r=t+r,t="",s="http://"),!lrt(r)))return!1;const a=crt(r+n);if(!a[0])return!1;const o={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function ort(e,t,r,n){return!Che(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function lrt(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function crt(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const i=HY(e,"(");let s=HY(e,")");for(;n!==-1&&i>s;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),s++;return[e,r]}function Che(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||gp(r)||C2(r))&&(!t||r!==47)}khe.peek=yrt;function urt(){this.buffer()}function drt(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function hrt(){this.buffer()}function frt(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function prt(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Xo(this.sliceSerialize(e)).toLowerCase(),r.label=t}function grt(e){this.exit(e)}function mrt(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Xo(this.sliceSerialize(e)).toLowerCase(),r.label=t}function vrt(e){this.exit(e)}function yrt(){return"["}function khe(e,t,r,n){const i=r.createTracker(n);let s=i.move("[^");const a=r.enter("footnoteReference"),o=r.enter("reference");return s+=i.move(r.safe(r.associationId(e),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function xrt(){return{enter:{gfmFootnoteCallString:urt,gfmFootnoteCall:drt,gfmFootnoteDefinitionLabelString:hrt,gfmFootnoteDefinition:frt},exit:{gfmFootnoteCallString:prt,gfmFootnoteCall:grt,gfmFootnoteDefinitionLabelString:mrt,gfmFootnoteDefinition:vrt}}}function _rt(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:khe},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,i,s,a){const o=s.createTracker(a);let l=o.move("[^");const c=s.enter("footnoteDefinition"),d=s.enter("label");return l+=o.move(s.safe(s.associationId(n),{before:l,after:"]"})),d(),l+=o.move("]:"),n.children&&n.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+s.indentLines(s.containerFlow(n,o.current()),t?Ehe:brt))),c(),l}}function brt(e,t,r){return t===0?e:Ehe(e,t,r)}function Ehe(e,t,r){return(r?"":"    ")+e}const wrt=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];The.peek=Trt;function Srt(){return{canContainEols:["delete"],enter:{strikethrough:krt},exit:{strikethrough:Ert}}}function Crt(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:wrt}],handlers:{delete:The}}}function krt(e){this.enter({type:"delete",children:[]},e)}function Ert(e){this.exit(e)}function The(e,t,r,n){const i=r.createTracker(n),s=r.enter("strikethrough");let a=i.move("~~");return a+=r.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function Trt(){return"~"}function Nrt(e){return e.length}function Art(e,t){const r=t||{},n=(r.align||[]).concat(),i=r.stringLength||Nrt,s=[],a=[],o=[],l=[];let c=0,d=-1;for(;++d<e.length;){const v=[],m=[];let y=-1;for(e[d].length>c&&(c=e[d].length);++y<e[d].length;){const x=jrt(e[d][y]);if(r.alignDelimiters!==!1){const _=i(x);m[y]=_,(l[y]===void 0||_>l[y])&&(l[y]=_)}v.push(x)}a[d]=v,o[d]=m}let h=-1;if(typeof n=="object"&&"length"in n)for(;++h<c;)s[h]=VY(n[h]);else{const v=VY(n);for(;++h<c;)s[h]=v}h=-1;const f=[],p=[];for(;++h<c;){const v=s[h];let m="",y="";v===99?(m=":",y=":"):v===108?m=":":v===114&&(y=":");let x=r.alignDelimiters===!1?1:Math.max(1,l[h]-m.length-y.length);const _=m+"-".repeat(x)+y;r.alignDelimiters!==!1&&(x=m.length+x+y.length,x>l[h]&&(l[h]=x),p[h]=x),f[h]=_}a.splice(1,0,f),o.splice(1,0,p),d=-1;const g=[];for(;++d<a.length;){const v=a[d],m=o[d];h=-1;const y=[];for(;++h<c;){const x=v[h]||"";let _="",b="";if(r.alignDelimiters!==!1){const w=l[h]-(m[h]||0),S=s[h];S===114?_=" ".repeat(w):S===99?w%2?(_=" ".repeat(w/2+.5),b=" ".repeat(w/2-.5)):(_=" ".repeat(w/2),b=_):b=" ".repeat(w)}r.delimiterStart!==!1&&!h&&y.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&x==="")&&(r.delimiterStart!==!1||h)&&y.push(" "),r.alignDelimiters!==!1&&y.push(_),y.push(x),r.alignDelimiters!==!1&&y.push(b),r.padding!==!1&&y.push(" "),(r.delimiterEnd!==!1||h!==c-1)&&y.push("|")}g.push(r.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return g.join(`
`)}function jrt(e){return e==null?"":String(e)}function VY(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Rrt(e,t,r,n){const i=r.enter("blockquote"),s=r.createTracker(n);s.move("> "),s.shift(2);const a=r.indentLines(r.containerFlow(e,s.current()),Irt);return i(),a}function Irt(e,t,r){return">"+(r?"":" ")+e}function Mrt(e,t){return WY(e,t.inConstruct,!0)&&!WY(e,t.notInConstruct,!1)}function WY(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function GY(e,t,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&Mrt(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function Prt(e,t){const r=String(e);let n=r.indexOf(t),i=n,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++s>a&&(a=s):s=1,i=n+t.length,n=r.indexOf(t,i);return a}function Lrt(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Drt(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Ort(e,t,r,n){const i=Drt(r),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(Lrt(e,r)){const h=r.enter("codeIndented"),f=r.indentLines(s,$rt);return h(),f}const o=r.createTracker(n),l=i.repeat(Math.max(Prt(s,i)+1,3)),c=r.enter("codeFenced");let d=o.move(l);if(e.lang){const h=r.enter(`codeFencedLang${a}`);d+=o.move(r.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),h()}if(e.lang&&e.meta){const h=r.enter(`codeFencedMeta${a}`);d+=o.move(" "),d+=o.move(r.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),h()}return d+=o.move(`
`),s&&(d+=o.move(s+`
`)),d+=o.move(l),c(),d}function $rt(e,t,r){return(r?"":"    ")+e}function _B(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Brt(e,t,r,n){const i=_B(r),s=i==='"'?"Quote":"Apostrophe",a=r.enter("definition");let o=r.enter("label");const l=r.createTracker(n);let c=l.move("[");return c+=l.move(r.safe(r.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(r.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=r.enter("destinationRaw"),c+=l.move(r.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=r.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(r.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),a(),c}function Frt(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function hb(e){return"&#x"+e.toString(16).toUpperCase()+";"}function hT(e,t,r){const n=dv(e),i=dv(t);return n===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Nhe.peek=zrt;function Nhe(e,t,r,n){const i=Frt(r),s=r.enter("emphasis"),a=r.createTracker(n),o=a.move(i);let l=a.move(r.containerPhrasing(e,{after:i,before:o,...a.current()}));const c=l.charCodeAt(0),d=hT(n.before.charCodeAt(n.before.length-1),c,i);d.inside&&(l=hb(c)+l.slice(1));const h=l.charCodeAt(l.length-1),f=hT(n.after.charCodeAt(0),h,i);f.inside&&(l=l.slice(0,-1)+hb(h));const p=a.move(i);return s(),r.attentionEncodeSurroundingInfo={after:f.outside,before:d.outside},o+l+p}function zrt(e,t,r){return r.options.emphasis||"*"}function Urt(e,t){let r=!1;return N2(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,YD}),!!((!e.depth||e.depth<3)&&hB(e)&&(t.options.setext||r))}function Hrt(e,t,r,n){const i=Math.max(Math.min(6,e.depth||1),1),s=r.createTracker(n);if(Urt(e,r)){const d=r.enter("headingSetext"),h=r.enter("phrasing"),f=r.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return h(),d(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=r.enter("headingAtx"),l=r.enter("phrasing");s.move(a+" ");let c=r.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=hb(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,r.options.closeAtx&&(c+=" "+a),l(),o(),c}Ahe.peek=Vrt;function Ahe(e){return e.value||""}function Vrt(){return"<"}jhe.peek=Wrt;function jhe(e,t,r,n){const i=_B(r),s=i==='"'?"Quote":"Apostrophe",a=r.enter("image");let o=r.enter("label");const l=r.createTracker(n);let c=l.move("![");return c+=l.move(r.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(r.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=r.enter("destinationRaw"),c+=l.move(r.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=r.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(r.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),c+=l.move(")"),a(),c}function Wrt(){return"!"}Rhe.peek=Grt;function Rhe(e,t,r,n){const i=e.referenceType,s=r.enter("imageReference");let a=r.enter("label");const o=r.createTracker(n);let l=o.move("![");const c=r.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),a();const d=r.stack;r.stack=[],a=r.enter("reference");const h=r.safe(r.associationId(e),{before:l,after:"]",...o.current()});return a(),r.stack=d,s(),i==="full"||!c||c!==h?l+=o.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Grt(){return"!"}Ihe.peek=qrt;function Ihe(e,t,r){let n=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++s<r.unsafe.length;){const a=r.unsafe[s],o=r.compilePattern(a);let l;if(a.atBreak)for(;l=o.exec(n);){let c=l.index;n.charCodeAt(c)===10&&n.charCodeAt(c-1)===13&&c--,n=n.slice(0,c)+" "+n.slice(l.index+1)}}return i+n+i}function qrt(){return"`"}function Mhe(e,t){const r=hB(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Phe.peek=Yrt;function Phe(e,t,r,n){const i=_B(r),s=i==='"'?"Quote":"Apostrophe",a=r.createTracker(n);let o,l;if(Mhe(e,r)){const d=r.stack;r.stack=[],o=r.enter("autolink");let h=a.move("<");return h+=a.move(r.containerPhrasing(e,{before:h,after:">",...a.current()})),h+=a.move(">"),o(),r.stack=d,h}o=r.enter("link"),l=r.enter("label");let c=a.move("[");return c+=a.move(r.containerPhrasing(e,{before:c,after:"](",...a.current()})),c+=a.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(r.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(l=r.enter("destinationRaw"),c+=a.move(r.safe(e.url,{before:c,after:e.title?" ":")",...a.current()}))),l(),e.title&&(l=r.enter(`title${s}`),c+=a.move(" "+i),c+=a.move(r.safe(e.title,{before:c,after:i,...a.current()})),c+=a.move(i),l()),c+=a.move(")"),o(),c}function Yrt(e,t,r){return Mhe(e,r)?"<":"["}Lhe.peek=Krt;function Lhe(e,t,r,n){const i=e.referenceType,s=r.enter("linkReference");let a=r.enter("label");const o=r.createTracker(n);let l=o.move("[");const c=r.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),a();const d=r.stack;r.stack=[],a=r.enter("reference");const h=r.safe(r.associationId(e),{before:l,after:"]",...o.current()});return a(),r.stack=d,s(),i==="full"||!c||c!==h?l+=o.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Krt(){return"["}function bB(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Zrt(e){const t=bB(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function Xrt(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Dhe(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Jrt(e,t,r,n){const i=r.enter("list"),s=r.bulletCurrent;let a=e.ordered?Xrt(r):bB(r);const o=e.ordered?a==="."?")":".":Zrt(r);let l=t&&r.bulletLastUsed?a===r.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(l=!0),Dhe(r)===a&&d){let h=-1;for(;++h<e.children.length;){const f=e.children[h];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=o),r.bulletCurrent=a;const c=r.containerFlow(e,n);return r.bulletLastUsed=a,r.bulletCurrent=s,i(),c}function Qrt(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function ent(e,t,r,n){const i=Qrt(r);let s=r.bulletCurrent||bB(r);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=r.createTracker(n);o.move(s+" ".repeat(a-s.length)),o.shift(a);const l=r.enter("listItem"),c=r.indentLines(r.containerFlow(e,o.current()),d);return l(),c;function d(h,f,p){return f?(p?"":" ".repeat(a))+h:(p?s:s+" ".repeat(a-s.length))+h}}function tnt(e,t,r,n){const i=r.enter("paragraph"),s=r.enter("phrasing"),a=r.containerPhrasing(e,n);return s(),i(),a}const rnt=kw(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function nnt(e,t,r,n){return(e.children.some(function(a){return rnt(a)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function int(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Ohe.peek=snt;function Ohe(e,t,r,n){const i=int(r),s=r.enter("strong"),a=r.createTracker(n),o=a.move(i+i);let l=a.move(r.containerPhrasing(e,{after:i,before:o,...a.current()}));const c=l.charCodeAt(0),d=hT(n.before.charCodeAt(n.before.length-1),c,i);d.inside&&(l=hb(c)+l.slice(1));const h=l.charCodeAt(l.length-1),f=hT(n.after.charCodeAt(0),h,i);f.inside&&(l=l.slice(0,-1)+hb(h));const p=a.move(i+i);return s(),r.attentionEncodeSurroundingInfo={after:f.outside,before:d.outside},o+l+p}function snt(e,t,r){return r.options.strong||"*"}function ant(e,t,r,n){return r.safe(e.value,n)}function ont(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function lnt(e,t,r){const n=(Dhe(r)+(r.options.ruleSpaces?" ":"")).repeat(ont(r));return r.options.ruleSpaces?n.slice(0,-1):n}const $he={blockquote:Rrt,break:GY,code:Ort,definition:Brt,emphasis:Nhe,hardBreak:GY,heading:Hrt,html:Ahe,image:jhe,imageReference:Rhe,inlineCode:Ihe,link:Phe,linkReference:Lhe,list:Jrt,listItem:ent,paragraph:tnt,root:nnt,strong:Ohe,text:ant,thematicBreak:lnt};function cnt(){return{enter:{table:unt,tableData:qY,tableHeader:qY,tableRow:hnt},exit:{codeText:fnt,table:dnt,tableData:II,tableHeader:II,tableRow:II}}}function unt(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function dnt(e){this.exit(e),this.data.inTable=void 0}function hnt(e){this.enter({type:"tableRow",children:[]},e)}function II(e){this.exit(e)}function qY(e){this.enter({type:"tableCell",children:[]},e)}function fnt(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,pnt));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function pnt(e,t){return t==="|"?t:e}function gnt(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,i=t.stringLength,s=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:a,tableCell:l,tableRow:o}};function a(p,g,v,m){return c(d(p,v,m),p.align)}function o(p,g,v,m){const y=h(p,v,m),x=c([y]);return x.slice(0,x.indexOf(`
`))}function l(p,g,v,m){const y=v.enter("tableCell"),x=v.enter("phrasing"),_=v.containerPhrasing(p,{...m,before:s,after:s});return x(),y(),_}function c(p,g){return Art(p,{align:g,alignDelimiters:n,padding:r,stringLength:i})}function d(p,g,v){const m=p.children;let y=-1;const x=[],_=g.enter("table");for(;++y<m.length;)x[y]=h(m[y],g,v);return _(),x}function h(p,g,v){const m=p.children;let y=-1;const x=[],_=g.enter("tableRow");for(;++y<m.length;)x[y]=l(m[y],p,g,v);return _(),x}function f(p,g,v){let m=$he.inlineCode(p,g,v);return v.stack.includes("tableCell")&&(m=m.replace(/\|/g,"\\$&")),m}}function mnt(){return{exit:{taskListCheckValueChecked:YY,taskListCheckValueUnchecked:YY,paragraph:ynt}}}function vnt(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:xnt}}}function YY(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function ynt(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function xnt(e,t,r,n){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=r.createTracker(n);s&&o.move(a);let l=$he.listItem(e,t,r,{...n,...o.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+a}}function _nt(){return[Jtt(),xrt(),Srt(),cnt(),mnt()]}function bnt(e){return{extensions:[Qtt(),_rt(e),Crt(),gnt(e),vnt()]}}const wnt={tokenize:Nnt,partial:!0},Bhe={tokenize:Ant,partial:!0},Fhe={tokenize:jnt,partial:!0},zhe={tokenize:Rnt,partial:!0},Snt={tokenize:Int,partial:!0},Uhe={name:"wwwAutolink",tokenize:Ent,previous:Vhe},Hhe={name:"protocolAutolink",tokenize:Tnt,previous:Whe},Cu={name:"emailAutolink",tokenize:knt,previous:Ghe},yc={};function Cnt(){return{text:yc}}let Kh=48;for(;Kh<123;)yc[Kh]=Cu,Kh++,Kh===58?Kh=65:Kh===91&&(Kh=97);yc[43]=Cu;yc[45]=Cu;yc[46]=Cu;yc[95]=Cu;yc[72]=[Cu,Hhe];yc[104]=[Cu,Hhe];yc[87]=[Cu,Uhe];yc[119]=[Cu,Uhe];function knt(e,t,r){const n=this;let i,s;return a;function a(h){return!JD(h)||!Ghe.call(n,n.previous)||wB(n.events)?r(h):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(h))}function o(h){return JD(h)?(e.consume(h),o):h===64?(e.consume(h),l):r(h)}function l(h){return h===46?e.check(Snt,d,c)(h):h===45||h===95||ls(h)?(s=!0,e.consume(h),l):d(h)}function c(h){return e.consume(h),i=!0,l}function d(h){return s&&i&&As(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(h)):r(h)}}function Ent(e,t,r){const n=this;return i;function i(a){return a!==87&&a!==119||!Vhe.call(n,n.previous)||wB(n.events)?r(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(wnt,e.attempt(Bhe,e.attempt(Fhe,s),r),r)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function Tnt(e,t,r){const n=this;let i="",s=!1;return a;function a(h){return(h===72||h===104)&&Whe.call(n,n.previous)&&!wB(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),e.consume(h),o):r(h)}function o(h){if(As(h)&&i.length<5)return i+=String.fromCodePoint(h),e.consume(h),o;if(h===58){const f=i.toLowerCase();if(f==="http"||f==="https")return e.consume(h),l}return r(h)}function l(h){return h===47?(e.consume(h),s?c:(s=!0,l)):r(h)}function c(h){return h===null||cT(h)||Cn(h)||gp(h)||C2(h)?r(h):e.attempt(Bhe,e.attempt(Fhe,d),r)(h)}function d(h){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(h)}}function Nnt(e,t,r){let n=0;return i;function i(a){return(a===87||a===119)&&n<3?(n++,e.consume(a),i):a===46&&n===3?(e.consume(a),s):r(a)}function s(a){return a===null?r(a):t(a)}}function Ant(e,t,r){let n,i,s;return a;function a(c){return c===46||c===95?e.check(zhe,l,o)(c):c===null||Cn(c)||gp(c)||c!==45&&C2(c)?l(c):(s=!0,e.consume(c),a)}function o(c){return c===95?n=!0:(i=n,n=void 0),e.consume(c),a}function l(c){return i||n||!s?r(c):t(c)}}function jnt(e,t){let r=0,n=0;return i;function i(a){return a===40?(r++,e.consume(a),i):a===41&&n<r?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(zhe,t,s)(a):a===null||Cn(a)||gp(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&n++,e.consume(a),i}}function Rnt(e,t,r){return n;function n(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),n):o===38?(e.consume(o),s):o===93?(e.consume(o),i):o===60||o===null||Cn(o)||gp(o)?t(o):r(o)}function i(o){return o===null||o===40||o===91||Cn(o)||gp(o)?t(o):n(o)}function s(o){return As(o)?a(o):r(o)}function a(o){return o===59?(e.consume(o),n):As(o)?(e.consume(o),a):r(o)}}function Int(e,t,r){return n;function n(s){return e.consume(s),i}function i(s){return ls(s)?r(s):t(s)}}function Vhe(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Cn(e)}function Whe(e){return!As(e)}function Ghe(e){return!(e===47||JD(e))}function JD(e){return e===43||e===45||e===46||e===95||ls(e)}function wB(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const Mnt={tokenize:znt,partial:!0};function Pnt(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:$nt,continuation:{tokenize:Bnt},exit:Fnt}},text:{91:{name:"gfmFootnoteCall",tokenize:Ont},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Lnt,resolveTo:Dnt}}}}function Lnt(e,t,r){const n=this;let i=n.events.length;const s=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a;for(;i--;){const l=n.events[i][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!a||!a._balanced)return r(l);const c=Xo(n.sliceSerialize({start:a.end,end:n.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?r(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function Dnt(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...o),e}function Ont(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s=0,a;return o;function o(h){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),l}function l(h){return h!==94?r(h):(e.enter("gfmFootnoteCallMarker"),e.consume(h),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(h){if(s>999||h===93&&!a||h===null||h===91||Cn(h))return r(h);if(h===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return i.includes(Xo(n.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(h)}return Cn(h)||(a=!0),s++,e.consume(h),h===92?d:c}function d(h){return h===91||h===92||h===93?(e.consume(h),s++,c):c(h)}}function $nt(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s,a=0,o;return l;function l(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):r(g)}function d(g){if(a>999||g===93&&!o||g===null||g===91||Cn(g))return r(g);if(g===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return s=Xo(n.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return Cn(g)||(o=!0),a++,e.consume(g),g===92?h:d}function h(g){return g===91||g===92||g===93?(e.consume(g),a++,d):d(g)}function f(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),i.includes(s)||i.push(s),zr(e,p,"gfmFootnoteDefinitionWhitespace")):r(g)}function p(g){return t(g)}}function Bnt(e,t,r){return e.check(Cw,t,e.attempt(Mnt,t,r))}function Fnt(e){e.exit("gfmFootnoteDefinition")}function znt(e,t,r){const n=this;return zr(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=n.events[n.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):r(s)}}function Unt(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:s,resolveAll:i};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(a,o){let l=-1;for(;++l<a.length;)if(a[l][0]==="enter"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._close){let c=l;for(;c--;)if(a[c][0]==="exit"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._open&&a[l][1].end.offset-a[l][1].start.offset===a[c][1].end.offset-a[c][1].start.offset){a[l][1].type="strikethroughSequence",a[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[c][1].start),end:Object.assign({},a[l][1].end)},h={type:"strikethroughText",start:Object.assign({},a[c][1].end),end:Object.assign({},a[l][1].start)},f=[["enter",d,o],["enter",a[c][1],o],["exit",a[c][1],o],["enter",h,o]],p=o.parser.constructs.insideSpan.null;p&&Ra(f,f.length,0,k2(p,a.slice(c+1,l),o)),Ra(f,f.length,0,[["exit",h,o],["enter",a[l][1],o],["exit",a[l][1],o],["exit",d,o]]),Ra(a,c-1,l-c+3,f),l=c+f.length-2;break}}for(l=-1;++l<a.length;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function s(a,o,l){const c=this.previous,d=this.events;let h=0;return f;function f(g){return c===126&&d[d.length-1][1].type!=="characterEscape"?l(g):(a.enter("strikethroughSequenceTemporary"),p(g))}function p(g){const v=dv(c);if(g===126)return h>1?l(g):(a.consume(g),h++,p);if(h<2&&!r)return l(g);const m=a.exit("strikethroughSequenceTemporary"),y=dv(g);return m._open=!y||y===2&&!!v,m._close=!v||v===2&&!!y,o(g)}}}class Hnt{constructor(){this.map=[]}add(t,r,n){Vnt(this,t,r,n)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let i=n.pop();for(;i;){for(const s of i)t.push(s);i=n.pop()}this.map.length=0}}function Vnt(e,t,r,n){let i=0;if(!(r===0&&n.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=r,e.map[i][2].push(...n);return}i+=1}e.map.push([t,r,n])}}function Wnt(e,t){let r=!1;const n=[];for(;t<e.length;){const i=e[t];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=n.length-1;n[s]=n[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function Gnt(){return{flow:{null:{name:"table",tokenize:qnt,resolveAll:Ynt}}}}function qnt(e,t,r){const n=this;let i=0,s=0,a;return o;function o(T){let N=n.events.length-1;for(;N>-1;){const D=n.events[N][1].type;if(D==="lineEnding"||D==="linePrefix")N--;else break}const R=N>-1?n.events[N][1].type:null,P=R==="tableHead"||R==="tableRow"?S:l;return P===S&&n.parser.lazy[n.now().line]?r(T):P(T)}function l(T){return e.enter("tableHead"),e.enter("tableRow"),c(T)}function c(T){return T===124||(a=!0,s+=1),d(T)}function d(T){return T===null?r(T):Rt(T)?s>1?(s=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),p):r(T):kr(T)?zr(e,d,"whitespace")(T):(s+=1,a&&(a=!1,i+=1),T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),a=!0,d):(e.enter("data"),h(T)))}function h(T){return T===null||T===124||Cn(T)?(e.exit("data"),d(T)):(e.consume(T),T===92?f:h)}function f(T){return T===92||T===124?(e.consume(T),h):h(T)}function p(T){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(T):(e.enter("tableDelimiterRow"),a=!1,kr(T)?zr(e,g,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):g(T))}function g(T){return T===45||T===58?m(T):T===124?(a=!0,e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),v):w(T)}function v(T){return kr(T)?zr(e,m,"whitespace")(T):m(T)}function m(T){return T===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),y):T===45?(s+=1,y(T)):T===null||Rt(T)?b(T):w(T)}function y(T){return T===45?(e.enter("tableDelimiterFiller"),x(T)):w(T)}function x(T){return T===45?(e.consume(T),x):T===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),_):(e.exit("tableDelimiterFiller"),_(T))}function _(T){return kr(T)?zr(e,b,"whitespace")(T):b(T)}function b(T){return T===124?g(T):T===null||Rt(T)?!a||i!==s?w(T):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(T)):w(T)}function w(T){return r(T)}function S(T){return e.enter("tableRow"),k(T)}function k(T){return T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),k):T===null||Rt(T)?(e.exit("tableRow"),t(T)):kr(T)?zr(e,k,"whitespace")(T):(e.enter("data"),C(T))}function C(T){return T===null||T===124||Cn(T)?(e.exit("data"),k(T)):(e.consume(T),T===92?E:C)}function E(T){return T===92||T===124?(e.consume(T),C):C(T)}}function Ynt(e,t){let r=-1,n=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,l=0,c,d,h;const f=new Hnt;for(;++r<e.length;){const p=e[r],g=p[1];p[0]==="enter"?g.type==="tableHead"?(o=!1,l!==0&&(KY(f,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(r,0,[["enter",c,t]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(n=!0,h=void 0,s=[0,0,0,0],a=[0,r+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(r,0,[["enter",d,t]])),i=g.type==="tableDelimiterRow"?2:d?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(n=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],h=tC(f,t,s,i,void 0,h),s=[0,0,0,0]),a[2]=r)):g.type==="tableCellDivider"&&(n?n=!1:(s[1]!==0&&(a[0]=a[1],h=tC(f,t,s,i,void 0,h)),s=a,a=[s[1],r,0,0])):g.type==="tableHead"?(o=!0,l=r):g.type==="tableRow"||g.type==="tableDelimiterRow"?(l=r,s[1]!==0?(a[0]=a[1],h=tC(f,t,s,i,r,h)):a[1]!==0&&(h=tC(f,t,a,i,r,h)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(a[3]=r)}for(l!==0&&KY(f,t,l,c,d),f.consume(t.events),r=-1;++r<t.events.length;){const p=t.events[r];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=Wnt(t.events,r))}return e}function tC(e,t,r,n,i,s){const a=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",o="tableContent";r[0]!==0&&(s.end=Object.assign({},Fg(t.events,r[0])),e.add(r[0],0,[["exit",s,t]]));const l=Fg(t.events,r[1]);if(s={type:a,start:Object.assign({},l),end:Object.assign({},l)},e.add(r[1],0,[["enter",s,t]]),r[2]!==0){const c=Fg(t.events,r[2]),d=Fg(t.events,r[3]),h={type:o,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(r[2],0,[["enter",h,t]]),n!==2){const f=t.events[r[2]],p=t.events[r[3]];if(f[1].end=Object.assign({},p[1].end),f[1].type="chunkText",f[1].contentType="text",r[3]>r[2]+1){const g=r[2]+1,v=r[3]-r[2]-1;e.add(g,v,[])}}e.add(r[3]+1,0,[["exit",h,t]])}return i!==void 0&&(s.end=Object.assign({},Fg(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function KY(e,t,r,n,i){const s=[],a=Fg(t.events,r);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),n.end=Object.assign({},a),s.push(["exit",n,t]),e.add(r+1,0,s)}function Fg(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const Knt={name:"tasklistCheck",tokenize:Xnt};function Znt(){return{text:{91:Knt}}}function Xnt(e,t,r){const n=this;return i;function i(l){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),s)}function s(l){return Cn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),a):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),a):r(l)}function a(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):r(l)}function o(l){return Rt(l)?t(l):kr(l)?e.check({tokenize:Jnt},t,r)(l):r(l)}}function Jnt(e,t,r){return zr(e,n,"whitespace");function n(i){return i===null?r(i):t(i)}}function Qnt(e){return rhe([Cnt(),Pnt(),Unt(e),Gnt(),Znt()])}const eit={};function tit(e){const t=this,r=e||eit,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),s=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),a=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(Qnt(r)),s.push(_nt()),a.push(bnt(r))}const ZY=function(e,t,r){const n=kw(r);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(n(e.children[t],t,e))return e.children[t]},Bp=function(e){if(e==null)return iit;if(typeof e=="string")return nit(e);if(typeof e=="object")return rit(e);if(typeof e=="function")return SB(e);throw new Error("Expected function, string, or array as `test`")};function rit(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Bp(e[r]);return SB(n);function n(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function nit(e){return SB(t);function t(r){return r.tagName===e}}function SB(e){return t;function t(r,n,i){return!!(sit(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function iit(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function sit(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const XY=/\n/g,JY=/[\t ]+/g,QD=Bp("br"),QY=Bp(fit),ait=Bp("p"),eK=Bp("tr"),oit=Bp(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",hit,pit]),qhe=Bp(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function lit(e,t){const r=t||{},n="children"in e?e.children:[],i=qhe(e),s=Zhe(e,{whitespace:r.whitespace||"normal"}),a=[];(e.type==="text"||e.type==="comment")&&a.push(...Khe(e,{breakBefore:!0,breakAfter:!0}));let o=-1;for(;++o<n.length;)a.push(...Yhe(n[o],e,{whitespace:s,breakBefore:o?void 0:i,breakAfter:o<n.length-1?QD(n[o+1]):i}));const l=[];let c;for(o=-1;++o<a.length;){const d=a[o];typeof d=="number"?c!==void 0&&d>c&&(c=d):d&&(c!==void 0&&c>-1&&l.push(`
`.repeat(c)||" "),c=-1,l.push(d))}return l.join("")}function Yhe(e,t,r){return e.type==="element"?cit(e,t,r):e.type==="text"?r.whitespace==="normal"?Khe(e,r):uit(e):[]}function cit(e,t,r){const n=Zhe(e,r),i=e.children||[];let s=-1,a=[];if(oit(e))return a;let o,l;for(QD(e)||eK(e)&&ZY(t,e,eK)?l=`
`:ait(e)?(o=2,l=2):qhe(e)&&(o=1,l=1);++s<i.length;)a=a.concat(Yhe(i[s],e,{whitespace:n,breakBefore:s?void 0:o,breakAfter:s<i.length-1?QD(i[s+1]):l}));return QY(e)&&ZY(t,e,QY)&&a.push("	"),o&&a.unshift(o),l&&a.push(l),a}function Khe(e,t){const r=String(e.value),n=[],i=[];let s=0;for(;s<=r.length;){XY.lastIndex=s;const l=XY.exec(r),c=l&&"index"in l?l.index:r.length;n.push(dit(r.slice(s,c).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),s===0?t.breakBefore:!0,c===r.length?t.breakAfter:!0)),s=c+1}let a=-1,o;for(;++a<n.length;)n[a].charCodeAt(n[a].length-1)===8203||a<n.length-1&&n[a+1].charCodeAt(0)===8203?(i.push(n[a]),o=void 0):n[a]?(typeof o=="number"&&i.push(o),i.push(n[a]),o=0):(a===0||a===n.length-1)&&i.push(0);return i}function uit(e){return[String(e.value)]}function dit(e,t,r){const n=[];let i=0,s;for(;i<e.length;){JY.lastIndex=i;const a=JY.exec(e);s=a?a.index:e.length,!i&&!s&&a&&!t&&n.push(""),i!==s&&n.push(e.slice(i,s)),i=a?s+a[0].length:s}return i!==s&&!r&&n.push(""),n.join(" ")}function Zhe(e,t){if(e.type==="element"){const r=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return r.wrap?"pre-wrap":"pre";case"td":case"th":return r.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function hit(e){return!!(e.properties||{}).hidden}function fit(e){return e.tagName==="td"||e.tagName==="th"}function pit(e){return e.tagName==="dialog"&&!(e.properties||{}).open}function git(e){const t=e.regex,r=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="(?!struct)("+n+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",o={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},r,e.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},p=t.optional(i)+e.IDENT_RE+"\\s*\\(",g=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],v=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],m=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],b={type:v,keyword:g,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:m},w={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},S=[w,h,o,r,e.C_BLOCK_COMMENT_MODE,d,c],k={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:b,contains:S.concat([{begin:/\(/,end:/\)/,keywords:b,contains:S.concat(["self"]),relevance:0}]),relevance:0},C={className:"function",begin:"("+a+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:b,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:b,relevance:0},{begin:p,returnBegin:!0,contains:[f],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:b,relevance:0,contains:[r,e.C_BLOCK_COMMENT_MODE,c,d,o,{begin:/\(/,end:/\)/,keywords:b,relevance:0,contains:["self",r,e.C_BLOCK_COMMENT_MODE,c,d,o]}]},o,r,e.C_BLOCK_COMMENT_MODE,h]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:b,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(k,C,w,S,[h,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:b,contains:["self",o]},{begin:e.IDENT_RE+"::",keywords:b},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function mit(e){const t={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},r=git(e),n=r.keywords;return n.type=[...n.type,...t.type],n.literal=[...n.literal,...t.literal],n.built_in=[...n.built_in,...t.built_in],n._hints=t._hints,r.name="Arduino",r.aliases=["ino"],r.supersetOf="cpp",r}function vit(e){const t=e.regex,r={},n={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[r]}]};Object.assign(r,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},n]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},s=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),a={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},o={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,r,i]};i.contains.push(o);const l={match:/\\"/},c={className:"string",begin:/'/,end:/'/},d={match:/\\'/},h={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,r]},f=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],p=e.SHEBANG({binary:`(${f.join("|")})`,relevance:10}),g={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},v=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],m=["true","false"],y={match:/(\/[a-z._-]+)+/},x=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],_=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],b=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],w=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:v,literal:m,built_in:[...x,..._,"set","shopt",...b,...w]},contains:[p,e.SHEBANG(),g,h,s,a,y,o,l,c,d,r]}}function yit(e){const t=e.regex,r=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="("+n+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",o={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},r,e.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},p=t.optional(i)+e.IDENT_RE+"\\s*\\(",m={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},y=[h,o,r,e.C_BLOCK_COMMENT_MODE,d,c],x={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:m,contains:y.concat([{begin:/\(/,end:/\)/,keywords:m,contains:y.concat(["self"]),relevance:0}]),relevance:0},_={begin:"("+a+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:m,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:m,relevance:0},{begin:p,returnBegin:!0,contains:[e.inherit(f,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:m,relevance:0,contains:[r,e.C_BLOCK_COMMENT_MODE,c,d,o,{begin:/\(/,end:/\)/,keywords:m,relevance:0,contains:["self",r,e.C_BLOCK_COMMENT_MODE,c,d,o]}]},o,r,e.C_BLOCK_COMMENT_MODE,h]};return{name:"C",aliases:["h"],keywords:m,disableAutodetect:!0,illegal:"</",contains:[].concat(x,_,y,[h,{begin:e.IDENT_RE+"::",keywords:m},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:h,strings:c,keywords:m}}}function xit(e){const t=e.regex,r=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="(?!struct)("+n+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",o={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},r,e.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},p=t.optional(i)+e.IDENT_RE+"\\s*\\(",g=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],v=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],m=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],b={type:v,keyword:g,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:m},w={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},S=[w,h,o,r,e.C_BLOCK_COMMENT_MODE,d,c],k={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:b,contains:S.concat([{begin:/\(/,end:/\)/,keywords:b,contains:S.concat(["self"]),relevance:0}]),relevance:0},C={className:"function",begin:"("+a+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:b,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:b,relevance:0},{begin:p,returnBegin:!0,contains:[f],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:b,relevance:0,contains:[r,e.C_BLOCK_COMMENT_MODE,c,d,o,{begin:/\(/,end:/\)/,keywords:b,relevance:0,contains:["self",r,e.C_BLOCK_COMMENT_MODE,c,d,o]}]},o,r,e.C_BLOCK_COMMENT_MODE,h]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:b,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(k,C,w,S,[h,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:b,contains:["self",o]},{begin:e.IDENT_RE+"::",keywords:b},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function _it(e){const t=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],r=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],n=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],s=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],a={keyword:i.concat(s),built_in:t,literal:n},o=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},c={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},d={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},h=e.inherit(d,{illegal:/\n/}),f={className:"subst",begin:/\{/,end:/\}/,keywords:a},p=e.inherit(f,{illegal:/\n/}),g={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,p]},v={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},f]},m=e.inherit(v,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},p]});f.contains=[v,g,d,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,l,e.C_BLOCK_COMMENT_MODE],p.contains=[m,g,h,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,l,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const y={variants:[c,v,g,d,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},x={begin:"<",end:">",contains:[{beginKeywords:"in out"},o]},_=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",b={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:a,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},y,l,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},o,x,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[o,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[o,x,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+_+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:a,contains:[{beginKeywords:r.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,x],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,relevance:0,contains:[y,l,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},b]}}const bit=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),wit=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Sit=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Cit=[...wit,...Sit],kit=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Eit=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Tit=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Nit=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function Ait(e){const t=e.regex,r=bit(e),n={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",s=/@-?\w[\w]*(-\w+)*/,a="[a-zA-Z-][a-zA-Z0-9_-]*",o=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[r.BLOCK_COMMENT,n,r.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+a,relevance:0},r.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Eit.join("|")+")"},{begin:":(:)?("+Tit.join("|")+")"}]},r.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Nit.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[r.BLOCK_COMMENT,r.HEXCOLOR,r.IMPORTANT,r.CSS_NUMBER_MODE,...o,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...o,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},r.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:kit.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...o,r.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+Cit.join("|")+")\\b"}]}}function jit(e){const t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function Rit(e){const s={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:s,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:s,illegal:/["']/}]}]}}function Iit(e){const t=e.regex,r=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:t.concat(r,t.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function Mit(e){const t=e.regex,r={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},n=e.COMMENT();n.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},s={className:"literal",begin:/\bon|off|true|false|yes|no\b/},a={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},o={begin:/\[/,end:/\]/,contains:[n,s,i,a,r,"self"],relevance:0},l=/[A-Za-z0-9_-]+/,c=/"(\\"|[^"])*"/,d=/'[^']*'/,h=t.either(l,c,d),f=t.concat(h,"(\\s*\\.\\s*",h,")*",t.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[n,{className:"section",begin:/\[+/,end:/\]+/},{begin:f,className:"attr",starts:{end:/$/,contains:[n,o,s,i,a,r]}}]}}var zg="[0-9](_*[0-9])*",rC=`\\.(${zg})`,nC="[0-9a-fA-F](_*[0-9a-fA-F])*",tK={className:"number",variants:[{begin:`(\\b(${zg})((${rC})|\\.)?|(${rC}))[eE][+-]?(${zg})[fFdD]?\\b`},{begin:`\\b(${zg})((${rC})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${rC})[fFdD]?\\b`},{begin:`\\b(${zg})[fFdD]\\b`},{begin:`\\b0[xX]((${nC})\\.?|(${nC})?\\.(${nC}))[pP][+-]?(${zg})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${nC})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Xhe(e,t,r){return r===-1?"":e.replace(t,n=>Xhe(e,t,r-1))}function Pit(e){const t=e.regex,r="[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",n=r+Xhe("(?:<"+r+"~~~(?:\\s*,\\s*"+r+"~~~)*>)?",/~~~/g,2),l={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},c={className:"meta",begin:"@"+r,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},d={className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:l,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,r),/\s+/,r,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,r],className:{1:"keyword",3:"title.class"},contains:[d,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+n+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:l,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[c,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,tK,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},tK,c]}}const rK="[A-Za-z$_][0-9A-Za-z$_]*",Lit=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Dit=["true","false","null","undefined","NaN","Infinity"],Jhe=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Qhe=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],efe=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Oit=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],$it=[].concat(efe,Jhe,Qhe);function Bit(e){const t=e.regex,r=(j,{after:M})=>{const I="</"+j[0].slice(1);return j.input.indexOf(I,M)!==-1},n=rK,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(j,M)=>{const I=j[0].length+j.index,z=j.input[I];if(z==="<"||z===","){M.ignoreMatch();return}z===">"&&(r(j,{after:I})||M.ignoreMatch());let U;const F=j.input.substring(I);if(U=F.match(/^\s*=/)){M.ignoreMatch();return}if((U=F.match(/^\s+extends\s+/))&&U.index===0){M.ignoreMatch();return}}},o={$pattern:rK,keyword:Lit,literal:Dit,built_in:$it,"variable.language":Oit},l="[0-9](_?[0-9])*",c=`\\.(${l})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${d})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${d})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},g={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"css"}},v={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},m={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,f]},x={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},_=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,g,v,m,{match:/\$\d+/},h];f.contains=_.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(_)});const b=[].concat(x,f.contains),w=b.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(b)}]),S={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:w},k={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},C={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Jhe,...Qhe]}},E={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},T={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[S],illegal:/%/},N={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function R(j){return t.concat("(?!",j.join("|"),")")}const P={match:t.concat(/\b/,R([...efe,"super","import"].map(j=>`${j}\\s*\\(`)),n,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},D={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},$={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},S]},L="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",O={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(L)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[S]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:w,CLASS_REFERENCE:C},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),E,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,g,v,m,x,{match:/\$\d+/},h,C,{scope:"attr",match:n+t.lookahead(":"),relevance:0},O,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[x,e.REGEXP_MODE,{className:"function",begin:L,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:w}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},T,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[S,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},D,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[S]},P,N,k,$,{match:/\$[(.]/}]}}function Fit(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},r={match:/[{}[\],:]/,className:"punctuation",relevance:0},n=["true","false","null"],i={scope:"literal",beginKeywords:n.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:n},contains:[t,r,e.QUOTE_STRING_MODE,i,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var Ug="[0-9](_*[0-9])*",iC=`\\.(${Ug})`,sC="[0-9a-fA-F](_*[0-9a-fA-F])*",zit={className:"number",variants:[{begin:`(\\b(${Ug})((${iC})|\\.)?|(${iC}))[eE][+-]?(${Ug})[fFdD]?\\b`},{begin:`\\b(${Ug})((${iC})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${iC})[fFdD]?\\b`},{begin:`\\b(${Ug})[fFdD]\\b`},{begin:`\\b0[xX]((${sC})\\.?|(${sC})?\\.(${sC}))[pP][+-]?(${Ug})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${sC})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Uit(e){const t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},r={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},n={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},s={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},a={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[s,i]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,s,i]}]};i.contains.push(a);const o={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},l={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(a,{className:"string"}),"self"]}]},c=zit,d=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),h={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},f=h;return f.variants[1].contains=[h],h.variants[1].contains=[f],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,d,r,n,o,l,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[h,e.C_LINE_COMMENT_MODE,d],relevance:0},e.C_LINE_COMMENT_MODE,d,o,l,a,e.C_NUMBER_MODE]},d]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},o,l]},a,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},c]}}const Hit=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Vit=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Wit=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Git=[...Vit,...Wit],qit=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),tfe=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),rfe=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Yit=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),Kit=tfe.concat(rfe).sort().reverse();function Zit(e){const t=Hit(e),r=Kit,n="and or not only",i="[\\w-]+",s="("+i+"|@\\{"+i+"\\})",a=[],o=[],l=function(_){return{className:"string",begin:"~?"+_+".*?"+_}},c=function(_,b,w){return{className:_,begin:b,relevance:w}},d={$pattern:/[a-z-]+/,keyword:n,attribute:qit.join(" ")},h={begin:"\\(",end:"\\)",contains:o,keywords:d,relevance:0};o.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,l("'"),l('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,h,c("variable","@@?"+i,10),c("variable","@\\{"+i+"\\}"),c("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const f=o.concat({begin:/\{/,end:/\}/,contains:a}),p={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(o)},g={begin:s+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Yit.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:o}}]},v={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:d,returnEnd:!0,contains:o,relevance:0}},m={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:f}},y={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:s,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,p,c("keyword","all\\b"),c("variable","@\\{"+i+"\\}"),{begin:"\\b("+Git.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,c("selector-tag",s,0),c("selector-id","#"+s),c("selector-class","\\."+s,0),c("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+tfe.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+rfe.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:f},{begin:"!important"},t.FUNCTION_DISPATCH]},x={begin:i+`:(:)?(${r.join("|")})`,returnBegin:!0,contains:[y]};return a.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,v,m,x,g,y,p,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:a}}function Xit(e){const t="\\[=*\\[",r="\\]=*\\]",n={begin:t,end:r,contains:["self"]},i=[e.COMMENT("--(?!"+t+")","$"),e.COMMENT("--"+t,r,{contains:[n],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:t,end:r,contains:[n],relevance:5}])}}function Jit(e){const t={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},r={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t]},n={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[t,r]},i={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},s={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},a={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[t]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,t,r,n,i,s,a]}}function Qit(e){const t=e.regex,r={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},n={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},a={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},o=/[A-Za-z][A-Za-z0-9+.-]*/,l={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,o,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},c={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},d={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},h=e.inherit(c,{contains:[]}),f=e.inherit(d,{contains:[]});c.contains.push(f),d.contains.push(h);let p=[r,l];return[c,d,h,f].forEach(y=>{y.contains=y.contains.concat(p)}),p=p.concat(c,d),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:p},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:p}]}]},r,s,c,d,{className:"quote",begin:"^>\\s+",contains:p,end:"$"},i,n,l,a,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function est(e){const t={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},r=/[a-zA-Z@][a-zA-Z0-9_]*/,o={"variable.language":["this","super"],$pattern:r,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},l={$pattern:r,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:o,illegal:"</",contains:[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+l.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:l,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}function tst(e){const t=e.regex,r=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],n=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:r.join(" ")},s={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},a={begin:/->\{/,end:/\}/},o={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},l={scope:"variable",variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[o]},c={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},d=[e.BACKSLASH_ESCAPE,s,l],h=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],f=(v,m,y="\\1")=>{const x=y==="\\1"?y:t.concat(y,m);return t.concat(t.concat("(?:",v,")"),m,/(?:\\.|[^\\\/])*?/,x,/(?:\\.|[^\\\/])*?/,y,n)},p=(v,m,y)=>t.concat(t.concat("(?:",v,")"),m,/(?:\\.|[^\\\/])*?/,y,n),g=[l,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),a,{className:"string",contains:d,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},c,{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:f("s|tr|y",t.either(...h,{capture:!0}))},{begin:f("s|tr|y","\\(","\\)")},{begin:f("s|tr|y","\\[","\\]")},{begin:f("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:p("(?:m|qr)?",/\//,/\//)},{begin:p("m|qr",t.either(...h,{capture:!0}),/\1/)},{begin:p("m|qr",/\(/,/\)/)},{begin:p("m|qr",/\[/,/\]/)},{begin:p("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,o]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,o,c]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return s.contains=g,a.contains=g,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:g}}function rst(e){const t=e.regex,r=/(?![A-Za-z0-9])(?![$])/,n=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,r),i=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,r),s=t.concat(/[A-Z]+/,r),a={scope:"variable",match:"\\$+"+n},o={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},l={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},c=e.inherit(e.APOS_STRING_MODE,{illegal:null}),d=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(l)}),h={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(l),"on:begin":(D,$)=>{$.data._beginMatch=D[1]||D[2]},"on:end":(D,$)=>{$.data._beginMatch!==D[1]&&$.ignoreMatch()}},f=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),p=`[ 	
]`,g={scope:"string",variants:[d,c,h,f]},v={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},m=["false","null","true"],y=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],x=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],b={keyword:y,literal:(D=>{const $=[];return D.forEach(L=>{$.push(L),L.toLowerCase()===L?$.push(L.toUpperCase()):$.push(L.toLowerCase())}),$})(m),built_in:x},w=D=>D.map($=>$.replace(/\|\d+$/,"")),S={variants:[{match:[/new/,t.concat(p,"+"),t.concat("(?!",w(x).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},k=t.concat(n,"\\b(?!\\()"),C={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),k],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,t.concat(/::/,t.lookahead(/(?!class\b)/)),k],scope:{1:"title.class",3:"variable.constant"}},{match:[i,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},E={scope:"attr",match:t.concat(n,t.lookahead(":"),t.lookahead(/(?!::)/))},T={relevance:0,begin:/\(/,end:/\)/,keywords:b,contains:[E,a,C,e.C_BLOCK_COMMENT_MODE,g,v,S]},N={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",w(y).join("\\b|"),"|",w(x).join("\\b|"),"\\b)"),n,t.concat(p,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[T]};T.contains.push(N);const R=[E,C,e.C_BLOCK_COMMENT_MODE,g,v,S],P={begin:t.concat(/#\[\s*\\?/,t.either(i,s)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:m,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:m,keyword:["new","array"]},contains:["self",...R]},...R,{scope:"meta",variants:[{match:i},{match:s}]}]};return{case_insensitive:!1,keywords:b,contains:[P,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},o,{scope:"variable.language",match:/\$this\b/},a,N,C,{match:[/const/,/\s/,n],scope:{1:"keyword",3:"variable.constant"}},S,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:b,contains:["self",P,a,C,e.C_BLOCK_COMMENT_MODE,g,v]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},g,v]}}function nst(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function ist(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function sst(e){const t=e.regex,r=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),n=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],o={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:n,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},c={className:"subst",begin:/\{/,end:/\}/,keywords:o,illegal:/#/},d={begin:/\{\{/,relevance:0},h={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l,d,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l,d,c]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,d,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,d,c]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},f="[0-9](_?[0-9])*",p=`(\\b(${f}))?\\.(${f})|\\b(${f})\\.`,g=`\\b|${n.join("|")}`,v={className:"number",relevance:0,variants:[{begin:`(\\b(${f})|(${p}))[eE][+-]?(${f})[jJ]?(?=${g})`},{begin:`(${p})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${g})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${g})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${g})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${g})`},{begin:`\\b(${f})[jJ](?=${g})`}]},m={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:o,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},y={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:["self",l,v,h,e.HASH_COMMENT_MODE]}]};return c.contains=[h,v,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:o,illegal:/(<\/|\?)|=>/,contains:[l,v,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},h,m,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,r],scope:{1:"keyword",3:"title.function"},contains:[y]},{variants:[{match:[/\bclass/,/\s+/,r,/\s*/,/\(\s*/,r,/\s*\)/]},{match:[/\bclass/,/\s+/,r]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[v,y,h]}]}}function ast(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function ost(e){const t=e.regex,r=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,n=t.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,s=t.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:r,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:t.lookahead(t.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:r},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,n]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,n]},{scope:{1:"punctuation",2:"number"},match:[s,n]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,n]}]},{scope:{3:"operator"},match:[r,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:s},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function lst(e){const t=e.regex,r="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",n=t.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=t.concat(n,/(::\w+)*/),a={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},o={className:"doctag",begin:"@[A-Za-z]+"},l={begin:"#<",end:">"},c=[e.COMMENT("#","$",{contains:[o]}),e.COMMENT("^=begin","^=end",{contains:[o],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],d={className:"subst",begin:/#\{/,end:/\}/,keywords:a},h={className:"string",contains:[e.BACKSLASH_ESCAPE,d],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:t.concat(/<<[-~]?'?/,t.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,d]})]}]},f="[1-9](_?[0-9])*|0",p="[0-9](_?[0-9])*",g={className:"number",relevance:0,variants:[{begin:`\\b(${f})(\\.(${p}))?([eE][+-]?(${p})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},v={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:a}]},S=[h,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:a},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:a},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:n,scope:"title.class"},{match:[/def/,/\s+/,r],scope:{1:"keyword",3:"title.function"},contains:[v]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[h,{begin:r}],relevance:0},g,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:a},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,d],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(l,c),relevance:0}].concat(l,c);d.contains=S,v.contains=S;const T=[{begin:/^\s*=>/,starts:{end:"$",contains:S}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:a,contains:S}}];return c.unshift(l),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:a,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(T).concat(c).concat(S)}}function cst(e){const t=e.regex,r=/(r#)?/,n=t.concat(r,e.UNDERSCORE_IDENT_RE),i=t.concat(r,e.IDENT_RE),s={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,t.lookahead(/\s*\(/))},a="([ui](8|16|32|64|128|size)|f(32|64))?",o=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],l=["true","false","Some","None","Ok","Err"],c=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],d=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:d,keyword:o,literal:l,built_in:c},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+a},{begin:"\\b0o([0-7_]+)"+a},{begin:"\\b0x([A-Fa-f0-9_]+)"+a},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+a}],relevance:0},{begin:[/fn/,/\s+/,n],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,n],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,n,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:c,type:d}},{className:"punctuation",begin:"->"},s]}}const ust=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),dst=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],hst=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],fst=[...dst,...hst],pst=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),gst=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),mst=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),vst=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function yst(e){const t=ust(e),r=mst,n=gst,i="@[a-z-]+",s="and or not only",o={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+fst.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+n.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+r.join("|")+")"},o,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+vst.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,o,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:pst.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},o,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}}function xst(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function _st(e){const t=e.regex,r=e.COMMENT("--","$"),n={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},s=["true","false","unknown"],a=["double precision","large object","with timezone","without timezone"],o=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],l=["add","asc","collation","desc","final","first","last","view"],c=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],d=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],h=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],f=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],p=d,g=[...c,...l].filter(w=>!d.includes(w)),v={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},m={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},y={match:t.concat(/\b/,t.either(...p),/\s*\(/),relevance:0,keywords:{built_in:p}};function x(w){return t.concat(/\b/,t.either(...w.map(S=>S.replace(/\s+/,"\\s+"))),/\b/)}const _={scope:"keyword",match:x(f),relevance:0};function b(w,{exceptions:S,when:k}={}){const C=k;return S=S||[],w.map(E=>E.match(/\|\d+$/)||S.includes(E)?E:C(E)?`${E}|0`:E)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:b(g,{when:w=>w.length<3}),literal:s,type:o,built_in:h},contains:[{scope:"type",match:x(a)},_,y,v,n,i,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,r,m]}}function nfe(e){return e?typeof e=="string"?e:e.source:null}function Dy(e){return gn("(?=",e,")")}function gn(...e){return e.map(r=>nfe(r)).join("")}function bst(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function Ss(...e){return"("+(bst(e).capture?"":"?:")+e.map(n=>nfe(n)).join("|")+")"}const CB=e=>gn(/\b/,e,/\w$/.test(e)?/\b/:/\B/),wst=["Protocol","Type"].map(CB),nK=["init","self"].map(CB),Sst=["Any","Self"],MI=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],iK=["false","nil","true"],Cst=["assignment","associativity","higherThan","left","lowerThan","none","right"],kst=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],sK=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],ife=Ss(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),sfe=Ss(ife,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),PI=gn(ife,sfe,"*"),afe=Ss(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),fT=Ss(afe,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),jl=gn(afe,fT,"*"),aC=gn(/[A-Z]/,fT,"*"),Est=["attached","autoclosure",gn(/convention\(/,Ss("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",gn(/objc\(/,jl,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],Tst=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function Nst(e){const t={match:/\s+/,relevance:0},r=e.COMMENT("/\\*","\\*/",{contains:["self"]}),n=[e.C_LINE_COMMENT_MODE,r],i={match:[/\./,Ss(...wst,...nK)],className:{2:"keyword"}},s={match:gn(/\./,Ss(...MI)),relevance:0},a=MI.filter(Me=>typeof Me=="string").concat(["_|0"]),o=MI.filter(Me=>typeof Me!="string").concat(Sst).map(CB),l={variants:[{className:"keyword",match:Ss(...o,...nK)}]},c={$pattern:Ss(/\b\w+/,/#\w+/),keyword:a.concat(kst),literal:iK},d=[i,s,l],h={match:gn(/\./,Ss(...sK)),relevance:0},f={className:"built_in",match:gn(/\b/,Ss(...sK),/(?=\()/)},p=[h,f],g={match:/->/,relevance:0},v={className:"operator",relevance:0,variants:[{match:PI},{match:`\\.(\\.|${sfe})+`}]},m=[g,v],y="([0-9]_*)+",x="([0-9a-fA-F]_*)+",_={className:"number",relevance:0,variants:[{match:`\\b(${y})(\\.(${y}))?([eE][+-]?(${y}))?\\b`},{match:`\\b0x(${x})(\\.(${x}))?([pP][+-]?(${y}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},b=(Me="")=>({className:"subst",variants:[{match:gn(/\\/,Me,/[0\\tnr"']/)},{match:gn(/\\/,Me,/u\{[0-9a-fA-F]{1,8}\}/)}]}),w=(Me="")=>({className:"subst",match:gn(/\\/,Me,/[\t ]*(?:[\r\n]|\r\n)/)}),S=(Me="")=>({className:"subst",label:"interpol",begin:gn(/\\/,Me,/\(/),end:/\)/}),k=(Me="")=>({begin:gn(Me,/"""/),end:gn(/"""/,Me),contains:[b(Me),w(Me),S(Me)]}),C=(Me="")=>({begin:gn(Me,/"/),end:gn(/"/,Me),contains:[b(Me),S(Me)]}),E={className:"string",variants:[k(),k("#"),k("##"),k("###"),C(),C("#"),C("##"),C("###")]},T=[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}],N={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:T},R=Me=>{const Ee=gn(Me,/\//),Ae=gn(/\//,Me);return{begin:Ee,end:Ae,contains:[...T,{scope:"comment",begin:`#(?!.*${Ae})`,end:/$/}]}},P={scope:"regexp",variants:[R("###"),R("##"),R("#"),N]},D={match:gn(/`/,jl,/`/)},$={className:"variable",match:/\$\d+/},L={className:"variable",match:`\\$${fT}+`},O=[D,$,L],j={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:Tst,contains:[...m,_,E]}]}},M={scope:"keyword",match:gn(/@/,Ss(...Est),Dy(Ss(/\(/,/\s+/)))},I={scope:"meta",match:gn(/@/,jl)},z=[j,M,I],U={match:Dy(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:gn(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,fT,"+")},{className:"type",match:aC,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:gn(/\s+&\s+/,Dy(aC)),relevance:0}]},F={begin:/</,end:/>/,keywords:c,contains:[...n,...d,...z,g,U]};U.contains.push(F);const G={match:gn(jl,/\s*:/),keywords:"_|0",relevance:0},Y={begin:/\(/,end:/\)/,relevance:0,keywords:c,contains:["self",G,...n,P,...d,...p,...m,_,E,...O,...z,U]},Z={begin:/</,end:/>/,keywords:"repeat each",contains:[...n,U]},B={begin:Ss(Dy(gn(jl,/\s*:/)),Dy(gn(jl,/\s+/,jl,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:jl}]},W={begin:/\(/,end:/\)/,keywords:c,contains:[B,...n,...d,...m,_,E,...z,U,Y],endsParent:!0,illegal:/["']/},K={match:[/(func|macro)/,/\s+/,Ss(D.match,jl,PI)],className:{1:"keyword",3:"title.function"},contains:[Z,W,t],illegal:[/\[/,/%/]},X={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[Z,W,t],illegal:/\[|%/},Q={match:[/operator/,/\s+/,PI],className:{1:"keyword",3:"title"}},re={begin:[/precedencegroup/,/\s+/,aC],className:{1:"keyword",3:"title"},contains:[U],keywords:[...Cst,...iK],end:/}/},Se={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},Te={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},Ie={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,jl,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:c,contains:[Z,...d,{begin:/:/,end:/\{/,keywords:c,contains:[{scope:"title.class.inherited",match:aC},...d],relevance:0}]};for(const Me of E.variants){const Ee=Me.contains.find(Lt=>Lt.label==="interpol");Ee.keywords=c;const Ae=[...d,...p,...m,_,E,...O];Ee.contains=[...Ae,{begin:/\(/,end:/\)/,contains:["self",...Ae]}]}return{name:"Swift",keywords:c,contains:[...n,K,X,Se,Te,Ie,Q,re,{beginKeywords:"import",end:/$/,contains:[...n],relevance:0},P,...d,...p,...m,_,E,...O,...z,U,Y]}}const pT="[A-Za-z$_][0-9A-Za-z$_]*",ofe=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],lfe=["true","false","null","undefined","NaN","Infinity"],cfe=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],ufe=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],dfe=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],hfe=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],ffe=[].concat(dfe,cfe,ufe);function Ast(e){const t=e.regex,r=(j,{after:M})=>{const I="</"+j[0].slice(1);return j.input.indexOf(I,M)!==-1},n=pT,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(j,M)=>{const I=j[0].length+j.index,z=j.input[I];if(z==="<"||z===","){M.ignoreMatch();return}z===">"&&(r(j,{after:I})||M.ignoreMatch());let U;const F=j.input.substring(I);if(U=F.match(/^\s*=/)){M.ignoreMatch();return}if((U=F.match(/^\s+extends\s+/))&&U.index===0){M.ignoreMatch();return}}},o={$pattern:pT,keyword:ofe,literal:lfe,built_in:ffe,"variable.language":hfe},l="[0-9](_?[0-9])*",c=`\\.(${l})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${d})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${d})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},g={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"css"}},v={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},m={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,f]},x={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},_=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,g,v,m,{match:/\$\d+/},h];f.contains=_.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(_)});const b=[].concat(x,f.contains),w=b.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(b)}]),S={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:w},k={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},C={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...cfe,...ufe]}},E={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},T={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[S],illegal:/%/},N={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function R(j){return t.concat("(?!",j.join("|"),")")}const P={match:t.concat(/\b/,R([...dfe,"super","import"].map(j=>`${j}\\s*\\(`)),n,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},D={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},$={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},S]},L="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",O={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(L)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[S]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:w,CLASS_REFERENCE:C},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),E,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,g,v,m,x,{match:/\$\d+/},h,C,{scope:"attr",match:n+t.lookahead(":"),relevance:0},O,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[x,e.REGEXP_MODE,{className:"function",begin:L,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:w}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},T,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[S,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},D,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[S]},P,N,k,$,{match:/\$[(.]/}]}}function jst(e){const t=e.regex,r=Ast(e),n=pT,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},a={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[r.exports.CLASS_REFERENCE]},o={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},l=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],c={$pattern:pT,keyword:ofe.concat(l),literal:lfe,built_in:ffe.concat(i),"variable.language":hfe},d={className:"meta",begin:"@"+n},h=(v,m,y)=>{const x=v.contains.findIndex(_=>_.label===m);if(x===-1)throw new Error("can not find mode to replace");v.contains.splice(x,1,y)};Object.assign(r.keywords,c),r.exports.PARAMS_CONTAINS.push(d);const f=r.contains.find(v=>v.scope==="attr"),p=Object.assign({},f,{match:t.concat(n,t.lookahead(/\s*\?:/))});r.exports.PARAMS_CONTAINS.push([r.exports.CLASS_REFERENCE,f,p]),r.contains=r.contains.concat([d,s,a,p]),h(r,"shebang",e.SHEBANG()),h(r,"use_strict",o);const g=r.contains.find(v=>v.label==="func.def");return g.relevance=0,Object.assign(r,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),r}function Rst(e){const t=e.regex,r={className:"string",begin:/"(""|[^/n])"C\b/},n={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,s=/\d{4}-\d{1,2}-\d{1,2}/,a=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,o=/\d{1,2}(:\d{1,2}){1,2}/,l={className:"literal",variants:[{begin:t.concat(/# */,t.either(s,i),/ *#/)},{begin:t.concat(/# */,o,/ *#/)},{begin:t.concat(/# */,a,/ *#/)},{begin:t.concat(/# */,t.either(s,i),/ +/,t.either(a,o),/ *#/)}]},c={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},d={className:"label",begin:/^\w+:/},h=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),f=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[r,n,l,c,d,h,f,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[f]}]}}function Ist(e){e.regex;const t=e.COMMENT(/\(;/,/;\)/);t.contains.push("self");const r=e.COMMENT(/;;/,/$/),n=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},s={className:"variable",begin:/\$[\w_]+/},a={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},o={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},l={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},c={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:n},contains:[r,t,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},s,a,i,e.QUOTE_STRING_MODE,l,c,o]}}function Mst(e){const t=e.regex,r=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),n=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},a=e.inherit(s,{begin:/\(/,end:/\)/}),o=e.inherit(e.APOS_STRING_MODE,{className:"string"}),l=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:n,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,l,o,a,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,a,l,o]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(r,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:r,relevance:0,starts:c}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(r,/>/))),contains:[{className:"name",begin:r,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function Pst(e){const t="true false yes no null",r="[\\w#;/?:@&=+$,.~*'()[\\]]+",n={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},a={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,i]},o=e.inherit(a,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),f={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},p={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},g={begin:/\{/,end:/\}/,contains:[p],illegal:"\\n",relevance:0},v={begin:"\\[",end:"\\]",contains:[p],illegal:"\\n",relevance:0},m=[n,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+r},{className:"type",begin:"!<"+r+">"},{className:"type",begin:"!"+r},{className:"type",begin:"!!"+r},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},f,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},g,v,s,a],y=[...m];return y.pop(),y.push(o),p.contains=y,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:m}}const Lst={arduino:mit,bash:vit,c:yit,cpp:xit,csharp:_it,css:Ait,diff:jit,go:Rit,graphql:Iit,ini:Mit,java:Pit,javascript:Bit,json:Fit,kotlin:Uit,less:Zit,lua:Xit,makefile:Jit,markdown:Qit,objectivec:est,perl:tst,php:rst,"php-template":nst,plaintext:ist,python:sst,"python-repl":ast,r:ost,ruby:lst,rust:cst,scss:yst,shell:xst,sql:_st,swift:Nst,typescript:jst,vbnet:Rst,wasm:Ist,xml:Mst,yaml:Pst};function pfe(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const r=e[t],n=typeof r;(n==="object"||n==="function")&&!Object.isFrozen(r)&&pfe(r)}),e}let aK=class{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function gfe(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function _d(e,...t){const r=Object.create(null);for(const n in e)r[n]=e[n];return t.forEach(function(n){for(const i in n)r[i]=n[i]}),r}const Dst="</span>",oK=e=>!!e.scope,Ost=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const r=e.split(".");return[`${t}${r.shift()}`,...r.map((n,i)=>`${n}${"_".repeat(i+1)}`)].join(" ")}return`${t}${e}`};class $st{constructor(t,r){this.buffer="",this.classPrefix=r.classPrefix,t.walk(this)}addText(t){this.buffer+=gfe(t)}openNode(t){if(!oK(t))return;const r=Ost(t.scope,{prefix:this.classPrefix});this.span(r)}closeNode(t){oK(t)&&(this.buffer+=Dst)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const lK=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class kB{constructor(){this.rootNode=lK(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const r=lK({scope:t});this.add(r),this.stack.push(r)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,r){return typeof r=="string"?t.addText(r):r.children&&(t.openNode(r),r.children.forEach(n=>this._walk(t,n)),t.closeNode(r)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(r=>typeof r=="string")?t.children=[t.children.join("")]:t.children.forEach(r=>{kB._collapse(r)}))}}class Bst extends kB{constructor(t){super(),this.options=t}addText(t){t!==""&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,r){const n=t.root;r&&(n.scope=`language:${r}`),this.add(n)}toHTML(){return new $st(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function fb(e){return e?typeof e=="string"?e:e.source:null}function mfe(e){return Fp("(?=",e,")")}function Fst(e){return Fp("(?:",e,")*")}function zst(e){return Fp("(?:",e,")?")}function Fp(...e){return e.map(r=>fb(r)).join("")}function Ust(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function EB(...e){return"("+(Ust(e).capture?"":"?:")+e.map(n=>fb(n)).join("|")+")"}function vfe(e){return new RegExp(e.toString()+"|").exec("").length-1}function Hst(e,t){const r=e&&e.exec(t);return r&&r.index===0}const Vst=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function TB(e,{joinWith:t}){let r=0;return e.map(n=>{r+=1;const i=r;let s=fb(n),a="";for(;s.length>0;){const o=Vst.exec(s);if(!o){a+=s;break}a+=s.substring(0,o.index),s=s.substring(o.index+o[0].length),o[0][0]==="\\"&&o[1]?a+="\\"+String(Number(o[1])+i):(a+=o[0],o[0]==="("&&r++)}return a}).map(n=>`(${n})`).join(t)}const Wst=/\b\B/,yfe="[a-zA-Z]\\w*",NB="[a-zA-Z_]\\w*",xfe="\\b\\d+(\\.\\d+)?",_fe="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",bfe="\\b(0b[01]+)",Gst="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",qst=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=Fp(t,/.*\b/,e.binary,/\b.*/)),_d({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(r,n)=>{r.index!==0&&n.ignoreMatch()}},e)},pb={begin:"\\\\[\\s\\S]",relevance:0},Yst={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[pb]},Kst={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[pb]},Zst={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},A2=function(e,t,r={}){const n=_d({scope:"comment",begin:e,end:t,contains:[]},r);n.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=EB("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return n.contains.push({begin:Fp(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),n},Xst=A2("//","$"),Jst=A2("/\\*","\\*/"),Qst=A2("#","$"),eat={scope:"number",begin:xfe,relevance:0},tat={scope:"number",begin:_fe,relevance:0},rat={scope:"number",begin:bfe,relevance:0},nat={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[pb,{begin:/\[/,end:/\]/,relevance:0,contains:[pb]}]},iat={scope:"title",begin:yfe,relevance:0},sat={scope:"title",begin:NB,relevance:0},aat={begin:"\\.\\s*"+NB,relevance:0},oat=function(e){return Object.assign(e,{"on:begin":(t,r)=>{r.data._beginMatch=t[1]},"on:end":(t,r)=>{r.data._beginMatch!==t[1]&&r.ignoreMatch()}})};var oC=Object.freeze({__proto__:null,APOS_STRING_MODE:Yst,BACKSLASH_ESCAPE:pb,BINARY_NUMBER_MODE:rat,BINARY_NUMBER_RE:bfe,COMMENT:A2,C_BLOCK_COMMENT_MODE:Jst,C_LINE_COMMENT_MODE:Xst,C_NUMBER_MODE:tat,C_NUMBER_RE:_fe,END_SAME_AS_BEGIN:oat,HASH_COMMENT_MODE:Qst,IDENT_RE:yfe,MATCH_NOTHING_RE:Wst,METHOD_GUARD:aat,NUMBER_MODE:eat,NUMBER_RE:xfe,PHRASAL_WORDS_MODE:Zst,QUOTE_STRING_MODE:Kst,REGEXP_MODE:nat,RE_STARTERS_RE:Gst,SHEBANG:qst,TITLE_MODE:iat,UNDERSCORE_IDENT_RE:NB,UNDERSCORE_TITLE_MODE:sat});function lat(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function cat(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function uat(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=lat,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function dat(e,t){Array.isArray(e.illegal)&&(e.illegal=EB(...e.illegal))}function hat(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function fat(e,t){e.relevance===void 0&&(e.relevance=1)}const pat=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const r=Object.assign({},e);Object.keys(e).forEach(n=>{delete e[n]}),e.keywords=r.keywords,e.begin=Fp(r.beforeMatch,mfe(r.begin)),e.starts={relevance:0,contains:[Object.assign(r,{endsParent:!0})]},e.relevance=0,delete r.beforeMatch},gat=["of","and","for","in","not","or","if","then","parent","list","value"],mat="keyword";function wfe(e,t,r=mat){const n=Object.create(null);return typeof e=="string"?i(r,e.split(" ")):Array.isArray(e)?i(r,e):Object.keys(e).forEach(function(s){Object.assign(n,wfe(e[s],t,s))}),n;function i(s,a){t&&(a=a.map(o=>o.toLowerCase())),a.forEach(function(o){const l=o.split("|");n[l[0]]=[s,vat(l[0],l[1])]})}}function vat(e,t){return t?Number(t):yat(e)?0:1}function yat(e){return gat.includes(e.toLowerCase())}const cK={},Gf=e=>{console.error(e)},uK=(e,...t)=>{console.log(`WARN: ${e}`,...t)},jg=(e,t)=>{cK[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),cK[`${e}/${t}`]=!0)},gT=new Error;function Sfe(e,t,{key:r}){let n=0;const i=e[r],s={},a={};for(let o=1;o<=t.length;o++)a[o+n]=i[o],s[o+n]=!0,n+=vfe(t[o-1]);e[r]=a,e[r]._emit=s,e[r]._multi=!0}function xat(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw Gf("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),gT;if(typeof e.beginScope!="object"||e.beginScope===null)throw Gf("beginScope must be object"),gT;Sfe(e,e.begin,{key:"beginScope"}),e.begin=TB(e.begin,{joinWith:""})}}function _at(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw Gf("skip, excludeEnd, returnEnd not compatible with endScope: {}"),gT;if(typeof e.endScope!="object"||e.endScope===null)throw Gf("endScope must be object"),gT;Sfe(e,e.end,{key:"endScope"}),e.end=TB(e.end,{joinWith:""})}}function bat(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function wat(e){bat(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),xat(e),_at(e)}function Sat(e){function t(a,o){return new RegExp(fb(a),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(o?"g":""))}class r{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(o,l){l.position=this.position++,this.matchIndexes[this.matchAt]=l,this.regexes.push([l,o]),this.matchAt+=vfe(o)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const o=this.regexes.map(l=>l[1]);this.matcherRe=t(TB(o,{joinWith:"|"}),!0),this.lastIndex=0}exec(o){this.matcherRe.lastIndex=this.lastIndex;const l=this.matcherRe.exec(o);if(!l)return null;const c=l.findIndex((h,f)=>f>0&&h!==void 0),d=this.matchIndexes[c];return l.splice(0,c),Object.assign(l,d)}}class n{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(o){if(this.multiRegexes[o])return this.multiRegexes[o];const l=new r;return this.rules.slice(o).forEach(([c,d])=>l.addRule(c,d)),l.compile(),this.multiRegexes[o]=l,l}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(o,l){this.rules.push([o,l]),l.type==="begin"&&this.count++}exec(o){const l=this.getMatcher(this.regexIndex);l.lastIndex=this.lastIndex;let c=l.exec(o);if(this.resumingScanAtSamePosition()&&!(c&&c.index===this.lastIndex)){const d=this.getMatcher(0);d.lastIndex=this.lastIndex+1,c=d.exec(o)}return c&&(this.regexIndex+=c.position+1,this.regexIndex===this.count&&this.considerAll()),c}}function i(a){const o=new n;return a.contains.forEach(l=>o.addRule(l.begin,{rule:l,type:"begin"})),a.terminatorEnd&&o.addRule(a.terminatorEnd,{type:"end"}),a.illegal&&o.addRule(a.illegal,{type:"illegal"}),o}function s(a,o){const l=a;if(a.isCompiled)return l;[cat,hat,wat,pat].forEach(d=>d(a,o)),e.compilerExtensions.forEach(d=>d(a,o)),a.__beforeBegin=null,[uat,dat,fat].forEach(d=>d(a,o)),a.isCompiled=!0;let c=null;return typeof a.keywords=="object"&&a.keywords.$pattern&&(a.keywords=Object.assign({},a.keywords),c=a.keywords.$pattern,delete a.keywords.$pattern),c=c||/\w+/,a.keywords&&(a.keywords=wfe(a.keywords,e.case_insensitive)),l.keywordPatternRe=t(c,!0),o&&(a.begin||(a.begin=/\B|\b/),l.beginRe=t(l.begin),!a.end&&!a.endsWithParent&&(a.end=/\B|\b/),a.end&&(l.endRe=t(l.end)),l.terminatorEnd=fb(l.end)||"",a.endsWithParent&&o.terminatorEnd&&(l.terminatorEnd+=(a.end?"|":"")+o.terminatorEnd)),a.illegal&&(l.illegalRe=t(a.illegal)),a.contains||(a.contains=[]),a.contains=[].concat(...a.contains.map(function(d){return Cat(d==="self"?a:d)})),a.contains.forEach(function(d){s(d,l)}),a.starts&&s(a.starts,o),l.matcher=i(l),l}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=_d(e.classNameAliases||{}),s(e)}function Cfe(e){return e?e.endsWithParent||Cfe(e.starts):!1}function Cat(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return _d(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:Cfe(e)?_d(e,{starts:e.starts?_d(e.starts):null}):Object.isFrozen(e)?_d(e):e}var kat="11.11.1";class Eat extends Error{constructor(t,r){super(t),this.name="HTMLInjectionError",this.html=r}}const LI=gfe,dK=_d,hK=Symbol("nomatch"),Tat=7,kfe=function(e){const t=Object.create(null),r=Object.create(null),n=[];let i=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",a={disableAutodetect:!0,name:"Plain text",contains:[]};let o={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:Bst};function l(L){return o.noHighlightRe.test(L)}function c(L){let O=L.className+" ";O+=L.parentNode?L.parentNode.className:"";const j=o.languageDetectRe.exec(O);if(j){const M=C(j[1]);return M||(uK(s.replace("{}",j[1])),uK("Falling back to no-highlight mode for this block.",L)),M?j[1]:"no-highlight"}return O.split(/\s+/).find(M=>l(M)||C(M))}function d(L,O,j){let M="",I="";typeof O=="object"?(M=L,j=O.ignoreIllegals,I=O.language):(jg("10.7.0","highlight(lang, code, ...args) has been deprecated."),jg("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),I=L,M=O),j===void 0&&(j=!0);const z={code:M,language:I};D("before:highlight",z);const U=z.result?z.result:h(z.language,z.code,j);return U.code=z.code,D("after:highlight",U),U}function h(L,O,j,M){const I=Object.create(null);function z(te,oe){return te.keywords[oe]}function U(){if(!Ae.keywords){zt.addText(ge);return}let te=0;Ae.keywordPatternRe.lastIndex=0;let oe=Ae.keywordPatternRe.exec(ge),J="";for(;oe;){J+=ge.substring(te,oe.index);const ne=Ie.case_insensitive?oe[0].toLowerCase():oe[0],de=z(Ae,ne);if(de){const[$e,ze]=de;if(zt.addText(J),J="",I[ne]=(I[ne]||0)+1,I[ne]<=Tat&&(Ze+=ze),$e.startsWith("_"))J+=oe[0];else{const ke=Ie.classNameAliases[$e]||$e;Y(oe[0],ke)}}else J+=oe[0];te=Ae.keywordPatternRe.lastIndex,oe=Ae.keywordPatternRe.exec(ge)}J+=ge.substring(te),zt.addText(J)}function F(){if(ge==="")return;let te=null;if(typeof Ae.subLanguage=="string"){if(!t[Ae.subLanguage]){zt.addText(ge);return}te=h(Ae.subLanguage,ge,!0,Lt[Ae.subLanguage]),Lt[Ae.subLanguage]=te._top}else te=p(ge,Ae.subLanguage.length?Ae.subLanguage:null);Ae.relevance>0&&(Ze+=te.relevance),zt.__addSublanguage(te._emitter,te.language)}function G(){Ae.subLanguage!=null?F():U(),ge=""}function Y(te,oe){te!==""&&(zt.startScope(oe),zt.addText(te),zt.endScope())}function Z(te,oe){let J=1;const ne=oe.length-1;for(;J<=ne;){if(!te._emit[J]){J++;continue}const de=Ie.classNameAliases[te[J]]||te[J],$e=oe[J];de?Y($e,de):(ge=$e,U(),ge=""),J++}}function B(te,oe){return te.scope&&typeof te.scope=="string"&&zt.openNode(Ie.classNameAliases[te.scope]||te.scope),te.beginScope&&(te.beginScope._wrap?(Y(ge,Ie.classNameAliases[te.beginScope._wrap]||te.beginScope._wrap),ge=""):te.beginScope._multi&&(Z(te.beginScope,oe),ge="")),Ae=Object.create(te,{parent:{value:Ae}}),Ae}function W(te,oe,J){let ne=Hst(te.endRe,J);if(ne){if(te["on:end"]){const de=new aK(te);te["on:end"](oe,de),de.isMatchIgnored&&(ne=!1)}if(ne){for(;te.endsParent&&te.parent;)te=te.parent;return te}}if(te.endsWithParent)return W(te.parent,oe,J)}function K(te){return Ae.matcher.regexIndex===0?(ge+=te[0],1):(ct=!0,0)}function X(te){const oe=te[0],J=te.rule,ne=new aK(J),de=[J.__beforeBegin,J["on:begin"]];for(const $e of de)if($e&&($e(te,ne),ne.isMatchIgnored))return K(oe);return J.skip?ge+=oe:(J.excludeBegin&&(ge+=oe),G(),!J.returnBegin&&!J.excludeBegin&&(ge=oe)),B(J,te),J.returnBegin?0:oe.length}function Q(te){const oe=te[0],J=O.substring(te.index),ne=W(Ae,te,J);if(!ne)return hK;const de=Ae;Ae.endScope&&Ae.endScope._wrap?(G(),Y(oe,Ae.endScope._wrap)):Ae.endScope&&Ae.endScope._multi?(G(),Z(Ae.endScope,te)):de.skip?ge+=oe:(de.returnEnd||de.excludeEnd||(ge+=oe),G(),de.excludeEnd&&(ge=oe));do Ae.scope&&zt.closeNode(),!Ae.skip&&!Ae.subLanguage&&(Ze+=Ae.relevance),Ae=Ae.parent;while(Ae!==ne.parent);return ne.starts&&B(ne.starts,te),de.returnEnd?0:oe.length}function re(){const te=[];for(let oe=Ae;oe!==Ie;oe=oe.parent)oe.scope&&te.unshift(oe.scope);te.forEach(oe=>zt.openNode(oe))}let Se={};function Te(te,oe){const J=oe&&oe[0];if(ge+=te,J==null)return G(),0;if(Se.type==="begin"&&oe.type==="end"&&Se.index===oe.index&&J===""){if(ge+=O.slice(oe.index,oe.index+1),!i){const ne=new Error(`0 width match regex (${L})`);throw ne.languageName=L,ne.badRule=Se.rule,ne}return 1}if(Se=oe,oe.type==="begin")return X(oe);if(oe.type==="illegal"&&!j){const ne=new Error('Illegal lexeme "'+J+'" for mode "'+(Ae.scope||"<unnamed>")+'"');throw ne.mode=Ae,ne}else if(oe.type==="end"){const ne=Q(oe);if(ne!==hK)return ne}if(oe.type==="illegal"&&J==="")return ge+=`
`,1;if(Wt>1e5&&Wt>oe.index*3)throw new Error("potential infinite loop, way more iterations than matches");return ge+=J,J.length}const Ie=C(L);if(!Ie)throw Gf(s.replace("{}",L)),new Error('Unknown language: "'+L+'"');const Me=Sat(Ie);let Ee="",Ae=M||Me;const Lt={},zt=new o.__emitter(o);re();let ge="",Ze=0,Oe=0,Wt=0,ct=!1;try{if(Ie.__emitTokens)Ie.__emitTokens(O,zt);else{for(Ae.matcher.considerAll();;){Wt++,ct?ct=!1:Ae.matcher.considerAll(),Ae.matcher.lastIndex=Oe;const te=Ae.matcher.exec(O);if(!te)break;const oe=O.substring(Oe,te.index),J=Te(oe,te);Oe=te.index+J}Te(O.substring(Oe))}return zt.finalize(),Ee=zt.toHTML(),{language:L,value:Ee,relevance:Ze,illegal:!1,_emitter:zt,_top:Ae}}catch(te){if(te.message&&te.message.includes("Illegal"))return{language:L,value:LI(O),illegal:!0,relevance:0,_illegalBy:{message:te.message,index:Oe,context:O.slice(Oe-100,Oe+100),mode:te.mode,resultSoFar:Ee},_emitter:zt};if(i)return{language:L,value:LI(O),illegal:!1,relevance:0,errorRaised:te,_emitter:zt,_top:Ae};throw te}}function f(L){const O={value:LI(L),illegal:!1,relevance:0,_top:a,_emitter:new o.__emitter(o)};return O._emitter.addText(L),O}function p(L,O){O=O||o.languages||Object.keys(t);const j=f(L),M=O.filter(C).filter(T).map(G=>h(G,L,!1));M.unshift(j);const I=M.sort((G,Y)=>{if(G.relevance!==Y.relevance)return Y.relevance-G.relevance;if(G.language&&Y.language){if(C(G.language).supersetOf===Y.language)return 1;if(C(Y.language).supersetOf===G.language)return-1}return 0}),[z,U]=I,F=z;return F.secondBest=U,F}function g(L,O,j){const M=O&&r[O]||j;L.classList.add("hljs"),L.classList.add(`language-${M}`)}function v(L){let O=null;const j=c(L);if(l(j))return;if(D("before:highlightElement",{el:L,language:j}),L.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",L);return}if(L.children.length>0&&(o.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(L)),o.throwUnescapedHTML))throw new Eat("One of your code blocks includes unescaped HTML.",L.innerHTML);O=L;const M=O.textContent,I=j?d(M,{language:j,ignoreIllegals:!0}):p(M);L.innerHTML=I.value,L.dataset.highlighted="yes",g(L,j,I.language),L.result={language:I.language,re:I.relevance,relevance:I.relevance},I.secondBest&&(L.secondBest={language:I.secondBest.language,relevance:I.secondBest.relevance}),D("after:highlightElement",{el:L,result:I,text:M})}function m(L){o=dK(o,L)}const y=()=>{b(),jg("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function x(){b(),jg("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let _=!1;function b(){function L(){b()}if(document.readyState==="loading"){_||window.addEventListener("DOMContentLoaded",L,!1),_=!0;return}document.querySelectorAll(o.cssSelector).forEach(v)}function w(L,O){let j=null;try{j=O(e)}catch(M){if(Gf("Language definition for '{}' could not be registered.".replace("{}",L)),i)Gf(M);else throw M;j=a}j.name||(j.name=L),t[L]=j,j.rawDefinition=O.bind(null,e),j.aliases&&E(j.aliases,{languageName:L})}function S(L){delete t[L];for(const O of Object.keys(r))r[O]===L&&delete r[O]}function k(){return Object.keys(t)}function C(L){return L=(L||"").toLowerCase(),t[L]||t[r[L]]}function E(L,{languageName:O}){typeof L=="string"&&(L=[L]),L.forEach(j=>{r[j.toLowerCase()]=O})}function T(L){const O=C(L);return O&&!O.disableAutodetect}function N(L){L["before:highlightBlock"]&&!L["before:highlightElement"]&&(L["before:highlightElement"]=O=>{L["before:highlightBlock"](Object.assign({block:O.el},O))}),L["after:highlightBlock"]&&!L["after:highlightElement"]&&(L["after:highlightElement"]=O=>{L["after:highlightBlock"](Object.assign({block:O.el},O))})}function R(L){N(L),n.push(L)}function P(L){const O=n.indexOf(L);O!==-1&&n.splice(O,1)}function D(L,O){const j=L;n.forEach(function(M){M[j]&&M[j](O)})}function $(L){return jg("10.7.0","highlightBlock will be removed entirely in v12.0"),jg("10.7.0","Please use highlightElement now."),v(L)}Object.assign(e,{highlight:d,highlightAuto:p,highlightAll:b,highlightElement:v,highlightBlock:$,configure:m,initHighlighting:y,initHighlightingOnLoad:x,registerLanguage:w,unregisterLanguage:S,listLanguages:k,getLanguage:C,registerAliases:E,autoDetection:T,inherit:dK,addPlugin:R,removePlugin:P}),e.debugMode=function(){i=!1},e.safeMode=function(){i=!0},e.versionString=kat,e.regex={concat:Fp,lookahead:mfe,either:EB,optional:zst,anyNumberOfTimes:Fst};for(const L in oC)typeof oC[L]=="object"&&pfe(oC[L]);return Object.assign(e,oC),e},hv=kfe({});hv.newInstance=()=>kfe({});var Nat=hv;hv.HighlightJS=hv;hv.default=hv;const Aat=bv(Nat),fK={},jat="hljs-";function Rat(e){const t=Aat.newInstance();return e&&s(e),{highlight:r,highlightAuto:n,listLanguages:i,register:s,registerAlias:a,registered:o};function r(l,c,d){const h=d||fK,f=typeof h.prefix=="string"?h.prefix:jat;if(!t.getLanguage(l))throw new Error("Unknown language: `"+l+"` is not registered");t.configure({__emitter:Iat,classPrefix:f});const p=t.highlight(c,{ignoreIllegals:!0,language:l});if(p.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:p.errorRaised});const g=p._emitter.root,v=g.data;return v.language=p.language,v.relevance=p.relevance,g}function n(l,c){const h=(c||fK).subset||i();let f=-1,p=0,g;for(;++f<h.length;){const v=h[f];if(!t.getLanguage(v))continue;const m=r(v,l,c);m.data&&m.data.relevance!==void 0&&m.data.relevance>p&&(p=m.data.relevance,g=m)}return g||{type:"root",children:[],data:{language:void 0,relevance:p}}}function i(){return t.listLanguages()}function s(l,c){if(typeof l=="string")t.registerLanguage(l,c);else{let d;for(d in l)Object.hasOwn(l,d)&&t.registerLanguage(d,l[d])}}function a(l,c){if(typeof l=="string")t.registerAliases(typeof c=="string"?c:[...c],{languageName:l});else{let d;for(d in l)if(Object.hasOwn(l,d)){const h=l[d];t.registerAliases(typeof h=="string"?h:[...h],{languageName:d})}}}function o(l){return!!t.getLanguage(l)}}class Iat{constructor(t){this.options=t,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(t){if(t==="")return;const r=this.stack[this.stack.length-1],n=r.children[r.children.length-1];n&&n.type==="text"?n.value+=t:r.children.push({type:"text",value:t})}startScope(t){this.openNode(String(t))}endScope(){this.closeNode()}__addSublanguage(t,r){const n=this.stack[this.stack.length-1],i=t.root.children;r?n.children.push({type:"element",tagName:"span",properties:{className:[r]},children:i}):n.children.push(...i)}openNode(t){const r=this,n=t.split(".").map(function(a,o){return o?a+"_".repeat(o):r.options.classPrefix+a}),i=this.stack[this.stack.length-1],s={type:"element",tagName:"span",properties:{className:n},children:[]};i.children.push(s),this.stack.push(s)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const Mat={};function Pat(e){const t=e||Mat,r=t.aliases,n=t.detect||!1,i=t.languages||Lst,s=t.plainText,a=t.prefix,o=t.subset;let l="hljs";const c=Rat(i);if(r&&c.registerAlias(r),a){const d=a.indexOf("-");l=d===-1?a:a.slice(0,d)}return function(d,h){N2(d,"element",function(f,p,g){if(f.tagName!=="code"||!g||g.type!=="element"||g.tagName!=="pre")return;const v=Lat(f);if(v===!1||!v&&!n||v&&s&&s.includes(v))return;Array.isArray(f.properties.className)||(f.properties.className=[]),f.properties.className.includes(l)||f.properties.className.unshift(l);const m=lit(f,{whitespace:"pre"});let y;try{y=v?c.highlight(v,m,{prefix:a}):c.highlightAuto(m,{prefix:a,subset:o})}catch(x){const _=x;if(v&&/Unknown language/.test(_.message)){h.message("Cannot highlight as `"+v+"`, it’s not registered",{ancestors:[g,f],cause:_,place:f.position,ruleId:"missing-language",source:"rehype-highlight"});return}throw _}!v&&y.data&&y.data.language&&f.properties.className.push("language-"+y.data.language),y.children.length>0&&(f.children=y.children)})}}function Lat(e){const t=e.properties.className;let r=-1;if(!Array.isArray(t))return;let n;for(;++r<t.length;){const i=String(t[r]);if(i==="no-highlight"||i==="nohighlight")return!1;!n&&i.slice(0,5)==="lang-"&&(n=i.slice(5)),!n&&i.slice(0,9)==="language-"&&(n=i.slice(9))}return n}const Dat=({role:e,content:t,timestamp:r,context:n,steps:i,copiedId:s,suggestions:a,onUseSuggestion:o,onCopyCommand:l,onExecuteCommand:c,onSaveSnippet:d})=>{const[h,f]=A.useState(!1);return A.useEffect(()=>{e==="assistant"&&console.log("收到的完整原始内容:",t)},[e,t]),u.jsxs("div",{className:`p-4 rounded-xl shadow-sm animate-fadeIn mb-4 ${e==="user"?"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200":"bg-white border border-gray-200"}`,children:[u.jsxs("div",{className:"flex items-center mb-2",children:[u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center mr-2 ${e==="user"?"bg-blue-600":"bg-gray-800"}`,children:e==="user"?u.jsx(iQ,{className:"w-4 h-4 text-white"}):u.jsx(js,{className:"w-4 h-4 text-white"})}),u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-medium text-gray-900",children:e==="user"?"You":"Network Assistant"}),u.jsx("span",{className:"text-xs text-gray-500 ml-2",children:new Date(r).toLocaleTimeString()}),n&&u.jsx(Ce,{variant:"outline",className:"ml-2 text-xs bg-blue-50 text-blue-700",children:n}),e==="assistant"&&u.jsxs("button",{onClick:()=>f(!h),className:"ml-auto text-xs text-gray-500 hover:text-gray-700 flex items-center",title:"查看/隐藏原始内容",children:[u.jsx(to,{className:"h-3 w-3 mr-1"}),h?"隐藏原始内容":"查看原始内容"]})]})})]}),e==="assistant"&&h&&u.jsx("div",{className:"mb-4 p-3 bg-gray-100 rounded text-xs overflow-auto max-h-40",children:u.jsx("pre",{className:"whitespace-pre-wrap",children:t})}),u.jsx("div",{className:"text-gray-700 mb-3 overflow-hidden max-w-full",children:e==="user"?u.jsx("div",{className:"whitespace-pre-line",children:t}):u.jsx("div",{className:"markdown-body overflow-x-hidden w-full",children:u.jsx(Utt,{remarkPlugins:[tit],rehypePlugins:[Pat],components:{code:({className:p,children:g,...v})=>{var x;const m=p==null?void 0:p.includes("language-"),y=((x=p==null?void 0:p.match(/language-(\w+)/))==null?void 0:x[1])||"";return m?u.jsx("pre",{className:`rounded-md my-3 w-full ${y==="bash"?"language-bash":""}`,children:u.jsx("code",{className:p,...v,children:g})}):u.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-red-600",...v,children:g})},p:({children:p})=>{let g=!1;return Wr.Children.forEach(p,v=>{typeof v=="object"&&Wr.isValidElement(v)&&v.type==="code"&&v.props.children&&typeof v.props.children=="string"&&v.props.children.length>50&&(g=!0)}),u.jsx("p",{className:`mb-3 break-words ${g?"whitespace-normal":""}`,children:p})},ul:({children:p})=>u.jsx("ul",{className:"list-disc pl-5 mb-3 space-y-1",children:p}),ol:({children:p})=>u.jsx("ol",{className:"list-decimal pl-5 mb-3 space-y-1",children:p}),li:({children:p})=>u.jsx("li",{className:"break-words",children:p}),strong:({children:p})=>{const g=typeof p=="string"?p:"";return g.includes("Summary:")?u.jsx("strong",{className:"font-bold summary-text",children:p}):g.includes("Intent:")?u.jsx("strong",{className:"font-bold intent-text",children:p}):u.jsx("strong",{className:"font-bold text-gray-900",children:p})}},children:t})})}),e==="assistant"&&i&&i.length>0&&u.jsxs("div",{className:"mt-5 pt-5 border-t border-gray-200",children:[u.jsx("div",{className:"config-steps-header",children:u.jsxs("h4",{className:"font-medium text-gray-700 text-sm flex items-center",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Configuration Steps"]})}),i.filter(p=>p.isVisible).map(p=>u.jsxs("div",{className:"step-card",children:[u.jsx("div",{className:"step-card-header",children:u.jsxs("div",{className:"flex items-center",children:[u.jsxs(Ce,{variant:"outline",className:"mr-2 bg-white border-gray-200 text-gray-700",children:["Step ",p.id]}),u.jsx("h5",{className:"text-sm font-medium text-gray-700",children:p.description})]})}),u.jsx("pre",{className:"step-card-content",children:p.command})]},p.id))]}),e==="assistant"&&a&&a.length>0&&u.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"You might want to ask:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((p,g)=>u.jsxs(Ce,{variant:"outline",className:"bg-white hover:bg-blue-50 cursor-pointer py-1.5 px-3",onClick:()=>o&&o(p),children:[p,u.jsx(Iye,{className:"ml-1 h-3 w-3"})]},g))})]})]})},Oat=({value:e,onChange:t,onSend:r,isLoading:n,isDisabled:i,mode:s,onModeChange:a})=>{const[o,l]=A.useState(!1),c=A.useRef(null),d=h=>{o||h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),!n&&e.trim()&&!i&&r())};return u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"text-xs font-medium text-gray-600 mr-2",children:"Mode:"}),u.jsxs(Q$,{value:s,onValueChange:h=>a(h),className:"flex space-x-4",children:[u.jsxs("div",{className:"flex items-center space-x-1 opacity-40 cursor-not-allowed",children:[u.jsx(ub,{value:"strict",id:"strict",className:"h-3 w-3",disabled:!0}),u.jsx("label",{htmlFor:"strict",className:"text-xs text-gray-400",children:"Strict"})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(ub,{value:"sparse",id:"sparse",className:"h-3 w-3"}),u.jsx("label",{htmlFor:"sparse",className:"text-xs cursor-pointer",children:"Sparse"})]})]})]}),u.jsx("div",{className:"text-xs text-gray-500",children:e.length>0&&`${e.length} chars`})]}),u.jsxs("div",{className:"relative border border-gray-300 rounded-md overflow-hidden focus-within:ring-1 focus-within:ring-blue-500 focus-within:border-blue-500",children:[u.jsx(Tde,{ref:c,value:e,onChange:h=>t(h.target.value),onKeyDown:d,onCompositionStart:()=>l(!0),onCompositionEnd:()=>l(!1),placeholder:"Describe what you want to configure... (Enter to send)",className:"w-full py-2 pl-3 pr-9 border-0 focus:outline-none resize-none text-sm bg-white overflow-y-auto max-h-32",minRows:1,maxRows:5,disabled:n||i,style:{scrollbarWidth:"thin"}}),u.jsx("button",{className:`absolute right-2 top-1/2 transform -translate-y-1/2 p-1 rounded-full transition-colors ${i||n||!e.trim()?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,onClick:r,disabled:n||i||!e.trim(),children:n?u.jsx($t,{className:"h-3.5 w-3.5 animate-spin"}):u.jsx(tQ,{className:"h-3.5 w-3.5"})})]}),i?u.jsx("div",{className:"text-xs text-red-500",children:"Please select a device to continue"}):u.jsx("div",{className:"text-xs text-gray-500",children:"Press Enter to send"})]})},$at=()=>u.jsxs("div",{className:"loading-bubble",children:[u.jsx("div",{className:"icon",children:u.jsx(js,{className:"w-4 h-4 text-white"})}),u.jsxs("div",{className:"dots",children:[u.jsx("div",{className:"dot"}),u.jsx("div",{className:"dot"}),u.jsx("div",{className:"dot"})]})]});var Efe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(self,()=>(()=>{var r={4567:function(a,o,l){var c=this&&this.__decorate||function(_,b,w,S){var k,C=arguments.length,E=C<3?b:S===null?S=Object.getOwnPropertyDescriptor(b,w):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(_,b,w,S);else for(var T=_.length-1;T>=0;T--)(k=_[T])&&(E=(C<3?k(E):C>3?k(b,w,E):k(b,w))||E);return C>3&&E&&Object.defineProperty(b,w,E),E},d=this&&this.__param||function(_,b){return function(w,S){b(w,S,_)}};Object.defineProperty(o,"__esModule",{value:!0}),o.AccessibilityManager=void 0;const h=l(9042),f=l(6114),p=l(9924),g=l(844),v=l(5596),m=l(4725),y=l(3656);let x=o.AccessibilityManager=class extends g.Disposable{constructor(_,b){super(),this._terminal=_,this._renderService=b,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let w=0;w<this._terminal.rows;w++)this._rowElements[w]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[w]);if(this._topBoundaryFocusListener=w=>this._handleBoundaryFocus(w,0),this._bottomBoundaryFocusListener=w=>this._handleBoundaryFocus(w,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new p.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(w=>this._handleResize(w.rows))),this.register(this._terminal.onRender(w=>this._refreshRows(w.start,w.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(w=>this._handleChar(w))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(w=>this._handleTab(w))),this.register(this._terminal.onKey(w=>this._handleKey(w.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new v.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,y.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,g.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(_){for(let b=0;b<_;b++)this._handleChar(" ")}_handleChar(_){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==_&&(this._charsToAnnounce+=_):this._charsToAnnounce+=_,_===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=h.tooMuchOutput)),f.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,f.isMac&&this._liveRegion.remove()}_handleKey(_){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(_)||this._charsToConsume.push(_)}_refreshRows(_,b){this._liveRegionDebouncer.refresh(_,b,this._terminal.rows)}_renderRows(_,b){const w=this._terminal.buffer,S=w.lines.length.toString();for(let k=_;k<=b;k++){const C=w.translateBufferLineToString(w.ydisp+k,!0),E=(w.ydisp+k+1).toString(),T=this._rowElements[k];T&&(C.length===0?T.innerText=" ":T.textContent=C,T.setAttribute("aria-posinset",E),T.setAttribute("aria-setsize",S))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(_,b){const w=_.target,S=this._rowElements[b===0?1:this._rowElements.length-2];if(w.getAttribute("aria-posinset")===(b===0?"1":`${this._terminal.buffer.lines.length}`)||_.relatedTarget!==S)return;let k,C;if(b===0?(k=w,C=this._rowElements.pop(),this._rowContainer.removeChild(C)):(k=this._rowElements.shift(),C=w,this._rowContainer.removeChild(k)),k.removeEventListener("focus",this._topBoundaryFocusListener),C.removeEventListener("focus",this._bottomBoundaryFocusListener),b===0){const E=this._createAccessibilityTreeNode();this._rowElements.unshift(E),this._rowContainer.insertAdjacentElement("afterbegin",E)}else{const E=this._createAccessibilityTreeNode();this._rowElements.push(E),this._rowContainer.appendChild(E)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(b===0?-1:1),this._rowElements[b===0?1:this._rowElements.length-2].focus(),_.preventDefault(),_.stopImmediatePropagation()}_handleResize(_){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let b=this._rowContainer.children.length;b<this._terminal.rows;b++)this._rowElements[b]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[b]);for(;this._rowElements.length>_;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const _=document.createElement("div");return _.setAttribute("role","listitem"),_.tabIndex=-1,this._refreshRowDimensions(_),_}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let _=0;_<this._terminal.rows;_++)this._refreshRowDimensions(this._rowElements[_])}}_refreshRowDimensions(_){_.style.height=`${this._renderService.dimensions.css.cell.height}px`}};o.AccessibilityManager=x=c([d(1,m.IRenderService)],x)},3614:(a,o)=>{function l(f){return f.replace(/\r?\n/g,"\r")}function c(f,p){return p?"\x1B[200~"+f+"\x1B[201~":f}function d(f,p,g,v){f=c(f=l(f),g.decPrivateModes.bracketedPasteMode&&v.rawOptions.ignoreBracketedPasteMode!==!0),g.triggerDataEvent(f,!0),p.value=""}function h(f,p,g){const v=g.getBoundingClientRect(),m=f.clientX-v.left-10,y=f.clientY-v.top-10;p.style.width="20px",p.style.height="20px",p.style.left=`${m}px`,p.style.top=`${y}px`,p.style.zIndex="1000",p.focus()}Object.defineProperty(o,"__esModule",{value:!0}),o.rightClickHandler=o.moveTextAreaUnderMouseCursor=o.paste=o.handlePasteEvent=o.copyHandler=o.bracketTextForPaste=o.prepareTextForTerminal=void 0,o.prepareTextForTerminal=l,o.bracketTextForPaste=c,o.copyHandler=function(f,p){f.clipboardData&&f.clipboardData.setData("text/plain",p.selectionText),f.preventDefault()},o.handlePasteEvent=function(f,p,g,v){f.stopPropagation(),f.clipboardData&&d(f.clipboardData.getData("text/plain"),p,g,v)},o.paste=d,o.moveTextAreaUnderMouseCursor=h,o.rightClickHandler=function(f,p,g,v,m){h(f,p,g),m&&v.rightClickSelect(f),p.value=v.selectionText,p.select()}},7239:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorContrastCache=void 0;const c=l(1505);o.ColorContrastCache=class{constructor(){this._color=new c.TwoKeyMap,this._css=new c.TwoKeyMap}setCss(d,h,f){this._css.set(d,h,f)}getCss(d,h){return this._css.get(d,h)}setColor(d,h,f){this._color.set(d,h,f)}getColor(d,h){return this._color.get(d,h)}clear(){this._color.clear(),this._css.clear()}}},3656:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.addDisposableDomListener=void 0,o.addDisposableDomListener=function(l,c,d,h){l.addEventListener(c,d,h);let f=!1;return{dispose:()=>{f||(f=!0,l.removeEventListener(c,d,h))}}}},6465:function(a,o,l){var c=this&&this.__decorate||function(m,y,x,_){var b,w=arguments.length,S=w<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,x):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(m,y,x,_);else for(var k=m.length-1;k>=0;k--)(b=m[k])&&(S=(w<3?b(S):w>3?b(y,x,S):b(y,x))||S);return w>3&&S&&Object.defineProperty(y,x,S),S},d=this&&this.__param||function(m,y){return function(x,_){y(x,_,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Linkifier2=void 0;const h=l(3656),f=l(8460),p=l(844),g=l(2585);let v=o.Linkifier2=class extends p.Disposable{get currentLink(){return this._currentLink}constructor(m){super(),this._bufferService=m,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new f.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new f.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,p.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,p.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(m){return this._linkProviders.push(m),{dispose:()=>{const y=this._linkProviders.indexOf(m);y!==-1&&this._linkProviders.splice(y,1)}}}attachToDom(m,y,x){this._element=m,this._mouseService=y,this._renderService=x,this.register((0,h.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,h.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(m){if(this._lastMouseEvent=m,!this._element||!this._mouseService)return;const y=this._positionFromMouseEvent(m,this._element,this._mouseService);if(!y)return;this._isMouseOut=!1;const x=m.composedPath();for(let _=0;_<x.length;_++){const b=x[_];if(b.classList.contains("xterm"))break;if(b.classList.contains("xterm-hover"))return}this._lastBufferCell&&y.x===this._lastBufferCell.x&&y.y===this._lastBufferCell.y||(this._handleHover(y),this._lastBufferCell=y)}_handleHover(m){if(this._activeLine!==m.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(m,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,m)||(this._clearCurrentLink(),this._askForLink(m,!0))}_askForLink(m,y){var x,_;this._activeProviderReplies&&y||((x=this._activeProviderReplies)===null||x===void 0||x.forEach(w=>{w==null||w.forEach(S=>{S.link.dispose&&S.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=m.y);let b=!1;for(const[w,S]of this._linkProviders.entries())y?!((_=this._activeProviderReplies)===null||_===void 0)&&_.get(w)&&(b=this._checkLinkProviderResult(w,m,b)):S.provideLinks(m.y,k=>{var C,E;if(this._isMouseOut)return;const T=k==null?void 0:k.map(N=>({link:N}));(C=this._activeProviderReplies)===null||C===void 0||C.set(w,T),b=this._checkLinkProviderResult(w,m,b),((E=this._activeProviderReplies)===null||E===void 0?void 0:E.size)===this._linkProviders.length&&this._removeIntersectingLinks(m.y,this._activeProviderReplies)})}_removeIntersectingLinks(m,y){const x=new Set;for(let _=0;_<y.size;_++){const b=y.get(_);if(b)for(let w=0;w<b.length;w++){const S=b[w],k=S.link.range.start.y<m?0:S.link.range.start.x,C=S.link.range.end.y>m?this._bufferService.cols:S.link.range.end.x;for(let E=k;E<=C;E++){if(x.has(E)){b.splice(w--,1);break}x.add(E)}}}}_checkLinkProviderResult(m,y,x){var _;if(!this._activeProviderReplies)return x;const b=this._activeProviderReplies.get(m);let w=!1;for(let S=0;S<m;S++)this._activeProviderReplies.has(S)&&!this._activeProviderReplies.get(S)||(w=!0);if(!w&&b){const S=b.find(k=>this._linkAtPosition(k.link,y));S&&(x=!0,this._handleNewLink(S))}if(this._activeProviderReplies.size===this._linkProviders.length&&!x)for(let S=0;S<this._activeProviderReplies.size;S++){const k=(_=this._activeProviderReplies.get(S))===null||_===void 0?void 0:_.find(C=>this._linkAtPosition(C.link,y));if(k){x=!0,this._handleNewLink(k);break}}return x}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(m){if(!this._element||!this._mouseService||!this._currentLink)return;const y=this._positionFromMouseEvent(m,this._element,this._mouseService);y&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,y)&&this._currentLink.link.activate(m,this._currentLink.link.text)}_clearCurrentLink(m,y){this._element&&this._currentLink&&this._lastMouseEvent&&(!m||!y||this._currentLink.link.range.start.y>=m&&this._currentLink.link.range.end.y<=y)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,p.disposeArray)(this._linkCacheDisposables))}_handleNewLink(m){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const y=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);y&&this._linkAtPosition(m.link,y)&&(this._currentLink=m,this._currentLink.state={decorations:{underline:m.link.decorations===void 0||m.link.decorations.underline,pointerCursor:m.link.decorations===void 0||m.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,m.link,this._lastMouseEvent),m.link.decorations={},Object.defineProperties(m.link.decorations,{pointerCursor:{get:()=>{var x,_;return(_=(x=this._currentLink)===null||x===void 0?void 0:x.state)===null||_===void 0?void 0:_.decorations.pointerCursor},set:x=>{var _,b;!((_=this._currentLink)===null||_===void 0)&&_.state&&this._currentLink.state.decorations.pointerCursor!==x&&(this._currentLink.state.decorations.pointerCursor=x,this._currentLink.state.isHovered&&((b=this._element)===null||b===void 0||b.classList.toggle("xterm-cursor-pointer",x)))}},underline:{get:()=>{var x,_;return(_=(x=this._currentLink)===null||x===void 0?void 0:x.state)===null||_===void 0?void 0:_.decorations.underline},set:x=>{var _,b,w;!((_=this._currentLink)===null||_===void 0)&&_.state&&((w=(b=this._currentLink)===null||b===void 0?void 0:b.state)===null||w===void 0?void 0:w.decorations.underline)!==x&&(this._currentLink.state.decorations.underline=x,this._currentLink.state.isHovered&&this._fireUnderlineEvent(m.link,x))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(x=>{if(!this._currentLink)return;const _=x.start===0?0:x.start+1+this._bufferService.buffer.ydisp,b=this._bufferService.buffer.ydisp+1+x.end;if(this._currentLink.link.range.start.y>=_&&this._currentLink.link.range.end.y<=b&&(this._clearCurrentLink(_,b),this._lastMouseEvent&&this._element)){const w=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);w&&this._askForLink(w,!1)}})))}_linkHover(m,y,x){var _;!((_=this._currentLink)===null||_===void 0)&&_.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(y,!0),this._currentLink.state.decorations.pointerCursor&&m.classList.add("xterm-cursor-pointer")),y.hover&&y.hover(x,y.text)}_fireUnderlineEvent(m,y){const x=m.range,_=this._bufferService.buffer.ydisp,b=this._createLinkUnderlineEvent(x.start.x-1,x.start.y-_-1,x.end.x,x.end.y-_-1,void 0);(y?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(b)}_linkLeave(m,y,x){var _;!((_=this._currentLink)===null||_===void 0)&&_.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(y,!1),this._currentLink.state.decorations.pointerCursor&&m.classList.remove("xterm-cursor-pointer")),y.leave&&y.leave(x,y.text)}_linkAtPosition(m,y){const x=m.range.start.y*this._bufferService.cols+m.range.start.x,_=m.range.end.y*this._bufferService.cols+m.range.end.x,b=y.y*this._bufferService.cols+y.x;return x<=b&&b<=_}_positionFromMouseEvent(m,y,x){const _=x.getCoords(m,y,this._bufferService.cols,this._bufferService.rows);if(_)return{x:_[0],y:_[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(m,y,x,_,b){return{x1:m,y1:y,x2:x,y2:_,cols:this._bufferService.cols,fg:b}}};o.Linkifier2=v=c([d(0,g.IBufferService)],v)},9042:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tooMuchOutput=o.promptLabel=void 0,o.promptLabel="Terminal input",o.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(a,o,l){var c=this&&this.__decorate||function(v,m,y,x){var _,b=arguments.length,w=b<3?m:x===null?x=Object.getOwnPropertyDescriptor(m,y):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(v,m,y,x);else for(var S=v.length-1;S>=0;S--)(_=v[S])&&(w=(b<3?_(w):b>3?_(m,y,w):_(m,y))||w);return b>3&&w&&Object.defineProperty(m,y,w),w},d=this&&this.__param||function(v,m){return function(y,x){m(y,x,v)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkProvider=void 0;const h=l(511),f=l(2585);let p=o.OscLinkProvider=class{constructor(v,m,y){this._bufferService=v,this._optionsService=m,this._oscLinkService=y}provideLinks(v,m){var y;const x=this._bufferService.buffer.lines.get(v-1);if(!x)return void m(void 0);const _=[],b=this._optionsService.rawOptions.linkHandler,w=new h.CellData,S=x.getTrimmedLength();let k=-1,C=-1,E=!1;for(let T=0;T<S;T++)if(C!==-1||x.hasContent(T)){if(x.loadCell(T,w),w.hasExtendedAttrs()&&w.extended.urlId){if(C===-1){C=T,k=w.extended.urlId;continue}E=w.extended.urlId!==k}else C!==-1&&(E=!0);if(E||C!==-1&&T===S-1){const N=(y=this._oscLinkService.getLinkData(k))===null||y===void 0?void 0:y.uri;if(N){const R={start:{x:C+1,y:v},end:{x:T+(E||T!==S-1?0:1),y:v}};let P=!1;if(!(b!=null&&b.allowNonHttpProtocols))try{const D=new URL(N);["http:","https:"].includes(D.protocol)||(P=!0)}catch{P=!0}P||_.push({text:N,range:R,activate:(D,$)=>b?b.activate(D,$,R):g(0,$),hover:(D,$)=>{var L;return(L=b==null?void 0:b.hover)===null||L===void 0?void 0:L.call(b,D,$,R)},leave:(D,$)=>{var L;return(L=b==null?void 0:b.leave)===null||L===void 0?void 0:L.call(b,D,$,R)}})}E=!1,w.hasExtendedAttrs()&&w.extended.urlId?(C=T,k=w.extended.urlId):(C=-1,k=-1)}}m(_)}};function g(v,m){if(confirm(`Do you want to navigate to ${m}?

WARNING: This link could potentially be dangerous`)){const y=window.open();if(y){try{y.opener=null}catch{}y.location.href=m}else console.warn("Opening link blocked as opener could not be cleared")}}o.OscLinkProvider=p=c([d(0,f.IBufferService),d(1,f.IOptionsService),d(2,f.IOscLinkService)],p)},6193:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RenderDebouncer=void 0,o.RenderDebouncer=class{constructor(l,c){this._parentWindow=l,this._renderCallback=c,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(l){return this._refreshCallbacks.push(l),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(l,c,d){this._rowCount=d,l=l!==void 0?l:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const l=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,c),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const l of this._refreshCallbacks)l(0);this._refreshCallbacks=[]}}},5596:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ScreenDprMonitor=void 0;const c=l(844);class d extends c.Disposable{constructor(f){super(),this._parentWindow=f,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,c.toDisposable)(()=>{this.clearListener()}))}setListener(f){this._listener&&this.clearListener(),this._listener=f,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var f;this._outerListener&&((f=this._resolutionMediaMatchList)===null||f===void 0||f.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}o.ScreenDprMonitor=d},3236:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Terminal=void 0;const c=l(3614),d=l(3656),h=l(6465),f=l(9042),p=l(3730),g=l(1680),v=l(3107),m=l(5744),y=l(2950),x=l(1296),_=l(428),b=l(4269),w=l(5114),S=l(8934),k=l(3230),C=l(9312),E=l(4725),T=l(6731),N=l(8055),R=l(8969),P=l(8460),D=l(844),$=l(6114),L=l(8437),O=l(2584),j=l(7399),M=l(5941),I=l(9074),z=l(2585),U=l(5435),F=l(4567),G=typeof window<"u"?window.document:null;class Y extends R.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(B={}){super(B),this.browser=$,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new D.MutableDisposable),this._onCursorMove=this.register(new P.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new P.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new P.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new P.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new P.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new P.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new P.EventEmitter),this._onBlur=this.register(new P.EventEmitter),this._onA11yCharEmitter=this.register(new P.EventEmitter),this._onA11yTabEmitter=this.register(new P.EventEmitter),this._onWillOpen=this.register(new P.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(h.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(p.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(I.DecorationService),this._instantiationService.setService(z.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((W,K)=>this.refresh(W,K))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(W=>this._reportWindowsOptions(W))),this.register(this._inputHandler.onColor(W=>this._handleColorEvent(W))),this.register((0,P.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,P.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,P.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,P.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(W=>this._afterResize(W.cols,W.rows))),this.register((0,D.toDisposable)(()=>{var W,K;this._customKeyEventHandler=void 0,(K=(W=this.element)===null||W===void 0?void 0:W.parentNode)===null||K===void 0||K.removeChild(this.element)}))}_handleColorEvent(B){if(this._themeService)for(const W of B){let K,X="";switch(W.index){case 256:K="foreground",X="10";break;case 257:K="background",X="11";break;case 258:K="cursor",X="12";break;default:K="ansi",X="4;"+W.index}switch(W.type){case 0:const Q=N.color.toColorRGB(K==="ansi"?this._themeService.colors.ansi[W.index]:this._themeService.colors[K]);this.coreService.triggerDataEvent(`${O.C0.ESC}]${X};${(0,M.toRgbString)(Q)}${O.C1_ESCAPED.ST}`);break;case 1:if(K==="ansi")this._themeService.modifyColors(re=>re.ansi[W.index]=N.rgba.toColor(...W.color));else{const re=K;this._themeService.modifyColors(Se=>Se[re]=N.rgba.toColor(...W.color))}break;case 2:this._themeService.restoreColor(W.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(B){B?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(F.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(B){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(O.C0.ESC+"[I"),this.updateCursorStyle(B),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var B;return(B=this.textarea)===null||B===void 0?void 0:B.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(O.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const B=this.buffer.ybase+this.buffer.y,W=this.buffer.lines.get(B);if(!W)return;const K=Math.min(this.buffer.x,this.cols-1),X=this._renderService.dimensions.css.cell.height,Q=W.getWidth(K),re=this._renderService.dimensions.css.cell.width*Q,Se=this.buffer.y*this._renderService.dimensions.css.cell.height,Te=K*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Te+"px",this.textarea.style.top=Se+"px",this.textarea.style.width=re+"px",this.textarea.style.height=X+"px",this.textarea.style.lineHeight=X+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,d.addDisposableDomListener)(this.element,"copy",W=>{this.hasSelection()&&(0,c.copyHandler)(W,this._selectionService)}));const B=W=>(0,c.handlePasteEvent)(W,this.textarea,this.coreService,this.optionsService);this.register((0,d.addDisposableDomListener)(this.textarea,"paste",B)),this.register((0,d.addDisposableDomListener)(this.element,"paste",B)),$.isFirefox?this.register((0,d.addDisposableDomListener)(this.element,"mousedown",W=>{W.button===2&&(0,c.rightClickHandler)(W,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,d.addDisposableDomListener)(this.element,"contextmenu",W=>{(0,c.rightClickHandler)(W,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),$.isLinux&&this.register((0,d.addDisposableDomListener)(this.element,"auxclick",W=>{W.button===1&&(0,c.moveTextAreaUnderMouseCursor)(W,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,d.addDisposableDomListener)(this.textarea,"keyup",B=>this._keyUp(B),!0)),this.register((0,d.addDisposableDomListener)(this.textarea,"keydown",B=>this._keyDown(B),!0)),this.register((0,d.addDisposableDomListener)(this.textarea,"keypress",B=>this._keyPress(B),!0)),this.register((0,d.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,d.addDisposableDomListener)(this.textarea,"compositionupdate",B=>this._compositionHelper.compositionupdate(B))),this.register((0,d.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,d.addDisposableDomListener)(this.textarea,"input",B=>this._inputEvent(B),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(B){var W;if(!B)throw new Error("Terminal requires a parent element.");B.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=B.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),B.appendChild(this.element);const K=G.createDocumentFragment();this._viewportElement=G.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),K.appendChild(this._viewportElement),this._viewportScrollArea=G.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=G.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=G.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),K.appendChild(this.screenElement),this.textarea=G.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",f.promptLabel),$.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(w.CoreBrowserService,this.textarea,(W=this._document.defaultView)!==null&&W!==void 0?W:window),this._instantiationService.setService(E.ICoreBrowserService,this._coreBrowserService),this.register((0,d.addDisposableDomListener)(this.textarea,"focus",X=>this._handleTextAreaFocus(X))),this.register((0,d.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(_.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(E.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(T.ThemeService),this._instantiationService.setService(E.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(b.CharacterJoinerService),this._instantiationService.setService(E.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(k.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(E.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(X=>this._onRender.fire(X))),this.onResize(X=>this._renderService.resize(X.cols,X.rows)),this._compositionView=G.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(y.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(K);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(S.MouseService),this._instantiationService.setService(E.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(g.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(X=>this.scrollLines(X.amount,X.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(C.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(E.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(X=>this.scrollLines(X.amount,X.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(X=>this._renderService.handleSelectionChanged(X.start,X.end,X.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(X=>{this.textarea.value=X,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(X=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,d.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(v.BufferDecorationRenderer,this.screenElement)),this.register((0,d.addDisposableDomListener)(this.element,"mousedown",X=>this._selectionService.handleMouseDown(X))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(F.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",X=>this._handleScreenReaderModeOptionChange(X))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(m.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",X=>{!this._overviewRulerRenderer&&X&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(m.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(x.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const B=this,W=this.element;function K(re){const Se=B._mouseService.getMouseReportCoords(re,B.screenElement);if(!Se)return!1;let Te,Ie;switch(re.overrideType||re.type){case"mousemove":Ie=32,re.buttons===void 0?(Te=3,re.button!==void 0&&(Te=re.button<3?re.button:3)):Te=1&re.buttons?0:4&re.buttons?1:2&re.buttons?2:3;break;case"mouseup":Ie=0,Te=re.button<3?re.button:3;break;case"mousedown":Ie=1,Te=re.button<3?re.button:3;break;case"wheel":if(B.viewport.getLinesScrolled(re)===0)return!1;Ie=re.deltaY<0?0:1,Te=4;break;default:return!1}return!(Ie===void 0||Te===void 0||Te>4)&&B.coreMouseService.triggerMouseEvent({col:Se.col,row:Se.row,x:Se.x,y:Se.y,button:Te,action:Ie,ctrl:re.ctrlKey,alt:re.altKey,shift:re.shiftKey})}const X={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Q={mouseup:re=>(K(re),re.buttons||(this._document.removeEventListener("mouseup",X.mouseup),X.mousedrag&&this._document.removeEventListener("mousemove",X.mousedrag)),this.cancel(re)),wheel:re=>(K(re),this.cancel(re,!0)),mousedrag:re=>{re.buttons&&K(re)},mousemove:re=>{re.buttons||K(re)}};this.register(this.coreMouseService.onProtocolChange(re=>{re?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(re)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&re?X.mousemove||(W.addEventListener("mousemove",Q.mousemove),X.mousemove=Q.mousemove):(W.removeEventListener("mousemove",X.mousemove),X.mousemove=null),16&re?X.wheel||(W.addEventListener("wheel",Q.wheel,{passive:!1}),X.wheel=Q.wheel):(W.removeEventListener("wheel",X.wheel),X.wheel=null),2&re?X.mouseup||(W.addEventListener("mouseup",Q.mouseup),X.mouseup=Q.mouseup):(this._document.removeEventListener("mouseup",X.mouseup),W.removeEventListener("mouseup",X.mouseup),X.mouseup=null),4&re?X.mousedrag||(X.mousedrag=Q.mousedrag):(this._document.removeEventListener("mousemove",X.mousedrag),X.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,d.addDisposableDomListener)(W,"mousedown",re=>{if(re.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(re))return K(re),X.mouseup&&this._document.addEventListener("mouseup",X.mouseup),X.mousedrag&&this._document.addEventListener("mousemove",X.mousedrag),this.cancel(re)})),this.register((0,d.addDisposableDomListener)(W,"wheel",re=>{if(!X.wheel){if(!this.buffer.hasScrollback){const Se=this.viewport.getLinesScrolled(re);if(Se===0)return;const Te=O.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(re.deltaY<0?"A":"B");let Ie="";for(let Me=0;Me<Math.abs(Se);Me++)Ie+=Te;return this.coreService.triggerDataEvent(Ie,!0),this.cancel(re,!0)}return this.viewport.handleWheel(re)?this.cancel(re):void 0}},{passive:!1})),this.register((0,d.addDisposableDomListener)(W,"touchstart",re=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(re),this.cancel(re)},{passive:!0})),this.register((0,d.addDisposableDomListener)(W,"touchmove",re=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(re)?void 0:this.cancel(re)},{passive:!1}))}refresh(B,W){var K;(K=this._renderService)===null||K===void 0||K.refreshRows(B,W)}updateCursorStyle(B){var W;!((W=this._selectionService)===null||W===void 0)&&W.shouldColumnSelect(B)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(B,W,K=0){var X;K===1?(super.scrollLines(B,W,K),this.refresh(0,this.rows-1)):(X=this.viewport)===null||X===void 0||X.scrollLines(B)}paste(B){(0,c.paste)(B,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(B){this._customKeyEventHandler=B}registerLinkProvider(B){return this.linkifier2.registerLinkProvider(B)}registerCharacterJoiner(B){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const W=this._characterJoinerService.register(B);return this.refresh(0,this.rows-1),W}deregisterCharacterJoiner(B){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(B)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(B){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+B)}registerDecoration(B){return this._decorationService.registerDecoration(B)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(B,W,K){this._selectionService.setSelection(B,W,K)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var B;(B=this._selectionService)===null||B===void 0||B.clearSelection()}selectAll(){var B;(B=this._selectionService)===null||B===void 0||B.selectAll()}selectLines(B,W){var K;(K=this._selectionService)===null||K===void 0||K.selectLines(B,W)}_keyDown(B){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1)return!1;const W=this.browser.isMac&&this.options.macOptionIsMeta&&B.altKey;if(!W&&!this._compositionHelper.keydown(B))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;W||B.key!=="Dead"&&B.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const K=(0,j.evaluateKeyboardEvent)(B,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(B),K.type===3||K.type===2){const X=this.rows-1;return this.scrollLines(K.type===2?-X:X),this.cancel(B,!0)}return K.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,B)||(K.cancel&&this.cancel(B,!0),!K.key||!!(B.key&&!B.ctrlKey&&!B.altKey&&!B.metaKey&&B.key.length===1&&B.key.charCodeAt(0)>=65&&B.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(K.key!==O.C0.ETX&&K.key!==O.C0.CR||(this.textarea.value=""),this._onKey.fire({key:K.key,domEvent:B}),this._showCursor(),this.coreService.triggerDataEvent(K.key,!0),!this.optionsService.rawOptions.screenReaderMode||B.altKey||B.ctrlKey?this.cancel(B,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(B,W){const K=B.isMac&&!this.options.macOptionIsMeta&&W.altKey&&!W.ctrlKey&&!W.metaKey||B.isWindows&&W.altKey&&W.ctrlKey&&!W.metaKey||B.isWindows&&W.getModifierState("AltGraph");return W.type==="keypress"?K:K&&(!W.keyCode||W.keyCode>47)}_keyUp(B){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1||(function(W){return W.keyCode===16||W.keyCode===17||W.keyCode===18}(B)||this.focus(),this.updateCursorStyle(B),this._keyPressHandled=!1)}_keyPress(B){let W;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1)return!1;if(this.cancel(B),B.charCode)W=B.charCode;else if(B.which===null||B.which===void 0)W=B.keyCode;else{if(B.which===0||B.charCode===0)return!1;W=B.which}return!(!W||(B.altKey||B.ctrlKey||B.metaKey)&&!this._isThirdLevelShift(this.browser,B)||(W=String.fromCharCode(W),this._onKey.fire({key:W,domEvent:B}),this._showCursor(),this.coreService.triggerDataEvent(W,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(B){if(B.data&&B.inputType==="insertText"&&(!B.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const W=B.data;return this.coreService.triggerDataEvent(W,!0),this.cancel(B),!0}return!1}resize(B,W){B!==this.cols||W!==this.rows?super.resize(B,W):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(B,W){var K,X;(K=this._charSizeService)===null||K===void 0||K.measure(),(X=this.viewport)===null||X===void 0||X.syncScrollArea(!0)}clear(){var B;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let W=1;W<this.rows;W++)this.buffer.lines.push(this.buffer.getBlankLine(L.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(B=this.viewport)===null||B===void 0||B.reset(),this.refresh(0,this.rows-1)}}reset(){var B,W;this.options.rows=this.rows,this.options.cols=this.cols;const K=this._customKeyEventHandler;this._setup(),super.reset(),(B=this._selectionService)===null||B===void 0||B.reset(),this._decorationService.reset(),(W=this.viewport)===null||W===void 0||W.reset(),this._customKeyEventHandler=K,this.refresh(0,this.rows-1)}clearTextureAtlas(){var B;(B=this._renderService)===null||B===void 0||B.clearTextureAtlas()}_reportFocus(){var B;!((B=this.element)===null||B===void 0)&&B.classList.contains("focus")?this.coreService.triggerDataEvent(O.C0.ESC+"[I"):this.coreService.triggerDataEvent(O.C0.ESC+"[O")}_reportWindowsOptions(B){if(this._renderService)switch(B){case U.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const W=this._renderService.dimensions.css.canvas.width.toFixed(0),K=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${O.C0.ESC}[4;${K};${W}t`);break;case U.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const X=this._renderService.dimensions.css.cell.width.toFixed(0),Q=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${O.C0.ESC}[6;${Q};${X}t`)}}cancel(B,W){if(this.options.cancelEvents||W)return B.preventDefault(),B.stopPropagation(),!1}}o.Terminal=Y},9924:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TimeBasedDebouncer=void 0,o.TimeBasedDebouncer=class{constructor(l,c=1e3){this._renderCallback=l,this._debounceThresholdMS=c,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(l,c,d){this._rowCount=d,l=l!==void 0?l:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c;const h=Date.now();if(h-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=h,this._innerRefresh();else if(!this._additionalRefreshRequested){const f=h-this._lastRefreshMs,p=this._debounceThresholdMS-f;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},p)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const l=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,c)}}},1680:function(a,o,l){var c=this&&this.__decorate||function(y,x,_,b){var w,S=arguments.length,k=S<3?x:b===null?b=Object.getOwnPropertyDescriptor(x,_):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(y,x,_,b);else for(var C=y.length-1;C>=0;C--)(w=y[C])&&(k=(S<3?w(k):S>3?w(x,_,k):w(x,_))||k);return S>3&&k&&Object.defineProperty(x,_,k),k},d=this&&this.__param||function(y,x){return function(_,b){x(_,b,y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Viewport=void 0;const h=l(3656),f=l(4725),p=l(8460),g=l(844),v=l(2585);let m=o.Viewport=class extends g.Disposable{constructor(y,x,_,b,w,S,k,C){super(),this._viewportElement=y,this._scrollArea=x,this._bufferService=_,this._optionsService=b,this._charSizeService=w,this._renderService=S,this._coreBrowserService=k,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new p.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,h.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(E=>this._activeBuffer=E.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(E=>this._renderDimensions=E)),this._handleThemeChange(C.colors),this.register(C.onChangeColors(E=>this._handleThemeChange(E))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(y){this._viewportElement.style.backgroundColor=y.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(y){if(y)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const x=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==x&&(this._lastRecordedBufferHeight=x,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const y=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==y&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=y),this._refreshAnimationFrame=null}syncScrollArea(y=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(y);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(y)}_handleScroll(y){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const x=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:x,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const y=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(y*(this._smoothScrollState.target-this._smoothScrollState.origin)),y<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(y,x){const _=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(x<0&&this._viewportElement.scrollTop!==0||x>0&&_<this._lastRecordedBufferHeight)||(y.cancelable&&y.preventDefault(),!1)}handleWheel(y){const x=this._getPixelsScrolled(y);return x!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+x:this._smoothScrollState.target+=x,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=x,this._bubbleScroll(y,x))}scrollLines(y){if(y!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const x=y*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+x,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:y,suppressScrollEvent:!1})}_getPixelsScrolled(y){if(y.deltaY===0||y.shiftKey)return 0;let x=this._applyScrollModifier(y.deltaY,y);return y.deltaMode===WheelEvent.DOM_DELTA_LINE?x*=this._currentRowHeight:y.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(x*=this._currentRowHeight*this._bufferService.rows),x}getBufferElements(y,x){var _;let b,w="";const S=[],k=x??this._bufferService.buffer.lines.length,C=this._bufferService.buffer.lines;for(let E=y;E<k;E++){const T=C.get(E);if(!T)continue;const N=(_=C.get(E+1))===null||_===void 0?void 0:_.isWrapped;if(w+=T.translateToString(!N),!N||E===C.length-1){const R=document.createElement("div");R.textContent=w,S.push(R),w.length>0&&(b=R),w=""}}return{bufferElements:S,cursorElement:b}}getLinesScrolled(y){if(y.deltaY===0||y.shiftKey)return 0;let x=this._applyScrollModifier(y.deltaY,y);return y.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(x/=this._currentRowHeight+0,this._wheelPartialScroll+=x,x=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):y.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(x*=this._bufferService.rows),x}_applyScrollModifier(y,x){const _=this._optionsService.rawOptions.fastScrollModifier;return _==="alt"&&x.altKey||_==="ctrl"&&x.ctrlKey||_==="shift"&&x.shiftKey?y*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:y*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(y){this._lastTouchY=y.touches[0].pageY}handleTouchMove(y){const x=this._lastTouchY-y.touches[0].pageY;return this._lastTouchY=y.touches[0].pageY,x!==0&&(this._viewportElement.scrollTop+=x,this._bubbleScroll(y,x))}};o.Viewport=m=c([d(2,v.IBufferService),d(3,v.IOptionsService),d(4,f.ICharSizeService),d(5,f.IRenderService),d(6,f.ICoreBrowserService),d(7,f.IThemeService)],m)},3107:function(a,o,l){var c=this&&this.__decorate||function(m,y,x,_){var b,w=arguments.length,S=w<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,x):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(m,y,x,_);else for(var k=m.length-1;k>=0;k--)(b=m[k])&&(S=(w<3?b(S):w>3?b(y,x,S):b(y,x))||S);return w>3&&S&&Object.defineProperty(y,x,S),S},d=this&&this.__param||function(m,y){return function(x,_){y(x,_,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferDecorationRenderer=void 0;const h=l(3656),f=l(4725),p=l(844),g=l(2585);let v=o.BufferDecorationRenderer=class extends p.Disposable{constructor(m,y,x,_){super(),this._screenElement=m,this._bufferService=y,this._decorationService=x,this._renderService=_,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,h.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(b=>this._removeDecoration(b))),this.register((0,p.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const m of this._decorationService.decorations)this._renderDecoration(m);this._dimensionsChanged=!1}_renderDecoration(m){this._refreshStyle(m),this._dimensionsChanged&&this._refreshXPosition(m)}_createElement(m){var y,x;const _=document.createElement("div");_.classList.add("xterm-decoration"),_.classList.toggle("xterm-decoration-top-layer",((y=m==null?void 0:m.options)===null||y===void 0?void 0:y.layer)==="top"),_.style.width=`${Math.round((m.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,_.style.height=(m.options.height||1)*this._renderService.dimensions.css.cell.height+"px",_.style.top=(m.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",_.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const b=(x=m.options.x)!==null&&x!==void 0?x:0;return b&&b>this._bufferService.cols&&(_.style.display="none"),this._refreshXPosition(m,_),_}_refreshStyle(m){const y=m.marker.line-this._bufferService.buffers.active.ydisp;if(y<0||y>=this._bufferService.rows)m.element&&(m.element.style.display="none",m.onRenderEmitter.fire(m.element));else{let x=this._decorationElements.get(m);x||(x=this._createElement(m),m.element=x,this._decorationElements.set(m,x),this._container.appendChild(x),m.onDispose(()=>{this._decorationElements.delete(m),x.remove()})),x.style.top=y*this._renderService.dimensions.css.cell.height+"px",x.style.display=this._altBufferIsActive?"none":"block",m.onRenderEmitter.fire(x)}}_refreshXPosition(m,y=m.element){var x;if(!y)return;const _=(x=m.options.x)!==null&&x!==void 0?x:0;(m.options.anchor||"left")==="right"?y.style.right=_?_*this._renderService.dimensions.css.cell.width+"px":"":y.style.left=_?_*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(m){var y;(y=this._decorationElements.get(m))===null||y===void 0||y.remove(),this._decorationElements.delete(m),m.dispose()}};o.BufferDecorationRenderer=v=c([d(1,g.IBufferService),d(2,g.IDecorationService),d(3,f.IRenderService)],v)},5871:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorZoneStore=void 0,o.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(l){if(l.options.overviewRulerOptions){for(const c of this._zones)if(c.color===l.options.overviewRulerOptions.color&&c.position===l.options.overviewRulerOptions.position){if(this._lineIntersectsZone(c,l.marker.line))return;if(this._lineAdjacentToZone(c,l.marker.line,l.options.overviewRulerOptions.position))return void this._addLineToZone(c,l.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=l.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=l.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=l.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=l.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:l.options.overviewRulerOptions.color,position:l.options.overviewRulerOptions.position,startBufferLine:l.marker.line,endBufferLine:l.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(l){this._linePadding=l}_lineIntersectsZone(l,c){return c>=l.startBufferLine&&c<=l.endBufferLine}_lineAdjacentToZone(l,c,d){return c>=l.startBufferLine-this._linePadding[d||"full"]&&c<=l.endBufferLine+this._linePadding[d||"full"]}_addLineToZone(l,c){l.startBufferLine=Math.min(l.startBufferLine,c),l.endBufferLine=Math.max(l.endBufferLine,c)}}},5744:function(a,o,l){var c=this&&this.__decorate||function(b,w,S,k){var C,E=arguments.length,T=E<3?w:k===null?k=Object.getOwnPropertyDescriptor(w,S):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(b,w,S,k);else for(var N=b.length-1;N>=0;N--)(C=b[N])&&(T=(E<3?C(T):E>3?C(w,S,T):C(w,S))||T);return E>3&&T&&Object.defineProperty(w,S,T),T},d=this&&this.__param||function(b,w){return function(S,k){w(S,k,b)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OverviewRulerRenderer=void 0;const h=l(5871),f=l(3656),p=l(4725),g=l(844),v=l(2585),m={full:0,left:0,center:0,right:0},y={full:0,left:0,center:0,right:0},x={full:0,left:0,center:0,right:0};let _=o.OverviewRulerRenderer=class extends g.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(b,w,S,k,C,E,T){var N;super(),this._viewportElement=b,this._screenElement=w,this._bufferService=S,this._decorationService=k,this._renderService=C,this._optionsService=E,this._coreBrowseService=T,this._colorZoneStore=new h.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(N=this._viewportElement.parentElement)===null||N===void 0||N.insertBefore(this._canvas,this._viewportElement);const R=this._canvas.getContext("2d");if(!R)throw new Error("Ctx cannot be null");this._ctx=R,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,g.toDisposable)(()=>{var P;(P=this._canvas)===null||P===void 0||P.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,f.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const b=Math.floor(this._canvas.width/3),w=Math.ceil(this._canvas.width/3);y.full=this._canvas.width,y.left=b,y.center=w,y.right=b,this._refreshDrawHeightConstants(),x.full=0,x.left=0,x.center=y.left,x.right=y.left+y.center}_refreshDrawHeightConstants(){m.full=Math.round(2*this._coreBrowseService.dpr);const b=this._canvas.height/this._bufferService.buffer.lines.length,w=Math.round(Math.max(Math.min(b,12),6)*this._coreBrowseService.dpr);m.left=w,m.center=w,m.right=w}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const w of this._decorationService.decorations)this._colorZoneStore.addDecoration(w);this._ctx.lineWidth=1;const b=this._colorZoneStore.zones;for(const w of b)w.position!=="full"&&this._renderColorZone(w);for(const w of b)w.position==="full"&&this._renderColorZone(w);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(b){this._ctx.fillStyle=b.color,this._ctx.fillRect(x[b.position||"full"],Math.round((this._canvas.height-1)*(b.startBufferLine/this._bufferService.buffers.active.lines.length)-m[b.position||"full"]/2),y[b.position||"full"],Math.round((this._canvas.height-1)*((b.endBufferLine-b.startBufferLine)/this._bufferService.buffers.active.lines.length)+m[b.position||"full"]))}_queueRefresh(b,w){this._shouldUpdateDimensions=b||this._shouldUpdateDimensions,this._shouldUpdateAnchor=w||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};o.OverviewRulerRenderer=_=c([d(2,v.IBufferService),d(3,v.IDecorationService),d(4,p.IRenderService),d(5,v.IOptionsService),d(6,p.ICoreBrowserService)],_)},2950:function(a,o,l){var c=this&&this.__decorate||function(v,m,y,x){var _,b=arguments.length,w=b<3?m:x===null?x=Object.getOwnPropertyDescriptor(m,y):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(v,m,y,x);else for(var S=v.length-1;S>=0;S--)(_=v[S])&&(w=(b<3?_(w):b>3?_(m,y,w):_(m,y))||w);return b>3&&w&&Object.defineProperty(m,y,w),w},d=this&&this.__param||function(v,m){return function(y,x){m(y,x,v)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CompositionHelper=void 0;const h=l(4725),f=l(2585),p=l(2584);let g=o.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(v,m,y,x,_,b){this._textarea=v,this._compositionView=m,this._bufferService=y,this._optionsService=x,this._coreService=_,this._renderService=b,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(v){this._compositionView.textContent=v.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(v){if(this._isComposing||this._isSendingComposition){if(v.keyCode===229||v.keyCode===16||v.keyCode===17||v.keyCode===18)return!1;this._finalizeComposition(!1)}return v.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(v){if(this._compositionView.classList.remove("active"),this._isComposing=!1,v){const m={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let y;this._isSendingComposition=!1,m.start+=this._dataAlreadySent.length,y=this._isComposing?this._textarea.value.substring(m.start,m.end):this._textarea.value.substring(m.start),y.length>0&&this._coreService.triggerDataEvent(y,!0)}},0)}else{this._isSendingComposition=!1;const m=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(m,!0)}}_handleAnyTextareaChanges(){const v=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const m=this._textarea.value,y=m.replace(v,"");this._dataAlreadySent=y,m.length>v.length?this._coreService.triggerDataEvent(y,!0):m.length<v.length?this._coreService.triggerDataEvent(`${p.C0.DEL}`,!0):m.length===v.length&&m!==v&&this._coreService.triggerDataEvent(m,!0)}},0)}updateCompositionElements(v){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const m=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),y=this._renderService.dimensions.css.cell.height,x=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,_=m*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=_+"px",this._compositionView.style.top=x+"px",this._compositionView.style.height=y+"px",this._compositionView.style.lineHeight=y+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const b=this._compositionView.getBoundingClientRect();this._textarea.style.left=_+"px",this._textarea.style.top=x+"px",this._textarea.style.width=Math.max(b.width,1)+"px",this._textarea.style.height=Math.max(b.height,1)+"px",this._textarea.style.lineHeight=b.height+"px"}v||setTimeout(()=>this.updateCompositionElements(!0),0)}}};o.CompositionHelper=g=c([d(2,f.IBufferService),d(3,f.IOptionsService),d(4,f.ICoreService),d(5,h.IRenderService)],g)},9806:(a,o)=>{function l(c,d,h){const f=h.getBoundingClientRect(),p=c.getComputedStyle(h),g=parseInt(p.getPropertyValue("padding-left")),v=parseInt(p.getPropertyValue("padding-top"));return[d.clientX-f.left-g,d.clientY-f.top-v]}Object.defineProperty(o,"__esModule",{value:!0}),o.getCoords=o.getCoordsRelativeToElement=void 0,o.getCoordsRelativeToElement=l,o.getCoords=function(c,d,h,f,p,g,v,m,y){if(!g)return;const x=l(c,d,h);return x?(x[0]=Math.ceil((x[0]+(y?v/2:0))/v),x[1]=Math.ceil(x[1]/m),x[0]=Math.min(Math.max(x[0],1),f+(y?1:0)),x[1]=Math.min(Math.max(x[1],1),p),x):void 0}},9504:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.moveToCellSequence=void 0;const c=l(2584);function d(m,y,x,_){const b=m-h(m,x),w=y-h(y,x),S=Math.abs(b-w)-function(k,C,E){let T=0;const N=k-h(k,E),R=C-h(C,E);for(let P=0;P<Math.abs(N-R);P++){const D=f(k,C)==="A"?-1:1,$=E.buffer.lines.get(N+D*P);$!=null&&$.isWrapped&&T++}return T}(m,y,x);return v(S,g(f(m,y),_))}function h(m,y){let x=0,_=y.buffer.lines.get(m),b=_==null?void 0:_.isWrapped;for(;b&&m>=0&&m<y.rows;)x++,_=y.buffer.lines.get(--m),b=_==null?void 0:_.isWrapped;return x}function f(m,y){return m>y?"A":"B"}function p(m,y,x,_,b,w){let S=m,k=y,C="";for(;S!==x||k!==_;)S+=b?1:-1,b&&S>w.cols-1?(C+=w.buffer.translateBufferLineToString(k,!1,m,S),S=0,m=0,k++):!b&&S<0&&(C+=w.buffer.translateBufferLineToString(k,!1,0,m+1),S=w.cols-1,m=S,k--);return C+w.buffer.translateBufferLineToString(k,!1,m,S)}function g(m,y){const x=y?"O":"[";return c.C0.ESC+x+m}function v(m,y){m=Math.floor(m);let x="";for(let _=0;_<m;_++)x+=y;return x}o.moveToCellSequence=function(m,y,x,_){const b=x.buffer.x,w=x.buffer.y;if(!x.buffer.hasScrollback)return function(C,E,T,N,R,P){return d(E,N,R,P).length===0?"":v(p(C,E,C,E-h(E,R),!1,R).length,g("D",P))}(b,w,0,y,x,_)+d(w,y,x,_)+function(C,E,T,N,R,P){let D;D=d(E,N,R,P).length>0?N-h(N,R):E;const $=N,L=function(O,j,M,I,z,U){let F;return F=d(M,I,z,U).length>0?I-h(I,z):j,O<M&&F<=I||O>=M&&F<I?"C":"D"}(C,E,T,N,R,P);return v(p(C,D,T,$,L==="C",R).length,g(L,P))}(b,w,m,y,x,_);let S;if(w===y)return S=b>m?"D":"C",v(Math.abs(b-m),g(S,_));S=w>y?"D":"C";const k=Math.abs(w-y);return v(function(C,E){return E.cols-C}(w>y?m:b,x)+(k-1)*x.cols+1+((w>y?b:m)-1),g(S,_))}},1296:function(a,o,l){var c=this&&this.__decorate||function(R,P,D,$){var L,O=arguments.length,j=O<3?P:$===null?$=Object.getOwnPropertyDescriptor(P,D):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(R,P,D,$);else for(var M=R.length-1;M>=0;M--)(L=R[M])&&(j=(O<3?L(j):O>3?L(P,D,j):L(P,D))||j);return O>3&&j&&Object.defineProperty(P,D,j),j},d=this&&this.__param||function(R,P){return function(D,$){P(D,$,R)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRenderer=void 0;const h=l(3787),f=l(2550),p=l(2223),g=l(6171),v=l(4725),m=l(8055),y=l(8460),x=l(844),_=l(2585),b="xterm-dom-renderer-owner-",w="xterm-rows",S="xterm-fg-",k="xterm-bg-",C="xterm-focus",E="xterm-selection";let T=1,N=o.DomRenderer=class extends x.Disposable{constructor(R,P,D,$,L,O,j,M,I,z){super(),this._element=R,this._screenElement=P,this._viewportElement=D,this._linkifier2=$,this._charSizeService=O,this._optionsService=j,this._bufferService=M,this._coreBrowserService=I,this._themeService=z,this._terminalClass=T++,this._rowElements=[],this.onRequestRedraw=this.register(new y.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(w),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(E),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,g.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(U=>this._injectCss(U))),this._injectCss(this._themeService.colors),this._rowFactory=L.createInstance(h.DomRendererRowFactory,document),this._element.classList.add(b+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(U=>this._handleLinkHover(U))),this.register(this._linkifier2.onHideLinkUnderline(U=>this._handleLinkLeave(U))),this.register((0,x.toDisposable)(()=>{this._element.classList.remove(b+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new f.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const R=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*R,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*R),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/R),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/R),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const D of this._rowElements)D.style.width=`${this.dimensions.css.canvas.width}px`,D.style.height=`${this.dimensions.css.cell.height}px`,D.style.lineHeight=`${this.dimensions.css.cell.height}px`,D.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const P=`${this._terminalSelector} .${w} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=P,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(R){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let P=`${this._terminalSelector} .${w} { color: ${R.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;P+=`${this._terminalSelector} .${w} .xterm-dim { color: ${m.color.multiplyOpacity(R.foreground,.5).css};}`,P+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,P+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",P+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${R.cursor.css};  color: ${R.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${R.cursor.css}; }}`,P+=`${this._terminalSelector} .${w}.${C} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${w}.${C} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-block { background-color: ${R.cursor.css}; color: ${R.cursorAccent.css};}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${R.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${R.cursor.css} inset;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${R.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,P+=`${this._terminalSelector} .${E} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${E} div { position: absolute; background-color: ${R.selectionBackgroundOpaque.css};}${this._terminalSelector} .${E} div { position: absolute; background-color: ${R.selectionInactiveBackgroundOpaque.css};}`;for(const[D,$]of R.ansi.entries())P+=`${this._terminalSelector} .${S}${D} { color: ${$.css}; }${this._terminalSelector} .${S}${D}.xterm-dim { color: ${m.color.multiplyOpacity($,.5).css}; }${this._terminalSelector} .${k}${D} { background-color: ${$.css}; }`;P+=`${this._terminalSelector} .${S}${p.INVERTED_DEFAULT_COLOR} { color: ${m.color.opaque(R.background).css}; }${this._terminalSelector} .${S}${p.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${m.color.multiplyOpacity(m.color.opaque(R.background),.5).css}; }${this._terminalSelector} .${k}${p.INVERTED_DEFAULT_COLOR} { background-color: ${R.foreground.css}; }`,this._themeStyleElement.textContent=P}_setDefaultSpacing(){const R=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${R}px`,this._rowFactory.defaultSpacing=R}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(R,P){for(let D=this._rowElements.length;D<=P;D++){const $=document.createElement("div");this._rowContainer.appendChild($),this._rowElements.push($)}for(;this._rowElements.length>P;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(R,P){this._refreshRowElements(R,P),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(C)}handleFocus(){this._rowContainer.classList.add(C),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(R,P,D){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(R,P,D),this.renderRows(0,this._bufferService.rows-1),!R||!P)return;const $=R[1]-this._bufferService.buffer.ydisp,L=P[1]-this._bufferService.buffer.ydisp,O=Math.max($,0),j=Math.min(L,this._bufferService.rows-1);if(O>=this._bufferService.rows||j<0)return;const M=document.createDocumentFragment();if(D){const I=R[0]>P[0];M.appendChild(this._createSelectionElement(O,I?P[0]:R[0],I?R[0]:P[0],j-O+1))}else{const I=$===O?R[0]:0,z=O===L?P[0]:this._bufferService.cols;M.appendChild(this._createSelectionElement(O,I,z));const U=j-O-1;if(M.appendChild(this._createSelectionElement(O+1,0,this._bufferService.cols,U)),O!==j){const F=L===j?P[0]:this._bufferService.cols;M.appendChild(this._createSelectionElement(j,0,F))}}this._selectionContainer.appendChild(M)}_createSelectionElement(R,P,D,$=1){const L=document.createElement("div");return L.style.height=$*this.dimensions.css.cell.height+"px",L.style.top=R*this.dimensions.css.cell.height+"px",L.style.left=P*this.dimensions.css.cell.width+"px",L.style.width=this.dimensions.css.cell.width*(D-P)+"px",L}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const R of this._rowElements)R.replaceChildren()}renderRows(R,P){const D=this._bufferService.buffer,$=D.ybase+D.y,L=Math.min(D.x,this._bufferService.cols-1),O=this._optionsService.rawOptions.cursorBlink,j=this._optionsService.rawOptions.cursorStyle,M=this._optionsService.rawOptions.cursorInactiveStyle;for(let I=R;I<=P;I++){const z=I+D.ydisp,U=this._rowElements[I],F=D.lines.get(z);if(!U||!F)break;U.replaceChildren(...this._rowFactory.createRow(F,z,z===$,j,M,L,O,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${b}${this._terminalClass}`}_handleLinkHover(R){this._setCellUnderline(R.x1,R.x2,R.y1,R.y2,R.cols,!0)}_handleLinkLeave(R){this._setCellUnderline(R.x1,R.x2,R.y1,R.y2,R.cols,!1)}_setCellUnderline(R,P,D,$,L,O){D<0&&(R=0),$<0&&(P=0);const j=this._bufferService.rows-1;D=Math.max(Math.min(D,j),0),$=Math.max(Math.min($,j),0),L=Math.min(L,this._bufferService.cols);const M=this._bufferService.buffer,I=M.ybase+M.y,z=Math.min(M.x,L-1),U=this._optionsService.rawOptions.cursorBlink,F=this._optionsService.rawOptions.cursorStyle,G=this._optionsService.rawOptions.cursorInactiveStyle;for(let Y=D;Y<=$;++Y){const Z=Y+M.ydisp,B=this._rowElements[Y],W=M.lines.get(Z);if(!B||!W)break;B.replaceChildren(...this._rowFactory.createRow(W,Z,Z===I,F,G,z,U,this.dimensions.css.cell.width,this._widthCache,O?Y===D?R:0:-1,O?(Y===$?P:L)-1:-1))}}};o.DomRenderer=N=c([d(4,_.IInstantiationService),d(5,v.ICharSizeService),d(6,_.IOptionsService),d(7,_.IBufferService),d(8,v.ICoreBrowserService),d(9,v.IThemeService)],N)},3787:function(a,o,l){var c=this&&this.__decorate||function(S,k,C,E){var T,N=arguments.length,R=N<3?k:E===null?E=Object.getOwnPropertyDescriptor(k,C):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(S,k,C,E);else for(var P=S.length-1;P>=0;P--)(T=S[P])&&(R=(N<3?T(R):N>3?T(k,C,R):T(k,C))||R);return N>3&&R&&Object.defineProperty(k,C,R),R},d=this&&this.__param||function(S,k){return function(C,E){k(C,E,S)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRendererRowFactory=void 0;const h=l(2223),f=l(643),p=l(511),g=l(2585),v=l(8055),m=l(4725),y=l(4269),x=l(6171),_=l(3734);let b=o.DomRendererRowFactory=class{constructor(S,k,C,E,T,N,R){this._document=S,this._characterJoinerService=k,this._optionsService=C,this._coreBrowserService=E,this._coreService=T,this._decorationService=N,this._themeService=R,this._workCell=new p.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(S,k,C){this._selectionStart=S,this._selectionEnd=k,this._columnSelectMode=C}createRow(S,k,C,E,T,N,R,P,D,$,L){const O=[],j=this._characterJoinerService.getJoinedCharacters(k),M=this._themeService.colors;let I,z=S.getNoBgTrimmedLength();C&&z<N+1&&(z=N+1);let U=0,F="",G=0,Y=0,Z=0,B=!1,W=0,K=!1,X=0;const Q=[],re=$!==-1&&L!==-1;for(let Se=0;Se<z;Se++){S.loadCell(Se,this._workCell);let Te=this._workCell.getWidth();if(Te===0)continue;let Ie=!1,Me=Se,Ee=this._workCell;if(j.length>0&&Se===j[0][0]){Ie=!0;const ze=j.shift();Ee=new y.JoinedCellData(this._workCell,S.translateToString(!0,ze[0],ze[1]),ze[1]-ze[0]),Me=ze[1]-1,Te=Ee.getWidth()}const Ae=this._isCellInSelection(Se,k),Lt=C&&Se===N,zt=re&&Se>=$&&Se<=L;let ge=!1;this._decorationService.forEachDecorationAtCell(Se,k,void 0,ze=>{ge=!0});let Ze=Ee.getChars()||f.WHITESPACE_CELL_CHAR;if(Ze===" "&&(Ee.isUnderline()||Ee.isOverline())&&(Ze=" "),X=Te*P-D.get(Ze,Ee.isBold(),Ee.isItalic()),I){if(U&&(Ae&&K||!Ae&&!K&&Ee.bg===G)&&(Ae&&K&&M.selectionForeground||Ee.fg===Y)&&Ee.extended.ext===Z&&zt===B&&X===W&&!Lt&&!Ie&&!ge){F+=Ze,U++;continue}U&&(I.textContent=F),I=this._document.createElement("span"),U=0,F=""}else I=this._document.createElement("span");if(G=Ee.bg,Y=Ee.fg,Z=Ee.extended.ext,B=zt,W=X,K=Ae,Ie&&N>=Se&&N<=Me&&(N=Se),!this._coreService.isCursorHidden&&Lt){if(Q.push("xterm-cursor"),this._coreBrowserService.isFocused)R&&Q.push("xterm-cursor-blink"),Q.push(E==="bar"?"xterm-cursor-bar":E==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(T)switch(T){case"outline":Q.push("xterm-cursor-outline");break;case"block":Q.push("xterm-cursor-block");break;case"bar":Q.push("xterm-cursor-bar");break;case"underline":Q.push("xterm-cursor-underline")}}if(Ee.isBold()&&Q.push("xterm-bold"),Ee.isItalic()&&Q.push("xterm-italic"),Ee.isDim()&&Q.push("xterm-dim"),F=Ee.isInvisible()?f.WHITESPACE_CELL_CHAR:Ee.getChars()||f.WHITESPACE_CELL_CHAR,Ee.isUnderline()&&(Q.push(`xterm-underline-${Ee.extended.underlineStyle}`),F===" "&&(F=" "),!Ee.isUnderlineColorDefault()))if(Ee.isUnderlineColorRGB())I.style.textDecorationColor=`rgb(${_.AttributeData.toColorRGB(Ee.getUnderlineColor()).join(",")})`;else{let ze=Ee.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&Ee.isBold()&&ze<8&&(ze+=8),I.style.textDecorationColor=M.ansi[ze].css}Ee.isOverline()&&(Q.push("xterm-overline"),F===" "&&(F=" ")),Ee.isStrikethrough()&&Q.push("xterm-strikethrough"),zt&&(I.style.textDecoration="underline");let Oe=Ee.getFgColor(),Wt=Ee.getFgColorMode(),ct=Ee.getBgColor(),te=Ee.getBgColorMode();const oe=!!Ee.isInverse();if(oe){const ze=Oe;Oe=ct,ct=ze;const ke=Wt;Wt=te,te=ke}let J,ne,de,$e=!1;switch(this._decorationService.forEachDecorationAtCell(Se,k,void 0,ze=>{ze.options.layer!=="top"&&$e||(ze.backgroundColorRGB&&(te=50331648,ct=ze.backgroundColorRGB.rgba>>8&16777215,J=ze.backgroundColorRGB),ze.foregroundColorRGB&&(Wt=50331648,Oe=ze.foregroundColorRGB.rgba>>8&16777215,ne=ze.foregroundColorRGB),$e=ze.options.layer==="top")}),!$e&&Ae&&(J=this._coreBrowserService.isFocused?M.selectionBackgroundOpaque:M.selectionInactiveBackgroundOpaque,ct=J.rgba>>8&16777215,te=50331648,$e=!0,M.selectionForeground&&(Wt=50331648,Oe=M.selectionForeground.rgba>>8&16777215,ne=M.selectionForeground)),$e&&Q.push("xterm-decoration-top"),te){case 16777216:case 33554432:de=M.ansi[ct],Q.push(`xterm-bg-${ct}`);break;case 50331648:de=v.rgba.toColor(ct>>16,ct>>8&255,255&ct),this._addStyle(I,`background-color:#${w((ct>>>0).toString(16),"0",6)}`);break;default:oe?(de=M.foreground,Q.push(`xterm-bg-${h.INVERTED_DEFAULT_COLOR}`)):de=M.background}switch(J||Ee.isDim()&&(J=v.color.multiplyOpacity(de,.5)),Wt){case 16777216:case 33554432:Ee.isBold()&&Oe<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Oe+=8),this._applyMinimumContrast(I,de,M.ansi[Oe],Ee,J,void 0)||Q.push(`xterm-fg-${Oe}`);break;case 50331648:const ze=v.rgba.toColor(Oe>>16&255,Oe>>8&255,255&Oe);this._applyMinimumContrast(I,de,ze,Ee,J,ne)||this._addStyle(I,`color:#${w(Oe.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(I,de,M.foreground,Ee,J,void 0)||oe&&Q.push(`xterm-fg-${h.INVERTED_DEFAULT_COLOR}`)}Q.length&&(I.className=Q.join(" "),Q.length=0),Lt||Ie||ge?I.textContent=F:U++,X!==this.defaultSpacing&&(I.style.letterSpacing=`${X}px`),O.push(I),Se=Me}return I&&U&&(I.textContent=F),O}_applyMinimumContrast(S,k,C,E,T,N){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,x.excludeFromContrastRatioDemands)(E.getCode()))return!1;const R=this._getContrastCache(E);let P;if(T||N||(P=R.getColor(k.rgba,C.rgba)),P===void 0){const D=this._optionsService.rawOptions.minimumContrastRatio/(E.isDim()?2:1);P=v.color.ensureContrastRatio(T||k,N||C,D),R.setColor((T||k).rgba,(N||C).rgba,P??null)}return!!P&&(this._addStyle(S,`color:${P.css}`),!0)}_getContrastCache(S){return S.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(S,k){S.setAttribute("style",`${S.getAttribute("style")||""}${k};`)}_isCellInSelection(S,k){const C=this._selectionStart,E=this._selectionEnd;return!(!C||!E)&&(this._columnSelectMode?C[0]<=E[0]?S>=C[0]&&k>=C[1]&&S<E[0]&&k<=E[1]:S<C[0]&&k>=C[1]&&S>=E[0]&&k<=E[1]:k>C[1]&&k<E[1]||C[1]===E[1]&&k===C[1]&&S>=C[0]&&S<E[0]||C[1]<E[1]&&k===E[1]&&S<E[0]||C[1]<E[1]&&k===C[1]&&S>=C[0])}};function w(S,k,C){for(;S.length<C;)S=k+S;return S}o.DomRendererRowFactory=b=c([d(1,m.ICharacterJoinerService),d(2,g.IOptionsService),d(3,m.ICoreBrowserService),d(4,g.ICoreService),d(5,g.IDecorationService),d(6,m.IThemeService)],b)},2550:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WidthCache=void 0,o.WidthCache=class{constructor(l){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=l.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const c=l.createElement("span"),d=l.createElement("span");d.style.fontWeight="bold";const h=l.createElement("span");h.style.fontStyle="italic";const f=l.createElement("span");f.style.fontWeight="bold",f.style.fontStyle="italic",this._measureElements=[c,d,h,f],this._container.appendChild(c),this._container.appendChild(d),this._container.appendChild(h),this._container.appendChild(f),l.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(l,c,d,h){l===this._font&&c===this._fontSize&&d===this._weight&&h===this._weightBold||(this._font=l,this._fontSize=c,this._weight=d,this._weightBold=h,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${d}`,this._measureElements[1].style.fontWeight=`${h}`,this._measureElements[2].style.fontWeight=`${d}`,this._measureElements[3].style.fontWeight=`${h}`,this.clear())}get(l,c,d){let h=0;if(!c&&!d&&l.length===1&&(h=l.charCodeAt(0))<256)return this._flat[h]!==-9999?this._flat[h]:this._flat[h]=this._measure(l,0);let f=l;c&&(f+="B"),d&&(f+="I");let p=this._holey.get(f);if(p===void 0){let g=0;c&&(g|=1),d&&(g|=2),p=this._measure(l,g),this._holey.set(f,p)}return p}_measure(l,c){const d=this._measureElements[c];return d.textContent=l.repeat(32),d.offsetWidth/32}}},2223:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TEXT_BASELINE=o.DIM_OPACITY=o.INVERTED_DEFAULT_COLOR=void 0;const c=l(6114);o.INVERTED_DEFAULT_COLOR=257,o.DIM_OPACITY=.5,o.TEXT_BASELINE=c.isFirefox||c.isLegacyEdge?"bottom":"ideographic"},6171:(a,o)=>{function l(c){return 57508<=c&&c<=57558}Object.defineProperty(o,"__esModule",{value:!0}),o.createRenderDimensions=o.excludeFromContrastRatioDemands=o.isRestrictedPowerlineGlyph=o.isPowerlineGlyph=o.throwIfFalsy=void 0,o.throwIfFalsy=function(c){if(!c)throw new Error("value must not be falsy");return c},o.isPowerlineGlyph=l,o.isRestrictedPowerlineGlyph=function(c){return 57520<=c&&c<=57527},o.excludeFromContrastRatioDemands=function(c){return l(c)||function(d){return 9472<=d&&d<=9631}(c)},o.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionModel=void 0,o.SelectionModel=class{constructor(l){this._bufferService=l,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?l%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)-1]:[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[l,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[Math.max(l,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const l=this.selectionStart,c=this.selectionEnd;return!(!l||!c)&&(l[1]>c[1]||l[1]===c[1]&&l[0]>c[0])}handleTrim(l){return this.selectionStart&&(this.selectionStart[1]-=l),this.selectionEnd&&(this.selectionEnd[1]-=l),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(a,o,l){var c=this&&this.__decorate||function(m,y,x,_){var b,w=arguments.length,S=w<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,x):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(m,y,x,_);else for(var k=m.length-1;k>=0;k--)(b=m[k])&&(S=(w<3?b(S):w>3?b(y,x,S):b(y,x))||S);return w>3&&S&&Object.defineProperty(y,x,S),S},d=this&&this.__param||function(m,y){return function(x,_){y(x,_,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharSizeService=void 0;const h=l(2585),f=l(8460),p=l(844);let g=o.CharSizeService=class extends p.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(m,y,x){super(),this._optionsService=x,this.width=0,this.height=0,this._onCharSizeChange=this.register(new f.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new v(m,y,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const m=this._measureStrategy.measure();m.width===this.width&&m.height===this.height||(this.width=m.width,this.height=m.height,this._onCharSizeChange.fire())}};o.CharSizeService=g=c([d(2,h.IOptionsService)],g);class v{constructor(y,x,_){this._document=y,this._parentElement=x,this._optionsService=_,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const y={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return y.width!==0&&y.height!==0&&(this._result.width=y.width/32,this._result.height=Math.ceil(y.height)),this._result}}},4269:function(a,o,l){var c=this&&this.__decorate||function(y,x,_,b){var w,S=arguments.length,k=S<3?x:b===null?b=Object.getOwnPropertyDescriptor(x,_):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(y,x,_,b);else for(var C=y.length-1;C>=0;C--)(w=y[C])&&(k=(S<3?w(k):S>3?w(x,_,k):w(x,_))||k);return S>3&&k&&Object.defineProperty(x,_,k),k},d=this&&this.__param||function(y,x){return function(_,b){x(_,b,y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharacterJoinerService=o.JoinedCellData=void 0;const h=l(3734),f=l(643),p=l(511),g=l(2585);class v extends h.AttributeData{constructor(x,_,b){super(),this.content=0,this.combinedData="",this.fg=x.fg,this.bg=x.bg,this.combinedData=_,this._width=b}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(x){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.JoinedCellData=v;let m=o.CharacterJoinerService=class Tfe{constructor(x){this._bufferService=x,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new p.CellData}register(x){const _={id:this._nextCharacterJoinerId++,handler:x};return this._characterJoiners.push(_),_.id}deregister(x){for(let _=0;_<this._characterJoiners.length;_++)if(this._characterJoiners[_].id===x)return this._characterJoiners.splice(_,1),!0;return!1}getJoinedCharacters(x){if(this._characterJoiners.length===0)return[];const _=this._bufferService.buffer.lines.get(x);if(!_||_.length===0)return[];const b=[],w=_.translateToString(!0);let S=0,k=0,C=0,E=_.getFg(0),T=_.getBg(0);for(let N=0;N<_.getTrimmedLength();N++)if(_.loadCell(N,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==E||this._workCell.bg!==T){if(N-S>1){const R=this._getJoinedRanges(w,C,k,_,S);for(let P=0;P<R.length;P++)b.push(R[P])}S=N,C=k,E=this._workCell.fg,T=this._workCell.bg}k+=this._workCell.getChars().length||f.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-S>1){const N=this._getJoinedRanges(w,C,k,_,S);for(let R=0;R<N.length;R++)b.push(N[R])}return b}_getJoinedRanges(x,_,b,w,S){const k=x.substring(_,b);let C=[];try{C=this._characterJoiners[0].handler(k)}catch(E){console.error(E)}for(let E=1;E<this._characterJoiners.length;E++)try{const T=this._characterJoiners[E].handler(k);for(let N=0;N<T.length;N++)Tfe._mergeRanges(C,T[N])}catch(T){console.error(T)}return this._stringRangesToCellRanges(C,w,S),C}_stringRangesToCellRanges(x,_,b){let w=0,S=!1,k=0,C=x[w];if(C){for(let E=b;E<this._bufferService.cols;E++){const T=_.getWidth(E),N=_.getString(E).length||f.WHITESPACE_CELL_CHAR.length;if(T!==0){if(!S&&C[0]<=k&&(C[0]=E,S=!0),C[1]<=k){if(C[1]=E,C=x[++w],!C)break;C[0]<=k?(C[0]=E,S=!0):S=!1}k+=N}}C&&(C[1]=this._bufferService.cols)}}static _mergeRanges(x,_){let b=!1;for(let w=0;w<x.length;w++){const S=x[w];if(b){if(_[1]<=S[0])return x[w-1][1]=_[1],x;if(_[1]<=S[1])return x[w-1][1]=Math.max(_[1],S[1]),x.splice(w,1),x;x.splice(w,1),w--}else{if(_[1]<=S[0])return x.splice(w,0,_),x;if(_[1]<=S[1])return S[0]=Math.min(_[0],S[0]),x;_[0]<S[1]&&(S[0]=Math.min(_[0],S[0]),b=!0)}}return b?x[x.length-1][1]=_[1]:x.push(_),x}};o.CharacterJoinerService=m=c([d(0,g.IBufferService)],m)},5114:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreBrowserService=void 0,o.CoreBrowserService=class{constructor(l,c){this._textarea=l,this.window=c,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(a,o,l){var c=this&&this.__decorate||function(g,v,m,y){var x,_=arguments.length,b=_<3?v:y===null?y=Object.getOwnPropertyDescriptor(v,m):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(g,v,m,y);else for(var w=g.length-1;w>=0;w--)(x=g[w])&&(b=(_<3?x(b):_>3?x(v,m,b):x(v,m))||b);return _>3&&b&&Object.defineProperty(v,m,b),b},d=this&&this.__param||function(g,v){return function(m,y){v(m,y,g)}};Object.defineProperty(o,"__esModule",{value:!0}),o.MouseService=void 0;const h=l(4725),f=l(9806);let p=o.MouseService=class{constructor(g,v){this._renderService=g,this._charSizeService=v}getCoords(g,v,m,y,x){return(0,f.getCoords)(window,g,v,m,y,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,x)}getMouseReportCoords(g,v){const m=(0,f.getCoordsRelativeToElement)(window,g,v);if(this._charSizeService.hasValidSize)return m[0]=Math.min(Math.max(m[0],0),this._renderService.dimensions.css.canvas.width-1),m[1]=Math.min(Math.max(m[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(m[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(m[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(m[0]),y:Math.floor(m[1])}}};o.MouseService=p=c([d(0,h.IRenderService),d(1,h.ICharSizeService)],p)},3230:function(a,o,l){var c=this&&this.__decorate||function(b,w,S,k){var C,E=arguments.length,T=E<3?w:k===null?k=Object.getOwnPropertyDescriptor(w,S):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(b,w,S,k);else for(var N=b.length-1;N>=0;N--)(C=b[N])&&(T=(E<3?C(T):E>3?C(w,S,T):C(w,S))||T);return E>3&&T&&Object.defineProperty(w,S,T),T},d=this&&this.__param||function(b,w){return function(S,k){w(S,k,b)}};Object.defineProperty(o,"__esModule",{value:!0}),o.RenderService=void 0;const h=l(3656),f=l(6193),p=l(5596),g=l(4725),v=l(8460),m=l(844),y=l(7226),x=l(2585);let _=o.RenderService=class extends m.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(b,w,S,k,C,E,T,N){if(super(),this._rowCount=b,this._charSizeService=k,this._renderer=this.register(new m.MutableDisposable),this._pausedResizeTask=new y.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new v.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new v.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new v.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new v.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new f.RenderDebouncer(T.window,(R,P)=>this._renderRows(R,P)),this.register(this._renderDebouncer),this._screenDprMonitor=new p.ScreenDprMonitor(T.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(E.onResize(()=>this._fullRefresh())),this.register(E.buffers.onBufferActivate(()=>{var R;return(R=this._renderer.value)===null||R===void 0?void 0:R.clear()})),this.register(S.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(C.onDecorationRegistered(()=>this._fullRefresh())),this.register(C.onDecorationRemoved(()=>this._fullRefresh())),this.register(S.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(E.cols,E.rows),this._fullRefresh()})),this.register(S.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(E.buffer.y,E.buffer.y,!0))),this.register((0,h.addDisposableDomListener)(T.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(N.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in T.window){const R=new T.window.IntersectionObserver(P=>this._handleIntersectionChange(P[P.length-1]),{threshold:0});R.observe(w),this.register({dispose:()=>R.disconnect()})}}_handleIntersectionChange(b){this._isPaused=b.isIntersecting===void 0?b.intersectionRatio===0:!b.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(b,w,S=!1){this._isPaused?this._needsFullRefresh=!0:(S||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(b,w,this._rowCount))}_renderRows(b,w){this._renderer.value&&(b=Math.min(b,this._rowCount-1),w=Math.min(w,this._rowCount-1),this._renderer.value.renderRows(b,w),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:b,end:w}),this._onRender.fire({start:b,end:w}),this._isNextRenderRedrawOnly=!0)}resize(b,w){this._rowCount=w,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(b){this._renderer.value=b,this._renderer.value.onRequestRedraw(w=>this.refreshRows(w.start,w.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(b){return this._renderDebouncer.addRefreshCallback(b)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var b,w;this._renderer.value&&((w=(b=this._renderer.value).clearTextureAtlas)===null||w===void 0||w.call(b),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(b,w){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(b,w)):this._renderer.value.handleResize(b,w),this._fullRefresh())}handleCharSizeChanged(){var b;(b=this._renderer.value)===null||b===void 0||b.handleCharSizeChanged()}handleBlur(){var b;(b=this._renderer.value)===null||b===void 0||b.handleBlur()}handleFocus(){var b;(b=this._renderer.value)===null||b===void 0||b.handleFocus()}handleSelectionChanged(b,w,S){var k;this._selectionState.start=b,this._selectionState.end=w,this._selectionState.columnSelectMode=S,(k=this._renderer.value)===null||k===void 0||k.handleSelectionChanged(b,w,S)}handleCursorMove(){var b;(b=this._renderer.value)===null||b===void 0||b.handleCursorMove()}clear(){var b;(b=this._renderer.value)===null||b===void 0||b.clear()}};o.RenderService=_=c([d(2,x.IOptionsService),d(3,g.ICharSizeService),d(4,x.IDecorationService),d(5,x.IBufferService),d(6,g.ICoreBrowserService),d(7,g.IThemeService)],_)},9312:function(a,o,l){var c=this&&this.__decorate||function(C,E,T,N){var R,P=arguments.length,D=P<3?E:N===null?N=Object.getOwnPropertyDescriptor(E,T):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(C,E,T,N);else for(var $=C.length-1;$>=0;$--)(R=C[$])&&(D=(P<3?R(D):P>3?R(E,T,D):R(E,T))||D);return P>3&&D&&Object.defineProperty(E,T,D),D},d=this&&this.__param||function(C,E){return function(T,N){E(T,N,C)}};Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionService=void 0;const h=l(9806),f=l(9504),p=l(456),g=l(4725),v=l(8460),m=l(844),y=l(6114),x=l(4841),_=l(511),b=l(2585),w=" ",S=new RegExp(w,"g");let k=o.SelectionService=class extends m.Disposable{constructor(C,E,T,N,R,P,D,$,L){super(),this._element=C,this._screenElement=E,this._linkifier=T,this._bufferService=N,this._coreService=R,this._mouseService=P,this._optionsService=D,this._renderService=$,this._coreBrowserService=L,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new _.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new v.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new v.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new v.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new v.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=O=>this._handleMouseMove(O),this._mouseUpListener=O=>this._handleMouseUp(O),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(O=>this._handleTrim(O)),this.register(this._bufferService.buffers.onBufferActivate(O=>this._handleBufferActivate(O))),this.enable(),this._model=new p.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,m.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const C=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;return!(!C||!E||C[0]===E[0]&&C[1]===E[1])}get selectionText(){const C=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;if(!C||!E)return"";const T=this._bufferService.buffer,N=[];if(this._activeSelectionMode===3){if(C[0]===E[0])return"";const R=C[0]<E[0]?C[0]:E[0],P=C[0]<E[0]?E[0]:C[0];for(let D=C[1];D<=E[1];D++){const $=T.translateBufferLineToString(D,!0,R,P);N.push($)}}else{const R=C[1]===E[1]?E[0]:void 0;N.push(T.translateBufferLineToString(C[1],!0,C[0],R));for(let P=C[1]+1;P<=E[1]-1;P++){const D=T.lines.get(P),$=T.translateBufferLineToString(P,!0);D!=null&&D.isWrapped?N[N.length-1]+=$:N.push($)}if(C[1]!==E[1]){const P=T.lines.get(E[1]),D=T.translateBufferLineToString(E[1],!0,0,E[0]);P&&P.isWrapped?N[N.length-1]+=D:N.push(D)}}return N.map(R=>R.replace(S," ")).join(y.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(C){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),y.isLinux&&C&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(C){const E=this._getMouseBufferCoords(C),T=this._model.finalSelectionStart,N=this._model.finalSelectionEnd;return!!(T&&N&&E)&&this._areCoordsInSelection(E,T,N)}isCellInSelection(C,E){const T=this._model.finalSelectionStart,N=this._model.finalSelectionEnd;return!(!T||!N)&&this._areCoordsInSelection([C,E],T,N)}_areCoordsInSelection(C,E,T){return C[1]>E[1]&&C[1]<T[1]||E[1]===T[1]&&C[1]===E[1]&&C[0]>=E[0]&&C[0]<T[0]||E[1]<T[1]&&C[1]===T[1]&&C[0]<T[0]||E[1]<T[1]&&C[1]===E[1]&&C[0]>=E[0]}_selectWordAtCursor(C,E){var T,N;const R=(N=(T=this._linkifier.currentLink)===null||T===void 0?void 0:T.link)===null||N===void 0?void 0:N.range;if(R)return this._model.selectionStart=[R.start.x-1,R.start.y-1],this._model.selectionStartLength=(0,x.getRangeLength)(R,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const P=this._getMouseBufferCoords(C);return!!P&&(this._selectWordAt(P,E),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(C,E){this._model.clearSelection(),C=Math.max(C,0),E=Math.min(E,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,C],this._model.selectionEnd=[this._bufferService.cols,E],this.refresh(),this._onSelectionChange.fire()}_handleTrim(C){this._model.handleTrim(C)&&this.refresh()}_getMouseBufferCoords(C){const E=this._mouseService.getCoords(C,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(E)return E[0]--,E[1]--,E[1]+=this._bufferService.buffer.ydisp,E}_getMouseEventScrollAmount(C){let E=(0,h.getCoordsRelativeToElement)(this._coreBrowserService.window,C,this._screenElement)[1];const T=this._renderService.dimensions.css.canvas.height;return E>=0&&E<=T?0:(E>T&&(E-=T),E=Math.min(Math.max(E,-50),50),E/=50,E/Math.abs(E)+Math.round(14*E))}shouldForceSelection(C){return y.isMac?C.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:C.shiftKey}handleMouseDown(C){if(this._mouseDownTimeStamp=C.timeStamp,(C.button!==2||!this.hasSelection)&&C.button===0){if(!this._enabled){if(!this.shouldForceSelection(C))return;C.stopPropagation()}C.preventDefault(),this._dragScrollAmount=0,this._enabled&&C.shiftKey?this._handleIncrementalClick(C):C.detail===1?this._handleSingleClick(C):C.detail===2?this._handleDoubleClick(C):C.detail===3&&this._handleTripleClick(C),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(C){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(C))}_handleSingleClick(C){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(C)?3:0,this._model.selectionStart=this._getMouseBufferCoords(C),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const E=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);E&&E.length!==this._model.selectionStart[0]&&E.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(C){this._selectWordAtCursor(C,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(C){const E=this._getMouseBufferCoords(C);E&&(this._activeSelectionMode=2,this._selectLineAt(E[1]))}shouldColumnSelect(C){return C.altKey&&!(y.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(C){if(C.stopImmediatePropagation(),!this._model.selectionStart)return;const E=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(C),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(C),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const T=this._bufferService.buffer;if(this._model.selectionEnd[1]<T.lines.length){const N=T.lines.get(this._model.selectionEnd[1]);N&&N.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}E&&E[0]===this._model.selectionEnd[0]&&E[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const C=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(C.ydisp+this._bufferService.rows,C.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=C.ydisp),this.refresh()}}_handleMouseUp(C){const E=C.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&E<500&&C.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const T=this._mouseService.getCoords(C,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(T&&T[0]!==void 0&&T[1]!==void 0){const N=(0,f.moveToCellSequence)(T[0]-1,T[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(N,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const C=this._model.finalSelectionStart,E=this._model.finalSelectionEnd,T=!(!C||!E||C[0]===E[0]&&C[1]===E[1]);T?C&&E&&(this._oldSelectionStart&&this._oldSelectionEnd&&C[0]===this._oldSelectionStart[0]&&C[1]===this._oldSelectionStart[1]&&E[0]===this._oldSelectionEnd[0]&&E[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(C,E,T)):this._oldHasSelection&&this._fireOnSelectionChange(C,E,T)}_fireOnSelectionChange(C,E,T){this._oldSelectionStart=C,this._oldSelectionEnd=E,this._oldHasSelection=T,this._onSelectionChange.fire()}_handleBufferActivate(C){this.clearSelection(),this._trimListener.dispose(),this._trimListener=C.activeBuffer.lines.onTrim(E=>this._handleTrim(E))}_convertViewportColToCharacterIndex(C,E){let T=E;for(let N=0;E>=N;N++){const R=C.loadCell(N,this._workCell).getChars().length;this._workCell.getWidth()===0?T--:R>1&&E!==N&&(T+=R-1)}return T}setSelection(C,E,T){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[C,E],this._model.selectionStartLength=T,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(C){this._isClickInSelection(C)||(this._selectWordAtCursor(C,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(C,E,T=!0,N=!0){if(C[0]>=this._bufferService.cols)return;const R=this._bufferService.buffer,P=R.lines.get(C[1]);if(!P)return;const D=R.translateBufferLineToString(C[1],!1);let $=this._convertViewportColToCharacterIndex(P,C[0]),L=$;const O=C[0]-$;let j=0,M=0,I=0,z=0;if(D.charAt($)===" "){for(;$>0&&D.charAt($-1)===" ";)$--;for(;L<D.length&&D.charAt(L+1)===" ";)L++}else{let G=C[0],Y=C[0];P.getWidth(G)===0&&(j++,G--),P.getWidth(Y)===2&&(M++,Y++);const Z=P.getString(Y).length;for(Z>1&&(z+=Z-1,L+=Z-1);G>0&&$>0&&!this._isCharWordSeparator(P.loadCell(G-1,this._workCell));){P.loadCell(G-1,this._workCell);const B=this._workCell.getChars().length;this._workCell.getWidth()===0?(j++,G--):B>1&&(I+=B-1,$-=B-1),$--,G--}for(;Y<P.length&&L+1<D.length&&!this._isCharWordSeparator(P.loadCell(Y+1,this._workCell));){P.loadCell(Y+1,this._workCell);const B=this._workCell.getChars().length;this._workCell.getWidth()===2?(M++,Y++):B>1&&(z+=B-1,L+=B-1),L++,Y++}}L++;let U=$+O-j+I,F=Math.min(this._bufferService.cols,L-$+j+M-I-z);if(E||D.slice($,L).trim()!==""){if(T&&U===0&&P.getCodePoint(0)!==32){const G=R.lines.get(C[1]-1);if(G&&P.isWrapped&&G.getCodePoint(this._bufferService.cols-1)!==32){const Y=this._getWordAt([this._bufferService.cols-1,C[1]-1],!1,!0,!1);if(Y){const Z=this._bufferService.cols-Y.start;U-=Z,F+=Z}}}if(N&&U+F===this._bufferService.cols&&P.getCodePoint(this._bufferService.cols-1)!==32){const G=R.lines.get(C[1]+1);if(G!=null&&G.isWrapped&&G.getCodePoint(0)!==32){const Y=this._getWordAt([0,C[1]+1],!1,!1,!0);Y&&(F+=Y.length)}}return{start:U,length:F}}}_selectWordAt(C,E){const T=this._getWordAt(C,E);if(T){for(;T.start<0;)T.start+=this._bufferService.cols,C[1]--;this._model.selectionStart=[T.start,C[1]],this._model.selectionStartLength=T.length}}_selectToWordAt(C){const E=this._getWordAt(C,!0);if(E){let T=C[1];for(;E.start<0;)E.start+=this._bufferService.cols,T--;if(!this._model.areSelectionValuesReversed())for(;E.start+E.length>this._bufferService.cols;)E.length-=this._bufferService.cols,T++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?E.start:E.start+E.length,T]}}_isCharWordSeparator(C){return C.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(C.getChars())>=0}_selectLineAt(C){const E=this._bufferService.buffer.getWrappedRangeForLine(C),T={start:{x:0,y:E.first},end:{x:this._bufferService.cols-1,y:E.last}};this._model.selectionStart=[0,E.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,x.getRangeLength)(T,this._bufferService.cols)}};o.SelectionService=k=c([d(3,b.IBufferService),d(4,b.ICoreService),d(5,g.IMouseService),d(6,b.IOptionsService),d(7,g.IRenderService),d(8,g.ICoreBrowserService)],k)},4725:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IThemeService=o.ICharacterJoinerService=o.ISelectionService=o.IRenderService=o.IMouseService=o.ICoreBrowserService=o.ICharSizeService=void 0;const c=l(8343);o.ICharSizeService=(0,c.createDecorator)("CharSizeService"),o.ICoreBrowserService=(0,c.createDecorator)("CoreBrowserService"),o.IMouseService=(0,c.createDecorator)("MouseService"),o.IRenderService=(0,c.createDecorator)("RenderService"),o.ISelectionService=(0,c.createDecorator)("SelectionService"),o.ICharacterJoinerService=(0,c.createDecorator)("CharacterJoinerService"),o.IThemeService=(0,c.createDecorator)("ThemeService")},6731:function(a,o,l){var c=this&&this.__decorate||function(k,C,E,T){var N,R=arguments.length,P=R<3?C:T===null?T=Object.getOwnPropertyDescriptor(C,E):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(k,C,E,T);else for(var D=k.length-1;D>=0;D--)(N=k[D])&&(P=(R<3?N(P):R>3?N(C,E,P):N(C,E))||P);return R>3&&P&&Object.defineProperty(C,E,P),P},d=this&&this.__param||function(k,C){return function(E,T){C(E,T,k)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ThemeService=o.DEFAULT_ANSI_COLORS=void 0;const h=l(7239),f=l(8055),p=l(8460),g=l(844),v=l(2585),m=f.css.toColor("#ffffff"),y=f.css.toColor("#000000"),x=f.css.toColor("#ffffff"),_=f.css.toColor("#000000"),b={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};o.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const k=[f.css.toColor("#2e3436"),f.css.toColor("#cc0000"),f.css.toColor("#4e9a06"),f.css.toColor("#c4a000"),f.css.toColor("#3465a4"),f.css.toColor("#75507b"),f.css.toColor("#06989a"),f.css.toColor("#d3d7cf"),f.css.toColor("#555753"),f.css.toColor("#ef2929"),f.css.toColor("#8ae234"),f.css.toColor("#fce94f"),f.css.toColor("#729fcf"),f.css.toColor("#ad7fa8"),f.css.toColor("#34e2e2"),f.css.toColor("#eeeeec")],C=[0,95,135,175,215,255];for(let E=0;E<216;E++){const T=C[E/36%6|0],N=C[E/6%6|0],R=C[E%6];k.push({css:f.channels.toCss(T,N,R),rgba:f.channels.toRgba(T,N,R)})}for(let E=0;E<24;E++){const T=8+10*E;k.push({css:f.channels.toCss(T,T,T),rgba:f.channels.toRgba(T,T,T)})}return k})());let w=o.ThemeService=class extends g.Disposable{get colors(){return this._colors}constructor(k){super(),this._optionsService=k,this._contrastCache=new h.ColorContrastCache,this._halfContrastCache=new h.ColorContrastCache,this._onChangeColors=this.register(new p.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:m,background:y,cursor:x,cursorAccent:_,selectionForeground:void 0,selectionBackgroundTransparent:b,selectionBackgroundOpaque:f.color.blend(y,b),selectionInactiveBackgroundTransparent:b,selectionInactiveBackgroundOpaque:f.color.blend(y,b),ansi:o.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(k={}){const C=this._colors;if(C.foreground=S(k.foreground,m),C.background=S(k.background,y),C.cursor=S(k.cursor,x),C.cursorAccent=S(k.cursorAccent,_),C.selectionBackgroundTransparent=S(k.selectionBackground,b),C.selectionBackgroundOpaque=f.color.blend(C.background,C.selectionBackgroundTransparent),C.selectionInactiveBackgroundTransparent=S(k.selectionInactiveBackground,C.selectionBackgroundTransparent),C.selectionInactiveBackgroundOpaque=f.color.blend(C.background,C.selectionInactiveBackgroundTransparent),C.selectionForeground=k.selectionForeground?S(k.selectionForeground,f.NULL_COLOR):void 0,C.selectionForeground===f.NULL_COLOR&&(C.selectionForeground=void 0),f.color.isOpaque(C.selectionBackgroundTransparent)&&(C.selectionBackgroundTransparent=f.color.opacity(C.selectionBackgroundTransparent,.3)),f.color.isOpaque(C.selectionInactiveBackgroundTransparent)&&(C.selectionInactiveBackgroundTransparent=f.color.opacity(C.selectionInactiveBackgroundTransparent,.3)),C.ansi=o.DEFAULT_ANSI_COLORS.slice(),C.ansi[0]=S(k.black,o.DEFAULT_ANSI_COLORS[0]),C.ansi[1]=S(k.red,o.DEFAULT_ANSI_COLORS[1]),C.ansi[2]=S(k.green,o.DEFAULT_ANSI_COLORS[2]),C.ansi[3]=S(k.yellow,o.DEFAULT_ANSI_COLORS[3]),C.ansi[4]=S(k.blue,o.DEFAULT_ANSI_COLORS[4]),C.ansi[5]=S(k.magenta,o.DEFAULT_ANSI_COLORS[5]),C.ansi[6]=S(k.cyan,o.DEFAULT_ANSI_COLORS[6]),C.ansi[7]=S(k.white,o.DEFAULT_ANSI_COLORS[7]),C.ansi[8]=S(k.brightBlack,o.DEFAULT_ANSI_COLORS[8]),C.ansi[9]=S(k.brightRed,o.DEFAULT_ANSI_COLORS[9]),C.ansi[10]=S(k.brightGreen,o.DEFAULT_ANSI_COLORS[10]),C.ansi[11]=S(k.brightYellow,o.DEFAULT_ANSI_COLORS[11]),C.ansi[12]=S(k.brightBlue,o.DEFAULT_ANSI_COLORS[12]),C.ansi[13]=S(k.brightMagenta,o.DEFAULT_ANSI_COLORS[13]),C.ansi[14]=S(k.brightCyan,o.DEFAULT_ANSI_COLORS[14]),C.ansi[15]=S(k.brightWhite,o.DEFAULT_ANSI_COLORS[15]),k.extendedAnsi){const E=Math.min(C.ansi.length-16,k.extendedAnsi.length);for(let T=0;T<E;T++)C.ansi[T+16]=S(k.extendedAnsi[T],o.DEFAULT_ANSI_COLORS[T+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(k){this._restoreColor(k),this._onChangeColors.fire(this.colors)}_restoreColor(k){if(k!==void 0)switch(k){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[k]=this._restoreColors.ansi[k]}else for(let C=0;C<this._restoreColors.ansi.length;++C)this._colors.ansi[C]=this._restoreColors.ansi[C]}modifyColors(k){k(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function S(k,C){if(k!==void 0)try{return f.css.toColor(k)}catch{}return C}o.ThemeService=w=c([d(0,v.IOptionsService)],w)},6349:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CircularList=void 0;const c=l(8460),d=l(844);class h extends d.Disposable{constructor(p){super(),this._maxLength=p,this.onDeleteEmitter=this.register(new c.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new c.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new c.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(p){if(this._maxLength===p)return;const g=new Array(p);for(let v=0;v<Math.min(p,this.length);v++)g[v]=this._array[this._getCyclicIndex(v)];this._array=g,this._maxLength=p,this._startIndex=0}get length(){return this._length}set length(p){if(p>this._length)for(let g=this._length;g<p;g++)this._array[g]=void 0;this._length=p}get(p){return this._array[this._getCyclicIndex(p)]}set(p,g){this._array[this._getCyclicIndex(p)]=g}push(p){this._array[this._getCyclicIndex(this._length)]=p,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(p,g,...v){if(g){for(let m=p;m<this._length-g;m++)this._array[this._getCyclicIndex(m)]=this._array[this._getCyclicIndex(m+g)];this._length-=g,this.onDeleteEmitter.fire({index:p,amount:g})}for(let m=this._length-1;m>=p;m--)this._array[this._getCyclicIndex(m+v.length)]=this._array[this._getCyclicIndex(m)];for(let m=0;m<v.length;m++)this._array[this._getCyclicIndex(p+m)]=v[m];if(v.length&&this.onInsertEmitter.fire({index:p,amount:v.length}),this._length+v.length>this._maxLength){const m=this._length+v.length-this._maxLength;this._startIndex+=m,this._length=this._maxLength,this.onTrimEmitter.fire(m)}else this._length+=v.length}trimStart(p){p>this._length&&(p=this._length),this._startIndex+=p,this._length-=p,this.onTrimEmitter.fire(p)}shiftElements(p,g,v){if(!(g<=0)){if(p<0||p>=this._length)throw new Error("start argument out of range");if(p+v<0)throw new Error("Cannot shift elements in list beyond index 0");if(v>0){for(let y=g-1;y>=0;y--)this.set(p+y+v,this.get(p+y));const m=p+g+v-this._length;if(m>0)for(this._length+=m;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let m=0;m<g;m++)this.set(p+m+v,this.get(p+m))}}_getCyclicIndex(p){return(this._startIndex+p)%this._maxLength}}o.CircularList=h},1439:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.clone=void 0,o.clone=function l(c,d=5){if(typeof c!="object")return c;const h=Array.isArray(c)?[]:{};for(const f in c)h[f]=d<=1?c[f]:c[f]&&l(c[f],d-1);return h}},8055:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.contrastRatio=o.toPaddedHex=o.rgba=o.rgb=o.css=o.color=o.channels=o.NULL_COLOR=void 0;const c=l(6114);let d=0,h=0,f=0,p=0;var g,v,m,y,x;function _(w){const S=w.toString(16);return S.length<2?"0"+S:S}function b(w,S){return w<S?(S+.05)/(w+.05):(w+.05)/(S+.05)}o.NULL_COLOR={css:"#00000000",rgba:0},function(w){w.toCss=function(S,k,C,E){return E!==void 0?`#${_(S)}${_(k)}${_(C)}${_(E)}`:`#${_(S)}${_(k)}${_(C)}`},w.toRgba=function(S,k,C,E=255){return(S<<24|k<<16|C<<8|E)>>>0}}(g||(o.channels=g={})),function(w){function S(k,C){return p=Math.round(255*C),[d,h,f]=x.toChannels(k.rgba),{css:g.toCss(d,h,f,p),rgba:g.toRgba(d,h,f,p)}}w.blend=function(k,C){if(p=(255&C.rgba)/255,p===1)return{css:C.css,rgba:C.rgba};const E=C.rgba>>24&255,T=C.rgba>>16&255,N=C.rgba>>8&255,R=k.rgba>>24&255,P=k.rgba>>16&255,D=k.rgba>>8&255;return d=R+Math.round((E-R)*p),h=P+Math.round((T-P)*p),f=D+Math.round((N-D)*p),{css:g.toCss(d,h,f),rgba:g.toRgba(d,h,f)}},w.isOpaque=function(k){return(255&k.rgba)==255},w.ensureContrastRatio=function(k,C,E){const T=x.ensureContrastRatio(k.rgba,C.rgba,E);if(T)return x.toColor(T>>24&255,T>>16&255,T>>8&255)},w.opaque=function(k){const C=(255|k.rgba)>>>0;return[d,h,f]=x.toChannels(C),{css:g.toCss(d,h,f),rgba:C}},w.opacity=S,w.multiplyOpacity=function(k,C){return p=255&k.rgba,S(k,p*C/255)},w.toColorRGB=function(k){return[k.rgba>>24&255,k.rgba>>16&255,k.rgba>>8&255]}}(v||(o.color=v={})),function(w){let S,k;if(!c.isNode){const C=document.createElement("canvas");C.width=1,C.height=1;const E=C.getContext("2d",{willReadFrequently:!0});E&&(S=E,S.globalCompositeOperation="copy",k=S.createLinearGradient(0,0,1,1))}w.toColor=function(C){if(C.match(/#[\da-f]{3,8}/i))switch(C.length){case 4:return d=parseInt(C.slice(1,2).repeat(2),16),h=parseInt(C.slice(2,3).repeat(2),16),f=parseInt(C.slice(3,4).repeat(2),16),x.toColor(d,h,f);case 5:return d=parseInt(C.slice(1,2).repeat(2),16),h=parseInt(C.slice(2,3).repeat(2),16),f=parseInt(C.slice(3,4).repeat(2),16),p=parseInt(C.slice(4,5).repeat(2),16),x.toColor(d,h,f,p);case 7:return{css:C,rgba:(parseInt(C.slice(1),16)<<8|255)>>>0};case 9:return{css:C,rgba:parseInt(C.slice(1),16)>>>0}}const E=C.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(E)return d=parseInt(E[1]),h=parseInt(E[2]),f=parseInt(E[3]),p=Math.round(255*(E[5]===void 0?1:parseFloat(E[5]))),x.toColor(d,h,f,p);if(!S||!k)throw new Error("css.toColor: Unsupported css format");if(S.fillStyle=k,S.fillStyle=C,typeof S.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(S.fillRect(0,0,1,1),[d,h,f,p]=S.getImageData(0,0,1,1).data,p!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:g.toRgba(d,h,f,p),css:C}}}(m||(o.css=m={})),function(w){function S(k,C,E){const T=k/255,N=C/255,R=E/255;return .2126*(T<=.03928?T/12.92:Math.pow((T+.055)/1.055,2.4))+.7152*(N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4))+.0722*(R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4))}w.relativeLuminance=function(k){return S(k>>16&255,k>>8&255,255&k)},w.relativeLuminance2=S}(y||(o.rgb=y={})),function(w){function S(C,E,T){const N=C>>24&255,R=C>>16&255,P=C>>8&255;let D=E>>24&255,$=E>>16&255,L=E>>8&255,O=b(y.relativeLuminance2(D,$,L),y.relativeLuminance2(N,R,P));for(;O<T&&(D>0||$>0||L>0);)D-=Math.max(0,Math.ceil(.1*D)),$-=Math.max(0,Math.ceil(.1*$)),L-=Math.max(0,Math.ceil(.1*L)),O=b(y.relativeLuminance2(D,$,L),y.relativeLuminance2(N,R,P));return(D<<24|$<<16|L<<8|255)>>>0}function k(C,E,T){const N=C>>24&255,R=C>>16&255,P=C>>8&255;let D=E>>24&255,$=E>>16&255,L=E>>8&255,O=b(y.relativeLuminance2(D,$,L),y.relativeLuminance2(N,R,P));for(;O<T&&(D<255||$<255||L<255);)D=Math.min(255,D+Math.ceil(.1*(255-D))),$=Math.min(255,$+Math.ceil(.1*(255-$))),L=Math.min(255,L+Math.ceil(.1*(255-L))),O=b(y.relativeLuminance2(D,$,L),y.relativeLuminance2(N,R,P));return(D<<24|$<<16|L<<8|255)>>>0}w.ensureContrastRatio=function(C,E,T){const N=y.relativeLuminance(C>>8),R=y.relativeLuminance(E>>8);if(b(N,R)<T){if(R<N){const $=S(C,E,T),L=b(N,y.relativeLuminance($>>8));if(L<T){const O=k(C,E,T);return L>b(N,y.relativeLuminance(O>>8))?$:O}return $}const P=k(C,E,T),D=b(N,y.relativeLuminance(P>>8));if(D<T){const $=S(C,E,T);return D>b(N,y.relativeLuminance($>>8))?P:$}return P}},w.reduceLuminance=S,w.increaseLuminance=k,w.toChannels=function(C){return[C>>24&255,C>>16&255,C>>8&255,255&C]},w.toColor=function(C,E,T,N){return{css:g.toCss(C,E,T,N),rgba:g.toRgba(C,E,T,N)}}}(x||(o.rgba=x={})),o.toPaddedHex=_,o.contrastRatio=b},8969:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreTerminal=void 0;const c=l(844),d=l(2585),h=l(4348),f=l(7866),p=l(744),g=l(7302),v=l(6975),m=l(8460),y=l(1753),x=l(1480),_=l(7994),b=l(9282),w=l(5435),S=l(5981),k=l(2660);let C=!1;class E extends c.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new m.EventEmitter),this._onScroll.event(N=>{var R;(R=this._onScrollApi)===null||R===void 0||R.fire(N.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(N){for(const R in N)this.optionsService.options[R]=N[R]}constructor(N){super(),this._windowsWrappingHeuristics=this.register(new c.MutableDisposable),this._onBinary=this.register(new m.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new m.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new m.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new m.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new m.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new m.EventEmitter),this._instantiationService=new h.InstantiationService,this.optionsService=this.register(new g.OptionsService(N)),this._instantiationService.setService(d.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(p.BufferService)),this._instantiationService.setService(d.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(f.LogService)),this._instantiationService.setService(d.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(v.CoreService)),this._instantiationService.setService(d.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(y.CoreMouseService)),this._instantiationService.setService(d.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(x.UnicodeService)),this._instantiationService.setService(d.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(_.CharsetService),this._instantiationService.setService(d.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(k.OscLinkService),this._instantiationService.setService(d.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new w.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,m.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,m.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,m.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,m.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(R=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(R=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new S.WriteBuffer((R,P)=>this._inputHandler.parse(R,P))),this.register((0,m.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(N,R){this._writeBuffer.write(N,R)}writeSync(N,R){this._logService.logLevel<=d.LogLevelEnum.WARN&&!C&&(this._logService.warn("writeSync is unreliable and will be removed soon."),C=!0),this._writeBuffer.writeSync(N,R)}resize(N,R){isNaN(N)||isNaN(R)||(N=Math.max(N,p.MINIMUM_COLS),R=Math.max(R,p.MINIMUM_ROWS),this._bufferService.resize(N,R))}scroll(N,R=!1){this._bufferService.scroll(N,R)}scrollLines(N,R,P){this._bufferService.scrollLines(N,R,P)}scrollPages(N){this.scrollLines(N*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(N){const R=N-this._bufferService.buffer.ydisp;R!==0&&this.scrollLines(R)}registerEscHandler(N,R){return this._inputHandler.registerEscHandler(N,R)}registerDcsHandler(N,R){return this._inputHandler.registerDcsHandler(N,R)}registerCsiHandler(N,R){return this._inputHandler.registerCsiHandler(N,R)}registerOscHandler(N,R){return this._inputHandler.registerOscHandler(N,R)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let N=!1;const R=this.optionsService.rawOptions.windowsPty;R&&R.buildNumber!==void 0&&R.buildNumber!==void 0?N=R.backend==="conpty"&&R.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(N=!0),N?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const N=[];N.push(this.onLineFeed(b.updateWindowsModeWrappedState.bind(null,this._bufferService))),N.push(this.registerCsiHandler({final:"H"},()=>((0,b.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,c.toDisposable)(()=>{for(const R of N)R.dispose()})}}}o.CoreTerminal=E},8460:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.forwardEvent=o.EventEmitter=void 0,o.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=l=>(this._listeners.push(l),{dispose:()=>{if(!this._disposed){for(let c=0;c<this._listeners.length;c++)if(this._listeners[c]===l)return void this._listeners.splice(c,1)}}})),this._event}fire(l,c){const d=[];for(let h=0;h<this._listeners.length;h++)d.push(this._listeners[h]);for(let h=0;h<d.length;h++)d[h].call(void 0,l,c)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},o.forwardEvent=function(l,c){return l(d=>c.fire(d))}},5435:function(a,o,l){var c=this&&this.__decorate||function(O,j,M,I){var z,U=arguments.length,F=U<3?j:I===null?I=Object.getOwnPropertyDescriptor(j,M):I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(O,j,M,I);else for(var G=O.length-1;G>=0;G--)(z=O[G])&&(F=(U<3?z(F):U>3?z(j,M,F):z(j,M))||F);return U>3&&F&&Object.defineProperty(j,M,F),F},d=this&&this.__param||function(O,j){return function(M,I){j(M,I,O)}};Object.defineProperty(o,"__esModule",{value:!0}),o.InputHandler=o.WindowsOptionsReportType=void 0;const h=l(2584),f=l(7116),p=l(2015),g=l(844),v=l(482),m=l(8437),y=l(8460),x=l(643),_=l(511),b=l(3734),w=l(2585),S=l(6242),k=l(6351),C=l(5941),E={"(":0,")":1,"*":2,"+":3,"-":1,".":2},T=131072;function N(O,j){if(O>24)return j.setWinLines||!1;switch(O){case 1:return!!j.restoreWin;case 2:return!!j.minimizeWin;case 3:return!!j.setWinPosition;case 4:return!!j.setWinSizePixels;case 5:return!!j.raiseWin;case 6:return!!j.lowerWin;case 7:return!!j.refreshWin;case 8:return!!j.setWinSizeChars;case 9:return!!j.maximizeWin;case 10:return!!j.fullscreenWin;case 11:return!!j.getWinState;case 13:return!!j.getWinPosition;case 14:return!!j.getWinSizePixels;case 15:return!!j.getScreenSizePixels;case 16:return!!j.getCellSizePixels;case 18:return!!j.getWinSizeChars;case 19:return!!j.getScreenSizeChars;case 20:return!!j.getIconTitle;case 21:return!!j.getWinTitle;case 22:return!!j.pushTitle;case 23:return!!j.popTitle;case 24:return!!j.setWinLines}return!1}var R;(function(O){O[O.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",O[O.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(R||(o.WindowsOptionsReportType=R={}));let P=0;class D extends g.Disposable{getAttrData(){return this._curAttrData}constructor(j,M,I,z,U,F,G,Y,Z=new p.EscapeSequenceParser){super(),this._bufferService=j,this._charsetService=M,this._coreService=I,this._logService=z,this._optionsService=U,this._oscLinkService=F,this._coreMouseService=G,this._unicodeService=Y,this._parser=Z,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new v.StringToUtf32,this._utf8Decoder=new v.Utf8ToUtf32,this._workCell=new _.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=m.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new y.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new y.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new y.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new y.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new y.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new y.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new y.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new y.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new y.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new y.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new y.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new y.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new y.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new $(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(B=>this._activeBuffer=B.activeBuffer)),this._parser.setCsiHandlerFallback((B,W)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(B),params:W.toArray()})}),this._parser.setEscHandlerFallback(B=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(B)})}),this._parser.setExecuteHandlerFallback(B=>{this._logService.debug("Unknown EXECUTE code: ",{code:B})}),this._parser.setOscHandlerFallback((B,W,K)=>{this._logService.debug("Unknown OSC code: ",{identifier:B,action:W,data:K})}),this._parser.setDcsHandlerFallback((B,W,K)=>{W==="HOOK"&&(K=K.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(B),action:W,payload:K})}),this._parser.setPrintHandler((B,W,K)=>this.print(B,W,K)),this._parser.registerCsiHandler({final:"@"},B=>this.insertChars(B)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},B=>this.scrollLeft(B)),this._parser.registerCsiHandler({final:"A"},B=>this.cursorUp(B)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},B=>this.scrollRight(B)),this._parser.registerCsiHandler({final:"B"},B=>this.cursorDown(B)),this._parser.registerCsiHandler({final:"C"},B=>this.cursorForward(B)),this._parser.registerCsiHandler({final:"D"},B=>this.cursorBackward(B)),this._parser.registerCsiHandler({final:"E"},B=>this.cursorNextLine(B)),this._parser.registerCsiHandler({final:"F"},B=>this.cursorPrecedingLine(B)),this._parser.registerCsiHandler({final:"G"},B=>this.cursorCharAbsolute(B)),this._parser.registerCsiHandler({final:"H"},B=>this.cursorPosition(B)),this._parser.registerCsiHandler({final:"I"},B=>this.cursorForwardTab(B)),this._parser.registerCsiHandler({final:"J"},B=>this.eraseInDisplay(B,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},B=>this.eraseInDisplay(B,!0)),this._parser.registerCsiHandler({final:"K"},B=>this.eraseInLine(B,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},B=>this.eraseInLine(B,!0)),this._parser.registerCsiHandler({final:"L"},B=>this.insertLines(B)),this._parser.registerCsiHandler({final:"M"},B=>this.deleteLines(B)),this._parser.registerCsiHandler({final:"P"},B=>this.deleteChars(B)),this._parser.registerCsiHandler({final:"S"},B=>this.scrollUp(B)),this._parser.registerCsiHandler({final:"T"},B=>this.scrollDown(B)),this._parser.registerCsiHandler({final:"X"},B=>this.eraseChars(B)),this._parser.registerCsiHandler({final:"Z"},B=>this.cursorBackwardTab(B)),this._parser.registerCsiHandler({final:"`"},B=>this.charPosAbsolute(B)),this._parser.registerCsiHandler({final:"a"},B=>this.hPositionRelative(B)),this._parser.registerCsiHandler({final:"b"},B=>this.repeatPrecedingCharacter(B)),this._parser.registerCsiHandler({final:"c"},B=>this.sendDeviceAttributesPrimary(B)),this._parser.registerCsiHandler({prefix:">",final:"c"},B=>this.sendDeviceAttributesSecondary(B)),this._parser.registerCsiHandler({final:"d"},B=>this.linePosAbsolute(B)),this._parser.registerCsiHandler({final:"e"},B=>this.vPositionRelative(B)),this._parser.registerCsiHandler({final:"f"},B=>this.hVPosition(B)),this._parser.registerCsiHandler({final:"g"},B=>this.tabClear(B)),this._parser.registerCsiHandler({final:"h"},B=>this.setMode(B)),this._parser.registerCsiHandler({prefix:"?",final:"h"},B=>this.setModePrivate(B)),this._parser.registerCsiHandler({final:"l"},B=>this.resetMode(B)),this._parser.registerCsiHandler({prefix:"?",final:"l"},B=>this.resetModePrivate(B)),this._parser.registerCsiHandler({final:"m"},B=>this.charAttributes(B)),this._parser.registerCsiHandler({final:"n"},B=>this.deviceStatus(B)),this._parser.registerCsiHandler({prefix:"?",final:"n"},B=>this.deviceStatusPrivate(B)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},B=>this.softReset(B)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},B=>this.setCursorStyle(B)),this._parser.registerCsiHandler({final:"r"},B=>this.setScrollRegion(B)),this._parser.registerCsiHandler({final:"s"},B=>this.saveCursor(B)),this._parser.registerCsiHandler({final:"t"},B=>this.windowOptions(B)),this._parser.registerCsiHandler({final:"u"},B=>this.restoreCursor(B)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},B=>this.insertColumns(B)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},B=>this.deleteColumns(B)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},B=>this.selectProtected(B)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},B=>this.requestMode(B,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},B=>this.requestMode(B,!1)),this._parser.setExecuteHandler(h.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(h.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(h.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(h.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(h.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(h.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(h.C1.IND,()=>this.index()),this._parser.setExecuteHandler(h.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(h.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new S.OscHandler(B=>(this.setTitle(B),this.setIconName(B),!0))),this._parser.registerOscHandler(1,new S.OscHandler(B=>this.setIconName(B))),this._parser.registerOscHandler(2,new S.OscHandler(B=>this.setTitle(B))),this._parser.registerOscHandler(4,new S.OscHandler(B=>this.setOrReportIndexedColor(B))),this._parser.registerOscHandler(8,new S.OscHandler(B=>this.setHyperlink(B))),this._parser.registerOscHandler(10,new S.OscHandler(B=>this.setOrReportFgColor(B))),this._parser.registerOscHandler(11,new S.OscHandler(B=>this.setOrReportBgColor(B))),this._parser.registerOscHandler(12,new S.OscHandler(B=>this.setOrReportCursorColor(B))),this._parser.registerOscHandler(104,new S.OscHandler(B=>this.restoreIndexedColor(B))),this._parser.registerOscHandler(110,new S.OscHandler(B=>this.restoreFgColor(B))),this._parser.registerOscHandler(111,new S.OscHandler(B=>this.restoreBgColor(B))),this._parser.registerOscHandler(112,new S.OscHandler(B=>this.restoreCursorColor(B))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const B in f.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:B},()=>this.selectCharset("("+B)),this._parser.registerEscHandler({intermediates:")",final:B},()=>this.selectCharset(")"+B)),this._parser.registerEscHandler({intermediates:"*",final:B},()=>this.selectCharset("*"+B)),this._parser.registerEscHandler({intermediates:"+",final:B},()=>this.selectCharset("+"+B)),this._parser.registerEscHandler({intermediates:"-",final:B},()=>this.selectCharset("-"+B)),this._parser.registerEscHandler({intermediates:".",final:B},()=>this.selectCharset("."+B)),this._parser.registerEscHandler({intermediates:"/",final:B},()=>this.selectCharset("/"+B));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(B=>(this._logService.error("Parsing error: ",B),B)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new k.DcsHandler((B,W)=>this.requestStatusString(B,W)))}_preserveStack(j,M,I,z){this._parseStack.paused=!0,this._parseStack.cursorStartX=j,this._parseStack.cursorStartY=M,this._parseStack.decodedLength=I,this._parseStack.position=z}_logSlowResolvingAsync(j){this._logService.logLevel<=w.LogLevelEnum.WARN&&Promise.race([j,new Promise((M,I)=>setTimeout(()=>I("#SLOW_TIMEOUT"),5e3))]).catch(M=>{if(M!=="#SLOW_TIMEOUT")throw M;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(j,M){let I,z=this._activeBuffer.x,U=this._activeBuffer.y,F=0;const G=this._parseStack.paused;if(G){if(I=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,M))return this._logSlowResolvingAsync(I),I;z=this._parseStack.cursorStartX,U=this._parseStack.cursorStartY,this._parseStack.paused=!1,j.length>T&&(F=this._parseStack.position+T)}if(this._logService.logLevel<=w.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof j=="string"?` "${j}"`:` "${Array.prototype.map.call(j,Y=>String.fromCharCode(Y)).join("")}"`),typeof j=="string"?j.split("").map(Y=>Y.charCodeAt(0)):j),this._parseBuffer.length<j.length&&this._parseBuffer.length<T&&(this._parseBuffer=new Uint32Array(Math.min(j.length,T))),G||this._dirtyRowTracker.clearRange(),j.length>T)for(let Y=F;Y<j.length;Y+=T){const Z=Y+T<j.length?Y+T:j.length,B=typeof j=="string"?this._stringDecoder.decode(j.substring(Y,Z),this._parseBuffer):this._utf8Decoder.decode(j.subarray(Y,Z),this._parseBuffer);if(I=this._parser.parse(this._parseBuffer,B))return this._preserveStack(z,U,B,Y),this._logSlowResolvingAsync(I),I}else if(!G){const Y=typeof j=="string"?this._stringDecoder.decode(j,this._parseBuffer):this._utf8Decoder.decode(j,this._parseBuffer);if(I=this._parser.parse(this._parseBuffer,Y))return this._preserveStack(z,U,Y,0),this._logSlowResolvingAsync(I),I}this._activeBuffer.x===z&&this._activeBuffer.y===U||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(j,M,I){let z,U;const F=this._charsetService.charset,G=this._optionsService.rawOptions.screenReaderMode,Y=this._bufferService.cols,Z=this._coreService.decPrivateModes.wraparound,B=this._coreService.modes.insertMode,W=this._curAttrData;let K=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&I-M>0&&K.getWidth(this._activeBuffer.x-1)===2&&K.setCellFromCodePoint(this._activeBuffer.x-1,0,1,W.fg,W.bg,W.extended);for(let X=M;X<I;++X){if(z=j[X],U=this._unicodeService.wcwidth(z),z<127&&F){const Q=F[String.fromCharCode(z)];Q&&(z=Q.charCodeAt(0))}if(G&&this._onA11yChar.fire((0,v.stringFromCodePoint)(z)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),U||!this._activeBuffer.x){if(this._activeBuffer.x+U-1>=Y){if(Z){for(;this._activeBuffer.x<Y;)K.setCellFromCodePoint(this._activeBuffer.x++,0,1,W.fg,W.bg,W.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),K=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=Y-1,U===2)continue}if(B&&(K.insertCells(this._activeBuffer.x,U,this._activeBuffer.getNullCell(W),W),K.getWidth(Y-1)===2&&K.setCellFromCodePoint(Y-1,x.NULL_CELL_CODE,x.NULL_CELL_WIDTH,W.fg,W.bg,W.extended)),K.setCellFromCodePoint(this._activeBuffer.x++,z,U,W.fg,W.bg,W.extended),U>0)for(;--U;)K.setCellFromCodePoint(this._activeBuffer.x++,0,0,W.fg,W.bg,W.extended)}else K.getWidth(this._activeBuffer.x-1)?K.addCodepointToCell(this._activeBuffer.x-1,z):K.addCodepointToCell(this._activeBuffer.x-2,z)}I-M>0&&(K.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<Y&&I-M>0&&K.getWidth(this._activeBuffer.x)===0&&!K.hasContent(this._activeBuffer.x)&&K.setCellFromCodePoint(this._activeBuffer.x,0,1,W.fg,W.bg,W.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(j,M){return j.final!=="t"||j.prefix||j.intermediates?this._parser.registerCsiHandler(j,M):this._parser.registerCsiHandler(j,I=>!N(I.params[0],this._optionsService.rawOptions.windowOptions)||M(I))}registerDcsHandler(j,M){return this._parser.registerDcsHandler(j,new k.DcsHandler(M))}registerEscHandler(j,M){return this._parser.registerEscHandler(j,M)}registerOscHandler(j,M){return this._parser.registerOscHandler(j,new S.OscHandler(M))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var j;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((j=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||j===void 0)&&j.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);M.hasWidth(this._activeBuffer.x)&&!M.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const j=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-j),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(j=this._bufferService.cols-1){this._activeBuffer.x=Math.min(j,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(j,M){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=j,this._activeBuffer.y=this._activeBuffer.scrollTop+M):(this._activeBuffer.x=j,this._activeBuffer.y=M),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(j,M){this._restrictCursor(),this._setCursor(this._activeBuffer.x+j,this._activeBuffer.y+M)}cursorUp(j){const M=this._activeBuffer.y-this._activeBuffer.scrollTop;return M>=0?this._moveCursor(0,-Math.min(M,j.params[0]||1)):this._moveCursor(0,-(j.params[0]||1)),!0}cursorDown(j){const M=this._activeBuffer.scrollBottom-this._activeBuffer.y;return M>=0?this._moveCursor(0,Math.min(M,j.params[0]||1)):this._moveCursor(0,j.params[0]||1),!0}cursorForward(j){return this._moveCursor(j.params[0]||1,0),!0}cursorBackward(j){return this._moveCursor(-(j.params[0]||1),0),!0}cursorNextLine(j){return this.cursorDown(j),this._activeBuffer.x=0,!0}cursorPrecedingLine(j){return this.cursorUp(j),this._activeBuffer.x=0,!0}cursorCharAbsolute(j){return this._setCursor((j.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(j){return this._setCursor(j.length>=2?(j.params[1]||1)-1:0,(j.params[0]||1)-1),!0}charPosAbsolute(j){return this._setCursor((j.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(j){return this._moveCursor(j.params[0]||1,0),!0}linePosAbsolute(j){return this._setCursor(this._activeBuffer.x,(j.params[0]||1)-1),!0}vPositionRelative(j){return this._moveCursor(0,j.params[0]||1),!0}hVPosition(j){return this.cursorPosition(j),!0}tabClear(j){const M=j.params[0];return M===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:M===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(j){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let M=j.params[0]||1;for(;M--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(j){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let M=j.params[0]||1;for(;M--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(j){const M=j.params[0];return M===1&&(this._curAttrData.bg|=536870912),M!==2&&M!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(j,M,I,z=!1,U=!1){const F=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);F.replaceCells(M,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),U),z&&(F.isWrapped=!1)}_resetBufferLine(j,M=!1){const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);I&&(I.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),M),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+j),I.isWrapped=!1)}eraseInDisplay(j,M=!1){let I;switch(this._restrictCursor(this._bufferService.cols),j.params[0]){case 0:for(I=this._activeBuffer.y,this._dirtyRowTracker.markDirty(I),this._eraseInBufferLine(I++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,M);I<this._bufferService.rows;I++)this._resetBufferLine(I,M);this._dirtyRowTracker.markDirty(I);break;case 1:for(I=this._activeBuffer.y,this._dirtyRowTracker.markDirty(I),this._eraseInBufferLine(I,0,this._activeBuffer.x+1,!0,M),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(I+1).isWrapped=!1);I--;)this._resetBufferLine(I,M);this._dirtyRowTracker.markDirty(0);break;case 2:for(I=this._bufferService.rows,this._dirtyRowTracker.markDirty(I-1);I--;)this._resetBufferLine(I,M);this._dirtyRowTracker.markDirty(0);break;case 3:const z=this._activeBuffer.lines.length-this._bufferService.rows;z>0&&(this._activeBuffer.lines.trimStart(z),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-z,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-z,0),this._onScroll.fire(0))}return!0}eraseInLine(j,M=!1){switch(this._restrictCursor(this._bufferService.cols),j.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,M);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,M);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,M)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(j){this._restrictCursor();let M=j.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=this._activeBuffer.ybase+this._activeBuffer.y,z=this._bufferService.rows-1-this._activeBuffer.scrollBottom,U=this._bufferService.rows-1+this._activeBuffer.ybase-z+1;for(;M--;)this._activeBuffer.lines.splice(U-1,1),this._activeBuffer.lines.splice(I,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(j){this._restrictCursor();let M=j.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=this._activeBuffer.ybase+this._activeBuffer.y;let z;for(z=this._bufferService.rows-1-this._activeBuffer.scrollBottom,z=this._bufferService.rows-1+this._activeBuffer.ybase-z;M--;)this._activeBuffer.lines.splice(I,1),this._activeBuffer.lines.splice(z,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(j){this._restrictCursor();const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.insertCells(this._activeBuffer.x,j.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(j){this._restrictCursor();const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.deleteCells(this._activeBuffer.x,j.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(j){let M=j.params[0]||1;for(;M--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(j){let M=j.params[0]||1;for(;M--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(m.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(j){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=j.params[0]||1;for(let I=this._activeBuffer.scrollTop;I<=this._activeBuffer.scrollBottom;++I){const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+I);z.deleteCells(0,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),z.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(j){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=j.params[0]||1;for(let I=this._activeBuffer.scrollTop;I<=this._activeBuffer.scrollBottom;++I){const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+I);z.insertCells(0,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),z.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(j){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=j.params[0]||1;for(let I=this._activeBuffer.scrollTop;I<=this._activeBuffer.scrollBottom;++I){const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+I);z.insertCells(this._activeBuffer.x,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),z.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(j){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=j.params[0]||1;for(let I=this._activeBuffer.scrollTop;I<=this._activeBuffer.scrollBottom;++I){const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+I);z.deleteCells(this._activeBuffer.x,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),z.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(j){this._restrictCursor();const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(j.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(j){if(!this._parser.precedingCodepoint)return!0;const M=j.params[0]||1,I=new Uint32Array(M);for(let z=0;z<M;++z)I[z]=this._parser.precedingCodepoint;return this.print(I,0,I.length),!0}sendDeviceAttributesPrimary(j){return j.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(h.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(h.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(j){return j.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(h.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(h.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(j.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(h.C0.ESC+"[>83;40003;0c")),!0}_is(j){return(this._optionsService.rawOptions.termName+"").indexOf(j)===0}setMode(j){for(let M=0;M<j.length;M++)switch(j.params[M]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(j){for(let M=0;M<j.length;M++)switch(j.params[M]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,f.DEFAULT_CHARSET),this._charsetService.setgCharset(1,f.DEFAULT_CHARSET),this._charsetService.setgCharset(2,f.DEFAULT_CHARSET),this._charsetService.setgCharset(3,f.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(j){for(let M=0;M<j.length;M++)switch(j.params[M]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(j){for(let M=0;M<j.length;M++)switch(j.params[M]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),j.params[M]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(j,M){const I=this._coreService.decPrivateModes,{activeProtocol:z,activeEncoding:U}=this._coreMouseService,F=this._coreService,{buffers:G,cols:Y}=this._bufferService,{active:Z,alt:B}=G,W=this._optionsService.rawOptions,K=Se=>Se?1:2,X=j.params[0];return Q=X,re=M?X===2?4:X===4?K(F.modes.insertMode):X===12?3:X===20?K(W.convertEol):0:X===1?K(I.applicationCursorKeys):X===3?W.windowOptions.setWinLines?Y===80?2:Y===132?1:0:0:X===6?K(I.origin):X===7?K(I.wraparound):X===8?3:X===9?K(z==="X10"):X===12?K(W.cursorBlink):X===25?K(!F.isCursorHidden):X===45?K(I.reverseWraparound):X===66?K(I.applicationKeypad):X===67?4:X===1e3?K(z==="VT200"):X===1002?K(z==="DRAG"):X===1003?K(z==="ANY"):X===1004?K(I.sendFocus):X===1005?4:X===1006?K(U==="SGR"):X===1015?4:X===1016?K(U==="SGR_PIXELS"):X===1048?1:X===47||X===1047||X===1049?K(Z===B):X===2004?K(I.bracketedPasteMode):0,F.triggerDataEvent(`${h.C0.ESC}[${M?"":"?"}${Q};${re}$y`),!0;var Q,re}_updateAttrColor(j,M,I,z,U){return M===2?(j|=50331648,j&=-16777216,j|=b.AttributeData.fromColorRGB([I,z,U])):M===5&&(j&=-50331904,j|=33554432|255&I),j}_extractColor(j,M,I){const z=[0,0,-1,0,0,0];let U=0,F=0;do{if(z[F+U]=j.params[M+F],j.hasSubParams(M+F)){const G=j.getSubParams(M+F);let Y=0;do z[1]===5&&(U=1),z[F+Y+1+U]=G[Y];while(++Y<G.length&&Y+F+1+U<z.length);break}if(z[1]===5&&F+U>=2||z[1]===2&&F+U>=5)break;z[1]&&(U=1)}while(++F+M<j.length&&F+U<z.length);for(let G=2;G<z.length;++G)z[G]===-1&&(z[G]=0);switch(z[0]){case 38:I.fg=this._updateAttrColor(I.fg,z[1],z[3],z[4],z[5]);break;case 48:I.bg=this._updateAttrColor(I.bg,z[1],z[3],z[4],z[5]);break;case 58:I.extended=I.extended.clone(),I.extended.underlineColor=this._updateAttrColor(I.extended.underlineColor,z[1],z[3],z[4],z[5])}return F}_processUnderline(j,M){M.extended=M.extended.clone(),(!~j||j>5)&&(j=1),M.extended.underlineStyle=j,M.fg|=268435456,j===0&&(M.fg&=-268435457),M.updateExtended()}_processSGR0(j){j.fg=m.DEFAULT_ATTR_DATA.fg,j.bg=m.DEFAULT_ATTR_DATA.bg,j.extended=j.extended.clone(),j.extended.underlineStyle=0,j.extended.underlineColor&=-67108864,j.updateExtended()}charAttributes(j){if(j.length===1&&j.params[0]===0)return this._processSGR0(this._curAttrData),!0;const M=j.length;let I;const z=this._curAttrData;for(let U=0;U<M;U++)I=j.params[U],I>=30&&I<=37?(z.fg&=-50331904,z.fg|=16777216|I-30):I>=40&&I<=47?(z.bg&=-50331904,z.bg|=16777216|I-40):I>=90&&I<=97?(z.fg&=-50331904,z.fg|=16777224|I-90):I>=100&&I<=107?(z.bg&=-50331904,z.bg|=16777224|I-100):I===0?this._processSGR0(z):I===1?z.fg|=134217728:I===3?z.bg|=67108864:I===4?(z.fg|=268435456,this._processUnderline(j.hasSubParams(U)?j.getSubParams(U)[0]:1,z)):I===5?z.fg|=536870912:I===7?z.fg|=67108864:I===8?z.fg|=1073741824:I===9?z.fg|=2147483648:I===2?z.bg|=134217728:I===21?this._processUnderline(2,z):I===22?(z.fg&=-134217729,z.bg&=-134217729):I===23?z.bg&=-67108865:I===24?(z.fg&=-268435457,this._processUnderline(0,z)):I===25?z.fg&=-536870913:I===27?z.fg&=-67108865:I===28?z.fg&=-1073741825:I===29?z.fg&=2147483647:I===39?(z.fg&=-67108864,z.fg|=16777215&m.DEFAULT_ATTR_DATA.fg):I===49?(z.bg&=-67108864,z.bg|=16777215&m.DEFAULT_ATTR_DATA.bg):I===38||I===48||I===58?U+=this._extractColor(j,U,z):I===53?z.bg|=1073741824:I===55?z.bg&=-1073741825:I===59?(z.extended=z.extended.clone(),z.extended.underlineColor=-1,z.updateExtended()):I===100?(z.fg&=-67108864,z.fg|=16777215&m.DEFAULT_ATTR_DATA.fg,z.bg&=-67108864,z.bg|=16777215&m.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",I);return!0}deviceStatus(j){switch(j.params[0]){case 5:this._coreService.triggerDataEvent(`${h.C0.ESC}[0n`);break;case 6:const M=this._activeBuffer.y+1,I=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${h.C0.ESC}[${M};${I}R`)}return!0}deviceStatusPrivate(j){if(j.params[0]===6){const M=this._activeBuffer.y+1,I=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${h.C0.ESC}[?${M};${I}R`)}return!0}softReset(j){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(j){const M=j.params[0]||1;switch(M){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const I=M%2==1;return this._optionsService.options.cursorBlink=I,!0}setScrollRegion(j){const M=j.params[0]||1;let I;return(j.length<2||(I=j.params[1])>this._bufferService.rows||I===0)&&(I=this._bufferService.rows),I>M&&(this._activeBuffer.scrollTop=M-1,this._activeBuffer.scrollBottom=I-1,this._setCursor(0,0)),!0}windowOptions(j){if(!N(j.params[0],this._optionsService.rawOptions.windowOptions))return!0;const M=j.length>1?j.params[1]:0;switch(j.params[0]){case 14:M!==2&&this._onRequestWindowsOptionsReport.fire(R.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(R.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${h.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:M!==0&&M!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),M!==0&&M!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:M!==0&&M!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),M!==0&&M!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(j){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(j){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(j){return this._windowTitle=j,this._onTitleChange.fire(j),!0}setIconName(j){return this._iconName=j,!0}setOrReportIndexedColor(j){const M=[],I=j.split(";");for(;I.length>1;){const z=I.shift(),U=I.shift();if(/^\d+$/.exec(z)){const F=parseInt(z);if(L(F))if(U==="?")M.push({type:0,index:F});else{const G=(0,C.parseColor)(U);G&&M.push({type:1,index:F,color:G})}}}return M.length&&this._onColor.fire(M),!0}setHyperlink(j){const M=j.split(";");return!(M.length<2)&&(M[1]?this._createHyperlink(M[0],M[1]):!M[0]&&this._finishHyperlink())}_createHyperlink(j,M){this._getCurrentLinkId()&&this._finishHyperlink();const I=j.split(":");let z;const U=I.findIndex(F=>F.startsWith("id="));return U!==-1&&(z=I[U].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:z,uri:M}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(j,M){const I=j.split(";");for(let z=0;z<I.length&&!(M>=this._specialColors.length);++z,++M)if(I[z]==="?")this._onColor.fire([{type:0,index:this._specialColors[M]}]);else{const U=(0,C.parseColor)(I[z]);U&&this._onColor.fire([{type:1,index:this._specialColors[M],color:U}])}return!0}setOrReportFgColor(j){return this._setOrReportSpecialColor(j,0)}setOrReportBgColor(j){return this._setOrReportSpecialColor(j,1)}setOrReportCursorColor(j){return this._setOrReportSpecialColor(j,2)}restoreIndexedColor(j){if(!j)return this._onColor.fire([{type:2}]),!0;const M=[],I=j.split(";");for(let z=0;z<I.length;++z)if(/^\d+$/.exec(I[z])){const U=parseInt(I[z]);L(U)&&M.push({type:2,index:U})}return M.length&&this._onColor.fire(M),!0}restoreFgColor(j){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(j){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(j){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,f.DEFAULT_CHARSET),!0}selectCharset(j){return j.length!==2?(this.selectDefaultCharset(),!0):(j[0]==="/"||this._charsetService.setgCharset(E[j[0]],f.CHARSETS[j[1]]||f.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const j=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,j,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=m.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(j){return this._charsetService.setgLevel(j),!0}screenAlignmentPattern(){const j=new _.CellData;j.content=4194373,j.fg=this._curAttrData.fg,j.bg=this._curAttrData.bg,this._setCursor(0,0);for(let M=0;M<this._bufferService.rows;++M){const I=this._activeBuffer.ybase+this._activeBuffer.y+M,z=this._activeBuffer.lines.get(I);z&&(z.fill(j),z.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(j,M){const I=this._bufferService.buffer,z=this._optionsService.rawOptions;return(U=>(this._coreService.triggerDataEvent(`${h.C0.ESC}${U}${h.C0.ESC}\\`),!0))(j==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:j==='"p'?'P1$r61;1"p':j==="r"?`P1$r${I.scrollTop+1};${I.scrollBottom+1}r`:j==="m"?"P1$r0m":j===" q"?`P1$r${{block:2,underline:4,bar:6}[z.cursorStyle]-(z.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(j,M){this._dirtyRowTracker.markRangeDirty(j,M)}}o.InputHandler=D;let $=class{constructor(O){this._bufferService=O,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(O){O<this.start?this.start=O:O>this.end&&(this.end=O)}markRangeDirty(O,j){O>j&&(P=O,O=j,j=P),O<this.start&&(this.start=O),j>this.end&&(this.end=j)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function L(O){return 0<=O&&O<256}$=c([d(0,w.IBufferService)],$)},844:(a,o)=>{function l(c){for(const d of c)d.dispose();c.length=0}Object.defineProperty(o,"__esModule",{value:!0}),o.getDisposeArrayDisposable=o.disposeArray=o.toDisposable=o.MutableDisposable=o.Disposable=void 0,o.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const c of this._disposables)c.dispose();this._disposables.length=0}register(c){return this._disposables.push(c),c}unregister(c){const d=this._disposables.indexOf(c);d!==-1&&this._disposables.splice(d,1)}},o.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(c){var d;this._isDisposed||c===this._value||((d=this._value)===null||d===void 0||d.dispose(),this._value=c)}clear(){this.value=void 0}dispose(){var c;this._isDisposed=!0,(c=this._value)===null||c===void 0||c.dispose(),this._value=void 0}},o.toDisposable=function(c){return{dispose:c}},o.disposeArray=l,o.getDisposeArrayDisposable=function(c){return{dispose:()=>l(c)}}},1505:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FourKeyMap=o.TwoKeyMap=void 0;class l{constructor(){this._data={}}set(d,h,f){this._data[d]||(this._data[d]={}),this._data[d][h]=f}get(d,h){return this._data[d]?this._data[d][h]:void 0}clear(){this._data={}}}o.TwoKeyMap=l,o.FourKeyMap=class{constructor(){this._data=new l}set(c,d,h,f,p){this._data.get(c,d)||this._data.set(c,d,new l),this._data.get(c,d).set(h,f,p)}get(c,d,h,f){var p;return(p=this._data.get(c,d))===null||p===void 0?void 0:p.get(h,f)}clear(){this._data.clear()}}},6114:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isChromeOS=o.isLinux=o.isWindows=o.isIphone=o.isIpad=o.isMac=o.getSafariVersion=o.isSafari=o.isLegacyEdge=o.isFirefox=o.isNode=void 0,o.isNode=typeof navigator>"u";const l=o.isNode?"node":navigator.userAgent,c=o.isNode?"node":navigator.platform;o.isFirefox=l.includes("Firefox"),o.isLegacyEdge=l.includes("Edge"),o.isSafari=/^((?!chrome|android).)*safari/i.test(l),o.getSafariVersion=function(){if(!o.isSafari)return 0;const d=l.match(/Version\/(\d+)/);return d===null||d.length<2?0:parseInt(d[1])},o.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(c),o.isIpad=c==="iPad",o.isIphone=c==="iPhone",o.isWindows=["Windows","Win16","Win32","WinCE"].includes(c),o.isLinux=c.indexOf("Linux")>=0,o.isChromeOS=/\bCrOS\b/.test(l)},6106:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SortedList=void 0;let l=0;o.SortedList=class{constructor(c){this._getKey=c,this._array=[]}clear(){this._array.length=0}insert(c){this._array.length!==0?(l=this._search(this._getKey(c)),this._array.splice(l,0,c)):this._array.push(c)}delete(c){if(this._array.length===0)return!1;const d=this._getKey(c);if(d===void 0||(l=this._search(d),l===-1)||this._getKey(this._array[l])!==d)return!1;do if(this._array[l]===c)return this._array.splice(l,1),!0;while(++l<this._array.length&&this._getKey(this._array[l])===d);return!1}*getKeyIterator(c){if(this._array.length!==0&&(l=this._search(c),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===c))do yield this._array[l];while(++l<this._array.length&&this._getKey(this._array[l])===c)}forEachByKey(c,d){if(this._array.length!==0&&(l=this._search(c),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===c))do d(this._array[l]);while(++l<this._array.length&&this._getKey(this._array[l])===c)}values(){return[...this._array].values()}_search(c){let d=0,h=this._array.length-1;for(;h>=d;){let f=d+h>>1;const p=this._getKey(this._array[f]);if(p>c)h=f-1;else{if(!(p<c)){for(;f>0&&this._getKey(this._array[f-1])===c;)f--;return f}d=f+1}}return d}}},7226:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DebouncedIdleTask=o.IdleTaskQueue=o.PriorityTaskQueue=void 0;const c=l(6114);class d{constructor(){this._tasks=[],this._i=0}enqueue(p){this._tasks.push(p),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(p){this._idleCallback=void 0;let g=0,v=0,m=p.timeRemaining(),y=0;for(;this._i<this._tasks.length;){if(g=Date.now(),this._tasks[this._i]()||this._i++,g=Math.max(1,Date.now()-g),v=Math.max(g,v),y=p.timeRemaining(),1.5*v>y)return m-g<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(m-g))}ms`),void this._start();m=y}this.clear()}}class h extends d{_requestCallback(p){return setTimeout(()=>p(this._createDeadline(16)))}_cancelCallback(p){clearTimeout(p)}_createDeadline(p){const g=Date.now()+p;return{timeRemaining:()=>Math.max(0,g-Date.now())}}}o.PriorityTaskQueue=h,o.IdleTaskQueue=!c.isNode&&"requestIdleCallback"in window?class extends d{_requestCallback(f){return requestIdleCallback(f)}_cancelCallback(f){cancelIdleCallback(f)}}:h,o.DebouncedIdleTask=class{constructor(){this._queue=new o.IdleTaskQueue}set(f){this._queue.clear(),this._queue.enqueue(f)}flush(){this._queue.flush()}}},9282:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.updateWindowsModeWrappedState=void 0;const c=l(643);o.updateWindowsModeWrappedState=function(d){const h=d.buffer.lines.get(d.buffer.ybase+d.buffer.y-1),f=h==null?void 0:h.get(d.cols-1),p=d.buffer.lines.get(d.buffer.ybase+d.buffer.y);p&&f&&(p.isWrapped=f[c.CHAR_DATA_CODE_INDEX]!==c.NULL_CELL_CODE&&f[c.CHAR_DATA_CODE_INDEX]!==c.WHITESPACE_CELL_CODE)}},3734:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ExtendedAttrs=o.AttributeData=void 0;class l{constructor(){this.fg=0,this.bg=0,this.extended=new c}static toColorRGB(h){return[h>>>16&255,h>>>8&255,255&h]}static fromColorRGB(h){return(255&h[0])<<16|(255&h[1])<<8|255&h[2]}clone(){const h=new l;return h.fg=this.fg,h.bg=this.bg,h.extended=this.extended.clone(),h}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}o.AttributeData=l;class c{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(h){this._ext=h}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(h){this._ext&=-469762049,this._ext|=h<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(h){this._ext&=-67108864,this._ext|=67108863&h}get urlId(){return this._urlId}set urlId(h){this._urlId=h}constructor(h=0,f=0){this._ext=0,this._urlId=0,this._ext=h,this._urlId=f}clone(){return new c(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}o.ExtendedAttrs=c},9092:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Buffer=o.MAX_BUFFER_SIZE=void 0;const c=l(6349),d=l(7226),h=l(3734),f=l(8437),p=l(4634),g=l(511),v=l(643),m=l(4863),y=l(7116);o.MAX_BUFFER_SIZE=4294967295,o.Buffer=class{constructor(x,_,b){this._hasScrollback=x,this._optionsService=_,this._bufferService=b,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=f.DEFAULT_ATTR_DATA.clone(),this.savedCharset=y.DEFAULT_CHARSET,this.markers=[],this._nullCell=g.CellData.fromCharData([0,v.NULL_CELL_CHAR,v.NULL_CELL_WIDTH,v.NULL_CELL_CODE]),this._whitespaceCell=g.CellData.fromCharData([0,v.WHITESPACE_CELL_CHAR,v.WHITESPACE_CELL_WIDTH,v.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new d.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new c.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(x){return x?(this._nullCell.fg=x.fg,this._nullCell.bg=x.bg,this._nullCell.extended=x.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new h.ExtendedAttrs),this._nullCell}getWhitespaceCell(x){return x?(this._whitespaceCell.fg=x.fg,this._whitespaceCell.bg=x.bg,this._whitespaceCell.extended=x.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new h.ExtendedAttrs),this._whitespaceCell}getBlankLine(x,_){return new f.BufferLine(this._bufferService.cols,this.getNullCell(x),_)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const x=this.ybase+this.y-this.ydisp;return x>=0&&x<this._rows}_getCorrectBufferLength(x){if(!this._hasScrollback)return x;const _=x+this._optionsService.rawOptions.scrollback;return _>o.MAX_BUFFER_SIZE?o.MAX_BUFFER_SIZE:_}fillViewportRows(x){if(this.lines.length===0){x===void 0&&(x=f.DEFAULT_ATTR_DATA);let _=this._rows;for(;_--;)this.lines.push(this.getBlankLine(x))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new c.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(x,_){const b=this.getNullCell(f.DEFAULT_ATTR_DATA);let w=0;const S=this._getCorrectBufferLength(_);if(S>this.lines.maxLength&&(this.lines.maxLength=S),this.lines.length>0){if(this._cols<x)for(let C=0;C<this.lines.length;C++)w+=+this.lines.get(C).resize(x,b);let k=0;if(this._rows<_)for(let C=this._rows;C<_;C++)this.lines.length<_+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new f.BufferLine(x,b)):this.ybase>0&&this.lines.length<=this.ybase+this.y+k+1?(this.ybase--,k++,this.ydisp>0&&this.ydisp--):this.lines.push(new f.BufferLine(x,b)));else for(let C=this._rows;C>_;C--)this.lines.length>_+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(S<this.lines.maxLength){const C=this.lines.length-S;C>0&&(this.lines.trimStart(C),this.ybase=Math.max(this.ybase-C,0),this.ydisp=Math.max(this.ydisp-C,0),this.savedY=Math.max(this.savedY-C,0)),this.lines.maxLength=S}this.x=Math.min(this.x,x-1),this.y=Math.min(this.y,_-1),k&&(this.y+=k),this.savedX=Math.min(this.savedX,x-1),this.scrollTop=0}if(this.scrollBottom=_-1,this._isReflowEnabled&&(this._reflow(x,_),this._cols>x))for(let k=0;k<this.lines.length;k++)w+=+this.lines.get(k).resize(x,b);this._cols=x,this._rows=_,this._memoryCleanupQueue.clear(),w>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let x=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,x=!1);let _=0;for(;this._memoryCleanupPosition<this.lines.length;)if(_+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),_>100)return!0;return x}get _isReflowEnabled(){const x=this._optionsService.rawOptions.windowsPty;return x&&x.buildNumber?this._hasScrollback&&x.backend==="conpty"&&x.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(x,_){this._cols!==x&&(x>this._cols?this._reflowLarger(x,_):this._reflowSmaller(x,_))}_reflowLarger(x,_){const b=(0,p.reflowLargerGetLinesToRemove)(this.lines,this._cols,x,this.ybase+this.y,this.getNullCell(f.DEFAULT_ATTR_DATA));if(b.length>0){const w=(0,p.reflowLargerCreateNewLayout)(this.lines,b);(0,p.reflowLargerApplyNewLayout)(this.lines,w.layout),this._reflowLargerAdjustViewport(x,_,w.countRemoved)}}_reflowLargerAdjustViewport(x,_,b){const w=this.getNullCell(f.DEFAULT_ATTR_DATA);let S=b;for(;S-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<_&&this.lines.push(new f.BufferLine(x,w))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-b,0)}_reflowSmaller(x,_){const b=this.getNullCell(f.DEFAULT_ATTR_DATA),w=[];let S=0;for(let k=this.lines.length-1;k>=0;k--){let C=this.lines.get(k);if(!C||!C.isWrapped&&C.getTrimmedLength()<=x)continue;const E=[C];for(;C.isWrapped&&k>0;)C=this.lines.get(--k),E.unshift(C);const T=this.ybase+this.y;if(T>=k&&T<k+E.length)continue;const N=E[E.length-1].getTrimmedLength(),R=(0,p.reflowSmallerGetNewLineLengths)(E,this._cols,x),P=R.length-E.length;let D;D=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+P):Math.max(0,this.lines.length-this.lines.maxLength+P);const $=[];for(let z=0;z<P;z++){const U=this.getBlankLine(f.DEFAULT_ATTR_DATA,!0);$.push(U)}$.length>0&&(w.push({start:k+E.length+S,newLines:$}),S+=$.length),E.push(...$);let L=R.length-1,O=R[L];O===0&&(L--,O=R[L]);let j=E.length-P-1,M=N;for(;j>=0;){const z=Math.min(M,O);if(E[L]===void 0)break;if(E[L].copyCellsFrom(E[j],M-z,O-z,z,!0),O-=z,O===0&&(L--,O=R[L]),M-=z,M===0){j--;const U=Math.max(j,0);M=(0,p.getWrappedLineTrimmedLength)(E,U,this._cols)}}for(let z=0;z<E.length;z++)R[z]<x&&E[z].setCell(R[z],b);let I=P-D;for(;I-- >0;)this.ybase===0?this.y<_-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+S)-_&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+P,this.ybase+_-1)}if(w.length>0){const k=[],C=[];for(let L=0;L<this.lines.length;L++)C.push(this.lines.get(L));const E=this.lines.length;let T=E-1,N=0,R=w[N];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+S);let P=0;for(let L=Math.min(this.lines.maxLength-1,E+S-1);L>=0;L--)if(R&&R.start>T+P){for(let O=R.newLines.length-1;O>=0;O--)this.lines.set(L--,R.newLines[O]);L++,k.push({index:T+1,amount:R.newLines.length}),P+=R.newLines.length,R=w[++N]}else this.lines.set(L,C[T--]);let D=0;for(let L=k.length-1;L>=0;L--)k[L].index+=D,this.lines.onInsertEmitter.fire(k[L]),D+=k[L].amount;const $=Math.max(0,E+S-this.lines.maxLength);$>0&&this.lines.onTrimEmitter.fire($)}}translateBufferLineToString(x,_,b=0,w){const S=this.lines.get(x);return S?S.translateToString(_,b,w):""}getWrappedRangeForLine(x){let _=x,b=x;for(;_>0&&this.lines.get(_).isWrapped;)_--;for(;b+1<this.lines.length&&this.lines.get(b+1).isWrapped;)b++;return{first:_,last:b}}setupTabStops(x){for(x!=null?this.tabs[x]||(x=this.prevStop(x)):(this.tabs={},x=0);x<this._cols;x+=this._optionsService.rawOptions.tabStopWidth)this.tabs[x]=!0}prevStop(x){for(x==null&&(x=this.x);!this.tabs[--x]&&x>0;);return x>=this._cols?this._cols-1:x<0?0:x}nextStop(x){for(x==null&&(x=this.x);!this.tabs[++x]&&x<this._cols;);return x>=this._cols?this._cols-1:x<0?0:x}clearMarkers(x){this._isClearing=!0;for(let _=0;_<this.markers.length;_++)this.markers[_].line===x&&(this.markers[_].dispose(),this.markers.splice(_--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let x=0;x<this.markers.length;x++)this.markers[x].dispose(),this.markers.splice(x--,1);this._isClearing=!1}addMarker(x){const _=new m.Marker(x);return this.markers.push(_),_.register(this.lines.onTrim(b=>{_.line-=b,_.line<0&&_.dispose()})),_.register(this.lines.onInsert(b=>{_.line>=b.index&&(_.line+=b.amount)})),_.register(this.lines.onDelete(b=>{_.line>=b.index&&_.line<b.index+b.amount&&_.dispose(),_.line>b.index&&(_.line-=b.amount)})),_.register(_.onDispose(()=>this._removeMarker(_))),_}_removeMarker(x){this._isClearing||this.markers.splice(this.markers.indexOf(x),1)}}},8437:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLine=o.DEFAULT_ATTR_DATA=void 0;const c=l(3734),d=l(511),h=l(643),f=l(482);o.DEFAULT_ATTR_DATA=Object.freeze(new c.AttributeData);let p=0;class g{constructor(m,y,x=!1){this.isWrapped=x,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*m);const _=y||d.CellData.fromCharData([0,h.NULL_CELL_CHAR,h.NULL_CELL_WIDTH,h.NULL_CELL_CODE]);for(let b=0;b<m;++b)this.setCell(b,_);this.length=m}get(m){const y=this._data[3*m+0],x=2097151&y;return[this._data[3*m+1],2097152&y?this._combined[m]:x?(0,f.stringFromCodePoint)(x):"",y>>22,2097152&y?this._combined[m].charCodeAt(this._combined[m].length-1):x]}set(m,y){this._data[3*m+1]=y[h.CHAR_DATA_ATTR_INDEX],y[h.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[m]=y[1],this._data[3*m+0]=2097152|m|y[h.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*m+0]=y[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|y[h.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(m){return this._data[3*m+0]>>22}hasWidth(m){return 12582912&this._data[3*m+0]}getFg(m){return this._data[3*m+1]}getBg(m){return this._data[3*m+2]}hasContent(m){return 4194303&this._data[3*m+0]}getCodePoint(m){const y=this._data[3*m+0];return 2097152&y?this._combined[m].charCodeAt(this._combined[m].length-1):2097151&y}isCombined(m){return 2097152&this._data[3*m+0]}getString(m){const y=this._data[3*m+0];return 2097152&y?this._combined[m]:2097151&y?(0,f.stringFromCodePoint)(2097151&y):""}isProtected(m){return 536870912&this._data[3*m+2]}loadCell(m,y){return p=3*m,y.content=this._data[p+0],y.fg=this._data[p+1],y.bg=this._data[p+2],2097152&y.content&&(y.combinedData=this._combined[m]),268435456&y.bg&&(y.extended=this._extendedAttrs[m]),y}setCell(m,y){2097152&y.content&&(this._combined[m]=y.combinedData),268435456&y.bg&&(this._extendedAttrs[m]=y.extended),this._data[3*m+0]=y.content,this._data[3*m+1]=y.fg,this._data[3*m+2]=y.bg}setCellFromCodePoint(m,y,x,_,b,w){268435456&b&&(this._extendedAttrs[m]=w),this._data[3*m+0]=y|x<<22,this._data[3*m+1]=_,this._data[3*m+2]=b}addCodepointToCell(m,y){let x=this._data[3*m+0];2097152&x?this._combined[m]+=(0,f.stringFromCodePoint)(y):(2097151&x?(this._combined[m]=(0,f.stringFromCodePoint)(2097151&x)+(0,f.stringFromCodePoint)(y),x&=-2097152,x|=2097152):x=y|4194304,this._data[3*m+0]=x)}insertCells(m,y,x,_){if((m%=this.length)&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),y<this.length-m){const b=new d.CellData;for(let w=this.length-m-y-1;w>=0;--w)this.setCell(m+y+w,this.loadCell(m+w,b));for(let w=0;w<y;++w)this.setCell(m+w,x)}else for(let b=m;b<this.length;++b)this.setCell(b,x);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs)}deleteCells(m,y,x,_){if(m%=this.length,y<this.length-m){const b=new d.CellData;for(let w=0;w<this.length-m-y;++w)this.setCell(m+w,this.loadCell(m+y+w,b));for(let w=this.length-y;w<this.length;++w)this.setCell(w,x)}else for(let b=m;b<this.length;++b)this.setCell(b,x);m&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),this.getWidth(m)!==0||this.hasContent(m)||this.setCellFromCodePoint(m,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs)}replaceCells(m,y,x,_,b=!1){if(b)for(m&&this.getWidth(m-1)===2&&!this.isProtected(m-1)&&this.setCellFromCodePoint(m-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),y<this.length&&this.getWidth(y-1)===2&&!this.isProtected(y)&&this.setCellFromCodePoint(y,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs);m<y&&m<this.length;)this.isProtected(m)||this.setCell(m,x),m++;else for(m&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),y<this.length&&this.getWidth(y-1)===2&&this.setCellFromCodePoint(y,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs);m<y&&m<this.length;)this.setCell(m++,x)}resize(m,y){if(m===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const x=3*m;if(m>this.length){if(this._data.buffer.byteLength>=4*x)this._data=new Uint32Array(this._data.buffer,0,x);else{const _=new Uint32Array(x);_.set(this._data),this._data=_}for(let _=this.length;_<m;++_)this.setCell(_,y)}else{this._data=this._data.subarray(0,x);const _=Object.keys(this._combined);for(let w=0;w<_.length;w++){const S=parseInt(_[w],10);S>=m&&delete this._combined[S]}const b=Object.keys(this._extendedAttrs);for(let w=0;w<b.length;w++){const S=parseInt(b[w],10);S>=m&&delete this._extendedAttrs[S]}}return this.length=m,4*x*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const m=new Uint32Array(this._data.length);return m.set(this._data),this._data=m,1}return 0}fill(m,y=!1){if(y)for(let x=0;x<this.length;++x)this.isProtected(x)||this.setCell(x,m);else{this._combined={},this._extendedAttrs={};for(let x=0;x<this.length;++x)this.setCell(x,m)}}copyFrom(m){this.length!==m.length?this._data=new Uint32Array(m._data):this._data.set(m._data),this.length=m.length,this._combined={};for(const y in m._combined)this._combined[y]=m._combined[y];this._extendedAttrs={};for(const y in m._extendedAttrs)this._extendedAttrs[y]=m._extendedAttrs[y];this.isWrapped=m.isWrapped}clone(){const m=new g(0);m._data=new Uint32Array(this._data),m.length=this.length;for(const y in this._combined)m._combined[y]=this._combined[y];for(const y in this._extendedAttrs)m._extendedAttrs[y]=this._extendedAttrs[y];return m.isWrapped=this.isWrapped,m}getTrimmedLength(){for(let m=this.length-1;m>=0;--m)if(4194303&this._data[3*m+0])return m+(this._data[3*m+0]>>22);return 0}getNoBgTrimmedLength(){for(let m=this.length-1;m>=0;--m)if(4194303&this._data[3*m+0]||50331648&this._data[3*m+2])return m+(this._data[3*m+0]>>22);return 0}copyCellsFrom(m,y,x,_,b){const w=m._data;if(b)for(let k=_-1;k>=0;k--){for(let C=0;C<3;C++)this._data[3*(x+k)+C]=w[3*(y+k)+C];268435456&w[3*(y+k)+2]&&(this._extendedAttrs[x+k]=m._extendedAttrs[y+k])}else for(let k=0;k<_;k++){for(let C=0;C<3;C++)this._data[3*(x+k)+C]=w[3*(y+k)+C];268435456&w[3*(y+k)+2]&&(this._extendedAttrs[x+k]=m._extendedAttrs[y+k])}const S=Object.keys(m._combined);for(let k=0;k<S.length;k++){const C=parseInt(S[k],10);C>=y&&(this._combined[C-y+x]=m._combined[C])}}translateToString(m=!1,y=0,x=this.length){m&&(x=Math.min(x,this.getTrimmedLength()));let _="";for(;y<x;){const b=this._data[3*y+0],w=2097151&b;_+=2097152&b?this._combined[y]:w?(0,f.stringFromCodePoint)(w):h.WHITESPACE_CELL_CHAR,y+=b>>22||1}return _}}o.BufferLine=g},4841:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getRangeLength=void 0,o.getRangeLength=function(l,c){if(l.start.y>l.end.y)throw new Error(`Buffer range end (${l.end.x}, ${l.end.y}) cannot be before start (${l.start.x}, ${l.start.y})`);return c*(l.end.y-l.start.y)+(l.end.x-l.start.x+1)}},4634:(a,o)=>{function l(c,d,h){if(d===c.length-1)return c[d].getTrimmedLength();const f=!c[d].hasContent(h-1)&&c[d].getWidth(h-1)===1,p=c[d+1].getWidth(0)===2;return f&&p?h-1:h}Object.defineProperty(o,"__esModule",{value:!0}),o.getWrappedLineTrimmedLength=o.reflowSmallerGetNewLineLengths=o.reflowLargerApplyNewLayout=o.reflowLargerCreateNewLayout=o.reflowLargerGetLinesToRemove=void 0,o.reflowLargerGetLinesToRemove=function(c,d,h,f,p){const g=[];for(let v=0;v<c.length-1;v++){let m=v,y=c.get(++m);if(!y.isWrapped)continue;const x=[c.get(v)];for(;m<c.length&&y.isWrapped;)x.push(y),y=c.get(++m);if(f>=v&&f<m){v+=x.length-1;continue}let _=0,b=l(x,_,d),w=1,S=0;for(;w<x.length;){const C=l(x,w,d),E=C-S,T=h-b,N=Math.min(E,T);x[_].copyCellsFrom(x[w],S,b,N,!1),b+=N,b===h&&(_++,b=0),S+=N,S===C&&(w++,S=0),b===0&&_!==0&&x[_-1].getWidth(h-1)===2&&(x[_].copyCellsFrom(x[_-1],h-1,b++,1,!1),x[_-1].setCell(h-1,p))}x[_].replaceCells(b,h,p);let k=0;for(let C=x.length-1;C>0&&(C>_||x[C].getTrimmedLength()===0);C--)k++;k>0&&(g.push(v+x.length-k),g.push(k)),v+=x.length-1}return g},o.reflowLargerCreateNewLayout=function(c,d){const h=[];let f=0,p=d[f],g=0;for(let v=0;v<c.length;v++)if(p===v){const m=d[++f];c.onDeleteEmitter.fire({index:v-g,amount:m}),v+=m-1,g+=m,p=d[++f]}else h.push(v);return{layout:h,countRemoved:g}},o.reflowLargerApplyNewLayout=function(c,d){const h=[];for(let f=0;f<d.length;f++)h.push(c.get(d[f]));for(let f=0;f<h.length;f++)c.set(f,h[f]);c.length=d.length},o.reflowSmallerGetNewLineLengths=function(c,d,h){const f=[],p=c.map((y,x)=>l(c,x,d)).reduce((y,x)=>y+x);let g=0,v=0,m=0;for(;m<p;){if(p-m<h){f.push(p-m);break}g+=h;const y=l(c,v,d);g>y&&(g-=y,v++);const x=c[v].getWidth(g-1)===2;x&&g--;const _=x?h-1:h;f.push(_),m+=_}return f},o.getWrappedLineTrimmedLength=l},5295:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferSet=void 0;const c=l(8460),d=l(844),h=l(9092);class f extends d.Disposable{constructor(g,v){super(),this._optionsService=g,this._bufferService=v,this._onBufferActivate=this.register(new c.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new h.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new h.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(g){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(g),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(g,v){this._normal.resize(g,v),this._alt.resize(g,v),this.setupTabStops(g)}setupTabStops(g){this._normal.setupTabStops(g),this._alt.setupTabStops(g)}}o.BufferSet=f},511:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CellData=void 0;const c=l(482),d=l(643),h=l(3734);class f extends h.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new h.ExtendedAttrs,this.combinedData=""}static fromCharData(g){const v=new f;return v.setFromCharData(g),v}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,c.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(g){this.fg=g[d.CHAR_DATA_ATTR_INDEX],this.bg=0;let v=!1;if(g[d.CHAR_DATA_CHAR_INDEX].length>2)v=!0;else if(g[d.CHAR_DATA_CHAR_INDEX].length===2){const m=g[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=m&&m<=56319){const y=g[d.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=y&&y<=57343?this.content=1024*(m-55296)+y-56320+65536|g[d.CHAR_DATA_WIDTH_INDEX]<<22:v=!0}else v=!0}else this.content=g[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|g[d.CHAR_DATA_WIDTH_INDEX]<<22;v&&(this.combinedData=g[d.CHAR_DATA_CHAR_INDEX],this.content=2097152|g[d.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.CellData=f},643:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WHITESPACE_CELL_CODE=o.WHITESPACE_CELL_WIDTH=o.WHITESPACE_CELL_CHAR=o.NULL_CELL_CODE=o.NULL_CELL_WIDTH=o.NULL_CELL_CHAR=o.CHAR_DATA_CODE_INDEX=o.CHAR_DATA_WIDTH_INDEX=o.CHAR_DATA_CHAR_INDEX=o.CHAR_DATA_ATTR_INDEX=o.DEFAULT_EXT=o.DEFAULT_ATTR=o.DEFAULT_COLOR=void 0,o.DEFAULT_COLOR=0,o.DEFAULT_ATTR=256|o.DEFAULT_COLOR<<9,o.DEFAULT_EXT=0,o.CHAR_DATA_ATTR_INDEX=0,o.CHAR_DATA_CHAR_INDEX=1,o.CHAR_DATA_WIDTH_INDEX=2,o.CHAR_DATA_CODE_INDEX=3,o.NULL_CELL_CHAR="",o.NULL_CELL_WIDTH=1,o.NULL_CELL_CODE=0,o.WHITESPACE_CELL_CHAR=" ",o.WHITESPACE_CELL_WIDTH=1,o.WHITESPACE_CELL_CODE=32},4863:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Marker=void 0;const c=l(8460),d=l(844);class h{get id(){return this._id}constructor(p){this.line=p,this.isDisposed=!1,this._disposables=[],this._id=h._nextId++,this._onDispose=this.register(new c.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,d.disposeArray)(this._disposables),this._disposables.length=0)}register(p){return this._disposables.push(p),p}}o.Marker=h,h._nextId=1},7116:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DEFAULT_CHARSET=o.CHARSETS=void 0,o.CHARSETS={},o.DEFAULT_CHARSET=o.CHARSETS.B,o.CHARSETS[0]={"`":"◆",a:"▒",b:"␉",c:"␌",d:"␍",e:"␊",f:"°",g:"±",h:"␤",i:"␋",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},o.CHARSETS.A={"#":"£"},o.CHARSETS.B=void 0,o.CHARSETS[4]={"#":"£","@":"¾","[":"ij","\\":"½","]":"|","{":"¨","|":"f","}":"¼","~":"´"},o.CHARSETS.C=o.CHARSETS[5]={"[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},o.CHARSETS.R={"#":"£","@":"à","[":"°","\\":"ç","]":"§","{":"é","|":"ù","}":"è","~":"¨"},o.CHARSETS.Q={"@":"à","[":"â","\\":"ç","]":"ê","^":"î","`":"ô","{":"é","|":"ù","}":"è","~":"û"},o.CHARSETS.K={"@":"§","[":"Ä","\\":"Ö","]":"Ü","{":"ä","|":"ö","}":"ü","~":"ß"},o.CHARSETS.Y={"#":"£","@":"§","[":"°","\\":"ç","]":"é","`":"ù","{":"à","|":"ò","}":"è","~":"ì"},o.CHARSETS.E=o.CHARSETS[6]={"@":"Ä","[":"Æ","\\":"Ø","]":"Å","^":"Ü","`":"ä","{":"æ","|":"ø","}":"å","~":"ü"},o.CHARSETS.Z={"#":"£","@":"§","[":"¡","\\":"Ñ","]":"¿","{":"°","|":"ñ","}":"ç"},o.CHARSETS.H=o.CHARSETS[7]={"@":"É","[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},o.CHARSETS["="]={"#":"ù","@":"à","[":"é","\\":"ç","]":"ê","^":"î",_:"è","`":"ô","{":"ä","|":"ö","}":"ü","~":"û"}},2584:(a,o)=>{var l,c,d;Object.defineProperty(o,"__esModule",{value:!0}),o.C1_ESCAPED=o.C1=o.C0=void 0,function(h){h.NUL="\0",h.SOH="",h.STX="",h.ETX="",h.EOT="",h.ENQ="",h.ACK="",h.BEL="\x07",h.BS="\b",h.HT="	",h.LF=`
`,h.VT="\v",h.FF="\f",h.CR="\r",h.SO="",h.SI="",h.DLE="",h.DC1="",h.DC2="",h.DC3="",h.DC4="",h.NAK="",h.SYN="",h.ETB="",h.CAN="",h.EM="",h.SUB="",h.ESC="\x1B",h.FS="",h.GS="",h.RS="",h.US="",h.SP=" ",h.DEL=""}(l||(o.C0=l={})),function(h){h.PAD="",h.HOP="",h.BPH="",h.NBH="",h.IND="",h.NEL="",h.SSA="",h.ESA="",h.HTS="",h.HTJ="",h.VTS="",h.PLD="",h.PLU="",h.RI="",h.SS2="",h.SS3="",h.DCS="",h.PU1="",h.PU2="",h.STS="",h.CCH="",h.MW="",h.SPA="",h.EPA="",h.SOS="",h.SGCI="",h.SCI="",h.CSI="",h.ST="",h.OSC="",h.PM="",h.APC=""}(c||(o.C1=c={})),function(h){h.ST=`${l.ESC}\\`}(d||(o.C1_ESCAPED=d={}))},7399:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.evaluateKeyboardEvent=void 0;const c=l(2584),d={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};o.evaluateKeyboardEvent=function(h,f,p,g){const v={type:0,cancel:!1,key:void 0},m=(h.shiftKey?1:0)|(h.altKey?2:0)|(h.ctrlKey?4:0)|(h.metaKey?8:0);switch(h.keyCode){case 0:h.key==="UIKeyInputUpArrow"?v.key=f?c.C0.ESC+"OA":c.C0.ESC+"[A":h.key==="UIKeyInputLeftArrow"?v.key=f?c.C0.ESC+"OD":c.C0.ESC+"[D":h.key==="UIKeyInputRightArrow"?v.key=f?c.C0.ESC+"OC":c.C0.ESC+"[C":h.key==="UIKeyInputDownArrow"&&(v.key=f?c.C0.ESC+"OB":c.C0.ESC+"[B");break;case 8:if(h.altKey){v.key=c.C0.ESC+c.C0.DEL;break}v.key=c.C0.DEL;break;case 9:if(h.shiftKey){v.key=c.C0.ESC+"[Z";break}v.key=c.C0.HT,v.cancel=!0;break;case 13:v.key=h.altKey?c.C0.ESC+c.C0.CR:c.C0.CR,v.cancel=!0;break;case 27:v.key=c.C0.ESC,h.altKey&&(v.key=c.C0.ESC+c.C0.ESC),v.cancel=!0;break;case 37:if(h.metaKey)break;m?(v.key=c.C0.ESC+"[1;"+(m+1)+"D",v.key===c.C0.ESC+"[1;3D"&&(v.key=c.C0.ESC+(p?"b":"[1;5D"))):v.key=f?c.C0.ESC+"OD":c.C0.ESC+"[D";break;case 39:if(h.metaKey)break;m?(v.key=c.C0.ESC+"[1;"+(m+1)+"C",v.key===c.C0.ESC+"[1;3C"&&(v.key=c.C0.ESC+(p?"f":"[1;5C"))):v.key=f?c.C0.ESC+"OC":c.C0.ESC+"[C";break;case 38:if(h.metaKey)break;m?(v.key=c.C0.ESC+"[1;"+(m+1)+"A",p||v.key!==c.C0.ESC+"[1;3A"||(v.key=c.C0.ESC+"[1;5A")):v.key=f?c.C0.ESC+"OA":c.C0.ESC+"[A";break;case 40:if(h.metaKey)break;m?(v.key=c.C0.ESC+"[1;"+(m+1)+"B",p||v.key!==c.C0.ESC+"[1;3B"||(v.key=c.C0.ESC+"[1;5B")):v.key=f?c.C0.ESC+"OB":c.C0.ESC+"[B";break;case 45:h.shiftKey||h.ctrlKey||(v.key=c.C0.ESC+"[2~");break;case 46:v.key=m?c.C0.ESC+"[3;"+(m+1)+"~":c.C0.ESC+"[3~";break;case 36:v.key=m?c.C0.ESC+"[1;"+(m+1)+"H":f?c.C0.ESC+"OH":c.C0.ESC+"[H";break;case 35:v.key=m?c.C0.ESC+"[1;"+(m+1)+"F":f?c.C0.ESC+"OF":c.C0.ESC+"[F";break;case 33:h.shiftKey?v.type=2:h.ctrlKey?v.key=c.C0.ESC+"[5;"+(m+1)+"~":v.key=c.C0.ESC+"[5~";break;case 34:h.shiftKey?v.type=3:h.ctrlKey?v.key=c.C0.ESC+"[6;"+(m+1)+"~":v.key=c.C0.ESC+"[6~";break;case 112:v.key=m?c.C0.ESC+"[1;"+(m+1)+"P":c.C0.ESC+"OP";break;case 113:v.key=m?c.C0.ESC+"[1;"+(m+1)+"Q":c.C0.ESC+"OQ";break;case 114:v.key=m?c.C0.ESC+"[1;"+(m+1)+"R":c.C0.ESC+"OR";break;case 115:v.key=m?c.C0.ESC+"[1;"+(m+1)+"S":c.C0.ESC+"OS";break;case 116:v.key=m?c.C0.ESC+"[15;"+(m+1)+"~":c.C0.ESC+"[15~";break;case 117:v.key=m?c.C0.ESC+"[17;"+(m+1)+"~":c.C0.ESC+"[17~";break;case 118:v.key=m?c.C0.ESC+"[18;"+(m+1)+"~":c.C0.ESC+"[18~";break;case 119:v.key=m?c.C0.ESC+"[19;"+(m+1)+"~":c.C0.ESC+"[19~";break;case 120:v.key=m?c.C0.ESC+"[20;"+(m+1)+"~":c.C0.ESC+"[20~";break;case 121:v.key=m?c.C0.ESC+"[21;"+(m+1)+"~":c.C0.ESC+"[21~";break;case 122:v.key=m?c.C0.ESC+"[23;"+(m+1)+"~":c.C0.ESC+"[23~";break;case 123:v.key=m?c.C0.ESC+"[24;"+(m+1)+"~":c.C0.ESC+"[24~";break;default:if(!h.ctrlKey||h.shiftKey||h.altKey||h.metaKey)if(p&&!g||!h.altKey||h.metaKey)!p||h.altKey||h.ctrlKey||h.shiftKey||!h.metaKey?h.key&&!h.ctrlKey&&!h.altKey&&!h.metaKey&&h.keyCode>=48&&h.key.length===1?v.key=h.key:h.key&&h.ctrlKey&&(h.key==="_"&&(v.key=c.C0.US),h.key==="@"&&(v.key=c.C0.NUL)):h.keyCode===65&&(v.type=1);else{const y=d[h.keyCode],x=y==null?void 0:y[h.shiftKey?1:0];if(x)v.key=c.C0.ESC+x;else if(h.keyCode>=65&&h.keyCode<=90){const _=h.ctrlKey?h.keyCode-64:h.keyCode+32;let b=String.fromCharCode(_);h.shiftKey&&(b=b.toUpperCase()),v.key=c.C0.ESC+b}else if(h.keyCode===32)v.key=c.C0.ESC+(h.ctrlKey?c.C0.NUL:" ");else if(h.key==="Dead"&&h.code.startsWith("Key")){let _=h.code.slice(3,4);h.shiftKey||(_=_.toLowerCase()),v.key=c.C0.ESC+_,v.cancel=!0}}else h.keyCode>=65&&h.keyCode<=90?v.key=String.fromCharCode(h.keyCode-64):h.keyCode===32?v.key=c.C0.NUL:h.keyCode>=51&&h.keyCode<=55?v.key=String.fromCharCode(h.keyCode-51+27):h.keyCode===56?v.key=c.C0.DEL:h.keyCode===219?v.key=c.C0.ESC:h.keyCode===220?v.key=c.C0.FS:h.keyCode===221&&(v.key=c.C0.GS)}return v}},482:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Utf8ToUtf32=o.StringToUtf32=o.utf32ToString=o.stringFromCodePoint=void 0,o.stringFromCodePoint=function(l){return l>65535?(l-=65536,String.fromCharCode(55296+(l>>10))+String.fromCharCode(l%1024+56320)):String.fromCharCode(l)},o.utf32ToString=function(l,c=0,d=l.length){let h="";for(let f=c;f<d;++f){let p=l[f];p>65535?(p-=65536,h+=String.fromCharCode(55296+(p>>10))+String.fromCharCode(p%1024+56320)):h+=String.fromCharCode(p)}return h},o.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(l,c){const d=l.length;if(!d)return 0;let h=0,f=0;if(this._interim){const p=l.charCodeAt(f++);56320<=p&&p<=57343?c[h++]=1024*(this._interim-55296)+p-56320+65536:(c[h++]=this._interim,c[h++]=p),this._interim=0}for(let p=f;p<d;++p){const g=l.charCodeAt(p);if(55296<=g&&g<=56319){if(++p>=d)return this._interim=g,h;const v=l.charCodeAt(p);56320<=v&&v<=57343?c[h++]=1024*(g-55296)+v-56320+65536:(c[h++]=g,c[h++]=v)}else g!==65279&&(c[h++]=g)}return h}},o.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(l,c){const d=l.length;if(!d)return 0;let h,f,p,g,v=0,m=0,y=0;if(this.interim[0]){let b=!1,w=this.interim[0];w&=(224&w)==192?31:(240&w)==224?15:7;let S,k=0;for(;(S=63&this.interim[++k])&&k<4;)w<<=6,w|=S;const C=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,E=C-k;for(;y<E;){if(y>=d)return 0;if(S=l[y++],(192&S)!=128){y--,b=!0;break}this.interim[k++]=S,w<<=6,w|=63&S}b||(C===2?w<128?y--:c[v++]=w:C===3?w<2048||w>=55296&&w<=57343||w===65279||(c[v++]=w):w<65536||w>1114111||(c[v++]=w)),this.interim.fill(0)}const x=d-4;let _=y;for(;_<d;){for(;!(!(_<x)||128&(h=l[_])||128&(f=l[_+1])||128&(p=l[_+2])||128&(g=l[_+3]));)c[v++]=h,c[v++]=f,c[v++]=p,c[v++]=g,_+=4;if(h=l[_++],h<128)c[v++]=h;else if((224&h)==192){if(_>=d)return this.interim[0]=h,v;if(f=l[_++],(192&f)!=128){_--;continue}if(m=(31&h)<<6|63&f,m<128){_--;continue}c[v++]=m}else if((240&h)==224){if(_>=d)return this.interim[0]=h,v;if(f=l[_++],(192&f)!=128){_--;continue}if(_>=d)return this.interim[0]=h,this.interim[1]=f,v;if(p=l[_++],(192&p)!=128){_--;continue}if(m=(15&h)<<12|(63&f)<<6|63&p,m<2048||m>=55296&&m<=57343||m===65279)continue;c[v++]=m}else if((248&h)==240){if(_>=d)return this.interim[0]=h,v;if(f=l[_++],(192&f)!=128){_--;continue}if(_>=d)return this.interim[0]=h,this.interim[1]=f,v;if(p=l[_++],(192&p)!=128){_--;continue}if(_>=d)return this.interim[0]=h,this.interim[1]=f,this.interim[2]=p,v;if(g=l[_++],(192&g)!=128){_--;continue}if(m=(7&h)<<18|(63&f)<<12|(63&p)<<6|63&g,m<65536||m>1114111)continue;c[v++]=m}}return v}}},225:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeV6=void 0;const l=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],c=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let d;o.UnicodeV6=class{constructor(){if(this.version="6",!d){d=new Uint8Array(65536),d.fill(1),d[0]=0,d.fill(0,1,32),d.fill(0,127,160),d.fill(2,4352,4448),d[9001]=2,d[9002]=2,d.fill(2,11904,42192),d[12351]=1,d.fill(2,44032,55204),d.fill(2,63744,64256),d.fill(2,65040,65050),d.fill(2,65072,65136),d.fill(2,65280,65377),d.fill(2,65504,65511);for(let h=0;h<l.length;++h)d.fill(0,l[h][0],l[h][1]+1)}}wcwidth(h){return h<32?0:h<127?1:h<65536?d[h]:function(f,p){let g,v=0,m=p.length-1;if(f<p[0][0]||f>p[m][1])return!1;for(;m>=v;)if(g=v+m>>1,f>p[g][1])v=g+1;else{if(!(f<p[g][0]))return!0;m=g-1}return!1}(h,c)?0:h>=131072&&h<=196605||h>=196608&&h<=262141?2:1}}},5981:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WriteBuffer=void 0;const c=l(8460),d=l(844);class h extends d.Disposable{constructor(p){super(),this._action=p,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new c.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(p,g){if(g!==void 0&&this._syncCalls>g)return void(this._syncCalls=0);if(this._pendingData+=p.length,this._writeBuffer.push(p),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let v;for(this._isSyncWriting=!0;v=this._writeBuffer.shift();){this._action(v);const m=this._callbacks.shift();m&&m()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(p,g){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=p.length,this._writeBuffer.push(p),this._callbacks.push(g),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=p.length,this._writeBuffer.push(p),this._callbacks.push(g)}_innerWrite(p=0,g=!0){const v=p||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const m=this._writeBuffer[this._bufferOffset],y=this._action(m,g);if(y){const _=b=>Date.now()-v>=12?setTimeout(()=>this._innerWrite(0,b)):this._innerWrite(v,b);return void y.catch(b=>(queueMicrotask(()=>{throw b}),Promise.resolve(!1))).then(_)}const x=this._callbacks[this._bufferOffset];if(x&&x(),this._bufferOffset++,this._pendingData-=m.length,Date.now()-v>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}o.WriteBuffer=h},5941:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.toRgbString=o.parseColor=void 0;const l=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,c=/^[\da-f]+$/;function d(h,f){const p=h.toString(16),g=p.length<2?"0"+p:p;switch(f){case 4:return p[0];case 8:return g;case 12:return(g+g).slice(0,3);default:return g+g}}o.parseColor=function(h){if(!h)return;let f=h.toLowerCase();if(f.indexOf("rgb:")===0){f=f.slice(4);const p=l.exec(f);if(p){const g=p[1]?15:p[4]?255:p[7]?4095:65535;return[Math.round(parseInt(p[1]||p[4]||p[7]||p[10],16)/g*255),Math.round(parseInt(p[2]||p[5]||p[8]||p[11],16)/g*255),Math.round(parseInt(p[3]||p[6]||p[9]||p[12],16)/g*255)]}}else if(f.indexOf("#")===0&&(f=f.slice(1),c.exec(f)&&[3,6,9,12].includes(f.length))){const p=f.length/3,g=[0,0,0];for(let v=0;v<3;++v){const m=parseInt(f.slice(p*v,p*v+p),16);g[v]=p===1?m<<4:p===2?m:p===3?m>>4:m>>8}return g}},o.toRgbString=function(h,f=16){const[p,g,v]=h;return`rgb:${d(p,f)}/${d(g,f)}/${d(v,f)}`}},5770:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PAYLOAD_LIMIT=void 0,o.PAYLOAD_LIMIT=1e7},6351:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DcsHandler=o.DcsParser=void 0;const c=l(482),d=l(8742),h=l(5770),f=[];o.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=f,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=f}registerHandler(g,v){this._handlers[g]===void 0&&(this._handlers[g]=[]);const m=this._handlers[g];return m.push(v),{dispose:()=>{const y=m.indexOf(v);y!==-1&&m.splice(y,1)}}}clearHandler(g){this._handlers[g]&&delete this._handlers[g]}setHandlerFallback(g){this._handlerFb=g}reset(){if(this._active.length)for(let g=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;g>=0;--g)this._active[g].unhook(!1);this._stack.paused=!1,this._active=f,this._ident=0}hook(g,v){if(this.reset(),this._ident=g,this._active=this._handlers[g]||f,this._active.length)for(let m=this._active.length-1;m>=0;m--)this._active[m].hook(v);else this._handlerFb(this._ident,"HOOK",v)}put(g,v,m){if(this._active.length)for(let y=this._active.length-1;y>=0;y--)this._active[y].put(g,v,m);else this._handlerFb(this._ident,"PUT",(0,c.utf32ToString)(g,v,m))}unhook(g,v=!0){if(this._active.length){let m=!1,y=this._active.length-1,x=!1;if(this._stack.paused&&(y=this._stack.loopPosition-1,m=v,x=this._stack.fallThrough,this._stack.paused=!1),!x&&m===!1){for(;y>=0&&(m=this._active[y].unhook(g),m!==!0);y--)if(m instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!1,m;y--}for(;y>=0;y--)if(m=this._active[y].unhook(!1),m instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!0,m}else this._handlerFb(this._ident,"UNHOOK",g);this._active=f,this._ident=0}};const p=new d.Params;p.addParam(0),o.DcsHandler=class{constructor(g){this._handler=g,this._data="",this._params=p,this._hitLimit=!1}hook(g){this._params=g.length>1||g.params[0]?g.clone():p,this._data="",this._hitLimit=!1}put(g,v,m){this._hitLimit||(this._data+=(0,c.utf32ToString)(g,v,m),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(g){let v=!1;if(this._hitLimit)v=!1;else if(g&&(v=this._handler(this._data,this._params),v instanceof Promise))return v.then(m=>(this._params=p,this._data="",this._hitLimit=!1,m));return this._params=p,this._data="",this._hitLimit=!1,v}}},2015:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.EscapeSequenceParser=o.VT500_TRANSITION_TABLE=o.TransitionTable=void 0;const c=l(844),d=l(8742),h=l(6242),f=l(6351);class p{constructor(y){this.table=new Uint8Array(y)}setDefault(y,x){this.table.fill(y<<4|x)}add(y,x,_,b){this.table[x<<8|y]=_<<4|b}addMany(y,x,_,b){for(let w=0;w<y.length;w++)this.table[x<<8|y[w]]=_<<4|b}}o.TransitionTable=p;const g=160;o.VT500_TRANSITION_TABLE=function(){const m=new p(4095),y=Array.apply(null,Array(256)).map((k,C)=>C),x=(k,C)=>y.slice(k,C),_=x(32,127),b=x(0,24);b.push(25),b.push.apply(b,x(28,32));const w=x(0,14);let S;for(S in m.setDefault(1,0),m.addMany(_,0,2,0),w)m.addMany([24,26,153,154],S,3,0),m.addMany(x(128,144),S,3,0),m.addMany(x(144,152),S,3,0),m.add(156,S,0,0),m.add(27,S,11,1),m.add(157,S,4,8),m.addMany([152,158,159],S,0,7),m.add(155,S,11,3),m.add(144,S,11,9);return m.addMany(b,0,3,0),m.addMany(b,1,3,1),m.add(127,1,0,1),m.addMany(b,8,0,8),m.addMany(b,3,3,3),m.add(127,3,0,3),m.addMany(b,4,3,4),m.add(127,4,0,4),m.addMany(b,6,3,6),m.addMany(b,5,3,5),m.add(127,5,0,5),m.addMany(b,2,3,2),m.add(127,2,0,2),m.add(93,1,4,8),m.addMany(_,8,5,8),m.add(127,8,5,8),m.addMany([156,27,24,26,7],8,6,0),m.addMany(x(28,32),8,0,8),m.addMany([88,94,95],1,0,7),m.addMany(_,7,0,7),m.addMany(b,7,0,7),m.add(156,7,0,0),m.add(127,7,0,7),m.add(91,1,11,3),m.addMany(x(64,127),3,7,0),m.addMany(x(48,60),3,8,4),m.addMany([60,61,62,63],3,9,4),m.addMany(x(48,60),4,8,4),m.addMany(x(64,127),4,7,0),m.addMany([60,61,62,63],4,0,6),m.addMany(x(32,64),6,0,6),m.add(127,6,0,6),m.addMany(x(64,127),6,0,0),m.addMany(x(32,48),3,9,5),m.addMany(x(32,48),5,9,5),m.addMany(x(48,64),5,0,6),m.addMany(x(64,127),5,7,0),m.addMany(x(32,48),4,9,5),m.addMany(x(32,48),1,9,2),m.addMany(x(32,48),2,9,2),m.addMany(x(48,127),2,10,0),m.addMany(x(48,80),1,10,0),m.addMany(x(81,88),1,10,0),m.addMany([89,90,92],1,10,0),m.addMany(x(96,127),1,10,0),m.add(80,1,11,9),m.addMany(b,9,0,9),m.add(127,9,0,9),m.addMany(x(28,32),9,0,9),m.addMany(x(32,48),9,9,12),m.addMany(x(48,60),9,8,10),m.addMany([60,61,62,63],9,9,10),m.addMany(b,11,0,11),m.addMany(x(32,128),11,0,11),m.addMany(x(28,32),11,0,11),m.addMany(b,10,0,10),m.add(127,10,0,10),m.addMany(x(28,32),10,0,10),m.addMany(x(48,60),10,8,10),m.addMany([60,61,62,63],10,0,11),m.addMany(x(32,48),10,9,12),m.addMany(b,12,0,12),m.add(127,12,0,12),m.addMany(x(28,32),12,0,12),m.addMany(x(32,48),12,9,12),m.addMany(x(48,64),12,0,11),m.addMany(x(64,127),12,12,13),m.addMany(x(64,127),10,12,13),m.addMany(x(64,127),9,12,13),m.addMany(b,13,13,13),m.addMany(_,13,13,13),m.add(127,13,0,13),m.addMany([27,156,24,26],13,14,0),m.add(g,0,2,0),m.add(g,8,5,8),m.add(g,6,0,6),m.add(g,11,0,11),m.add(g,13,13,13),m}();class v extends c.Disposable{constructor(y=o.VT500_TRANSITION_TABLE){super(),this._transitions=y,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new d.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(x,_,b)=>{},this._executeHandlerFb=x=>{},this._csiHandlerFb=(x,_)=>{},this._escHandlerFb=x=>{},this._errorHandlerFb=x=>x,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,c.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new h.OscParser),this._dcsParser=this.register(new f.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(y,x=[64,126]){let _=0;if(y.prefix){if(y.prefix.length>1)throw new Error("only one byte as prefix supported");if(_=y.prefix.charCodeAt(0),_&&60>_||_>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(y.intermediates){if(y.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let w=0;w<y.intermediates.length;++w){const S=y.intermediates.charCodeAt(w);if(32>S||S>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");_<<=8,_|=S}}if(y.final.length!==1)throw new Error("final must be a single byte");const b=y.final.charCodeAt(0);if(x[0]>b||b>x[1])throw new Error(`final must be in range ${x[0]} .. ${x[1]}`);return _<<=8,_|=b,_}identToString(y){const x=[];for(;y;)x.push(String.fromCharCode(255&y)),y>>=8;return x.reverse().join("")}setPrintHandler(y){this._printHandler=y}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(y,x){const _=this._identifier(y,[48,126]);this._escHandlers[_]===void 0&&(this._escHandlers[_]=[]);const b=this._escHandlers[_];return b.push(x),{dispose:()=>{const w=b.indexOf(x);w!==-1&&b.splice(w,1)}}}clearEscHandler(y){this._escHandlers[this._identifier(y,[48,126])]&&delete this._escHandlers[this._identifier(y,[48,126])]}setEscHandlerFallback(y){this._escHandlerFb=y}setExecuteHandler(y,x){this._executeHandlers[y.charCodeAt(0)]=x}clearExecuteHandler(y){this._executeHandlers[y.charCodeAt(0)]&&delete this._executeHandlers[y.charCodeAt(0)]}setExecuteHandlerFallback(y){this._executeHandlerFb=y}registerCsiHandler(y,x){const _=this._identifier(y);this._csiHandlers[_]===void 0&&(this._csiHandlers[_]=[]);const b=this._csiHandlers[_];return b.push(x),{dispose:()=>{const w=b.indexOf(x);w!==-1&&b.splice(w,1)}}}clearCsiHandler(y){this._csiHandlers[this._identifier(y)]&&delete this._csiHandlers[this._identifier(y)]}setCsiHandlerFallback(y){this._csiHandlerFb=y}registerDcsHandler(y,x){return this._dcsParser.registerHandler(this._identifier(y),x)}clearDcsHandler(y){this._dcsParser.clearHandler(this._identifier(y))}setDcsHandlerFallback(y){this._dcsParser.setHandlerFallback(y)}registerOscHandler(y,x){return this._oscParser.registerHandler(y,x)}clearOscHandler(y){this._oscParser.clearHandler(y)}setOscHandlerFallback(y){this._oscParser.setHandlerFallback(y)}setErrorHandler(y){this._errorHandler=y}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(y,x,_,b,w){this._parseStack.state=y,this._parseStack.handlers=x,this._parseStack.handlerPos=_,this._parseStack.transition=b,this._parseStack.chunkPos=w}parse(y,x,_){let b,w=0,S=0,k=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,k=this._parseStack.chunkPos+1;else{if(_===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const C=this._parseStack.handlers;let E=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(_===!1&&E>-1){for(;E>=0&&(b=C[E](this._params),b!==!0);E--)if(b instanceof Promise)return this._parseStack.handlerPos=E,b}this._parseStack.handlers=[];break;case 4:if(_===!1&&E>-1){for(;E>=0&&(b=C[E](),b!==!0);E--)if(b instanceof Promise)return this._parseStack.handlerPos=E,b}this._parseStack.handlers=[];break;case 6:if(w=y[this._parseStack.chunkPos],b=this._dcsParser.unhook(w!==24&&w!==26,_),b)return b;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(w=y[this._parseStack.chunkPos],b=this._oscParser.end(w!==24&&w!==26,_),b)return b;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,k=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let C=k;C<x;++C){switch(w=y[C],S=this._transitions.table[this.currentState<<8|(w<160?w:g)],S>>4){case 2:for(let P=C+1;;++P){if(P>=x||(w=y[P])<32||w>126&&w<g){this._printHandler(y,C,P),C=P-1;break}if(++P>=x||(w=y[P])<32||w>126&&w<g){this._printHandler(y,C,P),C=P-1;break}if(++P>=x||(w=y[P])<32||w>126&&w<g){this._printHandler(y,C,P),C=P-1;break}if(++P>=x||(w=y[P])<32||w>126&&w<g){this._printHandler(y,C,P),C=P-1;break}}break;case 3:this._executeHandlers[w]?this._executeHandlers[w]():this._executeHandlerFb(w),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:C,code:w,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const E=this._csiHandlers[this._collect<<8|w];let T=E?E.length-1:-1;for(;T>=0&&(b=E[T](this._params),b!==!0);T--)if(b instanceof Promise)return this._preserveStack(3,E,T,S,C),b;T<0&&this._csiHandlerFb(this._collect<<8|w,this._params),this.precedingCodepoint=0;break;case 8:do switch(w){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(w-48)}while(++C<x&&(w=y[C])>47&&w<60);C--;break;case 9:this._collect<<=8,this._collect|=w;break;case 10:const N=this._escHandlers[this._collect<<8|w];let R=N?N.length-1:-1;for(;R>=0&&(b=N[R](),b!==!0);R--)if(b instanceof Promise)return this._preserveStack(4,N,R,S,C),b;R<0&&this._escHandlerFb(this._collect<<8|w),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|w,this._params);break;case 13:for(let P=C+1;;++P)if(P>=x||(w=y[P])===24||w===26||w===27||w>127&&w<g){this._dcsParser.put(y,C,P),C=P-1;break}break;case 14:if(b=this._dcsParser.unhook(w!==24&&w!==26),b)return this._preserveStack(6,[],0,S,C),b;w===27&&(S|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let P=C+1;;P++)if(P>=x||(w=y[P])<32||w>127&&w<g){this._oscParser.put(y,C,P),C=P-1;break}break;case 6:if(b=this._oscParser.end(w!==24&&w!==26),b)return this._preserveStack(5,[],0,S,C),b;w===27&&(S|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&S}}}o.EscapeSequenceParser=v},6242:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OscHandler=o.OscParser=void 0;const c=l(5770),d=l(482),h=[];o.OscParser=class{constructor(){this._state=0,this._active=h,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(f,p){this._handlers[f]===void 0&&(this._handlers[f]=[]);const g=this._handlers[f];return g.push(p),{dispose:()=>{const v=g.indexOf(p);v!==-1&&g.splice(v,1)}}}clearHandler(f){this._handlers[f]&&delete this._handlers[f]}setHandlerFallback(f){this._handlerFb=f}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=h}reset(){if(this._state===2)for(let f=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;f>=0;--f)this._active[f].end(!1);this._stack.paused=!1,this._active=h,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||h,this._active.length)for(let f=this._active.length-1;f>=0;f--)this._active[f].start();else this._handlerFb(this._id,"START")}_put(f,p,g){if(this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].put(f,p,g);else this._handlerFb(this._id,"PUT",(0,d.utf32ToString)(f,p,g))}start(){this.reset(),this._state=1}put(f,p,g){if(this._state!==3){if(this._state===1)for(;p<g;){const v=f[p++];if(v===59){this._state=2,this._start();break}if(v<48||57<v)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+v-48}this._state===2&&g-p>0&&this._put(f,p,g)}}end(f,p=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let g=!1,v=this._active.length-1,m=!1;if(this._stack.paused&&(v=this._stack.loopPosition-1,g=p,m=this._stack.fallThrough,this._stack.paused=!1),!m&&g===!1){for(;v>=0&&(g=this._active[v].end(f),g!==!0);v--)if(g instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=v,this._stack.fallThrough=!1,g;v--}for(;v>=0;v--)if(g=this._active[v].end(!1),g instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=v,this._stack.fallThrough=!0,g}else this._handlerFb(this._id,"END",f);this._active=h,this._id=-1,this._state=0}}},o.OscHandler=class{constructor(f){this._handler=f,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(f,p,g){this._hitLimit||(this._data+=(0,d.utf32ToString)(f,p,g),this._data.length>c.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(f){let p=!1;if(this._hitLimit)p=!1;else if(f&&(p=this._handler(this._data),p instanceof Promise))return p.then(g=>(this._data="",this._hitLimit=!1,g));return this._data="",this._hitLimit=!1,p}}},8742:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Params=void 0;const l=2147483647;class c{static fromArray(h){const f=new c;if(!h.length)return f;for(let p=Array.isArray(h[0])?1:0;p<h.length;++p){const g=h[p];if(Array.isArray(g))for(let v=0;v<g.length;++v)f.addSubParam(g[v]);else f.addParam(g)}return f}constructor(h=32,f=32){if(this.maxLength=h,this.maxSubParamsLength=f,f>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(h),this.length=0,this._subParams=new Int32Array(f),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(h),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const h=new c(this.maxLength,this.maxSubParamsLength);return h.params.set(this.params),h.length=this.length,h._subParams.set(this._subParams),h._subParamsLength=this._subParamsLength,h._subParamsIdx.set(this._subParamsIdx),h._rejectDigits=this._rejectDigits,h._rejectSubDigits=this._rejectSubDigits,h._digitIsSub=this._digitIsSub,h}toArray(){const h=[];for(let f=0;f<this.length;++f){h.push(this.params[f]);const p=this._subParamsIdx[f]>>8,g=255&this._subParamsIdx[f];g-p>0&&h.push(Array.prototype.slice.call(this._subParams,p,g))}return h}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(h){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=h>l?l:h}}addSubParam(h){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=h>l?l:h,this._subParamsIdx[this.length-1]++}}hasSubParams(h){return(255&this._subParamsIdx[h])-(this._subParamsIdx[h]>>8)>0}getSubParams(h){const f=this._subParamsIdx[h]>>8,p=255&this._subParamsIdx[h];return p-f>0?this._subParams.subarray(f,p):null}getSubParamsAll(){const h={};for(let f=0;f<this.length;++f){const p=this._subParamsIdx[f]>>8,g=255&this._subParamsIdx[f];g-p>0&&(h[f]=this._subParams.slice(p,g))}return h}addDigit(h){let f;if(this._rejectDigits||!(f=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const p=this._digitIsSub?this._subParams:this.params,g=p[f-1];p[f-1]=~g?Math.min(10*g+h,l):h}}o.Params=c},5741:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AddonManager=void 0,o.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let l=this._addons.length-1;l>=0;l--)this._addons[l].instance.dispose()}loadAddon(l,c){const d={instance:c,dispose:c.dispose,isDisposed:!1};this._addons.push(d),c.dispose=()=>this._wrappedAddonDispose(d),c.activate(l)}_wrappedAddonDispose(l){if(l.isDisposed)return;let c=-1;for(let d=0;d<this._addons.length;d++)if(this._addons[d]===l){c=d;break}if(c===-1)throw new Error("Could not dispose an addon that has not been loaded");l.isDisposed=!0,l.dispose.apply(l.instance),this._addons.splice(c,1)}}},8771:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferApiView=void 0;const c=l(3785),d=l(511);o.BufferApiView=class{constructor(h,f){this._buffer=h,this.type=f}init(h){return this._buffer=h,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(h){const f=this._buffer.lines.get(h);if(f)return new c.BufferLineApiView(f)}getNullCell(){return new d.CellData}}},3785:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLineApiView=void 0;const c=l(511);o.BufferLineApiView=class{constructor(d){this._line=d}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(d,h){if(!(d<0||d>=this._line.length))return h?(this._line.loadCell(d,h),h):this._line.loadCell(d,new c.CellData)}translateToString(d,h,f){return this._line.translateToString(d,h,f)}}},8285:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferNamespaceApi=void 0;const c=l(8771),d=l(8460),h=l(844);class f extends h.Disposable{constructor(g){super(),this._core=g,this._onBufferChange=this.register(new d.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new c.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new c.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}o.BufferNamespaceApi=f},7975:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ParserApi=void 0,o.ParserApi=class{constructor(l){this._core=l}registerCsiHandler(l,c){return this._core.registerCsiHandler(l,d=>c(d.toArray()))}addCsiHandler(l,c){return this.registerCsiHandler(l,c)}registerDcsHandler(l,c){return this._core.registerDcsHandler(l,(d,h)=>c(d,h.toArray()))}addDcsHandler(l,c){return this.registerDcsHandler(l,c)}registerEscHandler(l,c){return this._core.registerEscHandler(l,c)}addEscHandler(l,c){return this.registerEscHandler(l,c)}registerOscHandler(l,c){return this._core.registerOscHandler(l,c)}addOscHandler(l,c){return this.registerOscHandler(l,c)}}},7090:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeApi=void 0,o.UnicodeApi=class{constructor(l){this._core=l}register(l){this._core.unicodeService.register(l)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(l){this._core.unicodeService.activeVersion=l}}},744:function(a,o,l){var c=this&&this.__decorate||function(m,y,x,_){var b,w=arguments.length,S=w<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,x):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(m,y,x,_);else for(var k=m.length-1;k>=0;k--)(b=m[k])&&(S=(w<3?b(S):w>3?b(y,x,S):b(y,x))||S);return w>3&&S&&Object.defineProperty(y,x,S),S},d=this&&this.__param||function(m,y){return function(x,_){y(x,_,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferService=o.MINIMUM_ROWS=o.MINIMUM_COLS=void 0;const h=l(8460),f=l(844),p=l(5295),g=l(2585);o.MINIMUM_COLS=2,o.MINIMUM_ROWS=1;let v=o.BufferService=class extends f.Disposable{get buffer(){return this.buffers.active}constructor(m){super(),this.isUserScrolling=!1,this._onResize=this.register(new h.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new h.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(m.rawOptions.cols||0,o.MINIMUM_COLS),this.rows=Math.max(m.rawOptions.rows||0,o.MINIMUM_ROWS),this.buffers=this.register(new p.BufferSet(m,this))}resize(m,y){this.cols=m,this.rows=y,this.buffers.resize(m,y),this._onResize.fire({cols:m,rows:y})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(m,y=!1){const x=this.buffer;let _;_=this._cachedBlankLine,_&&_.length===this.cols&&_.getFg(0)===m.fg&&_.getBg(0)===m.bg||(_=x.getBlankLine(m,y),this._cachedBlankLine=_),_.isWrapped=y;const b=x.ybase+x.scrollTop,w=x.ybase+x.scrollBottom;if(x.scrollTop===0){const S=x.lines.isFull;w===x.lines.length-1?S?x.lines.recycle().copyFrom(_):x.lines.push(_.clone()):x.lines.splice(w+1,0,_.clone()),S?this.isUserScrolling&&(x.ydisp=Math.max(x.ydisp-1,0)):(x.ybase++,this.isUserScrolling||x.ydisp++)}else{const S=w-b+1;x.lines.shiftElements(b+1,S-1,-1),x.lines.set(w,_.clone())}this.isUserScrolling||(x.ydisp=x.ybase),this._onScroll.fire(x.ydisp)}scrollLines(m,y,x){const _=this.buffer;if(m<0){if(_.ydisp===0)return;this.isUserScrolling=!0}else m+_.ydisp>=_.ybase&&(this.isUserScrolling=!1);const b=_.ydisp;_.ydisp=Math.max(Math.min(_.ydisp+m,_.ybase),0),b!==_.ydisp&&(y||this._onScroll.fire(_.ydisp))}};o.BufferService=v=c([d(0,g.IOptionsService)],v)},7994:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CharsetService=void 0,o.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(l){this.glevel=l,this.charset=this._charsets[l]}setgCharset(l,c){this._charsets[l]=c,this.glevel===l&&(this.charset=c)}}},1753:function(a,o,l){var c=this&&this.__decorate||function(_,b,w,S){var k,C=arguments.length,E=C<3?b:S===null?S=Object.getOwnPropertyDescriptor(b,w):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(_,b,w,S);else for(var T=_.length-1;T>=0;T--)(k=_[T])&&(E=(C<3?k(E):C>3?k(b,w,E):k(b,w))||E);return C>3&&E&&Object.defineProperty(b,w,E),E},d=this&&this.__param||function(_,b){return function(w,S){b(w,S,_)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreMouseService=void 0;const h=l(2585),f=l(8460),p=l(844),g={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:_=>_.button!==4&&_.action===1&&(_.ctrl=!1,_.alt=!1,_.shift=!1,!0)},VT200:{events:19,restrict:_=>_.action!==32},DRAG:{events:23,restrict:_=>_.action!==32||_.button!==3},ANY:{events:31,restrict:_=>!0}};function v(_,b){let w=(_.ctrl?16:0)|(_.shift?4:0)|(_.alt?8:0);return _.button===4?(w|=64,w|=_.action):(w|=3&_.button,4&_.button&&(w|=64),8&_.button&&(w|=128),_.action===32?w|=32:_.action!==0||b||(w|=3)),w}const m=String.fromCharCode,y={DEFAULT:_=>{const b=[v(_,!1)+32,_.col+32,_.row+32];return b[0]>255||b[1]>255||b[2]>255?"":`\x1B[M${m(b[0])}${m(b[1])}${m(b[2])}`},SGR:_=>{const b=_.action===0&&_.button!==4?"m":"M";return`\x1B[<${v(_,!0)};${_.col};${_.row}${b}`},SGR_PIXELS:_=>{const b=_.action===0&&_.button!==4?"m":"M";return`\x1B[<${v(_,!0)};${_.x};${_.y}${b}`}};let x=o.CoreMouseService=class extends p.Disposable{constructor(_,b){super(),this._bufferService=_,this._coreService=b,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new f.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const w of Object.keys(g))this.addProtocol(w,g[w]);for(const w of Object.keys(y))this.addEncoding(w,y[w]);this.reset()}addProtocol(_,b){this._protocols[_]=b}addEncoding(_,b){this._encodings[_]=b}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(_){if(!this._protocols[_])throw new Error(`unknown protocol "${_}"`);this._activeProtocol=_,this._onProtocolChange.fire(this._protocols[_].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(_){if(!this._encodings[_])throw new Error(`unknown encoding "${_}"`);this._activeEncoding=_}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(_){if(_.col<0||_.col>=this._bufferService.cols||_.row<0||_.row>=this._bufferService.rows||_.button===4&&_.action===32||_.button===3&&_.action!==32||_.button!==4&&(_.action===2||_.action===3)||(_.col++,_.row++,_.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,_,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(_))return!1;const b=this._encodings[this._activeEncoding](_);return b&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(b):this._coreService.triggerDataEvent(b,!0)),this._lastEvent=_,!0}explainEvents(_){return{down:!!(1&_),up:!!(2&_),drag:!!(4&_),move:!!(8&_),wheel:!!(16&_)}}_equalEvents(_,b,w){if(w){if(_.x!==b.x||_.y!==b.y)return!1}else if(_.col!==b.col||_.row!==b.row)return!1;return _.button===b.button&&_.action===b.action&&_.ctrl===b.ctrl&&_.alt===b.alt&&_.shift===b.shift}};o.CoreMouseService=x=c([d(0,h.IBufferService),d(1,h.ICoreService)],x)},6975:function(a,o,l){var c=this&&this.__decorate||function(x,_,b,w){var S,k=arguments.length,C=k<3?_:w===null?w=Object.getOwnPropertyDescriptor(_,b):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(x,_,b,w);else for(var E=x.length-1;E>=0;E--)(S=x[E])&&(C=(k<3?S(C):k>3?S(_,b,C):S(_,b))||C);return k>3&&C&&Object.defineProperty(_,b,C),C},d=this&&this.__param||function(x,_){return function(b,w){_(b,w,x)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreService=void 0;const h=l(1439),f=l(8460),p=l(844),g=l(2585),v=Object.freeze({insertMode:!1}),m=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let y=o.CoreService=class extends p.Disposable{constructor(x,_,b){super(),this._bufferService=x,this._logService=_,this._optionsService=b,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new f.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new f.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new f.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new f.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,h.clone)(v),this.decPrivateModes=(0,h.clone)(m)}reset(){this.modes=(0,h.clone)(v),this.decPrivateModes=(0,h.clone)(m)}triggerDataEvent(x,_=!1){if(this._optionsService.rawOptions.disableStdin)return;const b=this._bufferService.buffer;_&&this._optionsService.rawOptions.scrollOnUserInput&&b.ybase!==b.ydisp&&this._onRequestScrollToBottom.fire(),_&&this._onUserInput.fire(),this._logService.debug(`sending data "${x}"`,()=>x.split("").map(w=>w.charCodeAt(0))),this._onData.fire(x)}triggerBinaryEvent(x){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${x}"`,()=>x.split("").map(_=>_.charCodeAt(0))),this._onBinary.fire(x))}};o.CoreService=y=c([d(0,g.IBufferService),d(1,g.ILogService),d(2,g.IOptionsService)],y)},9074:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DecorationService=void 0;const c=l(8055),d=l(8460),h=l(844),f=l(6106);let p=0,g=0;class v extends h.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new f.SortedList(x=>x==null?void 0:x.marker.line),this._onDecorationRegistered=this.register(new d.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new d.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,h.toDisposable)(()=>this.reset()))}registerDecoration(x){if(x.marker.isDisposed)return;const _=new m(x);if(_){const b=_.marker.onDispose(()=>_.dispose());_.onDispose(()=>{_&&(this._decorations.delete(_)&&this._onDecorationRemoved.fire(_),b.dispose())}),this._decorations.insert(_),this._onDecorationRegistered.fire(_)}return _}reset(){for(const x of this._decorations.values())x.dispose();this._decorations.clear()}*getDecorationsAtCell(x,_,b){var w,S,k;let C=0,E=0;for(const T of this._decorations.getKeyIterator(_))C=(w=T.options.x)!==null&&w!==void 0?w:0,E=C+((S=T.options.width)!==null&&S!==void 0?S:1),x>=C&&x<E&&(!b||((k=T.options.layer)!==null&&k!==void 0?k:"bottom")===b)&&(yield T)}forEachDecorationAtCell(x,_,b,w){this._decorations.forEachByKey(_,S=>{var k,C,E;p=(k=S.options.x)!==null&&k!==void 0?k:0,g=p+((C=S.options.width)!==null&&C!==void 0?C:1),x>=p&&x<g&&(!b||((E=S.options.layer)!==null&&E!==void 0?E:"bottom")===b)&&w(S)})}}o.DecorationService=v;class m extends h.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=c.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=c.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(x){super(),this.options=x,this.onRenderEmitter=this.register(new d.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new d.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=x.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.InstantiationService=o.ServiceCollection=void 0;const c=l(2585),d=l(8343);class h{constructor(...p){this._entries=new Map;for(const[g,v]of p)this.set(g,v)}set(p,g){const v=this._entries.get(p);return this._entries.set(p,g),v}forEach(p){for(const[g,v]of this._entries.entries())p(g,v)}has(p){return this._entries.has(p)}get(p){return this._entries.get(p)}}o.ServiceCollection=h,o.InstantiationService=class{constructor(){this._services=new h,this._services.set(c.IInstantiationService,this)}setService(f,p){this._services.set(f,p)}getService(f){return this._services.get(f)}createInstance(f,...p){const g=(0,d.getServiceDependencies)(f).sort((y,x)=>y.index-x.index),v=[];for(const y of g){const x=this._services.get(y.id);if(!x)throw new Error(`[createInstance] ${f.name} depends on UNKNOWN service ${y.id}.`);v.push(x)}const m=g.length>0?g[0].index:p.length;if(p.length!==m)throw new Error(`[createInstance] First service dependency of ${f.name} at position ${m+1} conflicts with ${p.length} static arguments`);return new f(...p,...v)}}},7866:function(a,o,l){var c=this&&this.__decorate||function(m,y,x,_){var b,w=arguments.length,S=w<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,x):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(m,y,x,_);else for(var k=m.length-1;k>=0;k--)(b=m[k])&&(S=(w<3?b(S):w>3?b(y,x,S):b(y,x))||S);return w>3&&S&&Object.defineProperty(y,x,S),S},d=this&&this.__param||function(m,y){return function(x,_){y(x,_,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.traceCall=o.setTraceLogger=o.LogService=void 0;const h=l(844),f=l(2585),p={trace:f.LogLevelEnum.TRACE,debug:f.LogLevelEnum.DEBUG,info:f.LogLevelEnum.INFO,warn:f.LogLevelEnum.WARN,error:f.LogLevelEnum.ERROR,off:f.LogLevelEnum.OFF};let g,v=o.LogService=class extends h.Disposable{get logLevel(){return this._logLevel}constructor(m){super(),this._optionsService=m,this._logLevel=f.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),g=this}_updateLogLevel(){this._logLevel=p[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(m){for(let y=0;y<m.length;y++)typeof m[y]=="function"&&(m[y]=m[y]())}_log(m,y,x){this._evalLazyOptionalParams(x),m.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+y,...x)}trace(m,...y){var x,_;this._logLevel<=f.LogLevelEnum.TRACE&&this._log((_=(x=this._optionsService.options.logger)===null||x===void 0?void 0:x.trace.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.log,m,y)}debug(m,...y){var x,_;this._logLevel<=f.LogLevelEnum.DEBUG&&this._log((_=(x=this._optionsService.options.logger)===null||x===void 0?void 0:x.debug.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.log,m,y)}info(m,...y){var x,_;this._logLevel<=f.LogLevelEnum.INFO&&this._log((_=(x=this._optionsService.options.logger)===null||x===void 0?void 0:x.info.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.info,m,y)}warn(m,...y){var x,_;this._logLevel<=f.LogLevelEnum.WARN&&this._log((_=(x=this._optionsService.options.logger)===null||x===void 0?void 0:x.warn.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.warn,m,y)}error(m,...y){var x,_;this._logLevel<=f.LogLevelEnum.ERROR&&this._log((_=(x=this._optionsService.options.logger)===null||x===void 0?void 0:x.error.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.error,m,y)}};o.LogService=v=c([d(0,f.IOptionsService)],v),o.setTraceLogger=function(m){g=m},o.traceCall=function(m,y,x){if(typeof x.value!="function")throw new Error("not supported");const _=x.value;x.value=function(...b){if(g.logLevel!==f.LogLevelEnum.TRACE)return _.apply(this,b);g.trace(`GlyphRenderer#${_.name}(${b.map(S=>JSON.stringify(S)).join(", ")})`);const w=_.apply(this,b);return g.trace(`GlyphRenderer#${_.name} return`,w),w}}},7302:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OptionsService=o.DEFAULT_OPTIONS=void 0;const c=l(8460),d=l(844),h=l(6114);o.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:h.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const f=["normal","bold","100","200","300","400","500","600","700","800","900"];class p extends d.Disposable{constructor(v){super(),this._onOptionChange=this.register(new c.EventEmitter),this.onOptionChange=this._onOptionChange.event;const m=Object.assign({},o.DEFAULT_OPTIONS);for(const y in v)if(y in m)try{const x=v[y];m[y]=this._sanitizeAndValidateOption(y,x)}catch(x){console.error(x)}this.rawOptions=m,this.options=Object.assign({},m),this._setupOptions()}onSpecificOptionChange(v,m){return this.onOptionChange(y=>{y===v&&m(this.rawOptions[v])})}onMultipleOptionChange(v,m){return this.onOptionChange(y=>{v.indexOf(y)!==-1&&m()})}_setupOptions(){const v=y=>{if(!(y in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${y}"`);return this.rawOptions[y]},m=(y,x)=>{if(!(y in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${y}"`);x=this._sanitizeAndValidateOption(y,x),this.rawOptions[y]!==x&&(this.rawOptions[y]=x,this._onOptionChange.fire(y))};for(const y in this.rawOptions){const x={get:v.bind(this,y),set:m.bind(this,y)};Object.defineProperty(this.options,y,x)}}_sanitizeAndValidateOption(v,m){switch(v){case"cursorStyle":if(m||(m=o.DEFAULT_OPTIONS[v]),!function(y){return y==="block"||y==="underline"||y==="bar"}(m))throw new Error(`"${m}" is not a valid value for ${v}`);break;case"wordSeparator":m||(m=o.DEFAULT_OPTIONS[v]);break;case"fontWeight":case"fontWeightBold":if(typeof m=="number"&&1<=m&&m<=1e3)break;m=f.includes(m)?m:o.DEFAULT_OPTIONS[v];break;case"cursorWidth":m=Math.floor(m);case"lineHeight":case"tabStopWidth":if(m<1)throw new Error(`${v} cannot be less than 1, value: ${m}`);break;case"minimumContrastRatio":m=Math.max(1,Math.min(21,Math.round(10*m)/10));break;case"scrollback":if((m=Math.min(m,4294967295))<0)throw new Error(`${v} cannot be less than 0, value: ${m}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(m<=0)throw new Error(`${v} cannot be less than or equal to 0, value: ${m}`);break;case"rows":case"cols":if(!m&&m!==0)throw new Error(`${v} must be numeric, value: ${m}`);break;case"windowsPty":m=m??{}}return m}}o.OptionsService=p},2660:function(a,o,l){var c=this&&this.__decorate||function(p,g,v,m){var y,x=arguments.length,_=x<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,v):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(p,g,v,m);else for(var b=p.length-1;b>=0;b--)(y=p[b])&&(_=(x<3?y(_):x>3?y(g,v,_):y(g,v))||_);return x>3&&_&&Object.defineProperty(g,v,_),_},d=this&&this.__param||function(p,g){return function(v,m){g(v,m,p)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkService=void 0;const h=l(2585);let f=o.OscLinkService=class{constructor(p){this._bufferService=p,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(p){const g=this._bufferService.buffer;if(p.id===void 0){const b=g.addMarker(g.ybase+g.y),w={data:p,id:this._nextId++,lines:[b]};return b.onDispose(()=>this._removeMarkerFromLink(w,b)),this._dataByLinkId.set(w.id,w),w.id}const v=p,m=this._getEntryIdKey(v),y=this._entriesWithId.get(m);if(y)return this.addLineToLink(y.id,g.ybase+g.y),y.id;const x=g.addMarker(g.ybase+g.y),_={id:this._nextId++,key:this._getEntryIdKey(v),data:v,lines:[x]};return x.onDispose(()=>this._removeMarkerFromLink(_,x)),this._entriesWithId.set(_.key,_),this._dataByLinkId.set(_.id,_),_.id}addLineToLink(p,g){const v=this._dataByLinkId.get(p);if(v&&v.lines.every(m=>m.line!==g)){const m=this._bufferService.buffer.addMarker(g);v.lines.push(m),m.onDispose(()=>this._removeMarkerFromLink(v,m))}}getLinkData(p){var g;return(g=this._dataByLinkId.get(p))===null||g===void 0?void 0:g.data}_getEntryIdKey(p){return`${p.id};;${p.uri}`}_removeMarkerFromLink(p,g){const v=p.lines.indexOf(g);v!==-1&&(p.lines.splice(v,1),p.lines.length===0&&(p.data.id!==void 0&&this._entriesWithId.delete(p.key),this._dataByLinkId.delete(p.id)))}};o.OscLinkService=f=c([d(0,h.IBufferService)],f)},8343:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createDecorator=o.getServiceDependencies=o.serviceRegistry=void 0;const l="di$target",c="di$dependencies";o.serviceRegistry=new Map,o.getServiceDependencies=function(d){return d[c]||[]},o.createDecorator=function(d){if(o.serviceRegistry.has(d))return o.serviceRegistry.get(d);const h=function(f,p,g){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(v,m,y){m[l]===m?m[c].push({id:v,index:y}):(m[c]=[{id:v,index:y}],m[l]=m)})(h,f,g)};return h.toString=()=>d,o.serviceRegistry.set(d,h),h}},2585:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IDecorationService=o.IUnicodeService=o.IOscLinkService=o.IOptionsService=o.ILogService=o.LogLevelEnum=o.IInstantiationService=o.ICharsetService=o.ICoreService=o.ICoreMouseService=o.IBufferService=void 0;const c=l(8343);var d;o.IBufferService=(0,c.createDecorator)("BufferService"),o.ICoreMouseService=(0,c.createDecorator)("CoreMouseService"),o.ICoreService=(0,c.createDecorator)("CoreService"),o.ICharsetService=(0,c.createDecorator)("CharsetService"),o.IInstantiationService=(0,c.createDecorator)("InstantiationService"),function(h){h[h.TRACE=0]="TRACE",h[h.DEBUG=1]="DEBUG",h[h.INFO=2]="INFO",h[h.WARN=3]="WARN",h[h.ERROR=4]="ERROR",h[h.OFF=5]="OFF"}(d||(o.LogLevelEnum=d={})),o.ILogService=(0,c.createDecorator)("LogService"),o.IOptionsService=(0,c.createDecorator)("OptionsService"),o.IOscLinkService=(0,c.createDecorator)("OscLinkService"),o.IUnicodeService=(0,c.createDecorator)("UnicodeService"),o.IDecorationService=(0,c.createDecorator)("DecorationService")},1480:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeService=void 0;const c=l(8460),d=l(225);o.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new c.EventEmitter,this.onChange=this._onChange.event;const h=new d.UnicodeV6;this.register(h),this._active=h.version,this._activeProvider=h}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(h){if(!this._providers[h])throw new Error(`unknown Unicode version "${h}"`);this._active=h,this._activeProvider=this._providers[h],this._onChange.fire(h)}register(h){this._providers[h.version]=h}wcwidth(h){return this._activeProvider.wcwidth(h)}getStringCellWidth(h){let f=0;const p=h.length;for(let g=0;g<p;++g){let v=h.charCodeAt(g);if(55296<=v&&v<=56319){if(++g>=p)return f+this.wcwidth(v);const m=h.charCodeAt(g);56320<=m&&m<=57343?v=1024*(v-55296)+m-56320+65536:f+=this.wcwidth(m)}f+=this.wcwidth(v)}return f}}}},n={};function i(a){var o=n[a];if(o!==void 0)return o.exports;var l=n[a]={exports:{}};return r[a].call(l.exports,l,l.exports,i),l.exports}var s={};return(()=>{var a=s;Object.defineProperty(a,"__esModule",{value:!0}),a.Terminal=void 0;const o=i(9042),l=i(3236),c=i(844),d=i(5741),h=i(8285),f=i(7975),p=i(7090),g=["cols","rows"];class v extends c.Disposable{constructor(y){super(),this._core=this.register(new l.Terminal(y)),this._addonManager=this.register(new d.AddonManager),this._publicOptions=Object.assign({},this._core.options);const x=b=>this._core.options[b],_=(b,w)=>{this._checkReadonlyOptions(b),this._core.options[b]=w};for(const b in this._core.options){const w={get:x.bind(this,b),set:_.bind(this,b)};Object.defineProperty(this._publicOptions,b,w)}}_checkReadonlyOptions(y){if(g.includes(y))throw new Error(`Option "${y}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new f.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new p.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new h.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const y=this._core.coreService.decPrivateModes;let x="none";switch(this._core.coreMouseService.activeProtocol){case"X10":x="x10";break;case"VT200":x="vt200";break;case"DRAG":x="drag";break;case"ANY":x="any"}return{applicationCursorKeysMode:y.applicationCursorKeys,applicationKeypadMode:y.applicationKeypad,bracketedPasteMode:y.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:x,originMode:y.origin,reverseWraparoundMode:y.reverseWraparound,sendFocusMode:y.sendFocus,wraparoundMode:y.wraparound}}get options(){return this._publicOptions}set options(y){for(const x in y)this._publicOptions[x]=y[x]}blur(){this._core.blur()}focus(){this._core.focus()}resize(y,x){this._verifyIntegers(y,x),this._core.resize(y,x)}open(y){this._core.open(y)}attachCustomKeyEventHandler(y){this._core.attachCustomKeyEventHandler(y)}registerLinkProvider(y){return this._core.registerLinkProvider(y)}registerCharacterJoiner(y){return this._checkProposedApi(),this._core.registerCharacterJoiner(y)}deregisterCharacterJoiner(y){this._checkProposedApi(),this._core.deregisterCharacterJoiner(y)}registerMarker(y=0){return this._verifyIntegers(y),this._core.registerMarker(y)}registerDecoration(y){var x,_,b;return this._checkProposedApi(),this._verifyPositiveIntegers((x=y.x)!==null&&x!==void 0?x:0,(_=y.width)!==null&&_!==void 0?_:0,(b=y.height)!==null&&b!==void 0?b:0),this._core.registerDecoration(y)}hasSelection(){return this._core.hasSelection()}select(y,x,_){this._verifyIntegers(y,x,_),this._core.select(y,x,_)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(y,x){this._verifyIntegers(y,x),this._core.selectLines(y,x)}dispose(){super.dispose()}scrollLines(y){this._verifyIntegers(y),this._core.scrollLines(y)}scrollPages(y){this._verifyIntegers(y),this._core.scrollPages(y)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(y){this._verifyIntegers(y),this._core.scrollToLine(y)}clear(){this._core.clear()}write(y,x){this._core.write(y,x)}writeln(y,x){this._core.write(y),this._core.write(`\r
`,x)}paste(y){this._core.paste(y)}refresh(y,x){this._verifyIntegers(y,x),this._core.refresh(y,x)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(y){this._addonManager.loadAddon(this,y)}static get strings(){return o}_verifyIntegers(...y){for(const x of y)if(x===1/0||isNaN(x)||x%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...y){for(const x of y)if(x&&(x===1/0||isNaN(x)||x%1!=0||x<0))throw new Error("This API only accepts positive integers")}}a.Terminal=v})(),s})())})(Efe);var Bat=Efe.exports,Nfe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(self,()=>(()=>{var r={};return(()=>{var n=r;Object.defineProperty(n,"__esModule",{value:!0}),n.FitAddon=void 0,n.FitAddon=class{activate(i){this._terminal=i}dispose(){}fit(){const i=this.proposeDimensions();if(!i||!this._terminal||isNaN(i.cols)||isNaN(i.rows))return;const s=this._terminal._core;this._terminal.rows===i.rows&&this._terminal.cols===i.cols||(s._renderService.clear(),this._terminal.resize(i.cols,i.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const i=this._terminal._core,s=i._renderService.dimensions;if(s.css.cell.width===0||s.css.cell.height===0)return;const a=this._terminal.options.scrollback===0?0:i.viewport.scrollBarWidth,o=window.getComputedStyle(this._terminal.element.parentElement),l=parseInt(o.getPropertyValue("height")),c=Math.max(0,parseInt(o.getPropertyValue("width"))),d=window.getComputedStyle(this._terminal.element),h=l-(parseInt(d.getPropertyValue("padding-top"))+parseInt(d.getPropertyValue("padding-bottom"))),f=c-(parseInt(d.getPropertyValue("padding-right"))+parseInt(d.getPropertyValue("padding-left")))-a;return{cols:Math.max(2,Math.floor(f/s.css.cell.width)),rows:Math.max(1,Math.floor(h/s.css.cell.height))}}}})(),r})())})(Nfe);var Fat=Nfe.exports,Afe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(self,()=>(()=>{var r={6:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.LinkComputer=o.WebLinkProvider=void 0,o.WebLinkProvider=class{constructor(c,d,h,f={}){this._terminal=c,this._regex=d,this._handler=h,this._options=f}provideLinks(c,d){const h=l.computeLink(c,this._regex,this._terminal,this._handler);d(this._addCallbacks(h))}_addCallbacks(c){return c.map(d=>(d.leave=this._options.leave,d.hover=(h,f)=>{if(this._options.hover){const{range:p}=d;this._options.hover(h,f,p)}},d))}};class l{static computeLink(d,h,f,p){const g=new RegExp(h.source,(h.flags||"")+"g"),[v,m]=l._getWindowedLineStrings(d-1,f),y=v.join("");let x;const _=[];for(;x=g.exec(y);){const b=x[0];try{const T=new URL(b),N=decodeURI(T.toString());if(b!==N&&b+"/"!==N)continue}catch{continue}const[w,S]=l._mapStrIdx(f,m,0,x.index),[k,C]=l._mapStrIdx(f,w,S,b.length);if(w===-1||S===-1||k===-1||C===-1)continue;const E={start:{x:S+1,y:w+1},end:{x:C,y:k+1}};_.push({range:E,text:b,activate:p})}return _}static _getWindowedLineStrings(d,h){let f,p=d,g=d,v=0,m="";const y=[];if(f=h.buffer.active.getLine(d)){const x=f.translateToString(!0);if(f.isWrapped&&x[0]!==" "){for(v=0;(f=h.buffer.active.getLine(--p))&&v<2048&&(m=f.translateToString(!0),v+=m.length,y.push(m),f.isWrapped&&m.indexOf(" ")===-1););y.reverse()}for(y.push(x),v=0;(f=h.buffer.active.getLine(++g))&&f.isWrapped&&v<2048&&(m=f.translateToString(!0),v+=m.length,y.push(m),m.indexOf(" ")===-1););}return[y,p]}static _mapStrIdx(d,h,f,p){const g=d.buffer.active,v=g.getNullCell();let m=f;for(;p;){const y=g.getLine(h);if(!y)return[-1,-1];for(let x=m;x<y.length;++x){y.getCell(x,v);const _=v.getChars();if(v.getWidth()&&(p-=_.length||1,x===y.length-1&&_==="")){const b=g.getLine(h+1);b&&b.isWrapped&&(b.getCell(0,v),v.getWidth()===2&&(p+=1))}if(p<0)return[h,x]}h++,m=0}return[h,m]}}o.LinkComputer=l}},n={};function i(a){var o=n[a];if(o!==void 0)return o.exports;var l=n[a]={exports:{}};return r[a](l,l.exports,i),l.exports}var s={};return(()=>{var a=s;Object.defineProperty(a,"__esModule",{value:!0}),a.WebLinksAddon=void 0;const o=i(6),l=/https?:[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function c(d,h){const f=window.open();if(f){try{f.opener=null}catch{}f.location.href=h}else console.warn("Opening link blocked as opener could not be cleared")}a.WebLinksAddon=class{constructor(d=c,h={}){this._handler=d,this._options=h}activate(d){this._terminal=d;const h=this._options,f=h.urlRegex||l;this._linkProvider=this._terminal.registerLinkProvider(new o.WebLinkProvider(this._terminal,f,this._handler,h))}dispose(){var d;(d=this._linkProvider)===null||d===void 0||d.dispose()}}})(),s})())})(Afe);var zat=Afe.exports;const Uat=A.forwardRef(({className:e="",onReady:t,deviceIp:r="",deviceName:n=""},i)=>{var G;const s=A.useRef(null),a=A.useRef(null),o=A.useRef(null),l=A.useRef(null),c=A.useRef(null),[d,h]=A.useState(!1),[f,p]=A.useState(null),[g,v]=A.useState(!1),[m,y]=A.useState(!1),[x,_]=A.useState(!1),[b,w]=A.useState([]),[S,k]=A.useState(""),[C,E]=A.useState(""),[T,N]=A.useState(""),R=A.useRef(null),P=A.useRef(!1),D=()=>{if(!S||!a.current)return;const Y=a.current.buffer.active,Z=[];for(let K=0;K<Y.length;K++){let X="";const Q=Y.getLine(K);if(Q)for(let re=0;re<Q.length;re++){const Se=Q.getCell(re);Se&&Se.getChars()&&(X+=Se.getChars())}Z.push(X)}const B=Z.join(`
`),W=b.map(K=>K.id===S?{...K,history:B}:K);w(W),$(W)};A.useEffect(()=>{if(S&&d&&a.current)return R.current&&clearInterval(R.current),R.current=setInterval(D,5e3),()=>{R.current&&clearInterval(R.current)}},[S,d]),A.useEffect(()=>{const Y=localStorage.getItem("terminal_sessions"),Z=localStorage.getItem("current_terminal_session");if(Y)try{const W=JSON.parse(Y).map(K=>({id:K.id||`term_${Date.now()}_${Math.random()}`,name:K.name||"Unknown Device",deviceIp:K.deviceIp||"",connected:K.connected||!1,lastUsed:K.lastUsed?new Date(K.lastUsed):new Date,history:K.history||""}));if(w(W),Z){const K=W.find(X=>X.id===Z);K&&k(K.id)}else if(r){const K=W.find(X=>X.deviceIp===r);K&&(k(K.id),localStorage.setItem("current_terminal_session",K.id))}}catch(B){console.error("Error loading terminal sessions",B),w([])}},[]),A.useEffect(()=>{r&&r!==C&&E(r)},[r]),A.useEffect(()=>{const Y=Z=>{c.current&&!c.current.contains(Z.target)&&_(!1)};return document.addEventListener("mousedown",Y),()=>{document.removeEventListener("mousedown",Y)}},[]);const $=Y=>{try{const Z=Y.map(B=>({...B,lastUsed:B.lastUsed instanceof Date?B.lastUsed.toISOString():B.lastUsed}));localStorage.setItem("terminal_sessions",JSON.stringify(Z))}catch(Z){console.error("无法保存终端会话:",Z)}},L=()=>{if(!r)return;const Y=b.find(K=>K.deviceIp===r);if(Y){const K=b.map(X=>X.deviceIp===r?{...X,connected:!0,lastUsed:new Date}:X);w(K),k(Y.id),localStorage.setItem("current_terminal_session",Y.id),$(K);return}const Z=`term_${Date.now()}`,B={id:Z,name:n||r,deviceIp:r,connected:!0,lastUsed:new Date,history:""},W=[...b,B];w(W),k(Z),localStorage.setItem("current_terminal_session",Z),$(W)},O=Y=>{if(!l.current||l.current.readyState!==WebSocket.OPEN){p("Terminal not connected");return}l.current.send(JSON.stringify({type:"input",data:Y+"\r"}))},j=()=>{y(!m),setTimeout(()=>{if(o.current&&(o.current.fit(),m&&setTimeout(()=>{o.current&&(o.current.fit(),a.current&&(a.current.buffer.active.cursorX,a.current.buffer.active.cursorY,o.current.fit(),l.current&&l.current.readyState===WebSocket.OPEN&&l.current.send(JSON.stringify({type:"resize",rows:a.current.rows,cols:a.current.cols}))))},250),l.current&&l.current.readyState===WebSocket.OPEN&&a.current)){const{rows:Y,cols:Z}=a.current;l.current.send(JSON.stringify({type:"resize",rows:Y,cols:Z}))}},150)};A.useImperativeHandle(i,()=>({executeCommand:O}));const M=Y=>{v(!0),Y.clear(),Y.writeln("\x1B[1;33mConnected to Terminal...\x1B[0m"),l.current&&l.current.close();try{const Z=window.location.protocol==="https:"?"wss:":"ws:",B=window.location.host,W=new WebSocket(`${Z}//${B}/terminal`);l.current=W,W.onopen=()=>{if(h(!0),p(null),Y.writeln("\x1B[1;32mConnected to Terminal Service\x1B[0m"),r&&Y.writeln(`\x1B[1;34mConnected to Device: ${n||r}\x1B[0m`),v(!1),r&&L(),!P.current){P.current=!0;const X=b.find(Q=>Q.id===S);X&&X.history&&setTimeout(()=>{Y.clear(),Y.write(X.history)},500)}},W.onmessage=X=>{try{const Q=JSON.parse(X.data);Q.type==="output"?(Y.write(Q.data),N(re=>re+Q.data)):Q.type==="terminal-id"&&console.log(`Connected to terminal ID: ${Q.id}`)}catch(Q){console.error("Error parsing WebSocket message:",Q),Y.writeln(`\r
\x1B[1;31mError parsing server message\x1B[0m`)}},W.onerror=X=>{console.error("WebSocket error:",X),p("Connection error. Using fallback terminal."),Y.writeln(`\r
\x1B[1;31mWebSocket connection error. Using fallback terminal.\x1B[0m`),Y.writeln("Note: Commands will be simulated and not executed on a real shell."),Y.write(`\r
$ `),z(Y),v(!1)},W.onclose=()=>{if(d&&(h(!1),Y.writeln(`\r
\x1B[1;31mDisconnected from shell\x1B[0m`),D(),S)){const X=b.map(Q=>Q.id===S?{...Q,connected:!1}:Q);w(X),$(X)}v(!1)},Y.onData(X=>{W.readyState===WebSocket.OPEN&&W.send(JSON.stringify({type:"input",data:X}))});const K=()=>{var X;if((X=o.current)==null||X.fit(),W.readyState===WebSocket.OPEN){const{rows:Q,cols:re}=Y;W.send(JSON.stringify({type:"resize",rows:Q,cols:re}))}};return window.addEventListener("resize",K),K(),()=>{window.removeEventListener("resize",K)}}catch(Z){console.error("Failed to connect to WebSocket server:",Z),p("Failed to connect. Using fallback terminal."),Y.writeln(`\r
\x1B[1;31mFailed to connect to Terminal Service. Using fallback terminal.\x1B[0m`),Y.writeln("Note: Commands will be simulated and not executed on a real device."),Y.write(`\r
$ `),z(Y),v(!1)}},I=()=>{a.current&&!g&&(D(),M(a.current))};A.useEffect(()=>{if(!s.current)return;const Y=new Bat.Terminal({cursorBlink:!0,fontSize:14,fontFamily:'Menlo, Monaco, "Courier New", monospace',theme:{background:"#ffffff",foreground:"#333333",cursor:"#333333",selectionBackground:"#c1c1c1"},convertEol:!0,scrollback:5e3,allowTransparency:!0}),Z=new Fat.FitAddon,B=new zat.WebLinksAddon;Y.loadAddon(Z),Y.loadAddon(B),Y.open(s.current),Z.fit(),a.current=Y,o.current=Z;const W=M(Y);return Y.onScroll(()=>{}),t&&t(Y),()=>{D(),R.current&&clearInterval(R.current),W&&W(),l.current&&l.current.close(),a.current&&a.current.dispose()}},[t]);const z=Y=>{let Z="";Y.onKey(({key:B,domEvent:W})=>{const K=!W.altKey&&!W.ctrlKey&&!W.metaKey;if(W.key==="Enter"){Y.write(`\r
`);const X=Z;Z="",X.trim()?setTimeout(()=>{Y.writeln(`Simulating: ${X}`),Y.writeln("Command simulated (not actually executed)."),Y.write(`\r
$ `)},100):Y.write("$ ")}else W.key==="Backspace"?Z.length>0&&(Z=Z.slice(0,-1),Y.write("\b \b")):K&&(Z+=B,Y.write(B))})},U=m?{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,backgroundColor:"white",display:"flex",flexDirection:"column",transition:"all 0.2s ease-in-out",width:"100vw",height:"100vh",overflow:"hidden"}:{transition:"all 0.2s ease-in-out"},F=()=>{if(b.length<=10)return;const Z=[...b].sort((B,W)=>new Date(W.lastUsed).getTime()-new Date(B.lastUsed).getTime()).slice(0,10);w(Z),$(Z)};return A.useEffect(()=>{b.length>0&&($(b),F())},[b]),A.useEffect(()=>{const Y=()=>{if(o.current&&a.current&&(o.current.fit(),l.current&&l.current.readyState===WebSocket.OPEN)){const{rows:Z,cols:B}=a.current;l.current.send(JSON.stringify({type:"resize",rows:Z,cols:B}))}};return window.addEventListener("resize",Y),o.current&&o.current.fit(),()=>{window.removeEventListener("resize",Y)}},[m]),u.jsxs("div",{className:`flex flex-col h-full ${m?"fullscreen-terminal":""}`,style:U,children:[u.jsxs("div",{className:"bg-gray-100 p-2 border-b flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:`h-2 w-2 rounded-full mr-2 ${d?"bg-green-500":"bg-red-500"}`}),u.jsx("span",{className:"text-sm font-medium",children:d?"Connected to Shell":"Disconnected"}),S&&u.jsx("span",{className:"ml-2 text-xs text-gray-600",children:((G=b.find(Y=>Y.id===S))==null?void 0:G.name)||"Terminal"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[m&&u.jsx("button",{onClick:j,className:"text-xs bg-gray-200 hover:bg-gray-300 px-2 py-0.5 rounded text-gray-700",children:"Exit Fullscreen"}),u.jsx("button",{onClick:I,disabled:g,className:`flex items-center justify-center p-1 rounded hover:bg-gray-200 ${g?"opacity-50 cursor-not-allowed":""}`,title:"Refresh terminal connection",children:u.jsx(io,{className:`h-4 w-4 text-gray-600 ${g?"animate-spin":""}`})}),u.jsx("button",{onClick:j,className:"flex items-center justify-center p-1 rounded hover:bg-gray-200",title:m?"Exit fullscreen":"Enter fullscreen mode",children:m?u.jsx(Uye,{className:"h-4 w-4 text-gray-600"}):u.jsx(Fye,{className:"h-4 w-4 text-gray-600"})})]})]}),f&&u.jsxs("div",{className:"bg-yellow-100 text-yellow-800 px-4 py-2 text-sm border-b border-yellow-200",children:[f," - To use a real shell, run the terminal server: ",u.jsx("code",{children:"cd server && npm install && npm start"})]}),u.jsx("div",{ref:s,className:`terminal-container flex-1 w-full bg-white ${e}`,style:{position:"relative"}})]})}),pK=()=>crypto.randomUUID?crypto.randomUUID():`session_${Date.now()}_${Math.random().toString(36).substring(2,15)}`,jfe=A.createContext({terminalRef:null,handleTerminalReady:()=>{}}),Hat=Wr.memo(()=>{const{terminalRef:e,handleTerminalReady:t}=A.useContext(jfe),[r]=A.useState(()=>`terminal-${Date.now()}`);return u.jsx("div",{className:"w-[30.4%] flex flex-col overflow-hidden flex-shrink-0",children:u.jsx("div",{className:"flex-1 mx-4 my-4 overflow-hidden bg-white rounded-xl shadow-sm border border-gray-200 terminal-container-wrapper",style:{zIndex:1},children:u.jsx(Uat,{onReady:t,className:"h-full rounded-xl terminal-main",style:{fontSize:"12px"}},r)})})},()=>!0),Vat=()=>{const[e,t]=A.useState([]),[r,n]=A.useState(null),[i,s]=A.useState([]),[a,o]=A.useState([]),[l,c]=A.useState({}),[d,h]=A.useState(""),[f,p]=A.useState(!1),[g,v]=A.useState(!1),[m,y]=A.useState("sparse"),[x,_]=A.useState([]),[b,w]=A.useState(""),[S,k]=A.useState(()=>localStorage.getItem("olaola_session_id")||pK()),[C,E]=A.useState(null),[T,N]=A.useState([]),[R,P]=A.useState(""),[D,$]=A.useState([]),[L,O]=A.useState(5),[j,M]=A.useState(!1),I=A.useRef(null),z=A.useRef(null);A.useEffect(()=>{U(),F()},[]),A.useEffect(()=>{Me()},[a]);const U=async()=>{v(!0);try{const ge=await Nt.get("/webhook/api/network-devices");if(ge.data&&ge.data.status==="success"&&Array.isArray(ge.data.data)){const Ze=ge.data.data.map((Oe,Wt)=>({id:Wt.toString(),ip_address:Oe.ip_address,ip:Oe.ip_address,hostname:Oe.hostname||`Device-${Wt}`,vendor:Oe.vendor_hw||"Unknown",os:Oe.vendor_sw||"Unknown",role:"Network Device",hw_sku:Oe.hw_sku,vendor_hw:Oe.vendor_hw,vendor_sw:Oe.vendor_sw}));t(Ze)}else console.error("Invalid API response format",ge.data)}catch(ge){console.error("Failed to fetch devices:",ge)}finally{v(!1)}},F=()=>{const ge=localStorage.getItem("olaola_saved_configs");if(ge)try{const ct=JSON.parse(ge);_(ct)}catch(ct){console.error("Error parsing saved configs:",ct)}let Ze={};const Oe=localStorage.getItem("olaola_session_messages");if(Oe)try{Ze=JSON.parse(Oe),c(Ze)}catch(ct){console.error("Error parsing saved messages:",ct)}const Wt=localStorage.getItem("olaola_sessions");if(Wt)try{const ct=JSON.parse(Wt);s(ct);const te=ct.find(oe=>oe.active);if(te){k(te.id);const oe=Ze[te.id]||[];o(oe)}}catch(ct){console.error("Error parsing saved sessions:",ct)}else Y()},G=(ge,Ze)=>{try{localStorage.setItem(ge,JSON.stringify(Ze))}catch(Oe){console.error(`Error saving ${ge} to localStorage:`,Oe)}},Y=()=>{const ge=pK();let Ze="New Conversation";r&&(Ze=`${r.hostname||r.ip_address}`,b&&b.trim()!==""&&(Ze+=` ↔ ${b}`));const Oe={id:ge,title:Ze,timestamp:new Date().toISOString(),active:!0};S&&a.length>0&&c(te=>({...te,[S]:a}));const Wt=[...i.map(te=>({...te,active:!1})),Oe];s(Wt),o([]),N([]),h(""),P(""),$([]),k(ge),localStorage.setItem("olaola_session_id",ge),O(5),M(!1),G("olaola_sessions",Wt);const ct={...l,[ge]:[]};G("olaola_session_messages",ct),c(ct)},Z=ge=>{if(S===ge)return;const Ze={...l,[S]:a};G("olaola_session_messages",Ze);const Oe=i.map(te=>({...te,active:te.id===ge}));G("olaola_sessions",Oe),s(Oe),k(ge),c(Ze);const Wt=Ze[ge]||[];o(Wt),O(5),M(Wt.length>5);const ct=Wt.filter(te=>te.role==="assistant"&&te.steps&&te.steps.length>0).pop();ct&&ct.steps?N(ct.steps):N([]),h(""),P(""),$([]),localStorage.setItem("olaola_session_id",ge)},B=ge=>{z.current&&console.log("Saving terminal session before switching device"),n(ge);const Ze=i.find(Oe=>Oe.active);if(Ze&&Ze.title==="New Conversation"){const Oe=i.map(Wt=>Wt.active?{...Wt,title:`${ge.hostname||ge.ip_address}`}:Wt);s(Oe),G("olaola_sessions",Oe)}console.log(`Switched to device: ${ge.hostname||ge.ip_address} (${ge.ip_address||ge.ip})`)},W=async()=>{var ct;if(!r||!d.trim())return;p(!0);const ge=new Date().toISOString(),Ze={id:`msg-${Date.now()}`,role:"user",content:d,timestamp:ge,context:R,relatedToTask:!0,sessionId:S},Oe=[...a,Ze];o(Oe),h(""),Oe.length>L&&O(Math.min(L+2,Oe.length));const Wt={...l,[S]:Oe};c(Wt),G("olaola_session_messages",Wt);try{const te={sessionId:S,action:"sendMessage",chatInput:d,device:{ip:r.ip_address||r.ip,vendor:r.vendor_hw||r.vendor,os:r.vendor_sw||r.os,hostname:r.hostname},intent:d,mode:m==="strict"?"strict":"sparse"};b&&b.trim()!==""&&(te.device.peerIp=b.trim());const oe=await Nt.post("/webhook/olaola/orchestrator",te,{headers:{"Content-Type":"application/json"}});if(oe.data&&Array.isArray(oe.data)&&oe.data.length>0){console.log("原始API响应：",oe.data);let J="",ne="",de="",$e=[];const ze=oe.data.find(Xe=>Xe.summary);ze&&ze.summary&&(de=ze.summary);const ke=oe.data.find(Xe=>Xe.intent),Et=oe.data.find(Xe=>Xe.markdown),wt=oe.data.find(Xe=>Xe.output);if(ke&&ke.steps&&Array.isArray(ke.steps)&&($e=ke.steps.map((Xe,ae)=>({id:Xe.step||ae+1,description:Xe.description||`Step ${ae+1}`,command:Xe.cli||"",isVisible:!0})),N($e)),ke&&ke.intent&&(ne=ke.intent),Et&&Et.markdown){J=Et.markdown;let Xe="";de&&(Xe+=`**Summary:** ${de}

`),ne&&(Xe+=`**Intent:** ${ne}

`),Xe&&(J=Xe+J),J=J.replace(/```bash\s*([\s\S]*?)```/g,(ae,_e)=>`\`${_e.trim()}\``),console.log("使用markdown字段：",J)}else if(wt&&wt.output){let Xe=wt.output;Xe=Xe.replace(/```bash\s*([\s\S]*?)```/g,(_e,Ue)=>`\`${Ue.trim()}\``);let ae="";de&&(ae+=`**Summary:** ${de}

`),ne&&(ae+=`**Intent:** ${ne}

`),J=ae?ae+Xe:Xe,console.log("使用output字段：",J)}else if(ke&&ke.response){let Xe=ke.response;Xe=Xe.replace(/```bash\s*([\s\S]*?)```/g,(_e,Ue)=>`\`${Ue.trim()}\``);let ae="";de&&(ae+=`**Summary:** ${de}

`),ne&&(ae+=`**Intent:** ${ne}

`),J=ae?ae+Xe:Xe}else if(ne||de){let Xe="";de&&(Xe+=`**Summary:** ${de}

`),ne?(Xe+=`**Intent:** ${ne}

`,Xe+=`I'll help you with "${ne}"`):Xe+=`I'll help you with "${d}"`,J=Xe}else J=`I'll help you with "${d}"`;if(ne&&r){const Xe=K(ne,r);P(Xe)}const sr=$e.length>0,St=X(ne||d,sr);$(St);const Dt={id:`msg-${Date.now()+1}`,role:"assistant",content:J,timestamp:new Date().toISOString(),context:R,relatedToTask:!0,suggestions:St,steps:sr?$e:void 0,sessionId:S},Jr=[...Oe,Dt];o(Jr),Jr.length>L&&O(Math.min(L+2,Jr.length));const Ti={...Wt,[S]:Jr};if(c(Ti),G("olaola_session_messages",Ti),((ct=i.find(Xe=>Xe.id===S))==null?void 0:ct.title)==="New Conversation"&&ne){let Xe=ne.substr(0,30)+(ne.length>30?"...":"");b&&b.trim()!==""&&r&&(Xe=`${`${r.hostname||r.ip_address} ↔ ${b}`}: ${Xe}`);const ae=i.map(_e=>_e.id===S?{..._e,title:Xe}:_e);s(ae),G("olaola_sessions",ae)}if(ne&&$e.length>0){const Xe={id:`config-${Date.now()}`,intent:ne,steps:$e,additional_checks:(ke==null?void 0:ke.additional_checks)||[],success_criteria:(ke==null?void 0:ke.success_criteria)||[],troubleshooting:(ke==null?void 0:ke.troubleshooting)||{},rawData:oe.data,timestamp:new Date().toISOString()};Q(Xe)}}}catch(te){console.error("API request failed:",te);const oe={id:`msg-${Date.now()+1}`,role:"assistant",content:"Sorry, there was an error processing your request. Please try again.",timestamp:new Date().toISOString(),context:R,relatedToTask:!0,sessionId:S},J=[...Oe,oe];o(J);const ne={...Wt,[S]:J};c(ne),G("olaola_session_messages",ne)}finally{p(!1),Me()}},K=(ge,Ze)=>!ge||!Ze?"":ge.toLowerCase().includes("ospf")?`OSPF Configuration (${Ze.hostname||Ze.ip_address})`:ge.toLowerCase().includes("bgp")?`BGP Configuration (${Ze.hostname||Ze.ip_address})`:ge.toLowerCase().includes("route")?`Routing Configuration (${Ze.hostname||Ze.ip_address})`:ge.toLowerCase().includes("interface")?`Interface Configuration (${Ze.hostname||Ze.ip_address})`:`Network Configuration (${Ze.hostname||Ze.ip_address})`,X=(ge,Ze)=>{const Oe=[];return ge.toLowerCase().includes("ospf")?Ze?(Oe.push("Verify OSPF neighbor status"),Oe.push("Check OSPF database"),Oe.push("Troubleshoot why OSPF neighbors are not forming")):(Oe.push("How do I configure OSPF authentication?"),Oe.push("What are the differences between OSPF area types?")):ge.toLowerCase().includes("bgp")?Ze?(Oe.push("Verify BGP neighbor status"),Oe.push("Check BGP routes"),Oe.push("How do I apply BGP routing policies?")):(Oe.push("How does BGP load balancing work?"),Oe.push("How do I configure BGP community attributes?")):Ze&&(Oe.push("How can I verify the configuration?"),Oe.push("Save configuration to startup-config"),Oe.push("What are common troubleshooting methods?")),Oe},Q=ge=>{const Ze=[...x,ge];_(Ze),G("olaola_saved_configs",Ze)},re=ge=>{N(ge.steps),P(K(ge.intent,r||{ip_address:"",hostname:null}));const Ze={id:`msg-${Date.now()}`,role:"assistant",content:`Loaded configuration: "${ge.intent}"`,timestamp:new Date().toISOString(),context:K(ge.intent,r||{ip_address:"",hostname:null}),relatedToTask:!0,steps:ge.steps,sessionId:S},Oe=[...a,Ze];o(Oe);const Wt={...l,[S]:Oe};c(Wt),G("olaola_session_messages",Wt),Me()},Se=(ge,Ze)=>{navigator.clipboard.writeText(ge),E(Ze),setTimeout(()=>E(null),2e3)},Te=ge=>{z.current&&z.current.executeCommand(ge)},Ie=ge=>{const Ze={id:`snippet-${Date.now()}`,intent:ge.description,steps:[ge],additional_checks:[],success_criteria:[],troubleshooting:{},timestamp:new Date().toISOString()};Q(Ze)},Me=()=>{setTimeout(()=>{I.current&&I.current.scrollIntoView({behavior:"smooth"})},100)},Ee=A.useCallback(ge=>{},[]),Ae=ge=>{h(ge)},Lt=A.useMemo(()=>({terminalRef:z,handleTerminalReady:Ee}),[Ee]);A.useEffect(()=>()=>{if(S&&a.length>0){const ge={...l,[S]:a};localStorage.setItem("olaola_session_messages",JSON.stringify(ge))}},[S,a,l]);const zt=()=>{const ge=document.querySelector(".scroll-area-viewport"),Ze=(ge==null?void 0:ge.scrollHeight)||0,Oe=(ge==null?void 0:ge.scrollTop)||0;O(Wt=>{const ct=Wt+5;return setTimeout(()=>{if(ge){const oe=ge.scrollHeight-Ze;ge.scrollTop=Oe+oe}},50),ct})};return A.useEffect(()=>{M(a.length>L)},[a,L]),A.useEffect(()=>{O(5)},[S]),u.jsx("div",{className:"flex h-full bg-gray-50 p-4 overflow-hidden",children:u.jsxs("div",{className:"flex w-full h-full bg-white rounded-xl shadow-sm border border-gray-200",style:{position:"relative",overflow:"hidden"},children:[u.jsx("div",{className:"w-[275px] flex-shrink-0 border-r border-gray-200 flex flex-col overflow-hidden",children:u.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:u.jsxs(jv,{defaultValue:"devices",className:"h-full flex flex-col",children:[u.jsxs(Rv,{className:"grid grid-cols-3 mx-1 my-2 mt-4",children:[u.jsx($r,{value:"devices",children:"Devices"}),u.jsx($r,{value:"history",children:"History"}),u.jsx($r,{value:"snippets",children:"Snippets"})]}),u.jsxs(Br,{value:"devices",className:"flex-1 overflow-hidden p-4",children:[u.jsx(oXe,{devices:e,selectedDevice:r,isLoadingDevices:g,onSelectDevice:B,onRefreshDevices:U}),r&&u.jsxs("div",{className:"mt-4",children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center justify-between",children:[u.jsx("span",{children:"Peer IP (Optional)"}),b&&b.trim()!==""&&u.jsxs("span",{className:"text-xs text-green-600 font-normal flex items-center",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"sent together"]})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:b,onChange:ge=>w(ge.target.value),placeholder:"Enter Peer Device IP",className:`w-full p-2 border rounded-md text-sm ${b&&b.trim()!==""?"border-green-300 bg-green-50":"border-gray-300"}`}),b&&b.trim()!==""&&u.jsx("button",{onClick:()=>w(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",title:"Clear Peer IP",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Used to configure bidirectional network connections"})]})]}),u.jsx(Br,{value:"history",className:"flex-1 overflow-hidden p-4",children:u.jsx(lXe,{sessions:i,onSelectSession:Z,onCreateNewSession:Y})}),u.jsx(Br,{value:"snippets",className:"flex-1 overflow-hidden p-4",children:u.jsx(cXe,{configSessions:x,onSelectConfig:ge=>re(ge)})})]})})}),u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-w-0",style:{width:"calc(69.6% - 275px)",maxWidth:"calc(69.6% - 275px)"},children:[a.length>0?u.jsx("div",{className:"flex-1 overflow-hidden",children:u.jsx(ww,{className:"h-full px-4 pt-4",style:{maxWidth:"100%"},children:u.jsxs("div",{className:"space-y-4 pb-4 max-w-full",style:{width:"100%",maxWidth:"100%",boxSizing:"border-box"},children:[j&&u.jsx("div",{className:"flex justify-center mb-4",children:u.jsxs("button",{onClick:zt,className:"text-sm px-4 py-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-700 transition-colors border border-gray-200 flex items-center shadow-sm",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11l5-5m0 0l5 5m-5-5v12"})}),"Load More History"]})}),a.slice(-L).map(ge=>u.jsx(Dat,{id:ge.id,role:ge.role,content:ge.content,timestamp:ge.timestamp,context:ge.context,steps:ge.steps,onCopyCommand:Se,onExecuteCommand:Te,onSaveSnippet:Ie,copiedId:C,suggestions:ge.suggestions,onUseSuggestion:Ae},ge.id)),f&&u.jsx($at,{}),u.jsx("div",{ref:I})]})})}):u.jsx("div",{className:"flex-1 flex items-center justify-center overflow-hidden",children:u.jsxs("div",{className:"text-center max-w-md",children:[u.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-100 to-blue-200 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-sm",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),u.jsx("h3",{className:"text-lg font-medium mb-2",children:"Start Network Configuration"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select a device from the left panel and describe what you want to configure."}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"bg-white p-3 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all",children:[u.jsx("h4",{className:"font-medium text-gray-800 text-sm",children:"Configure OSPF"}),u.jsx("p",{className:"text-xs text-gray-600",children:"Set up OSPF routing"})]}),u.jsxs("div",{className:"bg-white p-3 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all",children:[u.jsx("h4",{className:"font-medium text-gray-800 text-sm",children:"Setup BGP"}),u.jsx("p",{className:"text-xs text-gray-600",children:"Establish BGP peering"})]}),u.jsxs("div",{className:"bg-white p-3 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all",children:[u.jsx("h4",{className:"font-medium text-gray-800 text-sm",children:"Configure VLANs"}),u.jsx("p",{className:"text-xs text-gray-600",children:"VLAN management"})]}),u.jsxs("div",{className:"bg-white p-3 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all",children:[u.jsx("h4",{className:"font-medium text-gray-800 text-sm",children:"Setup ACLs"}),u.jsx("p",{className:"text-xs text-gray-600",children:"Access control lists"})]})]})]})}),u.jsx("div",{className:"py-2 px-4 border-t border-gray-200 bg-white",children:u.jsx(Oat,{value:d,onChange:h,onSend:W,isLoading:f,isDisabled:!r,mode:m,onModeChange:y})})]}),u.jsx(jfe.Provider,{value:Lt,children:u.jsx(Hat,{})})]})})},bs=({children:e})=>{const{user:t,loading:r}=z$(),n=hh();return r?u.jsx("div",{className:"flex items-center justify-center h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t?u.jsx(u.Fragment,{children:e}):u.jsx(ZM,{to:"/login",state:{from:n},replace:!0})},Wat=()=>u.jsxs(hye,{children:[u.jsx(Ai,{path:"/login",element:u.jsx(Pqe,{})}),u.jsx(Ai,{path:"/",element:u.jsx(bs,{children:u.jsx(ZM,{to:"/network-deployment",replace:!0})})}),u.jsx(Ai,{path:"/module-monitor",element:u.jsx(bs,{children:u.jsx(Ws,{children:u.jsx("div",{children:"模块监控内容"})})})}),u.jsx(Ai,{path:"/network-telemetry",element:u.jsx(bs,{children:u.jsx(Ws,{children:u.jsx(jqe,{})})})}),u.jsx(Ai,{path:"/network-deployment",element:u.jsx(bs,{children:u.jsx(Ws,{children:u.jsx(CYe,{})})})}),u.jsx(Ai,{path:"/hd-telemetry",element:u.jsx(bs,{children:u.jsx(Ws,{children:u.jsx(DKe,{})})})}),u.jsx(Ai,{path:"/network-wizard",element:u.jsx(bs,{children:u.jsx(Ws,{children:u.jsx(gYe,{})})})}),u.jsx(Ai,{path:"/datasource-config",element:u.jsx(bs,{children:u.jsx(Ws,{children:u.jsx(qat,{})})})}),u.jsx(Ai,{path:"/user-management",element:u.jsx(bs,{children:u.jsx(Ws,{children:u.jsx($Ke,{})})})}),u.jsx(Ai,{path:"/dynamic-dashboard",element:u.jsx(bs,{children:u.jsx(Ws,{children:u.jsx("div",{children:"动态仪表盘内容"})})})}),u.jsx(Ai,{path:"/mcp-monitor",element:u.jsx(bs,{children:u.jsx(Ws,{children:u.jsx("div",{children:"MCP监控内容"})})})}),u.jsx(Ai,{path:"/settings",element:u.jsx(bs,{children:u.jsx(Ws,{children:u.jsx("div",{children:"系统设置内容"})})})}),u.jsx(Ai,{path:"/test",element:u.jsx(bs,{children:u.jsx(Ws,{children:u.jsx(Oqe,{})})})}),u.jsx(Ai,{path:"/telemetry-info",element:u.jsx(bs,{children:u.jsx(Ws,{children:u.jsx(Iqe,{})})})}),u.jsx(Ai,{path:"/olaolacopilot",element:u.jsx(bs,{children:u.jsx(Ws,{children:u.jsx(OZe,{})})})}),u.jsx(Ai,{path:"/olaolacopilot-v3",element:u.jsx(bs,{children:u.jsx(Ws,{children:u.jsx(Vat,{})})})}),u.jsx(Ai,{path:"*",element:u.jsx(ZM,{to:"/",replace:!0})})]}),Gat=()=>u.jsx(Mqe,{children:u.jsx(lbe,{children:u.jsx(Wat,{})})}),qat=()=>{const[e,t]=A.useState("datasources"),[r,n]=A.useState({prometheus:localStorage.getItem("datasource_prometheus")||"",loki:localStorage.getItem("datasource_loki")||"",elasticsearch:localStorage.getItem("datasource_elasticsearch")||"",influxdb:localStorage.getItem("datasource_influxdb")||""}),[i,s]=A.useState({prometheus:localStorage.getItem("datasource_prometheus_enabled")!=="false",loki:localStorage.getItem("datasource_loki_enabled")==="true",elasticsearch:localStorage.getItem("datasource_elasticsearch_enabled")==="true",influxdb:localStorage.getItem("datasource_influxdb_enabled")==="true"}),[a,o]=A.useState({}),[l,c]=A.useState(!1),[d,h]=A.useState(!1),f=(m,y)=>{n(x=>({...x,[m]:y})),o(x=>{const _={...x};return delete _[m],_})},p=m=>{s(y=>{const x={...y,[m]:!y[m]};localStorage.setItem(`datasource_${m}_enabled`,x[m].toString());const _=new CustomEvent("datasource-change",{detail:{source:m,enabled:x[m]}});return window.dispatchEvent(_),x})},g=async m=>{if(!r[m]){o(x=>({...x,[m]:{success:!1,message:"请输入URL"}}));return}try{o(_=>({..._,[m]:{success:!1,message:"正在测试连接..."}})),await new Promise(_=>setTimeout(_,1e3)),!0&&(o(_=>({..._,[m]:{success:!0,message:"连接成功！"}})),s(_=>({..._,[m]:!0})))}catch(x){o(_=>({..._,[m]:{success:!1,message:"连接测试出错: "+(x instanceof Error?x.message:String(x))}}))}},v=()=>{c(!0),Object.entries(r).forEach(([m,y])=>{y?localStorage.setItem(`datasource_${m}`,y):localStorage.removeItem(`datasource_${m}`)}),Object.entries(i).forEach(([m,y])=>{localStorage.setItem(`datasource_${m}_enabled`,y.toString())}),setTimeout(()=>{c(!1),h(!0),setTimeout(()=>{h(!1)},3e3)},800)};return u.jsx("div",{className:"p-6 bg-white rounded-lg shadow",children:u.jsxs(jv,{value:e,onValueChange:t,children:[u.jsxs(Rv,{className:"mb-6",children:[u.jsx($r,{value:"datasources",children:"数据源配置"}),u.jsx($r,{value:"gnmi-mapping",children:"gNMI路径指标映射表"})]}),u.jsxs(Br,{value:"datasources",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6",children:"数据源配置"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"p-4 border rounded-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsxs("h3",{className:"text-lg font-medium",children:["Prometheus ",u.jsx("span",{className:"text-gray-400",children:"(建议)"})]}),u.jsxs("div",{className:"flex items-center text-sm",children:[u.jsx("span",{className:"mr-2",children:"状态:"}),u.jsx("button",{onClick:()=>p("prometheus"),className:"flex items-center text-blue-600 hover:text-blue-800",children:i.prometheus?u.jsxs(u.Fragment,{children:[u.jsx(Vy,{className:"w-6 h-6 text-green-500"}),u.jsx("span",{className:"ml-1 text-green-500 font-medium",children:"已启用"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Hy,{className:"w-6 h-6 text-gray-400"}),u.jsx("span",{className:"ml-1 text-gray-500 font-medium",children:"已禁用"})]})})]})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("input",{type:"text",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md",placeholder:"http://prometheus:9090",value:r.prometheus,onChange:m=>f("prometheus",m.target.value)}),u.jsx("button",{className:`px-4 py-2 text-white rounded-md ${r.prometheus?"bg-blue-500 hover:bg-blue-600":"bg-gray-400 cursor-not-allowed"}`,disabled:!r.prometheus,onClick:()=>g("prometheus"),children:"测试连接"})]}),a.prometheus&&u.jsx("div",{className:`mt-2 text-sm ${a.prometheus.success?"text-green-600":"text-red-600"}`,children:a.prometheus.message})]}),u.jsxs("div",{className:"p-4 border rounded-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsxs("h3",{className:"text-lg font-medium",children:["Loki ",u.jsx("span",{className:"text-gray-400",children:"(可选)"})]}),u.jsxs("div",{className:"flex items-center text-sm",children:[u.jsx("span",{className:"mr-2",children:"状态:"}),u.jsx("button",{onClick:()=>p("loki"),className:"flex items-center text-blue-600 hover:text-blue-800",children:i.loki?u.jsxs(u.Fragment,{children:[u.jsx(Vy,{className:"w-6 h-6 text-green-500"}),u.jsx("span",{className:"ml-1 text-green-500 font-medium",children:"已启用"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Hy,{className:"w-6 h-6 text-gray-400"}),u.jsx("span",{className:"ml-1 text-gray-500 font-medium",children:"已禁用"})]})})]})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("input",{type:"text",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md",placeholder:"http://loki:3100",value:r.loki,onChange:m=>f("loki",m.target.value)}),u.jsx("button",{className:`px-4 py-2 text-white rounded-md ${r.loki?"bg-blue-500 hover:bg-blue-600":"bg-gray-400 cursor-not-allowed"}`,disabled:!r.loki,onClick:()=>g("loki"),children:"测试连接"})]}),a.loki&&u.jsx("div",{className:`mt-2 text-sm ${a.loki.success?"text-green-600":"text-red-600"}`,children:a.loki.message})]}),u.jsxs("div",{className:"p-4 border rounded-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsxs("h3",{className:"text-lg font-medium",children:["Elasticsearch ",u.jsx("span",{className:"text-gray-400",children:"(可选)"})]}),u.jsxs("div",{className:"flex items-center text-sm",children:[u.jsx("span",{className:"mr-2",children:"状态:"}),u.jsx("button",{onClick:()=>p("elasticsearch"),className:"flex items-center text-blue-600 hover:text-blue-800",children:i.elasticsearch?u.jsxs(u.Fragment,{children:[u.jsx(Vy,{className:"w-6 h-6 text-green-500"}),u.jsx("span",{className:"ml-1 text-green-500 font-medium",children:"已启用"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Hy,{className:"w-6 h-6 text-gray-400"}),u.jsx("span",{className:"ml-1 text-gray-500 font-medium",children:"已禁用"})]})})]})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("input",{type:"text",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md",placeholder:"http://elasticsearch:9200",value:r.elasticsearch,onChange:m=>f("elasticsearch",m.target.value)}),u.jsx("button",{className:`px-4 py-2 text-white rounded-md ${r.elasticsearch?"bg-blue-500 hover:bg-blue-600":"bg-gray-400 cursor-not-allowed"}`,disabled:!r.elasticsearch,onClick:()=>g("elasticsearch"),children:"测试连接"})]}),a.elasticsearch&&u.jsx("div",{className:`mt-2 text-sm ${a.elasticsearch.success?"text-green-600":"text-red-600"}`,children:a.elasticsearch.message})]}),u.jsxs("div",{className:"p-4 border rounded-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsxs("h3",{className:"text-lg font-medium",children:["InfluxDB ",u.jsx("span",{className:"text-gray-400",children:"(可选)"})]}),u.jsxs("div",{className:"flex items-center text-sm",children:[u.jsx("span",{className:"mr-2",children:"状态:"}),u.jsx("button",{onClick:()=>p("influxdb"),className:"flex items-center text-blue-600 hover:text-blue-800",children:i.influxdb?u.jsxs(u.Fragment,{children:[u.jsx(Vy,{className:"w-6 h-6 text-green-500"}),u.jsx("span",{className:"ml-1 text-green-500 font-medium",children:"已启用"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Hy,{className:"w-6 h-6 text-gray-400"}),u.jsx("span",{className:"ml-1 text-gray-500 font-medium",children:"已禁用"})]})})]})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("input",{type:"text",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md",placeholder:"http://influxdb:8086",value:r.influxdb,onChange:m=>f("influxdb",m.target.value)}),u.jsx("button",{className:`px-4 py-2 text-white rounded-md ${r.influxdb?"bg-blue-500 hover:bg-blue-600":"bg-gray-400 cursor-not-allowed"}`,disabled:!r.influxdb,onClick:()=>g("influxdb"),children:"测试连接"})]}),a.influxdb&&u.jsx("div",{className:`mt-2 text-sm ${a.influxdb.success?"text-green-600":"text-red-600"}`,children:a.influxdb.message})]}),u.jsxs("div",{className:"bg-blue-50 border-blue-200 border p-4 rounded-md text-sm text-blue-800",children:[u.jsx("p",{className:"font-semibold",children:"注意事项:"}),u.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[u.jsx("li",{children:"Prometheus 是推荐的数据源，用于采集和查询设备状态与性能数据"}),u.jsx("li",{children:"可以根据您的需求启用或禁用任意数据源"}),u.jsx("li",{children:"禁用某数据源后，相关功能将不可用，但不会影响应用其他部分"}),u.jsx("li",{children:"所有配置信息将保存在浏览器本地存储中"})]})]}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{className:`px-4 py-2 rounded-md text-white ${l?"bg-gray-400":d?"bg-green-500":"bg-green-600 hover:bg-green-700"}`,disabled:l,onClick:v,children:l?"保存中...":d?"✓ 已保存":"保存配置"})})]})]}),u.jsx(Br,{value:"gnmi-mapping",children:u.jsx(OKe,{})})]})})};var Yat={},Tw,gr,Rfe,pf,gK,Ife,Mfe,Pfe,AB,eO,tO,Lfe,gb={},Dfe=[],Kat=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Nw=Array.isArray;function Wl(e,t){for(var r in t)e[r]=t[r];return e}function jB(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function fs(e,t,r){var n,i,s,a={};for(s in t)s=="key"?n=t[s]:s=="ref"?i=t[s]:a[s]=t[s];if(arguments.length>2&&(a.children=arguments.length>3?Tw.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(s in e.defaultProps)a[s]==null&&(a[s]=e.defaultProps[s]);return Zx(e,a,n,i,null)}function Zx(e,t,r,n,i){var s={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++Rfe,__i:-1,__u:0};return i==null&&gr.vnode!=null&&gr.vnode(s),s}function mT(){return{current:null}}function Li(e){return e.children}function Jo(e,t){this.props=e,this.context=t}function fv(e,t){if(t==null)return e.__?fv(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?fv(e):null}function Ofe(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return Ofe(e)}}function rO(e){(!e.__d&&(e.__d=!0)&&pf.push(e)&&!vT.__r++||gK!=gr.debounceRendering)&&((gK=gr.debounceRendering)||Ife)(vT)}function vT(){for(var e,t,r,n,i,s,a,o=1;pf.length;)pf.length>o&&pf.sort(Mfe),e=pf.shift(),o=pf.length,e.__d&&(r=void 0,i=(n=(t=e).__v).__e,s=[],a=[],t.__P&&((r=Wl({},n)).__v=n.__v+1,gr.vnode&&gr.vnode(r),RB(t.__P,r,n,t.__n,t.__P.namespaceURI,32&n.__u?[i]:null,s,i??fv(n),!!(32&n.__u),a),r.__v=n.__v,r.__.__k[r.__i]=r,Ffe(s,r,a),r.__e!=i&&Ofe(r)));vT.__r=0}function $fe(e,t,r,n,i,s,a,o,l,c,d){var h,f,p,g,v,m,y=n&&n.__k||Dfe,x=t.length;for(l=Zat(r,t,y,l,x),h=0;h<x;h++)(p=r.__k[h])!=null&&(f=p.__i==-1?gb:y[p.__i]||gb,p.__i=h,m=RB(e,p,f,i,s,a,o,l,c,d),g=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&IB(f.ref,null,p),d.push(p.ref,p.__c||g,p)),v==null&&g!=null&&(v=g),4&p.__u||f.__k===p.__k?l=Bfe(p,l,e):typeof p.type=="function"&&m!==void 0?l=m:g&&(l=g.nextSibling),p.__u&=-7);return r.__e=v,l}function Zat(e,t,r,n,i){var s,a,o,l,c,d=r.length,h=d,f=0;for(e.__k=new Array(i),s=0;s<i;s++)(a=t[s])!=null&&typeof a!="boolean"&&typeof a!="function"?(l=s+f,(a=e.__k[s]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?Zx(null,a,null,null,null):Nw(a)?Zx(Li,{children:a},null,null,null):a.constructor==null&&a.__b>0?Zx(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,o=null,(c=a.__i=Xat(a,r,l,h))!=-1&&(h--,(o=r[c])&&(o.__u|=2)),o==null||o.__v==null?(c==-1&&(i>d?f--:i<d&&f++),typeof a.type!="function"&&(a.__u|=4)):c!=l&&(c==l-1?f--:c==l+1?f++:(c>l?f--:f++,a.__u|=4))):e.__k[s]=null;if(h)for(s=0;s<d;s++)(o=r[s])!=null&&!(2&o.__u)&&(o.__e==n&&(n=fv(o)),Ufe(o,o));return n}function Bfe(e,t,r){var n,i;if(typeof e.type=="function"){for(n=e.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=e,t=Bfe(n[i],t,r));return t}e.__e!=t&&(t&&e.type&&!r.contains(t)&&(t=fv(e)),r.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Qc(e,t){return t=t||[],e==null||typeof e=="boolean"||(Nw(e)?e.some(function(r){Qc(r,t)}):t.push(e)),t}function Xat(e,t,r,n){var i,s,a=e.key,o=e.type,l=t[r];if(l===null&&e.key==null||l&&a==l.key&&o==l.type&&!(2&l.__u))return r;if(n>(l!=null&&!(2&l.__u)?1:0))for(i=r-1,s=r+1;i>=0||s<t.length;){if(i>=0){if((l=t[i])&&!(2&l.__u)&&a==l.key&&o==l.type)return i;i--}if(s<t.length){if((l=t[s])&&!(2&l.__u)&&a==l.key&&o==l.type)return s;s++}}return-1}function mK(e,t,r){t[0]=="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||Kat.test(t)?r:r+"px"}function lC(e,t,r,n,i){var s;e:if(t=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||mK(e.style,t,"");if(r)for(t in r)n&&r[t]==n[t]||mK(e.style,t,r[t])}else if(t[0]=="o"&&t[1]=="n")s=t!=(t=t.replace(Pfe,"$1")),t=t.toLowerCase()in e||t=="onFocusOut"||t=="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=r,r?n?r.u=n.u:(r.u=AB,e.addEventListener(t,s?tO:eO,s)):e.removeEventListener(t,s?tO:eO,s);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&r==1?"":r))}}function vK(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.t==null)t.t=AB++;else if(t.t<r.u)return;return r(gr.event?gr.event(t):t)}}}function RB(e,t,r,n,i,s,a,o,l,c){var d,h,f,p,g,v,m,y,x,_,b,w,S,k,C,E,T,N=t.type;if(t.constructor!=null)return null;128&r.__u&&(l=!!(32&r.__u),s=[o=t.__e=r.__e]),(d=gr.__b)&&d(t);e:if(typeof N=="function")try{if(y=t.props,x="prototype"in N&&N.prototype.render,_=(d=N.contextType)&&n[d.__c],b=d?_?_.props.value:d.__:n,r.__c?m=(h=t.__c=r.__c).__=h.__E:(x?t.__c=h=new N(y,b):(t.__c=h=new Jo(y,b),h.constructor=N,h.render=Qat),_&&_.sub(h),h.props=y,h.state||(h.state={}),h.context=b,h.__n=n,f=h.__d=!0,h.__h=[],h._sb=[]),x&&h.__s==null&&(h.__s=h.state),x&&N.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Wl({},h.__s)),Wl(h.__s,N.getDerivedStateFromProps(y,h.__s))),p=h.props,g=h.state,h.__v=t,f)x&&N.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),x&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(x&&N.getDerivedStateFromProps==null&&y!==p&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(y,b),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(y,h.__s,b)===!1||t.__v==r.__v){for(t.__v!=r.__v&&(h.props=y,h.state=h.__s,h.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(R){R&&(R.__=t)}),w=0;w<h._sb.length;w++)h.__h.push(h._sb[w]);h._sb=[],h.__h.length&&a.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(y,h.__s,b),x&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(p,g,v)})}if(h.context=b,h.props=y,h.__P=e,h.__e=!1,S=gr.__r,k=0,x){for(h.state=h.__s,h.__d=!1,S&&S(t),d=h.render(h.props,h.state,h.context),C=0;C<h._sb.length;C++)h.__h.push(h._sb[C]);h._sb=[]}else do h.__d=!1,S&&S(t),d=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++k<25);h.state=h.__s,h.getChildContext!=null&&(n=Wl(Wl({},n),h.getChildContext())),x&&!f&&h.getSnapshotBeforeUpdate!=null&&(v=h.getSnapshotBeforeUpdate(p,g)),E=d,d!=null&&d.type===Li&&d.key==null&&(E=zfe(d.props.children)),o=$fe(e,Nw(E)?E:[E],t,r,n,i,s,a,o,l,c),h.base=t.__e,t.__u&=-161,h.__h.length&&a.push(h),m&&(h.__E=h.__=null)}catch(R){if(t.__v=null,l||s!=null)if(R.then){for(t.__u|=l?160:128;o&&o.nodeType==8&&o.nextSibling;)o=o.nextSibling;s[s.indexOf(o)]=null,t.__e=o}else for(T=s.length;T--;)jB(s[T]);else t.__e=r.__e,t.__k=r.__k;gr.__e(R,t,r)}else s==null&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):o=t.__e=Jat(r.__e,t,r,n,i,s,a,l,c);return(d=gr.diffed)&&d(t),128&t.__u?void 0:o}function Ffe(e,t,r){for(var n=0;n<r.length;n++)IB(r[n],r[++n],r[++n]);gr.__c&&gr.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(s){s.call(i)})}catch(s){gr.__e(s,i.__v)}})}function zfe(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Nw(e)?e.map(zfe):Wl({},e)}function Jat(e,t,r,n,i,s,a,o,l){var c,d,h,f,p,g,v,m=r.props,y=t.props,x=t.type;if(x=="svg"?i="http://www.w3.org/2000/svg":x=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(c=0;c<s.length;c++)if((p=s[c])&&"setAttribute"in p==!!x&&(x?p.localName==x:p.nodeType==3)){e=p,s[c]=null;break}}if(e==null){if(x==null)return document.createTextNode(y);e=document.createElementNS(i,x,y.is&&y),o&&(gr.__m&&gr.__m(t,s),o=!1),s=null}if(x==null)m===y||o&&e.data==y||(e.data=y);else{if(s=s&&Tw.call(e.childNodes),m=r.props||gb,!o&&s!=null)for(m={},c=0;c<e.attributes.length;c++)m[(p=e.attributes[c]).name]=p.value;for(c in m)if(p=m[c],c!="children"){if(c=="dangerouslySetInnerHTML")h=p;else if(!(c in y)){if(c=="value"&&"defaultValue"in y||c=="checked"&&"defaultChecked"in y)continue;lC(e,c,null,p,i)}}for(c in y)p=y[c],c=="children"?f=p:c=="dangerouslySetInnerHTML"?d=p:c=="value"?g=p:c=="checked"?v=p:o&&typeof p!="function"||m[c]===p||lC(e,c,p,m[c],i);if(d)o||h&&(d.__html==h.__html||d.__html==e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(h&&(e.innerHTML=""),$fe(t.type=="template"?e.content:e,Nw(f)?f:[f],t,r,n,x=="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,a,s?s[0]:r.__k&&fv(r,0),o,l),s!=null)for(c=s.length;c--;)jB(s[c]);o||(c="value",x=="progress"&&g==null?e.removeAttribute("value"):g!=null&&(g!==e[c]||x=="progress"&&!g||x=="option"&&g!=m[c])&&lC(e,c,g,m[c],i),c="checked",v!=null&&v!=e[c]&&lC(e,c,v,m[c],i))}return e}function IB(e,t,r){try{if(typeof e=="function"){var n=typeof e.__u=="function";n&&e.__u(),n&&t==null||(e.__u=e(t))}else e.current=t}catch(i){gr.__e(i,r)}}function Ufe(e,t,r){var n,i;if(gr.unmount&&gr.unmount(e),(n=e.ref)&&(n.current&&n.current!=e.__e||IB(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){gr.__e(s,t)}n.base=n.__P=null}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&Ufe(n[i],t,r||typeof e.type!="function");r||jB(e.__e),e.__c=e.__=e.__e=void 0}function Qat(e,t,r){return this.constructor(e,r)}function mb(e,t,r){var n,i,s,a;t==document&&(t=document.documentElement),gr.__&&gr.__(e,t),i=(n=typeof r=="function")?null:r&&r.__k||t.__k,s=[],a=[],RB(t,e=(!n&&r||t).__k=fs(Li,null,[e]),i||gb,gb,t.namespaceURI,!n&&r?[r]:i?null:t.firstChild?Tw.call(t.childNodes):null,s,!n&&r?r:i?i.__e:t.firstChild,n,a),Ffe(s,e,a)}function Hfe(e,t){mb(e,t,Hfe)}function eot(e,t,r){var n,i,s,a,o=Wl({},e.props);for(s in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)s=="key"?n=t[s]:s=="ref"?i=t[s]:o[s]=t[s]==null&&a!=null?a[s]:t[s];return arguments.length>2&&(o.children=arguments.length>3?Tw.call(arguments,2):r),Zx(e.type,o,n||e.key,i||e.ref,null)}function gi(e){function t(r){var n,i;return this.getChildContext||(n=new Set,(i={})[t.__c]=this,this.getChildContext=function(){return i},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(s){this.props.value!=s.value&&n.forEach(function(a){a.__e=!0,rO(a)})},this.sub=function(s){n.add(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){n&&n.delete(s),a&&a.call(s)}}),r.children}return t.__c="__cC"+Lfe++,t.__=e,t.Provider=t.__l=(t.Consumer=function(r,n){return r.children(n)}).contextType=t,t}Tw=Dfe.slice,gr={__e:function(e,t,r,n){for(var i,s,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(e)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,n||{}),a=i.__d),a)return i.__E=i}catch(o){e=o}throw e}},Rfe=0,Jo.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Wl({},this.state),typeof e=="function"&&(e=e(Wl({},r),this.props)),e&&Wl(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),rO(this))},Jo.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),rO(this))},Jo.prototype.render=Li,pf=[],Ife=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Mfe=function(e,t){return e.__v.__b-t.__v.__b},vT.__r=0,Pfe=/(PointerCapture)$|Capture$/i,AB=0,eO=vK(!1),tO=vK(!0),Lfe=0;var tot=0;function Yr(e,t,r,n,i,s){t||(t={});var a,o,l=t;if("ref"in l)for(o in l={},t)o=="ref"?a=t[o]:l[o]=t[o];var c={type:e,props:l,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--tot,__i:-1,__u:0,__source:i,__self:s};if(typeof e=="function"&&(a=e.defaultProps))for(o in a)l[o]===void 0&&(l[o]=a[o]);return gr.vnode&&gr.vnode(c),c}var vu,wn,DI,yK,pv=0,Vfe=[],Hn=gr,xK=Hn.__b,_K=Hn.__r,bK=Hn.diffed,wK=Hn.__c,SK=Hn.unmount,CK=Hn.__;function zp(e,t){Hn.__h&&Hn.__h(wn,e,pv||t),pv=0;var r=wn.__H||(wn.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function rn(e){return pv=1,Aw(Wfe,e)}function Aw(e,t,r){var n=zp(vu++,2);if(n.t=e,!n.__c&&(n.__=[r?r(t):Wfe(void 0,t),function(o){var l=n.__N?n.__N[0]:n.__[0],c=n.t(l,o);l!==c&&(n.__N=[c,n.__[1]],n.__c.setState({}))}],n.__c=wn,!wn.__f)){var i=function(o,l,c){if(!n.__c.__H)return!0;var d=n.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!s||s.call(this,o,l,c);var h=n.__c.props!==o;return d.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(h=!0)}}),s&&s.call(this,o,l,c)||h};wn.__f=!0;var s=wn.shouldComponentUpdate,a=wn.componentWillUpdate;wn.componentWillUpdate=function(o,l,c){if(this.__e){var d=s;s=void 0,i(o,l,c),s=d}a&&a.call(this,o,l,c)},wn.shouldComponentUpdate=i}return n.__N||n.__}function On(e,t){var r=zp(vu++,3);!Hn.__s&&LB(r.__H,t)&&(r.__=e,r.u=t,wn.__H.__h.push(r))}function ku(e,t){var r=zp(vu++,4);!Hn.__s&&LB(r.__H,t)&&(r.__=e,r.u=t,wn.__h.push(r))}function yr(e){return pv=5,mr(function(){return{current:e}},[])}function MB(e,t,r){pv=6,ku(function(){if(typeof e=="function"){var n=e(t());return function(){e(null),n&&typeof n=="function"&&n()}}if(e)return e.current=t(),function(){return e.current=null}},r==null?r:r.concat(e))}function mr(e,t){var r=zp(vu++,7);return LB(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function Er(e,t){return pv=8,mr(function(){return e},t)}function Jn(e){var t=wn.context[e.__c],r=zp(vu++,9);return r.c=e,t?(r.__==null&&(r.__=!0,t.sub(wn)),t.props.value):e.__}function PB(e,t){Hn.useDebugValue&&Hn.useDebugValue(t?t(e):e)}function rot(e){var t=zp(vu++,10),r=rn();return t.__=e,wn.componentDidCatch||(wn.componentDidCatch=function(n,i){t.__&&t.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function hl(){var e=zp(vu++,11);if(!e.__){for(var t=wn.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var r=t.__m||(t.__m=[0,0]);e.__="P"+r[0]+"-"+r[1]++}return e.__}function not(){for(var e;e=Vfe.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(hk),e.__H.__h.forEach(nO),e.__H.__h=[]}catch(t){e.__H.__h=[],Hn.__e(t,e.__v)}}Hn.__b=function(e){wn=null,xK&&xK(e)},Hn.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),CK&&CK(e,t)},Hn.__r=function(e){_K&&_K(e),vu=0;var t=(wn=e.__c).__H;t&&(DI===wn?(t.__h=[],wn.__h=[],t.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(t.__h.forEach(hk),t.__h.forEach(nO),t.__h=[],vu=0)),DI=wn},Hn.diffed=function(e){bK&&bK(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Vfe.push(t)!==1&&yK===Hn.requestAnimationFrame||((yK=Hn.requestAnimationFrame)||iot)(not)),t.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),DI=wn=null},Hn.__c=function(e,t){t.some(function(r){try{r.__h.forEach(hk),r.__h=r.__h.filter(function(n){return!n.__||nO(n)})}catch(n){t.some(function(i){i.__h&&(i.__h=[])}),t=[],Hn.__e(n,r.__v)}}),wK&&wK(e,t)},Hn.unmount=function(e){SK&&SK(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{hk(n)}catch(i){t=i}}),r.__H=void 0,t&&Hn.__e(t,r.__v))};var kK=typeof requestAnimationFrame=="function";function iot(e){var t,r=function(){clearTimeout(n),kK&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);kK&&(t=requestAnimationFrame(r))}function hk(e){var t=wn,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),wn=t}function nO(e){var t=wn;e.__c=e.__(),wn=t}function LB(e,t){return!e||e.length!==t.length||t.some(function(r,n){return r!==e[n]})}function Wfe(e,t){return typeof t=="function"?t(e):t}gi([]);function Gfe(e,t){for(var r in t)e[r]=t[r];return e}function iO(e,t){for(var r in e)if(r!=="__source"&&!(r in t))return!0;for(var n in t)if(n!=="__source"&&e[n]!==t[n])return!0;return!1}function j2(e,t){var r=t(),n=rn({t:{__:r,u:t}}),i=n[0].t,s=n[1];return ku(function(){i.__=r,i.u=t,OI(i)&&s({t:i})},[e,r,t]),On(function(){return OI(i)&&s({t:i}),e(function(){OI(i)&&s({t:i})})},[e]),r}function OI(e){var t,r,n=e.u,i=e.__;try{var s=n();return!((t=i)===(r=s)&&(t!==0||1/t==1/r)||t!=t&&r!=r)}catch{return!0}}function DB(e){e()}function OB(e){return e}function $B(){return[!1,DB]}var BB=ku;function yT(e,t){this.props=e,this.context=t}function Up(e,t){function r(i){var s=this.props.ref,a=s==i.ref;return!a&&s&&(s.call?s(null):s.current=null),t?!t(this.props,i)||!a:iO(this.props,i)}function n(i){return this.shouldComponentUpdate=r,fs(e,i)}return n.displayName="Memo("+(e.displayName||e.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}(yT.prototype=new Jo).isPureReactComponent=!0,yT.prototype.shouldComponentUpdate=function(e,t){return iO(this.props,e)||iO(this.state,t)};var EK=gr.__b;gr.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),EK&&EK(e)};var sot=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function xc(e){function t(r){var n=Gfe({},r);return delete n.ref,e(n,r.ref||null)}return t.$$typeof=sot,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var TK=function(e,t){return e==null?null:Qc(Qc(e).map(t))},qfe={map:TK,forEach:TK,count:function(e){return e?Qc(e).length:0},only:function(e){var t=Qc(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:Qc},aot=gr.__e;gr.__e=function(e,t,r,n){if(e.then){for(var i,s=t;s=s.__;)if((i=s.__c)&&i.__c)return t.__e==null&&(t.__e=r.__e,t.__k=r.__k),i.__c(e,t)}aot(e,t,r,n)};var NK=gr.unmount;function Yfe(e,t,r){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),e.__c.__H=null),(e=Gfe({},e)).__c!=null&&(e.__c.__P===r&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(n){return Yfe(n,t,r)})),e}function Kfe(e,t,r){return e&&r&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(n){return Kfe(n,t,r)}),e.__c&&e.__c.__P===t&&(e.__e&&r.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=r)),e}function Xx(){this.__u=0,this.o=null,this.__b=null}function Zfe(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Xfe(e){var t,r,n;function i(s){if(t||(t=e()).then(function(a){r=a.default||a},function(a){n=a}),n)throw n;if(!r)throw t;return fs(r,s)}return i.displayName="Lazy",i.__f=!0,i}function hm(){this.i=null,this.l=null}gr.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),NK&&NK(e)},(Xx.prototype=new Jo).__c=function(e,t){var r=t.__c,n=this;n.o==null&&(n.o=[]),n.o.push(r);var i=Zfe(n.__v),s=!1,a=function(){s||(s=!0,r.__R=null,i?i(o):o())};r.__R=a;var o=function(){if(!--n.__u){if(n.state.__a){var l=n.state.__a;n.__v.__k[0]=Kfe(l,l.__c.__P,l.__c.__O)}var c;for(n.setState({__a:n.__b=null});c=n.o.pop();)c.forceUpdate()}};n.__u++||32&t.__u||n.setState({__a:n.__b=n.__v.__k[0]}),e.then(a,a)},Xx.prototype.componentWillUnmount=function(){this.o=[]},Xx.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=Yfe(this.__b,r,n.__O=n.__P)}this.__b=null}var i=t.__a&&fs(Li,null,e.fallback);return i&&(i.__u&=-33),[fs(Li,null,t.__a?null:e.children),i]};var AK=function(e,t,r){if(++r[1]===r[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(r=e.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;e.i=r=r[2]}};function oot(e){return this.getChildContext=function(){return e.context},e.children}function lot(e){var t=this,r=e.h;if(t.componentWillUnmount=function(){mb(null,t.v),t.v=null,t.h=null},t.h&&t.h!==r&&t.componentWillUnmount(),!t.v){for(var n=t.__v;n!==null&&!n.__m&&n.__!==null;)n=n.__;t.h=r,t.v={nodeType:1,parentNode:r,childNodes:[],__k:{__m:n.__m},contains:function(){return!0},appendChild:function(i){this.childNodes.push(i),t.h.appendChild(i)},insertBefore:function(i,s){this.childNodes.push(i),t.h.insertBefore(i,s)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),t.h.removeChild(i)}}}mb(fs(oot,{context:t.context},e.__v),t.v)}function FB(e,t){var r=fs(lot,{__v:e,h:t});return r.containerInfo=t,r}(hm.prototype=new Jo).__a=function(e){var t=this,r=Zfe(t.__v),n=t.l.get(e);return n[0]++,function(i){var s=function(){t.props.revealOrder?(n.push(i),AK(t,e,n)):i()};r?r(s):s()}},hm.prototype.render=function(e){this.i=null,this.l=new Map;var t=Qc(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var r=t.length;r--;)this.l.set(t[r],this.i=[1,0,this.i]);return e.children},hm.prototype.componentDidUpdate=hm.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,r){AK(e,r,t)})};var Jfe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,cot=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,uot=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,dot=/[A-Z0-9]/g,hot=typeof document<"u",fot=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function Qfe(e,t,r){return t.__k==null&&(t.textContent=""),mb(e,t),typeof r=="function"&&r(),e?e.__c:null}function epe(e,t,r){return Hfe(e,t),typeof r=="function"&&r(),e?e.__c:null}Jo.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(Jo.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var jK=gr.event;function pot(){}function got(){return this.cancelBubble}function mot(){return this.defaultPrevented}gr.event=function(e){return jK&&(e=jK(e)),e.persist=pot,e.isPropagationStopped=got,e.isDefaultPrevented=mot,e.nativeEvent=e};var zB,vot={enumerable:!1,configurable:!0,get:function(){return this.class}},RK=gr.vnode;gr.vnode=function(e){typeof e.type=="string"&&function(t){var r=t.props,n=t.type,i={},s=n.indexOf("-")===-1;for(var a in r){var o=r[a];if(!(a==="value"&&"defaultValue"in r&&o==null||hot&&a==="children"&&n==="noscript"||a==="class"||a==="className")){var l=a.toLowerCase();a==="defaultValue"&&"value"in r&&r.value==null?a="value":a==="download"&&o===!0?o="":l==="translate"&&o==="no"?o=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?a="ondblclick":l!=="onchange"||n!=="input"&&n!=="textarea"||fot(r.type)?l==="onfocus"?a="onfocusin":l==="onblur"?a="onfocusout":uot.test(a)&&(a=l):l=a="oninput":s&&cot.test(a)?a=a.replace(dot,"-$&").toLowerCase():o===null&&(o=void 0),l==="oninput"&&i[a=l]&&(a="oninputCapture"),i[a]=o}}n=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Qc(r.children).forEach(function(c){c.props.selected=i.value.indexOf(c.props.value)!=-1})),n=="select"&&i.defaultValue!=null&&(i.value=Qc(r.children).forEach(function(c){c.props.selected=i.multiple?i.defaultValue.indexOf(c.props.value)!=-1:i.defaultValue==c.props.value})),r.class&&!r.className?(i.class=r.class,Object.defineProperty(i,"className",vot)):(r.className&&!r.class||r.class&&r.className)&&(i.class=i.className=r.className),t.props=i}(e),e.$$typeof=Jfe,RK&&RK(e)};var IK=gr.__r;gr.__r=function(e){IK&&IK(e),zB=e.__c};var MK=gr.diffed;gr.diffed=function(e){MK&&MK(e);var t=e.props,r=e.__e;r!=null&&e.type==="textarea"&&"value"in t&&t.value!==r.value&&(r.value=t.value==null?"":t.value),zB=null};var tpe={ReactCurrentDispatcher:{current:{readContext:function(e){return zB.__n[e.__c].props.value},useCallback:Er,useContext:Jn,useDebugValue:PB,useDeferredValue:OB,useEffect:On,useId:hl,useImperativeHandle:MB,useInsertionEffect:BB,useLayoutEffect:ku,useMemo:mr,useReducer:Aw,useRef:yr,useState:rn,useSyncExternalStore:j2,useTransition:$B}}},yot="18.3.1";function rpe(e){return fs.bind(null,e)}function n0(e){return!!e&&e.$$typeof===Jfe}function npe(e){return n0(e)&&e.type===Li}function ipe(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function UB(e){return n0(e)?eot.apply(null,arguments):e}function spe(e){return!!e.__k&&(mb(null,e),!0)}function ape(e){return e&&(e.base||e.nodeType===1&&e)||null}var ope=function(e,t){return e(t)},yu=function(e,t){return e(t)},lpe=Li,cpe=n0,Di={useState:rn,useId:hl,useReducer:Aw,useEffect:On,useLayoutEffect:ku,useInsertionEffect:BB,useTransition:$B,useDeferredValue:OB,useSyncExternalStore:j2,startTransition:DB,useRef:yr,useImperativeHandle:MB,useMemo:mr,useCallback:Er,useContext:Jn,useDebugValue:PB,version:"18.3.1",Children:qfe,render:Qfe,hydrate:epe,unmountComponentAtNode:spe,createPortal:FB,createElement:fs,createContext:gi,createFactory:rpe,cloneElement:UB,createRef:mT,Fragment:Li,isValidElement:n0,isElement:cpe,isFragment:npe,isMemo:ipe,findDOMNode:ape,Component:Jo,PureComponent:yT,memo:Up,forwardRef:xc,flushSync:yu,unstable_batchedUpdates:ope,StrictMode:lpe,Suspense:Xx,SuspenseList:hm,lazy:Xfe,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:tpe};const xT=Object.freeze(Object.defineProperty({__proto__:null,Children:qfe,Component:Jo,Fragment:Li,PureComponent:yT,StrictMode:lpe,Suspense:Xx,SuspenseList:hm,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:tpe,cloneElement:UB,createContext:gi,createElement:fs,createFactory:rpe,createPortal:FB,createRef:mT,default:Di,findDOMNode:ape,flushSync:yu,forwardRef:xc,hydrate:epe,isElement:cpe,isFragment:npe,isMemo:ipe,isValidElement:n0,lazy:Xfe,memo:Up,render:Qfe,startTransition:DB,unmountComponentAtNode:spe,unstable_batchedUpdates:ope,useCallback:Er,useContext:Jn,useDebugValue:PB,useDeferredValue:OB,useEffect:On,useErrorBoundary:rot,useId:hl,useImperativeHandle:MB,useInsertionEffect:BB,useLayoutEffect:ku,useMemo:mr,useReducer:Aw,useRef:yr,useState:rn,useSyncExternalStore:j2,useTransition:$B,version:yot},Symbol.toStringTag,{value:"Module"}));var upe=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});typeof window<"u"?window.WebSocket:upe("ws").WebSocket;typeof window<"u"?window.WebSocket:upe("ws").WebSocket;var Fr;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return e.objectValues(a)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},e.find=(i,s)=>{for(const a of i)if(s(a))return a},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Fr||(Fr={}));var sO;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(sO||(sO={}));const tt=Fr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),$c=e=>{switch(typeof e){case"undefined":return tt.undefined;case"string":return tt.string;case"number":return isNaN(e)?tt.nan:tt.number;case"boolean":return tt.boolean;case"function":return tt.function;case"bigint":return tt.bigint;case"symbol":return tt.symbol;case"object":return Array.isArray(e)?tt.array:e===null?tt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?tt.promise:typeof Map<"u"&&e instanceof Map?tt.map:typeof Set<"u"&&e instanceof Set?tt.set:typeof Date<"u"&&e instanceof Date?tt.date:tt.object;default:return tt.unknown}},Pe=Fr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),xot=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Ia extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let o=n,l=0;for(;l<a.path.length;){const c=a.path[l];l===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(a))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),n}static assert(t){if(!(t instanceof Ia))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Fr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ia.create=e=>new Ia(e);const gv=(e,t)=>{let r;switch(e.code){case Pe.invalid_type:e.received===tt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Pe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Fr.jsonStringifyReplacer)}`;break;case Pe.unrecognized_keys:r=`Unrecognized key(s) in object: ${Fr.joinValues(e.keys,", ")}`;break;case Pe.invalid_union:r="Invalid input";break;case Pe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Fr.joinValues(e.options)}`;break;case Pe.invalid_enum_value:r=`Invalid enum value. Expected ${Fr.joinValues(e.options)}, received '${e.received}'`;break;case Pe.invalid_arguments:r="Invalid function arguments";break;case Pe.invalid_return_type:r="Invalid function return type";break;case Pe.invalid_date:r="Invalid date";break;case Pe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Fr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Pe.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Pe.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Pe.custom:r="Invalid input";break;case Pe.invalid_intersection_types:r="Intersection results could not be merged";break;case Pe.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Pe.not_finite:r="Number must be finite";break;default:r=t.defaultError,Fr.assertNever(e)}return{message:r}};let dpe=gv;function _ot(e){dpe=e}function _T(){return dpe}const bT=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)o=c(a,{data:t,defaultError:o}).message;return{...i,path:s,message:o}},bot=[];function Je(e,t){const r=_T(),n=bT({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===gv?void 0:gv].filter(i=>!!i)});e.common.issues.push(n)}class ps{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return Ht;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const s=await i.key,a=await i.value;n.push({key:s,value:a})}return ps.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return Ht;s.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(n[s.value]=a.value)}return{status:t.value,value:n}}}const Ht=Object.freeze({status:"aborted"}),fm=e=>({status:"dirty",value:e}),zs=e=>({status:"valid",value:e}),aO=e=>e.status==="aborted",oO=e=>e.status==="dirty",mp=e=>e.status==="valid",vb=e=>typeof Promise<"u"&&e instanceof Promise;function wT(e,t,r,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function hpe(e,t,r,n,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var gt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(gt||(gt={}));var ux,dx;class cc{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const PK=(e,t)=>{if(mp(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ia(e.common.issues);return this._error=r,this._error}}};function or(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(a,o)=>{var l,c;const{message:d}=e;return a.code==="invalid_enum_value"?{message:d??o.defaultError}:typeof o.data>"u"?{message:(l=d??n)!==null&&l!==void 0?l:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(c=d??r)!==null&&c!==void 0?c:o.defaultError}},description:i}}class _r{get description(){return this._def.description}_getType(t){return $c(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:$c(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ps,ctx:{common:t.parent.common,data:t.data,parsedType:$c(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(vb(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:$c(t)},s=this._parseSync({data:t,path:i.path,parent:i});return PK(i,s)}"~validate"(t){var r,n;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:$c(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:i});return mp(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((n=(r=s==null?void 0:s.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:i}).then(s=>mp(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:$c(t)},i=this._parse({data:t,path:n.path,parent:n}),s=await(vb(i)?i:Promise.resolve(i));return PK(n,s)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const a=t(i),o=()=>s.addIssue({code:Pe.custom,...n(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new sl({schema:this,typeName:Bt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return tc.create(this,this._def)}nullable(){return nh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qo.create(this)}promise(){return vv.create(this,this._def)}or(t){return bb.create([this,t],this._def)}and(t){return wb.create(this,t,this._def)}transform(t){return new sl({...or(this._def),schema:this,typeName:Bt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Tb({...or(this._def),innerType:this,defaultValue:r,typeName:Bt.ZodDefault})}brand(){return new HB({typeName:Bt.ZodBranded,type:this,...or(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Nb({...or(this._def),innerType:this,catchValue:r,typeName:Bt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return jw.create(this,t)}readonly(){return Ab.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const wot=/^c[^\s-]{8,}$/i,Sot=/^[0-9a-z]+$/,Cot=/^[0-9A-HJKMNP-TV-Z]{26}$/i,kot=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Eot=/^[a-z0-9_-]{21}$/i,Tot=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Not=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Aot=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jot="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let $I;const Rot=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Iot=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Mot=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Pot=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Lot=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Dot=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,fpe="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Oot=new RegExp(`^${fpe}$`);function ppe(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function $ot(e){return new RegExp(`^${ppe(e)}$`)}function gpe(e){let t=`${fpe}T${ppe(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Bot(e,t){return!!((t==="v4"||!t)&&Rot.test(e)||(t==="v6"||!t)&&Mot.test(e))}function Fot(e,t){if(!Tot.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||t&&i.alg!==t)}catch{return!1}}function zot(e,t){return!!((t==="v4"||!t)&&Iot.test(e)||(t==="v6"||!t)&&Pot.test(e))}class Go extends _r{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==tt.string){const s=this._getOrReturnCtx(t);return Je(s,{code:Pe.invalid_type,expected:tt.string,received:s.parsedType}),Ht}const n=new ps;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),Je(i,{code:Pe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),Je(i,{code:Pe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const a=t.data.length>s.value,o=t.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(t,i),a?Je(i,{code:Pe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&Je(i,{code:Pe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")Aot.test(t.data)||(i=this._getOrReturnCtx(t,i),Je(i,{validation:"email",code:Pe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")$I||($I=new RegExp(jot,"u")),$I.test(t.data)||(i=this._getOrReturnCtx(t,i),Je(i,{validation:"emoji",code:Pe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")kot.test(t.data)||(i=this._getOrReturnCtx(t,i),Je(i,{validation:"uuid",code:Pe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")Eot.test(t.data)||(i=this._getOrReturnCtx(t,i),Je(i,{validation:"nanoid",code:Pe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")wot.test(t.data)||(i=this._getOrReturnCtx(t,i),Je(i,{validation:"cuid",code:Pe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")Sot.test(t.data)||(i=this._getOrReturnCtx(t,i),Je(i,{validation:"cuid2",code:Pe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Cot.test(t.data)||(i=this._getOrReturnCtx(t,i),Je(i,{validation:"ulid",code:Pe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Je(i,{validation:"url",code:Pe.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Je(i,{validation:"regex",code:Pe.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),Je(i,{code:Pe.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),Je(i,{code:Pe.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),Je(i,{code:Pe.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?gpe(s).test(t.data)||(i=this._getOrReturnCtx(t,i),Je(i,{code:Pe.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?Oot.test(t.data)||(i=this._getOrReturnCtx(t,i),Je(i,{code:Pe.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?$ot(s).test(t.data)||(i=this._getOrReturnCtx(t,i),Je(i,{code:Pe.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?Not.test(t.data)||(i=this._getOrReturnCtx(t,i),Je(i,{validation:"duration",code:Pe.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?Bot(t.data,s.version)||(i=this._getOrReturnCtx(t,i),Je(i,{validation:"ip",code:Pe.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?Fot(t.data,s.alg)||(i=this._getOrReturnCtx(t,i),Je(i,{validation:"jwt",code:Pe.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?zot(t.data,s.version)||(i=this._getOrReturnCtx(t,i),Je(i,{validation:"cidr",code:Pe.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?Lot.test(t.data)||(i=this._getOrReturnCtx(t,i),Je(i,{validation:"base64",code:Pe.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?Dot.test(t.data)||(i=this._getOrReturnCtx(t,i),Je(i,{validation:"base64url",code:Pe.invalid_string,message:s.message}),n.dirty()):Fr.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:Pe.invalid_string,...gt.errToObj(n)})}_addCheck(t){return new Go({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...gt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...gt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...gt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...gt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...gt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...gt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...gt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...gt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...gt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...gt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...gt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...gt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...gt.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...gt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...gt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...gt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...gt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...gt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...gt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...gt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...gt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...gt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...gt.errToObj(r)})}nonempty(t){return this.min(1,gt.errToObj(t))}trim(){return new Go({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Go({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Go({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Go.create=e=>{var t;return new Go({checks:[],typeName:Bt.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...or(e)})};function Uot(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(e.toFixed(i).replace(".","")),a=parseInt(t.toFixed(i).replace(".",""));return s%a/Math.pow(10,i)}class eh extends _r{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==tt.number){const s=this._getOrReturnCtx(t);return Je(s,{code:Pe.invalid_type,expected:tt.number,received:s.parsedType}),Ht}let n;const i=new ps;for(const s of this._def.checks)s.kind==="int"?Fr.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Je(n,{code:Pe.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),Je(n,{code:Pe.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),Je(n,{code:Pe.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Uot(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),Je(n,{code:Pe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Je(n,{code:Pe.not_finite,message:s.message}),i.dirty()):Fr.assertNever(s);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,gt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,gt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,gt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,gt.toString(r))}setLimit(t,r,n,i){return new eh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:gt.toString(i)}]})}_addCheck(t){return new eh({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:gt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:gt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:gt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:gt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:gt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:gt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:gt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:gt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:gt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Fr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}eh.create=e=>new eh({checks:[],typeName:Bt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...or(e)});class th extends _r{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==tt.bigint)return this._getInvalidInput(t);let n;const i=new ps;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),Je(n,{code:Pe.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),Je(n,{code:Pe.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Je(n,{code:Pe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Fr.assertNever(s);return{status:i.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Je(r,{code:Pe.invalid_type,expected:tt.bigint,received:r.parsedType}),Ht}gte(t,r){return this.setLimit("min",t,!0,gt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,gt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,gt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,gt.toString(r))}setLimit(t,r,n,i){return new th({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:gt.toString(i)}]})}_addCheck(t){return new th({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:gt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:gt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:gt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:gt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:gt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}th.create=e=>{var t;return new th({checks:[],typeName:Bt.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...or(e)})};class yb extends _r{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==tt.boolean){const n=this._getOrReturnCtx(t);return Je(n,{code:Pe.invalid_type,expected:tt.boolean,received:n.parsedType}),Ht}return zs(t.data)}}yb.create=e=>new yb({typeName:Bt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...or(e)});class vp extends _r{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==tt.date){const s=this._getOrReturnCtx(t);return Je(s,{code:Pe.invalid_type,expected:tt.date,received:s.parsedType}),Ht}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return Je(s,{code:Pe.invalid_date}),Ht}const n=new ps;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),Je(i,{code:Pe.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),Je(i,{code:Pe.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Fr.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new vp({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:gt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:gt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}vp.create=e=>new vp({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Bt.ZodDate,...or(e)});class ST extends _r{_parse(t){if(this._getType(t)!==tt.symbol){const n=this._getOrReturnCtx(t);return Je(n,{code:Pe.invalid_type,expected:tt.symbol,received:n.parsedType}),Ht}return zs(t.data)}}ST.create=e=>new ST({typeName:Bt.ZodSymbol,...or(e)});class xb extends _r{_parse(t){if(this._getType(t)!==tt.undefined){const n=this._getOrReturnCtx(t);return Je(n,{code:Pe.invalid_type,expected:tt.undefined,received:n.parsedType}),Ht}return zs(t.data)}}xb.create=e=>new xb({typeName:Bt.ZodUndefined,...or(e)});class _b extends _r{_parse(t){if(this._getType(t)!==tt.null){const n=this._getOrReturnCtx(t);return Je(n,{code:Pe.invalid_type,expected:tt.null,received:n.parsedType}),Ht}return zs(t.data)}}_b.create=e=>new _b({typeName:Bt.ZodNull,...or(e)});class mv extends _r{constructor(){super(...arguments),this._any=!0}_parse(t){return zs(t.data)}}mv.create=e=>new mv({typeName:Bt.ZodAny,...or(e)});class qf extends _r{constructor(){super(...arguments),this._unknown=!0}_parse(t){return zs(t.data)}}qf.create=e=>new qf({typeName:Bt.ZodUnknown,...or(e)});class xu extends _r{_parse(t){const r=this._getOrReturnCtx(t);return Je(r,{code:Pe.invalid_type,expected:tt.never,received:r.parsedType}),Ht}}xu.create=e=>new xu({typeName:Bt.ZodNever,...or(e)});class CT extends _r{_parse(t){if(this._getType(t)!==tt.undefined){const n=this._getOrReturnCtx(t);return Je(n,{code:Pe.invalid_type,expected:tt.void,received:n.parsedType}),Ht}return zs(t.data)}}CT.create=e=>new CT({typeName:Bt.ZodVoid,...or(e)});class Qo extends _r{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==tt.array)return Je(r,{code:Pe.invalid_type,expected:tt.array,received:r.parsedType}),Ht;if(i.exactLength!==null){const a=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(a||o)&&(Je(r,{code:a?Pe.too_big:Pe.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Je(r,{code:Pe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Je(r,{code:Pe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,o)=>i.type._parseAsync(new cc(r,a,r.path,o)))).then(a=>ps.mergeArray(n,a));const s=[...r.data].map((a,o)=>i.type._parseSync(new cc(r,a,r.path,o)));return ps.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new Qo({...this._def,minLength:{value:t,message:gt.toString(r)}})}max(t,r){return new Qo({...this._def,maxLength:{value:t,message:gt.toString(r)}})}length(t,r){return new Qo({...this._def,exactLength:{value:t,message:gt.toString(r)}})}nonempty(t){return this.min(1,t)}}Qo.create=(e,t)=>new Qo({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Bt.ZodArray,...or(t)});function Hg(e){if(e instanceof Vn){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=tc.create(Hg(n))}return new Vn({...e._def,shape:()=>t})}else return e instanceof Qo?new Qo({...e._def,type:Hg(e.element)}):e instanceof tc?tc.create(Hg(e.unwrap())):e instanceof nh?nh.create(Hg(e.unwrap())):e instanceof uc?uc.create(e.items.map(t=>Hg(t))):e}class Vn extends _r{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Fr.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==tt.object){const c=this._getOrReturnCtx(t);return Je(c,{code:Pe.invalid_type,expected:tt.object,received:c.parsedType}),Ht}const{status:n,ctx:i}=this._processInputParams(t),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof xu&&this._def.unknownKeys==="strip"))for(const c in i.data)a.includes(c)||o.push(c);const l=[];for(const c of a){const d=s[c],h=i.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new cc(i,h,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof xu){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of o)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(c==="strict")o.length>0&&(Je(i,{code:Pe.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of o){const h=i.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new cc(i,h,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const h=await d.key,f=await d.value;c.push({key:h,value:f,alwaysSet:d.alwaysSet})}return c}).then(c=>ps.mergeObjectSync(n,c)):ps.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return gt.errToObj,new Vn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,s,a,o;const l=(a=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=gt.errToObj(t).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new Vn({...this._def,unknownKeys:"strip"})}passthrough(){return new Vn({...this._def,unknownKeys:"passthrough"})}extend(t){return new Vn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Vn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Bt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Vn({...this._def,catchall:t})}pick(t){const r={};return Fr.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Vn({...this._def,shape:()=>r})}omit(t){const r={};return Fr.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Vn({...this._def,shape:()=>r})}deepPartial(){return Hg(this)}partial(t){const r={};return Fr.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}),new Vn({...this._def,shape:()=>r})}required(t){const r={};return Fr.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof tc;)s=s._def.innerType;r[n]=s}}),new Vn({...this._def,shape:()=>r})}keyof(){return mpe(Fr.objectKeys(this.shape))}}Vn.create=(e,t)=>new Vn({shape:()=>e,unknownKeys:"strip",catchall:xu.create(),typeName:Bt.ZodObject,...or(t)});Vn.strictCreate=(e,t)=>new Vn({shape:()=>e,unknownKeys:"strict",catchall:xu.create(),typeName:Bt.ZodObject,...or(t)});Vn.lazycreate=(e,t)=>new Vn({shape:e,unknownKeys:"strip",catchall:xu.create(),typeName:Bt.ZodObject,...or(t)});class bb extends _r{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new Ia(o.ctx.common.issues));return Je(r,{code:Pe.invalid_union,unionErrors:a}),Ht}if(r.common.async)return Promise.all(n.map(async s=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},d=l._parseSync({data:r.data,path:r.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(l=>new Ia(l));return Je(r,{code:Pe.invalid_union,unionErrors:o}),Ht}}get options(){return this._def.options}}bb.create=(e,t)=>new bb({options:e,typeName:Bt.ZodUnion,...or(t)});const jc=e=>e instanceof Cb?jc(e.schema):e instanceof sl?jc(e.innerType()):e instanceof kb?[e.value]:e instanceof rh?e.options:e instanceof Eb?Fr.objectValues(e.enum):e instanceof Tb?jc(e._def.innerType):e instanceof xb?[void 0]:e instanceof _b?[null]:e instanceof tc?[void 0,...jc(e.unwrap())]:e instanceof nh?[null,...jc(e.unwrap())]:e instanceof HB||e instanceof Ab?jc(e.unwrap()):e instanceof Nb?jc(e._def.innerType):[];class R2 extends _r{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==tt.object)return Je(r,{code:Pe.invalid_type,expected:tt.object,received:r.parsedType}),Ht;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(Je(r,{code:Pe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ht)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const i=new Map;for(const s of r){const a=jc(s.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const o of a){if(i.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);i.set(o,s)}}return new R2({typeName:Bt.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...or(n)})}}function lO(e,t){const r=$c(e),n=$c(t);if(e===t)return{valid:!0,data:e};if(r===tt.object&&n===tt.object){const i=Fr.objectKeys(t),s=Fr.objectKeys(e).filter(o=>i.indexOf(o)!==-1),a={...e,...t};for(const o of s){const l=lO(e[o],t[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(r===tt.array&&n===tt.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const a=e[s],o=t[s],l=lO(a,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===tt.date&&n===tt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class wb extends _r{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(s,a)=>{if(aO(s)||aO(a))return Ht;const o=lO(s.value,a.value);return o.valid?((oO(s)||oO(a))&&r.dirty(),{status:r.value,value:o.data}):(Je(n,{code:Pe.invalid_intersection_types}),Ht)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}wb.create=(e,t,r)=>new wb({left:e,right:t,typeName:Bt.ZodIntersection,...or(r)});class uc extends _r{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==tt.array)return Je(n,{code:Pe.invalid_type,expected:tt.array,received:n.parsedType}),Ht;if(n.data.length<this._def.items.length)return Je(n,{code:Pe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ht;!this._def.rest&&n.data.length>this._def.items.length&&(Je(n,{code:Pe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new cc(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(s).then(a=>ps.mergeArray(r,a)):ps.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new uc({...this._def,rest:t})}}uc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new uc({items:e,typeName:Bt.ZodTuple,rest:null,...or(t)})};class Sb extends _r{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==tt.object)return Je(n,{code:Pe.invalid_type,expected:tt.object,received:n.parsedType}),Ht;const i=[],s=this._def.keyType,a=this._def.valueType;for(const o in n.data)i.push({key:s._parse(new cc(n,o,n.path,o)),value:a._parse(new cc(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?ps.mergeObjectAsync(r,i):ps.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof _r?new Sb({keyType:t,valueType:r,typeName:Bt.ZodRecord,...or(n)}):new Sb({keyType:Go.create(),valueType:t,typeName:Bt.ZodRecord,...or(r)})}}class kT extends _r{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==tt.map)return Je(n,{code:Pe.invalid_type,expected:tt.map,received:n.parsedType}),Ht;const i=this._def.keyType,s=this._def.valueType,a=[...n.data.entries()].map(([o,l],c)=>({key:i._parse(new cc(n,o,n.path,[c,"key"])),value:s._parse(new cc(n,l,n.path,[c,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return Ht;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(c.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of a){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return Ht;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(c.value,d.value)}return{status:r.value,value:o}}}}kT.create=(e,t,r)=>new kT({valueType:t,keyType:e,typeName:Bt.ZodMap,...or(r)});class yp extends _r{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==tt.set)return Je(n,{code:Pe.invalid_type,expected:tt.set,received:n.parsedType}),Ht;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Je(n,{code:Pe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Je(n,{code:Pe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function a(l){const c=new Set;for(const d of l){if(d.status==="aborted")return Ht;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}const o=[...n.data.values()].map((l,c)=>s._parse(new cc(n,l,n.path,c)));return n.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(t,r){return new yp({...this._def,minSize:{value:t,message:gt.toString(r)}})}max(t,r){return new yp({...this._def,maxSize:{value:t,message:gt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}yp.create=(e,t)=>new yp({valueType:e,minSize:null,maxSize:null,typeName:Bt.ZodSet,...or(t)});class Pm extends _r{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==tt.function)return Je(r,{code:Pe.invalid_type,expected:tt.function,received:r.parsedType}),Ht;function n(o,l){return bT({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,_T(),gv].filter(c=>!!c),issueData:{code:Pe.invalid_arguments,argumentsError:l}})}function i(o,l){return bT({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,_T(),gv].filter(c=>!!c),issueData:{code:Pe.invalid_return_type,returnTypeError:l}})}const s={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof vv){const o=this;return zs(async function(...l){const c=new Ia([]),d=await o._def.args.parseAsync(l,s).catch(p=>{throw c.addIssue(n(l,p)),c}),h=await Reflect.apply(a,this,d);return await o._def.returns._def.type.parseAsync(h,s).catch(p=>{throw c.addIssue(i(h,p)),c})})}else{const o=this;return zs(function(...l){const c=o._def.args.safeParse(l,s);if(!c.success)throw new Ia([n(l,c.error)]);const d=Reflect.apply(a,this,c.data),h=o._def.returns.safeParse(d,s);if(!h.success)throw new Ia([i(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Pm({...this._def,args:uc.create(t).rest(qf.create())})}returns(t){return new Pm({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Pm({args:t||uc.create([]).rest(qf.create()),returns:r||qf.create(),typeName:Bt.ZodFunction,...or(n)})}}class Cb extends _r{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Cb.create=(e,t)=>new Cb({getter:e,typeName:Bt.ZodLazy,...or(t)});class kb extends _r{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Je(r,{received:r.data,code:Pe.invalid_literal,expected:this._def.value}),Ht}return{status:"valid",value:t.data}}get value(){return this._def.value}}kb.create=(e,t)=>new kb({value:e,typeName:Bt.ZodLiteral,...or(t)});function mpe(e,t){return new rh({values:e,typeName:Bt.ZodEnum,...or(t)})}class rh extends _r{constructor(){super(...arguments),ux.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Je(r,{expected:Fr.joinValues(n),received:r.parsedType,code:Pe.invalid_type}),Ht}if(wT(this,ux)||hpe(this,ux,new Set(this._def.values)),!wT(this,ux).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Je(r,{received:r.data,code:Pe.invalid_enum_value,options:n}),Ht}return zs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return rh.create(t,{...this._def,...r})}exclude(t,r=this._def){return rh.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}ux=new WeakMap;rh.create=mpe;class Eb extends _r{constructor(){super(...arguments),dx.set(this,void 0)}_parse(t){const r=Fr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==tt.string&&n.parsedType!==tt.number){const i=Fr.objectValues(r);return Je(n,{expected:Fr.joinValues(i),received:n.parsedType,code:Pe.invalid_type}),Ht}if(wT(this,dx)||hpe(this,dx,new Set(Fr.getValidEnumValues(this._def.values))),!wT(this,dx).has(t.data)){const i=Fr.objectValues(r);return Je(n,{received:n.data,code:Pe.invalid_enum_value,options:i}),Ht}return zs(t.data)}get enum(){return this._def.values}}dx=new WeakMap;Eb.create=(e,t)=>new Eb({values:e,typeName:Bt.ZodNativeEnum,...or(t)});class vv extends _r{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==tt.promise&&r.common.async===!1)return Je(r,{code:Pe.invalid_type,expected:tt.promise,received:r.parsedType}),Ht;const n=r.parsedType===tt.promise?r.data:Promise.resolve(r.data);return zs(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}vv.create=(e,t)=>new vv({type:e,typeName:Bt.ZodPromise,...or(t)});class sl extends _r{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Bt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:a=>{Je(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(n.data,s);if(n.common.async)return Promise.resolve(a).then(async o=>{if(r.value==="aborted")return Ht;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ht:l.status==="dirty"||r.value==="dirty"?fm(l.value):l});{if(r.value==="aborted")return Ht;const o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?Ht:o.status==="dirty"||r.value==="dirty"?fm(o.value):o}}if(i.type==="refinement"){const a=o=>{const l=i.refinement(o,s);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Ht:(o.status==="dirty"&&r.dirty(),a(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Ht:(o.status==="dirty"&&r.dirty(),a(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!mp(a))return a;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>mp(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:r.value,value:o})):a);Fr.assertNever(i)}}sl.create=(e,t,r)=>new sl({schema:e,typeName:Bt.ZodEffects,effect:t,...or(r)});sl.createWithPreprocess=(e,t,r)=>new sl({schema:t,effect:{type:"preprocess",transform:e},typeName:Bt.ZodEffects,...or(r)});class tc extends _r{_parse(t){return this._getType(t)===tt.undefined?zs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}tc.create=(e,t)=>new tc({innerType:e,typeName:Bt.ZodOptional,...or(t)});class nh extends _r{_parse(t){return this._getType(t)===tt.null?zs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}nh.create=(e,t)=>new nh({innerType:e,typeName:Bt.ZodNullable,...or(t)});class Tb extends _r{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===tt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Tb.create=(e,t)=>new Tb({innerType:e,typeName:Bt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...or(t)});class Nb extends _r{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return vb(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ia(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ia(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Nb.create=(e,t)=>new Nb({innerType:e,typeName:Bt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...or(t)});class ET extends _r{_parse(t){if(this._getType(t)!==tt.nan){const n=this._getOrReturnCtx(t);return Je(n,{code:Pe.invalid_type,expected:tt.nan,received:n.parsedType}),Ht}return{status:"valid",value:t.data}}}ET.create=e=>new ET({typeName:Bt.ZodNaN,...or(e)});const Hot=Symbol("zod_brand");class HB extends _r{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class jw extends _r{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ht:s.status==="dirty"?(r.dirty(),fm(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ht:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new jw({in:t,out:r,typeName:Bt.ZodPipeline})}}class Ab extends _r{_parse(t){const r=this._def.innerType._parse(t),n=i=>(mp(i)&&(i.value=Object.freeze(i.value)),i);return vb(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}Ab.create=(e,t)=>new Ab({innerType:e,typeName:Bt.ZodReadonly,...or(t)});function LK(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function vpe(e,t={},r){return e?mv.create().superRefine((n,i)=>{var s,a;const o=e(n);if(o instanceof Promise)return o.then(l=>{var c,d;if(!l){const h=LK(t,n),f=(d=(c=h.fatal)!==null&&c!==void 0?c:r)!==null&&d!==void 0?d:!0;i.addIssue({code:"custom",...h,fatal:f})}});if(!o){const l=LK(t,n),c=(a=(s=l.fatal)!==null&&s!==void 0?s:r)!==null&&a!==void 0?a:!0;i.addIssue({code:"custom",...l,fatal:c})}}):mv.create()}const Vot={object:Vn.lazycreate};var Bt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Bt||(Bt={}));const Wot=(e,t={message:`Input not instance of ${e.name}`})=>vpe(r=>r instanceof e,t),ype=Go.create,xpe=eh.create,Got=ET.create,qot=th.create,_pe=yb.create,Yot=vp.create,Kot=ST.create,Zot=xb.create,Xot=_b.create,Jot=mv.create,Qot=qf.create,elt=xu.create,tlt=CT.create,rlt=Qo.create,nlt=Vn.create,ilt=Vn.strictCreate,slt=bb.create,alt=R2.create,olt=wb.create,llt=uc.create,clt=Sb.create,ult=kT.create,dlt=yp.create,hlt=Pm.create,flt=Cb.create,plt=kb.create,glt=rh.create,mlt=Eb.create,vlt=vv.create,DK=sl.create,ylt=tc.create,xlt=nh.create,_lt=sl.createWithPreprocess,blt=jw.create,wlt=()=>ype().optional(),Slt=()=>xpe().optional(),Clt=()=>_pe().optional(),klt={string:e=>Go.create({...e,coerce:!0}),number:e=>eh.create({...e,coerce:!0}),boolean:e=>yb.create({...e,coerce:!0}),bigint:e=>th.create({...e,coerce:!0}),date:e=>vp.create({...e,coerce:!0})},Elt=Ht;var Nc=Object.freeze({__proto__:null,defaultErrorMap:gv,setErrorMap:_ot,getErrorMap:_T,makeIssue:bT,EMPTY_PATH:bot,addIssueToContext:Je,ParseStatus:ps,INVALID:Ht,DIRTY:fm,OK:zs,isAborted:aO,isDirty:oO,isValid:mp,isAsync:vb,get util(){return Fr},get objectUtil(){return sO},ZodParsedType:tt,getParsedType:$c,ZodType:_r,datetimeRegex:gpe,ZodString:Go,ZodNumber:eh,ZodBigInt:th,ZodBoolean:yb,ZodDate:vp,ZodSymbol:ST,ZodUndefined:xb,ZodNull:_b,ZodAny:mv,ZodUnknown:qf,ZodNever:xu,ZodVoid:CT,ZodArray:Qo,ZodObject:Vn,ZodUnion:bb,ZodDiscriminatedUnion:R2,ZodIntersection:wb,ZodTuple:uc,ZodRecord:Sb,ZodMap:kT,ZodSet:yp,ZodFunction:Pm,ZodLazy:Cb,ZodLiteral:kb,ZodEnum:rh,ZodNativeEnum:Eb,ZodPromise:vv,ZodEffects:sl,ZodTransformer:sl,ZodOptional:tc,ZodNullable:nh,ZodDefault:Tb,ZodCatch:Nb,ZodNaN:ET,BRAND:Hot,ZodBranded:HB,ZodPipeline:jw,ZodReadonly:Ab,custom:vpe,Schema:_r,ZodSchema:_r,late:Vot,get ZodFirstPartyTypeKind(){return Bt},coerce:klt,any:Jot,array:rlt,bigint:qot,boolean:_pe,date:Yot,discriminatedUnion:alt,effect:DK,enum:glt,function:hlt,instanceof:Wot,intersection:olt,lazy:flt,literal:plt,map:ult,nan:Got,nativeEnum:mlt,never:elt,null:Xot,nullable:xlt,number:xpe,object:nlt,oboolean:Clt,onumber:Slt,optional:ylt,ostring:wlt,pipeline:blt,preprocess:_lt,promise:vlt,record:clt,set:dlt,strictObject:ilt,string:ype,symbol:Kot,transformer:DK,tuple:llt,undefined:Zot,union:slt,unknown:Qot,void:tlt,NEVER:Elt,ZodIssueCode:Pe,quotelessJson:xot,ZodError:Ia});Nc.object({prompt:Nc.string()}),Nc.object({result:Nc.object({success:Nc.boolean(),error:Nc.string().optional(),output:Nc.string().optional()})}),Nc.object({updateText:Nc.string()});gi({bridge:null,isConnecting:!1,error:null});const Tlt={BOTTOM_CENTER:4},OK=e=>{let t;const r=new Set,n=(c,d)=>{const h=typeof c=="function"?c(t):c;if(!Object.is(h,t)){const f=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(p=>p(t,f))}},i=()=>t,o={setState:n,getState:i,getInitialState:()=>l,subscribe:c=>(r.add(c),()=>r.delete(c))},l=t=e(n,i,o);return o},Nlt=e=>e?OK(e):OK,Alt=e=>e;function jlt(e,t=Alt){const r=Di.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return Di.useDebugValue(r),r}const $K=e=>{const t=Nlt(e),r=n=>jlt(t,n);return Object.assign(r,t),r},Rlt=e=>e?$K(e):$K;class Ilt{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(t,r){this.keyToValue.set(t,r),this.valueToKey.set(r,t)}getByKey(t){return this.keyToValue.get(t)}getByValue(t){return this.valueToKey.get(t)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class bpe{constructor(t){this.generateIdentifier=t,this.kv=new Ilt}register(t,r){this.kv.getByValue(t)||(r||(r=this.generateIdentifier(t)),this.kv.set(r,t))}clear(){this.kv.clear()}getIdentifier(t){return this.kv.getByValue(t)}getValue(t){return this.kv.getByKey(t)}}class Mlt extends bpe{constructor(){super(t=>t.name),this.classToAllowedProps=new Map}register(t,r){typeof r=="object"?(r.allowProps&&this.classToAllowedProps.set(t,r.allowProps),super.register(t,r.identifier)):super.register(t,r)}getAllowedProps(t){return this.classToAllowedProps.get(t)}}function Plt(e){if("values"in Object)return Object.values(e);const t=[];for(const r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t}function Llt(e,t){const r=Plt(e);if("find"in r)return r.find(t);const n=r;for(let i=0;i<n.length;i++){const s=n[i];if(t(s))return s}}function yv(e,t){Object.entries(e).forEach(([r,n])=>t(n,r))}function fk(e,t){return e.indexOf(t)!==-1}function BK(e,t){for(let r=0;r<e.length;r++){const n=e[r];if(t(n))return n}}class Dlt{constructor(){this.transfomers={}}register(t){this.transfomers[t.name]=t}findApplicable(t){return Llt(this.transfomers,r=>r.isApplicable(t))}findByName(t){return this.transfomers[t]}}const Olt=e=>Object.prototype.toString.call(e).slice(8,-1),wpe=e=>typeof e>"u",$lt=e=>e===null,jb=e=>typeof e!="object"||e===null||e===Object.prototype?!1:Object.getPrototypeOf(e)===null?!0:Object.getPrototypeOf(e)===Object.prototype,cO=e=>jb(e)&&Object.keys(e).length===0,ih=e=>Array.isArray(e),Blt=e=>typeof e=="string",Flt=e=>typeof e=="number"&&!isNaN(e),zlt=e=>typeof e=="boolean",Ult=e=>e instanceof RegExp,Rb=e=>e instanceof Map,Ib=e=>e instanceof Set,Spe=e=>Olt(e)==="Symbol",Hlt=e=>e instanceof Date&&!isNaN(e.valueOf()),Vlt=e=>e instanceof Error,FK=e=>typeof e=="number"&&isNaN(e),Wlt=e=>zlt(e)||$lt(e)||wpe(e)||Flt(e)||Blt(e)||Spe(e),Glt=e=>typeof e=="bigint",qlt=e=>e===1/0||e===-1/0,Ylt=e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),Klt=e=>e instanceof URL,Cpe=e=>e.replace(/\./g,"\\."),BI=e=>e.map(String).map(Cpe).join("."),Jx=e=>{const t=[];let r="";for(let i=0;i<e.length;i++){let s=e.charAt(i);if(s==="\\"&&e.charAt(i+1)==="."){r+=".",i++;continue}if(s==="."){t.push(r),r="";continue}r+=s}const n=r;return t.push(n),t};function kl(e,t,r,n){return{isApplicable:e,annotation:t,transform:r,untransform:n}}const kpe=[kl(wpe,"undefined",()=>null,()=>{}),kl(Glt,"bigint",e=>e.toString(),e=>typeof BigInt<"u"?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),kl(Hlt,"Date",e=>e.toISOString(),e=>new Date(e)),kl(Vlt,"Error",(e,t)=>{const r={name:e.name,message:e.message};return t.allowedErrorProps.forEach(n=>{r[n]=e[n]}),r},(e,t)=>{const r=new Error(e.message);return r.name=e.name,r.stack=e.stack,t.allowedErrorProps.forEach(n=>{r[n]=e[n]}),r}),kl(Ult,"regexp",e=>""+e,e=>{const t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}),kl(Ib,"set",e=>[...e.values()],e=>new Set(e)),kl(Rb,"map",e=>[...e.entries()],e=>new Map(e)),kl(e=>FK(e)||qlt(e),"number",e=>FK(e)?"NaN":e>0?"Infinity":"-Infinity",Number),kl(e=>e===0&&1/e===-1/0,"number",()=>"-0",Number),kl(Klt,"URL",e=>e.toString(),e=>new URL(e))];function I2(e,t,r,n){return{isApplicable:e,annotation:t,transform:r,untransform:n}}const Epe=I2((e,t)=>Spe(e)?!!t.symbolRegistry.getIdentifier(e):!1,(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,r)=>{const n=r.symbolRegistry.getValue(t[1]);if(!n)throw new Error("Trying to deserialize unknown symbol");return n}),Zlt=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),Tpe=I2(Ylt,e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{const r=Zlt[t[1]];if(!r)throw new Error("Trying to deserialize unknown typed array");return new r(e)});function Npe(e,t){return e!=null&&e.constructor?!!t.classRegistry.getIdentifier(e.constructor):!1}const Ape=I2(Npe,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{const r=t.classRegistry.getAllowedProps(e.constructor);if(!r)return{...e};const n={};return r.forEach(i=>{n[i]=e[i]}),n},(e,t,r)=>{const n=r.classRegistry.getValue(t[1]);if(!n)throw new Error(`Trying to deserialize unknown class '${t[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(n.prototype),e)}),jpe=I2((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,r)=>{const n=r.customTransformerRegistry.findByName(t[1]);if(!n)throw new Error("Trying to deserialize unknown custom value");return n.deserialize(e)}),Xlt=[Ape,Epe,jpe,Tpe],zK=(e,t)=>{const r=BK(Xlt,i=>i.isApplicable(e,t));if(r)return{value:r.transform(e,t),type:r.annotation(e,t)};const n=BK(kpe,i=>i.isApplicable(e,t));if(n)return{value:n.transform(e,t),type:n.annotation}},Rpe={};kpe.forEach(e=>{Rpe[e.annotation]=e});const Jlt=(e,t,r)=>{if(ih(t))switch(t[0]){case"symbol":return Epe.untransform(e,t,r);case"class":return Ape.untransform(e,t,r);case"custom":return jpe.untransform(e,t,r);case"typed-array":return Tpe.untransform(e,t,r);default:throw new Error("Unknown transformation: "+t)}else{const n=Rpe[t];if(!n)throw new Error("Unknown transformation: "+t);return n.untransform(e,r)}},pm=(e,t)=>{if(t>e.size)throw new Error("index out of bounds");const r=e.keys();for(;t>0;)r.next(),t--;return r.next().value};function Ipe(e){if(fk(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(fk(e,"prototype"))throw new Error("prototype is not allowed as a property");if(fk(e,"constructor"))throw new Error("constructor is not allowed as a property")}const Qlt=(e,t)=>{Ipe(t);for(let r=0;r<t.length;r++){const n=t[r];if(Ib(e))e=pm(e,+n);else if(Rb(e)){const i=+n,s=+t[++r]==0?"key":"value",a=pm(e,i);switch(s){case"key":e=a;break;case"value":e=e.get(a);break}}else e=e[n]}return e},uO=(e,t,r)=>{if(Ipe(t),t.length===0)return r(e);let n=e;for(let s=0;s<t.length-1;s++){const a=t[s];if(ih(n)){const o=+a;n=n[o]}else if(jb(n))n=n[a];else if(Ib(n)){const o=+a;n=pm(n,o)}else if(Rb(n)){if(s===t.length-2)break;const l=+a,c=+t[++s]==0?"key":"value",d=pm(n,l);switch(c){case"key":n=d;break;case"value":n=n.get(d);break}}}const i=t[t.length-1];if(ih(n)?n[+i]=r(n[+i]):jb(n)&&(n[i]=r(n[i])),Ib(n)){const s=pm(n,+i),a=r(s);s!==a&&(n.delete(s),n.add(a))}if(Rb(n)){const s=+t[t.length-2],a=pm(n,s);switch(+i==0?"key":"value"){case"key":{const l=r(a);n.set(l,n.get(a)),l!==a&&n.delete(a);break}case"value":{n.set(a,r(n.get(a)));break}}}return e};function dO(e,t,r=[]){if(!e)return;if(!ih(e)){yv(e,(s,a)=>dO(s,t,[...r,...Jx(a)]));return}const[n,i]=e;i&&yv(i,(s,a)=>{dO(s,t,[...r,...Jx(a)])}),t(n,r)}function ect(e,t,r){return dO(t,(n,i)=>{e=uO(e,i,s=>Jlt(s,n,r))}),e}function tct(e,t){function r(n,i){const s=Qlt(e,Jx(i));n.map(Jx).forEach(a=>{e=uO(e,a,()=>s)})}if(ih(t)){const[n,i]=t;n.forEach(s=>{e=uO(e,Jx(s),()=>e)}),i&&yv(i,r)}else yv(t,r);return e}const rct=(e,t)=>jb(e)||ih(e)||Rb(e)||Ib(e)||Npe(e,t);function nct(e,t,r){const n=r.get(e);n?n.push(t):r.set(e,[t])}function ict(e,t){const r={};let n;return e.forEach(i=>{if(i.length<=1)return;t||(i=i.map(o=>o.map(String)).sort((o,l)=>o.length-l.length));const[s,...a]=i;s.length===0?n=a.map(BI):r[BI(s)]=a.map(BI)}),n?cO(r)?[n]:[n,r]:cO(r)?void 0:r}const Mpe=(e,t,r,n,i=[],s=[],a=new Map)=>{const o=Wlt(e);if(!o){nct(e,i,t);const p=a.get(e);if(p)return n?{transformedValue:null}:p}if(!rct(e,r)){const p=zK(e,r),g=p?{transformedValue:p.value,annotations:[p.type]}:{transformedValue:e};return o||a.set(e,g),g}if(fk(s,e))return{transformedValue:null};const l=zK(e,r),c=(l==null?void 0:l.value)??e,d=ih(c)?[]:{},h={};yv(c,(p,g)=>{if(g==="__proto__"||g==="constructor"||g==="prototype")throw new Error(`Detected property ${g}. This is a prototype pollution risk, please remove it from your object.`);const v=Mpe(p,t,r,n,[...i,g],[...s,e],a);d[g]=v.transformedValue,ih(v.annotations)?h[g]=v.annotations:jb(v.annotations)&&yv(v.annotations,(m,y)=>{h[Cpe(g)+"."+y]=m})});const f=cO(h)?{transformedValue:d,annotations:l?[l.type]:void 0}:{transformedValue:d,annotations:l?[l.type,h]:h};return o||a.set(e,f),f};function Ppe(e){return Object.prototype.toString.call(e).slice(8,-1)}function UK(e){return Ppe(e)==="Array"}function sct(e){if(Ppe(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}function act(e,t,r,n,i){const s={}.propertyIsEnumerable.call(n,t)?"enumerable":"nonenumerable";s==="enumerable"&&(e[t]=r),i&&s==="nonenumerable"&&Object.defineProperty(e,t,{value:r,enumerable:!1,writable:!0,configurable:!0})}function hO(e,t={}){if(UK(e))return e.map(i=>hO(i,t));if(!sct(e))return e;const r=Object.getOwnPropertyNames(e),n=Object.getOwnPropertySymbols(e);return[...r,...n].reduce((i,s)=>{if(UK(t.props)&&!t.props.includes(s))return i;const a=e[s],o=hO(a,t);return act(i,s,o,e,t.nonenumerable),i},{})}class Ir{constructor({dedupe:t=!1}={}){this.classRegistry=new Mlt,this.symbolRegistry=new bpe(r=>r.description??""),this.customTransformerRegistry=new Dlt,this.allowedErrorProps=[],this.dedupe=t}serialize(t){const r=new Map,n=Mpe(t,r,this,this.dedupe),i={json:n.transformedValue};n.annotations&&(i.meta={...i.meta,values:n.annotations});const s=ict(r,this.dedupe);return s&&(i.meta={...i.meta,referentialEqualities:s}),i}deserialize(t){const{json:r,meta:n}=t;let i=hO(r);return n!=null&&n.values&&(i=ect(i,n.values,this)),n!=null&&n.referentialEqualities&&(i=tct(i,n.referentialEqualities)),i}stringify(t){return JSON.stringify(this.serialize(t))}parse(t){return this.deserialize(JSON.parse(t))}registerClass(t,r){this.classRegistry.register(t,r)}registerSymbol(t,r){this.symbolRegistry.register(t,r)}registerCustom(t,r){this.customTransformerRegistry.register({name:r,...t})}allowErrorProps(...t){this.allowedErrorProps.push(...t)}}Ir.defaultInstance=new Ir;Ir.serialize=Ir.defaultInstance.serialize.bind(Ir.defaultInstance);Ir.deserialize=Ir.defaultInstance.deserialize.bind(Ir.defaultInstance);Ir.stringify=Ir.defaultInstance.stringify.bind(Ir.defaultInstance);Ir.parse=Ir.defaultInstance.parse.bind(Ir.defaultInstance);Ir.registerClass=Ir.defaultInstance.registerClass.bind(Ir.defaultInstance);Ir.registerSymbol=Ir.defaultInstance.registerSymbol.bind(Ir.defaultInstance);Ir.registerCustom=Ir.defaultInstance.registerCustom.bind(Ir.defaultInstance);Ir.allowErrorProps=Ir.defaultInstance.allowErrorProps.bind(Ir.defaultInstance);Ir.serialize;Ir.deserialize;Ir.stringify;Ir.parse;Ir.registerClass;Ir.registerCustom;Ir.registerSymbol;Ir.allowErrorProps;function oct(e,t){let r;try{r=e()}catch{return}return{getItem:i=>{var s;const a=l=>l===null?null:JSON.parse(l,void 0),o=(s=r.getItem(i))!=null?s:null;return o instanceof Promise?o.then(a):a(o)},setItem:(i,s)=>r.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>r.removeItem(i)}}const fO=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return fO(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return fO(n)(r)}}}},lct=(e,t)=>(r,n,i)=>{let s={storage:oct(()=>localStorage),partialize:v=>v,version:0,merge:(v,m)=>({...m,...v}),...t},a=!1;const o=new Set,l=new Set;let c=s.storage;if(!c)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...v)},n,i);const d=()=>{const v=s.partialize({...n()});return c.setItem(s.name,{state:v,version:s.version})},h=i.setState;i.setState=(v,m)=>{h(v,m),d()};const f=e((...v)=>{r(...v),d()},n,i);i.getInitialState=()=>f;let p;const g=()=>{var v,m;if(!c)return;a=!1,o.forEach(x=>{var _;return x((_=n())!=null?_:f)});const y=((m=s.onRehydrateStorage)==null?void 0:m.call(s,(v=n())!=null?v:f))||void 0;return fO(c.getItem.bind(c))(s.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==s.version){if(s.migrate){const _=s.migrate(x.state,x.version);return _ instanceof Promise?_.then(b=>[!0,b]):[!0,_]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var _;const[b,w]=x;if(p=s.merge(w,(_=n())!=null?_:f),r(p,!0),b)return d()}).then(()=>{y==null||y(p,void 0),p=n(),a=!0,l.forEach(x=>x(p))}).catch(x=>{y==null||y(void 0,x)})};return i.persist={setOptions:v=>{s={...s,...v},v.storage&&(c=v.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>a,onHydrate:v=>(o.add(v),()=>{o.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},s.skipHydration||g(),p||f},cct=lct,uct=e=>{const t=e;return{appBlockRequestList:[],appUnblockRequestList:[],lastBlockRequestNumber:0,lastUnblockRequestNumber:0,isMainAppBlocked:!1,requestMainAppBlock:()=>{let r=0;return t(n=>(r=n.lastBlockRequestNumber+1,{appBlockRequestList:[...n.appBlockRequestList,r],lastBlockRequestNumber:r,isMainAppBlocked:n.appUnblockRequestList.length===0})),r},requestMainAppUnblock:()=>{let r=0;return t(n=>(r=n.lastUnblockRequestNumber+1,{appUnblockRequestList:[...n.appUnblockRequestList,r],lastUnblockRequestNumber:r,isMainAppBlocked:!1})),r},discardMainAppBlock:r=>{t(n=>{const i=n.appBlockRequestList.filter(s=>s!==r);return{appBlockRequestList:i,isMainAppBlocked:i.length>0&&n.appUnblockRequestList.length===0}})},discardMainAppUnblock:r=>{t(n=>{const i=n.appUnblockRequestList.filter(s=>s!==r);return{appUnblockRequestList:i,isMainAppBlocked:n.appBlockRequestList.length>0&&i.length===0}})},toolbarPosition:Tlt.BOTTOM_CENTER,setToolbarPosition:r=>t(()=>({toolbarPosition:r})),toolbarBoxRef:mT(),setToolbarBoxRef:r=>t(()=>({toolbarBoxRef:r})),unsetToolbarBoxRef:()=>t(()=>({toolbarBoxRef:mT()})),minimized:!1,minimize:()=>t(()=>({minimized:!0})),expand:()=>t(()=>({minimized:!1})),promotedOnStartup:!1,promotionFinished:()=>t(()=>({promotedOnStartup:!0}))}};function dct(e){return{getItem:t=>{const r=e.getItem(t);return r?Ir.parse(r):null},setItem:(t,r)=>{e.setItem(t,Ir.stringify(r))},removeItem:t=>e.removeItem(t)}}Rlt(cct(uct,{name:"stgws:companion",storage:dct(sessionStorage),partialize:e=>({toolbarPosition:e.toolbarPosition})}));const hct=gi({chats:[],currentChatId:null,createChat:()=>"",deleteChat:()=>{},setCurrentChat:()=>{},setChatInput:()=>{},addChatDomContext:()=>{},removeChatDomContext:()=>{},addMessage:()=>{},chatAreaState:"hidden",setChatAreaState:()=>{},isPromptCreationActive:!1,startPromptCreation:()=>{},stopPromptCreation:()=>{}});function VB(){const e=Jn(hct);if(!e)throw new Error("useChatState must be used within a ChatStateProvider");return e}gi(new URL(window.location.href));function Lpe(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Lpe(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function fct(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Lpe(e))&&(n&&(n+=" "),n+=t);return n}const WB="-",pct=e=>{const t=mct(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const o=a.split(WB);return o[0]===""&&o.length!==1&&o.shift(),Dpe(o,t)||gct(a)},getConflictingClassGroupIds:(a,o)=>{const l=r[a]||[];return o&&n[a]?[...l,...n[a]]:l}}},Dpe=(e,t)=>{var r;if(e.length===0)return t.classGroupId;const n=e[0],i=t.nextPart.get(n),s=i?Dpe(e.slice(1),i):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(WB);return(r=t.validators.find(({validator:o})=>o(a)))==null?void 0:r.classGroupId},HK=/^\[(.+)\]$/,gct=e=>{if(HK.test(e)){const t=HK.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},mct=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const i in r)pO(r[i],n,i,t);return n},pO=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:VK(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(vct(i)){pO(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{pO(a,VK(t,s),r,n)})})},VK=(e,t)=>{let r=e;return t.split(WB).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},vct=e=>e.isThemeGetter,yct=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(s,a)=>{r.set(s,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},gO="!",mO=":",xct=mO.length,_ct=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=i=>{const s=[];let a=0,o=0,l=0,c;for(let g=0;g<i.length;g++){let v=i[g];if(a===0&&o===0){if(v===mO){s.push(i.slice(l,g)),l=g+xct;continue}if(v==="/"){c=g;continue}}v==="["?a++:v==="]"?a--:v==="("?o++:v===")"&&o--}const d=s.length===0?i:i.substring(l),h=bct(d),f=h!==d,p=c&&c>l?c-l:void 0;return{modifiers:s,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}};if(t){const i=t+mO,s=n;n=a=>a.startsWith(i)?s(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=s=>r({className:s,parseClassName:i})}return n},bct=e=>e.endsWith(gO)?e.substring(0,e.length-1):e.startsWith(gO)?e.substring(1):e,wct=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let s=[];return n.forEach(a=>{a[0]==="["||t[a]?(i.push(...s.sort(),a),s=[]):s.push(a)}),i.push(...s.sort()),i}},Sct=e=>({cache:yct(e.cacheSize),parseClassName:_ct(e),sortModifiers:wct(e),...pct(e)}),Cct=/\s+/,kct=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:s}=t,a=[],o=e.trim().split(Cct);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{isExternal:h,modifiers:f,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:v}=r(d);if(h){l=d+(l.length>0?" "+l:l);continue}let m=!!v,y=n(m?g.substring(0,v):g);if(!y){if(!m){l=d+(l.length>0?" "+l:l);continue}if(y=n(g),!y){l=d+(l.length>0?" "+l:l);continue}m=!1}const x=s(f).join(":"),_=p?x+gO:x,b=_+y;if(a.includes(b))continue;a.push(b);const w=i(y,m);for(let S=0;S<w.length;++S){const k=w[S];a.push(_+k)}l=d+(l.length>0?" "+l:l)}return l};function Ect(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Ope(t))&&(n&&(n+=" "),n+=r);return n}const Ope=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Ope(e[n]))&&(r&&(r+=" "),r+=t);return r};function WK(e,...t){let r,n,i,s=a;function a(l){const c=t.reduce((d,h)=>h(d),e());return r=Sct(c),n=r.cache.get,i=r.cache.set,s=o,o(l)}function o(l){const c=n(l);if(c)return c;const d=kct(l,r);return i(l,d),d}return function(){return s(Ect.apply(null,arguments))}}const mi=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},$pe=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Bpe=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Tct=/^\d+\/\d+$/,Nct=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Act=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jct=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Rct=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ict=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rg=e=>Tct.test(e),br=e=>!!e&&!Number.isNaN(Number(e)),Vu=e=>!!e&&Number.isInteger(Number(e)),FI=e=>e.endsWith("%")&&br(e.slice(0,-1)),Ac=e=>Nct.test(e),Mct=()=>!0,Pct=e=>Act.test(e)&&!jct.test(e),Fpe=()=>!1,Lct=e=>Rct.test(e),Dct=e=>Ict.test(e),Oct=e=>!ut(e)&&!dt(e),$ct=e=>i0(e,Hpe,Fpe),ut=e=>$pe.test(e),Zh=e=>i0(e,Vpe,Pct),zI=e=>i0(e,Hct,br),GK=e=>i0(e,zpe,Fpe),Bct=e=>i0(e,Upe,Dct),cC=e=>i0(e,Wpe,Lct),dt=e=>Bpe.test(e),Oy=e=>s0(e,Vpe),Fct=e=>s0(e,Vct),qK=e=>s0(e,zpe),zct=e=>s0(e,Hpe),Uct=e=>s0(e,Upe),uC=e=>s0(e,Wpe,!0),i0=(e,t,r)=>{const n=$pe.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},s0=(e,t,r=!1)=>{const n=Bpe.exec(e);return n?n[1]?t(n[1]):r:!1},zpe=e=>e==="position"||e==="percentage",Upe=e=>e==="image"||e==="url",Hpe=e=>e==="length"||e==="size"||e==="bg-size",Vpe=e=>e==="length",Hct=e=>e==="number",Vct=e=>e==="family-name",Wpe=e=>e==="shadow",YK=()=>{const e=mi("color"),t=mi("font"),r=mi("text"),n=mi("font-weight"),i=mi("tracking"),s=mi("leading"),a=mi("breakpoint"),o=mi("container"),l=mi("spacing"),c=mi("radius"),d=mi("shadow"),h=mi("inset-shadow"),f=mi("text-shadow"),p=mi("drop-shadow"),g=mi("blur"),v=mi("perspective"),m=mi("aspect"),y=mi("ease"),x=mi("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],w=()=>[...b(),dt,ut],S=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],C=()=>[dt,ut,l],E=()=>[Rg,"full","auto",...C()],T=()=>[Vu,"none","subgrid",dt,ut],N=()=>["auto",{span:["full",Vu,dt,ut]},Vu,dt,ut],R=()=>[Vu,"auto",dt,ut],P=()=>["auto","min","max","fr",dt,ut],D=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...C()],O=()=>[Rg,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],j=()=>[e,dt,ut],M=()=>[...b(),qK,GK,{position:[dt,ut]}],I=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",zct,$ct,{size:[dt,ut]}],U=()=>[FI,Oy,Zh],F=()=>["","none","full",c,dt,ut],G=()=>["",br,Oy,Zh],Y=()=>["solid","dashed","dotted","double"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>[br,FI,qK,GK],W=()=>["","none",g,dt,ut],K=()=>["none",br,dt,ut],X=()=>["none",br,dt,ut],Q=()=>[br,dt,ut],re=()=>[Rg,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ac],breakpoint:[Ac],color:[Mct],container:[Ac],"drop-shadow":[Ac],ease:["in","out","in-out"],font:[Oct],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ac],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ac],shadow:[Ac],spacing:["px",br],text:[Ac],"text-shadow":[Ac],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Rg,ut,dt,m]}],container:["container"],columns:[{columns:[br,ut,dt,o]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:w()}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[Vu,"auto",dt,ut]}],basis:[{basis:[Rg,"full","auto",o,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[br,Rg,"auto","initial","none",ut]}],grow:[{grow:["",br,dt,ut]}],shrink:[{shrink:["",br,dt,ut]}],order:[{order:[Vu,"first","last","none",dt,ut]}],"grid-cols":[{"grid-cols":T()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":T()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...D(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...D()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":D()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:O()}],w:[{w:[o,"screen",...O()]}],"min-w":[{"min-w":[o,"screen","none",...O()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...O()]}],h:[{h:["screen",...O()]}],"min-h":[{"min-h":["screen","none",...O()]}],"max-h":[{"max-h":["screen",...O()]}],"font-size":[{text:["base",r,Oy,Zh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,dt,zI]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",FI,ut]}],"font-family":[{font:[Fct,ut,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,dt,ut]}],"line-clamp":[{"line-clamp":[br,"none",dt,zI]}],leading:[{leading:[s,...C()]}],"list-image":[{"list-image":["none",dt,ut]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",dt,ut]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:[br,"from-font","auto",dt,Zh]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[br,"auto",dt,ut]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",dt,ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",dt,ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:M()}],"bg-repeat":[{bg:I()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vu,dt,ut],radial:["",dt,ut],conic:[Vu,dt,ut]},Uct,Bct]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:F()}],"rounded-s":[{"rounded-s":F()}],"rounded-e":[{"rounded-e":F()}],"rounded-t":[{"rounded-t":F()}],"rounded-r":[{"rounded-r":F()}],"rounded-b":[{"rounded-b":F()}],"rounded-l":[{"rounded-l":F()}],"rounded-ss":[{"rounded-ss":F()}],"rounded-se":[{"rounded-se":F()}],"rounded-ee":[{"rounded-ee":F()}],"rounded-es":[{"rounded-es":F()}],"rounded-tl":[{"rounded-tl":F()}],"rounded-tr":[{"rounded-tr":F()}],"rounded-br":[{"rounded-br":F()}],"rounded-bl":[{"rounded-bl":F()}],"border-w":[{border:G()}],"border-w-x":[{"border-x":G()}],"border-w-y":[{"border-y":G()}],"border-w-s":[{"border-s":G()}],"border-w-e":[{"border-e":G()}],"border-w-t":[{"border-t":G()}],"border-w-r":[{"border-r":G()}],"border-w-b":[{"border-b":G()}],"border-w-l":[{"border-l":G()}],"divide-x":[{"divide-x":G()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":G()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Y(),"hidden","none"]}],"divide-style":[{divide:[...Y(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...Y(),"none","hidden"]}],"outline-offset":[{"outline-offset":[br,dt,ut]}],"outline-w":[{outline:["",br,Oy,Zh]}],"outline-color":[{outline:j()}],shadow:[{shadow:["","none",d,uC,cC]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",h,uC,cC]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[br,Zh]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":G()}],"inset-ring-color":[{"inset-ring":j()}],"text-shadow":[{"text-shadow":["none",f,uC,cC]}],"text-shadow-color":[{"text-shadow":j()}],opacity:[{opacity:[br,dt,ut]}],"mix-blend":[{"mix-blend":[...Z(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Z()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[br]}],"mask-image-linear-from-pos":[{"mask-linear-from":B()}],"mask-image-linear-to-pos":[{"mask-linear-to":B()}],"mask-image-linear-from-color":[{"mask-linear-from":j()}],"mask-image-linear-to-color":[{"mask-linear-to":j()}],"mask-image-t-from-pos":[{"mask-t-from":B()}],"mask-image-t-to-pos":[{"mask-t-to":B()}],"mask-image-t-from-color":[{"mask-t-from":j()}],"mask-image-t-to-color":[{"mask-t-to":j()}],"mask-image-r-from-pos":[{"mask-r-from":B()}],"mask-image-r-to-pos":[{"mask-r-to":B()}],"mask-image-r-from-color":[{"mask-r-from":j()}],"mask-image-r-to-color":[{"mask-r-to":j()}],"mask-image-b-from-pos":[{"mask-b-from":B()}],"mask-image-b-to-pos":[{"mask-b-to":B()}],"mask-image-b-from-color":[{"mask-b-from":j()}],"mask-image-b-to-color":[{"mask-b-to":j()}],"mask-image-l-from-pos":[{"mask-l-from":B()}],"mask-image-l-to-pos":[{"mask-l-to":B()}],"mask-image-l-from-color":[{"mask-l-from":j()}],"mask-image-l-to-color":[{"mask-l-to":j()}],"mask-image-x-from-pos":[{"mask-x-from":B()}],"mask-image-x-to-pos":[{"mask-x-to":B()}],"mask-image-x-from-color":[{"mask-x-from":j()}],"mask-image-x-to-color":[{"mask-x-to":j()}],"mask-image-y-from-pos":[{"mask-y-from":B()}],"mask-image-y-to-pos":[{"mask-y-to":B()}],"mask-image-y-from-color":[{"mask-y-from":j()}],"mask-image-y-to-color":[{"mask-y-to":j()}],"mask-image-radial":[{"mask-radial":[dt,ut]}],"mask-image-radial-from-pos":[{"mask-radial-from":B()}],"mask-image-radial-to-pos":[{"mask-radial-to":B()}],"mask-image-radial-from-color":[{"mask-radial-from":j()}],"mask-image-radial-to-color":[{"mask-radial-to":j()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":b()}],"mask-image-conic-pos":[{"mask-conic":[br]}],"mask-image-conic-from-pos":[{"mask-conic-from":B()}],"mask-image-conic-to-pos":[{"mask-conic-to":B()}],"mask-image-conic-from-color":[{"mask-conic-from":j()}],"mask-image-conic-to-color":[{"mask-conic-to":j()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:M()}],"mask-repeat":[{mask:I()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",dt,ut]}],filter:[{filter:["","none",dt,ut]}],blur:[{blur:W()}],brightness:[{brightness:[br,dt,ut]}],contrast:[{contrast:[br,dt,ut]}],"drop-shadow":[{"drop-shadow":["","none",p,uC,cC]}],"drop-shadow-color":[{"drop-shadow":j()}],grayscale:[{grayscale:["",br,dt,ut]}],"hue-rotate":[{"hue-rotate":[br,dt,ut]}],invert:[{invert:["",br,dt,ut]}],saturate:[{saturate:[br,dt,ut]}],sepia:[{sepia:["",br,dt,ut]}],"backdrop-filter":[{"backdrop-filter":["","none",dt,ut]}],"backdrop-blur":[{"backdrop-blur":W()}],"backdrop-brightness":[{"backdrop-brightness":[br,dt,ut]}],"backdrop-contrast":[{"backdrop-contrast":[br,dt,ut]}],"backdrop-grayscale":[{"backdrop-grayscale":["",br,dt,ut]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[br,dt,ut]}],"backdrop-invert":[{"backdrop-invert":["",br,dt,ut]}],"backdrop-opacity":[{"backdrop-opacity":[br,dt,ut]}],"backdrop-saturate":[{"backdrop-saturate":[br,dt,ut]}],"backdrop-sepia":[{"backdrop-sepia":["",br,dt,ut]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",dt,ut]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[br,"initial",dt,ut]}],ease:[{ease:["linear","initial",y,dt,ut]}],delay:[{delay:[br,dt,ut]}],animate:[{animate:["none",x,dt,ut]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,dt,ut]}],"perspective-origin":[{"perspective-origin":w()}],rotate:[{rotate:K()}],"rotate-x":[{"rotate-x":K()}],"rotate-y":[{"rotate-y":K()}],"rotate-z":[{"rotate-z":K()}],scale:[{scale:X()}],"scale-x":[{"scale-x":X()}],"scale-y":[{"scale-y":X()}],"scale-z":[{"scale-z":X()}],"scale-3d":["scale-3d"],skew:[{skew:Q()}],"skew-x":[{"skew-x":Q()}],"skew-y":[{"skew-y":Q()}],transform:[{transform:[dt,ut,"","none","gpu","cpu"]}],"transform-origin":[{origin:w()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:re()}],"translate-x":[{"translate-x":re()}],"translate-y":[{"translate-y":re()}],"translate-z":[{"translate-z":re()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",dt,ut]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",dt,ut]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[br,Oy,Zh,zI]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Wct=(e,{cacheSize:t,prefix:r,experimentalParseClassName:n,extend:i={},override:s={}})=>(hx(e,"cacheSize",t),hx(e,"prefix",r),hx(e,"experimentalParseClassName",n),dC(e.theme,s.theme),dC(e.classGroups,s.classGroups),dC(e.conflictingClassGroups,s.conflictingClassGroups),dC(e.conflictingClassGroupModifiers,s.conflictingClassGroupModifiers),hx(e,"orderSensitiveModifiers",s.orderSensitiveModifiers),hC(e.theme,i.theme),hC(e.classGroups,i.classGroups),hC(e.conflictingClassGroups,i.conflictingClassGroups),hC(e.conflictingClassGroupModifiers,i.conflictingClassGroupModifiers),Gpe(e,i,"orderSensitiveModifiers"),e),hx=(e,t,r)=>{r!==void 0&&(e[t]=r)},dC=(e,t)=>{if(t)for(const r in t)hx(e,r,t[r])},hC=(e,t)=>{if(t)for(const r in t)Gpe(e,t,r)},Gpe=(e,t,r)=>{const n=t[r];n!==void 0&&(e[r]=e[r]?e[r].concat(n):n)},Gct=(e,...t)=>typeof e=="function"?WK(YK,e,...t):WK(()=>Wct(YK(),e),...t),qct=Gct({extend:{classGroups:{"bg-image":["bg-gradient","bg-gradient-light-1","bg-gradient-light-2","bg-gradient-light-3"]}}});function xp(...e){return qct(fct(e))}const qpe=typeof document<"u"?Di.useLayoutEffect:()=>{};function Yct(e){const t=yr(null);return qpe(()=>{t.current=e},[e]),Er((...r)=>{const n=t.current;return n==null?void 0:n(...r)},[])}const xh=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},jf=e=>e&&"window"in e&&e.window===e?e:xh(e).defaultView||window;function Ype(e,t){return t&&e?e.contains(t):!1}const vO=(e=document)=>e.activeElement;function Kpe(e){return e.target}function Kct(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function Zct(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Zpe(e){let t=null;return()=>(t==null&&(t=e()),t)}const Xct=Zpe(function(){return Zct(/^Mac/i)}),Jct=Zpe(function(){return Kct(/Android/i)});function Xpe(){let e=yr(new Map),t=Er((i,s,a,o)=>{let l=o!=null&&o.once?(...c)=>{e.current.delete(a),a(...c)}:a;e.current.set(a,{type:s,eventTarget:i,fn:l,options:o}),i.addEventListener(s,l,o)},[]),r=Er((i,s,a,o)=>{var l;let c=((l=e.current.get(a))===null||l===void 0?void 0:l.fn)||a;i.removeEventListener(s,c,o),e.current.delete(a)},[]),n=Er(()=>{e.current.forEach((i,s)=>{r(i.eventTarget,i.type,s,i.options)})},[r]);return On(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function Qct(e){return e.mozInputSource===0&&e.isTrusted?!0:Jct()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Jpe(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function eut(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function Qpe(e){let t=yr({isFocused:!1,observer:null});qpe(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=Yct(n=>{e==null||e(n)});return Er(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=n.target,s=a=>{if(t.current.isFocused=!1,i.disabled){let o=Jpe(a);r(o)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",s,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){var a;(a=t.current.observer)===null||a===void 0||a.disconnect();let o=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:o})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:o}))}}),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let tut=!1,Rw=null,yO=new Set,Qx=new Map,_p=!1,xO=!1;const rut={Tab:!0,Escape:!0};function GB(e,t){for(let r of yO)r(e,t)}function nut(e){return!(e.metaKey||!Xct()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function TT(e){_p=!0,nut(e)&&(Rw="keyboard",GB("keyboard",e))}function Lm(e){Rw="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(_p=!0,GB("pointer",e))}function ege(e){Qct(e)&&(_p=!0,Rw="virtual")}function tge(e){e.target===window||e.target===document||tut||!e.isTrusted||(!_p&&!xO&&(Rw="virtual",GB("virtual",e)),_p=!1,xO=!1)}function rge(){_p=!1,xO=!0}function _O(e){if(typeof window>"u"||Qx.get(jf(e)))return;const t=jf(e),r=xh(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){_p=!0,n.apply(this,arguments)},r.addEventListener("keydown",TT,!0),r.addEventListener("keyup",TT,!0),r.addEventListener("click",ege,!0),t.addEventListener("focus",tge,!0),t.addEventListener("blur",rge,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",Lm,!0),r.addEventListener("pointermove",Lm,!0),r.addEventListener("pointerup",Lm,!0)),t.addEventListener("beforeunload",()=>{nge(e)},{once:!0}),Qx.set(t,{focus:n})}const nge=(e,t)=>{const r=jf(e),n=xh(e);t&&n.removeEventListener("DOMContentLoaded",t),Qx.has(r)&&(r.HTMLElement.prototype.focus=Qx.get(r).focus,n.removeEventListener("keydown",TT,!0),n.removeEventListener("keyup",TT,!0),n.removeEventListener("click",ege,!0),r.removeEventListener("focus",tge,!0),r.removeEventListener("blur",rge,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",Lm,!0),n.removeEventListener("pointermove",Lm,!0),n.removeEventListener("pointerup",Lm,!0)),Qx.delete(r))};function iut(e){const t=xh(e);let r;return t.readyState!=="loading"?_O(e):(r=()=>{_O(e)},t.addEventListener("DOMContentLoaded",r)),()=>nge(e,r)}typeof document<"u"&&iut();function ige(){return Rw!=="pointer"}const sut=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function aut(e,t,r){let n=xh(r==null?void 0:r.target);const i=typeof window<"u"?jf(r==null?void 0:r.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?jf(r==null?void 0:r.target).HTMLTextAreaElement:HTMLTextAreaElement,a=typeof window<"u"?jf(r==null?void 0:r.target).HTMLElement:HTMLElement,o=typeof window<"u"?jf(r==null?void 0:r.target).KeyboardEvent:KeyboardEvent;return e=e||n.activeElement instanceof i&&!sut.has(n.activeElement.type)||n.activeElement instanceof s||n.activeElement instanceof a&&n.activeElement.isContentEditable,!(e&&t==="keyboard"&&r instanceof o&&!rut[r.key])}function out(e,t,r){_O(),On(()=>{let n=(i,s)=>{aut(!!(r!=null&&r.isTextInput),i,s)&&e(ige())};return yO.add(n),()=>{yO.delete(n)}},t)}function lut(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:i}=e;const s=Er(l=>{if(l.target===l.currentTarget)return n&&n(l),i&&i(!1),!0},[n,i]),a=Qpe(s),o=Er(l=>{const c=xh(l.target),d=c?vO(c):vO();l.target===l.currentTarget&&d===Kpe(l.nativeEvent)&&(r&&r(l),i&&i(!0),a(l))},[i,r,a]);return{focusProps:{onFocus:!t&&(r||i||n)?o:void 0,onBlur:!t&&(n||i)?s:void 0}}}function cut(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:i}=e,s=yr({isFocusWithin:!1}),{addGlobalListener:a,removeAllGlobalListeners:o}=Xpe(),l=Er(h=>{h.currentTarget.contains(h.target)&&s.current.isFocusWithin&&!h.currentTarget.contains(h.relatedTarget)&&(s.current.isFocusWithin=!1,o(),r&&r(h),i&&i(!1))},[r,i,s,o]),c=Qpe(l),d=Er(h=>{if(!h.currentTarget.contains(h.target))return;const f=xh(h.target),p=vO(f);if(!s.current.isFocusWithin&&p===Kpe(h.nativeEvent)){n&&n(h),i&&i(!0),s.current.isFocusWithin=!0,c(h);let g=h.currentTarget;a(f,"focus",v=>{if(s.current.isFocusWithin&&!Ype(g,v.target)){let m=new f.defaultView.FocusEvent("blur",{relatedTarget:v.target});eut(m,g);let y=Jpe(m);l(y)}},{capture:!0})}},[n,i,c,a,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:d,onBlur:l}}}let bO=!1,UI=0;function uut(){bO=!0,setTimeout(()=>{bO=!1},50)}function KK(e){e.pointerType==="touch"&&uut()}function dut(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",KK),UI++,()=>{UI--,!(UI>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",KK)}}function qB(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:i}=e,[s,a]=rn(!1),o=yr({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;On(dut,[]);let{addGlobalListener:l,removeAllGlobalListeners:c}=Xpe(),{hoverProps:d,triggerHoverEnd:h}=mr(()=>{let f=(v,m)=>{if(o.pointerType=m,i||m==="touch"||o.isHovered||!v.currentTarget.contains(v.target))return;o.isHovered=!0;let y=v.currentTarget;o.target=y,l(xh(v.target),"pointerover",x=>{o.isHovered&&o.target&&!Ype(o.target,x.target)&&p(x,x.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:y,pointerType:m}),r&&r(!0),a(!0)},p=(v,m)=>{let y=o.target;o.pointerType="",o.target=null,!(m==="touch"||!o.isHovered||!y)&&(o.isHovered=!1,c(),n&&n({type:"hoverend",target:y,pointerType:m}),r&&r(!1),a(!1))},g={};return typeof PointerEvent<"u"&&(g.onPointerEnter=v=>{bO&&v.pointerType==="mouse"||f(v,v.pointerType)},g.onPointerLeave=v=>{!i&&v.currentTarget.contains(v.target)&&p(v,v.pointerType)}),{hoverProps:g,triggerHoverEnd:p}},[t,r,n,i,o,l,c]);return On(()=>{i&&h({currentTarget:o.target},o.pointerType)},[i]),{hoverProps:d,isHovered:s}}function YB(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,i=yr({isFocused:!1,isFocusVisible:t||ige()}),[s,a]=rn(!1),[o,l]=rn(()=>i.current.isFocused&&i.current.isFocusVisible),c=Er(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),d=Er(p=>{i.current.isFocused=p,a(p),c()},[c]);out(p=>{i.current.isFocusVisible=p,c()},[],{isTextInput:r});let{focusProps:h}=lut({isDisabled:n,onFocusChange:d}),{focusWithinProps:f}=cut({isDisabled:!n,onFocusWithinChange:d});return{isFocused:s,isFocusVisible:o,focusProps:n?f:h}}var hut=Object.defineProperty,fut=(e,t,r)=>t in e?hut(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,HI=(e,t,r)=>(fut(e,typeof t!="symbol"?t+"":t,r),r);let put=class{constructor(){HI(this,"current",this.detect()),HI(this,"handoffState","pending"),HI(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Yf=new put;function a0(e){var t,r;return Yf.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(r=(t=e.current)==null?void 0:t.ownerDocument)!=null?r:document:null:document}function sge(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function fl(){let e=[],t={addEventListener(r,n,i,s){return r.addEventListener(n,i,s),t.add(()=>r.removeEventListener(n,i,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return sge(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,i){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=fl();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let i of e.splice(n,1))i()}},dispose(){for(let r of e.splice(0))r()}};return t}function M2(){let[e]=rn(fl);return On(()=>()=>e.dispose(),[e]),e}let fi=(e,t)=>{Yf.isServer?On(e,t):ku(e,t)};function Iw(e){let t=yr(e);return fi(()=>{t.current=e},[e]),t}let mn=function(e){let t=Iw(e);return Di.useCallback((...r)=>t.current(...r),[t])};function gut(e){let t=e.width/2,r=e.height/2;return{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function mut(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function age({disabled:e=!1}={}){let t=yr(null),[r,n]=rn(!1),i=M2(),s=mn(()=>{t.current=null,n(!1),i.dispose()}),a=mn(o=>{if(i.dispose(),t.current===null){t.current=o.currentTarget,n(!0);{let l=a0(o.currentTarget);i.addEventListener(l,"pointerup",s,!1),i.addEventListener(l,"pointermove",c=>{if(t.current){let d=gut(c);n(mut(d,t.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:r,pressProps:e?{}:{onPointerDown:a,onPointerUp:s,onClick:s}}}let vut=gi(void 0);function P2(){return Jn(vut)}function ZK(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Mw(e,t,...r){if(e in t){let i=t[e];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Mw),n}var wO=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(wO||{}),yut=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(yut||{});function ha(){let e=_ut();return Er(t=>xut({mergeRefs:e,...t}),[e])}function xut({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:i,visible:s=!0,name:a,mergeRefs:o}){o=o??but;let l=oge(t,e);if(s)return fC(l,r,n,a,o);let c=i??0;if(c&2){let{static:d=!1,...h}=l;if(d)return fC(h,r,n,a,o)}if(c&1){let{unmount:d=!0,...h}=l;return Mw(d?0:1,{0(){return null},1(){return fC({...h,hidden:!0,style:{display:"none"}},r,n,a,o)}})}return fC(l,r,n,a,o)}function fC(e,t={},r,n,i){let{as:s=r,children:a,refName:o="ref",...l}=VI(e,["unmount","static"]),c=e.ref!==void 0?{[o]:e.ref}:{},d=typeof a=="function"?a(t):a;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(t){let f=!1,p=[];for(let[g,v]of Object.entries(t))typeof v=="boolean"&&(f=!0),v===!0&&p.push(g.replace(/([A-Z])/g,m=>`-${m.toLowerCase()}`));if(f){h["data-headlessui-state"]=p.join(" ");for(let g of p)h[`data-${g}`]=""}}if(s===Li&&(Object.keys(Ig(l)).length>0||Object.keys(Ig(h)).length>0))if(!n0(d)||Array.isArray(d)&&d.length>1){if(Object.keys(Ig(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ig(l)).concat(Object.keys(Ig(h))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=d.props,p=f==null?void 0:f.className,g=typeof p=="function"?(...y)=>ZK(p(...y),l.className):ZK(p,l.className),v=g?{className:g}:{},m=oge(d.props,Ig(VI(l,["ref"])));for(let y in h)y in m&&delete h[y];return UB(d,Object.assign({},m,h,c,{ref:i(wut(d),c.ref)},v))}return fs(s,Object.assign({},VI(l,["ref"]),s!==Li&&c,s!==Li&&h),d)}function _ut(){let e=yr([]),t=Er(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function but(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function oge(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):t[i]=n[i];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let n in r)Object.assign(t,{[n](i,...s){let a=r[n];for(let o of a){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;o(i,...s)}}});return t}function L2(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):t[i]=n[i];for(let n in r)Object.assign(t,{[n](...i){let s=r[n];for(let a of s)a==null||a(...i)}});return t}function fa(e){var t;return Object.assign(xc(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ig(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function VI(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function wut(e){return Di.version.split(".")[0]>="19"?e.props.ref:e.ref}let Sut="button";function Cut(e,t){var r;let n=P2(),{disabled:i=n||!1,autoFocus:s=!1,...a}=e,{isFocusVisible:o,focusProps:l}=YB({autoFocus:s}),{isHovered:c,hoverProps:d}=qB({isDisabled:i}),{pressed:h,pressProps:f}=age({disabled:i}),p=L2({ref:t,type:(r=a.type)!=null?r:"button",disabled:i||void 0,autoFocus:s},l,d,f),g=mr(()=>({disabled:i,hover:c,focus:o,active:h,autofocus:s}),[i,c,o,h,s]);return ha()({ourProps:p,theirProps:a,slot:g,defaultTag:Sut,name:"Button"})}let xv=fa(Cut),kut=gi(void 0);function lge(){return Jn(kut)}function Eut(e){let t=e.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let n=(t==null?void 0:t.getAttribute("disabled"))==="";return n&&Tut(r)?!1:n}function Tut(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let cge=Symbol();function Nut(e,t=!0){return Object.assign(e,{[cge]:t})}function Eu(...e){let t=yr(e);On(()=>{t.current=e},[e]);let r=mn(n=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return e.every(n=>n==null||(n==null?void 0:n[cge]))?void 0:r}let D2=gi(null);D2.displayName="DescriptionContext";function uge(){let e=Jn(D2);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,uge),t}return e}function Aut(){var e,t;return(t=(e=Jn(D2))==null?void 0:e.value)!=null?t:void 0}function jut(){let[e,t]=rn([]);return[e.length>0?e.join(" "):void 0,mr(()=>function(r){let n=mn(s=>(t(a=>[...a,s]),()=>t(a=>{let o=a.slice(),l=o.indexOf(s);return l!==-1&&o.splice(l,1),o}))),i=mr(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return Di.createElement(D2.Provider,{value:i},r.children)},[t])]}let Rut="p";function Iut(e,t){let r=hl(),n=P2(),{id:i=`headlessui-description-${r}`,...s}=e,a=uge(),o=Eu(t);fi(()=>a.register(i),[i,a.register]);let l=n||!1,c=mr(()=>({...a.slot,disabled:l}),[a.slot,l]),d={ref:o,...a.props,id:i};return ha()({ourProps:d,theirProps:s,slot:c,defaultTag:Rut,name:a.name||"Description"})}let Mut=fa(Iut);Object.assign(Mut,{});var zi=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(zi||{});let O2=gi(null);O2.displayName="LabelContext";function KB(){let e=Jn(O2);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,KB),t}return e}function dge(e){var t,r,n;let i=(r=(t=Jn(O2))==null?void 0:t.value)!=null?r:void 0;return((n=void 0)!=null?n:0)>0?[i,...e].filter(Boolean).join(" "):i}function hge({inherit:e=!1}={}){let t=dge(),[r,n]=rn([]),i=e?[t,...r].filter(Boolean):r;return[i.length>0?i.join(" "):void 0,mr(()=>function(s){let a=mn(l=>(n(c=>[...c,l]),()=>n(c=>{let d=c.slice(),h=d.indexOf(l);return h!==-1&&d.splice(h,1),d}))),o=mr(()=>({register:a,slot:s.slot,name:s.name,props:s.props,value:s.value}),[a,s.slot,s.name,s.props,s.value]);return Di.createElement(O2.Provider,{value:o},s.children)},[n])]}let Put="label";function Lut(e,t){var r;let n=hl(),i=KB(),s=lge(),a=P2(),{id:o=`headlessui-label-${n}`,htmlFor:l=s??((r=i.props)==null?void 0:r.htmlFor),passive:c=!1,...d}=e,h=Eu(t);fi(()=>i.register(o),[o,i.register]);let f=mn(m=>{let y=m.currentTarget;if(y instanceof HTMLLabelElement&&m.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(m),y instanceof HTMLLabelElement){let x=document.getElementById(y.htmlFor);if(x){let _=x.getAttribute("disabled");if(_==="true"||_==="")return;let b=x.getAttribute("aria-disabled");if(b==="true"||b==="")return;(x instanceof HTMLInputElement&&(x.type==="radio"||x.type==="checkbox")||x.role==="radio"||x.role==="checkbox"||x.role==="switch")&&x.click(),x.focus({preventScroll:!0})}}}),p=a||!1,g=mr(()=>({...i.slot,disabled:p}),[i.slot,p]),v={ref:h,...i.props,id:o,htmlFor:l,onClick:f};return c&&("onClick"in v&&(delete v.htmlFor,delete v.onClick),"onClick"in d&&delete d.onClick),ha()({ourProps:v,theirProps:d,slot:g,defaultTag:l?Put:"div",name:i.name||"Label"})}let Dut=fa(Lut);Object.assign(Dut,{});function Out(e){if(e===null)return{width:0,height:0};let{width:t,height:r}=e.getBoundingClientRect();return{width:t,height:r}}function $ut(e,t=!1){let[r,n]=Aw(()=>({}),{}),i=mr(()=>Out(e),[e,r]);return fi(()=>{if(!e)return;let s=new ResizeObserver(n);return s.observe(e),()=>{s.disconnect()}},[e]),t?{width:`${i.width}px`,height:`${i.height}px`}:i}let fge=class extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t),this.set(t,r)),r}};function pge(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(i){return n.add(i),()=>n.delete(i)},dispatch(i,...s){let a=t[i].call(r,...s);a&&(r=a,n.forEach(o=>o()))}}}function gge(e){return j2(e.subscribe,e.getSnapshot,e.getSnapshot)}let But=new fge(()=>pge(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let r=this.slice();return r.splice(t,1),r}}));function ZB(e,t){let r=But.get(t),n=hl(),i=gge(r);if(fi(()=>{if(e)return r.dispatch("ADD",n),()=>r.dispatch("REMOVE",n)},[r,e]),!e)return!1;let s=i.indexOf(n),a=i.length;return s===-1&&(s=a,a+=1),s===a-1}let SO=new Map,e_=new Map;function XK(e){var t;let r=(t=e_.get(e))!=null?t:0;return e_.set(e,r+1),r!==0?()=>JK(e):(SO.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>JK(e))}function JK(e){var t;let r=(t=e_.get(e))!=null?t:1;if(r===1?e_.delete(e):e_.set(e,r-1),r!==1)return;let n=SO.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,SO.delete(e))}function Fut(e,{allowed:t,disallowed:r}={}){let n=ZB(e,"inert-others");fi(()=>{var i,s;if(!n)return;let a=fl();for(let l of(i=r==null?void 0:r())!=null?i:[])l&&a.add(XK(l));let o=(s=t==null?void 0:t())!=null?s:[];for(let l of o){if(!l)continue;let c=a0(l);if(!c)continue;let d=l.parentElement;for(;d&&d!==c.body;){for(let h of d.children)o.some(f=>h.contains(f))||a.add(XK(h));d=d.parentElement}}return a.dispose},[n,t,r])}function zut(e,t,r){let n=Iw(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&r()});On(()=>{if(!e)return;let i=t===null?null:t instanceof HTMLElement?t:t.current;if(!i)return;let s=fl();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>n.current(i));a.observe(i),s.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>n.current(i));a.observe(i),s.add(()=>a.disconnect())}return()=>s.dispose()},[t,n,e])}let CO=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Uut=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var kO=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(kO||{}),Hut=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Hut||{}),Vut=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Vut||{});function mge(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(CO)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function Wut(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Uut)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var XB=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(XB||{});function JB(e,t=0){var r;return e===((r=a0(e))==null?void 0:r.body)?!1:Mw(t,{0(){return e.matches(CO)},1(){let n=e;for(;n!==null;){if(n.matches(CO))return!0;n=n.parentElement}return!1}})}function vge(e){let t=a0(e);fl().nextFrame(()=>{t&&!JB(t.activeElement,0)&&qut(e)})}var Gut=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Gut||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function qut(e){e==null||e.focus({preventScroll:!0})}let Yut=["textarea","input"].join(",");function Kut(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Yut))!=null?r:!1}function yge(e,t=r=>r){return e.slice().sort((r,n)=>{let i=t(r),s=t(n);if(i===null||s===null)return 0;let a=i.compareDocumentPosition(s);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Zut(e,t){return Xut(mge(),t,{relativeTo:e})}function Xut(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?r?yge(e):e:t&64?Wut(e):mge(e);i.length>0&&a.length>1&&(a=a.filter(p=>!i.some(g=>g!=null&&"current"in g?(g==null?void 0:g.current)===p:g===p))),n=n??s.activeElement;let o=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(n))-1;if(t&4)return Math.max(0,a.indexOf(n))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=t&32?{preventScroll:!0}:{},d=0,h=a.length,f;do{if(d>=h||d+h<=0)return 0;let p=l+d;if(t&16)p=(p+h)%h;else{if(p<0)return 3;if(p>=h)return 1}f=a[p],f==null||f.focus(c),d+=o}while(f!==s.activeElement);return t&6&&Kut(f)&&f.select(),2}function xge(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Jut(){return/Android/gi.test(window.navigator.userAgent)}function Qut(){return xge()||Jut()}function $y(e,t,r,n){let i=Iw(r);On(()=>{if(!e)return;function s(a){i.current(a)}return document.addEventListener(t,s,n),()=>document.removeEventListener(t,s,n)},[e,t,n])}function edt(e,t,r,n){let i=Iw(r);On(()=>{if(!e)return;function s(a){i.current(a)}return window.addEventListener(t,s,n),()=>window.removeEventListener(t,s,n)},[e,t,n])}const QK=30;function tdt(e,t,r){let n=ZB(e,"outside-click"),i=Iw(r),s=Er(function(l,c){if(l.defaultPrevented)return;let d=c(l);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let h=function f(p){return typeof p=="function"?f(p()):Array.isArray(p)||p instanceof Set?p:[p]}(t);for(let f of h)if(f!==null&&(f.contains(d)||l.composed&&l.composedPath().includes(f)))return;return!JB(d,XB.Loose)&&d.tabIndex!==-1&&l.preventDefault(),i.current(l,d)},[i,t]),a=yr(null);$y(n,"pointerdown",l=>{var c,d;a.current=((d=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:d[0])||l.target},!0),$y(n,"mousedown",l=>{var c,d;a.current=((d=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:d[0])||l.target},!0),$y(n,"click",l=>{Qut()||a.current&&(s(l,()=>a.current),a.current=null)},!0);let o=yr({x:0,y:0});$y(n,"touchstart",l=>{o.current.x=l.touches[0].clientX,o.current.y=l.touches[0].clientY},!0),$y(n,"touchend",l=>{let c={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(c.x-o.current.x)>=QK||Math.abs(c.y-o.current.y)>=QK))return s(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),edt(n,"blur",l=>s(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function EO(...e){return mr(()=>a0(...e),[...e])}function rdt(e,t){return mr(()=>{var r;if(e.type)return e.type;let n=(r=e.as)!=null?r:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function ndt(){let e;return{before({doc:t}){var r;let n=t.documentElement,i=(r=t.defaultView)!=null?r:window;e=Math.max(0,i.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,i=Math.max(0,n.clientWidth-n.offsetWidth),s=Math.max(0,e-i);r.style(n,"paddingRight",`${s}px`)}}}function idt(){return xge()?{before({doc:e,d:t,meta:r}){function n(i){return r.containers.flatMap(s=>s()).some(s=>s.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let o=fl();o.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>o.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,a=null;t.addEventListener(e,"click",o=>{if(o.target instanceof HTMLElement)try{let l=o.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),d=e.querySelector(c);d&&!n(d)&&(a=d)}catch{}},!0),t.addEventListener(e,"touchstart",o=>{if(o.target instanceof HTMLElement)if(n(o.target)){let l=o.target;for(;l.parentElement&&n(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(o.target,"touchAction","none")}),t.addEventListener(e,"touchmove",o=>{if(o.target instanceof HTMLElement){if(o.target.tagName==="INPUT")return;if(n(o.target)){let l=o.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&o.preventDefault()}else o.preventDefault()}},{passive:!1}),t.add(()=>{var o;let l=(o=window.scrollY)!=null?o:window.pageYOffset;s!==l&&window.scrollTo(0,s),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function sdt(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function adt(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let Rf=pge(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:fl(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n={doc:e,d:t,meta:adt(r)},i=[idt(),ndt(),sdt()];i.forEach(({before:s})=>s==null?void 0:s(n)),i.forEach(({after:s})=>s==null?void 0:s(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Rf.subscribe(()=>{let e=Rf.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",i=r.count!==0;(i&&!n||!i&&n)&&Rf.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Rf.dispatch("TEARDOWN",r)}});function odt(e,t,r=()=>({containers:[]})){let n=gge(Rf),i=t?n.get(t):void 0,s=i?i.count>0:!1;return fi(()=>{if(!(!t||!e))return Rf.dispatch("PUSH",t,r),()=>Rf.dispatch("POP",t,r)},[e,t]),s}function ldt(e,t,r=()=>[document.body]){let n=ZB(e,"scroll-lock");odt(n,t,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],r]}})}function eZ(e){return[e.screenX,e.screenY]}function cdt(){let e=yr([-1,-1]);return{wasMoved(t){let r=eZ(t);return e.current[0]===r[0]&&e.current[1]===r[1]?!1:(e.current=r,!0)},update(t){e.current=eZ(t)}}}function udt(e=0){let[t,r]=rn(e),n=Er(l=>r(l),[t]),i=Er(l=>r(c=>c|l),[t]),s=Er(l=>(t&l)===l,[t]),a=Er(l=>r(c=>c&~l),[r]),o=Er(l=>r(c=>c^l),[r]);return{flags:t,setFlag:n,addFlag:i,hasFlag:s,removeFlag:a,toggleFlag:o}}var tZ,rZ;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((tZ=process==null?void 0:Yat)==null?void 0:tZ.NODE_ENV)==="test"&&typeof((rZ=Element==null?void 0:Element.prototype)==null?void 0:rZ.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var ddt=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(ddt||{});function hdt(e){let t={};for(let r in e)e[r]===!0&&(t[`data-${r}`]="");return t}function fdt(e,t,r,n){let[i,s]=rn(r),{hasFlag:a,addFlag:o,removeFlag:l}=udt(e&&i?3:0),c=yr(!1),d=yr(!1),h=M2();return fi(()=>{var f;if(e){if(r&&s(!0),!t){r&&o(3);return}return(f=void 0)==null||f.call(n,r),pdt(t,{inFlight:c,prepare(){d.current?d.current=!1:d.current=c.current,c.current=!0,!d.current&&(r?(o(3),l(4)):(o(4),l(2)))},run(){d.current?r?(l(3),o(4)):(l(4),o(3)):r?l(1):o(1)},done(){var p;d.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(c.current=!1,l(7),r||s(!1),(p=void 0)==null||p.call(n,r))}})}},[e,r,t,h]),e?[i,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function pdt(e,{prepare:t,run:r,done:n,inFlight:i}){let s=fl();return mdt(e,{prepare:t,inFlight:i}),s.nextFrame(()=>{r(),s.requestAnimationFrame(()=>{s.add(gdt(e,n))})}),s.dispose}function gdt(e,t){var r,n;let i=fl();if(!e)return i.dispose;let s=!1;i.add(()=>{s=!0});let a=(n=(r=e.getAnimations)==null?void 0:r.call(e).filter(o=>o instanceof CSSTransition))!=null?n:[];return a.length===0?(t(),i.dispose):(Promise.allSettled(a.map(o=>o.finished)).then(()=>{s||t()}),i.dispose)}function mdt(e,{inFlight:t,prepare:r}){if(t!=null&&t.current){r();return}let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}function vdt(e,{container:t,accept:r,walk:n}){let i=yr(r),s=yr(n);On(()=>{i.current=r,s.current=n},[r,n]),fi(()=>{if(!t||!e)return;let a=a0(t);if(!a)return;let o=i.current,l=s.current,c=Object.assign(h=>o(h),{acceptNode:o}),d=a.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,c,!1);for(;d.nextNode();)l(d.currentNode)},[t,e,i,s])}function $2(){return typeof window<"u"}function o0(e){return _ge(e)?(e.nodeName||"").toLowerCase():"#document"}function Ma(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _c(e){var t;return(t=(_ge(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _ge(e){return $2()?e instanceof Node||e instanceof Ma(e).Node:!1}function Is(e){return $2()?e instanceof Element||e instanceof Ma(e).Element:!1}function dc(e){return $2()?e instanceof HTMLElement||e instanceof Ma(e).HTMLElement:!1}function nZ(e){return!$2()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ma(e).ShadowRoot}function Pw(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=al(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function ydt(e){return["table","td","th"].includes(o0(e))}function B2(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function QB(e){const t=eF(),r=Is(e)?al(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function xdt(e){let t=sh(e);for(;dc(t)&&!_v(t);){if(QB(t))return t;if(B2(t))return null;t=sh(t)}return null}function eF(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _v(e){return["html","body","#document"].includes(o0(e))}function al(e){return Ma(e).getComputedStyle(e)}function F2(e){return Is(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function sh(e){if(o0(e)==="html")return e;const t=e.assignedSlot||e.parentNode||nZ(e)&&e.host||_c(e);return nZ(t)?t.host:t}function bge(e){const t=sh(e);return _v(t)?e.ownerDocument?e.ownerDocument.body:e.body:dc(t)&&Pw(t)?t:bge(t)}function Mb(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=bge(e),s=i===((n=e.ownerDocument)==null?void 0:n.body),a=Ma(i);if(s){const o=TO(a);return t.concat(a,a.visualViewport||[],Pw(i)?i:[],o&&r?Mb(o):[])}return t.concat(i,Mb(i,[],r))}function TO(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _dt(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:r,version:n}=t;return r+"/"+n}).join(" "):navigator.userAgent}const bp=Math.min,as=Math.max,Pb=Math.round,pC=Math.floor,rc=e=>({x:e,y:e}),bdt={left:"right",right:"left",bottom:"top",top:"bottom"},wdt={start:"end",end:"start"};function iZ(e,t,r){return as(e,bp(t,r))}function l0(e,t){return typeof e=="function"?e(t):e}function ah(e){return e.split("-")[0]}function Lw(e){return e.split("-")[1]}function wge(e){return e==="x"?"y":"x"}function Sge(e){return e==="y"?"height":"width"}function Bd(e){return["top","bottom"].includes(ah(e))?"y":"x"}function Cge(e){return wge(Bd(e))}function Sdt(e,t,r){r===void 0&&(r=!1);const n=Lw(e),i=Cge(e),s=Sge(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=NT(a)),[a,NT(a)]}function Cdt(e){const t=NT(e);return[NO(e),t,NO(t)]}function NO(e){return e.replace(/start|end/g,t=>wdt[t])}function kdt(e,t,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?s:a;default:return[]}}function Edt(e,t,r,n){const i=Lw(e);let s=kdt(ah(e),r==="start",n);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(NO)))),s}function NT(e){return e.replace(/left|right|bottom|top/g,t=>bdt[t])}function Tdt(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ndt(e){return typeof e!="number"?Tdt(e):{top:e,right:e,bottom:e,left:e}}function AT(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function sZ(e,t,r){let{reference:n,floating:i}=e;const s=Bd(t),a=Cge(t),o=Sge(a),l=ah(t),c=s==="y",d=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,f=n[o]/2-i[o]/2;let p;switch(l){case"top":p={x:d,y:n.y-i.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-i.width,y:h};break;default:p={x:n.x,y:n.y}}switch(Lw(t)){case"start":p[a]-=f*(r&&c?-1:1);break;case"end":p[a]+=f*(r&&c?-1:1);break}return p}const Adt=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:h}=sZ(c,n,l),f=n,p={},g=0;for(let v=0;v<o.length;v++){const{name:m,fn:y}=o[v],{x,y:_,data:b,reset:w}=await y({x:d,y:h,initialPlacement:n,placement:f,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:e,floating:t}});d=x??d,h=_??h,p={...p,[m]:{...p[m],...b}},w&&g<=50&&(g++,typeof w=="object"&&(w.placement&&(f=w.placement),w.rects&&(c=w.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):w.rects),{x:d,y:h}=sZ(c,f,l)),v=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:p}};async function z2(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:s,rects:a,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=l0(t,e),g=Ndt(p),m=o[f?h==="floating"?"reference":"floating":h],y=AT(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(m)))==null||r?m:m.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),x=h==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),b=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},w=AT(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:_,strategy:l}):x);return{top:(y.top-w.top+g.top)/b.y,bottom:(w.bottom-y.bottom+g.bottom)/b.y,left:(y.left-w.left+g.left)/b.x,right:(w.right-y.right+g.right)/b.x}}const jdt=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...m}=l0(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=ah(i),x=Bd(o),_=ah(o)===o,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=f||(_||!v?[NT(o)]:Cdt(o)),S=g!=="none";!f&&S&&w.push(...Edt(o,v,g,b));const k=[o,...w],C=await z2(t,m),E=[];let T=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&E.push(C[y]),h){const $=Sdt(i,a,b);E.push(C[$[0]],C[$[1]])}if(T=[...T,{placement:i,overflows:E}],!E.every($=>$<=0)){var N,R;const $=(((N=s.flip)==null?void 0:N.index)||0)+1,L=k[$];if(L){var P;const j=h==="alignment"?x!==Bd(L):!1,M=((P=T[0])==null?void 0:P.overflows[0])>0;if(!j||M)return{data:{index:$,overflows:T},reset:{placement:L}}}let O=(R=T.filter(j=>j.overflows[0]<=0).sort((j,M)=>j.overflows[1]-M.overflows[1])[0])==null?void 0:R.placement;if(!O)switch(p){case"bestFit":{var D;const j=(D=T.filter(M=>{if(S){const I=Bd(M.placement);return I===x||I==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(I=>I>0).reduce((I,z)=>I+z,0)]).sort((M,I)=>M[1]-I[1])[0])==null?void 0:D[0];j&&(O=j);break}case"initialPlacement":O=o;break}if(i!==O)return{reset:{placement:O}}}return{}}}};async function Rdt(e,t){const{placement:r,platform:n,elements:i}=e,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=ah(r),o=Lw(r),l=Bd(r)==="y",c=["left","top"].includes(a)?-1:1,d=s&&l?-1:1,h=l0(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),l?{x:p*d,y:f*c}:{x:f*c,y:p*d}}const Idt=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:s,placement:a,middlewareData:o}=t,l=await Rdt(t,e);return a===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},Mdt=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:m=>{let{x:y,y:x}=m;return{x:y,y:x}}},...l}=l0(e,t),c={x:r,y:n},d=await z2(t,l),h=Bd(ah(i)),f=wge(h);let p=c[f],g=c[h];if(s){const m=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=p+d[m],_=p-d[y];p=iZ(x,p,_)}if(a){const m=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=g+d[m],_=g-d[y];g=iZ(x,g,_)}const v=o.fn({...t,[f]:p,[h]:g});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[f]:s,[h]:a}}}}}},Pdt=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:s,platform:a,elements:o}=t,{apply:l=()=>{},...c}=l0(e,t),d=await z2(t,c),h=ah(i),f=Lw(i),p=Bd(i)==="y",{width:g,height:v}=s.floating;let m,y;h==="top"||h==="bottom"?(m=h,y=f===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(y=h,m=f==="end"?"top":"bottom");const x=v-d.top-d.bottom,_=g-d.left-d.right,b=bp(v-d[m],x),w=bp(g-d[y],_),S=!t.middlewareData.shift;let k=b,C=w;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=_),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=x),S&&!f){const T=as(d.left,0),N=as(d.right,0),R=as(d.top,0),P=as(d.bottom,0);p?C=g-2*(T!==0||N!==0?T+N:as(d.left,d.right)):k=v-2*(R!==0||P!==0?R+P:as(d.top,d.bottom))}await l({...t,availableWidth:C,availableHeight:k});const E=await a.getDimensions(o.floating);return g!==E.width||v!==E.height?{reset:{rects:!0}}:{}}}};function kge(e){const t=al(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=dc(e),s=i?e.offsetWidth:r,a=i?e.offsetHeight:n,o=Pb(r)!==s||Pb(n)!==a;return o&&(r=s,n=a),{width:r,height:n,$:o}}function tF(e){return Is(e)?e:e.contextElement}function Dm(e){const t=tF(e);if(!dc(t))return rc(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:s}=kge(t);let a=(s?Pb(r.width):r.width)/n,o=(s?Pb(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Ldt=rc(0);function Ege(e){const t=Ma(e);return!eF()||!t.visualViewport?Ldt:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ddt(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ma(e)?!1:t}function wp(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),s=tF(e);let a=rc(1);t&&(n?Is(n)&&(a=Dm(n)):a=Dm(e));const o=Ddt(s,r,n)?Ege(s):rc(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,d=i.width/a.x,h=i.height/a.y;if(s){const f=Ma(s),p=n&&Is(n)?Ma(n):n;let g=f,v=TO(g);for(;v&&n&&p!==g;){const m=Dm(v),y=v.getBoundingClientRect(),x=al(v),_=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*m.x,b=y.top+(v.clientTop+parseFloat(x.paddingTop))*m.y;l*=m.x,c*=m.y,d*=m.x,h*=m.y,l+=_,c+=b,g=Ma(v),v=TO(g)}}return AT({width:d,height:h,x:l,y:c})}function rF(e,t){const r=F2(e).scrollLeft;return t?t.left+r:wp(_c(e)).left+r}function Tge(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:rF(e,n)),s=n.top+t.scrollTop;return{x:i,y:s}}function Odt(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const s=i==="fixed",a=_c(n),o=t?B2(t.floating):!1;if(n===a||o&&s)return r;let l={scrollLeft:0,scrollTop:0},c=rc(1);const d=rc(0),h=dc(n);if((h||!h&&!s)&&((o0(n)!=="body"||Pw(a))&&(l=F2(n)),dc(n))){const p=wp(n);c=Dm(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const f=a&&!h&&!s?Tge(a,l,!0):rc(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+f.x,y:r.y*c.y-l.scrollTop*c.y+d.y+f.y}}function $dt(e){return Array.from(e.getClientRects())}function Bdt(e){const t=_c(e),r=F2(e),n=e.ownerDocument.body,i=as(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=as(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+rF(e);const o=-r.scrollTop;return al(n).direction==="rtl"&&(a+=as(t.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:o}}function Fdt(e,t){const r=Ma(e),n=_c(e),i=r.visualViewport;let s=n.clientWidth,a=n.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const c=eF();(!c||c&&t==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}function zdt(e,t){const r=wp(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,s=dc(e)?Dm(e):rc(1),a=e.clientWidth*s.x,o=e.clientHeight*s.y,l=i*s.x,c=n*s.y;return{width:a,height:o,x:l,y:c}}function aZ(e,t,r){let n;if(t==="viewport")n=Fdt(e,r);else if(t==="document")n=Bdt(_c(e));else if(Is(t))n=zdt(t,r);else{const i=Ege(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return AT(n)}function Nge(e,t){const r=sh(e);return r===t||!Is(r)||_v(r)?!1:al(r).position==="fixed"||Nge(r,t)}function Udt(e,t){const r=t.get(e);if(r)return r;let n=Mb(e,[],!1).filter(o=>Is(o)&&o0(o)!=="body"),i=null;const s=al(e).position==="fixed";let a=s?sh(e):e;for(;Is(a)&&!_v(a);){const o=al(a),l=QB(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Pw(a)&&!l&&Nge(e,a))?n=n.filter(d=>d!==a):i=o,a=sh(a)}return t.set(e,n),n}function Hdt(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const a=[...r==="clippingAncestors"?B2(t)?[]:Udt(t,this._c):[].concat(r),n],o=a[0],l=a.reduce((c,d)=>{const h=aZ(t,d,i);return c.top=as(h.top,c.top),c.right=bp(h.right,c.right),c.bottom=bp(h.bottom,c.bottom),c.left=as(h.left,c.left),c},aZ(t,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Vdt(e){const{width:t,height:r}=kge(e);return{width:t,height:r}}function Wdt(e,t,r){const n=dc(t),i=_c(t),s=r==="fixed",a=wp(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const l=rc(0);function c(){l.x=rF(i)}if(n||!n&&!s)if((o0(t)!=="body"||Pw(i))&&(o=F2(t)),n){const p=wp(t,!0,s,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else i&&c();s&&!n&&i&&c();const d=i&&!n&&!s?Tge(i,o):rc(0),h=a.left+o.scrollLeft-l.x-d.x,f=a.top+o.scrollTop-l.y-d.y;return{x:h,y:f,width:a.width,height:a.height}}function WI(e){return al(e).position==="static"}function oZ(e,t){if(!dc(e)||al(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return _c(e)===r&&(r=r.ownerDocument.body),r}function Age(e,t){const r=Ma(e);if(B2(e))return r;if(!dc(e)){let i=sh(e);for(;i&&!_v(i);){if(Is(i)&&!WI(i))return i;i=sh(i)}return r}let n=oZ(e,t);for(;n&&ydt(n)&&WI(n);)n=oZ(n,t);return n&&_v(n)&&WI(n)&&!QB(n)?r:n||xdt(e)||r}const Gdt=async function(e){const t=this.getOffsetParent||Age,r=this.getDimensions,n=await r(e.floating);return{reference:Wdt(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function qdt(e){return al(e).direction==="rtl"}const Ydt={convertOffsetParentRelativeRectToViewportRelativeRect:Odt,getDocumentElement:_c,getClippingRect:Hdt,getOffsetParent:Age,getElementRects:Gdt,getClientRects:$dt,getDimensions:Vdt,getScale:Dm,isElement:Is,isRTL:qdt};function jge(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Kdt(e,t){let r=null,n;const i=_c(e);function s(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=e.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=c;if(o||t(),!f||!p)return;const g=pC(h),v=pC(i.clientWidth-(d+f)),m=pC(i.clientHeight-(h+p)),y=pC(d),_={rootMargin:-g+"px "+-v+"px "+-m+"px "+-y+"px",threshold:as(0,bp(1,l))||1};let b=!0;function w(S){const k=S[0].intersectionRatio;if(k!==l){if(!b)return a();k?a(!1,k):n=setTimeout(()=>{a(!1,1e-7)},1e3)}k===1&&!jge(c,e.getBoundingClientRect())&&a(),b=!1}try{r=new IntersectionObserver(w,{..._,root:i.ownerDocument})}catch{r=new IntersectionObserver(w,_)}r.observe(e)}return a(!0),s}function Zdt(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=tF(e),d=i||s?[...c?Mb(c):[],...Mb(t)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const h=c&&o?Kdt(c,r):null;let f=-1,p=null;a&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(t)})),r()}),c&&!l&&p.observe(c),p.observe(t));let g,v=l?wp(e):null;l&&m();function m(){const y=wp(e);v&&!jge(v,y)&&r(),v=y,g=requestAnimationFrame(m)}return r(),()=>{var y;d.forEach(x=>{i&&x.removeEventListener("scroll",r),s&&x.removeEventListener("resize",r)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const GI=z2,Xdt=Idt,Jdt=Mdt,Qdt=jdt,eht=Pdt,tht=(e,t,r)=>{const n=new Map,i={platform:Ydt,...r},s={...i.platform,_c:n};return Adt(e,t,{...i,platform:s})};var pk=typeof document<"u"?ku:On;function jT(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!jT(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&e.$$typeof)&&!jT(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Rge(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function lZ(e,t){const r=Rge(e);return Math.round(t*r)/r}function qI(e){const t=yr(e);return pk(()=>{t.current=e}),t}function rht(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=e,[d,h]=rn({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=rn(n);jT(f,n)||p(n);const[g,v]=rn(null),[m,y]=rn(null),x=Er(j=>{j!==S.current&&(S.current=j,v(j))},[]),_=Er(j=>{j!==k.current&&(k.current=j,y(j))},[]),b=s||g,w=a||m,S=yr(null),k=yr(null),C=yr(d),E=l!=null,T=qI(l),N=qI(i),R=qI(c),P=Er(()=>{if(!S.current||!k.current)return;const j={placement:t,strategy:r,middleware:f};N.current&&(j.platform=N.current),tht(S.current,k.current,j).then(M=>{const I={...M,isPositioned:R.current!==!1};D.current&&!jT(C.current,I)&&(C.current=I,yu(()=>{h(I)}))})},[f,t,r,N,R]);pk(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[c]);const D=yr(!1);pk(()=>(D.current=!0,()=>{D.current=!1}),[]),pk(()=>{if(b&&(S.current=b),w&&(k.current=w),b&&w){if(T.current)return T.current(b,w,P);P()}},[b,w,P,T,E]);const $=mr(()=>({reference:S,floating:k,setReference:x,setFloating:_}),[x,_]),L=mr(()=>({reference:b,floating:w}),[b,w]),O=mr(()=>{const j={position:r,left:0,top:0};if(!L.floating)return j;const M=lZ(L.floating,d.x),I=lZ(L.floating,d.y);return o?{...j,transform:"translate("+M+"px, "+I+"px)",...Rge(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:I}},[r,o,L.floating,d.x,d.y]);return mr(()=>({...d,update:P,refs:$,elements:L,floatingStyles:O}),[d,P,$,L,O])}const Ige=(e,t)=>({...Xdt(e),options:[e,t]}),nht=(e,t)=>({...Jdt(e),options:[e,t]}),iht=(e,t)=>({...Qdt(e),options:[e,t]}),sht=(e,t)=>({...eht(e),options:[e,t]}),Mge={...xT},aht=Mge.useInsertionEffect,oht=aht||(e=>e());function Pge(e){const t=yr(()=>{});return oht(()=>{t.current=e}),Er(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}var AO=typeof document<"u"?ku:On;let cZ=!1,lht=0;const uZ=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+lht++;function cht(){const[e,t]=rn(()=>cZ?uZ():void 0);return AO(()=>{e==null&&t(uZ())},[]),On(()=>{cZ=!0},[]),e}const uht=Mge.useId,dht=uht||cht;function hht(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(i=>i(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(i=>i!==r))||[])}}}const fht=gi(null),pht=gi(null),ght=()=>{var e;return((e=Jn(fht))==null?void 0:e.id)||null},mht=()=>Jn(pht),vht="data-floating-ui-focusable";function yht(e){const{open:t=!1,onOpenChange:r,elements:n}=e,i=dht(),s=yr({}),[a]=rn(()=>hht()),o=ght()!=null,[l,c]=rn(n.reference),d=Pge((p,g,v)=>{s.current.openEvent=p?g:void 0,a.emit("openchange",{open:p,event:g,reason:v,nested:o}),r==null||r(p,g,v)}),h=mr(()=>({setPositionReference:c}),[]),f=mr(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return mr(()=>({dataRef:s,open:t,onOpenChange:d,elements:f,events:a,floatingId:i,refs:h}),[t,d,f,a,i,h])}function xht(e){e===void 0&&(e={});const{nodeId:t}=e,r=yht({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,i=n.elements,[s,a]=rn(null),[o,l]=rn(null),d=(i==null?void 0:i.domReference)||s,h=yr(null),f=mht();AO(()=>{d&&(h.current=d)},[d]);const p=rht({...e,elements:{...i,...o&&{reference:o}}}),g=Er(_=>{const b=Is(_)?{getBoundingClientRect:()=>_.getBoundingClientRect(),contextElement:_}:_;l(b),p.refs.setReference(b)},[p.refs]),v=Er(_=>{(Is(_)||_===null)&&(h.current=_,a(_)),(Is(p.refs.reference.current)||p.refs.reference.current===null||_!==null&&!Is(_))&&p.refs.setReference(_)},[p.refs]),m=mr(()=>({...p.refs,setReference:v,setPositionReference:g,domReference:h}),[p.refs,v,g]),y=mr(()=>({...p.elements,domReference:d}),[p.elements,d]),x=mr(()=>({...p,...n,refs:m,elements:y,nodeId:t}),[p,m,y,t,n]);return AO(()=>{n.dataRef.current.floatingContext=x;const _=f==null?void 0:f.nodesRef.current.find(b=>b.id===t);_&&(_.context=x)}),mr(()=>({...p,context:x,refs:m,elements:y}),[p,m,y,x])}const dZ="active",hZ="selected";function YI(e,t,r){const n=new Map,i=r==="item";let s=e;if(i&&e){const{[dZ]:a,[hZ]:o,...l}=e;s=l}return{...r==="floating"&&{tabIndex:-1,[vht]:""},...s,...t.map(a=>{const o=a?a[r]:null;return typeof o=="function"?e?o(e):null:o}).concat(e).reduce((a,o)=>(o&&Object.entries(o).forEach(l=>{let[c,d]=l;if(!(i&&[dZ,hZ].includes(c)))if(c.indexOf("on")===0){if(n.has(c)||n.set(c,[]),typeof d=="function"){var h;(h=n.get(c))==null||h.push(d),a[c]=function(){for(var f,p=arguments.length,g=new Array(p),v=0;v<p;v++)g[v]=arguments[v];return(f=n.get(c))==null?void 0:f.map(m=>m(...g)).find(m=>m!==void 0)}}}else a[c]=d}),a),{})}}function _ht(e){e===void 0&&(e=[]);const t=e.map(o=>o==null?void 0:o.reference),r=e.map(o=>o==null?void 0:o.floating),n=e.map(o=>o==null?void 0:o.item),i=Er(o=>YI(o,e,"reference"),t),s=Er(o=>YI(o,e,"floating"),r),a=Er(o=>YI(o,e,"item"),n);return mr(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:a}),[i,s,a])}function fZ(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const bht=e=>({name:"inner",options:e,async fn(t){const{listRef:r,overflowRef:n,onFallbackChange:i,offset:s=0,index:a=0,minItemsVisible:o=4,referenceOverflowThreshold:l=0,scrollRef:c,...d}=l0(e,t),{rects:h,elements:{floating:f}}=t,p=r.current[a],g=(c==null?void 0:c.current)||f,v=f.clientTop||g.clientTop,m=f.clientTop!==0,y=g.clientTop!==0,x=f===g;if(!p)return{};const _={...t,...await Ige(-p.offsetTop-f.clientTop-h.reference.height/2-p.offsetHeight/2-s).fn(t)},b=await GI(fZ(_,g.scrollHeight+v+f.clientTop),d),w=await GI(_,{...d,elementContext:"reference"}),S=as(0,b.top),k=_.y+S,T=(g.scrollHeight>g.clientHeight?N=>N:Pb)(as(0,g.scrollHeight+(m&&x||y?v*2:0)-S-as(0,b.bottom)));if(g.style.maxHeight=T+"px",g.scrollTop=S,i){const N=g.offsetHeight<p.offsetHeight*bp(o,r.current.length)-1||w.top>=-l||w.bottom>=-l;yu(()=>i(N))}return n&&(n.current=await GI(fZ({..._,y:k},g.offsetHeight+v+f.clientTop),d)),{y:k}}});function wht(e,t){const{open:r,elements:n}=e,{enabled:i=!0,overflowRef:s,scrollRef:a,onChange:o}=t,l=Pge(o),c=yr(!1),d=yr(null),h=yr(null);On(()=>{if(!i)return;function p(v){if(v.ctrlKey||!g||s.current==null)return;const m=v.deltaY,y=s.current.top>=-.5,x=s.current.bottom>=-.5,_=g.scrollHeight-g.clientHeight,b=m<0?-1:1,w=m<0?"max":"min";g.scrollHeight<=g.clientHeight||(!y&&m>0||!x&&m<0?(v.preventDefault(),yu(()=>{l(S=>S+Math[w](m,_*b))})):/firefox/i.test(_dt())&&(g.scrollTop+=m))}const g=(a==null?void 0:a.current)||n.floating;if(r&&g)return g.addEventListener("wheel",p),requestAnimationFrame(()=>{d.current=g.scrollTop,s.current!=null&&(h.current={...s.current})}),()=>{d.current=null,h.current=null,g.removeEventListener("wheel",p)}},[i,r,n.floating,s,a,l]);const f=mr(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const p=(a==null?void 0:a.current)||n.floating;if(!(!s.current||!p||!c.current)){if(d.current!==null){const g=p.scrollTop-d.current;(s.current.bottom<-.5&&g<-1||s.current.top<-.5&&g>1)&&yu(()=>l(v=>v+g))}requestAnimationFrame(()=>{d.current=p.scrollTop})}}}),[n.floating,l,s,a]);return mr(()=>i?{floating:f}:{},[i,f])}let c0=gi({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});c0.displayName="FloatingContext";let nF=gi(null);nF.displayName="PlacementContext";function Sht(e){return mr(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function Cht(){return Jn(c0).setReference}function kht(){return Jn(c0).getReferenceProps}function Eht(){let{getFloatingProps:e,slot:t}=Jn(c0);return Er((...r)=>Object.assign({},e(...r),{"data-anchor":t.anchor}),[e,t])}function Tht(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=Jn(nF),r=mr(()=>e,[JSON.stringify(e,(i,s)=>{var a;return(a=s==null?void 0:s.outerHTML)!=null?a:s})]);fi(()=>{t==null||t(r??null)},[t,r]);let n=Jn(c0);return mr(()=>[n.setFloating,e?n.styles:{}],[n.setFloating,e,n.styles])}let pZ=4;function Nht({children:e,enabled:t=!0}){let[r,n]=rn(null),[i,s]=rn(0),a=yr(null),[o,l]=rn(null);Aht(o);let c=t&&r!==null&&o!==null,{to:d="bottom",gap:h=0,offset:f=0,padding:p=0,inner:g}=jht(r,o),[v,m="center"]=d.split(" ");fi(()=>{c&&s(0)},[c]);let{refs:y,floatingStyles:x,context:_}=xht({open:c,placement:v==="selection"?m==="center"?"bottom":`bottom-${m}`:m==="center"?`${v}`:`${v}-${m}`,strategy:"absolute",transform:!1,middleware:[Ige({mainAxis:v==="selection"?0:h,crossAxis:f}),nht({padding:p}),v!=="selection"&&iht({padding:p}),v==="selection"&&g?bht({...g,padding:p,overflowRef:a,offset:i,minItemsVisible:pZ,referenceOverflowThreshold:p,onFallbackChange(N){var R,P;if(!N)return;let D=_.elements.floating;if(!D)return;let $=parseFloat(getComputedStyle(D).scrollPaddingBottom)||0,L=Math.min(pZ,D.childElementCount),O=0,j=0;for(let M of(P=(R=_.elements.floating)==null?void 0:R.childNodes)!=null?P:[])if(M instanceof HTMLElement){let I=M.offsetTop,z=I+M.clientHeight+$,U=D.scrollTop,F=U+D.clientHeight;if(I>=U&&z<=F)L--;else{j=Math.max(0,Math.min(z,F)-Math.max(I,U)),O=M.clientHeight;break}}L>=1&&s(M=>{let I=O*L-j+$;return M>=I?M:I})}}):null,sht({padding:p,apply({availableWidth:N,availableHeight:R,elements:P}){Object.assign(P.floating.style,{overflow:"auto",maxWidth:`${N}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${R}px)`})}})].filter(Boolean),whileElementsMounted:Zdt}),[b=v,w=m]=_.placement.split("-");v==="selection"&&(b="selection");let S=mr(()=>({anchor:[b,w].filter(Boolean).join(" ")}),[b,w]),k=wht(_,{overflowRef:a,onChange:s}),{getReferenceProps:C,getFloatingProps:E}=_ht([k]),T=mn(N=>{l(N),y.setFloating(N)});return fs(nF.Provider,{value:n},fs(c0.Provider,{value:{setFloating:T,setReference:y.setReference,styles:x,getReferenceProps:C,getFloatingProps:E,slot:S}},e))}function Aht(e){fi(()=>{if(!e)return;let t=new MutationObserver(()=>{let r=window.getComputedStyle(e).maxHeight,n=parseFloat(r);if(isNaN(n))return;let i=parseInt(r);isNaN(i)||n!==i&&(e.style.maxHeight=`${Math.ceil(n)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function jht(e,t){var r,n,i;let s=KI((r=e==null?void 0:e.gap)!=null?r:"var(--anchor-gap, 0)",t),a=KI((n=e==null?void 0:e.offset)!=null?n:"var(--anchor-offset, 0)",t),o=KI((i=e==null?void 0:e.padding)!=null?i:"var(--anchor-padding, 0)",t);return{...e,gap:s,offset:a,padding:o}}function KI(e,t,r=void 0){let n=M2(),i=mn((l,c)=>{if(l==null)return[r,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!c)return[r,null];let d=gZ(l,c);return[d,h=>{let f=Lge(l);{let p=f.map(g=>window.getComputedStyle(c).getPropertyValue(g));n.requestAnimationFrame(function g(){n.nextFrame(g);let v=!1;for(let[y,x]of f.entries()){let _=window.getComputedStyle(c).getPropertyValue(x);if(p[y]!==_){p[y]=_,v=!0;break}}if(!v)return;let m=gZ(l,c);d!==m&&(h(m),d=m)})}return n.dispose}]}return[r,null]}),s=mr(()=>i(e,t)[0],[e,t]),[a=s,o]=rn();return fi(()=>{let[l,c]=i(e,t);if(o(l),!!c)return c(o)},[e,t]),a}function Lge(e){let t=/var\((.*)\)/.exec(e);if(t){let r=t[1].indexOf(",");if(r===-1)return[t[1]];let n=t[1].slice(0,r).trim(),i=t[1].slice(r+1).trim();return i?[n,...Lge(i)]:[n]}return[]}function gZ(e,t){let r=document.createElement("div");t.appendChild(r),r.style.setProperty("margin-top","0px","important"),r.style.setProperty("margin-top",e,"important");let n=parseFloat(window.getComputedStyle(r).marginTop)||0;return t.removeChild(r),n}let iF=gi(null);iF.displayName="OpenClosedContext";var Lb=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Lb||{});function Rht(){return Jn(iF)}function Iht({value:e,children:t}){return Di.createElement(iF.Provider,{value:e},t)}var ZI={exports:{}},XI={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mZ;function Mht(){if(mZ)return XI;mZ=1;var e=xT;function t(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,a=e.useMemo,o=e.useDebugValue;return XI.useSyncExternalStoreWithSelector=function(l,c,d,h,f){var p=i(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=a(function(){function m(w){if(!y){if(y=!0,x=w,w=h(w),f!==void 0&&g.hasValue){var S=g.value;if(f(S,w))return _=S}return _=w}if(S=_,r(x,w))return S;var k=h(w);return f!==void 0&&f(S,k)?(x=w,S):(x=w,_=k)}var y=!1,x,_,b=d===void 0?null:d;return[function(){return m(c())},b===null?void 0:function(){return m(b())}]},[c,d,h,f]);var v=n(l,p[0],p[1]);return s(function(){g.hasValue=!0,g.value=v},[v]),o(v),v},XI}var vZ;function Pht(){return vZ||(vZ=1,ZI.exports=Mht()),ZI.exports}var Lht=Pht(),Dge=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},jo=(e,t,r)=>(Dge(e,t,"read from private field"),r?r.call(e):t.get(e)),JI=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},yZ=(e,t,r,n)=>(Dge(e,t,"write to private field"),t.set(e,r),r),Rc,fx,px;class Dht{constructor(t){JI(this,Rc,{}),JI(this,fx,new fge(()=>new Set)),JI(this,px,new Set),yZ(this,Rc,t)}get state(){return jo(this,Rc)}subscribe(t,r){let n={selector:t,callback:r,current:t(jo(this,Rc))};return jo(this,px).add(n),()=>{jo(this,px).delete(n)}}on(t,r){return jo(this,fx).get(t).add(r),()=>{jo(this,fx).get(t).delete(r)}}send(t){yZ(this,Rc,this.reduce(jo(this,Rc),t));for(let r of jo(this,px)){let n=r.selector(jo(this,Rc));Oge(r.current,n)||(r.current=n,r.callback(n))}for(let r of jo(this,fx).get(t.type))r(jo(this,Rc),t)}}Rc=new WeakMap,fx=new WeakMap,px=new WeakMap;function Oge(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:QI(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:QI(e.entries(),t.entries()):xZ(e)&&xZ(t)?QI(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function QI(e,t){do{let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function xZ(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}function _Z(e){let[t,r]=e(),n=fl();return(...i)=>{t(...i),n.dispose(),n.microTask(r)}}function bd(e,t,r=Oge){return Lht.useSyncExternalStoreWithSelector(mn(n=>e.subscribe(Oht,n)),mn(()=>e.state),mn(()=>e.state),mn(t),r)}function Oht(e){return e}function $ht(e){throw new Error("Unexpected object: "+e)}var ri=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(ri||{});function gC(e,t){let r=t.resolveItems();if(r.length<=0)return null;let n=t.resolveActiveIndex(),i=n??-1;switch(e.focus){case 0:{for(let s=0;s<r.length;++s)if(!t.resolveDisabled(r[s],s,r))return s;return n}case 1:{i===-1&&(i=r.length);for(let s=i-1;s>=0;--s)if(!t.resolveDisabled(r[s],s,r))return s;return n}case 2:{for(let s=i+1;s<r.length;++s)if(!t.resolveDisabled(r[s],s,r))return s;return n}case 3:{for(let s=r.length-1;s>=0;--s)if(!t.resolveDisabled(r[s],s,r))return s;return n}case 4:{for(let s=0;s<r.length;++s)if(t.resolveId(r[s],s,r)===e.id)return s;return n}case 5:return null;default:$ht(e)}}function Bht(e){let t=mn(e),r=yr(!1);On(()=>(r.current=!1,()=>{r.current=!0,sge(()=>{r.current&&t()})}),[t])}function Fht(){let e=typeof document>"u";return"useSyncExternalStore"in xT?(t=>t.useSyncExternalStore)(xT)(()=>()=>{},()=>!1,()=>!e):!1}function zht(){let e=Fht(),[t,r]=rn(Yf.isHandoffComplete);return t&&Yf.isHandoffComplete===!1&&r(!1),On(()=>{t!==!0&&r(!0)},[t]),On(()=>Yf.handoff(),[]),e?!1:t}let Uht=gi(!1);function Hht(){return Jn(Uht)}function Vht(e){let t=Hht(),r=Jn(Bge),[n,i]=rn(()=>{var s,a;if(!t&&r!==null)return(s=r.current)!=null?s:null;if(Yf.isServer)return null;let o=e==null?void 0:e.getElementById("stagewise-toolbar-portal-root");if(o)return o;if(e===null)return null;let l=e.createElement("div");return l.setAttribute("id","stagewise-toolbar-portal-root"),l.style.pointerEvents="auto",((a=e.querySelector("stagewise-companion-anchor"))!=null?a:e.body).appendChild(l)});return On(()=>{var s;if(n===null)return;const a=(s=e==null?void 0:e.querySelector("stagewise-companion-anchor"))!=null?s:e==null?void 0:e.body;a!=null&&a.contains(n)||a==null||a.appendChild(n)},[n,e]),On(()=>{t||r!==null&&i(r.current)},[r,i,t]),n}let $ge=Li,Wht=fa(function(e,t){let{ownerDocument:r=null,...n}=e,i=yr(null),s=Eu(Nut(p=>{i.current=p}),t),a=EO(i),o=r??a,l=Vht(o),[c]=rn(()=>{var p;return Yf.isServer?null:(p=o==null?void 0:o.createElement("div"))!=null?p:null}),d=Jn(Kht),h=zht();fi(()=>{!l||!c||l.contains(c)||(c.setAttribute("data-headlessui-portal",""),l.appendChild(c))},[l,c]),fi(()=>{if(c&&d)return d.register(c)},[d,c]),Bht(()=>{var p;!l||!c||(c instanceof Node&&l.contains(c)&&l.removeChild(c),l.childNodes.length<=0&&((p=l.parentElement)==null||p.removeChild(l)))});let f=ha();return h?!l||!c?null:FB(f({ourProps:{ref:s},theirProps:n,slot:{},defaultTag:$ge,name:"Portal"}),c):null});function Ght(e,t){let r=Eu(t),{enabled:n=!0,ownerDocument:i,...s}=e,a=ha();return n?Di.createElement(Wht,{...s,ownerDocument:i,ref:r}):a({ourProps:{ref:r},theirProps:s,slot:{},defaultTag:$ge,name:"Portal"})}let qht=Li,Bge=gi(null);function Yht(e,t){let{target:r,...n}=e,i={ref:Eu(t)},s=ha();return Di.createElement(Bge.Provider,{value:r},s({ourProps:i,theirProps:n,defaultTag:qht,name:"Popover.Group"}))}let Kht=gi(null),Zht=fa(Ght),Xht=fa(Yht),Jht=Object.assign(Zht,{Group:Xht});function Qht(e,t){let r=yr({left:0,top:0});if(fi(()=>{if(!t)return;let i=t.getBoundingClientRect();i&&(r.current=i)},[e,t]),t==null||!e||t===document.activeElement)return!1;let n=t.getBoundingClientRect();return n.top!==r.current.top||n.left!==r.current.left}let bZ=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function wZ(e){var t,r;let n=(t=e.innerText)!=null?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return n;let s=!1;for(let o of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),s=!0;let a=s?(r=i.innerText)!=null?r:"":n;return bZ.test(a)&&(a=a.replace(bZ,"")),a}function eft(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let r=e.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(i=>{let s=document.getElementById(i);if(s){let a=s.getAttribute("aria-label");return typeof a=="string"?a.trim():wZ(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return wZ(e).trim()}function tft(e){let t=yr(""),r=yr("");return mn(()=>{let n=e.current;if(!n)return"";let i=n.innerText;if(t.current===i)return r.current;let s=eft(n).trim().toLowerCase();return t.current=i,r.current=s,s})}var rft=Object.defineProperty,nft=(e,t,r)=>t in e?rft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,SZ=(e,t,r)=>(nft(e,typeof t!="symbol"?t+"":t,r),r),Ui=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ui||{}),RT=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(RT||{}),bn=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItems=5]="RegisterItems",e[e.UnregisterItems=6]="UnregisterItems",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e[e.SortItems=9]="SortItems",e))(bn||{});function CZ(e,t=r=>r){let r=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,n=yge(t(e.items.slice()),s=>s.dataRef.current.domRef.current),i=r?n.indexOf(r):null;return i===-1&&(i=null),{items:n,activeItemIndex:i}}let ift={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,pendingFocus:{focus:ri.Nothing},menuState:1}},0(e,t){return e.menuState===0?e:{...e,__demoMode:!1,pendingFocus:t.focus,menuState:0}},2:(e,t)=>{var r,n,i,s,a;if(e.menuState===1)return e;let o={...e,searchQuery:"",activationTrigger:(r=t.trigger)!=null?r:1,__demoMode:!1};if(t.focus===ri.Nothing)return{...o,activeItemIndex:null};if(t.focus===ri.Specific)return{...o,activeItemIndex:e.items.findIndex(d=>d.id===t.id)};if(t.focus===ri.Previous){let d=e.activeItemIndex;if(d!==null){let h=e.items[d].dataRef.current.domRef,f=gC(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(f!==null){let p=e.items[f].dataRef.current.domRef;if(((n=h.current)==null?void 0:n.previousElementSibling)===p.current||((i=p.current)==null?void 0:i.previousElementSibling)===null)return{...o,activeItemIndex:f}}}}else if(t.focus===ri.Next){let d=e.activeItemIndex;if(d!==null){let h=e.items[d].dataRef.current.domRef,f=gC(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(f!==null){let p=e.items[f].dataRef.current.domRef;if(((s=h.current)==null?void 0:s.nextElementSibling)===p.current||((a=p.current)==null?void 0:a.nextElementSibling)===null)return{...o,activeItemIndex:f}}}}let l=CZ(e),c=gC(t,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});return{...o,...l,activeItemIndex:c}},3:(e,t)=>{let r=e.searchQuery!==""?0:1,n=e.searchQuery+t.value.toLowerCase(),i=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(a=>{var o;return((o=a.dataRef.current.textValue)==null?void 0:o.startsWith(n))&&!a.dataRef.current.disabled}),s=i?e.items.indexOf(i):-1;return s===-1||s===e.activeItemIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeItemIndex:s,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let r=e.items.concat(t.items.map(i=>i)),n=e.activeItemIndex;return e.pendingFocus.focus!==ri.Nothing&&(n=gC(e.pendingFocus,{resolveItems:()=>r,resolveActiveIndex:()=>e.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...e,items:r,activeItemIndex:n,pendingFocus:{focus:ri.Nothing},pendingShouldSort:!0}},6:(e,t)=>{let r=e.items,n=[],i=new Set(t.items);for(let[s,a]of r.entries())if(i.has(a.id)&&(n.push(s),i.delete(a.id),i.size===0))break;if(n.length>0){r=r.slice();for(let s of n.reverse())r.splice(s,1)}return{...e,items:r,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element},9:e=>e.pendingShouldSort?{...e,...CZ(e),pendingShouldSort:!1}:e};class sF extends Dht{constructor(t){super(t),SZ(this,"actions",{registerItem:_Z(()=>{let r=[],n=new Set;return[(i,s)=>{n.has(s)||(n.add(s),r.push({id:i,dataRef:s}))},()=>(n.clear(),this.send({type:5,items:r.splice(0)}))]}),unregisterItem:_Z(()=>{let r=[];return[n=>r.push(n),()=>this.send({type:6,items:r.splice(0)})]})}),SZ(this,"selectors",{activeDescendantId(r){var n;let i=r.activeItemIndex,s=r.items;return i===null||(n=s[i])==null?void 0:n.id},isActive(r,n){var i;let s=r.activeItemIndex,a=r.items;return s!==null?((i=a[s])==null?void 0:i.id)===n:!1},shouldScrollIntoView(r,n){return r.__demoMode||r.menuState!==0||r.activationTrigger===0?!1:this.isActive(r,n)}}),this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})})}static new({__demoMode:t=!1}={}){return new sF({__demoMode:t,menuState:t?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:ri.Nothing}})}reduce(t,r){return Mw(r.type,ift,t,r)}}const Fge=gi(null);function aF(e){let t=Jn(Fge);if(t===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,zge),r}return t}function zge({__demoMode:e=!1}={}){return mr(()=>sF.new({__demoMode:e}),[])}let sft=Li;function aft(e,t){let{__demoMode:r=!1,...n}=e,i=zge({__demoMode:r}),[s,a,o]=bd(i,g=>[g.menuState,g.itemsElement,g.buttonElement]),l=Eu(t),c=s===Ui.Open;tdt(c,[o,a],(g,v)=>{var m;i.send({type:bn.CloseMenu}),JB(v,XB.Loose)||(g.preventDefault(),(m=i.state.buttonElement)==null||m.focus())});let d=mn(()=>{i.send({type:bn.CloseMenu})}),h=mr(()=>({open:s===Ui.Open,close:d}),[s,d]),f={ref:l},p=ha();return Di.createElement(Nht,null,Di.createElement(Fge.Provider,{value:i},Di.createElement(Iht,{value:Mw(s,{[Ui.Open]:Lb.Open,[Ui.Closed]:Lb.Closed})},p({ourProps:f,theirProps:n,slot:h,defaultTag:sft,name:"Menu"}))))}let oft="button";function lft(e,t){let r=aF("Menu.Button"),n=hl(),{id:i=`headlessui-menu-button-${n}`,disabled:s=!1,autoFocus:a=!1,...o}=e,l=yr(null),c=kht(),d=Eu(t,l,Cht(),mn(C=>r.send({type:bn.SetButtonElement,element:C}))),h=mn(C=>{switch(C.key){case zi.Space:case zi.Enter:case zi.ArrowDown:C.preventDefault(),C.stopPropagation(),r.send({type:bn.OpenMenu,focus:{focus:ri.First}});break;case zi.ArrowUp:C.preventDefault(),C.stopPropagation(),r.send({type:bn.OpenMenu,focus:{focus:ri.Last}});break}}),f=mn(C=>{switch(C.key){case zi.Space:C.preventDefault();break}}),[p,g]=bd(r,C=>[C.menuState,C.itemsElement]),v=mn(C=>{var E;if(C.button===0){if(Eut(C.currentTarget))return C.preventDefault();s||(p===Ui.Open?(yu(()=>r.send({type:bn.CloseMenu})),(E=l.current)==null||E.focus({preventScroll:!0})):(C.preventDefault(),r.send({type:bn.OpenMenu,focus:{focus:ri.Nothing},trigger:RT.Pointer})))}}),{isFocusVisible:m,focusProps:y}=YB({autoFocus:a}),{isHovered:x,hoverProps:_}=qB({isDisabled:s}),{pressed:b,pressProps:w}=age({disabled:s}),S=mr(()=>({open:p===Ui.Open,active:b||p===Ui.Open,disabled:s,hover:x,focus:m,autofocus:a}),[p,x,m,b,s,a]),k=L2(c(),{ref:d,id:i,type:rdt(e,l.current),"aria-haspopup":"menu","aria-controls":g==null?void 0:g.id,"aria-expanded":p===Ui.Open,disabled:s||void 0,autoFocus:a,onKeyDown:h,onKeyUp:f,onMouseDown:v},y,_,w);return ha()({ourProps:k,theirProps:o,slot:S,defaultTag:oft,name:"Menu.Button"})}let cft="div",uft=wO.RenderStrategy|wO.Static;function dft(e,t){let r=hl(),{id:n=`headlessui-menu-items-${r}`,anchor:i,portal:s=!1,modal:a=!0,transition:o=!1,...l}=e,c=Sht(i),d=aF("Menu.Items"),[h,f]=Tht(c),p=Eht(),[g,v]=rn(null),m=Eu(t,c?h:null,mn(M=>d.send({type:bn.SetItemsElement,element:M})),v),[y,x]=bd(d,M=>[M.menuState,M.buttonElement]),_=EO(x),b=EO(g);c&&(s=!0);let w=Rht(),[S,k]=fdt(o,g,w!==null?(w&Lb.Open)===Lb.Open:y===Ui.Open);zut(S,x,()=>{d.send({type:bn.CloseMenu})});let C=bd(d,M=>M.__demoMode),E=C?!1:a&&y===Ui.Open;ldt(E,b);let T=C?!1:a&&y===Ui.Open;Fut(T,{allowed:Er(()=>[x,g],[x,g])});let N=y!==Ui.Open,R=Qht(N,x)?!1:S;On(()=>{let M=g;M&&y===Ui.Open&&M!==(b==null?void 0:b.activeElement)&&M.focus({preventScroll:!0})},[y,g,b]),vdt(y===Ui.Open,{container:g,accept(M){return M.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:M.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(M){M.setAttribute("role","none")}});let P=M2(),D=mn(M=>{var I,z,U;switch(P.dispose(),M.key){case zi.Space:if(d.state.searchQuery!=="")return M.preventDefault(),M.stopPropagation(),d.send({type:bn.Search,value:M.key});case zi.Enter:if(M.preventDefault(),M.stopPropagation(),d.state.activeItemIndex!==null){let{dataRef:F}=d.state.items[d.state.activeItemIndex];(z=(I=F.current)==null?void 0:I.domRef.current)==null||z.click()}d.send({type:bn.CloseMenu}),vge(d.state.buttonElement);break;case zi.ArrowDown:return M.preventDefault(),M.stopPropagation(),d.send({type:bn.GoToItem,focus:ri.Next});case zi.ArrowUp:return M.preventDefault(),M.stopPropagation(),d.send({type:bn.GoToItem,focus:ri.Previous});case zi.Home:case zi.PageUp:return M.preventDefault(),M.stopPropagation(),d.send({type:bn.GoToItem,focus:ri.First});case zi.End:case zi.PageDown:return M.preventDefault(),M.stopPropagation(),d.send({type:bn.GoToItem,focus:ri.Last});case zi.Escape:M.preventDefault(),M.stopPropagation(),yu(()=>d.send({type:bn.CloseMenu})),(U=d.state.buttonElement)==null||U.focus({preventScroll:!0});break;case zi.Tab:M.preventDefault(),M.stopPropagation(),yu(()=>d.send({type:bn.CloseMenu})),Zut(d.state.buttonElement,M.shiftKey?kO.Previous:kO.Next);break;default:M.key.length===1&&(d.send({type:bn.Search,value:M.key}),P.setTimeout(()=>d.send({type:bn.ClearSearch}),350));break}}),$=mn(M=>{switch(M.key){case zi.Space:M.preventDefault();break}}),L=mr(()=>({open:y===Ui.Open}),[y]),O=L2(c?p():{},{"aria-activedescendant":bd(d,d.selectors.activeDescendantId),"aria-labelledby":bd(d,M=>{var I;return(I=M.buttonElement)==null?void 0:I.id}),id:n,onKeyDown:D,onKeyUp:$,role:"menu",tabIndex:y===Ui.Open?0:void 0,ref:m,style:{...l.style,...f,"--button-width":$ut(x,!0).width},...hdt(k)}),j=ha();return Di.createElement(Jht,{enabled:s?e.static||S:!1,ownerDocument:_},j({ourProps:O,theirProps:l,slot:L,defaultTag:cft,features:uft,visible:R,name:"Menu.Items"}))}let hft=Li;function fft(e,t){let r=hl(),{id:n=`headlessui-menu-item-${r}`,disabled:i=!1,...s}=e,a=aF("Menu.Item"),o=bd(a,N=>a.selectors.isActive(N,n)),l=yr(null),c=Eu(t,l),d=bd(a,N=>a.selectors.shouldScrollIntoView(N,n));fi(()=>{if(d)return fl().requestAnimationFrame(()=>{var N,R;(R=(N=l.current)==null?void 0:N.scrollIntoView)==null||R.call(N,{block:"nearest"})})},[d,l]);let h=tft(l),f=yr({disabled:i,domRef:l,get textValue(){return h()}});fi(()=>{f.current.disabled=i},[f,i]),fi(()=>(a.actions.registerItem(n,f),()=>a.actions.unregisterItem(n)),[f,n]);let p=mn(()=>{a.send({type:bn.CloseMenu})}),g=mn(N=>{if(i)return N.preventDefault();a.send({type:bn.CloseMenu}),vge(a.state.buttonElement)}),v=mn(()=>{if(i)return a.send({type:bn.GoToItem,focus:ri.Nothing});a.send({type:bn.GoToItem,focus:ri.Specific,id:n})}),m=cdt(),y=mn(N=>{m.update(N),!i&&(o||a.send({type:bn.GoToItem,focus:ri.Specific,id:n,trigger:RT.Pointer}))}),x=mn(N=>{m.wasMoved(N)&&(i||o||a.send({type:bn.GoToItem,focus:ri.Specific,id:n,trigger:RT.Pointer}))}),_=mn(N=>{m.wasMoved(N)&&(i||o&&a.send({type:bn.GoToItem,focus:ri.Nothing}))}),[b,w]=hge(),[S,k]=jut(),C=mr(()=>({active:o,focus:o,disabled:i,close:p}),[o,i,p]),E={id:n,ref:c,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":b,"aria-describedby":S,disabled:void 0,onClick:g,onFocus:v,onPointerEnter:y,onMouseEnter:y,onPointerMove:x,onMouseMove:x,onPointerLeave:_,onMouseLeave:_},T=ha();return Di.createElement(w,null,Di.createElement(k,null,T({ourProps:E,theirProps:s,slot:C,defaultTag:hft,name:"Menu.Item"})))}let pft="div";function gft(e,t){let[r,n]=hge(),i=e,s={ref:t,"aria-labelledby":r,role:"group"},a=ha();return Di.createElement(n,null,a({ourProps:s,theirProps:i,slot:{},defaultTag:pft,name:"Menu.Section"}))}let mft="header";function vft(e,t){let r=hl(),{id:n=`headlessui-menu-heading-${r}`,...i}=e,s=KB();fi(()=>s.register(n),[n,s.register]);let a={id:n,ref:t,role:"presentation",...s.props};return ha()({ourProps:a,theirProps:i,slot:{},defaultTag:mft,name:"Menu.Heading"})}let yft="div";function xft(e,t){let r=e,n={ref:t,role:"separator"};return ha()({ourProps:n,theirProps:r,slot:{},defaultTag:yft,name:"Menu.Separator"})}let _ft=fa(aft),Uge=fa(lft),Hge=fa(dft),oF=fa(fft),bft=fa(gft),wft=fa(vft),Sft=fa(xft);Object.assign(_ft,{Button:Uge,Items:Hge,Item:oF,Section:bft,Heading:wft,Separator:Sft});let Cft="textarea";function kft(e,t){let r=hl(),n=lge(),i=P2(),{id:s=n||`headlessui-textarea-${r}`,disabled:a=i||!1,autoFocus:o=!1,invalid:l=!1,...c}=e,d=dge(),h=Aut(),{isFocused:f,focusProps:p}=YB({autoFocus:o}),{isHovered:g,hoverProps:v}=qB({isDisabled:a}),m=L2({ref:t,id:s,"aria-labelledby":d,"aria-describedby":h,"aria-invalid":l?"true":void 0,disabled:a||void 0,autoFocus:o},p,v),y=mr(()=>({disabled:a,invalid:l,hover:g,focus:f,autofocus:o}),[a,l,g,f,o]);return ha()({ourProps:m,theirProps:c,slot:y,defaultTag:Cft,name:"Textarea"})}fa(kft);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eft=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Tft=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),kZ=e=>{const t=Tft(e);return t.charAt(0).toUpperCase()+t.slice(1)},Vge=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),Nft=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Aft={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jft=xc(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},l)=>fs("svg",{ref:l,...Aft,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Vge("lucide",i),...!s&&!Nft(o)&&{"aria-hidden":"true"},...o},[...a.map(([c,d])=>fs(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=(e,t)=>{const r=xc(({className:n,...i},s)=>fs(jft,{ref:s,iconNode:t,className:Vge(`lucide-${Eft(kZ(e))}`,`lucide-${e}`,n),...i}));return r.displayName=kZ(e),r};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rft=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ift=Hp("chevron-down",Rft);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mft=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Pft=Hp("chevron-up",Mft);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lft=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]];Hp("ellipsis",Lft);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dft=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]];Hp("minimize-2",Dft);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oft=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$ft=Hp("plus",Oft);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bft=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]];Hp("send",Bft);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fft=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]];Hp("trash-2",Fft);Up(()=>{const{chatAreaState:e}=VB();return e==="hidden"?null:Yr(zft,{children:[Yr(Uft,{}),e==="compact"&&Yr(Hft,{}),e==="expanded"&&Yr(Vft,{})]})});const zft=Up(({children:e})=>Yr("div",{className:"h-auto w-full overflow-x-hidden",children:e})),Uft=Up(()=>{const{chatAreaState:e,setChatAreaState:t,stopPromptCreation:r}=VB(),n=Er(()=>{t(e==="compact"?"expanded":"compact")},[e,t]),i=Er(()=>{r(),t("hidden")},[t,r]);return Yr("div",{className:"flex w-full flex-row items-center justify-center rounded-t-3xl px-3 py-1",children:[Yr(xv,{className:"size-5 bg-transparent text-muted-foreground/30 transition-colors duration-100 hover:text-muted-foreground",onClick:n,children:e==="compact"?Yr(Pft,{className:"size-5"}):Yr(Ift,{className:"size-5"})}),Yr(xv,{className:"absolute right-2 flex h-fit w-fit flex-row items-center gap-1 bg-transparent p-1 text-xs text-zinc-950 opacity-50 transition-all duration-100 hover:opacity-100",onClick:i,children:["Close menu",Yr("div",{className:"rounded-md bg-zinc-600 px-0.5 py-0 text-xs text-zinc-50",children:"esc"})]})]})}),Hft=Up(()=>Yr("div",{className:"flex w-full flex-col gap-1 p-3",children:Yr("span",{className:"text-sm text-zinc-950/50",children:"This is the compact chat area... Showing just the last response from the assistant."})})),Vft=Up(()=>{const{chats:e,currentChatId:t,setCurrentChat:r,createChat:n}=VB(),i=e.find(l=>l.id===t),s=e.some(l=>l.id==="new_chat"),a=Er(()=>{n()},[n]),o=Er(l=>{r(l)},[r]);return Yr("div",{className:"flex max-h-[50vh] w-full flex-col gap-3 p-3 pb-0",children:[Yr("div",{className:"flex flex-1 flex-col gap-2 overflow-y-auto p-1",children:i==null?void 0:i.messages.map(l=>Yr("div",{className:`flex ${l.sender==="assistant"?"justify-start":"justify-end"}`,children:Yr("div",{className:`max-w-[80%] rounded-xl px-2 py-1 text-sm ${l.sender==="assistant"?"bg-zinc-950/5 text-zinc-950":"bg-blue-600 text-white"}`,children:l.content})},l.id))}),Yr("div",{className:"flex flex-row items-center justify-start gap-2 overflow-x-auto overflow-y-visible border-border/10 border-t pt-2 pb-2",children:[!s&&Yr(xv,{className:"h-6 flex-shrink-0 rounded-full bg-zinc-950/5 px-2 font-semibold text-foreground text-xs",onClick:a,children:Yr($ft,{className:"size-3"})}),e.map(l=>Yr(xv,{className:xp("h-5 max-w-48 flex-shrink-0 overflow-hidden truncate rounded-full bg-zinc-950/5 px-2 text-muted-foreground text-xs",l.id===t&&"bg-white/60 text-zinc-950 shadow-blue-600/50 shadow-sm"),onClick:()=>o(l.id),children:l.title||"New chat"},l.id))]})]})});var Wft="undefined",Gft="object",mC="browser",EZ="cpu",TZ="device",eM="engine",vC="os",nd="name",IT="type",jO="vendor",Lo="version",RO="architecture",IO="major",MO="model",qft="console",Yft="mobile",Kft="tablet",Zft="smarttv",Xft="wearable",Jft="embedded",Qft=typeof window!==Wft,tM=Qft&&window.navigator?window.navigator:void 0;tM&&tM.userAgentData&&tM.userAgentData;var U2=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},yC=function(e){for(var t in e){var r=e[t];typeof r==Gft&&r.length==2?this[r[0]]=r[1]:this[r]=void 0}return this};(function(){var e={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}};return yC.call(e.init,[[mC,[nd,Lo,IO,IT]],[EZ,[RO]],[TZ,[IT,MO,jO]],[eM,[nd,Lo]],[vC,[nd,Lo]]]),yC.call(e.isIgnore,[[mC,[Lo,IO]],[eM,[Lo]],[vC,[Lo]]]),yC.call(e.isIgnoreRgx,[[mC,/ ?browser$/i],[vC,/ ?os$/i]]),yC.call(e.toString,[[mC,[nd,Lo]],[EZ,[RO]],[TZ,[jO,MO]],[eM,[nd,Lo]],[vC,[nd,Lo]]]),e})();U2([nd,Lo,IO,IT]);U2([RO]);U2([MO,jO,IT,qft,Yft,Zft,Kft,Xft,Jft]);U2([nd,Lo]);xc((e,t)=>Yr(Uge,{as:Li,ref:t,...e}));xc((e,t)=>Yr(Hge,{ref:t,anchor:"bottom",transition:!0,portal:!0,...e,className:xp("z-50 flex w-fit min-w-24 max-w-90 flex-col items-stretch justify-start gap-1 rounded-lg border border-border/30 border-solid bg-background/60 p-1 shadow-black/50 shadow-lg outline-none backdrop-blur-md data-focus:outline-none",e.className)}));const Wge="w-full flex flex-row select-none items-center justify-start gap-2 p-2 pr-6 truncate overflow-hidden rounded-md hover:bg-zinc-950/10 focus:text-zinc-900 cursor-pointer transition-color duration-150 text-sm font-normal text-foreground";xc((e,t)=>Yr(oF,{ref:t,children:Yr(xv,{...e,className:xp(Wge,e.className)})}));xc((e,t)=>Yr(oF,{ref:t,children:Yr("a",{...e,className:xp(Wge,e.className)})}));function ept(e){return Yr("div",{className:"flex h-full shrink-0 items-center justify-center",children:[e.children,e.badgeContent&&Yr("div",{className:xp("bg-blue-600 text-white",e.badgeClassName,"-bottom-0.5 -right-1 pointer-events-none absolute flex h-4 w-max min-w-4 max-w-8 select-none items-center justify-center truncate rounded-full px-1 font-semibold text-xs"),children:e.badgeContent}),e.statusDot&&Yr("div",{className:xp("bg-rose-600",e.statusDotClassName,"pointer-events-none absolute top-0 right-0 size-1.5 rounded-full")})]})}const tpt=xc(({badgeContent:e,badgeClassName:t,statusDot:r,statusDotClassName:n,tooltipHint:i,variant:s="default",...a},o)=>{const l=Yr(xv,{ref:o,...a,className:xp("flex items-center justify-center rounded-full p-1 text-zinc-950 hover:bg-zinc-950/5",s==="default"?"size-8":"h-8 rounded-full")});return Yr(ept,{badgeContent:e,badgeClassName:t,statusDot:r,statusDotClassName:n,children:l})});tpt.displayName="ToolbarButton";gi(null);window.addEventListener("error",e=>{console.error("Global error caught:",e.error)});window.addEventListener("unhandledrejection",e=>{console.error("Unhandled Promise rejection:",e.reason)});rM.createRoot(document.getElementById("root")).render(u.jsx(Wr.StrictMode,{children:u.jsx(xye,{children:u.jsx(Gat,{})})}));export{bv as g};
